(function(){
shadow$provide[3]=function(G,y,X,g){g.__esModule=!0;g.useThreestrap=void 0;var A=y(0),u=(0,A.createContext)(null);g["default"]=u;g.useThreestrap=function(){var m=(0,A.useContext)(u);if(!m)throw Error("Threestrap context is not available");return m}};
shadow$provide[4]=function(G,y,X,g){g.__esModule=!0;var A=y(0),u=y(3);g["default"]=function(m){var e=(0,u.useThreestrap)();(0,A.useEffect)(function(){m.clearColor&&e.renderer.setClearColor(m.clearColor)});return null}};
shadow$provide[5]=function(G,y,X,g){g.__esModule=!0;var A=y(0),u=y(3),m=["orbit"],e=function(c,h){var l=h.type,n=h.enablePan,p=h.enableRotate,v=h.enableZoom,w=h.onStart,z=h.onEnd;(0,A.useEffect)(function(){if("orbit"===l&&c.controls){var x=c.controls;void 0!==n&&(x.enablePan=n);void 0!==v&&(x.enableZoom=v);void 0!==p&&(x.enableRotate=p)}},[l,n,p,v,c.controls]);(0,A.useEffect)(function(){if("orbit"!==l||!c.controls)return function(){};var x=c.controls;w&&x.addEventListener("start",w);return function(){w&&
x.removeEventListener("start",w)}},[l,w,c.controls]);(0,A.useEffect)(function(){if("orbit"!==l||!c.controls)return function(){};var x=c.controls;z&&x.addEventListener("end",z);return function(){z&&x.removeEventListener("end",z)}},[l,z,c.controls])};g["default"]=function(c){if(!m.includes(c.type))throw Error("Invalid control type ".concat(c.type));var h=(0,u.useThreestrap)();e(h,c);return null}};
shadow$provide[6]=function(G,y,X,g){G=this&&this.__createBinding||(Object.create?function(A,u,m,e){void 0===e&&(e=m);var c=Object.getOwnPropertyDescriptor(u,m);if(!c||("get"in c?!u.__esModule:c.writable||c.configurable))c={enumerable:!0,get:function(){return u[m]}};Object.defineProperty(A,e,c)}:function(A,u,m,e){void 0===e&&(e=m);A[e]=u[m]});g.__esModule=!0;g.useThreestrap=g.Controls=g.Renderer=void 0;X=y(4);G(g,X,"default","Renderer");X=y(5);G(g,X,"default","Controls");y=y(3);G(g,y,"useThreestrap")};
shadow$provide[7]=function(G,y,X,g){g.__esModule=!0;g.useMathbox=void 0;var A=y(0),u=(0,A.createContext)(null);g.useMathbox=function(){var m=(0,A.useContext)(u);if(!m)throw Error("useMathbox must be used within Mathbox or ContainedMathbox");return m};g["default"]=u};
shadow$provide[8]=function(G,y,X,g){X.exports=function(){this.__data__=[];this.size=0}};
shadow$provide[9]=function(G,y,X,g){X.exports=function(A,u){return A===u||A!==A&&u!==u}};
shadow$provide[10]=function(G,y,X,g){var A=y(9);X.exports=function(u,m){for(var e=u.length;e--;)if(A(u[e][0],m))return e;return-1}};
shadow$provide[11]=function(G,y,X,g){var A=y(10),u=Array.prototype.splice;X.exports=function(m){var e=this.__data__;m=A(e,m);if(0>m)return!1;m==e.length-1?e.pop():u.call(e,m,1);--this.size;return!0}};
shadow$provide[12]=function(G,y,X,g){var A=y(10);X.exports=function(u){var m=this.__data__;u=A(m,u);return 0>u?void 0:m[u][1]}};
shadow$provide[13]=function(G,y,X,g){var A=y(10);X.exports=function(u){return-1<A(this.__data__,u)}};
shadow$provide[14]=function(G,y,X,g){var A=y(10);X.exports=function(u,m){var e=this.__data__,c=A(e,u);0>c?(++this.size,e.push([u,m])):e[c][1]=m;return this}};
shadow$provide[15]=function(G,y,X,g){function A(e){var c=-1,h=null==e?0:e.length;for(this.clear();++c<h;){var l=e[c];this.set(l[0],l[1])}}G=y(8);g=y(11);var u=y(12),m=y(13);y=y(14);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=u;A.prototype.has=m;A.prototype.set=y;X.exports=A};
shadow$provide[16]=function(G,y,X,g){var A=y(15);X.exports=function(){this.__data__=new A;this.size=0}};
shadow$provide[17]=function(G,y,X,g){X.exports=function(A){var u=this.__data__;A=u["delete"](A);this.size=u.size;return A}};
shadow$provide[18]=function(G,y,X,g){X.exports=function(A){return this.__data__.get(A)}};
shadow$provide[19]=function(G,y,X,g){X.exports=function(A){return this.__data__.has(A)}};
shadow$provide[20]=function(G,y,X,g){X.exports="object"==typeof G&&G&&G.Object===Object&&G};
shadow$provide[21]=function(G,y,X,g){G=y(20);y="object"==typeof self&&self&&self.Object===Object&&self;G=G||y||Function("return this")();X.exports=G};
shadow$provide[22]=function(G,y,X,g){G=y(21).Symbol;X.exports=G};
shadow$provide[23]=function(G,y,X,g){G=y(22);y=Object.prototype;var A=y.hasOwnProperty,u=y.toString,m=G?G.toStringTag:void 0;X.exports=function(e){var c=A.call(e,m),h=e[m];try{e[m]=void 0;var l=!0}catch(p){}var n=u.call(e);l&&(c?e[m]=h:delete e[m]);return n}};
shadow$provide[24]=function(G,y,X,g){var A=Object.prototype.toString;X.exports=function(u){return A.call(u)}};
shadow$provide[25]=function(G,y,X,g){G=y(22);var A=y(23),u=y(24),m=G?G.toStringTag:void 0;X.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":m&&m in Object(e)?A(e):u(e)}};
shadow$provide[26]=function(G,y,X,g){X.exports=function(A){var u=typeof A;return null!=A&&("object"==u||"function"==u)}};
shadow$provide[27]=function(G,y,X,g){var A=y(25),u=y(26);X.exports=function(m){if(!u(m))return!1;m=A(m);return"[object Function]"==m||"[object GeneratorFunction]"==m||"[object AsyncFunction]"==m||"[object Proxy]"==m}};
shadow$provide[28]=function(G,y,X,g){G=y(21)["__core-js_shared__"];X.exports=G};
shadow$provide[29]=function(G,y,X,g){var A=y(28),u=function(){var m=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}();X.exports=function(m){return!!u&&u in m}};
shadow$provide[30]=function(G,y,X,g){var A=Function.prototype.toString;X.exports=function(u){if(null!=u){try{return A.call(u)}catch(m){}return u+""}return""}};
shadow$provide[31]=function(G,y,X,g){var A=y(27),u=y(29),m=y(26),e=y(30),c=/^\[object .+?Constructor\]$/,h=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");X.exports=function(l){return!m(l)||u(l)?!1:(A(l)?h:c).test(e(l))}};
shadow$provide[32]=function(G,y,X,g){X.exports=function(A,u){return null==A?void 0:A[u]}};
shadow$provide[33]=function(G,y,X,g){var A=y(31),u=y(32);X.exports=function(m,e){m=u(m,e);return A(m)?m:void 0}};
shadow$provide[34]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"Map");X.exports=y};
shadow$provide[35]=function(G,y,X,g){G=y(33)(Object,"create");X.exports=G};
shadow$provide[36]=function(G,y,X,g){var A=y(35);X.exports=function(){this.__data__=A?A(null):{};this.size=0}};
shadow$provide[37]=function(G,y,X,g){X.exports=function(A){A=this.has(A)&&delete this.__data__[A];this.size-=A?1:0;return A}};
shadow$provide[38]=function(G,y,X,g){var A=y(35),u=Object.prototype.hasOwnProperty;X.exports=function(m){var e=this.__data__;return A?(m=e[m],"__lodash_hash_undefined__"===m?void 0:m):u.call(e,m)?e[m]:void 0}};
shadow$provide[39]=function(G,y,X,g){var A=y(35),u=Object.prototype.hasOwnProperty;X.exports=function(m){var e=this.__data__;return A?void 0!==e[m]:u.call(e,m)}};
shadow$provide[40]=function(G,y,X,g){var A=y(35);X.exports=function(u,m){var e=this.__data__;this.size+=this.has(u)?0:1;e[u]=A&&void 0===m?"__lodash_hash_undefined__":m;return this}};
shadow$provide[41]=function(G,y,X,g){function A(e){var c=-1,h=null==e?0:e.length;for(this.clear();++c<h;){var l=e[c];this.set(l[0],l[1])}}G=y(36);g=y(37);var u=y(38),m=y(39);y=y(40);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=u;A.prototype.has=m;A.prototype.set=y;X.exports=A};
shadow$provide[42]=function(G,y,X,g){var A=y(41),u=y(15),m=y(34);X.exports=function(){this.size=0;this.__data__={hash:new A,map:new (m||u),string:new A}}};
shadow$provide[43]=function(G,y,X,g){X.exports=function(A){var u=typeof A;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==A:null===A}};
shadow$provide[44]=function(G,y,X,g){var A=y(43);X.exports=function(u,m){u=u.__data__;return A(m)?u["string"==typeof m?"string":"hash"]:u.map}};
shadow$provide[45]=function(G,y,X,g){var A=y(44);X.exports=function(u){u=A(this,u)["delete"](u);this.size-=u?1:0;return u}};
shadow$provide[46]=function(G,y,X,g){var A=y(44);X.exports=function(u){return A(this,u).get(u)}};
shadow$provide[47]=function(G,y,X,g){var A=y(44);X.exports=function(u){return A(this,u).has(u)}};
shadow$provide[48]=function(G,y,X,g){var A=y(44);X.exports=function(u,m){var e=A(this,u),c=e.size;e.set(u,m);this.size+=e.size==c?0:1;return this}};
shadow$provide[49]=function(G,y,X,g){function A(e){var c=-1,h=null==e?0:e.length;for(this.clear();++c<h;){var l=e[c];this.set(l[0],l[1])}}G=y(42);g=y(45);var u=y(46),m=y(47);y=y(48);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=u;A.prototype.has=m;A.prototype.set=y;X.exports=A};
shadow$provide[50]=function(G,y,X,g){var A=y(15),u=y(34),m=y(49);X.exports=function(e,c){var h=this.__data__;if(h instanceof A){var l=h.__data__;if(!u||199>l.length)return l.push([e,c]),this.size=++h.size,this;h=this.__data__=new m(l)}h.set(e,c);this.size=h.size;return this}};
shadow$provide[51]=function(G,y,X,g){function A(c){this.size=(this.__data__=new u(c)).size}var u=y(15);G=y(16);g=y(17);var m=y(18),e=y(19);y=y(50);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=m;A.prototype.has=e;A.prototype.set=y;X.exports=A};
shadow$provide[52]=function(G,y,X,g){X.exports=function(A){this.__data__.set(A,"__lodash_hash_undefined__");return this}};
shadow$provide[53]=function(G,y,X,g){X.exports=function(A){return this.__data__.has(A)}};
shadow$provide[54]=function(G,y,X,g){function A(m){var e=-1,c=null==m?0:m.length;for(this.__data__=new u;++e<c;)this.add(m[e])}var u=y(49);G=y(52);y=y(53);A.prototype.add=A.prototype.push=G;A.prototype.has=y;X.exports=A};
shadow$provide[55]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=null==A?0:A.length;++m<e;)if(u(A[m],m,A))return!0;return!1}};
shadow$provide[56]=function(G,y,X,g){X.exports=function(A,u){return A.has(u)}};
shadow$provide[57]=function(G,y,X,g){var A=y(54),u=y(55),m=y(56);X.exports=function(e,c,h,l,n,p){var v=h&1,w=e.length,z=c.length;if(w!=z&&!(v&&z>w))return!1;z=p.get(e);var x=p.get(c);if(z&&x)return z==c&&x==e;z=-1;x=!0;var E=h&2?new A:void 0;p.set(e,c);for(p.set(c,e);++z<w;){var H=e[z],I=c[z];if(l)var N=v?l(I,H,z,c,e,p):l(H,I,z,e,c,p);if(void 0!==N){if(N)continue;x=!1;break}if(E){if(!u(c,function(Q,V){if(!m(E,V)&&(H===Q||n(H,Q,h,l,p)))return E.push(V)})){x=!1;break}}else if(H!==I&&!n(H,I,h,l,p)){x=
!1;break}}p["delete"](e);p["delete"](c);return x}};
shadow$provide[58]=function(G,y,X,g){G=y(21).Uint8Array;X.exports=G};
shadow$provide[59]=function(G,y,X,g){X.exports=function(A){var u=-1,m=Array(A.size);A.forEach(function(e,c){m[++u]=[c,e]});return m}};
shadow$provide[60]=function(G,y,X,g){X.exports=function(A){var u=-1,m=Array(A.size);A.forEach(function(e){m[++u]=e});return m}};
shadow$provide[61]=function(G,y,X,g){G=y(22);var A=y(58),u=y(9),m=y(57),e=y(59),c=y(60),h=(y=G?G.prototype:void 0)?y.valueOf:void 0;X.exports=function(l,n,p,v,w,z,x){switch(p){case "[object DataView]":if(l.byteLength!=n.byteLength||l.byteOffset!=n.byteOffset)break;l=l.buffer;n=n.buffer;case "[object ArrayBuffer]":if(l.byteLength!=n.byteLength||!z(new A(l),new A(n)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return u(+l,+n);case "[object Error]":return l.name==
n.name&&l.message==n.message;case "[object RegExp]":case "[object String]":return l==n+"";case "[object Map]":var E=e;case "[object Set]":E||(E=c);if(l.size!=n.size&&!(v&1))break;if(p=x.get(l))return p==n;v|=2;x.set(l,n);n=m(E(l),E(n),v,w,z,x);x["delete"](l);return n;case "[object Symbol]":if(h)return h.call(l)==h.call(n)}return!1}};
shadow$provide[62]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=u.length,c=A.length;++m<e;)A[c+m]=u[m];return A}};
shadow$provide[63]=function(G,y,X,g){X.exports=Array.isArray};
shadow$provide[64]=function(G,y,X,g){var A=y(62),u=y(63);X.exports=function(m,e,c){e=e(m);return u(m)?e:A(e,c(m))}};
shadow$provide[65]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=null==A?0:A.length,c=0,h=[];++m<e;){var l=A[m];u(l,m,A)&&(h[c++]=l)}return h}};
shadow$provide[66]=function(G,y,X,g){X.exports=function(){return[]}};
shadow$provide[67]=function(G,y,X,g){var A=y(65);G=y(66);var u=Object.prototype.propertyIsEnumerable,m=Object.getOwnPropertySymbols;X.exports=m?function(e){if(null==e)return[];e=Object(e);return A(m(e),function(c){return u.call(e,c)})}:G};
shadow$provide[68]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=Array(A);++m<A;)e[m]=u(m);return e}};
shadow$provide[69]=function(G,y,X,g){X.exports=function(A){return null!=A&&"object"==typeof A}};
shadow$provide[70]=function(G,y,X,g){var A=y(25),u=y(69);X.exports=function(m){return u(m)&&"[object Arguments]"==A(m)}};
shadow$provide[71]=function(G,y,X,g){G=y(70);var A=y(69);y=Object.prototype;var u=y.hasOwnProperty,m=y.propertyIsEnumerable;y=G(function(){return arguments}())?G:function(e){return A(e)&&u.call(e,"callee")&&!m.call(e,"callee")};X.exports=y};
shadow$provide[72]=function(G,y,X,g){X.exports=function(){return!1}};
shadow$provide[73]=function(G,y,X,g){G=y(21);y=y(72);var A=(g="object"==typeof g&&g&&!g.nodeType&&g)&&"object"==typeof X&&X&&!X.nodeType&&X;G=A&&A.exports===g?G.Buffer:void 0;X.exports=(G?G.isBuffer:void 0)||y};
shadow$provide[74]=function(G,y,X,g){var A=/^(?:0|[1-9]\d*)$/;X.exports=function(u,m){var e=typeof u;m=null==m?9007199254740991:m;return!!m&&("number"==e||"symbol"!=e&&A.test(u))&&-1<u&&0==u%1&&u<m}};
shadow$provide[75]=function(G,y,X,g){X.exports=function(A){return"number"==typeof A&&-1<A&&0==A%1&&9007199254740991>=A}};
shadow$provide[76]=function(G,y,X,g){var A=y(25),u=y(75),m=y(69),e={};e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0;e["[object Arguments]"]=e["[object Array]"]=e["[object ArrayBuffer]"]=e["[object Boolean]"]=e["[object DataView]"]=e["[object Date]"]=e["[object Error]"]=e["[object Function]"]=e["[object Map]"]=
e["[object Number]"]=e["[object Object]"]=e["[object RegExp]"]=e["[object Set]"]=e["[object String]"]=e["[object WeakMap]"]=!1;X.exports=function(c){return m(c)&&u(c.length)&&!!e[A(c)]}};
shadow$provide[77]=function(G,y,X,g){X.exports=function(A){return function(u){return A(u)}}};
shadow$provide[78]=function(G,y,X,g){G=y(20);G=(g=(y="object"==typeof g&&g&&!g.nodeType&&g)&&"object"==typeof X&&X&&!X.nodeType&&X)&&g.exports===y&&G.process;a:{try{var A=g&&g.require&&g.require("util").types;if(A){var u=A;break a}u=G&&G.binding&&G.binding("util");break a}catch(m){}u=void 0}X.exports=u};
shadow$provide[79]=function(G,y,X,g){G=y(76);g=y(77);y=(y=(y=y(78))&&y.isTypedArray)?g(y):G;X.exports=y};
shadow$provide[80]=function(G,y,X,g){var A=y(68),u=y(71),m=y(63),e=y(73),c=y(74),h=y(79),l=Object.prototype.hasOwnProperty;X.exports=function(n,p){var v=m(n),w=!v&&u(n),z=!v&&!w&&e(n),x=!v&&!w&&!z&&h(n);w=(v=v||w||z||x)?A(n.length,String):[];var E=w.length,H;for(H in n)!p&&!l.call(n,H)||v&&("length"==H||z&&("offset"==H||"parent"==H)||x&&("buffer"==H||"byteLength"==H||"byteOffset"==H)||c(H,E))||w.push(H);return w}};
shadow$provide[81]=function(G,y,X,g){var A=Object.prototype;X.exports=function(u){var m=u&&u.constructor;return u===("function"==typeof m&&m.prototype||A)}};
shadow$provide[82]=function(G,y,X,g){X.exports=function(A,u){return function(m){return A(u(m))}}};
shadow$provide[83]=function(G,y,X,g){G=y(82)(Object.keys,Object);X.exports=G};
shadow$provide[84]=function(G,y,X,g){var A=y(81),u=y(83),m=Object.prototype.hasOwnProperty;X.exports=function(e){if(!A(e))return u(e);var c=[],h;for(h in Object(e))m.call(e,h)&&"constructor"!=h&&c.push(h);return c}};
shadow$provide[85]=function(G,y,X,g){var A=y(27),u=y(75);X.exports=function(m){return null!=m&&u(m.length)&&!A(m)}};
shadow$provide[86]=function(G,y,X,g){var A=y(80),u=y(84),m=y(85);X.exports=function(e){return m(e)?A(e):u(e)}};
shadow$provide[87]=function(G,y,X,g){var A=y(64),u=y(67),m=y(86);X.exports=function(e){return A(e,m,u)}};
shadow$provide[88]=function(G,y,X,g){var A=y(87),u=Object.prototype.hasOwnProperty;X.exports=function(m,e,c,h,l,n){var p=c&1,v=A(m),w=v.length,z=A(e).length;if(w!=z&&!p)return!1;for(z=w;z--;){var x=v[z];if(!(p?x in e:u.call(e,x)))return!1}var E=n.get(m);x=n.get(e);if(E&&x)return E==e&&x==m;E=!0;n.set(m,e);n.set(e,m);for(var H=p;++z<w;){x=v[z];var I=m[x],N=e[x];if(h)var Q=p?h(N,I,x,e,m,n):h(I,N,x,m,e,n);if(void 0===Q?I!==N&&!l(I,N,c,h,n):!Q){E=!1;break}H||(H="constructor"==x)}E&&!H&&(c=m.constructor,
h=e.constructor,c!=h&&"constructor"in m&&"constructor"in e&&!("function"==typeof c&&c instanceof c&&"function"==typeof h&&h instanceof h)&&(E=!1));n["delete"](m);n["delete"](e);return E}};
shadow$provide[89]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"DataView");X.exports=y};
shadow$provide[90]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"Promise");X.exports=y};
shadow$provide[91]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"Set");X.exports=y};
shadow$provide[92]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"WeakMap");X.exports=y};
shadow$provide[93]=function(G,y,X,g){G=y(89);g=y(34);var A=y(90),u=y(91),m=y(92),e=y(25),c=y(30),h=c(G),l=c(g),n=c(A),p=c(u),v=c(m);y=e;if(G&&"[object DataView]"!=y(new G(new ArrayBuffer(1)))||g&&"[object Map]"!=y(new g)||A&&"[object Promise]"!=y(A.resolve())||u&&"[object Set]"!=y(new u)||m&&"[object WeakMap]"!=y(new m))y=function(w){var z=e(w);if(w=(w="[object Object]"==z?w.constructor:void 0)?c(w):"")switch(w){case h:return"[object DataView]";case l:return"[object Map]";case n:return"[object Promise]";
case p:return"[object Set]";case v:return"[object WeakMap]"}return z};X.exports=y};
shadow$provide[94]=function(G,y,X,g){var A=y(51),u=y(57),m=y(61),e=y(88),c=y(93),h=y(63),l=y(73),n=y(79),p=Object.prototype.hasOwnProperty;X.exports=function(v,w,z,x,E,H){var I=h(v),N=h(w),Q=I?"[object Array]":c(v),V=N?"[object Array]":c(w);Q="[object Arguments]"==Q?"[object Object]":Q;V="[object Arguments]"==V?"[object Object]":V;var ba="[object Object]"==Q;N="[object Object]"==V;if((V=Q==V)&&l(v)){if(!l(w))return!1;I=!0;ba=!1}if(V&&!ba)return H||(H=new A),I||n(v)?u(v,w,z,x,E,H):m(v,w,Q,z,x,E,H);
if(!(z&1)&&(I=ba&&p.call(v,"__wrapped__"),Q=N&&p.call(w,"__wrapped__"),I||Q))return v=I?v.value():v,w=Q?w.value():w,H||(H=new A),E(v,w,z,x,H);if(!V)return!1;H||(H=new A);return e(v,w,z,x,E,H)}};
shadow$provide[95]=function(G,y,X,g){function A(e,c,h,l,n){return e===c?!0:null==e||null==c||!m(e)&&!m(c)?e!==e&&c!==c:u(e,c,h,l,A,n)}var u=y(94),m=y(69);X.exports=A};
shadow$provide[96]=function(G,y,X,g){var A=y(95);X.exports=function(u,m){return A(u,m)}};
shadow$provide[97]=function(G,y,X,g){G=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};g.__esModule=!0;g.useDeepCompareMemo=g.capitalize=g.canNodeHaveChildren=g.isSelectionParent=g.isRootDestroyed=void 0;var A=G(y(96)),u=y(0);g.isRootDestroyed=function(e){for(;e._up;)e=e._up;return void 0===e.three};g.isSelectionParent=function(e,c){var h;return(null===(h=e._up)||void 0===h?void 0:h[0])===c[0]};var m="view cartesian cartesian4 polar spherical stereographic stereographic4 transform transform4 vertex fragment layer mask group inherit root unit rtt clock now move present reveal slide".split(" ");
g.canNodeHaveChildren=function(e){return m.includes(e)};g.capitalize=function(e){return e?e[0].toLocaleUpperCase()+e.slice(1):""};g.useDeepCompareMemo=function(e,c){var h=(0,u.useRef)(c);return(0,u.useMemo)(function(){return(0,A["default"])(e,h.current)?h.current:h.current=e},[e])}};
shadow$provide[98]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(l,n,p,v){void 0===v&&(v=p);var w=Object.getOwnPropertyDescriptor(n,p);if(!w||("get"in w?!n.__esModule:w.writable||w.configurable))w={enumerable:!0,get:function(){return n[p]}};Object.defineProperty(l,v,w)}:function(l,n,p,v){void 0===v&&(v=p);l[v]=n[p]}),u=this&&this.__setModuleDefault||(Object.create?function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}:function(l,n){l["default"]=n});
G=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var n={};if(null!=l)for(var p in l)"default"!==p&&Object.prototype.hasOwnProperty.call(l,p)&&A(n,l,p);u(n,l);return n};var m=this&&this.__rest||function(l,n){var p={},v;for(v in l)Object.prototype.hasOwnProperty.call(l,v)&&0>n.indexOf(v)&&(p[v]=l[v]);if(null!=l&&"function"===typeof Object.getOwnPropertySymbols){var w=0;for(v=Object.getOwnPropertySymbols(l);w<v.length;w++)0>n.indexOf(v[w])&&Object.prototype.propertyIsEnumerable.call(l,
v[w])&&(p[v[w]]=l[v[w]])}return p};X=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{"default":l}};g.__esModule=!0;g.Strip=g.Stereographic4=g.Stereographic=g.Step=g.Spread=g.Split=g.Spherical=g.Slide=g.Slice=g.Shader=g.Scale=g.Rtt=g.Reveal=g.Retext=g.Resample=g.Repeat=g.Readback=g.Present=g.Polar=g.Point=g.Play=g.Now=g.Move=g.Memo=g.Matrix=g.Mask=g.Line=g.Lerp=g.Layer=g.Label=g.Join=g.Interval=g.Inherit=g.Html=g.Grow=g.Group=g.Grid=g.Fragment=g.Format=g.Face=g.Dom=g.Compose=g.Clock=
g.Clamp=g.Cartesian4=g.Cartesian=g.Camera=g.Axis=g.Array=g.Area=void 0;g.Voxel=g.Volume=g.View=g.Vertex=g.Vector=g.Unit=g.Transpose=g.Transform4=g.Transform=g.Ticks=g.Text=g.Swizzle=g.Surface=g.Subdivide=void 0;var e=G(y(0)),c=X(y(7)),h=y(97);y=function(l){var n=(0,h.canNodeHaveChildren)(l),p=(0,h.capitalize)(l);return(0,e.forwardRef)(function(v,w){var z=(0,e.useReducer)(function(Q){return Q+1},0)[1],x=(0,e.useContext)(c["default"]),E=(0,e.useRef)(null),H=(0,e.useRef)(void 0);(0,e.useEffect)(function(){return function(){E.current&&
(E.current.remove(),E.current=null)}},[]);(0,e.useImperativeHandle)(w,function(){return E.current});var I=v.liveProps,N=m(v,["children","liveProps"]);(0,e.useEffect)(function(){x&&((0,h.isRootDestroyed)(x)?z():(E.current&&!(0,h.isSelectionParent)(E.current,x)&&(E.current.remove(),E.current=null,z()),E.current?(H.current&&I!==H.current&&Object.keys(H.current).forEach(function(Q){E.current.unbind(Q)}),I&&I!==H.current&&E.current.bind(I),E.current.set(N)):(E.current=x[l](N,I),z()),H.current=I))},[x,
N,I]);if(!n){if(v.children)throw Error("Component \x3c".concat(p," /\x3e cannot have children."));return null}return e["default"].createElement(c["default"].Provider,{value:E.current},v.children)})};g.Area=y("area");G=y("array");g.Array=G;g.Axis=y("axis");g.Camera=y("camera");g.Cartesian=y("cartesian");g.Cartesian4=y("cartesian4");g.Clamp=y("clamp");g.Clock=y("clock");g.Compose=y("compose");g.Dom=y("dom");g.Face=y("face");g.Format=y("format");g.Fragment=y("fragment");g.Grid=y("grid");g.Group=y("group");
g.Grow=y("grow");g.Html=y("html");g.Inherit=y("inherit");g.Interval=y("interval");g.Join=y("join");g.Label=y("label");g.Layer=y("layer");g.Lerp=y("lerp");g.Line=y("line");g.Mask=y("mask");g.Matrix=y("matrix");g.Memo=y("memo");g.Move=y("move");g.Now=y("now");g.Play=y("play");g.Point=y("point");g.Polar=y("polar");g.Present=y("present");g.Readback=y("readback");g.Repeat=y("repeat");g.Resample=y("resample");g.Retext=y("retext");g.Reveal=y("reveal");g.Rtt=y("rtt");g.Scale=y("scale");g.Shader=y("shader");
g.Slice=y("slice");g.Slide=y("slide");g.Spherical=y("spherical");g.Split=y("split");g.Spread=y("spread");g.Step=y("step");g.Stereographic=y("stereographic");g.Stereographic4=y("stereographic4");g.Strip=y("strip");g.Subdivide=y("subdivide");g.Surface=y("surface");g.Swizzle=y("swizzle");g.Text=y("text");g.Ticks=y("ticks");g.Transform=y("transform");g.Transform4=y("transform4");g.Transpose=y("transpose");g.Unit=y("unit");g.Vector=y("vector");g.Vertex=y("vertex");g.View=y("view");g.Volume=y("volume");
g.Voxel=y("voxel")};
shadow$provide[99]=function(ra,P,db,I){console.warn('Scripts "build/three.js" and "build/three.min.js" are deprecated with r150+, and will be removed with r160. Please use ES Modules or alternatives: https://threejs.org/docs/index.html#manual/en/introduction/Installation');(function(A,J){"object"===typeof I&&"undefined"!==typeof db?J(I):"function"===typeof define&&define.amd?define(["exports"],J):(A="undefined"!==typeof globalThis?globalThis:A||self,J(A.THREE={}))})(this,function(A){function J(){const a=
4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,e=4294967295*Math.random()|0;return(zd[a&255]+zd[a>>8&255]+zd[a>>16&255]+zd[a>>24&255]+"-"+zd[b&255]+zd[b>>8&255]+"-"+zd[b>>16&15|64]+zd[b>>24&255]+"-"+zd[c&63|128]+zd[c>>8&255]+"-"+zd[c>>16&255]+zd[c>>24&255]+zd[e&255]+zd[e>>8&255]+zd[e>>16&255]+zd[e>>24&255]).toLowerCase()}function r(a,b,c){return Math.max(b,Math.min(c,a))}function w(a,b){return(a%b+b)%b}function h(a,b,c){return(1-c)*a+c*b}function m(a){return 0===
(a&a-1)&&0!==a}function x(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function z(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function k(a,b){switch(b.constructor){case Float32Array:return a;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw Error("Invalid component type.");}}function p(a,b){switch(b.constructor){case Float32Array:return a;case Uint16Array:return Math.round(65535*
a);case Uint8Array:return Math.round(255*a);case Int16Array:return Math.round(32767*a);case Int8Array:return Math.round(127*a);default:throw Error("Invalid component type.");}}function B(a){for(let b=a.length-1;0<=b;--b)if(65535<=a[b])return!0;return!1}function t(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function u(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function C(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}function F(a){if("undefined"!==
typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap)return Le.getDataURL(a);if(a.data)return{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name};console.warn("THREE.Texture: Unable to serialize Texture.");return{}}function M(a,b,c,e,f){for(let l=0,n=a.length-3;l<=n;l+=3){Ze.fromArray(a,l);const v=f.x*Math.abs(Ze.x)+f.y*Math.abs(Ze.y)+
f.z*Math.abs(Ze.z),E=b.dot(Ze),G=c.dot(Ze),R=e.dot(Ze);if(Math.max(-Math.max(E,G,R),Math.min(E,G,R))>v)return!1}return!0}function T(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a}function N(a,b,c,e,f,l,n,v,E){a.getVertexPosition(n,Kg);a.getVertexPosition(v,Lg);a.getVertexPosition(E,Mg);var G=Kg,R=Lg,S=Mg,V=ni;null===(1===b.side?e.intersectTriangle(S,R,G,!0,V):e.intersectTriangle(G,R,S,0===b.side,V))?a=null:(lh.copy(V),lh.applyMatrix4(a.matrixWorld),b=c.ray.origin.distanceTo(lh),
a=b<c.near||b>c.far?null:{distance:b,point:lh.clone(),object:a});a&&(f&&(mh.fromBufferAttribute(f,n),nh.fromBufferAttribute(f,v),oh.fromBufferAttribute(f,E),a.uv=pd.getUV(ni,Kg,Lg,Mg,mh,nh,oh,new Xb)),l&&(mh.fromBufferAttribute(l,n),nh.fromBufferAttribute(l,v),oh.fromBufferAttribute(l,E),a.uv2=pd.getUV(ni,Kg,Lg,Mg,mh,nh,oh,new Xb)),f={a:n,b:v,c:E,normal:new Ga,materialIndex:0},pd.getNormal(Kg,Lg,Mg,f.normal),a.face=f);return a}function W(a){const b={};for(const c in a){b[c]={};for(const e in a[c]){const f=
a[c][e];f&&(f.isColor||f.isMatrix3||f.isMatrix4||f.isVector2||f.isVector3||f.isVector4||f.isTexture||f.isQuaternion)?b[c][e]=f.clone():Array.isArray(f)?b[c][e]=f.slice():b[c][e]=f}}return b}function ka(a){const b={};for(let c=0;c<a.length;c++){const e=W(a[c]);for(const f in e)b[f]=e[f]}return b}function Y(a){return null===a.getRenderTarget()?3001===a.outputEncoding?"srgb":"srgb-linear":"srgb-linear"}function H(){function a(l,n){e(l,n);f=b.requestAnimationFrame(a)}let b=null,c=!1,e=null,f=null;return{start:function(){!0!==
c&&null!==e&&(f=b.requestAnimationFrame(a),c=!0)},stop:function(){b.cancelAnimationFrame(f);c=!1},setAnimationLoop:function(l){e=l},setContext:function(l){b=l}}}function qa(a,b){const c=b.isWebGL2,e=new WeakMap;return{get:function(f){f.isInterleavedBufferAttribute&&(f=f.data);return e.get(f)},remove:function(f){f.isInterleavedBufferAttribute&&(f=f.data);const l=e.get(f);l&&(a.deleteBuffer(l.buffer),e.delete(f))},update:function(f,l){if(f.isGLBufferAttribute)l=e.get(f),(!l||l.version<f.version)&&e.set(f,
{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});else{f.isInterleavedBufferAttribute&&(f=f.data);var n=e.get(f);if(void 0===n){n=e.set;var v=f,E=f.array;const R=f.usage;var G=a.createBuffer();a.bindBuffer(l,G);a.bufferData(l,E,R);f.onUploadCallback();if(E instanceof Float32Array)l=a.FLOAT;else if(E instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(c)l=a.HALF_FLOAT;else throw Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else l=
a.UNSIGNED_SHORT;else if(E instanceof Int16Array)l=a.SHORT;else if(E instanceof Uint32Array)l=a.UNSIGNED_INT;else if(E instanceof Int32Array)l=a.INT;else if(E instanceof Int8Array)l=a.BYTE;else if(E instanceof Uint8Array)l=a.UNSIGNED_BYTE;else if(E instanceof Uint8ClampedArray)l=a.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+E);n.call(e,v,{buffer:G,type:l,bytesPerElement:E.BYTES_PER_ELEMENT,version:f.version})}else n.version<f.version&&(v=f,E=v.array,G=
v.updateRange,a.bindBuffer(l,n.buffer),-1===G.count?a.bufferSubData(l,0,E):(c?a.bufferSubData(l,G.offset*E.BYTES_PER_ELEMENT,E,G.offset,G.count):a.bufferSubData(l,G.offset*E.BYTES_PER_ELEMENT,E.subarray(G.offset,G.offset+G.count)),G.count=-1),v.onUploadCallback(),n.version=f.version)}}}}function Ca(a,b,c,e,f,l,n){function v(Q,la){Q.getRGB(ph,Y(a));e.buffers.color.setClear(ph.r,ph.g,ph.b,la,n)}const E=new Ic(0);let G=!0===l?0:1,R,S,V=null,ia=0,ha=null;return{getClearColor:function(){return E},setClearColor:function(Q,
la=1){E.set(Q);G=la;v(E,G)},getClearAlpha:function(){return G},setClearAlpha:function(Q){G=Q;v(E,G)},render:function(Q,la){let Xa=!1,Ba=!0===la.isScene?la.background:null;Ba&&Ba.isTexture&&(Ba=(0<la.backgroundBlurriness?c:b).get(Ba));var $a=a.xr;($a=$a.getSession&&$a.getSession())&&"additive"===$a.environmentBlendMode&&(Ba=null);null===Ba?v(E,G):Ba&&Ba.isColor&&(v(Ba,1),Xa=!0);(a.autoClear||Xa)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(Ba&&(Ba.isCubeTexture||306===Ba.mapping)){void 0===
S&&(S=new ze(new Pf(1,1,1),new ff({name:"BackgroundCubeMaterial",uniforms:W($e.backgroundCube.uniforms),vertexShader:$e.backgroundCube.vertexShader,fragmentShader:$e.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),S.geometry.deleteAttribute("normal"),S.geometry.deleteAttribute("uv"),S.onBeforeRender=function(pb,Ua,Mb){this.matrixWorld.copyPosition(Mb.matrixWorld)},Object.defineProperty(S.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),f.update(S));
S.material.uniforms.envMap.value=Ba;S.material.uniforms.flipEnvMap.value=Ba.isCubeTexture&&!1===Ba.isRenderTargetTexture?-1:1;S.material.uniforms.backgroundBlurriness.value=la.backgroundBlurriness;S.material.uniforms.backgroundIntensity.value=la.backgroundIntensity;S.material.toneMapped=3001===Ba.encoding?!1:!0;if(V!==Ba||ia!==Ba.version||ha!==a.toneMapping)S.material.needsUpdate=!0,V=Ba,ia=Ba.version,ha=a.toneMapping;S.layers.enableAll();Q.unshift(S,S.geometry,S.material,0,0,null)}else if(Ba&&Ba.isTexture){void 0===
R&&(R=new ze(new Ng(2,2),new ff({name:"BackgroundMaterial",uniforms:W($e.background.uniforms),vertexShader:$e.background.vertexShader,fragmentShader:$e.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),R.geometry.deleteAttribute("normal"),Object.defineProperty(R.material,"map",{get:function(){return this.uniforms.t2D.value}}),f.update(R));R.material.uniforms.t2D.value=Ba;R.material.uniforms.backgroundIntensity.value=la.backgroundIntensity;R.material.toneMapped=3001===Ba.encoding?
!1:!0;!0===Ba.matrixAutoUpdate&&Ba.updateMatrix();R.material.uniforms.uvTransform.value.copy(Ba.matrix);if(V!==Ba||ia!==Ba.version||ha!==a.toneMapping)R.material.needsUpdate=!0,V=Ba,ia=Ba.version,ha=a.toneMapping;R.layers.enableAll();Q.unshift(R,R.geometry,R.material,0,0,null)}}}}function La(a,b,c,e){function f(Ua){return e.isWebGL2?a.bindVertexArray(Ua):Q.bindVertexArrayOES(Ua)}function l(Ua){return e.isWebGL2?a.deleteVertexArray(Ua):Q.deleteVertexArrayOES(Ua)}function n(Ua){const Mb=[],cb=[],vb=
[];for(let yb=0;yb<ha;yb++)Mb[yb]=0,cb[yb]=0,vb[yb]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Mb,enabledAttributes:cb,attributeDivisors:vb,object:Ua,attributes:{},index:null}}function v(){const Ua=$a.newAttributes;for(let Mb=0,cb=Ua.length;Mb<cb;Mb++)Ua[Mb]=0}function E(Ua){G(Ua,0)}function G(Ua,Mb){const cb=$a.enabledAttributes,vb=$a.attributeDivisors;$a.newAttributes[Ua]=1;0===cb[Ua]&&(a.enableVertexAttribArray(Ua),cb[Ua]=1);vb[Ua]!==Mb&&((e.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[e.isWebGL2?
"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ua,Mb),vb[Ua]=Mb)}function R(){const Ua=$a.newAttributes,Mb=$a.enabledAttributes;for(let cb=0,vb=Mb.length;cb<vb;cb++)Mb[cb]!==Ua[cb]&&(a.disableVertexAttribArray(cb),Mb[cb]=0)}function S(Ua,Mb,cb,vb,yb,xb){!0!==e.isWebGL2||cb!==a.INT&&cb!==a.UNSIGNED_INT?a.vertexAttribPointer(Ua,Mb,cb,vb,yb,xb):a.vertexAttribIPointer(Ua,Mb,cb,yb,xb)}function V(){ia();pb=!0;$a!==Ba&&($a=Ba,f($a.object))}function ia(){Ba.geometry=null;Ba.program=null;Ba.wireframe=!1}
const ha=a.getParameter(a.MAX_VERTEX_ATTRIBS),Q=e.isWebGL2?null:b.get("OES_vertex_array_object"),la=e.isWebGL2||null!==Q,Xa={},Ba=n(null);let $a=Ba,pb=!1;return{setup:function(Ua,Mb,cb,vb,yb){var xb=!1;if(la){xb=!0===Mb.wireframe;var fc=Xa[vb.id];void 0===fc&&(fc={},Xa[vb.id]=fc);var Zb=fc[cb.id];void 0===Zb&&(Zb={},fc[cb.id]=Zb);fc=Zb[xb];void 0===fc&&(fc=n(e.isWebGL2?a.createVertexArray():Q.createVertexArrayOES()),Zb[xb]=fc);xb=fc;$a!==xb&&($a=xb,f($a.object));a:{xb=$a.attributes;Zb=vb.attributes;
fc=0;var cc=cb.getAttributes();for(var bc in cc)if(0<=cc[bc].location){var Cc=xb[bc],Mc=Zb[bc];void 0===Mc&&("instanceMatrix"===bc&&Ua.instanceMatrix&&(Mc=Ua.instanceMatrix),"instanceColor"===bc&&Ua.instanceColor&&(Mc=Ua.instanceColor));if(void 0===Cc||Cc.attribute!==Mc||Mc&&Cc.data!==Mc.data){xb=!0;break a}fc++}xb=$a.attributesNum!==fc||$a.index!==yb?!0:!1}if(xb){bc={};Zb=vb.attributes;fc=0;cc=cb.getAttributes();for(var Zc in cc)0<=cc[Zc].location&&(Cc=Zb[Zc],void 0===Cc&&("instanceMatrix"===Zc&&
Ua.instanceMatrix&&(Cc=Ua.instanceMatrix),"instanceColor"===Zc&&Ua.instanceColor&&(Cc=Ua.instanceColor)),Mc={},(Mc.attribute=Cc)&&Cc.data&&(Mc.data=Cc.data),bc[Zc]=Mc,fc++);$a.attributes=bc;$a.attributesNum=fc;$a.index=yb}}else if(Zc=!0===Mb.wireframe,$a.geometry!==vb.id||$a.program!==cb.id||$a.wireframe!==Zc)$a.geometry=vb.id,$a.program=cb.id,$a.wireframe=Zc,xb=!0;null!==yb&&c.update(yb,a.ELEMENT_ARRAY_BUFFER);if(xb||pb){pb=!1;if(!1!==e.isWebGL2||!Ua.isInstancedMesh&&!vb.isInstancedBufferGeometry||
null!==b.get("ANGLE_instanced_arrays")){v();Zc=vb.attributes;cb=cb.getAttributes();Mb=Mb.defaultAttributeValues;for(const vc in cb)if(bc=cb[vc],0<=bc.location){var ed=Zc[vc];void 0===ed&&("instanceMatrix"===vc&&Ua.instanceMatrix&&(ed=Ua.instanceMatrix),"instanceColor"===vc&&Ua.instanceColor&&(ed=Ua.instanceColor));if(void 0!==ed){if(xb=ed.normalized,Zb=ed.itemSize,cc=c.get(ed),void 0!==cc)if(Cc=cc.buffer,fc=cc.type,cc=cc.bytesPerElement,ed.isInterleavedBufferAttribute){var dc=ed.data;Mc=dc.stride;
ed=ed.offset;if(dc.isInstancedInterleavedBuffer){for(let Ac=0;Ac<bc.locationSize;Ac++)G(bc.location+Ac,dc.meshPerAttribute);!0!==Ua.isInstancedMesh&&void 0===vb._maxInstanceCount&&(vb._maxInstanceCount=dc.meshPerAttribute*dc.count)}else for(dc=0;dc<bc.locationSize;dc++)E(bc.location+dc);a.bindBuffer(a.ARRAY_BUFFER,Cc);for(Cc=0;Cc<bc.locationSize;Cc++)S(bc.location+Cc,Zb/bc.locationSize,fc,xb,Mc*cc,(ed+Zb/bc.locationSize*Cc)*cc)}else{if(ed.isInstancedBufferAttribute){for(Mc=0;Mc<bc.locationSize;Mc++)G(bc.location+
Mc,ed.meshPerAttribute);!0!==Ua.isInstancedMesh&&void 0===vb._maxInstanceCount&&(vb._maxInstanceCount=ed.meshPerAttribute*ed.count)}else for(Mc=0;Mc<bc.locationSize;Mc++)E(bc.location+Mc);a.bindBuffer(a.ARRAY_BUFFER,Cc);for(Cc=0;Cc<bc.locationSize;Cc++)S(bc.location+Cc,Zb/bc.locationSize,fc,xb,Zb*cc,Zb/bc.locationSize*Cc*cc)}}else if(void 0!==Mb&&(xb=Mb[vc],void 0!==xb))switch(xb.length){case 2:a.vertexAttrib2fv(bc.location,xb);break;case 3:a.vertexAttrib3fv(bc.location,xb);break;case 4:a.vertexAttrib4fv(bc.location,
xb);break;default:a.vertexAttrib1fv(bc.location,xb)}}R()}null!==yb&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c.get(yb).buffer)}},reset:V,resetDefaultState:ia,dispose:function(){V();for(const Ua in Xa){const Mb=Xa[Ua];for(const cb in Mb){const vb=Mb[cb];for(const yb in vb)l(vb[yb].object),delete vb[yb];delete Mb[cb]}delete Xa[Ua]}},releaseStatesOfGeometry:function(Ua){if(void 0!==Xa[Ua.id]){var Mb=Xa[Ua.id];for(const cb in Mb){const vb=Mb[cb];for(const yb in vb)l(vb[yb].object),delete vb[yb];delete Mb[cb]}delete Xa[Ua.id]}},
releaseStatesOfProgram:function(Ua){for(const Mb in Xa){const cb=Xa[Mb];if(void 0===cb[Ua.id])continue;const vb=cb[Ua.id];for(const yb in vb)l(vb[yb].object),delete vb[yb];delete cb[Ua.id]}},initAttributes:v,enableAttribute:E,disableUnusedAttributes:R}}function Oa(a,b,c,e){const f=e.isWebGL2;let l;this.setMode=function(n){l=n};this.render=function(n,v){a.drawArrays(l,n,v);c.update(v,l,1)};this.renderInstances=function(n,v,E){if(0!==E){if(f){var G=a;var R="drawArraysInstanced"}else if(G=b.get("ANGLE_instanced_arrays"),
R="drawArraysInstancedANGLE",null===G){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}G[R](l,n,v,E);c.update(v,l,E)}}}function ea(a,b,c){function e(pb){if("highp"===pb){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";pb="mediump"}return"mediump"===pb&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,
a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}let f;const l="undefined"!==typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext;let n=void 0!==c.precision?c.precision:"highp";var v=e(n);v!==n&&(console.warn("THREE.WebGLRenderer:",n,"not supported, using",v,"instead."),n=v);v=l||b.has("WEBGL_draw_buffers");c=!0===c.logarithmicDepthBuffer;const E=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),G=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
R=a.getParameter(a.MAX_TEXTURE_SIZE),S=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),V=a.getParameter(a.MAX_VERTEX_ATTRIBS),ia=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),ha=a.getParameter(a.MAX_VARYING_VECTORS),Q=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),la=0<G,Xa=l||b.has("OES_texture_float"),Ba=la&&Xa,$a=l?a.getParameter(a.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:v,getMaxAnisotropy:function(){if(void 0!==f)return f;if(!0===b.has("EXT_texture_filter_anisotropic")){const pb=b.get("EXT_texture_filter_anisotropic");
f=a.getParameter(pb.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else f=0;return f},getMaxPrecision:e,precision:n,logarithmicDepthBuffer:c,maxTextures:E,maxVertexTextures:G,maxTextureSize:R,maxCubemapSize:S,maxAttributes:V,maxVertexUniforms:ia,maxVaryings:ha,maxFragmentUniforms:Q,vertexTextures:la,floatFragmentTextures:Xa,floatVertexTextures:Ba,maxSamples:$a}}function kb(a){function b(R,S,V,ia){const ha=null!==R?R.length:0;let Q=null;if(0!==ha){Q=G.value;if(!0!==ia||null===Q){ia=V+4*ha;S=S.matrixWorldInverse;
E.getNormalMatrix(S);if(null===Q||Q.length<ia)Q=new Float32Array(ia);for(let la=0,Xa=V;la!==ha;++la,Xa+=4)v.copy(R[la]).applyMatrix4(S,E),v.normal.toArray(Q,Xa),Q[Xa+3]=v.constant}G.value=Q;G.needsUpdate=!0}c.numPlanes=ha;c.numIntersection=0;return Q}const c=this;let e=null,f=0,l=!1,n=!1;const v=new Df,E=new he,G={value:null,needsUpdate:!1};this.uniform=G;this.numIntersection=this.numPlanes=0;this.init=function(R,S){const V=0!==R.length||S||0!==f||l;l=S;f=R.length;return V};this.beginShadows=function(){n=
!0;b(null)};this.endShadows=function(){n=!1};this.setGlobalState=function(R,S){e=b(R,S,0)};this.setState=function(R,S,V){const ia=R.clippingPlanes,ha=R.clipIntersection;var Q=R.clipShadows;R=a.get(R);if(!l||null===ia||0===ia.length||n&&!Q)n?b(null):(G.value!==e&&(G.value=e,G.needsUpdate=0<f),c.numPlanes=f,c.numIntersection=0);else{Q=n?0:f;const la=4*Q;let Xa=R.clippingState||null;G.value=Xa;Xa=b(ia,S,la,V);for(S=0;S!==la;++S)Xa[S]=e[S];R.clippingState=Xa;this.numIntersection=ha?this.numPlanes:0;this.numPlanes+=
Q}}}function zb(a){function b(f,l){303===l?f.mapping=301:304===l&&(f.mapping=302);return f}function c(f){f=f.target;f.removeEventListener("dispose",c);const l=e.get(f);void 0!==l&&(e.delete(f),l.dispose())}let e=new WeakMap;return{get:function(f){if(f&&f.isTexture&&!1===f.isRenderTargetTexture){var l=f.mapping;if(303===l||304===l)return e.has(f)?(l=e.get(f).texture,b(l,f.mapping)):(l=f.image)&&0<l.height?(l=new lj(l.height/2),l.fromEquirectangularTexture(a,f),e.set(f,l),f.addEventListener("dispose",
c),b(l.texture,f.mapping)):null}return f},dispose:function(){e=new WeakMap}}}function Va(a,b,c){a=new Me(a,b,c);a.texture.mapping=306;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}function Pa(a,b,c,e,f){a.viewport.set(b,c,e,f);a.scissor.set(b,c,e,f)}function ja(){return new ff({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Ya(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include \x3ccommon\x3e\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection \x3d normalize( vOutputDirection );\n\t\t\t\tvec2 uv \x3d equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor \x3d vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function jb(){return new ff({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ya(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor \x3d textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function Ya(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv \x3d 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction \x3d vec3( uv, 1.0 );\n\n\t\t\tif ( face \x3d\x3d 0.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face \x3d\x3d 1.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face \x3d\x3d 2.0 ) {\n\n\t\t\t\tdirection.x *\x3d -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face \x3d\x3d 3.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face \x3d\x3d 4.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xy *\x3d -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face \x3d\x3d 5.0 ) {\n\n\t\t\t\tdirection.z *\x3d -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection \x3d getDirection( uv, faceIndex );\n\t\t\tgl_Position \x3d vec4( position, 1.0 );\n\n\t\t}\n\t"}
function Ma(a){function b(f){f=f.target;f.removeEventListener("dispose",b);const l=c.get(f);void 0!==l&&(c.delete(f),l.dispose())}let c=new WeakMap,e=null;return{get:function(f){if(f&&f.isTexture){var l=f.mapping,n=303===l||304===l,v=301===l||302===l;if(n||v){if(f.isRenderTargetTexture&&!0===f.needsPMREMUpdate)return f.needsPMREMUpdate=!1,l=c.get(f),null===e&&(e=new oi(a)),l=n?e.fromEquirectangular(f,l):e.fromCubemap(f,l),c.set(f,l),l.texture;if(c.has(f))return c.get(f).texture;l=f.image;var E;if(!(E=
n&&l&&0<l.height)&&(E=v&&l)){E=0;for(v=0;6>v;v++)void 0!==l[v]&&E++;E=6===E}return E?(null===e&&(e=new oi(a)),n=n?e.fromEquirectangular(f):e.fromCubemap(f),c.set(f,n),f.addEventListener("dispose",b),n.texture):null}}return f},dispose:function(){c=new WeakMap;null!==e&&(e.dispose(),e=null)}}}function na(a){function b(e){if(void 0!==c[e])return c[e];let f;switch(e){case "WEBGL_depth_texture":f=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");
break;case "EXT_texture_filter_anisotropic":f=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":f=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":f=a.getExtension("WEBGL_compressed_texture_pvrtc")||
a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:f=a.getExtension(e)}return c[e]=f}const c={};return{has:function(e){return null!==b(e)},init:function(e){e.isWebGL2?b("EXT_color_buffer_float"):(b("WEBGL_depth_texture"),b("OES_texture_float"),b("OES_texture_half_float"),b("OES_texture_half_float_linear"),b("OES_standard_derivatives"),b("OES_element_index_uint"),b("OES_vertex_array_object"),b("ANGLE_instanced_arrays"));b("OES_texture_float_linear");b("EXT_color_buffer_half_float");
b("WEBGL_multisampled_render_to_texture")},get:function(e){const f=b(e);null===f&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported.");return f}}}function ub(a,b,c,e){function f(E){E=E.target;null!==E.index&&b.remove(E.index);for(var G in E.attributes)b.remove(E.attributes[G]);E.removeEventListener("dispose",f);delete n[E.id];if(G=v.get(E))b.remove(G),v.delete(E);e.releaseStatesOfGeometry(E);!0===E.isInstancedBufferGeometry&&delete E._maxInstanceCount;c.memory.geometries--}function l(E){var G=
[],R=E.index,S=E.attributes.position;if(null!==R){S=R.array;R=R.version;for(let ha=0,Q=S.length;ha<Q;ha+=3){var V=S[ha+0],ia=S[ha+1];const la=S[ha+2];G.push(V,ia,ia,la,la,V)}}else{V=S.array;R=S.version;for(let ha=0,Q=V.length/3-1;ha<Q;ha+=3)S=ha+0,V=ha+1,ia=ha+2,G.push(S,V,V,ia,ia,S)}G=new (B(G)?pi:qi)(G,1);G.version=R;(R=v.get(E))&&b.remove(R);v.set(E,G)}const n={},v=new WeakMap;return{get:function(E,G){if(!0===n[G.id])return G;G.addEventListener("dispose",f);n[G.id]=!0;c.memory.geometries++;return G},
update:function(E){var G=E.attributes;for(const R in G)b.update(G[R],a.ARRAY_BUFFER);E=E.morphAttributes;for(const R in E){G=E[R];for(let S=0,V=G.length;S<V;S++)b.update(G[S],a.ARRAY_BUFFER)}},getWireframeAttribute:function(E){const G=v.get(E);if(G){const R=E.index;null!==R&&G.version<R.version&&l(E)}else l(E);return v.get(E)}}}function Bb(a,b,c,e){const f=e.isWebGL2;let l,n,v;this.setMode=function(E){l=E};this.setIndex=function(E){n=E.type;v=E.bytesPerElement};this.render=function(E,G){a.drawElements(l,
G,n,E*v);c.update(G,l,1)};this.renderInstances=function(E,G,R){if(0!==R){if(f){var S=a;var V="drawElementsInstanced"}else if(S=b.get("ANGLE_instanced_arrays"),V="drawElementsInstancedANGLE",null===S){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[V](l,G,n,E*v,R);c.update(G,l,R)}}}function ab(a){const b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},
render:b,programs:null,autoReset:!0,reset:function(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function(c,e,f){b.calls++;switch(e){case a.TRIANGLES:b.triangles+=c/3*f;break;case a.LINES:b.lines+=c/2*f;break;case a.LINE_STRIP:b.lines+=f*(c-1);break;case a.LINE_LOOP:b.lines+=f*c;break;case a.POINTS:b.points+=f*c;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}}}function Ab(a,b){return a[0]-b[0]}function q(a,b){return Math.abs(b[1])-Math.abs(a[1])}function K(a,
b,c){const e={},f=new Float32Array(8),l=new WeakMap,n=new Gd,v=[];for(let E=0;8>E;E++)v[E]=[E,0];return{update:function(E,G,R){E=E.morphTargetInfluences;if(!0===b.isWebGL2){var S=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color;S=void 0!==S?S.length:0;var V=l.get(G);if(void 0===V||V.count!==S){void 0!==V&&V.texture.dispose();V=void 0!==G.morphAttributes.position;var ia=void 0!==G.morphAttributes.normal,ha=void 0!==G.morphAttributes.color,Q=G.morphAttributes.position||
[];const Xa=G.morphAttributes.normal||[],Ba=G.morphAttributes.color||[];var la=0;!0===V&&(la=1);!0===ia&&(la=2);!0===ha&&(la=3);let $a=G.attributes.position.count*la,pb=1;$a>b.maxTextureSize&&(pb=Math.ceil($a/b.maxTextureSize),$a=b.maxTextureSize);const Ua=new Float32Array($a*pb*4*S),Mb=new Qf(Ua,$a,pb,S);Mb.type=1015;Mb.needsUpdate=!0;la*=4;for(let vb=0;vb<S;vb++){const yb=Q[vb],xb=Xa[vb],fc=Ba[vb],Zb=$a*pb*4*vb;for(let cc=0;cc<yb.count;cc++){const bc=cc*la;!0===V&&(n.fromBufferAttribute(yb,cc),
Ua[Zb+bc+0]=n.x,Ua[Zb+bc+1]=n.y,Ua[Zb+bc+2]=n.z,Ua[Zb+bc+3]=0);!0===ia&&(n.fromBufferAttribute(xb,cc),Ua[Zb+bc+4]=n.x,Ua[Zb+bc+5]=n.y,Ua[Zb+bc+6]=n.z,Ua[Zb+bc+7]=0);!0===ha&&(n.fromBufferAttribute(fc,cc),Ua[Zb+bc+8]=n.x,Ua[Zb+bc+9]=n.y,Ua[Zb+bc+10]=n.z,Ua[Zb+bc+11]=4===fc.itemSize?n.w:1)}}V={count:S,texture:Mb,size:new Xb($a,pb)};l.set(G,V);function cb(){Mb.dispose();l.delete(G);G.removeEventListener("dispose",cb)}G.addEventListener("dispose",cb)}S=0;for(ia=0;ia<E.length;ia++)S+=E[ia];S=G.morphTargetsRelative?
1:1-S;R.getUniforms().setValue(a,"morphTargetBaseInfluence",S);R.getUniforms().setValue(a,"morphTargetInfluences",E);R.getUniforms().setValue(a,"morphTargetsTexture",V.texture,c);R.getUniforms().setValue(a,"morphTargetsTextureSize",V.size)}else{S=void 0===E?0:E.length;V=e[G.id];if(void 0===V||V.length!==S){V=[];for(ia=0;ia<S;ia++)V[ia]=[ia,0];e[G.id]=V}for(ia=0;ia<S;ia++)ha=V[ia],ha[0]=ia,ha[1]=E[ia];V.sort(q);for(E=0;8>E;E++)E<S&&V[E][1]?(v[E][0]=V[E][0],v[E][1]=V[E][1]):(v[E][0]=Number.MAX_SAFE_INTEGER,
v[E][1]=0);v.sort(Ab);E=G.morphAttributes.position;S=G.morphAttributes.normal;V=0;for(ia=0;8>ia;ia++)Q=v[ia],ha=Q[0],Q=Q[1],ha!==Number.MAX_SAFE_INTEGER&&Q?(E&&G.getAttribute("morphTarget"+ia)!==E[ha]&&G.setAttribute("morphTarget"+ia,E[ha]),S&&G.getAttribute("morphNormal"+ia)!==S[ha]&&G.setAttribute("morphNormal"+ia,S[ha]),f[ia]=Q,V+=Q):(E&&!0===G.hasAttribute("morphTarget"+ia)&&G.deleteAttribute("morphTarget"+ia),S&&!0===G.hasAttribute("morphNormal"+ia)&&G.deleteAttribute("morphNormal"+ia),f[ia]=
0);E=G.morphTargetsRelative?1:1-V;R.getUniforms().setValue(a,"morphTargetBaseInfluence",E);R.getUniforms().setValue(a,"morphTargetInfluences",f)}}}}function aa(a,b,c,e){function f(n){n=n.target;n.removeEventListener("dispose",f);c.remove(n.instanceMatrix);null!==n.instanceColor&&c.remove(n.instanceColor)}let l=new WeakMap;return{update:function(n){const v=e.render.frame,E=b.get(n,n.geometry);l.get(E)!==v&&(b.update(E),l.set(E,v));n.isInstancedMesh&&(!1===n.hasEventListener("dispose",f)&&n.addEventListener("dispose",
f),c.update(n.instanceMatrix,a.ARRAY_BUFFER),null!==n.instanceColor&&c.update(n.instanceColor,a.ARRAY_BUFFER));return E},dispose:function(){l=new WeakMap}}}function Ea(a,b,c){const e=a[0];if(0>=e||0<e)return a;const f=b*c;let l=mj[f];void 0===l&&(l=new Float32Array(f),mj[f]=l);if(0!==b){e.toArray(l,0);for(let n=1,v=0;n!==b;++n)v+=c,a[n].toArray(l,v)}return l}function oa(a,b){if(a.length!==b.length)return!1;for(let c=0,e=a.length;c<e;c++)if(a[c]!==b[c])return!1;return!0}function za(a,b){for(let c=
0,e=b.length;c<e;c++)a[c]=b[c]}function Ka(a,b){let c=nj[b];void 0===c&&(c=new Int32Array(b),nj[b]=c);for(let e=0;e!==b;++e)c[e]=a.allocateTextureUnit();return c}function fb(a,b){const c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function fa(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else oa(c,b)||(a.uniform2fv(this.addr,b),za(c,b))}function X(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==
b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else oa(c,b)||(a.uniform3fv(this.addr,b),za(c,b))}function Da(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else oa(c,b)||(a.uniform4fv(this.addr,b),za(c,b))}function Aa(a,b){const c=this.cache,
e=b.elements;void 0===e?oa(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),za(c,b)):oa(c,e)||(oj.set(e),a.uniformMatrix2fv(this.addr,!1,oj),za(c,e))}function bb(a,b){const c=this.cache,e=b.elements;void 0===e?oa(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),za(c,b)):oa(c,e)||(pj.set(e),a.uniformMatrix3fv(this.addr,!1,pj),za(c,e))}function wa(a,b){const c=this.cache,e=b.elements;void 0===e?oa(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),za(c,b)):oa(c,e)||(qj.set(e),a.uniformMatrix4fv(this.addr,!1,qj),za(c,e))}
function gb(a,b){const c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function ob(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2i(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else oa(c,b)||(a.uniform2iv(this.addr,b),za(c,b))}function Jb(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3i(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else oa(c,b)||(a.uniform3iv(this.addr,b),za(c,b))}function Ob(a,b){const c=this.cache;if(void 0!==
b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4i(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else oa(c,b)||(a.uniform4iv(this.addr,b),za(c,b))}function jc(a,b){const c=this.cache;c[0]!==b&&(a.uniform1ui(this.addr,b),c[0]=b)}function tc(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2ui(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else oa(c,b)||(a.uniform2uiv(this.addr,b),za(c,b))}function lc(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==
b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3ui(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else oa(c,b)||(a.uniform3uiv(this.addr,b),za(c,b))}function mc(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4ui(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else oa(c,b)||(a.uniform4uiv(this.addr,b),za(c,b))}function uc(a,b,c){const e=this.cache,f=c.allocateTextureUnit();e[0]!==f&&(a.uniform1i(this.addr,f),e[0]=f);c.setTexture2D(b||rj,
f)}function wc(a,b,c){const e=this.cache,f=c.allocateTextureUnit();e[0]!==f&&(a.uniform1i(this.addr,f),e[0]=f);c.setTexture3D(b||sj,f)}function Nc(a,b,c){const e=this.cache,f=c.allocateTextureUnit();e[0]!==f&&(a.uniform1i(this.addr,f),e[0]=f);c.setTextureCube(b||tj,f)}function Uc(a,b,c){const e=this.cache,f=c.allocateTextureUnit();e[0]!==f&&(a.uniform1i(this.addr,f),e[0]=f);c.setTexture2DArray(b||uj,f)}function Qc(a){switch(a){case 5126:return fb;case 35664:return fa;case 35665:return X;case 35666:return Da;
case 35674:return Aa;case 35675:return bb;case 35676:return wa;case 5124:case 35670:return gb;case 35667:case 35671:return ob;case 35668:case 35672:return Jb;case 35669:case 35673:return Ob;case 5125:return jc;case 36294:return tc;case 36295:return lc;case 36296:return mc;case 35678:case 36198:case 36298:case 36306:case 35682:return uc;case 35679:case 36299:case 36307:return wc;case 35680:case 36300:case 36308:case 36293:return Nc;case 36289:case 36303:case 36311:case 36292:return Uc}}function Gc(a,
b){a.uniform1fv(this.addr,b)}function Rb(a,b){b=Ea(b,this.size,2);a.uniform2fv(this.addr,b)}function id(a,b){b=Ea(b,this.size,3);a.uniform3fv(this.addr,b)}function qd(a,b){b=Ea(b,this.size,4);a.uniform4fv(this.addr,b)}function Ld(a,b){b=Ea(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,b)}function Wb(a,b){b=Ea(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,b)}function rd(a,b){b=Ea(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,b)}function Wd(a,b){a.uniform1iv(this.addr,b)}function de(a,b){a.uniform2iv(this.addr,
b)}function je(a,b){a.uniform3iv(this.addr,b)}function Ed(a,b){a.uniform4iv(this.addr,b)}function Md(a,b){a.uniform1uiv(this.addr,b)}function Sd(a,b){a.uniform2uiv(this.addr,b)}function pe(a,b){a.uniform3uiv(this.addr,b)}function se(a,b){a.uniform4uiv(this.addr,b)}function Ae(a,b,c){const e=this.cache,f=b.length,l=Ka(c,f);oa(e,l)||(a.uniform1iv(this.addr,l),za(e,l));for(a=0;a!==f;++a)c.setTexture2D(b[a]||rj,l[a])}function Qd(a,b,c){const e=this.cache,f=b.length,l=Ka(c,f);oa(e,l)||(a.uniform1iv(this.addr,
l),za(e,l));for(a=0;a!==f;++a)c.setTexture3D(b[a]||sj,l[a])}function kd(a,b,c){const e=this.cache,f=b.length,l=Ka(c,f);oa(e,l)||(a.uniform1iv(this.addr,l),za(e,l));for(a=0;a!==f;++a)c.setTextureCube(b[a]||tj,l[a])}function Xd(a,b,c){const e=this.cache,f=b.length,l=Ka(c,f);oa(e,l)||(a.uniform1iv(this.addr,l),za(e,l));for(a=0;a!==f;++a)c.setTexture2DArray(b[a]||uj,l[a])}function Hc(a){switch(a){case 5126:return Gc;case 35664:return Rb;case 35665:return id;case 35666:return qd;case 35674:return Ld;case 35675:return Wb;
case 35676:return rd;case 5124:case 35670:return Wd;case 35667:case 35671:return de;case 35668:case 35672:return je;case 35669:case 35673:return Ed;case 5125:return Md;case 36294:return Sd;case 36295:return pe;case 36296:return se;case 35678:case 36198:case 36298:case 36306:case 35682:return Ae;case 35679:case 36299:case 36307:return Qd;case 35680:case 36300:case 36308:case 36293:return kd;case 36289:case 36303:case 36311:case 36292:return Xd}}function Jd(a,b,c){b=a.createShader(b);a.shaderSource(b,
c);a.compileShader(b);return b}function hc(a,b,c){var e=a.getShaderParameter(b,a.COMPILE_STATUS),f=a.getShaderInfoLog(b).trim();if(e&&""===f)return"";if(e=/ERROR: 0:(\d+)/.exec(f)){e=parseInt(e[1]);c=c.toUpperCase()+"\n\n"+f+"\n\n";b=a.getShaderSource(b);a=e;b=b.split("\n");f=[];var l=Math.max(a-6,0);for(e=Math.min(a+6,b.length);l<e;l++){const n=l+1;f.push(`${n===a?"\x3e":" "} ${n}: ${b[l]}`)}a=f.join("\n");return c+a}return f}function He(a,b){a:switch(b){case 3E3:b=["Linear","( value )"];break a;
case 3001:b=["sRGB","( value )"];break a;default:console.warn("THREE.WebGLProgram: Unsupported encoding:",b),b=["Linear","( value )"]}return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function Rd(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="OptimizedCineon";break;case 4:b="ACESFilmic";break;case 5:b="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",b),b="Linear"}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}
function $d(a){const b=[];for(const c in a){const e=a[c];!1!==e&&b.push("#define "+c+" "+e)}return b.join("\n")}function le(a){return""!==a}function me(a,b){const c=b.numSpotLightShadows+b.numSpotLightMaps-b.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,b.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,c).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,
b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,b.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}function nd(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function ue(a,b){a=md[b];if(void 0===a)throw Error("Can not resolve #include \x3c"+b+
"\x3e");return a.replace(ri,ue)}function Be(a,b,c,e){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=e.replace(/\[\s*i\s*\]/g,"[ "+b+" ]").replace(/UNROLLED_LOOP_INDEX/g,b);return a}function qe(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION");return b}function Ee(a){let b="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?b=
"SHADOWMAP_TYPE_PCF":2===a.shadowMapType?b="SHADOWMAP_TYPE_PCF_SOFT":3===a.shadowMapType&&(b="SHADOWMAP_TYPE_VSM");return b}function od(a){let b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:b="ENVMAP_TYPE_CUBE";break;case 306:b="ENVMAP_TYPE_CUBE_UV"}return b}function mb(a){let b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:b="ENVMAP_MODE_REFRACTION"}return b}function sd(a){let b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:b="ENVMAP_BLENDING_MULTIPLY";
break;case 1:b="ENVMAP_BLENDING_MIX";break;case 2:b="ENVMAP_BLENDING_ADD"}return b}function ee(a){a=a.envMapCubeUVHeight;if(null===a)return null;const b=Math.log2(a)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,b),112)),texelHeight:1/a,maxMip:b}}function Bd(a,b,c,e){const f=a.getContext();var l=c.defines,n=c.vertexShader,v=c.fragmentShader,E=Ee(c),G=od(c),R=mb(c),S=sd(c),V=ee(c),ia=c.isWebGL2?"":[c.extensionDerivatives||c.envMapCubeUVHeight||c.bumpMap||c.tangentSpaceNormalMap||c.clearcoatNormalMap||
c.flatShading||"physical"===c.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap||c.transmission)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(le).join("\n");const ha=$d(l),Q=f.createProgram();
var la=c.glslVersion?"#version "+c.glslVersion+"\n":"";c.isRawShaderMaterial?(l=[ha].filter(le).join("\n"),0<l.length&&(l+="\n"),E=[ia,ha].filter(le).join("\n"),0<E.length&&(E+="\n")):(l=[qe(c),"#define SHADER_NAME "+c.shaderName,ha,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":
"",c.envMap?"#define "+R:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":
"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.transmission?"#define USE_TRANSMISSION":
"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.morphTargets?"#define USE_MORPHTARGETS":
"",c.morphNormals&&!1===c.flatShading?"#define USE_MORPHNORMALS":"",c.morphColors&&c.isWebGL2?"#define USE_MORPHCOLORS":"",0<c.morphTargetsCount&&c.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",0<c.morphTargetsCount&&c.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+c.morphTextureStride:"",0<c.morphTargetsCount&&c.isWebGL2?"#define MORPHTARGETS_COUNT "+c.morphTargetsCount:"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?
"#define "+E:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR",
"\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) \x26\x26 ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;",
"\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(le).join("\n"),E=[ia,qe(c),"#define SHADER_NAME "+c.shaderName,
ha,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+G:"",c.envMap?"#define "+R:"",c.envMap?"#define "+S:"",V?"#define CUBEUV_TEXEL_WIDTH "+V.texelWidth:"",V?"#define CUBEUV_TEXEL_HEIGHT "+V.texelHeight:"",V?"#define CUBEUV_MAX_MIP "+V.maxMip+".0":"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":
"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoat?"#define USE_CLEARCOAT":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.iridescence?"#define USE_IRIDESCENCE":"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":
"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaTest?"#define USE_ALPHATEST":"",c.sheen?"#define USE_SHEEN":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":
"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",
c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+E:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.useLegacyLights?"#define LEGACY_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==c.toneMapping?
"#define TONE_MAPPING":"",0!==c.toneMapping?md.tonemapping_pars_fragment:"",0!==c.toneMapping?Rd("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",c.opaque?"#define OPAQUE":"",md.encodings_pars_fragment,He("linearToOutputTexel",c.outputEncoding),c.useDepthPacking?"#define DEPTH_PACKING "+c.depthPacking:"","\n"].filter(le).join("\n"));n=n.replace(ri,ue);n=me(n,c);n=nd(n,c);v=v.replace(ri,ue);v=me(v,c);v=nd(v,c);n=n.replace(vj,Be);v=v.replace(vj,Be);c.isWebGL2&&!0!==c.isRawShaderMaterial&&
(la="#version 300 es\n",l="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+l,E=["#define varying in","300 es"===c.glslVersion?"":"layout(location \x3d 0) out highp vec4 pc_fragColor;","300 es"===c.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+E);v=la+E+v;n=Jd(f,f.VERTEX_SHADER,la+l+n);v=Jd(f,f.FRAGMENT_SHADER,v);f.attachShader(Q,n);f.attachShader(Q,v);void 0!==c.index0AttributeName?f.bindAttribLocation(Q,0,c.index0AttributeName):!0===c.morphTargets&&f.bindAttribLocation(Q,0,"position");f.linkProgram(Q);if(a.debug.checkShaderErrors){a=f.getProgramInfoLog(Q).trim();la=f.getShaderInfoLog(n).trim();G=f.getShaderInfoLog(v).trim();S=R=!0;if(!1===f.getProgramParameter(Q,f.LINK_STATUS))R=!1,V=hc(f,n,"vertex"),ia=hc(f,v,"fragment"),console.error("THREE.WebGLProgram: Shader Error "+
f.getError()+" - VALIDATE_STATUS "+f.getProgramParameter(Q,f.VALIDATE_STATUS)+"\n\nProgram Info Log: "+a+"\n"+V+"\n"+ia);else if(""!==a)console.warn("THREE.WebGLProgram: Program Info Log:",a);else if(""===la||""===G)S=!1;S&&(this.diagnostics={runnable:R,programLog:a,vertexShader:{log:la,prefix:l},fragmentShader:{log:G,prefix:E}})}f.deleteShader(n);f.deleteShader(v);let Xa;this.getUniforms=function(){void 0===Xa&&(Xa=new qh(f,Q));return Xa};let Ba;this.getAttributes=function(){if(void 0===Ba){const $a=
{},pb=f.getProgramParameter(Q,f.ACTIVE_ATTRIBUTES);for(let Ua=0;Ua<pb;Ua++){const Mb=f.getActiveAttrib(Q,Ua),cb=Mb.name;let vb=1;Mb.type===f.FLOAT_MAT2&&(vb=2);Mb.type===f.FLOAT_MAT3&&(vb=3);Mb.type===f.FLOAT_MAT4&&(vb=4);$a[cb]={type:Mb.type,location:f.getAttribLocation(Q,cb),locationSize:vb}}Ba=$a}return Ba};this.destroy=function(){e.releaseStatesOfProgram(this);f.deleteProgram(Q);this.program=void 0};this.name=c.shaderName;this.id=fl++;this.cacheKey=b;this.usedTimes=1;this.program=Q;this.vertexShader=
n;this.fragmentShader=v;return this}function Nd(a,b,c,e,f,l,n){const v=new Ef,E=new gl,G=[],R=f.isWebGL2,S=f.logarithmicDepthBuffer,V=f.vertexTextures;let ia=f.precision;const ha={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",
PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(Q,la,Xa,Ba,$a){const pb=Ba.fog,Ua=$a.geometry;Ba=Q.isMeshStandardMaterial?Ba.environment:null;const Mb=(Ba=(Q.isMeshStandardMaterial?c:b).get(Q.envMap||Ba))&&306===Ba.mapping?Ba.image.height:null,cb=ha[Q.type];null!==Q.precision&&(ia=f.getMaxPrecision(Q.precision),ia!==Q.precision&&console.warn("THREE.WebGLProgram.getParameters:",Q.precision,"not supported, using",ia,"instead."));var vb=Ua.morphAttributes.position||
Ua.morphAttributes.normal||Ua.morphAttributes.color;vb=void 0!==vb?vb.length:0;let yb=0;void 0!==Ua.morphAttributes.position&&(yb=1);void 0!==Ua.morphAttributes.normal&&(yb=2);void 0!==Ua.morphAttributes.color&&(yb=3);let xb;let fc,Zb;if(cb){var cc=$e[cb];xb=cc.vertexShader;cc=cc.fragmentShader}else xb=Q.vertexShader,cc=Q.fragmentShader,E.update(Q),fc=E.getVertexShaderID(Q),Zb=E.getFragmentShaderID(Q);const bc=a.getRenderTarget(),Cc=0<Q.clearcoat,Mc=0<Q.iridescence;return{isWebGL2:R,shaderID:cb,shaderName:Q.type,
vertexShader:xb,fragmentShader:cc,defines:Q.defines,customVertexShaderID:fc,customFragmentShaderID:Zb,isRawShaderMaterial:!0===Q.isRawShaderMaterial,glslVersion:Q.glslVersion,precision:ia,instancing:!0===$a.isInstancedMesh,instancingColor:!0===$a.isInstancedMesh&&null!==$a.instanceColor,supportsVertexTextures:V,outputEncoding:null===bc?a.outputEncoding:!0===bc.isXRRenderTarget?bc.texture.encoding:3E3,map:!!Q.map,matcap:!!Q.matcap,envMap:!!Ba,envMapMode:Ba&&Ba.mapping,envMapCubeUVHeight:Mb,lightMap:!!Q.lightMap,
aoMap:!!Q.aoMap,emissiveMap:!!Q.emissiveMap,bumpMap:!!Q.bumpMap,normalMap:!!Q.normalMap,objectSpaceNormalMap:1===Q.normalMapType,tangentSpaceNormalMap:0===Q.normalMapType,decodeVideoTexture:!!Q.map&&!0===Q.map.isVideoTexture&&3001===Q.map.encoding,clearcoat:Cc,clearcoatMap:Cc&&!!Q.clearcoatMap,clearcoatRoughnessMap:Cc&&!!Q.clearcoatRoughnessMap,clearcoatNormalMap:Cc&&!!Q.clearcoatNormalMap,iridescence:Mc,iridescenceMap:Mc&&!!Q.iridescenceMap,iridescenceThicknessMap:Mc&&!!Q.iridescenceThicknessMap,
displacementMap:!!Q.displacementMap,roughnessMap:!!Q.roughnessMap,metalnessMap:!!Q.metalnessMap,specularMap:!!Q.specularMap,specularIntensityMap:!!Q.specularIntensityMap,specularColorMap:!!Q.specularColorMap,opaque:!1===Q.transparent&&1===Q.blending,alphaMap:!!Q.alphaMap,alphaTest:0<Q.alphaTest,gradientMap:!!Q.gradientMap,sheen:0<Q.sheen,sheenColorMap:!!Q.sheenColorMap,sheenRoughnessMap:!!Q.sheenRoughnessMap,transmission:0<Q.transmission,transmissionMap:!!Q.transmissionMap,thicknessMap:!!Q.thicknessMap,
combine:Q.combine,vertexTangents:!!Q.normalMap&&!!Ua.attributes.tangent,vertexColors:Q.vertexColors,vertexAlphas:!0===Q.vertexColors&&!!Ua.attributes.color&&4===Ua.attributes.color.itemSize,vertexUvs:!!Q.map||!!Q.bumpMap||!!Q.normalMap||!!Q.specularMap||!!Q.alphaMap||!!Q.emissiveMap||!!Q.roughnessMap||!!Q.metalnessMap||!!Q.clearcoatMap||!!Q.clearcoatRoughnessMap||!!Q.clearcoatNormalMap||!!Q.iridescenceMap||!!Q.iridescenceThicknessMap||!!Q.displacementMap||!!Q.transmissionMap||!!Q.thicknessMap||!!Q.specularIntensityMap||
!!Q.specularColorMap||!!Q.sheenColorMap||!!Q.sheenRoughnessMap,uvsVertexOnly:!(Q.map||Q.bumpMap||Q.normalMap||Q.specularMap||Q.alphaMap||Q.emissiveMap||Q.roughnessMap||Q.metalnessMap||Q.clearcoatNormalMap||Q.iridescenceMap||Q.iridescenceThicknessMap||0<Q.transmission||Q.transmissionMap||Q.thicknessMap||Q.specularIntensityMap||Q.specularColorMap||0<Q.sheen||Q.sheenColorMap||Q.sheenRoughnessMap)&&!!Q.displacementMap,fog:!!pb,useFog:!0===Q.fog,fogExp2:pb&&pb.isFogExp2,flatShading:!!Q.flatShading,sizeAttenuation:Q.sizeAttenuation,
logarithmicDepthBuffer:S,skinning:!0===$a.isSkinnedMesh,morphTargets:void 0!==Ua.morphAttributes.position,morphNormals:void 0!==Ua.morphAttributes.normal,morphColors:void 0!==Ua.morphAttributes.color,morphTargetsCount:vb,morphTextureStride:yb,numDirLights:la.directional.length,numPointLights:la.point.length,numSpotLights:la.spot.length,numSpotLightMaps:la.spotLightMap.length,numRectAreaLights:la.rectArea.length,numHemiLights:la.hemi.length,numDirLightShadows:la.directionalShadowMap.length,numPointLightShadows:la.pointShadowMap.length,
numSpotLightShadows:la.spotShadowMap.length,numSpotLightShadowsWithMaps:la.numSpotLightShadowsWithMaps,numClippingPlanes:n.numPlanes,numClipIntersection:n.numIntersection,dithering:Q.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<Xa.length,shadowMapType:a.shadowMap.type,toneMapping:Q.toneMapped?a.toneMapping:0,useLegacyLights:a.useLegacyLights,premultipliedAlpha:Q.premultipliedAlpha,doubleSided:2===Q.side,flipSided:1===Q.side,useDepthPacking:!!Q.depthPacking,depthPacking:Q.depthPacking||0,index0AttributeName:Q.index0AttributeName,
extensionDerivatives:Q.extensions&&Q.extensions.derivatives,extensionFragDepth:Q.extensions&&Q.extensions.fragDepth,extensionDrawBuffers:Q.extensions&&Q.extensions.drawBuffers,extensionShaderTextureLOD:Q.extensions&&Q.extensions.shaderTextureLOD,rendererExtensionFragDepth:R||e.has("EXT_frag_depth"),rendererExtensionDrawBuffers:R||e.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:R||e.has("EXT_shader_texture_lod"),customProgramCacheKey:Q.customProgramCacheKey()}},getProgramCacheKey:function(Q){const la=
[];Q.shaderID?la.push(Q.shaderID):(la.push(Q.customVertexShaderID),la.push(Q.customFragmentShaderID));if(void 0!==Q.defines)for(const Xa in Q.defines)la.push(Xa),la.push(Q.defines[Xa]);!1===Q.isRawShaderMaterial&&(la.push(Q.precision),la.push(Q.outputEncoding),la.push(Q.envMapMode),la.push(Q.envMapCubeUVHeight),la.push(Q.combine),la.push(Q.vertexUvs),la.push(Q.fogExp2),la.push(Q.sizeAttenuation),la.push(Q.morphTargetsCount),la.push(Q.morphAttributeCount),la.push(Q.numDirLights),la.push(Q.numPointLights),
la.push(Q.numSpotLights),la.push(Q.numSpotLightMaps),la.push(Q.numHemiLights),la.push(Q.numRectAreaLights),la.push(Q.numDirLightShadows),la.push(Q.numPointLightShadows),la.push(Q.numSpotLightShadows),la.push(Q.numSpotLightShadowsWithMaps),la.push(Q.shadowMapType),la.push(Q.toneMapping),la.push(Q.numClippingPlanes),la.push(Q.numClipIntersection),la.push(Q.depthPacking),v.disableAll(),Q.isWebGL2&&v.enable(0),Q.supportsVertexTextures&&v.enable(1),Q.instancing&&v.enable(2),Q.instancingColor&&v.enable(3),
Q.map&&v.enable(4),Q.matcap&&v.enable(5),Q.envMap&&v.enable(6),Q.lightMap&&v.enable(7),Q.aoMap&&v.enable(8),Q.emissiveMap&&v.enable(9),Q.bumpMap&&v.enable(10),Q.normalMap&&v.enable(11),Q.objectSpaceNormalMap&&v.enable(12),Q.tangentSpaceNormalMap&&v.enable(13),Q.clearcoat&&v.enable(14),Q.clearcoatMap&&v.enable(15),Q.clearcoatRoughnessMap&&v.enable(16),Q.clearcoatNormalMap&&v.enable(17),Q.iridescence&&v.enable(18),Q.iridescenceMap&&v.enable(19),Q.iridescenceThicknessMap&&v.enable(20),Q.displacementMap&&
v.enable(21),Q.specularMap&&v.enable(22),Q.roughnessMap&&v.enable(23),Q.metalnessMap&&v.enable(24),Q.gradientMap&&v.enable(25),Q.alphaMap&&v.enable(26),Q.alphaTest&&v.enable(27),Q.vertexColors&&v.enable(28),Q.vertexAlphas&&v.enable(29),Q.vertexUvs&&v.enable(30),Q.vertexTangents&&v.enable(31),Q.uvsVertexOnly&&v.enable(32),la.push(v.mask),v.disableAll(),Q.fog&&v.enable(0),Q.useFog&&v.enable(1),Q.flatShading&&v.enable(2),Q.logarithmicDepthBuffer&&v.enable(3),Q.skinning&&v.enable(4),Q.morphTargets&&v.enable(5),
Q.morphNormals&&v.enable(6),Q.morphColors&&v.enable(7),Q.premultipliedAlpha&&v.enable(8),Q.shadowMapEnabled&&v.enable(9),Q.useLegacyLights&&v.enable(10),Q.doubleSided&&v.enable(11),Q.flipSided&&v.enable(12),Q.useDepthPacking&&v.enable(13),Q.dithering&&v.enable(14),Q.specularIntensityMap&&v.enable(15),Q.specularColorMap&&v.enable(16),Q.transmission&&v.enable(17),Q.transmissionMap&&v.enable(18),Q.thicknessMap&&v.enable(19),Q.sheen&&v.enable(20),Q.sheenColorMap&&v.enable(21),Q.sheenRoughnessMap&&v.enable(22),
Q.decodeVideoTexture&&v.enable(23),Q.opaque&&v.enable(24),la.push(v.mask),la.push(a.outputEncoding));la.push(Q.customProgramCacheKey);return la.join()},getUniforms:function(Q){const la=ha[Q.type];return la?wj.clone($e[la].uniforms):Q.uniforms},acquireProgram:function(Q,la){let Xa;for(let Ba=0,$a=G.length;Ba<$a;Ba++){const pb=G[Ba];if(pb.cacheKey===la){Xa=pb;++Xa.usedTimes;break}}void 0===Xa&&(Xa=new Bd(a,la,Q,l),G.push(Xa));return Xa},releaseProgram:function(Q){if(0===--Q.usedTimes){const la=G.indexOf(Q);
G[la]=G[G.length-1];G.pop();Q.destroy()}},releaseShaderCache:function(Q){E.remove(Q)},programs:G,dispose:function(){E.dispose()}}}function Ie(){let a=new WeakMap;return{get:function(b){let c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function(b){a.delete(b)},update:function(b,c,e){a.get(b)[c]=e},dispose:function(){a=new WeakMap}}}function ca(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.material.id!==b.material.id?
a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function ma(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function Fa(){function a(n,v,E,G,R,S){let V=b[c];void 0===V?(V={id:n.id,object:n,geometry:v,material:E,groupOrder:G,renderOrder:n.renderOrder,z:R,group:S},b[c]=V):(V.id=n.id,V.object=n,V.geometry=v,V.material=E,V.groupOrder=G,V.renderOrder=n.renderOrder,V.z=R,V.group=S);c++;return V}
const b=[];let c=0;const e=[],f=[],l=[];return{opaque:e,transmissive:f,transparent:l,init:function(){c=0;e.length=0;f.length=0;l.length=0},push:function(n,v,E,G,R,S){n=a(n,v,E,G,R,S);0<E.transmission?f.push(n):!0===E.transparent?l.push(n):e.push(n)},unshift:function(n,v,E,G,R,S){n=a(n,v,E,G,R,S);0<E.transmission?f.unshift(n):!0===E.transparent?l.unshift(n):e.unshift(n)},finish:function(){for(let n=c,v=b.length;n<v;n++){const E=b[n];if(null===E.id)break;E.id=null;E.object=null;E.geometry=null;E.material=
null;E.group=null}},sort:function(n,v){1<e.length&&e.sort(n||ca);1<f.length&&f.sort(v||ma);1<l.length&&l.sort(v||ma)}}}function Ja(){let a=new WeakMap;return{get:function(b,c){const e=a.get(b);void 0===e?(c=new Fa,a.set(b,[c])):c>=e.length?(c=new Fa,e.push(c)):c=e[c];return c},dispose:function(){a=new WeakMap}}}function Za(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={direction:new Ga,color:new Ic};break;case "SpotLight":c={position:new Ga,
direction:new Ga,color:new Ic,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case "PointLight":c={position:new Ga,color:new Ic,distance:0,decay:0};break;case "HemisphereLight":c={direction:new Ga,skyColor:new Ic,groundColor:new Ic};break;case "RectAreaLight":c={color:new Ic,position:new Ga,halfWidth:new Ga,halfHeight:new Ga}}return a[b.id]=c}}}function Ia(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={shadowBias:0,shadowNormalBias:0,
shadowRadius:1,shadowMapSize:new Xb};break;case "SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xb};break;case "PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xb,shadowCameraNear:1,shadowCameraFar:1E3}}return a[b.id]=c}}}function Wa(a,b){return(b.castShadow?2:0)-(a.castShadow?2:0)+(b.map?1:0)-(a.map?1:0)}function lb(a,b){const c=new Za,e=Ia(),f={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,
numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let E=0;9>E;E++)f.probe.push(new Ga);const l=new Ga,n=new gd,v=new gd;return{setup:function(E,
G){let R=0,S=0,V=0;for(var ia=0;9>ia;ia++)f.probe[ia].set(0,0,0);let ha=ia=0,Q=0,la=0,Xa=0,Ba=0,$a=0,pb=0,Ua=0,Mb=0;E.sort(Wa);G=!0===G?Math.PI:1;for(let Zb=0,cc=E.length;Zb<cc;Zb++){var cb=E[Zb],vb=cb.color,yb=cb.intensity,xb=cb.distance,fc=cb.shadow&&cb.shadow.map?cb.shadow.map.texture:null;if(cb.isAmbientLight)R+=vb.r*yb*G,S+=vb.g*yb*G,V+=vb.b*yb*G;else if(cb.isLightProbe)for(fc=0;9>fc;fc++)f.probe[fc].addScaledVector(cb.sh.coefficients[fc],yb);else if(cb.isDirectionalLight)yb=c.get(cb),yb.color.copy(cb.color).multiplyScalar(cb.intensity*
G),cb.castShadow&&(vb=cb.shadow,xb=e.get(cb),xb.shadowBias=vb.bias,xb.shadowNormalBias=vb.normalBias,xb.shadowRadius=vb.radius,xb.shadowMapSize=vb.mapSize,f.directionalShadow[ia]=xb,f.directionalShadowMap[ia]=fc,f.directionalShadowMatrix[ia]=cb.shadow.matrix,Ba++),f.directional[ia]=yb,ia++;else if(cb.isSpotLight){const bc=c.get(cb);bc.position.setFromMatrixPosition(cb.matrixWorld);bc.color.copy(vb).multiplyScalar(yb*G);bc.distance=xb;bc.coneCos=Math.cos(cb.angle);bc.penumbraCos=Math.cos(cb.angle*
(1-cb.penumbra));bc.decay=cb.decay;f.spot[Q]=bc;yb=cb.shadow;cb.map&&(f.spotLightMap[Ua]=cb.map,Ua++,yb.updateMatrices(cb),cb.castShadow&&Mb++);f.spotLightMatrix[Q]=yb.matrix;cb.castShadow&&(cb=e.get(cb),cb.shadowBias=yb.bias,cb.shadowNormalBias=yb.normalBias,cb.shadowRadius=yb.radius,cb.shadowMapSize=yb.mapSize,f.spotShadow[Q]=cb,f.spotShadowMap[Q]=fc,pb++);Q++}else cb.isRectAreaLight?(fc=c.get(cb),fc.color.copy(vb).multiplyScalar(yb),fc.halfWidth.set(.5*cb.width,0,0),fc.halfHeight.set(0,.5*cb.height,
0),f.rectArea[la]=fc,la++):cb.isPointLight?(yb=c.get(cb),yb.color.copy(cb.color).multiplyScalar(cb.intensity*G),yb.distance=cb.distance,yb.decay=cb.decay,cb.castShadow&&(vb=cb.shadow,xb=e.get(cb),xb.shadowBias=vb.bias,xb.shadowNormalBias=vb.normalBias,xb.shadowRadius=vb.radius,xb.shadowMapSize=vb.mapSize,xb.shadowCameraNear=vb.camera.near,xb.shadowCameraFar=vb.camera.far,f.pointShadow[ha]=xb,f.pointShadowMap[ha]=fc,f.pointShadowMatrix[ha]=cb.shadow.matrix,$a++),f.point[ha]=yb,ha++):cb.isHemisphereLight&&
(fc=c.get(cb),fc.skyColor.copy(cb.color).multiplyScalar(yb*G),fc.groundColor.copy(cb.groundColor).multiplyScalar(yb*G),f.hemi[Xa]=fc,Xa++)}0<la&&(b.isWebGL2?(f.rectAreaLTC1=yc.LTC_FLOAT_1,f.rectAreaLTC2=yc.LTC_FLOAT_2):!0===a.has("OES_texture_float_linear")?(f.rectAreaLTC1=yc.LTC_FLOAT_1,f.rectAreaLTC2=yc.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(f.rectAreaLTC1=yc.LTC_HALF_1,f.rectAreaLTC2=yc.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions."));
f.ambient[0]=R;f.ambient[1]=S;f.ambient[2]=V;E=f.hash;if(E.directionalLength!==ia||E.pointLength!==ha||E.spotLength!==Q||E.rectAreaLength!==la||E.hemiLength!==Xa||E.numDirectionalShadows!==Ba||E.numPointShadows!==$a||E.numSpotShadows!==pb||E.numSpotMaps!==Ua)f.directional.length=ia,f.spot.length=Q,f.rectArea.length=la,f.point.length=ha,f.hemi.length=Xa,f.directionalShadow.length=Ba,f.directionalShadowMap.length=Ba,f.pointShadow.length=$a,f.pointShadowMap.length=$a,f.spotShadow.length=pb,f.spotShadowMap.length=
pb,f.directionalShadowMatrix.length=Ba,f.pointShadowMatrix.length=$a,f.spotLightMatrix.length=pb+Ua-Mb,f.spotLightMap.length=Ua,f.numSpotLightShadowsWithMaps=Mb,E.directionalLength=ia,E.pointLength=ha,E.spotLength=Q,E.rectAreaLength=la,E.hemiLength=Xa,E.numDirectionalShadows=Ba,E.numPointShadows=$a,E.numSpotShadows=pb,E.numSpotMaps=Ua,f.version=hl++},setupView:function(E,G){let R=0,S=0,V=0,ia=0,ha=0;G=G.matrixWorldInverse;for(let la=0,Xa=E.length;la<Xa;la++){const Ba=E[la];if(Ba.isDirectionalLight){var Q=
f.directional[R];Q.direction.setFromMatrixPosition(Ba.matrixWorld);l.setFromMatrixPosition(Ba.target.matrixWorld);Q.direction.sub(l);Q.direction.transformDirection(G);R++}else Ba.isSpotLight?(Q=f.spot[V],Q.position.setFromMatrixPosition(Ba.matrixWorld),Q.position.applyMatrix4(G),Q.direction.setFromMatrixPosition(Ba.matrixWorld),l.setFromMatrixPosition(Ba.target.matrixWorld),Q.direction.sub(l),Q.direction.transformDirection(G),V++):Ba.isRectAreaLight?(Q=f.rectArea[ia],Q.position.setFromMatrixPosition(Ba.matrixWorld),
Q.position.applyMatrix4(G),v.identity(),n.copy(Ba.matrixWorld),n.premultiply(G),v.extractRotation(n),Q.halfWidth.set(.5*Ba.width,0,0),Q.halfHeight.set(0,.5*Ba.height,0),Q.halfWidth.applyMatrix4(v),Q.halfHeight.applyMatrix4(v),ia++):Ba.isPointLight?(Q=f.point[S],Q.position.setFromMatrixPosition(Ba.matrixWorld),Q.position.applyMatrix4(G),S++):Ba.isHemisphereLight&&(Q=f.hemi[ha],Q.direction.setFromMatrixPosition(Ba.matrixWorld),Q.direction.transformDirection(G),ha++)}},state:f}}function nb(a,b){const c=
new lb(a,b),e=[],f=[];return{init:function(){e.length=0;f.length=0},state:{lightsArray:e,shadowsArray:f,lights:c},setupLights:function(l){c.setup(e,l)},setupLightsView:function(l){c.setupView(e,l)},pushLight:function(l){e.push(l)},pushShadow:function(l){f.push(l)}}}function sb(a,b){let c=new WeakMap;return{get:function(e,f=0){const l=c.get(e);void 0===l?(f=new nb(a,b),c.set(e,[f])):f>=l.length?(f=new nb(a,b),l.push(f)):f=l[f];return f},dispose:function(){c=new WeakMap}}}function rb(a,b,c){function e(Ba,
$a,pb,Ua,Mb,cb){Ba=!0===pb.isPointLight?Ba.customDistanceMaterial:Ba.customDepthMaterial;if(void 0===Ba&&(Ba=!0===pb.isPointLight?R:G,a.localClippingEnabled&&!0===$a.clipShadows&&Array.isArray($a.clippingPlanes)&&0!==$a.clippingPlanes.length||$a.displacementMap&&0!==$a.displacementScale||$a.alphaMap&&0<$a.alphaTest||$a.map&&0<$a.alphaTest)){var vb=Ba.uuid;const yb=$a.uuid;let xb=S[vb];void 0===xb&&(xb={},S[vb]=xb);vb=xb[yb];void 0===vb&&(vb=Ba.clone(),xb[yb]=vb);Ba=vb}Ba.visible=$a.visible;Ba.wireframe=
$a.wireframe;Ba.side=3===cb?null!==$a.shadowSide?$a.shadowSide:$a.side:null!==$a.shadowSide?$a.shadowSide:ia[$a.side];Ba.alphaMap=$a.alphaMap;Ba.alphaTest=$a.alphaTest;Ba.map=$a.map;Ba.clipShadows=$a.clipShadows;Ba.clippingPlanes=$a.clippingPlanes;Ba.clipIntersection=$a.clipIntersection;Ba.displacementMap=$a.displacementMap;Ba.displacementScale=$a.displacementScale;Ba.displacementBias=$a.displacementBias;Ba.wireframeLinewidth=$a.wireframeLinewidth;Ba.linewidth=$a.linewidth;!0===pb.isPointLight&&!0===
Ba.isMeshDistanceMaterial&&(Ba.referencePosition.setFromMatrixPosition(pb.matrixWorld),Ba.nearDistance=Ua,Ba.farDistance=Mb);return Ba}function f(Ba,$a,pb,Ua,Mb){if(!1!==Ba.visible){if(Ba.layers.test($a.layers)&&(Ba.isMesh||Ba.isLine||Ba.isPoints)&&(Ba.castShadow||Ba.receiveShadow&&3===Mb)&&(!Ba.frustumCulled||l.intersectsObject(Ba))){Ba.modelViewMatrix.multiplyMatrices(pb.matrixWorldInverse,Ba.matrixWorld);const yb=b.update(Ba);var cb=Ba.material;if(Array.isArray(cb)){const xb=yb.groups;for(let fc=
0,Zb=xb.length;fc<Zb;fc++){const cc=xb[fc];var vb=cb[cc.materialIndex];vb&&vb.visible&&(vb=e(Ba,vb,Ua,pb.near,pb.far,Mb),a.renderBufferDirect(pb,null,yb,vb,Ba,cc))}}else cb.visible&&(cb=e(Ba,cb,Ua,pb.near,pb.far,Mb),a.renderBufferDirect(pb,null,yb,cb,Ba,null))}Ba=Ba.children;for(let yb=0,xb=Ba.length;yb<xb;yb++)f(Ba[yb],$a,pb,Ua,Mb)}}let l=new rh;const n=new Xb,v=new Xb,E=new Gd,G=new si({depthPacking:3201}),R=new ti,S={},V=c.maxTextureSize,ia={[0]:1,[1]:0,[2]:2},ha=new ff({defines:{VSM_SAMPLES:8},
uniforms:{shadow_pass:{value:null},resolution:{value:new Xb},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position \x3d vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include \x3cpacking\x3e\nvoid main() {\n\tconst float samples \x3d float( VSM_SAMPLES );\n\tfloat mean \x3d 0.0;\n\tfloat squared_mean \x3d 0.0;\n\tfloat uvStride \x3d samples \x3c\x3d 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart \x3d samples \x3c\x3d 1.0 ? 0.0 : - 1.0;\n\tfor ( float i \x3d 0.0; i \x3c samples; i ++ ) {\n\t\tfloat uvOffset \x3d uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution \x3d unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean +\x3d distribution.x;\n\t\t\tsquared_mean +\x3d distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth \x3d unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean +\x3d depth;\n\t\t\tsquared_mean +\x3d depth * depth;\n\t\t#endif\n\t}\n\tmean \x3d mean / samples;\n\tsquared_mean \x3d squared_mean / samples;\n\tfloat std_dev \x3d sqrt( squared_mean - mean * mean );\n\tgl_FragColor \x3d pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),
Q=ha.clone();Q.defines.HORIZONTAL_PASS=1;c=new td;c.setAttribute("position",new Td(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const la=new ze(c,ha),Xa=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(Ba,$a,pb){if(!1!==Xa.enabled&&(!1!==Xa.autoUpdate||!1!==Xa.needsUpdate)&&0!==Ba.length){var Ua=a.getRenderTarget(),Mb=a.getActiveCubeFace(),cb=a.getActiveMipmapLevel(),vb=a.state;vb.setBlending(0);vb.buffers.color.setClear(1,1,1,1);vb.buffers.depth.setTest(!0);
vb.setScissorTest(!1);for(let Zb=0,cc=Ba.length;Zb<cc;Zb++){var yb=Ba[Zb];const bc=yb.shadow;if(void 0===bc)console.warn("THREE.WebGLShadowMap:",yb,"has no shadow.");else if(!1!==bc.autoUpdate||!1!==bc.needsUpdate){n.copy(bc.mapSize);var xb=bc.getFrameExtents();n.multiply(xb);v.copy(bc.mapSize);if(n.x>V||n.y>V)n.x>V&&(v.x=Math.floor(V/xb.x),n.x=v.x*xb.x,bc.mapSize.x=v.x),n.y>V&&(v.y=Math.floor(V/xb.y),n.y=v.y*xb.y,bc.mapSize.y=v.y);null===bc.map&&(bc.map=new Me(n.x,n.y,3!==this.type?{minFilter:1003,
magFilter:1003}:{}),bc.map.texture.name=yb.name+".shadowMap",bc.camera.updateProjectionMatrix());a.setRenderTarget(bc.map);a.clear();xb=bc.getViewportCount();for(var fc=0;fc<xb;fc++){const Cc=bc.getViewport(fc);E.set(v.x*Cc.x,v.y*Cc.y,v.x*Cc.z,v.y*Cc.w);vb.viewport(E);bc.updateMatrices(yb,fc);l=bc.getFrustum();f($a,pb,bc.camera,yb,this.type)}!0!==bc.isPointLightShadow&&3===this.type&&(yb=bc,xb=pb,fc=b.update(la),ha.defines.VSM_SAMPLES!==yb.blurSamples&&(ha.defines.VSM_SAMPLES=yb.blurSamples,Q.defines.VSM_SAMPLES=
yb.blurSamples,ha.needsUpdate=!0,Q.needsUpdate=!0),null===yb.mapPass&&(yb.mapPass=new Me(n.x,n.y)),ha.uniforms.shadow_pass.value=yb.map.texture,ha.uniforms.resolution.value=yb.mapSize,ha.uniforms.radius.value=yb.radius,a.setRenderTarget(yb.mapPass),a.clear(),a.renderBufferDirect(xb,null,fc,ha,la,null),Q.uniforms.shadow_pass.value=yb.mapPass.texture,Q.uniforms.resolution.value=yb.mapSize,Q.uniforms.radius.value=yb.radius,a.setRenderTarget(yb.map),a.clear(),a.renderBufferDirect(xb,null,fc,Q,la,null));
bc.needsUpdate=!1}}Xa.needsUpdate=!1;a.setRenderTarget(Ua,Mb,cb)}}}function Lb(a,b,c){function e(Sa,Eb,Qb){const Tb=new Uint8Array(4),ec=a.createTexture();a.bindTexture(Sa,ec);a.texParameteri(Sa,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(Sa,a.TEXTURE_MAG_FILTER,a.NEAREST);for(Sa=0;Sa<Qb;Sa++)a.texImage2D(Eb+Sa,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,Tb);return ec}function f(Sa){!0!==la[Sa]&&(a.enable(Sa),la[Sa]=!0)}function l(Sa){!1!==la[Sa]&&(a.disable(Sa),la[Sa]=!1)}function n(Sa,Eb,Qb,Tb,ec,
Fc,Kc,wd){if(0===Sa)!0===Ua&&(l(a.BLEND),Ua=!1);else if(!1===Ua&&(f(a.BLEND),Ua=!0),5!==Sa){if(Sa!==Mb||wd!==cc){if(100!==cb||100!==xb)a.blendEquation(a.FUNC_ADD),xb=cb=100;if(wd)switch(Sa){case 1:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.ONE,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",
Sa)}else switch(Sa){case 1:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Sa)}Zb=fc=yb=vb=null;Mb=Sa;cc=wd}}else{ec=ec||Eb;Fc=Fc||Qb;Kc=Kc||Tb;if(Eb!==cb||ec!==xb)a.blendEquationSeparate(hb[Eb],hb[ec]),cb=Eb,xb=ec;if(Qb!==vb||Tb!==yb||
Fc!==fc||Kc!==Zb)a.blendFuncSeparate(qc[Qb],qc[Tb],qc[Fc],qc[Kc]),vb=Qb,yb=Tb,fc=Fc,Zb=Kc;Mb=Sa;cc=!1}}function v(Sa){bc!==Sa&&(Sa?a.frontFace(a.CW):a.frontFace(a.CCW),bc=Sa)}function E(Sa){0!==Sa?(f(a.CULL_FACE),Sa!==Cc&&(1===Sa?a.cullFace(a.BACK):2===Sa?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):l(a.CULL_FACE);Cc=Sa}function G(Sa,Eb,Qb){if(Sa){if(f(a.POLYGON_OFFSET_FILL),Zc!==Eb||ed!==Qb)a.polygonOffset(Eb,Qb),Zc=Eb,ed=Qb}else l(a.POLYGON_OFFSET_FILL)}const R=c.isWebGL2,S=new function(){let Sa=
!1;const Eb=new Gd;let Qb=null;const Tb=new Gd(0,0,0,0);return{setMask:function(ec){Qb===ec||Sa||(a.colorMask(ec,ec,ec,ec),Qb=ec)},setLocked:function(ec){Sa=ec},setClear:function(ec,Fc,Kc,wd,tb){!0===tb&&(ec*=wd,Fc*=wd,Kc*=wd);Eb.set(ec,Fc,Kc,wd);!1===Tb.equals(Eb)&&(a.clearColor(ec,Fc,Kc,wd),Tb.copy(Eb))},reset:function(){Sa=!1;Qb=null;Tb.set(-1,0,0,0)}}},V=new function(){let Sa=!1,Eb=null,Qb=null,Tb=null;return{setTest:function(ec){ec?f(a.DEPTH_TEST):l(a.DEPTH_TEST)},setMask:function(ec){Eb===ec||
Sa||(a.depthMask(ec),Eb=ec)},setFunc:function(ec){if(Qb!==ec){switch(ec){case 0:a.depthFunc(a.NEVER);break;case 1:a.depthFunc(a.ALWAYS);break;case 2:a.depthFunc(a.LESS);break;case 3:a.depthFunc(a.LEQUAL);break;case 4:a.depthFunc(a.EQUAL);break;case 5:a.depthFunc(a.GEQUAL);break;case 6:a.depthFunc(a.GREATER);break;case 7:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}Qb=ec}},setLocked:function(ec){Sa=ec},setClear:function(ec){Tb!==ec&&(a.clearDepth(ec),Tb=ec)},reset:function(){Sa=!1;Tb=
Qb=Eb=null}}},ia=new function(){let Sa=!1,Eb=null,Qb=null,Tb=null,ec=null,Fc=null,Kc=null,wd=null,tb=null;return{setTest:function(dd){Sa||(dd?f(a.STENCIL_TEST):l(a.STENCIL_TEST))},setMask:function(dd){Eb===dd||Sa||(a.stencilMask(dd),Eb=dd)},setFunc:function(dd,Cd,ud){if(Qb!==dd||Tb!==Cd||ec!==ud)a.stencilFunc(dd,Cd,ud),Qb=dd,Tb=Cd,ec=ud},setOp:function(dd,Cd,ud){if(Fc!==dd||Kc!==Cd||wd!==ud)a.stencilOp(dd,Cd,ud),Fc=dd,Kc=Cd,wd=ud},setLocked:function(dd){Sa=dd},setClear:function(dd){tb!==dd&&(a.clearStencil(dd),
tb=dd)},reset:function(){Sa=!1;tb=wd=Kc=Fc=ec=Tb=Qb=Eb=null}}},ha=new WeakMap,Q=new WeakMap;let la={},Xa={},Ba=new WeakMap,$a=[],pb=null,Ua=!1,Mb=null,cb=null,vb=null,yb=null,xb=null,fc=null,Zb=null,cc=!1,bc=null,Cc=null,Mc=null,Zc=null,ed=null;const dc=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let vc=!1;var Ac=0;Ac=a.getParameter(a.VERSION);-1!==Ac.indexOf("WebGL")?(Ac=parseFloat(/^WebGL (\d)/.exec(Ac)[1]),vc=1<=Ac):-1!==Ac.indexOf("OpenGL ES")&&(Ac=parseFloat(/^OpenGL ES (\d)/.exec(Ac)[1]),
vc=2<=Ac);let Vc=null,Lc={};Ac=a.getParameter(a.SCISSOR_BOX);const ua=a.getParameter(a.VIEWPORT),pa=(new Gd).fromArray(Ac),Na=(new Gd).fromArray(ua),Ta={};Ta[a.TEXTURE_2D]=e(a.TEXTURE_2D,a.TEXTURE_2D,1);Ta[a.TEXTURE_CUBE_MAP]=e(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);S.setClear(0,0,0,1);V.setClear(1);ia.setClear(0);f(a.DEPTH_TEST);V.setFunc(3);v(!1);E(1);f(a.CULL_FACE);n(0);const hb={[100]:a.FUNC_ADD,[101]:a.FUNC_SUBTRACT,[102]:a.FUNC_REVERSE_SUBTRACT};R?(hb[103]=a.MIN,hb[104]=a.MAX):
(Ac=b.get("EXT_blend_minmax"),null!==Ac&&(hb[103]=Ac.MIN_EXT,hb[104]=Ac.MAX_EXT));const qc={[200]:a.ZERO,[201]:a.ONE,[202]:a.SRC_COLOR,[204]:a.SRC_ALPHA,[210]:a.SRC_ALPHA_SATURATE,[208]:a.DST_COLOR,[206]:a.DST_ALPHA,[203]:a.ONE_MINUS_SRC_COLOR,[205]:a.ONE_MINUS_SRC_ALPHA,[209]:a.ONE_MINUS_DST_COLOR,[207]:a.ONE_MINUS_DST_ALPHA};return{buffers:{color:S,depth:V,stencil:ia},enable:f,disable:l,bindFramebuffer:function(Sa,Eb){return Xa[Sa]!==Eb?(a.bindFramebuffer(Sa,Eb),Xa[Sa]=Eb,R&&(Sa===a.DRAW_FRAMEBUFFER&&
(Xa[a.FRAMEBUFFER]=Eb),Sa===a.FRAMEBUFFER&&(Xa[a.DRAW_FRAMEBUFFER]=Eb)),!0):!1},drawBuffers:function(Sa,Eb){let Qb=$a,Tb=!1;if(Sa)if(Qb=Ba.get(Eb),void 0===Qb&&(Qb=[],Ba.set(Eb,Qb)),Sa.isWebGLMultipleRenderTargets){if(Sa=Sa.texture,Qb.length!==Sa.length||Qb[0]!==a.COLOR_ATTACHMENT0){for(let ec=0,Fc=Sa.length;ec<Fc;ec++)Qb[ec]=a.COLOR_ATTACHMENT0+ec;Qb.length=Sa.length;Tb=!0}}else Qb[0]!==a.COLOR_ATTACHMENT0&&(Qb[0]=a.COLOR_ATTACHMENT0,Tb=!0);else Qb[0]!==a.BACK&&(Qb[0]=a.BACK,Tb=!0);Tb&&(c.isWebGL2?
a.drawBuffers(Qb):b.get("WEBGL_draw_buffers").drawBuffersWEBGL(Qb))},useProgram:function(Sa){return pb!==Sa?(a.useProgram(Sa),pb=Sa,!0):!1},setBlending:n,setMaterial:function(Sa,Eb){2===Sa.side?l(a.CULL_FACE):f(a.CULL_FACE);let Qb=1===Sa.side;Eb&&(Qb=!Qb);v(Qb);1===Sa.blending&&!1===Sa.transparent?n(0):n(Sa.blending,Sa.blendEquation,Sa.blendSrc,Sa.blendDst,Sa.blendEquationAlpha,Sa.blendSrcAlpha,Sa.blendDstAlpha,Sa.premultipliedAlpha);V.setFunc(Sa.depthFunc);V.setTest(Sa.depthTest);V.setMask(Sa.depthWrite);
S.setMask(Sa.colorWrite);Eb=Sa.stencilWrite;ia.setTest(Eb);Eb&&(ia.setMask(Sa.stencilWriteMask),ia.setFunc(Sa.stencilFunc,Sa.stencilRef,Sa.stencilFuncMask),ia.setOp(Sa.stencilFail,Sa.stencilZFail,Sa.stencilZPass));G(Sa.polygonOffset,Sa.polygonOffsetFactor,Sa.polygonOffsetUnits);!0===Sa.alphaToCoverage?f(a.SAMPLE_ALPHA_TO_COVERAGE):l(a.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:v,setCullFace:E,setLineWidth:function(Sa){Sa!==Mc&&(vc&&a.lineWidth(Sa),Mc=Sa)},setPolygonOffset:G,setScissorTest:function(Sa){Sa?
f(a.SCISSOR_TEST):l(a.SCISSOR_TEST)},activeTexture:function(Sa){void 0===Sa&&(Sa=a.TEXTURE0+dc-1);Vc!==Sa&&(a.activeTexture(Sa),Vc=Sa)},bindTexture:function(Sa,Eb,Qb){void 0===Qb&&(Qb=null===Vc?a.TEXTURE0+dc-1:Vc);let Tb=Lc[Qb];void 0===Tb&&(Tb={type:void 0,texture:void 0},Lc[Qb]=Tb);if(Tb.type!==Sa||Tb.texture!==Eb)Vc!==Qb&&(a.activeTexture(Qb),Vc=Qb),a.bindTexture(Sa,Eb||Ta[Sa]),Tb.type=Sa,Tb.texture=Eb},unbindTexture:function(){const Sa=Lc[Vc];void 0!==Sa&&void 0!==Sa.type&&(a.bindTexture(Sa.type,
null),Sa.type=void 0,Sa.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},compressedTexImage3D:function(){try{a.compressedTexImage3D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",
Sa)}},updateUBOMapping:function(Sa,Eb){let Qb=Q.get(Eb);void 0===Qb&&(Qb=new WeakMap,Q.set(Eb,Qb));let Tb=Qb.get(Sa);void 0===Tb&&(Tb=a.getUniformBlockIndex(Eb,Sa.name),Qb.set(Sa,Tb))},uniformBlockBinding:function(Sa,Eb){const Qb=Q.get(Eb).get(Sa);ha.get(Eb)!==Qb&&(a.uniformBlockBinding(Eb,Qb,Sa.__bindingPointIndex),ha.set(Eb,Qb))},texStorage2D:function(){try{a.texStorage2D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},texStorage3D:function(){try{a.texStorage3D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",
Sa)}},texSubImage2D:function(){try{a.texSubImage2D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},texSubImage3D:function(){try{a.texSubImage3D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},compressedTexSubImage2D:function(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},compressedTexSubImage3D:function(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(Sa){console.error("THREE.WebGLState:",Sa)}},
scissor:function(Sa){!1===pa.equals(Sa)&&(a.scissor(Sa.x,Sa.y,Sa.z,Sa.w),pa.copy(Sa))},viewport:function(Sa){!1===Na.equals(Sa)&&(a.viewport(Sa.x,Sa.y,Sa.z,Sa.w),Na.copy(Sa))},reset:function(){a.disable(a.BLEND);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);a.disable(a.POLYGON_OFFSET_FILL);a.disable(a.SCISSOR_TEST);a.disable(a.STENCIL_TEST);a.disable(a.SAMPLE_ALPHA_TO_COVERAGE);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.ONE,a.ZERO);a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO);a.colorMask(!0,!0,
!0,!0);a.clearColor(0,0,0,0);a.depthMask(!0);a.depthFunc(a.LESS);a.clearDepth(1);a.stencilMask(4294967295);a.stencilFunc(a.ALWAYS,0,4294967295);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.clearStencil(0);a.cullFace(a.BACK);a.frontFace(a.CCW);a.polygonOffset(0,0);a.activeTexture(a.TEXTURE0);a.bindFramebuffer(a.FRAMEBUFFER,null);!0===R&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null));a.useProgram(null);a.lineWidth(1);a.scissor(0,0,a.canvas.width,a.canvas.height);a.viewport(0,
0,a.canvas.width,a.canvas.height);la={};Vc=null;Lc={};Xa={};Ba=new WeakMap;$a=[];pb=null;Ua=!1;Zb=fc=xb=yb=vb=cb=Mb=null;cc=!1;ed=Zc=Mc=Cc=bc=null;pa.set(0,0,a.canvas.width,a.canvas.height);Na.set(0,0,a.canvas.width,a.canvas.height);S.reset();V.reset();ia.reset()}}}function oc(a,b,c,e,f,l,n){function v(ua,pa,Na,Ta){var hb=1;if(ua.width>Ta||ua.height>Ta)hb=Ta/Math.max(ua.width,ua.height);if(1>hb||!0===pa){if("undefined"!==typeof HTMLImageElement&&ua instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&
ua instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&ua instanceof ImageBitmap)return Ta=pa?z:Math.floor,pa=Ta(hb*ua.width),hb=Ta(hb*ua.height),void 0===ed&&(ed=vc?new OffscreenCanvas(pa,hb):t("canvas")),Na=Na?vc?new OffscreenCanvas(pa,hb):t("canvas"):ed,Na.width=pa,Na.height=hb,Na.getContext("2d").drawImage(ua,0,0,pa,hb),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ua.width+"x"+ua.height+") to ("+pa+"x"+hb+")."),Na;"data"in ua&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+
ua.width+"x"+ua.height+").")}return ua}function E(ua){return m(ua.width)&&m(ua.height)}function G(ua,pa){return ua.generateMipmaps&&pa&&1003!==ua.minFilter&&1006!==ua.minFilter}function R(ua,pa,Na,Ta,hb=!1){if(!1===xb)return pa;if(null!==ua){if(void 0!==a[ua])return a[ua];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ua+"'")}ua=pa;pa===a.RED&&(Na===a.FLOAT&&(ua=a.R32F),Na===a.HALF_FLOAT&&(ua=a.R16F),Na===a.UNSIGNED_BYTE&&(ua=a.R8));pa===a.RG&&(Na===a.FLOAT&&
(ua=a.RG32F),Na===a.HALF_FLOAT&&(ua=a.RG16F),Na===a.UNSIGNED_BYTE&&(ua=a.RG8));pa===a.RGBA&&(Na===a.FLOAT&&(ua=a.RGBA32F),Na===a.HALF_FLOAT&&(ua=a.RGBA16F),Na===a.UNSIGNED_BYTE&&(ua=3001===Ta&&!1===hb?a.SRGB8_ALPHA8:a.RGBA8),Na===a.UNSIGNED_SHORT_4_4_4_4&&(ua=a.RGBA4),Na===a.UNSIGNED_SHORT_5_5_5_1&&(ua=a.RGB5_A1));ua!==a.R16F&&ua!==a.R32F&&ua!==a.RG16F&&ua!==a.RG32F&&ua!==a.RGBA16F&&ua!==a.RGBA32F||b.get("EXT_color_buffer_float");return ua}function S(ua,pa,Na){return!0===G(ua,Na)||ua.isFramebufferTexture&&
1003!==ua.minFilter&&1006!==ua.minFilter?Math.log2(Math.max(pa.width,pa.height))+1:void 0!==ua.mipmaps&&0<ua.mipmaps.length?ua.mipmaps.length:ua.isCompressedTexture&&Array.isArray(ua.image)?pa.mipmaps.length:1}function V(ua){return 1003===ua||1004===ua||1005===ua?a.NEAREST:a.LINEAR}function ia(ua){ua=ua.target;ua.removeEventListener("dispose",ia);var pa=e.get(ua);if(void 0!==pa.__webglInit){var Na=ua.source,Ta=dc.get(Na);Ta&&(pa=Ta[pa.__cacheKey],pa.usedTimes--,0===pa.usedTimes&&Q(ua),0===Object.keys(Ta).length&&
dc.delete(Na));e.remove(ua)}ua.isVideoTexture&&Zc.delete(ua)}function ha(ua){ua=ua.target;ua.removeEventListener("dispose",ha);const pa=ua.texture;var Na=e.get(ua),Ta=e.get(pa);void 0!==Ta.__webglTexture&&(a.deleteTexture(Ta.__webglTexture),n.memory.textures--);ua.depthTexture&&ua.depthTexture.dispose();if(ua.isWebGLCubeRenderTarget)for(Ta=0;6>Ta;Ta++)a.deleteFramebuffer(Na.__webglFramebuffer[Ta]),Na.__webglDepthbuffer&&a.deleteRenderbuffer(Na.__webglDepthbuffer[Ta]);else{a.deleteFramebuffer(Na.__webglFramebuffer);
Na.__webglDepthbuffer&&a.deleteRenderbuffer(Na.__webglDepthbuffer);Na.__webglMultisampledFramebuffer&&a.deleteFramebuffer(Na.__webglMultisampledFramebuffer);if(Na.__webglColorRenderbuffer)for(Ta=0;Ta<Na.__webglColorRenderbuffer.length;Ta++)Na.__webglColorRenderbuffer[Ta]&&a.deleteRenderbuffer(Na.__webglColorRenderbuffer[Ta]);Na.__webglDepthRenderbuffer&&a.deleteRenderbuffer(Na.__webglDepthRenderbuffer)}if(ua.isWebGLMultipleRenderTargets)for(let hb=0,qc=pa.length;hb<qc;hb++)Na=e.get(pa[hb]),Na.__webglTexture&&
(a.deleteTexture(Na.__webglTexture),n.memory.textures--),e.remove(pa[hb]);e.remove(pa);e.remove(ua)}function Q(ua){const pa=e.get(ua);a.deleteTexture(pa.__webglTexture);delete dc.get(ua.source)[pa.__cacheKey];n.memory.textures--}function la(ua,pa){const Na=e.get(ua);if(ua.isVideoTexture){var Ta=n.render.frame;Zc.get(ua)!==Ta&&(Zc.set(ua,Ta),ua.update())}if(!1===ua.isRenderTargetTexture&&0<ua.version&&Na.__version!==ua.version)if(Ta=ua.image,null===Ta)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");
else if(!1===Ta.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$a(Na,ua,pa);return}c.bindTexture(a.TEXTURE_2D,Na.__webglTexture,a.TEXTURE0+pa)}function Xa(ua,pa,Na){Na?(a.texParameteri(ua,a.TEXTURE_WRAP_S,Vc[pa.wrapS]),a.texParameteri(ua,a.TEXTURE_WRAP_T,Vc[pa.wrapT]),ua!==a.TEXTURE_3D&&ua!==a.TEXTURE_2D_ARRAY||a.texParameteri(ua,a.TEXTURE_WRAP_R,Vc[pa.wrapR]),a.texParameteri(ua,a.TEXTURE_MAG_FILTER,Lc[pa.magFilter]),a.texParameteri(ua,a.TEXTURE_MIN_FILTER,
Lc[pa.minFilter])):(a.texParameteri(ua,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(ua,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),ua!==a.TEXTURE_3D&&ua!==a.TEXTURE_2D_ARRAY||a.texParameteri(ua,a.TEXTURE_WRAP_R,a.CLAMP_TO_EDGE),1001===pa.wrapS&&1001===pa.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(ua,a.TEXTURE_MAG_FILTER,V(pa.magFilter)),a.texParameteri(ua,a.TEXTURE_MIN_FILTER,V(pa.minFilter)),
1003!==pa.minFilter&&1006!==pa.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));!0===b.has("EXT_texture_filter_anisotropic")&&(Na=b.get("EXT_texture_filter_anisotropic"),1003===pa.magFilter||1005!==pa.minFilter&&1008!==pa.minFilter||1015===pa.type&&!1===b.has("OES_texture_float_linear")||!1===xb&&1016===pa.type&&!1===b.has("OES_texture_half_float_linear")||!(1<pa.anisotropy||e.get(pa).__currentAnisotropy)||
(a.texParameterf(ua,Na.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(pa.anisotropy,f.getMaxAnisotropy())),e.get(pa).__currentAnisotropy=pa.anisotropy))}function Ba(ua,pa){let Na=!1;void 0===ua.__webglInit&&(ua.__webglInit=!0,pa.addEventListener("dispose",ia));var Ta=pa.source;let hb=dc.get(Ta);void 0===hb&&(hb={},dc.set(Ta,hb));Ta=[];Ta.push(pa.wrapS);Ta.push(pa.wrapT);Ta.push(pa.wrapR||0);Ta.push(pa.magFilter);Ta.push(pa.minFilter);Ta.push(pa.anisotropy);Ta.push(pa.internalFormat);Ta.push(pa.format);Ta.push(pa.type);
Ta.push(pa.generateMipmaps);Ta.push(pa.premultiplyAlpha);Ta.push(pa.flipY);Ta.push(pa.unpackAlignment);Ta.push(pa.encoding);Ta=Ta.join();if(Ta!==ua.__cacheKey){void 0===hb[Ta]&&(hb[Ta]={texture:a.createTexture(),usedTimes:0},n.memory.textures++,Na=!0);hb[Ta].usedTimes++;const qc=hb[ua.__cacheKey];void 0!==qc&&(hb[ua.__cacheKey].usedTimes--,0===qc.usedTimes&&Q(pa));ua.__cacheKey=Ta;ua.__webglTexture=hb[Ta].texture}return Na}function $a(ua,pa,Na){let Ta=a.TEXTURE_2D;if(pa.isDataArrayTexture||pa.isCompressedArrayTexture)Ta=
a.TEXTURE_2D_ARRAY;pa.isData3DTexture&&(Ta=a.TEXTURE_3D);var hb=Ba(ua,pa);const qc=pa.source;c.bindTexture(Ta,ua.__webglTexture,a.TEXTURE0+Na);const Sa=e.get(qc);if(qc.version!==Sa.__version||!0===hb){c.activeTexture(a.TEXTURE0+Na);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,pa.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pa.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,pa.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);Na=xb?!1:1001!==pa.wrapS||1001!==pa.wrapT||
1003!==pa.minFilter&&1006!==pa.minFilter;Na=Na&&!1===E(pa.image);var Eb=v(pa.image,Na,!1,cc);Eb=yb(pa,Eb);Na=E(Eb)||xb;const ec=l.convert(pa.format,pa.encoding);let Fc=l.convert(pa.type),Kc=R(pa.internalFormat,ec,Fc,pa.encoding,pa.isVideoTexture);Xa(Ta,pa,Na);var Qb=pa.mipmaps,Tb=xb&&!0!==pa.isVideoTexture;const wd=void 0===Sa.__version||!0===hb;hb=S(pa,Eb,Na);if(pa.isDepthTexture)Kc=a.DEPTH_COMPONENT,xb?Kc=1015===pa.type?a.DEPTH_COMPONENT32F:1014===pa.type?a.DEPTH_COMPONENT24:1020===pa.type?a.DEPTH24_STENCIL8:
a.DEPTH_COMPONENT16:1015===pa.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===pa.format&&Kc===a.DEPTH_COMPONENT&&1012!==pa.type&&1014!==pa.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),pa.type=1014,Fc=l.convert(pa.type)),1027===pa.format&&Kc===a.DEPTH_COMPONENT&&(Kc=a.DEPTH_STENCIL,1020!==pa.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),
pa.type=1020,Fc=l.convert(pa.type))),wd&&(Tb?c.texStorage2D(a.TEXTURE_2D,1,Kc,Eb.width,Eb.height):c.texImage2D(a.TEXTURE_2D,0,Kc,Eb.width,Eb.height,0,ec,Fc,null));else if(pa.isDataTexture)if(0<Qb.length&&Na){Tb&&wd&&c.texStorage2D(a.TEXTURE_2D,hb,Kc,Qb[0].width,Qb[0].height);for(let tb=0,dd=Qb.length;tb<dd;tb++)hb=Qb[tb],Tb?c.texSubImage2D(a.TEXTURE_2D,tb,0,0,hb.width,hb.height,ec,Fc,hb.data):c.texImage2D(a.TEXTURE_2D,tb,Kc,hb.width,hb.height,0,ec,Fc,hb.data);pa.generateMipmaps=!1}else Tb?(wd&&c.texStorage2D(a.TEXTURE_2D,
hb,Kc,Eb.width,Eb.height),c.texSubImage2D(a.TEXTURE_2D,0,0,0,Eb.width,Eb.height,ec,Fc,Eb.data)):c.texImage2D(a.TEXTURE_2D,0,Kc,Eb.width,Eb.height,0,ec,Fc,Eb.data);else if(pa.isCompressedTexture)if(pa.isCompressedArrayTexture){Tb&&wd&&c.texStorage3D(a.TEXTURE_2D_ARRAY,hb,Kc,Qb[0].width,Qb[0].height,Eb.depth);for(let tb=0,dd=Qb.length;tb<dd;tb++)hb=Qb[tb],1023!==pa.format?null!==ec?Tb?c.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,tb,0,0,0,hb.width,hb.height,Eb.depth,ec,hb.data,0,0):c.compressedTexImage3D(a.TEXTURE_2D_ARRAY,
tb,Kc,hb.width,hb.height,Eb.depth,0,hb.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tb?c.texSubImage3D(a.TEXTURE_2D_ARRAY,tb,0,0,0,hb.width,hb.height,Eb.depth,ec,Fc,hb.data):c.texImage3D(a.TEXTURE_2D_ARRAY,tb,Kc,hb.width,hb.height,Eb.depth,0,ec,Fc,hb.data)}else{Tb&&wd&&c.texStorage2D(a.TEXTURE_2D,hb,Kc,Qb[0].width,Qb[0].height);for(let tb=0,dd=Qb.length;tb<dd;tb++)hb=Qb[tb],1023!==pa.format?null!==ec?Tb?c.compressedTexSubImage2D(a.TEXTURE_2D,
tb,0,0,hb.width,hb.height,ec,hb.data):c.compressedTexImage2D(a.TEXTURE_2D,tb,Kc,hb.width,hb.height,0,hb.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tb?c.texSubImage2D(a.TEXTURE_2D,tb,0,0,hb.width,hb.height,ec,Fc,hb.data):c.texImage2D(a.TEXTURE_2D,tb,Kc,hb.width,hb.height,0,ec,Fc,hb.data)}else if(pa.isDataArrayTexture)Tb?(wd&&c.texStorage3D(a.TEXTURE_2D_ARRAY,hb,Kc,Eb.width,Eb.height,Eb.depth),c.texSubImage3D(a.TEXTURE_2D_ARRAY,
0,0,0,0,Eb.width,Eb.height,Eb.depth,ec,Fc,Eb.data)):c.texImage3D(a.TEXTURE_2D_ARRAY,0,Kc,Eb.width,Eb.height,Eb.depth,0,ec,Fc,Eb.data);else if(pa.isData3DTexture)Tb?(wd&&c.texStorage3D(a.TEXTURE_3D,hb,Kc,Eb.width,Eb.height,Eb.depth),c.texSubImage3D(a.TEXTURE_3D,0,0,0,0,Eb.width,Eb.height,Eb.depth,ec,Fc,Eb.data)):c.texImage3D(a.TEXTURE_3D,0,Kc,Eb.width,Eb.height,Eb.depth,0,ec,Fc,Eb.data);else if(pa.isFramebufferTexture){if(wd)if(Tb)c.texStorage2D(a.TEXTURE_2D,hb,Kc,Eb.width,Eb.height);else for(Qb=Eb.width,
Eb=Eb.height,Tb=0;Tb<hb;Tb++)c.texImage2D(a.TEXTURE_2D,Tb,Kc,Qb,Eb,0,ec,Fc,null),Qb>>=1,Eb>>=1}else if(0<Qb.length&&Na){Tb&&wd&&c.texStorage2D(a.TEXTURE_2D,hb,Kc,Qb[0].width,Qb[0].height);for(let tb=0,dd=Qb.length;tb<dd;tb++)hb=Qb[tb],Tb?c.texSubImage2D(a.TEXTURE_2D,tb,0,0,ec,Fc,hb):c.texImage2D(a.TEXTURE_2D,tb,Kc,ec,Fc,hb);pa.generateMipmaps=!1}else Tb?(wd&&c.texStorage2D(a.TEXTURE_2D,hb,Kc,Eb.width,Eb.height),c.texSubImage2D(a.TEXTURE_2D,0,0,0,ec,Fc,Eb)):c.texImage2D(a.TEXTURE_2D,0,Kc,ec,Fc,Eb);
G(pa,Na)&&a.generateMipmap(Ta);Sa.__version=qc.version;if(pa.onUpdate)pa.onUpdate(pa)}ua.__version=pa.version}function pb(ua,pa,Na,Ta,hb){const qc=l.convert(Na.format,Na.encoding),Sa=l.convert(Na.type),Eb=R(Na.internalFormat,qc,Sa,Na.encoding);e.get(pa).__hasExternalTextures||(hb===a.TEXTURE_3D||hb===a.TEXTURE_2D_ARRAY?c.texImage3D(hb,0,Eb,pa.width,pa.height,pa.depth,0,qc,Sa,null):c.texImage2D(hb,0,Eb,pa.width,pa.height,0,qc,Sa,null));c.bindFramebuffer(a.FRAMEBUFFER,ua);vb(pa)?Cc.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,
Ta,hb,e.get(Na).__webglTexture,0,cb(pa)):(hb===a.TEXTURE_2D||hb>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&hb<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,Ta,hb,e.get(Na).__webglTexture,0);c.bindFramebuffer(a.FRAMEBUFFER,null)}function Ua(ua,pa,Na){a.bindRenderbuffer(a.RENDERBUFFER,ua);if(pa.depthBuffer&&!pa.stencilBuffer){var Ta=a.DEPTH_COMPONENT16;Na||vb(pa)?((Na=pa.depthTexture)&&Na.isDepthTexture&&(1015===Na.type?Ta=a.DEPTH_COMPONENT32F:1014===Na.type&&(Ta=a.DEPTH_COMPONENT24)),
Na=cb(pa),vb(pa)?Cc.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Na,Ta,pa.width,pa.height):a.renderbufferStorageMultisample(a.RENDERBUFFER,Na,Ta,pa.width,pa.height)):a.renderbufferStorage(a.RENDERBUFFER,Ta,pa.width,pa.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,ua)}else if(pa.depthBuffer&&pa.stencilBuffer)Ta=cb(pa),Na&&!1===vb(pa)?a.renderbufferStorageMultisample(a.RENDERBUFFER,Ta,a.DEPTH24_STENCIL8,pa.width,pa.height):vb(pa)?Cc.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,
Ta,a.DEPTH24_STENCIL8,pa.width,pa.height):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,pa.width,pa.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,ua);else for(ua=!0===pa.isWebGLMultipleRenderTargets?pa.texture:[pa.texture],Ta=0;Ta<ua.length;Ta++){var hb=ua[Ta],qc=l.convert(hb.format,hb.encoding);const Sa=l.convert(hb.type);hb=R(hb.internalFormat,qc,Sa,hb.encoding);qc=cb(pa);Na&&!1===vb(pa)?a.renderbufferStorageMultisample(a.RENDERBUFFER,qc,hb,pa.width,
pa.height):vb(pa)?Cc.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,qc,hb,pa.width,pa.height):a.renderbufferStorage(a.RENDERBUFFER,hb,pa.width,pa.height)}a.bindRenderbuffer(a.RENDERBUFFER,null)}function Mb(ua){var pa=e.get(ua),Na=!0===ua.isWebGLCubeRenderTarget;if(ua.depthTexture&&!pa.__autoAllocateDepthBuffer){if(Na)throw Error("target.depthTexture not supported in Cube render targets");if(ua&&ua.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");c.bindFramebuffer(a.FRAMEBUFFER,
pa.__webglFramebuffer);if(!ua.depthTexture||!ua.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");e.get(ua.depthTexture).__webglTexture&&ua.depthTexture.image.width===ua.width&&ua.depthTexture.image.height===ua.height||(ua.depthTexture.image.width=ua.width,ua.depthTexture.image.height=ua.height,ua.depthTexture.needsUpdate=!0);la(ua.depthTexture,0);pa=e.get(ua.depthTexture).__webglTexture;Na=cb(ua);if(1026===ua.depthTexture.format)vb(ua)?
Cc.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,pa,0,Na):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,pa,0);else if(1027===ua.depthTexture.format)vb(ua)?Cc.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,pa,0,Na):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,pa,0);else throw Error("Unknown depthTexture format");}else if(Na)for(pa.__webglDepthbuffer=[],Na=0;6>Na;Na++)c.bindFramebuffer(a.FRAMEBUFFER,
pa.__webglFramebuffer[Na]),pa.__webglDepthbuffer[Na]=a.createRenderbuffer(),Ua(pa.__webglDepthbuffer[Na],ua,!1);else c.bindFramebuffer(a.FRAMEBUFFER,pa.__webglFramebuffer),pa.__webglDepthbuffer=a.createRenderbuffer(),Ua(pa.__webglDepthbuffer,ua,!1);c.bindFramebuffer(a.FRAMEBUFFER,null)}function cb(ua){return Math.min(bc,ua.samples)}function vb(ua){const pa=e.get(ua);return xb&&0<ua.samples&&!0===b.has("WEBGL_multisampled_render_to_texture")&&!1!==pa.__useRenderToTexture}function yb(ua,pa){const Na=
ua.encoding,Ta=ua.format,hb=ua.type;if(!0===ua.isCompressedTexture||!0===ua.isVideoTexture||1035===ua.format)return pa;3E3!==Na&&(3001===Na?!1===xb?!0===b.has("EXT_sRGB")&&1023===Ta?(ua.format=1035,ua.minFilter=1006,ua.generateMipmaps=!1):pa=Le.sRGBToLinear(pa):1023===Ta&&1009===hb||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Na));return pa}const xb=f.isWebGL2,fc=f.maxTextures,
Zb=f.maxCubemapSize,cc=f.maxTextureSize,bc=f.maxSamples,Cc=b.has("WEBGL_multisampled_render_to_texture")?b.get("WEBGL_multisampled_render_to_texture"):null,Mc="undefined"===typeof navigator?!1:/OculusBrowser/g.test(navigator.userAgent),Zc=new WeakMap;let ed;const dc=new WeakMap;let vc=!1;try{vc="undefined"!==typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(ua){}let Ac=0;const Vc={[1E3]:a.REPEAT,[1001]:a.CLAMP_TO_EDGE,[1002]:a.MIRRORED_REPEAT},Lc={[1003]:a.NEAREST,[1004]:a.NEAREST_MIPMAP_NEAREST,
[1005]:a.NEAREST_MIPMAP_LINEAR,[1006]:a.LINEAR,[1007]:a.LINEAR_MIPMAP_NEAREST,[1008]:a.LINEAR_MIPMAP_LINEAR};this.allocateTextureUnit=function(){const ua=Ac;ua>=fc&&console.warn("THREE.WebGLTextures: Trying to use "+ua+" texture units while this GPU supports only "+fc);Ac+=1;return ua};this.resetTextureUnits=function(){Ac=0};this.setTexture2D=la;this.setTexture2DArray=function(ua,pa){const Na=e.get(ua);0<ua.version&&Na.__version!==ua.version?$a(Na,ua,pa):c.bindTexture(a.TEXTURE_2D_ARRAY,Na.__webglTexture,
a.TEXTURE0+pa)};this.setTexture3D=function(ua,pa){const Na=e.get(ua);0<ua.version&&Na.__version!==ua.version?$a(Na,ua,pa):c.bindTexture(a.TEXTURE_3D,Na.__webglTexture,a.TEXTURE0+pa)};this.setTextureCube=function(ua,pa){const Na=e.get(ua);if(0<ua.version&&Na.__version!==ua.version){if(6===ua.image.length){var Ta=Ba(Na,ua),hb=ua.source;c.bindTexture(a.TEXTURE_CUBE_MAP,Na.__webglTexture,a.TEXTURE0+pa);var qc=e.get(hb);if(hb.version!==qc.__version||!0===Ta){c.activeTexture(a.TEXTURE0+pa);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,
ua.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ua.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,ua.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);var Sa=ua.isCompressedTexture||ua.image[0].isCompressedTexture,Eb=ua.image[0]&&ua.image[0].isDataTexture;pa=[];for(var Qb=0;6>Qb;Qb++)pa[Qb]=Sa||Eb?Eb?ua.image[Qb].image:ua.image[Qb]:v(ua.image[Qb],!1,!0,Zb),pa[Qb]=yb(ua,pa[Qb]);var Tb=pa[0];Qb=E(Tb)||xb;const Fc=l.convert(ua.format,ua.encoding),Kc=l.convert(ua.type),
wd=R(ua.internalFormat,Fc,Kc,ua.encoding),tb=xb&&!0!==ua.isVideoTexture;Ta=void 0===qc.__version||!0===Ta;var ec=S(ua,Tb,Qb);Xa(a.TEXTURE_CUBE_MAP,ua,Qb);if(Sa)for(tb&&Ta&&c.texStorage2D(a.TEXTURE_CUBE_MAP,ec,wd,Tb.width,Tb.height),Eb=0;6>Eb;Eb++)for(Sa=pa[Eb].mipmaps,Ta=0;Ta<Sa.length;Ta++)Tb=Sa[Ta],1023!==ua.format?null!==Fc?tb?c.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Eb,Ta,0,0,Tb.width,Tb.height,Fc,Tb.data):c.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Eb,Ta,wd,Tb.width,Tb.height,
0,Tb.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tb?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Eb,Ta,0,0,Tb.width,Tb.height,Fc,Kc,Tb.data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Eb,Ta,wd,Tb.width,Tb.height,0,Fc,Kc,Tb.data);else for(Sa=ua.mipmaps,tb&&Ta&&(0<Sa.length&&ec++,c.texStorage2D(a.TEXTURE_CUBE_MAP,ec,wd,pa[0].width,pa[0].height)),Ta=0;6>Ta;Ta++)if(Eb)for(tb?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,0,0,
0,pa[Ta].width,pa[Ta].height,Fc,Kc,pa[Ta].data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,0,wd,pa[Ta].width,pa[Ta].height,0,Fc,Kc,pa[Ta].data),Tb=0;Tb<Sa.length;Tb++)ec=Sa[Tb].image[Ta].image,tb?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,Tb+1,0,0,ec.width,ec.height,Fc,Kc,ec.data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,Tb+1,wd,ec.width,ec.height,0,Fc,Kc,ec.data);else for(tb?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,0,0,0,Fc,Kc,pa[Ta]):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
Ta,0,wd,Fc,Kc,pa[Ta]),Tb=0;Tb<Sa.length;Tb++)ec=Sa[Tb],tb?c.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,Tb+1,0,0,Fc,Kc,ec.image[Ta]):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta,Tb+1,wd,Fc,Kc,ec.image[Ta]);G(ua,Qb)&&a.generateMipmap(a.TEXTURE_CUBE_MAP);qc.__version=hb.version;if(ua.onUpdate)ua.onUpdate(ua)}Na.__version=ua.version}}else c.bindTexture(a.TEXTURE_CUBE_MAP,Na.__webglTexture,a.TEXTURE0+pa)};this.rebindTextures=function(ua,pa,Na){const Ta=e.get(ua);void 0!==pa&&pb(Ta.__webglFramebuffer,
ua,ua.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D);void 0!==Na&&Mb(ua)};this.setupRenderTarget=function(ua){var pa=ua.texture;const Na=e.get(ua);var Ta=e.get(pa);ua.addEventListener("dispose",ha);!0!==ua.isWebGLMultipleRenderTargets&&(void 0===Ta.__webglTexture&&(Ta.__webglTexture=a.createTexture()),Ta.__version=pa.version,n.memory.textures++);var hb=!0===ua.isWebGLCubeRenderTarget;const qc=!0===ua.isWebGLMultipleRenderTargets,Sa=E(ua)||xb;if(hb){Na.__webglFramebuffer=[];for(var Eb=0;6>Eb;Eb++)Na.__webglFramebuffer[Eb]=
a.createFramebuffer()}else{Na.__webglFramebuffer=a.createFramebuffer();if(qc)if(f.drawBuffers){Eb=ua.texture;for(let Fc=0,Kc=Eb.length;Fc<Kc;Fc++){var Qb=e.get(Eb[Fc]);void 0===Qb.__webglTexture&&(Qb.__webglTexture=a.createTexture(),n.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(xb&&0<ua.samples&&!1===vb(ua)){Eb=qc?pa:[pa];Na.__webglMultisampledFramebuffer=a.createFramebuffer();Na.__webglColorRenderbuffer=
[];c.bindFramebuffer(a.FRAMEBUFFER,Na.__webglMultisampledFramebuffer);for(Qb=0;Qb<Eb.length;Qb++){var Tb=Eb[Qb];Na.__webglColorRenderbuffer[Qb]=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,Na.__webglColorRenderbuffer[Qb]);var ec=l.convert(Tb.format,Tb.encoding);const Fc=l.convert(Tb.type);Tb=R(Tb.internalFormat,ec,Fc,Tb.encoding,!0===ua.isXRRenderTarget);ec=cb(ua);a.renderbufferStorageMultisample(a.RENDERBUFFER,ec,Tb,ua.width,ua.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+
Qb,a.RENDERBUFFER,Na.__webglColorRenderbuffer[Qb])}a.bindRenderbuffer(a.RENDERBUFFER,null);ua.depthBuffer&&(Na.__webglDepthRenderbuffer=a.createRenderbuffer(),Ua(Na.__webglDepthRenderbuffer,ua,!0));c.bindFramebuffer(a.FRAMEBUFFER,null)}}if(hb){c.bindTexture(a.TEXTURE_CUBE_MAP,Ta.__webglTexture);Xa(a.TEXTURE_CUBE_MAP,pa,Sa);for(Ta=0;6>Ta;Ta++)pb(Na.__webglFramebuffer[Ta],ua,pa,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Ta);G(pa,Sa)&&a.generateMipmap(a.TEXTURE_CUBE_MAP)}else if(qc){pa=ua.texture;
for(let Fc=0,Kc=pa.length;Fc<Kc;Fc++)Ta=pa[Fc],hb=e.get(Ta),c.bindTexture(a.TEXTURE_2D,hb.__webglTexture),Xa(a.TEXTURE_2D,Ta,Sa),pb(Na.__webglFramebuffer,ua,Ta,a.COLOR_ATTACHMENT0+Fc,a.TEXTURE_2D),G(Ta,Sa)&&a.generateMipmap(a.TEXTURE_2D)}else{hb=a.TEXTURE_2D;if(ua.isWebGL3DRenderTarget||ua.isWebGLArrayRenderTarget)xb?hb=ua.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.");c.bindTexture(hb,
Ta.__webglTexture);Xa(hb,pa,Sa);pb(Na.__webglFramebuffer,ua,pa,a.COLOR_ATTACHMENT0,hb);G(pa,Sa)&&a.generateMipmap(hb)}c.unbindTexture();ua.depthBuffer&&Mb(ua)};this.updateRenderTargetMipmap=function(ua){const pa=E(ua)||xb,Na=!0===ua.isWebGLMultipleRenderTargets?ua.texture:[ua.texture];for(let hb=0,qc=Na.length;hb<qc;hb++){var Ta=Na[hb];if(G(Ta,pa)){const Sa=ua.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D;Ta=e.get(Ta).__webglTexture;c.bindTexture(Sa,Ta);a.generateMipmap(Sa);c.unbindTexture()}}};
this.updateMultisampleRenderTarget=function(ua){if(xb&&0<ua.samples&&!1===vb(ua)){const hb=ua.isWebGLMultipleRenderTargets?ua.texture:[ua.texture];var pa=ua.width;const qc=ua.height;let Sa=a.COLOR_BUFFER_BIT;const Eb=[],Qb=ua.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,Tb=e.get(ua),ec=!0===ua.isWebGLMultipleRenderTargets;if(ec)for(var Na=0;Na<hb.length;Na++)c.bindFramebuffer(a.FRAMEBUFFER,Tb.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+
Na,a.RENDERBUFFER,null),c.bindFramebuffer(a.FRAMEBUFFER,Tb.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Na,a.TEXTURE_2D,null,0);c.bindFramebuffer(a.READ_FRAMEBUFFER,Tb.__webglMultisampledFramebuffer);c.bindFramebuffer(a.DRAW_FRAMEBUFFER,Tb.__webglFramebuffer);for(Na=0;Na<hb.length;Na++){Eb.push(a.COLOR_ATTACHMENT0+Na);ua.depthBuffer&&Eb.push(Qb);var Ta=void 0!==Tb.__ignoreDepthValues?Tb.__ignoreDepthValues:!1;!1===Ta&&(ua.depthBuffer&&(Sa|=a.DEPTH_BUFFER_BIT),
ua.stencilBuffer&&(Sa|=a.STENCIL_BUFFER_BIT));ec&&a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,Tb.__webglColorRenderbuffer[Na]);!0===Ta&&(a.invalidateFramebuffer(a.READ_FRAMEBUFFER,[Qb]),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[Qb]));ec&&(Ta=e.get(hb[Na]).__webglTexture,a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Ta,0));a.blitFramebuffer(0,0,pa,qc,0,0,pa,qc,Sa,a.NEAREST);Mc&&a.invalidateFramebuffer(a.READ_FRAMEBUFFER,Eb)}c.bindFramebuffer(a.READ_FRAMEBUFFER,
null);c.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);if(ec)for(ua=0;ua<hb.length;ua++)c.bindFramebuffer(a.FRAMEBUFFER,Tb.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+ua,a.RENDERBUFFER,Tb.__webglColorRenderbuffer[ua]),pa=e.get(hb[ua]).__webglTexture,c.bindFramebuffer(a.FRAMEBUFFER,Tb.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+ua,a.TEXTURE_2D,pa,0);c.bindFramebuffer(a.DRAW_FRAMEBUFFER,Tb.__webglMultisampledFramebuffer)}};
this.setupDepthRenderbuffer=Mb;this.setupFrameBufferTexture=pb;this.useMultisampledRTT=vb}function Ub(a,b,c){const e=c.isWebGL2;return{convert:function(f,l=null){let n;if(1009===f)return a.UNSIGNED_BYTE;if(1017===f)return a.UNSIGNED_SHORT_4_4_4_4;if(1018===f)return a.UNSIGNED_SHORT_5_5_5_1;if(1010===f)return a.BYTE;if(1011===f)return a.SHORT;if(1012===f)return a.UNSIGNED_SHORT;if(1013===f)return a.INT;if(1014===f)return a.UNSIGNED_INT;if(1015===f)return a.FLOAT;if(1016===f){if(e)return a.HALF_FLOAT;
n=b.get("OES_texture_half_float");return null!==n?n.HALF_FLOAT_OES:null}if(1021===f)return a.ALPHA;if(1023===f)return a.RGBA;if(1024===f)return a.LUMINANCE;if(1025===f)return a.LUMINANCE_ALPHA;if(1026===f)return a.DEPTH_COMPONENT;if(1027===f)return a.DEPTH_STENCIL;if(1035===f)return n=b.get("EXT_sRGB"),null!==n?n.SRGB_ALPHA_EXT:null;if(1028===f)return a.RED;if(1029===f)return a.RED_INTEGER;if(1030===f)return a.RG;if(1031===f)return a.RG_INTEGER;if(1033===f)return a.RGBA_INTEGER;if(33776===f||33777===
f||33778===f||33779===f)if(3001===l)if(n=b.get("WEBGL_compressed_texture_s3tc_srgb"),null!==n){if(33776===f)return n.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===f)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===f)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===f)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(n=b.get("WEBGL_compressed_texture_s3tc"),null!==n){if(33776===f)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===f)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===
f)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===f)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(35840===f||35841===f||35842===f||35843===f)if(n=b.get("WEBGL_compressed_texture_pvrtc"),null!==n){if(35840===f)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===f)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===f)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===f)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(36196===f)return n=b.get("WEBGL_compressed_texture_etc1"),
null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===f||37496===f)if(n=b.get("WEBGL_compressed_texture_etc"),null!==n){if(37492===f)return 3001===l?n.COMPRESSED_SRGB8_ETC2:n.COMPRESSED_RGB8_ETC2;if(37496===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:n.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(37808===f||37809===f||37810===f||37811===f||37812===f||37813===f||37814===f||37815===f||37816===f||37817===f||37818===f||37819===f||37820===f||37821===f)if(n=b.get("WEBGL_compressed_texture_astc"),
null!==n){if(37808===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:n.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:n.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:n.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:n.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:n.COMPRESSED_RGBA_ASTC_6x6_KHR;
if(37813===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:n.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:n.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:n.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:n.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:n.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===
f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:n.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:n.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:n.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===f)return 3001===l?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:n.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(36492===f)if(n=b.get("EXT_texture_compression_bptc"),null!==n){if(36492===f)return 3001===
l?n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:n.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(36283===f||36284===f||36285===f||36286===f)if(n=b.get("EXT_texture_compression_rgtc"),null!==n){if(36492===f)return n.COMPRESSED_RED_RGTC1_EXT;if(36284===f)return n.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===f)return n.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===f)return n.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;if(1020===f){if(e)return a.UNSIGNED_INT_24_8;n=b.get("WEBGL_depth_texture");return null!==
n?n.UNSIGNED_INT_24_8_WEBGL:null}return void 0!==a[f]?a[f]:null}}}function $b(a,b){function c(e,f){e.opacity.value=f.opacity;f.color&&e.diffuse.value.copy(f.color);f.emissive&&e.emissive.value.copy(f.emissive).multiplyScalar(f.emissiveIntensity);f.map&&(e.map.value=f.map);f.alphaMap&&(e.alphaMap.value=f.alphaMap);f.bumpMap&&(e.bumpMap.value=f.bumpMap,e.bumpScale.value=f.bumpScale,1===f.side&&(e.bumpScale.value*=-1));f.displacementMap&&(e.displacementMap.value=f.displacementMap,e.displacementScale.value=
f.displacementScale,e.displacementBias.value=f.displacementBias);f.emissiveMap&&(e.emissiveMap.value=f.emissiveMap);f.normalMap&&(e.normalMap.value=f.normalMap,e.normalScale.value.copy(f.normalScale),1===f.side&&e.normalScale.value.negate());f.specularMap&&(e.specularMap.value=f.specularMap);0<f.alphaTest&&(e.alphaTest.value=f.alphaTest);const l=b.get(f).envMap;l&&(e.envMap.value=l,e.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1,e.reflectivity.value=f.reflectivity,e.ior.value=
f.ior,e.refractionRatio.value=f.refractionRatio);f.lightMap&&(e.lightMap.value=f.lightMap,e.lightMapIntensity.value=f.lightMapIntensity*(!0===a.useLegacyLights?Math.PI:1));f.aoMap&&(e.aoMap.value=f.aoMap,e.aoMapIntensity.value=f.aoMapIntensity);let n;f.map?n=f.map:f.specularMap?n=f.specularMap:f.displacementMap?n=f.displacementMap:f.normalMap?n=f.normalMap:f.bumpMap?n=f.bumpMap:f.roughnessMap?n=f.roughnessMap:f.metalnessMap?n=f.metalnessMap:f.alphaMap?n=f.alphaMap:f.emissiveMap?n=f.emissiveMap:f.clearcoatMap?
n=f.clearcoatMap:f.clearcoatNormalMap?n=f.clearcoatNormalMap:f.clearcoatRoughnessMap?n=f.clearcoatRoughnessMap:f.iridescenceMap?n=f.iridescenceMap:f.iridescenceThicknessMap?n=f.iridescenceThicknessMap:f.specularIntensityMap?n=f.specularIntensityMap:f.specularColorMap?n=f.specularColorMap:f.transmissionMap?n=f.transmissionMap:f.thicknessMap?n=f.thicknessMap:f.sheenColorMap?n=f.sheenColorMap:f.sheenRoughnessMap&&(n=f.sheenRoughnessMap);void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&
n.updateMatrix(),e.uvTransform.value.copy(n.matrix));let v;f.aoMap?v=f.aoMap:f.lightMap&&(v=f.lightMap);void 0!==v&&(v.isWebGLRenderTarget&&(v=v.texture),!0===v.matrixAutoUpdate&&v.updateMatrix(),e.uv2Transform.value.copy(v.matrix))}return{refreshFogUniforms:function(e,f){f.color.getRGB(e.fogColor.value,Y(a));f.isFog?(e.fogNear.value=f.near,e.fogFar.value=f.far):f.isFogExp2&&(e.fogDensity.value=f.density)},refreshMaterialUniforms:function(e,f,l,n,v){if(f.isMeshBasicMaterial)c(e,f);else if(f.isMeshLambertMaterial)c(e,
f);else if(f.isMeshToonMaterial)c(e,f),f.gradientMap&&(e.gradientMap.value=f.gradientMap);else if(f.isMeshPhongMaterial)c(e,f),e.specular.value.copy(f.specular),e.shininess.value=Math.max(f.shininess,1E-4);else if(f.isMeshStandardMaterial)c(e,f),e.roughness.value=f.roughness,e.metalness.value=f.metalness,f.roughnessMap&&(e.roughnessMap.value=f.roughnessMap),f.metalnessMap&&(e.metalnessMap.value=f.metalnessMap),b.get(f).envMap&&(e.envMapIntensity.value=f.envMapIntensity),f.isMeshPhysicalMaterial&&
(e.ior.value=f.ior,0<f.sheen&&(e.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),e.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(e.sheenColorMap.value=f.sheenColorMap),f.sheenRoughnessMap&&(e.sheenRoughnessMap.value=f.sheenRoughnessMap)),0<f.clearcoat&&(e.clearcoat.value=f.clearcoat,e.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(e.clearcoatMap.value=f.clearcoatMap),f.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap),f.clearcoatNormalMap&&
(e.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),e.clearcoatNormalMap.value=f.clearcoatNormalMap,1===f.side&&e.clearcoatNormalScale.value.negate())),0<f.iridescence&&(e.iridescence.value=f.iridescence,e.iridescenceIOR.value=f.iridescenceIOR,e.iridescenceThicknessMinimum.value=f.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=f.iridescenceThicknessRange[1],f.iridescenceMap&&(e.iridescenceMap.value=f.iridescenceMap),f.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=
f.iridescenceThicknessMap)),0<f.transmission&&(e.transmission.value=f.transmission,e.transmissionSamplerMap.value=v.texture,e.transmissionSamplerSize.value.set(v.width,v.height),f.transmissionMap&&(e.transmissionMap.value=f.transmissionMap),e.thickness.value=f.thickness,f.thicknessMap&&(e.thicknessMap.value=f.thicknessMap),e.attenuationDistance.value=f.attenuationDistance,e.attenuationColor.value.copy(f.attenuationColor)),e.specularIntensity.value=f.specularIntensity,e.specularColor.value.copy(f.specularColor),
f.specularIntensityMap&&(e.specularIntensityMap.value=f.specularIntensityMap),f.specularColorMap&&(e.specularColorMap.value=f.specularColorMap));else if(f.isMeshMatcapMaterial)c(e,f),f.matcap&&(e.matcap.value=f.matcap);else if(f.isMeshDepthMaterial)c(e,f);else if(f.isMeshDistanceMaterial)c(e,f),e.referencePosition.value.copy(f.referencePosition),e.nearDistance.value=f.nearDistance,e.farDistance.value=f.farDistance;else if(f.isMeshNormalMaterial)c(e,f);else if(f.isLineBasicMaterial)e.diffuse.value.copy(f.color),
e.opacity.value=f.opacity,f.isLineDashedMaterial&&(e.dashSize.value=f.dashSize,e.totalSize.value=f.dashSize+f.gapSize,e.scale.value=f.scale);else if(f.isPointsMaterial){e.diffuse.value.copy(f.color);e.opacity.value=f.opacity;e.size.value=f.size*l;e.scale.value=.5*n;f.map&&(e.map.value=f.map);f.alphaMap&&(e.alphaMap.value=f.alphaMap);0<f.alphaTest&&(e.alphaTest.value=f.alphaTest);let E;f.map?E=f.map:f.alphaMap&&(E=f.alphaMap);void 0!==E&&(!0===E.matrixAutoUpdate&&E.updateMatrix(),e.uvTransform.value.copy(E.matrix))}else if(f.isSpriteMaterial){e.diffuse.value.copy(f.color);
e.opacity.value=f.opacity;e.rotation.value=f.rotation;f.map&&(e.map.value=f.map);f.alphaMap&&(e.alphaMap.value=f.alphaMap);0<f.alphaTest&&(e.alphaTest.value=f.alphaTest);let E;f.map?E=f.map:f.alphaMap&&(E=f.alphaMap);void 0!==E&&(!0===E.matrixAutoUpdate&&E.updateMatrix(),e.uvTransform.value.copy(E.matrix))}else f.isShadowMaterial?(e.color.value.copy(f.color),e.opacity.value=f.opacity):f.isShaderMaterial&&(f.uniformsNeedUpdate=!1)}}}function Sb(a,b,c,e){function f(S){const V=S.uniforms;let ia=0;for(let Ba=
0,$a=V.length;Ba<$a;Ba++){const pb=V[Ba];var ha=0,Q=0;var la=Array.isArray(pb.value)?pb.value:[pb.value];for(let Ua=0,Mb=la.length;Ua<Mb;Ua++){var Xa=l(la[Ua]);ha+=Xa.boundary;Q+=Xa.storage}pb.__data=new Float32Array(Q/Float32Array.BYTES_PER_ELEMENT);pb.__offset=ia;0<Ba&&(la=ia%16,Xa=16-la,0!==la&&0>Xa-ha&&(ia+=16-la,pb.__offset=ia));ia+=Q}la=ia%16;0<la&&(ia+=16-la);S.__size=ia;S.__cache={};return this}function l(S){const V={boundary:0,storage:0};"number"===typeof S?(V.boundary=4,V.storage=4):S.isVector2?
(V.boundary=8,V.storage=8):S.isVector3||S.isColor?(V.boundary=16,V.storage=12):S.isVector4?(V.boundary=16,V.storage=16):S.isMatrix3?(V.boundary=48,V.storage=48):S.isMatrix4?(V.boundary=64,V.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S);return V}function n(S){S=S.target;S.removeEventListener("dispose",n);const V=G.indexOf(S.__bindingPointIndex);G.splice(V,1);
a.deleteBuffer(v[S.id]);delete v[S.id];delete E[S.id]}let v={},E={},G=[];const R=c.isWebGL2?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0;return{bind:function(S,V){e.uniformBlockBinding(S,V.program)},update:function(S,V){var ia=v[S.id];if(void 0===ia){f(S);a:{for(ia=0;ia<R;ia++)if(-1===G.indexOf(ia)){G.push(ia);break a}console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.");ia=0}S.__bindingPointIndex=ia;var ha=a.createBuffer(),Q=S.__size,la=S.usage;
a.bindBuffer(a.UNIFORM_BUFFER,ha);a.bufferData(a.UNIFORM_BUFFER,Q,la);a.bindBuffer(a.UNIFORM_BUFFER,null);a.bindBufferBase(a.UNIFORM_BUFFER,ia,ha);ia=ha;v[S.id]=ia;S.addEventListener("dispose",n)}e.updateUBOMapping(S,V.program);V=b.render.frame;if(E[S.id]!==V){ia=S.uniforms;ha=S.__cache;a.bindBuffer(a.UNIFORM_BUFFER,v[S.id]);for(let Ua=0,Mb=ia.length;Ua<Mb;Ua++){Q=ia[Ua];a:{la=Ua;var Xa=ha,Ba=Q.value;if(void 0===Xa[la]){if("number"===typeof Ba)Xa[la]=Ba;else{Ba=Array.isArray(Ba)?Ba:[Ba];var $a=[];
for(var pb=0;pb<Ba.length;pb++)$a.push(Ba[pb].clone());Xa[la]=$a}la=!0}else{if("number"===typeof Ba){if(Xa[la]!==Ba){Xa[la]=Ba;la=!0;break a}}else for(la=Array.isArray(Xa[la])?Xa[la]:[Xa[la]],Xa=Array.isArray(Ba)?Ba:[Ba],Ba=0;Ba<la.length;Ba++)if($a=la[Ba],!1===$a.equals(Xa[Ba])){$a.copy(Xa[Ba]);la=!0;break a}la=!1}}if(!0===la){la=Q.__offset;Xa=Array.isArray(Q.value)?Q.value:[Q.value];Ba=0;for($a=0;$a<Xa.length;$a++){pb=Xa[$a];const cb=l(pb);"number"===typeof pb?(Q.__data[0]=pb,a.bufferSubData(a.UNIFORM_BUFFER,
la+Ba,Q.__data)):pb.isMatrix3?(Q.__data[0]=pb.elements[0],Q.__data[1]=pb.elements[1],Q.__data[2]=pb.elements[2],Q.__data[3]=pb.elements[0],Q.__data[4]=pb.elements[3],Q.__data[5]=pb.elements[4],Q.__data[6]=pb.elements[5],Q.__data[7]=pb.elements[0],Q.__data[8]=pb.elements[6],Q.__data[9]=pb.elements[7],Q.__data[10]=pb.elements[8],Q.__data[11]=pb.elements[0]):(pb.toArray(Q.__data,Ba),Ba+=cb.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,la,Q.__data)}}a.bindBuffer(a.UNIFORM_BUFFER,
null);E[S.id]=V}},dispose:function(){for(const S in v)a.deleteBuffer(v[S]);G=[];v={};E={}}}}function ic(){const a=t("canvas");a.style.display="block";return a}function kc(a={}){function b(ya,Hb){for(let Yb=0;Yb<ya.length;Yb++){const Gb=Q.getContext(ya[Yb],Hb);if(null!==Gb)return Gb}return null}function c(){dd=new na(tb);Cd=new ea(tb,dd,a);dd.init(Cd);gf=new Ub(tb,dd,Cd);ud=new Lb(tb,dd,Cd);Oe=new ab(tb);fe=new Ie;ne=new oc(tb,dd,ud,fe,Cd,gf,Oe);kg=new zb(cc);lg=new Ma(cc);Og=new qa(tb,Cd);Rf=new La(tb,
dd,Og,Cd);ui=new ub(tb,Og,Oe,Rf);mg=new aa(tb,ui,Og,Oe);xj=new K(tb,Cd,ne);hf=new kb(fe);tf=new Nd(cc,kg,lg,dd,Cd,Rf,hf);vi=new $b(cc,fe);sh=new Ja;th=new sb(dd,Cd);Ff=new Ca(cc,kg,lg,ud,mg,vb,pb);af=new rb(cc,mg,Cd);uh=new Sb(tb,Oe,Cd,ud);yj=new Oa(tb,dd,Oe,Cd);zj=new Bb(tb,dd,Oe,Cd);Oe.programs=tf.programs;cc.capabilities=Cd;cc.extensions=dd;cc.properties=fe;cc.renderLists=sh;cc.shadowMap=af;cc.state=ud;cc.info=Oe}function e(ya){ya.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");
bc=!0}function f(){console.log("THREE.WebGLRenderer: Context Restored.");bc=!1;const ya=Oe.autoReset,Hb=af.enabled,Yb=af.autoUpdate,Gb=af.needsUpdate,ac=af.type;c();Oe.autoReset=ya;af.enabled=Hb;af.autoUpdate=Yb;af.needsUpdate=Gb;af.type=ac}function l(ya){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ya.statusMessage)}function n(ya){ya=ya.target;ya.removeEventListener("dispose",n);v(ya);fe.remove(ya)}function v(ya){const Hb=fe.get(ya).programs;void 0!==Hb&&(Hb.forEach(function(Yb){tf.releaseProgram(Yb)}),
ya.isShaderMaterial&&tf.releaseShaderCache(ya))}function E(){Sf.stop()}function G(){Sf.start()}function R(ya,Hb,Yb,Gb){if(!1!==ya.visible){if(ya.layers.test(Hb.layers))if(ya.isGroup)Yb=ya.renderOrder;else if(ya.isLOD)!0===ya.autoUpdate&&ya.update(Hb);else if(ya.isLight)xb.pushLight(ya),ya.castShadow&&xb.pushShadow(ya);else if(ya.isSprite){if(!ya.frustumCulled||Eb.intersectsSprite(ya)){Gb&&Kc.setFromMatrixPosition(ya.matrixWorld).applyMatrix4(Fc);var ac=mg.update(ya),Rc=ya.material;Rc.visible&&yb.push(ya,
ac,Rc,Yb,Kc.z,null)}}else if(ya.isMesh||ya.isLine||ya.isPoints)if(ya.isSkinnedMesh&&ya.skeleton.frame!==Oe.render.frame&&(ya.skeleton.update(),ya.skeleton.frame=Oe.render.frame),!ya.frustumCulled||Eb.intersectsObject(ya))if(Gb&&Kc.setFromMatrixPosition(ya.matrixWorld).applyMatrix4(Fc),ac=mg.update(ya),Rc=ya.material,Array.isArray(Rc)){const $c=ac.groups;for(let Dc=0,Dd=$c.length;Dc<Dd;Dc++){const Yd=$c[Dc],xd=Rc[Yd.materialIndex];xd&&xd.visible&&yb.push(ya,ac,xd,Yb,Kc.z,Yd)}}else Rc.visible&&yb.push(ya,
ac,Rc,Yb,Kc.z,null);ya=ya.children;for(let $c=0,Dc=ya.length;$c<Dc;$c++)R(ya[$c],Hb,Yb,Gb)}}function S(ya,Hb,Yb,Gb){const ac=ya.opaque,Rc=ya.transmissive;ya=ya.transparent;xb.setupLightsView(Yb);!0===Qb&&hf.setGlobalState(cc.clippingPlanes,Yb);if(0<Rc.length){var $c=Cd.isWebGL2;null===ec&&(ec=new Me(1024,1024,{generateMipmaps:!0,type:dd.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:$c&&!0===$a?4:0}));$c=cc.getRenderTarget();cc.setRenderTarget(ec);cc.clear();const Dc=cc.toneMapping;
cc.toneMapping=0;V(ac,Hb,Yb);cc.toneMapping=Dc;ne.updateMultisampleRenderTarget(ec);ne.updateRenderTargetMipmap(ec);cc.setRenderTarget($c)}Gb&&ud.viewport(vc.copy(Gb));0<ac.length&&V(ac,Hb,Yb);0<Rc.length&&V(Rc,Hb,Yb);0<ya.length&&V(ya,Hb,Yb);ud.buffers.depth.setTest(!0);ud.buffers.depth.setMask(!0);ud.buffers.color.setMask(!0);ud.setPolygonOffset(!1)}function V(ya,Hb,Yb){const Gb=!0===Hb.isScene?Hb.overrideMaterial:null;for(let xd=0,Ce=ya.length;xd<Ce;xd++){var ac=ya[xd],Rc=ac.object,$c=ac.geometry,
Dc=null===Gb?ac.material:Gb,Dd=ac.group;if(Rc.layers.test(Yb.layers)){ac=Hb;var Yd=Yb;Rc.onBeforeRender(cc,ac,Yd,$c,Dc,Dd);Rc.modelViewMatrix.multiplyMatrices(Yd.matrixWorldInverse,Rc.matrixWorld);Rc.normalMatrix.getNormalMatrix(Rc.modelViewMatrix);Dc.onBeforeRender(cc,ac,Yd,$c,Rc,Dd);!0===Dc.transparent&&2===Dc.side&&!1===Dc.forceSinglePass?(Dc.side=1,Dc.needsUpdate=!0,cc.renderBufferDirect(Yd,ac,$c,Dc,Rc,Dd),Dc.side=0,Dc.needsUpdate=!0,cc.renderBufferDirect(Yd,ac,$c,Dc,Rc,Dd),Dc.side=2):cc.renderBufferDirect(Yd,
ac,$c,Dc,Rc,Dd);Rc.onAfterRender(cc,ac,Yd,$c,Dc,Dd)}}}function ia(ya,Hb,Yb){!0!==Hb.isScene&&(Hb=wd);const Gb=fe.get(ya),ac=xb.state.lights,Rc=ac.state.version,$c=tf.getParameters(ya,ac.state,xb.state.shadowsArray,Hb,Yb),Dc=tf.getProgramCacheKey($c);let Dd=Gb.programs;Gb.environment=ya.isMeshStandardMaterial?Hb.environment:null;Gb.fog=Hb.fog;Gb.envMap=(ya.isMeshStandardMaterial?lg:kg).get(ya.envMap||Gb.environment);void 0===Dd&&(ya.addEventListener("dispose",n),Dd=new Map,Gb.programs=Dd);Hb=Dd.get(Dc);
if(void 0!==Hb){if(Gb.currentProgram===Hb&&Gb.lightsStateVersion===Rc)return ha(ya,$c),Hb}else $c.uniforms=tf.getUniforms(ya),ya.onBuild(Yb,$c,cc),ya.onBeforeCompile($c,cc),Hb=tf.acquireProgram($c,Dc),Dd.set(Dc,Hb),Gb.uniforms=$c.uniforms;Yb=Gb.uniforms;if(!ya.isShaderMaterial&&!ya.isRawShaderMaterial||!0===ya.clipping)Yb.clippingPlanes=hf.uniform;ha(ya,$c);Gb.needsLights=ya.isMeshLambertMaterial||ya.isMeshToonMaterial||ya.isMeshPhongMaterial||ya.isMeshStandardMaterial||ya.isShadowMaterial||ya.isShaderMaterial&&
!0===ya.lights;Gb.lightsStateVersion=Rc;Gb.needsLights&&(Yb.ambientLightColor.value=ac.state.ambient,Yb.lightProbe.value=ac.state.probe,Yb.directionalLights.value=ac.state.directional,Yb.directionalLightShadows.value=ac.state.directionalShadow,Yb.spotLights.value=ac.state.spot,Yb.spotLightShadows.value=ac.state.spotShadow,Yb.rectAreaLights.value=ac.state.rectArea,Yb.ltc_1.value=ac.state.rectAreaLTC1,Yb.ltc_2.value=ac.state.rectAreaLTC2,Yb.pointLights.value=ac.state.point,Yb.pointLightShadows.value=
ac.state.pointShadow,Yb.hemisphereLights.value=ac.state.hemi,Yb.directionalShadowMap.value=ac.state.directionalShadowMap,Yb.directionalShadowMatrix.value=ac.state.directionalShadowMatrix,Yb.spotShadowMap.value=ac.state.spotShadowMap,Yb.spotLightMatrix.value=ac.state.spotLightMatrix,Yb.spotLightMap.value=ac.state.spotLightMap,Yb.pointShadowMap.value=ac.state.pointShadowMap,Yb.pointShadowMatrix.value=ac.state.pointShadowMatrix);ya=Hb.getUniforms();ya=qh.seqWithValue(ya.seq,Yb);Gb.currentProgram=Hb;
Gb.uniformsList=ya;return Hb}function ha(ya,Hb){ya=fe.get(ya);ya.outputEncoding=Hb.outputEncoding;ya.instancing=Hb.instancing;ya.skinning=Hb.skinning;ya.morphTargets=Hb.morphTargets;ya.morphNormals=Hb.morphNormals;ya.morphColors=Hb.morphColors;ya.morphTargetsCount=Hb.morphTargetsCount;ya.numClippingPlanes=Hb.numClippingPlanes;ya.numIntersection=Hb.numClipIntersection;ya.vertexAlphas=Hb.vertexAlphas;ya.vertexTangents=Hb.vertexTangents;ya.toneMapping=Hb.toneMapping}this.isWebGLRenderer=!0;const Q=void 0!==
a.canvas?a.canvas:ic();var la=void 0!==a.context?a.context:null,Xa=void 0!==a.depth?a.depth:!0;const Ba=void 0!==a.stencil?a.stencil:!0,$a=void 0!==a.antialias?a.antialias:!1,pb=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,Ua=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,Mb=void 0!==a.powerPreference?a.powerPreference:"default",cb=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1;let vb;vb=null!==la?la.getContextAttributes().alpha:void 0!==a.alpha?a.alpha:
!1;let yb=null,xb=null;const fc=[],Zb=[];this.domElement=Q;this.debug={checkShaderErrors:!0};this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.outputEncoding=3E3;this.useLegacyLights=!0;this.toneMapping=0;this.toneMappingExposure=1;const cc=this;let bc=!1,Cc=0,Mc=0,Zc=null,ed=-1,dc=null;const vc=new Gd,Ac=new Gd;let Vc=null,Lc=Q.width,ua=Q.height,pa=1,Na=null,Ta=null;const hb=new Gd(0,0,Lc,ua),
qc=new Gd(0,0,Lc,ua);let Sa=!1;const Eb=new rh;let Qb=!1,Tb=!1,ec=null;const Fc=new gd,Kc=new Ga,wd={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let tb=la;try{la={alpha:!0,depth:Xa,stencil:Ba,antialias:$a,premultipliedAlpha:pb,preserveDrawingBuffer:Ua,powerPreference:Mb,failIfMajorPerformanceCaveat:cb};"setAttribute"in Q&&Q.setAttribute("data-engine","three.js r150");Q.addEventListener("webglcontextlost",e,!1);Q.addEventListener("webglcontextrestored",f,!1);Q.addEventListener("webglcontextcreationerror",
l,!1);if(null===tb&&(Xa=["webgl2","webgl","experimental-webgl"],!0===cc.isWebGL1Renderer&&Xa.shift(),tb=b(Xa,la),null===tb)){if(b(Xa))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.");}void 0===tb.getShaderPrecisionFormat&&(tb.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ya){throw console.error("THREE.WebGLRenderer: "+ya.message),ya;}let dd,Cd,ud,Oe,fe,ne,kg,lg,Og,ui,mg,tf,vi,sh,th,hf,af,
Ff,xj,yj,zj,gf,Rf,uh;c();const Pe=new il(cc,tb);this.xr=Pe;this.getContext=function(){return tb};this.getContextAttributes=function(){return tb.getContextAttributes()};this.forceContextLoss=function(){const ya=dd.get("WEBGL_lose_context");ya&&ya.loseContext()};this.forceContextRestore=function(){const ya=dd.get("WEBGL_lose_context");ya&&ya.restoreContext()};this.getPixelRatio=function(){return pa};this.setPixelRatio=function(ya){void 0!==ya&&(pa=ya,this.setSize(Lc,ua,!1))};this.getSize=function(ya){return ya.set(Lc,
ua)};this.setSize=function(ya,Hb,Yb=!0){Pe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Lc=ya,ua=Hb,Q.width=Math.floor(ya*pa),Q.height=Math.floor(Hb*pa),!0===Yb&&(Q.style.width=ya+"px",Q.style.height=Hb+"px"),this.setViewport(0,0,ya,Hb))};this.getDrawingBufferSize=function(ya){return ya.set(Lc*pa,ua*pa).floor()};this.setDrawingBufferSize=function(ya,Hb,Yb){Lc=ya;ua=Hb;pa=Yb;Q.width=Math.floor(ya*Yb);Q.height=Math.floor(Hb*Yb);this.setViewport(0,
0,ya,Hb)};this.getCurrentViewport=function(ya){return ya.copy(vc)};this.getViewport=function(ya){return ya.copy(hb)};this.setViewport=function(ya,Hb,Yb,Gb){ya.isVector4?hb.set(ya.x,ya.y,ya.z,ya.w):hb.set(ya,Hb,Yb,Gb);ud.viewport(vc.copy(hb).multiplyScalar(pa).floor())};this.getScissor=function(ya){return ya.copy(qc)};this.setScissor=function(ya,Hb,Yb,Gb){ya.isVector4?qc.set(ya.x,ya.y,ya.z,ya.w):qc.set(ya,Hb,Yb,Gb);ud.scissor(Ac.copy(qc).multiplyScalar(pa).floor())};this.getScissorTest=function(){return Sa};
this.setScissorTest=function(ya){ud.setScissorTest(Sa=ya)};this.setOpaqueSort=function(ya){Na=ya};this.setTransparentSort=function(ya){Ta=ya};this.getClearColor=function(ya){return ya.copy(Ff.getClearColor())};this.setClearColor=function(){Ff.setClearColor.apply(Ff,arguments)};this.getClearAlpha=function(){return Ff.getClearAlpha()};this.setClearAlpha=function(){Ff.setClearAlpha.apply(Ff,arguments)};this.clear=function(ya=!0,Hb=!0,Yb=!0){let Gb=0;ya&&(Gb|=tb.COLOR_BUFFER_BIT);Hb&&(Gb|=tb.DEPTH_BUFFER_BIT);
Yb&&(Gb|=tb.STENCIL_BUFFER_BIT);tb.clear(Gb)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){Q.removeEventListener("webglcontextlost",e,!1);Q.removeEventListener("webglcontextrestored",f,!1);Q.removeEventListener("webglcontextcreationerror",l,!1);sh.dispose();th.dispose();fe.dispose();kg.dispose();lg.dispose();mg.dispose();Rf.dispose();uh.dispose();tf.dispose();Pe.dispose();
Pe.removeEventListener("sessionstart",E);Pe.removeEventListener("sessionend",G);ec&&(ec.dispose(),ec=null);Sf.stop()};this.renderBufferDirect=function(ya,Hb,Yb,Gb,ac,Rc){null===Hb&&(Hb=wd);var $c=ac.isMesh&&0>ac.matrixWorld.determinant(),Dc=Hb;!0!==Dc.isScene&&(Dc=wd);ne.resetTextureUnits();Hb=Dc.fog;var Dd=Gb.isMeshStandardMaterial?Dc.environment:null,Yd=null===Zc?cc.outputEncoding:!0===Zc.isXRRenderTarget?Zc.texture.encoding:3E3;Dd=(Gb.isMeshStandardMaterial?lg:kg).get(Gb.envMap||Dd);var xd=!0===
Gb.vertexColors&&!!Yb.attributes.color&&4===Yb.attributes.color.itemSize,Ce=!!Gb.normalMap&&!!Yb.attributes.tangent,Tf=!!Yb.morphAttributes.position,uf=!!Yb.morphAttributes.normal;const wi=!!Yb.morphAttributes.color,xi=Gb.toneMapped?cc.toneMapping:0;var ld=Yb.morphAttributes.position||Yb.morphAttributes.normal||Yb.morphAttributes.color;const jl=void 0!==ld?ld.length:0;ld=fe.get(Gb);const kl=xb.state.lights;!0!==Qb||!0!==Tb&&ya===dc||hf.setState(Gb,ya,ya===dc&&Gb.id===ed);let ve=!1;Gb.version===ld.__version?
ld.needsLights&&ld.lightsStateVersion!==kl.state.version?ve=!0:ld.outputEncoding!==Yd?ve=!0:ac.isInstancedMesh&&!1===ld.instancing?ve=!0:ac.isInstancedMesh||!0!==ld.instancing?ac.isSkinnedMesh&&!1===ld.skinning?ve=!0:ac.isSkinnedMesh||!0!==ld.skinning?ld.envMap!==Dd?ve=!0:!0===Gb.fog&&ld.fog!==Hb?ve=!0:void 0===ld.numClippingPlanes||ld.numClippingPlanes===hf.numPlanes&&ld.numIntersection===hf.numIntersection?ld.vertexAlphas!==xd?ve=!0:ld.vertexTangents!==Ce?ve=!0:ld.morphTargets!==Tf?ve=!0:ld.morphNormals!==
uf?ve=!0:ld.morphColors!==wi?ve=!0:ld.toneMapping!==xi?ve=!0:!0===Cd.isWebGL2&&ld.morphTargetsCount!==jl&&(ve=!0):ve=!0:ve=!0:ve=!0:(ve=!0,ld.__version=Gb.version);Yd=ld.currentProgram;!0===ve&&(Yd=ia(Gb,Dc,ac));Tf=Ce=uf=!1;Dc=Yd.getUniforms();xd=ld.uniforms;ud.useProgram(Yd.program)&&(Tf=Ce=uf=!0);Gb.id!==ed&&(ed=Gb.id,Ce=!0);if(uf||dc!==ya){Dc.setValue(tb,"projectionMatrix",ya.projectionMatrix);Cd.logarithmicDepthBuffer&&Dc.setValue(tb,"logDepthBufFC",2/(Math.log(ya.far+1)/Math.LN2));dc!==ya&&(dc=
ya,Tf=Ce=!0);if(Gb.isShaderMaterial||Gb.isMeshPhongMaterial||Gb.isMeshToonMaterial||Gb.isMeshStandardMaterial||Gb.envMap)uf=Dc.map.cameraPosition,void 0!==uf&&uf.setValue(tb,Kc.setFromMatrixPosition(ya.matrixWorld));(Gb.isMeshPhongMaterial||Gb.isMeshToonMaterial||Gb.isMeshLambertMaterial||Gb.isMeshBasicMaterial||Gb.isMeshStandardMaterial||Gb.isShaderMaterial)&&Dc.setValue(tb,"isOrthographic",!0===ya.isOrthographicCamera);(Gb.isMeshPhongMaterial||Gb.isMeshToonMaterial||Gb.isMeshLambertMaterial||Gb.isMeshBasicMaterial||
Gb.isMeshStandardMaterial||Gb.isShaderMaterial||Gb.isShadowMaterial||ac.isSkinnedMesh)&&Dc.setValue(tb,"viewMatrix",ya.matrixWorldInverse)}ac.isSkinnedMesh&&(Dc.setOptional(tb,ac,"bindMatrix"),Dc.setOptional(tb,ac,"bindMatrixInverse"),ya=ac.skeleton)&&(Cd.floatVertexTextures?(null===ya.boneTexture&&ya.computeBoneTexture(),Dc.setValue(tb,"boneTexture",ya.boneTexture,ne),Dc.setValue(tb,"boneTextureSize",ya.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."));
ya=Yb.morphAttributes;(void 0!==ya.position||void 0!==ya.normal||void 0!==ya.color&&!0===Cd.isWebGL2)&&xj.update(ac,Yb,Yd);if(Ce||ld.receiveShadow!==ac.receiveShadow)ld.receiveShadow=ac.receiveShadow,Dc.setValue(tb,"receiveShadow",ac.receiveShadow);Gb.isMeshGouraudMaterial&&null!==Gb.envMap&&(xd.envMap.value=Dd,xd.flipEnvMap.value=Dd.isCubeTexture&&!1===Dd.isRenderTargetTexture?-1:1);Ce&&(Dc.setValue(tb,"toneMappingExposure",cc.toneMappingExposure),ld.needsLights&&(ya=Tf,xd.ambientLightColor.needsUpdate=
ya,xd.lightProbe.needsUpdate=ya,xd.directionalLights.needsUpdate=ya,xd.directionalLightShadows.needsUpdate=ya,xd.pointLights.needsUpdate=ya,xd.pointLightShadows.needsUpdate=ya,xd.spotLights.needsUpdate=ya,xd.spotLightShadows.needsUpdate=ya,xd.rectAreaLights.needsUpdate=ya,xd.hemisphereLights.needsUpdate=ya),Hb&&!0===Gb.fog&&vi.refreshFogUniforms(xd,Hb),vi.refreshMaterialUniforms(xd,Gb,pa,ua,ec),qh.upload(tb,ld.uniformsList,xd,ne));Gb.isShaderMaterial&&!0===Gb.uniformsNeedUpdate&&(qh.upload(tb,ld.uniformsList,
xd,ne),Gb.uniformsNeedUpdate=!1);Gb.isSpriteMaterial&&Dc.setValue(tb,"center",ac.center);Dc.setValue(tb,"modelViewMatrix",ac.modelViewMatrix);Dc.setValue(tb,"normalMatrix",ac.normalMatrix);Dc.setValue(tb,"modelMatrix",ac.matrixWorld);if(Gb.isShaderMaterial||Gb.isRawShaderMaterial){Hb=Gb.uniformsGroups;for(let yi=0,ll=Hb.length;yi<ll;yi++)Cd.isWebGL2?(ya=Hb[yi],uh.update(ya,Yd),uh.bind(ya,Yd)):console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}Hb=Yd;ud.setMaterial(Gb,
$c);ya=Yb.index;Dd=1;!0===Gb.wireframe&&(ya=ui.getWireframeAttribute(Yb),Dd=2);Dc=Yb.drawRange;ld=Yb.attributes.position;$c=Dc.start*Dd;Dc=(Dc.start+Dc.count)*Dd;null!==Rc&&($c=Math.max($c,Rc.start*Dd),Dc=Math.min(Dc,(Rc.start+Rc.count)*Dd));null!==ya?($c=Math.max($c,0),Dc=Math.min(Dc,ya.count)):void 0!==ld&&null!==ld&&($c=Math.max($c,0),Dc=Math.min(Dc,ld.count));Rc=Dc-$c;0>Rc||Infinity===Rc||(Rf.setup(ac,Gb,Hb,Yb,ya),Hb=yj,null!==ya&&(ya=Og.get(ya),Hb=zj,Hb.setIndex(ya)),ac.isMesh?!0===Gb.wireframe?
(ud.setLineWidth(Gb.wireframeLinewidth*(null===Zc?pa:1)),Hb.setMode(tb.LINES)):Hb.setMode(tb.TRIANGLES):ac.isLine?(Gb=Gb.linewidth,void 0===Gb&&(Gb=1),ud.setLineWidth(Gb*(null===Zc?pa:1)),ac.isLineSegments?Hb.setMode(tb.LINES):ac.isLineLoop?Hb.setMode(tb.LINE_LOOP):Hb.setMode(tb.LINE_STRIP)):ac.isPoints?Hb.setMode(tb.POINTS):ac.isSprite&&Hb.setMode(tb.TRIANGLES),ac.isInstancedMesh?Hb.renderInstances($c,Rc,ac.count):Yb.isInstancedBufferGeometry?Hb.renderInstances($c,Rc,Math.min(Yb.instanceCount,void 0!==
Yb._maxInstanceCount?Yb._maxInstanceCount:Infinity)):Hb.render($c,Rc))};this.compile=function(ya,Hb){function Yb(Gb,ac,Rc){!0===Gb.transparent&&2===Gb.side&&!1===Gb.forceSinglePass?(Gb.side=1,Gb.needsUpdate=!0,ia(Gb,ac,Rc),Gb.side=0,Gb.needsUpdate=!0,ia(Gb,ac,Rc),Gb.side=2):ia(Gb,ac,Rc)}xb=th.get(ya);xb.init();Zb.push(xb);ya.traverseVisible(function(Gb){Gb.isLight&&Gb.layers.test(Hb.layers)&&(xb.pushLight(Gb),Gb.castShadow&&xb.pushShadow(Gb))});xb.setupLights(cc.useLegacyLights);ya.traverse(function(Gb){const ac=
Gb.material;if(ac)if(Array.isArray(ac))for(let Rc=0;Rc<ac.length;Rc++)Yb(ac[Rc],ya,Gb);else Yb(ac,ya,Gb)});Zb.pop();xb=null};let zi=null;const Sf=new H;Sf.setAnimationLoop(function(ya){zi&&zi(ya)});"undefined"!==typeof self&&Sf.setContext(self);this.setAnimationLoop=function(ya){zi=ya;Pe.setAnimationLoop(ya);null===ya?Sf.stop():Sf.start()};Pe.addEventListener("sessionstart",E);Pe.addEventListener("sessionend",G);this.render=function(ya,Hb){if(void 0!==Hb&&!0!==Hb.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
else if(!0!==bc){!0===ya.matrixWorldAutoUpdate&&ya.updateMatrixWorld();null===Hb.parent&&!0===Hb.matrixWorldAutoUpdate&&Hb.updateMatrixWorld();!0===Pe.enabled&&!0===Pe.isPresenting&&(!0===Pe.cameraAutoUpdate&&Pe.updateCamera(Hb),Hb=Pe.getCamera());if(!0===ya.isScene)ya.onBeforeRender(cc,ya,Hb,Zc);xb=th.get(ya,Zb.length);xb.init();Zb.push(xb);Fc.multiplyMatrices(Hb.projectionMatrix,Hb.matrixWorldInverse);Eb.setFromProjectionMatrix(Fc);Tb=this.localClippingEnabled;Qb=hf.init(this.clippingPlanes,Tb);
yb=sh.get(ya,fc.length);yb.init();fc.push(yb);R(ya,Hb,0,cc.sortObjects);yb.finish();!0===cc.sortObjects&&yb.sort(Na,Ta);!0===Qb&&hf.beginShadows();af.render(xb.state.shadowsArray,ya,Hb);!0===Qb&&hf.endShadows();!0===this.info.autoReset&&this.info.reset();Ff.render(yb,ya);xb.setupLights(cc.useLegacyLights);if(Hb.isArrayCamera){const Yb=Hb.cameras;for(let Gb=0,ac=Yb.length;Gb<ac;Gb++){const Rc=Yb[Gb];S(yb,ya,Rc,Rc.viewport)}}else S(yb,ya,Hb);null!==Zc&&(ne.updateMultisampleRenderTarget(Zc),ne.updateRenderTargetMipmap(Zc));
if(!0===ya.isScene)ya.onAfterRender(cc,ya,Hb);Rf.resetDefaultState();ed=-1;dc=null;Zb.pop();xb=0<Zb.length?Zb[Zb.length-1]:null;fc.pop();yb=0<fc.length?fc[fc.length-1]:null}};this.getActiveCubeFace=function(){return Cc};this.getActiveMipmapLevel=function(){return Mc};this.getRenderTarget=function(){return Zc};this.setRenderTargetTextures=function(ya,Hb,Yb){fe.get(ya.texture).__webglTexture=Hb;fe.get(ya.depthTexture).__webglTexture=Yb;ya=fe.get(ya);ya.__hasExternalTextures=!0;ya.__hasExternalTextures&&
(ya.__autoAllocateDepthBuffer=void 0===Yb,ya.__autoAllocateDepthBuffer||!0!==dd.has("WEBGL_multisampled_render_to_texture")||(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ya.__useRenderToTexture=!1))};this.setRenderTargetFramebuffer=function(ya,Hb){ya=fe.get(ya);ya.__webglFramebuffer=Hb;ya.__useDefaultFramebuffer=void 0===Hb};this.setRenderTarget=function(ya,Hb=0,Yb=0){Zc=ya;Cc=Hb;Mc=Yb;let Gb=!0;var ac=null;let Rc=!1,$c=!1;
if(ya){ac=fe.get(ya);void 0!==ac.__useDefaultFramebuffer?(ud.bindFramebuffer(tb.FRAMEBUFFER,null),Gb=!1):void 0===ac.__webglFramebuffer?ne.setupRenderTarget(ya):ac.__hasExternalTextures&&ne.rebindTextures(ya,fe.get(ya.texture).__webglTexture,fe.get(ya.depthTexture).__webglTexture);ac=ya.texture;if(ac.isData3DTexture||ac.isDataArrayTexture||ac.isCompressedArrayTexture)$c=!0;ac=fe.get(ya).__webglFramebuffer;ya.isWebGLCubeRenderTarget?(ac=ac[Hb],Rc=!0):ac=Cd.isWebGL2&&0<ya.samples&&!1===ne.useMultisampledRTT(ya)?
fe.get(ya).__webglMultisampledFramebuffer:ac;vc.copy(ya.viewport);Ac.copy(ya.scissor);Vc=ya.scissorTest}else vc.copy(hb).multiplyScalar(pa).floor(),Ac.copy(qc).multiplyScalar(pa).floor(),Vc=Sa;ud.bindFramebuffer(tb.FRAMEBUFFER,ac)&&Cd.drawBuffers&&Gb&&ud.drawBuffers(ya,ac);ud.viewport(vc);ud.scissor(Ac);ud.setScissorTest(Vc);Rc?(ya=fe.get(ya.texture),tb.framebufferTexture2D(tb.FRAMEBUFFER,tb.COLOR_ATTACHMENT0,tb.TEXTURE_CUBE_MAP_POSITIVE_X+Hb,ya.__webglTexture,Yb)):$c&&(ya=fe.get(ya.texture),tb.framebufferTextureLayer(tb.FRAMEBUFFER,
tb.COLOR_ATTACHMENT0,ya.__webglTexture,Yb||0,Hb||0));ed=-1};this.readRenderTargetPixels=function(ya,Hb,Yb,Gb,ac,Rc,$c){if(ya&&ya.isWebGLRenderTarget){var Dc=fe.get(ya).__webglFramebuffer;ya.isWebGLCubeRenderTarget&&void 0!==$c&&(Dc=Dc[$c]);if(Dc){ud.bindFramebuffer(tb.FRAMEBUFFER,Dc);try{const Yd=ya.texture,xd=Yd.format,Ce=Yd.type;if(1023!==xd&&gf.convert(xd)!==tb.getParameter(tb.IMPLEMENTATION_COLOR_READ_FORMAT))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
else{var Dd=1016===Ce&&(dd.has("EXT_color_buffer_half_float")||Cd.isWebGL2&&dd.has("EXT_color_buffer_float"));1009===Ce||gf.convert(Ce)===tb.getParameter(tb.IMPLEMENTATION_COLOR_READ_TYPE)||1015===Ce&&(Cd.isWebGL2||dd.has("OES_texture_float")||dd.has("WEBGL_color_buffer_float"))||Dd?0<=Hb&&Hb<=ya.width-Gb&&0<=Yb&&Yb<=ya.height-ac&&tb.readPixels(Hb,Yb,Gb,ac,gf.convert(xd),gf.convert(Ce),Rc):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}}finally{ya=
null!==Zc?fe.get(Zc).__webglFramebuffer:null,ud.bindFramebuffer(tb.FRAMEBUFFER,ya)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(ya,Hb,Yb=0){var Gb=Math.pow(2,-Yb);const ac=Math.floor(Hb.image.width*Gb);Gb=Math.floor(Hb.image.height*Gb);ne.setTexture2D(Hb,0);tb.copyTexSubImage2D(tb.TEXTURE_2D,Yb,0,0,ya.x,ya.y,ac,Gb);ud.unbindTexture()};this.copyTextureToTexture=function(ya,Hb,Yb,Gb=0){const ac=
Hb.image.width,Rc=Hb.image.height,$c=gf.convert(Yb.format),Dc=gf.convert(Yb.type);ne.setTexture2D(Yb,0);tb.pixelStorei(tb.UNPACK_FLIP_Y_WEBGL,Yb.flipY);tb.pixelStorei(tb.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Yb.premultiplyAlpha);tb.pixelStorei(tb.UNPACK_ALIGNMENT,Yb.unpackAlignment);Hb.isDataTexture?tb.texSubImage2D(tb.TEXTURE_2D,Gb,ya.x,ya.y,ac,Rc,$c,Dc,Hb.image.data):Hb.isCompressedTexture?tb.compressedTexSubImage2D(tb.TEXTURE_2D,Gb,ya.x,ya.y,Hb.mipmaps[0].width,Hb.mipmaps[0].height,$c,Hb.mipmaps[0].data):
tb.texSubImage2D(tb.TEXTURE_2D,Gb,ya.x,ya.y,$c,Dc,Hb.image);0===Gb&&Yb.generateMipmaps&&tb.generateMipmap(tb.TEXTURE_2D);ud.unbindTexture()};this.copyTextureToTexture3D=function(ya,Hb,Yb,Gb,ac=0){if(cc.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var Rc=ya.max.x-ya.min.x+1,$c=ya.max.y-ya.min.y+1,Dc=ya.max.z-ya.min.z+1,Dd=gf.convert(Gb.format),Yd=gf.convert(Gb.type);if(Gb.isData3DTexture){ne.setTexture3D(Gb,0);var xd=tb.TEXTURE_3D}else if(Gb.isDataArrayTexture)ne.setTexture2DArray(Gb,
0),xd=tb.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}tb.pixelStorei(tb.UNPACK_FLIP_Y_WEBGL,Gb.flipY);tb.pixelStorei(tb.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Gb.premultiplyAlpha);tb.pixelStorei(tb.UNPACK_ALIGNMENT,Gb.unpackAlignment);var Ce=tb.getParameter(tb.UNPACK_ROW_LENGTH),Tf=tb.getParameter(tb.UNPACK_IMAGE_HEIGHT),uf=tb.getParameter(tb.UNPACK_SKIP_PIXELS),wi=tb.getParameter(tb.UNPACK_SKIP_ROWS),
xi=tb.getParameter(tb.UNPACK_SKIP_IMAGES),ld=Yb.isCompressedTexture?Yb.mipmaps[0]:Yb.image;tb.pixelStorei(tb.UNPACK_ROW_LENGTH,ld.width);tb.pixelStorei(tb.UNPACK_IMAGE_HEIGHT,ld.height);tb.pixelStorei(tb.UNPACK_SKIP_PIXELS,ya.min.x);tb.pixelStorei(tb.UNPACK_SKIP_ROWS,ya.min.y);tb.pixelStorei(tb.UNPACK_SKIP_IMAGES,ya.min.z);Yb.isDataTexture||Yb.isData3DTexture?tb.texSubImage3D(xd,ac,Hb.x,Hb.y,Hb.z,Rc,$c,Dc,Dd,Yd,ld.data):Yb.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),
tb.compressedTexSubImage3D(xd,ac,Hb.x,Hb.y,Hb.z,Rc,$c,Dc,Dd,ld.data)):tb.texSubImage3D(xd,ac,Hb.x,Hb.y,Hb.z,Rc,$c,Dc,Dd,Yd,ld);tb.pixelStorei(tb.UNPACK_ROW_LENGTH,Ce);tb.pixelStorei(tb.UNPACK_IMAGE_HEIGHT,Tf);tb.pixelStorei(tb.UNPACK_SKIP_PIXELS,uf);tb.pixelStorei(tb.UNPACK_SKIP_ROWS,wi);tb.pixelStorei(tb.UNPACK_SKIP_IMAGES,xi);0===ac&&Gb.generateMipmaps&&tb.generateMipmap(xd);ud.unbindTexture()}};this.initTexture=function(ya){ya.isCubeTexture?ne.setTextureCube(ya,0):ya.isData3DTexture?ne.setTexture3D(ya,
0):ya.isDataArrayTexture||ya.isCompressedArrayTexture?ne.setTexture2DArray(ya,0):ne.setTexture2D(ya,0);ud.unbindTexture()};this.resetState=function(){Mc=Cc=0;Zc=null;ud.reset();Rf.reset()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Sc(a,b,c,e,f,l){ng.subVectors(a,c).addScalar(.5).multiply(e);void 0!==f?(Pg.x=l*ng.x-f*ng.y,Pg.y=f*ng.x+l*ng.y):Pg.copy(ng);a.copy(b);a.x+=Pg.x;a.y+=Pg.y;a.applyMatrix4(Aj)}function Xc(a,
b,c,e,f,l,n){const v=Ai.distanceSqToPoint(a);v<c&&(c=new Ga,Ai.closestPointToPoint(a,c),c.applyMatrix4(e),a=f.ray.origin.distanceTo(c),a<f.near||a>f.far||l.push({distance:a,distanceToRay:Math.sqrt(v),point:c,index:b,face:null,object:n}))}function Fb(){let a=0,b=0,c=0,e=0;return{initCatmullRom:function(f,l,n,v,E){f=E*(n-f);v=E*(v-l);a=l;b=f;c=-3*l+3*n-2*f-v;e=2*l-2*n+f+v},initNonuniformCatmullRom:function(f,l,n,v,E,G,R){f=((l-f)/E-(n-f)/(E+G)+(n-l)/G)*G;v=((n-l)/G-(v-l)/(G+R)+(v-n)/R)*G;a=l;b=f;c=
-3*l+3*n-2*f-v;e=2*l-2*n+f+v},calc:function(f){const l=f*f;return a+b*f+c*l+e*l*f}}}function hd(a,b,c,e,f){b=.5*(e-b);f=.5*(f-c);const l=a*a;return(2*c-2*e+b+f)*a*l+(-3*c+3*e-2*b-f)*l+b*a+c}function xc(a,b,c,e){const f=1-a;return f*f*b+2*(1-a)*a*c+a*a*e}function Bc(a,b,c,e,f){const l=1-a,n=1-a;return l*l*l*b+3*n*n*a*c+3*(1-a)*a*a*e+a*a*a*f}function sc(a,b,c,e,f){let l,n=0;for(let v=b,E=c-e;v<c;v+=e)n+=(a[E]-a[v])*(a[v+1]+a[E+1]),E=v;if(f===0<n)for(f=b;f<c;f+=e)l=Pb(f,a[f],a[f+1],l);else for(f=c-e;f>=
b;f-=e)l=Pb(f,a[f],a[f+1],l);l&&Ha(l,l.next)&&(gc(l),l=l.next);return l}function Jc(a,b){if(!a)return a;b||(b=a);let c;do if(c=!1,a.steiner||!Ha(a,a.next)&&0!==ad(a.prev,a,a.next))a=a.next;else{gc(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}function zc(a,b,c,e,f,l,n){if(a){if(!n&&l){var v=a,E=v;do 0===E.z&&(E.z=Zd(E.x,E.y,e,f,l)),E.prevZ=E.prev,E=E.nextZ=E.next;while(E!==v);E.prevZ.nextZ=null;E.prevZ=null;v=E;var G,R,S,V,ia=1;do{E=v;var ha=v=null;for(R=0;E;){R++;var Q=E;for(G=
S=0;G<ia&&(S++,Q=Q.nextZ,Q);G++);for(V=ia;0<S||0<V&&Q;)0!==S&&(0===V||!Q||E.z<=Q.z)?(G=E,E=E.nextZ,S--):(G=Q,Q=Q.nextZ,V--),ha?ha.nextZ=G:v=G,G.prevZ=ha,ha=G;E=Q}ha.nextZ=null;ia*=2}while(1<R)}for(v=a;a.prev!==a.next;){E=a.prev;Q=a.next;if(l)ha=bd(a,e,f,l);else a:{ha=a.prev;var la=a;V=a.next;if(0<=ad(ha,la,V)){ha=!1;break a}R=ha.x;S=la.x;ia=V.x;G=ha.y;la=la.y;const Xa=V.y,Ba=R<S?R<ia?R:ia:S<ia?S:ia,$a=G<la?G<Xa?G:Xa:la<Xa?la:Xa,pb=R>S?R>ia?R:ia:S>ia?S:ia,Ua=G>la?G>Xa?G:Xa:la>Xa?la:Xa;for(V=V.next;V!==
ha;){if(V.x>=Ba&&V.x<=pb&&V.y>=$a&&V.y<=Ua&&jd(R,G,S,la,ia,Xa,V.x,V.y)&&0<=ad(V.prev,V,V.next)){ha=!1;break a}V=V.next}ha=!0}if(ha)b.push(E.i/c|0),b.push(a.i/c|0),b.push(Q.i/c|0),gc(a),v=a=Q.next;else if(a=Q,a===v){if(!n)zc(Jc(a),b,c,e,f,l,1);else if(1===n){a=Jc(a);n=b;v=c;E=a;do Q=E.prev,ha=E.next.next,!Ha(Q,ha)&&ib(Q,E,E.next,ha)&&Kb(Q,ha)&&Kb(ha,Q)&&(n.push(Q.i/v|0),n.push(E.i/v|0),n.push(ha.i/v|0),gc(E),gc(E.next),E=a=ha),E=E.next;while(E!==a);a=Jc(E);zc(a,b,c,e,f,l,2)}else if(2===n)a:{n=a;do{for(v=
n.next.next;v!==n.prev;){if(E=n.i!==v.i){E=n;Q=v;if(ha=E.next.i!==Q.i&&E.prev.i!==Q.i){b:{ha=E;do{if(ha.i!==E.i&&ha.next.i!==E.i&&ha.i!==Q.i&&ha.next.i!==Q.i&&ib(ha,ha.next,E,Q)){ha=!0;break b}ha=ha.next}while(ha!==E);ha=!1}ha=!ha}if(ha){if(ha=Kb(E,Q)&&Kb(Q,E)){ha=E;R=!1;S=(E.x+Q.x)/2;ia=(E.y+Q.y)/2;do ha.y>ia!==ha.next.y>ia&&ha.next.y!==ha.y&&S<(ha.next.x-ha.x)*(ia-ha.y)/(ha.next.y-ha.y)+ha.x&&(R=!R),ha=ha.next;while(ha!==E);ha=R}ha=ha&&(ad(E.prev,E,Q.prev)||ad(E,Q.prev,Q))||Ha(E,Q)&&0<ad(E.prev,
E,E.next)&&0<ad(Q.prev,Q,Q.next)}E=ha}if(E){a=Vb(n,v);n=Jc(n,n.next);a=Jc(a,a.next);zc(n,b,c,e,f,l,0);zc(a,b,c,e,f,l,0);break a}v=v.next}n=n.next}while(n!==a)}break}}}}function bd(a,b,c,e){const f=a.prev,l=a.next;if(0<=ad(f,a,l))return!1;const n=f.x,v=a.x,E=l.x,G=f.y,R=a.y,S=l.y,V=n<v?n<E?n:E:v<E?v:E,ia=G<R?G<S?G:S:R<S?R:S,ha=n>v?n>E?n:E:v>E?v:E,Q=G>R?G>S?G:S:R>S?R:S,la=Zd(V,ia,b,c,e);b=Zd(ha,Q,b,c,e);c=a.prevZ;for(a=a.nextZ;c&&c.z>=la&&a&&a.z<=b;){if(c.x>=V&&c.x<=ha&&c.y>=ia&&c.y<=Q&&c!==f&&c!==
l&&jd(n,G,v,R,E,S,c.x,c.y)&&0<=ad(c.prev,c,c.next))return!1;c=c.prevZ;if(a.x>=V&&a.x<=ha&&a.y>=ia&&a.y<=Q&&a!==f&&a!==l&&jd(n,G,v,R,E,S,a.x,a.y)&&0<=ad(a.prev,a,a.next))return!1;a=a.nextZ}for(;c&&c.z>=la;){if(c.x>=V&&c.x<=ha&&c.y>=ia&&c.y<=Q&&c!==f&&c!==l&&jd(n,G,v,R,E,S,c.x,c.y)&&0<=ad(c.prev,c,c.next))return!1;c=c.prevZ}for(;a&&a.z<=b;){if(a.x>=V&&a.x<=ha&&a.y>=ia&&a.y<=Q&&a!==f&&a!==l&&jd(n,G,v,R,E,S,a.x,a.y)&&0<=ad(a.prev,a,a.next))return!1;a=a.nextZ}return!0}function Od(a,b){return a.x-b.x}function Zd(a,
b,c,e,f){a=(a-c)*f|0;b=(b-e)*f|0;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function jd(a,b,c,e,f,l,n,v){return(f-n)*(b-v)>=(a-n)*(l-v)&&(a-n)*(e-v)>=(c-n)*(b-v)&&(c-n)*(l-v)>=(f-n)*(e-v)}function ad(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function Ha(a,b){return a.x===b.x&&a.y===b.y}function ib(a,b,c,e){const f=Ib(ad(a,b,c)),l=Ib(ad(a,b,e)),n=Ib(ad(c,e,
a)),v=Ib(ad(c,e,b));return f!==l&&n!==v||0===f&&Db(a,c,b)||0===l&&Db(a,e,b)||0===n&&Db(c,a,e)||0===v&&Db(c,b,e)?!0:!1}function Db(a,b,c){return b.x<=Math.max(a.x,c.x)&&b.x>=Math.min(a.x,c.x)&&b.y<=Math.max(a.y,c.y)&&b.y>=Math.min(a.y,c.y)}function Ib(a){return 0<a?1:0>a?-1:0}function Kb(a,b){return 0>ad(a.prev,a,a.next)?0<=ad(a,b,a.next)&&0<=ad(a,a.prev,b):0>ad(a,b,a.prev)||0>ad(a,a.next,b)}function Vb(a,b){const c=new D(a.i,a.x,a.y),e=new D(b.i,b.x,b.y),f=a.next,l=b.prev;a.next=b;b.prev=a;c.next=
f;f.prev=c;e.next=c;c.prev=e;l.next=e;e.prev=l;return e}function Pb(a,b,c,e){a=new D(a,b,c);e?(a.next=e.next,a.prev=e,e.next.prev=a,e.next=a):(a.prev=a,a.next=a);return a}function gc(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function D(a,b,c){this.i=a;this.x=b;this.y=c;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function O(a){const b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function U(a,b){for(let c=
0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}function ba(a,b,c){const e=`${a.x},${a.y},${a.z}-${b.x},${b.y},${b.z}`;a=`${b.x},${b.y},${b.z}-${a.x},${a.y},${a.z}`;if(!0===c.has(e)||!0===c.has(a))return!1;c.add(e);c.add(a);return!0}function da(a,b,c){return Qa(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)}function xa(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)}function Qa(a){return ArrayBuffer.isView(a)&&
!(a instanceof DataView)}function qb(a){const b=a.length,c=Array(b);for(let e=0;e!==b;++e)c[e]=e;c.sort(function(e,f){return a[e]-a[f]});return c}function wb(a,b,c){const e=a.length,f=new a.constructor(e);for(let l=0,n=0;n!==e;++l){const v=c[l]*b;for(let E=0;E!==b;++E)f[n++]=a[v+E]}return f}function Nb(a,b,c,e){let f=1,l=a[0];for(;void 0!==l&&void 0===l[e];)l=a[f++];if(void 0!==l){var n=l[e];if(void 0!==n)if(Array.isArray(n)){do n=l[e],void 0!==n&&(b.push(l.time),c.push.apply(c,n)),l=a[f++];while(void 0!==
l)}else if(void 0!==n.toArray){do n=l[e],void 0!==n&&(b.push(l.time),n.toArray(c,c.length)),l=a[f++];while(void 0!==l)}else{do n=l[e],void 0!==n&&(b.push(l.time),c.push(n)),l=a[f++];while(void 0!==l)}}}function nc(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return Qg;case "vector":case "vector2":case "vector3":case "vector4":return Rg;case "color":return Bi;case "quaternion":return og;case "bool":case "boolean":return Uf;case "string":return Vf}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+
a);}function Ec(){return("undefined"===typeof performance?Date:performance).now()}function cd(a,b){return a.distance-b.distance}function Hd(a,b,c,e){a.layers.test(b.layers)&&a.raycast(b,c);if(!0===e){a=a.children;for(let f=0,l=a.length;f<l;f++)Hd(a[f],b,c,!0)}}function Id(a){const b=[];!0===a.isBone&&b.push(a);for(let c=0;c<a.children.length;c++)b.push.apply(b,Id(a.children[c]));return b}function Tc(a,b,c,e,f,l,n){vh.set(f,l,n).unproject(e);a=b[a];if(void 0!==a){c=c.getAttribute("position");for(let v=
0,E=a.length;v<E;v++)c.setXYZ(a[v],vh.x,vh.y,vh.z)}}class Yc{addEventListener(a,b){void 0===this._listeners&&(this._listeners={});const c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)}hasEventListener(a,b){if(void 0===this._listeners)return!1;const c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)}removeEventListener(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))}dispatchEvent(a){if(void 0!==this._listeners){var b=
this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(let c=0,e=b.length;c<e;c++)b[c].call(this,a);a.target=null}}}}const zd="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let ae=1234567;const fd=Math.PI/180,Wc=180/Math.PI,be={DEG2RAD:fd,RAD2DEG:Wc,generateUUID:J,clamp:r,euclideanModulo:w,mapLinear:function(a,b,c,e,f){return e+(a-b)*(f-e)/(c-b)},inverseLerp:function(a,b,c){return a!==b?(c-a)/(b-a):0},lerp:h,damp:function(a,b,c,e){return h(a,b,1-Math.exp(-c*e))},pingpong:function(a,b=1){return b-Math.abs(w(a,2*b)-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;
a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){void 0!==a&&(ae=a);a=ae+=1831565813;a=Math.imul(a^a>>>15,a|1);a^=a+Math.imul(a^a>>>7,a|61);return((a^a>>>14)>>>0)/4294967296},degToRad:function(a){return a*fd},radToDeg:function(a){return a*Wc},isPowerOfTwo:m,ceilPowerOfTwo:x,floorPowerOfTwo:z,setQuaternionFromProperEuler:function(a,
b,c,e,f){var l=Math.cos;const n=Math.sin,v=l(c/2);c=n(c/2);const E=l((b+e)/2),G=n((b+e)/2),R=l((b-e)/2),S=n((b-e)/2);l=l((e-b)/2);b=n((e-b)/2);switch(f){case "XYX":a.set(v*G,c*R,c*S,v*E);break;case "YZY":a.set(c*S,v*G,c*R,v*E);break;case "ZXZ":a.set(c*R,c*S,v*G,v*E);break;case "XZX":a.set(v*G,c*b,c*l,v*E);break;case "YXY":a.set(c*l,v*G,c*b,v*E);break;case "ZYZ":a.set(c*b,c*l,v*G,v*E);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+f)}},
normalize:p,denormalize:k};class Xb{constructor(a=0,b=0){Xb.prototype.isVector2=!0;this.x=a;this.y=b}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,b){this.x=a;this.y=b;return this}setScalar(a){this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y)}copy(a){this.x=a.x;this.y=a.y;return this}add(a){this.x+=a.x;this.y+=a.y;return this}addScalar(a){this.x+=a;this.y+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;return this}sub(a){this.x-=a.x;this.y-=a.y;return this}subScalar(a){this.x-=a;this.y-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-
b.y;return this}multiply(a){this.x*=a.x;this.y*=a.y;return this}multiplyScalar(a){this.x*=a;this.y*=a;return this}divide(a){this.x/=a.x;this.y/=a.y;return this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this}clamp(a,b){this.x=Math.max(a.x,
Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=
0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=
this.x-a.x;a=this.y-a.y;return b*b+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;return this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;return a}fromBufferAttribute(a,b){this.x=a.getX(b);
this.y=a.getY(b);return this}rotateAround(a,b){const c=Math.cos(b);b=Math.sin(b);const e=this.x-a.x,f=this.y-a.y;this.x=e*c-f*b+a.x;this.y=e*b+f*c+a.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}class he{constructor(){he.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1]}set(a,b,c,e,f,l,n,v,E){const G=this.elements;G[0]=a;G[1]=e;G[2]=n;G[3]=b;G[4]=f;G[5]=v;G[6]=c;G[7]=l;G[8]=E;return this}identity(){this.set(1,0,
0,0,1,0,0,0,1);return this}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this}extractBasis(a,b,c){a.setFromMatrix3Column(this,0);b.setFromMatrix3Column(this,1);c.setFromMatrix3Column(this,2);return this}setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,
b){var c=a.elements,e=b.elements;b=this.elements;a=c[0];const f=c[3],l=c[6],n=c[1],v=c[4],E=c[7],G=c[2],R=c[5];c=c[8];const S=e[0],V=e[3],ia=e[6],ha=e[1],Q=e[4],la=e[7],Xa=e[2],Ba=e[5];e=e[8];b[0]=a*S+f*ha+l*Xa;b[3]=a*V+f*Q+l*Ba;b[6]=a*ia+f*la+l*e;b[1]=n*S+v*ha+E*Xa;b[4]=n*V+v*Q+E*Ba;b[7]=n*ia+v*la+E*e;b[2]=G*S+R*ha+c*Xa;b[5]=G*V+R*Q+c*Ba;b[8]=G*ia+R*la+c*e;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this}determinant(){var a=
this.elements;const b=a[0],c=a[1],e=a[2],f=a[3],l=a[4],n=a[5],v=a[6],E=a[7];a=a[8];return b*l*a-b*n*E-c*f*a+c*n*v+e*f*E-e*l*v}invert(){const a=this.elements,b=a[0],c=a[1],e=a[2],f=a[3],l=a[4],n=a[5],v=a[6],E=a[7],G=a[8],R=G*l-n*E,S=n*v-G*f,V=E*f-l*v;var ia=b*R+c*S+e*V;if(0===ia)return this.set(0,0,0,0,0,0,0,0,0);ia=1/ia;a[0]=R*ia;a[1]=(e*E-G*c)*ia;a[2]=(n*c-e*l)*ia;a[3]=S*ia;a[4]=(G*b-e*v)*ia;a[5]=(e*f-n*b)*ia;a[6]=V*ia;a[7]=(c*v-E*b)*ia;a[8]=(l*b-c*f)*ia;return this}transpose(){let a;const b=this.elements;
a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this}setUvTransform(a,b,c,e,f,l,n){const v=Math.cos(f);f=Math.sin(f);this.set(c*v,c*f,-c*(v*l+f*n)+l+a,-e*f,e*v,-e*(-f*l+v*n)+n+b,0,0,1);return this}scale(a,b){this.premultiply(vf.makeScale(a,b));return this}rotate(a){this.premultiply(vf.makeRotation(-a));
return this}translate(a,b){this.premultiply(vf.makeTranslation(a,b));return this}makeTranslation(a,b){this.set(1,0,a,0,1,b,0,0,1);return this}makeRotation(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,a,b,0,0,0,1);return this}makeScale(a,b){this.set(a,0,0,0,b,0,0,0,1);return this}equals(a){const b=this.elements;a=a.elements;for(let c=0;9>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b=0){for(let c=0;9>c;c++)this.elements[c]=a[c+b];return this}toArray(a=[],b=0){const c=this.elements;a[b]=
c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}clone(){return(new this.constructor).fromArray(this.elements)}}const vf=new he,we={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};class te{constructor(a=0,b=0,c=0,e=1){this.isQuaternion=!0;this._x=a;this._y=b;this._z=c;this._w=e}static slerpFlat(a,b,c,e,f,l,n){let v=c[e+0],E=c[e+1],G=c[e+2];c=c[e+3];e=f[l+0];const R=f[l+1],S=
f[l+2];f=f[l+3];if(0===n)a[b+0]=v,a[b+1]=E,a[b+2]=G,a[b+3]=c;else if(1===n)a[b+0]=e,a[b+1]=R,a[b+2]=S,a[b+3]=f;else{if(c!==f||v!==e||E!==R||G!==S){l=1-n;var V=v*e+E*R+G*S+c*f,ia=0<=V?1:-1,ha=1-V*V;ha>Number.EPSILON&&(ha=Math.sqrt(ha),V=Math.atan2(ha,V*ia),l=Math.sin(l*V)/ha,n=Math.sin(n*V)/ha);ia*=n;v=v*l+e*ia;E=E*l+R*ia;G=G*l+S*ia;c=c*l+f*ia;l===1-n&&(n=1/Math.sqrt(v*v+E*E+G*G+c*c),v*=n,E*=n,G*=n,c*=n)}a[b]=v;a[b+1]=E;a[b+2]=G;a[b+3]=c}}static multiplyQuaternionsFlat(a,b,c,e,f,l){const n=c[e],v=
c[e+1],E=c[e+2];c=c[e+3];e=f[l];const G=f[l+1],R=f[l+2];f=f[l+3];a[b]=n*f+c*e+v*R-E*G;a[b+1]=v*f+c*G+E*e-n*R;a[b+2]=E*f+c*R+n*G-v*e;a[b+3]=c*f-n*e-v*G-E*R;return a}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a;this._onChangeCallback()}set(a,b,c,e){this._x=a;this._y=b;this._z=c;this._w=e;this._onChangeCallback();
return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this}setFromEuler(a,b){var c=a._x,e=a._y,f=a._z;a=a._order;var l=Math.cos;const n=Math.sin,v=l(c/2),E=l(e/2);l=l(f/2);c=n(c/2);e=n(e/2);f=n(f/2);switch(a){case "XYZ":this._x=c*E*l+v*e*f;this._y=v*e*l-c*E*f;this._z=v*E*f+c*e*l;this._w=v*E*l-c*e*f;break;case "YXZ":this._x=c*E*l+v*e*f;this._y=v*e*l-c*E*f;this._z=v*E*f-c*e*l;this._w=v*
E*l+c*e*f;break;case "ZXY":this._x=c*E*l-v*e*f;this._y=v*e*l+c*E*f;this._z=v*E*f+c*e*l;this._w=v*E*l-c*e*f;break;case "ZYX":this._x=c*E*l-v*e*f;this._y=v*e*l+c*E*f;this._z=v*E*f-c*e*l;this._w=v*E*l+c*e*f;break;case "YZX":this._x=c*E*l+v*e*f;this._y=v*e*l+c*E*f;this._z=v*E*f-c*e*l;this._w=v*E*l-c*e*f;break;case "XZY":this._x=c*E*l-v*e*f;this._y=v*e*l-c*E*f;this._z=v*E*f+c*e*l;this._w=v*E*l+c*e*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}!1!==b&&
this._onChangeCallback();return this}setFromAxisAngle(a,b){b/=2;const c=Math.sin(b);this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=Math.cos(b);this._onChangeCallback();return this}setFromRotationMatrix(a){var b=a.elements,c=b[0];a=b[4];const e=b[8],f=b[1],l=b[5],n=b[9],v=b[2],E=b[6];b=b[10];const G=c+l+b;0<G?(c=.5/Math.sqrt(G+1),this._w=.25/c,this._x=(E-n)*c,this._y=(e-v)*c,this._z=(f-a)*c):c>l&&c>b?(c=2*Math.sqrt(1+c-l-b),this._w=(E-n)/c,this._x=.25*c,this._y=(a+f)/c,this._z=(e+v)/c):l>b?(c=2*
Math.sqrt(1+l-c-b),this._w=(e-v)/c,this._x=(a+f)/c,this._y=.25*c,this._z=(n+E)/c):(c=2*Math.sqrt(1+b-c-l),this._w=(f-a)/c,this._x=(e+v)/c,this._y=(n+E)/c,this._z=.25*c);this._onChangeCallback();return this}setFromUnitVectors(a,b){let c=a.dot(b)+1;c<Number.EPSILON?(c=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*b.z-a.z*b.y,this._y=a.z*b.x-a.x*b.z,this._z=a.x*b.y-a.y*b.x);this._w=c;return this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(r(this.dot(a),
-1,1)))}rotateTowards(a,b){const c=this.angleTo(a);if(0===c)return this;this.slerp(a,Math.min(1,b/c));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=
this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();return this}multiply(a){return this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,b){const c=a._x,e=a._y,f=a._z;a=a._w;const l=b._x,n=b._y,v=b._z;b=b._w;this._x=c*b+a*l+e*v-f*n;this._y=e*b+a*n+f*l-c*v;this._z=f*b+a*v+c*n-e*l;this._w=a*b-c*l-e*n-f*v;this._onChangeCallback();return this}slerp(a,b){if(0===b)return this;
if(1===b)return this.copy(a);const c=this._x,e=this._y,f=this._z,l=this._w;var n=l*a._w+c*a._x+e*a._y+f*a._z;0>n?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,n=-n):this.copy(a);if(1<=n)return this._w=l,this._x=c,this._y=e,this._z=f,this;a=1-n*n;if(a<=Number.EPSILON)return n=1-b,this._w=n*l+b*this._w,this._x=n*c+b*this._x,this._y=n*e+b*this._y,this._z=n*f+b*this._z,this.normalize(),this._onChangeCallback(),this;a=Math.sqrt(a);const v=Math.atan2(a,n);n=Math.sin((1-b)*v)/a;b=Math.sin(b*v)/
a;this._w=l*n+this._w*b;this._x=c*n+this._x*b;this._y=e*n+this._y*b;this._z=f*n+this._z*b;this._onChangeCallback();return this}slerpQuaternions(a,b,c){return this.copy(a).slerp(b,c)}random(){var a=Math.random();const b=Math.sqrt(1-a);a=Math.sqrt(a);const c=2*Math.PI*Math.random(),e=2*Math.PI*Math.random();return this.set(b*Math.cos(c),a*Math.sin(e),a*Math.cos(e),b*Math.sin(c))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,b=0){this._x=a[b];this._y=a[b+
1];this._z=a[b+2];this._w=a[b+3];this._onChangeCallback();return this}toArray(a=[],b=0){a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a}fromBufferAttribute(a,b){this._x=a.getX(b);this._y=a.getY(b);this._z=a.getZ(b);this._w=a.getW(b);return this}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}class Ga{constructor(a=0,b=0,c=0){Ga.prototype.isVector3=!0;this.x=a;this.y=b;this.z=c}set(a,
b,c){void 0===c&&(c=this.z);this.x=a;this.y=b;this.z=c;return this}setScalar(a){this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,
this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this}multiply(a){this.x*=
a.x;this.y*=a.y;this.z*=a.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this}applyEuler(a){return this.applyQuaternion(pg.setFromEuler(a))}applyAxisAngle(a,b){return this.applyQuaternion(pg.setFromAxisAngle(a,b))}applyMatrix3(a){const b=this.x,c=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*e;this.y=a[1]*b+a[4]*c+a[7]*e;this.z=a[2]*b+a[5]*c+a[8]*e;return this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const b=
this.x,c=this.y,e=this.z;a=a.elements;const f=1/(a[3]*b+a[7]*c+a[11]*e+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*e+a[12])*f;this.y=(a[1]*b+a[5]*c+a[9]*e+a[13])*f;this.z=(a[2]*b+a[6]*c+a[10]*e+a[14])*f;return this}applyQuaternion(a){var b=this.x;const c=this.y,e=this.z,f=a.x,l=a.y,n=a.z;a=a.w;const v=a*b+l*e-n*c,E=a*c+n*b-f*e,G=a*e+f*c-l*b;b=-f*b-l*c-n*e;this.x=v*a+b*-f+E*-n-G*-l;this.y=E*a+b*-l+G*-f-v*-n;this.z=G*a+b*-n+v*-l-E*-f;return this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const b=
this.x,c=this.y,e=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*e;this.y=a[1]*b+a[5]*c+a[9]*e;this.z=a[2]*b+a[6]*c+a[10]*e;return this.normalize()}divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,
this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);
this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;return this}cross(a){return this.crossVectors(this,a)}crossVectors(a,b){const c=a.x,e=a.y;a=a.z;const f=
b.x,l=b.y;b=b.z;this.x=e*b-a*l;this.y=a*f-c*b;this.z=c*l-e*f;return this}projectOnVector(a){var b=a.lengthSq();if(0===b)return this.set(0,0,0);b=a.dot(this)/b;return this.copy(a).multiplyScalar(b)}projectOnPlane(a){Wf.copy(this).projectOnVector(a);return this.sub(Wf)}reflect(a){return this.sub(Wf.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const b=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===b)return Math.PI/2;a=this.dot(a)/b;return Math.acos(r(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=
this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,b,c){const e=Math.sin(b)*a;this.x=e*Math.sin(c);this.y=Math.cos(b)*a;this.z=e*Math.cos(c);return this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,b,c){this.x=a*Math.sin(b);this.y=c;this.z=
a*Math.cos(b);return this}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}setFromMatrixScale(a){const b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this}setFromMatrixColumn(a,b){return this.fromArray(a.elements,4*b)}setFromMatrix3Column(a,b){return this.fromArray(a.elements,3*b)}setFromEuler(a){this.x=a._x;this.y=a._y;this.z=a._z;return this}equals(a){return a.x===
this.x&&a.y===this.y&&a.z===this.z}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const a=2*(Math.random()-.5),b=Math.random()*Math.PI*2,c=Math.sqrt(1-a**2);this.x=c*Math.cos(b);this.y=c*Math.sin(b);this.z=a;return this}*[Symbol.iterator](){yield this.x;
yield this.y;yield this.z}}const Wf=new Ga,pg=new te,wh=(new he).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1E-7,1E-7,.9105199]),va=(new he).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1E-7,0,1.0982735]),oe=new Ga,Qe={["srgb-linear"]:a=>a,srgb:a=>a.convertSRGBToLinear(),["display-p3"]:function(a){a.convertSRGBToLinear();oe.set(a.r,a.g,a.b).applyMatrix3(va);return a.setRGB(oe.x,oe.y,oe.z)}},qg={["srgb-linear"]:a=>a,srgb:a=>a.convertLinearToSRGB(),["display-p3"]:function(a){oe.set(a.r,
a.g,a.b).applyMatrix3(wh);return a.setRGB(oe.x,oe.y,oe.z).convertLinearToSRGB()}},Ud={enabled:!1,get legacyMode(){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");return!this.enabled},set legacyMode(a){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");this.enabled=!a},get workingColorSpace(){return"srgb-linear"},set workingColorSpace(a){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},
convert:function(a,b,c){if(!1===this.enabled||b===c||!b||!c)return a;const e=Qe[b],f=qg[c];if(void 0===e||void 0===f)throw Error(`Unsupported color space conversion, "${b}" to "${c}".`);return f(e(a))},fromWorkingColorSpace:function(a,b){return this.convert(a,this.workingColorSpace,b)},toWorkingColorSpace:function(a,b){return this.convert(a,b,this.workingColorSpace)}};let Gf;class Le{static getDataURL(a){if(/^data:/i.test(a.src)||"undefined"==typeof HTMLCanvasElement)return a.src;if(a instanceof HTMLCanvasElement)var b=
a;else void 0===Gf&&(Gf=t("canvas")),Gf.width=a.width,Gf.height=a.height,b=Gf.getContext("2d"),a instanceof ImageData?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height),b=Gf;return 2048<b.width||2048<b.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",a),b.toDataURL("image/jpeg",.6)):b.toDataURL("image/png")}static sRGBToLinear(a){if("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&
a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap){var b=t("canvas");b.width=a.width;b.height=a.height;var c=b.getContext("2d");c.drawImage(a,0,0,a.width,a.height);a=c.getImageData(0,0,a.width,a.height);const e=a.data;for(let f=0;f<e.length;f++)e[f]=255*u(e[f]/255);c.putImageData(a,0,0);return b}if(a.data){b=a.data.slice(0);for(c=0;c<b.length;c++)b[c]=b instanceof Uint8Array||b instanceof Uint8ClampedArray?Math.floor(255*u(b[c]/255)):u(b[c]);return{data:b,
width:a.width,height:a.height}}console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.");return a}}class jf{constructor(a=null){this.isSource=!0;this.uuid=J();this.data=a;this.version=0}set needsUpdate(a){!0===a&&this.version++}toJSON(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.images[this.uuid])return a.images[this.uuid];const c={uuid:this.uuid,url:""},e=this.data;if(null!==e){let f;if(Array.isArray(e)){f=[];for(let l=0,n=e.length;l<
n;l++)e[l].isDataTexture?f.push(F(e[l].image)):f.push(F(e[l]))}else f=F(e);c.url=f}b||(a.images[this.uuid]=c);return c}}let xh=0;class ie extends Yc{constructor(a=ie.DEFAULT_IMAGE,b=ie.DEFAULT_MAPPING,c=1001,e=1001,f=1006,l=1008,n=1023,v=1009,E=ie.DEFAULT_ANISOTROPY,G=3E3){super();this.isTexture=!0;Object.defineProperty(this,"id",{value:xh++});this.uuid=J();this.name="";this.source=new jf(a);this.mipmaps=[];this.mapping=b;this.wrapS=c;this.wrapT=e;this.magFilter=f;this.minFilter=l;this.anisotropy=
E;this.format=n;this.internalFormat=null;this.type=v;this.offset=new Xb(0,0);this.repeat=new Xb(1,1);this.center=new Xb(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new he;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=G;this.userData={};this.version=0;this.onUpdate=null;this.needsPMREMUpdate=this.isRenderTargetTexture=!1}get image(){return this.source.data}set image(a=null){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,
this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(a){this.name=a.name;this.source=a.source;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);
this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;this.userData=JSON.parse(JSON.stringify(a.userData));this.needsUpdate=!0;return this}toJSON(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const c={metadata:{version:4.5,type:"Texture",
generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,
unpackAlignment:this.unpackAlignment};0<Object.keys(this.userData).length&&(c.userData=this.userData);b||(a.textures[this.uuid]=c);return c}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);
break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}set needsUpdate(a){!0===a&&(this.version++,this.source.needsUpdate=!0)}}ie.DEFAULT_IMAGE=null;ie.DEFAULT_MAPPING=300;ie.DEFAULT_ANISOTROPY=1;class Gd{constructor(a=0,b=0,c=0,e=1){Gd.prototype.isVector4=!0;this.x=a;this.y=b;this.z=c;this.w=e}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,b,
c,e){this.x=a;this.y=b;this.z=c;this.w=e;return this}setScalar(a){this.w=this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setW(a){this.w=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;
default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this}sub(a){this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this}multiply(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this}applyMatrix4(a){const b=this.x,c=this.y,e=this.z,f=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*e+a[12]*f;this.y=a[1]*b+a[5]*c+a[9]*e+a[13]*f;this.z=a[2]*
b+a[6]*c+a[10]*e+a[14]*f;this.w=a[3]*b+a[7]*c+a[11]*e+a[15]*f;return this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this}setAxisAngleFromRotationMatrix(a){a=a.elements;var b=a[0];var c=a[4];var e=a[8];const f=a[1];var l=a[5],n=a[9];var v=a[2];var E=a[6];var G=a[10];if(.01>Math.abs(c-f)&&.01>Math.abs(e-v)&&.01>Math.abs(n-E)){if(.1>
Math.abs(c+f)&&.1>Math.abs(e+v)&&.1>Math.abs(n+E)&&.1>Math.abs(b+l+G-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;l=(l+1)/2;G=(G+1)/2;c=(c+f)/4;e=(e+v)/4;n=(n+E)/4;b>l&&b>G?.01>b?(E=0,c=v=.707106781):(E=Math.sqrt(b),v=c/E,c=e/E):l>G?.01>l?(E=.707106781,v=0,c=.707106781):(v=Math.sqrt(l),E=c/v,c=n/v):.01>G?(v=E=.707106781,c=0):(c=Math.sqrt(G),E=e/c,v=n/c);this.set(E,v,c,a);return this}a=Math.sqrt((E-n)*(E-n)+(e-v)*(e-v)+(f-c)*(f-c));.001>Math.abs(a)&&(a=1);this.x=(E-n)/a;this.y=(e-v)/a;this.z=
(f-c)/a;this.w=Math.acos((b+l+G-1)/2);return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this}clampScalar(a,
b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));this.w=Math.max(a,Math.min(b,this.w));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);
return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+
this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this}lerpVectors(a,b,
c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;this.w=a.w+(b.w-a.w)*c;return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,b=0){this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this}toArray(a=[],b=0){a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a}fromBufferAttribute(a,b){this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=
Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}class Me extends Yc{constructor(a=1,b=1,c={}){super();this.isWebGLRenderTarget=!0;this.width=a;this.height=b;this.depth=1;this.scissor=new Gd(0,0,a,b);this.scissorTest=!1;this.viewport=new Gd(0,0,a,b);this.texture=new ie({width:a,height:b,depth:1},c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.texture.isRenderTargetTexture=!0;this.texture.flipY=
!1;this.texture.generateMipmaps=void 0!==c.generateMipmaps?c.generateMipmaps:!1;this.texture.internalFormat=void 0!==c.internalFormat?c.internalFormat:null;this.texture.minFilter=void 0!==c.minFilter?c.minFilter:1006;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!1;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null;this.samples=void 0!==c.samples?c.samples:0}setSize(a,b,c=1){if(this.width!==a||this.height!==b||this.depth!==
c)this.width=a,this.height=b,this.depth=c,this.texture.image.width=a,this.texture.image.height=b,this.texture.image.depth=c,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)}clone(){return(new this.constructor).copy(this)}copy(a){this.width=a.width;this.height=a.height;this.depth=a.depth;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.texture.isRenderTargetTexture=!0;const b=Object.assign({},a.texture.image);this.texture.source=new jf(b);this.depthBuffer=a.depthBuffer;
this.stencilBuffer=a.stencilBuffer;null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.samples=a.samples;return this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qf extends ie{constructor(a=null,b=1,c=1,e=1){super(null);this.isDataArrayTexture=!0;this.image={data:a,width:b,height:c,depth:e};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class Sg extends Me{constructor(a=1,b=1,c=1){super(a,b);this.isWebGLArrayRenderTarget=
!0;this.depth=c;this.texture=new Qf(null,a,b,c);this.texture.isRenderTargetTexture=!0}}class Xf extends ie{constructor(a=null,b=1,c=1,e=1){super(null);this.isData3DTexture=!0;this.image={data:a,width:b,height:c,depth:e};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class yh extends Me{constructor(a=1,b=1,c=1){super(a,b);this.isWebGL3DRenderTarget=!0;this.depth=c;this.texture=new Xf(null,a,b,c);this.texture.isRenderTargetTexture=!0}}class zh extends Me{constructor(a=
1,b=1,c=1,e={}){super(a,b,e);this.isWebGLMultipleRenderTargets=!0;a=this.texture;this.texture=[];for(b=0;b<c;b++)this.texture[b]=a.clone(),this.texture[b].isRenderTargetTexture=!0}setSize(a,b,c=1){if(this.width!==a||this.height!==b||this.depth!==c){this.width=a;this.height=b;this.depth=c;for(let e=0,f=this.texture.length;e<f;e++)this.texture[e].image.width=a,this.texture[e].image.height=b,this.texture[e].image.depth=c;this.dispose()}this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b);return this}copy(a){this.dispose();
this.width=a.width;this.height=a.height;this.depth=a.depth;this.viewport.set(0,0,this.width,this.height);this.scissor.set(0,0,this.width,this.height);this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.texture.length=0;for(let b=0,c=a.texture.length;b<c;b++)this.texture[b]=a.texture[b].clone(),this.texture[b].isRenderTargetTexture=!0;return this}}class kf{constructor(a=new Ga(Infinity,Infinity,Infinity),b=new Ga(-Infinity,
-Infinity,-Infinity)){this.isBox3=!0;this.min=a;this.max=b}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromArray(a){let b=Infinity,c=Infinity,e=Infinity,f=-Infinity,l=-Infinity,n=-Infinity;for(let v=0,E=a.length;v<E;v+=3){const G=a[v],R=a[v+1],S=a[v+2];G<b&&(b=G);R<c&&(c=R);S<e&&(e=S);G>f&&(f=G);R>l&&(l=R);S>n&&(n=S)}this.min.set(b,c,e);this.max.set(f,l,n);return this}setFromBufferAttribute(a){let b=Infinity,c=Infinity,e=Infinity,f=-Infinity,l=-Infinity,n=-Infinity;for(let v=0,E=a.count;v<
E;v++){const G=a.getX(v),R=a.getY(v),S=a.getZ(v);G<b&&(b=G);R<c&&(c=R);S<e&&(e=S);G>f&&(f=G);R>l&&(l=R);S>n&&(n=S)}this.min.set(b,c,e);this.max.set(f,l,n);return this}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=lf.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}setFromObject(a,b=!1){this.makeEmpty();return this.expandByObject(a,b)}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);
this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);
return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}expandByObject(a,b=!1){a.updateWorldMatrix(!1,!1);var c=a.geometry;if(void 0!==c)if(b&&void 0!=c.attributes&&void 0!==c.attributes.position){c=c.attributes.position;for(let e=0,f=c.count;e<f;e++)lf.fromBufferAttribute(c,e).applyMatrix4(a.matrixWorld),this.expandByPoint(lf)}else null===c.boundingBox&&c.computeBoundingBox(),rg.copy(c.boundingBox),rg.applyMatrix4(a.matrixWorld),this.union(rg);a=a.children;for(let e=
0,f=a.length;e<f;e++)this.expandByObject(a[e],b);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,b){return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return a.max.x<
this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0}intersectsSphere(a){this.clampPoint(a.center,lf);return lf.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let b,c;0<a.normal.x?(b=a.normal.x*this.min.x,c=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,c=a.normal.x*this.min.x);0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*
this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(Hf);Yf.subVectors(this.max,Hf);wf.subVectors(a.a,Hf);Re.subVectors(a.b,Hf);Xe.subVectors(a.c,Hf);mf.subVectors(Re,wf);nf.subVectors(Xe,Re);of.subVectors(wf,Xe);a=[0,-mf.z,mf.y,0,-nf.z,nf.y,0,-of.z,of.y,mf.z,0,-mf.x,nf.z,0,-nf.x,of.z,0,-of.x,-mf.y,mf.x,0,-nf.y,nf.x,0,-of.y,of.x,0];if(!M(a,wf,Re,Xe,Yf))return!1;
a=[1,0,0,0,1,0,0,0,1];if(!M(a,wf,Re,Xe,Yf))return!1;Zf.crossVectors(mf,nf);a=[Zf.x,Zf.y,Zf.z];return M(a,wf,Re,Xe,Yf)}clampPoint(a,b){return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,lf).distanceTo(a)}getBoundingSphere(a){this.isEmpty()?a.makeEmpty():(this.getCenter(a.center),a.radius=.5*this.getSize(lf).length());return a}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);
return this}applyMatrix4(a){if(this.isEmpty())return this;Se[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);Se[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a);Se[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);Se[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);Se[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a);Se[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);Se[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);Se[7].set(this.max.x,this.max.y,
this.max.z).applyMatrix4(a);this.setFromPoints(Se);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const Se=[new Ga,new Ga,new Ga,new Ga,new Ga,new Ga,new Ga,new Ga],lf=new Ga,rg=new kf,wf=new Ga,Re=new Ga,Xe=new Ga,mf=new Ga,nf=new Ga,of=new Ga,Hf=new Ga,Yf=new Ga,Zf=new Ga,Ze=new Ga,Tg=new kf,If=new Ga,sg=new Ga;class pf{constructor(a=new Ga,b=-1){this.center=a;this.radius=b}set(a,b){this.center.copy(a);this.radius=
b;return this}setFromPoints(a,b){const c=this.center;void 0!==b?c.copy(b):Tg.setFromPoints(a).getCenter(c);b=0;for(let e=0,f=a.length;e<f;e++)b=Math.max(b,c.distanceToSquared(a[e]));this.radius=Math.sqrt(b);return this}copy(a){this.center.copy(a.center);this.radius=a.radius;return this}isEmpty(){return 0>this.radius}makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-
this.radius}intersectsSphere(a){const b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,b){const c=this.center.distanceToSquared(a);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b}getBoundingBox(a){if(this.isEmpty())return a.makeEmpty(),a;a.set(this.center,
this.center);a.expandByScalar(this.radius);return a}applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this}translate(a){this.center.add(a);return this}expandByPoint(a){if(this.isEmpty())return this.center.copy(a),this.radius=0,this;If.subVectors(a,this.center);a=If.lengthSq();if(a>this.radius*this.radius){a=Math.sqrt(a);const b=.5*(a-this.radius);this.center.addScaledVector(If,b/a);this.radius+=b}return this}union(a){if(a.isEmpty())return this;if(this.isEmpty())return this.copy(a),
this;!0===this.center.equals(a.center)?this.radius=Math.max(this.radius,a.radius):(sg.subVectors(a.center,this.center).setLength(a.radius),this.expandByPoint(If.copy(a.center).add(sg)),this.expandByPoint(If.copy(a.center).sub(sg)));return this}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const bf=new Ga,tg=new Ga,Te=new Ga,qf=new Ga,ug=new Ga,vg=new Ga,Ug=new Ga;class Jf{constructor(a=new Ga,b=new Ga(0,0,-1)){this.origin=a;
this.direction=b}set(a,b){this.origin.copy(a);this.direction.copy(b);return this}copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this}at(a,b){return b.copy(this.origin).addScaledVector(this.direction,a)}lookAt(a){this.direction.copy(a).sub(this.origin).normalize();return this}recast(a){this.origin.copy(this.at(a,bf));return this}closestPointToPoint(a,b){b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.origin).addScaledVector(this.direction,
a)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const b=bf.subVectors(a,this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(a);bf.copy(this.origin).addScaledVector(this.direction,b);return bf.distanceToSquared(a)}distanceSqToSegment(a,b,c,e){tg.copy(a).add(b).multiplyScalar(.5);Te.copy(b).sub(a).normalize();qf.copy(this.origin).sub(tg);var f=.5*a.distanceTo(b),l=-this.direction.dot(Te);const n=qf.dot(this.direction),v=-qf.dot(Te),E=qf.lengthSq(),
G=Math.abs(1-l*l);let R;0<G?(a=l*v-n,b=l*n-v,R=f*G,0<=a?b>=-R?b<=R?(f=1/G,a*=f,b*=f,l=a*(a+l*b+2*n)+b*(l*a+b+2*v)+E):(b=f,a=Math.max(0,-(l*b+n)),l=-a*a+b*(b+2*v)+E):(b=-f,a=Math.max(0,-(l*b+n)),l=-a*a+b*(b+2*v)+E):b<=-R?(a=Math.max(0,-(-l*f+n)),b=0<a?-f:Math.min(Math.max(-f,-v),f),l=-a*a+b*(b+2*v)+E):b<=R?(a=0,b=Math.min(Math.max(-f,-v),f),l=b*(b+2*v)+E):(a=Math.max(0,-(l*f+n)),b=0<a?f:Math.min(Math.max(-f,-v),f),l=-a*a+b*(b+2*v)+E)):(b=0<l?-f:f,a=Math.max(0,-(l*b+n)),l=-a*a+b*(b+2*v)+E);c&&c.copy(this.origin).addScaledVector(this.direction,
a);e&&e.copy(tg).addScaledVector(Te,b);return l}intersectSphere(a,b){bf.subVectors(a.center,this.origin);var c=bf.dot(this.direction),e=bf.dot(bf)-c*c;a=a.radius*a.radius;if(e>a)return null;a=Math.sqrt(a-e);e=c-a;c+=a;return 0>c?null:0>e?this.at(c,b):this.at(e,b)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;
return 0<=a?a:null}intersectPlane(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)}intersectsPlane(a){const b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1}intersectBox(a,b){let c;var e=1/this.direction.x;var f=1/this.direction.y;const l=1/this.direction.z,n=this.origin;0<=e?(c=(a.min.x-n.x)*e,e*=a.max.x-n.x):(c=(a.max.x-n.x)*e,e*=a.min.x-n.x);if(0<=f){var v=(a.min.y-n.y)*f;f*=a.max.y-n.y}else v=(a.max.y-n.y)*f,f*=a.min.y-n.y;if(c>f||v>e)return null;
if(v>c||isNaN(c))c=v;if(f<e||isNaN(e))e=f;0<=l?(v=(a.min.z-n.z)*l,a=(a.max.z-n.z)*l):(v=(a.max.z-n.z)*l,a=(a.min.z-n.z)*l);if(c>a||v>e)return null;if(v>c||c!==c)c=v;if(a<e||e!==e)e=a;return 0>e?null:this.at(0<=c?c:e,b)}intersectsBox(a){return null!==this.intersectBox(a,bf)}intersectTriangle(a,b,c,e,f){ug.subVectors(b,a);vg.subVectors(c,a);Ug.crossVectors(ug,vg);b=this.direction.dot(Ug);if(0<b){if(e)return null;e=1}else if(0>b)e=-1,b=-b;else return null;qf.subVectors(this.origin,a);a=e*this.direction.dot(vg.crossVectors(qf,
vg));if(0>a)return null;c=e*this.direction.dot(ug.cross(qf));if(0>c||a+c>b)return null;a=-e*qf.dot(Ug);return 0>a?null:this.at(a/b,f)}applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class gd{constructor(){gd.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(a,b,c,e,f,l,n,v,E,G,R,S,V,ia,ha,Q){const la=
this.elements;la[0]=a;la[4]=b;la[8]=c;la[12]=e;la[1]=f;la[5]=l;la[9]=n;la[13]=v;la[2]=E;la[6]=G;la[10]=R;la[14]=S;la[3]=V;la[7]=ia;la[11]=ha;la[15]=Q;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new gd).fromArray(this.elements)}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this}copyPosition(a){const b=
this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this}setFromMatrix3(a){a=a.elements;this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1);return this}extractBasis(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this}makeBasis(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this}extractRotation(a){const b=this.elements,c=a.elements,e=1/xf.setFromMatrixColumn(a,0).length(),f=1/xf.setFromMatrixColumn(a,
1).length();a=1/xf.setFromMatrixColumn(a,2).length();b[0]=c[0]*e;b[1]=c[1]*e;b[2]=c[2]*e;b[3]=0;b[4]=c[4]*f;b[5]=c[5]*f;b[6]=c[6]*f;b[7]=0;b[8]=c[8]*a;b[9]=c[9]*a;b[10]=c[10]*a;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromEuler(a){const b=this.elements;var c=a.x,e=a.y,f=a.z;const l=Math.cos(c);c=Math.sin(c);const n=Math.cos(e);e=Math.sin(e);const v=Math.cos(f);f=Math.sin(f);if("XYZ"===a.order){a=l*v;var E=l*f,G=c*v,R=c*f;b[0]=n*v;b[4]=-n*f;b[8]=e;b[1]=E+G*e;b[5]=a-R*e;b[9]=
-c*n;b[2]=R-a*e;b[6]=G+E*e;b[10]=l*n}else"YXZ"===a.order?(a=n*v,E=n*f,G=e*v,R=e*f,b[0]=a+R*c,b[4]=G*c-E,b[8]=l*e,b[1]=l*f,b[5]=l*v,b[9]=-c,b[2]=E*c-G,b[6]=R+a*c,b[10]=l*n):"ZXY"===a.order?(a=n*v,E=n*f,G=e*v,R=e*f,b[0]=a-R*c,b[4]=-l*f,b[8]=G+E*c,b[1]=E+G*c,b[5]=l*v,b[9]=R-a*c,b[2]=-l*e,b[6]=c,b[10]=l*n):"ZYX"===a.order?(a=l*v,E=l*f,G=c*v,R=c*f,b[0]=n*v,b[4]=G*e-E,b[8]=a*e+R,b[1]=n*f,b[5]=R*e+a,b[9]=E*e-G,b[2]=-e,b[6]=c*n,b[10]=l*n):"YZX"===a.order?(a=l*n,E=l*e,G=c*n,R=c*e,b[0]=n*v,b[4]=R-a*f,b[8]=
G*f+E,b[1]=f,b[5]=l*v,b[9]=-c*v,b[2]=-e*v,b[6]=E*f+G,b[10]=a-R*f):"XZY"===a.order&&(a=l*n,E=l*e,G=c*n,R=c*e,b[0]=n*v,b[4]=-f,b[8]=e*v,b[1]=a*f+R,b[5]=l*v,b[9]=E*f-G,b[2]=G*f-E,b[6]=c*v,b[10]=R*f+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromQuaternion(a){return this.compose(Ah,a,Bh)}lookAt(a,b,c){const e=this.elements;xe.subVectors(a,b);0===xe.lengthSq()&&(xe.z=1);xe.normalize();cf.crossVectors(c,xe);0===cf.lengthSq()&&(1===Math.abs(c.z)?xe.x+=1E-4:xe.z+=1E-4,
xe.normalize(),cf.crossVectors(c,xe));cf.normalize();wg.crossVectors(xe,cf);e[0]=cf.x;e[4]=wg.x;e[8]=xe.x;e[1]=cf.y;e[5]=wg.y;e[9]=xe.y;e[2]=cf.z;e[6]=wg.z;e[10]=xe.z;return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var c=a.elements,e=b.elements;b=this.elements;a=c[0];const f=c[4],l=c[8],n=c[12],v=c[1],E=c[5],G=c[9],R=c[13],S=c[2],V=c[6],ia=c[10],ha=c[14],Q=c[3],la=c[7],Xa=c[11];c=c[15];const Ba=e[0],$a=e[4],pb=
e[8],Ua=e[12],Mb=e[1],cb=e[5],vb=e[9],yb=e[13],xb=e[2],fc=e[6],Zb=e[10],cc=e[14],bc=e[3],Cc=e[7],Mc=e[11];e=e[15];b[0]=a*Ba+f*Mb+l*xb+n*bc;b[4]=a*$a+f*cb+l*fc+n*Cc;b[8]=a*pb+f*vb+l*Zb+n*Mc;b[12]=a*Ua+f*yb+l*cc+n*e;b[1]=v*Ba+E*Mb+G*xb+R*bc;b[5]=v*$a+E*cb+G*fc+R*Cc;b[9]=v*pb+E*vb+G*Zb+R*Mc;b[13]=v*Ua+E*yb+G*cc+R*e;b[2]=S*Ba+V*Mb+ia*xb+ha*bc;b[6]=S*$a+V*cb+ia*fc+ha*Cc;b[10]=S*pb+V*vb+ia*Zb+ha*Mc;b[14]=S*Ua+V*yb+ia*cc+ha*e;b[3]=Q*Ba+la*Mb+Xa*xb+c*bc;b[7]=Q*$a+la*cb+Xa*fc+c*Cc;b[11]=Q*pb+la*vb+Xa*Zb+c*
Mc;b[15]=Q*Ua+la*yb+Xa*cc+c*e;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this}determinant(){const a=this.elements,b=a[0],c=a[4],e=a[8],f=a[12],l=a[1],n=a[5],v=a[9],E=a[13],G=a[2],R=a[6],S=a[10],V=a[14];return a[3]*(+f*v*R-e*E*R-f*n*S+c*E*S+e*n*V-c*v*V)+a[7]*(+b*v*V-b*E*S+f*l*S-e*l*V+e*E*G-f*v*G)+a[11]*(+b*E*R-b*n*V-f*l*R+c*l*V+f*n*G-c*E*G)+a[15]*(-e*
n*G-b*v*R+b*n*S+e*l*R-c*l*S+c*v*G)}transpose(){const a=this.elements;let b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this}setPosition(a,b,c){const e=this.elements;a.isVector3?(e[12]=a.x,e[13]=a.y,e[14]=a.z):(e[12]=a,e[13]=b,e[14]=c);return this}invert(){const a=this.elements,b=a[0],c=a[1],e=a[2],f=a[3],l=a[4],n=a[5],v=a[6],E=a[7],G=a[8],R=a[9],S=a[10],V=a[11],ia=a[12],ha=a[13],Q=a[14],
la=a[15],Xa=R*Q*E-ha*S*E+ha*v*V-n*Q*V-R*v*la+n*S*la,Ba=ia*S*E-G*Q*E-ia*v*V+l*Q*V+G*v*la-l*S*la,$a=G*ha*E-ia*R*E+ia*n*V-l*ha*V-G*n*la+l*R*la,pb=ia*R*v-G*ha*v-ia*n*S+l*ha*S+G*n*Q-l*R*Q;var Ua=b*Xa+c*Ba+e*$a+f*pb;if(0===Ua)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);Ua=1/Ua;a[0]=Xa*Ua;a[1]=(ha*S*f-R*Q*f-ha*e*V+c*Q*V+R*e*la-c*S*la)*Ua;a[2]=(n*Q*f-ha*v*f+ha*e*E-c*Q*E-n*e*la+c*v*la)*Ua;a[3]=(R*v*f-n*S*f-R*e*E+c*S*E+n*e*V-c*v*V)*Ua;a[4]=Ba*Ua;a[5]=(G*Q*f-ia*S*f+ia*e*V-b*Q*V-G*e*la+b*S*la)*Ua;a[6]=(ia*
v*f-l*Q*f-ia*e*E+b*Q*E+l*e*la-b*v*la)*Ua;a[7]=(l*S*f-G*v*f+G*e*E-b*S*E-l*e*V+b*v*V)*Ua;a[8]=$a*Ua;a[9]=(ia*R*f-G*ha*f-ia*c*V+b*ha*V+G*c*la-b*R*la)*Ua;a[10]=(l*ha*f-ia*n*f+ia*c*E-b*ha*E-l*c*la+b*n*la)*Ua;a[11]=(G*n*f-l*R*f-G*c*E+b*R*E+l*c*V-b*n*V)*Ua;a[12]=pb*Ua;a[13]=(G*ha*e-ia*R*e+ia*c*S-b*ha*S-G*c*Q+b*R*Q)*Ua;a[14]=(ia*n*e-l*ha*e-ia*c*v+b*ha*v+l*c*Q-b*n*Q)*Ua;a[15]=(l*R*e-G*n*e+G*c*v-b*R*v-l*c*S+b*n*S)*Ua;return this}scale(a){const b=this.elements,c=a.x,e=a.y;a=a.z;b[0]*=c;b[4]*=e;b[8]*=a;b[1]*=
c;b[5]*=e;b[9]*=a;b[2]*=c;b[6]*=e;b[10]*=a;b[3]*=c;b[7]*=e;b[11]*=a;return this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this}makeRotationX(a){const b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this}makeRotationY(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,
-a,0,b,0,0,0,0,1);return this}makeRotationZ(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(a,b){const c=Math.cos(b);b=Math.sin(b);const e=1-c,f=a.x,l=a.y;a=a.z;const n=e*f,v=e*l;this.set(n*f+c,n*l-b*a,n*a+b*l,0,n*l+b*a,v*l+c,v*a-b*f,0,n*a-b*l,v*a+b*f,e*a*a+c,0,0,0,0,1);return this}makeScale(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this}makeShear(a,b,c,e,f,l){this.set(1,c,f,0,a,1,l,0,b,e,1,0,0,0,0,1);return this}compose(a,
b,c){const e=this.elements;var f=b._x,l=b._y,n=b._z,v=b._w,E=f+f,G=l+l,R=n+n;b=f*E;const S=f*G;f*=R;const V=l*G;l*=R;n*=R;E*=v;G*=v;v*=R;R=c.x;const ia=c.y;c=c.z;e[0]=(1-(V+n))*R;e[1]=(S+v)*R;e[2]=(f-G)*R;e[3]=0;e[4]=(S-v)*ia;e[5]=(1-(b+n))*ia;e[6]=(l+E)*ia;e[7]=0;e[8]=(f+G)*c;e[9]=(l-E)*c;e[10]=(1-(b+V))*c;e[11]=0;e[12]=a.x;e[13]=a.y;e[14]=a.z;e[15]=1;return this}decompose(a,b,c){var e=this.elements;let f=xf.set(e[0],e[1],e[2]).length();const l=xf.set(e[4],e[5],e[6]).length(),n=xf.set(e[8],e[9],
e[10]).length();0>this.determinant()&&(f=-f);a.x=e[12];a.y=e[13];a.z=e[14];ge.copy(this);a=1/f;e=1/l;const v=1/n;ge.elements[0]*=a;ge.elements[1]*=a;ge.elements[2]*=a;ge.elements[4]*=e;ge.elements[5]*=e;ge.elements[6]*=e;ge.elements[8]*=v;ge.elements[9]*=v;ge.elements[10]*=v;b.setFromRotationMatrix(ge);c.x=f;c.y=l;c.z=n;return this}makePerspective(a,b,c,e,f,l){const n=this.elements;n[0]=2*f/(b-a);n[4]=0;n[8]=(b+a)/(b-a);n[12]=0;n[1]=0;n[5]=2*f/(c-e);n[9]=(c+e)/(c-e);n[13]=0;n[2]=0;n[6]=0;n[10]=-(l+
f)/(l-f);n[14]=-2*l*f/(l-f);n[3]=0;n[7]=0;n[11]=-1;n[15]=0;return this}makeOrthographic(a,b,c,e,f,l){const n=this.elements,v=1/(b-a),E=1/(c-e),G=1/(l-f);n[0]=2*v;n[4]=0;n[8]=0;n[12]=-((b+a)*v);n[1]=0;n[5]=2*E;n[9]=0;n[13]=-((c+e)*E);n[2]=0;n[6]=0;n[10]=-2*G;n[14]=-((l+f)*G);n[3]=0;n[7]=0;n[11]=0;n[15]=1;return this}equals(a){const b=this.elements;a=a.elements;for(let c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b=0){for(let c=0;16>c;c++)this.elements[c]=a[c+b];return this}toArray(a=[],
b=0){const c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}}const xf=new Ga,ge=new gd,Ah=new Ga(0,0,0),Bh=new Ga(1,1,1),cf=new Ga,wg=new Ga,xe=new Ga,$f=new gd,xg=new te;class ag{constructor(a=0,b=0,c=0,e=ag.DEFAULT_ORDER){this.isEuler=!0;this._x=a;this._y=b;this._z=c;this._order=e}get x(){return this._x}set x(a){this._x=
a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a;this._onChangeCallback()}set(a,b,c,e=this._order){this._x=a;this._y=b;this._z=c;this._order=e;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();
return this}setFromRotationMatrix(a,b=this._order,c=!0){var e=a.elements;a=e[0];const f=e[4],l=e[8],n=e[1],v=e[5],E=e[9],G=e[2],R=e[6];e=e[10];switch(b){case "XYZ":this._y=Math.asin(r(l,-1,1));.9999999>Math.abs(l)?(this._x=Math.atan2(-E,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(R,v),this._z=0);break;case "YXZ":this._x=Math.asin(-r(E,-1,1));.9999999>Math.abs(E)?(this._y=Math.atan2(l,e),this._z=Math.atan2(n,v)):(this._y=Math.atan2(-G,a),this._z=0);break;case "ZXY":this._x=Math.asin(r(R,-1,1));
.9999999>Math.abs(R)?(this._y=Math.atan2(-G,e),this._z=Math.atan2(-f,v)):(this._y=0,this._z=Math.atan2(n,a));break;case "ZYX":this._y=Math.asin(-r(G,-1,1));.9999999>Math.abs(G)?(this._x=Math.atan2(R,e),this._z=Math.atan2(n,a)):(this._x=0,this._z=Math.atan2(-f,v));break;case "YZX":this._z=Math.asin(r(n,-1,1));.9999999>Math.abs(n)?(this._x=Math.atan2(-E,v),this._y=Math.atan2(-G,a)):(this._x=0,this._y=Math.atan2(l,e));break;case "XZY":this._z=Math.asin(-r(f,-1,1));.9999999>Math.abs(f)?(this._x=Math.atan2(R,
v),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-E,e),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+b)}this._order=b;!0===c&&this._onChangeCallback();return this}setFromQuaternion(a,b,c){$f.makeRotationFromQuaternion(a);return this.setFromRotationMatrix($f,b,c)}setFromVector3(a,b=this._order){return this.set(a.x,a.y,a.z,b)}reorder(a){xg.setFromEuler(this);return this.setFromQuaternion(xg,a)}equals(a){return a._x===this._x&&a._y===this._y&&
a._z===this._z&&a._order===this._order}fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this}toArray(a=[],b=0){a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._order}}ag.DEFAULT_ORDER="XYZ";class Ef{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask=
this.mask|1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!==(this.mask&a.mask)}isEnabled(a){return 0!==(this.mask&(1<<a|0))}}let Vg=0;const Wg=new Ga,yf=new te,Ue=new gd,yg=new Ga,d=new Ga,g=new Ga,y=new te,L=new Ga(1,0,0),Z=new Ga(0,1,0),sa=new Ga(0,0,1),ta={type:"added"},Ra={type:"removed"};class eb extends Yc{constructor(){super();this.isObject3D=!0;Object.defineProperty(this,"id",{value:Vg++});this.uuid=J();
this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=eb.DEFAULT_UP.clone();const a=new Ga,b=new ag,c=new te,e=new Ga(1,1,1);b._onChange(function(){c.setFromEuler(b,!1)});c._onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:e},modelViewMatrix:{value:new gd},
normalMatrix:{value:new he}});this.matrix=new gd;this.matrixWorld=new gd;this.matrixAutoUpdate=eb.DEFAULT_MATRIX_AUTO_UPDATE;this.matrixWorldNeedsUpdate=!1;this.matrixWorldAutoUpdate=eb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE;this.layers=new Ef;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.animations=[];this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,
this.quaternion,this.scale)}applyQuaternion(a){this.quaternion.premultiply(a);return this}setRotationFromAxisAngle(a,b){this.quaternion.setFromAxisAngle(a,b)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,b){yf.setFromAxisAngle(a,b);this.quaternion.multiply(yf);return this}rotateOnWorldAxis(a,b){yf.setFromAxisAngle(a,b);this.quaternion.premultiply(yf);return this}rotateX(a){return this.rotateOnAxis(L,
a)}rotateY(a){return this.rotateOnAxis(Z,a)}rotateZ(a){return this.rotateOnAxis(sa,a)}translateOnAxis(a,b){Wg.copy(a).applyQuaternion(this.quaternion);this.position.add(Wg.multiplyScalar(b));return this}translateX(a){return this.translateOnAxis(L,a)}translateY(a){return this.translateOnAxis(Z,a)}translateZ(a){return this.translateOnAxis(sa,a)}localToWorld(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(Ue.copy(this.matrixWorld).invert())}lookAt(a,
b,c){a.isVector3?yg.copy(a):yg.set(a,b,c);a=this.parent;this.updateWorldMatrix(!0,!1);d.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?Ue.lookAt(d,yg,this.up):Ue.lookAt(yg,d,this.up);this.quaternion.setFromRotationMatrix(Ue);a&&(Ue.extractRotation(a.matrixWorld),yf.setFromRotationMatrix(Ue),this.quaternion.premultiply(yf.invert()))}add(a){if(1<arguments.length){for(let b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",
a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(ta)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this}remove(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,this.children.splice(b,1),a.dispatchEvent(Ra));return this}removeFromParent(){const a=this.parent;null!==a&&a.remove(this);return this}clear(){for(let a=
0;a<this.children.length;a++){const b=this.children[a];b.parent=null;b.dispatchEvent(Ra)}this.children.length=0;return this}attach(a){this.updateWorldMatrix(!0,!1);Ue.copy(this.matrixWorld).invert();null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),Ue.multiply(a.parent.matrixWorld));a.applyMatrix4(Ue);this.add(a);a.updateWorldMatrix(!1,!0);return this}getObjectById(a){return this.getObjectByProperty("id",a)}getObjectByName(a){return this.getObjectByProperty("name",a)}getObjectByProperty(a,b){if(this[a]===
b)return this;for(let c=0,e=this.children.length;c<e;c++){const f=this.children[c].getObjectByProperty(a,b);if(void 0!==f)return f}}getObjectsByProperty(a,b){let c=[];this[a]===b&&c.push(this);for(let e=0,f=this.children.length;e<f;e++){const l=this.children[e].getObjectsByProperty(a,b);0<l.length&&(c=c.concat(l))}return c}getWorldPosition(a){this.updateWorldMatrix(!0,!1);return a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(d,
a,g);return a}getWorldScale(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(d,y,a);return a}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()}raycast(){}traverse(a){a(this);const b=this.children;for(let c=0,e=b.length;c<e;c++)b[c].traverse(a)}traverseVisible(a){if(!1!==this.visible){a(this);var b=this.children;for(let c=0,e=b.length;c<e;c++)b[c].traverseVisible(a)}}traverseAncestors(a){const b=this.parent;null!==
b&&(a(b),b.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;const b=this.children;for(let c=0,e=b.length;c<e;c++){const f=b[c];!0!==f.matrixWorldAutoUpdate&&!0!==
a||f.updateMatrixWorld(a)}}updateWorldMatrix(a,b){const c=this.parent;!0===a&&null!==c&&!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===b){a=this.children;for(let e=0,f=a.length;e<f;e++)b=a[e],!0===b.matrixWorldAutoUpdate&&b.updateWorldMatrix(!1,!0)}}toJSON(a){function b(v,E){void 0===v[E.uuid]&&(v[E.uuid]=E.toJSON(a));
return E.uuid}function c(v){const E=[];for(const G in v){const R=v[G];delete R.metadata;E.push(R)}return E}var e=void 0===a||"string"===typeof a;const f={};e&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},f.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const l={};l.uuid=this.uuid;l.type=this.type;""!==this.name&&(l.name=this.name);!0===this.castShadow&&(l.castShadow=!0);!0===this.receiveShadow&&(l.receiveShadow=!0);!1===this.visible&&
(l.visible=!1);!1===this.frustumCulled&&(l.frustumCulled=!1);0!==this.renderOrder&&(l.renderOrder=this.renderOrder);0<Object.keys(this.userData).length&&(l.userData=this.userData);l.layers=this.layers.mask;l.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1);this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(l.instanceColor=this.instanceColor.toJSON()));if(this.isScene)this.background&&
(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(l.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=b(a.geometries,this.geometry);var n=this.geometry.parameters;if(void 0!==n&&void 0!==n.shapes)if(n=n.shapes,Array.isArray(n))for(let v=0,E=n.length;v<E;v++)b(a.shapes,
n[v]);else b(a.shapes,n)}this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(b(a.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid));if(void 0!==this.material)if(Array.isArray(this.material)){n=[];for(let v=0,E=this.material.length;v<E;v++)n.push(b(a.materials,this.material[v]));l.material=n}else l.material=b(a.materials,this.material);if(0<this.children.length)for(l.children=[],n=0;n<this.children.length;n++)l.children.push(this.children[n].toJSON(a).object);
if(0<this.animations.length)for(l.animations=[],n=0;n<this.animations.length;n++)l.animations.push(b(a.animations,this.animations[n]));if(e){e=c(a.geometries);n=c(a.materials);const v=c(a.textures),E=c(a.images),G=c(a.shapes),R=c(a.skeletons),S=c(a.animations),V=c(a.nodes);0<e.length&&(f.geometries=e);0<n.length&&(f.materials=n);0<v.length&&(f.textures=v);0<E.length&&(f.images=E);0<G.length&&(f.shapes=G);0<R.length&&(f.skeletons=R);0<S.length&&(f.animations=S);0<V.length&&(f.nodes=V)}f.object=l;return f}clone(a){return(new this.constructor).copy(this,
a)}copy(a,b=!0){this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.rotation.order=a.rotation.order;this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.matrixWorldAutoUpdate=a.matrixWorldAutoUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;
this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}}eb.DEFAULT_UP=new Ga(0,1,0);eb.DEFAULT_MATRIX_AUTO_UPDATE=!0;eb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Cb=new Ga,pc=new Ga,rc=new Ga,Oc=new Ga,yd=new Ga,Ad=new Ga,Kd=new Ga,Pd=new Ga,ce=new Ga,vd=new Ga;class pd{constructor(a=new Ga,b=new Ga,c=new Ga){this.a=a;this.b=b;this.c=c}static getNormal(a,
b,c,e){e.subVectors(c,b);Cb.subVectors(a,b);e.cross(Cb);a=e.lengthSq();return 0<a?e.multiplyScalar(1/Math.sqrt(a)):e.set(0,0,0)}static getBarycoord(a,b,c,e,f){Cb.subVectors(e,b);pc.subVectors(c,b);rc.subVectors(a,b);a=Cb.dot(Cb);b=Cb.dot(pc);c=Cb.dot(rc);var l=pc.dot(pc);e=pc.dot(rc);var n=a*l-b*b;if(0===n)return f.set(-2,-1,-1);n=1/n;l=(l*c-b*e)*n;a=(a*e-b*c)*n;return f.set(1-l-a,a,l)}static containsPoint(a,b,c,e){this.getBarycoord(a,b,c,e,Oc);return 0<=Oc.x&&0<=Oc.y&&1>=Oc.x+Oc.y}static getUV(a,
b,c,e,f,l,n,v){this.getBarycoord(a,b,c,e,Oc);v.set(0,0);v.addScaledVector(f,Oc.x);v.addScaledVector(l,Oc.y);v.addScaledVector(n,Oc.z);return v}static isFrontFacing(a,b,c,e){Cb.subVectors(c,b);pc.subVectors(a,b);return 0>Cb.cross(pc).dot(e)?!0:!1}set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this}setFromPointsAndIndices(a,b,c,e){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[e]);return this}setFromAttributeAndIndices(a,b,c,e){this.a.fromBufferAttribute(a,b);this.b.fromBufferAttribute(a,
c);this.c.fromBufferAttribute(a,e);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this}getArea(){Cb.subVectors(this.c,this.b);pc.subVectors(this.a,this.b);return.5*Cb.cross(pc).length()}getMidpoint(a){return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return pd.getNormal(this.a,this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,b){return pd.getBarycoord(a,
this.a,this.b,this.c,b)}getUV(a,b,c,e,f){return pd.getUV(a,this.a,this.b,this.c,b,c,e,f)}containsPoint(a){return pd.containsPoint(a,this.a,this.b,this.c)}isFrontFacing(a){return pd.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,b){const c=this.a;var e=this.b,f=this.c;yd.subVectors(e,c);Ad.subVectors(f,c);Pd.subVectors(a,c);var l=yd.dot(Pd),n=Ad.dot(Pd);if(0>=l&&0>=n)return b.copy(c);ce.subVectors(a,e);const v=yd.dot(ce),E=Ad.dot(ce);
if(0<=v&&E<=v)return b.copy(e);var G=l*E-v*n;if(0>=G&&0<=l&&0>=v)return e=l/(l-v),b.copy(c).addScaledVector(yd,e);vd.subVectors(a,f);a=yd.dot(vd);const R=Ad.dot(vd);if(0<=R&&a<=R)return b.copy(f);l=a*n-l*R;if(0>=l&&0<=n&&0>=R)return G=n/(n-R),b.copy(c).addScaledVector(Ad,G);n=v*R-a*E;if(0>=n&&0<=E-v&&0<=a-R)return Kd.subVectors(f,e),G=(E-v)/(E-v+(a-R)),b.copy(e).addScaledVector(Kd,G);f=1/(n+l+G);e=l*f;G*=f;return b.copy(c).addScaledVector(yd,e).addScaledVector(Ad,G)}equals(a){return a.a.equals(this.a)&&
a.b.equals(this.b)&&a.c.equals(this.c)}}let Fe=0;class Vd extends Yc{constructor(){super();this.isMaterial=!0;Object.defineProperty(this,"id",{value:Fe++});this.uuid=J();this.name="";this.type="Material";this.blending=1;this.side=0;this.vertexColors=!1;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=
519;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=7680;this.stencilWrite=!1;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.forceSinglePass=this.premultipliedAlpha=this.alphaToCoverage=this.dithering=!1;this.toneMapped=this.visible=!0;this.userData={};this._alphaTest=this.version=0}get alphaTest(){return this._alphaTest}set alphaTest(a){0<
this._alphaTest!==0<a&&this.version++;this._alphaTest=a}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(void 0!==a)for(const b in a){const c=a[b];if(void 0===c){console.warn("THREE.Material: '"+b+"' parameter is undefined.");continue}const e=this[b];void 0===e?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):e&&e.isColor?e.set(c):e&&e.isVector3&&c&&c.isVector3?e.copy(c):this[b]=c}}toJSON(a){function b(f){const l=
[];for(const n in f){const v=f[n];delete v.metadata;l.push(v)}return l}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},images:{}});const e={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);this.color&&this.color.isColor&&(e.color=this.color.getHex());void 0!==this.roughness&&(e.roughness=this.roughness);void 0!==this.metalness&&(e.metalness=this.metalness);void 0!==this.sheen&&(e.sheen=this.sheen);this.sheenColor&&
this.sheenColor.isColor&&(e.sheenColor=this.sheenColor.getHex());void 0!==this.sheenRoughness&&(e.sheenRoughness=this.sheenRoughness);this.emissive&&this.emissive.isColor&&(e.emissive=this.emissive.getHex());this.emissiveIntensity&&1!==this.emissiveIntensity&&(e.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(e.specular=this.specular.getHex());void 0!==this.specularIntensity&&(e.specularIntensity=this.specularIntensity);this.specularColor&&this.specularColor.isColor&&
(e.specularColor=this.specularColor.getHex());void 0!==this.shininess&&(e.shininess=this.shininess);void 0!==this.clearcoat&&(e.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&(e.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&(e.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(e.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid);this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&
(e.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,e.clearcoatNormalScale=this.clearcoatNormalScale.toArray());void 0!==this.iridescence&&(e.iridescence=this.iridescence);void 0!==this.iridescenceIOR&&(e.iridescenceIOR=this.iridescenceIOR);void 0!==this.iridescenceThicknessRange&&(e.iridescenceThicknessRange=this.iridescenceThicknessRange);this.iridescenceMap&&this.iridescenceMap.isTexture&&(e.iridescenceMap=this.iridescenceMap.toJSON(a).uuid);this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&
(e.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid);this.map&&this.map.isTexture&&(e.map=this.map.toJSON(a).uuid);this.matcap&&this.matcap.isTexture&&(e.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(e.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(e.lightMap=this.lightMap.toJSON(a).uuid,e.lightMapIntensity=this.lightMapIntensity);this.aoMap&&this.aoMap.isTexture&&(e.aoMap=this.aoMap.toJSON(a).uuid,e.aoMapIntensity=
this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(e.bumpMap=this.bumpMap.toJSON(a).uuid,e.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(e.normalMap=this.normalMap.toJSON(a).uuid,e.normalMapType=this.normalMapType,e.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(e.displacementMap=this.displacementMap.toJSON(a).uuid,e.displacementScale=this.displacementScale,e.displacementBias=this.displacementBias);this.roughnessMap&&
this.roughnessMap.isTexture&&(e.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(e.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(e.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(e.specularMap=this.specularMap.toJSON(a).uuid);this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(e.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid);this.specularColorMap&&
this.specularColorMap.isTexture&&(e.specularColorMap=this.specularColorMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(e.envMap=this.envMap.toJSON(a).uuid,void 0!==this.combine&&(e.combine=this.combine));void 0!==this.envMapIntensity&&(e.envMapIntensity=this.envMapIntensity);void 0!==this.reflectivity&&(e.reflectivity=this.reflectivity);void 0!==this.refractionRatio&&(e.refractionRatio=this.refractionRatio);this.gradientMap&&this.gradientMap.isTexture&&(e.gradientMap=this.gradientMap.toJSON(a).uuid);
void 0!==this.transmission&&(e.transmission=this.transmission);this.transmissionMap&&this.transmissionMap.isTexture&&(e.transmissionMap=this.transmissionMap.toJSON(a).uuid);void 0!==this.thickness&&(e.thickness=this.thickness);this.thicknessMap&&this.thicknessMap.isTexture&&(e.thicknessMap=this.thicknessMap.toJSON(a).uuid);void 0!==this.attenuationDistance&&Infinity!==this.attenuationDistance&&(e.attenuationDistance=this.attenuationDistance);void 0!==this.attenuationColor&&(e.attenuationColor=this.attenuationColor.getHex());
void 0!==this.size&&(e.size=this.size);null!==this.shadowSide&&(e.shadowSide=this.shadowSide);void 0!==this.sizeAttenuation&&(e.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(e.blending=this.blending);0!==this.side&&(e.side=this.side);this.vertexColors&&(e.vertexColors=!0);1>this.opacity&&(e.opacity=this.opacity);!0===this.transparent&&(e.transparent=this.transparent);e.depthFunc=this.depthFunc;e.depthTest=this.depthTest;e.depthWrite=this.depthWrite;e.colorWrite=this.colorWrite;e.stencilWrite=
this.stencilWrite;e.stencilWriteMask=this.stencilWriteMask;e.stencilFunc=this.stencilFunc;e.stencilRef=this.stencilRef;e.stencilFuncMask=this.stencilFuncMask;e.stencilFail=this.stencilFail;e.stencilZFail=this.stencilZFail;e.stencilZPass=this.stencilZPass;void 0!==this.rotation&&0!==this.rotation&&(e.rotation=this.rotation);!0===this.polygonOffset&&(e.polygonOffset=!0);0!==this.polygonOffsetFactor&&(e.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(e.polygonOffsetUnits=
this.polygonOffsetUnits);void 0!==this.linewidth&&1!==this.linewidth&&(e.linewidth=this.linewidth);void 0!==this.dashSize&&(e.dashSize=this.dashSize);void 0!==this.gapSize&&(e.gapSize=this.gapSize);void 0!==this.scale&&(e.scale=this.scale);!0===this.dithering&&(e.dithering=!0);0<this.alphaTest&&(e.alphaTest=this.alphaTest);!0===this.alphaToCoverage&&(e.alphaToCoverage=this.alphaToCoverage);!0===this.premultipliedAlpha&&(e.premultipliedAlpha=this.premultipliedAlpha);!0===this.forceSinglePass&&(e.forceSinglePass=
this.forceSinglePass);!0===this.wireframe&&(e.wireframe=this.wireframe);1<this.wireframeLinewidth&&(e.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(e.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(e.wireframeLinejoin=this.wireframeLinejoin);!0===this.flatShading&&(e.flatShading=this.flatShading);!1===this.visible&&(e.visible=!1);!1===this.toneMapped&&(e.toneMapped=!1);!1===this.fog&&(e.fog=!1);0<Object.keys(this.userData).length&&(e.userData=
this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(e.textures=c),0<a.length&&(e.images=a));return e}clone(){return(new this.constructor).copy(this)}copy(a){this.name=a.name;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;
this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;const b=a.clippingPlanes;let c=null;if(null!==b){const e=b.length;c=Array(e);for(let f=0;f!==e;++f)c[f]=b[f].clone()}this.clippingPlanes=c;this.clipIntersection=
a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.alphaToCoverage=a.alphaToCoverage;this.premultipliedAlpha=a.premultipliedAlpha;this.forceSinglePass=a.forceSinglePass;this.visible=a.visible;this.toneMapped=a.toneMapped;this.userData=
JSON.parse(JSON.stringify(a.userData));return this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){!0===a&&this.version++}}const bg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,
darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,
fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,
lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,
navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,
skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ne={h:0,s:0,l:0},Ch={h:0,s:0,l:0};class Ic{constructor(a,b,c){this.isColor=!0;this.b=this.g=this.r=1;return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}set(a){a&&a.isColor?this.copy(a):"number"===
typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this}setScalar(a){this.b=this.g=this.r=a;return this}setHex(a,b="srgb"){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;Ud.toWorkingColorSpace(this,b);return this}setRGB(a,b,c,e=Ud.workingColorSpace){this.r=a;this.g=b;this.b=c;Ud.toWorkingColorSpace(this,e);return this}setHSL(a,b,c,e=Ud.workingColorSpace){a=w(a,1);b=r(b,0,1);c=r(c,0,1);0===b?this.r=this.g=this.b=c:(b=.5>=c?c*(1+b):c+b-c*b,c=2*c-b,
this.r=T(c,b,a+1/3),this.g=T(c,b,a),this.b=T(c,b,a-1/3));Ud.toWorkingColorSpace(this,e);return this}setStyle(a,b="srgb"){function c(l){void 0!==l&&1>parseFloat(l)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var e;if(e=/^(\w+)\(([^\)]*)\)/.exec(a)){var f=e[2];switch(e[1]){case "rgb":case "rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f)){this.r=Math.min(255,parseInt(e[1],10))/255;this.g=Math.min(255,parseInt(e[2],10))/255;this.b=Math.min(255,
parseInt(e[3],10))/255;Ud.toWorkingColorSpace(this,b);c(e[4]);break}if(e=/^\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,Ud.toWorkingColorSpace(this,b),c(e[4]);break;case "hsl":case "hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f)){f=parseFloat(e[1])/360;const l=parseFloat(e[2])/100,n=parseFloat(e[3])/
100;c(e[4]);return this.setHSL(f,l,n,b)}break;default:console.warn("THREE.Color: Unknown color model "+a)}}else if(e=/^#([A-Fa-f\d]+)$/.exec(a))e=e[1],f=e.length,3===f?(this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,Ud.toWorkingColorSpace(this,b)):6===f?(this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,Ud.toWorkingColorSpace(this,
b)):console.warn("THREE.Color: Invalid hex color "+a);else if(a&&0<a.length)return this.setColorName(a,b);return this}setColorName(a,b="srgb"){const c=bg[a.toLowerCase()];void 0!==c?this.setHex(c,b):console.warn("THREE.Color: Unknown color "+a);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}copySRGBToLinear(a){this.r=u(a.r);this.g=u(a.g);this.b=u(a.b);return this}copyLinearToSRGB(a){this.r=C(a.r);this.g=C(a.g);this.b=C(a.b);
return this}convertSRGBToLinear(){this.copySRGBToLinear(this);return this}convertLinearToSRGB(){this.copyLinearToSRGB(this);return this}getHex(a="srgb"){Ud.fromWorkingColorSpace(Ge.copy(this),a);return r(255*Ge.r,0,255)<<16^r(255*Ge.g,0,255)<<8^r(255*Ge.b,0,255)<<0}getHexString(a="srgb"){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,b=Ud.workingColorSpace){Ud.fromWorkingColorSpace(Ge.copy(this),b);b=Ge.r;const c=Ge.g,e=Ge.b,f=Math.max(b,c,e);var l=Math.min(b,c,e);let n;const v=(l+
f)/2;if(l===f)l=n=0;else{const E=f-l;l=.5>=v?E/(f+l):E/(2-f-l);switch(f){case b:n=(c-e)/E+(c<e?6:0);break;case c:n=(e-b)/E+2;break;case e:n=(b-c)/E+4}n/=6}a.h=n;a.s=l;a.l=v;return a}getRGB(a,b=Ud.workingColorSpace){Ud.fromWorkingColorSpace(Ge.copy(this),b);a.r=Ge.r;a.g=Ge.g;a.b=Ge.b;return a}getStyle(a="srgb"){Ud.fromWorkingColorSpace(Ge.copy(this),a);const b=Ge.r,c=Ge.g,e=Ge.b;return"srgb"!==a?`color(${a} ${b.toFixed(3)} ${c.toFixed(3)} ${e.toFixed(3)})`:`rgb(${255*b|0},${255*c|0},${255*e|0})`}offsetHSL(a,
b,c){this.getHSL(Ne);Ne.h+=a;Ne.s+=b;Ne.l+=c;this.setHSL(Ne.h,Ne.s,Ne.l);return this}add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this}addColors(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this}addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this}sub(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this}multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this}multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this}lerp(a,
b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this}lerpColors(a,b,c){this.r=a.r+(b.r-a.r)*c;this.g=a.g+(b.g-a.g)*c;this.b=a.b+(b.b-a.b)*c;return this}lerpHSL(a,b){this.getHSL(Ne);a.getHSL(Ch);a=h(Ne.h,Ch.h,b);const c=h(Ne.s,Ch.s,b);b=h(Ne.l,Ch.l,b);this.setHSL(a,c,b);return this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,b=0){this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this}toArray(a=[],b=0){a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}fromBufferAttribute(a,
b){this.r=a.getX(b);this.g=a.getY(b);this.b=a.getZ(b);return this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r;yield this.g;yield this.b}}const Ge=new Ic;Ic.NAMES=bg;class Kf extends Vd{constructor(a){super();this.isMeshBasicMaterial=!0;this.type="MeshBasicMaterial";this.color=new Ic(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=
.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=
a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}const re=new Ga,Dh=new Xb;class Td{constructor(a,b,c=!1){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0;this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=c;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=
0}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;return this}copyAt(a,b,c){a*=this.itemSize;c*=b.itemSize;for(let e=0,f=this.itemSize;e<f;e++)this.array[a+e]=b.array[c+e];return this}copyArray(a){this.array.set(a);return this}applyMatrix3(a){if(2===this.itemSize)for(let b=0,c=this.count;b<
c;b++)Dh.fromBufferAttribute(this,b),Dh.applyMatrix3(a),this.setXY(b,Dh.x,Dh.y);else if(3===this.itemSize)for(let b=0,c=this.count;b<c;b++)re.fromBufferAttribute(this,b),re.applyMatrix3(a),this.setXYZ(b,re.x,re.y,re.z);return this}applyMatrix4(a){for(let b=0,c=this.count;b<c;b++)re.fromBufferAttribute(this,b),re.applyMatrix4(a),this.setXYZ(b,re.x,re.y,re.z);return this}applyNormalMatrix(a){for(let b=0,c=this.count;b<c;b++)re.fromBufferAttribute(this,b),re.applyNormalMatrix(a),this.setXYZ(b,re.x,re.y,
re.z);return this}transformDirection(a){for(let b=0,c=this.count;b<c;b++)re.fromBufferAttribute(this,b),re.transformDirection(a),this.setXYZ(b,re.x,re.y,re.z);return this}set(a,b=0){this.array.set(a,b);return this}getX(a){a=this.array[a*this.itemSize];this.normalized&&(a=k(a,this.array));return a}setX(a,b){this.normalized&&(b=p(b,this.array));this.array[a*this.itemSize]=b;return this}getY(a){a=this.array[a*this.itemSize+1];this.normalized&&(a=k(a,this.array));return a}setY(a,b){this.normalized&&(b=
p(b,this.array));this.array[a*this.itemSize+1]=b;return this}getZ(a){a=this.array[a*this.itemSize+2];this.normalized&&(a=k(a,this.array));return a}setZ(a,b){this.normalized&&(b=p(b,this.array));this.array[a*this.itemSize+2]=b;return this}getW(a){a=this.array[a*this.itemSize+3];this.normalized&&(a=k(a,this.array));return a}setW(a,b){this.normalized&&(b=p(b,this.array));this.array[a*this.itemSize+3]=b;return this}setXY(a,b,c){a*=this.itemSize;this.normalized&&(b=p(b,this.array),c=p(c,this.array));this.array[a+
0]=b;this.array[a+1]=c;return this}setXYZ(a,b,c,e){a*=this.itemSize;this.normalized&&(b=p(b,this.array),c=p(c,this.array),e=p(e,this.array));this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=e;return this}setXYZW(a,b,c,e,f){a*=this.itemSize;this.normalized&&(b=p(b,this.array),c=p(c,this.array),e=p(e,this.array),f=p(f,this.array));this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=e;this.array[a+3]=f;return this}onUpload(a){this.onUploadCallback=a;return this}clone(){return(new this.constructor(this.array,
this.itemSize)).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};""!==this.name&&(a.name=this.name);35044!==this.usage&&(a.usage=this.usage);if(0!==this.updateRange.offset||-1!==this.updateRange.count)a.updateRange=this.updateRange;return a}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}
class ml extends Td{constructor(a,b,c){super(new Int8Array(a),b,c)}}class nl extends Td{constructor(a,b,c){super(new Uint8Array(a),b,c)}}class ol extends Td{constructor(a,b,c){super(new Uint8ClampedArray(a),b,c)}}class pl extends Td{constructor(a,b,c){super(new Int16Array(a),b,c)}}class qi extends Td{constructor(a,b,c){super(new Uint16Array(a),b,c)}}class ql extends Td{constructor(a,b,c){super(new Int32Array(a),b,c)}}class pi extends Td{constructor(a,b,c){super(new Uint32Array(a),b,c)}}class rl extends Td{constructor(a,
b,c){super(new Uint16Array(a),b,c);this.isFloat16BufferAttribute=!0}}class Pc extends Td{constructor(a,b,c){super(new Float32Array(a),b,c)}}class sl extends Td{constructor(a,b,c){super(new Float64Array(a),b,c)}}let tl=0;const Ye=new gd,Ci=new eb,zg=new Ga,Ve=new kf,Xg=new kf,ye=new Ga;class td extends Yc{constructor(){super();this.isBufferGeometry=!0;Object.defineProperty(this,"id",{value:tl++});this.uuid=J();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes=
{};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}getIndex(){return this.index}setIndex(a){Array.isArray(a)?this.index=new (B(a)?pi:qi)(a,1):this.index=a;return this}getAttribute(a){return this.attributes[a]}setAttribute(a,b){this.attributes[a]=b;return this}deleteAttribute(a){delete this.attributes[a];return this}hasAttribute(a){return void 0!==this.attributes[a]}addGroup(a,b,c=0){this.groups.push({start:a,
count:b,materialIndex:c})}clearGroups(){this.groups=[]}setDrawRange(a,b){this.drawRange.start=a;this.drawRange.count=b}applyMatrix4(a){var b=this.attributes.position;void 0!==b&&(b.applyMatrix4(a),b.needsUpdate=!0);b=this.attributes.normal;if(void 0!==b){const c=(new he).getNormalMatrix(a);b.applyNormalMatrix(c);b.needsUpdate=!0}b=this.attributes.tangent;void 0!==b&&(b.transformDirection(a),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();
return this}applyQuaternion(a){Ye.makeRotationFromQuaternion(a);this.applyMatrix4(Ye);return this}rotateX(a){Ye.makeRotationX(a);this.applyMatrix4(Ye);return this}rotateY(a){Ye.makeRotationY(a);this.applyMatrix4(Ye);return this}rotateZ(a){Ye.makeRotationZ(a);this.applyMatrix4(Ye);return this}translate(a,b,c){Ye.makeTranslation(a,b,c);this.applyMatrix4(Ye);return this}scale(a,b,c){Ye.makeScale(a,b,c);this.applyMatrix4(Ye);return this}lookAt(a){Ci.lookAt(a);Ci.updateMatrix();this.applyMatrix4(Ci.matrix);
return this}center(){this.computeBoundingBox();this.boundingBox.getCenter(zg).negate();this.translate(zg.x,zg.y,zg.z);return this}setFromPoints(a){const b=[];for(let c=0,e=a.length;c<e;c++){const f=a[c];b.push(f.x,f.y,f.z||0)}this.setAttribute("position",new Pc(b,3));return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new kf);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingBox.set(new Ga(-Infinity,-Infinity,-Infinity),new Ga(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),b)for(let c=0,e=b.length;c<e;c++)Ve.setFromBufferAttribute(b[c]),this.morphTargetsRelative?(ye.addVectors(this.boundingBox.min,Ve.min),this.boundingBox.expandByPoint(ye),ye.addVectors(this.boundingBox.max,Ve.max),this.boundingBox.expandByPoint(ye)):(this.boundingBox.expandByPoint(Ve.min),this.boundingBox.expandByPoint(Ve.max))}else this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new pf);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingSphere.set(new Ga,Infinity);else if(a){const c=this.boundingSphere.center;Ve.setFromBufferAttribute(a);if(b)for(let f=0,l=b.length;f<l;f++)Xg.setFromBufferAttribute(b[f]),this.morphTargetsRelative?(ye.addVectors(Ve.min,Xg.min),Ve.expandByPoint(ye),ye.addVectors(Ve.max,Xg.max),Ve.expandByPoint(ye)):(Ve.expandByPoint(Xg.min),Ve.expandByPoint(Xg.max));Ve.getCenter(c);let e=0;for(let f=0,l=a.count;f<l;f++)ye.fromBufferAttribute(a,f),e=Math.max(e,c.distanceToSquared(ye));if(b)for(let f=
0,l=b.length;f<l;f++){const n=b[f],v=this.morphTargetsRelative;for(let E=0,G=n.count;E<G;E++)ye.fromBufferAttribute(n,E),v&&(zg.fromBufferAttribute(a,E),ye.add(zg)),e=Math.max(e,c.distanceToSquared(ye))}this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){function a(vb,yb,xb){S.fromArray(f,3*vb);V.fromArray(f,3*
yb);ia.fromArray(f,3*xb);ha.fromArray(n,2*vb);Q.fromArray(n,2*yb);la.fromArray(n,2*xb);V.sub(S);ia.sub(S);Q.sub(ha);la.sub(ha);const fc=1/(Q.x*la.y-la.x*Q.y);isFinite(fc)&&(Xa.copy(V).multiplyScalar(la.y).addScaledVector(ia,-Q.y).multiplyScalar(fc),Ba.copy(ia).multiplyScalar(Q.x).addScaledVector(V,-la.x).multiplyScalar(fc),E[vb].add(Xa),E[yb].add(Xa),E[xb].add(Xa),G[vb].add(Ba),G[yb].add(Ba),G[xb].add(Ba))}function b(vb){Mb.fromArray(l,3*vb);cb.copy(Mb);var yb=E[vb];pb.copy(yb);pb.sub(Mb.multiplyScalar(Mb.dot(yb))).normalize();
Ua.crossVectors(cb,yb);yb=Ua.dot(G[vb]);v[4*vb]=pb.x;v[4*vb+1]=pb.y;v[4*vb+2]=pb.z;v[4*vb+3]=0>yb?-1:1}var c=this.index,e=this.attributes;if(null===c||void 0===e.position||void 0===e.normal||void 0===e.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{c=c.array;var f=e.position.array,l=e.normal.array,n=e.uv.array;e=f.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Td(new Float32Array(4*
e),4));var v=this.getAttribute("tangent").array,E=[],G=[];for(var R=0;R<e;R++)E[R]=new Ga,G[R]=new Ga;var S=new Ga,V=new Ga,ia=new Ga,ha=new Xb,Q=new Xb,la=new Xb,Xa=new Ga,Ba=new Ga;e=this.groups;0===e.length&&(e=[{start:0,count:c.length}]);for(let vb=0,yb=e.length;vb<yb;++vb){var $a=e[vb];R=$a.start;$a=$a.count;for(let xb=R,fc=R+$a;xb<fc;xb+=3)a(c[xb+0],c[xb+1],c[xb+2])}var pb=new Ga,Ua=new Ga,Mb=new Ga,cb=new Ga;for(let vb=0,yb=e.length;vb<yb;++vb){$a=e[vb];R=$a.start;$a=$a.count;for(let xb=R,
fc=R+$a;xb<fc;xb+=3)b(c[xb+0]),b(c[xb+1]),b(c[xb+2])}}}computeVertexNormals(){const a=this.index,b=this.getAttribute("position");if(void 0!==b){let c=this.getAttribute("normal");if(void 0===c)c=new Td(new Float32Array(3*b.count),3),this.setAttribute("normal",c);else for(let S=0,V=c.count;S<V;S++)c.setXYZ(S,0,0,0);const e=new Ga,f=new Ga,l=new Ga,n=new Ga,v=new Ga,E=new Ga,G=new Ga,R=new Ga;if(a)for(let S=0,V=a.count;S<V;S+=3){const ia=a.getX(S+0),ha=a.getX(S+1),Q=a.getX(S+2);e.fromBufferAttribute(b,
ia);f.fromBufferAttribute(b,ha);l.fromBufferAttribute(b,Q);G.subVectors(l,f);R.subVectors(e,f);G.cross(R);n.fromBufferAttribute(c,ia);v.fromBufferAttribute(c,ha);E.fromBufferAttribute(c,Q);n.add(G);v.add(G);E.add(G);c.setXYZ(ia,n.x,n.y,n.z);c.setXYZ(ha,v.x,v.y,v.z);c.setXYZ(Q,E.x,E.y,E.z)}else for(let S=0,V=b.count;S<V;S+=3)e.fromBufferAttribute(b,S+0),f.fromBufferAttribute(b,S+1),l.fromBufferAttribute(b,S+2),G.subVectors(l,f),R.subVectors(e,f),G.cross(R),c.setXYZ(S+0,G.x,G.y,G.z),c.setXYZ(S+1,G.x,
G.y,G.z),c.setXYZ(S+2,G.x,G.y,G.z);this.normalizeNormals();c.needsUpdate=!0}}merge(){console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead.");return this}normalizeNormals(){const a=this.attributes.normal;for(let b=0,c=a.count;b<c;b++)ye.fromBufferAttribute(a,b),ye.normalize(),a.setXYZ(b,ye.x,ye.y,ye.z)}toNonIndexed(){function a(v,E){const G=v.array,R=v.itemSize,S=v.normalized,V=new G.constructor(E.length*R);let ia,ha=0;for(let Q=
0,la=E.length;Q<la;Q++){ia=v.isInterleavedBufferAttribute?E[Q]*v.data.stride+v.offset:E[Q]*R;for(let Xa=0;Xa<R;Xa++)V[ha++]=G[ia++]}return new Td(V,R,S)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const b=new td;var c=this.index.array,e=this.attributes;for(var f in e){var l=a(e[f],c);b.setAttribute(f,l)}e=this.morphAttributes;for(var n in e){f=[];l=e[n];for(let v=0,E=l.length;v<E;v++){const G=a(l[v],c);f.push(G)}b.morphAttributes[n]=
f}b.morphTargetsRelative=this.morphTargetsRelative;c=this.groups;for(let v=0,E=c.length;v<E;v++)n=c[v],b.addGroup(n.start,n.count,n.materialIndex);return b}toJSON(){const a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};
c=this.index;null!==c&&(a.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});c=this.attributes;for(var e in c)a.data.attributes[e]=c[e].toJSON(a.data);e={};c=!1;for(b in this.morphAttributes){const f=this.morphAttributes[b],l=[];for(let n=0,v=f.length;n<v;n++)l.push(f[n].toJSON(a.data));0<l.length&&(e[b]=l,c=!0)}c&&(a.data.morphAttributes=e,a.data.morphTargetsRelative=this.morphTargetsRelative);b=this.groups;0<b.length&&(a.data.groups=JSON.parse(JSON.stringify(b)));
b=this.boundingSphere;null!==b&&(a.data.boundingSphere={center:b.center.toArray(),radius:b.radius});return a}clone(){return(new this.constructor).copy(this)}copy(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;var b={};this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone(b));c=a.attributes;for(var e in c)this.setAttribute(e,c[e].clone(b));e=a.morphAttributes;for(var f in e){c=[];const l=e[f];for(let n=0,v=l.length;n<
v;n++)c.push(l[n].clone(b));this.morphAttributes[f]=c}this.morphTargetsRelative=a.morphTargetsRelative;b=a.groups;for(let l=0,n=b.length;l<n;l++)f=b[l],this.addGroup(f.start,f.count,f.materialIndex);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this}dispose(){this.dispatchEvent({type:"dispose"})}}const Bj=new gd,rf=new Jf,
Eh=new pf,Cj=new Ga,Kg=new Ga,Lg=new Ga,Mg=new Ga,Di=new Ga,Fh=new Ga,mh=new Xb,nh=new Xb,oh=new Xb,ni=new Ga,lh=new Ga;class ze extends eb{constructor(a=new td,b=new Kf){super();this.isMesh=!0;this.type="Mesh";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));this.material=
a.material;this.geometry=a.geometry;return this}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,e=a.length;c<e;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}getVertexPosition(a,b){var c=this.geometry;const e=c.morphAttributes.position,f=c.morphTargetsRelative;b.fromBufferAttribute(c.attributes.position,a);c=this.morphTargetInfluences;
if(e&&c){Fh.set(0,0,0);for(let l=0,n=e.length;l<n;l++){const v=c[l];0!==v&&(Di.fromBufferAttribute(e[l],a),f?Fh.addScaledVector(Di,v):Fh.addScaledVector(Di.sub(b),v))}b.add(Fh)}this.isSkinnedMesh&&this.boneTransform(a,b);return b}raycast(a,b){var c=this.geometry;const e=this.material;var f=this.matrixWorld;if(void 0!==e&&(null===c.boundingSphere&&c.computeBoundingSphere(),Eh.copy(c.boundingSphere),Eh.applyMatrix4(f),rf.copy(a.ray).recast(a.near),!1!==Eh.containsPoint(rf.origin)||!(null===rf.intersectSphere(Eh,
Cj)||rf.origin.distanceToSquared(Cj)>(a.far-a.near)**2))&&(Bj.copy(f).invert(),rf.copy(a.ray).applyMatrix4(Bj),null===c.boundingBox||!1!==rf.intersectsBox(c.boundingBox))){var l=c.index,n=c.attributes.position;f=c.attributes.uv;var v=c.attributes.uv2,E=c.groups;c=c.drawRange;if(null!==l)if(Array.isArray(e))for(let V=0,ia=E.length;V<ia;V++){n=E[V];var G=e[n.materialIndex];var R=Math.max(n.start,c.start);var S=Math.min(l.count,Math.min(n.start+n.count,c.start+c.count));for(let ha=R,Q=S;ha<Q;ha+=3){R=
l.getX(ha);S=l.getX(ha+1);const la=l.getX(ha+2);if(R=N(this,G,a,rf,f,v,R,S,la))R.faceIndex=Math.floor(ha/3),R.face.materialIndex=n.materialIndex,b.push(R)}}else{E=Math.max(0,c.start);c=Math.min(l.count,c.start+c.count);for(let V=E,ia=c;V<ia;V+=3)if(c=l.getX(V),E=l.getX(V+1),n=l.getX(V+2),R=N(this,e,a,rf,f,v,c,E,n))R.faceIndex=Math.floor(V/3),b.push(R)}else if(void 0!==n)if(Array.isArray(e))for(let V=0,ia=E.length;V<ia;V++){l=E[V];G=e[l.materialIndex];R=Math.max(l.start,c.start);S=Math.min(n.count,
Math.min(l.start+l.count,c.start+c.count));for(let ha=R,Q=S;ha<Q;ha+=3)if(R=N(this,G,a,rf,f,v,ha,ha+1,ha+2))R.faceIndex=Math.floor(ha/3),R.face.materialIndex=l.materialIndex,b.push(R)}else{l=Math.max(0,c.start);c=Math.min(n.count,c.start+c.count);for(let V=l,ia=c;V<ia;V+=3)if(R=N(this,e,a,rf,f,v,V,V+1,V+2))R.faceIndex=Math.floor(V/3),b.push(R)}}}}class Pf extends td{constructor(a=1,b=1,c=1,e=1,f=1,l=1){function n(ha,Q,la,Xa,Ba,$a,pb,Ua,Mb,cb,vb){const yb=$a/Mb,xb=pb/cb,fc=$a/2,Zb=pb/2,cc=Ua/2;pb=
Mb+1;const bc=cb+1;let Cc=$a=0;const Mc=new Ga;for(let Zc=0;Zc<bc;Zc++){const ed=Zc*xb-Zb;for(let dc=0;dc<pb;dc++)Mc[ha]=(dc*yb-fc)*Xa,Mc[Q]=ed*Ba,Mc[la]=cc,G.push(Mc.x,Mc.y,Mc.z),Mc[ha]=0,Mc[Q]=0,Mc[la]=0<Ua?1:-1,R.push(Mc.x,Mc.y,Mc.z),S.push(dc/Mb),S.push(1-Zc/cb),$a+=1}for(ha=0;ha<cb;ha++)for(Q=0;Q<Mb;Q++)la=V+Q+pb*(ha+1),Xa=V+(Q+1)+pb*(ha+1),Ba=V+(Q+1)+pb*ha,E.push(V+Q+pb*ha,la,Ba),E.push(la,Xa,Ba),Cc+=6;v.addGroup(ia,Cc,vb);ia+=Cc;V+=$a}super();this.type="BoxGeometry";this.parameters={width:a,
height:b,depth:c,widthSegments:e,heightSegments:f,depthSegments:l};const v=this;e=Math.floor(e);f=Math.floor(f);l=Math.floor(l);const E=[],G=[],R=[],S=[];let V=0,ia=0;n("z","y","x",-1,-1,c,b,a,l,f,0);n("z","y","x",1,-1,c,b,-a,l,f,1);n("x","z","y",1,1,a,c,b,e,l,2);n("x","z","y",1,-1,a,c,-b,e,l,3);n("x","y","z",1,-1,a,b,c,e,f,4);n("x","y","z",-1,-1,a,b,-c,e,f,5);this.setIndex(E);this.setAttribute("position",new Pc(G,3));this.setAttribute("normal",new Pc(R,3));this.setAttribute("uv",new Pc(S,2))}copy(a){super.copy(a);
this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Pf(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}const wj={clone:W,merge:ka};class ff extends Vd{constructor(a){super();this.isShaderMaterial=!0;this.type="ShaderMaterial";this.defines={};this.uniforms={};this.uniformsGroups=[];this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&this.setValues(a)}copy(a){super.copy(a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=W(a.uniforms);var b=a.uniformsGroups;const c=
[];for(let e=0;e<b.length;e++)c.push(b[e].clone());this.uniformsGroups=c;this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.fog=a.fog;this.lights=a.lights;this.clipping=a.clipping;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this}toJSON(a){const b=super.toJSON(a);b.glslVersion=this.glslVersion;b.uniforms={};for(const c in this.uniforms){const e=this.uniforms[c].value;b.uniforms[c]=e&&e.isTexture?
{type:"t",value:e.toJSON(a).uuid}:e&&e.isColor?{type:"c",value:e.getHex()}:e&&e.isVector2?{type:"v2",value:e.toArray()}:e&&e.isVector3?{type:"v3",value:e.toArray()}:e&&e.isVector4?{type:"v4",value:e.toArray()}:e&&e.isMatrix3?{type:"m3",value:e.toArray()}:e&&e.isMatrix4?{type:"m4",value:e.toArray()}:{value:e}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;a={};for(const c in this.extensions)!0===this.extensions[c]&&
(a[c]=!0);0<Object.keys(a).length&&(b.extensions=a);return b}}class Gh extends eb{constructor(){super();this.isCamera=!0;this.type="Camera";this.matrixWorldInverse=new gd;this.projectionMatrix=new gd;this.projectionMatrixInverse=new gd}copy(a,b){super.copy(a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const b=this.matrixWorld.elements;
return a.set(-b[8],-b[9],-b[10]).normalize()}updateMatrixWorld(a){super.updateMatrixWorld(a);this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,b){super.updateWorldMatrix(a,b);this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class De extends Gh{constructor(a=50,b=1,c=.1,e=2E3){super();this.isPerspectiveCamera=!0;this.type="PerspectiveCamera";this.fov=a;this.zoom=1;this.near=c;this.far=e;this.focus=10;this.aspect=b;this.view=
null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}copy(a,b){super.copy(a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this}setFocalLength(a){a=.5*this.getFilmHeight()/a;this.fov=2*Wc*Math.atan(a);this.updateProjectionMatrix()}getFocalLength(){const a=Math.tan(.5*fd*this.fov);return.5*this.getFilmHeight()/
a}getEffectiveFOV(){return 2*Wc*Math.atan(Math.tan(.5*fd*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(a,b,c,e,f,l){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=e;this.view.width=f;this.view.height=l;this.updateProjectionMatrix()}clearViewOffset(){null!==
this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){const a=this.near;let b=a*Math.tan(.5*fd*this.fov)/this.zoom,c=2*b,e=this.aspect*c,f=-.5*e;var l=this.view;if(null!==this.view&&this.view.enabled){const n=l.fullWidth,v=l.fullHeight;f+=l.offsetX*e/n;b-=l.offsetY*c/v;e*=l.width/n;c*=l.height/v}l=this.filmOffset;0!==l&&(f+=a*l/this.getFilmWidth());this.projectionMatrix.makePerspective(f,f+e,b,b-c,a,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=
super.toJSON(a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}}class Dj extends eb{constructor(a,b,c){super();this.type="CubeCamera";this.renderTarget=c;c=new De(-90,1,a,b);c.layers=this.layers;c.up.set(0,1,0);c.lookAt(1,0,0);this.add(c);c=new De(-90,1,a,b);c.layers=
this.layers;c.up.set(0,1,0);c.lookAt(-1,0,0);this.add(c);c=new De(-90,1,a,b);c.layers=this.layers;c.up.set(0,0,-1);c.lookAt(0,1,0);this.add(c);c=new De(-90,1,a,b);c.layers=this.layers;c.up.set(0,0,1);c.lookAt(0,-1,0);this.add(c);c=new De(-90,1,a,b);c.layers=this.layers;c.up.set(0,1,0);c.lookAt(0,0,1);this.add(c);a=new De(-90,1,a,b);a.layers=this.layers;a.up.set(0,1,0);a.lookAt(0,0,-1);this.add(a)}update(a,b){null===this.parent&&this.updateMatrixWorld();const c=this.renderTarget,[e,f,l,n,v,E]=this.children,
G=a.getRenderTarget(),R=a.toneMapping,S=a.xr.enabled;a.toneMapping=0;a.xr.enabled=!1;const V=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;a.setRenderTarget(c,0);a.render(b,e);a.setRenderTarget(c,1);a.render(b,f);a.setRenderTarget(c,2);a.render(b,l);a.setRenderTarget(c,3);a.render(b,n);a.setRenderTarget(c,4);a.render(b,v);c.texture.generateMipmaps=V;a.setRenderTarget(c,5);a.render(b,E);a.setRenderTarget(G);a.toneMapping=R;a.xr.enabled=S;c.texture.needsPMREMUpdate=!0}}class Yg extends ie{constructor(a,
b,c,e,f,l,n,v,E,G){a=void 0!==a?a:[];super(a,void 0!==b?b:301,c,e,f,l,n,v,E,G);this.isCubeTexture=!0;this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class lj extends Me{constructor(a=1,b={}){super(a,a,b);this.isWebGLCubeRenderTarget=!0;a={width:a,height:a,depth:1};this.texture=new Yg([a,a,a,a,a,a],b.mapping,b.wrapS,b.wrapT,b.magFilter,b.minFilter,b.format,b.type,b.anisotropy,b.encoding);this.texture.isRenderTargetTexture=!0;this.texture.generateMipmaps=void 0!==b.generateMipmaps?
b.generateMipmaps:!1;this.texture.minFilter=void 0!==b.minFilter?b.minFilter:1006}fromEquirectangularTexture(a,b){this.texture.type=b.type;this.texture.encoding=b.encoding;this.texture.generateMipmaps=b.generateMipmaps;this.texture.minFilter=b.minFilter;this.texture.magFilter=b.magFilter;var c=new Pf(5,5,5),e=new ff({name:"CubemapFromEquirect",uniforms:W({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include \x3cbegin_vertex\x3e\n\t\t\t\t\t#include \x3cproject_vertex\x3e\n\n\t\t\t\t}\n\t\t\t",
fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include \x3ccommon\x3e\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction \x3d normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV \x3d equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});e.uniforms.tEquirect.value=b;c=new ze(c,e);e=b.minFilter;1008===b.minFilter&&(b.minFilter=1006);(new Dj(1,10,this)).update(a,
c);b.minFilter=e;c.geometry.dispose();c.material.dispose();return this}clear(a,b,c,e){const f=a.getRenderTarget();for(let l=0;6>l;l++)a.setRenderTarget(this,l),a.clear(b,c,e);a.setRenderTarget(f)}}const Ei=new Ga,ul=new Ga,vl=new he;class Df{constructor(a=new Ga(1,0,0),b=0){this.isPlane=!0;this.normal=a;this.constant=b}set(a,b){this.normal.copy(a);this.constant=b;return this}setComponents(a,b,c,e){this.normal.set(a,b,c);this.constant=e;return this}setFromNormalAndCoplanarPoint(a,b){this.normal.copy(a);
this.constant=-b.dot(this.normal);return this}setFromCoplanarPoints(a,b,c){b=Ei.subVectors(c,b).cross(ul.subVectors(a,b)).normalize();this.setFromNormalAndCoplanarPoint(b,a);return this}copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this}normalize(){const a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}negate(){this.constant*=-1;this.normal.negate();return this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-
a.radius}projectPoint(a,b){return b.copy(a).addScaledVector(this.normal,-this.distanceToPoint(a))}intersectLine(a,b){const c=a.delta(Ei);var e=this.normal.dot(c);if(0===e)return 0===this.distanceToPoint(a.start)?b.copy(a.start):null;e=-(a.start.dot(this.normal)+this.constant)/e;return 0>e||1<e?null:b.copy(a.start).addScaledVector(c,e)}intersectsLine(a){const b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,
b){b=b||vl.getNormalMatrix(a);a=this.coplanarPoint(Ei).applyMatrix4(a);b=this.normal.applyMatrix3(b).normalize();this.constant=-a.dot(b);return this}translate(a){this.constant-=a.dot(this.normal);return this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ag=new pf,Hh=new Ga;class rh{constructor(a=new Df,b=new Df,c=new Df,e=new Df,f=new Df,l=new Df){this.planes=[a,b,c,e,f,l]}set(a,b,c,e,f,l){const n=this.planes;n[0].copy(a);
n[1].copy(b);n[2].copy(c);n[3].copy(e);n[4].copy(f);n[5].copy(l);return this}copy(a){const b=this.planes;for(let c=0;6>c;c++)b[c].copy(a.planes[c]);return this}setFromProjectionMatrix(a){const b=this.planes;var c=a.elements;a=c[0];const e=c[1],f=c[2],l=c[3],n=c[4],v=c[5],E=c[6],G=c[7],R=c[8],S=c[9],V=c[10],ia=c[11],ha=c[12],Q=c[13],la=c[14];c=c[15];b[0].setComponents(l-a,G-n,ia-R,c-ha).normalize();b[1].setComponents(l+a,G+n,ia+R,c+ha).normalize();b[2].setComponents(l+e,G+v,ia+S,c+Q).normalize();b[3].setComponents(l-
e,G-v,ia-S,c-Q).normalize();b[4].setComponents(l-f,G-E,ia-V,c-la).normalize();b[5].setComponents(l+f,G+E,ia+V,c+la).normalize();return this}intersectsObject(a){const b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();Ag.copy(b.boundingSphere).applyMatrix4(a.matrixWorld);return this.intersectsSphere(Ag)}intersectsSprite(a){Ag.center.set(0,0,0);Ag.radius=.7071067811865476;Ag.applyMatrix4(a.matrixWorld);return this.intersectsSphere(Ag)}intersectsSphere(a){const b=this.planes,c=a.center;
a=-a.radius;for(let e=0;6>e;e++)if(b[e].distanceToPoint(c)<a)return!1;return!0}intersectsBox(a){const b=this.planes;for(let c=0;6>c;c++){const e=b[c];Hh.x=0<e.normal.x?a.max.x:a.min.x;Hh.y=0<e.normal.y?a.max.y:a.min.y;Hh.z=0<e.normal.z?a.max.z:a.min.z;if(0>e.distanceToPoint(Hh))return!1}return!0}containsPoint(a){const b=this.planes;for(let c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Ng extends td{constructor(a=1,b=1,c=1,e=1){super();
this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:e};var f=a/2,l=b/2;c=Math.floor(c);e=Math.floor(e);const n=c+1;var v=e+1,E=a/c,G=b/e;b=[];a=[];const R=[],S=[];for(let V=0;V<v;V++){const ia=V*G-l;for(let ha=0;ha<n;ha++)a.push(ha*E-f,-ia,0),R.push(0,0,1),S.push(ha/c),S.push(1-V/e)}for(f=0;f<e;f++)for(l=0;l<c;l++)v=l+n*(f+1),E=l+1+n*(f+1),G=l+1+n*f,b.push(l+n*f,v,G),b.push(v,E,G);this.setIndex(b);this.setAttribute("position",new Pc(a,3));this.setAttribute("normal",
new Pc(R,3));this.setAttribute("uv",new Pc(S,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Ng(a.width,a.height,a.widthSegments,a.heightSegments)}}const md={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a \x3c alphaTest ) discard;\n#endif",
alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed \x3d vec3( position );",beginnormal_vertex:"vec3 objectNormal \x3d vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent \x3d vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x \x3d clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 \x3d x * x;\n    float x5 \x3d clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( f0, f90, dotVH );\n\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha \x3d pow2( roughness );\n\t\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\t\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F \x3d mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D \x3d D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE \x3d 64.0;\n\tconst float LUT_SCALE \x3d ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS \x3d 0.5 / LUT_SIZE;\n\tfloat dotNV \x3d saturate( dot( N, V ) );\n\tvec2 uv \x3d vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv \x3d uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l \x3d length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x \x3d dot( v1, v2 );\n\tfloat y \x3d abs( x );\n\tfloat a \x3d 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b \x3d 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v \x3d a / b;\n\tfloat theta_sintheta \x3d ( x \x3e 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 \x3d rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 \x3d rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal \x3d cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) \x3c 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 \x3d normalize( V - N * dot( V, N ) );\n\tT2 \x3d - cross( N, T1 );\n\tmat3 mat \x3d mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] \x3d mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] \x3d mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] \x3d mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] \x3d mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] \x3d normalize( coords[ 0 ] );\n\tcoords[ 1 ] \x3d normalize( coords[ 1 ] );\n\tcoords[ 2 ] \x3d normalize( coords[ 2 ] );\n\tcoords[ 3 ] \x3d normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor \x3d vec3( 0.0 );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result \x3d LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha \x3d pow2( roughness );\n\tfloat invAlpha \x3d 1.0 / alpha;\n\tfloat cos2h \x3d dotNH * dotNH;\n\tfloat sin2h \x3d max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat D \x3d D_Charlie( sheenRoughness, dotNH );\n\tfloat V \x3d V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",
iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 \x3d mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 \x3d sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase \x3d 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val \x3d vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos \x3d vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var \x3d vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz \x3d val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x +\x3d 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /\x3d 1.0685e-7;\n\t\tvec3 rgb \x3d XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR \x3d mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq \x3d pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq \x3d 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq \x3c 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 \x3d sqrt( cosTheta2Sq );\n\t\tfloat R0 \x3d IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 \x3d F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 \x3d R12;\n\t\tfloat T121 \x3d 1.0 - R12;\n\t\tfloat phi12 \x3d 0.0;\n\t\tif ( iridescenceIOR \x3c outsideIOR ) phi12 \x3d PI;\n\t\tfloat phi21 \x3d PI - phi12;\n\t\tvec3 baseIOR \x3d Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 \x3d IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 \x3d F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 \x3d vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] \x3c iridescenceIOR ) phi23[ 0 ] \x3d PI;\n\t\tif ( baseIOR[ 1 ] \x3c iridescenceIOR ) phi23[ 1 ] \x3d PI;\n\t\tif ( baseIOR[ 2 ] \x3c iridescenceIOR ) phi23[ 2 ] \x3d PI;\n\t\tfloat OPD \x3d 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi \x3d vec3( phi21 ) + phi23;\n\t\tvec3 R123 \x3d clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 \x3d sqrt( R123 );\n\t\tvec3 Rs \x3d pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 \x3d R12 + Rs;\n\t\tI \x3d C0;\n\t\tvec3 Cm \x3d Rs - T121;\n\t\tfor ( int m \x3d 1; m \x3c\x3d 2; ++ m ) {\n\t\t\tCm *\x3d r123;\n\t\t\tvec3 Sm \x3d 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI +\x3d Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos.xyz );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES \x3c NUM_CLIPPING_PLANES\n\t\tbool clipped \x3d true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d UNION_CLIPPING_PLANES; i \x3c NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\tclipped \x3d ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) \x26\x26 clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvClipPosition \x3d - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *\x3d vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *\x3d vColor;\n#endif",
color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor \x3d vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor \x3d vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *\x3d color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *\x3d instanceColor.xyz;\n#endif",
common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent \x3d max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] \x3d vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] \x3d vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] \x3d vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights \x3d vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] \x3d\x3d - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u \x3d atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v \x3d asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nfloat w0( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n}\nfloat w1( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n}\nfloat w2( float a ){\n    return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n}\nfloat w3( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n}\nfloat g0( float a ) {\n\treturn w0( a ) + w1( a );\n}\nfloat g1( float a ) {\n\treturn w2( a ) + w3( a );\n}\nfloat h0( float a ) {\n\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n}\nfloat h1( float a ) {\n    return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n}\nvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\tuv \x3d uv * texelSize.zw + 0.5;\n\tvec2 iuv \x3d floor( uv );\n    vec2 fuv \x3d fract( uv );\n    float g0x \x3d g0( fuv.x );\n    float g1x \x3d g1( fuv.x );\n    float h0x \x3d h0( fuv.x );\n    float h1x \x3d h1( fuv.x );\n    float h0y \x3d h0( fuv.y );\n    float h1y \x3d h1( fuv.y );\n    vec2 p0 \x3d ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p1 \x3d ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p2 \x3d ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    vec2 p3 \x3d ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n    vec2 lodFudge \x3d pow( 1.95, lod ) / fullSize;\n\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n}\nvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\tvec2 fLodSize \x3d vec2( textureSize( sampler, int( lod ) ) );\n\tvec2 cLodSize \x3d vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\tvec2 fLodSizeInv \x3d 1.0 / fLodSize;\n\tvec2 cLodSizeInv \x3d 1.0 / cLodSize;\n\tvec2 fullSize \x3d vec2( textureSize( sampler, 0 ) );\n\tvec4 fSample \x3d bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\tvec4 cSample \x3d bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\treturn mix( fSample, cSample, fract( lod ) );\n}",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection \x3d abs( direction );\n\t\tfloat face \x3d - 1.0;\n\t\tif ( absDirection.x \x3e absDirection.z ) {\n\t\t\tif ( absDirection.x \x3e absDirection.y )\n\t\t\t\tface \x3d direction.x \x3e 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z \x3e absDirection.y )\n\t\t\t\tface \x3d direction.z \x3e 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face \x3d\x3d 0.0 ) {\n\t\t\tuv \x3d vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 1.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face \x3d\x3d 2.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face \x3d\x3d 3.0 ) {\n\t\t\tuv \x3d vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 4.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv \x3d vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face \x3d getFace( direction );\n\t\tfloat filterInt \x3d max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt \x3d max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize \x3d exp2( mipInt );\n\t\thighp vec2 uv \x3d getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face \x3e 2.0 ) {\n\t\t\tuv.y +\x3d faceSize;\n\t\t\tface -\x3d 3.0;\n\t\t}\n\t\tuv.x +\x3d face * faceSize;\n\t\tuv.x +\x3d filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y +\x3d 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *\x3d CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *\x3d CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip \x3d 0.0;\n\t\tif ( roughness \x3e\x3d cubeUV_r1 ) {\n\t\t\tmip \x3d ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r4 ) {\n\t\t\tmip \x3d ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r5 ) {\n\t\t\tmip \x3d ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r6 ) {\n\t\t\tmip \x3d ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip \x3d - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip \x3d clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF \x3d fract( mip );\n\t\tfloat mipInt \x3d floor( mip );\n\t\tvec3 color0 \x3d bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF \x3d\x3d 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 \x3d bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex:"vec3 transformedNormal \x3d objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m \x3d mat3( instanceMatrix );\n\ttransformedNormal /\x3d vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal \x3d m * transformedNormal;\n#endif\ntransformedNormal \x3d normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal \x3d - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent \x3d ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent \x3d - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif",
emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor \x3d linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag \x3d normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor \x3d vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec \x3d reflect( - viewDir, normal );\n\t\t\treflectVec \x3d normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",
envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex:"#ifdef USE_FOG\n\tvFogDepth \x3d - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL \x3d dot( normal, lightDirection );\n\tvec2 coord \x3d vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw \x3d fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse +\x3d lightMapIrradiance;\n#endif",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularStrength \x3d specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",
lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x \x3d normal.x, y \x3d normal.y, z \x3d normal.z;\n\tvec3 result \x3d shCoefficients[ 0 ] * 0.886227;\n\tresult +\x3d shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult +\x3d shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult +\x3d shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult +\x3d shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult +\x3d shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult +\x3d shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult +\x3d shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult +\x3d shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance \x3d shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance \x3e 0.0 \x26\x26 decayExponent \x3e 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance \x3e 0.0 ) {\n\t\t\tdistanceFalloff *\x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color \x3d directionalLight.color;\n\t\tlight.direction \x3d directionalLight.direction;\n\t\tlight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tlight.color \x3d pointLight.color;\n\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat angleCos \x3d dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation \x3d getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation \x3e 0.0 ) {\n\t\t\tfloat lightDistance \x3d length( lVector );\n\t\t\tlight.color \x3d spotLight.color * spotAttenuation;\n\t\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color \x3d vec3( 0.0 );\n\t\t\tlight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL \x3d dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",
lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance \x3d getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy \x3d max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness \x3d max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness \x3d max( roughnessFactor, 0.0525 );material.roughness +\x3d geometryRoughness;\nmaterial.roughness \x3d min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior \x3d ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor \x3d specularIntensity;\n\t\tvec3 specularColorFactor \x3d specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *\x3d texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *\x3d texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 \x3d mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor \x3d 1.0;\n\t\tvec3 specularColorFactor \x3d vec3( 1.0 );\n\t\tmaterial.specularF90 \x3d 1.0;\n\t#endif\n\tmaterial.specularColor \x3d mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 \x3d 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat \x3d clearcoat;\n\tmaterial.clearcoatRoughness \x3d clearcoatRoughness;\n\tmaterial.clearcoatF0 \x3d vec3( 0.04 );\n\tmaterial.clearcoatF90 \x3d 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *\x3d texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *\x3d texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat \x3d saturate( material.clearcoat );\tmaterial.clearcoatRoughness \x3d max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness +\x3d geometryRoughness;\n\tmaterial.clearcoatRoughness \x3d min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence \x3d iridescence;\n\tmaterial.iridescenceIOR \x3d iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *\x3d texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness \x3d (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness \x3d iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor \x3d sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *\x3d texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness \x3d clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *\x3d texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular \x3d vec3( 0.0 );\nvec3 sheenSpecular \x3d vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat r2 \x3d roughness * roughness;\n\tfloat a \x3d roughness \x3c 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b \x3d roughness \x3c 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG \x3d exp( a * dotNV + b ) + ( roughness \x3c 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab \x3d vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr \x3d mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr \x3d specularColor;\n\t#endif\n\tvec3 FssEss \x3d Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess \x3d fab.x + fab.y;\n\tfloat Ems \x3d 1.0 - Ess;\n\tvec3 Favg \x3d Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms \x3d FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter +\x3d FssEss;\n\tmultiScatter +\x3d Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal \x3d geometry.normal;\n\t\tvec3 viewDir \x3d geometry.viewDir;\n\t\tvec3 position \x3d geometry.position;\n\t\tvec3 lightPos \x3d rectAreaLight.position;\n\t\tvec3 halfWidth \x3d rectAreaLight.halfWidth;\n\t\tvec3 halfHeight \x3d rectAreaLight.halfHeight;\n\t\tvec3 lightColor \x3d rectAreaLight.color;\n\t\tfloat roughness \x3d material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] \x3d lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] \x3d lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] \x3d lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] \x3d lightPos + halfWidth + halfHeight;\n\t\tvec2 uv \x3d LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 \x3d texture2D( ltc_1, uv );\n\t\tvec4 t2 \x3d texture2D( ltc_2, uv );\n\t\tmat3 mInv \x3d mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel \x3d ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular +\x3d lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse +\x3d lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc \x3d saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance \x3d dotNLcc * directLight.color;\n\t\tclearcoatSpecular +\x3d ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular +\x3d clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering \x3d vec3( 0.0 );\n\tvec3 multiScattering \x3d vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance \x3d irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering \x3d singleScattering + multiScattering;\n\tvec3 diffuse \x3d material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular +\x3d radiance * singleScattering;\n\treflectedLight.indirectSpecular +\x3d multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse +\x3d diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal \x3d clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi \x3d saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness \x3d\x3d 0.0 ) {\n\t\tmaterial.iridescence \x3d 0.0;\n\t} else {\n\t\tmaterial.iridescence \x3d saturate( material.iridescence );\n\t}\n\tif ( material.iridescence \x3e 0.0 ) {\n\t\tmaterial.iridescenceFresnel \x3d evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 \x3d Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow \x3d pointLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX \x3c NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord \x3d vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap \x3d all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor \x3d texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color \x3d inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow \x3d spotLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow \x3d directionalLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight \x3d rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance \x3d vec3( 0.0 );\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\tirradiance +\x3d getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d vec3( 0.0 );\n\tvec3 clearcoatRadiance \x3d vec3( 0.0 );\n#endif",
lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance +\x3d getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tradiance +\x3d getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance +\x3d getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",
lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT \x3d vIsPerspective \x3d\x3d 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t\tvIsPerspective \x3d float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z \x3d log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *\x3d gl_Position.w;\n\t\t}\n\t#endif\n#endif",
map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor \x3d texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor \x3d vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *\x3d sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv \x3d ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *\x3d texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
metalnessmap_fragment:"float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) \x26\x26 defined( MORPHTARGETS_TEXTURE )\n\tvColor *\x3d morphTargetBaseInfluence;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",
morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) objectNormal +\x3d getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal +\x3d morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal +\x3d morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal +\x3d morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal +\x3d morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex \x3d vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y \x3d texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x \x3d texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV \x3d ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",
morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) transformed +\x3d getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed +\x3d morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed +\x3d morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed +\x3d morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed +\x3d morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed +\x3d morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed +\x3d morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed +\x3d morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed +\x3d morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",
normal_fragment_begin:"float faceDirection \x3d gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx \x3d dFdx( vViewPosition );\n\tvec3 fdy \x3d dFdy( vViewPosition );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent \x3d normalize( vTangent );\n\t\tvec3 bitangent \x3d normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent \x3d tangent * faceDirection;\n\t\t\tbitangent \x3d bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN \x3d mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal \x3d normal;",
normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal \x3d - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\tnormal \x3d normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *\x3d normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal \x3d normalize( vTBN * mapN );\n\t#else\n\t\tnormal \x3d perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",
normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent \x3d normalize( transformedTangent );\n\t\tvBitangent \x3d normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) \x26\x26 ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 N \x3d surf_norm;\n\t\tvec3 q1perp \x3d cross( q1, N );\n\t\tvec3 q0perp \x3d cross( N, q0 );\n\t\tvec3 T \x3d q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B \x3d q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det \x3d max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale \x3d ( det \x3d\x3d 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",
clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal \x3d geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN \x3d texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *\x3d clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal \x3d normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal \x3d perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",
clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a \x3d 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *\x3d material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r \x3d vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition \x3d vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition \x3d instanceMatrix * mvPosition;\n#endif\nmvPosition \x3d modelViewMatrix * mvPosition;\ngl_Position \x3d projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb \x3d dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position \x3d rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB \x3d vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB \x3d mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
roughnessmap_fragment:"float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS \x3e 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion \x3d 1.0;\n\t\tvec2 distribution \x3d texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow \x3d step( compare , distribution.x );\n\t\tif (hard_shadow !\x3d 1.0 ) {\n\t\t\tfloat distance \x3d compare - distribution.x ;\n\t\t\tfloat variance \x3d max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability \x3d variance / (variance + distance * distance );\t\t\tsoftness_probability \x3d clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion \x3d clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow \x3d 1.0;\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbool inFrustum \x3d shadowCoord.x \x3e\x3d 0.0 \x26\x26 shadowCoord.x \x3c\x3d 1.0 \x26\x26 shadowCoord.y \x3e\x3d 0.0 \x26\x26 shadowCoord.y \x3c\x3d 1.0;\n\t\tbool frustumTest \x3d inFrustum \x26\x26 shadowCoord.z \x3c\x3d 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 \x3d dx0 / 2.0;\n\t\t\tfloat dy2 \x3d dy0 / 2.0;\n\t\t\tfloat dx3 \x3d dx1 / 2.0;\n\t\t\tfloat dy3 \x3d dy1 / 2.0;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx \x3d texelSize.x;\n\t\t\tfloat dy \x3d texelSize.y;\n\t\t\tvec2 uv \x3d shadowCoord.xy;\n\t\t\tvec2 f \x3d fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -\x3d f * texelSize;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow \x3d VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow \x3d texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp +\x3d shadowBias;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) \x26\x26 ( NUM_DIR_LIGHT_SHADOWS \x3e 0 || NUM_POINT_LIGHT_SHADOWS \x3e 0 ) ) || ( NUM_SPOT_LIGHT_COORDS \x3e 0 )\n\tvec3 shadowWorldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition \x3d worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) \x26\x26 UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz +\x3d shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] \x3d spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight \x3d spotLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight \x3d pointLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j \x3d i * 4.0;\n\t\tfloat x \x3d mod( j, float( boneTextureSize ) );\n\t\tfloat y \x3d floor( j / float( boneTextureSize ) );\n\t\tfloat dx \x3d 1.0 / float( boneTextureSize );\n\t\tfloat dy \x3d 1.0 / float( boneTextureSize );\n\t\ty \x3d dy * ( y + 0.5 );\n\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\ttransformed \x3d ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent \x3d vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\tcolor \x3d max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a \x3d v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b \x3d v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat \x3d mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat \x3d mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *\x3d toneMappingExposure / 0.6;\n\tcolor \x3d ACESInputMat * color;\n\tcolor \x3d RRTAndODTFit( color );\n\tcolor \x3d ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission \x3d transmission;\n\tmaterial.transmissionAlpha \x3d 1.0;\n\tmaterial.thickness \x3d thickness;\n\tmaterial.attenuationDistance \x3d attenuationDistance;\n\tmaterial.attenuationColor \x3d attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *\x3d texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *\x3d texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos \x3d vWorldPosition;\n\tvec3 v \x3d normalize( cameraPosition - pos );\n\tvec3 n \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission \x3d getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha \x3d mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse \x3d mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",
transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector \x3d refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x \x3d length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y \x3d length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z \x3d length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod \x3d log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient \x3d -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance \x3d exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay \x3d getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit \x3d position + transmissionRay;\n\t\tvec4 ndcPos \x3d projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords \x3d ndcPos.xy / ndcPos.w;\n\t\trefractionCoords +\x3d 1.0;\n\t\trefractionCoords /\x3d 2.0;\n\t\tvec4 transmittedLight \x3d getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor \x3d applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F \x3d EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",
uv_pars_fragment:"#if ( defined( USE_UV ) \x26\x26 ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",
uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvec4 worldPosition \x3d vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition \x3d instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition \x3d modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position \x3d vec4( position.xy, 1.0, 1.0 );\n}",
background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor \x3d texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor \x3d vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
backgroundCube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include \x3ccube_uv_reflection_fragment\x3e\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor \x3d textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor \x3d textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
cube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor \x3d textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor \x3d texColor;\n\tgl_FragColor.a *\x3d opacity;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
depth_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvHighPrecisionZW \x3d gl_Position.zw;\n}",
depth_frag:"#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\tfloat fragCoordZ \x3d 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition.xyz;\n}",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\tfloat dist \x3d length( vWorldPosition - referencePosition );\n\tdist \x3d ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist \x3d saturate( dist );\n\tgl_FragColor \x3d packDepthToRGBA( dist );\n}",
equirect_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvec3 direction \x3d normalize( vWorldDirection );\n\tvec2 sampleUV \x3d equirectUv( direction );\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvLineDistance \x3d scale * lineDistance;\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
meshbasic_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinbase_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse +\x3d lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse +\x3d vec3( 1.0 );\n\t#endif\n\t#include \x3caomap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d diffuseColor.rgb;\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_lambert_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_lambert_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n}",
meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tvec3 viewDir \x3d normalize( vViewPosition );\n\tvec3 x \x3d normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y \x3d cross( viewDir, x );\n\tvec2 uv \x3d vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor \x3d texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor \x3d vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight \x3d diffuseColor.rgb * matcapColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n}",
meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a \x3d 1.0;\n\t#endif\n}",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n#ifdef USE_TRANSMISSION\n\tvWorldPosition \x3d worldPosition.xyz;\n#endif\n}",
meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ciridescence_fragment\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_physical_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3ctransmission_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cclearcoat_pars_fragment\x3e\n#include \x3ciridescence_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cclearcoat_normal_fragment_begin\x3e\n\t#include \x3cclearcoat_normal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 totalDiffuse \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular \x3d reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include \x3ctransmission_fragment\x3e\n\tvec3 outgoingLight \x3d totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp \x3d 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight \x3d outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc \x3d saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc \x3d F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight \x3d outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cgradientmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_toon_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_toon_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
points_vert:"uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_PointSize \x3d size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *\x3d ( scale / - mvPosition.z );\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
shadow_vert:"#include \x3ccommon\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\t#include \x3clogdepthbuf_fragment\x3e\n\tgl_FragColor \x3d vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}",
sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x \x3d length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y \x3d length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *\x3d - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition \x3d ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy +\x3d rotatedPosition;\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}"},
yc={common:{diffuse:{value:new Ic(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new he},uv2Transform:{value:new he},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},
bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Xb(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new Ic(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],
properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},
pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ic(16777215)},
opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new he}},sprite:{diffuse:{value:new Ic(16777215)},opacity:{value:1},center:{value:new Xb(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new he}}},$e={basic:{uniforms:ka([yc.common,yc.specularmap,yc.envmap,yc.aomap,yc.lightmap,yc.fog]),vertexShader:md.meshbasic_vert,fragmentShader:md.meshbasic_frag},lambert:{uniforms:ka([yc.common,
yc.specularmap,yc.envmap,yc.aomap,yc.lightmap,yc.emissivemap,yc.bumpmap,yc.normalmap,yc.displacementmap,yc.fog,yc.lights,{emissive:{value:new Ic(0)}}]),vertexShader:md.meshlambert_vert,fragmentShader:md.meshlambert_frag},phong:{uniforms:ka([yc.common,yc.specularmap,yc.envmap,yc.aomap,yc.lightmap,yc.emissivemap,yc.bumpmap,yc.normalmap,yc.displacementmap,yc.fog,yc.lights,{emissive:{value:new Ic(0)},specular:{value:new Ic(1118481)},shininess:{value:30}}]),vertexShader:md.meshphong_vert,fragmentShader:md.meshphong_frag},
standard:{uniforms:ka([yc.common,yc.envmap,yc.aomap,yc.lightmap,yc.emissivemap,yc.bumpmap,yc.normalmap,yc.displacementmap,yc.roughnessmap,yc.metalnessmap,yc.fog,yc.lights,{emissive:{value:new Ic(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:md.meshphysical_vert,fragmentShader:md.meshphysical_frag},toon:{uniforms:ka([yc.common,yc.aomap,yc.lightmap,yc.emissivemap,yc.bumpmap,yc.normalmap,yc.displacementmap,yc.gradientmap,yc.fog,yc.lights,{emissive:{value:new Ic(0)}}]),
vertexShader:md.meshtoon_vert,fragmentShader:md.meshtoon_frag},matcap:{uniforms:ka([yc.common,yc.bumpmap,yc.normalmap,yc.displacementmap,yc.fog,{matcap:{value:null}}]),vertexShader:md.meshmatcap_vert,fragmentShader:md.meshmatcap_frag},points:{uniforms:ka([yc.points,yc.fog]),vertexShader:md.points_vert,fragmentShader:md.points_frag},dashed:{uniforms:ka([yc.common,yc.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:md.linedashed_vert,fragmentShader:md.linedashed_frag},depth:{uniforms:ka([yc.common,
yc.displacementmap]),vertexShader:md.depth_vert,fragmentShader:md.depth_frag},normal:{uniforms:ka([yc.common,yc.bumpmap,yc.normalmap,yc.displacementmap,{opacity:{value:1}}]),vertexShader:md.meshnormal_vert,fragmentShader:md.meshnormal_frag},sprite:{uniforms:ka([yc.sprite,yc.fog]),vertexShader:md.sprite_vert,fragmentShader:md.sprite_frag},background:{uniforms:{uvTransform:{value:new he},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:md.background_vert,fragmentShader:md.background_frag},
backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:md.backgroundCube_vert,fragmentShader:md.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:md.cube_vert,fragmentShader:md.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:md.equirect_vert,fragmentShader:md.equirect_frag},distanceRGBA:{uniforms:ka([yc.common,yc.displacementmap,{referencePosition:{value:new Ga},
nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:md.distanceRGBA_vert,fragmentShader:md.distanceRGBA_frag},shadow:{uniforms:ka([yc.lights,yc.fog,{color:{value:new Ic(0)},opacity:{value:1}}]),vertexShader:md.shadow_vert,fragmentShader:md.shadow_frag}};$e.physical={uniforms:ka([$e.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Xb(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},
iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ic(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Xb},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},
attenuationColor:{value:new Ic(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ic(1,1,1)},specularColorMap:{value:null}}]),vertexShader:md.meshphysical_vert,fragmentShader:md.meshphysical_frag};const ph={r:0,b:0,g:0};class Ih extends Gh{constructor(a=-1,b=1,c=1,e=-1,f=.1,l=2E3){super();this.isOrthographicCamera=!0;this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=a;this.right=b;this.top=c;this.bottom=e;this.near=f;this.far=l;this.updateProjectionMatrix()}copy(a,
b){super.copy(a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this}setViewOffset(a,b,c,e,f,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=e;this.view.width=f;this.view.height=l;this.updateProjectionMatrix()}clearViewOffset(){null!==
this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,e=(this.top+this.bottom)/2;let f=c-a;c+=a;a=e+b;b=e-b;null!==this.view&&this.view.enabled&&(e=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom,f+=e*this.view.offsetX,c=f+e*this.view.width,a-=b*this.view.offsetY,b=a-b*this.view.height);this.projectionMatrix.makeOrthographic(f,
c,a,b,this.near,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}}const Ej=[.125,.215,.35,.446,.526,.582],Fi=new Ih,Fj=new Ic;let Gi=null;const cg=(1+Math.sqrt(5))/2,Bg=1/cg,Gj=[new Ga(1,1,1),new Ga(-1,1,1),
new Ga(1,1,-1),new Ga(-1,1,-1),new Ga(0,cg,Bg),new Ga(0,cg,-Bg),new Ga(Bg,0,cg),new Ga(-Bg,0,cg),new Ga(cg,Bg,0),new Ga(-cg,Bg,0)];class oi{constructor(a){this._renderer=a;this._pingPongRenderTarget=null;this._cubeSize=this._lodMax=0;this._lodPlanes=[];this._sizeLods=[];this._sigmas=[];this._equirectMaterial=this._cubemapMaterial=this._blurMaterial=null;this._compileMaterial(this._blurMaterial)}fromScene(a,b=0,c=.1,e=100){Gi=this._renderer.getRenderTarget();this._setSize(256);const f=this._allocateTargets();
f.depthBuffer=!0;this._sceneToCubeUV(a,c,e,f);0<b&&this._blur(f,0,0,b);this._applyPMREM(f);this._cleanup(f);return f}fromEquirectangular(a,b=null){return this._fromTexture(a,b)}fromCubemap(a,b=null){return this._fromTexture(a,b)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=jb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=ja(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose();
null!==this._cubemapMaterial&&this._cubemapMaterial.dispose();null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a));this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose();null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(Gi);a.scissorTest=!1;Pa(a,0,0,a.width,
a.height)}_fromTexture(a,b){301===a.mapping||302===a.mapping?this._setSize(0===a.image.length?16:a.image[0].width||a.image[0].image.width):this._setSize(a.image.width/4);Gi=this._renderer.getRenderTarget();b=b||this._allocateTargets();this._textureToCubeUV(a,b);this._applyPMREM(b);this._cleanup(b);return b}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),b=4*this._cubeSize;var c={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3E3,depthBuffer:!1};const e=Va(a,
b,c);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==a||this._pingPongRenderTarget.height!==b){null!==this._pingPongRenderTarget&&this._dispose();this._pingPongRenderTarget=Va(a,b,c);var {_lodMax:f}=this;c=f;var l=[];const G=[],R=[];let S=c;const V=c-4+1+Ej.length;for(let ia=0;ia<V;ia++){var n=Math.pow(2,S);G.push(n);var v=1/n;ia>c-4?v=Ej[ia-c+4-1]:0===ia&&(v=0);R.push(v);v=1/(n-2);n=-v;v=1+v;var E=[n,n,v,n,v,v,n,n,v,v,n,v];n=new Float32Array(108);v=new Float32Array(72);const ha=
new Float32Array(36);for(let Q=0;6>Q;Q++){const la=Q%3*2/3-1,Xa=2<Q?0:-1;n.set([la,Xa,0,la+2/3,Xa,0,la+2/3,Xa+1,0,la,Xa,0,la+2/3,Xa+1,0,la,Xa+1,0],18*Q);v.set(E,12*Q);ha.set([Q,Q,Q,Q,Q,Q],6*Q)}E=new td;E.setAttribute("position",new Td(n,3));E.setAttribute("uv",new Td(v,2));E.setAttribute("faceIndex",new Td(ha,1));l.push(E);4<S&&S--}({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}={lodPlanes:l,sizeLods:G,sigmas:R});c=f;f=new Float32Array(20);l=new Ga(0,1,0);this._blurMaterial=
new ff({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/b,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:f},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l}},vertexShader:Ya(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include \x3ccube_uv_reflection_fragment\x3e\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta \x3d cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection \x3d vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis \x3d latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis \x3d vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis \x3d normalize( axis );\n\n\t\t\t\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb +\x3d weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i \x3d 1; i \x3c n; i++ ) {\n\n\t\t\t\t\tif ( i \x3e\x3d samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta \x3d dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}return e}_compileMaterial(a){a=new ze(this._lodPlanes[0],a);this._renderer.compile(a,Fi)}_sceneToCubeUV(a,b,c,e){b=new De(90,1,b,c);c=[1,-1,1,1,1,1];const f=[1,1,1,-1,-1,-1],l=this._renderer,n=l.autoClear,v=l.toneMapping;l.getClearColor(Fj);l.toneMapping=0;l.autoClear=!1;var E=new Kf({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1});const G=new ze(new Pf,E);let R=!1;const S=a.background;S?S.isColor&&(E.color.copy(S),a.background=null,R=!0):(E.color.copy(Fj),
R=!0);for(E=0;6>E;E++){const V=E%3;0===V?(b.up.set(0,c[E],0),b.lookAt(f[E],0,0)):1===V?(b.up.set(0,0,c[E]),b.lookAt(0,f[E],0)):(b.up.set(0,c[E],0),b.lookAt(0,0,f[E]));const ia=this._cubeSize;Pa(e,V*ia,2<E?ia:0,ia,ia);l.setRenderTarget(e);R&&l.render(G,b);l.render(a,b)}G.geometry.dispose();G.material.dispose();l.toneMapping=v;l.autoClear=n;a.background=S}_textureToCubeUV(a,b){const c=this._renderer;var e=301===a.mapping||302===a.mapping;e?(null===this._cubemapMaterial&&(this._cubemapMaterial=jb()),
this._cubemapMaterial.uniforms.flipEnvMap.value=!1===a.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=ja());const f=e?this._cubemapMaterial:this._equirectMaterial;e=new ze(this._lodPlanes[0],f);f.uniforms.envMap.value=a;a=this._cubeSize;Pa(b,0,0,3*a,2*a);c.setRenderTarget(b);c.render(e,Fi)}_applyPMREM(a){const b=this._renderer,c=b.autoClear;b.autoClear=!1;for(let e=1;e<this._lodPlanes.length;e++)this._blur(a,e-1,e,Math.sqrt(this._sigmas[e]*this._sigmas[e]-this._sigmas[e-
1]*this._sigmas[e-1]),Gj[(e-1)%Gj.length]);b.autoClear=c}_blur(a,b,c,e,f){const l=this._pingPongRenderTarget;this._halfBlur(a,l,b,c,e,"latitudinal",f);this._halfBlur(l,a,c,c,e,"longitudinal",f)}_halfBlur(a,b,c,e,f,l,n){const v=this._renderer;var E=this._blurMaterial;"latitudinal"!==l&&"longitudinal"!==l&&console.error("blur direction must be either latitudinal or longitudinal!");const G=new ze(this._lodPlanes[e],E);E=E.uniforms;var R=this._sizeLods[c]-1;R=isFinite(f)?Math.PI/(2*R):2*Math.PI/39;var S=
f/R;const V=isFinite(f)?1+Math.floor(3*S):20;20<V&&console.warn(`sigmaRadians, ${f}, is too large and will clip, as it requested ${V} samples when the maximum is set to ${20}`);f=[];let ia=0;for(let Q=0;20>Q;++Q){var ha=Q/S;ha=Math.exp(-ha*ha/2);f.push(ha);0===Q?ia+=ha:Q<V&&(ia+=2*ha)}for(S=0;S<f.length;S++)f[S]/=ia;E.envMap.value=a.texture;E.samples.value=V;E.weights.value=f;E.latitudinal.value="latitudinal"===l;n&&(E.poleAxis.value=n);({_lodMax:a}=this);E.dTheta.value=R;E.mipInt.value=a-c;c=this._sizeLods[e];
Pa(b,3*c*(e>a-4?e-a+4:0),4*(this._cubeSize-c),3*c,2*c);v.setRenderTarget(b);v.render(G,Fi)}}const rj=new ie,uj=new Qf,sj=new Xf,tj=new Yg,mj=[],nj=[],qj=new Float32Array(16),pj=new Float32Array(9),oj=new Float32Array(4);class wl{constructor(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=Qc(b.type)}}class xl{constructor(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=Hc(b.type)}}class yl{constructor(a){this.id=a;this.seq=[];this.map={}}setValue(a,b,c){const e=this.seq;
for(let f=0,l=e.length;f!==l;++f){const n=e[f];n.setValue(a,b[n.id],c)}}}const Hi=/(\w+)(\])?(\[|\.)?/g;class qh{constructor(a,b){this.seq=[];this.map={};const c=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(let G=0;G<c;++G){var e=a.getActiveUniform(b,G),f=a.getUniformLocation(b,e.name),l=this,n=e.name;const R=n.length;for(Hi.lastIndex=0;;){const S=Hi.exec(n),V=Hi.lastIndex;var v=S[1],E=S[3];"]"===S[2]&&(v|=0);if(void 0===E||"["===E&&V+2===R){n=l;e=void 0===E?new wl(v,e,f):new xl(v,e,f);n.seq.push(e);
n.map[e.id]=e;break}else E=l.map[v],void 0===E&&(E=new yl(v),v=l,l=E,v.seq.push(l),v.map[l.id]=l),l=E}}}setValue(a,b,c,e){b=this.map[b];void 0!==b&&b.setValue(a,c,e)}setOptional(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)}static upload(a,b,c,e){for(let f=0,l=b.length;f!==l;++f){const n=b[f],v=c[n.id];!1!==v.needsUpdate&&n.setValue(a,v.value,e)}}static seqWithValue(a,b){const c=[];for(let e=0,f=a.length;e!==f;++e){const l=a[e];l.id in b&&c.push(l)}return c}}let fl=0;const ri=/^[ \t]*#include +<([\w\d./]+)>/gm,
vj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;let zl=0;class gl{constructor(){this.shaderCache=new Map;this.materialCache=new Map}update(a){var b=a.fragmentShader;const c=this._getShaderStage(a.vertexShader);b=this._getShaderStage(b);a=this._getShaderCacheForMaterial(a);!1===a.has(c)&&(a.add(c),c.usedTimes++);!1===a.has(b)&&(a.add(b),b.usedTimes++);return this}remove(a){const b=this.materialCache.get(a);
for(const c of b)c.usedTimes--,0===c.usedTimes&&this.shaderCache.delete(c.code);this.materialCache.delete(a);return this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear();this.materialCache.clear()}_getShaderCacheForMaterial(a){const b=this.materialCache;let c=b.get(a);void 0===c&&(c=new Set,b.set(a,c));return c}_getShaderStage(a){const b=this.shaderCache;let c=b.get(a);void 0===
c&&(c=new Al(a),b.set(a,c));return c}}class Al{constructor(a){this.id=zl++;this.code=a;this.usedTimes=0}}let hl=0;class si extends Vd{constructor(a){super();this.isMeshDepthMaterial=!0;this.type="MeshDepthMaterial";this.depthPacking=3200;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.setValues(a)}copy(a){super.copy(a);this.depthPacking=a.depthPacking;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=
a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this}}class ti extends Vd{constructor(a){super();this.isMeshDistanceMaterial=!0;this.type="MeshDistanceMaterial";this.referencePosition=new Ga;this.nearDistance=1;this.farDistance=1E3;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.setValues(a)}copy(a){super.copy(a);
this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this}}class Hj extends De{constructor(a=[]){super();this.isArrayCamera=!0;this.cameras=a}}class Cg extends eb{constructor(){super();this.isGroup=!0;this.type="Group"}}const Bl={type:"move"};class Ii{constructor(){this._hand=
this._grip=this._targetRay=null}getHandSpace(){null===this._hand&&(this._hand=new Cg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1});return this._hand}getTargetRaySpace(){null===this._targetRay&&(this._targetRay=new Cg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ga,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ga);return this._targetRay}getGripSpace(){null===
this._grip&&(this._grip=new Cg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ga,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ga);return this._grip}dispatchEvent(a){null!==this._targetRay&&this._targetRay.dispatchEvent(a);null!==this._grip&&this._grip.dispatchEvent(a);null!==this._hand&&this._hand.dispatchEvent(a);return this}connect(a){if(a&&a.hand){const b=this._hand;if(b)for(const c of a.hand.values())this._getHandJoint(b,
c)}this.dispatchEvent({type:"connected",data:a});return this}disconnect(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);return this}update(a,b,c){let e=null,f=null,l=null;const n=this._targetRay,v=this._grip,E=this._hand;if(a&&"visible-blurred"!==b.session.visibilityState){if(E&&a.hand){l=!0;for(var G of a.hand.values()){const R=b.getJointPose(G,c),S=this._getHandJoint(E,
G);null!==R&&(S.matrix.fromArray(R.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.jointRadius=R.radius);S.visible=null!==R}G=E.joints["index-finger-tip"].position.distanceTo(E.joints["thumb-tip"].position);E.inputState.pinching&&.025<G?(E.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!E.inputState.pinching&&.015>=G&&(E.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else null!==
v&&a.gripSpace&&(f=b.getPose(a.gripSpace,c),null!==f&&(v.matrix.fromArray(f.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),f.linearVelocity?(v.hasLinearVelocity=!0,v.linearVelocity.copy(f.linearVelocity)):v.hasLinearVelocity=!1,f.angularVelocity?(v.hasAngularVelocity=!0,v.angularVelocity.copy(f.angularVelocity)):v.hasAngularVelocity=!1));null!==n&&(e=b.getPose(a.targetRaySpace,c),null===e&&null!==f&&(e=f),null!==e&&(n.matrix.fromArray(e.transform.matrix),n.matrix.decompose(n.position,
n.rotation,n.scale),e.linearVelocity?(n.hasLinearVelocity=!0,n.linearVelocity.copy(e.linearVelocity)):n.hasLinearVelocity=!1,e.angularVelocity?(n.hasAngularVelocity=!0,n.angularVelocity.copy(e.angularVelocity)):n.hasAngularVelocity=!1,this.dispatchEvent(Bl)))}null!==n&&(n.visible=null!==e);null!==v&&(v.visible=null!==f);null!==E&&(E.visible=null!==l);return this}_getHandJoint(a,b){if(void 0===a.joints[b.jointName]){const c=new Cg;c.matrixAutoUpdate=!1;c.visible=!1;a.joints[b.jointName]=c;a.add(c)}return a.joints[b.jointName]}}
class Ij extends ie{constructor(a,b,c,e,f,l,n,v,E,G){G=void 0!==G?G:1026;if(1026!==G&&1027!==G)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&1026===G&&(c=1014);void 0===c&&1027===G&&(c=1020);super(null,e,f,l,n,v,G,c,E);this.isDepthTexture=!0;this.image={width:a,height:b};this.magFilter=void 0!==n?n:1003;this.minFilter=void 0!==v?v:1003;this.generateMipmaps=this.flipY=!1}}class il extends Yc{constructor(a,b){function c(dc){var vc=Mb.indexOf(dc.inputSource);
-1!==vc&&(vc=Ua[vc],void 0!==vc&&vc.dispatchEvent({type:dc.type,data:dc.inputSource}))}function e(){v.removeEventListener("select",c);v.removeEventListener("selectstart",c);v.removeEventListener("selectend",c);v.removeEventListener("squeeze",c);v.removeEventListener("squeezestart",c);v.removeEventListener("squeezeend",c);v.removeEventListener("end",e);v.removeEventListener("inputsourceschange",f);for(let dc=0;dc<Ua.length;dc++){const vc=Mb[dc];null!==vc&&(Mb[dc]=null,Ua[dc].disconnect(vc))}bc=cc=
null;a.setRenderTarget($a);pb=v=ha=Q=la=null;ed.stop();n.isPresenting=!1;n.dispatchEvent({type:"sessionend"})}function f(dc){for(var vc=0;vc<dc.removed.length;vc++){var Ac=dc.removed[vc],Vc=Mb.indexOf(Ac);0<=Vc&&(Mb[Vc]=null,Ua[Vc].disconnect(Ac))}for(vc=0;vc<dc.added.length;vc++){Ac=dc.added[vc];Vc=Mb.indexOf(Ac);if(-1===Vc){for(let Lc=0;Lc<Ua.length;Lc++)if(Lc>=Mb.length){Mb.push(Ac);Vc=Lc;break}else if(null===Mb[Lc]){Mb[Lc]=Ac;Vc=Lc;break}if(-1===Vc)break}(Vc=Ua[Vc])&&Vc.connect(Ac)}}function l(dc,
vc){null===vc?dc.matrixWorld.copy(dc.matrix):dc.matrixWorld.multiplyMatrices(vc.matrixWorld,dc.matrix);dc.matrixWorldInverse.copy(dc.matrixWorld).invert()}super();const n=this;let v=null,E=1,G=null,R="local-floor",S=1,V=null,ia=null,ha=null,Q=null,la=null,Xa=null;const Ba=b.getContextAttributes();let $a=null,pb=null;const Ua=[],Mb=[],cb=new Set,vb=new Map,yb=new De;yb.layers.enable(1);yb.viewport=new Gd;const xb=new De;xb.layers.enable(2);xb.viewport=new Gd;const fc=[yb,xb],Zb=new Hj;Zb.layers.enable(1);
Zb.layers.enable(2);let cc=null,bc=null;this.cameraAutoUpdate=!0;this.isPresenting=this.enabled=!1;this.getController=function(dc){let vc=Ua[dc];void 0===vc&&(vc=new Ii,Ua[dc]=vc);return vc.getTargetRaySpace()};this.getControllerGrip=function(dc){let vc=Ua[dc];void 0===vc&&(vc=new Ii,Ua[dc]=vc);return vc.getGripSpace()};this.getHand=function(dc){let vc=Ua[dc];void 0===vc&&(vc=new Ii,Ua[dc]=vc);return vc.getHandSpace()};this.setFramebufferScaleFactor=function(dc){E=dc;!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};
this.setReferenceSpaceType=function(dc){R=dc;!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=function(){return V||G};this.setReferenceSpace=function(dc){V=dc};this.getBaseLayer=function(){return null!==Q?Q:la};this.getBinding=function(){return ha};this.getFrame=function(){return Xa};this.getSession=function(){return v};this.setSession=async function(dc){v=dc;if(null!==v){$a=a.getRenderTarget();v.addEventListener("select",
c);v.addEventListener("selectstart",c);v.addEventListener("selectend",c);v.addEventListener("squeeze",c);v.addEventListener("squeezestart",c);v.addEventListener("squeezeend",c);v.addEventListener("end",e);v.addEventListener("inputsourceschange",f);!0!==Ba.xrCompatible&&await b.makeXRCompatible();if(void 0===v.renderState.layers||!1===a.capabilities.isWebGL2)la=new XRWebGLLayer(v,b,{antialias:void 0===v.renderState.layers?Ba.antialias:!0,alpha:Ba.alpha,depth:Ba.depth,stencil:Ba.stencil,framebufferScaleFactor:E}),
v.updateRenderState({baseLayer:la}),pb=new Me(la.framebufferWidth,la.framebufferHeight,{format:1023,type:1009,encoding:a.outputEncoding,stencilBuffer:Ba.stencil});else{let Ac=dc=null;var vc=null;Ba.depth&&(vc=Ba.stencil?b.DEPTH24_STENCIL8:b.DEPTH_COMPONENT24,dc=Ba.stencil?1027:1026,Ac=Ba.stencil?1020:1014);vc={colorFormat:b.RGBA8,depthFormat:vc,scaleFactor:E};ha=new XRWebGLBinding(v,b);Q=ha.createProjectionLayer(vc);v.updateRenderState({layers:[Q]});pb=new Me(Q.textureWidth,Q.textureHeight,{format:1023,
type:1009,depthTexture:new Ij(Q.textureWidth,Q.textureHeight,Ac,void 0,void 0,void 0,void 0,void 0,void 0,dc),stencilBuffer:Ba.stencil,encoding:a.outputEncoding,samples:Ba.antialias?4:0});a.properties.get(pb).__ignoreDepthValues=Q.ignoreDepthValues}pb.isXRRenderTarget=!0;this.setFoveation(S);V=null;G=await v.requestReferenceSpace(R);ed.setContext(v);ed.start();n.isPresenting=!0;n.dispatchEvent({type:"sessionstart"})}};const Cc=new Ga,Mc=new Ga;this.updateCamera=function(dc){if(null!==v){Zb.near=xb.near=
yb.near=dc.near;Zb.far=xb.far=yb.far=dc.far;if(cc!==Zb.near||bc!==Zb.far)v.updateRenderState({depthNear:Zb.near,depthFar:Zb.far}),cc=Zb.near,bc=Zb.far;var vc=dc.parent,Ac=Zb.cameras;l(Zb,vc);for(var Vc=0;Vc<Ac.length;Vc++)l(Ac[Vc],vc);Zb.matrixWorld.decompose(Zb.position,Zb.quaternion,Zb.scale);dc.matrix.copy(Zb.matrix);dc.matrix.decompose(dc.position,dc.quaternion,dc.scale);dc=dc.children;for(let hb=0,qc=dc.length;hb<qc;hb++)dc[hb].updateMatrixWorld(!0);if(2===Ac.length){Cc.setFromMatrixPosition(yb.matrixWorld);
Mc.setFromMatrixPosition(xb.matrixWorld);Ac=Cc.distanceTo(Mc);var Lc=yb.projectionMatrix.elements,ua=xb.projectionMatrix.elements,pa=Lc[14]/(Lc[10]-1);dc=Lc[14]/(Lc[10]+1);vc=(Lc[9]+1)/Lc[5];Vc=(Lc[9]-1)/Lc[5];var Na=(Lc[8]-1)/Lc[0],Ta=(ua[8]+1)/ua[0];ua=pa*Na;Lc=pa*Ta;Ta=Ac/(-Na+Ta);Na=Ta*-Na;yb.matrixWorld.decompose(Zb.position,Zb.quaternion,Zb.scale);Zb.translateX(Na);Zb.translateZ(Ta);Zb.matrixWorld.compose(Zb.position,Zb.quaternion,Zb.scale);Zb.matrixWorldInverse.copy(Zb.matrixWorld).invert();
pa+=Ta;Ta=dc+Ta;Zb.projectionMatrix.makePerspective(ua-Na,Lc+(Ac-Na),vc*dc/Ta*pa,Vc*dc/Ta*pa,pa,Ta)}else Zb.projectionMatrix.copy(yb.projectionMatrix)}};this.getCamera=function(){return Zb};this.getFoveation=function(){if(null!==Q||null!==la)return S};this.setFoveation=function(dc){S=dc;null!==Q&&(Q.fixedFoveation=dc);null!==la&&void 0!==la.fixedFoveation&&(la.fixedFoveation=dc)};this.getPlanes=function(){return cb};let Zc=null;const ed=new H;ed.setAnimationLoop(function(dc,vc){ia=vc.getViewerPose(V||
G);Xa=vc;if(null!==ia){var Ac=ia.views;null!==la&&(a.setRenderTargetFramebuffer(pb,la.framebuffer),a.setRenderTarget(pb));var Vc=!1;Ac.length!==Zb.cameras.length&&(Zb.cameras.length=0,Vc=!0);for(var Lc=0;Lc<Ac.length;Lc++){const Na=Ac[Lc];let Ta;if(null!==la)Ta=la.getViewport(Na);else{var ua=ha.getViewSubImage(Q,Na);Ta=ua.viewport;0===Lc&&(a.setRenderTargetTextures(pb,ua.colorTexture,Q.ignoreDepthValues?void 0:ua.depthStencilTexture),a.setRenderTarget(pb))}ua=fc[Lc];void 0===ua&&(ua=new De,ua.layers.enable(Lc),
ua.viewport=new Gd,fc[Lc]=ua);ua.matrix.fromArray(Na.transform.matrix);ua.projectionMatrix.fromArray(Na.projectionMatrix);ua.viewport.set(Ta.x,Ta.y,Ta.width,Ta.height);0===Lc&&Zb.matrix.copy(ua.matrix);!0===Vc&&Zb.cameras.push(ua)}}for(Ac=0;Ac<Ua.length;Ac++)Vc=Mb[Ac],Lc=Ua[Ac],null!==Vc&&void 0!==Lc&&Lc.update(Vc,vc,V||G);Zc&&Zc(dc,vc);if(vc.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:vc.detectedPlanes});dc=null;for(var pa of cb)vc.detectedPlanes.has(pa)||(null===dc&&(dc=[]),dc.push(pa));
if(null!==dc)for(const Na of dc)cb.delete(Na),vb.delete(Na),n.dispatchEvent({type:"planeremoved",data:Na});for(const Na of vc.detectedPlanes)cb.has(Na)?(pa=vb.get(Na),Na.lastChangedTime>pa&&(vb.set(Na,Na.lastChangedTime),n.dispatchEvent({type:"planechanged",data:Na}))):(cb.add(Na),vb.set(Na,vc.lastChangedTime),n.dispatchEvent({type:"planeadded",data:Na}))}Xa=null});this.setAnimationLoop=function(dc){Zc=dc};this.dispose=function(){}}}Object.defineProperties(kc.prototype,{physicallyCorrectLights:{get:function(){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");
return!this.useLegacyLights},set:function(a){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");this.useLegacyLights=!a}}});class Jj extends kc{}Jj.prototype.isWebGL1Renderer=!0;class Ji{constructor(a,b=2.5E-4){this.isFogExp2=!0;this.name="";this.color=new Ic(a);this.density=b}clone(){return new Ji(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ki{constructor(a,
b=1,c=1E3){this.isFog=!0;this.name="";this.color=new Ic(a);this.near=b;this.far=c}clone(){return new Ki(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Kj extends eb{constructor(){super();this.isScene=!0;this.type="Scene";this.fog=this.environment=this.background=null;this.backgroundBlurriness=0;this.backgroundIntensity=1;this.overrideMaterial=null;"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",
{detail:this}))}copy(a,b){super.copy(a,b);null!==a.background&&(this.background=a.background.clone());null!==a.environment&&(this.environment=a.environment.clone());null!==a.fog&&(this.fog=a.fog.clone());this.backgroundBlurriness=a.backgroundBlurriness;this.backgroundIntensity=a.backgroundIntensity;null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.matrixAutoUpdate=a.matrixAutoUpdate;return this}toJSON(a){a=super.toJSON(a);null!==this.fog&&(a.object.fog=this.fog.toJSON());
0<this.backgroundBlurriness&&(a.object.backgroundBlurriness=this.backgroundBlurriness);1!==this.backgroundIntensity&&(a.object.backgroundIntensity=this.backgroundIntensity);return a}get autoUpdate(){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.");return this.matrixWorldAutoUpdate}set autoUpdate(a){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.");this.matrixWorldAutoUpdate=a}}class Jh{constructor(a,b){this.isInterleavedBuffer=
!0;this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=J()}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this}copyAt(a,b,c){a*=this.stride;c*=b.stride;for(let e=0,f=this.stride;e<f;e++)this.array[a+e]=b.array[c+e];return this}set(a,b=0){this.array.set(a,
b);return this}clone(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=J());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new this.constructor(a,this.stride);a.setUsage(this.usage);return a}onUpload(a){this.onUploadCallback=a;return this}toJSON(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===
this.array.buffer._uuid&&(this.array.buffer._uuid=J());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer)));return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Je=new Ga;class Dg{constructor(a,b,c,e=!1){this.isInterleavedBufferAttribute=!0;this.name="";this.data=a;this.itemSize=b;this.offset=c;this.normalized=e}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(a){this.data.needsUpdate=
a}applyMatrix4(a){for(let b=0,c=this.data.count;b<c;b++)Je.fromBufferAttribute(this,b),Je.applyMatrix4(a),this.setXYZ(b,Je.x,Je.y,Je.z);return this}applyNormalMatrix(a){for(let b=0,c=this.count;b<c;b++)Je.fromBufferAttribute(this,b),Je.applyNormalMatrix(a),this.setXYZ(b,Je.x,Je.y,Je.z);return this}transformDirection(a){for(let b=0,c=this.count;b<c;b++)Je.fromBufferAttribute(this,b),Je.transformDirection(a),this.setXYZ(b,Je.x,Je.y,Je.z);return this}setX(a,b){this.normalized&&(b=p(b,this.array));this.data.array[a*
this.data.stride+this.offset]=b;return this}setY(a,b){this.normalized&&(b=p(b,this.array));this.data.array[a*this.data.stride+this.offset+1]=b;return this}setZ(a,b){this.normalized&&(b=p(b,this.array));this.data.array[a*this.data.stride+this.offset+2]=b;return this}setW(a,b){this.normalized&&(b=p(b,this.array));this.data.array[a*this.data.stride+this.offset+3]=b;return this}getX(a){a=this.data.array[a*this.data.stride+this.offset];this.normalized&&(a=k(a,this.array));return a}getY(a){a=this.data.array[a*
this.data.stride+this.offset+1];this.normalized&&(a=k(a,this.array));return a}getZ(a){a=this.data.array[a*this.data.stride+this.offset+2];this.normalized&&(a=k(a,this.array));return a}getW(a){a=this.data.array[a*this.data.stride+this.offset+3];this.normalized&&(a=k(a,this.array));return a}setXY(a,b,c){a=a*this.data.stride+this.offset;this.normalized&&(b=p(b,this.array),c=p(c,this.array));this.data.array[a+0]=b;this.data.array[a+1]=c;return this}setXYZ(a,b,c,e){a=a*this.data.stride+this.offset;this.normalized&&
(b=p(b,this.array),c=p(c,this.array),e=p(e,this.array));this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=e;return this}setXYZW(a,b,c,e,f){a=a*this.data.stride+this.offset;this.normalized&&(b=p(b,this.array),c=p(c,this.array),e=p(e,this.array),f=p(f,this.array));this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=e;this.data.array[a+3]=f;return this}clone(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");
a=[];for(let b=0;b<this.count;b++){const c=b*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)a.push(this.data.array[c+e])}return new Td(new this.array.constructor(a),this.itemSize,this.normalized)}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a));return new Dg(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");
a=[];for(let b=0;b<this.count;b++){const c=b*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)a.push(this.data.array[c+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}
class Li extends Vd{constructor(a){super();this.isSpriteMaterial=!0;this.type="SpriteMaterial";this.color=new Ic(16777215);this.alphaMap=this.map=null;this.rotation=0;this.fog=this.transparent=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}let Eg;const Zg=new Ga,Fg=new Ga,Gg=new Ga,ng=new Xb,Pg=new Xb,Aj=new gd,Kh=new Ga,$g=new Ga,
Lh=new Ga,Lj=new Xb,Mi=new Xb,Mj=new Xb;class Nj extends eb{constructor(a){super();this.isSprite=!0;this.type="Sprite";if(void 0===Eg){Eg=new td;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new Jh(b,5);Eg.setIndex([0,1,2,0,2,3]);Eg.setAttribute("position",new Dg(b,3,0,!1));Eg.setAttribute("uv",new Dg(b,2,3,!1))}this.geometry=Eg;this.material=void 0!==a?a:new Li;this.center=new Xb(.5,.5)}raycast(a,b){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');
Fg.setFromMatrixScale(this.matrixWorld);Aj.copy(a.camera.matrixWorld);this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld);Gg.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Fg.multiplyScalar(-Gg.z);var c=this.material.rotation;let e;if(0!==c){e=Math.cos(c);var f=Math.sin(c)}c=this.center;Sc(Kh.set(-.5,-.5,0),Gg,c,Fg,f,e);Sc($g.set(.5,-.5,0),Gg,c,Fg,f,e);Sc(Lh.set(.5,.5,0),Gg,c,Fg,f,e);Lj.set(0,0);Mi.set(1,
0);Mj.set(1,1);let l=a.ray.intersectTriangle(Kh,$g,Lh,!1,Zg);if(null===l&&(Sc($g.set(-.5,.5,0),Gg,c,Fg,f,e),Mi.set(0,1),l=a.ray.intersectTriangle(Kh,Lh,$g,!1,Zg),null===l))return;f=a.ray.origin.distanceTo(Zg);f<a.near||f>a.far||b.push({distance:f,point:Zg.clone(),uv:pd.getUV(Zg,Kh,$g,Lh,Lj,Mi,Mj,new Xb),face:null,object:this})}copy(a,b){super.copy(a,b);void 0!==a.center&&this.center.copy(a.center);this.material=a.material;return this}}const Mh=new Ga,Oj=new Ga;class Pj extends eb{constructor(){super();
this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}});this.autoUpdate=!0}copy(a){super.copy(a,!1);const b=a.levels;for(let c=0,e=b.length;c<e;c++){const f=b[c];this.addLevel(f.object.clone(),f.distance,f.hysteresis)}this.autoUpdate=a.autoUpdate;return this}addLevel(a,b=0,c=0){b=Math.abs(b);const e=this.levels;let f;for(f=0;f<e.length&&!(b<e[f].distance);f++);e.splice(f,0,{distance:b,hysteresis:c,object:a});this.add(a);return this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(a){const b=
this.levels;if(0<b.length){let c,e;c=1;for(e=b.length;c<e;c++){let f=b[c].distance;b[c].object.visible&&(f-=f*b[c].hysteresis);if(a<f)break}return b[c-1].object}return null}raycast(a,b){if(0<this.levels.length){Mh.setFromMatrixPosition(this.matrixWorld);const c=a.ray.origin.distanceTo(Mh);this.getObjectForDistance(c).raycast(a,b)}}update(a){const b=this.levels;if(1<b.length){Mh.setFromMatrixPosition(a.matrixWorld);Oj.setFromMatrixPosition(this.matrixWorld);a=Mh.distanceTo(Oj)/a.zoom;b[0].object.visible=
!0;let c,e;c=1;for(e=b.length;c<e;c++){let f=b[c].distance;b[c].object.visible&&(f-=f*b[c].hysteresis);if(a>=f)b[c-1].object.visible=!1,b[c].object.visible=!0;else break}for(this._currentLevel=c-1;c<e;c++)b[c].object.visible=!1}}toJSON(a){a=super.toJSON(a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];const b=this.levels;for(let c=0,e=b.length;c<e;c++){const f=b[c];a.object.levels.push({object:f.object.uuid,distance:f.distance,hysteresis:f.hysteresis})}return a}}const Qj=new Ga,
Rj=new Gd,Sj=new Gd,Cl=new Ga,Tj=new gd;class Uj extends ze{constructor(a,b){super(a,b);this.isSkinnedMesh=!0;this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new gd;this.bindMatrixInverse=new gd}copy(a,b){super.copy(a,b);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;return this}bind(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);
this.bindMatrix.copy(b);this.bindMatrixInverse.copy(b).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const a=new Gd,b=this.geometry.attributes.skinWeight;for(let c=0,e=b.count;c<e;c++){a.fromBufferAttribute(b,c);const f=1/a.manhattanLength();Infinity!==f?a.multiplyScalar(f):a.set(1,0,0,0);b.setXYZW(c,a.x,a.y,a.z,a.w)}}updateMatrixWorld(a){super.updateMatrixWorld(a);"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():
console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(a,b){const c=this.skeleton;var e=this.geometry;Rj.fromBufferAttribute(e.attributes.skinIndex,a);Sj.fromBufferAttribute(e.attributes.skinWeight,a);Qj.copy(b).applyMatrix4(this.bindMatrix);b.set(0,0,0);for(a=0;4>a;a++)if(e=Sj.getComponent(a),0!==e){const f=Rj.getComponent(a);Tj.multiplyMatrices(c.bones[f].matrixWorld,c.boneInverses[f]);b.addScaledVector(Cl.copy(Qj).applyMatrix4(Tj),e)}return b.applyMatrix4(this.bindMatrixInverse)}}
class Ni extends eb{constructor(){super();this.isBone=!0;this.type="Bone"}}class Hg extends ie{constructor(a=null,b=1,c=1,e,f,l,n,v,E=1003,G=1003,R,S){super(null,l,n,v,E,G,e,f,R,S);this.isDataTexture=!0;this.image={data:a,width:b,height:c};this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}const Vj=new gd,Dl=new gd;class Oi{constructor(a=[],b=[]){this.uuid=J();this.bones=a.slice(0);this.boneInverses=b;this.boneTexture=this.boneMatrices=null;this.boneTextureSize=0;this.frame=-1;this.init()}init(){const a=
this.bones,b=this.boneInverses;this.boneMatrices=new Float32Array(16*a.length);if(0===b.length)this.calculateInverses();else if(a.length!==b.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.");this.boneInverses=[];for(let c=0,e=this.bones.length;c<e;c++)this.boneInverses.push(new gd)}}calculateInverses(){this.boneInverses.length=0;for(let a=0,b=this.bones.length;a<b;a++){const c=new gd;this.bones[a]&&c.copy(this.bones[a].matrixWorld).invert();this.boneInverses.push(c)}}pose(){for(let b=
0,c=this.bones.length;b<c;b++){var a=this.bones[b];a&&a.matrixWorld.copy(this.boneInverses[b]).invert()}for(let b=0,c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}update(){const a=this.bones,b=this.boneInverses,c=this.boneMatrices,e=this.boneTexture;for(let f=0,l=a.length;f<l;f++)Vj.multiplyMatrices(a[f]?a[f].matrixWorld:
Dl,b[f]),Vj.toArray(c,16*f);null!==e&&(e.needsUpdate=!0)}clone(){return new Oi(this.bones,this.boneInverses)}computeBoneTexture(){let a=Math.sqrt(4*this.bones.length);a=x(a);a=Math.max(a,4);const b=new Float32Array(a*a*4);b.set(this.boneMatrices);const c=new Hg(b,a,a,1023,1015);c.needsUpdate=!0;this.boneMatrices=b;this.boneTexture=c;this.boneTextureSize=a;return this}getBoneByName(a){for(let b=0,c=this.bones.length;b<c;b++){const e=this.bones[b];if(e.name===a)return e}}dispose(){null!==this.boneTexture&&
(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(a,b){this.uuid=a.uuid;for(let c=0,e=a.bones.length;c<e;c++){const f=a.bones[c];let l=b[f];void 0===l&&(console.warn("THREE.Skeleton: No bone found with UUID:",f),l=new Ni);this.bones.push(l);this.boneInverses.push((new gd).fromArray(a.boneInverses[c]))}this.init();return this}toJSON(){const a={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};a.uuid=this.uuid;const b=this.bones,c=this.boneInverses;
for(let e=0,f=b.length;e<f;e++)a.bones.push(b[e].uuid),a.boneInverses.push(c[e].toArray());return a}}class Ig extends Td{constructor(a,b,c,e=1){super(a,b,c);this.isInstancedBufferAttribute=!0;this.meshPerAttribute=e}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}toJSON(){const a=super.toJSON();a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}}const Wj=new gd,Xj=new gd,Nh=[],El=new gd,ah=new ze;class Yj extends ze{constructor(a,b,c){super(a,
b);this.isInstancedMesh=!0;this.instanceMatrix=new Ig(new Float32Array(16*c),16);this.instanceColor=null;this.count=c;this.frustumCulled=!1;for(a=0;a<c;a++)this.setMatrixAt(a,El)}copy(a,b){super.copy(a,b);this.instanceMatrix.copy(a.instanceMatrix);null!==a.instanceColor&&(this.instanceColor=a.instanceColor.clone());this.count=a.count;return this}getColorAt(a,b){b.fromArray(this.instanceColor.array,3*a)}getMatrixAt(a,b){b.fromArray(this.instanceMatrix.array,16*a)}raycast(a,b){const c=this.matrixWorld,
e=this.count;ah.geometry=this.geometry;ah.material=this.material;if(void 0!==ah.material)for(let f=0;f<e;f++){this.getMatrixAt(f,Wj);Xj.multiplyMatrices(c,Wj);ah.matrixWorld=Xj;ah.raycast(a,Nh);for(let l=0,n=Nh.length;l<n;l++){const v=Nh[l];v.instanceId=f;v.object=this;b.push(v)}Nh.length=0}}setColorAt(a,b){null===this.instanceColor&&(this.instanceColor=new Ig(new Float32Array(3*this.instanceMatrix.count),3));b.toArray(this.instanceColor.array,3*a)}setMatrixAt(a,b){b.toArray(this.instanceMatrix.array,
16*a)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ke extends Vd{constructor(a){super();this.isLineBasicMaterial=!0;this.type="LineBasicMaterial";this.color=new Ic(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.fog=a.fog;return this}}const Zj=new Ga,ak=new Ga,bk=new gd,Pi=new Jf,bh=new pf;class Lf extends eb{constructor(a=
new td,b=new Ke){super();this.isLine=!0;this.type="Line";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);this.material=a.material;this.geometry=a.geometry;return this}computeLineDistances(){const a=this.geometry;if(null===a.index){const b=a.attributes.position,c=[0];for(let e=1,f=b.count;e<f;e++)Zj.fromBufferAttribute(b,e-1),ak.fromBufferAttribute(b,e),c[e]=c[e-1],c[e]+=Zj.distanceTo(ak);a.setAttribute("lineDistance",new Pc(c,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
return this}raycast(a,b){var c=this.geometry,e=this.matrixWorld,f=a.params.Line.threshold,l=c.drawRange;null===c.boundingSphere&&c.computeBoundingSphere();bh.copy(c.boundingSphere);bh.applyMatrix4(e);bh.radius+=f;if(!1!==a.ray.intersectsSphere(bh)){bk.copy(e).invert();Pi.copy(a.ray).applyMatrix4(bk);e=f/((this.scale.x+this.scale.y+this.scale.z)/3);e*=e;f=new Ga;var n=new Ga,v=new Ga,E=new Ga,G=this.isLineSegments?2:1,R=c.index;c=c.attributes.position;if(null!==R){var S=Math.max(0,l.start);l=Math.min(R.count,
l.start+l.count);for(let V=S,ia=l-1;V<ia;V+=G)l=R.getX(V),S=R.getX(V+1),f.fromBufferAttribute(c,l),n.fromBufferAttribute(c,S),Pi.distanceSqToSegment(f,n,E,v)>e||(E.applyMatrix4(this.matrixWorld),l=a.ray.origin.distanceTo(E),l<a.near||l>a.far||b.push({distance:l,point:v.clone().applyMatrix4(this.matrixWorld),index:V,face:null,faceIndex:null,object:this}))}else{R=Math.max(0,l.start);l=Math.min(c.count,l.start+l.count);for(let V=R,ia=l-1;V<ia;V+=G)f.fromBufferAttribute(c,V),n.fromBufferAttribute(c,V+
1),Pi.distanceSqToSegment(f,n,E,v)>e||(E.applyMatrix4(this.matrixWorld),l=a.ray.origin.distanceTo(E),l<a.near||l>a.far||b.push({distance:l,point:v.clone().applyMatrix4(this.matrixWorld),index:V,face:null,faceIndex:null,object:this}))}}}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,e=a.length;c<e;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=
c}}}const ck=new Ga,dk=new Ga;class sf extends Lf{constructor(a,b){super(a,b);this.isLineSegments=!0;this.type="LineSegments"}computeLineDistances(){const a=this.geometry;if(null===a.index){const b=a.attributes.position,c=[];for(let e=0,f=b.count;e<f;e+=2)ck.fromBufferAttribute(b,e),dk.fromBufferAttribute(b,e+1),c[e]=0===e?0:c[e-1],c[e+1]=c[e]+ck.distanceTo(dk);a.setAttribute("lineDistance",new Pc(c,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
return this}}class ek extends Lf{constructor(a,b){super(a,b);this.isLineLoop=!0;this.type="LineLoop"}}class Qi extends Vd{constructor(a){super();this.isPointsMaterial=!0;this.type="PointsMaterial";this.color=new Ic(16777215);this.alphaMap=this.map=null;this.size=1;this.fog=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}const fk=new gd,
Ai=new Jf,ch=new pf,Oh=new Ga;class gk extends eb{constructor(a=new td,b=new Qi){super();this.isPoints=!0;this.type="Points";this.geometry=a;this.material=b;this.updateMorphTargets()}copy(a,b){super.copy(a,b);this.material=a.material;this.geometry=a.geometry;return this}raycast(a,b){var c=this.geometry;const e=this.matrixWorld;var f=a.params.Points.threshold,l=c.drawRange;null===c.boundingSphere&&c.computeBoundingSphere();ch.copy(c.boundingSphere);ch.applyMatrix4(e);ch.radius+=f;if(!1!==a.ray.intersectsSphere(ch)){fk.copy(e).invert();
Ai.copy(a.ray).applyMatrix4(fk);f/=(this.scale.x+this.scale.y+this.scale.z)/3;f*=f;var n=c.index;c=c.attributes.position;if(null!==n){const v=Math.max(0,l.start);l=Math.min(n.count,l.start+l.count);for(let E=v,G=l;E<G;E++)l=n.getX(E),Oh.fromBufferAttribute(c,l),Xc(Oh,l,f,e,a,b,this)}else{n=Math.max(0,l.start);l=Math.min(c.count,l.start+l.count);for(let v=n,E=l;v<E;v++)Oh.fromBufferAttribute(c,v),Xc(Oh,v,f,e,a,b,this)}}}updateMorphTargets(){var a=this.geometry.morphAttributes,b=Object.keys(a);if(0<
b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,e=a.length;c<e;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}}class Fl extends ie{constructor(a,b,c,e,f,l,n,v,E){function G(){R.needsUpdate=!0;a.requestVideoFrameCallback(G)}super(a,b,c,e,f,l,n,v,E);this.isVideoTexture=!0;this.minFilter=void 0!==l?l:1006;this.magFilter=void 0!==f?f:1006;this.generateMipmaps=!1;const R=this;"requestVideoFrameCallback"in
a&&a.requestVideoFrameCallback(G)}clone(){return(new this.constructor(this.image)).copy(this)}update(){const a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Gl extends ie{constructor(a,b,c){super({width:a,height:b});this.isFramebufferTexture=!0;this.format=c;this.minFilter=this.magFilter=1003;this.generateMipmaps=!1;this.needsUpdate=!0}}class Ri extends ie{constructor(a,b,c,e,f,l,n,v,E,G,R,S){super(null,l,n,v,E,G,e,f,R,S);this.isCompressedTexture=
!0;this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}}class Hl extends Ri{constructor(a,b,c,e,f,l){super(a,b,c,f,l);this.isCompressedArrayTexture=!0;this.image.depth=e;this.wrapR=1001}}class Il extends ie{constructor(a,b,c,e,f,l,n,v,E){super(a,b,c,e,f,l,n,v,E);this.needsUpdate=this.isCanvasTexture=!0}}class df{constructor(){this.type="Curve";this.arcLengthDivisions=200}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.");return null}getPointAt(a,b){a=
this.getUtoTmapping(a);return this.getPoint(a,b)}getPoints(a=5){const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));return b}getSpacedPoints(a=5){const b=[];for(let c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b}getLength(){const a=this.getLengths();return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const b=[];let c,e=this.getPoint(0),f=0;b.push(0);for(let l=
1;l<=a;l++)c=this.getPoint(l/a),f+=c.distanceTo(e),b.push(f),e=c;return this.cacheArcLengths=b}updateArcLengths(){this.needsUpdate=!0;this.getLengths()}getUtoTmapping(a,b){const c=this.getLengths(),e=c.length;b=b?b:a*c[e-1];var f=0;let l=e-1,n;for(;f<=l;)if(a=Math.floor(f+(l-f)/2),n=c[a]-b,0>n)f=a+1;else if(0<n)l=a-1;else{l=a;break}a=l;if(c[a]===b)return a/(e-1);f=c[a];return(a+(b-f)/(c[a+1]-f))/(e-1)}getTangent(a,b){var c=a-1E-4;a+=1E-4;0>c&&(c=0);1<a&&(a=1);c=this.getPoint(c);a=this.getPoint(a);
b=b||(c.isVector2?new Xb:new Ga);b.copy(a).sub(c).normalize();return b}getTangentAt(a,b){a=this.getUtoTmapping(a);return this.getTangent(a,b)}computeFrenetFrames(a,b){var c=new Ga;const e=[],f=[],l=[];var n=new Ga;const v=new gd;for(var E=0;E<=a;E++)e[E]=this.getTangentAt(E/a,new Ga);f[0]=new Ga;l[0]=new Ga;E=Number.MAX_VALUE;const G=Math.abs(e[0].x),R=Math.abs(e[0].y),S=Math.abs(e[0].z);G<=E&&(E=G,c.set(1,0,0));R<=E&&(E=R,c.set(0,1,0));S<=E&&c.set(0,0,1);n.crossVectors(e[0],c).normalize();f[0].crossVectors(e[0],
n);l[0].crossVectors(e[0],f[0]);for(c=1;c<=a;c++)f[c]=f[c-1].clone(),l[c]=l[c-1].clone(),n.crossVectors(e[c-1],e[c]),n.length()>Number.EPSILON&&(n.normalize(),E=Math.acos(r(e[c-1].dot(e[c]),-1,1)),f[c].applyMatrix4(v.makeRotationAxis(n,E))),l[c].crossVectors(e[c],f[c]);if(!0===b)for(b=Math.acos(r(f[0].dot(f[a]),-1,1)),b/=a,0<e[0].dot(n.crossVectors(f[0],f[a]))&&(b=-b),n=1;n<=a;n++)f[n].applyMatrix4(v.makeRotationAxis(e[n],b*n)),l[n].crossVectors(e[n],f[n]);return{tangents:e,normals:f,binormals:l}}clone(){return(new this.constructor).copy(this)}copy(a){this.arcLengthDivisions=
a.arcLengthDivisions;return this}toJSON(){const a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a}fromJSON(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}}class Ph extends df{constructor(a=0,b=0,c=1,e=1,f=0,l=2*Math.PI,n=!1,v=0){super();this.isEllipseCurve=!0;this.type="EllipseCurve";this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=e;this.aStartAngle=f;this.aEndAngle=l;this.aClockwise=n;this.aRotation=
v}getPoint(a,b){b=b||new Xb;for(var c=2*Math.PI,e=this.aEndAngle-this.aStartAngle,f=Math.abs(e)<Number.EPSILON;0>e;)e+=c;for(;e>c;)e-=c;e<Number.EPSILON&&(e=f?0:c);!0!==this.aClockwise||f||(e=e===c?-c:e-c);c=this.aStartAngle+a*e;a=this.aX+this.xRadius*Math.cos(c);var l=this.aY+this.yRadius*Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),e=Math.sin(this.aRotation),f=a-this.aX,l-=this.aY,a=f*c-l*e+this.aX,l=f*e+l*c+this.aY);return b.set(a,l)}copy(a){super.copy(a);this.aX=a.aX;this.aY=a.aY;
this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}toJSON(){const a=super.toJSON();a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a}fromJSON(a){super.fromJSON(a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;
this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}}class hk extends Ph{constructor(a,b,c,e,f,l){super(a,b,c,c,e,f,l);this.isArcCurve=!0;this.type="ArcCurve"}}const Qh=new Ga,Si=new Fb,Ti=new Fb,Ui=new Fb;class ik extends df{constructor(a=[],b=!1,c="centripetal",e=.5){super();this.isCatmullRomCurve3=!0;this.type="CatmullRomCurve3";this.points=a;this.closed=b;this.curveType=c;this.tension=e}getPoint(a,b=new Ga){var c=this.points,
e=c.length;a*=e-(this.closed?0:1);var f=Math.floor(a);a-=f;this.closed?f+=0<f?0:(Math.floor(Math.abs(f)/e)+1)*e:0===a&&f===e-1&&(f=e-2,a=1);let l;this.closed||0<f?l=c[(f-1)%e]:(Qh.subVectors(c[0],c[1]).add(c[0]),l=Qh);const n=c[f%e],v=c[(f+1)%e];this.closed||f+2<e?c=c[(f+2)%e]:(Qh.subVectors(c[e-1],c[e-2]).add(c[e-1]),c=Qh);if("centripetal"===this.curveType||"chordal"===this.curveType){var E="chordal"===this.curveType?.5:.25;e=Math.pow(l.distanceToSquared(n),E);f=Math.pow(n.distanceToSquared(v),E);
E=Math.pow(v.distanceToSquared(c),E);1E-4>f&&(f=1);1E-4>e&&(e=f);1E-4>E&&(E=f);Si.initNonuniformCatmullRom(l.x,n.x,v.x,c.x,e,f,E);Ti.initNonuniformCatmullRom(l.y,n.y,v.y,c.y,e,f,E);Ui.initNonuniformCatmullRom(l.z,n.z,v.z,c.z,e,f,E)}else"catmullrom"===this.curveType&&(Si.initCatmullRom(l.x,n.x,v.x,c.x,this.tension),Ti.initCatmullRom(l.y,n.y,v.y,c.y,this.tension),Ui.initCatmullRom(l.z,n.z,v.z,c.z,this.tension));b.set(Si.calc(a),Ti.calc(a),Ui.calc(a));return b}copy(a){super.copy(a);this.points=[];for(let b=
0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}toJSON(){const a=super.toJSON();a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a}fromJSON(a){super.fromJSON(a);this.points=[];for(let b=0,c=a.points.length;b<c;b++){const e=a.points[b];this.points.push((new Ga).fromArray(e))}this.closed=
a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}}class Vi extends df{constructor(a=new Xb,b=new Xb,c=new Xb,e=new Xb){super();this.isCubicBezierCurve=!0;this.type="CubicBezierCurve";this.v0=a;this.v1=b;this.v2=c;this.v3=e}getPoint(a,b=new Xb){const c=this.v0,e=this.v1,f=this.v2,l=this.v3;b.set(Bc(a,c.x,e.x,f.x,l.x),Bc(a,c.y,e.y,f.y,l.y));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();
a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class jk extends df{constructor(a=new Ga,b=new Ga,c=new Ga,e=new Ga){super();this.isCubicBezierCurve3=!0;this.type="CubicBezierCurve3";this.v0=a;this.v1=b;this.v2=c;this.v3=e}getPoint(a,b=new Ga){const c=this.v0,e=this.v1,f=this.v2,l=this.v3;b.set(Bc(a,c.x,e.x,
f.x,l.x),Bc(a,c.y,e.y,f.y,l.y),Bc(a,c.z,e.z,f.z,l.z));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class Rh extends df{constructor(a=new Xb,b=new Xb){super();
this.isLineCurve=!0;this.type="LineCurve";this.v1=a;this.v2=b}getPoint(a,b=new Xb){1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b}getPointAt(a,b){return this.getPoint(a,b)}getTangent(a,b=new Xb){return b.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,b){return this.getTangent(a,b)}copy(a){super.copy(a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);
this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class kk extends df{constructor(a=new Ga,b=new Ga){super();this.isLineCurve3=!0;this.type="LineCurve3";this.v1=a;this.v2=b}getPoint(a,b=new Ga){1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b}getPointAt(a,b){return this.getPoint(a,b)}getTangent(a,b=new Ga){return b.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,b){return this.getTangent(a,b)}copy(a){super.copy(a);this.v1.copy(a.v1);
this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Wi extends df{constructor(a=new Xb,b=new Xb,c=new Xb){super();this.isQuadraticBezierCurve=!0;this.type="QuadraticBezierCurve";this.v0=a;this.v1=b;this.v2=c}getPoint(a,b=new Xb){const c=this.v0,e=this.v1,f=this.v2;b.set(xc(a,c.x,e.x,f.x),xc(a,c.y,e.y,f.y));return b}copy(a){super.copy(a);
this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Xi extends df{constructor(a=new Ga,b=new Ga,c=new Ga){super();this.isQuadraticBezierCurve3=!0;this.type="QuadraticBezierCurve3";this.v0=a;this.v1=b;this.v2=c}getPoint(a,b=new Ga){const c=this.v0,e=this.v1,
f=this.v2;b.set(xc(a,c.x,e.x,f.x),xc(a,c.y,e.y,f.y),xc(a,c.z,e.z,f.z));return b}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Yi extends df{constructor(a=[]){super();this.isSplineCurve=!0;this.type="SplineCurve";this.points=a}getPoint(a,
b=new Xb){var c=this.points,e=(c.length-1)*a;a=Math.floor(e);e-=a;const f=c[0===a?a:a-1],l=c[a],n=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(hd(e,f.x,l.x,n.x,c.x),hd(e,f.y,l.y,n.y,c.y));return b}copy(a){super.copy(a);this.points=[];for(let b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());return this}toJSON(){const a=super.toJSON();a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());return a}fromJSON(a){super.fromJSON(a);
this.points=[];for(let b=0,c=a.points.length;b<c;b++){const e=a.points[b];this.points.push((new Xb).fromArray(e))}return this}}var Zi=Object.freeze({__proto__:null,ArcCurve:hk,CatmullRomCurve3:ik,CubicBezierCurve:Vi,CubicBezierCurve3:jk,EllipseCurve:Ph,LineCurve:Rh,LineCurve3:kk,QuadraticBezierCurve:Wi,QuadraticBezierCurve3:Xi,SplineCurve:Yi});class lk extends df{constructor(){super();this.type="CurvePath";this.curves=[];this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),
b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new Rh(b,a))}getPoint(a,b){var c=a*this.getLength(),e=this.getCurveLengths();for(a=0;a<e.length;){if(e[a]>=c)return c=e[a]-c,a=this.curves[a],e=a.getLength(),a.getPointAt(0===e?0:1-c/e,b);a++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;
const a=[];let b=0;for(let c=0,e=this.curves.length;c<e;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a}getSpacedPoints(a=40){const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b}getPoints(a=12){const b=[];let c;for(let f=0,l=this.curves;f<l.length;f++){var e=l[f];e=e.getPoints(e.isEllipseCurve?2*a:e.isLineCurve||e.isLineCurve3?1:e.isSplineCurve?a*e.points.length:a);for(let n=0;n<e.length;n++){const v=e[n];c&&c.equals(v)||(b.push(v),
c=v)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b}copy(a){super.copy(a);this.curves=[];for(let b=0,c=a.curves.length;b<c;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;return this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose;a.curves=[];for(let b=0,c=this.curves.length;b<c;b++)a.curves.push(this.curves[b].toJSON());return a}fromJSON(a){super.fromJSON(a);this.autoClose=a.autoClose;this.curves=[];for(let b=0,c=a.curves.length;b<
c;b++){const e=a.curves[b];this.curves.push((new Zi[e.type]).fromJSON(e))}return this}}class dh extends lk{constructor(a){super();this.type="Path";this.currentPoint=new Xb;a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(let b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y);return this}moveTo(a,b){this.currentPoint.set(a,b);return this}lineTo(a,b){const c=new Rh(this.currentPoint.clone(),new Xb(a,b));this.curves.push(c);this.currentPoint.set(a,b);return this}quadraticCurveTo(a,
b,c,e){a=new Wi(this.currentPoint.clone(),new Xb(a,b),new Xb(c,e));this.curves.push(a);this.currentPoint.set(c,e);return this}bezierCurveTo(a,b,c,e,f,l){a=new Vi(this.currentPoint.clone(),new Xb(a,b),new Xb(c,e),new Xb(f,l));this.curves.push(a);this.currentPoint.set(f,l);return this}splineThru(a){var b=[this.currentPoint.clone()].concat(a);b=new Yi(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1]);return this}arc(a,b,c,e,f,l){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,e,
f,l);return this}absarc(a,b,c,e,f,l){this.absellipse(a,b,c,c,e,f,l);return this}ellipse(a,b,c,e,f,l,n,v){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,e,f,l,n,v);return this}absellipse(a,b,c,e,f,l,n,v){a=new Ph(a,b,c,e,f,l,n,v);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);return this}copy(a){super.copy(a);this.currentPoint.copy(a.currentPoint);return this}toJSON(){const a=super.toJSON();
a.currentPoint=this.currentPoint.toArray();return a}fromJSON(a){super.fromJSON(a);this.currentPoint.fromArray(a.currentPoint);return this}}class eh extends td{constructor(a=[new Xb(0,-.5),new Xb(.5,0),new Xb(0,.5)],b=12,c=0,e=2*Math.PI){super();this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:e};b=Math.floor(b);e=r(e,0,2*Math.PI);const f=[],l=[],n=[];var v=[];const E=[];var G=1/b,R=new Ga,S=new Xb,V=new Ga,ia=new Ga,ha=new Ga;let Q;for(let Xa=0;Xa<=a.length-1;Xa++)switch(Xa){case 0:var la=
a[Xa+1].x-a[Xa].x;Q=a[Xa+1].y-a[Xa].y;V.x=1*Q;V.y=-la;V.z=0*Q;ha.copy(V);V.normalize();v.push(V.x,V.y,V.z);break;case a.length-1:v.push(ha.x,ha.y,ha.z);break;default:la=a[Xa+1].x-a[Xa].x,Q=a[Xa+1].y-a[Xa].y,V.x=1*Q,V.y=-la,V.z=0*Q,ia.copy(V),V.x+=ha.x,V.y+=ha.y,V.z+=ha.z,V.normalize(),v.push(V.x,V.y,V.z),ha.copy(ia)}for(V=0;V<=b;V++)for(ha=c+V*G*e,ia=Math.sin(ha),ha=Math.cos(ha),la=0;la<=a.length-1;la++)R.x=a[la].x*ia,R.y=a[la].y,R.z=a[la].x*ha,l.push(R.x,R.y,R.z),S.x=V/b,S.y=la/(a.length-1),n.push(S.x,
S.y),E.push(v[3*la]*ia,v[3*la+1],v[3*la]*ha);for(c=0;c<b;c++)for(e=0;e<a.length-1;e++)v=e+c*a.length,G=v+a.length,R=v+a.length+1,S=v+1,f.push(v,G,S),f.push(R,S,G);this.setIndex(f);this.setAttribute("position",new Pc(l,3));this.setAttribute("uv",new Pc(n,2));this.setAttribute("normal",new Pc(E,3))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new eh(a.points,a.segments,a.phiStart,a.phiLength)}}class Sh extends eh{constructor(a=1,b=1,c=4,
e=8){const f=new dh;f.absarc(0,-b/2,a,1.5*Math.PI,0);f.absarc(0,b/2,a,0,.5*Math.PI);super(f.getPoints(c),e);this.type="CapsuleGeometry";this.parameters={radius:a,height:b,capSegments:c,radialSegments:e}}static fromJSON(a){return new Sh(a.radius,a.length,a.capSegments,a.radialSegments)}}class Th extends td{constructor(a=1,b=32,c=0,e=2*Math.PI){super();this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:e};b=Math.max(3,b);const f=[],l=[],n=[],v=[],E=new Ga,G=new Xb;
l.push(0,0,0);n.push(0,0,1);v.push(.5,.5);for(let R=0,S=3;R<=b;R++,S+=3){const V=c+R/b*e;E.x=a*Math.cos(V);E.y=a*Math.sin(V);l.push(E.x,E.y,E.z);n.push(0,0,1);G.x=(l[S]/a+1)/2;G.y=(l[S+1]/a+1)/2;v.push(G.x,G.y)}for(a=1;a<=b;a++)f.push(a,a+1,0);this.setIndex(f);this.setAttribute("position",new Pc(l,3));this.setAttribute("normal",new Pc(n,3));this.setAttribute("uv",new Pc(v,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Th(a.radius,
a.segments,a.thetaStart,a.thetaLength)}}class Jg extends td{constructor(a=1,b=1,c=1,e=32,f=1,l=!1,n=0,v=2*Math.PI){function E(Ba){const $a=ha;var pb=new Xb,Ua=new Ga;let Mb=0;var cb=!0===Ba?a:b;const vb=!0===Ba?1:-1;for(var yb=1;yb<=e;yb++)S.push(0,la*vb,0),V.push(0,vb,0),ia.push(.5,.5),ha++;yb=ha;for(let fc=0;fc<=e;fc++){var xb=fc/e*v+n;const Zb=Math.cos(xb);xb=Math.sin(xb);Ua.x=cb*xb;Ua.y=la*vb;Ua.z=cb*Zb;S.push(Ua.x,Ua.y,Ua.z);V.push(0,vb,0);pb.x=.5*Zb+.5;pb.y=.5*xb*vb+.5;ia.push(pb.x,pb.y);ha++}for(pb=
0;pb<e;pb++)Ua=$a+pb,cb=yb+pb,!0===Ba?R.push(cb,cb+1,Ua):R.push(cb+1,cb,Ua),Mb+=3;G.addGroup(Xa,Mb,!0===Ba?1:2);Xa+=Mb}super();this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:e,heightSegments:f,openEnded:l,thetaStart:n,thetaLength:v};const G=this;e=Math.floor(e);f=Math.floor(f);const R=[],S=[],V=[],ia=[];let ha=0;const Q=[],la=c/2;let Xa=0;(function(){var Ba=new Ga,$a=new Ga;let pb=0;var Ua=(b-a)/c;for(var Mb=0;Mb<=f;Mb++){var cb=[];const yb=Mb/f,xb=
yb*(b-a)+a;for(let fc=0;fc<=e;fc++){const Zb=fc/e;var vb=Zb*v+n;const cc=Math.sin(vb);vb=Math.cos(vb);$a.x=xb*cc;$a.y=-yb*c+la;$a.z=xb*vb;S.push($a.x,$a.y,$a.z);Ba.set(cc,Ua,vb).normalize();V.push(Ba.x,Ba.y,Ba.z);ia.push(Zb,1-yb);cb.push(ha++)}Q.push(cb)}for(Ba=0;Ba<e;Ba++)for($a=0;$a<f;$a++)Ua=Q[$a+1][Ba],Mb=Q[$a+1][Ba+1],cb=Q[$a][Ba+1],R.push(Q[$a][Ba],Ua,cb),R.push(Ua,Mb,cb),pb+=6;G.addGroup(Xa,pb,0);Xa+=pb})();!1===l&&(0<a&&E(!0),0<b&&E(!1));this.setIndex(R);this.setAttribute("position",new Pc(S,
3));this.setAttribute("normal",new Pc(V,3));this.setAttribute("uv",new Pc(ia,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Jg(a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Uh extends Jg{constructor(a=1,b=1,c=32,e=1,f=!1,l=0,n=2*Math.PI){super(0,a,b,c,e,f,l,n);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:e,openEnded:f,
thetaStart:l,thetaLength:n}}static fromJSON(a){return new Uh(a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Mf extends td{constructor(a=[],b=[],c=1,e=0){function f(G){v.push(G.x,G.y,G.z)}function l(G,R){G*=3;R.x=a[G+0];R.y=a[G+1];R.z=a[G+2]}function n(G,R,S,V){0>V&&1===G.x&&(E[R]=G.x-1);0===S.x&&0===S.z&&(E[R]=V/2/Math.PI+.5)}super();this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:e};const v=[],E=[];(function(G){const R=
new Ga,S=new Ga,V=new Ga;for(let la=0;la<b.length;la+=3){l(b[la+0],R);l(b[la+1],S);l(b[la+2],V);var ia=R,ha=S,Q=V;const Xa=G+1,Ba=[];for(let $a=0;$a<=Xa;$a++){Ba[$a]=[];const pb=ia.clone().lerp(Q,$a/Xa),Ua=ha.clone().lerp(Q,$a/Xa),Mb=Xa-$a;for(let cb=0;cb<=Mb;cb++)Ba[$a][cb]=0===cb&&$a===Xa?pb:pb.clone().lerp(Ua,cb/Mb)}for(ia=0;ia<Xa;ia++)for(ha=0;ha<2*(Xa-ia)-1;ha++)Q=Math.floor(ha/2),0===ha%2?(f(Ba[ia][Q+1]),f(Ba[ia+1][Q]),f(Ba[ia][Q])):(f(Ba[ia][Q+1]),f(Ba[ia+1][Q+1]),f(Ba[ia+1][Q]))}})(e);(function(G){const R=
new Ga;for(let S=0;S<v.length;S+=3)R.x=v[S+0],R.y=v[S+1],R.z=v[S+2],R.normalize().multiplyScalar(G),v[S+0]=R.x,v[S+1]=R.y,v[S+2]=R.z})(c);(function(){var G=new Ga;for(var R=0;R<v.length;R+=3)G.x=v[R+0],G.y=v[R+1],G.z=v[R+2],E.push(Math.atan2(G.z,-G.x)/2/Math.PI+.5,1-(Math.atan2(-G.y,Math.sqrt(G.x*G.x+G.z*G.z))/Math.PI+.5));G=new Ga;R=new Ga;var S=new Ga,V=new Ga,ia=new Xb;const ha=new Xb,Q=new Xb;for(let la=0,Xa=0;la<v.length;la+=9,Xa+=6){G.set(v[la+0],v[la+1],v[la+2]);R.set(v[la+3],v[la+4],v[la+
5]);S.set(v[la+6],v[la+7],v[la+8]);ia.set(E[Xa+0],E[Xa+1]);ha.set(E[Xa+2],E[Xa+3]);Q.set(E[Xa+4],E[Xa+5]);V.copy(G).add(R).add(S).divideScalar(3);const Ba=Math.atan2(V.z,-V.x);n(ia,Xa+0,G,Ba);n(ha,Xa+2,R,Ba);n(Q,Xa+4,S,Ba)}for(G=0;G<E.length;G+=6)R=E[G+0],S=E[G+2],V=E[G+4],ia=Math.min(R,S,V),.9<Math.max(R,S,V)&&.1>ia&&(.2>R&&(E[G+0]+=1),.2>S&&(E[G+2]+=1),.2>V&&(E[G+4]+=1))})();this.setAttribute("position",new Pc(v,3));this.setAttribute("normal",new Pc(v.slice(),3));this.setAttribute("uv",new Pc(E,
2));0===e?this.computeVertexNormals():this.normalizeNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Mf(a.vertices,a.indices,a.radius,a.details)}}class Vh extends Mf{constructor(a=1,b=0){const c=(1+Math.sqrt(5))/2,e=1/c;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-e,-c,0,-e,c,0,e,-c,0,e,c,-e,-c,0,-e,c,0,e,-c,0,e,c,0,-c,0,-e,c,0,-e,-c,0,e,c,0,e],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,
10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new Vh(a.radius,a.detail)}}const Wh=new Ga,Xh=new Ga,$i=new Ga,Yh=new pd;class mk extends td{constructor(a=null,b=1){super();this.type="EdgesGeometry";this.parameters={geometry:a,thresholdAngle:b};
if(null!==a){const e=Math.pow(10,4);b=Math.cos(fd*b);const f=a.getIndex();a=a.getAttribute("position");const l=f?f.count:a.count,n=[0,0,0],v=["a","b","c"],E=Array(3),G={},R=[];for(let S=0;S<l;S+=3){f?(n[0]=f.getX(S),n[1]=f.getX(S+1),n[2]=f.getX(S+2)):(n[0]=S,n[1]=S+1,n[2]=S+2);const {a:V,b:ia,c:ha}=Yh;V.fromBufferAttribute(a,n[0]);ia.fromBufferAttribute(a,n[1]);ha.fromBufferAttribute(a,n[2]);Yh.getNormal($i);E[0]=`${Math.round(V.x*e)},${Math.round(V.y*e)},${Math.round(V.z*e)}`;E[1]=`${Math.round(ia.x*
e)},${Math.round(ia.y*e)},${Math.round(ia.z*e)}`;E[2]=`${Math.round(ha.x*e)},${Math.round(ha.y*e)},${Math.round(ha.z*e)}`;if(E[0]!==E[1]&&E[1]!==E[2]&&E[2]!==E[0])for(let Q=0;3>Q;Q++){const la=(Q+1)%3;var c=E[Q];const Xa=E[la],Ba=Yh[v[Q]],$a=Yh[v[la]],pb=`${c}_${Xa}`;c=`${Xa}_${c}`;c in G&&G[c]?($i.dot(G[c].normal)<=b&&(R.push(Ba.x,Ba.y,Ba.z),R.push($a.x,$a.y,$a.z)),G[c]=null):pb in G||(G[pb]={index0:n[Q],index1:n[la],normal:$i.clone()})}}for(const S in G)if(G[S]){const {index0:V,index1:ia}=G[S];
Wh.fromBufferAttribute(a,V);Xh.fromBufferAttribute(a,ia);R.push(Wh.x,Wh.y,Wh.z);R.push(Xh.x,Xh.y,Xh.z)}this.setAttribute("position",new Pc(R,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}class dg extends dh{constructor(a){super(a);this.uuid=J();this.type="Shape";this.holes=[]}getPointsHoles(a){const b=[];for(let c=0,e=this.holes.length;c<e;c++)b[c]=this.holes[c].getPoints(a);return b}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a);
this.holes=[];for(let b=0,c=a.holes.length;b<c;b++)this.holes.push(a.holes[b].clone());return this}toJSON(){const a=super.toJSON();a.uuid=this.uuid;a.holes=[];for(let b=0,c=this.holes.length;b<c;b++)a.holes.push(this.holes[b].toJSON());return a}fromJSON(a){super.fromJSON(a);this.uuid=a.uuid;this.holes=[];for(let b=0,c=a.holes.length;b<c;b++){const e=a.holes[b];this.holes.push((new dh).fromJSON(e))}return this}}const Jl={triangulate:function(a,b,c=2){var e=b&&b.length;const f=e?b[0]*c:a.length;var l=
sc(a,0,f,c,!0);const n=[];if(!l||l.next===l.prev)return n;let v,E;var G;if(e){var R=l;l=[];var S;e=0;for(S=b.length;e<S;e++){var V=b[e]*c;var ia=e<S-1?b[e+1]*c:a.length;var ha=sc(a,V,ia,c,!1);ha===ha.next&&(ha.steiner=!0);V=l;ia=V.push;var Q=ha,la=ha;do{if(Q.x<la.x||Q.x===la.x&&Q.y<la.y)la=Q;Q=Q.next}while(Q!==ha);ia.call(V,la)}l.sort(Od);for(e=0;e<l.length;e++){S=void 0;b=l[e];b:{V=R;ia=-Infinity;ha=b.x;Q=b.y;do{if(Q<=V.y&&Q>=V.next.y&&V.next.y!==V.y&&(la=V.x+(Q-V.y)*(V.next.x-V.x)/(V.next.y-V.y),
la<=ha&&la>ia&&(ia=la,S=V.x<V.next.x?V:V.next,la===ha)))break b;V=V.next}while(V!==R);if(S){var Xa=S,Ba=S.x,$a=S.y,pb=Infinity;V=S;do{if(ha>=V.x&&V.x>=Ba&&ha!==V.x&&jd(Q<$a?ha:ia,Q,Ba,$a,Q<$a?ia:ha,Q,V.x,V.y)){la=Math.abs(Q-V.y)/(ha-V.x);var Ua;if((Ua=Kb(V,b))&&!(Ua=la<pb)&&(Ua=la===pb)&&!(Ua=V.x>S.x)&&(Ua=V.x===S.x)){Ua=S;var Mb=V;Ua=0>ad(Ua.prev,Ua,Mb.prev)&&0>ad(Mb.next,Ua,Ua.next)}Ua&&(S=V,pb=la)}V=V.next}while(V!==Xa)}else S=null}S&&(b=Vb(S,b),Jc(b,b.next),R=Jc(S,S.next))}l=R}if(a.length>80*
c){v=G=a[0];E=e=a[1];for(S=c;S<f;S+=c)b=a[S],R=a[S+1],b<v&&(v=b),R<E&&(E=R),b>G&&(G=b),R>e&&(e=R);G=Math.max(G-v,e-E);G=0!==G?32767/G:0}zc(l,n,c,v,E,G,0);return n}};class zf{static area(a){const b=a.length;let c=0;for(let e=b-1,f=0;f<b;e=f++)c+=a[e].x*a[f].y-a[f].x*a[e].y;return.5*c}static isClockWise(a){return 0>zf.area(a)}static triangulateShape(a,b){var c=[];const e=[],f=[];O(a);U(c,a);a=a.length;b.forEach(O);for(let l=0;l<b.length;l++)e.push(a),a+=b[l].length,U(c,b[l]);b=Jl.triangulate(c,e);for(c=
0;c<b.length;c+=3)f.push(b.slice(c,c+3));return f}}class Zh extends td{constructor(a=new dg([new Xb(.5,.5),new Xb(-.5,.5),new Xb(-.5,-.5),new Xb(.5,-.5)]),b={}){function c(n){function v(pa,Na,Ta){Na||console.error("THREE.ExtrudeGeometry: vec does not exist");return pa.clone().addScaledVector(Na,Ta)}function E(pa,Na,Ta){var hb=pa.x-Na.x;var qc=pa.y-Na.y;var Sa=Ta.x-pa.x;var Eb=Ta.y-pa.y,Qb=hb*hb+qc*qc;if(Math.abs(hb*Eb-qc*Sa)>Number.EPSILON){const Tb=Math.sqrt(Qb),ec=Math.sqrt(Sa*Sa+Eb*Eb);Qb=Na.x-
qc/Tb;Na=Na.y+hb/Tb;Eb=((Ta.x-Eb/ec-Qb)*Eb-(Ta.y+Sa/ec-Na)*Sa)/(hb*Eb-qc*Sa);Sa=Qb+hb*Eb-pa.x;hb=Na+qc*Eb-pa.y;qc=Sa*Sa+hb*hb;if(2>=qc)return new Xb(Sa,hb);qc=Math.sqrt(qc/2)}else pa=!1,hb>Number.EPSILON?Sa>Number.EPSILON&&(pa=!0):hb<-Number.EPSILON?Sa<-Number.EPSILON&&(pa=!0):Math.sign(qc)===Math.sign(Eb)&&(pa=!0),pa?(Sa=-qc,qc=Math.sqrt(Qb)):(Sa=hb,hb=qc,qc=Math.sqrt(Qb/2));return new Xb(Sa/qc,hb/qc)}function G(pa,Na){let Ta=pa.length;for(;0<=--Ta;){const Eb=Ta;let Qb=Ta-1;0>Qb&&(Qb=pa.length-1);
for(let Tb=0,ec=la+2*Mb;Tb<ec;Tb++){const Fc=ed*Tb;var hb=ed*(Tb+1),qc=Na+Qb+Fc,Sa=Na+Qb+hb;hb=Na+Eb+hb;V(Na+Eb+Fc);V(qc);V(hb);V(qc);V(Sa);V(hb);qc=f.length/3;qc=vb.generateSideWallUV(e,f,qc-6,qc-3,qc-2,qc-1);ia(qc[0]);ia(qc[1]);ia(qc[3]);ia(qc[1]);ia(qc[2]);ia(qc[3])}}}function R(pa,Na,Ta){ha.push(pa);ha.push(Na);ha.push(Ta)}function S(pa,Na,Ta){V(pa);V(Na);V(Ta);pa=f.length/3;pa=vb.generateTopUV(e,f,pa-3,pa-2,pa-1);ia(pa[0]);ia(pa[1]);ia(pa[2])}function V(pa){f.push(ha[3*pa]);f.push(ha[3*pa+1]);
f.push(ha[3*pa+2])}function ia(pa){l.push(pa.x);l.push(pa.y)}const ha=[];var Q=void 0!==b.curveSegments?b.curveSegments:12;const la=void 0!==b.steps?b.steps:1,Xa=void 0!==b.depth?b.depth:1;let Ba=void 0!==b.bevelEnabled?b.bevelEnabled:!0,$a=void 0!==b.bevelThickness?b.bevelThickness:.2,pb=void 0!==b.bevelSize?b.bevelSize:$a-.1,Ua=void 0!==b.bevelOffset?b.bevelOffset:0,Mb=void 0!==b.bevelSegments?b.bevelSegments:3;var cb=b.extrudePath;const vb=void 0!==b.UVGenerator?b.UVGenerator:Kl;let yb,xb=!1;if(cb){yb=
cb.getSpacedPoints(la);xb=!0;Ba=!1;var fc=cb.computeFrenetFrames(la,!1);var Zb=new Ga;var cc=new Ga;var bc=new Ga}Ba||(Ua=pb=$a=Mb=0);n=n.extractPoints(Q);cb=n.shape;const Cc=n.holes;if(!zf.isClockWise(cb)){cb=cb.reverse();for(let pa=0,Na=Cc.length;pa<Na;pa++)n=Cc[pa],zf.isClockWise(n)&&(Cc[pa]=n.reverse())}const Mc=zf.triangulateShape(cb,Cc),Zc=cb;for(let pa=0,Na=Cc.length;pa<Na;pa++)cb=cb.concat(Cc[pa]);const ed=cb.length,dc=Mc.length;n=[];for(let pa=0,Na=Zc.length,Ta=Na-1,hb=pa+1;pa<Na;pa++,Ta++,
hb++)Ta===Na&&(Ta=0),hb===Na&&(hb=0),n[pa]=E(Zc[pa],Zc[Ta],Zc[hb]);Q=[];let vc=n.concat();for(let pa=0,Na=Cc.length;pa<Na;pa++){var Ac=Cc[pa];var Vc=[];for(let Ta=0,hb=Ac.length,qc=hb-1,Sa=Ta+1;Ta<hb;Ta++,qc++,Sa++)qc===hb&&(qc=0),Sa===hb&&(Sa=0),Vc[Ta]=E(Ac[Ta],Ac[qc],Ac[Sa]);Q.push(Vc);vc=vc.concat(Vc)}for(Ac=0;Ac<Mb;Ac++){Vc=Ac/Mb;var Lc=$a*Math.cos(Vc*Math.PI/2),ua=pb*Math.sin(Vc*Math.PI/2)+Ua;for(let pa=0,Na=Zc.length;pa<Na;pa++)Vc=v(Zc[pa],n[pa],ua),R(Vc.x,Vc.y,-Lc);for(let pa=0,Na=Cc.length;pa<
Na;pa++){const Ta=Cc[pa];Vc=Q[pa];for(let hb=0,qc=Ta.length;hb<qc;hb++){const Sa=v(Ta[hb],Vc[hb],ua);R(Sa.x,Sa.y,-Lc)}}}Vc=pb+Ua;for(Ac=0;Ac<ed;Ac++)Lc=Ba?v(cb[Ac],vc[Ac],Vc):cb[Ac],xb?(cc.copy(fc.normals[0]).multiplyScalar(Lc.x),Zb.copy(fc.binormals[0]).multiplyScalar(Lc.y),bc.copy(yb[0]).add(cc).add(Zb),R(bc.x,bc.y,bc.z)):R(Lc.x,Lc.y,0);for(Ac=1;Ac<=la;Ac++)for(Lc=0;Lc<ed;Lc++)ua=Ba?v(cb[Lc],vc[Lc],Vc):cb[Lc],xb?(cc.copy(fc.normals[Ac]).multiplyScalar(ua.x),Zb.copy(fc.binormals[Ac]).multiplyScalar(ua.y),
bc.copy(yb[Ac]).add(cc).add(Zb),R(bc.x,bc.y,bc.z)):R(ua.x,ua.y,Xa/la*Ac);for(fc=Mb-1;0<=fc;fc--){cc=fc/Mb;Zb=$a*Math.cos(cc*Math.PI/2);cc=pb*Math.sin(cc*Math.PI/2)+Ua;for(let pa=0,Na=Zc.length;pa<Na;pa++)bc=v(Zc[pa],n[pa],cc),R(bc.x,bc.y,Xa+Zb);for(let pa=0,Na=Cc.length;pa<Na;pa++){bc=Cc[pa];Vc=Q[pa];for(let Ta=0,hb=bc.length;Ta<hb;Ta++)cb=v(bc[Ta],Vc[Ta],cc),xb?R(cb.x,cb.y+yb[la-1].y,yb[la-1].x+Zb):R(cb.x,cb.y,Xa+Zb)}}(function(){const pa=f.length/3;if(Ba){var Na=0*ed;for(var Ta=0;Ta<dc;Ta++){var hb=
Mc[Ta];S(hb[2]+Na,hb[1]+Na,hb[0]+Na)}Na=ed*(la+2*Mb);for(Ta=0;Ta<dc;Ta++)hb=Mc[Ta],S(hb[0]+Na,hb[1]+Na,hb[2]+Na)}else{for(Na=0;Na<dc;Na++)Ta=Mc[Na],S(Ta[2],Ta[1],Ta[0]);for(Na=0;Na<dc;Na++)Ta=Mc[Na],S(Ta[0]+ed*la,Ta[1]+ed*la,Ta[2]+ed*la)}e.addGroup(pa,f.length/3-pa,0)})();(function(){const pa=f.length/3;let Na=0;G(Zc,Na);Na+=Zc.length;for(let Ta=0,hb=Cc.length;Ta<hb;Ta++){const qc=Cc[Ta];G(qc,Na);Na+=qc.length}e.addGroup(pa,f.length/3-pa,1)})()}super();this.type="ExtrudeGeometry";this.parameters=
{shapes:a,options:b};a=Array.isArray(a)?a:[a];const e=this,f=[],l=[];for(let n=0,v=a.length;n<v;n++)c(a[n]);this.setAttribute("position",new Pc(f,3));this.setAttribute("uv",new Pc(l,2));this.computeVertexNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var b=this.parameters.shapes,c=this.parameters.options;a.shapes=[];if(Array.isArray(b))for(let e=0,f=b.length;e<f;e++)a.shapes.push(b[e].uuid);else a.shapes.push(b.uuid);a.options=
Object.assign({},c);void 0!==c.extrudePath&&(a.options.extrudePath=c.extrudePath.toJSON());return a}static fromJSON(a,b){const c=[];for(let e=0,f=a.shapes.length;e<f;e++)c.push(b[a.shapes[e]]);b=a.options.extrudePath;void 0!==b&&(a.options.extrudePath=(new Zi[b.type]).fromJSON(b));return new Zh(c,a.options)}}const Kl={generateTopUV:function(a,b,c,e,f){a=b[3*e];e=b[3*e+1];const l=b[3*f];f=b[3*f+1];return[new Xb(b[3*c],b[3*c+1]),new Xb(a,e),new Xb(l,f)]},generateSideWallUV:function(a,b,c,e,f,l){a=b[3*
c];const n=b[3*c+1];c=b[3*c+2];const v=b[3*e],E=b[3*e+1];e=b[3*e+2];const G=b[3*f],R=b[3*f+1];f=b[3*f+2];const S=b[3*l],V=b[3*l+1];b=b[3*l+2];return Math.abs(n-E)<Math.abs(a-v)?[new Xb(a,1-c),new Xb(v,1-e),new Xb(G,1-f),new Xb(S,1-b)]:[new Xb(n,1-c),new Xb(E,1-e),new Xb(R,1-f),new Xb(V,1-b)]}};class $h extends Mf{constructor(a=1,b=0){const c=(1+Math.sqrt(5))/2;super([-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,
4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new $h(a.radius,a.detail)}}class fh extends Mf{constructor(a=1,b=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}}static fromJSON(a){return new fh(a.radius,a.detail)}}class ai extends td{constructor(a=
.5,b=1,c=32,e=1,f=0,l=2*Math.PI){super();this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:e,thetaStart:f,thetaLength:l};c=Math.max(3,c);e=Math.max(1,e);const n=[],v=[],E=[],G=[];var R=a;a=(b-a)/e;var S=new Ga,V=new Xb;for(let ia=0;ia<=e;ia++){for(let ha=0;ha<=c;ha++){const Q=f+ha/c*l;S.x=R*Math.cos(Q);S.y=R*Math.sin(Q);v.push(S.x,S.y,S.z);E.push(0,0,1);V.x=(S.x/b+1)/2;V.y=(S.y/b+1)/2;G.push(V.x,V.y)}R+=a}for(b=0;b<e;b++)for(f=b*(c+1),l=0;l<c;l++)R=
l+f,a=R+c+1,S=R+c+2,V=R+1,n.push(R,a,V),n.push(a,S,V);this.setIndex(n);this.setAttribute("position",new Pc(v,3));this.setAttribute("normal",new Pc(E,3));this.setAttribute("uv",new Pc(G,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new ai(a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength)}}class bi extends td{constructor(a=new dg([new Xb(0,.5),new Xb(-.5,-.5),new Xb(.5,-.5)]),b=12){function c(G){const R=
f.length/3;var S=G.extractPoints(b);G=S.shape;var V=S.holes;!1===zf.isClockWise(G)&&(G=G.reverse());for(let ia=0,ha=V.length;ia<ha;ia++)S=V[ia],!0===zf.isClockWise(S)&&(V[ia]=S.reverse());S=zf.triangulateShape(G,V);for(let ia=0,ha=V.length;ia<ha;ia++)G=G.concat(V[ia]);for(let ia=0,ha=G.length;ia<ha;ia++)V=G[ia],f.push(V.x,V.y,0),l.push(0,0,1),n.push(V.x,V.y);for(let ia=0,ha=S.length;ia<ha;ia++)G=S[ia],e.push(G[0]+R,G[1]+R,G[2]+R),E+=3}super();this.type="ShapeGeometry";this.parameters={shapes:a,curveSegments:b};
const e=[],f=[],l=[],n=[];let v=0,E=0;if(!1===Array.isArray(a))c(a);else for(let G=0;G<a.length;G++)c(a[G]),this.addGroup(v,E,G),v+=E,E=0;this.setIndex(e);this.setAttribute("position",new Pc(f,3));this.setAttribute("normal",new Pc(l,3));this.setAttribute("uv",new Pc(n,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var b=this.parameters.shapes;a.shapes=[];if(Array.isArray(b))for(let c=0,e=b.length;c<e;c++)a.shapes.push(b[c].uuid);
else a.shapes.push(b.uuid);return a}static fromJSON(a,b){const c=[];for(let e=0,f=a.shapes.length;e<f;e++)c.push(b[a.shapes[e]]);return new bi(c,a.curveSegments)}}class gh extends td{constructor(a=1,b=32,c=16,e=0,f=2*Math.PI,l=0,n=Math.PI){super();this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:e,phiLength:f,thetaStart:l,thetaLength:n};b=Math.max(3,Math.floor(b));c=Math.max(2,Math.floor(c));const v=Math.min(l+n,Math.PI);var E=0;const G=[];var R=new Ga;
const S=new Ga,V=[],ia=[],ha=[],Q=[];for(let la=0;la<=c;la++){const Xa=[],Ba=la/c;let $a=0;0==la&&0==l?$a=.5/b:la==c&&v==Math.PI&&($a=-.5/b);for(let pb=0;pb<=b;pb++){const Ua=pb/b;R.x=-a*Math.cos(e+Ua*f)*Math.sin(l+Ba*n);R.y=a*Math.cos(l+Ba*n);R.z=a*Math.sin(e+Ua*f)*Math.sin(l+Ba*n);ia.push(R.x,R.y,R.z);S.copy(R).normalize();ha.push(S.x,S.y,S.z);Q.push(Ua+$a,1-Ba);Xa.push(E++)}G.push(Xa)}for(a=0;a<c;a++)for(e=0;e<b;e++)f=G[a][e+1],n=G[a][e],E=G[a+1][e],R=G[a+1][e+1],(0!==a||0<l)&&V.push(f,n,R),(a!==
c-1||v<Math.PI)&&V.push(n,E,R);this.setIndex(V);this.setAttribute("position",new Pc(ia,3));this.setAttribute("normal",new Pc(ha,3));this.setAttribute("uv",new Pc(Q,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new gh(a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength)}}class ci extends Mf{constructor(a=1,b=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";
this.parameters={radius:a,detail:b}}static fromJSON(a){return new ci(a.radius,a.detail)}}class di extends td{constructor(a=1,b=.4,c=12,e=48,f=2*Math.PI){super();this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:e,arc:f};c=Math.floor(c);e=Math.floor(e);const l=[],n=[],v=[],E=[];var G=new Ga,R=new Ga;const S=new Ga;for(let V=0;V<=c;V++)for(let ia=0;ia<=e;ia++){const ha=ia/e*f,Q=V/c*Math.PI*2;R.x=(a+b*Math.cos(Q))*Math.cos(ha);R.y=(a+b*Math.cos(Q))*Math.sin(ha);
R.z=b*Math.sin(Q);n.push(R.x,R.y,R.z);G.x=a*Math.cos(ha);G.y=a*Math.sin(ha);S.subVectors(R,G).normalize();v.push(S.x,S.y,S.z);E.push(ia/e);E.push(V/c)}for(a=1;a<=c;a++)for(b=1;b<=e;b++)f=(e+1)*(a-1)+b-1,G=(e+1)*(a-1)+b,R=(e+1)*a+b,l.push((e+1)*a+b-1,f,R),l.push(f,G,R);this.setIndex(l);this.setAttribute("position",new Pc(n,3));this.setAttribute("normal",new Pc(v,3));this.setAttribute("uv",new Pc(E,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new di(a.radius,
a.tube,a.radialSegments,a.tubularSegments,a.arc)}}class ei extends td{constructor(a=1,b=.4,c=64,e=8,f=2,l=3){function n(pb,Ua,Mb,cb,vb){const yb=Math.sin(pb);Ua=Mb/Ua*pb;Mb=Math.cos(Ua);vb.x=cb*(2+Mb)*.5*Math.cos(pb);vb.y=cb*(2+Mb)*yb*.5;vb.z=cb*Math.sin(Ua)*.5}super();this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:e,p:f,q:l};c=Math.floor(c);e=Math.floor(e);const v=[],E=[],G=[],R=[];var S=new Ga;const V=new Ga,ia=new Ga,ha=new Ga,Q=new Ga,la=new Ga,
Xa=new Ga;for(let pb=0;pb<=c;++pb){var Ba=pb/c*f*Math.PI*2;n(Ba,f,l,a,ia);n(Ba+.01,f,l,a,ha);la.subVectors(ha,ia);Xa.addVectors(ha,ia);Q.crossVectors(la,Xa);Xa.crossVectors(Q,la);Q.normalize();Xa.normalize();for(Ba=0;Ba<=e;++Ba){var $a=Ba/e*Math.PI*2;const Ua=-b*Math.cos($a);$a=b*Math.sin($a);S.x=ia.x+(Ua*Xa.x+$a*Q.x);S.y=ia.y+(Ua*Xa.y+$a*Q.y);S.z=ia.z+(Ua*Xa.z+$a*Q.z);E.push(S.x,S.y,S.z);V.subVectors(S,ia).normalize();G.push(V.x,V.y,V.z);R.push(pb/c);R.push(Ba/e)}}for(a=1;a<=c;a++)for(b=1;b<=e;b++)f=
(e+1)*a+(b-1),l=(e+1)*a+b,S=(e+1)*(a-1)+b,v.push((e+1)*(a-1)+(b-1),f,S),v.push(f,l,S);this.setIndex(v);this.setAttribute("position",new Pc(E,3));this.setAttribute("normal",new Pc(G,3));this.setAttribute("uv",new Pc(R,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new ei(a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q)}}class fi extends td{constructor(a=new Xi(new Ga(-1,-1,0),new Ga(-1,1,0),new Ga(1,1,0)),b=64,c=1,e=8,f=!1){function l(Q){R=
a.getPointAt(Q/b,R);const la=n.normals[Q];Q=n.binormals[Q];for(let Ba=0;Ba<=e;Ba++){var Xa=Ba/e*Math.PI*2;const $a=Math.sin(Xa);Xa=-Math.cos(Xa);E.x=Xa*la.x+$a*Q.x;E.y=Xa*la.y+$a*Q.y;E.z=Xa*la.z+$a*Q.z;E.normalize();V.push(E.x,E.y,E.z);v.x=R.x+c*E.x;v.y=R.y+c*E.y;v.z=R.z+c*E.z;S.push(v.x,v.y,v.z)}}super();this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:e,closed:f};const n=a.computeFrenetFrames(b,f);this.tangents=n.tangents;this.normals=n.normals;this.binormals=
n.binormals;const v=new Ga,E=new Ga,G=new Xb;let R=new Ga;const S=[],V=[],ia=[],ha=[];(function(){for(var Q=0;Q<b;Q++)l(Q);l(!1===f?b:0);for(Q=0;Q<=b;Q++)for(var la=0;la<=e;la++)G.x=Q/b,G.y=la/e,ia.push(G.x,G.y);for(Q=1;Q<=b;Q++)for(la=1;la<=e;la++){const Xa=(e+1)*Q+(la-1),Ba=(e+1)*Q+la,$a=(e+1)*(Q-1)+la;ha.push((e+1)*(Q-1)+(la-1),Xa,$a);ha.push(Xa,Ba,$a)}})();this.setIndex(ha);this.setAttribute("position",new Pc(S,3));this.setAttribute("normal",new Pc(V,3));this.setAttribute("uv",new Pc(ia,2))}copy(a){super.copy(a);
this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();a.path=this.parameters.path.toJSON();return a}static fromJSON(a){return new fi((new Zi[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed)}}class nk extends td{constructor(a=null){super();this.type="WireframeGeometry";this.parameters={geometry:a};if(null!==a){const l=[],n=new Set,v=new Ga,E=new Ga;if(null!==a.index){var b=a.attributes.position,c=a.index;a=a.groups;0===a.length&&
(a=[{start:0,count:c.count,materialIndex:0}]);for(let G=0,R=a.length;G<R;++G){var e=a[G],f=e.start;e=e.count;for(let S=f,V=f+e;S<V;S+=3)for(f=0;3>f;f++){e=c.getX(S+f);const ia=c.getX(S+(f+1)%3);v.fromBufferAttribute(b,e);E.fromBufferAttribute(b,ia);!0===ba(v,E,n)&&(l.push(v.x,v.y,v.z),l.push(E.x,E.y,E.z))}}}else{b=a.attributes.position;for(let G=0,R=b.count/3;G<R;G++)for(c=0;3>c;c++)a=3*G+(c+1)%3,v.fromBufferAttribute(b,3*G+c),E.fromBufferAttribute(b,a),!0===ba(v,E,n)&&(l.push(v.x,v.y,v.z),l.push(E.x,
E.y,E.z))}this.setAttribute("position",new Pc(l,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}var ok=Object.freeze({__proto__:null,BoxGeometry:Pf,CapsuleGeometry:Sh,CircleGeometry:Th,ConeGeometry:Uh,CylinderGeometry:Jg,DodecahedronGeometry:Vh,EdgesGeometry:mk,ExtrudeGeometry:Zh,IcosahedronGeometry:$h,LatheGeometry:eh,OctahedronGeometry:fh,PlaneGeometry:Ng,PolyhedronGeometry:Mf,RingGeometry:ai,ShapeGeometry:bi,SphereGeometry:gh,TetrahedronGeometry:ci,TorusGeometry:di,
TorusKnotGeometry:ei,TubeGeometry:fi,WireframeGeometry:nk});class pk extends Vd{constructor(a){super();this.isShadowMaterial=!0;this.type="ShadowMaterial";this.color=new Ic(0);this.fog=this.transparent=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.fog=a.fog;return this}}class qk extends ff{constructor(a){super(a);this.isRawShaderMaterial=!0;this.type="RawShaderMaterial"}}class aj extends Vd{constructor(a){super();this.isMeshStandardMaterial=!0;this.defines={STANDARD:""};
this.type="MeshStandardMaterial";this.color=new Ic(16777215);this.roughness=1;this.metalness=0;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ic(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Xb(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=
1;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=
a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;
this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class rk extends aj{constructor(a){super();this.isMeshPhysicalMaterial=!0;this.defines={STANDARD:"",PHYSICAL:""};this.type="MeshPhysicalMaterial";this.clearcoatMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=null;this.clearcoatNormalScale=new Xb(1,1);this.clearcoatNormalMap=null;this.ior=1.5;Object.defineProperty(this,"reflectivity",{get:function(){return r(2.5*
(this.ior-1)/(this.ior+1),0,1)},set:function(b){this.ior=(1+.4*b)/(1-.4*b)}});this.iridescenceMap=null;this.iridescenceIOR=1.3;this.iridescenceThicknessRange=[100,400];this.iridescenceThicknessMap=null;this.sheenColor=new Ic(0);this.sheenColorMap=null;this.sheenRoughness=1;this.transmissionMap=this.sheenRoughnessMap=null;this.thickness=0;this.thicknessMap=null;this.attenuationDistance=Infinity;this.attenuationColor=new Ic(1,1,1);this.specularIntensity=1;this.specularIntensityMap=null;this.specularColor=
new Ic(1,1,1);this.specularColorMap=null;this._transmission=this._iridescence=this._clearcoat=this._sheen=0;this.setValues(a)}get sheen(){return this._sheen}set sheen(a){0<this._sheen!==0<a&&this.version++;this._sheen=a}get clearcoat(){return this._clearcoat}set clearcoat(a){0<this._clearcoat!==0<a&&this.version++;this._clearcoat=a}get iridescence(){return this._iridescence}set iridescence(a){0<this._iridescence!==0<a&&this.version++;this._iridescence=a}get transmission(){return this._transmission}set transmission(a){0<
this._transmission!==0<a&&this.version++;this._transmission=a}copy(a){super.copy(a);this.defines={STANDARD:"",PHYSICAL:""};this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);this.ior=a.ior;this.iridescence=a.iridescence;this.iridescenceMap=a.iridescenceMap;this.iridescenceIOR=a.iridescenceIOR;this.iridescenceThicknessRange=
[...a.iridescenceThicknessRange];this.iridescenceThicknessMap=a.iridescenceThicknessMap;this.sheen=a.sheen;this.sheenColor.copy(a.sheenColor);this.sheenColorMap=a.sheenColorMap;this.sheenRoughness=a.sheenRoughness;this.sheenRoughnessMap=a.sheenRoughnessMap;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;this.thickness=a.thickness;this.thicknessMap=a.thicknessMap;this.attenuationDistance=a.attenuationDistance;this.attenuationColor.copy(a.attenuationColor);this.specularIntensity=
a.specularIntensity;this.specularIntensityMap=a.specularIntensityMap;this.specularColor.copy(a.specularColor);this.specularColorMap=a.specularColorMap;return this}}class sk extends Vd{constructor(a){super();this.isMeshPhongMaterial=!0;this.type="MeshPhongMaterial";this.color=new Ic(16777215);this.specular=new Ic(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ic(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=
null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Xb(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=
a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=
a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class tk extends Vd{constructor(a){super();this.isMeshToonMaterial=!0;this.defines={TOON:""};this.type=
"MeshToonMaterial";this.color=new Ic(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ic(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Xb(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=
"round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}class uk extends Vd{constructor(a){super();this.isMeshNormalMaterial=!0;this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=
0;this.normalScale=new Xb(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.flatShading=!1;this.setValues(a)}copy(a){super.copy(a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;
this.wireframeLinewidth=a.wireframeLinewidth;this.flatShading=a.flatShading;return this}}class vk extends Vd{constructor(a){super();this.isMeshLambertMaterial=!0;this.type="MeshLambertMaterial";this.color=new Ic(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ic(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Xb(1,1);this.displacementMap=
null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);
this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;
this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class wk extends Vd{constructor(a){super();this.isMeshMatcapMaterial=!0;this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new Ic(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Xb(1,1);this.displacementMap=
null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;
this.alphaMap=a.alphaMap;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class xk extends Ke{constructor(a){super();this.isLineDashedMaterial=!0;this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}copy(a){super.copy(a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this}}const Ll={arraySlice:da,convertArray:xa,isTypedArray:Qa,getKeyframeOrder:qb,sortedArray:wb,flattenJSON:Nb,subclip:function(a,b,c,e,f=30){a=a.clone();a.name=
b;b=[];for(let n=0;n<a.tracks.length;++n){const v=a.tracks[n],E=v.getValueSize(),G=[],R=[];for(let S=0;S<v.times.length;++S){var l=v.times[S]*f;if(!(l<c||l>=e))for(G.push(v.times[S]),l=0;l<E;++l)R.push(v.values[S*E+l])}0!==G.length&&(v.times=xa(G,v.times.constructor),v.values=xa(R,v.values.constructor),b.push(v))}a.tracks=b;c=Infinity;for(e=0;e<a.tracks.length;++e)c>a.tracks[e].times[0]&&(c=a.tracks[e].times[0]);for(e=0;e<a.tracks.length;++e)a.tracks[e].shift(-1*c);a.resetDuration();return a},makeClipAdditive:function(a,
b=0,c=a,e=30){0>=e&&(e=30);const f=c.tracks.length;b/=e;for(e=0;e<f;++e){const G=c.tracks[e],R=G.ValueTypeName;if("bool"===R||"string"===R)continue;const S=a.tracks.find(function(ha){return ha.name===G.name&&ha.ValueTypeName===R});if(void 0===S)continue;var l=0,n=G.getValueSize();G.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=n/3);let V=0;const ia=S.getValueSize();S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(V=ia/3);var v=G.times.length-1;if(b<=G.times[0])l=da(G.values,
l,n-l);else if(b>=G.times[v])v=v*n+l,l=da(G.values,v,v+n-l);else{v=G.createInterpolant();var E=l;l=n-l;v.evaluate(b);l=da(v.resultBuffer,E,l)}"quaternion"===R&&(new te).fromArray(l).normalize().conjugate().toArray(l);n=S.times.length;for(v=0;v<n;++v)if(E=v*ia+V,"quaternion"===R)te.multiplyQuaternionsFlat(S.values,E,l,0,S.values,E);else{const ha=ia-2*V;for(let Q=0;Q<ha;++Q)S.values[E+Q]-=l[Q]}}a.blendMode=2501;return a}};class hh{constructor(a,b,c,e){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=
void 0!==e?e:new b.constructor(c);this.sampleValues=b;this.valueSize=c;this.settings=null;this.DefaultSettings_={}}evaluate(a){const b=this.parameterPositions;let c=this._cachedIndex;var e=b[c],f=b[c-1];a:{b:{c:{d:if(!(a<e)){for(var l=c+2;;){if(void 0===e){if(a<f)break d;this._cachedIndex=c=b.length;return this.copySampleValue_(c-1)}if(c===l)break;f=e;e=b[++c];if(a<e)break b}f=b.length;break c}if(a>=f)break a;else{e=b[1];a<e&&(c=2,f=e);for(l=c-2;;){if(void 0===f)return this._cachedIndex=0,this.copySampleValue_(0);
if(c===l)break;e=f;f=b[--c-1];if(a>=f)break b}f=c;c=0}}for(;c<f;)e=c+f>>>1,a<b[e]?f=e:c=e+1;e=b[c];f=b[c-1];if(void 0===f)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===e)return this._cachedIndex=c=b.length,this.copySampleValue_(c-1)}this._cachedIndex=c;this.intervalChanged_(c,f,e)}return this.interpolate_(c,f,a,e)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const b=this.resultBuffer,c=this.sampleValues,e=this.valueSize;a*=e;for(let f=0;f!==e;++f)b[f]=
c[a+f];return b}interpolate_(){throw Error("call to abstract method");}intervalChanged_(){}}class yk extends hh{constructor(a,b,c,e){super(a,b,c,e);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0;this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(a,b,c){var e=this.parameterPositions;let f=a-2,l=a+1,n=e[f],v=e[l];if(void 0===n)switch(this.getSettings_().endingStart){case 2401:f=a;n=2*b-c;break;case 2402:f=e.length-2;n=b+e[f]-e[f+1];break;default:f=a,n=c}if(void 0===
v)switch(this.getSettings_().endingEnd){case 2401:l=a;v=2*c-b;break;case 2402:l=1;v=c+e[1]-e[0];break;default:l=a-1,v=b}a=.5*(c-b);e=this.valueSize;this._weightPrev=a/(b-n);this._weightNext=a/(v-c);this._offsetPrev=f*e;this._offsetNext=l*e}interpolate_(a,b,c,e){const f=this.resultBuffer,l=this.sampleValues,n=this.valueSize;a*=n;const v=a-n,E=this._offsetPrev,G=this._offsetNext;var R=this._weightPrev,S=this._weightNext,V=(c-b)/(e-b);c=V*V;e=c*V;b=-R*e+2*R*c-R*V;R=(1+R)*e+(-1.5-2*R)*c+(-.5+R)*V+1;V=
(-1-S)*e+(1.5+S)*c+.5*V;S=S*e-S*c;for(c=0;c!==n;++c)f[c]=b*l[E+c]+R*l[v+c]+V*l[a+c]+S*l[G+c];return f}}class bj extends hh{constructor(a,b,c,e){super(a,b,c,e)}interpolate_(a,b,c,e){const f=this.resultBuffer,l=this.sampleValues,n=this.valueSize;a*=n;const v=a-n;b=(c-b)/(e-b);c=1-b;for(e=0;e!==n;++e)f[e]=l[v+e]*c+l[a+e]*b;return f}}class zk extends hh{constructor(a,b,c,e){super(a,b,c,e)}interpolate_(a){return this.copySampleValue_(a-1)}}class ef{constructor(a,b,c,e){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");
if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=xa(b,this.TimeBufferType);this.values=xa(c,this.ValueBufferType);this.setInterpolation(e||this.DefaultInterpolation)}static toJSON(a){var b=a.constructor;if(b.toJSON!==this.toJSON)b=b.toJSON(a);else{b={name:a.name,times:xa(a.times,Array),values:xa(a.values,Array)};const c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}InterpolantFactoryMethodDiscrete(a){return new zk(this.times,
this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new bj(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new yk(this.times,this.values,this.getValueSize(),a)}setInterpolation(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+
this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",b);return this}this.createInterpolant=b;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(a){if(0!==
a){const b=this.times;for(let c=0,e=b.length;c!==e;++c)b[c]+=a}return this}scale(a){if(1!==a){const b=this.times;for(let c=0,e=b.length;c!==e;++c)b[c]*=a}return this}trim(a,b){const c=this.times,e=c.length;let f=0,l=e-1;for(;f!==e&&c[f]<a;)++f;for(;-1!==l&&c[l]>b;)--l;++l;if(0!==f||l!==e)f>=l&&(l=Math.max(l,1),f=l-1),a=this.getValueSize(),this.times=da(c,f,l),this.values=da(this.values,f*a,l*a);return this}validate(){let a=!0;var b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",
this),a=!1);var c=this.times;b=this.values;const e=c.length;0===e&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let f=null;for(let l=0;l!==e;l++){const n=c[l];if("number"===typeof n&&isNaN(n)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,n);a=!1;break}if(null!==f&&f>n){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,n,f);a=!1;break}f=n}if(void 0!==b&&Qa(b))for(let l=0,n=b.length;l!==n;++l)if(c=b[l],isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",
this,l,c);a=!1;break}return a}optimize(){const a=da(this.times),b=da(this.values),c=this.getValueSize(),e=2302===this.getInterpolation(),f=a.length-1;let l=1;for(let G=1;G<f;++G){var n=!1,v=a[G];if(v!==a[G+1]&&(1!==G||v!==a[0]))if(e)n=!0;else{v=G*c;var E=v-c;const R=v+c;for(let S=0;S!==c;++S){const V=b[v+S];if(V!==b[E+S]||V!==b[R+S]){n=!0;break}}}if(n){if(G!==l)for(a[l]=a[G],n=G*c,v=l*c,E=0;E!==c;++E)b[v+E]=b[n+E];++l}}if(0<f){a[l]=a[f];for(let G=f*c,R=l*c,S=0;S!==c;++S)b[R+S]=b[G+S];++l}l!==a.length?
(this.times=da(a,0,l),this.values=da(b,0,l*c)):(this.times=a,this.values=b);return this}clone(){var a=da(this.times,0);const b=da(this.values,0);a=new this.constructor(this.name,a,b);a.createInterpolant=this.createInterpolant;return a}}ef.prototype.TimeBufferType=Float32Array;ef.prototype.ValueBufferType=Float32Array;ef.prototype.DefaultInterpolation=2301;class Uf extends ef{}Uf.prototype.ValueTypeName="bool";Uf.prototype.ValueBufferType=Array;Uf.prototype.DefaultInterpolation=2300;Uf.prototype.InterpolantFactoryMethodLinear=
void 0;Uf.prototype.InterpolantFactoryMethodSmooth=void 0;class Bi extends ef{}Bi.prototype.ValueTypeName="color";class Qg extends ef{}Qg.prototype.ValueTypeName="number";class Ak extends hh{constructor(a,b,c,e){super(a,b,c,e)}interpolate_(a,b,c,e){const f=this.resultBuffer,l=this.sampleValues,n=this.valueSize;b=(c-b)/(e-b);a*=n;for(c=a+n;a!==c;a+=4)te.slerpFlat(f,0,l,a-n,l,a,b);return f}}class og extends ef{InterpolantFactoryMethodLinear(a){return new Ak(this.times,this.values,this.getValueSize(),
a)}}og.prototype.ValueTypeName="quaternion";og.prototype.DefaultInterpolation=2301;og.prototype.InterpolantFactoryMethodSmooth=void 0;class Vf extends ef{}Vf.prototype.ValueTypeName="string";Vf.prototype.ValueBufferType=Array;Vf.prototype.DefaultInterpolation=2300;Vf.prototype.InterpolantFactoryMethodLinear=void 0;Vf.prototype.InterpolantFactoryMethodSmooth=void 0;class Rg extends ef{}Rg.prototype.ValueTypeName="vector";class ih{constructor(a,b=-1,c,e=2500){this.name=a;this.tracks=c;this.duration=
b;this.blendMode=e;this.uuid=J();0>this.duration&&this.resetDuration()}static parse(a){var b=[];const c=a.tracks,e=1/(a.fps||1);for(let v=0,E=c.length;v!==E;++v){var f=b,l=f.push;{var n=c[v];if(void 0===n.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");const G=nc(n.type);if(void 0===n.times){const R=[],S=[];Nb(n.keys,R,S,"value");n.times=R;n.values=S}n=void 0!==G.parse?G.parse(n):new G(n.name,n.times,n.values,n.interpolation)}l.call(f,n.scale(e))}b=new this(a.name,a.duration,
b,a.blendMode);b.uuid=a.uuid;return b}static toJSON(a){const b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid,blendMode:a.blendMode};for(let e=0,f=c.length;e!==f;++e)b.push(ef.toJSON(c[e]));return a}static CreateFromMorphTargetSequence(a,b,c,e){const f=b.length,l=[];for(let n=0;n<f;n++){let v=[],E=[];v.push((n+f-1)%f,n,(n+1)%f);E.push(0,1,0);const G=qb(v);v=wb(v,1,G);E=wb(E,1,G);e||0!==v[0]||(v.push(f),E.push(E[0]));l.push((new Qg(".morphTargetInfluences["+b[n].name+"]",v,E)).scale(1/
c))}return new this(a,-1,l)}static findByName(a,b){let c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null}static CreateClipsFromMorphTargetSequences(a,b,c){const e={},f=/^([\w-]*?)([\d]+)$/;for(let n=0,v=a.length;n<v;n++){const E=a[n];var l=E.name.match(f);if(l&&1<l.length){l=l[1];let G=e[l];G||(e[l]=G=[]);G.push(E)}}a=[];for(const n in e)a.push(this.CreateFromMorphTargetSequence(n,e[n],b,c));return a}static parseAnimation(a,
b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const c=function(R,S,V,ia,ha){if(0!==V.length){const Q=[],la=[];Nb(V,Q,la,ia);0!==Q.length&&ha.push(new R(S,Q,la))}},e=[],f=a.name||"default",l=a.fps||30,n=a.blendMode;var v=a.length||-1;a=a.hierarchy||[];for(let R=0;R<a.length;R++){const S=a[R].keys;if(S&&0!==S.length)if(S[0].morphTargets){v={};var E=void 0;for(E=0;E<S.length;E++)if(S[E].morphTargets)for(var G=0;G<S[E].morphTargets.length;G++)v[S[E].morphTargets[G]]=
-1;for(const V in v){G=[];const ia=[];for(let ha=0;ha!==S[E].morphTargets.length;++ha){const Q=S[E];G.push(Q.time);ia.push(Q.morphTarget===V?1:0)}e.push(new Qg(".morphTargetInfluence["+V+"]",G,ia))}v=v.length*l}else E=".bones["+b[R].name+"]",c(Rg,E+".position",S,"pos",e),c(og,E+".quaternion",S,"rot",e),c(Rg,E+".scale",S,"scl",e)}return 0===e.length?null:new this(f,v,e,n)}resetDuration(){var a=this.tracks;let b=0;for(let c=0,e=a.length;c!==e;++c)a=this.tracks[c],b=Math.max(b,a.times[a.times.length-
1]);this.duration=b;return this}trim(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this}validate(){let a=!0;for(let b=0;b<this.tracks.length;b++)a=a&&this.tracks[b].validate();return a}optimize(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}clone(){const a=[];for(let b=0;b<this.tracks.length;b++)a.push(this.tracks[b].clone());return new this.constructor(this.name,this.duration,a,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}
const eg={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class cj{constructor(a,b,c){const e=this;let f=!1,l=0,n=0,v=void 0;const E=[];this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(G){n++;if(!1===f&&void 0!==e.onStart)e.onStart(G,l,n);f=!0};this.itemEnd=function(G){l++;if(void 0!==e.onProgress)e.onProgress(G,
l,n);if(l===n&&(f=!1,void 0!==e.onLoad))e.onLoad()};this.itemError=function(G){if(void 0!==e.onError)e.onError(G)};this.resolveURL=function(G){return v?v(G):G};this.setURLModifier=function(G){v=G;return this};this.addHandler=function(G,R){E.push(G,R);return this};this.removeHandler=function(G){G=E.indexOf(G);-1!==G&&E.splice(G,2);return this};this.getHandler=function(G){for(let R=0,S=E.length;R<S;R+=2){const V=E[R],ia=E[R+1];V.global&&(V.lastIndex=0);if(V.test(G))return ia}return null}}}const Bk=
new cj;class We{constructor(a){this.manager=void 0!==a?a:Bk;this.crossOrigin="anonymous";this.withCredentials=!1;this.resourcePath=this.path="";this.requestHeader={}}load(){}loadAsync(a,b){const c=this;return new Promise(function(e,f){c.load(a,e,b,f)})}parse(){}setCrossOrigin(a){this.crossOrigin=a;return this}setWithCredentials(a){this.withCredentials=a;return this}setPath(a){this.path=a;return this}setResourcePath(a){this.resourcePath=a;return this}setRequestHeader(a){this.requestHeader=a;return this}}
const Af={};class Ml extends Error{constructor(a,b){super(a);this.response=b}}class Bf extends We{constructor(a){super(a)}load(a,b,c,e){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const f=eg.get(a);if(void 0!==f)return this.manager.itemStart(a),setTimeout(()=>{b&&b(f);this.manager.itemEnd(a)},0),f;if(void 0!==Af[a])Af[a].push({onLoad:b,onProgress:c,onError:e});else{Af[a]=[];Af[a].push({onLoad:b,onProgress:c,onError:e});c=new Request(a,{headers:new Headers(this.requestHeader),
credentials:this.withCredentials?"include":"same-origin"});var l=this.mimeType,n=this.responseType;fetch(c).then(v=>{if(200===v.status||0===v.status){0===v.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");if("undefined"===typeof ReadableStream||void 0===v.body||void 0===v.body.getReader)return v;const E=Af[a],G=v.body.getReader(),R=(v=v.headers.get("Content-Length")||v.headers.get("X-File-Size"))?parseInt(v):0,S=0!==R;let V=0;v=new ReadableStream({start(ia){function ha(){G.read().then(({done:Q,
value:la})=>{if(Q)ia.close();else{V+=la.byteLength;Q=new ProgressEvent("progress",{lengthComputable:S,loaded:V,total:R});for(let Xa=0,Ba=E.length;Xa<Ba;Xa++){const $a=E[Xa];if($a.onProgress)$a.onProgress(Q)}ia.enqueue(la);ha()}})}ha()}});return new Response(v)}throw new Ml(`fetch for "${v.url}" responded with ${v.status}: ${v.statusText}`,v);}).then(v=>{switch(n){case "arraybuffer":return v.arrayBuffer();case "blob":return v.blob();case "document":return v.text().then(R=>(new DOMParser).parseFromString(R,
l));case "json":return v.json();default:if(void 0===l)return v.text();var E=/charset="?([^;"\s]*)"?/i.exec(l);E=E&&E[1]?E[1].toLowerCase():void 0;const G=new TextDecoder(E);return v.arrayBuffer().then(R=>G.decode(R))}}).then(v=>{eg.add(a,v);const E=Af[a];delete Af[a];for(let G=0,R=E.length;G<R;G++){const S=E[G];if(S.onLoad)S.onLoad(v)}}).catch(v=>{const E=Af[a];if(void 0===E)throw this.manager.itemError(a),v;delete Af[a];for(let G=0,R=E.length;G<R;G++){const S=E[G];if(S.onError)S.onError(v)}this.manager.itemError(a)}).finally(()=>
{this.manager.itemEnd(a)});this.manager.itemStart(a)}}setResponseType(a){this.responseType=a;return this}setMimeType(a){this.mimeType=a;return this}}class Nl extends We{constructor(a){super(a)}load(a,b,c,e){const f=this,l=new Bf(this.manager);l.setPath(this.path);l.setRequestHeader(this.requestHeader);l.setWithCredentials(this.withCredentials);l.load(a,function(n){try{b(f.parse(JSON.parse(n)))}catch(v){e?e(v):console.error(v),f.manager.itemError(a)}},c,e)}parse(a){const b=[];for(let c=0;c<a.length;c++){const e=
ih.parse(a[c]);b.push(e)}return b}}class Ol extends We{constructor(a){super(a)}load(a,b,c,e){function f(R){E.load(a[R],function(S){S=l.parse(S,!0);n[R]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps};G+=1;6===G&&(1===S.mipmapCount&&(v.minFilter=1006),v.image=n,v.format=S.format,v.needsUpdate=!0,b&&b(v))},c,e)}const l=this,n=[],v=new Ri,E=new Bf(this.manager);E.setPath(this.path);E.setResponseType("arraybuffer");E.setRequestHeader(this.requestHeader);E.setWithCredentials(l.withCredentials);
let G=0;if(Array.isArray(a))for(let R=0,S=a.length;R<S;++R)f(R);else E.load(a,function(R){R=l.parse(R,!0);if(R.isCubemap){const S=R.mipmaps.length/R.mipmapCount;for(let V=0;V<S;V++){n[V]={mipmaps:[]};for(let ia=0;ia<R.mipmapCount;ia++)n[V].mipmaps.push(R.mipmaps[V*R.mipmapCount+ia]),n[V].format=R.format,n[V].width=R.width,n[V].height=R.height}v.image=n}else v.image.width=R.width,v.image.height=R.height,v.mipmaps=R.mipmaps;1===R.mipmapCount&&(v.minFilter=1006);v.format=R.format;v.needsUpdate=!0;b&&
b(v)},c,e);return v}}class jh extends We{constructor(a){super(a)}load(a,b,c,e){function f(){n();eg.add(a,this);b&&b(this);v.manager.itemEnd(a)}function l(R){n();e&&e(R);v.manager.itemError(a);v.manager.itemEnd(a)}function n(){G.removeEventListener("load",f,!1);G.removeEventListener("error",l,!1)}void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const v=this,E=eg.get(a);if(void 0!==E)return v.manager.itemStart(a),setTimeout(function(){b&&b(E);v.manager.itemEnd(a)},0),E;const G=t("img");
G.addEventListener("load",f,!1);G.addEventListener("error",l,!1);"data:"!==a.slice(0,5)&&void 0!==this.crossOrigin&&(G.crossOrigin=this.crossOrigin);v.manager.itemStart(a);G.src=a;return G}}class Pl extends We{constructor(a){super(a)}load(a,b,c,e){function f(E){n.load(a[E],function(G){l.images[E]=G;v++;6===v&&(l.needsUpdate=!0,b&&b(l))},void 0,e)}const l=new Yg,n=new jh(this.manager);n.setCrossOrigin(this.crossOrigin);n.setPath(this.path);let v=0;for(c=0;c<a.length;++c)f(c);return l}}class Ql extends We{constructor(a){super(a)}load(a,
b,c,e){const f=this,l=new Hg,n=new Bf(this.manager);n.setResponseType("arraybuffer");n.setRequestHeader(this.requestHeader);n.setPath(this.path);n.setWithCredentials(f.withCredentials);n.load(a,function(v){if(v=f.parse(v))void 0!==v.image?l.image=v.image:void 0!==v.data&&(l.image.width=v.width,l.image.height=v.height,l.image.data=v.data),l.wrapS=void 0!==v.wrapS?v.wrapS:1001,l.wrapT=void 0!==v.wrapT?v.wrapT:1001,l.magFilter=void 0!==v.magFilter?v.magFilter:1006,l.minFilter=void 0!==v.minFilter?v.minFilter:
1006,l.anisotropy=void 0!==v.anisotropy?v.anisotropy:1,void 0!==v.encoding&&(l.encoding=v.encoding),void 0!==v.flipY&&(l.flipY=v.flipY),void 0!==v.format&&(l.format=v.format),void 0!==v.type&&(l.type=v.type),void 0!==v.mipmaps&&(l.mipmaps=v.mipmaps,l.minFilter=1008),1===v.mipmapCount&&(l.minFilter=1006),void 0!==v.generateMipmaps&&(l.generateMipmaps=v.generateMipmaps),l.needsUpdate=!0,b&&b(l,v)},c,e);return l}}class Rl extends We{constructor(a){super(a)}load(a,b,c,e){const f=new ie,l=new jh(this.manager);
l.setCrossOrigin(this.crossOrigin);l.setPath(this.path);l.load(a,function(n){f.image=n;f.needsUpdate=!0;void 0!==b&&b(f)},c,e);return f}}class Nf extends eb{constructor(a,b=1){super();this.isLight=!0;this.type="Light";this.color=new Ic(a);this.intensity=b}dispose(){}copy(a,b){super.copy(a,b);this.color.copy(a.color);this.intensity=a.intensity;return this}toJSON(a){a=super.toJSON(a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=
this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}}class Ck extends Nf{constructor(a,b,c){super(a,c);this.isHemisphereLight=!0;this.type="HemisphereLight";this.position.copy(eb.DEFAULT_UP);this.updateMatrix();this.groundColor=new Ic(b)}copy(a,
b){super.copy(a,b);this.groundColor.copy(a.groundColor);return this}}const dj=new gd,Dk=new Ga,Ek=new Ga;class ej{constructor(a){this.camera=a;this.normalBias=this.bias=0;this.radius=1;this.blurSamples=8;this.mapSize=new Xb(512,512);this.mapPass=this.map=null;this.matrix=new gd;this.autoUpdate=!0;this.needsUpdate=!1;this._frustum=new rh;this._frameExtents=new Xb(1,1);this._viewportCount=1;this._viewports=[new Gd(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const b=
this.camera,c=this.matrix;Dk.setFromMatrixPosition(a.matrixWorld);b.position.copy(Dk);Ek.setFromMatrixPosition(a.target.matrixWorld);b.lookAt(Ek);b.updateMatrixWorld();dj.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this._frustum.setFromProjectionMatrix(dj);c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);c.multiply(dj)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose();this.mapPass&&this.mapPass.dispose()}copy(a){this.camera=
a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this}clone(){return(new this.constructor).copy(this)}toJSON(){const a={};0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}}class Sl extends ej{constructor(){super(new De(50,1,.5,500));
this.isSpotLightShadow=!0;this.focus=1}updateMatrices(a){const b=this.camera,c=2*Wc*a.angle*this.focus,e=this.mapSize.width/this.mapSize.height,f=a.distance||b.far;if(c!==b.fov||e!==b.aspect||f!==b.far)b.fov=c,b.aspect=e,b.far=f,b.updateProjectionMatrix();super.updateMatrices(a)}copy(a){super.copy(a);this.focus=a.focus;return this}}class Fk extends Nf{constructor(a,b,c=0,e=Math.PI/3,f=0,l=2){super(a,b);this.isSpotLight=!0;this.type="SpotLight";this.position.copy(eb.DEFAULT_UP);this.updateMatrix();
this.target=new eb;this.distance=c;this.angle=e;this.penumbra=f;this.decay=l;this.map=null;this.shadow=new Sl}get power(){return this.intensity*Math.PI}set power(a){this.intensity=a/Math.PI}dispose(){this.shadow.dispose()}copy(a,b){super.copy(a,b);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}const Gk=new gd,kh=new Ga,fj=new Ga;class Tl extends ej{constructor(){super(new De(90,1,.5,500));
this.isPointLightShadow=!0;this._frameExtents=new Xb(4,2);this._viewportCount=6;this._viewports=[new Gd(2,1,1,1),new Gd(0,1,1,1),new Gd(3,1,1,1),new Gd(1,1,1,1),new Gd(3,0,1,1),new Gd(1,0,1,1)];this._cubeDirections=[new Ga(1,0,0),new Ga(-1,0,0),new Ga(0,0,1),new Ga(0,0,-1),new Ga(0,1,0),new Ga(0,-1,0)];this._cubeUps=[new Ga(0,1,0),new Ga(0,1,0),new Ga(0,1,0),new Ga(0,1,0),new Ga(0,0,1),new Ga(0,0,-1)]}updateMatrices(a,b=0){const c=this.camera,e=this.matrix,f=a.distance||c.far;f!==c.far&&(c.far=f,
c.updateProjectionMatrix());kh.setFromMatrixPosition(a.matrixWorld);c.position.copy(kh);fj.copy(c.position);fj.add(this._cubeDirections[b]);c.up.copy(this._cubeUps[b]);c.lookAt(fj);c.updateMatrixWorld();e.makeTranslation(-kh.x,-kh.y,-kh.z);Gk.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this._frustum.setFromProjectionMatrix(Gk)}}class Hk extends Nf{constructor(a,b,c=0,e=2){super(a,b);this.isPointLight=!0;this.type="PointLight";this.distance=c;this.decay=e;this.shadow=new Tl}get power(){return 4*
this.intensity*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,b){super.copy(a,b);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}}class Ul extends ej{constructor(){super(new Ih(-5,5,5,-5,.5,500));this.isDirectionalLightShadow=!0}}class Ik extends Nf{constructor(a,b){super(a,b);this.isDirectionalLight=!0;this.type="DirectionalLight";this.position.copy(eb.DEFAULT_UP);this.updateMatrix();this.target=new eb;this.shadow=new Ul}dispose(){this.shadow.dispose()}copy(a){super.copy(a);
this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}class Jk extends Nf{constructor(a,b){super(a,b);this.isAmbientLight=!0;this.type="AmbientLight"}}class Kk extends Nf{constructor(a,b,c=10,e=10){super(a,b);this.isRectAreaLight=!0;this.type="RectAreaLight";this.width=c;this.height=e}get power(){return this.intensity*this.width*this.height*Math.PI}set power(a){this.intensity=a/(this.width*this.height*Math.PI)}copy(a){super.copy(a);this.width=a.width;this.height=a.height;return this}toJSON(a){a=
super.toJSON(a);a.object.width=this.width;a.object.height=this.height;return a}}class Lk{constructor(){this.isSphericalHarmonics3=!0;this.coefficients=[];for(let a=0;9>a;a++)this.coefficients.push(new Ga)}set(a){for(let b=0;9>b;b++)this.coefficients[b].copy(a[b]);return this}zero(){for(let a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,b){const c=a.x,e=a.y;a=a.z;const f=this.coefficients;b.copy(f[0]).multiplyScalar(.282095);b.addScaledVector(f[1],.488603*e);b.addScaledVector(f[2],
.488603*a);b.addScaledVector(f[3],.488603*c);b.addScaledVector(f[4],1.092548*c*e);b.addScaledVector(f[5],1.092548*e*a);b.addScaledVector(f[6],.315392*(3*a*a-1));b.addScaledVector(f[7],1.092548*c*a);b.addScaledVector(f[8],.546274*(c*c-e*e));return b}getIrradianceAt(a,b){const c=a.x,e=a.y;a=a.z;const f=this.coefficients;b.copy(f[0]).multiplyScalar(.886227);b.addScaledVector(f[1],1.023328*e);b.addScaledVector(f[2],1.023328*a);b.addScaledVector(f[3],1.023328*c);b.addScaledVector(f[4],.858086*c*e);b.addScaledVector(f[5],
.858086*e*a);b.addScaledVector(f[6],.743125*a*a-.247708);b.addScaledVector(f[7],.858086*c*a);b.addScaledVector(f[8],.429043*(c*c-e*e));return b}add(a){for(let b=0;9>b;b++)this.coefficients[b].add(a.coefficients[b]);return this}addScaledSH(a,b){for(let c=0;9>c;c++)this.coefficients[c].addScaledVector(a.coefficients[c],b);return this}scale(a){for(let b=0;9>b;b++)this.coefficients[b].multiplyScalar(a);return this}lerp(a,b){for(let c=0;9>c;c++)this.coefficients[c].lerp(a.coefficients[c],b);return this}equals(a){for(let b=
0;9>b;b++)if(!this.coefficients[b].equals(a.coefficients[b]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(a,b=0){const c=this.coefficients;for(let e=0;9>e;e++)c[e].fromArray(a,b+3*e);return this}toArray(a=[],b=0){const c=this.coefficients;for(let e=0;9>e;e++)c[e].toArray(a,b+3*e);return a}static getBasisAt(a,b){const c=a.x,e=a.y;a=a.z;b[0]=.282095;b[1]=.488603*e;b[2]=.488603*a;b[3]=.488603*c;b[4]=1.092548*c*e;b[5]=1.092548*e*a;
b[6]=.315392*(3*a*a-1);b[7]=1.092548*c*a;b[8]=.546274*(c*c-e*e)}}class gi extends Nf{constructor(a=new Lk,b=1){super(void 0,b);this.isLightProbe=!0;this.sh=a}copy(a){super.copy(a);this.sh.copy(a.sh);return this}fromJSON(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this}toJSON(a){a=super.toJSON(a);a.object.sh=this.sh.toArray();return a}}class gj extends We{constructor(a){super(a);this.textures={}}load(a,b,c,e){const f=this,l=new Bf(f.manager);l.setPath(f.path);l.setRequestHeader(f.requestHeader);
l.setWithCredentials(f.withCredentials);l.load(a,function(n){try{b(f.parse(JSON.parse(n)))}catch(v){e?e(v):console.error(v),f.manager.itemError(a)}},c,e)}parse(a){function b(l){void 0===c[l]&&console.warn("THREE.MaterialLoader: Undefined texture",l);return c[l]}const c=this.textures,e=gj.createMaterialFromType(a.type);void 0!==a.uuid&&(e.uuid=a.uuid);void 0!==a.name&&(e.name=a.name);void 0!==a.color&&void 0!==e.color&&e.color.setHex(a.color);void 0!==a.roughness&&(e.roughness=a.roughness);void 0!==
a.metalness&&(e.metalness=a.metalness);void 0!==a.sheen&&(e.sheen=a.sheen);void 0!==a.sheenColor&&(e.sheenColor=(new Ic).setHex(a.sheenColor));void 0!==a.sheenRoughness&&(e.sheenRoughness=a.sheenRoughness);void 0!==a.emissive&&void 0!==e.emissive&&e.emissive.setHex(a.emissive);void 0!==a.specular&&void 0!==e.specular&&e.specular.setHex(a.specular);void 0!==a.specularIntensity&&(e.specularIntensity=a.specularIntensity);void 0!==a.specularColor&&void 0!==e.specularColor&&e.specularColor.setHex(a.specularColor);
void 0!==a.shininess&&(e.shininess=a.shininess);void 0!==a.clearcoat&&(e.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(e.clearcoatRoughness=a.clearcoatRoughness);void 0!==a.iridescence&&(e.iridescence=a.iridescence);void 0!==a.iridescenceIOR&&(e.iridescenceIOR=a.iridescenceIOR);void 0!==a.iridescenceThicknessRange&&(e.iridescenceThicknessRange=a.iridescenceThicknessRange);void 0!==a.transmission&&(e.transmission=a.transmission);void 0!==a.thickness&&(e.thickness=a.thickness);void 0!==a.attenuationDistance&&
(e.attenuationDistance=a.attenuationDistance);void 0!==a.attenuationColor&&void 0!==e.attenuationColor&&e.attenuationColor.setHex(a.attenuationColor);void 0!==a.fog&&(e.fog=a.fog);void 0!==a.flatShading&&(e.flatShading=a.flatShading);void 0!==a.blending&&(e.blending=a.blending);void 0!==a.combine&&(e.combine=a.combine);void 0!==a.side&&(e.side=a.side);void 0!==a.shadowSide&&(e.shadowSide=a.shadowSide);void 0!==a.opacity&&(e.opacity=a.opacity);void 0!==a.transparent&&(e.transparent=a.transparent);
void 0!==a.alphaTest&&(e.alphaTest=a.alphaTest);void 0!==a.depthTest&&(e.depthTest=a.depthTest);void 0!==a.depthWrite&&(e.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(e.colorWrite=a.colorWrite);void 0!==a.stencilWrite&&(e.stencilWrite=a.stencilWrite);void 0!==a.stencilWriteMask&&(e.stencilWriteMask=a.stencilWriteMask);void 0!==a.stencilFunc&&(e.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(e.stencilRef=a.stencilRef);void 0!==a.stencilFuncMask&&(e.stencilFuncMask=a.stencilFuncMask);void 0!==
a.stencilFail&&(e.stencilFail=a.stencilFail);void 0!==a.stencilZFail&&(e.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(e.stencilZPass=a.stencilZPass);void 0!==a.wireframe&&(e.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(e.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(e.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(e.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(e.rotation=a.rotation);1!==a.linewidth&&(e.linewidth=a.linewidth);
void 0!==a.dashSize&&(e.dashSize=a.dashSize);void 0!==a.gapSize&&(e.gapSize=a.gapSize);void 0!==a.scale&&(e.scale=a.scale);void 0!==a.polygonOffset&&(e.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(e.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(e.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.dithering&&(e.dithering=a.dithering);void 0!==a.alphaToCoverage&&(e.alphaToCoverage=a.alphaToCoverage);void 0!==a.premultipliedAlpha&&(e.premultipliedAlpha=
a.premultipliedAlpha);void 0!==a.forceSinglePass&&(e.forceSinglePass=a.forceSinglePass);void 0!==a.visible&&(e.visible=a.visible);void 0!==a.toneMapped&&(e.toneMapped=a.toneMapped);void 0!==a.userData&&(e.userData=a.userData);void 0!==a.vertexColors&&(e.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);if(void 0!==a.uniforms)for(var f in a.uniforms){const l=a.uniforms[f];e.uniforms[f]={};switch(l.type){case "t":e.uniforms[f].value=b(l.value);break;case "c":e.uniforms[f].value=
(new Ic).setHex(l.value);break;case "v2":e.uniforms[f].value=(new Xb).fromArray(l.value);break;case "v3":e.uniforms[f].value=(new Ga).fromArray(l.value);break;case "v4":e.uniforms[f].value=(new Gd).fromArray(l.value);break;case "m3":e.uniforms[f].value=(new he).fromArray(l.value);break;case "m4":e.uniforms[f].value=(new gd).fromArray(l.value);break;default:e.uniforms[f].value=l.value}}void 0!==a.defines&&(e.defines=a.defines);void 0!==a.vertexShader&&(e.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&
(e.fragmentShader=a.fragmentShader);void 0!==a.glslVersion&&(e.glslVersion=a.glslVersion);if(void 0!==a.extensions)for(const l in a.extensions)e.extensions[l]=a.extensions[l];void 0!==a.size&&(e.size=a.size);void 0!==a.sizeAttenuation&&(e.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(e.map=b(a.map));void 0!==a.matcap&&(e.matcap=b(a.matcap));void 0!==a.alphaMap&&(e.alphaMap=b(a.alphaMap));void 0!==a.bumpMap&&(e.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(e.bumpScale=a.bumpScale);void 0!==a.normalMap&&
(e.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(e.normalMapType=a.normalMapType);void 0!==a.normalScale&&(f=a.normalScale,!1===Array.isArray(f)&&(f=[f,f]),e.normalScale=(new Xb).fromArray(f));void 0!==a.displacementMap&&(e.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(e.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(e.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(e.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(e.metalnessMap=
b(a.metalnessMap));void 0!==a.emissiveMap&&(e.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(e.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(e.specularMap=b(a.specularMap));void 0!==a.specularIntensityMap&&(e.specularIntensityMap=b(a.specularIntensityMap));void 0!==a.specularColorMap&&(e.specularColorMap=b(a.specularColorMap));void 0!==a.envMap&&(e.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(e.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(e.reflectivity=
a.reflectivity);void 0!==a.refractionRatio&&(e.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(e.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(e.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(e.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(e.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(e.gradientMap=b(a.gradientMap));void 0!==a.clearcoatMap&&(e.clearcoatMap=b(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap=b(a.clearcoatRoughnessMap));
void 0!==a.clearcoatNormalMap&&(e.clearcoatNormalMap=b(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(e.clearcoatNormalScale=(new Xb).fromArray(a.clearcoatNormalScale));void 0!==a.iridescenceMap&&(e.iridescenceMap=b(a.iridescenceMap));void 0!==a.iridescenceThicknessMap&&(e.iridescenceThicknessMap=b(a.iridescenceThicknessMap));void 0!==a.transmissionMap&&(e.transmissionMap=b(a.transmissionMap));void 0!==a.thicknessMap&&(e.thicknessMap=b(a.thicknessMap));void 0!==a.sheenColorMap&&(e.sheenColorMap=
b(a.sheenColorMap));void 0!==a.sheenRoughnessMap&&(e.sheenRoughnessMap=b(a.sheenRoughnessMap));return e}setTextures(a){this.textures=a;return this}static createMaterialFromType(a){return new {ShadowMaterial:pk,SpriteMaterial:Li,RawShaderMaterial:qk,ShaderMaterial:ff,PointsMaterial:Qi,MeshPhysicalMaterial:rk,MeshStandardMaterial:aj,MeshPhongMaterial:sk,MeshToonMaterial:tk,MeshNormalMaterial:uk,MeshLambertMaterial:vk,MeshDepthMaterial:si,MeshDistanceMaterial:ti,MeshBasicMaterial:Kf,MeshMatcapMaterial:wk,
LineDashedMaterial:xk,LineBasicMaterial:Ke,Material:Vd}[a]}}class hj{static decodeText(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);let b="";for(let c=0,e=a.length;c<e;c++)b+=String.fromCharCode(a[c]);try{return decodeURIComponent(escape(b))}catch(c){return b}}static extractUrlBase(a){const b=a.lastIndexOf("/");return-1===b?"./":a.slice(0,b+1)}static resolveURL(a,b){if("string"!==typeof a||""===a)return"";/^https?:\/\//i.test(b)&&/^\//.test(a)&&(b=b.replace(/(^https?:\/\/[^\/]+).*/i,
"$1"));return/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?a:b+a}}class Mk extends td{constructor(){super();this.isInstancedBufferGeometry=!0;this.type="InstancedBufferGeometry";this.instanceCount=Infinity}copy(a){super.copy(a);this.instanceCount=a.instanceCount;return this}toJSON(){const a=super.toJSON();a.instanceCount=this.instanceCount;a.isInstancedBufferGeometry=!0;return a}}class Nk extends We{constructor(a){super(a)}load(a,b,c,e){const f=this,l=new Bf(f.manager);
l.setPath(f.path);l.setRequestHeader(f.requestHeader);l.setWithCredentials(f.withCredentials);l.load(a,function(n){try{b(f.parse(JSON.parse(n)))}catch(v){e?e(v):console.error(v),f.manager.itemError(a)}},c,e)}parse(a){function b(S,V){if(void 0!==c[V])return c[V];const ia=S.interleavedBuffers[V];var ha=ia.buffer;void 0!==e[ha]?ha=e[ha]:(S=(new Uint32Array(S.arrayBuffers[ha])).buffer,ha=e[ha]=S);ha=new we[ia.type](ha);ha=new Jh(ha,ia.stride);ha.uuid=ia.uuid;return c[V]=ha}const c={},e={},f=a.isInstancedBufferGeometry?
new Mk:new td;var l=a.data.index;void 0!==l&&(l=new we[l.type](l.array),f.setIndex(new Td(l,1)));l=a.data.attributes;for(var n in l){var v=l[n],E=void 0;v.isInterleavedBufferAttribute?(E=b(a.data,v.data),E=new Dg(E,v.itemSize,v.offset,v.normalized)):(E=new we[v.type](v.array),E=new (v.isInstancedBufferAttribute?Ig:Td)(E,v.itemSize,v.normalized));void 0!==v.name&&(E.name=v.name);void 0!==v.usage&&E.setUsage(v.usage);void 0!==v.updateRange&&(E.updateRange.offset=v.updateRange.offset,E.updateRange.count=
v.updateRange.count);f.setAttribute(n,E)}if(n=a.data.morphAttributes)for(var G in n){l=n[G];v=[];for(let S=0,V=l.length;S<V;S++){E=l[S];var R=void 0;E.isInterleavedBufferAttribute?(R=b(a.data,E.data),R=new Dg(R,E.itemSize,E.offset,E.normalized)):(R=new we[E.type](E.array),R=new Td(R,E.itemSize,E.normalized));void 0!==E.name&&(R.name=E.name);v.push(R)}f.morphAttributes[G]=v}a.data.morphTargetsRelative&&(f.morphTargetsRelative=!0);G=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==G)for(let S=
0,V=G.length;S!==V;++S)n=G[S],f.addGroup(n.start,n.count,n.materialIndex);G=a.data.boundingSphere;void 0!==G&&(n=new Ga,void 0!==G.center&&n.fromArray(G.center),f.boundingSphere=new pf(n,G.radius));a.name&&(f.name=a.name);a.userData&&(f.userData=a.userData);return f}}class Vl extends We{constructor(a){super(a)}load(a,b,c,e){const f=this;var l=""===this.path?hj.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||l;l=new Bf(this.manager);l.setPath(this.path);l.setRequestHeader(this.requestHeader);
l.setWithCredentials(this.withCredentials);l.load(a,function(n){let v=null;try{v=JSON.parse(n)}catch(E){void 0!==e&&e(E);console.error("THREE:ObjectLoader: Can't parse "+a+".",E.message);return}n=v.metadata;void 0===n||void 0===n.type||"geometry"===n.type.toLowerCase()?(void 0!==e&&e(Error("THREE.ObjectLoader: Can't load "+a)),console.error("THREE.ObjectLoader: Can't load "+a)):f.parse(v,b)},c,e)}async loadAsync(a,b){var c=""===this.path?hj.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||
c;c=new Bf(this.manager);c.setPath(this.path);c.setRequestHeader(this.requestHeader);c.setWithCredentials(this.withCredentials);b=await c.loadAsync(a,b);b=JSON.parse(b);c=b.metadata;if(void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+a);return await this.parseAsync(b)}parse(a,b){const c=this.parseAnimations(a.animations);var e=this.parseShapes(a.shapes);const f=this.parseGeometries(a.geometries,e);e=this.parseImages(a.images,function(){void 0!==
b&&b(v)});const l=this.parseTextures(a.textures,e),n=this.parseMaterials(a.materials,l),v=this.parseObject(a.object,f,n,l,c);a=this.parseSkeletons(a.skeletons,v);this.bindSkeletons(v,a);if(void 0!==b){a=!1;for(const E in e)if(e[E].data instanceof HTMLImageElement){a=!0;break}!1===a&&b(v)}return v}async parseAsync(a){var b=this.parseAnimations(a.animations),c=this.parseShapes(a.shapes);c=this.parseGeometries(a.geometries,c);var e=await this.parseImagesAsync(a.images);e=this.parseTextures(a.textures,
e);const f=this.parseMaterials(a.materials,e);b=this.parseObject(a.object,c,f,e,b);a=this.parseSkeletons(a.skeletons,b);this.bindSkeletons(b,a);return b}parseShapes(a){const b={};if(void 0!==a)for(let c=0,e=a.length;c<e;c++){const f=(new dg).fromJSON(a[c]);b[f.uuid]=f}return b}parseSkeletons(a,b){const c={},e={};b.traverse(function(f){f.isBone&&(e[f.uuid]=f)});if(void 0!==a)for(let f=0,l=a.length;f<l;f++)b=(new Oi).fromJSON(a[f],e),c[b.uuid]=b;return c}parseGeometries(a,b){const c={};if(void 0!==
a){const e=new Nk;for(let f=0,l=a.length;f<l;f++){let n;const v=a[f];switch(v.type){case "BufferGeometry":case "InstancedBufferGeometry":n=e.parse(v);break;default:v.type in ok?n=ok[v.type].fromJSON(v,b):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${v.type}"`)}n.uuid=v.uuid;void 0!==v.name&&(n.name=v.name);void 0!==v.userData&&(n.userData=v.userData);c[v.uuid]=n}}return c}parseMaterials(a,b){const c={},e={};if(void 0!==a){const f=new gj;f.setTextures(b);for(let l=0,n=a.length;l<n;l++)b=
a[l],void 0===c[b.uuid]&&(c[b.uuid]=f.parse(b)),e[b.uuid]=c[b.uuid]}return e}parseAnimations(a){const b={};if(void 0!==a)for(let c=0;c<a.length;c++){const e=ih.parse(a[c]);b[e.uuid]=e}return b}parseImages(a,b){function c(E){f.manager.itemStart(E);return n.load(E,function(){f.manager.itemEnd(E)},void 0,function(){f.manager.itemError(E);f.manager.itemEnd(E)})}function e(E){return"string"===typeof E?(E=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(E)?E:f.resourcePath+E,c(E)):E.data?{data:new we[E.type](E.data),width:E.width,
height:E.height}:null}const f=this,l={};let n;if(void 0!==a&&0<a.length){b=new cj(b);n=new jh(b);n.setCrossOrigin(this.crossOrigin);for(let E=0,G=a.length;E<G;E++){b=a[E];var v=b.url;if(Array.isArray(v)){const R=[];for(let S=0,V=v.length;S<V;S++){const ia=e(v[S]);null!==ia&&(ia instanceof HTMLImageElement?R.push(ia):R.push(new Hg(ia.data,ia.width,ia.height)))}l[b.uuid]=new jf(R)}else v=e(b.url),l[b.uuid]=new jf(v)}}return l}async parseImagesAsync(a){async function b(n){return"string"===typeof n?(n=
/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:c.resourcePath+n,await f.loadAsync(n)):n.data?{data:new we[n.type](n.data),width:n.width,height:n.height}:null}const c=this,e={};let f;if(void 0!==a&&0<a.length){f=new jh(this.manager);f.setCrossOrigin(this.crossOrigin);for(let n=0,v=a.length;n<v;n++){const E=a[n];var l=E.url;if(Array.isArray(l)){const G=[];for(let R=0,S=l.length;R<S;R++){const V=await b(l[R]);null!==V&&(V instanceof HTMLImageElement?G.push(V):G.push(new Hg(V.data,V.width,V.height)))}e[E.uuid]=
new jf(G)}else l=await b(E.url),e[E.uuid]=new jf(l)}}return e}parseTextures(a,b){function c(f,l){if("number"===typeof f)return f;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",f);return l[f]}const e={};if(void 0!==a)for(let f=0,l=a.length;f<l;f++){const n=a[f];void 0===n.image&&console.warn('THREE.ObjectLoader: No "image" specified for',n.uuid);void 0===b[n.image]&&console.warn("THREE.ObjectLoader: Undefined image",n.image);const v=b[n.image],E=v.data;let G;Array.isArray(E)?
(G=new Yg,6===E.length&&(G.needsUpdate=!0)):(G=E&&E.data?new Hg:new ie,E&&(G.needsUpdate=!0));G.source=v;G.uuid=n.uuid;void 0!==n.name&&(G.name=n.name);void 0!==n.mapping&&(G.mapping=c(n.mapping,Wl));void 0!==n.offset&&G.offset.fromArray(n.offset);void 0!==n.repeat&&G.repeat.fromArray(n.repeat);void 0!==n.center&&G.center.fromArray(n.center);void 0!==n.rotation&&(G.rotation=n.rotation);void 0!==n.wrap&&(G.wrapS=c(n.wrap[0],Ok),G.wrapT=c(n.wrap[1],Ok));void 0!==n.format&&(G.format=n.format);void 0!==
n.internalFormat&&(G.internalFormat=n.internalFormat);void 0!==n.type&&(G.type=n.type);void 0!==n.encoding&&(G.encoding=n.encoding);void 0!==n.minFilter&&(G.minFilter=c(n.minFilter,Pk));void 0!==n.magFilter&&(G.magFilter=c(n.magFilter,Pk));void 0!==n.anisotropy&&(G.anisotropy=n.anisotropy);void 0!==n.flipY&&(G.flipY=n.flipY);void 0!==n.generateMipmaps&&(G.generateMipmaps=n.generateMipmaps);void 0!==n.premultiplyAlpha&&(G.premultiplyAlpha=n.premultiplyAlpha);void 0!==n.unpackAlignment&&(G.unpackAlignment=
n.unpackAlignment);void 0!==n.userData&&(G.userData=n.userData);e[n.uuid]=G}return e}parseObject(a,b,c,e,f){function l(V){void 0===b[V]&&console.warn("THREE.ObjectLoader: Undefined geometry",V);return b[V]}function n(V){if(void 0!==V){if(Array.isArray(V)){const ia=[];for(let ha=0,Q=V.length;ha<Q;ha++){const la=V[ha];void 0===c[la]&&console.warn("THREE.ObjectLoader: Undefined material",la);ia.push(c[la])}return ia}void 0===c[V]&&console.warn("THREE.ObjectLoader: Undefined material",V);return c[V]}}
function v(V){void 0===e[V]&&console.warn("THREE.ObjectLoader: Undefined texture",V);return e[V]}let E;switch(a.type){case "Scene":var G=new Kj;void 0!==a.background&&(Number.isInteger(a.background)?G.background=new Ic(a.background):G.background=v(a.background));void 0!==a.environment&&(G.environment=v(a.environment));void 0!==a.fog&&("Fog"===a.fog.type?G.fog=new Ki(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(G.fog=new Ji(a.fog.color,a.fog.density)));void 0!==a.backgroundBlurriness&&
(G.backgroundBlurriness=a.backgroundBlurriness);void 0!==a.backgroundIntensity&&(G.backgroundIntensity=a.backgroundIntensity);break;case "PerspectiveCamera":G=new De(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(G.focus=a.focus);void 0!==a.zoom&&(G.zoom=a.zoom);void 0!==a.filmGauge&&(G.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(G.filmOffset=a.filmOffset);void 0!==a.view&&(G.view=Object.assign({},a.view));break;case "OrthographicCamera":G=new Ih(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==
a.zoom&&(G.zoom=a.zoom);void 0!==a.view&&(G.view=Object.assign({},a.view));break;case "AmbientLight":G=new Jk(a.color,a.intensity);break;case "DirectionalLight":G=new Ik(a.color,a.intensity);break;case "PointLight":G=new Hk(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":G=new Kk(a.color,a.intensity,a.width,a.height);break;case "SpotLight":G=new Fk(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":G=new Ck(a.color,a.groundColor,a.intensity);
break;case "LightProbe":G=(new gi).fromJSON(a);break;case "SkinnedMesh":G=l(a.geometry);E=n(a.material);G=new Uj(G,E);void 0!==a.bindMode&&(G.bindMode=a.bindMode);void 0!==a.bindMatrix&&G.bindMatrix.fromArray(a.bindMatrix);void 0!==a.skeleton&&(G.skeleton=a.skeleton);break;case "Mesh":G=l(a.geometry);E=n(a.material);G=new ze(G,E);break;case "InstancedMesh":G=l(a.geometry);E=n(a.material);var R=a.instanceMatrix,S=a.instanceColor;G=new Yj(G,E,a.count);G.instanceMatrix=new Ig(new Float32Array(R.array),
16);void 0!==S&&(G.instanceColor=new Ig(new Float32Array(S.array),S.itemSize));break;case "LOD":G=new Pj;break;case "Line":G=new Lf(l(a.geometry),n(a.material));break;case "LineLoop":G=new ek(l(a.geometry),n(a.material));break;case "LineSegments":G=new sf(l(a.geometry),n(a.material));break;case "PointCloud":case "Points":G=new gk(l(a.geometry),n(a.material));break;case "Sprite":G=new Nj(n(a.material));break;case "Group":G=new Cg;break;case "Bone":G=new Ni;break;default:G=new eb}G.uuid=a.uuid;void 0!==
a.name&&(G.name=a.name);void 0!==a.matrix?(G.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(G.matrixAutoUpdate=a.matrixAutoUpdate),G.matrixAutoUpdate&&G.matrix.decompose(G.position,G.quaternion,G.scale)):(void 0!==a.position&&G.position.fromArray(a.position),void 0!==a.rotation&&G.rotation.fromArray(a.rotation),void 0!==a.quaternion&&G.quaternion.fromArray(a.quaternion),void 0!==a.scale&&G.scale.fromArray(a.scale));void 0!==a.castShadow&&(G.castShadow=a.castShadow);void 0!==a.receiveShadow&&
(G.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(G.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(G.shadow.normalBias=a.shadow.normalBias),void 0!==a.shadow.radius&&(G.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&G.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(G.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(G.visible=a.visible);void 0!==a.frustumCulled&&(G.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&
(G.renderOrder=a.renderOrder);void 0!==a.userData&&(G.userData=a.userData);void 0!==a.layers&&(G.layers.mask=a.layers);if(void 0!==a.children)for(R=a.children,S=0;S<R.length;S++)G.add(this.parseObject(R[S],b,c,e,f));if(void 0!==a.animations)for(R=a.animations,S=0;S<R.length;S++)G.animations.push(f[R[S]]);if("LOD"===a.type)for(void 0!==a.autoUpdate&&(G.autoUpdate=a.autoUpdate),a=a.levels,f=0;f<a.length;f++)R=a[f],S=G.getObjectByProperty("uuid",R.object),void 0!==S&&G.addLevel(S,R.distance,R.hysteresis);
return G}bindSkeletons(a,b){0!==Object.keys(b).length&&a.traverse(function(c){if(!0===c.isSkinnedMesh&&void 0!==c.skeleton){const e=b[c.skeleton];void 0===e?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",c.skeleton):c.bind(e,c.bindMatrix)}})}}const Wl={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},Ok={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},
Pk={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};class Xl extends We{constructor(a){super(a);this.isImageBitmapLoader=!0;"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.options={premultiplyAlpha:"none"}}setOptions(a){this.options=
a;return this}load(a,b,c,e){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const f=this,l=eg.get(a);if(void 0!==l)return f.manager.itemStart(a),setTimeout(function(){b&&b(l);f.manager.itemEnd(a)},0),l;c={};c.credentials="anonymous"===this.crossOrigin?"same-origin":"include";c.headers=this.requestHeader;fetch(a,c).then(function(n){return n.blob()}).then(function(n){return createImageBitmap(n,Object.assign(f.options,{colorSpaceConversion:"none"}))}).then(function(n){eg.add(a,
n);b&&b(n);f.manager.itemEnd(a)}).catch(function(n){e&&e(n);f.manager.itemError(a);f.manager.itemEnd(a)});f.manager.itemStart(a)}}let hi;class ij{static getContext(){void 0===hi&&(hi=new (window.AudioContext||window.webkitAudioContext));return hi}static setContext(a){hi=a}}class Yl extends We{constructor(a){super(a)}load(a,b,c,e){const f=this,l=new Bf(this.manager);l.setResponseType("arraybuffer");l.setPath(this.path);l.setRequestHeader(this.requestHeader);l.setWithCredentials(this.withCredentials);
l.load(a,function(n){try{const v=n.slice(0);ij.getContext().decodeAudioData(v,function(E){b(E)})}catch(v){e?e(v):console.error(v),f.manager.itemError(a)}},c,e)}}class Zl extends gi{constructor(a,b,c=1){super(void 0,c);this.isHemisphereLightProbe=!0;a=(new Ic).set(a);c=(new Ic).set(b);b=new Ga(a.r,a.g,a.b);a=new Ga(c.r,c.g,c.b);c=Math.sqrt(Math.PI);const e=c*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add(a).multiplyScalar(c);this.sh.coefficients[1].copy(b).sub(a).multiplyScalar(e)}}class $l extends gi{constructor(a,
b=1){super(void 0,b);this.isAmbientLightProbe=!0;a=(new Ic).set(a);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Qk=new gd,Rk=new gd,fg=new gd;class am{constructor(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new De;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new De;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,
eyeSep:null}}update(a){const b=this._cache;if(b.focus!==a.focus||b.fov!==a.fov||b.aspect!==a.aspect*this.aspect||b.near!==a.near||b.far!==a.far||b.zoom!==a.zoom||b.eyeSep!==this.eyeSep){b.focus=a.focus;b.fov=a.fov;b.aspect=a.aspect*this.aspect;b.near=a.near;b.far=a.far;b.zoom=a.zoom;b.eyeSep=this.eyeSep;fg.copy(a.projectionMatrix);var c=b.eyeSep/2;const e=c*b.near/b.focus,f=b.near*Math.tan(fd*b.fov*.5)/b.zoom;let l;Rk.elements[12]=-c;Qk.elements[12]=c;c=-f*b.aspect+e;l=f*b.aspect+e;fg.elements[0]=
2*b.near/(l-c);fg.elements[8]=(l+c)/(l-c);this.cameraL.projectionMatrix.copy(fg);c=-f*b.aspect-e;l=f*b.aspect-e;fg.elements[0]=2*b.near/(l-c);fg.elements[8]=(l+c)/(l-c);this.cameraR.projectionMatrix.copy(fg)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(Rk);this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(Qk)}}class Sk{constructor(a=!0){this.autoStart=a;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}start(){this.oldTime=this.startTime=Ec();this.elapsedTime=0;this.running=
!0}stop(){this.getElapsedTime();this.autoStart=this.running=!1}getElapsedTime(){this.getDelta();return this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const b=Ec();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}}const gg=new Ga,Tk=new te,bm=new Ga,hg=new Ga;class cm extends eb{constructor(){super();this.type="AudioListener";this.context=ij.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);
this.filter=null;this.timeDelta=0;this._clock=new Sk}getInput(){return this.gain}removeFilter(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this}getFilter(){return this.filter}setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);
this.filter.connect(this.context.destination);return this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}updateMatrixWorld(a){super.updateMatrixWorld(a);a=this.context.listener;const b=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(gg,Tk,bm);hg.set(0,0,-1).applyQuaternion(Tk);if(a.positionX){const c=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(gg.x,
c);a.positionY.linearRampToValueAtTime(gg.y,c);a.positionZ.linearRampToValueAtTime(gg.z,c);a.forwardX.linearRampToValueAtTime(hg.x,c);a.forwardY.linearRampToValueAtTime(hg.y,c);a.forwardZ.linearRampToValueAtTime(hg.z,c);a.upX.linearRampToValueAtTime(b.x,c);a.upY.linearRampToValueAtTime(b.y,c);a.upZ.linearRampToValueAtTime(b.z,c)}else a.setPosition(gg.x,gg.y,gg.z),a.setOrientation(hg.x,hg.y,hg.z,b.x,b.y,b.z)}}class Uk extends eb{constructor(a){super();this.type="Audio";this.listener=a;this.context=
a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=this._startedAt=0;this._connected=!1;this.filters=[]}getOutput(){return this.gain}setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();
return this}setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this}setMediaStreamSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();return this}setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this}play(a=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");
else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===
this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,null!==this.source&&(this.source.stop(),
this.source.onended=null),this.isPlaying=!1,this}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=!0;return this}disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());this._connected=!1;return this}getFilters(){return this.filters}setFilters(a){a||(a=[]);!0===this._connected?(this.disconnect(),this.filters=a.slice(),this.connect()):this.filters=a.slice();return this}setDetune(a){this.detune=a;if(void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?
[a]:[])}setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(a){this.loopStart=a;return this}setLoopEnd(a){this.loopEnd=a;return this}getVolume(){return this.gain.gain.value}setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}}const ig=new Ga,Vk=new te,dm=new Ga,jg=new Ga;class em extends Uk{constructor(a){super(a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}disconnect(){super.disconnect();
this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){this.panner.refDistance=a;return this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){this.panner.rolloffFactor=a;return this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){this.panner.distanceModel=a;return this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){this.panner.maxDistance=a;return this}setDirectionalCone(a,
b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this}updateMatrixWorld(a){super.updateMatrixWorld(a);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(ig,Vk,dm),jg.set(0,0,1).applyQuaternion(Vk),a=this.panner,a.positionX){const b=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(ig.x,b);a.positionY.linearRampToValueAtTime(ig.y,b);a.positionZ.linearRampToValueAtTime(ig.z,b);a.orientationX.linearRampToValueAtTime(jg.x,
b);a.orientationY.linearRampToValueAtTime(jg.y,b);a.orientationZ.linearRampToValueAtTime(jg.z,b)}else a.setPosition(ig.x,ig.y,ig.z),a.setOrientation(jg.x,jg.y,jg.z)}}class fm{constructor(a,b=2048){this.analyser=a.context.createAnalyser();this.analyser.fftSize=b;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}getAverageFrequency(){let a=0;const b=this.getFrequencyData();
for(let c=0;c<b.length;c++)a+=b[c];return a/b.length}}class Wk{constructor(a,b,c){this.binding=a;this.valueSize=c;let e;switch(b){case "quaternion":a=this._slerp;b=this._slerpAdditive;e=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*c);this._workIndex=5;break;case "string":case "bool":b=a=this._select;e=this._setAdditiveIdentityOther;this.buffer=Array(5*c);break;default:a=this._lerp,b=this._lerpAdditive,e=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*c)}this._mixBufferRegion=
a;this._mixBufferRegionAdditive=b;this._setIdentity=e;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}accumulate(a,b){const c=this.buffer,e=this.valueSize;a=a*e+e;var f=this.cumulativeWeight;if(0===f){for(f=0;f!==e;++f)c[a+f]=c[f];f=b}else f+=b,this._mixBufferRegion(c,a,0,b/f,e);this.cumulativeWeight=f}accumulateAdditive(a){const b=this.buffer,c=this.valueSize,e=c*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity();
this._mixBufferRegionAdditive(b,e,0,a,c);this.cumulativeWeightAdditive+=a}apply(a){const b=this.valueSize,c=this.buffer;a=a*b+b;const e=this.cumulativeWeight,f=this.cumulativeWeightAdditive,l=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>e&&this._mixBufferRegion(c,a,b*this._origIndex,1-e,b);0<f&&this._mixBufferRegionAdditive(c,a,this._addIndex*b,1,b);for(let n=b,v=b+b;n!==v;++n)if(c[n]!==c[n+b]){l.setValue(c,a);break}}saveOriginalState(){const a=this.buffer,b=this.valueSize,
c=b*this._origIndex;this.binding.getValue(a,c);for(let e=b,f=c;e!==f;++e)a[e]=a[c+e%b];this._setIdentity();this.cumulativeWeightAdditive=this.cumulativeWeight=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){var a=this._addIndex*this.valueSize;const b=a+this.valueSize;for(;a<b;a++)this.buffer[a]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const a=
this._origIndex*this.valueSize,b=this._addIndex*this.valueSize;for(let c=0;c<this.valueSize;c++)this.buffer[b+c]=this.buffer[a+c]}_select(a,b,c,e,f){if(.5<=e)for(e=0;e!==f;++e)a[b+e]=a[c+e]}_slerp(a,b,c,e){te.slerpFlat(a,b,a,b,a,c,e)}_slerpAdditive(a,b,c,e,f){f*=this._workIndex;te.multiplyQuaternionsFlat(a,f,a,b,a,c);te.slerpFlat(a,b,a,b,a,f,e)}_lerp(a,b,c,e,f){const l=1-e;for(let n=0;n!==f;++n){const v=b+n;a[v]=a[v]*l+a[c+n]*e}}_lerpAdditive(a,b,c,e,f){for(let l=0;l!==f;++l){const n=b+l;a[n]+=a[c+
l]*e}}}const gm=RegExp("[\\[\\]\\.:\\/]","g"),hm=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),im=/(WCOD+)?/.source.replace("WCOD","[^\\[\\]:\\/]"),jm=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),km=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),lm=new RegExp("^"+hm+im+jm+km+"$"),mm=["material","materials","bones","map"];class nm{constructor(a,b,c){c=c||Fd.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}getValue(a,b){this.bind();
const c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)}setValue(a,b){const c=this._bindings;for(let e=this._targetGroup.nCachedObjects_,f=c.length;e!==f;++e)c[e].setValue(a,b)}bind(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()}unbind(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].unbind()}}class Fd{constructor(a,b,c){this.path=b;this.parsedPath=c||Fd.parseTrackName(b);
this.node=Fd.findNode(a,this.parsedPath.nodeName);this.rootNode=a;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}static create(a,b,c){return a&&a.isAnimationObjectGroup?new Fd.Composite(a,b,c):new Fd(a,b,c)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(gm,"")}static parseTrackName(a){var b=lm.exec(a);if(null===b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};
const c=b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){const e=b.nodeName.substring(c+1);-1!==mm.indexOf(e)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=e)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b}static findNode(a,b){if(void 0===b||""===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){const c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){const c=
function(e){for(let l=0;l<e.length;l++){var f=e[l];if(f.name===b||f.uuid===b||(f=c(f.children)))return f}return null};if(a=c(a.children))return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,b){a[b]=this.targetObject[this.propertyName]}_getValue_array(a,b){const c=this.resolvedProperty;for(let e=0,f=c.length;e!==f;++e)a[b++]=c[e]}_getValue_arrayElement(a,b){a[b]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,b){this.resolvedProperty.toArray(a,b)}_setValue_direct(a,
b){this.targetObject[this.propertyName]=a[b]}_setValue_direct_setNeedsUpdate(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,b){const c=this.resolvedProperty;for(let e=0,f=c.length;e!==f;++e)c[e]=a[b++]}_setValue_array_setNeedsUpdate(a,b){const c=this.resolvedProperty;for(let e=0,f=c.length;e!==f;++e)c[e]=a[b++];this.targetObject.needsUpdate=
!0}_setValue_array_setMatrixWorldNeedsUpdate(a,b){const c=this.resolvedProperty;for(let e=0,f=c.length;e!==f;++e)c[e]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,b){this.resolvedProperty[this.propertyIndex]=a[b]}_setValue_arrayElement_setNeedsUpdate(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=
!0}_setValue_fromArray(a,b){this.resolvedProperty.fromArray(a,b)}_setValue_fromArray_setNeedsUpdate(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,b){this.bind();this.getValue(a,b)}_setValue_unbound(a,b){this.bind();this.setValue(a,b)}bind(){let a=this.node;var b=this.parsedPath,c=b.objectName;const e=b.propertyName;let f=
b.propertyIndex;a||(this.node=a=Fd.findNode(this.rootNode,b.nodeName));this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var l=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=
a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===l){l=c;break}break;case "map":if("map"in a){a=a.map;break}if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",
this);return}a=a.material.map;break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c]}if(void 0!==l){if(void 0===a[l]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[l]}}l=a[e];if(void 0===l)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+e+" but it wasn't found.",a);else{b=this.Versioning.None;this.targetObject=
a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=this.BindingType.Direct;if(void 0!==f){if("morphTargetInfluences"===e){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}void 0!==a.morphTargetDictionary[f]&&(f=a.morphTargetDictionary[f])}c=this.BindingType.ArrayElement;this.resolvedProperty=l;this.propertyIndex=f}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=e;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+
this.path+" but it wasn't found.")}unbind(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}}Fd.Composite=nm;Fd.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Fd.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Fd.prototype.GetterByBindingType=[Fd.prototype._getValue_direct,Fd.prototype._getValue_array,Fd.prototype._getValue_arrayElement,Fd.prototype._getValue_toArray];Fd.prototype.SetterByBindingTypeAndVersioning=
[[Fd.prototype._setValue_direct,Fd.prototype._setValue_direct_setNeedsUpdate,Fd.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fd.prototype._setValue_array,Fd.prototype._setValue_array_setNeedsUpdate,Fd.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fd.prototype._setValue_arrayElement,Fd.prototype._setValue_arrayElement_setNeedsUpdate,Fd.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fd.prototype._setValue_fromArray,Fd.prototype._setValue_fromArray_setNeedsUpdate,Fd.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];
class om{constructor(){this.isAnimationObjectGroup=!0;this.uuid=J();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let c=0,e=arguments.length;c!==e;++c)a[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};const b=this;this.stats={objects:{get total(){return b._objects.length},get inUse(){return this.total-b.nCachedObjects_}},get bindingsPerObject(){return b._bindings.length}}}add(){const a=
this._objects,b=this._indicesByUUID,c=this._paths,e=this._parsedPaths,f=this._bindings,l=f.length;let n=void 0,v=a.length,E=this.nCachedObjects_;for(let S=0,V=arguments.length;S!==V;++S){const ia=arguments[S];var G=ia.uuid;let ha=b[G];if(void 0===ha){ha=v++;b[G]=ha;a.push(ia);for(let Q=0,la=l;Q!==la;++Q)f[Q].push(new Fd(ia,c[Q],e[Q]))}else if(ha<E){n=a[ha];const Q=--E;var R=a[Q];b[R.uuid]=ha;a[ha]=R;b[G]=Q;a[Q]=ia;for(let la=0,Xa=l;la!==Xa;++la)G=f[la],R=G[ha],G[ha]=G[Q],void 0===R&&(R=new Fd(ia,
c[la],e[la])),G[Q]=R}else a[ha]!==n&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=E}remove(){const a=this._objects,b=this._indicesByUUID,c=this._bindings,e=c.length;let f=this.nCachedObjects_;for(let v=0,E=arguments.length;v!==E;++v){var l=arguments[v],n=l.uuid;const G=b[n];if(void 0!==G&&G>=f){const R=f++,S=a[R];b[S.uuid]=G;a[G]=S;b[n]=R;a[R]=l;for(let V=0,ia=
e;V!==ia;++V)l=c[V],n=l[G],l[G]=l[R],l[R]=n}}this.nCachedObjects_=f}uncache(){const a=this._objects,b=this._indicesByUUID,c=this._bindings,e=c.length;let f=this.nCachedObjects_,l=a.length;for(let R=0,S=arguments.length;R!==S;++R){var n=arguments[R].uuid;const V=b[n];if(void 0!==V)if(delete b[n],V<f){n=--f;var v=a[n],E=--l,G=a[E];b[v.uuid]=V;a[V]=v;b[G.uuid]=n;a[n]=G;a.pop();for(let ia=0,ha=e;ia!==ha;++ia)v=c[ia],G=v[E],v[V]=v[n],v[n]=G,v.pop()}else{n=--l;E=a[n];0<n&&(b[E.uuid]=V);a[V]=E;a.pop();for(let ia=
0,ha=e;ia!==ha;++ia)E=c[ia],E[V]=E[n],E.pop()}}this.nCachedObjects_=f}subscribe_(a,b){const c=this._bindingsIndicesByPath;let e=c[a];const f=this._bindings;if(void 0!==e)return f[e];const l=this._paths,n=this._parsedPaths,v=this._objects,E=this.nCachedObjects_,G=Array(v.length);e=f.length;c[a]=e;l.push(a);n.push(b);f.push(G);for(let R=E,S=v.length;R!==S;++R)G[R]=new Fd(v[R],a,b);return G}unsubscribe_(a){const b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){const e=this._paths,f=this._parsedPaths,
l=this._bindings,n=l.length-1,v=l[n];b[a[n]]=c;l[c]=v;l.pop();f[c]=f[n];f.pop();e[c]=e[n];e.pop()}}}class pm{constructor(a,b,c=null,e=b.blendMode){this._mixer=a;this._clip=b;this._localRoot=c;this.blendMode=e;a=b.tracks;b=a.length;c=Array(b);e={endingStart:2400,endingEnd:2400};for(let f=0;f!==b;++f){const l=a[f].createInterpolant(null);c[f]=l;l.settings=e}this._interpolantSettings=e;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=
this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}play(){this._mixer._activateAction(this);return this}stop(){this._mixer._deactivateAction(this);return this.reset()}reset(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()}isRunning(){return this.enabled&&
!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){this._startTime=a;return this}setLoop(a,b){this.loop=a;this.repetitions=b;return this}setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,
b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;const e=a._clip.duration,f=c/e;a.warp(1,e/c,b);this.warp(f,1,b)}return this}crossFadeTo(a,b,c){return a.crossFadeFrom(this,b,c)}stopFading(){const a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){this.timeScale=
this._clip.duration/a;return this.stopWarping()}syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,b,c){var e=this._mixer;const f=e.time,l=this.timeScale;var n=this._timeScaleInterpolant;null===n&&(this._timeScaleInterpolant=n=e._lendControlInterpolant());e=n.parameterPositions;n=n.sampleValues;e[0]=f;e[1]=f+c;n[0]=a/l;n[1]=b/l;return this}stopWarping(){const a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,b,c,e){if(this.enabled){var f=this._startTime;null!==f&&(b=(a-f)*c,0>b||0===c?b=0:(this._startTime=null,b*=c));b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a)switch(b=this._interpolants,f=this._propertyBindings,this.blendMode){case 2501:for(let l=0,n=b.length;l!==n;++l)b[l].evaluate(c),
f[l].accumulateAdditive(a);break;default:for(let l=0,n=b.length;l!==n;++l)b[l].evaluate(c),f[l].accumulate(e,a)}}else this._updateWeight(a)}_updateWeight(a){let b=0;if(this.enabled){b=this.weight;const c=this._weightInterpolant;if(null!==c){const e=c.evaluate(a)[0];b*=e;a>c.parameterPositions[1]&&(this.stopFading(),0===e&&(this.enabled=!1))}}return this._effectiveWeight=b}_updateTimeScale(a){let b=0;if(!this.paused){b=this.timeScale;const c=this._timeScaleInterpolant;if(null!==c){const e=c.evaluate(a)[0];
b*=e;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b}_updateTime(a){const b=this._clip.duration;var c=this.loop;let e=this.time+a,f=this._loopCount;const l=2202===c;if(0===a)return-1===f?e:l&&1===(f&1)?b-e:e;if(2200===c)a:{if(-1===f&&(this._loopCount=0,this._setEndings(!0,!0,!1)),e>=b)e=b;else if(0>e)e=0;else{this.time=e;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=e;this._mixer.dispatchEvent({type:"finished",
action:this,direction:0>a?-1:1})}else{-1===f&&(0<=a?(f=0,this._setEndings(!0,0===this.repetitions,l)):this._setEndings(0===this.repetitions,!0,l));if(e>=b||0>e){c=Math.floor(e/b);e-=b*c;f+=Math.abs(c);const n=this.repetitions-f;0>=n?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e=0<a?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===n?(a=0>a,this._setEndings(a,!a,l)):this._setEndings(!1,!1,l),this._loopCount=f,this.time=e,this._mixer.dispatchEvent({type:"loop",
action:this,loopDelta:c}))}else this.time=e;if(l&&1===(f&1))return b-e}return e}_setEndings(a,b,c){const e=this._interpolantSettings;c?(e.endingStart=2401,e.endingEnd=2401):(e.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,e.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(a,b,c){var e=this._mixer;const f=e.time;var l=this._weightInterpolant;null===l&&(this._weightInterpolant=l=e._lendControlInterpolant());e=l.parameterPositions;l=l.sampleValues;e[0]=f;l[0]=b;e[1]=f+a;l[1]=c;return this}}
const qm=new Float32Array(1);class rm extends Yc{constructor(a){super();this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}_bindAction(a,b){const c=a._localRoot||this._root,e=a._clip.tracks,f=e.length,l=a._propertyBindings;a=a._interpolants;const n=c.uuid;var v=this._bindingsByRootAndName;let E=v[n];void 0===E&&(E={},v[n]=E);for(v=0;v!==f;++v){const G=e[v],R=G.name;let S=E[R];if(void 0!==S)++S.referenceCount;else{S=l[v];if(void 0!==S){null===S._cacheIndex&&(++S.referenceCount,
this._addInactiveBinding(S,n,R));continue}S=new Wk(Fd.create(c,R,b&&b._propertyBindings[v].binding.parsedPath),G.ValueTypeName,G.getValueSize());++S.referenceCount;this._addInactiveBinding(S,n,R)}l[v]=S;a[v].resultBuffer=S.buffer}}_activateAction(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid;const e=this._actionsByClip[c];this._bindAction(a,e&&e.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;for(let e=0,f=b.length;e!==
f;++e)c=b[e],0===c.useCount++&&(this._lendBinding(c),c.saveOriginalState());this._lendAction(a)}}_deactivateAction(a){if(this._isActiveAction(a)){const b=a._propertyBindings;for(let c=0,e=b.length;c!==e;++c){const f=b[c];0===--f.useCount&&(f.restoreOriginalState(),this._takeBackBinding(f))}this._takeBackAction(a)}}_initMemoryManager(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];
this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}}_isActiveAction(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions}_addInactiveAction(a,b,c){const e=this._actions,f=this._actionsByClip;
let l=f[b];void 0===l?(l={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,f[b]=l):(b=l.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=e.length;e.push(a);l.actionByRoot[c]=a}_removeInactiveAction(a){var b=this._actions,c=b[b.length-1],e=a._cacheIndex;c._cacheIndex=e;b[e]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;e=c[b];const f=e.knownActions,l=f[f.length-1],n=a._byClipCacheIndex;l._byClipCacheIndex=n;f[n]=l;f.pop();a._byClipCacheIndex=null;delete e.actionByRoot[(a._localRoot||
this._root).uuid];0===f.length&&delete c[b];this._removeInactiveBindingsForAction(a)}_removeInactiveBindingsForAction(a){a=a._propertyBindings;for(let b=0,c=a.length;b!==c;++b){const e=a[b];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(a){const b=this._actions,c=a._cacheIndex,e=this._nActiveActions++,f=b[e];a._cacheIndex=e;b[e]=a;f._cacheIndex=c;b[c]=f}_takeBackAction(a){const b=this._actions,c=a._cacheIndex,e=--this._nActiveActions,f=b[e];a._cacheIndex=e;b[e]=a;f._cacheIndex=
c;b[c]=f}_addInactiveBinding(a,b,c){const e=this._bindingsByRootAndName,f=this._bindings;let l=e[b];void 0===l&&(l={},e[b]=l);l[c]=a;a._cacheIndex=f.length;f.push(a)}_removeInactiveBinding(a){const b=this._bindings;var c=a.binding;const e=c.rootNode.uuid;c=c.path;const f=this._bindingsByRootAndName,l=f[e],n=b[b.length-1];a=a._cacheIndex;n._cacheIndex=a;b[a]=n;b.pop();delete l[c];0===Object.keys(l).length&&delete f[e]}_lendBinding(a){const b=this._bindings,c=a._cacheIndex,e=this._nActiveBindings++,
f=b[e];a._cacheIndex=e;b[e]=a;f._cacheIndex=c;b[c]=f}_takeBackBinding(a){const b=this._bindings,c=a._cacheIndex,e=--this._nActiveBindings,f=b[e];a._cacheIndex=e;b[e]=a;f._cacheIndex=c;b[c]=f}_lendControlInterpolant(){const a=this._controlInterpolants,b=this._nActiveControlInterpolants++;let c=a[b];void 0===c&&(c=new bj(new Float32Array(2),new Float32Array(2),1,qm),c.__cacheIndex=b,a[b]=c);return c}_takeBackControlInterpolant(a){const b=this._controlInterpolants,c=a.__cacheIndex,e=--this._nActiveControlInterpolants,
f=b[e];a.__cacheIndex=e;b[e]=a;f.__cacheIndex=c;b[c]=f}clipAction(a,b,c){var e=b||this._root;const f=e.uuid;e="string"===typeof a?ih.findByName(e,a):a;a=null!==e?e.uuid:a;const l=this._actionsByClip[a];var n=null;void 0===c&&(c=null!==e?e.blendMode:2500);if(void 0!==l){n=l.actionByRoot[f];if(void 0!==n&&n.blendMode===c)return n;n=l.knownActions[0];null===e&&(e=n._clip)}if(null===e)return null;b=new pm(this,e,b,c);this._bindAction(b,n);this._addInactiveAction(b,a,f);return b}existingAction(a,b){var c=
b||this._root;b=c.uuid;c="string"===typeof a?ih.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null}stopAllAction(){const a=this._actions;var b=this._nActiveActions;for(--b;0<=b;--b)a[b].stop();return this}update(a){a*=this.timeScale;var b=this._actions,c=this._nActiveActions;const e=this.time+=a,f=Math.sign(a),l=this._accuIndex^=1;for(let n=0;n!==c;++n)b[n]._update(e,a,f,l);a=this._bindings;b=this._nActiveBindings;for(c=0;c!==b;++c)a[c].apply(l);return this}setTime(a){this.time=
0;for(let b=0;b<this._actions.length;b++)this._actions[b].time=0;return this.update(a)}getRoot(){return this._root}uncacheClip(a){const b=this._actions;a=a.uuid;const c=this._actionsByClip;var e=c[a];if(void 0!==e){e=e.knownActions;for(let f=0,l=e.length;f!==l;++f){const n=e[f];this._deactivateAction(n);const v=n._cacheIndex,E=b[b.length-1];n._cacheIndex=null;n._byClipCacheIndex=null;E._cacheIndex=v;b[v]=E;b.pop();this._removeInactiveBindingsForAction(n)}delete c[a]}}uncacheRoot(a){a=a.uuid;const b=
this._actionsByClip;for(var c in b){const e=b[c].actionByRoot[a];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}c=this._bindingsByRootAndName[a];if(void 0!==c)for(const e in c)a=c[e],a.restoreOriginalState(),this._removeInactiveBinding(a)}uncacheAction(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}}class Xk{constructor(a){this.value=a}clone(){return new Xk(void 0===this.value.clone?this.value:this.value.clone())}}let sm=
0;class tm extends Yc{constructor(){super();this.isUniformsGroup=!0;Object.defineProperty(this,"id",{value:sm++});this.name="";this.usage=35044;this.uniforms=[]}add(a){this.uniforms.push(a);return this}remove(a){a=this.uniforms.indexOf(a);-1!==a&&this.uniforms.splice(a,1);return this}setName(a){this.name=a;return this}setUsage(a){this.usage=a;return this}dispose(){this.dispatchEvent({type:"dispose"});return this}copy(a){this.name=a.name;this.usage=a.usage;a=a.uniforms;this.uniforms.length=0;for(let b=
0,c=a.length;b<c;b++)this.uniforms.push(a[b].clone());return this}clone(){return(new this.constructor).copy(this)}}class um extends Jh{constructor(a,b,c=1){super(a,b);this.isInstancedInterleavedBuffer=!0;this.meshPerAttribute=c}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}clone(a){a=super.clone(a);a.meshPerAttribute=this.meshPerAttribute;return a}toJSON(a){a=super.toJSON(a);a.isInstancedInterleavedBuffer=!0;a.meshPerAttribute=this.meshPerAttribute;return a}}class vm{constructor(a,
b,c,e,f){this.isGLBufferAttribute=!0;this.name="";this.buffer=a;this.type=b;this.itemSize=c;this.elementSize=e;this.count=f;this.version=0}set needsUpdate(a){!0===a&&this.version++}setBuffer(a){this.buffer=a;return this}setType(a,b){this.type=a;this.elementSize=b;return this}setItemSize(a){this.itemSize=a;return this}setCount(a){this.count=a;return this}}class wm{constructor(a,b,c=0,e=Infinity){this.ray=new Jf(a,b);this.near=c;this.far=e;this.camera=null;this.layers=new Ef;this.params={Mesh:{},Line:{threshold:1},
LOD:{},Points:{threshold:1},Sprite:{}}}set(a,b){this.ray.set(a,b)}setFromCamera(a,b){b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize(),this.camera=b):b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld),this.camera=b):console.error("THREE.Raycaster: Unsupported camera type: "+b.type)}intersectObject(a,
b=!0,c=[]){Hd(a,this,c,b);c.sort(cd);return c}intersectObjects(a,b=!0,c=[]){for(let e=0,f=a.length;e<f;e++)Hd(a[e],this,c,b);c.sort(cd);return c}}class xm{constructor(a=1,b=0,c=0){this.radius=a;this.phi=b;this.theta=c;return this}set(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this}copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this}makeSafe(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,
a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=Math.sqrt(a*a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,c),this.phi=Math.acos(r(b/this.radius,-1,1)));return this}clone(){return(new this.constructor).copy(this)}}class ym{constructor(a=1,b=0,c=0){this.radius=a;this.theta=b;this.y=c;return this}set(a,b,c){this.radius=a;this.theta=b;this.y=c;return this}copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,
a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=Math.sqrt(a*a+c*c);this.theta=Math.atan2(a,c);this.y=b;return this}clone(){return(new this.constructor).copy(this)}}const Yk=new Xb;class zm{constructor(a=new Xb(Infinity,Infinity),b=new Xb(-Infinity,-Infinity)){this.isBox2=!0;this.min=a;this.max=b}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=Yk.copy(b).multiplyScalar(.5);
this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);
this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,b){return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return a.max.x<
this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0}clampPoint(a,b){return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,Yk).distanceTo(a)}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const Zk=new Ga,ii=new Ga;
class Am{constructor(a=new Ga,b=new Ga){this.start=a;this.end=b}set(a,b){this.start.copy(a);this.end.copy(b);return this}copy(a){this.start.copy(a.start);this.end.copy(a.end);return this}getCenter(a){return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,b){return this.delta(b).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,
b){Zk.subVectors(a,this.start);ii.subVectors(this.end,this.start);a=ii.dot(ii);a=ii.dot(Zk)/a;b&&(a=r(a,0,1));return a}closestPointToPoint(a,b,c){a=this.closestPointToPointParameter(a,b);return this.delta(c).multiplyScalar(a).add(this.start)}applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const $k=new Ga;class Bm extends eb{constructor(a,b){super();this.light=
a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;this.type="SpotLightHelper";a=new td;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,e=1,f=32;c<f;c++,e++){const l=c/f*Math.PI*2,n=e/f*Math.PI*2;b.push(Math.cos(l),Math.sin(l),1,Math.cos(n),Math.sin(n),1)}a.setAttribute("position",new Pc(b,3));b=new Ke({fog:!1,toneMapped:!1});this.cone=new sf(a,b);this.add(this.cone);this.update()}dispose(){this.cone.geometry.dispose();this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,
!1);this.light.target.updateWorldMatrix(!0,!1);const a=this.light.distance?this.light.distance:1E3,b=a*Math.tan(this.light.angle);this.cone.scale.set(b,b,a);$k.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt($k);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Of=new Ga,ji=new gd,jj=new gd;class Cm extends sf{constructor(a){const b=Id(a),c=new td;var e=[];const f=[],l=new Ic(0,0,1),n=new Ic(0,1,0);for(let v=0;v<
b.length;v++){const E=b[v];E.parent&&E.parent.isBone&&(e.push(0,0,0),e.push(0,0,0),f.push(l.r,l.g,l.b),f.push(n.r,n.g,n.b))}c.setAttribute("position",new Pc(e,3));c.setAttribute("color",new Pc(f,3));e=new Ke({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(c,e);this.isSkeletonHelper=!0;this.type="SkeletonHelper";this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}updateMatrixWorld(a){const b=this.bones,c=this.geometry,e=c.getAttribute("position");
jj.copy(this.root.matrixWorld).invert();for(let f=0,l=0;f<b.length;f++){const n=b[f];n.parent&&n.parent.isBone&&(ji.multiplyMatrices(jj,n.matrixWorld),Of.setFromMatrixPosition(ji),e.setXYZ(l,Of.x,Of.y,Of.z),ji.multiplyMatrices(jj,n.parent.matrixWorld),Of.setFromMatrixPosition(ji),e.setXYZ(l+1,Of.x,Of.y,Of.z),l+=2)}c.getAttribute("position").needsUpdate=!0;super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose()}}class Dm extends ze{constructor(a,b,c){b=new gh(b,4,2);const e=
new Kf({wireframe:!0,fog:!1,toneMapped:!1});super(b,e);this.light=a;this.color=c;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}dispose(){this.geometry.dispose();this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Em=new Ga,al=new Ic,bl=new Ic;class Fm extends eb{constructor(a,b,c){super();this.light=a;this.matrix=a.matrixWorld;
this.matrixAutoUpdate=!1;this.color=c;this.type="HemisphereLightHelper";a=new fh(b);a.rotateY(.5*Math.PI);this.material=new Kf({wireframe:!0,fog:!1,toneMapped:!1});void 0===this.color&&(this.material.vertexColors=!0);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.setAttribute("color",new Td(b,3));this.add(new ze(a,this.material));this.update()}dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose()}update(){const a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);
else{const b=a.geometry.getAttribute("color");al.copy(this.light.color);bl.copy(this.light.groundColor);for(let c=0,e=b.count;c<e;c++){const f=c<e/2?al:bl;b.setXYZ(c,f.r,f.g,f.b)}b.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1);a.lookAt(Em.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Gm extends sf{constructor(a=10,b=10,c=4473924,e=8947848){c=new Ic(c);e=new Ic(e);const f=b/2,l=a/b,n=a/2;a=[];const v=[];for(let E=0,G=0,R=-n;E<=b;E++,R+=l){a.push(-n,0,R,n,0,R);a.push(R,0,-n,R,
0,n);const S=E===f?c:e;S.toArray(v,G);G+=3;S.toArray(v,G);G+=3;S.toArray(v,G);G+=3;S.toArray(v,G);G+=3}b=new td;b.setAttribute("position",new Pc(a,3));b.setAttribute("color",new Pc(v,3));c=new Ke({vertexColors:!0,toneMapped:!1});super(b,c);this.type="GridHelper"}dispose(){this.geometry.dispose();this.material.dispose()}}class Hm extends sf{constructor(a=10,b=16,c=8,e=64,f=4473924,l=8947848){f=new Ic(f);l=new Ic(l);var n=[];const v=[];if(1<b)for(var E=0;E<b;E++){var G=E/b*2*Math.PI,R=Math.sin(G)*a;
G=Math.cos(G)*a;n.push(0,0,0);n.push(R,0,G);R=E&1?f:l;v.push(R.r,R.g,R.b);v.push(R.r,R.g,R.b)}for(b=0;b<c;b++)for(E=b&1?f:l,R=a-a/c*b,G=0;G<e;G++){var S=G/e*2*Math.PI;let V=Math.sin(S)*R;S=Math.cos(S)*R;n.push(V,0,S);v.push(E.r,E.g,E.b);S=(G+1)/e*2*Math.PI;V=Math.sin(S)*R;S=Math.cos(S)*R;n.push(V,0,S);v.push(E.r,E.g,E.b)}a=new td;a.setAttribute("position",new Pc(n,3));a.setAttribute("color",new Pc(v,3));n=new Ke({vertexColors:!0,toneMapped:!1});super(a,n);this.type="PolarGridHelper"}dispose(){this.geometry.dispose();
this.material.dispose()}}const cl=new Ga,ki=new Ga,dl=new Ga;class Im extends eb{constructor(a,b,c){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;this.type="DirectionalLightHelper";void 0===b&&(b=1);a=new td;a.setAttribute("position",new Pc([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new Ke({fog:!1,toneMapped:!1});this.lightPlane=new Lf(a,b);this.add(this.lightPlane);a=new td;a.setAttribute("position",new Pc([0,0,0,0,0,1],3));this.targetLine=new Lf(a,b);this.add(this.targetLine);
this.update()}dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);this.light.target.updateWorldMatrix(!0,!1);cl.setFromMatrixPosition(this.light.matrixWorld);ki.setFromMatrixPosition(this.light.target.matrixWorld);dl.subVectors(ki,cl);this.lightPlane.lookAt(ki);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):
(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(ki);this.targetLine.scale.z=dl.length()}}const vh=new Ga,ke=new Gh;class Jm extends sf{constructor(a){function b(R,S){c(R);c(S)}function c(R){l.push(0,0,0);n.push(0,0,0);void 0===v[R]&&(v[R]=[]);v[R].push(l.length/3-1)}var e=new td,f=new Ke({color:16777215,vertexColors:!0,toneMapped:!1});const l=[],n=[],v={};b("n1","n2");b("n2","n4");b("n4","n3");b("n3","n1");b("f1",
"f2");b("f2","f4");b("f4","f3");b("f3","f1");b("n1","f1");b("n2","f2");b("n3","f3");b("n4","f4");b("p","n1");b("p","n2");b("p","n3");b("p","n4");b("u1","u2");b("u2","u3");b("u3","u1");b("c","t");b("p","c");b("cn1","cn2");b("cn3","cn4");b("cf1","cf2");b("cf3","cf4");e.setAttribute("position",new Pc(l,3));e.setAttribute("color",new Pc(n,3));super(e,f);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=
!1;this.pointMap=v;this.update();a=new Ic(16755200);e=new Ic(16711680);f=new Ic(43775);const E=new Ic(16777215),G=new Ic(3355443);this.setColors(a,e,f,E,G)}setColors(a,b,c,e,f){const l=this.geometry.getAttribute("color");l.setXYZ(0,a.r,a.g,a.b);l.setXYZ(1,a.r,a.g,a.b);l.setXYZ(2,a.r,a.g,a.b);l.setXYZ(3,a.r,a.g,a.b);l.setXYZ(4,a.r,a.g,a.b);l.setXYZ(5,a.r,a.g,a.b);l.setXYZ(6,a.r,a.g,a.b);l.setXYZ(7,a.r,a.g,a.b);l.setXYZ(8,a.r,a.g,a.b);l.setXYZ(9,a.r,a.g,a.b);l.setXYZ(10,a.r,a.g,a.b);l.setXYZ(11,a.r,
a.g,a.b);l.setXYZ(12,a.r,a.g,a.b);l.setXYZ(13,a.r,a.g,a.b);l.setXYZ(14,a.r,a.g,a.b);l.setXYZ(15,a.r,a.g,a.b);l.setXYZ(16,a.r,a.g,a.b);l.setXYZ(17,a.r,a.g,a.b);l.setXYZ(18,a.r,a.g,a.b);l.setXYZ(19,a.r,a.g,a.b);l.setXYZ(20,a.r,a.g,a.b);l.setXYZ(21,a.r,a.g,a.b);l.setXYZ(22,a.r,a.g,a.b);l.setXYZ(23,a.r,a.g,a.b);l.setXYZ(24,b.r,b.g,b.b);l.setXYZ(25,b.r,b.g,b.b);l.setXYZ(26,b.r,b.g,b.b);l.setXYZ(27,b.r,b.g,b.b);l.setXYZ(28,b.r,b.g,b.b);l.setXYZ(29,b.r,b.g,b.b);l.setXYZ(30,b.r,b.g,b.b);l.setXYZ(31,b.r,b.g,
b.b);l.setXYZ(32,c.r,c.g,c.b);l.setXYZ(33,c.r,c.g,c.b);l.setXYZ(34,c.r,c.g,c.b);l.setXYZ(35,c.r,c.g,c.b);l.setXYZ(36,c.r,c.g,c.b);l.setXYZ(37,c.r,c.g,c.b);l.setXYZ(38,e.r,e.g,e.b);l.setXYZ(39,e.r,e.g,e.b);l.setXYZ(40,f.r,f.g,f.b);l.setXYZ(41,f.r,f.g,f.b);l.setXYZ(42,f.r,f.g,f.b);l.setXYZ(43,f.r,f.g,f.b);l.setXYZ(44,f.r,f.g,f.b);l.setXYZ(45,f.r,f.g,f.b);l.setXYZ(46,f.r,f.g,f.b);l.setXYZ(47,f.r,f.g,f.b);l.setXYZ(48,f.r,f.g,f.b);l.setXYZ(49,f.r,f.g,f.b);l.needsUpdate=!0}update(){const a=this.geometry,
b=this.pointMap;ke.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);Tc("c",b,a,ke,0,0,-1);Tc("t",b,a,ke,0,0,1);Tc("n1",b,a,ke,-1,-1,-1);Tc("n2",b,a,ke,1,-1,-1);Tc("n3",b,a,ke,-1,1,-1);Tc("n4",b,a,ke,1,1,-1);Tc("f1",b,a,ke,-1,-1,1);Tc("f2",b,a,ke,1,-1,1);Tc("f3",b,a,ke,-1,1,1);Tc("f4",b,a,ke,1,1,1);Tc("u1",b,a,ke,.7,1.1,-1);Tc("u2",b,a,ke,-.7,1.1,-1);Tc("u3",b,a,ke,0,2,-1);Tc("cf1",b,a,ke,-1,0,1);Tc("cf2",b,a,ke,1,0,1);Tc("cf3",b,a,ke,0,-1,1);Tc("cf4",b,a,ke,0,1,1);Tc("cn1",b,a,ke,
-1,0,-1);Tc("cn2",b,a,ke,1,0,-1);Tc("cn3",b,a,ke,0,-1,-1);Tc("cn4",b,a,ke,0,1,-1);a.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose();this.material.dispose()}}const li=new kf;class Km extends sf{constructor(a,b=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),e=new Float32Array(24),f=new td;f.setIndex(new Td(c,1));f.setAttribute("position",new Td(e,3));super(f,new Ke({color:b,toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=
!1;this.update()}update(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&li.setFromObject(this.object);if(!li.isEmpty()){a=li.min;var b=li.max,c=this.geometry.attributes.position,e=c.array;e[0]=b.x;e[1]=b.y;e[2]=b.z;e[3]=a.x;e[4]=b.y;e[5]=b.z;e[6]=a.x;e[7]=a.y;e[8]=b.z;e[9]=b.x;e[10]=a.y;e[11]=b.z;e[12]=b.x;e[13]=b.y;e[14]=a.z;e[15]=a.x;e[16]=b.y;e[17]=a.z;e[18]=a.x;e[19]=a.y;e[20]=a.z;e[21]=b.x;e[22]=a.y;e[23]=a.z;c.needsUpdate=!0;this.geometry.computeBoundingSphere()}}setFromObject(a){this.object=
a;this.update();return this}copy(a,b){super.copy(a,b);this.object=a.object;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class Lm extends sf{constructor(a,b=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),e=new td;e.setIndex(new Td(c,1));e.setAttribute("position",new Pc([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));super(e,new Ke({color:b,toneMapped:!1}));this.box=a;this.type="Box3Helper";this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const b=
this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}dispose(){this.geometry.dispose();this.material.dispose()}}class Mm extends Lf{constructor(a,b=1,c=16776960){const e=new td;e.setAttribute("position",new Pc([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3));e.computeBoundingSphere();super(e,new Ke({color:c,toneMapped:!1}));this.type="PlaneHelper";this.plane=a;this.size=b;a=new td;a.setAttribute("position",new Pc([1,
1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3));a.computeBoundingSphere();this.add(new ze(a,new Kf({color:c,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){this.position.set(0,0,0);this.scale.set(.5*this.size,.5*this.size,1);this.lookAt(this.plane.normal);this.translateZ(-this.plane.constant);super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose();this.children[0].geometry.dispose();this.children[0].material.dispose()}}const el=new Ga;let mi,
kj;class Nm extends eb{constructor(a=new Ga(0,0,1),b=new Ga(0,0,0),c=1,e=16776960,f=.2*c,l=.2*f){super();this.type="ArrowHelper";void 0===mi&&(mi=new td,mi.setAttribute("position",new Pc([0,0,0,0,1,0],3)),kj=new Jg(0,.5,1,5,1),kj.translate(0,-.5,0));this.position.copy(b);this.line=new Lf(mi,new Ke({color:e,toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new ze(kj,new Kf({color:e,toneMapped:!1}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,
f,l)}setDirection(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(el.set(a.z,0,-a.x).normalize(),this.quaternion.setFromAxisAngle(el,Math.acos(a.y)))}setLength(a,b=.2*a,c=.2*b){this.line.scale.set(1,Math.max(1E-4,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a);this.cone.material.color.set(a)}copy(a){super.copy(a,!1);this.line.copy(a.line);this.cone.copy(a.cone);
return this}dispose(){this.line.geometry.dispose();this.line.material.dispose();this.cone.geometry.dispose();this.cone.material.dispose()}}class Om extends sf{constructor(a=1){var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new td;a.setAttribute("position",new Pc(b,3));a.setAttribute("color",new Pc([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new Ke({vertexColors:!0,toneMapped:!1});super(a,b);this.type="AxesHelper"}setColors(a,b,c){const e=new Ic,f=this.geometry.attributes.color.array;e.set(a);e.toArray(f,
0);e.toArray(f,3);e.set(b);e.toArray(f,6);e.toArray(f,9);e.set(c);e.toArray(f,12);e.toArray(f,15);this.geometry.attributes.color.needsUpdate=!0;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class Pm{constructor(){this.type="ShapePath";this.color=new Ic;this.subPaths=[];this.currentPath=null}moveTo(a,b){this.currentPath=new dh;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b);return this}lineTo(a,b){this.currentPath.lineTo(a,b);return this}quadraticCurveTo(a,
b,c,e){this.currentPath.quadraticCurveTo(a,b,c,e);return this}bezierCurveTo(a,b,c,e,f,l){this.currentPath.bezierCurveTo(a,b,c,e,f,l);return this}splineThru(a){this.currentPath.splineThru(a);return this}toShapes(a){function b(ha){const Q=[];for(let la=0,Xa=ha.length;la<Xa;la++){const Ba=ha[la],$a=new dg;$a.curves=Ba.curves;Q.push($a)}return Q}function c(ha,Q){const la=Q.length;let Xa=!1;for(let $a=la-1,pb=0;pb<la;$a=pb++){var Ba=Q[$a];let Ua=Q[pb],Mb=Ua.x-Ba.x,cb=Ua.y-Ba.y;if(Math.abs(cb)>Number.EPSILON){if(0>
cb&&(Ba=Q[pb],Mb=-Mb,Ua=Q[$a],cb=-cb),!(ha.y<Ba.y||ha.y>Ua.y))if(ha.y===Ba.y){if(ha.x===Ba.x)return!0}else{Ba=cb*(ha.x-Ba.x)-Mb*(ha.y-Ba.y);if(0===Ba)return!0;0>Ba||(Xa=!Xa)}}else if(ha.y===Ba.y&&(Ua.x<=ha.x&&ha.x<=Ba.x||Ba.x<=ha.x&&ha.x<=Ua.x))return!0}return Xa}var e=zf.isClockWise,f=this.subPaths;if(0===f.length)return[];const l=[];if(1===f.length){var n=f[0];var v=new dg;v.curves=n.curves;l.push(v);return l}var E=!e(f[0].getPoints());E=a?!E:E;v=[];const G=[];let R=[];var S=0;let V;G[S]=void 0;
R[S]=[];for(let ha=0,Q=f.length;ha<Q;ha++){n=f[ha];V=n.getPoints();var ia=e(V);(ia=a?!ia:ia)?(!E&&G[S]&&S++,G[S]={s:new dg,p:V},G[S].s.curves=n.curves,E&&S++,R[S]=[]):R[S].push({h:n,p:V[0]})}if(!G[0])return b(f);if(1<G.length){n=!1;a=0;for(let ha=0,Q=G.length;ha<Q;ha++)v[ha]=[];for(let ha=0,Q=G.length;ha<Q;ha++)for(e=R[ha],f=0;f<e.length;f++){ia=e[f];E=!0;for(S=0;S<G.length;S++)c(ia.p,G[S].p)&&(ha!==S&&a++,E?(E=!1,v[S].push(ia)):n=!0);E&&v[ha].push(ia)}0<a&&!1===n&&(R=v)}for(let ha=0,Q=G.length;ha<
Q;ha++){v=G[ha].s;l.push(v);n=R[ha];for(let la=0,Xa=n.length;la<Xa;la++)v.holes.push(n[la].h)}return l}}const Cf=function(){var a=new ArrayBuffer(4);const b=new Float32Array(a);a=new Uint32Array(a);const c=new Uint32Array(512),e=new Uint32Array(512);for(var f=0;256>f;++f){var l=f-127;-27>l?(c[f]=0,c[f|256]=32768,e[f]=24,e[f|256]=24):-14>l?(c[f]=1024>>-l-14,c[f|256]=1024>>-l-14|32768,e[f]=-l-1,e[f|256]=-l-1):15>=l?(c[f]=l+15<<10,c[f|256]=l+15<<10|32768,e[f]=13,e[f|256]=13):128>l?(c[f]=31744,c[f|256]=
64512,e[f]=24,e[f|256]=24):(c[f]=31744,c[f|256]=64512,e[f]=13,e[f|256]=13)}f=new Uint32Array(2048);l=new Uint32Array(64);const n=new Uint32Array(64);for(var v=1;1024>v;++v){let E=v<<13,G=0;for(;0===(E&8388608);)E<<=1,G-=8388608;E&=-8388609;G+=947912704;f[v]=E|G}for(v=1024;2048>v;++v)f[v]=939524096+(v-1024<<13);for(v=1;31>v;++v)l[v]=v<<23;l[31]=1199570944;l[32]=2147483648;for(v=33;63>v;++v)l[v]=2147483648+(v-32<<23);l[63]=3347054592;for(v=1;64>v;++v)32!==v&&(n[v]=1024);return{floatView:b,uint32View:a,
baseTable:c,shiftTable:e,mantissaTable:f,exponentTable:l,offsetTable:n}}();class Qm extends Pf{constructor(a,b,c,e,f,l){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry.");super(a,b,c,e,f,l)}}class Rm extends Sh{constructor(a,b,c,e){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry.");super(a,b,c,e)}}class Sm extends Th{constructor(a,b,c,e){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry.");super(a,b,c,
e)}}class Tm extends Uh{constructor(a,b,c,e,f,l,n){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry.");super(a,b,c,e,f,l,n)}}class Um extends Jg{constructor(a,b,c,e,f,l,n,v){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry.");super(a,b,c,e,f,l,n,v)}}class Vm extends Vh{constructor(a,b){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry.");super(a,b)}}class Wm extends Zh{constructor(a,b){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry.");
super(a,b)}}class Xm extends $h{constructor(a,b){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry.");super(a,b)}}class Ym extends eh{constructor(a,b,c,e){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry.");super(a,b,c,e)}}class Zm extends fh{constructor(a,b){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry.");super(a,b)}}class $m extends Ng{constructor(a,b,c,e){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry.");
super(a,b,c,e)}}class an extends Mf{constructor(a,b,c,e){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry.");super(a,b,c,e)}}class bn extends ai{constructor(a,b,c,e,f,l){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry.");super(a,b,c,e,f,l)}}class cn extends bi{constructor(a,b){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry.");super(a,b)}}class dn extends gh{constructor(a,b,c,e,f,l,n){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry.");
super(a,b,c,e,f,l,n)}}class en extends ci{constructor(a,b){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry.");super(a,b)}}class fn extends di{constructor(a,b,c,e,f){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry.");super(a,b,c,e,f)}}class gn extends ei{constructor(a,b,c,e,f,l){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry.");super(a,b,c,e,f,l)}}class hn extends fi{constructor(a,b,
c,e,f){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry.");super(a,b,c,e,f)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"150"}}));"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="150");A.ACESFilmicToneMapping=4;A.AddEquation=100;A.AddOperation=2;A.AdditiveAnimationBlendMode=2501;A.AdditiveBlending=2;A.AlphaFormat=
1021;A.AlwaysDepth=1;A.AlwaysStencilFunc=519;A.AmbientLight=Jk;A.AmbientLightProbe=$l;A.AnimationClip=ih;A.AnimationLoader=Nl;A.AnimationMixer=rm;A.AnimationObjectGroup=om;A.AnimationUtils=Ll;A.ArcCurve=hk;A.ArrayCamera=Hj;A.ArrowHelper=Nm;A.Audio=Uk;A.AudioAnalyser=fm;A.AudioContext=ij;A.AudioListener=cm;A.AudioLoader=Yl;A.AxesHelper=Om;A.BackSide=1;A.BasicDepthPacking=3200;A.BasicShadowMap=0;A.Bone=Ni;A.BooleanKeyframeTrack=Uf;A.Box2=zm;A.Box3=kf;A.Box3Helper=Lm;A.BoxBufferGeometry=Qm;A.BoxGeometry=
Pf;A.BoxHelper=Km;A.BufferAttribute=Td;A.BufferGeometry=td;A.BufferGeometryLoader=Nk;A.ByteType=1010;A.Cache=eg;A.Camera=Gh;A.CameraHelper=Jm;A.CanvasTexture=Il;A.CapsuleBufferGeometry=Rm;A.CapsuleGeometry=Sh;A.CatmullRomCurve3=ik;A.CineonToneMapping=3;A.CircleBufferGeometry=Sm;A.CircleGeometry=Th;A.ClampToEdgeWrapping=1001;A.Clock=Sk;A.Color=Ic;A.ColorKeyframeTrack=Bi;A.ColorManagement=Ud;A.CompressedArrayTexture=Hl;A.CompressedTexture=Ri;A.CompressedTextureLoader=Ol;A.ConeBufferGeometry=Tm;A.ConeGeometry=
Uh;A.CubeCamera=Dj;A.CubeReflectionMapping=301;A.CubeRefractionMapping=302;A.CubeTexture=Yg;A.CubeTextureLoader=Pl;A.CubeUVReflectionMapping=306;A.CubicBezierCurve=Vi;A.CubicBezierCurve3=jk;A.CubicInterpolant=yk;A.CullFaceBack=1;A.CullFaceFront=2;A.CullFaceFrontBack=3;A.CullFaceNone=0;A.Curve=df;A.CurvePath=lk;A.CustomBlending=5;A.CustomToneMapping=5;A.CylinderBufferGeometry=Um;A.CylinderGeometry=Jg;A.Cylindrical=ym;A.Data3DTexture=Xf;A.DataArrayTexture=Qf;A.DataTexture=Hg;A.DataTextureLoader=Ql;
A.DataUtils={toHalfFloat:function(a){65504<Math.abs(a)&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range.");a=r(a,-65504,65504);Cf.floatView[0]=a;a=Cf.uint32View[0];const b=a>>23&511;return Cf.baseTable[b]+((a&8388607)>>Cf.shiftTable[b])},fromHalfFloat:function(a){const b=a>>10;Cf.uint32View[0]=Cf.mantissaTable[Cf.offsetTable[b]+(a&1023)]+Cf.exponentTable[b];return Cf.floatView[0]}};A.DecrementStencilOp=7683;A.DecrementWrapStencilOp=34056;A.DefaultLoadingManager=Bk;A.DepthFormat=1026;
A.DepthStencilFormat=1027;A.DepthTexture=Ij;A.DirectionalLight=Ik;A.DirectionalLightHelper=Im;A.DiscreteInterpolant=zk;A.DisplayP3ColorSpace="display-p3";A.DodecahedronBufferGeometry=Vm;A.DodecahedronGeometry=Vh;A.DoubleSide=2;A.DstAlphaFactor=206;A.DstColorFactor=208;A.DynamicCopyUsage=35050;A.DynamicDrawUsage=35048;A.DynamicReadUsage=35049;A.EdgesGeometry=mk;A.EllipseCurve=Ph;A.EqualDepth=4;A.EqualStencilFunc=514;A.EquirectangularReflectionMapping=303;A.EquirectangularRefractionMapping=304;A.Euler=
ag;A.EventDispatcher=Yc;A.ExtrudeBufferGeometry=Wm;A.ExtrudeGeometry=Zh;A.FileLoader=Bf;A.Float16BufferAttribute=rl;A.Float32BufferAttribute=Pc;A.Float64BufferAttribute=sl;A.FloatType=1015;A.Fog=Ki;A.FogExp2=Ji;A.FramebufferTexture=Gl;A.FrontSide=0;A.Frustum=rh;A.GLBufferAttribute=vm;A.GLSL1="100";A.GLSL3="300 es";A.GreaterDepth=6;A.GreaterEqualDepth=5;A.GreaterEqualStencilFunc=518;A.GreaterStencilFunc=516;A.GridHelper=Gm;A.Group=Cg;A.HalfFloatType=1016;A.HemisphereLight=Ck;A.HemisphereLightHelper=
Fm;A.HemisphereLightProbe=Zl;A.IcosahedronBufferGeometry=Xm;A.IcosahedronGeometry=$h;A.ImageBitmapLoader=Xl;A.ImageLoader=jh;A.ImageUtils=Le;A.IncrementStencilOp=7682;A.IncrementWrapStencilOp=34055;A.InstancedBufferAttribute=Ig;A.InstancedBufferGeometry=Mk;A.InstancedInterleavedBuffer=um;A.InstancedMesh=Yj;A.Int16BufferAttribute=pl;A.Int32BufferAttribute=ql;A.Int8BufferAttribute=ml;A.IntType=1013;A.InterleavedBuffer=Jh;A.InterleavedBufferAttribute=Dg;A.Interpolant=hh;A.InterpolateDiscrete=2300;A.InterpolateLinear=
2301;A.InterpolateSmooth=2302;A.InvertStencilOp=5386;A.KeepStencilOp=7680;A.KeyframeTrack=ef;A.LOD=Pj;A.LatheBufferGeometry=Ym;A.LatheGeometry=eh;A.Layers=Ef;A.LessDepth=2;A.LessEqualDepth=3;A.LessEqualStencilFunc=515;A.LessStencilFunc=513;A.Light=Nf;A.LightProbe=gi;A.Line=Lf;A.Line3=Am;A.LineBasicMaterial=Ke;A.LineCurve=Rh;A.LineCurve3=kk;A.LineDashedMaterial=xk;A.LineLoop=ek;A.LineSegments=sf;A.LinearEncoding=3E3;A.LinearFilter=1006;A.LinearInterpolant=bj;A.LinearMipMapLinearFilter=1008;A.LinearMipMapNearestFilter=
1007;A.LinearMipmapLinearFilter=1008;A.LinearMipmapNearestFilter=1007;A.LinearSRGBColorSpace="srgb-linear";A.LinearToneMapping=1;A.Loader=We;A.LoaderUtils=hj;A.LoadingManager=cj;A.LoopOnce=2200;A.LoopPingPong=2202;A.LoopRepeat=2201;A.LuminanceAlphaFormat=1025;A.LuminanceFormat=1024;A.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};A.Material=Vd;A.MaterialLoader=gj;A.MathUtils=be;A.Matrix3=he;A.Matrix4=gd;A.MaxEquation=104;A.Mesh=ze;A.MeshBasicMaterial=Kf;A.MeshDepthMaterial=si;A.MeshDistanceMaterial=
ti;A.MeshLambertMaterial=vk;A.MeshMatcapMaterial=wk;A.MeshNormalMaterial=uk;A.MeshPhongMaterial=sk;A.MeshPhysicalMaterial=rk;A.MeshStandardMaterial=aj;A.MeshToonMaterial=tk;A.MinEquation=103;A.MirroredRepeatWrapping=1002;A.MixOperation=1;A.MultiplyBlending=4;A.MultiplyOperation=0;A.NearestFilter=1003;A.NearestMipMapLinearFilter=1005;A.NearestMipMapNearestFilter=1004;A.NearestMipmapLinearFilter=1005;A.NearestMipmapNearestFilter=1004;A.NeverDepth=0;A.NeverStencilFunc=512;A.NoBlending=0;A.NoColorSpace=
"";A.NoToneMapping=0;A.NormalAnimationBlendMode=2500;A.NormalBlending=1;A.NotEqualDepth=7;A.NotEqualStencilFunc=517;A.NumberKeyframeTrack=Qg;A.Object3D=eb;A.ObjectLoader=Vl;A.ObjectSpaceNormalMap=1;A.OctahedronBufferGeometry=Zm;A.OctahedronGeometry=fh;A.OneFactor=201;A.OneMinusDstAlphaFactor=207;A.OneMinusDstColorFactor=209;A.OneMinusSrcAlphaFactor=205;A.OneMinusSrcColorFactor=203;A.OrthographicCamera=Ih;A.PCFShadowMap=1;A.PCFSoftShadowMap=2;A.PMREMGenerator=oi;A.Path=dh;A.PerspectiveCamera=De;A.Plane=
Df;A.PlaneBufferGeometry=$m;A.PlaneGeometry=Ng;A.PlaneHelper=Mm;A.PointLight=Hk;A.PointLightHelper=Dm;A.Points=gk;A.PointsMaterial=Qi;A.PolarGridHelper=Hm;A.PolyhedronBufferGeometry=an;A.PolyhedronGeometry=Mf;A.PositionalAudio=em;A.PropertyBinding=Fd;A.PropertyMixer=Wk;A.QuadraticBezierCurve=Wi;A.QuadraticBezierCurve3=Xi;A.Quaternion=te;A.QuaternionKeyframeTrack=og;A.QuaternionLinearInterpolant=Ak;A.RED_GREEN_RGTC2_Format=36285;A.RED_RGTC1_Format=36283;A.REVISION="150";A.RGBADepthPacking=3201;A.RGBAFormat=
1023;A.RGBAIntegerFormat=1033;A.RGBA_ASTC_10x10_Format=37819;A.RGBA_ASTC_10x5_Format=37816;A.RGBA_ASTC_10x6_Format=37817;A.RGBA_ASTC_10x8_Format=37818;A.RGBA_ASTC_12x10_Format=37820;A.RGBA_ASTC_12x12_Format=37821;A.RGBA_ASTC_4x4_Format=37808;A.RGBA_ASTC_5x4_Format=37809;A.RGBA_ASTC_5x5_Format=37810;A.RGBA_ASTC_6x5_Format=37811;A.RGBA_ASTC_6x6_Format=37812;A.RGBA_ASTC_8x5_Format=37813;A.RGBA_ASTC_8x6_Format=37814;A.RGBA_ASTC_8x8_Format=37815;A.RGBA_BPTC_Format=36492;A.RGBA_ETC2_EAC_Format=37496;A.RGBA_PVRTC_2BPPV1_Format=
35843;A.RGBA_PVRTC_4BPPV1_Format=35842;A.RGBA_S3TC_DXT1_Format=33777;A.RGBA_S3TC_DXT3_Format=33778;A.RGBA_S3TC_DXT5_Format=33779;A.RGB_ETC1_Format=36196;A.RGB_ETC2_Format=37492;A.RGB_PVRTC_2BPPV1_Format=35841;A.RGB_PVRTC_4BPPV1_Format=35840;A.RGB_S3TC_DXT1_Format=33776;A.RGFormat=1030;A.RGIntegerFormat=1031;A.RawShaderMaterial=qk;A.Ray=Jf;A.Raycaster=wm;A.RectAreaLight=Kk;A.RedFormat=1028;A.RedIntegerFormat=1029;A.ReinhardToneMapping=2;A.RepeatWrapping=1E3;A.ReplaceStencilOp=7681;A.ReverseSubtractEquation=
102;A.RingBufferGeometry=bn;A.RingGeometry=ai;A.SIGNED_RED_GREEN_RGTC2_Format=36286;A.SIGNED_RED_RGTC1_Format=36284;A.SRGBColorSpace="srgb";A.Scene=Kj;A.ShaderChunk=md;A.ShaderLib=$e;A.ShaderMaterial=ff;A.ShadowMaterial=pk;A.Shape=dg;A.ShapeBufferGeometry=cn;A.ShapeGeometry=bi;A.ShapePath=Pm;A.ShapeUtils=zf;A.ShortType=1011;A.Skeleton=Oi;A.SkeletonHelper=Cm;A.SkinnedMesh=Uj;A.Source=jf;A.Sphere=pf;A.SphereBufferGeometry=dn;A.SphereGeometry=gh;A.Spherical=xm;A.SphericalHarmonics3=Lk;A.SplineCurve=
Yi;A.SpotLight=Fk;A.SpotLightHelper=Bm;A.Sprite=Nj;A.SpriteMaterial=Li;A.SrcAlphaFactor=204;A.SrcAlphaSaturateFactor=210;A.SrcColorFactor=202;A.StaticCopyUsage=35046;A.StaticDrawUsage=35044;A.StaticReadUsage=35045;A.StereoCamera=am;A.StreamCopyUsage=35042;A.StreamDrawUsage=35040;A.StreamReadUsage=35041;A.StringKeyframeTrack=Vf;A.SubtractEquation=101;A.SubtractiveBlending=3;A.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};A.TangentSpaceNormalMap=0;A.TetrahedronBufferGeometry=en;A.TetrahedronGeometry=
ci;A.Texture=ie;A.TextureLoader=Rl;A.TorusBufferGeometry=fn;A.TorusGeometry=di;A.TorusKnotBufferGeometry=gn;A.TorusKnotGeometry=ei;A.Triangle=pd;A.TriangleFanDrawMode=2;A.TriangleStripDrawMode=1;A.TrianglesDrawMode=0;A.TubeBufferGeometry=hn;A.TubeGeometry=fi;A.TwoPassDoubleSide=2;A.UVMapping=300;A.Uint16BufferAttribute=qi;A.Uint32BufferAttribute=pi;A.Uint8BufferAttribute=nl;A.Uint8ClampedBufferAttribute=ol;A.Uniform=Xk;A.UniformsGroup=tm;A.UniformsLib=yc;A.UniformsUtils=wj;A.UnsignedByteType=1009;
A.UnsignedInt248Type=1020;A.UnsignedIntType=1014;A.UnsignedShort4444Type=1017;A.UnsignedShort5551Type=1018;A.UnsignedShortType=1012;A.VSMShadowMap=3;A.Vector2=Xb;A.Vector3=Ga;A.Vector4=Gd;A.VectorKeyframeTrack=Rg;A.VideoTexture=Fl;A.WebGL1Renderer=Jj;A.WebGL3DRenderTarget=yh;A.WebGLArrayRenderTarget=Sg;A.WebGLCubeRenderTarget=lj;A.WebGLMultipleRenderTargets=zh;A.WebGLRenderTarget=Me;A.WebGLRenderer=kc;A.WebGLUtils=Ub;A.WireframeGeometry=nk;A.WrapAroundEnding=2402;A.ZeroCurvatureEnding=2400;A.ZeroFactor=
200;A.ZeroSlopeEnding=2401;A.ZeroStencilOp=0;A._SRGBAFormat=1035;A.sRGBEncoding=3001})};
shadow$provide[100]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Api=void 0;class A{static apply(u){u.set=function(m){const e=this.options||{},c=Object.entries(m).reduce(function(h,[l,n]){e[l]!==n&&(h[l]=n);return h},{});this.options=Object.assign(e,c);this.trigger({type:"change",options:m,changes:c})};u.get=function(){return this.options};u.api=function(m,e){m||(m={});e&&Object.entries(m).forEach(function([c,h]){"function"===typeof h&&(m[c]=(...l)=>h(...l,e))});m.set=this.set.bind(this);
m.get=this.get.bind(this);return m}}}g.Api=A};
shadow$provide[101]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Binder=void 0;var A=P(99);class J{static bind(r,w){return function(h,m){m.__binds||(m.__binds=[]);let x=r;Array.isArray(h)&&(x=h[0],h=h[1]);var z=/^([^.:]*(?:\.[^.:]+)*)?(?::(.*))?$/.exec(h);const k=z[1].split(/\./g),p=k.pop(),B=z[2]||p;z=k.shift();let t={this:m}[z]||w[z]||r[z]||x;for(;t&&(h=k.shift());)t=t[h];if(t&&(t.on||t.addEventListener)){const u=function(C){m[B]&&m[B](C,r)};J._polyfill(t,["addEventListener",
"on"],function(C){t[C](p,u)});m.__binds.push({target:t,name:p,callback:u});return u}throw"Cannot bind '"+h+"' in "+this.__name;}}static unbind(){return function(r){r.__binds&&(r.__binds.forEach(function(w){J._polyfill(w.target,["removeEventListener","off"],function(h){w.target[h](w.name,w.callback)})}.bind(this)),r.__binds=[])}}static apply(r){r.trigger=J._trigger;r.triggerOnce=J._triggerOnce;r.hasEventListener=A.EventDispatcher.prototype.hasEventListener;r.addEventListener=A.EventDispatcher.prototype.addEventListener;
r.removeEventListener=A.EventDispatcher.prototype.removeEventListener;r.on=r.addEventListener;r.off=r.removeEventListener;r.dispatchEvent=r.trigger}static _triggerOnce(r){this.trigger(r);this._listeners&&delete this._listeners[r.type]}static _trigger(r){if(void 0!==this._listeners){var w=this._listeners[r.type];if(void 0!==w){w=w.slice();const h=w.length;r.target=this;for(let m=0;m<h;m++)w[m].call(this,r,this)}}}static _polyfill(r,w,h){w.map(function(m){return r.method});w.length&&h(w[0])}}I.Binder=
J};
shadow$provide[102]=function(G,y,X,g){function A(e){return e&&"string"===typeof e.valueOf()}Object.defineProperty(g,"__esModule",{value:!0});g.Bootstrap=void 0;G=y(100);y=y(101);const u=(e,c)=>{let h=0;for(const l of e){if(!1===c(l,h,e))break;h++}};class m{static initClass(){this.Plugins={};this.Aliases={}}static registerPlugin(e,c){const h=function(l){m.Plugin.call(this,l);this.__name=e};h.prototype=Object.assign(new m.Plugin,c);this.Plugins[e]=h}static unregisterPlugin(e){delete this.Plugins[e]}static registerAlias(e,
c){this.Aliases[e]=c}static unregisterAlias(e){delete this.Aliases[e]}constructor(e){if(e){var c=[].slice.apply(arguments);e={};if(c[0]instanceof Node){const h=c[0];c=c.slice(1);e.element=h}A(c[0])?e.plugins=c:Array.isArray(c[0])?e.plugins=c[0]:c[0]&&(e=Object.assign({},c[0],e))}this.__options=Object.assign({},{init:!0,element:document.body,plugins:["core"],aliases:{},plugindb:m.Plugins||{},aliasdb:m.Aliases||{}},e||{});this.__destroyed=this.__inited=!1;this.__installed=[];c=this.__options.element;
c===""+c&&(c=document.querySelector(c));this.plugins={};this.element=c;this.trigger=this.trigger.bind(this);this.frame=this.frame.bind(this);this.events=["pre","update","render","post"].map(function(h){return{type:h}});this.__options.init&&this.init()}init(){this.__inited||(this.__inited=!0,this.install(this.__options.plugins))}destroy(){this.__inited&&!this.__destroyed&&(this.__destroyed=!0,this.trigger({type:"destroy"}),this.uninstall())}frame(){this.events.map(this.trigger)}resolve(e){function c(p,
v,w){if(256<=w)throw"Plug-in alias recursion detected.";p=p.filter(n);p.forEach(function(z){const x=l[z];x?v=v.concat(c(x,[],w+1)):v.push(z)});return v}e=Array.isArray(e)?e:[e];const h=this.__options,l=Object.assign({},h.aliasdb,h.aliases),n=function(p){p=p.split(":");if(!p[1])return!0;l[p[0]]=[p[1]];return!1};e=e.filter(n);Object.entries(l).forEach(function([p,v]){l[p]=Array.isArray(v)?v:[v]});return c(e,[],0)}install(e){e=Array.isArray(e)?e:[e];e=this.resolve(e);u(e,c=>this.__install(c));this.__ready()}uninstall(e){e&&
(e=Array.isArray(e)?e:[e],e=this.resolve(e));(e||this.__installed).reverse().forEach(c=>this.__uninstall(c))}__install(e){var c=this.__options.plugindb[e];if(!c)throw"[three.install] Cannot install. '"+e+"' is not registered.";if(this.plugins[e])return console.warn("[three.install] "+e+" is already installed.");c=new c(this.__options[e]||{},e);this.plugins[e]=c;e=c.install(this);this.__installed.push(c);this.trigger({type:"install",plugin:c});return e}__uninstall(e){const c=A(e)?this.plugins[e]:e;
c?(e=c.__name,c.uninstall(this),this.__installed=this.__installed.filter(h=>h!==c),delete this.plugins[e],this.trigger({type:"uninstall",plugin:c})):console.warn("[three.uninstall] "+e+"' is not installed.")}__ready(){this.triggerOnce({type:"ready"})}}g.Bootstrap=m;m.initClass();m.Plugin=function(e){this.options=Object.assign({},this.defaults,e||{})};m.Plugin.prototype={listen:[],defaults:{},install:function(e){},uninstall:function(e){}};y.Binder.apply(m.prototype);y.Binder.apply(m.Plugin.prototype);
G.Api.apply(m.Plugin.prototype)};
shadow$provide[103]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("splash",{defaults:{color:"mono",fancy:!0},listen:["ready","mathbox/init:init","mathbox/progress:progress","mathbox/destroy:destroy"],uninstall(){return this.destroy()},ready(A,u){if(u.MathBox&&!this.div)return this.init(A,u)},init(A,u){this.destroy();({color:A}=this.options);var m=`\
<div class="mathbox-loader mathbox-splash-${A}">
  <div class="mathbox-logo">
    <div> <div></div><div></div><div></div> </div>
    <div> <div></div><div></div><div></div> </div>
  </div>
  <div class="mathbox-progress"><div></div></div>
</div>\
`;this.div=A=document.createElement("div");A.innerHTML=m;u.element.appendChild(A);m=2*Math.random()-1;const e=2*Math.random()-1,c=2*Math.random()-1,h=1/Math.sqrt(m*m+e*e+c*c);this.loader=A.querySelector(".mathbox-loader");this.bar=A.querySelector(".mathbox-progress \x3e div");this.gyro=A.querySelectorAll(".mathbox-logo \x3e div");this.transforms=["rotateZ(22deg) rotateX(24deg) rotateY(30deg)","rotateZ(11deg) rotateX(12deg) rotateY(15deg) scale3d(.6, .6, .6)"];this.random=[m*h,e*h,c*h];this.start=
u.Time.now;return this.timer=null},progress(A,u){if(this.div){var {current:m,total:e}=A;A=m<e;clearTimeout(this.timer);A?(this.loader.classList.remove("mathbox-exit"),this.loader.style.display="block"):(this.loader.classList.add("mathbox-exit"),this.timer=setTimeout(()=>this.loader.style.display="none",150));this.bar.style.width=m<e?.1*Math.round(1E3*m/e)+"%":"100%";if(this.options.fancy){const c=this.random,h=Math.max(0,Math.min(1,u.Time.now-this.start)),l=function(n,p){null==p&&(p=0);return n.replace(/(-?[0-9.e]+)deg/g,
(v,w)=>+w+c[p++]*h*u.Time.step*60+"deg")};return(()=>{const n=[];for(let p=0;p<this.gyro.length;p++){let v;const w=this.gyro[p];this.transforms[p]=v=l(this.transforms[p]);n.push(w.style.transform=w.style.WebkitTransform=v)}return n})()}}},destroy(){null!=this.div&&this.div.remove();return this.div=null}})};
shadow$provide[104]=function(G,y,X,g){G=y(102);G.Bootstrap.registerAlias("empty","fallback bind renderer size fill loop time".split(" "));G.Bootstrap.registerAlias("core",["empty","scene","camera","render","warmup"]);G.Bootstrap.registerAlias("VR",["core","cursor","fullscreen","render:vr"])};
shadow$provide[105]=function(G,y,X,g){G=y(102);var A=y(101);G.Bootstrap.registerPlugin("bind",{install:function(u){u.bind=A.Binder.bind(u,{three:u,window});u.unbind=A.Binder.unbind(u);u.bind("install:bind",this);u.bind("uninstall:unbind",this)},uninstall:function(u){u.unbind(this);delete u.bind;delete u.unbind},bind:function(u,m){const e=u.plugin;(u=e.listen)&&u.forEach(function(c){m.bind(c,e)})},unbind:function(u,m){m.unbind(u.plugin)}})};
shadow$provide[106]=function(ra,P,db,I){var A=P(99);P(102).Bootstrap.registerPlugin("camera",{defaults:{near:.01,far:1E4,type:"perspective",fov:60,aspect:null,left:-1,right:1,bottom:-1,top:1,klass:null,parameters:null},listen:["resize","this.change"],install:function(J){J.Camera=this.api();J.camera=null;this.aspect=1;this.change({},J)},uninstall:function(J){delete J.Camera;delete J.camera},change:function(J,r){const w=this.options,h=r.camera;if(!r.camera||J.changes.type||J.changes.klass)J=w.klass||
{perspective:A.PerspectiveCamera,orthographic:A.OrthographicCamera}[w.type]||A.Camera,r.camera=w.parameters?new J(w.parameters):new J;Object.entries(w).forEach(function([m]){Object.prototype.hasOwnProperty.call(r.camera,m)&&(r.camera[m]=w[m])}.bind(this));this.update(r);h===r.camera||r.trigger({type:"camera",camera:r.camera})},resize:function(J,r){this.aspect=J.viewWidth/Math.max(1,J.viewHeight);this.update(r)},update:function(J){J.camera.aspect=this.options.aspect||this.aspect;J.camera.updateProjectionMatrix()}})};
shadow$provide[107]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("fallback",{defaults:{force:!1,fill:!0,begin:'\x3cdiv class\x3d"threestrap-fallback" style\x3d"display: table; width: 100%; height: 100%;box-sizing: border-box; border: 1px dashed rgba(0, 0, 0, .25);"\x3e\x3cdiv style\x3d"display: table-cell; padding: 10px; vertical-align: middle; text-align: center;"\x3e',end:"\x3c/div\x3e\x3c/div\x3e",message:'\x3cbig\x3e\x3cstrong\x3eThis example requires WebGL\x3c/strong\x3e\x3c/big\x3e\x3cbr\x3eVisit \x3ca target\x3d"_blank" href\x3d"http://get.webgl.org/"\x3eget.webgl.org\x3c/a\x3e for more info\x3c/a\x3e'},
install:function(A){try{var u=document.createElement("canvas");var m=u.getContext("webgl")||u.getContext("experimental-webgl");if(!m||this.options.force)throw"WebGL unavailable.";A.fallback=!1}catch(e){u=this.options.message;m=this.options.begin;const c=this.options.end,h=this.options.fill,l=document.createElement("div");l.innerHTML=m+u+c;for(this.children=[];0<l.childNodes.length;)this.children.push(l.firstChild),A.element.appendChild(l.firstChild);h&&A.install("fill");this.div=l;A.fallback=!0;return!1}},
uninstall:function(A){this.children&&(this.children.forEach(function(u){u.parentNode.removeChild(u)}),this.children=null);delete A.fallback}})};
shadow$provide[108]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("fill",{defaults:{block:!0,body:!0,layout:!0},install:function(A){function u(e){e=e.style.height;return"auto"==e||""==e}function m(e){e.style.height="100%";e.style.margin=0;e.style.padding=0;return e}this.options.body&&A.element==document.body&&(this.applied=[A.element,document.documentElement].filter(u).map(m));this.options.block&&A.canvas&&(A.canvas.style.display="block",this.block=!0);this.options.layout&&A.element&&"static"==
window.getComputedStyle(A.element).position&&(A.element.style.position="relative",this.layout=!0)},uninstall:function(A){this.applied&&(this.applied.map(function(u){u.style.height="";u.style.margin="";u.style.padding="";return u}),delete this.applied);this.block&&A.canvas&&(A.canvas.style.display="",delete this.block);this.layout&&A.element&&(A.element.style.position="",delete this.layout)},change:function(A){this.uninstall(A);this.install(A)}})};
shadow$provide[109]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("loop",{defaults:{start:!0,each:1},listen:["ready"],install:function(A){this.running=!1;this.lastRequestId=null;A.Loop=this.api({start:this.start.bind(this),stop:this.stop.bind(this),running:!1,window},A);this.events=["pre","update","render","post"].map(function(u){return{type:u}})},uninstall:function(A){this.stop(A)},ready:function(A,u){this.options.start&&this.start(u)},start:function(A){if(!this.running){A.Loop.running=this.running=
!0;var u=A.trigger.bind(A),m=function(){this.running&&(this.lastRequestId=A.Loop.window.requestAnimationFrame(m),this.events.map(u))}.bind(this);this.lastRequestId=A.Loop.window.requestAnimationFrame(m);A.trigger({type:"start"})}},stop:function(A){this.running&&(A.Loop.running=this.running=!1,A.Loop.window.cancelAnimationFrame(this.lastRequestId),this.lastRequestId=null,A.trigger({type:"stop"}))}})};
shadow$provide[110]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("render",{listen:["render"],render:function(A,u){u.scene&&u.camera&&u.renderer.render(u.scene,u.camera)}})};
shadow$provide[111]=function(ra,P,db,I){ra=P(99);P(102).Bootstrap.registerPlugin("renderer",{defaults:{klass:ra.WebGL1Renderer,parameters:{depth:!0,stencil:!0,preserveDrawingBuffer:!0,antialias:!0}},listen:["resize"],install:function(A){const J=A.renderer=new this.options.klass(this.options.parameters);A.canvas=J.domElement;A.element.appendChild(J.domElement)},uninstall:function(A){A.element.removeChild(A.renderer.domElement);delete A.renderer;delete A.canvas},resize:function(A,J){J=J.renderer;const r=
J.domElement;r&&"CANVAS"==r.tagName?J.setSize(A.renderWidth,A.renderHeight,!1):(J.setRenderSize&&J.setRenderSize(A.renderWidth,A.renderHeight),J.setSize(A.viewWidth,A.viewHeight,!1))}})};
shadow$provide[112]=function(ra,P,db,I){var A=P(99);P(102).Bootstrap.registerPlugin("scene",{install:function(J){J.scene=new A.Scene},uninstall:function(J){delete J.scene}})};
shadow$provide[113]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("size",{defaults:{width:null,height:null,aspect:null,scale:1,maxRenderWidth:Infinity,maxRenderHeight:Infinity,devicePixelRatio:!0},listen:["window.resize:queue","element.resize:queue","this.change:queue","ready:resize","pre:pre"],install:function(A){A.Size=this.api({renderWidth:0,renderHeight:0,viewWidth:0,viewHeight:0});this.resized=!1},uninstall:function(A){delete A.Size},queue:function(A,u){this.resized=!0},pre:function(A,u){this.resized&&
(this.resized=!1,this.resize(A,u))},resize:function(A,u){var m=this.options,e=u.element,c=u.renderer,h,l;let n,p=0,v=0;A=h=void 0===m.width||null==m.width?e.offsetWidth||e.innerWidth||0:m.width;e=l=void 0===m.height||null==m.height?e.offsetHeight||e.innerHeight||0:m.height;n=A/e;m.aspect&&(m.aspect>n?(e=Math.round(A/m.aspect),v=Math.floor((l-e)/2)):(A=Math.round(e*m.aspect),p=Math.floor((h-A)/2)),n=A/e);l=1;m.devicePixelRatio&&"undefined"!=typeof window&&(l=window.devicePixelRatio||1);h=Math.round(Math.min(A*
l*m.scale,m.maxRenderWidth));m=Math.round(Math.min(e*l*m.scale,m.maxRenderHeight));h/m>n?h=Math.round(m*n):m=Math.round(h/n);l=m/e;c=c.domElement.style;c.width=A+"px";c.height=e+"px";c.marginLeft=p+"px";c.marginTop=v+"px";Object.assign(u.Size,{renderWidth:h,renderHeight:m,viewWidth:A,viewHeight:e,aspect:n,pixelRatio:l});u.trigger({type:"resize",renderWidth:h,renderHeight:m,viewWidth:A,viewHeight:e,aspect:n,pixelRatio:l})}})};
shadow$provide[114]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("time",{defaults:{speed:1,warmup:0,timeout:1},listen:["pre:tick","this.change"],now:function(){return+new Date/1E3},install:function(A){A.Time=this.api({now:this.now(),clock:0,step:1/60,frames:0,time:0,delta:1/60,average:0,fps:0});this.clock=this.time=this.last=0;this.wait=this.options.warmup;this.timeStart=this.clockStart=0},tick:function(A,u){A=this.options.speed;const m=this.options.timeout;u=u.Time;const e=u.now=this.now();
var c=this.last;let h=this.time,l=this.clock;if(c){c=u.delta=e-c;const n=u.average||c;c>m&&(c=0);A*=c;h+=c;l+=A;0<u.frames&&(u.average=n+.1*(c-n),u.fps=1/n);u.step=A;u.clock=l-this.clockStart;u.time=h-this.timeStart;u.frames++;0<this.wait--&&(this.clockStart=l,this.timeStart=h,u.clock=0,u.step=1E-100)}this.last=e;this.clock=l;this.time=h},uninstall:function(A){delete A.Time}})};
shadow$provide[115]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("warmup",{defaults:{delay:2},listen:["ready","post"],ready:function(A,u){u.renderer.domElement.style.visibility="hidden";this.frame=0;this.hidden=!0},post:function(A,u){this.hidden&&this.frame>=this.options.delay&&(u.renderer.domElement.style.visibility="visible",this.hidden=!1);this.frame++}})};
shadow$provide[116]=function(G,y,X,g){y(105);y(106);y(107);y(108);y(109);y(110);y(111);y(112);y(113);y(114);y(115)};
shadow$provide[117]=function(ra,P,db,I){var A=P(99);P(102).Bootstrap.registerPlugin("controls",{listen:["update","resize","camera","this.change"],defaults:{klass:null,parameters:{}},install:function(J){if(!this.options.klass)throw"Must provide class for `controls.klass`";J.controls=null;this._camera=J.camera||new A.PerspectiveCamera;this.change(null,J)},uninstall:function(J){delete J.controls},change:function(J,r){if(this.options.klass){if(!J||J.changes.klass)r.controls=new this.options.klass(this._camera,
r.renderer.domElement);Object.assign(r.controls,this.options.parameters)}else r.controls=null},update:function(J,r){J=r.Time&&r.Time.delta||1/60;const w=r.VR&&r.VR.state;r.controls.vr&&r.controls.vr(w);r.controls.update(J)},camera:function(J,r){r.controls.object=this._camera=J.camera},resize:function(J,r){r.controls.handleResize&&r.controls.handleResize()}})};
shadow$provide[118]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("cursor",{listen:"update this.change install:change uninstall:change element.mousemove vr".split(" "),defaults:{cursor:null,hide:!1,timeout:3},install:function(A){this.timeout=this.options.timeout;this.element=A.element;this.change(null,A)},uninstall:function(A){delete A.controls},change:function(A,u){this.applyCursor(u)},mousemove:function(A,u){this.options.hide&&(this.applyCursor(u),this.timeout=+this.options.timeout||0)},update:function(A,
u){A=u.Time&&u.Time.delta||1/60;this.options.hide&&(this.timeout-=A,0>this.timeout&&this.applyCursor(u,"none"))},vr:function(A,u){this.hide=A.active&&!A.hmd.fake;this.applyCursor(u)},applyCursor:function(A,u){A=A.controls?"move":"";u=u||this.options.cursor||A;this.hide&&(u="none");this.cursor!=u&&(this.element.style.cursor=u)}})};
shadow$provide[119]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("fullscreen",{defaults:{key:"f"},listen:["ready","update"],install:function(A){A.Fullscreen=this.api({active:!1,toggle:this.toggle.bind(this)},A)},uninstall:function(A){delete A.Fullscreen},ready:function(A,u){document.body.addEventListener("keypress",function(m){this.options.key&&m.charCode==this.options.key.charCodeAt(0)&&this.toggle(u)}.bind(this));A=function(){const m=!!document.fullscreenElement||!!document.mozFullScreenElement||
!!document.webkitFullscreenElement||!!document.msFullscreenElement;u.Fullscreen.active=this.active=m;u.trigger({type:"fullscreen",active:m})}.bind(this);document.addEventListener("fullscreenchange",A,!1);document.addEventListener("webkitfullscreenchange",A,!1);document.addEventListener("mozfullscreenchange",A,!1)},toggle:function(A){const u=A.canvas;A=A.VR&&A.VR.active?{vrDisplay:A.VR.hmd}:{};this.active?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():
document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen():u.requestFullScreen?u.requestFullScreen(A):u.msRequestFullScreen?u.msRequestFullscreen(A):u.webkitRequestFullscreen?u.webkitRequestFullscreen(A):u.mozRequestFullScreen&&u.mozRequestFullScreen(A)}})};
shadow$provide[120]=function(G,y,X,g){(function(A,u){"object"===typeof g&&"undefined"!==typeof X?X.exports=u():"function"===typeof define&&define.amd?define(u):A.Stats=u()})(this,function(){var A=function(){function u(z){c.appendChild(z.dom);return z}function m(z){for(var x=0;x<c.children.length;x++)c.children[x].style.display=x===z?"block":"none";e=z}var e=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",
function(z){z.preventDefault();m(++e%c.children.length)},!1);var h=(performance||Date).now(),l=h,n=0,p=u(new A.Panel("FPS","#0ff","#002")),v=u(new A.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=u(new A.Panel("MB","#f08","#201"));m(0);return{REVISION:16,dom:c,addPanel:u,showPanel:m,begin:function(){h=(performance||Date).now()},end:function(){n++;var z=(performance||Date).now();v.update(z-h,200);if(z>l+1E3&&(p.update(1E3*n/(z-l),100),l=z,n=0,w)){var x=performance.memory;
w.update(x.usedJSHeapSize/1048576,x.jsHeapSizeLimit/1048576)}return z},update:function(){h=this.end()},domElement:c,setMode:m}};A.Panel=function(u,m,e){var c=Infinity,h=0,l=Math.round,n=l(window.devicePixelRatio||1),p=80*n,v=48*n,w=3*n,z=2*n,x=3*n,E=15*n,H=74*n,I=30*n,N=document.createElement("canvas");N.width=p;N.height=v;N.style.cssText="width:80px;height:48px";var Q=N.getContext("2d");Q.font="bold "+9*n+"px Helvetica,Arial,sans-serif";Q.textBaseline="top";Q.fillStyle=e;Q.fillRect(0,0,p,v);Q.fillStyle=
m;Q.fillText(u,w,z);Q.fillRect(x,E,H,I);Q.fillStyle=e;Q.globalAlpha=.9;Q.fillRect(x,E,H,I);return{dom:N,update:function(V,ba){c=Math.min(c,V);h=Math.max(h,V);Q.fillStyle=e;Q.globalAlpha=1;Q.fillRect(0,0,p,E);Q.fillStyle=m;Q.fillText(l(V)+" "+u+" ("+l(c)+"-"+l(h)+")",w,z);Q.drawImage(N,x+n,E,H-n,I,x,E,H-n,I);Q.fillRect(x+H-n,E,n,I);Q.fillStyle=e;Q.globalAlpha=.9;Q.fillRect(x+H-n,E,n,l((1-V/ba)*I))}}};return A})};
shadow$provide[121]=function(G,y,X,g){var A=function(u){return u&&u.__esModule?u:{default:u}}(y(120));y(102).Bootstrap.registerPlugin("stats",{listen:["pre","post"],install:function(u){const m=this.stats=new A.default,e=m.domElement.style;e.position="absolute";e.top=e.left=0;u.element.appendChild(m.domElement);u.stats=m},uninstall:function(u){this.stats.domElement.remove();delete u.stats},pre:function(u,m){this.stats.begin()},post:function(u,m){this.stats.end()}})};
shadow$provide[122]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("ui",{defaults:{theme:"white",style:".threestrap-ui { position: absolute; bottom: 5px; right: 5px; float: left; }.threestrap-ui button { border: 0; background: none;  vertical-align: middle; font-weight: bold; } .threestrap-ui .glyphicon { top: 2px; font-weight: bold; } @media (max-width: 640px) { .threestrap-ui button { font-size: 120% } }.threestrap-white button { color: #fff; text-shadow: 0 1px 1px rgba(0, 0, 0, 1), 0 1px 3px rgba(0, 0, 0, 1); }.threestrap-black button { color: #000; text-shadow: 0 0px 1px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1) }"},
listen:["fullscreen"],markup:function(A,u,m){let e="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css";location.href.match(/^file:\/\//)&&(e="http://"+e);const c=[];A.Fullscreen&&c.push('\x3cbutton class\x3d"fullscreen" title\x3d"Full Screen"\x3e\x3cspan class\x3d"glyphicon glyphicon-fullscreen"\x3e\x3c/span\x3e\x3c/button\x3e');A.VR&&c.push('\x3cbutton class\x3d"vr" title\x3d"VR Headset"\x3eVR\x3c/button\x3e');return'\x3cstyle type\x3d"text/css"\x3e@import url("'+e+'"); '+m+
'\x3c/style\x3e\x3cdiv class\x3d"threestrap-ui threestrap-'+u+'"\x3e'+c.join("\n")+"\x3c/div\x3e"},install:function(A){var u=this.ui=document.createElement("div");u.innerHTML=this.markup(A,this.options.theme,this.options.style);document.body.appendChild(u);const m=this.ui.fullscreen=u.querySelector("button.fullscreen");m&&A.bind([m,"click:goFullscreen"],this);(u=this.ui.vr=u.querySelector("button.vr"))&&A.VR&&(A.VR.set({mode:"2d"}),A.bind([u,"click:goVR"],this))},fullscreen:function(A,u){this.ui.style.display=
A.active?"none":"block";A.active||u.VR&&u.VR.set({mode:"2d"})},goFullscreen:function(A,u){u.Fullscreen&&u.Fullscreen.toggle()},goVR:function(A,u){u.VR&&(u.VR.set({mode:"auto"}),u.Fullscreen.toggle())},uninstall:function(A){document.body.removeChild(this.ui)}})};
shadow$provide[123]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.VRRenderer=void 0;var A=P(99);class J{constructor(r,w){this.renderer=r;this.right=new A.Vector3;this.cameraLeft=new A.PerspectiveCamera;this.cameraRight=new A.PerspectiveCamera;r=w.getEyeTranslation("left");this.halfIPD=(new A.Vector3(r.x,r.y,r.z)).length();this.fovLeft=w.getRecommendedEyeFieldOfView("left");this.fovRight=w.getRecommendedEyeFieldOfView("right")}FovToNDCScaleOffset(r){const w=2/(r.leftTan+r.rightTan),
h=2/(r.upTan+r.downTan);return{scale:[w,h],offset:[(r.leftTan-r.rightTan)*w*.5,(r.upTan-r.downTan)*h*.5]}}FovPortToProjection(r,w,h,m,x){m=void 0===m?.01:m;x=void 0===x?1E4:x;h=void 0===h||h?-1:1;const z=r.elements;w=this.FovToNDCScaleOffset(w);z[0]=w.scale[0];z[1]=0;z[2]=w.offset[0]*h;z[3]=0;z[4]=0;z[5]=w.scale[1];z[6]=-w.offset[1]*h;z[7]=0;z[8]=0;z[9]=0;z[10]=x/(m-x)*-h;z[11]=x*m/(m-x);z[12]=0;z[13]=0;z[14]=h;z[15]=0;r.transpose()}FovToProjection(r,w,h,m,x){return this.FovPortToProjection(r,{upTan:Math.tan(w.upDegrees*
Math.PI/180),downTan:Math.tan(w.downDegrees*Math.PI/180),leftTan:Math.tan(w.leftDegrees*Math.PI/180),rightTan:Math.tan(w.rightDegrees*Math.PI/180)},h,m,x)}render(r,w){this.FovToProjection(this.cameraLeft.projectionMatrix,this.fovLeft,!0,w.near,w.far);this.FovToProjection(this.cameraRight.projectionMatrix,this.fovRight,!0,w.near,w.far);this.right.set(this.halfIPD,0,0);this.right.applyQuaternion(w.quaternion);this.cameraLeft.position.copy(w.position).sub(this.right);this.cameraRight.position.copy(w.position).add(this.right);
this.cameraLeft.quaternion.copy(w.quaternion);this.cameraRight.quaternion.copy(w.quaternion);var h=this.renderer.devicePixelRatio||1;w=this.renderer.domElement.width/2/h;h=this.renderer.domElement.height/h;this.renderer.enableScissorTest(!0);this.renderer.setViewport(0,0,w,h);this.renderer.setScissor(0,0,w,h);this.renderer.render(r,this.cameraLeft);this.renderer.setViewport(w,0,w,h);this.renderer.setScissor(w,0,w,h);this.renderer.render(r,this.cameraRight)}}I.VRRenderer=J};
shadow$provide[124]=function(G,y,X,g){G=y(102);var A=y(123);G.Bootstrap.registerPlugin("vr",{defaults:{mode:"auto",device:null,fov:80},listen:["window.load","pre","render","resize","this.change"],install:function(u){u.VR=this.api({active:!1,devices:[],hmd:null,sensor:null,renderer:null,state:null},u)},uninstall:function(u){delete u.VR},mocks:function(u,m,e){return[{fake:!0,force:1,deviceId:"emu",deviceName:"Emulated",getEyeTranslation:function(c){return{left:{x:-.03,y:0,z:0},right:{x:.03,y:0,z:0}}[c]},
getRecommendedEyeFieldOfView:function(c){var h=u.camera;const l=(m||h&&h.fov||e)/2;h=180*Math.atan(Math.tan(l*Math.PI/180)*(h&&h.aspect||16/9)/2)/Math.PI;return{left:{rightDegrees:h,leftDegrees:h,downDegrees:l,upDegrees:l},right:{rightDegrees:h,leftDegrees:h,downDegrees:l,upDegrees:l}}[c]}},{force:2,getState:function(){return{}}}]},load:function(u,m){u=function(e){this.callback(e,m)}.bind(this);navigator.getVRDevices?navigator.getVRDevices().then(u):navigator.mozGetVRDevices?navigator.mozGetVRDevices(u):
(console.warn("No native VR support detected."),u(this.mocks(m,this.options.fov,this.defaults.fov),m))},callback:function(u,m){let e,c;var h=window.HMDVRDevice||function(){};const l=window.PositionSensorVRDevice||function(){};u=m.VR.devices=u||m.VR.devices;var n=this.options.device;let p;for(let v=0;v<u.length;++v)if(p=u[v],(1==p.force||p instanceof h)&&(!n||n==p.deviceId)){e=p;break}if(e){for(n=0;n<u.length;++n)if(h=u[n],2==h.force||h instanceof l&&h.hardwareUnitId==e.hardwareUnitId){c=h;break}this.hookup(e,
c,m)}},hookup:function(u,m,e){A.VRRenderer||console.log("VRRenderer not found");this.renderer=new (A.VRRenderer||function(){})(e.renderer,u);this.hmd=u;this.sensor=m;e.VR.renderer=this.renderer;e.VR.hmd=u;e.VR.sensor=m;console.log("VRRenderer",u.deviceName)},change:function(u,m){u.changes.device&&this.callback(null,m);this.pre(u,m)},pre:function(u,m){u=this.active;const e=this.active=this.renderer&&"2d"!=this.options.mode;if((m.VR.active=e)&&this.sensor){const c=this.sensor.getState();m.VR.state=
c}else m.VR.state=null;u!=this.active&&m.trigger({type:"vr",active:e,hmd:this.hmd,sensor:this.sensor})},resize:function(u,m){this.active&&this.renderer.initialize()},render:function(u,m){if(m.scene&&m.camera){u=this.active?this.renderer:m.renderer;if(this.last!=u&&u==m.renderer){var e=u.getPixelRatio();const c=u.domElement.width/e;e=u.domElement.height/e;u.setScissorTest(!1);u.setViewport(0,0,c,e)}this.last=u;u.render(m.scene,m.camera)}}})};
shadow$provide[125]=function(G,y,X,g){y(117);y(118);y(119);y(121);y(122);y(124)};
shadow$provide[126]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.VRControls=void 0;var A=P(99);class J{constructor(r,w){function h(m){this.vrDisplays=m;0<m.length?this.vrDisplay=m[0]:w&&w("VR input not available.")}this.object=r;this.standingMatrix=new A.Matrix4;this.frameData=null;"VRFrameData"in window&&(this.frameData=new VRFrameData);navigator.getVRDisplays&&navigator.getVRDisplays().then(h).catch(function(){console.warn("VRControls: Unable to get VR Displays")});this.scale=
1;this.standing=!1;this.userHeight=1.6}getVRDisplay(){return this.vrDisplay}setVRDisplay(r){this.vrDisplay=r}getVRDisplays(){console.warn("VRControls: getVRDisplays() is being deprecated.");return this.vrDisplays}getStandingMatrix(){return this.standingMatrix}update(){if(this.vrDisplay){let r;this.vrDisplay.getFrameData?(this.vrDisplay.getFrameData(this.frameData),r=this.frameData.pose):this.vrDisplay.getPose&&(r=this.vrDisplay.getPose());null!==r.orientation&&this.object.quaternion.fromArray(r.orientation);
null!==r.position?this.object.position.fromArray(r.position):this.object.position.set(0,0,0);this.standing&&(this.vrDisplay.stageParameters?(this.object.updateMatrix(),this.standingMatrix.fromArray(this.vrDisplay.stageParameters.sittingToStandingTransform),this.object.applyMatrix(this.standingMatrix)):this.object.position.setY(this.object.position.y+this.userHeight));this.object.position.multiplyScalar(this.scale)}}dispose(){this.vrDisplay=null}}I.VRControls=J};
shadow$provide[127]=function(G,y,X,g){y(126)};
shadow$provide[128]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.MultiRenderer=void 0;var A=P(99);class J{constructor(r){console.log("MultiRenderer",A.REVISION);this.domElement=document.createElement("div");this.domElement.style.position="relative";this.renderers=[];this._renderSizeSet=!1;const w=r.renderers||[];r=r.parameters||[];for(let h=0;h<w.length;h++){const m=new w[h](r[h]);m.domElement.style.position="absolute";m.domElement.style.top="0px";m.domElement.style.left=
"0px";this.domElement.appendChild(m.domElement);this.renderers.push(m)}}setSize(r,w){this.domElement.style.width=r+"px";this.domElement.style.height=w+"px";for(let h=0;h<this.renderers.length;h++){const m=this.renderers[h],x=m.domElement;(!this._renderSizeSet||x&&"CANVAS"!==x.tagName)&&m.setSize(r,w);x.style.width=r+"px";x.style.height=w+"px"}}setRenderSize(r,w){this._renderSizeSet=!0;for(let h=0;h<this.renderers.length;h++){const m=this.renderers[h],x=m.domElement;x&&"CANVAS"===x.tagName&&m.setSize(r,
w,!1)}}render(r,w){for(let h=0;h<this.renderers.length;h++)this.renderers[h].render(r,w)}}I.MultiRenderer=J};
shadow$provide[129]=function(G,y,X,g){y(128);y(123)};
shadow$provide[130]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});Object.defineProperty(g,"Api",{enumerable:!0,get:function(){return A.Api}});Object.defineProperty(g,"Binder",{enumerable:!0,get:function(){return u.Binder}});Object.defineProperty(g,"Bootstrap",{enumerable:!0,get:function(){return m.Bootstrap}});Object.defineProperty(g,"VRControls",{enumerable:!0,get:function(){return e.VRControls}});Object.defineProperty(g,"MultiRenderer",{enumerable:!0,get:function(){return c.MultiRenderer}});
Object.defineProperty(g,"VRRenderer",{enumerable:!0,get:function(){return h.VRRenderer}});y(104);y(101);y(102);y(116);y(125);y(127);y(129);var A=y(100),u=y(101),m=y(102),e=y(126),c=y(128),h=y(123)};
shadow$provide[131]=function(G,y,X,g){function A(c,h){return"undefined"!==typeof c&&null!==c?h(c):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Attributes=void 0;class u{constructor(c,h){this.context=h;this.traits=c.Traits;this.types=c.Types;this.pending=[];this.bound=[];this.last=null}make(c){return{enum:"function"===typeof c.enum?c.enum():void 0,type:"function"===typeof c.uniform?c.uniform():void 0,value:c.make()}}apply(c,h){return new e(c,h,this)}bind(c){return this.bound.push(c)}unbind(c){return this.bound=
Array.from(this.bound).filter(h=>h!==c)}queue(c,h,l,n){this.lastObject=h;this.lastKey=l;this.lastValue=n;return this.pending.push(c)}invoke(c){return c(this.context.time.clock,this.context.time.step)}compute(){if(this.bound.length)for(const c of Array.from(this.bound))this.invoke(c)}digest(){let c;if(!this.pending.length)return!1;[c,this.pending]=Array.from([this.pending,[]]);for(const h of Array.from(c))h();return!0}getTrait(c){return this.traits[c]}getLastTrigger(){return`${this.lastObject.toString()} - ${this.lastKey}=\`${this.lastValue}\``}}
g.Attributes=u;const m=function(c){const h={};for(const l in c)h[l]=c[l];return h};class e{constructor(c,h,l){let n;let p,v,w,z,x,{props:E}=h;const {traits:H,finals:I,freeform:N}=h,Q=this;null!=c.props&&null!=c.expr&&null!=c.orig&&null!=c.computed&&null!=c.attributes&&(z=m(c.props),v=m(c.expr),w=c.orig(),p=c.computed(),null!=c.attributes&&c.attributes.dispose());const V={},ba={},T={},O=ya=>null!=(null!=Q[ya]?Q[ya].value:void 0)?null!=Q[ya]?Q[ya].value:void 0:A(Q[null!=T[ya]?T[ya]:ya],na=>na.value),
da=function(ya,na,Va,bb){let wb;ya=null!=T[ya]?T[ya]:ya;if(null==(wb=Q[ya])){if(!N)throw Error(`${c.toString()} - Setting unknown property \`${ya}={${na}}\``);wb=Q[ya]={short:ya,type:null,last:null,value:null};fb[ya]=cb=>cb}if(!Va){if(qa[ya])throw Error(`${c.toString()} - Can't set bound property \`${ya}={${na}}\``);if(jb[ya])throw Error(`${c.toString()} - Can't set computed property \`${ya}={${na}}\``);if(va[ya])throw Error(`${c.toString()} - Can't set final property \`${ya}={${na}}\``);}let Ca=
!0;const gb=ka(ya,na,wb.last,function(){Ca=!1;return null});if(Ca){[wb.value,wb.last]=Array.from([gb,wb.value]);const {short:cb}=wb;V[cb]=gb;Va||(ba[cb]=na);bb||lb[ya](wb.value,wb.last)||Y(ya,na)}return Ca};h=function(ya,na,Va){ya=null!=T[ya]?T[ya]:ya;da(ya,na,!0,Va);return va[ya]=!0};const ea={},Aa={},Ea={},qa={},jb={},va={},Ga=function(ya,na,Va){null==Va&&(Va=!1);ya=null!=T[ya]?T[ya]:ya;if("function"!==typeof na)throw Error(`${c.toString()} - Expression \`${ya}=>{${ea}}\` is not a function`);if(qa[ya])throw Error(`${c.toString()} - Property \`${ya}=>{${ea}}\` is already bound`);
if(jb[ya])throw Error(`${c.toString()} - Property \`${ya}\` is computed`);if(va[ya])throw Error(`${c.toString()} - Property \`${ya}\` is final`);(Va?jb:qa)[ya]=na;const bb=null!=Q[ya]?Q[ya].short:ya;Va||(ea[bb]=na);Ea[ya]=na;na=na.bind(c);Aa[ya]=function(wb,Ca){let gb;if(gb=null!=c.clock?c.clock.getTime():void 0)wb=gb.clock,Ca=gb.step;return c.set(ya,na(wb,Ca),!0)};return l.bind(Aa[ya])},Da=function(ya,na){null==na&&(na=!1);ya=null!=T[ya]?T[ya]:ya;na=na?jb:qa;if(na[ya])return l.unbind(Aa[ya]),delete Aa[ya],
delete na[ya],null!=Q[ya]&&(ya=Q[ya].short),delete ea[ya]},Oa=function(ya,na){let Va;ya=null!=T[ya]?T[ya]:ya;return null!=(Va="function"===typeof Ea[ya]?Ea[ya](na,0):void 0)?Va:Q[ya].value};c.expr=ea;c.props=V;c.evaluate=function(ya,na){if(null!=ya)return Oa(ya,na);const Va={};for(ya in E)Va[ya]=Oa(ya,na);return Va};c.get=function(ya){return null!=ya?O(ya):V};c.set=function(ya,na,Va,bb){if("string"===typeof ya)da(ya,na,Va,bb);else{bb=Va;Va=na;const wb=ya;for(ya in wb)na=wb[ya],da(ya,na,Va,bb)}};c.bind=
function(ya,na,Va){if("string"===typeof ya)Ga(ya,na,Va);else{Va=na;const bb=ya;for(ya in bb)na=bb[ya],Ga(ya,na,Va)}};c.unbind=function(ya,na){if("string"===typeof ya)Da(ya,na);else{na=ea;const Va=ya;for(ya in Va)Da(ya,na)}};c.attribute=function(ya){return null!=ya?Q[null!=T[ya]?T[ya]:ya]:Q};c.orig=function(ya){return null!=ya?ba[null!=T[ya]?T[ya]:ya]:m(ba)};c.computed=function(ya){return null!=ya?jb[null!=T[ya]?T[ya]:ya]:m(jb)};const tb={},fb={},lb={},ka=(ya,na,Va,bb)=>fb[ya](na,Va,bb);c.validate=
function(ya,na){let Va;ya=null!=T[ya]?T[ya]:ya;const bb=tb[ya];null!=bb&&(Va=bb());return Va=ka(ya,na,Va,function(){throw Error(`${c.toString()} - Invalid value \`${ya}={${na}}\``);})};let zb=!1,Eb={},kb={},Nb={},L={};const Y=function(ya,na){zb||(zb=!0,l.queue(Za,c,ya,na));na=ya.split(".")[0];Eb[ya]=!0;return kb[na]=!0},sa={type:"change",changed:null,touched:null},Za=function(){sa.changed=Eb;sa.touched=kb;Eb=Nb;kb=L;({changed:Nb}=sa);({touched:L}=sa);zb=!1;for(ya in Eb)Eb[ya]=!1;for(ya in kb)kb[ya]=
!1;sa.type="change";c.trigger(sa);var ya=[];for(const na in sa.touched)sa.type=`change:${na}`,ya.push(c.trigger(sa));return ya},Ja=function(ya){ya=ya.split(/\./g);const na=ya.pop();ya.pop();ya.unshift(na);return ya.reduce((Va,bb)=>Va+bb.charAt(0).toUpperCase()+bb.substring(1))},Sa=(ya,na)=>(()=>{const Va=[];for(let bb in na){let wb;const Ca=na[bb];bb=[ya,bb].join(".");const gb=Ja(bb);Q[bb]={T:Ca,ns:ya,short:gb,enum:"function"===typeof Ca.enum?Ca.enum():void 0,type:"function"===typeof Ca.uniform?Ca.uniform():
void 0,last:Ca.make(),value:wb=Ca.make()};if(T[gb])throw Error(`${c.toString()} - Duplicate property \`${gb}\``);T[gb]=bb;V[gb]=wb;tb[bb]=Ca.make;fb[bb]=null!=Ca.validate?Ca.validate:cb=>cb;Va.push(lb[bb]=null!=Ca.equals?Ca.equals:(cb,ta)=>cb===ta)}return Va})(),hb=[];for(let ya of Array.from(H)){[ya,Ba]=Array.from(ya.split(":"));const na=Ba?[Ba,ya].join("."):ya;x=l.getTrait(ya);hb.push(ya);null!=x&&Sa(na,x)}if(null!=E)for(Ba in E)x=E[Ba],Sa(Ba,x);var Ba=hb.filter((ya,na)=>hb.indexOf(ya)===na);c.traits=
Ba;null!=z&&c.set(z,!0,!0);if(null!=I)for(n in I)h(n,I[n],!0);null!=w&&c.set(w,!1,!0);null!=p&&c.bind(p,!0);null!=v&&c.bind(v,!1);this.dispose=function(){for(n in jb)Da(n,!0);for(n in qa)Da(n,!1);E={};delete c.attributes;delete c.get;return delete c.set};null}}};
shadow$provide[132]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.format=g.print=g.number=g.markup=g.JSX=void 0;const A=(v,w)=>1E-4>Math.abs(v/w-Math.round(v/w)),u=function(v,w,z,x){v=Math.round(v/w);return 1===v?`${z}`:-1===v?`-${z}`:"1"===z?`${v}`:x?`${v}${z}`:`${v}*${z}`},m=function(v,w,z,x){v=Math.round(v*w);1===Math.abs(v)?v=(0>v?"-":"")+z:"1"!==z&&(v+=x?`${z}`:`*${z}`);return`${v}/${w}`},e=[{1:1},{1:1,"τ":2*Math.PI},{1:1,"π":Math.PI},{1:1,"τ":2*Math.PI,"π":Math.PI},{1:1,
e:Math.E},{1:1,"τ":2*Math.PI,e:Math.E},{1:1,"π":Math.PI,e:Math.E},{1:1,"τ":2*Math.PI,"π":Math.PI,e:Math.E}],c=[[420,[2,3,5,7]],[88200,[2,3,5,7]],[60060,[2,3,5,7,11,13]],[861764,[2,17,19,23,29]],[65536,[2]],[1E6,[2,5]]],h=function(v){let w,z,x,E,H;v&&({cache:w,compact:z,tau:H,pi:E,e:x}=v);z=+!(null!=z&&!z);const I=+!(null!=H&&!H)+2*+!(null!=E&&!E)+4*+!(null!=x&&!x),N=+!(null!=w&&!w)?{}:null;return function(Q){if(null!=N){var V;if(null!=(V=N[Q]))return V;if(Q===Math.round(Q))return N[Q]=`${Q}`}let ba=
`${Q}`,T=ba.length+ba.indexOf(".")+2;V=function(O){const da=O.length;if(da<=T)return ba=`${O}`,T=da};for(const O in e[I]){const da=e[I][O];if(A(Q/da,1))V(`${u(Q/da,1,O,z)}`);else for(let [ea,Aa]of Array.from(c)){let Ea=Q/da*ea;if(A(Ea,1)){for(const qa of Array.from(Aa)){let jb,va;for(;A(va=Ea/qa,1)&&A(jb=ea/qa,1);)Ea=va,ea=jb}V(`${m(Q/da,ea,O,z)}`);break}}}5<`${Q}`.length&&V(`${Q.toPrecision(5)}`);null!=N&&(N[Q]=ba);return ba}};g.number=h;g.print=function(v,w){null==w&&(w="info");v=l(v);return console[w].apply(console,
v)};const l=function(v){let w=!1,z=0;const x=[];v=v.replace(/(\\[<={}> "'])|(=>|[<={}> "'])/g,function(E,H,I){return null!=H&&H.length?H:w&&!['"',"'"].includes(I)||z&&!['"',"'","{","}"].includes(I)?I:(()=>{switch(I){case "\x3c":return x.push("color:rgb(128,0,128)"),"%c\x3c";case "\x3e":return x.push("color:rgb(128,0,128)"),x.push("color:inherit"),"%c\x3e%c";case " ":return x.push("color:rgb(144,64,0)")," %c";case "\x3d":case "\x3d\x3e":return x.push("color:rgb(128,0,128)"),`%c${I}`;case '"':case "'":if(w=
!w)return x.push(z?"color:rgb(144,64,0)":"color:rgb(0,0,192)"),`${I}%c`;x.push(z?"color:rgb(0,70,156)":"color:rgb(128,0,128)");return`%c${I}`;case "{":return 0===z++?(x.push("color:rgb(0,70,156)"),`%c${I}`):I;case "}":return 0===--z?(x.push("color:rgb(128,0,128)"),`${I}%c`):I;default:return I}})()});return[v].concat(x)};g.markup=l;const n=function(){const v=h({compact:!1});return function(w,z,x){const E=function(H){if(H instanceof Array)return`[${H.map(E).join(", ")}]`;switch(typeof H){case "string":return H.match("\n")?
`"\n${H}"\n`:`"${H}"`;case "function":return H=`${H}`,H.match("\n")?`\n${H}\n`:`${H}`,H=H.replace(/^function (\([^)]*\))/,"$1 \x3d\x3e"),H=H.replace(/^(\([^)]*\)) =>\s*{\s*return\s*([^}]+)\s*;\s*}/,"$1 \x3d\x3e $2");case "number":return v(H);default:return null!=H&&H!==!!H?null!=H._up?E(H.map(I=>I)):H.toMarkup?H.toString():"{"+(()=>{const I=[];for(const ba in H){const T=H[ba];if(Object.prototype.hasOwnProperty.call(H,ba)){var N=I,Q=N.push;var V=ba;V=V===""+ +V||V.match(/^[A-Za-z_][A-Za-z0-9]*$/)?
V:JSON.stringify(V);Q.call(N,`${V}: ${E(T)}`)}}return I})().join(", ")+"}":`${JSON.stringify(H)}`}};return[w,x,function(H){return H.match('\n*"')?H:`{${H}}`}(E(z))].join("")}}(),p=function(v){v=v.replace(/&/g,"\x26amp;");v=v.replace(/</g,"\x26lt;");return v.replace(/"/g,"\x26quot;")};g.format=function(v){const w=[].slice.call(arguments);w.shift();let z="\x3cspan\x3e";v=p(v);for(const x of Array.from(w))v=v.replace(/%([a-z])/,function(E,H){E=w.shift();switch(H){case "c":return`</span><span style="${p(E)}">`;
default:return p(E)}});z+=v;return z+="\x3c/span\x3e"};g.JSX={prop:(v,w)=>n(v,w,"\x3d"),bind:(v,w)=>n(v,w,"\x3d\x3e")}};
shadow$provide[133]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Node=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(132));G=y(101);let m=0;class e{constructor(c,h,l,n,p,v){this.type=c;this._id=(++m).toString();this.configure(p,v);this.parent=this.root=this.path=this.index=null;this.set(h,!0,!0);this.set(l,!1,!0);this.bind(n,!1)}configure(c,h){let {traits:l,props:n,finals:p,freeform:v}=c;null==l&&(l=null!=(null!=this._config?this._config.traits:void 0)?null!=this._config?
this._config.traits:void 0:[]);null==n&&(n=null!=(null!=this._config?this._config.props:void 0)?null!=this._config?this._config.props:void 0:{});null==p&&(p=null!=(null!=this._config?this._config.finals:void 0)?null!=this._config?this._config.finals:void 0:{});null==v&&(v=null!=(null!=this._config?this._config.freeform:void 0)?null!=this._config?this._config.freeform:void 0:!1);this._config={traits:l,props:n,finals:p,freeform:v};return this.attributes=h.apply(this,this._config)}dispose(){this.attributes.dispose();
return this.attributes=null}_added(c){this.parent=c;this.root=c.root;c={type:"add",node:this,parent:this.parent};this.root&&this.root.trigger(c);c.type="added";return this.trigger(c)}_removed(){const c={type:"remove",node:this};this.root&&this.root.trigger(c);c.type="removed";this.trigger(c);return this.root=this.parent=null}_index(c,h){null==h&&({parent:h}=this);this.index=c;this.path=c=null!=c?(null!=(null!=h?h.path:void 0)?null!=h?h.path:void 0:[]).concat([c]):null;this.order=null!=c?this._encode(c):
Infinity;if(null!=this.root)return this.trigger({type:"reindex"})}_encode(c){let h=1+1/3,l=0;for(const n of Array.from(c))[h,l]=Array.from([l+3/(n+1+3)*(h-l),l+3/(n+2+3)*(h-l)]);return h}toString(){const c=null!=this.type?this.type:"node";let h;h=c+`#${null!=this.id?this.id:this._id}`;null!=this.classes&&this.classes.length&&(h+=`.${this.classes.join(".")}`);if(null!=this.children){let l;return(l=this.children.length)?`<${h}>…(${l})…</${c}>`:`<${h}></${c}>`}return`<${h} />`}toMarkup(c=null,h){let l,
n;null==h&&(h="");if(c&&"function"!==typeof c){var p;c=null!=(p=null!=this.root?this.root.model._matcher(c):void 0)?p:()=>!0}p=null!=this.type?this.type:"node";let {expr:v}=this;const w={id:this._id};var z="function"===typeof this.orig?this.orig():void 0;for(l in z)n=z[l],w[l]=n;z=(()=>{const H=[];for(l in w)n=w[l],this.expr[l]||H.push(u.JSX.prop(l,n));return H})();v=(()=>{const H=[];for(l in v)n=v[l],H.push(u.JSX.bind(l,n));return H})();var x=[""];z.length&&(x=x.concat(z));v.length&&(x=x.concat(v));
x=x.join(" ");let E=h;z=()=>null!=this.children&&this.children.length?this.children.map(H=>H.toMarkup(c,E)).filter(H=>null!=H&&H.length).join("\n"):"";return c&&!c(this)?z():null!=this.children?(x=`<${p}${x}>`,p=`</${p}>`,E=h+"  ",z=z(),z.length&&(z="\n"+z+"\n"+h),null==z&&(z=""),h+x+z+p):`${h}<${p}${x} />`}print(c,h){return u.print(this.toMarkup(c),h)}}g.Node=e;G.Binder.apply(e.prototype)};
shadow$provide[134]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Group=void 0;G=y(133);class A extends G.Node{constructor(u,m,e,c,h,l){super(u,m,e,c,h,l);this.children=[];this.on("reindex",n=>Array.from(this.children).map(p=>p.trigger(n)))}add(u){null!=u.parent&&u.parent.remove(u);u._index(this.children.length,this);this.children.push(u);return u._added(this)}remove(u){null!=u.children&&u.children.length&&u.empty();const m=this.children.indexOf(u);if(-1!==m){this.children.splice(m,
1);u._index(null);u._removed(this);for(let e=0;e<this.children.length;e++)u=this.children[e],e>=m&&u._index(e)}}empty(){const u=this.children.slice().reverse();for(const m of Array.from(u))this.remove(m)}}g.Group=A};
shadow$provide[135]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Guard=void 0;class A{constructor(u){null==u&&(u=10);this.limit=u}iterate(u){const {step:m,last:e}=u;for({limit:u}=this;m();)if(!--u)throw console.warn("Last iteration","function"===typeof e?e():void 0),Error("Exceeded iteration limit.");return null}}g.Guard=A};
shadow$provide[136]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Doctype=g.CDATA=g.Tag=g.Style=g.Script=g.Comment=g.Directive=g.Text=g.Root=g.isTag=g.ElementType=void 0;var A;(function(u){u.Root="root";u.Text="text";u.Directive="directive";u.Comment="comment";u.Script="script";u.Style="style";u.Tag="tag";u.CDATA="cdata";u.Doctype="doctype"})(A=g.ElementType||(g.ElementType={}));g.isTag=function(u){return u.type===A.Tag||u.type===A.Script||u.type===A.Style};g.Root=A.Root;g.Text=
A.Text;g.Directive=A.Directive;g.Comment=A.Comment;g.Script=A.Script;g.Style=A.Style;g.Tag=A.Tag;g.CDATA=A.CDATA;g.Doctype=A.Doctype};
shadow$provide[137]=function(G,y,X,g){function A(V){return(0,w.isTag)(V)}function u(V){return V.type===w.ElementType.CDATA}function m(V){return V.type===w.ElementType.Text}function e(V){return V.type===w.ElementType.Comment}function c(V){return V.type===w.ElementType.Directive}function h(V){return V.type===w.ElementType.Root}function l(V,ba){void 0===ba&&(ba=!1);if(m(V))ba=new x(V.data);else if(e(V))ba=new E(V.data);else if(A(V)){ba=ba?n(V.children):[];var T=new Q(V.name,v({},V.attribs),ba);ba.forEach(function(ea){return ea.parent=
T});null!=V.namespace&&(T.namespace=V.namespace);V["x-attribsNamespace"]&&(T["x-attribsNamespace"]=v({},V["x-attribsNamespace"]));V["x-attribsPrefix"]&&(T["x-attribsPrefix"]=v({},V["x-attribsPrefix"]));ba=T}else if(u(V)){ba=ba?n(V.children):[];var O=new I(w.ElementType.CDATA,ba);ba.forEach(function(ea){return ea.parent=O});ba=O}else if(h(V)){ba=ba?n(V.children):[];var da=new N(ba);ba.forEach(function(ea){return ea.parent=da});V["x-mode"]&&(da["x-mode"]=V["x-mode"]);ba=da}else if(c(V))ba=new H(V.name,
V.data),null!=V["x-name"]&&(ba["x-name"]=V["x-name"],ba["x-publicId"]=V["x-publicId"],ba["x-systemId"]=V["x-systemId"]);else throw Error("Not implemented yet: ".concat(V.type));ba.startIndex=V.startIndex;ba.endIndex=V.endIndex;null!=V.sourceCodeLocation&&(ba.sourceCodeLocation=V.sourceCodeLocation);return ba}function n(V){V=V.map(function(T){return l(T,!0)});for(var ba=1;ba<V.length;ba++)V[ba].prev=V[ba-1],V[ba-1].next=V[ba];return V}var p=this&&this.__extends||function(){var V=function(ba,T){V=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(O,da){O.__proto__=da}||function(O,da){for(var ea in da)Object.prototype.hasOwnProperty.call(da,ea)&&(O[ea]=da[ea])};return V(ba,T)};return function(ba,T){function O(){this.constructor=ba}if("function"!==typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");V(ba,T);ba.prototype=null===T?Object.create(T):(O.prototype=T.prototype,new O)}}(),v=this&&this.__assign||function(){v=Object.assign||function(V){for(var ba,
T=1,O=arguments.length;T<O;T++){ba=arguments[T];for(var da in ba)Object.prototype.hasOwnProperty.call(ba,da)&&(V[da]=ba[da])}return V};return v.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});g.cloneNode=g.hasChildren=g.isDocument=g.isDirective=g.isComment=g.isText=g.isCDATA=g.isTag=g.Element=g.Document=g.NodeWithChildren=g.ProcessingInstruction=g.Comment=g.Text=g.DataNode=g.Node=void 0;var w=y(136),z=new Map([[w.ElementType.Tag,1],[w.ElementType.Script,1],[w.ElementType.Style,
1],[w.ElementType.Directive,1],[w.ElementType.Text,3],[w.ElementType.CDATA,4],[w.ElementType.Comment,8],[w.ElementType.Root,9]]);G=function(){function V(ba){this.type=ba;this.endIndex=this.startIndex=this.next=this.prev=this.parent=null}Object.defineProperty(V.prototype,"nodeType",{get:function(){var ba;return null!==(ba=z.get(this.type))&&void 0!==ba?ba:1},enumerable:!1,configurable:!0});Object.defineProperty(V.prototype,"parentNode",{get:function(){return this.parent},set:function(ba){this.parent=
ba},enumerable:!1,configurable:!0});Object.defineProperty(V.prototype,"previousSibling",{get:function(){return this.prev},set:function(ba){this.prev=ba},enumerable:!1,configurable:!0});Object.defineProperty(V.prototype,"nextSibling",{get:function(){return this.next},set:function(ba){this.next=ba},enumerable:!1,configurable:!0});V.prototype.cloneNode=function(ba){void 0===ba&&(ba=!1);return l(this,ba)};return V}();g.Node=G;y=function(V){function ba(T,O){T=V.call(this,T)||this;T.data=O;return T}p(ba,
V);Object.defineProperty(ba.prototype,"nodeValue",{get:function(){return this.data},set:function(T){this.data=T},enumerable:!1,configurable:!0});return ba}(G);g.DataNode=y;var x=function(V){function ba(T){return V.call(this,w.ElementType.Text,T)||this}p(ba,V);return ba}(y);g.Text=x;var E=function(V){function ba(T){return V.call(this,w.ElementType.Comment,T)||this}p(ba,V);return ba}(y);g.Comment=E;var H=function(V){function ba(T,O){O=V.call(this,w.ElementType.Directive,O)||this;O.name=T;return O}p(ba,
V);return ba}(y);g.ProcessingInstruction=H;var I=function(V){function ba(T,O){T=V.call(this,T)||this;T.children=O;return T}p(ba,V);Object.defineProperty(ba.prototype,"firstChild",{get:function(){var T;return null!==(T=this.children[0])&&void 0!==T?T:null},enumerable:!1,configurable:!0});Object.defineProperty(ba.prototype,"lastChild",{get:function(){return 0<this.children.length?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0});Object.defineProperty(ba.prototype,"childNodes",
{get:function(){return this.children},set:function(T){this.children=T},enumerable:!1,configurable:!0});return ba}(G);g.NodeWithChildren=I;var N=function(V){function ba(T){return V.call(this,w.ElementType.Root,T)||this}p(ba,V);return ba}(I);g.Document=N;var Q=function(V){function ba(T,O,da,ea){void 0===da&&(da=[]);void 0===ea&&(ea="script"===T?w.ElementType.Script:"style"===T?w.ElementType.Style:w.ElementType.Tag);da=V.call(this,ea,da)||this;da.name=T;da.attribs=O;return da}p(ba,V);Object.defineProperty(ba.prototype,
"tagName",{get:function(){return this.name},set:function(T){this.name=T},enumerable:!1,configurable:!0});Object.defineProperty(ba.prototype,"attributes",{get:function(){var T=this;return Object.keys(this.attribs).map(function(O){var da,ea;return{name:O,value:T.attribs[O],namespace:null===(da=T["x-attribsNamespace"])||void 0===da?void 0:da[O],prefix:null===(ea=T["x-attribsPrefix"])||void 0===ea?void 0:ea[O]}})},enumerable:!1,configurable:!0});return ba}(I);g.Element=Q;g.isTag=A;g.isCDATA=u;g.isText=
m;g.isComment=e;g.isDirective=c;g.isDocument=h;g.hasChildren=function(V){return Object.prototype.hasOwnProperty.call(V,"children")};g.cloneNode=l};
shadow$provide[138]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(h,l,n,p){void 0===p&&(p=n);var v=Object.getOwnPropertyDescriptor(l,n);if(!v||("get"in v?!l.__esModule:v.writable||v.configurable))v={enumerable:!0,get:function(){return l[n]}};Object.defineProperty(h,p,v)}:function(h,l,n,p){void 0===p&&(p=n);h[p]=l[n]});G=this&&this.__exportStar||function(h,l){for(var n in h)"default"===n||Object.prototype.hasOwnProperty.call(l,n)||A(l,h,n)};Object.defineProperty(g,"__esModule",
{value:!0});g.DomHandler=void 0;var u=y(136),m=y(137);G(y(137),g);var e=/\s+/g,c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1};y=function(){function h(l,n,p){this.dom=[];this.root=new m.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null;"function"===typeof n&&(p=n,n=c);"object"===typeof l&&(n=l,l=void 0);this.callback=null!==l&&void 0!==l?l:null;this.options=null!==n&&void 0!==n?n:c;this.elementCB=null!==p&&void 0!==p?p:null}h.prototype.onparserinit=
function(l){this.parser=l};h.prototype.onreset=function(){this.dom=[];this.root=new m.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null};h.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))};h.prototype.onerror=function(l){this.handleCallback(l)};h.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);this.elementCB&&this.elementCB(l)};
h.prototype.onopentag=function(l,n){l=new m.Element(l,n,void 0,this.options.xmlMode?u.ElementType.Tag:void 0);this.addNode(l);this.tagStack.push(l)};h.prototype.ontext=function(l){var n=this.options.normalizeWhitespace,p=this.lastNode;p&&p.type===u.ElementType.Text?(p.data=n?(p.data+l).replace(e," "):p.data+l,this.options.withEndIndices&&(p.endIndex=this.parser.endIndex)):(n&&(l=l.replace(e," ")),l=new m.Text(l),this.addNode(l),this.lastNode=l)};h.prototype.oncomment=function(l){this.lastNode&&this.lastNode.type===
u.ElementType.Comment?this.lastNode.data+=l:(l=new m.Comment(l),this.addNode(l),this.lastNode=l)};h.prototype.oncommentend=function(){this.lastNode=null};h.prototype.oncdatastart=function(){var l=new m.Text(""),n=new m.NodeWithChildren(u.ElementType.CDATA,[l]);this.addNode(n);l.parent=n;this.lastNode=l};h.prototype.oncdataend=function(){this.lastNode=null};h.prototype.onprocessinginstruction=function(l,n){l=new m.ProcessingInstruction(l,n);this.addNode(l)};h.prototype.handleCallback=function(l){if("function"===
typeof this.callback)this.callback(l,this.dom);else if(l)throw l;};h.prototype.addNode=function(l){var n=this.tagStack[this.tagStack.length-1],p=n.children[n.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex);this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);n.children.push(l);p&&(l.prev=p,p.next=l);l.parent=n;this.lastNode=null};return h}();g.DomHandler=y;g.default=y};
shadow$provide[139]=function(G,y,X,g){X.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"\x26",AMP:"\x26",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",
angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",
Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",
blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"\x3d⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",
boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"\ud835\udcb7",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",
caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"\ud835\udd20",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",
cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"\ud835\udd54",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",
Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",
Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",
divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",
DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",
dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",
emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"\x3d",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",
exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",
frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"\ud835\udcbb",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",
gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"\ud835\udca2",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:"\x3e",GT:"\x3e",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",
HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"\ud835\udd25",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"\ud835\udd59",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"\ud835\udcbd",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",
icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"\ud835\udd26",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅","in":"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺","int":"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",
iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"\ud835\udcbe",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"ȷ",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",
Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",
lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",
leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",
lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",
lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",
lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"\ud835\udcc1",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"\x3c",LT:"\x3c",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",
mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"∓",mscr:"\ud835\udcc2",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",
natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",
nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"\ud835\udd5f",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",
NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",
NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",
NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",
nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:"\x3e⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"\x3c⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",
nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"⦷",
OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"\ud835\udcaa",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",
permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"\ud835\udd61",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",
PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"⨌",qopf:"\ud835\udd62",Qopf:"ℚ",qprime:"⁗",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"ℍ",
quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",
rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"\ud835\udd2f",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",
RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",
rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"\ud835\udd63",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"\ud835\udcc7",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",
scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",
sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",
SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",
subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",
supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",
TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"Ц",tscy:"ц",
TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",
UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"\ud835\udcb0",
uscr:"\ud835\udcca",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",
vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"∝",vrtri:"⊳",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",
wopf:"\ud835\udd68",wp:"℘",wr:"≀",wreath:"≀",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",
Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"Ї",yicy:"ї",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"\ud835\udd37",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"\ud835\udd6b",Zopf:"ℤ",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"‍",zwnj:"‌"}};
shadow$provide[140]=function(G,y,X,g){X.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"\x26",AMP:"\x26",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:"\x3e",GT:"\x3e",Iacute:"Í",iacute:"í",Icirc:"Î",
icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"\x3c",LT:"\x3c",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",
ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}};
shadow$provide[141]=function(G,y,X,g){X.exports={amp:"\x26",apos:"'",gt:"\x3e",lt:"\x3c",quot:'"'}};
shadow$provide[142]=function(G,y,X,g){X.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}};
shadow$provide[143]=function(G,y,X,g){G=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};Object.defineProperty(g,"__esModule",{value:!0});var A=G(y(142)),u=String.fromCodePoint||function(m){var e="";65535<m&&(m-=65536,e+=String.fromCharCode(m>>>10&1023|55296),m=56320|m&1023);return e+=String.fromCharCode(m)};g.default=function(m){if(55296<=m&&57343>=m||1114111<m)return"�";m in A.default&&(m=A.default[m]);return u(m)}};
shadow$provide[144]=function(G,y,X,g){function A(n){var p=u(n);return function(v){return String(v).replace(h,p)}}function u(n){return function(p){if("#"===p.charAt(1)){var v=p.charAt(2);return"X"===v||"x"===v?c.default(parseInt(p.substr(3),16)):c.default(parseInt(p.substr(2),10))}return n[p.slice(1,-1)]||p}}G=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(g,"__esModule",{value:!0});g.decodeHTML=g.decodeHTMLStrict=g.decodeXML=void 0;var m=G(y(139)),
e=G(y(140));X=G(y(141));var c=G(y(143)),h=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;g.decodeXML=A(X.default);g.decodeHTMLStrict=A(m.default);var l=function(n,p){return n<p?1:-1};g.decodeHTML=function(){function n(H){";"!==H.substr(-1)&&(H+=";");return E(H)}for(var p=Object.keys(e.default).sort(l),v=Object.keys(m.default).sort(l),w=0,z=0;w<v.length;w++)p[z]===v[w]?(v[w]+=";?",z++):v[w]+=";";var x=new RegExp("\x26(?:"+v.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),E=u(m.default);return function(H){return String(H).replace(x,
n)}}()};
shadow$provide[145]=function(G,y,X,g){function A(p){return Object.keys(p).sort().reduce(function(v,w){v[p[w]]="\x26"+w+";";return v},{})}function u(p){var v=[],w=[],z=0;for(p=Object.keys(p);z<p.length;z++){var x=p[z];1===x.length?v.push("\\"+x):w.push(x)}v.sort();for(z=0;z<v.length-1;z++){for(p=z;p<v.length-1&&v[p].charCodeAt(1)+1===v[p+1].charCodeAt(1);)p+=1;x=1+p-z;3>x||v.splice(z,x,v[z]+"-"+v[p])}w.unshift("["+v.join("")+"]");return new RegExp(w.join("|"),"g")}function m(p){return"\x26#x"+(1<p.length?
l(p):p.charCodeAt(0)).toString(16).toUpperCase()+";"}function e(p){return function(v){return v.replace(n,function(w){return p[w]||m(w)})}}G=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(g,"__esModule",{value:!0});g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=void 0;X=G(y(141));X=A(X.default);var c=u(X);g.encodeXML=e(X);y=G(y(139));y=A(y.default);G=u(y);g.encodeHTML=function(p,v){return function(w){return w.replace(v,function(z){return p[z]}).replace(h,
m)}}(y,G);g.encodeNonAsciiHTML=e(y);var h=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,l=null!=String.prototype.codePointAt?function(p){return p.codePointAt(0)}:function(p){return 1024*(p.charCodeAt(0)-55296)+p.charCodeAt(1)-56320+65536},n=new RegExp(c.source+"|"+h.source,"g");g.escape=function(p){return p.replace(n,m)};g.escapeUTF8=function(p){return p.replace(c,m)}};
shadow$provide[146]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.decodeXMLStrict=g.decodeHTML5Strict=g.decodeHTML4Strict=g.decodeHTML5=g.decodeHTML4=g.decodeHTMLStrict=g.decodeHTML=g.decodeXML=g.encodeHTML5=g.encodeHTML4=g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=g.encode=g.decodeStrict=g.decode=void 0;var A=y(144),u=y(145);g.decode=function(c,h){return(!h||0>=h?A.decodeXML:A.decodeHTML)(c)};g.decodeStrict=function(c,h){return(!h||0>=h?A.decodeXML:
A.decodeHTMLStrict)(c)};g.encode=function(c,h){return(!h||0>=h?u.encodeXML:u.encodeHTML)(c)};var m=y(145);Object.defineProperty(g,"encodeXML",{enumerable:!0,get:function(){return m.encodeXML}});Object.defineProperty(g,"encodeHTML",{enumerable:!0,get:function(){return m.encodeHTML}});Object.defineProperty(g,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return m.encodeNonAsciiHTML}});Object.defineProperty(g,"escape",{enumerable:!0,get:function(){return m.escape}});Object.defineProperty(g,"escapeUTF8",
{enumerable:!0,get:function(){return m.escapeUTF8}});Object.defineProperty(g,"encodeHTML4",{enumerable:!0,get:function(){return m.encodeHTML}});Object.defineProperty(g,"encodeHTML5",{enumerable:!0,get:function(){return m.encodeHTML}});var e=y(144);Object.defineProperty(g,"decodeXML",{enumerable:!0,get:function(){return e.decodeXML}});Object.defineProperty(g,"decodeHTML",{enumerable:!0,get:function(){return e.decodeHTML}});Object.defineProperty(g,"decodeHTMLStrict",{enumerable:!0,get:function(){return e.decodeHTMLStrict}});
Object.defineProperty(g,"decodeHTML4",{enumerable:!0,get:function(){return e.decodeHTML}});Object.defineProperty(g,"decodeHTML5",{enumerable:!0,get:function(){return e.decodeHTML}});Object.defineProperty(g,"decodeHTML4Strict",{enumerable:!0,get:function(){return e.decodeHTMLStrict}});Object.defineProperty(g,"decodeHTML5Strict",{enumerable:!0,get:function(){return e.decodeHTMLStrict}});Object.defineProperty(g,"decodeXMLStrict",{enumerable:!0,get:function(){return e.decodeXML}})};
shadow$provide[147]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.attributeNames=g.elementNames=void 0;g.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix",
"feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting",
"feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);g.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],
["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],
["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur",
"repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget",
"viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])};
shadow$provide[148]=function(G,y,X,g){function A(E,H){if(E)return Object.keys(E).map(function(I){var N,Q,V=null!==(N=E[I])&&void 0!==N?N:"";"foreign"===H.xmlMode&&(I=null!==(Q=p.attributeNames.get(I))&&void 0!==Q?Q:I);return H.emptyAttrs||H.xmlMode||""!==V?I+'\x3d"'+(!1!==H.decodeEntities?n.encodeXML(V):V.replace(/"/g,"\x26quot;"))+'"':I}).join(" ")}function u(E,H){void 0===H&&(H={});E="length"in E?E:[E];for(var I="",N=0;N<E.length;N++)I+=m(E[N],H);return I}function m(E,H){switch(E.type){case l.Root:return u(E.children,
H);case l.Directive:case l.Doctype:return"\x3c"+E.data+"\x3e";case l.Comment:return"\x3c!--"+E.data+"--\x3e";case l.CDATA:return"\x3c![CDATA["+E.children[0].data+"]]\x3e";case l.Script:case l.Style:case l.Tag:var I;"foreign"===H.xmlMode&&(E.name=null!==(I=p.elementNames.get(E.name))&&void 0!==I?I:E.name,E.parent&&z.has(E.parent.name)&&(H=e(e({},H),{xmlMode:!1})));!H.xmlMode&&x.has(E.name)&&(H=e(e({},H),{xmlMode:"foreign"}));I="\x3c"+E.name;var N=A(E.attribs,H);N&&(I+=" "+N);if(0===E.children.length&&
(H.xmlMode?!1!==H.selfClosingTags:H.selfClosingTags&&w.has(E.name)))H.xmlMode||(I+=" "),I+="/\x3e";else if(I+="\x3e",0<E.children.length&&(I+=u(E.children,H)),H.xmlMode||!w.has(E.name))I+="\x3c/"+E.name+"\x3e";return I;case l.Text:return I=E.data||"",!1===H.decodeEntities||!H.xmlMode&&E.parent&&v.has(E.parent.name)||(I=n.encodeXML(I)),I}}var e=this&&this.__assign||function(){e=Object.assign||function(E){for(var H,I=1,N=arguments.length;I<N;I++){H=arguments[I];for(var Q in H)Object.prototype.hasOwnProperty.call(H,
Q)&&(E[Q]=H[Q])}return E};return e.apply(this,arguments)},c=this&&this.__createBinding||(Object.create?function(E,H,I,N){void 0===N&&(N=I);Object.defineProperty(E,N,{enumerable:!0,get:function(){return H[I]}})}:function(E,H,I,N){void 0===N&&(N=I);E[N]=H[I]}),h=this&&this.__setModuleDefault||(Object.create?function(E,H){Object.defineProperty(E,"default",{enumerable:!0,value:H})}:function(E,H){E["default"]=H});G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var H={};if(null!=E)for(var I in E)"default"!==
I&&Object.prototype.hasOwnProperty.call(E,I)&&c(H,E,I);h(H,E);return H};Object.defineProperty(g,"__esModule",{value:!0});var l=G(y(136)),n=y(146),p=y(147),v=new Set("style script xmp iframe noembed noframes plaintext noscript".split(" ")),w=new Set("area base basefont br col command embed frame hr img input isindex keygen link meta param source track wbr".split(" "));g.default=u;var z=new Set("mi mo mn ms mtext annotation-xml foreignObject desc title".split(" ")),x=new Set(["svg","math"])};
shadow$provide[149]=function(G,y,X,g){function A(n,p){return(0,h.default)(n,p)}function u(n){return Array.isArray(n)?n.map(u).join(""):(0,c.isTag)(n)?"br"===n.name?"\n":u(n.children):(0,c.isCDATA)(n)?u(n.children):(0,c.isText)(n)?n.data:""}function m(n){return Array.isArray(n)?n.map(m).join(""):(0,c.hasChildren)(n)&&!(0,c.isComment)(n)?m(n.children):(0,c.isText)(n)?n.data:""}function e(n){return Array.isArray(n)?n.map(e).join(""):(0,c.hasChildren)(n)&&(n.type===l.ElementType.Tag||(0,c.isCDATA)(n))?
e(n.children):(0,c.isText)(n)?n.data:""}G=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(g,"__esModule",{value:!0});g.innerText=g.textContent=g.getText=g.getInnerHTML=g.getOuterHTML=void 0;var c=y(138),h=G(y(148)),l=y(136);g.getOuterHTML=A;g.getInnerHTML=function(n,p){return(0,c.hasChildren)(n)?n.children.map(function(v){return A(v,p)}).join(""):""};g.getText=u;g.textContent=m;g.innerText=e};
shadow$provide[150]=function(G,y,X,g){function A(c){var h;return null!==(h=c.children)&&void 0!==h?h:e}function u(c){return c.parent||null}Object.defineProperty(g,"__esModule",{value:!0});g.prevElementSibling=g.nextElementSibling=g.getName=g.hasAttrib=g.getAttributeValue=g.getSiblings=g.getParent=g.getChildren=void 0;var m=y(138),e=[];g.getChildren=A;g.getParent=u;g.getSiblings=function(c){var h=u(c);if(null!=h)return A(h);h=[c];var l=c.prev;for(c=c.next;null!=l;)h.unshift(l),l=l.prev;for(;null!=
c;)h.push(c),c=c.next;return h};g.getAttributeValue=function(c,h){var l;return null===(l=c.attribs)||void 0===l?void 0:l[h]};g.hasAttrib=function(c,h){return null!=c.attribs&&Object.prototype.hasOwnProperty.call(c.attribs,h)&&null!=c.attribs[h]};g.getName=function(c){return c.name};g.nextElementSibling=function(c){for(c=c.next;null!==c&&!(0,m.isTag)(c);)c=c.next;return c};g.prevElementSibling=function(c){for(c=c.prev;null!==c&&!(0,m.isTag)(c);)c=c.prev;return c}};
shadow$provide[151]=function(G,y,X,g){function A(u){u.prev&&(u.prev.next=u.next);u.next&&(u.next.prev=u.prev);if(u.parent){var m=u.parent.children;m.splice(m.lastIndexOf(u),1)}}Object.defineProperty(g,"__esModule",{value:!0});g.prepend=g.prependChild=g.append=g.appendChild=g.replaceElement=g.removeElement=void 0;g.removeElement=A;g.replaceElement=function(u,m){var e=m.prev=u.prev;e&&(e.next=m);if(e=m.next=u.next)e.prev=m;if(e=m.parent=u.parent)e=e.children,e[e.lastIndexOf(u)]=m};g.appendChild=function(u,
m){A(m);m.next=null;m.parent=u;1<u.children.push(m)?(u=u.children[u.children.length-2],u.next=m,m.prev=u):m.prev=null};g.append=function(u,m){A(m);var e=u.parent,c=u.next;m.next=c;m.prev=u;u.next=m;m.parent=e;c?(c.prev=m,e&&(u=e.children,u.splice(u.lastIndexOf(c),0,m))):e&&e.children.push(m)};g.prependChild=function(u,m){A(m);m.parent=u;m.prev=null;1!==u.children.unshift(m)?(u=u.children[1],u.prev=m,m.next=u):m.next=null};g.prepend=function(u,m){A(m);var e=u.parent;if(e){var c=e.children;c.splice(c.indexOf(u),
0,m)}u.prev&&(u.prev.next=m);m.parent=e;m.prev=u.prev;m.next=u;u.prev=m}};
shadow$provide[152]=function(G,y,X,g){function A(c,h,l,n){for(var p=[],v=0;v<h.length;v++){var w=h[v];if(c(w)&&(p.push(w),0>=--n))break;if(l&&(0,e.hasChildren)(w)&&0<w.children.length&&(w=A(c,w.children,l,n),p.push.apply(p,w),n-=w.length,0>=n))break}return p}function u(c,h,l){void 0===l&&(l=!0);for(var n=null,p=0;p<h.length&&!n;p++){var v=h[p];(0,e.isTag)(v)&&(c(v)?n=v:l&&0<v.children.length&&(n=u(c,v.children)))}return n}function m(c,h){return h.some(function(l){return(0,e.isTag)(l)&&(c(l)||0<l.children.length&&
m(c,l.children))})}Object.defineProperty(g,"__esModule",{value:!0});g.findAll=g.existsOne=g.findOne=g.findOneChild=g.find=g.filter=void 0;var e=y(138);g.filter=function(c,h,l,n){void 0===l&&(l=!0);void 0===n&&(n=Infinity);Array.isArray(h)||(h=[h]);return A(c,h,l,n)};g.find=A;g.findOneChild=function(c,h){return h.find(c)};g.findOne=u;g.existsOne=m;g.findAll=function(c,h){var l,n=[];h=h.filter(e.isTag);for(var p;p=h.shift();){var v=null===(l=p.children)||void 0===l?void 0:l.filter(e.isTag);v&&0<v.length&&
h.unshift.apply(h,v);c(p)&&n.push(p)}return n}};
shadow$provide[153]=function(G,y,X,g){function A(l,n){return"function"===typeof n?function(p){return(0,e.isTag)(p)&&n(p.attribs[l])}:function(p){return(0,e.isTag)(p)&&p.attribs[l]===n}}function u(l,n){return function(p){return l(p)||n(p)}}function m(l){var n=Object.keys(l).map(function(p){var v=l[p];return Object.prototype.hasOwnProperty.call(h,p)?h[p](v):A(p,v)});return 0===n.length?null:n.reduce(u)}Object.defineProperty(g,"__esModule",{value:!0});g.getElementsByTagType=g.getElementsByTagName=g.getElementById=
g.getElements=g.testElement=void 0;var e=y(138),c=y(152),h={tag_name:function(l){return"function"===typeof l?function(n){return(0,e.isTag)(n)&&l(n.name)}:"*"===l?e.isTag:function(n){return(0,e.isTag)(n)&&n.name===l}},tag_type:function(l){return"function"===typeof l?function(n){return l(n.type)}:function(n){return n.type===l}},tag_contains:function(l){return"function"===typeof l?function(n){return(0,e.isText)(n)&&l(n.data)}:function(n){return(0,e.isText)(n)&&n.data===l}}};g.testElement=function(l,
n){return(l=m(l))?l(n):!0};g.getElements=function(l,n,p,v){void 0===v&&(v=Infinity);return(l=m(l))?(0,c.filter)(l,n,p,v):[]};g.getElementById=function(l,n,p){void 0===p&&(p=!0);Array.isArray(n)||(n=[n]);return(0,c.findOne)(A("id",l),n,p)};g.getElementsByTagName=function(l,n,p,v){void 0===p&&(p=!0);void 0===v&&(v=Infinity);return(0,c.filter)(h.tag_name(l),n,p,v)};g.getElementsByTagType=function(l,n,p,v){void 0===p&&(p=!0);void 0===v&&(v=Infinity);return(0,c.filter)(h.tag_type(l),n,p,v)}};
shadow$provide[154]=function(G,y,X,g){function A(m,e){var c=[],h=[];if(m===e)return 0;for(var l=(0,u.hasChildren)(m)?m:m.parent;l;)c.unshift(l),l=l.parent;for(l=(0,u.hasChildren)(e)?e:e.parent;l;)h.unshift(l),l=l.parent;var n=Math.min(c.length,h.length);for(l=0;l<n&&c[l]===h[l];)l++;if(0===l)return 1;n=c[l-1];var p=n.children;h=h[l];return p.indexOf(c[l])>p.indexOf(h)?n===e?20:4:n===m?10:2}Object.defineProperty(g,"__esModule",{value:!0});g.uniqueSort=g.compareDocumentPosition=g.removeSubsets=void 0;
var u=y(138);g.removeSubsets=function(m){for(var e=m.length;0<=--e;){var c=m[e];if(0<e&&0<=m.lastIndexOf(c,e-1))m.splice(e,1);else for(c=c.parent;c;c=c.parent)if(m.includes(c)){m.splice(e,1);break}}return m};g.compareDocumentPosition=A;g.uniqueSort=function(m){m=m.filter(function(e,c,h){return!h.includes(e,c+1)});m.sort(function(e,c){e=A(e,c);return e&2?-1:e&4?1:0});return m}};
shadow$provide[155]=function(G,y,X,g){function A(z){var x;z=z.children;var E={type:"atom",items:(0,p.getElementsByTagName)("entry",z).map(function(I){var N,Q=I.children;I={media:m(Q)};h(I,"id","id",Q);h(I,"title","title",Q);var V=null===(N=e("link",Q))||void 0===N?void 0:N.attribs.href;V&&(I.link=V);if(N=c("summary",Q)||c("content",Q))I.description=N;if(N=c("updated",Q))I.pubDate=new Date(N);return I})};h(E,"id","id",z);h(E,"title","title",z);var H=null===(x=e("link",z))||void 0===x?void 0:x.attribs.href;
H&&(E.link=H);h(E,"description","subtitle",z);if(x=c("updated",z))E.updated=new Date(x);h(E,"author","email",z,!0);return E}function u(z){var x,E,H=null!==(E=null===(x=e("channel",z.children))||void 0===x?void 0:x.children)&&void 0!==E?E:[];z={type:z.name.substr(0,3),id:"",items:(0,p.getElementsByTagName)("item",z.children).map(function(I){var N=I.children;I={media:m(N)};h(I,"id","guid",N);h(I,"title","title",N);h(I,"link","link",N);h(I,"description","description",N);if(N=c("pubDate",N))I.pubDate=
new Date(N);return I})};h(z,"title","title",H);h(z,"link","link",H);h(z,"description","description",H);if(x=c("lastBuildDate",H))z.updated=new Date(x);h(z,"author","managingEditor",H,!0);return z}function m(z){return(0,p.getElementsByTagName)("media:content",z).map(function(x){x=x.attribs;for(var E={medium:x.medium,isDefault:!!x.isDefault},H=0,I=v;H<I.length;H++){var N=I[H];x[N]&&(E[N]=x[N])}H=0;for(I=w;H<I.length;H++)N=I[H],x[N]&&(E[N]=parseInt(x[N],10));x.expression&&(E.expression=x.expression);
return E})}function e(z,x){return(0,p.getElementsByTagName)(z,x,!0,1)[0]}function c(z,x,E){void 0===E&&(E=!1);return(0,n.textContent)((0,p.getElementsByTagName)(z,x,E,1)).trim()}function h(z,x,E,H,I){void 0===I&&(I=!1);(E=c(E,H,I))&&(z[x]=E)}function l(z){return"rss"===z||"feed"===z||"rdf:RDF"===z}Object.defineProperty(g,"__esModule",{value:!0});g.getFeed=void 0;var n=y(149),p=y(153);g.getFeed=function(z){return(z=e(l,z))?"feed"===z.name?A(z):u(z):null};var v=["url","type","lang"],w="fileSize bitrate framerate samplingrate channels duration height width".split(" ")};
shadow$provide[156]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(m,e,c,h){void 0===h&&(h=c);Object.defineProperty(m,h,{enumerable:!0,get:function(){return e[c]}})}:function(m,e,c,h){void 0===h&&(h=c);m[h]=e[c]});G=this&&this.__exportStar||function(m,e){for(var c in m)"default"===c||Object.prototype.hasOwnProperty.call(e,c)||A(e,m,c)};Object.defineProperty(g,"__esModule",{value:!0});g.hasChildren=g.isDocument=g.isComment=g.isText=g.isCDATA=g.isTag=void 0;G(y(149),g);
G(y(150),g);G(y(151),g);G(y(152),g);G(y(153),g);G(y(154),g);G(y(155),g);var u=y(138);Object.defineProperty(g,"isTag",{enumerable:!0,get:function(){return u.isTag}});Object.defineProperty(g,"isCDATA",{enumerable:!0,get:function(){return u.isCDATA}});Object.defineProperty(g,"isText",{enumerable:!0,get:function(){return u.isText}});Object.defineProperty(g,"isComment",{enumerable:!0,get:function(){return u.isComment}});Object.defineProperty(g,"isDocument",{enumerable:!0,get:function(){return u.isDocument}});
Object.defineProperty(g,"hasChildren",{enumerable:!0,get:function(){return u.hasChildren}})};
shadow$provide[157]=function(G,y,X,g){X.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}};
shadow$provide[158]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.AttributeAction=g.IgnoreCaseMode=g.SelectorType=void 0;(function(A){A.Attribute="attribute";A.Pseudo="pseudo";A.PseudoElement="pseudo-element";A.Tag="tag";A.Universal="universal";A.Adjacent="adjacent";A.Child="child";A.Descendant="descendant";A.Parent="parent";A.Sibling="sibling";A.ColumnCombinator="column-combinator"})(g.SelectorType||(g.SelectorType={}));g.IgnoreCaseMode={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,
CaseSensitive:!1};(function(A){A.Any="any";A.Element="element";A.End="end";A.Equals="equals";A.Exists="exists";A.Hyphen="hyphen";A.Not="not";A.Start="start"})(g.AttributeAction||(g.AttributeAction={}))};
shadow$provide[159]=function(G,y,X,g){function A(z){switch(z.type){case h.SelectorType.Adjacent:case h.SelectorType.Child:case h.SelectorType.Descendant:case h.SelectorType.Parent:case h.SelectorType.Sibling:case h.SelectorType.ColumnCombinator:return!0;default:return!1}}function u(z,x,E){z=parseInt(x,16)-65536;return z!==z||E?x:0>z?String.fromCharCode(z+65536):String.fromCharCode(z>>10|55296,z&1023|56320)}function m(z){return 39===z||34===z}function e(z){return 32===z||9===z||10===z||12===z||13===
z}function c(z,x,E){function H(Ga){var Da=x.slice(E+Ga).match(l);if(!Da)throw Error("Expected name, found ".concat(x.slice(E)));Da=Da[0];E+=Ga+Da.length;return Da.replace(n,u)}function I(Ga){for(E+=Ga;E<x.length&&e(x.charCodeAt(E));)E++}function N(){for(var Ga=E+=1,Da=1;0<Da&&E<x.length;E++)40!==x.charCodeAt(E)||Q(E)?41!==x.charCodeAt(E)||Q(E)||Da--:Da++;if(Da)throw Error("Parenthesis not matched");return x.slice(Ga,E-1).replace(n,u)}function Q(Ga){for(var Da=0;92===x.charCodeAt(--Ga);)Da++;return 1===
(Da&1)}function V(){if(0<da.length&&A(da[da.length-1]))throw Error("Did not expect successive traversals.");}function ba(Ga){0<da.length&&da[da.length-1].type===h.SelectorType.Descendant?da[da.length-1].type=Ga:(V(),da.push({type:Ga}))}function T(Ga,Da){da.push({type:h.SelectorType.Attribute,name:Ga,action:Da,value:H(1),namespace:null,ignoreCase:"quirks"})}function O(){da.length&&da[da.length-1].type===h.SelectorType.Descendant&&da.pop();if(0===da.length)throw Error("Empty sub-selector");z.push(da)}
var da=[];I(0);if(x.length===E)return E;a:for(;E<x.length;){var ea=x.charCodeAt(E);switch(ea){case 32:case 9:case 10:case 12:case 13:if(0===da.length||da[0].type!==h.SelectorType.Descendant)V(),da.push({type:h.SelectorType.Descendant});I(1);break;case 62:ba(h.SelectorType.Child);I(1);break;case 60:ba(h.SelectorType.Parent);I(1);break;case 126:ba(h.SelectorType.Sibling);I(1);break;case 43:ba(h.SelectorType.Adjacent);I(1);break;case 46:T("class",h.AttributeAction.Element);break;case 35:T("id",h.AttributeAction.Equals);
break;case 91:I(1);ea=void 0;var Aa=null;124===x.charCodeAt(E)?ea=H(1):x.startsWith("*|",E)?(Aa="*",ea=H(2)):(ea=H(0),124===x.charCodeAt(E)&&61!==x.charCodeAt(E+1)&&(Aa=ea,ea=H(1)));I(0);var Ea=h.AttributeAction.Exists,qa=p.get(x.charCodeAt(E));if(qa){Ea=qa;if(61!==x.charCodeAt(E+1))throw Error("Expected `\x3d`");I(2)}else 61===x.charCodeAt(E)&&(Ea=h.AttributeAction.Equals,I(1));var jb="";qa=null;if("exists"!==Ea){if(m(x.charCodeAt(E))){jb=x.charCodeAt(E);for(var va=E+1;va<x.length&&(x.charCodeAt(va)!==
jb||Q(va));)va+=1;if(x.charCodeAt(va)!==jb)throw Error("Attribute value didn't end");jb=x.slice(E+1,va).replace(n,u);E=va+1}else{for(jb=E;E<x.length&&(!e(x.charCodeAt(E))&&93!==x.charCodeAt(E)||Q(E));)E+=1;jb=x.slice(jb,E).replace(n,u)}I(0);va=x.charCodeAt(E)|32;115===va?(qa=!1,I(1)):105===va&&(qa=!0,I(1))}if(93!==x.charCodeAt(E))throw Error("Attribute selector didn't terminate");E+=1;da.push({type:h.SelectorType.Attribute,name:ea,action:Ea,value:jb,namespace:Aa,ignoreCase:qa});break;case 58:if(58===
x.charCodeAt(E+1)){da.push({type:h.SelectorType.PseudoElement,name:H(2).toLowerCase(),data:40===x.charCodeAt(E)?N():null});continue}Aa=H(1).toLowerCase();ea=null;if(40===x.charCodeAt(E))if(v.has(Aa)){if(m(x.charCodeAt(E+1)))throw Error("Pseudo-selector ".concat(Aa," cannot be quoted"));ea=[];E=c(ea,x,E+1);if(41!==x.charCodeAt(E))throw Error("Missing closing parenthesis in :".concat(Aa," (").concat(x,")"));E+=1}else ea=N(),w.has(Aa)&&(Ea=ea.charCodeAt(0),Ea===ea.charCodeAt(ea.length-1)&&m(Ea)&&(ea=
ea.slice(1,-1))),ea=ea.replace(n,u);da.push({type:h.SelectorType.Pseudo,name:Aa,data:ea});break;case 44:O();da=[];I(1);break;default:if(x.startsWith("/*",E)){Aa=x.indexOf("*/",E+2);if(0>Aa)throw Error("Comment was not terminated");E=Aa+2;0===da.length&&I(0)}else{Aa=null;Ea=void 0;if(42===ea)E+=1,Ea="*";else if(124===ea){if(Ea="",124===x.charCodeAt(E+1)){ba(h.SelectorType.ColumnCombinator);I(2);break}}else if(l.test(x.slice(E)))Ea=H(0);else break a;124===x.charCodeAt(E)&&124!==x.charCodeAt(E+1)&&(Aa=
Ea,42===x.charCodeAt(E+1)?(Ea="*",E+=2):Ea=H(1));da.push("*"===Ea?{type:h.SelectorType.Universal,namespace:Aa}:{type:h.SelectorType.Tag,name:Ea,namespace:Aa})}}}O();return E}Object.defineProperty(g,"__esModule",{value:!0});g.parse=g.isTraversal=void 0;var h=y(158),l=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,n=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,p=new Map([[126,h.AttributeAction.Element],[94,h.AttributeAction.Start],[36,h.AttributeAction.End],[42,h.AttributeAction.Any],[33,h.AttributeAction.Not],
[124,h.AttributeAction.Hyphen]]),v=new Set("has not matches is where host host-context".split(" "));g.isTraversal=A;var w=new Set(["contains","icontains"]);g.parse=function(z){var x=[],E=c(x,"".concat(z),0);if(E<z.length)throw Error("Unmatched selector: ".concat(z.slice(E)));return x}};
shadow$provide[160]=function(G,y,X,g){function A(w){return w.map(function(z){return z.map(u).join("")}).join(", ")}function u(w,z,x){switch(w.type){case l.SelectorType.Child:return 0===z?"\x3e ":" \x3e ";case l.SelectorType.Parent:return 0===z?"\x3c ":" \x3c ";case l.SelectorType.Sibling:return 0===z?"~ ":" ~ ";case l.SelectorType.Adjacent:return 0===z?"+ ":" + ";case l.SelectorType.Descendant:return" ";case l.SelectorType.ColumnCombinator:return 0===z?"|| ":" || ";case l.SelectorType.Universal:return"*"===
w.namespace&&z+1<x.length&&"name"in x[z+1]?"":"".concat(c(w.namespace),"*");case l.SelectorType.Tag:return e(w);case l.SelectorType.PseudoElement:return"::".concat(h(w.name,v)).concat(null===w.data?"":"(".concat(h(w.data,p),")"));case l.SelectorType.Pseudo:return":".concat(h(w.name,v)).concat(null===w.data?"":"(".concat("string"===typeof w.data?h(w.data,p):A(w.data),")"));case l.SelectorType.Attribute:if("id"===w.name&&w.action===l.AttributeAction.Equals&&"quirks"===w.ignoreCase&&!w.namespace)return"#".concat(h(w.value,
v));if("class"===w.name&&w.action===l.AttributeAction.Element&&"quirks"===w.ignoreCase&&!w.namespace)return".".concat(h(w.value,v));z=e(w);return w.action===l.AttributeAction.Exists?"[".concat(z,"]"):"[".concat(z).concat(m(w.action),'\x3d"').concat(h(w.value,n),'"').concat(null===w.ignoreCase?"":w.ignoreCase?" i":" s","]")}}function m(w){switch(w){case l.AttributeAction.Equals:return"";case l.AttributeAction.Element:return"~";case l.AttributeAction.Start:return"^";case l.AttributeAction.End:return"$";
case l.AttributeAction.Any:return"*";case l.AttributeAction.Not:return"!";case l.AttributeAction.Hyphen:return"|";case l.AttributeAction.Exists:throw Error("Shouldn't be here");}}function e(w){return"".concat(c(w.namespace)).concat(h(w.name,v))}function c(w){return null!==w?"".concat("*"===w?"*":h(w,v),"|"):""}function h(w,z){for(var x=0,E="",H=0;H<w.length;H++)z.has(w.charCodeAt(H))&&(E+="".concat(w.slice(x,H),"\\").concat(w.charAt(H)),x=H+1);return 0<E.length?E+w.slice(x):w}G=this&&this.__spreadArray||
function(w,z,x){if(x||2===arguments.length)for(var E=0,H=z.length,I;E<H;E++)!I&&E in z||(I||(I=Array.prototype.slice.call(z,0,E)),I[E]=z[E]);return w.concat(I||Array.prototype.slice.call(z))};Object.defineProperty(g,"__esModule",{value:!0});g.stringify=void 0;var l=y(158);y=["\\",'"'];X=G(G([],y,!0),["(",")"],!1);var n=new Set(y.map(function(w){return w.charCodeAt(0)})),p=new Set(X.map(function(w){return w.charCodeAt(0)})),v=new Set(G(G([],X,!0),"~^$*+!|:[] .".split(""),!1).map(function(w){return w.charCodeAt(0)}));
g.stringify=A};
shadow$provide[161]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(e,c,h,l){void 0===l&&(l=h);var n=Object.getOwnPropertyDescriptor(c,h);if(!n||("get"in n?!c.__esModule:n.writable||n.configurable))n={enumerable:!0,get:function(){return c[h]}};Object.defineProperty(e,l,n)}:function(e,c,h,l){void 0===l&&(l=h);e[l]=c[h]});G=this&&this.__exportStar||function(e,c){for(var h in e)"default"===h||Object.prototype.hasOwnProperty.call(c,h)||A(c,e,h)};Object.defineProperty(g,"__esModule",
{value:!0});g.stringify=g.parse=g.isTraversal=void 0;G(y(158),g);var u=y(159);Object.defineProperty(g,"isTraversal",{enumerable:!0,get:function(){return u.isTraversal}});Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return u.parse}});var m=y(160);Object.defineProperty(g,"stringify",{enumerable:!0,get:function(){return m.stringify}})};
shadow$provide[162]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.isTraversal=g.procedure=void 0;g.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1};g.isTraversal=function(A){return 0>g.procedure[A.type]}};
shadow$provide[163]=function(G,y,X,g){function A(c){var h=m.procedure[c.type];if(c.type===u.SelectorType.Attribute)h=e[c.action],h===e.equals&&"id"===c.name&&(h=9),c.ignoreCase&&(h>>=1);else if(c.type===u.SelectorType.Pseudo)if(c.data)if("has"===c.name||"contains"===c.name)h=0;else if(Array.isArray(c.data)){for(var l=h=0;l<c.data.length;l++)if(1===c.data[l].length){var n=A(c.data[l][0]);if(0===n){h=0;break}n>h&&(h=n)}1<c.data.length&&0<h&&--h}else h=1;else h=3;return h}Object.defineProperty(g,"__esModule",
{value:!0});var u=y(161),m=y(162),e={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};g.default=function(c){for(var h=c.map(A),l=1;l<c.length;l++){var n=h[l];if(!(0>n))for(var p=l-1;0<=p&&n<h[p];p--){var v=c[p+1];c[p+1]=c[p];c[p]=v;h[p+1]=h[p];h[p]=n}}}};
shadow$provide[164]=function(G,y,X,g){function A(c,h){return"boolean"===typeof c.ignoreCase?c.ignoreCase:"quirks"===c.ignoreCase?!!h.quirksMode:!h.xmlMode&&e.has(c.name)}Object.defineProperty(g,"__esModule",{value:!0});g.attributeRules=void 0;var u=y(157),m=/[-[\]{}()*+?.,\\^$|#\s]/g,e=new Set("accept accept-charset align alink axis bgcolor charset checked clear codetype color compact declare defer dir direction disabled enctype face frame hreflang http-equiv lang language link media method multiple nohref noresize noshade nowrap readonly rel rev rules scope scrolling selected shape target text type valign valuetype vlink".split(" "));
g.attributeRules={equals:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;return A(h,l)?(v=v.toLowerCase(),function(w){var z=n.getAttributeValue(w,p);return null!=z&&z.length===v.length&&z.toLowerCase()===v&&c(w)}):function(w){return n.getAttributeValue(w,p)===v&&c(w)}},hyphen:function(c,h,l){var n=l.adapter,p=h.name,v=h.value,w=v.length;return A(h,l)?(v=v.toLowerCase(),function(z){var x=n.getAttributeValue(z,p);return null!=x&&(x.length===w||"-"===x.charAt(w))&&x.substr(0,w).toLowerCase()===v&&
c(z)}):function(z){var x=n.getAttributeValue(z,p);return null!=x&&(x.length===w||"-"===x.charAt(w))&&x.substr(0,w)===v&&c(z)}},element:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;if(/\s/.test(v))return u.falseFunc;var w=new RegExp("(?:^|\\s)".concat(v.replace(m,"\\$\x26"),"(?:$|\\s)"),A(h,l)?"i":"");return function(z){var x=n.getAttributeValue(z,p);return null!=x&&x.length>=v.length&&w.test(x)&&c(z)}},exists:function(c,h,l){var n=h.name,p=l.adapter;return function(v){return p.hasAttrib(v,n)&&
c(v)}},start:function(c,h,l){var n=l.adapter,p=h.name,v=h.value,w=v.length;return 0===w?u.falseFunc:A(h,l)?(v=v.toLowerCase(),function(z){var x=n.getAttributeValue(z,p);return null!=x&&x.length>=w&&x.substr(0,w).toLowerCase()===v&&c(z)}):function(z){var x;return!(null===(x=n.getAttributeValue(z,p))||void 0===x||!x.startsWith(v))&&c(z)}},end:function(c,h,l){var n=l.adapter,p=h.name,v=h.value,w=-v.length;return 0===w?u.falseFunc:A(h,l)?(v=v.toLowerCase(),function(z){var x;return(null===(x=n.getAttributeValue(z,
p))||void 0===x?void 0:x.substr(w).toLowerCase())===v&&c(z)}):function(z){var x;return!(null===(x=n.getAttributeValue(z,p))||void 0===x||!x.endsWith(v))&&c(z)}},any:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;if(""===v)return u.falseFunc;if(A(h,l)){var w=new RegExp(v.replace(m,"\\$\x26"),"i");return function(z){var x=n.getAttributeValue(z,p);return null!=x&&x.length>=v.length&&w.test(x)&&c(z)}}return function(z){var x;return!(null===(x=n.getAttributeValue(z,p))||void 0===x||!x.includes(v))&&
c(z)}},not:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;return""===v?function(w){return!!n.getAttributeValue(w,p)&&c(w)}:A(h,l)?(v=v.toLowerCase(),function(w){var z=n.getAttributeValue(w,p);return(null==z||z.length!==v.length||z.toLowerCase()!==v)&&c(w)}):function(w){return n.getAttributeValue(w,p)!==v&&c(w)}}}};
shadow$provide[165]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.parse=void 0;var A=new Set([9,10,12,13,32]);g.parse=function(u){function m(){if("-"===u.charAt(h))return h++,-1;"+"===u.charAt(h)&&h++;return 1}function e(){for(var v=h,w=0;h<u.length&&48<=u.charCodeAt(h)&&57>=u.charCodeAt(h);)w=10*w+(u.charCodeAt(h)-48),h++;return h===v?null:w}function c(){for(;h<u.length&&A.has(u.charCodeAt(h));)h++}u=u.trim().toLowerCase();if("even"===u)return[2,0];if("odd"===u)return[2,1];
var h=0,l=0,n=m(),p=e();h<u.length&&"n"===u.charAt(h)&&(h++,l=n*(null!==p&&void 0!==p?p:1),c(),h<u.length?(n=m(),c(),p=e()):n=p=0);if(null===p||h<u.length)throw Error("n-th rule couldn't be parsed ('".concat(u,"')"));return[l,n*p]}};
shadow$provide[166]=function(G,y,X,g){G=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{"default":u}};Object.defineProperty(g,"__esModule",{value:!0});g.generate=g.compile=void 0;var A=G(y(157));g.compile=function(u){var m=u[0],e=u[1]-1;if(0>e&&0>=m)return A.default.falseFunc;if(-1===m)return function(l){return l<=e};if(0===m)return function(l){return l===e};if(1===m)return 0>e?A.default.trueFunc:function(l){return l>=e};var c=Math.abs(m),h=(e%c+c)%c;return 1<m?function(l){return l>=
e&&l%c===h}:function(l){return l<=e&&l%c===h}};g.generate=function(u){var m=u[0],e=u[1]-1,c=0;if(0>m){var h=-m,l=(e%h+h)%h;return function(){var n=l+h*c++;return n>e?null:n}}if(0===m)return 0>e?function(){return null}:function(){return 0===c++?e:null};0>e&&(e+=m*Math.ceil(-e/m));return function(){return m*c++ +e}}};
shadow$provide[167]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.sequence=g.generate=g.compile=g.parse=void 0;var A=y(165);Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return A.parse}});var u=y(166);Object.defineProperty(g,"compile",{enumerable:!0,get:function(){return u.compile}});Object.defineProperty(g,"generate",{enumerable:!0,get:function(){return u.generate}});g.default=function(m){return(0,u.compile)((0,A.parse)(m))};g.sequence=function(m){return(0,u.generate)((0,A.parse)(m))}};
shadow$provide[168]=function(G,y,X,g){function A(c,h){return function(l){var n=h.getParent(l);return null!=n&&h.isTag(n)&&c(l)}}function u(c){return function(h,l,n){var p=n.adapter[c];return"function"!==typeof p?e.falseFunc:function(v){return p(v)&&h(v)}}}G=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{"default":c}};Object.defineProperty(g,"__esModule",{value:!0});g.filters=void 0;var m=G(y(167)),e=y(157);g.filters={contains:function(c,h,l){var n=l.adapter;return function(p){return c(p)&&
n.getText(p).includes(h)}},icontains:function(c,h,l){var n=l.adapter,p=h.toLowerCase();return function(v){return c(v)&&n.getText(v).toLowerCase().includes(p)}},"nth-child":function(c,h,l){var n=l.adapter,p=l.equals,v=(0,m.default)(h);return v===e.falseFunc?e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=0;E<z.length&&!p(w,z[E]);E++)n.isTag(z[E])&&x++;return v(x)&&c(w)}},"nth-last-child":function(c,h,l){var n=l.adapter,p=l.equals,v=(0,m.default)(h);return v===e.falseFunc?
e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=z.length-1;0<=E&&!p(w,z[E]);E--)n.isTag(z[E])&&x++;return v(x)&&c(w)}},"nth-of-type":function(c,h,l){var n=l.adapter,p=l.equals,v=(0,m.default)(h);return v===e.falseFunc?e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=0;E<z.length;E++){var H=z[E];if(p(w,H))break;n.isTag(H)&&n.getName(H)===n.getName(w)&&x++}return v(x)&&c(w)}},"nth-last-of-type":function(c,h,l){var n=l.adapter,p=l.equals,v=
(0,m.default)(h);return v===e.falseFunc?e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=z.length-1;0<=E;E--){var H=z[E];if(p(w,H))break;n.isTag(H)&&n.getName(H)===n.getName(w)&&x++}return v(x)&&c(w)}},root:function(c,h,l){var n=l.adapter;return function(p){var v=n.getParent(p);return(null==v||!n.isTag(v))&&c(p)}},scope:function(c,h,l,n){var p=l.equals;return n&&0!==n.length?1===n.length?function(v){return p(n[0],v)&&c(v)}:function(v){return n.includes(v)&&c(v)}:g.filters.root(c,
h,l)},hover:u("isHovered"),visited:u("isVisited"),active:u("isActive")}};
shadow$provide[169]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.verifyPseudoArgs=g.pseudos=void 0;g.pseudos={empty:function(A,u){var m=u.adapter;return!m.getChildren(A).some(function(e){return m.isTag(e)||""!==m.getText(e)})},"first-child":function(A,u){var m=u.adapter;u=u.equals;var e=m.getSiblings(A).find(function(c){return m.isTag(c)});return null!=e&&u(A,e)},"last-child":function(A,u){var m=u.adapter;u=u.equals;for(var e=m.getSiblings(A),c=e.length-1;0<=c;c--){if(u(A,
e[c]))return!0;if(m.isTag(e[c]))break}return!1},"first-of-type":function(A,u){var m=u.adapter;u=u.equals;for(var e=m.getSiblings(A),c=m.getName(A),h=0;h<e.length;h++){var l=e[h];if(u(A,l))return!0;if(m.isTag(l)&&m.getName(l)===c)break}return!1},"last-of-type":function(A,u){var m=u.adapter;u=u.equals;for(var e=m.getSiblings(A),c=m.getName(A),h=e.length-1;0<=h;h--){var l=e[h];if(u(A,l))return!0;if(m.isTag(l)&&m.getName(l)===c)break}return!1},"only-of-type":function(A,u){var m=u.adapter,e=u.equals,c=
m.getName(A);return m.getSiblings(A).every(function(h){return e(A,h)||!m.isTag(h)||m.getName(h)!==c})},"only-child":function(A,u){var m=u.adapter,e=u.equals;return m.getSiblings(A).every(function(c){return e(A,c)||!m.isTag(c)})}};g.verifyPseudoArgs=function(A,u,m){if(null===m){if(2<A.length)throw Error("pseudo-selector :".concat(u," requires an argument"));}else if(2===A.length)throw Error("pseudo-selector :".concat(u," doesn't have any arguments"));}};
shadow$provide[170]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.aliases=void 0;g.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] \x3e option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type\x3dradio], input[type\x3dcheckbox])[checked], option:selected)",
required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(\x3e option[selected])) \x3e :first-of-type)",checkbox:"[type\x3dcheckbox]",file:"[type\x3dfile]",password:"[type\x3dpassword]",radio:"[type\x3dradio]",reset:"[type\x3dreset]",image:"[type\x3dimage]",submit:"[type\x3dsubmit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type\x3dbutton])",input:":is(input, textarea, select, button)",
text:"input:is(:not([type!\x3d'']), [type\x3dtext])"}};
shadow$provide[171]=function(G,y,X,g){function A(h,l){return h===e.falseFunc?e.falseFunc:function(n){return l.isTag(n)&&h(n)}}function u(h,l){var n=l.getSiblings(h);if(1>=n.length)return[];h=n.indexOf(h);return 0>h||h===n.length-1?[]:n.slice(h+1).filter(l.isTag)}var m=this&&this.__spreadArray||function(h,l,n){if(n||2===arguments.length)for(var p=0,v=l.length,w;p<v;p++)!w&&p in l||(w||(w=Array.prototype.slice.call(l,0,p)),w[p]=l[p]);return h.concat(w||Array.prototype.slice.call(l))};Object.defineProperty(g,
"__esModule",{value:!0});g.subselects=g.getNextSiblings=g.ensureIsTag=g.PLACEHOLDER_ELEMENT=void 0;var e=y(157),c=y(162);g.PLACEHOLDER_ELEMENT={};g.ensureIsTag=A;g.getNextSiblings=u;G=function(h,l,n,p,v){var w=v(l,{xmlMode:!!n.xmlMode,adapter:n.adapter,equals:n.equals},p);return function(z){return w(z)&&h(z)}};g.subselects={is:G,matches:G,where:G,not:function(h,l,n,p,v){var w=v(l,{xmlMode:!!n.xmlMode,adapter:n.adapter,equals:n.equals},p);return w===e.falseFunc?h:w===e.trueFunc?e.falseFunc:function(z){return!w(z)&&
h(z)}},has:function(h,l,n,p,v){var w=n.adapter;n={xmlMode:!!n.xmlMode,adapter:w,equals:n.equals};var z=l.some(function(H){return H.some(c.isTraversal)})?[g.PLACEHOLDER_ELEMENT]:void 0;l=v(l,n,z);if(l===e.falseFunc)return e.falseFunc;if(l===e.trueFunc)return function(H){return w.getChildren(H).some(w.isTag)&&h(H)};var x=A(l,w);l=l.shouldTestNextSiblings;var E=void 0===l?!1:l;return z?function(H){z[0]=H;var I=w.getChildren(H);I=E?m(m([],I,!0),u(H,w),!0):I;return h(H)&&w.existsOne(x,I)}:function(H){return h(H)&&
w.existsOne(x,w.getChildren(H))}}}};
shadow$provide[172]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.compilePseudoSelector=g.aliases=g.pseudos=g.filters=void 0;var A=y(157),u=y(161),m=y(168);Object.defineProperty(g,"filters",{enumerable:!0,get:function(){return m.filters}});var e=y(169);Object.defineProperty(g,"pseudos",{enumerable:!0,get:function(){return e.pseudos}});var c=y(170);Object.defineProperty(g,"aliases",{enumerable:!0,get:function(){return c.aliases}});var h=y(171);g.compilePseudoSelector=function(l,
n,p,v,w){var z=n.name,x=n.data;if(Array.isArray(x))return h.subselects[z](l,x,p,v,w);if(z in c.aliases){if(null!=x)throw Error("Pseudo ".concat(z," doesn't have any arguments"));n=(0,u.parse)(c.aliases[z]);return h.subselects.is(l,n,p,v,w)}if(z in m.filters)return m.filters[z](l,x,p,v);if(z in e.pseudos){var E=e.pseudos[z];(0,e.verifyPseudoArgs)(E,z,x);return E===A.falseFunc?A.falseFunc:l===A.trueFunc?function(H){return E(H,p,x)}:function(H){return E(H,p,x)&&l(H)}}throw Error("unmatched pseudo-class :".concat(z));
}};
shadow$provide[173]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.compileGeneralSelector=void 0;var A=y(164),u=y(172),m=y(161);g.compileGeneralSelector=function(e,c,h,l,n){var p=h.adapter,v=h.equals;switch(c.type){case m.SelectorType.PseudoElement:throw Error("Pseudo-elements are not supported by css-select");case m.SelectorType.ColumnCombinator:throw Error("Column combinators are not yet supported by css-select");case m.SelectorType.Attribute:if(null!=c.namespace)throw Error("Namespaced attributes are not yet supported by css-select");
if(!h.xmlMode||h.lowerCaseAttributeNames)c.name=c.name.toLowerCase();return A.attributeRules[c.action](e,c,h);case m.SelectorType.Pseudo:return(0,u.compilePseudoSelector)(e,c,h,l,n);case m.SelectorType.Tag:if(null!=c.namespace)throw Error("Namespaced tag names are not yet supported by css-select");var w=c.name;if(!h.xmlMode||h.lowerCaseTags)w=w.toLowerCase();return function(x){return p.getName(x)===w&&e(x)};case m.SelectorType.Descendant:if(!1===h.cacheResults||"undefined"===typeof WeakSet)return function(x){for(;x=
p.getParent(x);)if(p.isTag(x)&&e(x))return!0;return!1};var z=new WeakSet;return function(x){for(;x=p.getParent(x);)if(!z.has(x)){if(p.isTag(x)&&e(x))return!0;z.add(x)}return!1};case "_flexibleDescendant":return function(x){do if(p.isTag(x)&&e(x))return!0;while(x=p.getParent(x));return!1};case m.SelectorType.Parent:return function(x){return p.getChildren(x).some(function(E){return p.isTag(E)&&e(E)})};case m.SelectorType.Child:return function(x){x=p.getParent(x);return null!=x&&p.isTag(x)&&e(x)};case m.SelectorType.Sibling:return function(x){for(var E=
p.getSiblings(x),H=0;H<E.length;H++){var I=E[H];if(v(x,I))break;if(p.isTag(I)&&e(I))return!0}return!1};case m.SelectorType.Adjacent:return p.prevElementSibling?function(x){x=p.prevElementSibling(x);return null!=x&&e(x)}:function(x){for(var E=p.getSiblings(x),H,I=0;I<E.length;I++){var N=E[I];if(v(x,N))break;p.isTag(N)&&(H=N)}return!!H&&e(H)};case m.SelectorType.Universal:if(null!=c.namespace&&"*"!==c.namespace)throw Error("Namespaced universal selectors are not yet supported by css-select");return e}}};
shadow$provide[174]=function(G,y,X,g){function A(I,N,Q){I="string"===typeof I?(0,l.parse)(I):I;return e(I,N,Q)}function u(I){return"pseudo"===I.type&&("scope"===I.name||Array.isArray(I.data)&&I.data.some(function(N){return N.some(u)}))}function m(I,N,Q){var V=N.adapter;N=!(null===Q||void 0===Q||!Q.every(function(T){var O=V.isTag(T)&&V.getParent(T);return T===z.PLACEHOLDER_ELEMENT||O&&V.isTag(O)}));for(Q=0;Q<I.length;Q++){var ba=I[Q];if(!(0<ba.length&&(0,v.isTraversal)(ba[0])&&"descendant"!==ba[0].type))if(N&&
!ba.some(u))ba.unshift(x);else continue;ba.unshift(H)}}function e(I,N,Q){var V;I=I.filter(function(da){return 0<da.length});I.forEach(p.default);Q=null!==(V=N.context)&&void 0!==V?V:Q;var ba=Array.isArray(Q),T=Q&&(Array.isArray(Q)?Q:[Q]);m(I,N,T);var O=!1;I=I.map(function(da){if(2<=da.length){var ea=da[0],Aa=da[1];if("pseudo"===ea.type&&"scope"===ea.name)if(ba&&"descendant"===Aa.type)da[1]=E;else if("adjacent"===Aa.type||"sibling"===Aa.type)O=!0}return c(da,N,T)}).reduce(h,n.falseFunc);I.shouldTestNextSiblings=
O;return I}function c(I,N,Q){var V;return I.reduce(function(ba,T){return ba===n.falseFunc?n.falseFunc:(0,w.compileGeneralSelector)(ba,T,N,Q,e)},null!==(V=N.rootFunc)&&void 0!==V?V:n.trueFunc)}function h(I,N){return N===n.falseFunc||I===n.trueFunc?I:I===n.falseFunc||N===n.trueFunc?N:function(Q){return I(Q)||N(Q)}}G=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{"default":I}};Object.defineProperty(g,"__esModule",{value:!0});g.compileToken=g.compileUnsafe=g.compile=void 0;var l=y(161),
n=y(157),p=G(y(163)),v=y(162),w=y(173),z=y(171);g.compile=function(I,N,Q){I=A(I,N,Q);return(0,z.ensureIsTag)(I,N.adapter)};g.compileUnsafe=A;var x={type:l.SelectorType.Descendant},E={type:"_flexibleDescendant"},H={type:l.SelectorType.Pseudo,name:"scope",data:null};g.compileToken=e};
shadow$provide[175]=function(G,y,X,g){function A(E){var H,I,N,Q;E=null!==E&&void 0!==E?E:z;null!==(H=E.adapter)&&void 0!==H?H:E.adapter=l;null!==(I=E.equals)&&void 0!==I?I:E.equals=null!==(Q=null===(N=E.adapter)||void 0===N?void 0:N.equals)&&void 0!==Q?Q:w;return E}function u(E){return function(H,I,N){I=A(I);return E(H,I,N)}}function m(E){return function(H,I,N){N=A(N);"function"!==typeof H&&(H=(0,p.compileUnsafe)(H,N,I));I=e(I,N.adapter,H.shouldTestNextSiblings);return E(H,I,N)}}function e(E,H,I){void 0===
I&&(I=!1);if(I){E=Array.isArray(E)?E.slice(0):[E];I=E.length;for(var N=0;N<I;N++){var Q=(0,v.getNextSiblings)(E[N],H);E.push.apply(E,Q)}}return Array.isArray(E)?H.removeSubsets(E):H.getChildren(E)}var c=this&&this.__createBinding||(Object.create?function(E,H,I,N){void 0===N&&(N=I);var Q=Object.getOwnPropertyDescriptor(H,I);if(!Q||("get"in Q?!H.__esModule:Q.writable||Q.configurable))Q={enumerable:!0,get:function(){return H[I]}};Object.defineProperty(E,N,Q)}:function(E,H,I,N){void 0===N&&(N=I);E[N]=
H[I]}),h=this&&this.__setModuleDefault||(Object.create?function(E,H){Object.defineProperty(E,"default",{enumerable:!0,value:H})}:function(E,H){E["default"]=H});G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var H={};if(null!=E)for(var I in E)"default"!==I&&Object.prototype.hasOwnProperty.call(E,I)&&c(H,E,I);h(H,E);return H};Object.defineProperty(g,"__esModule",{value:!0});g.aliases=g.pseudos=g.filters=g.is=g.selectOne=g.selectAll=g.prepareContext=g._compileToken=g._compileUnsafe=
g.compile=void 0;var l=G(y(156)),n=y(157),p=y(174),v=y(171),w=function(E,H){return E===H},z={adapter:l,equals:w};g.compile=u(p.compile);g._compileUnsafe=u(p.compileUnsafe);g._compileToken=u(p.compileToken);g.prepareContext=e;g.selectAll=m(function(E,H,I){return E!==n.falseFunc&&H&&0!==H.length?I.adapter.findAll(E,H):[]});g.selectOne=m(function(E,H,I){return E!==n.falseFunc&&H&&0!==H.length?I.adapter.findOne(E,H):null});g.is=function(E,H,I){I=A(I);return("function"===typeof H?H:(0,p.compile)(H,I))(E)};
g.default=g.selectAll;var x=y(172);Object.defineProperty(g,"filters",{enumerable:!0,get:function(){return x.filters}});Object.defineProperty(g,"pseudos",{enumerable:!0,get:function(){return x.pseudos}});Object.defineProperty(g,"aliases",{enumerable:!0,get:function(){return x.aliases}})};
shadow$provide[176]=function(G,y,X,g){function A(m){return m.children||[]}Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;const u={isTag:function(m){return!0},existsOne(m,e){return e.some(c=>m(c)||u.existsOne(m,A(c)))},getSiblings(m){const e=m.parent;return e?A(e):[m]},getChildren:A,getParent:function(m){return m.parent},getAttributeValue(m,e){return"class"===e?m.props.classes.join(" "):"id"===e?m.id:""},hasAttrib(m,e){return"id"===e?!!m.id:"class"===e?0<m.props.classes.length:m.traits.hash?
Object.prototype.hasOwnProperty.call(m.traits.hash,e):!1},removeSubsets:function(m){const e=new Set(m);e.forEach(c=>{let h=c.parent;for(;h;){if(e.has(h)){e.delete(c);break}h=h.parent}});return Array.from(e)},getName(m){var e;return null!==(e=m.type)&&void 0!==e?e:""},findOne:function h(e,c){for(const l of c){if(e(l))return l;if(c=h(e,A(l)))return c}return null},findAll:function l(c,h){const n=[];for(const p of h)c(p)&&n.push(p),n.push(...l(c,A(p)));return n},getText:function(c){return""}};g.default=
u};
shadow$provide[177]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.compile=g.selectAll=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==
n&&Object.prototype.hasOwnProperty.call(e,n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(175)),m=function(e){return e&&e.__esModule?e:{default:e}}(y(176));g.selectAll=(e,c)=>{try{u.compile(e)}catch(l){return[]}var h=Array.isArray(c);if(h&&0===c.length)return[];for(h=h?c[0]:c;null!==m.default.getParent(h);)h=m.default.getParent(h);h=u.selectAll(e,h,{adapter:m.default});if(c){e=[];c=Array.isArray(c)?
c:[c];c=new Set(c);for(const l of Array.from(h))for(h=l;null!=h;){if(c.has(h)){e.push(l);break}h=m.default.getParent(h)}return e}return h};g.compile=e=>{try{return u.compile(e,{adapter:m.default})}catch(c){return()=>!1}}};
shadow$provide[178]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Model=void 0;var A=y(177);const u=/^<([0-9]+|<*)$/;class m{constructor(e){this.root=e;this.root.model=this;this.root.root=this.root;this.ids={};this.classes={};this.traits={};this.types={};this.nodes=[];this.watchers=[];this.fire=!1;this.lastNode=null;this.event={type:"update"};this.root.on("add",da=>c(da.node));this.root.on("remove",da=>{da=da.node;Q(da);ba(da);O(da);E(da.id,da);I(da.classes,da);da.off("change:node",
p);return n(da)});const c=da=>{N(da);V(da);T(da);da.on("change:node",p);p(null,da,!0);return n(da)},h=da=>{for(const ea of Array.from(this.watchers))ea.match=ea.matcher(da);return null},l=da=>{for(const ea of Array.from(this.watchers)){const Aa=ea.fire||(ea.fire=ea.match!==ea.matcher(da));Aa&&(this.lastNode=da);this.fire||(this.fire=Aa)}return null},n=da=>{for(const ea of Array.from(this.watchers)){const Aa=ea.fire||(ea.fire=ea.matcher(da));Aa&&(this.lastNode=da);this.fire||(this.fire=Aa)}return null};
this.digest=()=>{if(!this.fire)return!1;for(const da of Array.from(this.watchers.slice()))da.fire&&(da.fire=!1,da.handler());this.fire=!1;return!0};const p=(da,ea,Aa)=>{var Ea=Aa||da.changed["node.classes"];let qa=!1;if(Aa||da.changed["node.id"])da=ea.get("node.id"),da!==ea.id&&(Aa||h(ea),qa=!0,null!=ea.id&&E(ea.id,ea),x(da,ea));if(Ea){var jb;Ea=null!=(jb=ea.get("node.classes"))?jb:[];jb=Ea.join(",");jb!==(null!=ea.classes?ea.classes.klass:void 0)&&(Ea=Ea.slice(),Aa||qa||h(ea),qa=!0,null!=ea.classes&&
I(ea.classes,ea),H(Ea,ea),ea.classes=Ea,ea.classes.klass=jb)}!Aa&&qa&&l(ea);return null},v=function(da,ea,Aa){if(null!=ea){for(const Ea of Array.from(ea))ea=null!=da[Ea]?da[Ea]:[],ea.push(Aa),da[Ea]=ea;return null}},w=function(da,ea,Aa){if(null!=ea){for(const Ea of Array.from(ea)){ea=da[Ea];const qa=ea.indexOf(Aa);0<=qa&&ea.splice(qa,1);0===ea.length&&delete da[Ea]}return null}},z=function(da){if(0<da.length){var ea=da.hash={};return Array.from(da).map(Aa=>ea[Aa]=!0)}},x=(da,ea)=>{if(this.ids[da])throw Error(`Duplicate node id \`${da}\``);
null!=da&&(this.ids[da]=[ea]);return ea.id=null!=da?da:ea._id},E=(da,ea)=>{null!=da&&delete this.ids[da];return ea.id=ea._id},H=(da,ea)=>{v(this.classes,da,ea);if(null!=da)return z(da)},I=(da,ea)=>{w(this.classes,da,ea);if(null!=da)return delete da.hash},N=da=>this.nodes.push(da),Q=da=>this.nodes.splice(this.nodes.indexOf(da),1),V=da=>v(this.types,[da.type],da),ba=da=>w(this.types,[da.type],da),T=da=>{v(this.traits,da.traits,da);return z(da.traits)},O=da=>{w(this.traits,da.traits,da);return delete da.traits.hash};
c(this.root);this.root.trigger({type:"added"})}select(e,c){return(0,A.selectAll)(e,c||this.getRoot())}watch(e,c){let h;c.unwatch=()=>this.unwatch(c);c.watcher=h={selector:e,handler:c,matcher:this._matcher(e),match:!1,fire:!1};this.watchers.push(h);return this.select(e)}unwatch(e){const {watcher:c}=e;if(null!=c)return this.watchers.splice(this.watchers.indexOf(c),1),delete e.unwatch,delete e.watcher}_matcher(e){if(u.test(e))throw Error("Auto-link matcher unsupported");return(0,A.compile)(e)}getRoot(){return this.root}getLastTrigger(){return this.lastNode.toString()}}
g.Model=m};
shadow$provide[179]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(131);Object.keys(A).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===A[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return A[h]}}))});var u=y(134);Object.keys(u).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===u[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return u[h]}}))});var m=y(135);Object.keys(m).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in g&&g[h]===m[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return m[h]}}))});var e=y(178);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===e[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return e[h]}}))});var c=y(133);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===c[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return c[h]}}))})};
shadow$provide[180]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.OverlayFactory=void 0;class A{constructor(u,m){this.classes=u;this.canvas=m;u=document.createElement("div");u.classList.add("mathbox-overlays");this.div=u}inject(){const u=this.canvas.parentNode;if(!u)throw Error("Canvas not inserted into document.");return u.insertBefore(this.div,this.canvas)}unject(){return this.div.parentNode.removeChild(this.div)}getTypes(){return Object.keys(this.classes)}make(u,m){return new this.classes[u](this.div,
m)}}g.OverlayFactory=A};
shadow$provide[181]=function(G,y,X,g){function A(x,E,H){const I=[],N=x<E;for(E=H?N?E+1:E-1:E;N?x<E:x>E;N?x++:x--)I.push(x);return I}Object.defineProperty(g,"__esModule",{value:!0});g.createClass=g.apply=g.recycle=g.element=g.hint=g.Types=void 0;const u=[];let m=0;const e={};g.Types=e;const c=()=>({id:m++,type:null,props:null,children:null,rendered:null,instance:null});g.hint=function(x){x=Math.max(0,u.length-2*x);return A(0,x,!1).map(E=>u.push(c()))};const h=function(x,E,H){const I=u.length?u.pop():
c();I.type=null!=x?x:"div";I.props=null!=E?E:null;I.children=null!=H?H:null;return I};g.element=h;const l=function(x){if(x.type){var {children:E}=x;x.type=x.props=x.children=x.instance=null;u.push(x);if(null!=E)for(const H of Array.from(E))l(H)}};g.recycle=l;const n=function(x,E,H,I,N){if(null!=x){if(null==E)return p(x,I,N);var Q;if(x instanceof Node){if(Q=x===E)return}else Q=typeof x===typeof E&&null!==E&&null!==x&&x.type===E.type;if(Q){x.instance=E.instance;const ea=null!=x.type&&x.type.isComponentClass?
x.type:e[x.type],Aa=null!=E?E.props:void 0,Ea=x.props;Q=null!=(null!=E?E.children:void 0)?null!=E?E.children:void 0:null;var V=x.children;null!=Ea&&(Ea.children=V);if(null!=ea){var ba=H._COMPONENT_DIRTY;null!=Aa!==(null!=Ea)&&(ba=!0);Q!==V&&(ba=!0);if(null!=Aa&&null!=Ea){if(!ba)for(da in Aa)Object.prototype.hasOwnProperty.call(Ea,da)||(ba=!0);if(!ba)for(da in Ea){var T=Ea[da];Aa[da]!==T&&(ba=!0)}}if(ba){var O;Q=E.instance;null==x.props&&(x.props={});for(const qa in Q.defaultProps)V=Q.defaultProps[qa],
null==x.props[qa]&&(x.props[qa]=V);x.props.children=x.children;"function"===typeof Q.willReceiveProps&&Q.willReceiveProps(x.props);if(V=H._COMPONENT_FORCE||(null!=(O="function"===typeof Q.shouldUpdate?Q.shouldUpdate(x.props):void 0)?O:!0)){var da=Q.getNextState();"function"===typeof Q.willUpdate&&Q.willUpdate(x.props,da)}da=Q.props;O=Q.applyNextState();Q.props=x.props;Q.children=x.children;V&&(x=x.rendered="function"===typeof Q.render?Q.render(h,x.props,x.children):void 0,n(x,E.rendered,H,I,N),"function"===
typeof Q.didUpdate&&Q.didUpdate(da,O))}}else{if(null!=Aa)for(da in Aa)if(!Object.prototype.hasOwnProperty.call(Ea,da))if(x=H,E=da,I=Aa[da],"style"===E)for(T in I)x.style[null!=w[T]?w[T]:T]="";else null!=x[E]&&(x[E]=void 0),x instanceof Node&&x.removeAttribute(E);if(null!=Ea)for(da in Ea)T=Ea[da],(ba=Aa[da])!==T&&"children"!==da&&z(H,da,T,ba);if(null!=V)if(["string","number"].includes(typeof V))V!==Q&&(H.textContent=V);else if(null!=V.type)n(V,Q,H.childNodes[0],H,0);else if({childNodes:I}=H,null!=
Q)for(E=0;E<V.length;E++)x=V[E],n(x,Q[E],I[E],H,E);else for(E=0;E<V.length;E++)x=V[E],n(x,null,I[E],H,E);else null!=Q&&(v(null,H),H.innerHTML="")}return}v(E.instance,H);H.remove();return p(x,I,N)}if(null!=E)return v(E.instance,H),E.node.remove()};g.apply=n;const p=function(x,E,H){null==H&&(H=0);var I=null!=x.type&&x.type.isComponentClass?x.type:e[x.type];if(x instanceof Node)var N=x;else{if(null!=I){var Q=null!=x.type&&x.type.isComponentClass?x.type:e[x.type];if(!Q)return x=x.rendered=h("noscript"),
N=p(x,E,H);x.instance=Q=new Q(E);null==x.props&&(x.props={});for(N in Q.defaultProps)I=Q.defaultProps[N],null==x.props[N]&&(x.props[N]=I);x.props.children=x.children;Q.props=x.props;Q.children=x.children;Q.setState("function"===typeof Q.getInitialState?Q.getInitialState():void 0);"function"===typeof Q.willMount&&Q.willMount();x=x.rendered="function"===typeof Q.render?Q.render(h,x.props,x.children):void 0;N=p(x,E,H);"function"===typeof Q.didMount&&Q.didMount(x);N._COMPONENT=Q;return N}if(["string",
"number"].includes(typeof x))N=document.createTextNode(x);else for(Q in N=document.createElement(x.type),x.props)z(N,Q,x.props[Q]);({children:x}=x);if(null!=x)if(["string","number"].includes(typeof x))N.textContent=x;else if(null!=x.type)p(x,N,0);else for(Q=0;Q<x.length;Q++)p(x[Q],N,Q)}E.insertBefore(N,E.childNodes[H]);return N},v=function(x,E){if(x){"function"===typeof x.willUnmount&&x.willUnmount();for(const H in x)delete x[H]}x=[];for(const H of Array.from(E.childNodes))v(H._COMPONENT,H),x.push(delete H._COMPONENT);
return x};G=function(x){if("undefined"===typeof document)return!0;if(null!=document.documentElement.style[x])return x;x=x[0].toUpperCase()+x.slice(1);const E=["webkit","moz","ms","o"];for(const H of Array.from(E))if(null!=document.documentElement.style[H+x])return H+x};const w={};for(const x of["transform"])w[x]=G(x);const z=function(x,E,H,I){if("style"===E)for(const N in H)E=H[N],(null!=I?I[N]:void 0)!==E&&(x.style[null!=w[N]?w[N]:N]=E);else if(null!=x[E])try{x[E]=H}catch(N){console.log("failed setting "+
E)}else x instanceof Node&&x.setAttribute(E,H)};g.createClass=function(x){let E;const H={willMount:"componentWillMount",didMount:"componentDidMount",willReceiveProps:"componentWillReceiveProps",shouldUpdate:"shouldComponentUpdate",willUpdate:"componentWillUpdate",didUpdate:"componentDidUpdate",willUnmount:"componentWillUnmount"};for(const N in H){const Q=H[N];null==x[N]&&(x[N]=x[Q])}class I{constructor(N,Q,V=null,ba=null){let T,O;null==Q&&(Q={});this.props=Q;this.state=V;this.children=ba;Q=function(ea,
Aa){return"function"===typeof ea?ea.bind(Aa):ea};for(T in x)O=x[T],this[T]=Q(O,this);let da=null;this.setState=function(ea){null==da&&(da=ea?null!=da?da:{}:null);for(T in ea)O=ea[T],da[T]=O;N._COMPONENT_DIRTY=!0};this.forceUpdate=function(){N._COMPONENT_FORCE=N._COMPONENT_DIRTY=!0;let ea=N;const Aa=[];for(;ea=ea.parentNode;)ea._COMPONENT?Aa.push(ea._COMPONENT_FORCE=!0):Aa.push(void 0);return Aa};this.getNextState=()=>da;this.applyNextState=function(){N._COMPONENT_FORCE=N._COMPONENT_DIRTY=!1;const ea=
this.state;[da,this.state]=Array.from([null,da]);return ea}}}I.isComponentClass=!0;I.prototype.defaultProps=null!=(E="function"===typeof x.getDefaultProps?x.getDefaultProps():void 0)?E:{};return I}};
shadow$provide[182]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Overlay=void 0;class A{constructor(u,m){this.element=u;"function"===typeof this.init&&this.init(m)}dispose(){}}g.Overlay=A};
shadow$provide[183]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.DOM=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(181));G=y(182);class m extends G.Overlay{static initClass(){this.prototype.el=u.element;this.prototype.hint=u.hint;this.prototype.apply=u.apply;this.prototype.recycle=u.recycle}init(e){return this.last=null}dispose(){this.unmount();return super.dispose()}mount(){const e=document.createElement("div");e.classList.add("mathbox-overlay");this.element.appendChild(e);
return this.overlay=e}unmount(e){this.overlay&&this.overlay.parentNode&&this.element.removeChild(this.overlay);return this.overlay=null}render(e){this.overlay||this.mount();["string","number"].includes(typeof e)&&(e=this.el("div",null,e));e instanceof Array&&(e=this.el("div",null,e));null==e&&(e=this.el("div"));var c="div"===e.type;let {last:h}=this;const {overlay:l}=this,n=c?l:l.childNodes[0];c=c?l.parentNode:l;!h&&n&&(h=this.el("div"));this.apply(e,h,n,c,0);this.last=e;null!=h&&this.recycle(h)}}
g.DOM=m;m.initClass()};
shadow$provide[184]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Classes=void 0;G={dom:y(183).DOM};g.Classes=G};
shadow$provide[185]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={Factory:!0};Object.defineProperty(g,"Factory",{enumerable:!0,get:function(){return u.OverlayFactory}});var u=y(180),m=y(184);Object.keys(m).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===m[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return m[c]}}))});var e=y(182);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==
c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[186]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Primitive=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(179));G=y(101);class m{static initClass(){this.Node=u.Node;this.Group=u.Group;this.model=this.Node;this.finals=this.props=this.traits=this.defaults=null;this.freeform=!1}constructor(e,c,h){this.node=e;this._context=c;this._renderables=this._context.renderables;this._attributes=this._context.attributes;this._shaders=this._context.shaders;this._overlays=
this._context.overlays;this._animator=this._context.animator;this._types=this._attributes.types;this.node.controller=this;this.node.on("added",l=>this._added());this.node.on("removed",l=>this._removed());this.node.on("change",l=>{if(this._root)return this.change(l.changed,l.touched)});this.reconfigure();this._get=this.node.get.bind(this.node);this._helpers=h(this,this.node.traits);this._handlers={inherit:{},listen:[],watch:[],compute:[]};this._root=this._parent=null;this.init()}is(e){return this.traits.hash[e]}init(){}make(){}made(){}unmake(e){}unmade(){}change(e,
c,h){}refresh(){return this.change({},{},!0)}rebuild(){if(this._root)return this._removed(!0),this._added()}reconfigure(e){null!=e&&this.node.configure(e,this._attributes);this.traits=this.node.traits;return this.props=this.node.props}_added(){let e,c;this._parent=null!=this.node.parent?this.node.parent.controller:void 0;this._root=null!=this.node.root?this.node.root.controller:void 0;this.node.clock=null!=(c=this._inherit("clock"))?c:this._root;try{try{return this.make(),this.refresh(),this.made()}catch(h){throw e=
h,this.node.print("warn"),console.error(e),e;}}catch(h){try{return this._removed()}catch(l){}}}_removed(e){null==e&&(e=!1);this.unmake(e);this._unlisten();this._unattach();this._uncompute();this._parent=this._root=null;return this.unmade(e)}_listen(e,c,h,l){null==l&&(l=this);if(e instanceof Array)for(const n of Array.from(e))return this.__listen(n,c,h,l);return this.__listen(e,c,h,l)}__listen(e,c,h,l){null==l&&(l=this);"string"===typeof e&&(e=this._inherit(e));null!=e&&(h=h.bind(l),h.node=this.node,
e.on(c,h),this._handlers.listen.push([e,c,h]));return e}_unlisten(){if(this._handlers.listen.length){for(const [e,c,h]of Array.from(this._handlers.listen))e.off(c,h);return this._handlers.listen=[]}}_inherit(e){const c=this._handlers.inherit[e];return void 0!==c?c:this._handlers.inherit[e]=null!=this._parent?this._parent._find(null!=e?e:null):void 0}_find(e){return this.is(e)?this:null!=this._parent?this._parent._find(e):void 0}_uninherit(){return this._handlers.inherit={}}_attach(e,c,h,l,n,p,v){null==
l&&(l=this);null==n&&(n=this);null==p&&(p=!1);null==v&&(v=!1);const w=function(H){if(null!=H&&Array.from(H.traits).includes(c))return H},z=H=>null!=H?H.controller:void 0,x=function(H){if(null==H)return H;let I=[];for(const N of Array.from(H))N instanceof Array?I=I.concat(N):I.push(N);return I},E=H=>{let I;if("object"===typeof H){var N=H;if(null!=N&&N._up)return H=v?N._targets:[N[0]];if(N instanceof Array)return H=v?x(N.map(E)):E(N[0]);if(N instanceof u.Node)return[N]}else if("string"===typeof H&&
"\x3c"===H[0]){var Q=0;if(N=H.match(/^<([0-9])+$/))Q=+N[1]-1;H.match(/^<+$/)&&(Q=+H.length-1);I=[];let V=n.node;for(;V;){({parent:N}=V);if(!N)break;(V=N.children[V.index-1])||I.length||(V=N);N=null;w(V)&&(N=V);null!=N&&0>=Q--&&I.push(N);if(!v&&I.length)return I}if(v&&I.length)return I}else if("string"===typeof H)if(Q=h.bind(l),this._handlers.watch.push(Q),Q=this._root.watch(H,Q),v){if(I=Q.filter(w),I.length)return I}else if(w(Q[0])&&(N=Q[0]),null!=N)return[N];if(!p)throw console.warn(this.node.toMarkup()),
Error(`${this.node.toString()} - Could not find ${c} \`${H}\``);return v?[]:null};e=x(E(e));return v?null!=e?e.map(z):null:null!=e?z(e[0]):null}_unattach(){if(this._handlers.watch.length){for(const e of Array.from(this._handlers.watch))null!=e&&e.unwatch();return this._handlers.watch=[]}}_compute(e,c){this._handlers.compute.push(e);return this.node.bind(e,c,!0)}_uncompute(){if(this._handlers.compute.length){for(const e of Array.from(this._handlers.compute))this.node.unbind(e,!0);return this._handlers.compute=
[]}}}g.Primitive=m;m.initClass();G.Binder.apply(m.prototype)};
shadow$provide[187]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Parent=void 0;var A=y(186);class u extends A.Primitive{static initClass(){this.model=A.Primitive.Group;this.traits=["node"]}}g.Parent=u;u.initClass()};
shadow$provide[188]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Group=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","object","entity","visible","active"]}make(){this._helpers.visible.make();return this._helpers.active.make()}unmake(){this._helpers.visible.unmake();return this._helpers.active.unmake()}}g.Group=A;A.initClass()};
shadow$provide[189]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Inherit=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","bind"]}make(){return this._helpers.bind.make([{to:"inherit.source",trait:"node"}])}unmake(){return this._helpers.bind.unmake()}_find(u){return this.bind.source&&Array.from(this.props.traits).includes(u)?this.bind.source._inherit(u):super._find()}}g.Inherit=A;A.initClass()};
shadow$provide[190]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Root=void 0;G=y(187);class u extends G.Parent{static initClass(){this.traits="node root clock scene vertex unit".split(" ")}init(){this.size=null;this.cameraEvent={type:"root.camera"};this.preEvent={type:"root.pre"};this.updateEvent={type:"root.update"};this.renderEvent={type:"root.render"};this.postEvent={type:"root.post"};this.clockEvent={type:"clock.tick"};
return this.camera=null}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}change(m,e,c){if(m["root.camera"]||c)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(m){return Array.from(m.renders).map(e=>this._context.scene.add(e))}unadopt(m){return Array.from(m.renders).map(e=>this._context.scene.remove(e))}select(m){return this.node.model.select(m)}watch(m,e){return this.node.model.watch(m,e)}unwatch(m){return this.node.model.unwatch(m)}resize(m){this.size=
m;return this.trigger({type:"root.resize",size:m})}getSize(){return this.size}getSpeed(){return this.props.speed}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}pre(){this.getCamera().updateProjectionMatrix();this.trigger(this.clockEvent);return this.trigger(this.preEvent)}update(){return this.trigger(this.updateEvent)}render(){return this.trigger(this.renderEvent)}post(){return this.trigger(this.postEvent)}setCamera(){const m=A(this.select(this.props.camera)[0],
e=>e.controller);if(this.camera!==m)return this.camera=m,this.trigger({type:"root.camera"})}getCamera(){let m;return null!=(m=null!=this.camera?this.camera.getCamera():void 0)?m:this._context.defaultCamera}getTime(){return this._context.time}vertex(m,e){return 2===e?m.pipe("view.position"):3===e?m.pipe("root.position"):m}}g.Root=u;u.initClass()};
shadow$provide[191]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Unit=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","unit"]}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}}g.Unit=A;A.initClass()};
shadow$provide[192]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(188);Object.keys(A).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===A[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return A[c]}}))});var u=y(189);Object.keys(u).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===u[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return u[c]}}))});var m=y(190);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in g&&g[c]===m[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return m[c]}}))});var e=y(191);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[193]=function(ra,P,db,I){function A(w){if("function"!==typeof WeakMap)return null;var h=new WeakMap,m=new WeakMap;return(A=function(x){return x?m:h})(w)}Object.defineProperty(I,"__esModule",{value:!0});I.transformComposer=I.swizzleToEulerOrder=I.paramToArrayStorage=I.paramToGL=void 0;var J=function(w,h){if(!h&&w&&w.__esModule)return w;if(null===w||"object"!==typeof w&&"function"!==typeof w)return{default:w};if((h=A(h))&&h.has(w))return h.get(w);var m={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,
z;for(z in w)if("default"!==z&&Object.prototype.hasOwnProperty.call(w,z)){var k=x?Object.getOwnPropertyDescriptor(w,z):null;k&&(k.get||k.set)?Object.defineProperty(m,z,k):m[z]=w[z]}m.default=w;h&&h.set(w,m);return m}(P(99));I.paramToGL=function(w,h){return h===J.RepeatWrapping?w.REPEAT:h===J.ClampToEdgeWrapping?w.CLAMP_TO_EDGE:h===J.MirroredRepeatWrapping?w.MIRRORED_REPEAT:h===J.NearestFilter?w.NEAREST:h===J.NearestMipMapNearestFilter?w.NEAREST_MIPMAP_NEAREST:h===J.NearestMipMapLinearFilter?w.NEAREST_MIPMAP_LINEAR:
h===J.LinearFilter?w.LINEAR:h===J.LinearMipMapNearestFilter?w.LINEAR_MIPMAP_NEAREST:h===J.LinearMipMapLinearFilter?w.LINEAR_MIPMAP_LINEAR:h===J.UnsignedByteType?w.UNSIGNED_BYTE:h===J.UnsignedShort4444Type?w.UNSIGNED_SHORT_4_4_4_4:h===J.UnsignedShort5551Type?w.UNSIGNED_SHORT_5_5_5_1:h===J.ByteType?w.BYTE:h===J.ShortType?w.SHORT:h===J.UnsignedShortType?w.UNSIGNED_SHORT:h===J.IntType?w.INT:h===J.UnsignedIntType?w.UNSIGNED_INT:h===J.FloatType?w.FLOAT:h===J.AlphaFormat?w.ALPHA:h===J.RGBAFormat?w.RGBA:
h===J.LuminanceFormat?w.LUMINANCE:h===J.LuminanceAlphaFormat?w.LUMINANCE_ALPHA:h===J.AddEquation?w.FUNC_ADD:h===J.SubtractEquation?w.FUNC_SUBTRACT:h===J.ReverseSubtractEquation?w.FUNC_REVERSE_SUBTRACT:h===J.ZeroFactor?w.ZERO:h===J.OneFactor?w.ONE:h===J.SrcColorFactor?w.SRC_COLOR:h===J.OneMinusSrcColorFactor?w.ONE_MINUS_SRC_COLOR:h===J.SrcAlphaFactor?w.SRC_ALPHA:h===J.OneMinusSrcAlphaFactor?w.ONE_MINUS_SRC_ALPHA:h===J.DstAlphaFactor?w.DST_ALPHA:h===J.OneMinusDstAlphaFactor?w.ONE_MINUS_DST_ALPHA:h===
J.DstColorFactor?w.DST_COLOR:h===J.OneMinusDstColorFactor?w.ONE_MINUS_DST_COLOR:h===J.SrcAlphaSaturateFactor?w.SRC_ALPHA_SATURATE:0};I.paramToArrayStorage=function(w){switch(w){case J.UnsignedByteType:return Uint8Array;case J.ByteType:return Int8Array;case J.ShortType:return Int16Array;case J.UnsignedShortType:return Uint16Array;case J.IntType:return Int32Array;case J.UnsignedIntType:return Uint32Array;case J.FloatType:return Float32Array}};const r=w=>w.map(h=>["","X","Y","Z"][h]).join("");I.swizzleToEulerOrder=
r;I.transformComposer=function(){const w=new J.Euler,h=new J.Quaternion,m=new J.Vector3,x=new J.Vector3,z=new J.Matrix4;return function(k,p,B,t,u,C){null==C&&(C="XYZ");null!=p?(C instanceof Array&&(C=r(C)),w.setFromVector3(p,C),h.setFromEuler(w)):h.set(0,0,0,1);null!=B&&h.multiply(B);null!=k?m.copy(k):m.set(0,0,0);null!=t?x.copy(t):x.set(1,1,1);z.compose(m,h,x);null!=u&&z.multiplyMatrices(z,u);return z}}};
shadow$provide[194]=function(ra,P,db,I){function A(h){if("function"!==typeof WeakMap)return null;var m=new WeakMap,x=new WeakMap;return(A=function(z){return z?x:m})(h)}Object.defineProperty(I,"__esModule",{value:!0});I.Camera=void 0;var J=function(h,m){if(!m&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((m=A(m))&&m.has(h))return m.get(h);var x={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in h)if("default"!==k&&Object.prototype.hasOwnProperty.call(h,
k)){var p=z?Object.getOwnPropertyDescriptor(h,k):null;p&&(p.get||p.set)?Object.defineProperty(x,k,p):x[k]=h[k]}x.default=h;m&&m.set(h,x);return x}(P(193)),r=P(99);ra=P(186);class w extends ra.Primitive{static initClass(){this.traits=["node","camera"]}init(){}make(){const h=this._context.defaultCamera;this.camera=this.props.proxy?h:h.clone();this.euler=new r.Euler;return this.quat=new r.Quaternion}unmake(){}getCamera(){return this.camera}change(h,m,x){if(h["camera.position"]||h["camera.quaternion"]||
h["camera.rotation"]||h["camera.lookAt"]||h["camera.up"]||h["camera.fov"]||x){const {position:z,quaternion:k,rotation:p,lookAt:B,up:t,fov:u}=this.props;null!=z&&this.camera.position.copy(z);if(null!=k||null!=p||null!=B)null!=B?this.camera.lookAt(B):this.camera.quaternion.set(0,0,0,1),null!=p&&(this.euler.setFromVector3(p,J.swizzleToEulerOrder(this.props.eulerOrder)),this.quat.setFromEuler(this.euler),this.camera.quaternion.multiply(this.quat)),null!=k&&this.camera.quaternion.multiply(k);null!=u&&
null!=this.camera.fov&&(this.camera.fov=u);null!=t&&this.camera.up.copy(t);return this.camera.updateMatrix()}}}I.Camera=w;w.initClass()};
shadow$provide[195]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(194);Object.keys(A).forEach(function(u){"default"!==u&&"__esModule"!==u&&(u in g&&g[u]===A[u]||Object.defineProperty(g,u,{enumerable:!0,get:function(){return A[u]}}))})};
shadow$provide[196]=function(G,y,X,g){function A(e,c,h){const l=[],n=e<c;for(c=h?n?c+1:c-1:c;n?e<c:e>c;n?e++:e--)l.push(e);return l}Object.defineProperty(g,"__esModule",{value:!0});g.getLerpThunk=g.getLerpEmitter=g.getStreamer=g.getThunk=g.makeEmitter=g.repeatCall=g.getDimensions=g.getSizes=void 0;const u=function(e){const c=[];for(;"string"!==typeof e&&null!=(null!=e?e.length:void 0);)c.push(e.length),e=e[0];return c};g.getSizes=u;g.getDimensions=function(e,c){let h;null==c&&(c={});const {items:l,
channels:n,width:p,height:v,depth:w}=c;c={};if(!e||!e.length)return{items:l,channels:n,width:null!=p?p:0,height:null!=v?v:0,depth:null!=w?w:0};e=u(e);var z=e.length;c.channels=1!==n&&1<e.length?e.pop():n;c.items=1!==l&&1<e.length?e.pop():l;c.width=1!==p&&1<e.length?e.pop():p;c.height=1!==v&&1<e.length?e.pop():v;c.depth=1!==w&&1<e.length?e.pop():w;1===n&&z++;1===l&&1<z&&z++;1===p&&2<z&&z++;1===v&&3<z&&z++;e=null!=(h=e.pop())?h:1;1>=z&&(e/=null!=c.channels?c.channels:1);2>=z&&(e/=null!=c.items?c.items:
1);3>=z&&(e/=null!=c.width?c.width:1);4>=z&&(e/=null!=c.height?c.height:1);e=Math.floor(e);null==c.width&&(c.width=e,e=1);null==c.height&&(c.height=e,e=1);null==c.depth&&(c.depth=e);return c};g.repeatCall=function(e,c){switch(c){case 0:return()=>!0;case 1:return()=>e();case 2:return function(){e();return e()};case 3:return function(){e();e();e();return e()};case 4:return function(){e();e();e();return e()};case 6:return function(){e();e();e();e();e();return e()};case 8:return function(){e();e();e();
e();e();return e()}}};g.makeEmitter=function(e,c,h){let l;const n=(()=>{switch(h){case 0:return()=>!0;case 1:return v=>v(e());case 2:return v=>v(e(),e());case 3:return v=>v(e(),e(),e());case 4:return v=>v(e(),e(),e(),e());case 6:return v=>v(e(),e(),e(),e(),e(),e());case 8:return v=>v(e(),e(),e(),e(),e(),e(),e(),e())}})();let p=null;for(;0<c;){const v=Math.min(c,8);l=(()=>{switch(v){case 1:return w=>n(w);case 2:return function(w){n(w);return n(w)};case 3:return function(w){n(w);n(w);return n(w)};case 4:return function(w){n(w);
n(w);n(w);return n(w)};case 5:return function(w){n(w);n(w);n(w);n(w);return n(w)};case 6:return function(w){n(w);n(w);n(w);n(w);n(w);return n(w)};case 7:return function(w){n(w);n(w);n(w);n(w);n(w);n(w);return n(w)};case 8:return function(w){n(w);n(w);n(w);n(w);n(w);n(w);n(w);return n(w)}}})();p=null!=p?((w,z)=>function(x){w(x);return z(x)})(l,p):l;c-=v}l=null!=p?p:()=>!0;l.reset=e.reset;l.rebind=e.rebind;return l};const m=function(e){let c,h,l,n,p,v=u(e);const w=v.length;let z=v.pop(),x=v.pop(),E=
v.pop();const H=v.pop();let I,N,Q,V,ba;switch(w){case 0:c=()=>0;c.reset=function(){};break;case 1:I=0;c=()=>e[I++];c.reset=()=>I=0;break;case 2:I=h=0;N=null!=e[h]?e[h]:[];c=function(){const T=N[I++];I===z&&(I=0,h++,N=null!=e[h]?e[h]:[]);return T};c.reset=function(){I=h=0;N=null!=e[h]?e[h]:[]};break;case 3:I=h=l=0;Q=null!=e[l]?e[l]:[];N=null!=Q[h]?Q[h]:[];c=function(){const T=N[I++];I===z&&(I=0,h++,h===x&&(h=0,l++,Q=null!=e[l]?e[l]:[]),N=null!=Q[h]?Q[h]:[]);return T};c.reset=function(){I=h=l=0;Q=null!=
e[l]?e[l]:[];N=null!=Q[h]?Q[h]:[]};break;case 4:I=h=l=n=0;V=null!=e[n]?e[n]:[];Q=null!=V[l]?V[l]:[];N=null!=Q[h]?Q[h]:[];c=function(){const T=N[I++];I===z&&(I=0,h++,h===x&&(h=0,l++,l===E&&(l=0,n++,V=null!=e[n]?e[n]:[]),Q=null!=V[l]?V[l]:[]),N=null!=Q[h]?Q[h]:[]);return T};c.reset=function(){I=h=l=n=0;V=null!=e[n]?e[n]:[];Q=null!=V[l]?V[l]:[];N=null!=Q[h]?Q[h]:[]};break;case 5:I=h=l=n=p=0,ba=null!=e[p]?e[p]:[],V=null!=ba[n]?ba[n]:[],Q=null!=V[l]?V[l]:[],N=null!=Q[h]?Q[h]:[],c=function(){const T=N[I++];
I===z&&(I=0,h++,h===x&&(h=0,l++,l===E&&(l=0,n++,n===H&&(n=0,p++,ba=null!=e[p]?e[p]:[]),V=null!=ba[n]?ba[n]:[]),Q=null!=V[l]?V[l]:[]),N=null!=Q[h]?Q[h]:[]);return T},c.reset=function(){I=h=l=n=p=0;ba=null!=e[p]?e[p]:[];V=null!=ba[n]?ba[n]:[];Q=null!=V[l]?V[l]:[];N=null!=Q[h]?Q[h]:[]}}c.rebind=function(T){e=T;v=u(e);v.length&&(z=v.pop());v.length&&(x=v.pop());v.length&&(E=v.pop());if(v.length)return v.pop()};return c};g.getThunk=m;g.getStreamer=function(e,c,h,l){let n,p,v=n=p=0;const w=function(){v=
c*h*l;return n=p=0},z=(()=>{switch(h){case 1:return function(H){n+=H;p+=H};case 2:return function(H){n+=2*H;p+=H};case 3:return function(H){n+=3*H;p+=H};case 4:return function(H){n+=4*H;p+=H}}})(),x=(()=>{switch(h){case 1:return function(H){H(e[n++]);++p};case 2:return function(H){H(e[n++],e[n++]);++p};case 3:return function(H){H(e[n++],e[n++],e[n++]);++p};case 4:return function(H){H(e[n++],e[n++],e[n++],e[n++]);++p}}})(),E=(()=>{switch(h){case 1:return function(H){e[n++]=H;++p};case 2:return function(H,
I){e[n++]=H;e[n++]=I;++p};case 3:return function(H,I,N){e[n++]=H;e[n++]=I;e[n++]=N;++p};case 4:return function(H,I,N,Q){e[n++]=H;e[n++]=I;e[n++]=N;e[n++]=Q;++p}}})();x.reset=w;E.reset=w;w();return{emit:E,consume:x,skip:z,count:()=>p,done:()=>0>=v-n,reset:w}};g.getLerpEmitter=function(e,c){let h,l,n,p;const v=new Float32Array(4096);let w=h=.5,z=l=n=p=0;const x=function(I,N,Q,V){n++;v[z++]=I*w;v[z++]=N*w;v[z++]=Q*w;return v[z++]=V*w},E=function(I,N,Q,V){p++;v[l++]+=I*h;v[l++]+=N*h;v[l++]+=Q*h;return v[l++]+=
V*h};var H=Math.max(e.length,c.length);H=3>=H?function(I,N,Q){z=l=n=p=0;e(x,N,Q);c(E,N,Q);let V=0;return A(0,Math.min(n,p),!1).map(ba=>I(v[V++],v[V++],v[V++],v[V++]))}:5>=H?function(I,N,Q,V,ba){z=l=n=p=0;e(x,N,Q,V,ba);c(E,N,Q,V,ba);let T=0;return A(0,Math.min(n,p),!1).map(O=>I(v[T++],v[T++],v[T++],v[T++]))}:7>=H?function(I,N,Q,V,ba,T,O){z=l=n=p=0;e(x,N,Q,V,ba,T,O);c(E,N,Q,V,ba,T,O);N=Math.min(n,p);Q=0;ba=[];O=0;for(V=0<=N;V?O<N:O>N;V?O++:O--)ba.push(I(v[Q++],v[Q++],v[Q++],v[Q++]));return ba}:9>=H?
function(I,N,Q,V,ba,T,O,da,ea){z=l=n=p=0;e(x,N,Q,V,ba,T,O,da,ea);c(E,N,Q,V,ba,T,O,da,ea);N=Math.min(n,p);ea=0;V=[];da=0;for(Q=0<=N;Q?da<N:da>N;Q?da++:da--)V.push(I(v[ea++],v[ea++],v[ea++],v[ea++]));return V}:function(I,N,Q,V,ba,T,O,da,ea,Aa,Ea){z=l=0;e(x,N,Q,V,ba,T,O,da,ea,Aa,Ea);c(E,N,Q,V,ba,T,O,da,ea,Aa,Ea);N=Math.min(n,p);ea=0;V=[];da=0;for(Q=0<=N;Q?da<N:da>N;Q?da++:da--)V.push(I(v[ea++],v[ea++],v[ea++],v[ea++]));return V};H.lerp=function(I){let N;return[w,h]=Array.from(N=[1-I,I]),N};return H};
g.getLerpThunk=function(e,c){const h=u(e).reduce((z,x)=>z*x),l=u(c).reduce((z,x)=>z*x),n=Math.min(h,l),p=m(e),v=m(c),w=new Float32Array(n);w.lerp=function(z){p.reset();v.reset();let x=0;const E=[];for(;x<n;){const H=p(),I=v();E.push(w[x++]=H+(I-H)*z)}return E};return w}};
shadow$provide[197]=function(G,y,X,g){function A(p,v,w){const z=[],x=p<v;for(v=w?x?v+1:v-1:v;x?p<v:p>v;x?p++:p--)z.push(p);return z}Object.defineProperty(g,"__esModule",{value:!0});g.constant=g.identity=g.invertSwizzleVec4=g.swizzleVec4=g.injectVec4=g.truncateVec=g.extendVec=g.binaryOperator=g.sample2DArray=g.mapByte2FloatOffset=g.toType=void 0;const u=["x","y","z","w"],m={0:-1,x:0,y:1,z:2,w:3},e=function(p){p===""+p&&(p=p.split(""));p===+p&&(p=[p]);return p},c=function(p){p===+p&&(p="vec"+p);"vec1"===
p&&(p="float");return p};g.toType=c;const h=function(p){p=""+p;if(0>p.indexOf("."))return p+".0"};g.mapByte2FloatOffset=function(p){null==p&&(p=4);p=h(p);return`\
vec4 float2ByteIndex(vec4 xyzw, out float channelIndex) {
  float relative = xyzw.w / ${p};
  float w = floor(relative);
  channelIndex = (relative - w) * ${p};
  return vec4(xyzw.xyz, w);
}\
`};g.sample2DArray=function(p){const v=function(z,x){if(z===x)z=`\
return texture2D(dataTextures[${z}], uv);\
`;else{const E=Math.ceil(z+(x-z)/2);z=`\
if (z < ${E-.5}) {
  ${v(z,E-1)}
}
else {
  ${v(E,x)}
}\
`}return z.replace(/\n/g,"\n  ")},w=v(0,p-1);return`\
uniform sampler2D dataTextures[${p}];

vec4 sample2DArray(vec2 uv, float z) {
  ${w}
}\
`};g.binaryOperator=function(p,v,w){p=c(p);return null!=w?`\
${p} binaryOperator(${p} a) {
  return a ${v} ${w};
}\
`:`\
${p} binaryOperator(${p} a, ${p} b) {
  return a ${v} b;
}\
`};const l=function(p,v,w){null==w&&(w=0);if(p>v)return n(p,v);var z=v-p;p=c(p);v=c(v);w=h(w);z=A(0,z,!0).map(function(x){return x?w:"v"}).join(",");return`\
${v} extendVec(${p} v) { return ${v}(${z}); }\
`};g.extendVec=l;const n=function(p,v){if(p<v)return l(p,v);const w="."+"xyzw".substr(0,v);p=c(p);v=c(v);return`\
${v} truncateVec(${p} v) { return v${w}; }\
`};g.truncateVec=n;g.injectVec4=function(p){var v=["0.0","0.0","0.0","0.0"];p=e(p);p=p.map(function(w){return w===""+w?m[w]:w});for(let w=0;w<p.length;w++)v[p[w]]=["a","b","c","d"][w];v=v.slice(0,4).join(", ");return`\
vec4 inject(${["float a","float b","float c","float d"].slice(0,p.length)}) {
  return vec4(${v});
}\
`};g.swizzleVec4=function(p,v=null){const w=["0.0","xyzw.x","xyzw.y","xyzw.z","xyzw.w"];null==v&&(v=p.length);p=e(p);for(p=p.map(function(z){Array.from([0,1,2,3,4]).includes(+z)&&(z=+z);z===""+z&&(z=m[z]+1);return w[z]});p.length<v;)p.push("0.0");p=p.join(", ");return`\
vec${v} swizzle(vec4 xyzw) {
  return vec${v}(${p});
}\
`.replace(/vec1/g,"float")};g.invertSwizzleVec4=function(p){const v=["0.0","0.0","0.0","0.0"];p=e(p);p=p.map(function(w){return w===+w?u[w-1]:w});for(let w=0;w<p.length;w++)v[m[p[w]]]=`xyzw.${u[w]}`;return`\
vec4 invertSwizzle(vec4 xyzw) {
  return vec4(${v.join(", ")});
}\
`};g.identity=function(p){let v=[].slice.call(arguments);return 1<v.length?(v=v.map((w,z)=>["inout",w,String.fromCharCode(97+z)].join(" ")),v=v.join(", "),`\
void identity(${v}) { }\
`):`\
${p} identity(${p} x) {
  return x;
}\
`};g.constant=(p,v)=>`\
${p} constant() {
return ${v};
}\
`};
shadow$provide[198]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Source=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(186);class m extends G.Primitive{static initClass(){this.traits=["node","source","index"]}made(){return this.trigger({type:"source.rebuild"})}indexShader(e){return e.pipe(u.identity("vec4"))}sourceShader(e){return e.pipe(u.identity("vec4"))}getDimensions(){return{items:1,width:1,height:1,depth:1}}getActiveDimensions(){return this.getDimensions()}getIndexDimensions(){return this.getActiveDimensions()}getFutureDimensions(){return this.getActiveDimensions()}}
g.Source=m;m.initClass()};
shadow$provide[199]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Data=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(198);class m extends G.Source{static initClass(){this.traits="node data source index entity active".split(" ")}init(){return this.dataSizes=this.dataEmitter=null}emitter(e,c){const {data:h,bind:l,expr:n}=this.props;if(null!=h){var p=this.dataSizes;var v=u.getSizes(h);p&&p.length===v.length||(p=u.getThunk(h),this.dataEmitter=this.callback(u.makeEmitter(p,
c,e)),this.dataSizes=v);e=this.dataEmitter}else null!=v?(v=this._inherit("resolve"),e=this.callback(v.callback(l))):e=null!=n?this.callback(n):this.callback(this.passthrough);return e}callback(e){return null!=e?e:function(){}}update(){}make(){this._helpers.active.make();this.first=!0;return this._listen("root","root.update",()=>{(this.isActive||this.first)&&this.update();return this.first=!1})}unmake(){this._helpers.active.unmake();return this.dataSizes=this.dataEmitter=null}}g.Data=m;m.initClass()};
shadow$provide[200]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Buffer=void 0;G=y(199);class A extends G.Data{static initClass(){this.traits="node buffer active data source index texture".split(" ")}init(){this.bufferStep=this.bufferClock=this.bufferDelta=this.bufferTime=this.bufferFrames=this.bufferSlack=0;super.init()}make(){super.make();this.clockParent=this._inherit("clock");this.latchParent=this._inherit("latch")}unmake(){return super.unmake()}rawBuffer(){return this.buffer}emitter(){const {channels:u,
items:m}=this.props;return super.emitter(u,m)}change(u,m,e){if(u["buffer.fps"]||e)return{fps:u}=this.props,this.bufferSlack=u?.5/u:0}syncBuffer(u){let m,e;if(this.buffer){var {live:c,fps:h,hurry:l,limit:n,realtime:p,observe:v}=this.props,w=this.buffer.getFilled();if(!w||c)if(!this.latchParent||this.latchParent.isDirty){var z=this.clockParent.getTime();if(null!=h){const x=this.bufferSlack,E=z.step/z.delta;m=p?z.delta:z.step;const H=1/h;e=p&&v?E*H:H;Math.abs(z.time-this.bufferTime)>z.step*n&&(this.bufferTime=
z.time,this.bufferClock=z.clock);this.bufferSlack=Math.min(n/h,x+m);this.bufferDelta=m;this.bufferStep=e;let I=Math.min(l,Math.floor(x*h));w||(I=Math.max(1,I));let N=!1;const Q=()=>N=!0;return(()=>{const V=[];for(let ba=0,T=I,O=0<=T;O?ba<T:ba>T;O?ba++:ba--){this.bufferTime+=m;this.bufferClock+=e;if(N)break;u(Q,this.bufferFrames++,ba,I);V.push(this.bufferSlack-=H)}return V})()}this.bufferTime=z.time;this.bufferDelta=z.delta;this.bufferClock=z.clock;this.bufferStep=z.step;return u(function(){},this.bufferFrames++,
0,1)}}}alignShader(u,m){const {minFilter:e,magFilter:c,aligned:h}=this.props;u=1<u.items&&1<u.width||1<u.height&&1<u.depth;if(!h&&u)return e===this.node.attributes["texture.minFilter"].enum.nearest&&c===this.node.attributes["texture.magFilter"].enum.nearest||console.warn(`${this.node.toString()} - Cannot use linear min/magFilter with 3D/4D sampling`),m.pipe("map.xyzw.align")}}g.Buffer=A;A.initClass()};
shadow$provide[201]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Array_=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(200);class m extends G.Buffer{static initClass(){this.traits="node buffer active data source index array texture raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,history:0};this.used={width:0};this.storage="arrayBuffer";this.passthrough=(e,c)=>e(c,0,0,0);return super.init()}sourceShader(e){const c=this.getDimensions();this.alignShader(c,
e);return this.buffer.shader(e)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.history,depth:1}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.buffer.getFilled(),depth:1}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.space.history,depth:1}}getRawDimensions(){return{items:this.items,width:this.space.width,height:1,depth:1}}make(){super.make();const e=null!=this.minFilter?this.minFilter:this.props.minFilter,
c=null!=this.magFilter?this.magFilter:this.props.magFilter,h=null!=this.type?this.type:this.props.type;var {width:l}=this.props;const {history:n}=this.props,p=this.props.bufferWidth,{channels:v}=this.props,{items:w}=this.props;l=this.spec={channels:v,items:w,width:l};this.items=l.items;this.channels=l.channels;var {data:z}=this.props;l=u.getDimensions(z,l);({space:z}=this);z.width=Math.max(p,l.width||1);z.history=n;return this.buffer=this._renderables.make(this.storage,{width:z.width,history:z.history,
channels:v,items:w,minFilter:e,magFilter:c,type:h})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(e,c,h){if(c.texture||e["history.history"]||e["buffer.channels"]||e["buffer.items"]||e["array.bufferWidth"])return this.rebuild();if(this.buffer){if(e["array.width"]){const {width:l,bufferWidth:n}=this.props;this.spec.width=l;if(l>n)return this.rebuild()}if(e["data.map"]||e["data.data"]||e["data.resolve"]||e["data.expr"]||h)return this.buffer.setCallback(this.emitter())}}callback(e){return 2>=
e.length?e:(c,h)=>e(c,h,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:e}=this.props,{width:c}=this.props,{space:h,used:l}=this,n=l.width,p=this.buffer.getFilled();this.syncBuffer(v=>{if(null!=e){const w=u.getDimensions(e,this.spec);if(w.width>h.width)return v(),this.rebuild();l.width=w.width;this.buffer.setActive(l.width);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(e);return this.buffer.update()}c=this.spec.width||1;this.buffer.setActive(c);
c=this.buffer.update();return l.width=c});if(l.width!==n||p!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}g.Array_=m;m.initClass()};
shadow$provide[202]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Interval=void 0;G=y(201);class A extends G.Array_{static initClass(){this.traits="node buffer active data source index texture array span interval sampler raw".split(" ")}updateSpan(){var u=this.props.axis;({width:c}=this.props);const {centered:m}=this.props,e=this.props.padding;u=this._helpers.span.get("",u);c+=2*e;this.a=u.x;u=u.y-u.x;if(m){var c=1/Math.max(1,c);this.a+=u*c/2}else c=1/Math.max(1,c-1);this.b=
u*c;return this.a+=e*this.b}callback(u){this.updateSpan();if(this.last===u)return this._callback;this.last=u;return 3>=u.length?this._callback=(m,e)=>u(m,this.a+this.b*e,e):this._callback=(m,e)=>u(m,this.a+this.b*e,e,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(u,m,e){super.change(u,m,e);m.span&&this.updateSpan()}}g.Interval=A;A.initClass()};
shadow$provide[203]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=null==A?0:A.length;++m<e&&!1!==u(A[m],m,A););return A}};
shadow$provide[204]=function(G,y,X,g){G=y(33);a:{try{var A=G(Object,"defineProperty");A({},"",{});var u=A;break a}catch(m){}u=void 0}X.exports=u};
shadow$provide[205]=function(G,y,X,g){var A=y(204);X.exports=function(u,m,e){"__proto__"==m&&A?A(u,m,{configurable:!0,enumerable:!0,value:e,writable:!0}):u[m]=e}};
shadow$provide[206]=function(G,y,X,g){var A=y(205),u=y(9),m=Object.prototype.hasOwnProperty;X.exports=function(e,c,h){var l=e[c];m.call(e,c)&&u(l,h)&&(void 0!==h||c in e)||A(e,c,h)}};
shadow$provide[207]=function(G,y,X,g){var A=y(206),u=y(205);X.exports=function(m,e,c,h){var l=!c;c||(c={});for(var n=-1,p=e.length;++n<p;){var v=e[n],w=h?h(c[v],m[v],v,c,m):void 0;void 0===w&&(w=m[v]);l?u(c,v,w):A(c,v,w)}return c}};
shadow$provide[208]=function(G,y,X,g){var A=y(207),u=y(86);X.exports=function(m,e){return m&&A(e,u(e),m)}};
shadow$provide[209]=function(G,y,X,g){X.exports=function(A){var u=[];if(null!=A)for(var m in Object(A))u.push(m);return u}};
shadow$provide[210]=function(G,y,X,g){var A=y(26),u=y(81),m=y(209),e=Object.prototype.hasOwnProperty;X.exports=function(c){if(!A(c))return m(c);var h=u(c),l=[],n;for(n in c)("constructor"!=n||!h&&e.call(c,n))&&l.push(n);return l}};
shadow$provide[211]=function(G,y,X,g){var A=y(80),u=y(210),m=y(85);X.exports=function(e){return m(e)?A(e,!0):u(e)}};
shadow$provide[212]=function(G,y,X,g){var A=y(207),u=y(211);X.exports=function(m,e){return m&&A(e,u(e),m)}};
shadow$provide[213]=function(G,y,X,g){G=y(21);var A=(g=(y=(g="object"==typeof g&&g&&!g.nodeType&&g)&&"object"==typeof X&&X&&!X.nodeType&&X)&&y.exports===g?G.Buffer:void 0)?g.allocUnsafe:void 0;X.exports=function(u,m){if(m)return u.slice();m=u.length;m=A?A(m):new u.constructor(m);u.copy(m);return m}};
shadow$provide[214]=function(G,y,X,g){X.exports=function(A,u){var m=-1,e=A.length;for(u||(u=Array(e));++m<e;)u[m]=A[m];return u}};
shadow$provide[215]=function(G,y,X,g){var A=y(207),u=y(67);X.exports=function(m,e){return A(m,u(m),e)}};
shadow$provide[216]=function(G,y,X,g){G=y(82)(Object.getPrototypeOf,Object);X.exports=G};
shadow$provide[217]=function(G,y,X,g){var A=y(62),u=y(216),m=y(67);G=y(66);X.exports=Object.getOwnPropertySymbols?function(e){for(var c=[];e;)A(c,m(e)),e=u(e);return c}:G};
shadow$provide[218]=function(G,y,X,g){var A=y(207),u=y(217);X.exports=function(m,e){return A(m,u(m),e)}};
shadow$provide[219]=function(G,y,X,g){var A=y(64),u=y(217),m=y(211);X.exports=function(e){return A(e,m,u)}};
shadow$provide[220]=function(G,y,X,g){var A=Object.prototype.hasOwnProperty;X.exports=function(u){var m=u.length,e=new u.constructor(m);m&&"string"==typeof u[0]&&A.call(u,"index")&&(e.index=u.index,e.input=u.input);return e}};
shadow$provide[221]=function(G,y,X,g){var A=y(58);X.exports=function(u){var m=new u.constructor(u.byteLength);(new A(m)).set(new A(u));return m}};
shadow$provide[222]=function(G,y,X,g){var A=y(221);X.exports=function(u,m){m=m?A(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}};
shadow$provide[223]=function(G,y,X,g){var A=/\w*$/;X.exports=function(u){var m=new u.constructor(u.source,A.exec(u));m.lastIndex=u.lastIndex;return m}};
shadow$provide[224]=function(G,y,X,g){var A=(G=(G=y(22))?G.prototype:void 0)?G.valueOf:void 0;X.exports=function(u){return A?Object(A.call(u)):{}}};
shadow$provide[225]=function(G,y,X,g){var A=y(221);X.exports=function(u,m){m=m?A(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}};
shadow$provide[226]=function(G,y,X,g){var A=y(221),u=y(222),m=y(223),e=y(224),c=y(225);X.exports=function(h,l,n){var p=h.constructor;switch(l){case "[object ArrayBuffer]":return A(h);case "[object Boolean]":case "[object Date]":return new p(+h);case "[object DataView]":return u(h,n);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return c(h,
n);case "[object Map]":return new p;case "[object Number]":case "[object String]":return new p(h);case "[object RegExp]":return m(h);case "[object Set]":return new p;case "[object Symbol]":return e(h)}}};
shadow$provide[227]=function(G,y,X,g){var A=y(26),u=Object.create;G=function(){function m(){}return function(e){if(!A(e))return{};if(u)return u(e);m.prototype=e;e=new m;m.prototype=void 0;return e}}();X.exports=G};
shadow$provide[228]=function(G,y,X,g){var A=y(227),u=y(216),m=y(81);X.exports=function(e){return"function"!=typeof e.constructor||m(e)?{}:A(u(e))}};
shadow$provide[229]=function(G,y,X,g){var A=y(93),u=y(69);X.exports=function(m){return u(m)&&"[object Map]"==A(m)}};
shadow$provide[230]=function(G,y,X,g){G=y(229);g=y(77);y=(y=(y=y(78))&&y.isMap)?g(y):G;X.exports=y};
shadow$provide[231]=function(G,y,X,g){var A=y(93),u=y(69);X.exports=function(m){return u(m)&&"[object Set]"==A(m)}};
shadow$provide[232]=function(G,y,X,g){G=y(231);g=y(77);y=(y=(y=y(78))&&y.isSet)?g(y):G;X.exports=y};
shadow$provide[233]=function(G,y,X,g){function A(Aa,Ea,qa,jb,va,Ga){var Da,Oa=Ea&1,tb=Ea&2,fb=Ea&4;qa&&(Da=va?qa(Aa,jb,va,Ga):qa(Aa));if(void 0!==Da)return Da;if(!ba(Aa))return Aa;if(jb=N(Aa)){if(Da=E(Aa),!Oa)return n(Aa,Da)}else{var lb=x(Aa),ka="[object Function]"==lb||"[object GeneratorFunction]"==lb;if(Q(Aa))return l(Aa,Oa);if("[object Object]"==lb||"[object Arguments]"==lb||ka&&!va){if(Da=tb||ka?{}:I(Aa),!Oa)return tb?v(Aa,h(Da,Aa)):p(Aa,c(Da,Aa))}else{if(!ea[lb])return va?Aa:{};Da=H(Aa,lb,Oa)}}Ga||
(Ga=new u);if(va=Ga.get(Aa))return va;Ga.set(Aa,Da);T(Aa)?Aa.forEach(function(Eb){Da.add(A(Eb,Ea,qa,Eb,Aa,Ga))}):V(Aa)&&Aa.forEach(function(Eb,kb){Da.set(kb,A(Eb,Ea,qa,kb,Aa,Ga))});tb=fb?tb?z:w:tb?da:O;var zb=jb?void 0:tb(Aa);m(zb||Aa,function(Eb,kb){zb&&(kb=Eb,Eb=Aa[kb]);e(Da,kb,A(Eb,Ea,qa,kb,Aa,Ga))});return Da}var u=y(51),m=y(203),e=y(206),c=y(208),h=y(212),l=y(213),n=y(214),p=y(215),v=y(218),w=y(87),z=y(219),x=y(93),E=y(220),H=y(226),I=y(228),N=y(63),Q=y(73),V=y(230),ba=y(26),T=y(232),O=y(86),
da=y(211),ea={};ea["[object Arguments]"]=ea["[object Array]"]=ea["[object ArrayBuffer]"]=ea["[object DataView]"]=ea["[object Boolean]"]=ea["[object Date]"]=ea["[object Float32Array]"]=ea["[object Float64Array]"]=ea["[object Int8Array]"]=ea["[object Int16Array]"]=ea["[object Int32Array]"]=ea["[object Map]"]=ea["[object Number]"]=ea["[object Object]"]=ea["[object RegExp]"]=ea["[object Set]"]=ea["[object String]"]=ea["[object Symbol]"]=ea["[object Uint8Array]"]=ea["[object Uint8ClampedArray]"]=ea["[object Uint16Array]"]=
ea["[object Uint32Array]"]=!0;ea["[object Error]"]=ea["[object Function]"]=ea["[object WeakMap]"]=!1;X.exports=A};
shadow$provide[234]=function(G,y,X,g){var A=y(233);X.exports=function(u){return A(u,5)}};
shadow$provide[235]=function(G,y,X,g){function A(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(g,"__esModule",{value:!0});g.Latch=void 0;G=y(187);var u=A(y(234)),m=A(y(96));class e extends G.Parent{static initClass(){this.traits=["node","entity","active","latch"]}init(){this.data=void 0;this.isDirty=!0}make(){this._helpers.active.make();this._listen("root","root.update",function(){this.isActive&&this.update()})}unmake(){this._helpers.active.unmake();this.data=void 0}swap(){const {deep:c,
data:h}=this.props;(c?(0,m.default)(h,this.data):h==this.data)||(this.data=c?(0,u.default)(h):h)}update(){this.isDirty=this.swap()}}g.Latch=e;e.initClass()};
shadow$provide[236]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Matrix=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(200);class m extends G.Buffer{static initClass(){this.traits="node buffer active data source index texture matrix raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,history:0};this.used={width:0,height:0};this.storage="matrixBuffer";this.passthrough=(e,c,h)=>e(c,h,0,0);return super.init()}sourceShader(e){const c=
this.getDimensions();this.alignShader(c,e);return this.buffer.shader(e)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.history}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.buffer.getFilled()}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.space.history}}getRawDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,
depth:1}}make(){super.make();const e=null!=this.minFilter?this.minFilter:this.props.minFilter,c=null!=this.magFilter?this.magFilter:this.props.magFilter,h=null!=this.type?this.type:this.props.type;var {width:l}=this.props,{height:n}=this.props;const {history:p}=this.props,v=this.props.bufferWidth,w=this.props.bufferHeight,{channels:z}=this.props,{items:x}=this.props;l=this.spec={channels:z,items:x,width:l,height:n};this.items=l.items;this.channels=l.channels;({data:n}=this.props);l=u.getDimensions(n,
l);({space:n}=this);n.width=Math.max(v,l.width||1);n.height=Math.max(w,l.height||1);n.history=p;return this.buffer=this._renderables.make(this.storage,{width:n.width,height:n.height,history:n.history,channels:z,items:x,minFilter:e,magFilter:c,type:h})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(e,c,h){if(c.texture||e["matrix.history"]||e["buffer.channels"]||e["buffer.items"]||e["matrix.bufferWidth"]||e["matrix.bufferHeight"])return this.rebuild();
if(this.buffer){if(e["matrix.width"]){const {width:l,bufferWidth:n}=this.props;this.spec.width=l;if(l>n)return this.rebuild()}if(e["matrix.height"]){const {height:l,bufferHeight:n}=this.props;this.spec.height=l;if(l>n)return this.rebuild()}if(e["data.map"]||e["data.data"]||e["data.resolve"]||e["data.expr"]||h)return this.buffer.setCallback(this.emitter())}}callback(e){return 3>=e.length?e:(c,h,l)=>e(c,h,l,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:e}=this.props,{space:c,
used:h}=this,l=h.width,n=h.height,p=this.buffer.getFilled();this.syncBuffer(v=>{if(null!=e){var w=u.getDimensions(e,this.spec);if(w.width>c.width||w.height>c.height)return v(),this.rebuild();h.width=w.width;h.height=w.height;this.buffer.setActive(h.width,h.height);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(e);return this.buffer.update()}v=this.spec.width||1;w=this.spec.height||1;this.buffer.setActive(v,w);const z=this.buffer.update();h.width=v;h.height=Math.min(w,
Math.ceil(z/v));1===h.height&&(h.width=Math.min(v,z))});if(h.width!==l||h.height!==n||p!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}g.Matrix=m;m.initClass()};
shadow$provide[237]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Area=void 0;G=y(236);class A extends G.Matrix{static initClass(){this.traits="node buffer active data source index matrix texture raw span:x span:y area sampler:x sampler:y".split(" ")}updateSpan(){var u=this.props.axes;({width:n}=this.props);({height:p}=this.props);const {centeredX:m}=this.props,{centeredY:e}=this.props,c=this.props.paddingX,h=this.props.paddingY;var l=this._helpers.span.get("x.",u[0]);u=this._helpers.span.get("y.",
u[1]);this.aX=l.x;this.aY=u.x;l=l.y-l.x;u=u.y-u.x;n+=2*c;p+=2*h;if(m){var n=1/Math.max(1,n);this.aX+=l*n/2}else n=1/Math.max(1,n-1);if(e){var p=1/Math.max(1,p);this.aY+=u*p/2}else p=1/Math.max(1,p-1);this.bX=l*n;this.bY=u*p;this.aX+=c*this.bX;return this.aY+=h*this.bY}callback(u){this.updateSpan();if(this.last===u)return this._callback;this.last=u;return 5>=u.length?this._callback=(m,e,c)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,e,c):this._callback=(m,e,c)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,
e,c,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(u,m,e){super.change(u,m,e);(m.x||m.y)&&this.updateSpan()}}g.Area=A;A.initClass()};
shadow$provide[238]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Voxel=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(200);class m extends G.Buffer{constructor(...e){super(...e);this.update=this.update.bind(this)}static initClass(){this.traits="node buffer active data source index texture voxel raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,depth:0};this.used={width:0,height:0,depth:0};this.storage="voxelBuffer";this.passthrough=
(e,c,h,l)=>e(c,h,l,0);super.init()}sourceShader(e){const c=this.getDimensions();this.alignShader(c,e);return this.buffer.shader(e)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.depth}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.used.depth*this.buffer.getFilled()}}getRawDimensions(){return this.getDimensions()}make(){super.make();const e=null!=this.minFilter?this.minFilter:this.props.minFilter,
c=null!=this.magFilter?this.magFilter:this.props.magFilter,h=null!=this.type?this.type:this.props.type;var {width:l}=this.props,{height:n}=this.props;const {depth:p}=this.props,v=this.props.bufferWidth,w=this.props.bufferHeight,z=this.props.bufferDepth,{channels:x}=this.props,{items:E}=this.props;l=this.spec={channels:x,items:E,width:l,height:n,depth:p};this.items=l.items;this.channels=l.channels;({data:n}=this.props);l=u.getDimensions(n,l);({space:n}=this);n.width=Math.max(v,l.width||1);n.height=
Math.max(w,l.height||1);n.depth=Math.max(z,l.depth||1);return this.buffer=this._renderables.make(this.storage,{width:n.width,height:n.height,depth:n.depth,channels:x,items:E,minFilter:e,magFilter:c,type:h})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(e,c,h){if(c.texture||e["buffer.channels"]||e["buffer.items"]||e["voxel.bufferWidth"]||e["voxel.bufferHeight"]||e["voxel.bufferDepth"])return this.rebuild();if(this.buffer){if(e["voxel.width"]){const {width:l,
bufferWidth:n}=this.props;this.spec.width=l;if(l>n)return this.rebuild()}if(e["voxel.height"]){const {height:l,bufferHeight:n}=this.props;this.spec.height=l;if(l>n)return this.rebuild()}if(e["voxel.depth"]){const {depth:l,bufferDepth:n}=this.props;this.spec.depth=l;if(l>n)return this.rebuild()}if(e["data.map"]||e["data.data"]||e["data.resolve"]||e["data.expr"]||h)return this.buffer.setCallback(this.emitter())}}callback(e){return 4>=e.length?e:(c,h,l,n)=>e(c,h,l,n,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:e}=
this.props,{space:c,used:h}=this,l=h.width,n=h.height,p=h.depth,v=this.buffer.getFilled();this.syncBuffer(w=>{if(null!=e){var z=u.getDimensions(e,this.spec);if(z.width>c.width||z.height>c.height||z.depth>c.depth)return w(),this.rebuild();h.width=z.width;h.height=z.height;h.depth=z.depth;this.buffer.setActive(h.width,h.height,h.depth);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(e);return this.buffer.update()}w=this.spec.width||1;z=this.spec.height||1;const x=this.spec.depth||
1;this.buffer.setActive(w,z,x);const E=this.buffer.update();h.width=w;h.height=z;h.depth=Math.min(x,Math.ceil(E/w/z));1===h.depth&&(h.height=Math.min(z,Math.ceil(E/w)),1===h.height&&(h.width=Math.min(w,E)))});if(h.width!==l||h.height!==n||h.depth!==p||v!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}g.Voxel=m;m.initClass()};
shadow$provide[239]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Volume=void 0;G=y(238);class A extends G.Voxel{static initClass(){this.traits="node buffer active data source index texture voxel span:x span:y span:z volume sampler:x sampler:y sampler:z raw".split(" ")}updateSpan(){var u=this.props.axes;({width:w}=this.props);({height:z}=this.props);({depth:x}=this.props);const {centeredX:m}=this.props,{centeredY:e}=this.props,{centeredZ:c}=this.props,h=this.props.paddingX,
l=this.props.paddingY,n=this.props.paddingZ;var p=this._helpers.span.get("x.",u[0]),v=this._helpers.span.get("y.",u[1]);u=this._helpers.span.get("z.",u[2]);this.aX=p.x;this.aY=v.x;this.aZ=u.x;p=p.y-p.x;v=v.y-v.x;u=u.y-u.x;w+=2*h;z+=2*l;x+=2*n;if(m){var w=1/Math.max(1,w);this.aX+=p*w/2}else w=1/Math.max(1,w-1);if(e){var z=1/Math.max(1,z);this.aY+=v*z/2}else z=1/Math.max(1,z-1);if(c){var x=1/Math.max(1,x);this.aZ+=u*x/2}else x=1/Math.max(1,x-1);this.bX=p*w;this.bY=v*z;this.bZ=u*x;this.aX+=this.bX*h;
this.aY+=this.bY*l;return this.aZ+=this.bZ*l}callback(u){this.updateSpan();if(this.last===u)return this._callback;this.last=u;return 7>=u.length?this._callback=(m,e,c,h)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,this.aZ+this.bZ*h,e,c,h):this._callback=(m,e,c,h)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,this.aZ+this.bZ*h,e,c,h,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(u,
m,e){super.change(u,m,e);(m.x||m.y||m.z)&&this.updateSpan()}}g.Volume=A;A.initClass()};
shadow$provide[240]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.recenterAxis=I.setDimensionNormal=I.setDimension=I.addOrigin=I.setOrigin=void 0;var A=P(99);const J=function(r,w,h){+w===w&&(w=[w]);const m=Array.from(w).includes(1)?0:h.x,x=Array.from(w).includes(2)?0:h.y,z=Array.from(w).includes(3)?0:h.z;w=Array.from(w).includes(4)?0:h.w;return r.set(m,x,z,w)};I.setOrigin=J;ra=function(){const r=new A.Vector4;return function(w,h,m){J(r,h,m);return w.add(r)}}();I.addOrigin=
ra;I.setDimension=function(r,w){return r.set(1===w?1:0,2===w?1:0,3===w?1:0,4===w?1:0)};I.setDimensionNormal=function(r,w){return r.set(2===w?1:0,(3===w?1:0)+(1===w?1:0),4===w?1:0,0)};ra=function(){const r=[0,0];return function(w,h,m,x){null==x&&(x=0);if(0<m){var z=w;w+=h;h=Math.max(Math.abs(z),Math.abs(w));x*=h;const k=Math.min(z,w);z=Math.max(z,w);w=k+(-h+x-k)*m;h=z+(h+x-z)*m-w}r[0]=w;r[1]=h;return r}}();I.recenterAxis=ra};
shadow$provide[241]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Scale=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(240));G=y(198);class m extends G.Source{static initClass(){this.traits="node source index interval span scale raw origin".split(" ")}init(){return this.used=this.space=this.scaleAxis=this.sampler=null}rawBuffer(){return this.buffer}sourceShader(e){return e.pipe(this.sampler)}getDimensions(){return{items:1,width:this.space,height:1,depth:1}}getActiveDimensions(){return{items:1,
width:this.used,height:this.buffer.getFilled(),depth:1}}getRawDimensions(){return this.getDimensions()}make(){var e;this.space=e=this._helpers.scale.divide("");this.buffer=this._renderables.make("dataBuffer",{width:e,channels:1,items:1});e={scaleAxis:this._attributes.make(this._types.vec4()),scaleOffset:this._attributes.make(this._types.vec4())};this.scaleAxis=e.scaleAxis.value;this.scaleOffset=e.scaleOffset.value;const c=this.sampler=this._shaders.shader();c.require(this.buffer.shader(this._shaders.shader(),
1));c.pipe("scale.position",e);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this.scaleAxis=null;return this._helpers.span.unmake()}change(e,c,h){if(e["scale.divide"])return this.rebuild();if(c.view||c.interval||c.span||c.scale||c.origin||h)return this.updateRanges()}updateRanges(){const {used:e}=this,{axis:c,origin:h}=this.props;var l=this._helpers.span.get("",c);l=this._helpers.scale.generate("",this.buffer,l.x,l.y);u.setDimension(this.scaleAxis,c);
u.setOrigin(this.scaleOffset,c,h);this.used=l.length;if(this.used!==e)return this.trigger({type:"source.resize"})}}g.Scale=m;m.initClass()};
shadow$provide[242]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(201);Object.keys(A).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===A[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return A[p]}}))});var u=y(202);Object.keys(u).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===u[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return u[p]}}))});var m=y(235);Object.keys(m).forEach(function(p){"default"!==
p&&"__esModule"!==p&&(p in g&&g[p]===m[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return m[p]}}))});var e=y(236);Object.keys(e).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===e[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return e[p]}}))});var c=y(237);Object.keys(c).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===c[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return c[p]}}))});var h=y(238);Object.keys(h).forEach(function(p){"default"!==
p&&"__esModule"!==p&&(p in g&&g[p]===h[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return h[p]}}))});var l=y(239);Object.keys(l).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===l[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return l[p]}}))});var n=y(241);Object.keys(n).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===n[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return n[p]}}))})};
shadow$provide[243]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.parseQuoted=g.clone=g.merge=void 0;g.merge=function(){const A={};for(const u of Array.from(arguments))for(const m in u)A[m]=u[m];return A};g.clone=A=>JSON.parse(JSON.serialize(A));g.parseQuoted=function(A){let u="";const m=function(h){if(u.length){var l=c,n=l.push;var p=u.replace(/\\/g,"");n.call(l,p)}return u=null!=h?h:""};A=A.split(/(?=(?:\\.|["' ,]))/g);let e=!1;const c=[];for(const h of Array.from(A)){const l=
h[0],n=h.slice(1);switch(l){case '"':case "'":if(e)e===l?(e=!1,m(n)):u+=h;else{if(""!==u)throw Error(`ParseError: String \`${A}\` does not contain comma-separated quoted tokens.`);e=l;u+=n}break;case " ":case ",":e?u+=h:m(n);break;default:u+=h}}m();return c}};
shadow$provide[244]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Axis=void 0;var m=u(y(240)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line axis span interval arrow position origin shade".split(" ");this.defaults={end:!0,zBias:-1}}constructor(h,l,n){super(h,l,n);this.axisPosition=this.axisStep=this.resolution=this.line=this.arrows=null}make(){var h=
{axisPosition:this._attributes.make(this._types.vec4()),axisStep:this._attributes.make(this._types.vec4())};this.axisPosition=h.axisPosition.value;this.axisStep=h.axisStep.value;let l=this._shaders.shader();l.pipe("axis.position",h);l=this._helpers.position.pipeline(l);var n=this._helpers.style.uniforms();const p=this._helpers.line.uniforms(),v=this._helpers.arrow.uniforms(),w=this._inherit("unit").getUnitUniforms();var {detail:z}=this.props;h=z+1;this.resolution=1/z;const {start:x,end:E}=this.props,
{stroke:H,join:I}=this.props;z=this._helpers.object.mask();const N=this._helpers.shade.pipeline()||!1,{crossed:Q,axis:V}=this.props;!Q&&null!=z&&1<V&&(z=this._helpers.position.swizzle(z,["x000","y000","z000","w000"][V]));n=e.merge(v,p,n,w);this.line=this._renderables.make("line",{uniforms:n,samples:h,position:l,clip:x||E,stroke:H,join:I,mask:z,material:N});this.arrows=[];x&&this.arrows.push(this._renderables.make("arrow",{uniforms:n,flip:!0,samples:h,position:l,mask:z,material:N}));E&&this.arrows.push(this._renderables.make("arrow",
{uniforms:n,samples:h,position:l,mask:z,material:N}));this._helpers.visible.make();this._helpers.object.make(this.arrows.concat([this.line]));this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();return this._helpers.span.unmake()}change(h,l,n){if(h["axis.detail"]||h["line.stroke"]||h["line.join"]||h["axis.crossed"]||h["interval.axis"]&&this.props.crossed)return this.rebuild();if(l.interval||l.span||
l.view||l.origin||n)return this.updateRanges()}updateRanges(){const {axis:h,origin:l}=this.props;var n=this._helpers.span.get("",h);const p=n.x;n=n.y;m.setDimension(this.axisPosition,h).multiplyScalar(p);m.setDimension(this.axisStep,h).multiplyScalar((n-p)*this.resolution);return m.addOrigin(this.axisPosition,h,l)}}g.Axis=c;c.initClass()};
shadow$provide[245]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Face=void 0;var m=u(y(197)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line mesh face geometry position bind shade".split(" ")}constructor(h,l,n){super(h,l,n);this.face=null}resize(){if(null!=this.bind.points){var h=this.bind.points.getActiveDimensions(),{items:l,width:n,height:p,depth:v}=
h;this.face&&this.face.geometry.clip(n,p,v,l);this.line&&this.line.geometry.clip(l,n,p,v);if(null!=this.bind.map&&(h=this.bind.map.getActiveDimensions(),this.face))return this.face.geometry.map(h.width,h.height,h.depth,h.items)}}make(){let h;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var l=this.bind.points.sourceShader(this._shaders.shader());l=this._helpers.position.pipeline(l);var n=
this._helpers.style.uniforms();var p=this._helpers.line.uniforms();var v=this._inherit("unit").getUnitUniforms(),w={};w.styleZBias=this._attributes.make(this._types.number());this.wireZBias=w.styleZBias;var z=this.bind.points.getDimensions(),{items:x,width:E,height:H,depth:I}=z,{line:N,shaded:Q,fill:V,stroke:ba,join:T}=this.props;this.bind.colors&&(h=this._shaders.shader(),this.bind.colors.sourceShader(h));z=this._helpers.object.mask();var O=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),da=this._helpers.shade.pipeline(),ea=da||Q;da=da||!1;var Aa=[];if(N){const Ea=this._shaders.shader();Ea.pipe(m.swizzleVec4("yzwx"));Ea.pipe(l);p=e.merge(v,p,n,w);this.line=this._renderables.make("line",{uniforms:p,samples:x,strips:E,ribbons:H,layers:I,position:Ea,color:h,stroke:ba,join:T,material:da,mask:z,closed:!0});Aa.push(this.line)}V&&(p=e.merge(v,n,{}),this.face=this._renderables.make("face",{uniforms:p,width:E,height:H,depth:I,items:x,position:l,color:h,material:ea,mask:z,map:O}),Aa.push(this.face));
this._helpers.visible.make();return this._helpers.object.make(Aa)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.face=this.line=null}change(h,l,n){if(h["geometry.points"]||l.mesh)return this.rebuild();if(h["style.zBias"]||h["mesh.lineBias"]||n){const {fill:p,zBias:v,lineBias:w}=this.props;return this.wireZBias.value=v+(p?w:0)}}}g.Face=c;c.initClass()};
shadow$provide[246]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Grid=void 0;var m=u(y(240)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line grid area position origin shade axis:x axis:y scale:x scale:y span:x span:y".split(" ");this.defaults={width:1,zBias:-2}}constructor(h,l,n){super(h,l,n);this.axes=null}make(){let h,l=this._helpers.object.mask();
const n=this._helpers.shade.pipeline()||!1;h=(I,N,Q)=>{var V,ba=this._get(I+"axis.detail");const T=ba+1;ba=1/ba;const O=this._helpers.scale.divide(N),da=this._renderables.make("dataBuffer",{width:O,channels:1});var ea={gridPosition:this._attributes.make(this._types.vec4()),gridStep:this._attributes.make(this._types.vec4()),gridAxis:this._attributes.make(this._types.vec4())};const Aa={gridPosition:ea.gridPosition.value,gridStep:ea.gridStep.value,gridAxis:ea.gridAxis.value};var Ea=V=this._shaders.shader();
null!=Q&&null!=l&&(l=this._helpers.position.swizzle(l,Q));Ea.require(da.shader(this._shaders.shader(),2));Ea.pipe("grid.position",ea);V=this._helpers.position.pipeline(Ea);Q=this._helpers.style.uniforms();ea=this._helpers.line.uniforms();Ea=this._inherit("unit").getUnitUniforms();Q=e.merge(ea,Q,Ea);V=this._renderables.make("line",{uniforms:Q,samples:T,strips:O,position:V,stroke:E,join:H,mask:l,material:n});return{first:I,second:N,resolution:ba,samples:T,line:V,buffer:da,values:Aa}};const {lineX:p,
lineY:v,crossed:w,axes:z}=this.props;var x=["0000","x000","y000","z000","w000"][z[1]];const {stroke:E,join:H}=this.props;this.axes=[];p&&this.axes.push(h("x.","y.",null));v&&this.axes.push(h("y.","x.",w?null:x));x=(()=>{const I=[];for(h of this.axes)I.push(h.line);return I})();this._helpers.visible.make();this._helpers.object.make(x);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();this._helpers.span.unmake();
for(const h of this.axes)h.buffer.dispose();this.axes=null}change(h,l,n){if(h["x.axis.detail"]||h["y.axis.detail"]||h["x.axis.factor"]||h["y.axis.factor"]||h["grid.lineX"]||h["grid.lineY"]||h["line.stroke"]||h["line.join"]||h["grid.crossed"]||h["grid.axes"]&&this.props.crossed)return this.rebuild();if(l.x||l.y||l.area||l.grid||l.view||l.origin||n)return this.updateRanges()}updateRanges(){const h=(x,E,H,I,N)=>{const {second:Q,resolution:V,samples:ba,line:T,buffer:O,values:da}=N;N=H.x;H=H.y;m.setDimension(da.gridPosition,
x).multiplyScalar(N);m.setDimension(da.gridStep,x).multiplyScalar((H-N)*V);m.addOrigin(da.gridPosition,l,n);N=I.x;H=I.y;x=this._helpers.scale.generate(Q,O,N,H);m.setDimension(da.gridAxis,E);return T.geometry.clip(ba,x.length,1,1)},{axes:l,origin:n}=this.props,p=this._helpers.span.get("x.",l[0]),v=this._helpers.span.get("y.",l[1]),{lineX:w,lineY:z}=this.props;w&&h(l[0],l[1],p,v,this.axes[0]);z&&h(l[1],l[0],v,p,this.axes[+w]);window.cake1=this.axes[0].buffer;window.cake2=this.axes[1].buffer;window.cake3=
this.axes[0]}}g.Grid=c;c.initClass()};
shadow$provide[247]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Line=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(e,c,h){super(e,c,h);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),c=e.width,h=e.height,l=e.depth,n=e.items;this.line.geometry.clip(c,
h,l,n);return Array.from(this.arrows).map(p=>p.geometry.clip(c,h,l,n))}}make(){let e;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._shaders.shader();c=this.bind.points.sourceShader(c);c=this._helpers.position.pipeline(c);var h=this._helpers.style.uniforms(),l=this._helpers.line.uniforms(),n=this._helpers.arrow.uniforms(),p=this._inherit("unit").getUnitUniforms(),{start:v,end:w}=this.props,{stroke:z,join:x,
proximity:E,closed:H}=this.props;this.proximity=E;var I=this.bind.points.getDimensions(),N=I.width,Q=I.height,V=I.depth;I=I.items;this.bind.colors&&(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var ba=this._helpers.object.mask(),T=this._helpers.shade.pipeline()||!1;h=u.merge(n,l,h,p);this.line=this._renderables.make("line",{uniforms:h,samples:N,strips:Q,ribbons:V,layers:I,position:c,color:e,clip:v||w,stroke:z,join:x,proximity:E,closed:H,mask:ba,material:T});this.arrows=[];v&&this.arrows.push(this._renderables.make("arrow",
{uniforms:h,flip:!0,samples:N,strips:Q,ribbons:V,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));w&&this.arrows.push(this._renderables.make("arrow",{uniforms:h,samples:N,strips:Q,ribbons:V,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=
null}change(e,c,h){if(e["geometry.points"]||e["line.stroke"]||e["line.join"]||e["arrow.start"]||e["arrow.end"]||e["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}g.Line=m;m.initClass()};
shadow$provide[248]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Point=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style point geometry position bind shade".split(" ")}constructor(e,c,h){super(e,c,h);this.point=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),{items:c,width:h,height:l,depth:n}=e;return this.point.geometry.clip(h,l,n,
c)}}make(){let e,c;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"point.sizes",trait:"source"}]);if(null!=this.bind.points){var h=this._shaders.shader();h=this.bind.points.sourceShader(h);h=this._helpers.position.pipeline(h);var l=this.bind.points.getDimensions(),{items:n,width:p,height:v,depth:w}=l,z=this._helpers.style.uniforms(),x=this._helpers.point.uniforms(),E=this._inherit("unit").getUnitUniforms();this.bind.colors&&(e=this._shaders.shader(),
this.bind.colors.sourceShader(e));this.bind.sizes&&(c=this._shaders.shader(),this.bind.sizes.sourceShader(c));l=this._helpers.object.mask();var H=this._helpers.shade.pipeline()||!1,{shape:I}=this.props,{fill:N}=this.props,{optical:Q}=this.props;z=u.merge(E,x,z);this.point=this._renderables.make("point",{uniforms:z,width:p,height:v,depth:w,items:n,position:h,color:e,size:c,shape:I,optical:Q,fill:N,mask:l,material:H});this._helpers.visible.make();this._helpers.object.make([this.point])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();this.point=null}change(e,c,h){if(e["geometry.points"]||e["point.shape"]||e["point.fill"])return this.rebuild()}}g.Point=m;m.initClass()};
shadow$provide[249]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Strip=void 0;var m=u(y(197)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line mesh strip geometry position bind shade".split(" ")}constructor(h,l,n){super(h,l,n);this.strip=null}resize(){if(null!=this.bind.points){var h=this.bind.points.getActiveDimensions(),{items:l,width:n,height:p,depth:v}=
h;this.strip&&this.strip.geometry.clip(n,p,v,l);this.line&&this.line.geometry.clip(l,n,p,v);if(null!=this.bind.map&&(h=this.bind.map.getActiveDimensions(),this.strip))return this.strip.geometry.map(h.width,h.height,h.depth,h.items)}}make(){let h;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var l=this._shaders.shader();l=this.bind.points.sourceShader(l);l=this._helpers.position.pipeline(l);
var n=this._helpers.style.uniforms();var p=this._helpers.line.uniforms();var v=this._inherit("unit").getUnitUniforms(),{line:w,shaded:z,fill:x,stroke:E,join:H}=this.props,I={};I.styleZBias=this._attributes.make(this._types.number());this.wireZBias=I.styleZBias;var N=this.bind.points.getDimensions(),{items:Q,width:V,height:ba,depth:T}=N;this.bind.colors&&(h=this._shaders.shader(),h=this.bind.colors.sourceShader(h));N=this._helpers.object.mask();this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0);var O=this._helpers.shade.pipeline(),da=O||z;O=O||!1;var ea=[];if(w){const Aa=this._shaders.shader();Aa.pipe(m.swizzleVec4("yzwx"));Aa.pipe(l);p=e.merge(v,p,n,I);this.line=this._renderables.make("line",{uniforms:p,samples:Q,strips:V,ribbons:ba,layers:T,position:Aa,color:h,stroke:E,join:H,mask:N,material:O});ea.push(this.line)}x&&(p=e.merge(n,{}),this.strip=this._renderables.make("strip",{uniforms:p,width:V,height:ba,depth:T,items:Q,position:l,color:h,material:da}),ea.push(this.strip));this._helpers.visible.make();
return this._helpers.object.make(ea)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.strip=null}change(h,l,n){if(h["geometry.points"]||l.mesh)return this.rebuild();if(h["style.zBias"]||h["mesh.lineBias"]||n){const {fill:p,zBias:v,lineBias:w}=this.props;return this.wireZBias.value=v+(p?w:0)}}}g.Strip=c;c.initClass()};
shadow$provide[250]=function(ra,P,db,I){function A(h){if("function"!==typeof WeakMap)return null;var m=new WeakMap,x=new WeakMap;return(A=function(z){return z?x:m})(h)}Object.defineProperty(I,"__esModule",{value:!0});I.Surface=void 0;var J=function(h,m){if(!m&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((m=A(m))&&m.has(h))return m.get(h);var x={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in h)if("default"!==k&&Object.prototype.hasOwnProperty.call(h,
k)){var p=z?Object.getOwnPropertyDescriptor(h,k):null;p&&(p.get||p.set)?Object.defineProperty(x,k,p):x[k]=h[k]}x.default=h;m&&m.set(h,x);return x}(P(243)),r=P(99);ra=P(186);class w extends ra.Primitive{static initClass(){this.traits="node object visible style line mesh geometry surface position grid bind shade".split(" ");this.defaults={lineX:!1,lineY:!1}}constructor(h,m,x){super(h,m,x);this.lineX=this.lineY=this.surface=null}resize(){if(null!=this.bind.points){var h=this.bind.points.getActiveDimensions(),
{width:m,height:x,depth:z,items:k}=h;this.surface&&this.surface.geometry.clip(m,x,z,k);this.lineX&&this.lineX.geometry.clip(m,x,z,k);this.lineY&&this.lineY.geometry.clip(x,m,z,k);if(null!=this.bind.map&&(h=this.bind.map.getActiveDimensions(),this.surface))return this.surface.geometry.map(h.width,h.height,h.depth,h.items)}}make(){let h,m;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.normals",trait:"source"},{to:"mesh.map",trait:"source"}]);
if(null!=this.bind.points){var x=this._shaders.shader();x=this.bind.points.sourceShader(x);x=this._helpers.position.pipeline(x);var z=this._helpers.style.uniforms(),k=this._helpers.style.uniforms(),p=this._helpers.line.uniforms(),B=this._helpers.surface.uniforms(),t=this._inherit("unit").getUnitUniforms();k.styleColor=this._attributes.make(this._types.color());k.styleZBias=this._attributes.make(this._types.number());this.wireColor=k.styleColor.value;this.wireZBias=k.styleZBias;this.wireScratch=new r.Color;
var u=this.bind.points.getDimensions(),{width:C,height:F,depth:M,items:T}=u,{shaded:N,fill:W,lineX:ka,lineY:Y,closedX:H,closedY:qa,stroke:Ca,join:La,proximity:Oa,crossed:ea}=this.props;u=[];this.proximity=Oa;null!=this.bind.normals&&(m=this._shaders.shader(),this.bind.normals.sourceShader(m),this._helpers.shade.normal(m));null!=this.bind.colors&&(h=this._shaders.shader(),this.bind.colors.sourceShader(h));var kb=this._helpers.object.mask(),zb=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),Va=this._helpers.shade.pipeline(),Pa=Va||N;Va=Va||!1;var {swizzle:ja,swizzle2:jb}=this._helpers.position;k=J.merge(t,p,z,k);p=ka||Y?-50:0;ka&&(this.lineX=this._renderables.make("line",{uniforms:k,samples:C,strips:F,ribbons:M,layers:T,position:x,color:h,normal:m,zUnits:-p,stroke:Ca,join:La,mask:kb,material:Va,proximity:Oa,closed:H||closed}),u.push(this.lineX));Y&&(this.lineY=this._renderables.make("line",{uniforms:k,samples:F,strips:C,ribbons:M,layers:T,position:jb(x,"yxzw","yxzw"),color:ja(h,
"yxzw"),zUnits:-p,stroke:Ca,join:La,mask:ja(kb,ea?"xyzw":"yxzw"),material:Va,proximity:Oa,closed:qa||closed}),u.push(this.lineY));W&&(k=J.merge(t,B,z),this.surface=this._renderables.make("surface",{uniforms:k,width:C,height:F,surfaces:M,layers:T,position:x,color:h,zUnits:p,stroke:Ca,material:Pa,mask:kb,map:zb,intUV:!0,closedX:H||closed,closedY:qa||closed}),u.push(this.surface));this._helpers.visible.make();return this._helpers.object.make(u)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.lineX=this.lineY=this.surface=null}_convertGammaToLinear(h,m=2){h.r=Math.pow(h.r,m);h.g=Math.pow(h.g,m);h.b=Math.pow(h.b,m);return h}_convertLinearToGamma(h,m=2){m=0<m?1/m:1;h.r=Math.pow(h.r,m);h.g=Math.pow(h.g,m);h.b=Math.pow(h.b,m);return h}change(h,m,x){if(h["geometry.points"]||h["mesh.shaded"]||h["mesh.fill"]||h["line.stroke"]||h["line.join"]||m.grid)return this.rebuild();if(h["style.color"]||h["style.zBias"]||h["mesh.fill"]||
h["mesh.lineBias"]||x){const {fill:z,color:k,zBias:p,lineBias:B}=this.props;this.wireZBias.value=p+(z?B:0);this.wireColor.copy(k);z&&(m=this.wireScratch,m.setRGB(k.r,k.g,k.b),this._convertLinearToGamma(this._convertGammaToLinear(m).multiplyScalar(.75)),this.wireColor.r=m.r,this.wireColor.g=m.g,this.wireColor.b=m.b)}if(h["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}I.Surface=w;w.initClass()};
shadow$provide[251]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Ticks=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style line ticks geometry position bind shade".split(" ")}init(){return this.tickStrip=this.line=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),c=+(0<e.items),h=e.width*c;this.line.geometry.clip(2,h,e.height*c,e.depth*
c);return this.tickStrip.set(0,h-1)}}make(){let e;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._helpers.style.uniforms();var h=this._helpers.line.uniforms(),l=this._inherit("unit").getUnitUniforms();h=u.merge(h,c,l);l={tickEpsilon:this.node.attributes["ticks.epsilon"],tickSize:this.node.attributes["ticks.size"],tickNormal:this.node.attributes["ticks.normal"],tickStrip:this._attributes.make(this._types.vec2(0,
0)),worldUnit:h.worldUnit,focusDepth:h.focusDepth};this.tickStrip=l.tickStrip.value;var n=c=this._shaders.shader();n.require(this.bind.points.sourceShader(this._shaders.shader()));n.require(this._helpers.position.pipeline(this._shaders.shader()));n.pipe("ticks.position",l);var {stroke:p,join:v}=this.props,w=this.bind.points.getDimensions();l=w.width;n=w.height;w=w.depth;this.bind.colors&&(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var z=this._helpers.object.mask(),x=this._helpers.shade.pipeline()||
!1,{swizzle:E}=this._helpers.position;this.line=this._renderables.make("line",{uniforms:h,samples:2,strips:l,ribbons:n,layers:w,position:c,color:e,stroke:p,join:v,mask:E(z,"yzwx"),material:x});this._helpers.visible.make();return this._helpers.object.make([this.line])}}made(){return this.resize()}unmake(){this.line=null;this._helpers.visible.unmake();return this._helpers.object.unmake()}change(e,c,h){if(e["geometry.points"]||e["line.stroke"]||e["line.join"])return this.rebuild()}}g.Ticks=m;m.initClass()};
shadow$provide[252]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Vector=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(e,c,h){super(e,c,h);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),c=e.items,h=e.width,l=e.height,n=e.depth;this.line.geometry.clip(c,
h,l,n);return Array.from(this.arrows).map(p=>p.geometry.clip(c,h,l,n))}}make(){let e;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._shaders.shader();this.bind.points.sourceShader(c);this._helpers.position.pipeline(c);var h=this._helpers.style.uniforms(),l=this._helpers.line.uniforms(),n=this._helpers.arrow.uniforms(),p=this._inherit("unit").getUnitUniforms(),{start:v,end:w}=this.props,{stroke:z,join:x,proximity:E,
closed:H}=this.props;this.proximity=E;var I=this.bind.points.getDimensions(),N=I.items,Q=I.width,V=I.height;I=I.depth;this.bind.colors&&(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var ba=this._helpers.object.mask(),T=this._helpers.shade.pipeline()||!1,{swizzle:O,swizzle2:da}=this._helpers.position;c=da(c,"yzwx","yzwx");e=O(e,"yzwx");ba=O(ba,"yzwx");T=O(T,"yzwx");h=u.merge(n,l,h,p);this.line=this._renderables.make("line",{uniforms:h,samples:N,ribbons:V,strips:Q,layers:I,position:c,
color:e,clip:v||w,stroke:z,join:x,proximity:E,closed:H,mask:ba,material:T});this.arrows=[];v&&this.arrows.push(this._renderables.make("arrow",{uniforms:h,flip:!0,samples:N,ribbons:V,strips:Q,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));w&&this.arrows.push(this._renderables.make("arrow",{uniforms:h,samples:N,ribbons:V,strips:Q,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=null}change(e,c,h){if(e["geometry.points"]||e["line.stroke"]||e["line.join"]||e["arrow.start"]||e["arrow.end"]||e["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}g.Vector=m;m.initClass()};
shadow$provide[253]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(244);Object.keys(A).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===A[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return A[v]}}))});var u=y(245);Object.keys(u).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===u[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return u[v]}}))});var m=y(246);Object.keys(m).forEach(function(v){"default"!==
v&&"__esModule"!==v&&(v in g&&g[v]===m[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return m[v]}}))});var e=y(247);Object.keys(e).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===e[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return e[v]}}))});var c=y(248);Object.keys(c).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===c[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return c[v]}}))});var h=y(249);Object.keys(h).forEach(function(v){"default"!==
v&&"__esModule"!==v&&(v in g&&g[v]===h[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return h[v]}}))});var l=y(250);Object.keys(l).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===l[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return l[v]}}))});var n=y(251);Object.keys(n).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===n[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return n[v]}}))});var p=y(252);Object.keys(p).forEach(function(v){"default"!==
v&&"__esModule"!==v&&(v in g&&g[v]===p[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return p[v]}}))})};
shadow$provide[254]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.HTML=void 0;G=y(238);class A extends G.Voxel{static initClass(){this.traits="node buffer active data voxel html".split(" ");this.finals={channels:1}}init(){super.init();this.storage="pushBuffer"}make(){super.make();const {items:u,width:m,height:e,depth:c}=this.getDimensions();this.dom=this._overlays.make("dom");return this.dom.hint(u*m*e*c)}unmake(){super.unmake();if(null!=this.dom)return this.dom.dispose(),this.dom=
null}update(){return super.update()}change(u,m,e){return m.html?this.rebuild():super.change(u,m,e)}nodes(){return this.buffer.read()}callback(u){const {el:m}=this.dom;return 6>=u.length?(e,c,h,l,n)=>u(e,m,c,h,l,n):(e,c,h,l,n)=>u(e,m,c,h,l,n,this.bufferClock,this.bufferStep)}}g.HTML=A;A.initClass()};
shadow$provide[255]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.DOM=void 0;G=y(186);class A extends G.Primitive{static initClass(){this.traits="node bind object visible overlay dom attach position".split(" ")}init(){this.emitter=this.root=null;this.active={}}make(){super.make();this._helpers.bind.make([{to:"dom.html",trait:"html"},{to:"dom.points",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.html){this.root=this._inherit("root");this._listen("root","root.update",
this.update);this._listen("root","root.post",this.post);var u=this.bind.points.getDimensions(),m=this.bind.html.getDimensions(),e=Math.min(u.items,m.items),c=Math.min(u.width,m.width),h=Math.min(u.height,m.height);u=Math.min(u.depth,m.depth);m=this.bind.points.sourceShader(this._shaders.shader());m=this._helpers.position.pipeline(m);var l=this._shaders.shader({globals:["projectionMatrix"]});l.pipe("project.readback");m.pipe(l);l=this._shaders.shader();this.readback=this._renderables.make("readback",
{map:m,indexer:l,items:e,width:c,height:h,depth:u,channels:4,stpq:!0});this.dom=this._overlays.make("dom");this.dom.hint(e*c*h*u*2);this.emitter=this.callback(this.bind.html.nodes());this.readback.setCallback(this.emitter);this._helpers.visible.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.dom.dispose(),this.emitter=this.root=this.readback=this.dom=null,this.active={});this._helpers.bind.unmake();this._helpers.visible.unmake()}update(){null!=this.readback&&this.props.visible&&
(this.readback.update(null!=this.root?this.root.getCamera():void 0),this.readback.post(),this.readback.iterate())}post(){null!=this.readback&&this.dom.render(this.isVisible?this.emitter.nodes():null)}callback(u){let m,e;var c=this._inherit("unit").getUnitUniforms();const h=c.viewWidth,l=c.viewHeight,n=this.node.attributes["dom.attributes"],p=this.node.attributes["dom.size"],v=this.node.attributes["dom.zoom"],w=this.node.attributes["dom.color"],z=this.node.attributes["dom.outline"],x=this.node.attributes["dom.pointerEvents"],
E=this.node.attributes["overlay.opacity"],H=this.node.attributes["overlay.zIndex"],I=this.node.attributes["attach.offset"],N=this.node.attributes["attach.depth"],Q=this.node.attributes["attach.snap"],{el:V}=this.dom;let ba=[],T=null,O=null,da=m=e=0,ea="";c=function(Aa,Ea,qa,jb,va,Ga,Da,Oa){qa=u[Oa+da*va+m*Ga+e*Da];va=0>jb;Ga=1+(1/jb-1)*N.value;Ga=va?0:Ga;Aa=(Aa+1)*h.value*.5+ +I.value.x*Ga;Ea=(Ea-1)*l.value*.5+ +I.value.y*Ga;Aa/=v.value;Ea/=v.value;Q.value&&(Aa=Math.round(Aa),Ea=Math.round(Ea));Ea=
{className:O,style:{transform:`translate3d(${Aa}px, ${-Ea}px, ${1-jb}px) translate(-50%, -50%) scale(${Ga},${Ga})`,opacity:Math.min(.999,va?0:E.value)}};for(Da in T)jb=T[Da],Ea.style[Da]=jb;Aa=n.value;if(null!=Aa){va=Aa.style;for(Da in Aa)jb=Aa[Da],["style","className"].includes(Da)||(Ea[Da]=jb);if(null!=va)for(Da in va)jb=va[Da],Ea.style[Da]=jb}Ea.className+=" "+(null!=(null!=Aa?Aa.className:void 0)?null!=Aa?Aa.className:void 0:"mathbox-label");return ba.push(V("div",Ea,qa))};c.reset=()=>{ba=[];
[da,m,e]=Array.from([this.strideI,this.strideJ,this.strideK]);const Aa=w.value;ea=Aa?`rgb(${[Math.floor(255*Aa.x),Math.floor(255*Aa.y),Math.floor(255*Aa.z)]})`:"";O=`mathbox-outline-${Math.round(z.value)}`;T={};Aa&&(T.color=ea);T.fontSize=`${p.value}px`;1!==v.value&&(T.zoom=v.value);0<H.value&&(T.zIndex=H.value);if(x.value)return T.pointerEvents="auto"};c.nodes=()=>ba;return c}resize(){if(null!=this.readback){var u=this.bind.points.getActiveDimensions();var m=this.bind.html.getActiveDimensions();
this.readback.setActive(Math.min(u.items,m.items),Math.min(u.width,m.width),Math.min(u.height,m.height),Math.min(u.depth,m.depth));this.strideI=u=m.items;this.strideJ=u*=m.width;this.strideK=u*m.height}}change(u,m,e){if(u["dom.html"]||u["dom.points"])return this.rebuild()}}g.DOM=A;A.initClass()};
shadow$provide[256]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(254);Object.keys(A).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===A[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return A[m]}}))});var u=y(255);Object.keys(u).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===u[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return u[m]}}))})};
shadow$provide[257]=function(ra,P,db,I){function A(m){if("function"!==typeof WeakMap)return null;var x=new WeakMap,z=new WeakMap;return(A=function(k){return k?z:x})(m)}Object.defineProperty(I,"__esModule",{value:!0});I.Text=void 0;var J=function(m,x){if(!x&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((x=A(x))&&x.has(m))return x.get(m);var z={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in m)if("default"!==p&&Object.prototype.hasOwnProperty.call(m,
p)){var B=k?Object.getOwnPropertyDescriptor(m,p):null;B&&(B.get||B.set)?Object.defineProperty(z,p,B):z[p]=m[p]}z.default=m;x&&x.set(m,z);return z}(P(196)),r=P(99),w=P(200);ra=P(238);class h extends ra.Voxel{static initClass(){this.traits="node buffer active data texture voxel text font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"};this.finals={channels:1}}init(){super.init();return this.atlas=null}textShader(m){return this.atlas.shader(m)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){let {minFilter:m,
magFilter:x,type:z}=this.props;const {font:k,style:p,variant:B,weight:t,detail:u,sdf:C}=this.props;this.atlas=this._renderables.make("textAtlas",{font:k,size:u,style:p,variant:B,weight:t,outline:C,minFilter:m,magFilter:x,type:z});this.magFilter=this.minFilter=r.NearestFilter;this.type=r.FloatType;w.Buffer.prototype.make.call(this);m=null!=this.minFilter?this.minFilter:this.props.minFilter;x=null!=this.magFilter?this.magFilter:this.props.magFilter;z=null!=this.type?this.type:this.props.type;var {width:F}=
this.props,{height:M}=this.props;const {depth:T}=this.props,N=this.props.bufferWidth,W=this.props.bufferHeight,ka=this.props.bufferDepth,{channels:Y}=this.props,{items:H}=this.props;F=this.spec={channels:Y,items:H,width:F,height:M,depth:T};this.items=F.items;this.channels=F.channels;({data:M}=this.props);F=J.getDimensions(M,F);({space:M}=this);M.width=Math.max(N,F.width||1);M.height=Math.max(W,F.height||1);M.depth=Math.max(ka,F.depth||1);this.buffer=this._renderables.make(this.storage,{width:M.width,
height:M.height,depth:M.depth,channels:4,items:H,minFilter:m,magFilter:x,type:z});const {atlas:qa}=this,{emit:Ca}=this.buffer.streamer;return this.buffer.streamer.emit=La=>qa.map(La,Ca)}unmake(){super.unmake();if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){this.atlas.begin();super.update();return this.atlas.end()}change(m,x,z){return x.font?this.rebuild():super.change(m,x,z)}}I.Text=h;h.initClass()};
shadow$provide[258]=function(G,y,X,g){function A(m,e,c){if("undefined"!==typeof m&&null!==m&&"function"===typeof m[e])return c(m,e)}Object.defineProperty(g,"__esModule",{value:!0});g.Operator=void 0;G=y(198);class u extends G.Source{static initClass(){this.traits=["node","bind","operator","source","index"]}indexShader(m){return A(this.bind.source,"indexShader",e=>e.indexShader(m))}sourceShader(m){return A(this.bind.source,"sourceShader",e=>e.sourceShader(m))}getDimensions(){return this.bind.source.getDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}init(){return this.sourceSpec=
[{to:"operator.source",trait:"source",optional:!0}]}make(){super.make();return this._helpers.bind.make(this.sourceSpec)}made(){this.resize();return super.made()}unmake(){return this._helpers.bind.unmake()}resize(m){return this.trigger({type:"source.resize"})}}g.Operator=u;u.initClass()};
shadow$provide[259]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Format=void 0;var A=P(99);ra=P(258);class J extends ra.Operator{static initClass(){this.traits="node bind operator texture text format font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"}}init(){super.init();this.atlas=this.buffer=this.used=this.time=null;return this.filled=!1}sourceShader(r){return this.buffer.shader(r)}textShader(r){return this.atlas.shader(r)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){this._helpers.bind.make([{to:"operator.source",
trait:"raw"}]);let {minFilter:r,magFilter:w,type:h}=this.props;const {font:m,style:x,variant:z,weight:k,detail:p,sdf:B}=this.props;this.atlas=this._renderables.make("textAtlas",{font:m,size:p,style:x,variant:z,weight:k,outline:B,minFilter:r,magFilter:w,type:h});w=r=A.NearestFilter;h=A.FloatType;const t=this.bind.source.getDimensions(),{items:u,width:C,height:F,depth:M}=t;this.buffer=this._renderables.make("voxelBuffer",{width:C,height:F,depth:M,channels:4,items:u,minFilter:r,magFilter:w,type:h});
const {atlas:T}=this,{emit:N}=this.buffer.streamer;this.buffer.streamer.emit=W=>T.map(W,N);this.clockParent=this._inherit("clock");return this._listen("root","root.update",this.update)}made(){super.made();return this.resize()}unmake(){super.unmake();this.buffer&&(this.buffer.dispose(),this.buffer=null);if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){if((!this.filled||this.props.live)&&this.through){this.time=this.clockParent.getTime();var {used:r}=this;this.atlas.begin();this.used=
this.through();this.buffer.write(this.used);this.atlas.end();this.filled=!0;if(r!==this.used)return this.trigger({type:"source.resize"})}}change(r,w,h){if(w.font)return this.rebuild();if(r["format.expr"]||r["format.digits"]||r["format.data"]||h){let {expr:m}=this.props;const {digits:x,data:z}=this.props;null==m&&(m=null!=z?(k,p,B,t,u)=>z[u]:k=>k);({length:r}=m);null!=x&&(m=(k=>(p,B,t,u,C,F,M,T,N,W)=>+k(p,B,t,u,C,F,M,T,N,W).toPrecision(x))(m));r=8<r?(k,p,B,t,u,C,F,M,T,N,W)=>k(m(p,B,t,u,C,F,M,T,this.time.clock,
this.time.step)):(k,p,B,t,u,C,F,M,T)=>k(m(p,B,t,u,C,F,M,T));return this.through=this.bind.source.rawBuffer().through(r,this.buffer)}}}I.Format=J;J.initClass()};
shadow$provide[260]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Label=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node bind object visible style label attach geometry position".split(" ")}make(){let e;super.make();this._helpers.bind.make([{to:"label.text",trait:"text"},{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.text){var c=
this.bind.points.getDimensions(),h=this.bind.text.getDimensions(),l=this.bind.text.textIsSDF(),n=Math.min(c.items,h.items),p=Math.min(c.width,h.width),v=Math.min(c.height,h.height);c=Math.min(c.depth,h.depth);h=this.bind.points.sourceShader(this._shaders.shader());h=this._helpers.position.pipeline(h);var w=this.bind.text.sourceShader(this._shaders.shader()),z=this._shaders.shader().pipe("label.map");z.pipe(this.bind.text.textShader(this._shaders.shader()));var x={spriteDepth:this.node.attributes["attach.depth"],
spriteOffset:this.node.attributes["attach.offset"],spriteSnap:this.node.attributes["attach.snap"],spriteScale:this._attributes.make(this._types.number()),outlineStep:this._attributes.make(this._types.number()),outlineExpand:this._attributes.make(this._types.number()),outlineColor:this.node.attributes["label.background"]};this.spriteScale=x.spriteScale;this.outlineStep=x.outlineStep;this.outlineExpand=x.outlineExpand;l=l?"label.outline":"label.alpha";l=this._shaders.shader().pipe(l,x);this.bind.colors&&
(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var E=this._helpers.object.mask(),H=this._helpers.style.uniforms(),I=this._inherit("unit").getUnitUniforms();x=u.merge(I,H,x);this.sprite=this._renderables.make("sprite",{uniforms:x,width:p,height:v,depth:c,items:n,position:h,sprite:w,map:z,combine:l,color:e,mask:E,linear:!0});this._helpers.visible.make();return this._helpers.object.make([this.sprite])}}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();
return this.sprite=null}resize(){const e=this.bind.points.getActiveDimensions(),c=this.bind.text.getActiveDimensions();return this.sprite.geometry.clip(Math.min(e.width,c.width),Math.min(e.height,c.height),Math.min(e.depth,c.depth),Math.min(e.items,c.items))}change(e,c,h){if(c.geometry||e["label.text"])return this.rebuild();if(null!=this.bind.points){({size:h}=this.props);({outline:e}=this.props);({expand:c}=this.props);var l=this.bind.text.textHeight();h/=l;this.outlineExpand.value=c/h*16/255;this.outlineStep.value=
e/h*16/255;return this.spriteScale.value=h}}}g.Label=m;m.initClass()};
shadow$provide[261]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Resample=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index resample sampler:x sampler:y sampler:z sampler:w include".split(" ")}indexShader(e){e.pipe(this.indexer);return super.indexShader(e)}sourceShader(e){return e.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){const c=
this.resampled,h=this.centered,l=this.padding;this.relativeSize?(h.items||e.items--,h.width||e.width--,h.height||e.height--,h.depth||e.depth--,null!=c.items&&(e.items*=c.items),null!=c.width&&(e.width*=c.width),null!=c.height&&(e.height*=c.height),null!=c.depth&&(e.depth*=c.depth),h.items||e.items++,h.width||e.width++,h.height||e.height++,h.depth||e.depth++,e.items-=2*l.items,e.width-=2*l.width,e.height-=2*l.height,e.depth-=2*l.depth):(null!=c.items&&(e.items=c.items),null!=c.width&&(e.width=c.width),
null!=c.height&&(e.height=c.height),null!=c.depth&&(e.depth=c.depth));e.items=Math.max(0,Math.floor(e.items));e.width=Math.max(0,Math.floor(e.width));e.height=Math.max(0,Math.floor(e.height));e.depth=Math.max(0,Math.floor(e.depth));return e}make(){super.make();if(null!=this.bind.source){this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}]);var {indices:e,channels:c}=this.props,{shader:h}=this.bind,{sample:l,size:n,items:p,width:v,height:w,depth:z}=this.props,x=l===this.node.attributes["resample.sample"].enum.relative,
E=n===this.node.attributes["resample.size"].enum.relative;this.resampled={};null!=p&&(this.resampled.items=p);null!=v&&(this.resampled.width=v);null!=w&&(this.resampled.height=w);null!=z&&(this.resampled.depth=z);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=
this.props.paddingY;this.padding.depth=this.props.paddingZ;var H=this._shaders.shader(),I=this._shaders.shader(),N=[null,this._types.number,this._types.vec2,this._types.vec3,this._types.vec4][e];N={dataSize:this._attributes.make(N(0,0,0,0)),dataResolution:this._attributes.make(N(0,0,0,0)),targetSize:this._attributes.make(N(0,0,0,0)),targetResolution:this._attributes.make(N(0,0,0,0)),resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,
0,0,0))};this.dataResolution=N.dataResolution;this.dataSize=N.dataSize;this.targetResolution=N.targetResolution;this.targetSize=N.targetSize;this.resampleFactor=N.resampleFactor;this.resampleBias=N.resampleBias;var Q=null!=p||null!=v||null!=w||null!=z;H.pipe("resample.padding",N);var V=[],ba=!1,T=["width","height","depth","items"];for(let O=0;O<T.length;O++){const da=this.centered[T[O]];ba||(ba=da);V[O]=da?"0.5":"0.0"}ba&&(V=`vec4(${V})`,H.pipe(u.binaryOperator(4,"+",V)),Q&&I.pipe(u.binaryOperator(4,
"+",V)));x&&(Q?(H.pipe("resample.relative",N),I.pipe("resample.relative",N)):I.pipe(u.identity("vec4")));null!=h?(4!==e&&H.pipe(u.truncateVec(4,e)),H.callback(),4!==e&&H.pipe(u.extendVec(e,4)),ba&&H.pipe(u.binaryOperator(4,"-",V)),H.pipe(this.bind.source.sourceShader(this._shaders.shader())),4!==c&&H.pipe(u.truncateVec(4,c)),H.join(),null!=this.bind.shader&&H.pipe(this.bind.shader.shaderBind(N)),4!==c&&H.pipe(u.extendVec(c,4))):(ba&&H.pipe(u.binaryOperator(4,"-",V)),H.pipe(this.bind.source.sourceShader(this._shaders.shader())));
ba&&Q&&I.pipe(u.binaryOperator(4,"-",V));this.operator=H;this.indexer=I;this.indices=e;this.relativeSample=x;return this.relativeSize=E}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var e=this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),h=H=>{const I=this.centered[H],N=this.padding[H];c[H]+=2*N;return[I?e[H]/Math.max(1,c[H]):Math.max(1,e[H]-1)/Math.max(1,c[H]-1),N]},[l,n]=Array.from(h("width")),[p,v]=Array.from(h("height")),[w,z]=Array.from(h("depth")),
[x,E]=Array.from(h("items"));1===this.indices?(this.dataResolution.value=1/e.width,this.targetResolution.value=1/c.width,this.dataSize.value=e.width,this.targetSize.value=c.width):(this.dataResolution.value.set(1/e.width,1/e.height,1/e.depth,1/e.items),this.targetResolution.value.set(1/c.width,1/c.height,1/c.depth,1/c.items),this.dataSize.value.set(e.width,e.height,e.depth,e.items),this.targetSize.value.set(c.width,c.height,c.depth,c.items));this.resampleFactor.value.set(l,p,w,x);this.resampleBias.value.set(n,
v,z,E);return super.resize()}}change(e,c,h){if(c.operator||c.resample||c.sampler||c.include)return this.rebuild()}}g.Resample=m;m.initClass()};
shadow$provide[262]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Retext=void 0;G=y(261);class A extends G.Resample{static initClass(){this.traits="node bind operator resample sampler:x sampler:y sampler:z sampler:w include text".split(" ")}init(){return this.sourceSpec=[{to:"operator.source",trait:"text"}]}textShader(u){return this.bind.source.textShader(u)}textIsSDF(){return 0<(null!=this.bind.source?this.bind.source.props.sdf:void 0)}textHeight(){return null!=this.bind.source?
this.bind.source.props.detail:void 0}}g.Retext=A;A.initClass()};
shadow$provide[263]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(257);Object.keys(A).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===A[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return A[c]}}))});var u=y(259);Object.keys(u).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===u[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return u[c]}}))});var m=y(260);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in g&&g[c]===m[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return m[c]}}))});var e=y(262);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[264]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Clock=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","clock","seek","play"]}init(){this.last=this.skew=0;return this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}make(){return this._listen("clock","clock.tick",this.tick)}reset(){return this.skew=0}tick(u){const {from:m,to:e,speed:c,seek:h,pace:l,delay:n,realtime:p}=this.props,v=this._inherit("clock").getTime(),w=p?v.time:
v.clock,z=p?v.delta:v.step,x=c/l;this.skew+=z*(x-1);this.last>w&&(this.skew=0);this.time.now=v.now+this.skew;this.time.time=v.time;this.time.delta=v.delta;this.time.clock=Math.min(e,m+Math.max(0,(null!=h?h:v.clock+this.skew)-n*x));this.time.step=z*x;this.last=w;return this.trigger(u)}getTime(){return this.time}}g.Clock=A;A.initClass()};
shadow$provide[265]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Now=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","clock","now"]}init(){let u;this.now=u=+new Date/1E3;this.skew=0;return this.time={now:u,time:0,delta:0,clock:0,step:0}}make(){this.clockParent=this._inherit("clock");return this._listen("clock","clock.tick",this.tick)}unmake(){return this.clockParent=null}change(u,m,e){if(u["date.now"])return this.skew=0}tick(u){const {seek:m,
pace:e,speed:c}=this.props,h=this.clockParent.getTime();this.skew+=h.step*e/c;null!=m&&(this.skew=m);this.time.now=this.time.time=this.time.clock=(null!=this.props.now?this.props.now:this.now)+this.skew;this.time.delta=this.time.step=h.delta;return this.trigger(u)}getTime(){return this.time}}g.Now=A;A.initClass()};
shadow$provide[266]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(264);Object.keys(A).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===A[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return A[m]}}))});var u=y(265);Object.keys(u).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===u[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return u[m]}}))})};
shadow$provide[267]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Transform=void 0;G=y(187);class u extends G.Parent{static initClass(){this.traits=["node","vertex","fragment"]}vertex(m,e){let c;return null!=(c=A(this._inherit("vertex"),h=>h.vertex(m,e)))?c:m}fragment(m,e){let c;return null!=(c=A(this._inherit("fragment"),h=>h.fragment(m,e)))?c:m}}g.Transform=u;u.initClass()};
shadow$provide[268]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Transform3=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(193));G=y(267);class m extends G.Transform{static initClass(){this.traits=["node","vertex","transform3"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4())};return this.composer=u.transformComposer()}unmake(){return delete this.uniforms}change(e,c,h){if(e["transform3.pass"])return this.rebuild();if(c.transform3||h)return this.uniforms.transformMatrix.value=
this.composer(this.props.position,this.props.rotation,this.props.quaternion,this.props.scale,this.props.matrix,this.props.eulerOrder)}vertex(e,c){c===this.props.pass&&e.pipe("transform3.position",this.uniforms);return super.vertex(e,c)}}g.Transform3=m;m.initClass()};
shadow$provide[269]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Transform4=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","vertex","transform4"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4()),transformOffset:this.node.attributes["transform4.position"]};return this.transformMatrix=this.uniforms.transformMatrix.value}unmake(){return delete this.uniforms}change(u,m,e){if(u["transform4.pass"])return this.rebuild();
if(m.transform4||e)return u=this.props.scale,m=this.transformMatrix,m.copy(this.props.matrix),m.scale(u)}vertex(u,m){m===this.props.pass&&u.pipe("transform4.position",this.uniforms);return super.vertex(u,m)}}g.Transform4=A;A.initClass()};
shadow$provide[270]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Vertex=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","include","vertex","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(u,m,e){if(m.include)return this.rebuild()}vertex(u,m){null!=this.bind.shader&&m===this.props.pass&&u.pipe(this.bind.shader.shaderBind());return super.vertex(u,
m)}}g.Vertex=A;A.initClass()};
shadow$provide[271]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Fragment=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","include","fragment","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(u,m,e){if(m.include||u["fragment.gamma"])return this.rebuild()}fragment(u,m){null!=this.bind.shader&&m===this.props.pass&&(this.props.gamma&&u.pipe("mesh.gamma.out"),
u.pipe(this.bind.shader.shaderBind()),u.split(),this.props.gamma&&u.pipe("mesh.gamma.in"),u.pass());return super.fragment(u,m)}}g.Fragment=A;A.initClass()};
shadow$provide[272]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Layer=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","vertex","layer"]}make(){this._listen("root","root.resize",this.update);return this.uniforms={layerScale:this._attributes.make(this._types.vec4()),layerBias:this._attributes.make(this._types.vec4())}}update(){var u=this._inherit("root").getCamera();const m=null!=u.aspect?u.aspect:1;u=Math.tan((null!=u.fov?u.fov:1)*Math.PI/
360);const e=this.node.attributes["layer.fit"].enum;let {fit:c}=this.props;const {depth:h}=this.props;switch(c){case e.contain:c=1<m?e.y:e.x;break;case e.cover:c=1<m?e.x:e.y}switch(c){case e.x:this.uniforms.layerScale.value.set(u*m,u*m,1,1);break;case e.y:this.uniforms.layerScale.value.set(u,u,1,1)}return this.uniforms.layerBias.value.set(0,0,-h,0)}change(u,m,e){if(u["layer.fit"]||u["layer.depth"]||e)return this.update()}vertex(u,m){return 2===m?u.pipe("layer.position",this.uniforms):3===m?u.pipe("root.position"):
u}}g.Layer=A;A.initClass()};
shadow$provide[273]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){return"undefined"!==typeof c&&null!==c?h(c):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Mask=void 0;var m=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,
p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(197));G=y(187);class e extends G.Parent{static initClass(){this.traits=["node","include","mask","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(c,h,l){if(h.include)return this.rebuild()}mask(c){let h,
l;null!=this.bind.shader?c?(l=this._shaders.shader(),l.pipe(m.identity("vec4")),l.fan(),l.pipe(c),l.next(),l.pipe(this.bind.shader.shaderBind()),l.end(),l.pipe("float combine(float a, float b) { return min(a, b); }")):(l=this._shaders.shader(),l.pipe(this.bind.shader.shaderBind())):l=c;return null!=(h=u(this._inherit("mask"),n=>n.mask(l)))?h:l}}g.Mask=e;e.initClass()};
shadow$provide[274]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(267);Object.keys(A).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===A[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return A[n]}}))});var u=y(268);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===u[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return u[n]}}))});var m=y(269);Object.keys(m).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===m[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return m[n]}}))});var e=y(270);Object.keys(e).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===e[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return e[n]}}))});var c=y(271);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===c[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return c[n]}}))});var h=y(272);Object.keys(h).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===h[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return h[n]}}))});var l=y(273);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===l[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return l[n]}}))})};
shadow$provide[275]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Clamp=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index clamp".split(" ")}indexShader(u){u.pipe(this.operator);return super.indexShader(u)}sourceShader(u){u.pipe(this.operator);return super.sourceShader(u)}make(){super.make();if(null!=this.bind.source){var u={clampLimit:this._attributes.make(this._types.vec4())};this.clampLimit=u.clampLimit;var m=this._shaders.shader();
m.pipe("clamp.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const u=this.bind.source.getActiveDimensions();this.clampLimit.value.set(u.width-1,u.height-1,u.depth-1,u.items-1)}return super.resize()}change(u,m,e){if(m.operator||m.clamp)return this.rebuild()}}g.Clamp=A;A.initClass()};
shadow$provide[276]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Grow=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index grow".split(" ")}sourceShader(u){return u.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var u={growScale:this.node.attributes["grow.scale"],growMask:this._attributes.make(this._types.vec4()),growAnchor:this._attributes.make(this._types.vec4())};this.growMask=u.growMask.value;this.growAnchor=
u.growAnchor.value;var m=this._shaders.shader();m.require(this.bind.source.sourceShader(this._shaders.shader()));m.pipe("grow.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){const u=this.bind.source.getFutureDimensions(),m=["width","height","depth","items"];return(()=>{const e=[];for(let c=0;c<m.length;c++){const h=m[c],l=this.props[h];this.growMask.setComponent(c,+(null==l));e.push(this.growAnchor.setComponent(c,null!=l?((u[h]||
1)-1)*(.5-.5*l):0))}return e})()}change(u,m,e){if(m.operator)return this.rebuild();if(m.grow)return this.update()}}g.Grow=A;A.initClass()};
shadow$provide[277]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Join=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index join".split(" ")}indexShader(e){e.pipe(this.operator);return super.indexShader(e)}sourceShader(e){e.pipe(this.operator);return super.sourceShader(e)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){var c;
let h;const {order:l,axis:n,stride:p}=this,v=["width","height","depth","items"],w=l.map(H=>v[H-1]);var z=l.indexOf(n);let x=(()=>{const H=[];for(h of Array.from(w))H.push(e[h]);return H})();const E=(null!=(c=x[z+1])?c:1)*p;x.splice(z,2,E);x=x.slice(0,3);x.push(1);c={};for(z=0;z<w.length;z++)h=w[z],c[h]=x[z];return c}make(){super.make();if(null!=this.bind.source){var {order:e}=this.props,{axis:c}=this.props,{overlap:h}=this.props,l=e.join("");null==c&&(c=e[0]);var n=l.indexOf(c);l=l.replace(c,"00").substring(0,
4);var p=[null,"width","height","depth","items"][c];p=this.bind.source.getDimensions()[p];h=Math.min(p-1,h);var v=p-h,w={joinStride:this._attributes.make(this._types.number(v)),joinStrideInv:this._attributes.make(this._types.number(1/v))},z=this._shaders.shader();z.require(u.swizzleVec4(c,1));z.require(u.swizzleVec4(l,4));z.require(u.injectVec4([n,n+1]));z.pipe("join.position",w);z.pipe(u.invertSwizzleVec4(e));this.operator=z;this.order=e;this.axis=c;this.overlap=h;this.length=p;return this.stride=
v}}unmake(){return super.unmake()}change(e,c,h){if(c.join||c.operator)return this.rebuild()}}g.Join=m;m.initClass()};
shadow$provide[278]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Lerp=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index lerp sampler:x sampler:y sampler:z sampler:w".split(" ")}indexShader(e){e.pipe(this.indexer);return super.indexShader(e)}sourceShader(e){return e.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){const c=
this.resampled,h=this.centered,l=this.padding;this.relativeSize?(h.items||e.items--,h.width||e.width--,h.height||e.height--,h.depth||e.depth--,null!=c.items&&(e.items*=c.items),null!=c.width&&(e.width*=c.width),null!=c.height&&(e.height*=c.height),null!=c.depth&&(e.depth*=c.depth),h.items||e.items++,h.width||e.width++,h.height||e.height++,h.depth||e.depth++,e.items-=2*l.items,e.width-=2*l.width,e.height-=2*l.height,e.depth-=2*l.depth):(null!=c.items&&(e.items=c.items),null!=c.width&&(e.width=c.width),
null!=c.height&&(e.height=c.height),null!=c.depth&&(e.depth=c.depth));e.items=Math.max(0,Math.floor(e.items));e.width=Math.max(0,Math.floor(e.width));e.height=Math.max(0,Math.floor(e.height));e.depth=Math.max(0,Math.floor(e.depth));return e}make(){let e;super.make();if(null!=this.bind.source){var {size:c,items:h,width:l,height:n,depth:p}=this.props,v=c===this.node.attributes["lerp.size"].enum.relative;this.resampled={};null!=h&&(this.resampled.items=h);null!=l&&(this.resampled.width=l);null!=n&&(this.resampled.height=
n);null!=p&&(this.resampled.depth=p);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=this.props.paddingY;this.padding.depth=this.props.paddingZ;var w=this._shaders.shader(),z=this._shaders.shader(),x={resampleFactor:this._attributes.make(this._types.vec4(0,
0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,0,0,0))};this.resampleFactor=x.resampleFactor;this.resampleBias=x.resampleBias;var E=null!=h||null!=l||null!=n||null!=p;w.pipe("resample.padding",x);var H=[],I=!1,N=["width","height","depth","items"];for(e=0;e<N.length;e++){var Q=N[e];Q=this.centered[Q];I||(I=Q);H[e]=Q?"0.5":"0.0"}if(I&&E){var V=`vec4(${H})`;w.pipe(u.binaryOperator(4,"+",V));z.pipe(u.binaryOperator(4,"+",V))}E?(w.pipe("resample.relative",x),z.pipe("resample.relative",x)):
(w.pipe(u.identity("vec4")),z.pipe(u.identity("vec4")));I&&E&&(w.pipe(u.binaryOperator(4,"-",V)),z.pipe(u.binaryOperator(4,"-",V)));E=this.bind.source.sourceShader(this._shaders.shader());H=["width","height","depth","items"];for(e=0;e<H.length;e++)Q=H[e],I=`lerp.${Q}`,null!=this.props[Q]&&(E=this._shaders.shader().require(E),E.pipe(I,x));w.pipe(E);this.operator=w;this.indexer=z;return this.relativeSize=v}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var e=
this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),h=H=>{const I=this.centered[H],N=this.padding[H];c[H]+=2*N;return[I?e[H]/Math.max(1,c[H]):Math.max(1,e[H]-1)/Math.max(1,c[H]-1),N]},[l,n]=Array.from(h("width")),[p,v]=Array.from(h("height")),[w,z]=Array.from(h("depth")),[x,E]=Array.from(h("items"));this.resampleFactor.value.set(l,p,w,x);this.resampleBias.value.set(n,v,z,E);return super.resize()}}change(e,c,h){if(c.operator||c.lerp||c.sampler)return this.rebuild()}}g.Lerp=m;m.initClass()};
shadow$provide[279]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Memo=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind active operator source index texture memo".split(" ")}sourceShader(u){return this.memo.shaderAbsolute(u,1)}make(){super.make();if(null!=this.bind.source){this._helpers.active.make();this._listen("root","root.update",()=>{if(this.isActive)return this.update()});var {minFilter:u,magFilter:m,type:e}=this.props,c=this.bind.source.getDimensions(),
{items:h,width:l,height:n,depth:p}=c;this.memo=this._renderables.make("memo",{items:h,width:l,height:n,depth:p,minFilter:u,magFilter:m,type:e});c=this._shaders.shader();this.bind.source.sourceShader(c);this.compose=this._renderables.make("memoScreen",{map:c,items:h,width:l,height:n,depth:p});this.memo.adopt(this.compose);this.objects=[this.compose];return this.renders=this.compose.renders}}unmake(){this._helpers.active.unmake();null!=this.bind.source&&(this.memo.unadopt(this.compose),this.memo.dispose(),
this.memo=this.compose=null,super.unmake())}update(){return null!=this.memo?this.memo.render():void 0}resize(){if(null!=this.bind.source){var u=this.bind.source.getActiveDimensions(),{width:m,height:e,depth:c}=u;this.compose.cover(m,e,c);return super.resize()}}change(u,m,e){if(m.texture||m.operator)return this.rebuild()}}g.Memo=A;A.initClass()};
shadow$provide[280]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Readback=void 0;G=y(186);class A extends G.Primitive{static initClass(){this.traits="node bind operator readback entity active".split(" ");this.finals={channels:4}}init(){this.emitter=this.root=null;return this.active={}}make(){super.make();this._compute("readback.data",()=>null!=this.readback?this.readback.data:void 0);this._compute("readback.items",()=>null!=this.readback?this.readback.items:void 0);this._compute("readback.width",
()=>null!=this.readback?this.readback.width:void 0);this._compute("readback.height",()=>null!=this.readback?this.readback.height:void 0);this._compute("readback.depth",()=>null!=this.readback?this.readback.depth:void 0);this._helpers.bind.make([{to:"operator.source",trait:"source"}]);if(null!=this.bind.source){var {type:u,channels:m,expr:e}=this.props;this.root=this._inherit("root");this._listen("root","root.update",this.update);var {items:c,width:h,height:l,depth:n}=this.bind.source.getDimensions(),
p=this.bind.source.sourceShader(this._shaders.shader());this.readback=this._renderables.make("readback",{map:p,items:c,width:h,height:l,depth:n,channels:m,type:u});null!=e&&this.readback.setCallback(e);this._helpers.active.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.emitter=this.root=this.readback=null,this.active={});this._helpers.active.unmake();return this._helpers.bind.unmake()}update(){null!=this.readback&&this.isActive&&(this.readback.update(null!=this.root?this.root.getCamera():
void 0),this.readback.post(),null!=this.props.expr&&this.readback.iterate())}resize(){let u;if(null!=this.readback){var {items:m,width:e,height:c,depth:h}=this.bind.source.getActiveDimensions();this.readback.setActive(m,e,c,h);this.strideI=m;this.strideJ=u=m*e;return this.strideK=u*c}}change(u,m,e){if(u["readback.type"])return this.rebuild();if(u["readback.expr"]&&this.readback)return this.readback.setCallback(this.props.expr)}}g.Readback=A;A.initClass()};
shadow$provide[281]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Repeat=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index repeat".split(" ")}indexShader(u){u.pipe(this.operator);return super.indexShader(u)}sourceShader(u){u.pipe(this.operator);return super.sourceShader(u)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(u){const m=
this.resample;return{items:m.items*u.items,width:m.width*u.width,height:m.height*u.height,depth:m.depth*u.depth}}make(){super.make();if(null!=this.bind.source){this.resample={};var u={repeatModulus:this._attributes.make(this._types.vec4())};this.repeatModulus=u.repeatModulus;var m=this._shaders.shader();m.pipe("repeat.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const u=this.bind.source.getActiveDimensions();this.repeatModulus.value.set(u.width,
u.height,u.depth,u.items)}return super.resize()}change(u,m,e){if(m.operator||m.repeat)return this.rebuild();if(e)return["items","width","height","depth"].map(c=>this.resample[c]=this.props[c])}}g.Repeat=A;A.initClass()};
shadow$provide[282]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Reverse=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index reverse".split(" ")}getDimensions(){return this.bind.source.getDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}sourceShader(u){u.pipe("reverse.position",
this.uniforms);return this.bind.source.sourceShader(u)}_resolveScale(u,m){return this.props[u]?-1:1}_resolveOffset(u,m){m=m[u];return this.props[u]?m-1:0}make(){super.make();if(null!=this.bind.source)return this.uniforms={reverseScale:this._attributes.make(this._types.vec4()),reverseOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){var u=this.bind.source.getActiveDimensions();this.uniforms.reverseScale.value.set(this._resolveScale("width",
u),this._resolveScale("height",u),this._resolveScale("depth",u),this._resolveScale("items",u));this.uniforms.reverseOffset.value.set(this._resolveOffset("width",u),this._resolveOffset("height",u),this._resolveOffset("depth",u),this._resolveOffset("items",u));return super.resize()}}change(u,m,e){if(m.operator)return this.rebuild();if(m.reverse)return this.resize()}}g.Reverse=A;A.initClass()};
shadow$provide[283]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Swizzle=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index swizzle".split(" ")}sourceShader(e){e=super.sourceShader(e);this.swizzler&&e.pipe(this.swizzler);return e}make(){super.make();if(null!=this.bind.source){var {order:e}=this.props;if("1234"!==e.join())return this.swizzler=u.swizzleVec4(e,4)}}unmake(){super.unmake();
return this.swizzler=null}change(e,c,h){if(c.swizzle||c.operator)return this.rebuild()}}g.Swizzle=m;m.initClass()};
shadow$provide[284]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Spread=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index spread".split(" ")}sourceShader(u){return u.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var u={spreadMatrix:this._attributes.make(this._types.mat4()),spreadOffset:this._attributes.make(this._types.vec4())};this.spreadMatrix=u.spreadMatrix;this.spreadOffset=u.spreadOffset;var m=
this._shaders.shader();m.require(this.bind.source.sourceShader(this._shaders.shader()));m.pipe("spread.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){let u,m,e,c;const h=this.bind.source.getFutureDimensions(),l=this.spreadMatrix.value.elements,n=["width","height","depth","items"],p=["alignWidth","alignHeight","alignDepth","alignItems"],{unit:v}=this.props,w=this.node.attributes["spread.unit"].enum,z=(()=>{switch(v){case w.relative:return(x,
E,H,I)=>l[4*E+H]=I/Math.max(1,h[x]-1);case w.absolute:return(x,E,H,I)=>l[4*E+H]=I}})();return(()=>{const x=[];for(m=0;m<n.length;m++){u=n[m];const I=this.props[u];var E=this.props[p[m]];this.spreadOffset.value.setComponent(m,null!=I?-((null!=h[u]?h[u]:1)-1)*(.5-.5*E):0);E=x;var H=E.push;const N=[];for(e=0;3>=e;e++){let Q;c=null!=(Q=null!=I?I.getComponent(e):void 0)?Q:0;N.push(l[4*m+e]=z(u,m,e,c))}H.call(E,N)}return x})()}change(u,m,e){if(m.operator)return this.rebuild();if(m.spread)return this.update()}}
g.Spread=A;A.initClass()};
shadow$provide[285]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Split=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index split".split(" ")}indexShader(e){e.pipe(this.operator);return super.indexShader(e)}sourceShader(e){e.pipe(this.operator);return super.sourceShader(e)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){let c;
var {order:h}=this,{axis:l}=this,{overlap:n}=this,{length:p}=this;const {stride:v}=this,w=["width","height","depth","items"],z=h.map(x=>w[x-1]);l=h.indexOf(l);h=(()=>{const x=[];for(c of Array.from(z))x.push(e[c]);return x})();h.splice(l,1,p,Math.floor((h[l]-n)/v));h=h.slice(0,4);n={};for(p=0;p<z.length;p++)c=z[p],n[c]=h[p];return n}make(){var e;super.make();if(null!=this.bind.source){var {order:c}=this.props,{axis:h}=this.props,{overlap:l}=this.props,{length:n}=this.props,p=c.join("");null==h&&(h=
c[0]);var v=p.indexOf(h),w=p[v]+(null!=(e=p[v+1])?e:0);e=p.replace(w[1],"").replace(w[0],"0")+"0";l=Math.min(n-1,l);p=n-l;var z={splitStride:this._attributes.make(this._types.number(p))},x=this._shaders.shader();x.require(u.swizzleVec4(w,2));x.require(u.swizzleVec4(e,4));x.require(u.injectVec4(v));x.pipe("split.position",z);x.pipe(u.invertSwizzleVec4(c));this.operator=x;this.order=c;this.axis=h;this.overlap=l;this.length=n;return this.stride=p}}unmake(){return super.unmake()}change(e,c,h){if(e["split.axis"]||
e["split.order"]||c.operator)return this.rebuild()}}g.Split=m;m.initClass()};
shadow$provide[286]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Slice=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index slice".split(" ")}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}sourceShader(u){u.pipe("slice.position",
this.uniforms);return this.bind.source.sourceShader(u)}_resolve(u,m){var e=this.props[u];u=m[u];if(null==e)return[0,u];m=Math.round(e.x);m=0>m?u+m:m;e=Math.round(e.y);e=Math.max(m,0>e?u+e:e);return[m,e-m]}_resample(u){u.width=this._resolve("width",u)[1];u.height=this._resolve("height",u)[1];u.depth=this._resolve("depth",u)[1];u.items=this._resolve("items",u)[1];return u}make(){super.make();if(null!=this.bind.source)return this.uniforms={sliceOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=
this.bind.source){var u=this.bind.source.getActiveDimensions();this.uniforms.sliceOffset.value.set(this._resolve("width",u)[0],this._resolve("height",u)[0],this._resolve("depth",u)[0],this._resolve("items",u)[0]);return super.resize()}}change(u,m,e){if(m.operator)return this.rebuild();if(m.slice)return this.resize()}}g.Slice=A;A.initClass()};
shadow$provide[287]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Subdivide=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index subdivide".split(" ")}indexShader(e){e.pipe(this.indexer);return super.indexShader(e)}sourceShader(e){return e.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){const c=
this.resampled;e.items--;e.width--;e.height--;e.depth--;null!=c.items&&(e.items*=c.items);null!=c.width&&(e.width*=c.width);null!=c.height&&(e.height*=c.height);null!=c.depth&&(e.depth*=c.depth);e.items++;e.width++;e.height++;e.depth++;return e}make(){super.make();if(null!=this.bind.source){var {lerp:e}=this.props,{items:c,width:h,height:l,depth:n}=this.props;this.resampled={};null!=c&&(this.resampled.items=c);null!=h&&(this.resampled.width=h);null!=l&&(this.resampled.height=l);null!=n&&(this.resampled.depth=
n);var p=this._shaders.shader(),v=this._shaders.shader(),w={resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),subdivideBevel:this.node.attributes["subdivide.bevel"]};this.resampleFactor=w.resampleFactor;this.resampleBias=w.resampleBias;null!=c||null!=h||null!=l||null!=n?(p.pipe("resample.relative",w),v.pipe("resample.relative",w)):(p.pipe(u.identity("vec4")),v.pipe(u.identity("vec4")));var z=this.bind.source.sourceShader(this._shaders.shader());e=e?".lerp":"";var x=["width","height",
"depth","items"];for(let E=0;E<x.length;E++){const H=x[E],I=`subdivide.${H}${e}`;null!=this.props[H]&&(z=this._shaders.shader().require(z),z.pipe(I,w))}p.pipe(z);this.operator=p;return this.indexer=v}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var e=this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),h=v=>Math.max(1,e[v]-1)/Math.max(1,c[v]-1),l=h("width"),n=h("height"),p=h("depth");h=h("items");this.resampleFactor.value.set(l,n,p,h);return super.resize()}}change(e,
c,h){if(c.operator||c.subdivide)return this.rebuild()}}g.Subdivide=m;m.initClass()};
shadow$provide[288]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Transpose=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(197));G=y(258);const m={1:"width",2:"height",3:"depth",4:"items"};class e extends G.Operator{static initClass(){this.traits="node bind operator source index transpose".split(" ")}indexShader(c){this.swizzler&&c.pipe(this.swizzler);return super.indexShader(c)}sourceShader(c){this.swizzler&&c.pipe(this.swizzler);return super.sourceShader(c)}getDimensions(){return this._remap(this.transpose,
this.bind.source.getDimensions())}getActiveDimensions(){return this._remap(this.transpose,this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._remap(this.transpose,this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._remap(this.transpose,this.bind.source.getIndexDimensions())}_remap(c,h){const l={};for(let n=0;3>=n;n++){const p=m[c[n]];l[m[n+1]]=null!=h[p]?h[p]:1}return l}make(){super.make();if(null!=this.bind.source){var {order:c}=this.props;"1234"!==c.join()&&
(this.swizzler=u.invertSwizzleVec4(c));this.transpose=c;return this.trigger({type:"source.rebuild"})}}unmake(){super.unmake();return this.swizzler=null}change(c,h,l){if(h.transpose||h.operator)return this.rebuild()}}g.Transpose=e;e.initClass()};
shadow$provide[289]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(275);Object.keys(A).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===A[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return A[I]}}))});var u=y(276);Object.keys(u).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===u[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return u[I]}}))});var m=y(277);Object.keys(m).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===m[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return m[I]}}))});var e=y(278);Object.keys(e).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===e[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return e[I]}}))});var c=y(279);Object.keys(c).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===c[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return c[I]}}))});var h=y(280);Object.keys(h).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===h[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return h[I]}}))});var l=y(261);Object.keys(l).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===l[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return l[I]}}))});var n=y(281);Object.keys(n).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===n[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return n[I]}}))});var p=y(282);Object.keys(p).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===p[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return p[I]}}))});var v=y(283);Object.keys(v).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===v[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return v[I]}}))});var w=y(284);Object.keys(w).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===w[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return w[I]}}))});var z=y(285);Object.keys(z).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===z[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return z[I]}}))});var x=y(286);Object.keys(x).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===x[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return x[I]}}))});var E=y(287);Object.keys(E).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===E[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return E[I]}}))});var H=y(288);Object.keys(H).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===H[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return H[I]}}))})};
shadow$provide[290]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Transition=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits="node transition transform mask visible active".split(" ")}init(){this.uniforms=this.animate=null;this.state={isVisible:!0,isActive:!0,enter:1,exit:1};return this.locked=this.latched=null}make(){this.uniforms={transitionFrom:this._attributes.make(this._types.vec4()),transitionTo:this._attributes.make(this._types.vec4()),transitionActive:this._attributes.make(this._types.bool()),
transitionScale:this._attributes.make(this._types.vec4()),transitionBias:this._attributes.make(this._types.vec4()),transitionEnter:this._attributes.make(this._types.number()),transitionExit:this._attributes.make(this._types.number()),transitionSkew:this._attributes.make(this._types.number())};const u=this._inherit("slide"),m=this._inherit("visible"),e=this._inherit("active");this._listen(u,"transition.latch",c=>this.latch(c.step));this._listen(u,"transition.release",()=>this.release());this._listen(m,
"visible.change",()=>this.update(this.state.isVisible=m.isVisible));this._listen(e,"active.change",()=>this.update(this.state.isActive=e.isActive));this.animate=this._animator.make(this._types.vec2(1,1),{step:c=>{this.state.enter=c.x;this.state.exit=c.y;return this.update()},complete:c=>this.complete(c)});return this.move=null!=this.props.from||null!=this.props.to}unmake(){return this.animate.dispose()}latch(u){this.locked=null;this.latched=u={isVisible:this.state.isVisible,isActive:this.state.isActive,
step:u};if(!this.isVisible){const [m,e]=Array.from(0<=u.step?[0,1]:[1,0]);return this.animate.set(m,e)}}release(){const {latched:u}=this,{state:m}=this;this.latched=null;if(u.isVisible!==m.isVisible){const e=0<=u.step,c=m.isVisible,[h,l]=Array.from(c?[1,1]:e?[1,0]:[0,1]);let {duration:n,durationEnter:p,durationExit:v}=this.props;null==p&&(p=n);null==v&&(v=n);let {delay:w,delayEnter:z,delayExit:x}=this.props;null==z&&(z=w);null==x&&(x=w);this.animate.immediate({x:h,y:l},{duration:c*p+!c*v,delay:c*
z+!c*x,ease:"linear"});this.locked={isVisible:!0,isActive:u.isActive||m.isActive}}return this.update()}complete(u){if(u)return this.locked=null,this.update()}update(){if(null==this.latched){var {enter:u,exit:m}=this.props;null==u&&({enter:u}=this.state);null==m&&({exit:m}=this.state);var e=u*m,c=0<e;this.uniforms.transitionEnter.value=u;this.uniforms.transitionExit.value=m;this.uniforms.transitionActive.value=1>e;c&&(c=!!this.state.isVisible);null!=this.locked&&(c=this.locked.isVisible);this.isVisible!==
c&&(this.isVisible=c,this.trigger({type:"visible.change"}));e=!!(this.state.isActive||null!=this.locked&&this.locked.isActive);if(this.isActive!==e)return this.isActive=e,this.trigger({type:"active.change"})}}change(u,m,e){(u["transition.enter"]||u["transition.exit"]||e)&&this.update();if(u["transition.stagger"]||e){var {stagger:c}=this.props;u=0>c.x;m=0>c.y;e=0>c.z;const h=0>c.w,l=Math.abs(c.x),n=Math.abs(c.y),p=Math.abs(c.z);c=Math.abs(c.w);this.uniforms.transitionSkew.value=l+n+p+c;this.uniforms.transitionScale.value.set((1-
2*u)*l,(1-2*m)*n,(1-2*e)*p,(1-2*h)*c);return this.uniforms.transitionBias.value.set(u*l,m*n,e*p,h*c)}}}g.Transition=A;A.initClass()};
shadow$provide[291]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Move=void 0;G=y(290);class u extends G.Transition{static initClass(){this.traits="node transition vertex move visible active".split(" ")}make(){super.make();const m={moveFrom:this.node.attributes["move.from"],moveTo:this.node.attributes["move.to"]};for(const e in m)this.uniforms[e]=m[e]}vertex(m,e){let c;e===this.props.pass&&m.pipe("move.position",
this.uniforms);return null!=(c=A(this._inherit("vertex"),h=>h.vertex(m,e)))?c:m}}g.Move=u;u.initClass()};
shadow$provide[292]=function(G,y,X,g){function A(u,m,e){return Math.max(m,Math.min(e,u))}Object.defineProperty(g,"__esModule",{value:!0});g.clamp=A;g.cosine=function(u){return.5-.5*Math.cos(A(u,0,1)*Math.PI)};g.binary=function(u){return+(.5<=u)};g.hold=function(u){return+(1<=u)}};
shadow$provide[293]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Track=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(292));G=y(186);const m=function(c){const h={};for(const l in c){const n=c[l];h[l]=n instanceof Array?n.slice():null!=n&&"object"===typeof n?m(n):n}return h};class e extends G.Primitive{static initClass(){this.traits=["node","track","seek","bind"]}init(){this.handlers={};this.values=this.script=null;this.playhead=0;return this.expr=this.section=this.velocity=
null}make(){let c;this._helpers.bind.make([{to:"track.target",trait:"node",callback:null}]);const {script:h}=this.props,{node:l}=this.bind.target;this.targetNode=l;return[this.script,this.values,this.start,this.end]=Array.from(c=this._process(l,h)),c}unmake(){this.unbindExpr();this._helpers.bind.unmake();this.script=this.values=this.start=this.end=this.section=this.expr=null;return this.playhead=0}bindExpr(c){this.unbindExpr();this.expr=c;this.targetNode.bind(c,!0);const {clock:h}=this.targetNode,
l=this;return this._attributes.bind(this.measure=function(){let n=null;return()=>{const {step:p}=h.getTime();null!=n&&(l.velocity=(l.playhead-n)/p);return n=l.playhead}}())}unbindExpr(){null!=this.expr&&this.targetNode.unbind(this.expr,!0);null!=this.measure&&this._attributes.unbind(this.measure);return this.expr=this.measure=null}_process(c,h){let l;let n;if(h instanceof Array){var p={};for(var v=0;v<h.length;v++)n=h[v],p[v]=n;h=p}p=[];for(E in h)n=h[E],null==n&&(n=[]),n instanceof Array?n={key:+E,
props:null!=n[0]?m(n[0]):{},bind:null!=n[1]?m(n[1]):{}}:(n=null!=n.key||n.props||n.bind?m(n):{props:m(n)},n.key=null!=n.key?+n.key:+E,null==n.props&&(n.props={}),null==n.bind&&(n.bind={})),p.push(n);h=p;if(!h.length)return[[],{},0,0];h.sort((H,I)=>H.key-I.key);v=h[0].key;const w=h[h.length-1].key;for(E in h){n=h[E];null!=z&&(z.next=n);var z=n}z.next=z;h=p;p={};const x={};for(E in h)for(l in n=h[E],n.props)z=n.props[l],p[l]=!0;for(E in h)for(l in n=h[E],n.bind)z=n.bind[l],p[l]=!0;for(l in p)p[l]=c.get(l);
try{for(l in p)x[l]=[c.attribute(l).T.make(),c.attribute(l).T.make(),c.attribute(l).T.make()]}catch(H){throw console.warn(this.node.toMarkup()),c=`${this.node.toString()} - Target ${c} has no \`${l}\` property`,Error(c);}var E=[];for(n of Array.from(h)){for(l in p)if(z=p[l],z=c.validate(l,null!=n.props[l]?n.props[l]:z),p[l]=n.props[l]=z,null!=n.bind[l]&&"function"!==typeof n.bind[l])throw console.warn(this.node.toMarkup()),c=`${this.node.toString()} - Bind expression \`${n.bind[l]}\` on property \`${l}\` is not a function`,
Error(c);E.push(n)}return[E,x,v,w]}update(){let {playhead:c}=this;const {script:h}=this,{ease:l,seek:n}=this.props,p=this.targetNode;null!=n&&(c=n);if(h.length){let ba;var v=function(){let T=h[0];for(let O=0;O<h.length;O++){const da=h[O];if(da.key>c)break;T=da}return T},{section:w}=this;if(!w||c<w.key||c>w.next.key)w=v(h,c);if(w!==this.section){var z=this.section=w,x=w.next,E=z.key,H=x.key,I=(()=>{switch(l){case "linear":case 0:return u.clamp;case "cosine":case 1:return u.cosine;case "binary":case 2:return u.binary;
case "hold":case 3:return u.hold;default:return u.cosine}})(),{clock:N}=p,Q=T=>{if(null==this.velocity)return this.playhead;const O=N.getTime();return this.playhead+this.velocity*(T-O.time)},V=function(){const T=1/Math.max(1E-4,H-E);return O=>I((Q(O)-E)*T,0,1)}();v=T=>{const O=z.bind[T],da=x.bind[T],ea=z.props[T],Aa=x.props[T],Ea=function(){console.warn(p.toMarkup());throw Error(`${this.node.toString()} - Invalid expression result on track \`${T}\``);},qa=p.attribute(T),jb=this.values[T],va=this._animator;
return O&&da?((Ga,Da,Oa)=>function(tb,fb){let lb;Ga[0]=lb=qa.T.validate(O(tb,fb),Ga[0],Ea);Ga[1]=fb=qa.T.validate(da(tb,fb),Ga[1],Ea);return Ga[2]=va.lerp(qa.T,lb,fb,V(tb),Ga[2])})(jb,z,x):O?((Ga,Da,Oa)=>function(tb,fb){Ga[0]=fb=qa.T.validate(O(tb,fb),Ga[0],Ea);return Ga[1]=va.lerp(qa.T,fb,Aa,V(tb),Ga[1])})(jb,z,x):da?((Ga,Da,Oa)=>function(tb,fb){Ga[0]=fb=qa.T.validate(da(tb,fb),Ga[0],Ea);return Ga[1]=va.lerp(qa.T,ea,fb,V(tb),Ga[1])})(jb,z,x):((Ga,Da,Oa)=>(tb,fb)=>Ga[0]=va.lerp(qa.T,ea,Aa,V(tb),Ga[0]))(jb,
z,x)};w={};for(ba in z.bind)null==w[ba]&&(w[ba]=v(ba));for(ba in x.bind)null==w[ba]&&(w[ba]=v(ba));for(ba in z.props)null==w[ba]&&(w[ba]=v(ba));for(ba in x.props)null==w[ba]&&(w[ba]=v(ba));return this.bindExpr(w)}}}change(c,h,l){if(c["track.target"]||c["track.script"]||c["track.mode"])return this.rebuild();if(c["seek.seek"]||l)return this.update()}}g.Track=e;e.initClass()};
shadow$provide[294]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Play=void 0;G=y(293);class A extends G.Track{static initClass(){this.traits=["node","track","trigger","play","bind"]}init(){super.init();return this.start=this.skew=null}reset(u){null==u&&(u=!0);this.skew=u?0:null;return this.start=null}make(){super.make();this._listen("slide","slide.step",m=>{const {trigger:e}=this.props;if(null!=e&&m.index===e)return this.reset();if(null!=e&&0===m.index)return this.reset(!1)});
this.props.trigger&&null!=this._inherit("slide")||this.reset();const u=this._inherit("clock");return this._listen(u,"clock.tick",()=>{const {from:m,to:e,speed:c,pace:h,delay:l,realtime:n}=this.props;var p=u.getTime();if(null!=this.skew){var v=n?p.time:p.clock;p=n?p.delta:p.step;const w=c/h;null==this.start&&(this.start=v);this.skew+=p*(w-1);v=Math.max(0,v-this.start+this.skew-l*w);this.props.loop&&(v%=e-m);this.playhead=Math.min(e,m+v)}else this.playhead=0;return this.update()})}update(){return super.update()}change(u,
m,e){return u["trigger.trigger"]||u["play.realtime"]?this.rebuild():super.change(u,m,e)}}g.Play=A;A.initClass()};
shadow$provide[295]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Present=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","present"]}init(){}make(){this.nodes=[];this.steps=[];this.length=0;this.last=[];this.index=0;this.dirty=[];this._listen("root","root.update",this.update);return this._compute("present.length",()=>this.length)}adopt(u){const {node:m}=u;0>this.nodes.indexOf(u)&&this.nodes.push(m);return this.dirty.push(u)}unadopt(u){this.nodes=
this.nodes.filter(m=>m!==u);return this.dirty.push(u)}update(){if(this.dirty.length){for(const u of Array.from(this.dirty))this.slideReset(u);[this.steps,this.indices]=Array.from(this.process(this.nodes));this.length=this.steps.length;this.index=null;this.go(this.props.index);return this.dirty=[]}}slideLatch(u,m,e){return u.slideLatch(m,e)}slideStep(u,m,e){return u.slideStep(this.mapIndex(u,m),e)}slideRelease(u,m){return u.slideRelease()}slideReset(u){return u.slideReset()}mapIndex(u,m){return m-
this.indices[u.node._id]}process(u){const m=(h=>l=>{let n,p;const v=[];for(;l&&([l,n]=Array.from(p=[h(l),l]),p);)v.push(n);return v})(function(h){return h.parent.traits.hash.present?null:h.parent}),e=h=>0<=u.indexOf(h),c=h=>h.sort((l,n)=>l.order-n.order);return function(h){let l;const [n,p]=Array.from(h),v={};let w=[];h=function(x,E){let H;const {props:I}=H=x[0];var N=x[1];const Q=null!=N?v[N._id]:0;N=null!=I.from?Q+I.from:E-I.early;E=null!=I.to?Q+I.to:E+I.steps+I.late;N=Math.max(0,N);E=Math.min(100,
E);null==v[H._id]&&(v[H._id]=N);for(let V=N,ba=E,T=N<=ba;T?V<ba:V>ba;T?V++:V--)w[V]=(null!=w[V]?w[V]:w[V]=[]).concat(x);return I.steps};let z=0;for(l of Array.from(n))z+=h(l,z);for(l of Array.from(p))h(l,0);w=(()=>{const x=[];for(l of Array.from(w)){var E=x,H=E.push,I;if(I=l){const N=[];for(let Q=0;Q<I.length;Q++){const V=I[Q];I.indexOf(V)===Q&&N.push(V)}I=N}else I=[];H.call(E,c(I))}return x})();return[w,v]}(function(h){const l=[],n=[];for(const p of Array.from(h))(null!=p[0].props.steps?l:n).push(p);
return[l,n]}((h=>h.sort(function(l,n){const p=l.length,v=n.length;let w=Math.min(p,v);for(let z=1,x=w,E=1<=x;E?z<=x:z>=x;E?z++:z--){const H=l[p-z],I=n[v-z],N=H.props.order,Q=I.props.order;if(null!=N||null!=Q){if(null!=N&&null!=Q&&0!==(w=N-Q))return w;if(null!=N)return-1;if(null!=Q)return 1}if(I.order!==H.order)return I.order-H.order}w=p-v;return 0!==w?w:0}))((h=>Array.from(h).map(l=>m(l).filter(e)))(u))))}go(u){var m;let e;u=Math.max(0,Math.min(this.length+1,+u||0));const c=null!=(m=this.steps[u-
1])?m:[];m=this.props.directed?u-this.index:1;this.index=u;const h=(()=>{const w=[];for(e of Array.from(c))0>this.last.indexOf(e)&&w.push(e);return w})(),l=(()=>{const w=[];for(e of Array.from(this.last))0>c.indexOf(e)&&w.push(e);return w})(),n=(()=>{const w=[];for(e of Array.from(c))0>h.indexOf(e)&&0>l.indexOf(e)&&w.push(e);return w})(),p=w=>w.sort((z,x)=>z.order-x.order),v=w=>w.sort((z,x)=>x.order-z.order);for(e of Array.from(p(h)))this.slideLatch(e.controller,!0,m);for(e of Array.from(p(n)))this.slideLatch(e.controller,
null,m);for(e of Array.from(p(l)))this.slideLatch(e.controller,!1,m);for(e of Array.from(h))this.slideStep(e.controller,u,m);for(e of Array.from(n))this.slideStep(e.controller,u,m);for(e of Array.from(l))this.slideStep(e.controller,u,m);for(e of Array.from(v(h)))this.slideRelease(e.controller);for(e of Array.from(v(n)))this.slideRelease(e.controller);for(e of Array.from(v(l)))this.slideRelease(e.controller);this.last=c}change(u,m,e){if(u["present.index"]||e)return this.go(this.props.index)}}g.Present=
A;A.initClass()};
shadow$provide[296]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){return"undefined"!==typeof c&&null!==c?h(c):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Reveal=void 0;var m=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,
p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(197));G=y(290);class e extends G.Transition{static initClass(){this.traits=["node","transition","mask","visible","active"]}mask(c){let h,l;c?(l=this._shaders.shader(),l.pipe(m.identity("vec4")),l.fan(),l.pipe(c,this.uniforms),l.next(),l.pipe("reveal.mask",this.uniforms),l.end(),l.pipe("float combine(float a, float b) { return min(a, b); }")):
(l=this._shaders.shader(),l.pipe("reveal.mask",this.uniforms));return null!=(h=u(this._inherit("mask"),n=>n.mask(l)))?h:l}}g.Reveal=e;e.initClass()};
shadow$provide[297]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Slide=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","slide","visible","active"]}make(){this._helpers.visible.make();this._helpers.active.make();if(!this._inherit("present"))throw Error(`${this.node.toString()} must be placed inside <present></present>`);return this._inherit("present").adopt(this)}unmake(){this._helpers.visible.unmake();this._helpers.active.unmake();return this._inherit("present").unadopt(this)}change(u,
m,e){if(u["slide.early"]||u["slide.late"]||u["slide.steps"]||u["slide.from"]||u["slide.to"])return this.rebuild()}slideLatch(u,m){this.trigger({type:"transition.latch",step:m});if(null!=u)return this._instant(u)}slideStep(u,m){return this.trigger({type:"slide.step",index:u,step:m})}slideRelease(){return this.trigger({type:"transition.release"})}slideReset(){this._instant(!1);return this.trigger({type:"slide.reset"})}_instant(u){this.setVisible(u);return this.setActive(u)}}g.Slide=A;A.initClass()};
shadow$provide[298]=function(G,y,X,g){function A(m,e,c){const h=[],l=m<e;for(e=c?l?e+1:e-1:e;l?m<e:m>e;l?m++:m--)h.push(m);return h}Object.defineProperty(g,"__esModule",{value:!0});g.Step=void 0;G=y(293);class u extends G.Track{static initClass(){this.traits=["node","track","step","trigger","bind"]}make(){super.make();const m=this._inherit("clock");null==this.actualIndex&&(this.actualIndex=null);this.animateIndex=this._animator.make(this._types.number(0),{clock:m,realtime:this.props.realtime,step:e=>
this.actualIndex=e});null==this.lastIndex&&(this.lastIndex=null);this.animateStep=this._animator.make(this._types.number(0),{clock:m,realtime:this.props.realtime,step:e=>{this.playhead=e;return this.update()}});this.stops=null!=this.props.stops?this.props.stops:A(0,this.script.length,!1);this._listen("slide","slide.reset",e=>this.lastIndex=null);return this._listen("slide","slide.step",e=>{var c;let {duration:h}=this.props;const {delay:l,pace:n,speed:p,playback:v,rewind:w,skip:z,trigger:x}=this.props,
E=Math.max(0,Math.min(this.stops.length-1,e.index-x)),H=this.playhead,I=this.stops[E];if(null==this.lastIndex&&x)this.lastIndex=E,this.animateStep.set(I),this.animateIndex.set(E);else{var N=null!=(c=null!=this.actualIndex?this.actualIndex:this.lastIndex)?c:0;c=E-N;var Q=this.stops.slice(Math.min(N,E),Math.max(N,E)),V=0;N=Q.shift();for(const ba of Array.from(Q))N===ba&&V++,N=ba;this.lastIndex=E;e=p*(0<=e.step?1:w);e*=z?Math.max(1,Math.abs(c)-V):1;h+=Math.abs(I-H)*n/e;if(H!==I)return this.animateIndex.immediate(E,
{delay:l,duration:h,ease:v}),this.animateStep.immediate(I,{delay:l,duration:h,ease:v})}})}made(){return this.update()}unmake(){this.animateIndex.dispose();this.animateStep.dispose();this.animateIndex=this.animateStep=null;return super.unmake()}change(m,e,c){return m["step.stops"]||m["step.realtime"]?this.rebuild():super.change(m,e,c)}}g.Step=u;u.initClass()};
shadow$provide[299]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(291);Object.keys(A).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===A[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return A[l]}}))});var u=y(294);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===u[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return u[l]}}))});var m=y(295);Object.keys(m).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===m[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return m[l]}}))});var e=y(296);Object.keys(e).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===e[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return e[l]}}))});var c=y(297);Object.keys(c).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===c[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return c[l]}}))});var h=y(298);Object.keys(h).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===h[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return h[l]}}))})};
shadow$provide[300]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.RTT=void 0;G=y(187);class u extends G.Parent{static initClass(){this.traits="node root scene vertex texture rtt source index image".split(" ");this.defaults={minFilter:"linear",magFilter:"linear",type:"unsignedByte"}}init(){return this.rtt=this.scene=this.camera=this.width=this.height=this.history=this.rootSize=this.size=null}indexShader(m){return m}imageShader(m){return this.rtt.shaderRelative(m)}sourceShader(m){return this.rtt.shaderAbsolute(m,
this.history)}getDimensions(){return{items:1,width:this.width,height:this.height,depth:this.history}}getActiveDimensions(){return this.getDimensions()}make(){this.parentRoot=this._inherit("root");this.rootSize=this.parentRoot.getSize();this._listen(this.parentRoot,"root.pre",this.pre);this._listen(this.parentRoot,"root.update",this.update);this._listen(this.parentRoot,"root.render",this.render);this._listen(this.parentRoot,"root.post",this.post);this._listen(this.parentRoot,"root.camera",this.setCamera);
this._listen(this.parentRoot,"root.resize",function(z){return this.resize(z.size)});if(null!=this.rootSize){var {minFilter:m,magFilter:e,type:c}=this.props,{width:h,height:l,history:n,size:p}=this.props,v=p===this.node.attributes["rtt.size"].enum.relative;var w=v?this.rootSize.renderWidth:1;v=v?this.rootSize.renderHeight:1;this.width=Math.round(null!=h?h*w:this.rootSize.renderWidth);this.height=Math.round(null!=l?l*v:this.rootSize.renderHeight);this.history=n;this.aspect=w=this.width/this.height;
null==this.scene&&(this.scene=this._renderables.make("scene"));this.rtt=this._renderables.make("renderToTexture",{scene:this.scene,camera:this._context.defaultCamera,width:this.width,height:this.height,frames:this.history,minFilter:m,magFilter:e,type:c});w=h||l?w:this.rootSize.aspect;v=null!=l?l:this.rootSize.viewHeight;return this.size={renderWidth:this.width,renderHeight:this.height,aspect:w,viewWidth:null!=h?h:this.rootSize.viewWidth,viewHeight:v,pixelRatio:this.height/v}}}made(){this.trigger({type:"source.rebuild"});
if(this.size)return this.trigger({type:"root.resize",size:this.size})}unmake(m){if(null!=this.rtt)return this.rtt.dispose(),m||this.scene.dispose(),this.rtt=this.width=this.height=this.history=null}change(m,e,c){if(e.texture||m["rtt.width"]||m["rtt.height"])return this.rebuild();if(m["root.camera"]||c)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(m){return Array.from(m.renders).map(e=>this.scene.add(e))}unadopt(m){return Array.from(m.renders).map(e=>
this.scene.remove(e))}resize(m){let e,c;this.rootSize=m;({width:c,height:e,size:m}=this.props);m=m===this.node.attributes["rtt.size"].enum.relative;if(!this.rtt||null==c||null==e||m)return this.rebuild()}select(m){return this._root.node.model.select(m,[this.node])}watch(m,e){return this._root.node.model.watch(m,e)}unwatch(m){return this._root.node.model.unwatch(m)}pre(m){return this.trigger(m)}update(m){let e;null!=(e=this.getOwnCamera())&&(e.aspect=this.aspect||1,e.updateProjectionMatrix());return this.trigger(m)}render(m){this.trigger(m);
return null!=this.rtt?this.rtt.render(this.getCamera()):void 0}post(m){return this.trigger(m)}setCamera(){const m=A(this.select(this.props.camera)[0],e=>e.controller);if(this.camera!==m)return this.camera=m,this.rtt.camera=this.getCamera(),this.trigger({type:"root.camera"});if(!this.camera)return this.trigger({type:"root.camera"})}getOwnCamera(){return null!=this.camera?this.camera.getCamera():void 0}getCamera(){let m;return null!=(m=this.getOwnCamera())?m:this._inherit("root").getCamera()}vertex(m,
e){return 2===e?m.pipe("view.position"):3===e?m.pipe("root.position"):m}}g.RTT=u;u.initClass()};
shadow$provide[301]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Compose=void 0;G=y(186);class A extends G.Primitive{static initClass(){this.traits="node bind object visible operator style compose".split(" ");this.defaults={zWrite:!1,zTest:!1,color:"#ffffff"}}init(){return this.compose=null}resize(){if(this.compose&&this.bind.source){var u=this.bind.source.getActiveDimensions(),{width:m}=u;({height:u}=u);return this.remapUVScale.set(m,u)}}make(){this._helpers.bind.make([{to:"operator.source",
trait:"source"}]);if(null!=this.bind.source){var u={remapUVScale:this._attributes.make(this._types.vec2())};this.remapUVScale=u.remapUVScale.value;var m=this._shaders.shader(),{alpha:e}=this.props;this.bind.source.is("image")?(m.pipe("screen.pass.uv",u),m=this.bind.source.imageShader(m)):(m.pipe("screen.map.xy",u),m=this.bind.source.sourceShader(m));e||m.pipe("color.opaque");u=this._helpers.style.uniforms();this.compose=this._renderables.make("screen",{map:m,uniforms:u,linear:!0});this._helpers.visible.make();
return this._helpers.object.make([this.compose])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();return this._helpers.object.unmake()}change(u,m,e){if(u["operator.source"]||u["compose.alpha"])return this.rebuild()}}g.Compose=A;A.initClass()};
shadow$provide[302]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(300);Object.keys(A).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===A[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return A[m]}}))});var u=y(301);Object.keys(u).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===u[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return u[m]}}))})};
shadow$provide[303]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.View=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","object","visible","view","vertex"]}make(){return this._helpers.visible.make()}unmake(){return this._helpers.visible.unmake()}axis(u){return this.props.range[u-1]}}g.View=A;A.initClass()};
shadow$provide[304]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Cartesian=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(193));G=y(303);class m extends G.View{static initClass(){this.traits="node object visible view view3 vertex".split(" ")}make(){super.make();this.uniforms={viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=u.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;
delete this.uniforms}change(e,c,h){if(c.view||c.view3||h){c=this.props.position;h=this.props.scale;var l=this.props.quaternion,n=this.props.rotation,p=this.props.range,v=this.props.eulerOrder,{x:w}=p[0],z=p[1].x,x=p[2].x,E=p[0].y-w||1,H=p[1].y-z||1;p=p[2].y-x||1;this.viewMatrix.set(2/E,0,0,-(2*w+E)/E,0,2/H,0,-(2*z+H)/H,0,0,2/p,-(2*x+p)/p,0,0,0,1);c=this.composer(c,n,l,h,null,v);this.viewMatrix.multiplyMatrices(c,this.viewMatrix);e["view.range"]&&this.trigger({type:"view.range"})}}vertex(e,c){1===
c&&e.pipe("cartesian.position",this.uniforms);return super.vertex(e,c)}}g.Cartesian=m;m.initClass()};
shadow$provide[305]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Cartesian4=void 0;G=y(303);class A extends G.View{static initClass(){this.traits="node object visible view view4 vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4())};this.basisScale=this.uniforms.basisScale.value;return this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;
delete this.basisOffset;return delete this.uniforms}change(u,m,e){if(m.view||m.view4||e){m=this.props.position;e=this.props.scale;var c=this.props.range,{x:h}=c[0],l=c[1].x,n=c[2].x,p=c[3].x,v=c[0].y-h||1,w=c[1].y-l||1,z=c[2].y-n||1;c=c[3].y-p||1;var x=function(E,H){E.x*=H.x;E.y*=H.y;E.z*=H.z;return E.w*=H.w};this.basisScale.set(2/v,2/w,2/z,2/c);this.basisOffset.set(-(2*h+v)/v,-(2*l+w)/w,-(2*n+z)/z,-(2*p+c)/c);x(this.basisScale,e);x(this.basisOffset,e);this.basisOffset.add(m);if(u["view.range"])return this.trigger({type:"view.range"})}}vertex(u,
m){1===m&&u.pipe("cartesian4.position",this.uniforms);return super.vertex(u,m)}}g.Cartesian4=A;A.initClass()};
shadow$provide[306]=function(ra,P,db,I){function A(x){if("function"!==typeof WeakMap)return null;var z=new WeakMap,k=new WeakMap;return(A=function(p){return p?k:z})(x)}function J(x,z){if(!z&&x&&x.__esModule)return x;if(null===x||"object"!==typeof x&&"function"!==typeof x)return{default:x};if((z=A(z))&&z.has(x))return z.get(x);var k={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,B;for(B in x)if("default"!==B&&Object.prototype.hasOwnProperty.call(x,B)){var t=p?Object.getOwnPropertyDescriptor(x,
B):null;t&&(t.get||t.set)?Object.defineProperty(k,B,t):k[B]=x[B]}k.default=x;z&&z.set(x,k);return k}Object.defineProperty(I,"__esModule",{value:!0});I.Polar=void 0;var r=J(P(240)),w=J(P(193)),h=P(99);ra=P(303);class m extends ra.View{static initClass(){this.traits="node object visible view view3 polar vertex".split(" ")}make(){super.make();const {types:x}=this._attributes;this.uniforms={polarBend:this.node.attributes["polar.bend"],polarHelix:this.node.attributes["polar.helix"],polarFocus:this._attributes.make(x.number()),
polarAspect:this._attributes.make(x.number()),viewMatrix:this._attributes.make(x.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=w.transformComposer();return this.aspect=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspect;return delete this.uniforms}change(x,z,k){var p;if(z.view||z.view3||z.polar||k){this.helix=this.props.helix;this.bend=p=this.props.bend;this.focus=k=0<p?1/p-1:0;var B=this.props.position,t=this.props.scale,u=this.props.quaternion,
C=this.props.rotation,F=this.props.range,M=this.props.eulerOrder,{x:T}=F[0],N=F[1].x,W=F[2].x,ka=F[0].y-T||1,Y=F[1].y-N||1;F=F[2].y-W||1;var H=t.x;var qa=t.y,Ca=0<ka?1:-1;[N,Y]=Array.from(r.recenterAxis(N,Y,p));p=ka+(Math.abs(Y)*Ca-ka)*p;this.aspect=H=Math.abs(p/H/(Y/qa));this.uniforms.polarFocus.value=k;this.uniforms.polarAspect.value=H;this.viewMatrix.set(2/p,0,0,-(2*T+ka)/ka,0,2/Y,0,-(2*N+Y)/Y,0,0,2/F,-(2*W+F)/F,0,0,0,1);k=this.composer(B,C,u,t,null,M);this.viewMatrix.multiplyMatrices(k,this.viewMatrix);
(x["view.range"]||z.polar)&&this.trigger({type:"view.range"})}}vertex(x,z){1===z&&x.pipe("polar.position",this.uniforms);return super.vertex(x,z)}axis(x){var z=this.props.range[x-1];let k=z.x;z=z.y;2===x&&0<this.bend&&(z=Math.max(Math.abs(z),Math.abs(k)),k=Math.max(-this.focus/this.aspect,k));return new h.Vector2(k,z)}}I.Polar=m;m.initClass()};
shadow$provide[307]=function(ra,P,db,I){function A(x){if("function"!==typeof WeakMap)return null;var z=new WeakMap,k=new WeakMap;return(A=function(p){return p?k:z})(x)}function J(x,z){if(!z&&x&&x.__esModule)return x;if(null===x||"object"!==typeof x&&"function"!==typeof x)return{default:x};if((z=A(z))&&z.has(x))return z.get(x);var k={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,B;for(B in x)if("default"!==B&&Object.prototype.hasOwnProperty.call(x,B)){var t=p?Object.getOwnPropertyDescriptor(x,
B):null;t&&(t.get||t.set)?Object.defineProperty(k,B,t):k[B]=x[B]}k.default=x;z&&z.set(x,k);return k}Object.defineProperty(I,"__esModule",{value:!0});I.Spherical=void 0;var r=J(P(240)),w=J(P(193)),h=P(99);ra=P(303);class m extends ra.View{static initClass(){this.traits="node object visible view view3 spherical vertex".split(" ")}make(){super.make();this.uniforms={sphericalBend:this.node.attributes["spherical.bend"],sphericalFocus:this._attributes.make(this._types.number()),sphericalAspectX:this._attributes.make(this._types.number()),
sphericalAspectY:this._attributes.make(this._types.number()),sphericalScaleY:this._attributes.make(this._types.number()),viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=w.transformComposer();return this.aspectY=this.aspectX=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspectX;delete this.aspectY;return delete this.uniforms}change(x,z,k){let p;if(z.view||z.view3||z.spherical||k){this.bend=k=
this.props.bend;this.focus=p=0<k?1/k-1:0;var B=this.props.position,t=this.props.scale,u=this.props.quaternion,C=this.props.rotation,F=this.props.range,M=this.props.eulerOrder,{x:T}=F[0],N=F[1].x,W=F[2].x,ka=F[0].y-T||1,Y=F[1].y-N||1;F=F[2].y-W||1;var H=t.x;var qa=t.y;var Ca=t.z;[N,Y]=Array.from(r.recenterAxis(N,Y,k));[W,F]=Array.from(r.recenterAxis(W,F,k));var La=Math.abs(F),Oa=ka+(La*(0<ka?1:-1)-ka)*k;La=Y+(La*(0<Y?1:-1)-Y)*k;var ea=F/Ca;this.aspectX=Ca=Math.abs(Oa/H/ea);this.aspectY=ea=Math.abs(La/
qa/ea/Ca);this.scaleY=H=Math.min(ea/k,1+(Y/ka*H/qa*2-1)*k);this.uniforms.sphericalBend.value=k;this.uniforms.sphericalFocus.value=p;this.uniforms.sphericalAspectX.value=Ca;this.uniforms.sphericalAspectY.value=ea;this.uniforms.sphericalScaleY.value=H;this.viewMatrix.set(2/Oa,0,0,-(2*T+ka)/ka,0,2/La,0,-(2*N+Y)/Y,0,0,2/F,-(2*W+F)/F,0,0,0,1);k=this.composer(B,C,u,t,null,M);this.viewMatrix.multiplyMatrices(k,this.viewMatrix);if(x["view.range"]||z.spherical)return this.trigger({type:"view.range"})}}vertex(x,
z){1===z&&x.pipe("spherical.position",this.uniforms);return super.vertex(x,z)}axis(x){var z=this.props.range[x-1];let k=z.x;z=z.y;3===x&&0<this.bend&&(z=Math.max(Math.abs(z),Math.abs(k)),k=Math.max(-this.focus/this.aspectX+.001,k));return new h.Vector2(k,z)}}I.Spherical=m;m.initClass()};
shadow$provide[308]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Stereographic=void 0;var m=u(y(240)),e=u(y(193));G=y(303);class c extends G.View{static initClass(){this.traits="node object visible view view3 stereographic vertex".split(" ")}make(){super.make();this.uniforms={stereoBend:this.node.attributes["stereographic.bend"],viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;
return this.composer=e.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.rotationMatrix;return delete this.uniforms}change(h,l,n){if(l.view||l.view3||l.stereographic||n){this.bend=n=this.props.bend;var p=this.props.position,v=this.props.scale,w=this.props.quaternion,z=this.props.rotation,x=this.props.range,E=this.props.eulerOrder,{x:H}=x[0],I=x[1].x,N=x[2].x,Q=x[0].y-H||1,V=x[1].y-I||1;x=x[2].y-N||1;[N,x]=Array.from(m.recenterAxis(N,x,n,1));this.uniforms.stereoBend.value=
n;this.viewMatrix.set(2/Q,0,0,-(2*H+Q)/Q,0,2/V,0,-(2*I+V)/V,0,0,2/x,-(2*N+x)/x,0,0,0,1);n=this.composer(p,z,w,v,null,E);this.viewMatrix.multiplyMatrices(n,this.viewMatrix);if(h["view.range"]||l.stereographic)return this.trigger({type:"view.range"})}}vertex(h,l){1===l&&h.pipe("stereographic.position",this.uniforms);return super.vertex(h,l)}}g.Stereographic=c;c.initClass()};
shadow$provide[309]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Stereographic4=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(240));G=y(303);class m extends G.View{static initClass(){this.traits="node object visible view view4 stereographic vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4()),stereoBend:this.node.attributes["stereographic.bend"]};this.basisScale=this.uniforms.basisScale.value;
this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;delete this.basisOffset;delete this.uniforms}change(e,c,h){if(c.view||c.view4||c.stereographic||h){this.bend=h=this.props.bend;var l=this.props.position,n=this.props.scale,p=this.props.range,{x:v}=p[0],w=p[1].x,z=p[2].x,x=p[3].x,E=p[0].y-v||1,H=p[1].y-w||1,I=p[2].y-z||1;p=p[3].y-x||1;var N=function(Q,V){Q.x*=V.x;Q.y*=V.y;Q.z*=V.z;Q.w*=V.w};[x,p]=Array.from(u.recenterAxis(x,p,h,1));this.basisScale.set(2/
E,2/H,2/I,2/p);this.basisOffset.set(-(2*v+E)/E,-(2*w+H)/H,-(2*z+I)/I,-(2*x+p)/p);N(this.basisScale,n);N(this.basisOffset,n);this.basisOffset.add(l);(e["view.range"]||c.stereographic)&&this.trigger({type:"view.range"})}}vertex(e,c){1===c&&e.pipe("stereographic4.position",this.uniforms);return super.vertex(e,c)}}g.Stereographic4=m;m.initClass()};
shadow$provide[310]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(303);Object.keys(A).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===A[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return A[n]}}))});var u=y(304);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===u[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return u[n]}}))});var m=y(305);Object.keys(m).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===m[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return m[n]}}))});var e=y(306);Object.keys(e).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===e[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return e[n]}}))});var c=y(307);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===c[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return c[n]}}))});var h=y(308);Object.keys(h).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===h[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return h[n]}}))});var l=y(309);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===l[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return l[n]}}))})};
shadow$provide[311]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Shader=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(186);class m extends G.Primitive{static initClass(){this.traits=["node","bind","shader"];this.freeform=!0}init(){return this.shader=null}make(){const {language:e,code:c}=this.props;if("glsl"!==e)throw Error("GLSL required");this._helpers.bind.make([{to:"shader.sources",trait:"source",multiple:!0}]);var h=this._shaders.fetch(c);const l=this._types,
n={},p=v=>{switch(v){case "i":return l.int();case "f":return l.number();case "v2":return l.vec2();case "v3":return l.vec3();case "v4":return l.vec4();case "m3":return l.mat3();case "m4":return l.mat4();case "t":return l.object();default:return v=v.split(""),"v"===v.pop()?l.array(p(v.join(""))):null}};for(const v of Array.from(h._signatures.uniform))if(h=p(v.type))n[v.name]=h;return this.reconfigure({props:{uniform:n}})}made(){return this.trigger({type:"source.rebuild"})}unmake(){return this.shader=
null}change(e,c,h){if(e["shader.uniforms"]||e["shader.code"]||e["shader.language"])return this.rebuild()}shaderBind(e){let c,h;null==e&&(e={});const {code:l,indices:n,channels:p}=this.props;for(v in this.node.attributes)h=this.node.attributes[v],null!=h.type&&null!=h.short&&"uniform"===h.ns&&null==e[h.short]&&(e[h.short]=h);if(null!=(c=this.props.uniforms))for(v in c)h=c[v],e[v]=h;var v=this._shaders.shader();if(null!=this.bind.sources)for(const w of Array.from(this.bind.sources))v.callback(),4!=
n&&v.pipe(u.extendVec(n,4)),v.pipe(w.sourceShader(this._shaders.shader())),4!=p&&v.pipe(u.truncateVec(4,p)),v.join();return v.pipe(l,e)}}g.Shader=m;m.initClass()};
shadow$provide[312]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(311);Object.keys(A).forEach(function(u){"default"!==u&&"__esModule"!==u&&(u in g&&g[u]===A[u]||Object.defineProperty(g,u,{enumerable:!0,get:function(){return A[u]}}))})};
shadow$provide[313]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Classes=void 0;G=y(192);X=y(195);var A=y(242),u=y(253),m=y(256),e=y(263),c=y(266),h=y(274),l=y(289),n=y(299),p=y(302),v=y(310);y=y(312);g.Classes={axis:u.Axis,face:u.Face,grid:u.Grid,line:u.Line,point:u.Point,strip:u.Strip,surface:u.Surface,ticks:u.Ticks,vector:u.Vector,view:v.View,cartesian:v.Cartesian,cartesian4:v.Cartesian4,polar:v.Polar,spherical:v.Spherical,stereographic:v.Stereographic,stereographic4:v.Stereographic4,
transform:h.Transform3,transform4:h.Transform4,vertex:h.Vertex,fragment:h.Fragment,layer:h.Layer,mask:h.Mask,array:A.Array_,interval:A.Interval,matrix:A.Matrix,area:A.Area,voxel:A.Voxel,volume:A.Volume,scale:A.Scale,latch:A.Latch,html:m.HTML,dom:m.DOM,text:e.Text,format:e.Format,label:e.Label,retext:e.Retext,clamp:l.Clamp,grow:l.Grow,join:l.Join,lerp:l.Lerp,memo:l.Memo,readback:l.Readback,resample:l.Resample,repeat:l.Repeat,reverse:l.Reverse,swizzle:l.Swizzle,spread:l.Spread,split:l.Split,slice:l.Slice,
subdivide:l.Subdivide,transpose:l.Transpose,group:G.Group,inherit:G.Inherit,root:G.Root,unit:G.Unit,shader:y.Shader,camera:X.Camera,rtt:p.RTT,compose:p.Compose,clock:c.Clock,now:c.Now,move:n.Move,play:n.Play,present:n.Present,reveal:n.Reveal,slide:n.Slide,step:n.Step}};
shadow$provide[314]=function(ra,P,db,I){function A(k){if("function"!==typeof WeakMap)return null;var p=new WeakMap,B=new WeakMap;return(A=function(t){return t?B:p})(k)}function J(k,p){if(!p&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((p=A(p))&&p.has(k))return p.get(k);var B={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in k)if("default"!==u&&Object.prototype.hasOwnProperty.call(k,u)){var C=t?Object.getOwnPropertyDescriptor(k,
u):null;C&&(C.get||C.set)?Object.defineProperty(B,u,C):B[u]=k[u]}B.default=k;p&&p.set(k,B);return B}function r(k,p,B){const t=[],u=k<p;for(p=B?u?p+1:p-1:p;u?k<p:k>p;u?k++:k--)t.push(k);return t}function w(k,p,B){if("undefined"!==typeof k&&null!==k&&"function"===typeof k[p])return B(k,p)}Object.defineProperty(I,"__esModule",{value:!0});I.Types=void 0;var h=J(P(196)),m=J(P(243)),x=P(99);const z=function(k){for(const p in k)k[p]=(B=>function(){const t=B.apply(B,arguments);null==t.validate&&(t.validate=
u=>null!=u);null==t.equals&&(t.equals=(u,C)=>u===C);null==t.clone&&(t.clone=function(u){let C;return null!=(C=w(u,"clone",F=>F.clone()))?C:u});return t})(k[p]);return k}({array(k,p,B=null){const t=k.lerp?function(C,F,M,T){const N=Math.min(C.length,F.length);for(let W=0,ka=N,Y=0<=ka;Y?W<ka:W>ka;Y?W++:W--)M[W]=k.lerp(C[W],F[W],M[W],T);return M}:void 0,u=k.op?function(C,F,M,T){const N=Math.min(C.length,F.length);for(let W=0,ka=N,Y=0<=ka;Y?W<ka:W>ka;Y?W++:W--)M[W]=k.op(C[W],F[W],M[W],T);return M}:void 0;
null==B||B instanceof Array||(B=[B]);return{uniform(){if(k.uniform)return k.uniform()+"v"},make(){return null!=B?B.slice():p?r(0,p,!1).map(C=>k.make()):[]},validate(C,F,M){C instanceof Array||(C=[C]);var T=F.length=p?p:C.length;for(let N=0,W=T,ka=0<=W;ka?N<W:N>W;ka?N++:N--)T=null!=C[N]?C[N]:k.make(),F[N]=k.validate(T,F[N],M);return F},equals(C,F){var M=C.length;const T=F.length;if(M!==T)return!1;M=Math.min(M,T);for(let N=0,W=M,ka=0<=W;ka?N<W:N>W;ka?N++:N--)if("function"!==typeof k.equals||!k.equals(C[N],
F[N]))return!1;return!0},lerp:t,op:u,clone(C){return Array.from(C).map(F=>k.clone(F))}}},letters(k,p,B=null){if(null!=B){B===""+B&&(B=B.split(""));for(let u=0;u<B.length;u++){const C=B[u];B[u]=k.validate(C,C)}}const t=z.array(k,p,B);return{uniform(){return t.uniform()},make(){return t.make()},validate(u,C,F){u===""+u&&(u=u.split(""));return t.validate(u,C,F)},equals(u,C){return t.equals(u,C)},clone:t.clone}},nullable(k,p){null==p&&(p=!1);let B=p?k.make():null;return{make(){return B},validate(t,u,
C){if(null===t)return t;null===u&&(u=k.make());return k.validate(t,u,C)},uniform(){return"function"===typeof k.uniform?k.uniform():void 0},equals(t,u){let C;const F=null===t,M=null===u;return F&&M?!0:F^M?!1:null!=(C="function"===typeof k.equals?k.equals(t,u):void 0)?C:t===u},lerp:k.lerp?function(t,u,C,F){if(null===t||null===u)return.5>F?t:u;null==C&&(C=k.make());B=k.lerp(t,u,C,F);return C}:void 0,op:k.op?function(t,u,C,F){if(null===t||null===u)return null;null==C&&(C=k.make());return B=k.op(t,u,C,
F)}:void 0,emitter:k.emitter?function(t,u){return null==u?t:null==t?u:k.emitter(t,u)}:void 0}},enum(k,p,B){let t;null==p&&(p=[]);null==B&&(B={});let u=0;const C={};for(t of Array.from(p))t!==+t&&null==B[t]&&(B[t]=u++);for(t of Array.from(p))t===+t&&(C[t]=t);for(t in B)u=B[t],C[u]=!0;null==C[k]&&(k=B[k]);return{enum(){return B},make(){return k},validate(F,M,T){F=C[F]?F:B[F];return null!=F?F:T()}}},enumber(k,p,B){null==B&&(B={});const t=z.enum(k,p,B);return{enum:t.enum,uniform(){return"f"},make(){let u;
return null!=(u=t.make())?u:+k},validate(u,C,F){return u===+u?u:t.validate(u,C,F)},op(u,C,F,M){return M(u,C)}}},select(k){null==k&&(k="\x3c");k;return{make(){return k},validate(p,B,t){return"string"===typeof p||"object"===typeof p?p:t()}}},bool(k){k=!!k;return{uniform(){return"f"},make(){return k},validate(p,B,t){return!!p}}},int(k){null==k&&(k=0);k=+Math.round(k);return{uniform(){return"i"},make(){return k},validate(p,B,t){let u;return p!==(u=+p)?t():Math.round(u)||0},op(p,B,t,u){return u(p,B)}}},
round(k){null==k&&(k=0);k=+Math.round(k);return{uniform(){return"f"},make(){return k},validate(p,B,t){let u;return p!==(u=+p)?t():Math.round(u)||0},op(p,B,t,u){return u(p,B)}}},number(k){null==k&&(k=0);return{uniform(){return"f"},make(){return+k},validate(p,B,t){let u;return p!==(u=+p)?t():u||0},op(p,B,t,u){return u(p,B)}}},positive(k,p){null==p&&(p=!1);return{uniform:k.uniform,make:k.make,validate(B,t,u){B=k.validate(B,t,u);return 0>B||p&&0>=B?u():B},op(B,t,u,C){return C(B,t)}}},string(k){null==
k&&(k="");return{make(){return""+k},validate(p,B,t){let u;return p!==(u=""+p)?t():u}}},func(){return{make(){return function(){}},validate(k,p,B){return"function"===typeof k?k:B()}}},emitter(){return{make(){return k=>k(1,1,1,1)},validate(k,p,B){return"function"===typeof k?k:B()},emitter(k,p){return h.getLerpEmitter(k,p)}}},object(k){return{make(){return null!=k?k:{}},validate(p,B,t){return"object"===typeof p?p:t()},clone(p){return JSON.parse(JSON.stringify(p))}}},timestamp(k=null){"string"===typeof k&&
(k=Date.parse(k));return{uniform(){return"f"},make(){return null!=k?k:+new Date},validate(p,B,t){p=Date.parse(p);return p!==+p?t():p},op(p,B,t,u){return u(p,B)}}},vec2(k,p){null==k&&(k=0);null==p&&(p=0);const B=[k,p];return{uniform(){return"v2"},make(){return new x.Vector2(k,p)},validate(t,u,C){t===+t&&(t=[t]);if(null===t||void 0===t?0:t.isVector2)u.copy(t);else if(t instanceof Array)t=t.concat(B.slice(t.length)),u.set.apply(u,t);else if(null!=t)u.set(null!=t.x?t.x:k,null!=t.y?t.y:p);else return C();
return u},equals(t,u){return t.x===u.x&&t.y===u.y},op(t,u,C,F){C.x=F(t.x,u.x);C.y=F(t.y,u.y);return C}}},ivec2(k,p){null==k&&(k=0);null==p&&(p=0);k=z.vec2(k,p);const {validate:B}=k;k.validate=function(t,u,C){B(t,u,C);u.x=Math.round(u.x);u.y=Math.round(u.y);return u};return k},vec3(k,p,B){null==k&&(k=0);null==p&&(p=0);null==B&&(B=0);const t=[k,p,B];return{uniform(){return"v3"},make(){return new x.Vector3(k,p,B)},validate(u,C,F){u===+u&&(u=[u]);if(null===u||void 0===u?0:u.isVector3)C.copy(u);else if(u instanceof
Array)u=u.concat(t.slice(u.length)),C.set.apply(C,u);else if(null!=u)C.set(null!=u.x?u.x:k,null!=u.y?u.y:p,null!=u.z?u.z:B);else return F();return C},equals(u,C){return u.x===C.x&&u.y===C.y&&u.z===C.z},op(u,C,F,M){F.x=M(u.x,C.x);F.y=M(u.y,C.y);F.z=M(u.z,C.z);return F}}},ivec3(k,p,B){null==k&&(k=0);null==p&&(p=0);null==B&&(B=0);k=z.vec3(k,p,B);const {validate:t}=k;k.validate=function(u,C,F){t(u,C,F);C.x=Math.round(C.x);C.y=Math.round(C.y);C.z=Math.round(C.z);return C};return k},vec4(k,p,B,t){null==
k&&(k=0);null==p&&(p=0);null==B&&(B=0);null==t&&(t=0);const u=[k,p,B,t];return{uniform(){return"v4"},make(){return new x.Vector4(k,p,B,t)},validate(C,F,M){C===+C&&(C=[C]);if(null===C||void 0===C?0:C.isVector4)F.copy(C);else if(C instanceof Array)C=C.concat(u.slice(C.length)),F.set.apply(F,C);else if(null!=C)F.set(null!=C.x?C.x:k,null!=C.y?C.y:p,null!=C.z?C.z:B,null!=C.w?C.w:t);else return M();return F},equals(C,F){return C.x===F.x&&C.y===F.y&&C.z===F.z&&C.w===F.w},op(C,F,M,T){M.x=T(C.x,F.x);M.y=T(C.y,
F.y);M.z=T(C.z,F.z);M.w=T(C.w,F.w);return M}}},ivec4(k,p,B,t){null==k&&(k=0);null==p&&(p=0);null==B&&(B=0);null==t&&(t=0);k=z.vec4(k,p,B,t);const {validate:u}=k;k.validate=function(C,F,M){u(C,F,M);F.x=Math.round(F.x);F.y=Math.round(F.y);F.z=Math.round(F.z);F.w=Math.round(F.w);return F};return k},mat3(k,p,B,t,u,C,F,M,T){null==k&&(k=1);null==p&&(p=0);null==B&&(B=0);null==t&&(t=0);null==u&&(u=1);null==C&&(C=0);null==F&&(F=0);null==M&&(M=0);null==T&&(T=1);const N=[k,p,B,t,u,C,F,M,T];return{uniform(){return"m4"},
make(){const W=new x.Matrix3;W.set(k,p,B,t,u,C,F,M,T);return W},validate(W,ka,Y){if(null===W||void 0===W?0:W.isMatrix3)ka.copy(W);else if(W instanceof Array)W=W.concat(N.slice(W.length)),ka.set.apply(ka,W);else return Y();return ka}}},mat4(k,p,B,t,u,C,F,M,T,N,W,ka,Y,H,qa,Ca){null==k&&(k=1);null==p&&(p=0);null==B&&(B=0);null==t&&(t=0);null==u&&(u=0);null==C&&(C=1);null==F&&(F=0);null==M&&(M=0);null==T&&(T=0);null==N&&(N=0);null==W&&(W=1);null==ka&&(ka=0);null==Y&&(Y=0);null==H&&(H=0);null==qa&&(qa=
0);null==Ca&&(Ca=1);const La=[k,p,B,t,u,C,F,M,T,N,W,ka,Y,H,qa,Ca];return{uniform(){return"m4"},make(){const Oa=new x.Matrix4;Oa.set(k,p,B,t,u,C,F,M,T,N,W,ka,Y,H,qa,Ca);return Oa},validate(Oa,ea,kb){if(null===Oa||void 0===Oa?0:Oa.isMatrix4)ea.copy(Oa);else if(Oa instanceof Array)Oa=Oa.concat(La.slice(Oa.length)),ea.set.apply(ea,Oa);else return kb();return ea}}},quat(k,p,B,t){null==k&&(k=0);null==p&&(p=0);null==B&&(B=0);null==t&&(t=1);const u=z.vec4(k,p,B,t);return{uniform(){return"v4"},make(){return new x.Quaternion},
validate(C,F,M){(null===C||void 0===C?0:C.isQuaternion)?F.copy(C):F=u.validate(C,F,M);F.normalize();return F},equals(C,F){return C.x===F.x&&C.y===F.y&&C.z===F.z&&C.w===F.w},op(C,F,M,T){M.x=T(C.x,F.x);M.y=T(C.y,F.y);M.z=T(C.z,F.z);M.w=T(C.w,F.w);M.normalize();return M},lerp(C,F,M,T){M.slerpQuaternions?M.slerpQuaternions(C,F,T):x.Quaternion.slerp(C,F,M,T);return M}}},color(k,p,B){null==k&&(k=.5);null==p&&(p=.5);null==B&&(B=.5);const t=[k,p,B];return{uniform(){return"c"},make(){return new x.Color(k,
p,B)},validate(u,C,F){u===""+u?u=(new x.Color).setStyle(u):u===+u&&(u=new x.Color(u));if(null===u||void 0===u?0:u.isColor)C.copy(u);else if(u instanceof Array)u=u.concat(t.slice(u.length)),C.setRGB.apply(C,u);else if(null!=u)C.set(null!=u.r?u.r:k,null!=u.g?u.g:p,null!=u.b?u.b:B);else return F();return C},equals(u,C){return u.r===C.r&&u.g===C.g&&u.b===C.b},op(u,C,F,M){F.r=M(u.r,C.r);F.g=M(u.g,C.g);F.b=M(u.b,C.b);return F}}},axis(k,p){let B;null==k&&(k=1);null==p&&(p=!1);const t={x:1,y:2,z:3,w:4,W:1,
H:2,D:3,I:4,zero:0,null:0,width:1,height:2,depth:3,items:4},u=p?[0,1,2,3,4]:[1,2,3,4];null!=(B=t[k])&&(k=B);return{make(){return k},validate(C,F,M){let T;null!=(B=t[C])&&(C=B);C=null!=(T=Math.round(C))?T:0;return Array.from(u).includes(C)?C:M()}}},transpose(k){null==k&&(k=[1,2,3,4]);const p=z.letters(z.axis(null,!1),0,k),B=z.letters(z.axis(null,!1),4,k);return{make(){return B.make()},validate(t,u,C){let F=[1,2,3,4];p.validate(t,F,C);4>F.length&&(t=[1,2,3,4].filter(M=>-1===F.indexOf(M)),F=F.concat(t));
return 0>Array.from(F).map((M,T)=>F.indexOf(M)===T).indexOf(!1)?B.validate(F,u,C):C()},equals:B.equals,clone:B.clone}},swizzle(k,p=null){null==k&&(k=[1,2,3,4]);null==p&&(p=k.length);k=k.slice(0,p);const B=z.letters(z.axis(null,!1),0,k),t=z.letters(z.axis(null,!0),p,k);return{make(){return t.make()},validate(u,C,F){let M=k.slice();B.validate(u,M,F);M.length<p&&(M=M.concat([0,0,0,0]).slice(0,p));return t.validate(M,C,F)},equals:t.equals,clone:t.clone}},classes(){const k=z.array(z.string());return{make(){return k.make()},
validate(p,B,t){p===""+p&&(p=p.split(" "));p=p.filter(u=>!!u.length);return k.validate(p,B,t)},equals:k.equals,clone:k.clone}},blending(k){null==k&&(k="normal");return z.enum(k,"no normal add subtract multiply custom".split(" "))},filter(k){null==k&&(k="nearest");return z.enum(k,[],{nearest:x.NearestFilter,nearestMipMapNearest:x.NearestMipMapNearestFilter,nearestMipMapLinear:x.NearestMipMapLinearFilter,linear:x.LinearFilter,linearMipMapNearest:x.LinearMipMapNearestFilter,linearMipmapLinear:x.LinearMipMapLinearFilter})},
type(k){null==k&&(k="unsignedByte");return z.enum(k,[],{unsignedByte:x.UnsignedByteType,byte:x.ByteType,short:x.ShortType,unsignedShort:x.UnsignedShortType,int:x.IntType,unsignedInt:x.UnsignedIntType,float:x.FloatType})},scale(k){null==k&&(k="linear");return z.enum(k,["linear","log"])},mapping(k){null==k&&(k="relative");return z.enum(k,["relative","absolute"])},indexing(k){null==k&&(k="original");return z.enum(k,["original","final"])},shape(k){null==k&&(k="circle");return z.enum(k,"circle square diamond up down left right".split(" "))},
join(k){null==k&&(k="miter");return z.enum(k,["miter","round","bevel"])},stroke(k){null==k&&(k="solid");return z.enum(k,["solid","dotted","dashed"])},vertexPass(k){null==k&&(k="view");return z.enum(k,["data","view","world","eye"])},fragmentPass(k){null==k&&(k="light");return z.enum(k,["color","light","rgba"])},ease(k){null==k&&(k="linear");return z.enum(k,["linear","cosine","binary","hold"])},fit(k){null==k&&(k="contain");return z.enum(k,["x","y","contain","cover"])},anchor(k){null==k&&(k="middle");
return z.enumber(k,[],{first:1,middle:0,last:-1})},transitionState(k){null==k&&(k="enter");return z.enumber(k,[],{enter:-1,visible:0,exit:1})},font(k){null==k&&(k="sans-serif");const p=m.parseQuoted;k instanceof Array||(k=p(k));const B=z.array(z.string(),0,k);return{make(){return B.make()},validate(t,u,C){try{t instanceof Array||(t=p(t))}catch(F){return C()}t=t.filter(F=>!!F.length);return B.validate(t,u,C)},equals:B.equals,clone:B.clone}},data(k){null==k&&(k=[]);return{make(){return[]},validate(p,
B,t){return p instanceof Array?p:null!=(null!=p?p.length:void 0)?p:t()},emitter(p,B){return h.getLerpThunk(p,B)}}}});I.Types=z};
shadow$provide[315]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Types=void 0;G=y(314).Types;g.Types=G};
shadow$provide[316]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Traits=void 0;G=y(315);G={node:{id:G.Types.nullable(G.Types.string()),classes:G.Types.classes()},entity:{active:G.Types.bool(!0)},object:{visible:G.Types.bool(!0)},latch:{data:G.Types.nullable(G.Types.object()),deep:G.Types.nullable(G.Types.bool(!0))},unit:{scale:G.Types.nullable(G.Types.number()),fov:G.Types.nullable(G.Types.number()),focus:G.Types.nullable(G.Types.number(1),!0)},span:{range:G.Types.nullable(G.Types.vec2(-1,
1))},view:{range:G.Types.array(G.Types.vec2(-1,1),4)},view3:{position:G.Types.vec3(),quaternion:G.Types.quat(),rotation:G.Types.vec3(),scale:G.Types.vec3(1,1,1),eulerOrder:G.Types.swizzle("xyz")},view4:{position:G.Types.vec4(),scale:G.Types.vec4(1,1,1,1)},layer:{depth:G.Types.number(1),fit:G.Types.fit("y")},vertex:{pass:G.Types.vertexPass()},fragment:{pass:G.Types.fragmentPass(),gamma:G.Types.bool(!1)},transform3:{position:G.Types.vec3(),quaternion:G.Types.quat(),rotation:G.Types.vec3(),eulerOrder:G.Types.swizzle("xyz"),
scale:G.Types.vec3(1,1,1),matrix:G.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transform4:{position:G.Types.vec4(),scale:G.Types.vec4(1,1,1,1),matrix:G.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},camera:{proxy:G.Types.bool(!1),position:G.Types.nullable(G.Types.vec3()),quaternion:G.Types.nullable(G.Types.quat()),rotation:G.Types.nullable(G.Types.vec3()),lookAt:G.Types.nullable(G.Types.vec3()),up:G.Types.nullable(G.Types.vec3()),eulerOrder:G.Types.swizzle("xyz"),fov:G.Types.nullable(G.Types.number(1))},
polar:{bend:G.Types.number(1),helix:G.Types.number(0)},spherical:{bend:G.Types.number(1)},stereographic:{bend:G.Types.number(1)},interval:{axis:G.Types.axis()},area:{axes:G.Types.swizzle([1,2],2)},volume:{axes:G.Types.swizzle([1,2,3],3)},origin:{origin:G.Types.vec4()},scale:{divide:G.Types.number(10),unit:G.Types.number(1),base:G.Types.number(10),mode:G.Types.scale(),start:G.Types.bool(!0),end:G.Types.bool(!0),zero:G.Types.bool(!0),factor:G.Types.positive(G.Types.number(1)),nice:G.Types.bool(!0)},
grid:{lineX:G.Types.bool(!0),lineY:G.Types.bool(!0),crossed:G.Types.bool(!1),closedX:G.Types.bool(!1),closedY:G.Types.bool(!1)},axis:{detail:G.Types.int(1),crossed:G.Types.bool(!1)},data:{data:G.Types.nullable(G.Types.data()),expr:G.Types.nullable(G.Types.emitter()),bind:G.Types.nullable(G.Types.func()),live:G.Types.bool(!0)},buffer:{channels:G.Types.enum(4,[1,2,3,4]),items:G.Types.int(1),fps:G.Types.nullable(G.Types.int(60)),hurry:G.Types.int(5),limit:G.Types.int(60),realtime:G.Types.bool(!1),observe:G.Types.bool(!1),
aligned:G.Types.bool(!1)},sampler:{centered:G.Types.bool(!1),padding:G.Types.number(0)},array:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),bufferWidth:G.Types.int(1),history:G.Types.int(1)},matrix:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),history:G.Types.int(1),bufferWidth:G.Types.int(1),bufferHeight:G.Types.int(1)},voxel:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(1),
!0)),depth:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),bufferWidth:G.Types.int(1),bufferHeight:G.Types.int(1),bufferDepth:G.Types.int(1)},resolve:{expr:G.Types.nullable(G.Types.func()),items:G.Types.int(1)},style:{opacity:G.Types.positive(G.Types.number(1)),color:G.Types.color(),blending:G.Types.blending(),zWrite:G.Types.bool(!0),zTest:G.Types.bool(!0),zIndex:G.Types.positive(G.Types.round()),zBias:G.Types.number(0),zOrder:G.Types.nullable(G.Types.int())},geometry:{points:G.Types.select(),
colors:G.Types.nullable(G.Types.select())},point:{size:G.Types.positive(G.Types.number(4)),sizes:G.Types.nullable(G.Types.select()),shape:G.Types.shape(),optical:G.Types.bool(!0),fill:G.Types.bool(!0),depth:G.Types.number(1)},line:{width:G.Types.positive(G.Types.number(2)),depth:G.Types.positive(G.Types.number(1)),join:G.Types.join(),stroke:G.Types.stroke(),proximity:G.Types.nullable(G.Types.number(Infinity)),closed:G.Types.bool(!1)},mesh:{fill:G.Types.bool(!0),shaded:G.Types.bool(!1),normals:G.Types.nullable(G.Types.select()),
map:G.Types.nullable(G.Types.select()),lineBias:G.Types.number(5)},strip:{line:G.Types.bool(!1)},face:{line:G.Types.bool(!1)},arrow:{size:G.Types.number(3),start:G.Types.bool(!1),end:G.Types.bool(!1)},ticks:{normal:G.Types.vec3(0,0,1),size:G.Types.positive(G.Types.number(10)),epsilon:G.Types.positive(G.Types.number(.001))},attach:{offset:G.Types.vec2(0,-20),snap:G.Types.bool(!1),depth:G.Types.number(0)},format:{digits:G.Types.nullable(G.Types.positive(G.Types.number(3))),data:G.Types.nullable(G.Types.data()),
expr:G.Types.nullable(G.Types.func()),live:G.Types.bool(!0)},font:{font:G.Types.font("sans-serif"),style:G.Types.string(),variant:G.Types.string(),weight:G.Types.string(),detail:G.Types.number(24),sdf:G.Types.number(5)},label:{text:G.Types.select(),size:G.Types.number(16),outline:G.Types.number(2),expand:G.Types.number(0),background:G.Types.color(1,1,1)},overlay:{opacity:G.Types.number(1),zIndex:G.Types.positive(G.Types.round(0))},dom:{points:G.Types.select(),html:G.Types.select(),size:G.Types.number(16),
outline:G.Types.number(2),zoom:G.Types.number(1),color:G.Types.nullable(G.Types.color()),attributes:G.Types.nullable(G.Types.object()),pointerEvents:G.Types.bool(!1)},texture:{minFilter:G.Types.filter("nearest"),magFilter:G.Types.filter("nearest"),type:G.Types.type("float")},shader:{sources:G.Types.nullable(G.Types.select()),indices:G.Types.number(4),channels:G.Types.number(4),language:G.Types.string("glsl"),code:G.Types.string(),uniforms:G.Types.nullable(G.Types.object())},include:{shader:G.Types.select()},
operator:{source:G.Types.select()},spread:{unit:G.Types.mapping(),items:G.Types.nullable(G.Types.vec4()),width:G.Types.nullable(G.Types.vec4()),height:G.Types.nullable(G.Types.vec4()),depth:G.Types.nullable(G.Types.vec4()),alignItems:G.Types.anchor(),alignWidth:G.Types.anchor(),alignHeight:G.Types.anchor(),alignDepth:G.Types.anchor()},grow:{scale:G.Types.number(1),items:G.Types.nullable(G.Types.anchor()),width:G.Types.nullable(G.Types.anchor()),height:G.Types.nullable(G.Types.anchor()),depth:G.Types.nullable(G.Types.anchor())},
split:{order:G.Types.transpose("wxyz"),axis:G.Types.nullable(G.Types.axis()),length:G.Types.int(1),overlap:G.Types.int(0)},join:{order:G.Types.transpose("wxyz"),axis:G.Types.nullable(G.Types.axis()),overlap:G.Types.int(0)},swizzle:{order:G.Types.swizzle()},transpose:{order:G.Types.transpose()},repeat:{items:G.Types.number(1),width:G.Types.number(1),height:G.Types.number(1),depth:G.Types.number(1)},slice:{items:G.Types.nullable(G.Types.vec2()),width:G.Types.nullable(G.Types.vec2()),height:G.Types.nullable(G.Types.vec2()),
depth:G.Types.nullable(G.Types.vec2())},reverse:{items:G.Types.bool(!1),width:G.Types.bool(!1),height:G.Types.bool(!1),depth:G.Types.bool(!1)},lerp:{size:G.Types.mapping("absolute"),items:G.Types.nullable(G.Types.number()),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),depth:G.Types.nullable(G.Types.number())},subdivide:{items:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),width:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(),
!0)),depth:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),bevel:G.Types.number(1),lerp:G.Types.bool(!0)},resample:{indices:G.Types.number(4),channels:G.Types.number(4),sample:G.Types.mapping(),size:G.Types.mapping("absolute"),items:G.Types.nullable(G.Types.number()),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),depth:G.Types.nullable(G.Types.number())},readback:{type:G.Types.type("float"),expr:G.Types.nullable(G.Types.func()),data:G.Types.data(),channels:G.Types.enum(4,
[1,2,3,4]),items:G.Types.nullable(G.Types.int()),width:G.Types.nullable(G.Types.int()),height:G.Types.nullable(G.Types.int()),depth:G.Types.nullable(G.Types.int())},root:{speed:G.Types.number(1),camera:G.Types.select("[camera]")},inherit:{source:G.Types.select(),traits:G.Types.array(G.Types.string())},rtt:{size:G.Types.mapping("absolute"),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),history:G.Types.int(1)},compose:{alpha:G.Types.bool(!1)},present:{index:G.Types.int(1),
directed:G.Types.bool(!0),length:G.Types.number(0)},slide:{order:G.Types.nullable(G.Types.int(0)),steps:G.Types.number(1),early:G.Types.int(0),late:G.Types.int(0),from:G.Types.nullable(G.Types.int(0)),to:G.Types.nullable(G.Types.int(1))},transition:{stagger:G.Types.vec4(),enter:G.Types.nullable(G.Types.number(1)),exit:G.Types.nullable(G.Types.number(1)),delay:G.Types.number(0),delayEnter:G.Types.nullable(G.Types.number(0)),delayExit:G.Types.nullable(G.Types.number(0)),duration:G.Types.number(.3),
durationEnter:G.Types.nullable(G.Types.number(0)),durationExit:G.Types.nullable(G.Types.number(0))},move:{from:G.Types.vec4(),to:G.Types.vec4()},seek:{seek:G.Types.nullable(G.Types.number(0))},track:{target:G.Types.select(),script:G.Types.object({}),ease:G.Types.ease("cosine")},trigger:{trigger:G.Types.nullable(G.Types.int(1),!0)},step:{playback:G.Types.ease("linear"),stops:G.Types.nullable(G.Types.array(G.Types.number())),delay:G.Types.number(0),duration:G.Types.number(.3),pace:G.Types.number(0),
speed:G.Types.number(1),rewind:G.Types.number(2),skip:G.Types.bool(!0),realtime:G.Types.bool(!1)},play:{delay:G.Types.number(0),pace:G.Types.number(1),speed:G.Types.number(1),from:G.Types.number(0),to:G.Types.number(Infinity),realtime:G.Types.bool(!1),loop:G.Types.bool(!1)},now:{now:G.Types.nullable(G.Types.timestamp()),seek:G.Types.nullable(G.Types.number(0)),pace:G.Types.number(1),speed:G.Types.number(1)}};g.Traits=G};
shadow$provide[317]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.make=g.log=g.linear=void 0;const A=function(m,e,c,h,l,n,p,v,w,z){let x,E;null==z&&(z=!0);c||(c=10);h||(h=1);l||(l=10);n||(n=1);const H=(e-m)/c;if(!z)return e=(()=>{let ba,T;const O=[];x=0;T=c;for(ba=0<=T;ba?x<=T:x>=T;ba?x++:x--)O.push(m+x*H);return O})(),p||e.shift(),v||e.pop(),w||(e=e.filter(ba=>0!==ba)),e;h||(h=1);l||(l=10);const I=h*Math.pow(l,Math.floor(Math.log(H/h)/Math.log(l))),N=0===l%2?[l/2,1,.5]:0===
l%3?[l/3,1,1/3]:[1];h=(()=>{const ba=[];for(E of Array.from(N))ba.push(I*E);return ba})();let Q=Infinity,V=h.reduce(function(ba,T){E=T/H;const O=Math.max(E,1/E);return O<Q?(Q=O,T):ba},I);V*=n;m=Math.ceil(m/V+ +!p)*V;e=(Math.floor(e/V)-+!v)*V;c=Math.ceil((e-m)/V);e=(()=>{let ba,T;const O=[];x=0;T=c;for(ba=0<=T;ba?x<=T:x>=T;ba?x++:x--)O.push(m+x*V);return O})();w||(e=e.filter(ba=>0!==ba));return e};g.linear=A;const u=function(m,e,c,h,l,n,p,v,w,z){throw Error("Log ticks not yet implemented.");};g.log=
u;g.make=function(m,e,c,h,l,n,p,v,w,z,x){switch(m){case 0:return A(e,c,h,l,n,p,v,w,z,x);case 1:return u(e,c,h,l,n,p,v,w,z,x)}}};
shadow$provide[318]=function(ra,P,db,I){function A(z){if("function"!==typeof WeakMap)return null;var k=new WeakMap,p=new WeakMap;return(A=function(B){return B?p:k})(z)}function J(z,k){if(!k&&z&&z.__esModule)return z;if(null===z||"object"!==typeof z&&"function"!==typeof z)return{default:z};if((k=A(k))&&k.has(z))return k.get(z);var p={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in z)if("default"!==t&&Object.prototype.hasOwnProperty.call(z,t)){var u=B?Object.getOwnPropertyDescriptor(z,
t):null;u&&(u.get||u.set)?Object.defineProperty(p,t,u):p[t]=z[t]}p.default=z;k&&k.set(z,p);return p}function r(z,k){return"undefined"!==typeof z&&null!==z?k(z):void 0}Object.defineProperty(I,"__esModule",{value:!0});I.Helpers=void 0;var w=J(P(197)),h=J(P(317)),m=P(99);const x={bind:{make(z){null==this.bind&&(this.bind={});null==this.bound&&(this.bound=[]);for(const p of Array.from(z)){({callback:z}=p);const {to:B,trait:t,optional:u,unique:C,multiple:F}=p;null==z&&(z=this.rebuild);const M=B.split(/\./g).pop(),
T=this._get(B);let N=null;if(null!=T){let W=this;for(var k=!1;!k;)W=N=this._attach(T,t,z,this,W,u,F),k=C&&(null==N||0>this.bound.indexOf(N)),k=F||u||!C||k}if(null!=N)if(null!=this.resize&&this._listen(N,"source.resize",this.resize),z&&this._listen(N,"source.rebuild",z),F)for(const W of Array.from(N))this.bound.push(W);else this.bound.push(N);this.bind[M]=N}return null},unmake(){if(this.bind)return delete this.bind,delete this.bound}},span:{make(){this.spanView=this._inherit("view");return this._listen("view",
"view.range",()=>this.trigger({type:"span.range"}))},unmake(){return delete this.spanView},get:function(){const z=new m.Vector2(-1,1);return function(k,p){let B;k=this._get(k+"span.range");return null!=k?k:null!=(B=null!=this.spanView?this.spanView.axis(p):void 0)?B:z}}()},scale:{divide(z){const k=this._get(z+"scale.divide");z=this._get(z+"scale.factor");return Math.round(2.5*k/z)},generate(z,k,p,B){const t=this._get(z+"scale.mode"),u=this._get(z+"scale.divide"),C=this._get(z+"scale.unit"),F=this._get(z+
"scale.base"),M=this._get(z+"scale.factor"),T=this._get(z+"scale.start"),N=this._get(z+"scale.end"),W=this._get(z+"scale.zero");z=this._get(z+"scale.nice");p=h.make(t,p,B,u,C,F,M,T,N,W,z);k.copy(p);return p}},style:{uniforms(){return{styleColor:this.node.attributes["style.color"],styleOpacity:this.node.attributes["style.opacity"],styleZBias:this.node.attributes["style.zBias"],styleZIndex:this.node.attributes["style.zIndex"]}}},arrow:{uniforms(){var {start:z}=this.props,{end:k}=this.props;const p=
this._attributes.make(this._types.number(1.25/(z+k)));z=this._attributes.make(this._types.vec2(+z,+k));k=this.node.attributes["arrow.size"];return{clipStyle:z,clipRange:k,clipSpace:p,arrowSpace:p,arrowSize:k}}},point:{uniforms(){return{pointSize:this.node.attributes["point.size"],pointDepth:this.node.attributes["point.depth"]}}},line:{uniforms(){return{lineWidth:this.node.attributes["line.width"],lineDepth:this.node.attributes["line.depth"],lineProximity:this.node.attributes["line.proximity"]}}},
surface:{uniforms(){return{}}},shade:{pipeline(z){if(!this._inherit("fragment"))return z;null==z&&(z=this._shaders.shader());for(let k=0;2>=k;k++)z=r(this._inherit("fragment"),p=>p.fragment(z,k));z.pipe("fragment.map.rgba");return z},normal(z){z.pipe(w.swizzleVec4("xyz"));return z},map(z){return z?this._shaders.shader().pipe("mesh.map.uvwo").pipe(z):z}},position:{pipeline(z){if(!this._inherit("vertex"))return z;null==z&&(z=this._shaders.shader());for(let k=0;3>=k;k++)z=r(this._inherit("vertex"),p=>
p.vertex(z,k));return z},swizzle(z,k){if(z)return this._shaders.shader().pipe(w.swizzleVec4(k)).pipe(z)},swizzle2(z,k,p){if(z)return this._shaders.shader().split().pipe(w.swizzleVec4(k)).next().pipe(w.swizzleVec4(p)).join().pipe(z)}},visible:{make(){const z={type:"visible.change"};let k=null;this.setVisible=function(t){null!=t&&(k=t);return p()};const p=()=>{let t;const u=this.isVisible;let C=null!=(t=null!=k?k:this._get("object.visible"))?t:!0;null!=B&&C&&(C=B.isVisible);this.isVisible=C;if(u!==
this.isVisible)return this.trigger(z)},B=this._inherit("visible");B&&this._listen(B,"visible.change",p);this.is("object")&&this._listen(this.node,"change:object",p);return p()},unmake(){return delete this.isVisible}},active:{make(){const z={type:"active.change"};let k=null;this.setActive=function(t){null!=t&&(k=t);return p()};const p=()=>{let t;const u=this.isActive;let C=null!=(t=null!=k?k:this._get("entity.active"))?t:!0;null!=B&&C&&(C=B.isActive);this.isActive=C;if(u!==this.isActive)return this.trigger(z)},
B=this._inherit("active");B&&this._listen(B,"active.change",p);this.is("entity")&&this._listen(this.node,"change:entity",p);return p()},unmake(){return delete this.isActive}},object:{make(z){let k,p;null==z&&(z=[]);this.objects=z;this.renders=this.objects.reduce((M,T)=>M.concat(T.renders),[]);z=this._inherit("scene");let B=k=p=null;const t=Array.from(this.traits).includes("style");B=1;k=m.NormalBlending;let u=!0,C=!0;t&&({opacity:B}=this.props,{blending:k}=this.props,{zOrder:p}=this.props,{zWrite:u}=
this.props,{zTest:C}=this.props);const F=()=>{const M=null!=p?-p:this.node.order;return(null!=this.isVisible?this.isVisible:1)&&0<B?t?(()=>{const T=[];for(const N of Array.from(this.objects))N.show(1>B,k,M),T.push(N.depth(u,C));return T})():(()=>{const T=[];for(const N of Array.from(this.objects))T.push(N.show(!0,k,M));return T})():(()=>{const T=[];for(const N of Array.from(this.objects))T.push(N.hide());return T})()};this._listen(this.node,"change:style",M=>{({changed:M}=M);let T=null;M["style.opacity"]&&
(T=B=this.props.opacity);M["style.blending"]&&(T=k=this.props.blending);M["style.zOrder"]&&(T=p=this.props.zOrder);M["style.zWrite"]&&(T=u=this.props.zWrite);M["style.zTest"]&&(T=C=this.props.zTest);if(null!=T)return F()});this._listen(this.node,"reindex",F);this._listen(this,"visible.change",F);for(const M of Array.from(this.objects))z.adopt(M);return F()},unmake(z){let k;null==z&&(z=!0);if(this.objects){var p=this._inherit("scene");for(k of Array.from(this.objects))p.unadopt(k);if(z)return(()=>
{const B=[];for(k of Array.from(this.objects))B.push(k.dispose());return B})()}},mask(){let z;if(z=this._inherit("mask"))return z.mask(void 0)}},unit:{make(){let z,k,p,B,t,u,C,F,M,T,N,W,ka=Math.PI;this.unitUniforms={renderScaleInv:F=this._attributes.make(this._types.number(1)),renderScale:C=this._attributes.make(this._types.number(1)),renderAspect:B=this._attributes.make(this._types.number(1)),renderWidth:M=this._attributes.make(this._types.number(0)),renderHeight:t=this._attributes.make(this._types.number(0)),
viewWidth:N=this._attributes.make(this._types.number(0)),viewHeight:T=this._attributes.make(this._types.number(0)),pixelRatio:k=this._attributes.make(this._types.number(1)),pixelUnit:p=this._attributes.make(this._types.number(1)),worldUnit:W=this._attributes.make(this._types.number(1)),focusDepth:z=this._attributes.make(this._types.number(1)),renderOdd:u=this._attributes.make(this._types.vec2())};const Y=new m.Vector3,H=new m.Vector3,qa=()=>{var La;let Oa;if(null!=(Oa=null!=Ca?Ca.getSize():void 0)){ka=
Math.PI;var {scale:ea}=this.props,{fov:kb}=this.props,zb=null!=this.props.focus?this.props.focus:this.inherit("unit").props.focus,Va=null===ea,Pa=1;if(La=null!=Ca?Ca.getCamera():void 0)Pa=La.projectionMatrix,Y.set(0,-.5,1).applyMatrix4(Pa),H.set(0,.5,1).applyMatrix4(Pa),Y.sub(H),Pa=Y.y;La=Oa.renderHeight/Oa.viewHeight;kb=null!=kb?Pa*Math.tan(kb*ka/360):1;ea=Va?La:Oa.renderHeight/ea*kb;Va=Oa.renderHeight*Pa/2;N.value=Oa.viewWidth;T.value=Oa.viewHeight;M.value=Oa.renderWidth;t.value=Oa.renderHeight;
B.value=Oa.aspect;C.value=Va;F.value=1/Va;k.value=La;p.value=ea;W.value=ea/Va;z.value=zb;return u.value.set(Oa.renderWidth%2,Oa.renderHeight%2).multiplyScalar(.5)}},Ca=this.is("root")?this:this._inherit("root");this._listen(Ca,"root.update",qa);return qa()},unmake(){return delete this.unitUniforms},get(){const z={};for(const k in this.unitUniforms)z[k]=this.unitUniforms[k].value;return z},uniforms(){return this.unitUniforms}}};I.Helpers=function(z,k){const p={};for(const B of Array.from(k))if(k=x[B]){p[B]=
{};for(const t in k)p[B][t]=k[t].bind(z)}return p}};
shadow$provide[319]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={Types:!0};Object.defineProperty(g,"Types",{enumerable:!0,get:function(){return m.Types}});var u=y(313);Object.keys(u).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(A,h)||h in g&&g[h]===u[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return u[h]}}))});var m=y(315),e=y(316);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(A,
h)||h in g&&g[h]===e[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return e[h]}}))});var c=y(318);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(A,h)||h in g&&g[h]===c[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return c[h]}}))})};
shadow$provide[320]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.PrimitiveFactory=void 0;class A{constructor(u,m){this.context=m;this.classes=u.Classes;this.helpers=u.Helpers}getTypes(){return Object.keys(this.classes)}make(u,m,e=null){null==m&&(m={});const c=this.classes[u];if(null==c)throw Error(`Unknown primitive class \`${u}\``);u=new c.model(u,c.defaults,m,e,c,this.context.attributes);new c(u,this.context,this.helpers);return u}}g.PrimitiveFactory=A};
shadow$provide[321]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});var u={Types:!0,Factory:!0};Object.defineProperty(g,"Factory",{enumerable:!0,get:function(){return m.PrimitiveFactory}});g.Types=void 0;G=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);
var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(319));var m=y(320),e=y(186);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(u,c)||c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))});
g.Types=G};
shadow$provide[322]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Renderable=void 0;class A{constructor(u,m){this.renderer=u;this.shaders=m;this.gl=this.renderer.getContext();null==this.uniforms&&(this.uniforms={})}dispose(){this.uniforms=null}_adopt(u){for(const m in u)this.uniforms[m]=u[m]}_set(u){for(const m in u){const e=u[m];null!=this.uniforms[m]&&(this.uniforms[m].value=e)}}}g.Renderable=A};
shadow$provide[323]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Scene=void 0;var A=P(99);ra=P(322);class J extends A.Object3D{constructor(){super();this.matrixAutoUpdate=this.frustumCulled=this.rotationAutoUpdate=!1}}class r extends ra.Renderable{constructor(w,h,m){super(w,h,m);this.root=new J;null!=(null!=m?m.scene:void 0)&&(this.scene=m.scene);null==this.scene&&(this.scene=new A.Scene);this.pending=[];this.async=0;this.scratch=new A.WebGLRenderTarget(1,1);this.camera=
new A.PerspectiveCamera}inject(w){null!=w&&(this.scene=w);return this.scene.add(this.root)}unject(){return null!=this.scene?this.scene.remove(this.root):void 0}add(w){return this.async?this.pending.push(w):this._add(w)}remove(w){this.pending=this.pending.filter(h=>h!==w);if(null!=w.parent)return this._remove(w)}_add(w){return this.root.add(w)}_remove(w){return this.root.remove(w)}dispose(){if(null!=this.root.parent)return this.unject()}warmup(w){return this.async=+w||0}render(){if(this.pending.length){var {children:w}=
this.root,h=[];for(let z=0,k=this.async,p=0<=k;p?z<k:z>k;p?z++:z--){var m=this.pending.shift();if(!m)break;this._add(m);h.push(h)}var x=w.map(function(z){return z.visible});w.map(z=>z.visible=!Array.from(h).includes(z));m=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.scratch);this.renderer.render(this.scene,this.camera);this.renderer.setRenderTarget(m);return w.map((z,k)=>z.visible=x[k])}}toJSON(){return this.root.toJSON()}}I.Scene=r};
shadow$provide[324]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.RenderFactory=void 0;class A{constructor(u,m,e){this.classes=u;this.renderer=m;this.shaders=e}getTypes(){return Object.keys(this.classes)}make(u,m){return new this.classes[u](this.renderer,this.shaders,m)}}g.RenderFactory=A};
shadow$provide[325]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Buffer=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(322);class m extends G.Renderable{constructor(e,c,h){super(e,c);null==this.items&&(this.items=h.items||1);null==this.samples&&(this.samples=h.samples||1);null==this.channels&&(this.channels=h.channels||4);null==this.callback&&(this.callback=h.callback||function(){})}dispose(){return super.dispose()}update(){const e=this.fill();this.write(e);
return e}setActive(e,c,h,l){}setCallback(e){this.callback=e}write(){}fill(){}generate(e){return u.getStreamer(e,this.samples,this.channels,this.items)}}g.Buffer=m};
shadow$provide[326]=function(ra,P,db,I){function A(m){if("function"!==typeof WeakMap)return null;var x=new WeakMap,z=new WeakMap;return(A=function(k){return k?z:x})(m)}function J(m,x){if(!x&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((x=A(x))&&x.has(m))return x.get(m);var z={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in m)if("default"!==p&&Object.prototype.hasOwnProperty.call(m,p)){var B=k?Object.getOwnPropertyDescriptor(m,
p):null;B&&(B.get||B.set)?Object.defineProperty(z,p,B):z[p]=m[p]}z.default=m;x&&x.set(m,z);return z}Object.defineProperty(I,"__esModule",{value:!0});I.DataTexture=void 0;var r=J(P(99)),w=J(P(193));class h{constructor(m,x,z,k,p){this.renderer=m;this.width=x;this.height=z;this.channels=k;this.n=this.width*this.height*this.channels;this.gl=m=this.renderer.getContext();x=null!=(null!=p?p.magFilter:void 0)?null!=p?p.magFilter:void 0:r.NearestFilter;z=null!=(null!=p?p.type:void 0)?null!=p?p.type:void 0:
r.FloatType;this.minFilter=w.paramToGL(m,null!=(null!=p?p.minFilter:void 0)?null!=p?p.minFilter:void 0:r.NearestFilter);this.magFilter=w.paramToGL(m,x);this.type=w.paramToGL(m,z);this.ctor=w.paramToArrayStorage(z);this.build(p)}build(m){const {gl:x}=this,z=this.renderer.state;this.texture=x.createTexture();this.format=[null,x.LUMINANCE,x.LUMINANCE_ALPHA,x.RGB,x.RGBA][this.channels];this.format3=[null,r.LuminanceFormat,r.LuminanceAlphaFormat,r.RGBFormat,r.RGBAFormat][this.channels];z.bindTexture(x.TEXTURE_2D,
this.texture);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,this.minFilter);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,this.magFilter);this.data=new this.ctor(this.n);x.pixelStorei(x.UNPACK_ALIGNMENT,1);x.texImage2D(x.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,this.data);this.textureObject=new r.Texture(new Image,r.UVMapping,r.ClampToEdgeWrapping,
r.ClampToEdgeWrapping,null!=m?m.minFilter:void 0,null!=m?m.magFilter:void 0);this.textureProperties=this.renderer.properties.get(this.textureObject);this.textureProperties.__webglInit=!0;this.textureProperties.__webglTexture=this.texture;this.textureObject.format=this.format3;this.textureObject.type=r.FloatType;this.textureObject.unpackAlignment=1;this.textureObject.flipY=!1;this.textureObject.generateMipmaps=!1;this.uniforms={dataResolution:{type:"v2",value:new r.Vector2(1/this.width,1/this.height)},
dataTexture:{type:"t",value:this.textureObject}}}write(m,x,z,k,p){const {gl:B}=this;this.renderer.state.bindTexture(B.TEXTURE_2D,this.texture);B.pixelStorei(B.UNPACK_ALIGNMENT,1);B.pixelStorei(B.UNPACK_FLIP_Y_WEBGL,!1);B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);return B.texSubImage2D(B.TEXTURE_2D,0,x,z,k,p,this.format,this.type,m)}dispose(){this.gl.deleteTexture(this.texture);this.textureProperties.__webglInit=!1;return this.textureObject=this.texture=this.textureProperties=this.textureProperties.__webglTexture=
null}}I.DataTexture=h};
shadow$provide[327]=function(ra,P,db,I){function A(z){if("function"!==typeof WeakMap)return null;var k=new WeakMap,p=new WeakMap;return(A=function(B){return B?p:k})(z)}function J(z,k){if(!k&&z&&z.__esModule)return z;if(null===z||"object"!==typeof z&&"function"!==typeof z)return{default:z};if((k=A(k))&&k.has(z))return k.get(z);var p={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in z)if("default"!==t&&Object.prototype.hasOwnProperty.call(z,t)){var u=B?Object.getOwnPropertyDescriptor(z,
t):null;u&&(u.get||u.set)?Object.defineProperty(p,t,u):p[t]=z[t]}p.default=z;k&&k.set(z,p);return p}Object.defineProperty(I,"__esModule",{value:!0});I.DataBuffer=void 0;var r=J(P(196)),w=J(P(197));ra=P(325);var h=P(326),m=P(99);class x extends ra.Buffer{constructor(z,k,p,B){null==B&&(B=!0);const t=p.width||1,u=p.height||1,C=p.depth||1,F=t*u*C;p.samples||(p.samples=F);super(z,k,p);this.width=t;this.height=u;this.depth=C;null==this.samples&&(this.samples=F);B&&this.build(p)}shader(z,k){null==k&&(k=
4);1<this.items||1<this.depth?(4!==k&&z.pipe(w.extendVec(k,4)),z.pipe("map.xyzw.texture",this.uniforms)):2!==k&&z.pipe(w.truncateVec(k,2));z.pipe(`map.2d.data${this.wrap?".wrap":""}`,this.uniforms);z.pipe("sample.2d",this.uniforms);4>this.channels&&z.pipe(w.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return z}build(z){this.data=new Float32Array(this.samples*this.channels*this.items);this.texture=new h.DataTexture(this.renderer,this.items*this.width,this.height*this.depth,this.channels,
z);this.used=this.filled=0;this._adopt(this.texture.uniforms);this._adopt({dataPointer:{type:"v2",value:new m.Vector2},textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}});this.dataPointer=this.uniforms.dataPointer.value;this.streamer=this.generate(this.data)}dispose(){this.data=null;this.texture.dispose();return super.dispose()}getFilled(){return this.filled}setCallback(z){this.callback=z;return this.filled=0}copy(z){const k=Math.min(z.length,this.samples*this.channels*
this.items),p=this.data;for(let B=0,t=k,u=0<=t;u?B<t:B>t;u?B++:B--)p[B]=z[B];this.write(Math.ceil(k/this.channels/this.items))}write(z){null==z&&(z=this.samples);let k=z/this.width;z*=this.items;const p=1>k?z:this.items*this.width;k=Math.ceil(k);this.texture.write(this.data,0,0,p,k);this.dataPointer.set(.5,.5);this.filled=1;this.used=z}through(z,k){let p,B;const {consume:t,done:u}=B=this.streamer,{emit:C}=p=k.streamer;let F=0,M=()=>t((T,N,W,ka)=>z(C,T,N,W,ka,F));M=r.repeatCall(M,this.items);return()=>
{B.reset();p.reset();const T=this.used;for(F=0;!u()&&F<T;)M(),F++;return B.count()}}}I.DataBuffer=x};
shadow$provide[328]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.ArrayBuffer_=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(327);class m extends G.DataBuffer{constructor(e,c,h){const l=h.width||1,n=h.history||1;h.width=l;h.height=n;h.depth=1;super(e,c,h,!1);this.width=l;this.history=n;this.samples=l;this.wrap=1<n;this.build(h)}build(e){super.build();this.pad=this.index=0;return this.streamer=this.generate(this.data)}setActive(e){return this.pad=Math.max(0,this.width-
e)}fill(){const {callback:e}=this;"function"===typeof e.reset&&e.reset();const {emit:c,count:h,done:l,reset:n}=this.streamer;n();const p=this.samples-this.pad;let v=0;for(;!l()&&v<p&&!1!==e(c,v++);)!0;return Math.floor(h()/this.items)}write(e){null==e&&(e=this.samples);e*=this.items;this.texture.write(this.data,0,this.index,e,1);this.dataPointer.set(.5,this.index+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(e,c){let h,l;const {consume:n,
done:p}=l=this.streamer,{emit:v}=h=c.streamer;let w=0,z=()=>n((x,E,H,I)=>e(v,x,E,H,I,w));z=u.repeatCall(z,this.items);return()=>{l.reset();h.reset();const x=this.samples-this.pad;for(w=0;!p()&&w<x;)z(),w++;return l.count()}}}g.ArrayBuffer_=m};
shadow$provide[329]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Geometry=void 0;var A=P(99);class J extends A.BufferGeometry{constructor(){super();new A.BufferGeometry(this);null==this.uniforms&&(this.uniforms={});null==this.groups&&(this.groups=[])}_reduce(r,w){let h=!1;for(let m=0;m<r.length;m++){const x=r[m],z=w[m];h&&(r[m]=z);1<x&&(h=!0)}return r.reduce((m,x)=>m*x)}_emitter(r){r="index"==r?this.getIndex():this.getAttribute(r);const w=r.itemSize,{array:h}=r;let m=0;return[null,
function(x){h[m++]=x},function(x,z){h[m++]=x;h[m++]=z},function(x,z,k){h[m++]=x;h[m++]=z;h[m++]=k},function(x,z,k,p){h[m++]=x;h[m++]=z;h[m++]=k;h[m++]=p}][w]}_finalize(){}_offsets(r){this.groups=r}}I.Geometry=J};
shadow$provide[330]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.ClipGeometry=void 0;ra=P(329);var A=P(99);class J extends ra.Geometry{_clipUniforms(){this.geometryClip=new A.Vector4(1E10,1E10,1E10,1E10);this.geometryResolution=new A.Vector4;this.mapSize=new A.Vector4;null==this.uniforms&&(this.uniforms={});this.uniforms.geometryClip={type:"v4",value:this.geometryClip};this.uniforms.geometryResolution={type:"v4",value:this.geometryResolution};return this.uniforms.mapSize=
{type:"v4",value:this.mapSize}}_clipGeometry(r,w,h,m){this.geometryClip.set(Math.max(0,r-1),Math.max(0,w-1),Math.max(0,h-1),Math.max(0,m-1));return this.geometryResolution.set(1/Math.max(1,r-1),1/Math.max(1,w-1),1/Math.max(1,h-1),1/Math.max(1,m-1))}_clipMap(r,w,h,m){return this.mapSize.set(r,w,h,m)}_clipOffsets(r,w,h,m,x,z,k,p,B){w=this._reduce([m,h,w,x],[p,k,z,B]);return this._offsets([{start:0,count:w*r,materialIndex:0}])}}I.ClipGeometry=J};
shadow$provide[331]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.ArrowGeometry=void 0;var A=P(99);ra=P(330);class J extends ra.ClipGeometry{constructor(r){var w,h,m;let x;var z;let k,p;var B;super(r);this._clipUniforms();this.sides=k=+r.sides||12;this.samples=z=+r.samples||2;this.strips=p=+r.strips||1;this.ribbons=x=+r.ribbons||1;this.layers=m=+r.layers||1;this.flip=w=null!=r.flip?r.flip:!1;this.closed=h=null!=r.closed?r.closed:!1;this.anchor=r=null!=r.anchor?r.anchor:w||
h?0:z-1;var t=p*x*m;var u=(k+2)*t;this.setIndex(new A.BufferAttribute(new Uint32Array(2*k*t*3),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*u),4));this.setAttribute("arrow",new A.BufferAttribute(new Float32Array(3*u),3));this.setAttribute("attach",new A.BufferAttribute(new Float32Array(2*u),2));var C=this._emitter("index");const F=this._emitter("position4"),M=this._emitter("arrow"),T=this._emitter("attach"),N=[];u=0;for(B=0<=k;B?u<k:u>k;B?u++:u--){var W=u/k*2*Math.PI;
N.push([Math.cos(W),Math.sin(W),1])}B=0;for(let ka=0,Y=t,H=0<=Y;H?ka<Y:ka>Y;H?ka++:ka--){const qa=B++,Ca=qa+k+1;u=0;W=k;for(t=0<=W;t?u<W:u>W;t?u++:u--){const La=B+u%k,Oa=B+(u+1)%k;C(qa);C(La);C(Oa);C(Oa);C(La);C(Ca)}B+=k+1}C=w?1:h?z-1:-1;w=w&&!h?z-1:0;for(let ka=0,Y=m,H=0<=Y;H?ka<Y:ka>Y;H?ka++:ka--)for(let qa=0,Ca=x,La=0<=Ca;La?qa<Ca:qa>Ca;La?qa++:qa--)for(let Oa=0,ea=p,kb=0<=ea;kb?Oa<ea:Oa>ea;kb?Oa++:Oa--){F(r,Oa,qa,ka);M(0,0,0);T(C,w);u=0;h=k;for(m=0<=h;m?u<h:u>h;m?u++:u--)F(r,Oa,qa,ka),z=N[u],
M(z[0],z[1],z[2]),T(C,w);F(r,Oa,qa,ka);M(0,0,1);T(C,w)}this._finalize();this.clip()}clip(r,w,h,m){null==r&&({samples:r}=this);null==w&&({strips:w}=this);null==h&&({ribbons:h}=this);null==m&&({layers:m}=this);this._clipGeometry(r,w,h,m);r=0<r?this.sides*this._reduce([m,h,w],[this.layers,this.ribbons,this.strips]):0;return this._offsets([{start:0,count:6*r,materialIndex:0}])}}I.ArrowGeometry=J};
shadow$provide[332]=function(ra,P,db,I){function A(h){if("function"!==typeof WeakMap)return null;var m=new WeakMap,x=new WeakMap;return(A=function(z){return z?x:m})(h)}Object.defineProperty(I,"__esModule",{value:!0});I.Base=void 0;var J=function(h,m){if(!m&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((m=A(m))&&m.has(h))return m.get(h);var x={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in h)if("default"!==k&&Object.prototype.hasOwnProperty.call(h,
k)){var p=z?Object.getOwnPropertyDescriptor(h,k):null;p&&(p.get||p.set)?Object.defineProperty(x,k,p):x[k]=h[k]}x.default=h;m&&m.set(h,x);return x}(P(197)),r=P(99);ra=P(322);class w extends ra.Renderable{constructor(h,m,x){super(h,m,x);this.zUnits=null!=x.zUnits?x.zUnits:0}raw(){for(const h of Array.from(this.renders))this._raw(h);return null}depth(h,m){for(const x of Array.from(this.renders))this._depth(x,h,m);return null}polygonOffset(h,m){for(const x of Array.from(this.renders))this._polygonOffset(x,
h,m);return null}show(h,m,x){return Array.from(this.renders).map(z=>this._show(z,h,m,x))}hide(){for(const h of Array.from(this.renders))this._hide(h);return null}_injectPreamble(h,m){h=h+"\n"+m;return m.match(/#extension/)?this._hoist(h):h}_hoist(h){h=h.split("\n");const m=[];for(const x of Array.from(h))x.match(/^\s*#extension/)?m.unshift(x):m.push(x);return m.join("\n")}_material(h){var m=this.renderer.capabilities.precision;const x=`\
    precision ${m} float;
    precision ${m} int;
uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 cameraPosition;\
`;m=`\
    precision ${m} float;
    precision ${m} int;
uniform mat4 viewMatrix;
uniform vec3 cameraPosition;\
`;const z={};Object.assign(z,h);delete z.attributes;delete z.varyings;delete z.inspect;delete z.vertexGraph;delete z.fragmentGraph;const k=new r.RawShaderMaterial(z);["vertexGraph","fragmentGraph","inspect"].forEach(p=>k[p]=h[p]);k.vertexShader=this._injectPreamble(x,k.vertexShader);k.fragmentShader=this._injectPreamble(m,k.fragmentShader);return k}_raw(h){h.rotationAutoUpdate=!1;h.frustumCulled=!1;h.matrixAutoUpdate=!1;h.material.defaultAttributeValues=void 0}_depth(h,m,x){h=h.material;h.depthWrite=
m;return h.depthTest=x}_polygonOffset(h,m,x){x-=this.zUnits;const z=0!==x;h=h.material;if(h.polygonOffset=z)return h.polygonOffsetFactor=m,h.polygonOffsetUnits=x}_show(h,m,x,z){m=h.material;h.renderOrder=-z;h.visible=!0;m.transparent=!0;m.blending=x;return null}_hide(h){return h.visible=!1}_vertexColor(h,m){if(h||m){var x=this.shaders.shader();h&&(x.require(h),x.pipe("mesh.vertex.color",this.uniforms));m&&(x.require(m),x.pipe("mesh.vertex.mask",this.uniforms));return x}}_vertexPosition(h,m,x,z,k){let p;
const B=this.shaders.shader();if(x||m&&!0!==m){p={};if(0<z||k)p.POSITION_MAP="";0<z&&(p[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][z-1]]="");k&&(p.POSITION_STPQ="")}B.require(h);return B.pipe("mesh.vertex.position",this.uniforms,p)}_fragmentColor(h,m,x,z,k,p,B,t,u){const C=this.shaders.shader();let F=!1,M=!1;const T={};0<p&&(T[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][p-1]]="");B&&(T.POSITION_STPQ="");h&&(C.pipe("style.color",this.uniforms),F=!0,x||k||m)&&(u&&!x||
C.pipe("mesh.gamma.in"),M=!0);x&&(C.isolate(),C.pipe("mesh.fragment.color",this.uniforms),u&&!F||C.pipe("mesh.gamma.in"),C.end(),F&&C.pipe(J.binaryOperator("vec4","*")),u&&F&&C.pipe("mesh.gamma.out"),M=F=!0);k&&(!F&&t&&C.pipe(J.constant("vec4","vec4(1.0)")),C.isolate(),C.require(k),C.pipe("mesh.fragment.map",this.uniforms,T),u||C.pipe("mesh.gamma.in"),C.end(),t?C.pipe(t):F&&C.pipe(J.binaryOperator("vec4","*")),M=F=!0);m&&(F||C.pipe(J.constant("vec4","vec4(1.0)")),!0===m?C.pipe("mesh.fragment.shaded",
this.uniforms):(C.require(m),C.pipe("mesh.fragment.material",this.uniforms,T)),M=!0);M&&!u&&C.pipe("mesh.gamma.out");z&&(C.pipe("mesh.fragment.mask",this.uniforms),F&&C.pipe(J.binaryOperator("vec4","*")));return C}}I.Base=w};
shadow$provide[333]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Arrow=void 0;var A=P(99),J=P(331);ra=P(332);class r extends ra.Base{constructor(w,h,m){super(w,h,m);var {uniforms:x}=m;const {material:z,position:k,color:p,mask:B,map:t,combine:u,stpq:C,linear:F}=m;null==x&&(x={});w=null!=x.styleColor;this.geometry=new J.ArrowGeometry({sides:m.sides,samples:m.samples,strips:m.strips,ribbons:m.ribbons,layers:m.layers,anchor:m.anchor,flip:m.flip,closed:m.closed});this._adopt(x);
this._adopt(this.geometry.uniforms);m={};closed&&(m.ARROW_CLOSED="");h=h.material();x=h.vertex;x.pipe(this._vertexColor(p,B));x.require(this._vertexPosition(k,z,t,1,C));x.pipe("arrow.position",this.uniforms,m);x.pipe("project.position",this.uniforms);h.fragment=w=this._fragmentColor(w,z,p,B,t,1,C,u,F);w.pipe("fragment.color",this.uniforms);w=h.link({side:A.DoubleSide});this.material=this._material(w);h=new A.Mesh(this.geometry,this.material);h.frustumCulled=!1;h.matrixAutoUpdate=!1;h.userData=w;this._raw(h);
this.renders=[h]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}I.Arrow=r};
shadow$provide[334]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.BackedTexture=void 0;G=y(326);class A extends G.DataTexture{constructor(u,m,e,c,h){super(u,m,e,c,h);this.data=new this.ctor(this.n)}resize(u,m){const e=this.data,c=this.width,h=this.height;this.width=u;this.height=m;this.n=u*m*this.channels;this.data=new this.ctor(this.n);const {gl:l}=this;this.renderer.state.bindTexture(l.TEXTURE_2D,this.texture);l.pixelStorei(l.UNPACK_ALIGNMENT,1);l.texImage2D(l.TEXTURE_2D,
0,this.format,u,m,0,this.format,this.type,this.data);this.uniforms.dataResolution.value.set(1/u,1/m);return this.write(e,0,0,c,h)}write(u,m,e,c,h){({width:v}=this);const l=this.data;var {channels:n}=this;let p=0;if(v===c&&0===m){var v=e*c*n;for(var w=c*h*n;p<w;)l[v++]=u[p++]}else{w=v*n;const z=c*n;n*=m;let x=e;const E=e+h;for(;x<E;){let H=0;for(v=n+x*w;H++<z;)l[v++]=u[p++];x++}}return super.write(u,m,e,c,h)}dispose(){this.data=null;return super.dispose()}}g.BackedTexture=A};
shadow$provide[335]=function(ra,P,db,I){function A(k){if("function"!==typeof WeakMap)return null;var p=new WeakMap,B=new WeakMap;return(A=function(t){return t?B:p})(k)}function J(k,p){return"undefined"!==typeof k&&null!==k?p(k):void 0}Object.defineProperty(I,"__esModule",{value:!0});I.Atlas=void 0;var r=function(k,p){if(!p&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((p=A(p))&&p.has(k))return p.get(k);var B={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,
u;for(u in k)if("default"!==u&&Object.prototype.hasOwnProperty.call(k,u)){var C=t?Object.getOwnPropertyDescriptor(k,u):null;C&&(C.get||C.set)?Object.defineProperty(B,u,C):B[u]=k[u]}B.default=k;p&&p.set(k,B);return B}(P(197)),w=P(334),h=P(326);ra=P(322);var m=P(99);class x extends ra.Renderable{constructor(k,p,B,t){null==t&&(t=!0);super(k,p);null==this.width&&(this.width=B.width||512);null==this.height&&(this.height=B.height||512);null==this.channels&&(this.channels=B.channels||4);null==this.backed&&
(this.backed=B.backed||!1);this.samples=this.width*this.height;t&&this.build(B)}shader(k){k.pipe("map.2d.data",this.uniforms);k.pipe("sample.2d",this.uniforms);4>this.channels&&k.pipe(r.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return k}build(k){let p;this.klass=p=this.backed?w.BackedTexture:h.DataTexture;this.texture=new p(this.renderer,this.width,this.height,this.channels,k);this.uniforms={dataPointer:{type:"v2",value:new m.Vector2(0,0)}};this._adopt(this.texture.uniforms);return this.reset()}reset(){this.rows=
[];return this.bottom=0}resize(k,p){if(!this.backed)throw Error("Cannot resize unbacked texture atlas");2048<k&&2048<p?console.warn(`Giant text atlas ${k}x${p}.`):console.info(`Resizing text atlas ${k}x${p}.`);this.texture.resize(k,p);this.width=k;this.height=p;return this.samples=k*p}collapse(k){let p;const {rows:B}=this;B.splice(B.indexOf(k),1);this.bottom=null!=(p=J(B[B.length-1],t=>t.bottom))?p:0;if(this.last===k)return this.last=null}allocate(k,p,B,t){const u=this.width,C=this.height,F=2*B;if(p>
u)return this.resize(2*u,2*C),this.last=null,this.allocate(k,p,B,t);let M=this.last;if(null!=M&&M.height>=B&&M.height<F&&M.width+p<=u)M.append(k,p,B,t);else{var T=0,N=-1,W=0;for(let ka=0;ka<this.rows.length;ka++)if(M=this.rows[ka],M.top-T>=B&&0>N&&(N=ka,W=T),{bottom:T}=M,M.height>=B&&M.height<F&&M.width+p<=u){M.append(k,p,B,t);this.last=M;return}if(0<=N)M=new z(W,B),this.rows.splice(N,0,M);else{W=T;T+=B;if(T>=C)return this.resize(2*u,2*C),this.last=null,this.allocate(k,p,B,t);M=new z(W,B);this.rows.push(M);
this.bottom=T}M.append(k,p,B,t);this.last=M}}read(){return this.texture.textureObject}write(k,p,B,t,u){return this.texture.write(k,p,B,t,u)}dispose(){this.texture.dispose();this.data=null;return super.dispose()}}I.Atlas=x;class z{constructor(k,p){this.top=k;this.bottom=k+p;this.width=0;this.height=p;this.alive=0;this.keys=[]}append(k,p,B,t){B=this.width;const u=this.top;this.alive++;this.width+=p;this.keys.push(k);return t(this,B,u)}}};
shadow$provide[336]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Debug=void 0;var A=P(99);ra=P(332);class J extends ra.Base{constructor(r,w,h){super(r,w,h);this.geometry=new A.PlaneGeometry(1,1);this.material=new A.MeshBasicMaterial({map:h.map});this.material.side=A.DoubleSide;r=new A.Mesh(this.geometry,this.material);r.position.x+=h.x||0;r.position.y+=h.y||0;r.frustumCulled=!1;r.scale.set(2,2,2);r.__debug=!0;this.objects=[r]}dispose(){this.geometry.dispose();this.material.dispose();
this.objects=this.geometry=this.material=null;return super.dispose()}}I.Debug=J};
shadow$provide[337]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.FaceGeometry=void 0;var A=P(99);ra=P(330);class J extends ra.ClipGeometry{constructor(r){let w,h,m,x;super(r);this._clipUniforms();this.items=h=+r.items||2;this.width=x=+r.width||1;this.height=w=+r.height||1;this.depth=r=+r.depth||1;this.sides=m=Math.max(0,h-2);const z=x*w*r;var k=h*z;this.setIndex(new A.BufferAttribute(new Uint32Array(m*z*3),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*
k),4));k=this._emitter("index");const p=this._emitter("position4");let B=0;for(let t=0,u=z,C=0<=u;C?t<u:t>u;C?t++:t--){for(let F=0,M=m,T=0<=M;T?F<M:F>M;T?F++:F--)k(B),k(B+F+1),k(B+F+2);B+=h}for(let t=0,u=r,C=0<=u;C?t<u:t>u;C?t++:t--)for(let F=0,M=w,T=0<=M;T?F<M:F>M;T?F++:F--)for(let N=0,W=x,ka=0<=W;ka?N<W:N>W;ka?N++:N--)for(let Y=0,H=h,qa=0<=H;qa?Y<H:Y>H;qa?Y++:Y--)p(N,F,t,Y);this._finalize();this.clip()}clip(r,w,h,m){null==r&&({width:r}=this);null==w&&({height:w}=this);null==h&&({depth:h}=this);
null==m&&({items:m}=this);const x=Math.max(0,m-2);this._clipGeometry(r,w,h,m);return this._clipOffsets(3,r,w,h,x,this.width,this.height,this.depth,this.sides)}}I.FaceGeometry=J};
shadow$provide[338]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Face=void 0;var A=P(99);ra=P(332);var J=P(337);class r extends ra.Base{constructor(w,h,m){super(w,h,m);let {uniforms:x,material:z}=m;const {position:k,color:p,mask:B,map:t,combine:u,stpq:C,linear:F}=m;null==x&&(x={});null==z&&(z=!0);w=null!=x.styleColor;this.geometry=new J.FaceGeometry({items:m.items,width:m.width,height:m.height,depth:m.depth});this._adopt(x);this._adopt(this.geometry.uniforms);h=h.material();
m=h.vertex;m.pipe(this._vertexColor(p,B));m.require(this._vertexPosition(k,z,t,2,C));z||m.pipe("face.position",this.uniforms);z&&m.pipe("face.position.normal",this.uniforms);m.pipe("project.position",this.uniforms);h.fragment=w=this._fragmentColor(w,z,p,B,t,2,C,u,F);w.pipe("fragment.color",this.uniforms);w=h.link({side:A.DoubleSide});this.material=this._material(w);h=new A.Mesh(this.geometry,this.material);h.userData=w;this._raw(h);this.renders=[h]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}I.Face=r};
shadow$provide[339]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.LineGeometry=void 0;var A=P(99);ra=P(330);class J extends ra.ClipGeometry{constructor(r){var w,h,m,x;let z,k,p;var B;let t;super(r);this._clipUniforms();this.closed=w=r.closed||!1;this.samples=p=(+r.samples||2)+(w?1:0);this.strips=t=+r.strips||1;this.ribbons=k=+r.ribbons||1;this.layers=z=+r.layers||1;this.detail=h=+r.detail||1;var u=p-1;this.joints=x=h-1;this.vertices=r=(u-(w?0:1))*x+p;this.segments=B=(u-(w?
0:1))*x+u;r=r*t*k*z*2;this.setIndex(new A.BufferAttribute(new Uint32Array(B*t*k*z*6),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*r),4));this.setAttribute("line",new A.BufferAttribute(new Float32Array(1*r),1));1<h&&this.setAttribute("joint",new A.BufferAttribute(new Float32Array(r),1));var C=this._emitter("index");r=this._emitter("position4");u=this._emitter("line");1<h&&(m=this._emitter("joint"));var F=0;for(let Y=0,H=k*z,qa=0<=H;qa?Y<H:Y>H;qa?Y++:Y--)for(let Ca=0,La=
t,Oa=0<=La;Oa?Ca<La:Ca>La;Oa?Ca++:Ca--){for(let ea=0,kb=B,zb=0<=kb;zb?ea<kb:ea>kb;zb?ea++:ea--)C(F),C(F+1),C(F+2),C(F+2),C(F+1),C(F+3),F+=2;F+=2}var M=w?()=>0:function(Y){return 0===Y?-1:Y===p-1?1:0};if(1<h){var T;w=0;for(T=0<=z;T?w<z:w>z;T?w++:w--){var N=void 0,W=void 0;F=0;W=k;for(N=0<=W;N?F<W:F>W;N?F++:F--){let Y,H;C=0;H=t;for(Y=0<=H;Y?C<H:C>H;Y?C++:C--){let qa,Ca,La;B=La=0;Ca=p;for(qa=0<=Ca;qa?La<Ca:La>Ca;qa?La++:La--,B=La){var ka=M(B);if(0!==ka)r(B,C,F,w),r(B,C,F,w),u(1),u(-1),m(.5),m(.5);else for(let Oa=
0,ea=h,kb=0<=ea;kb?Oa<ea:Oa>ea;kb?Oa++:Oa--)r(B,C,F,w),r(B,C,F,w),u(1),u(-1),m(Oa/x),m(Oa/x)}}}}}else for(w=0,m=0<=z;m?w<z:w>z;m?w++:w--)for(F=0,x=k,h=0<=x;h?F<x:F>x;h?F++:F--)for(C=0,M=t,ka=0<=M;ka?C<M:C>M;ka?C++:C--)for(B=W=0,N=p,T=0<=N;T?W<N:W>N;T?W++:W--,B=W)r(B,C,F,w),r(B,C,F,w),u(1),u(-1);this._finalize();this.clip()}clip(r,w,h,m){null==r&&(r=this.samples-this.closed);null==w&&({strips:w}=this);null==h&&({ribbons:h}=this);null==m&&({layers:m}=this);const x=r+(r-(this.closed?0:2))*this.joints-
(this.closed?0:1);r+=this.closed;this._clipGeometry(r,w,h,m);return this._clipOffsets(6,x,w,h,m,this.segments,this.strips,this.ribbons,this.layers)}}I.LineGeometry=J};
shadow$provide[340]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Line=void 0;var A=P(99);ra=P(332);var J=P(339);class r extends ra.Base{constructor(w,h,m){var x;super(w,h,m);let {uniforms:z,stroke:k,join:p}=m;const {material:B,position:t,color:u,mask:C,map:F,combine:M,stpq:T,linear:N,clip:W,proximity:ka,closed:Y}=m;null==z&&(z={});k=[null,"dotted","dashed"][k];w=null!=z.styleColor;p=null!=(x=["miter","round","bevel"][p])?x:"miter";x={miter:1,round:4,bevel:2}[p];this.geometry=
new J.LineGeometry({samples:m.samples,strips:m.strips,ribbons:m.ribbons,layers:m.layers,anchor:m.anchor,closed:m.closed,detail:x});this._adopt(z);this._adopt(this.geometry.uniforms);h=h.material();m={};k&&(m.LINE_STROKE="");W&&(m.LINE_CLIP="");null!=ka&&(m.LINE_PROXIMITY="");m["LINE_JOIN_"+p.toUpperCase()]="";1<x&&(m.LINE_JOIN_DETAIL=x);Y&&(m.LINE_CLOSED="");x=h.vertex;x.pipe(this._vertexColor(u,C));x.require(this._vertexPosition(t,B,F,2,T));x.pipe("line.position",this.uniforms,m);x.pipe("project.position",
this.uniforms);m=h.fragment;k&&m.pipe(`fragment.clip.${k}`,this.uniforms);W&&m.pipe("fragment.clip.ends",this.uniforms);null!=ka&&m.pipe("fragment.clip.proximity",this.uniforms);m.pipe(this._fragmentColor(w,B,u,C,F,2,T,M,N));m.pipe("fragment.color",this.uniforms);w=h.link({side:A.DoubleSide});this.material=this._material(w);h=new A.Mesh(this.geometry,this.material);h.userData=w;this._raw(h);this.renders=[h]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=
null;return super.dispose()}}I.Line=r};
shadow$provide[341]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.MatrixBuffer=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(327);class m extends G.DataBuffer{constructor(e,c,h){const l=h.width||1,n=h.height||1,p=h.history||1;h.depth=p;super(e,c,h,!1);this.width=l;this.height=n;this.history=p;this.samples=l*n;this.wrap=1<p;this.build(h)}build(e){super.build();this.index=0;this.pad={x:0,y:0};return this.streamer=this.generate(this.data)}getFilled(){return this.filled}setActive(e,
c){let h;return[this.pad.x,this.pad.y]=Array.from(h=[Math.max(0,this.width-e),Math.max(0,this.height-c)]),h}fill(){let e,c,h;const {callback:l}=this;"function"===typeof l.reset&&l.reset();const {emit:n,skip:p,count:v,done:w,reset:z}=this.streamer;z();const x=this.width,E=this.pad.x,H=this.samples-this.pad.y*x;let I=e=c=0;if(E)for(;!w()&&c<H&&(c++,h=l(n,I,e),++I===x-E&&(p(E),c+=E,I=0,e++),!1!==h););else for(;!w()&&c<H&&(c++,h=l(n,I,e),++I===x&&(I=0,e++),!1!==h););return Math.floor(v()/this.items)}write(e){null==
e&&(e=this.samples);e*=this.items;const c=this.width*this.items;this.texture.write(this.data,0,this.index*this.height,c,Math.ceil(e/c));this.dataPointer.set(.5,this.index*this.height+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(e,c){let h,l,n;const {consume:p,skip:v,done:w}=n=this.streamer,{emit:z}=h=c.streamer;let x=l=0,E=()=>p((H,I,N,Q)=>e(z,H,I,N,Q,x,l));E=u.repeatCall(E,this.items);return()=>{let H;n.reset();h.reset();
const I=this.width,N=this.pad.x,Q=this.samples-this.pad.y*I;x=l=H=0;if(N)for(;!w()&&H<Q;)H++,E(),++x===I-N&&(v(N),x=0,l++);else for(;!w()&&H<Q;)H++,E(),++x===I&&(x=0,l++);return n.count()}}}g.MatrixBuffer=m};
shadow$provide[342]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.RenderTarget=void 0;var A=P(99);class J{constructor(r,w,h,m,x){this.gl=r;null==x&&(x={});null==x.minFilter&&(x.minFilter=A.NearestFilter);null==x.magFilter&&(x.magFilter=A.NearestFilter);null==x.format&&(x.format=A.RGBAFormat);null==x.type&&(x.type=A.UnsignedByteType);this.options=x;this.width=w||1;this.height=h||1;this.frames=m||1;this.buffers=this.frames+1;this.build()}build(){let r;const w=()=>new A.WebGLRenderTarget(this.width,
this.height,this.options);this.targets=(()=>{let m,x;const z=[];r=0;x=this.buffers;for(m=0<=x;m?r<x:r>x;m?r++:r--)z.push(w());return z})();const h=[];this.targets.forEach(m=>h.push(m.texture));this.reads=h;this.write=this.targets[this.buffers-1];this.uniforms={dataResolution:{type:"v2",value:new A.Vector2(1/this.width,1/this.height)},dataTexture:{type:"t",value:this.reads[0]},dataTextures:{type:"tv",value:this.reads}}}cycle(){this.targets.unshift(this.targets.pop());this.write=this.targets[this.buffers-
1];this.reads.unshift(this.reads.pop());this.uniforms.dataTexture.value=this.reads[0]}warmup(r){return(()=>{const w=[];for(let h=0,m=this.buffers,x=0<=m;x?h<m:h>m;x?h++:h--)r(this.write),w.push(this.cycle());return w})()}dispose(){for(const r of Array.from(this.targets))r.dispose();return this.targets=this.reads=this.write=null}}I.RenderTarget=J};
shadow$provide[343]=function(ra,P,db,I){function A(m){if("function"!==typeof WeakMap)return null;var x=new WeakMap,z=new WeakMap;return(A=function(k){return k?z:x})(m)}Object.defineProperty(I,"__esModule",{value:!0});I.RenderToTexture=void 0;var J=function(m,x){if(!x&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((x=A(x))&&x.has(m))return x.get(m);var z={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in m)if("default"!==p&&
Object.prototype.hasOwnProperty.call(m,p)){var B=k?Object.getOwnPropertyDescriptor(m,p):null;B&&(B.get||B.set)?Object.defineProperty(z,p,B):z[p]=m[p]}z.default=m;x&&x.set(m,z);return z}(P(197)),r=P(99),w=P(342);ra=P(322);class h extends ra.Renderable{constructor(m,x,z){super(m,x);this.scene=null!=z.scene?z.scene:new r.Scene;this.camera=z.camera;this.build(z)}shaderRelative(m){null==m&&(m=this.shaders.shader());return m.pipe("sample.2d",this.uniforms)}shaderAbsolute(m,x,z){null==x&&(x=1);null==z&&
(z=4);null==m&&(m=this.shaders.shader());if(1>=x)return 2<z&&m.pipe(J.truncateVec(z,2)),m.pipe("map.2d.data",this.uniforms),m.pipe("sample.2d",this.uniforms);x=J.sample2DArray(Math.min(x,this.target.frames));4>z&&m.pipe(J.extendVec(z,4));m.pipe("map.xyzw.2dv");m.split();m.pipe("map.2d.data",this.uniforms);m.pass();return m.pipe(x,this.uniforms)}build(m){this.camera||(this.camera=new r.PerspectiveCamera,this.camera.position.set(0,0,3),this.camera.lookAt(new r.Vector3));"function"===typeof this.scene.inject&&
this.scene.inject();this.target=new w.RenderTarget(this.gl,m.width,m.height,m.frames,m);this.target.warmup(x=>this.renderer.setRenderTarget(x));this.renderer.setRenderTarget(null);this._adopt(this.target.uniforms);this._adopt({dataPointer:{type:"v2",value:new r.Vector2(.5,.5)}});return this.filled=0}adopt(m){return Array.from(m.renders).map(x=>this.scene.add(x))}unadopt(m){return Array.from(m.renders).map(x=>this.scene.remove(x))}render(m){null==m&&({camera:m}=this);const x=this.renderer.getRenderTarget();
this.renderer.setRenderTarget(this.target.write);this.renderer.render(null!=this.scene.scene?this.scene.scene:this.scene,m);this.renderer.setRenderTarget(x);this.target.cycle();if(this.filled<this.target.frames)return this.filled++}read(m){null==m&&(m=0);return this.target.reads[Math.abs(m)]}getFrames(){return this.target.frames}getFilled(){return this.filled}dispose(){"function"===typeof this.scene.unject&&this.scene.unject();this.scene=this.camera=null;this.target.dispose();return super.dispose()}}
I.RenderToTexture=h};
shadow$provide[344]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Memo=void 0;var A=P(99);ra=P(343);class J extends ra.RenderToTexture{constructor(r,w,h){let m,x;const z=h.items||1,k=h.channels||4,p=h.width||1,B=h.height||1,t=h.depth||1;h.format=A.RGBAFormat;h.width=x=z*p;h.height=m=B*t;h.frames=1;delete h.items;delete h.depth;delete h.channels;super(r,w,h);null==this.items&&(this.items=z);null==this.channels&&(this.channels=k);null==this.width&&(this.width=p);this._width=
x;null==this.height&&(this.height=B);this._height=m;null==this.depth&&(this.depth=t);this._adopt({textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}})}shaderAbsolute(r){null==r&&(r=this.shaders.shader());r.pipe("map.xyzw.texture",this.uniforms);return super.shaderAbsolute(r,1,2)}}I.Memo=J};
shadow$provide[345]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.SurfaceGeometry=void 0;var A=P(99);ra=P(330);class J extends ra.ClipGeometry{constructor(r,w){null==w&&(w=!0);super();w&&this.construct(r)}construct(r){var w,h;let m,x,z;this._clipUniforms();this.closedX=w=r.closedX||!1;this.closedY=h=r.closedY||!1;this.width=w=(+r.width||2)+(w?1:0);this.height=h=(+r.height||2)+(h?1:0);this.surfaces=z=+r.surfaces||1;this.layers=r=+r.layers||1;this.segmentsX=m=Math.max(0,w-1);
this.segmentsY=x=Math.max(0,h-1);var k=w*h*z*r;this.setIndex(new A.BufferAttribute(new Uint32Array(m*x*z*r*6),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*k),4));this.setAttribute("surface",new A.BufferAttribute(new Float32Array(2*k),2));k=this._emitter("index");const p=this._emitter("position4");let B=0;for(let t=0,u=z*r,C=0<=u;C?t<u:t>u;C?t++:t--){for(let F=0,M=x,T=0<=M;T?F<M:F>M;T?F++:F--){for(let N=0,W=m,ka=0<=W;ka?N<W:N>W;ka?N++:N--)k(B),k(B+1),k(B+w),k(B+w),k(B+
1),k(B+w+1),B++;B++}B+=w}for(let t=0,u=r,C=0<=u;C?t<u:t>u;C?t++:t--)for(let F=0,M=z,T=0<=M;T?F<M:F>M;T?F++:F--)for(let N=0,W=N,ka=h,Y=0<=ka;Y?N<ka:N>ka;Y?N++:N--,W=N)for(let H=0,qa=H,Ca=w,La=0<=Ca;La?H<Ca:H>Ca;La?H++:H--,qa=H)p(qa,W,F,t);this._finalize();this.clip()}clip(r,w,h,m){null==r&&(r=this.width-this.closedX);null==w&&(w=this.height-this.closedY);null==h&&({surfaces:h}=this);null==m&&({layers:m}=this);r+=this.closedX;w+=this.closedY;const x=Math.max(0,r-1),z=Math.max(0,w-1);this._clipGeometry(r,
w,h,m);return this._clipOffsets(6,x,z,h,m,this.segmentsX,this.segmentsY,this.surfaces,this.layers)}map(r,w,h,m){null==r&&({width:r}=this);null==w&&({height:w}=this);null==h&&({surfaces:h}=this);null==m&&({layers:m}=this);return this._clipMap(r,w,h,m)}}I.SurfaceGeometry=J};
shadow$provide[346]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.ScreenGeometry=void 0;ra=P(345);var A=P(99);class J extends ra.SurfaceGeometry{constructor(r){r.width=Math.max(2,+r.width);r.height=Math.max(2,+r.height);super(r,!1);null==this.uniforms&&(this.uniforms={});this.uniforms.geometryScale={type:"v4",value:new A.Vector4};this.cover();this.construct(r)}cover(r,w,h,m){null==r&&(r=1);this.scaleX=r;null==w&&(w=1);this.scaleY=w;null==h&&(h=1);this.scaleZ=h;null==m&&(m=
1);this.scaleW=m}clip(r,w,h,m){null==r&&({width:r}=this);null==w&&({height:w}=this);null==h&&({surfaces:h}=this);null==m&&({layers:m}=this);super.clip(r,w,h,m);return this.uniforms.geometryScale.value.set(1/Math.max(1,r-1)*this.scaleX,1/Math.max(1,w-1)*this.scaleY,1/Math.max(1,h-1)*this.scaleZ,1/Math.max(1,m-1)*this.scaleW)}}I.ScreenGeometry=J};
shadow$provide[347]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Screen=void 0;var A=P(99);ra=P(332);var J=P(346);class r extends ra.Base{constructor(w,h,m){super(w,h,m);let {uniforms:x}=m;const {map:z,combine:k,stpq:p,linear:B}=m;null==x&&(x={});w=null!=x.styleColor;this.geometry=new J.ScreenGeometry({width:m.width,height:m.height});this._adopt(x);this._adopt(this.geometry.uniforms);h=h.material();m=h.vertex;m.pipe("raw.position.scale",this.uniforms);m.fan();m.pipe("stpq.xyzw.2d",
this.uniforms);m.next();m.pipe("screen.position",this.uniforms);m.join();h.fragment=w=this._fragmentColor(w,!1,null,null,z,2,p,k,B);w.pipe("fragment.color",this.uniforms);w=h.link({side:A.DoubleSide});this.material=this._material(w);h=new A.Mesh(this.geometry,this.material);h.frustumCulled=!1;h.userData=w;this._raw(h);this.renders=[h]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}I.Screen=r};
shadow$provide[348]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.MemoScreen=void 0;var A=P(99);ra=P(347);class J extends ra.Screen{constructor(r,w,h){const {items:m,width:x,height:z,depth:k,stpq:p}=h,B={remapUVScale:{type:"v2",value:new A.Vector2(m*x,z*k)},remapModulus:{type:"v2",value:new A.Vector2(m,z)},remapModulusInv:{type:"v2",value:new A.Vector2(1/Math.max(1,m),1/Math.max(1,z))},remapSTPQScale:{type:"v4",value:new A.Vector4(1/Math.max(1,x-1),1/Math.max(1,z-1),1/Math.max(1,
k-1),1/Math.max(1,m-1))}},t=w.shader();t.pipe("screen.map.xyzw",B);null!=h.map&&(p&&t.pipe("screen.map.stpq",B),t.pipe(h.map));super(r,w,{map:t,linear:!0});this.memo=h;this.uniforms=B;for(const u of Array.from(this.renders))u.transparent=!1}cover(r,w,h,m){null==r&&({width:r}=this.memo);null==w&&({height:w}=this.memo);null==h&&({depth:h}=this.memo);null==m&&({items:m}=this.memo);this.uniforms.remapSTPQScale.value.set(1/Math.max(1,r-1),1/Math.max(1,w-1),1/Math.max(1,h-1),1/Math.max(1,m-1));r/=this.memo.width;
h/=this.memo.depth;1===this.memo.depth&&(h=w/this.memo.height);return this.geometry.cover(r,h)}}I.MemoScreen=J};
shadow$provide[349]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.SpriteGeometry=void 0;var A=P(99);ra=P(330);class J extends ra.ClipGeometry{constructor(r){let w,h,m;super(r);this._clipUniforms();this.items=h=+r.items||2;this.width=m=+r.width||1;this.height=w=+r.height||1;this.depth=r=+r.depth||1;const x=h*m*w*r;var z=4*x;this.setIndex(new A.BufferAttribute(new Uint32Array(6*x),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*z),4));this.setAttribute("sprite",
new A.BufferAttribute(new Float32Array(2*z),2));z=this._emitter("index");const k=this._emitter("position4"),p=this._emitter("sprite"),B=[[-1,-1],[-1,1],[1,-1],[1,1]];let t=0;for(let u=0,C=x,F=0<=C;F?u<C:u>C;F?u++:u--)z(t),z(t+1),z(t+2),z(t+1),z(t+2),z(t+3),t+=4;for(let u=0,C=r,F=0<=C;F?u<C:u>C;F?u++:u--)for(let M=0,T=w,N=0<=T;N?M<T:M>T;N?M++:M--)for(let W=0,ka=m,Y=0<=ka;Y?W<ka:W>ka;Y?W++:W--)for(let H=0,qa=h,Ca=0<=qa;Ca?H<qa:H>qa;Ca?H++:H--)for(const La of Array.from(B))k(W,M,u,H),p(La[0],La[1]);
this._finalize();this.clip()}clip(r,w,h,m){null==r&&({width:r}=this);null==w&&({height:w}=this);null==h&&({depth:h}=this);null==m&&({items:m}=this);this._clipGeometry(r,w,h,m);return this._clipOffsets(6,r,w,h,m,this.width,this.height,this.depth,this.items)}}I.SpriteGeometry=J};
shadow$provide[350]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Point=void 0;var A=P(99);ra=P(332);var J=P(349);class r extends ra.Base{constructor(w,h,m){var x;super(w,h,m);let {uniforms:z,shape:k,fill:p}=m;const {material:B,position:t,color:u,size:C,mask:F,map:M,combine:T,linear:N,optical:W,stpq:ka}=m;null==z&&(z={});k=+k;null==p&&(p=!0);var Y=null!=z.styleColor;w="circle square diamond up down left right".split(" ");var H="circle generic generic generic generic generic generic".split(" ");
var qa=[1.2,1,1.414,1.16,1.16,1.16,1.16];H=null!=H[k]?H[k]:H[0];w=null!=w[k]?w[k]:w[0];qa=null!=(x=W&&qa[k])?x:1;x=p?H:`${H}.hollow`;this.geometry=new J.SpriteGeometry({items:m.items,width:m.width,height:m.height,depth:m.depth});this._adopt(z);this._adopt(this.geometry.uniforms);H={POINT_SHAPE_SCALE:+(qa+1E-5)};m=h.material();qa=m.vertex;qa.pipe(this._vertexColor(u,F));C?(qa.isolate(),qa.require(C),qa.require("point.size.varying",this.uniforms),qa.end()):qa.require("point.size.uniform",this.uniforms);
qa.require(this._vertexPosition(t,B,M,2,ka));qa.pipe("point.position",this.uniforms,H);qa.pipe("project.position",this.uniforms);m.fragment=this._fragmentColor(Y,B,u,F,M,2,ka,T,N);Y=h.material();Y.vertex.pipe(qa);H=Y.fragment.pipe(m.fragment);H.require(`point.mask.${w}`,this.uniforms);H.require(`point.alpha.${x}`,this.uniforms);H.pipe("point.edge",this.uniforms);h=h.material();h.vertex.pipe(qa);H=h.fragment.pipe(m.fragment);H.require(`point.mask.${w}`,this.uniforms);H.require(`point.alpha.${x}`,this.uniforms);
H.pipe("point.fill",this.uniforms);h=h.link({side:A.DoubleSide});this.fillMaterial=this._material(h);w=Y.link({side:A.DoubleSide});this.edgeMaterial=this._material(w);this.fillObject=new A.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new A.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=h;this._raw(this.edgeObject);this.edgeObject.userData=w;this.renders=[this.fillObject,this.edgeObject]}show(w,h,m,x){this._show(this.edgeObject,!0,h,m,x);return this._show(this.fillObject,
w,h,m,x)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();this.renders=this.edgeObject=this.fillObject=this.geometry=this.edgeMaterial=this.fillMaterial=null;return super.dispose()}}I.Point=r};
shadow$provide[351]=function(G,y,X,g){function A(m,e,c){const h=[],l=m<e;for(e=c?l?e+1:e-1:e;l?m<e:m>e;l?m++:m--)h.push(m);return h}Object.defineProperty(g,"__esModule",{value:!0});g.PushBuffer=void 0;G=y(325);class u extends G.Buffer{constructor(m,e,c){const h=c.width||1,l=c.height||1,n=c.depth||1,p=h*l*n;c.samples||(c.samples=p);super(m,e,c);this.width=h;this.height=l;this.depth=n;null==this.samples&&(this.samples=p);this.build(c)}build(m){this.data=[];this.data.length=this.samples;this.filled=
0;this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}dispose(){this.data=null;return super.dispose()}getFilled(){return this.filled}setActive(m,e,c){let h;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(h=[this.width-m,this.height-e,this.depth-c]),h}read(){return this.data}copy(m){const e=this.data;return A(0,Math.min(m.length,this.samples),!1).map(c=>e[c]=m[c])}fill(){let m,e,c,h;const {callback:l}=this;"function"===typeof l.reset&&l.reset();const {emit:n,skip:p,count:v,done:w,
reset:z}=this.streamer;z();const x=this.width,E=this.height,H=this.pad.x,I=this.pad.y,N=this.samples-this.pad.z*x*E;let Q=m=e=c=0;if(0<H||0<I)for(;!w()&&c<N&&(c++,h=l(n,Q,m,e),++Q===x-H&&(p(H),Q=0,++m===E-I&&(p(x*I),m=0,e++)),!1!==h););else for(;!w()&&c<N&&(c++,h=l(n,Q,m,e),++Q===x&&(Q=0,++m===E&&(m=0,e++)),!1!==h););this.filled=1;return v()}}g.PushBuffer=u};
shadow$provide[352]=function(ra,P,db,I){function A(k){if("function"!==typeof WeakMap)return null;var p=new WeakMap,B=new WeakMap;return(A=function(t){return t?B:p})(k)}function J(k,p){if(!p&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((p=A(p))&&p.has(k))return p.get(k);var B={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in k)if("default"!==u&&Object.prototype.hasOwnProperty.call(k,u)){var C=t?Object.getOwnPropertyDescriptor(k,
u):null;C&&(C.get||C.set)?Object.defineProperty(B,u,C):B[u]=k[u]}B.default=k;p&&p.set(k,B);return B}Object.defineProperty(I,"__esModule",{value:!0});I.Readback=void 0;var r=J(P(196)),w=J(P(197)),h=P(99),m=P(344),x=P(348);ra=P(322);class z extends ra.Renderable{constructor(k,p,B){super(k,p);null==this.items&&(this.items=B.items||1);null==this.channels&&(this.channels=B.channels||4);null==this.width&&(this.width=B.width||1);null==this.height&&(this.height=B.height||1);null==this.depth&&(this.depth=
B.depth||1);null==this.type&&(this.type=B.type||h.FloatType);null==this.stpq&&(this.stpq=B.stpq||!1);this.isFloat=this.type===h.FloatType;this.active=this.sampled=this.rect=this.pad=null;this.build(B)}build(k){let p;({map:T}=k);({indexer:N}=k);k=null!=N&&!N.empty();let {stpq:B}=this;const {items:t,width:u,height:C,depth:F}=this;let M=T;k&&(this._adopt({indexModulus:{type:"v4",value:new h.Vector4(t,t*u,t*u*C,1)}}),M=this.shaders.shader(),M.require(T),M.require(N),M.pipe("float.index.pack",this.uniforms));
this.isFloat&&1<this.channels&&(this.floatMemo=new m.Memo(this.renderer,this.shaders,{items:t,channels:4,width:u,height:C,depth:F,history:0,type:h.FloatType}),this.floatCompose=new x.MemoScreen(this.renderer,this.shaders,{map:M,items:t,width:u,height:C,depth:F,stpq:B}),this.floatMemo.adopt(this.floatCompose),B=!1,M=this.shaders.shader(),this.floatMemo.shaderAbsolute(M));if(this.isFloat){p=this.channels;var T=4}else p=1,T=this.channels;if(1<p){var N=this.shaders.shader();N.pipe(w.mapByte2FloatOffset(p));
N.require(M);N.pipe("float.stretch");N.pipe("float.encode");M=N}else this.isFloat&&(N=this.shaders.shader(),N.pipe(M),N.pipe(w.truncateVec(4,1)),N.pipe("float.encode"),M=N);this.byteMemo=new m.Memo(this.renderer,this.shaders,{items:t*p,channels:T,width:u,height:C,depth:F,history:0,type:h.UnsignedByteType});this.byteCompose=new x.MemoScreen(this.renderer,this.shaders,{map:M,items:t*p,width:u,height:C,depth:F,stpq:B});this.byteMemo.adopt(this.byteCompose);this.samples=this.width*this.height*this.depth;
this.bytes=new Uint8Array(t*u*p*C*F*4);this.isFloat&&(this.floats=new Float32Array(this.bytes.buffer));this.data=this.isFloat?this.floats:this.bytes;this.streamer=this.generate(this.data);this.active={items:0,width:0,height:0,depth:0};this.sampled={items:0,width:0,height:0,depth:0};this.rect={w:0,h:0};this.pad={x:0,y:0,z:0,w:0};this.stretch=p;this.isIndexed=k;return this.setActive(t,u,C,F)}generate(k){return r.getStreamer(k,this.samples,4,this.items)}setActive(k,p,B,t){let u;if(k!==this.active.items||
p!==this.active.width||B!==this.active.height||t!==this.active.depth){[this.active.items,this.active.width,this.active.height,this.active.depth]=Array.from([k,p,B,t]);null!=this.floatCompose&&this.floatCompose.cover(p,B,t);null!=this.byteCompose&&this.byteCompose.cover(p*this.stretch,B,t);({items:k}=this);({width:p}=this.active);B=1===this.depth?this.active.height:this.height;({depth:t}=this.active);var C=k*p*this.stretch,F=B*t;[this.sampled.items,this.sampled.width,this.sampled.height,this.sampled.depth]=
Array.from([k,p,B,t]);[this.rect.w,this.rect.h]=Array.from([C,F]);return[this.pad.x,this.pad.y,this.pad.z,this.pad.w]=Array.from(u=[this.sampled.width-this.active.width,this.sampled.height-this.active.height,this.sampled.depth-this.active.depth,this.sampled.items-this.active.items]),u}}update(k){null!=this.floatMemo&&this.floatMemo.render(k);return null!=this.byteMemo?this.byteMemo.render(k):void 0}post(){const k=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.byteMemo.target.targets[0]);
this.gl.readPixels(0,0,this.rect.w,this.rect.h,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.bytes);this.renderer.setRenderTarget(k)}readFloat(k){return null!=this.floatMemo?this.floatMemo.read(k):void 0}readByte(k){return null!=this.byteMemo?this.byteMemo.read(k):void 0}setCallback(k){this.emitter=this.callback(k)}callback(k){if(!this.isIndexed)return k;const p=this.width,B=this.height,t=this.items,u=function(C,F,M,T){let N=T;const W=N%t;N=(N-W)/t;const ka=N%p;N=(N-ka)/p;const Y=N%B;N=(N-Y)/B;return k(C,
F,M,T,ka,Y,N,W)};u.reset=()=>"function"===typeof k.reset?k.reset():void 0;return u}iterate(){let k,p,B,t=this.emitter;"function"===typeof t.reset&&t.reset();const {consume:u,skip:C,count:F,done:M,reset:T}=this.streamer;T();const N=this.sampled.width|0;let W=this.sampled.height|0;const ka=this.sampled.items|0,Y=this.pad.x|0,H=this.pad.y|0,qa=this.pad.w|0,Ca=N*W*ka*((this.sampled.depth|0)-(this.pad.z|0));if(!this.isIndexed){const Oa=t;t=(ea,kb,zb,Va)=>Oa(ea,kb,zb,Va,La,k,p,B)}let La=k=p=B=W=0;for(;!M()&&
W<Ca;){W++;const Oa=u(t);++B===ka-qa&&(C(Y),B=0,++La===N-Y&&(C(ka*Y),La=0,++k===W-H&&(C(ka*N*H),k=0,p++)));if(!1===Oa)break}return Math.floor(F()/ka)}dispose(){null!=this.floatMemo&&this.floatMemo.unadopt(this.floatCompose);null!=this.floatMemo&&this.floatMemo.dispose();null!=this.floatCompose&&this.floatCompose.dispose();null!=this.byteMemo&&this.byteMemo.unadopt(this.byteCompose);null!=this.byteMemo&&this.byteMemo.dispose();null!=this.byteCompose&&this.byteCompose.dispose();return this.floatMemo=
this.byteMemo=this.floatCompose=this.byteCompose=null}}I.Readback=z};
shadow$provide[353]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Sprite=void 0;var A=P(99);ra=P(332);var J=P(349);class r extends ra.Base{constructor(w,h,m){var x;super(w,h,m);({uniforms:x}=m);const {material:z,position:k,sprite:p,map:B,combine:t,linear:u,color:C,mask:F,stpq:M}=m;null==x&&(x={});w=null!=x.styleColor;this.geometry=new J.SpriteGeometry({items:m.items,width:m.width,height:m.height,depth:m.depth});this._adopt(x);this._adopt(this.geometry.uniforms);x=h.material();
m=x.vertex;m.pipe(this._vertexColor(C,F));m.require(this._vertexPosition(k,z,B,2,M));m.require(p);m.pipe("sprite.position",this.uniforms);m.pipe("project.position",this.uniforms);x.fragment=x=this._fragmentColor(w,z,C,F,B,2,M,t,u);w=h.material();w.vertex.pipe(m);w.fragment.pipe(x);w.fragment.pipe("fragment.transparent",this.uniforms);h=h.material();h.vertex.pipe(m);h.fragment.pipe(x);h.fragment.pipe("fragment.solid",this.uniforms);h=h.link({side:A.DoubleSide});this.fillMaterial=this._material(h);
m=w.link({side:A.DoubleSide});this.edgeMaterial=this._material(m);this.fillObject=new A.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new A.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=h;this._raw(this.edgeObject);this.edgeObject.userData=m;this.renders=[this.fillObject,this.edgeObject]}show(w,h,m,x){this._show(this.edgeObject,!0,h,m,x);return this._show(this.fillObject,w,h,m,x)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();
this.renders=this.geometry=this.edgeMaterial=this.fillMaterial=this.edgeObject=this.fillObject=null;return super.dispose()}}I.Sprite=r};
shadow$provide[354]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.StripGeometry=void 0;var A=P(99);ra=P(330);class J extends ra.ClipGeometry{constructor(r){let w;var h;let m,x;super(r);this._clipUniforms();this.items=h=+r.items||2;this.width=x=+r.width||1;this.height=w=+r.height||1;this.depth=r=+r.depth||1;this.sides=m=Math.max(0,h-2);var z=x*w*r,k=h*z;this.setIndex(new A.BufferAttribute(new Uint32Array(m*z*3),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*
k),4));this.setAttribute("strip",new A.BufferAttribute(new Float32Array(3*k),3));const p=this._emitter("index");k=this._emitter("position4");const B=this._emitter("strip");let t=0;for(let u=0,C=z,F=0<=C;F?u<C:u>C;F?u++:u--){z=t;for(let M=0,T=m,N=0<=T;N?M<T:M>T;N?M++:M--)M&1?(p(z+1),p(z)):(p(z),p(z+1)),p(z+2),z++;t+=h}--h;for(let u=0,C=r,F=0<=C;F?u<C:u>C;F?u++:u--)for(let M=0,T=w,N=0<=T;N?M<T:M>T;N?M++:M--)for(let W=0,ka=x,Y=0<=ka;Y?W<ka:W>ka;Y?W++:W--){r=1;k(W,M,u,0);B(1,2,r);for(let H=1,qa=h,Ca=
1<=qa;Ca?H<qa:H>qa;Ca?H++:H--)k(W,M,u,H),B(H-1,H+1,r=-r);k(W,M,u,h);B(h-2,h-1,-r)}this._finalize();this.clip()}clip(r,w,h,m){null==r&&({width:r}=this);null==w&&({height:w}=this);null==h&&({depth:h}=this);null==m&&({items:m}=this);const x=Math.max(0,m-2);this._clipGeometry(r,w,h,m);return this._clipOffsets(3,r,w,h,x,this.width,this.height,this.depth,this.sides)}}I.StripGeometry=J};
shadow$provide[355]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Strip=void 0;var A=P(99);ra=P(332);var J=P(354);class r extends ra.Base{constructor(w,h,m){super(w,h,m);let {uniforms:x,material:z}=m;const {position:k,color:p,mask:B,map:t,combine:u,linear:C,stpq:F}=m;null==x&&(x={});null==z&&(z=!0);w=null!=x.styleColor;this.geometry=new J.StripGeometry({items:m.items,width:m.width,height:m.height,depth:m.depth});this._adopt(x);this._adopt(this.geometry.uniforms);h=h.material();
m=h.vertex;m.pipe(this._vertexColor(p,B));m.require(this._vertexPosition(k,z,t,2,F));z||m.pipe("mesh.position",this.uniforms);z&&m.pipe("strip.position.normal",this.uniforms);m.pipe("project.position",this.uniforms);h.fragment=w=this._fragmentColor(w,z,p,B,t,2,F,u,C);w.pipe("fragment.color",this.uniforms);w=h.link({side:A.DoubleSide});this.material=this._material(w);h=new A.Mesh(this.geometry,this.material);h.userData=w;this._raw(h);this.renders=[h]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}I.Strip=r};
shadow$provide[356]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Surface=void 0;var A=P(99);ra=P(332);var J=P(345);class r extends ra.Base{constructor(w,h,m){super(w,h,m);let {uniforms:x,material:z}=m;const {position:k,color:p,normal:B,mask:t,map:u,combine:C,linear:F,stpq:M,intUV:T}=m;null==x&&(x={});null==z&&(z=!0);w=null!=x.styleColor;this.geometry=new J.SurfaceGeometry({width:m.width,height:m.height,surfaces:m.surfaces,layers:m.layers,closedX:m.closedX,closedY:m.closedY});
this._adopt(x);this._adopt(this.geometry.uniforms);var N={};m.closedX&&(N.SURFACE_CLOSED_X="");m.closedY&&(N.SURFACE_CLOSED_Y="");T&&(N.POSITION_UV_INT="");h=h.material();m=h.vertex;m.pipe(this._vertexColor(p,t));m.require(this._vertexPosition(k,z,u,2,M));B?(m.require(B),m.pipe("surface.position.normal",this.uniforms,N)):(z||m.pipe("surface.position",this.uniforms,N),z&&m.pipe("surface.position.shaded",this.uniforms,N));m.pipe("project.position",this.uniforms);h.fragment=w=this._fragmentColor(w,z,
p,t,u,2,M,C,F);w.pipe("fragment.color",this.uniforms);w=h.link({side:A.DoubleSide});this.material=this._material(w);N=new A.Mesh(this.geometry,this.material);N.userData=w;this._raw(N);this.renders=[N]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}I.Surface=r};
shadow$provide[357]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.TextAtlas=void 0;ra=P(335);var A=P(99);class J extends ra.Atlas{constructor(r,w,h){let m;h.width||(h.width=256);h.height||(h.height=256);h.type=A.UnsignedByteType;h.channels=1;h.backed=!0;super(r,w,h,!1);this.font=null!=h.font?h.font:["sans-serif"];this.size=h.size||24;this.style=null!=h.style?h.style:"normal";this.variant=null!=h.variant?h.variant:"normal";this.weight=null!=h.weight?h.weight:"normal";this.outline=
null!=(m=+(null!=h.outline?h.outline:5))?m:0;this.gamma=1;"undefined"!==typeof navigator&&(r=navigator.userAgent,r.match(/Chrome/)&&r.match(/OS X/)&&(this.gamma=.5));this.scratchW=this.scratchH=0;this.build(h)}build(r){super.build(r);r=16;r=this.size;r+=4+2*Math.min(1,this.outline);const w=32*r,h=document.createElement("canvas");h.width=w;h.height=r;var m=this.font.map(k=>`${k.replace(/(['"\\])/g,"\\$1")}`).join(", ");const x=h.getContext("2d",{willReadFrequently:!0});x.font=`${this.style} ${this.variant} ${this.weight} ${this.size}px ${m}`;
x.fillStyle="#FF0000";x.textAlign="left";x.textBaseline="bottom";x.lineJoin="round";m=[];var z=3*this.outline;for(let k=0,p=z,B=0<=p;B?k<p:k>p;B?k++:k--)z=("00"+Math.max(0,8*-k+128-8*!k).toString(16)).slice(-2),m.push("#"+z+z+z);z=new Uint8Array(w*r*2);this.canvas=h;this.context=x;this.lineHeight=r;this.maxWidth=w;this.colors=m;this.scratch=z;this._allocate=this.allocate.bind(this);return this._write=this.write.bind(this)}reset(){super.reset();return this.mapped={}}begin(){return Array.from(this.rows).map(r=>
r.alive=0)}end(){const {mapped:r}=this;for(const w of Array.from(this.rows.slice()))if(0===w.alive){for(const h of Array.from(w.keys))delete r[h];this.collapse(w)}}map(r,w){const {mapped:h}=this;var m=h[r];if(null!=m)return m.row.alive++,w(m.x,m.y,m.w,m.h);this.draw(r);const x=this.scratch,z=this.scratchW,k=this.scratchH;m=this._allocate;const p=this._write;return m(r,z,k,function(B,t,u){h[r]={x:t,y:u,w:z,h:k,row:B};p(x,t,u,z,k);return w(t,u,z,k)})}draw(r){const w=this.lineHeight;var h=this.outline;
var m=this.context;const x=this.scratch;var z=this.maxWidth;var {colors:k}=this,p=h+1,B=Math.round(1.05*w-1);var t=m.measureText(r);z=Math.min(z,Math.ceil(t.width+2*p+1));m.clearRect(0,0,z,w);if(0===this.outline)for(m.fillText(r,p,B),{data:r}=m.getImageData(0,0,z,w),t=3,h=0,k=r.length/4,m=0<=k;m?h<k:h>k;m?h++:h--)x[h]=r[t],t+=4;else{var u;m.globalCompositeOperation="source-over";h=t=h+1;for(u=1>=t;u?1>=h:1<=h;u?h++:h--)t=1<h?2*h-2:h,m.strokeStyle=k[t-1],m.lineWidth=t,m.strokeText(r,p,B);m.globalCompositeOperation=
"multiply";m.fillText(r,p,B);({data:r}=m.getImageData(0,0,z,w));t=0;({gamma:p}=this);h=0;k=r.length/4;for(m=0<=k;m?h<k:h>k;m?h++:h--){u=(B=r[t])?r[t+1]/B:1;.5===p&&(u=Math.sqrt(u));u=Math.min(1,Math.max(0,u));const C=256-B;x[h]=Math.max(0,Math.min(255,C+(B-C)*u+2));t+=4}}this.scratchW=z;return this.scratchH=w}}I.TextAtlas=J};
shadow$provide[358]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.VoxelBuffer=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(327);class m extends G.DataBuffer{build(e){super.build();this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}setActive(e,c,h){let l;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(l=[Math.max(0,this.width-e),Math.max(0,this.height-c),Math.max(0,this.depth-h)]),l}fill(){let e,c,h,l;const {callback:n}=this;"function"===typeof n.reset&&
n.reset();const {emit:p,skip:v,count:w,done:z,reset:x}=this.streamer;x();const E=this.width,H=this.height,I=this.pad.x,N=this.pad.y,Q=this.samples-this.pad.z*E*H;let V=e=c=h=0;if(0<I||0<N)for(;!z()&&h<Q&&(h++,l=n(p,V,e,c),++V===E-I&&(v(I),h+=I,V=0,++e===H-N&&(v(E*N),h+=E*N,e=0,c++)),!1!==l););else for(;!z()&&h<Q&&(h++,l=n(p,V,e,c),++V===E&&(V=0,++e===H&&(e=0,c++)),!1!==l););return Math.floor(w()/this.items)}through(e,c){let h,l,n,p;const {consume:v,done:w,skip:z}=p=this.streamer,{emit:x}=h=c.streamer;
let E=l=n=0,H=()=>v((I,N,Q,V)=>e(x,I,N,Q,V,E,l,n));H=u.repeatCall(H,this.items);return()=>{let I;p.reset();h.reset();const N=this.width,Q=this.height,V=this.pad.x,ba=this.pad.y,T=this.samples-this.pad.z*N*Q;E=l=n=I=0;if(0<V||0<ba)for(;!w()&&I<T;)I++,H(),++E===N-V&&(z(V),E=0,++l===Q-ba&&(z(N*ba),l=0,n++));else for(;!w()&&I<T;)I++,H(),++E===N&&(E=0,++l===Q&&(l=0,n++));return p.count()}}}g.VoxelBuffer=m};
shadow$provide[359]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Classes=void 0;G=y(328);X=y(333);var A=y(335),u=y(327),m=y(336),e=y(338),c=y(340),h=y(341),l=y(344),n=y(348),p=y(350),v=y(351),w=y(352),z=y(343),x=y(323),E=y(347),H=y(353),I=y(355),N=y(356),Q=y(357);y=y(358);g.Classes={sprite:H.Sprite,point:p.Point,line:c.Line,surface:N.Surface,face:e.Face,strip:I.Strip,arrow:X.Arrow,screen:E.Screen,memoScreen:n.MemoScreen,debug:m.Debug,dataBuffer:u.DataBuffer,arrayBuffer:G.ArrayBuffer_,
matrixBuffer:h.MatrixBuffer,voxelBuffer:y.VoxelBuffer,pushBuffer:v.PushBuffer,renderToTexture:z.RenderToTexture,memo:l.Memo,readback:w.Readback,atlas:A.Atlas,textAtlas:Q.TextAtlas,scene:x.Scene}};
shadow$provide[360]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={Factory:!0};Object.defineProperty(g,"Factory",{enumerable:!0,get:function(){return m.RenderFactory}});var u=y(323);Object.keys(u).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===u[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return u[c]}}))});var m=y(324),e=y(359);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==
c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[361]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float worldUnit;\nuniform float lineDepth;\nuniform float lineWidth;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nuniform float arrowSize;\nuniform float arrowSpace;\n\nattribute vec4 position4;\nattribute vec3 arrow;\nattribute vec2 attach;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvoid getArrowGeometry(vec4 xyzw, float near, float mid, float far, out vec3 left, out vec3 right, out vec3 middle, out vec3 start) {\n  right  \x3d getPosition(xyzw, 1.0);\n  left   \x3d getPosition(vec4(near, xyzw.yzw), 0.0);\n  middle \x3d getPosition(vec4(mid,  xyzw.yzw), 0.0);\n  start  \x3d getPosition(vec4(far,  xyzw.yzw), 0.0);\n}\n\nmat4 getArrowMatrix(vec3 left, vec3 right, vec3 middle, vec3 start) {\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -right.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n\n  vec3 diff \x3d left - right;\n  float l \x3d length(diff);\n  if (l \x3d\x3d 0.0) {\n    return mat4(1.0, 0.0, 0.0, 0.0,\n                0.0, 1.0, 0.0, 0.0,\n                0.0, 0.0, 1.0, 0.0,\n                0.0, 0.0, 0.0, 1.0);\n  }\n\n  // Construct TBN matrix around shaft\n  vec3 t \x3d normalize(diff);\n  vec3 n \x3d normalize(cross(t, t.yzx + vec3(.1, .2, .3)));\n  vec3 b \x3d cross(n, t);\n\n  // Shrink arrows when vector gets too small\n  // Approach linear scaling with cubic ease the smaller we get\n  float size \x3d arrowSize * lineWidth * worldUnit * depth * 1.25;\n  l \x3d max(length(right - middle), length(middle - start)) * 2.0 * arrowSpace;\n  float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n  float scale \x3d 1.0 - mini * mini * mini;\n  float range \x3d size * scale;\n\n  // Size to 2.5:1 ratio\n  float rangeNB \x3d range / 2.5;\n\n  // Anchor at end position\n  return mat4(vec4(n * rangeNB,  0),\n              vec4(b * rangeNB,  0),\n              vec4(t * range, 0),\n              vec4(right,  1.0));\n}\n\nvec3 getArrowPosition() {\n  vec3 left, right, middle, start;\n\n  // Clip arrow position and attachment anchors to data\n  vec4 p \x3d min(geometryClip, position4);\n  vec3 a \x3d vec3(min(geometryClip.x, p.x + attach.x), geometryClip.x / 2.0, min(geometryClip.x, attach.y));\n\n  getArrowGeometry(p, a.x, a.y, a.z, left, right, middle, start);\n  mat4 matrix \x3d getArrowMatrix(left, right, middle, start);\n\n  return (matrix * vec4(arrow.xyz, 1.0)).xyz;\n\n}\n"};
shadow$provide[362]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 axisStep;\nuniform vec4 axisPosition;\n\nvec4 getAxisPosition(vec4 xyzw, inout vec4 stpq) {\n  return axisStep * xyzw.x + axisPosition;\n}\n"};
shadow$provide[363]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform vec4 viewScale;\nuniform vec4 viewOffset;\n\nvec4 getCartesian4Position(vec4 position, inout vec4 stpq) {\n  return position * basisScale + basisOffset;\n}\n"};
shadow$provide[364]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform mat4 viewMatrix;\n\nvec4 getCartesianPosition(vec4 position, inout vec4 stpq) {\n  return viewMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[365]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 clampLimit;\n\nvec4 getClampXYZW(vec4 xyzw) {\n  return clamp(xyzw, vec4(0.0), clampLimit);\n}\n"};
shadow$provide[366]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 opaqueColor(vec4 color) {\n  return vec4(color.rgb, 1.0);\n}\n"};
shadow$provide[367]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getFacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[368]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getFaceGeometry(vec4 xyzw, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(vec4(xyzw.xyz, 0.0), 0.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, 1.0), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, 2.0), 0.0);\n\n  pos \x3d getPosition(xyzw, 1.0);\n  normal \x3d normalize(cross(c - a, b - a));\n}\n\nvec3 getFacePositionNormal() {\n  vec3 center, normal;\n\n  getFaceGeometry(position4, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[369]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="/*\nFloat encoding technique by\nCarlos Scheidegger\nhttps://github.com/cscheid/lux/blob/master/src/shade/bits/encode_float.js\n\nConversion to GLSL by:\nhttp://concord-consortium.github.io/lab/experiments/webgl-gpgpu/script.js\n*/\n\nfloat shift_right(float v, float amt) { \n  v \x3d floor(v) + 0.5; \n  return floor(v / exp2(amt)); \n}\n\nfloat shift_left(float v, float amt) { \n  return floor(v * exp2(amt) + 0.5); \n}\n\nfloat mask_last(float v, float bits) { \n  return mod(v, shift_left(1.0, bits)); \n}\n\nfloat extract_bits(float num, float from, float to) { \n  from \x3d floor(from + 0.5); to \x3d floor(to + 0.5); \n  return mask_last(shift_right(num, from), to - from); \n}\n\nvec4 encode_float(float val) { \n  if (val \x3d\x3d 0.0) return vec4(0, 0, 0, 0); \n  float valuesign \x3d val \x3e 0.0 ? 0.0 : 1.0; \n  val \x3d abs(val); \n  float exponent \x3d floor(log2(val)); \n  float biased_exponent \x3d exponent + 127.0; \n  float fraction \x3d ((val / exp2(exponent)) - 1.0) * 8388608.0; \n  float t \x3d biased_exponent / 2.0; \n  float last_bit_of_biased_exponent \x3d fract(t) * 2.0; \n  float remaining_bits_of_biased_exponent \x3d floor(t); \n  float byte4 \x3d extract_bits(fraction, 0.0, 8.0) / 255.0; \n  float byte3 \x3d extract_bits(fraction, 8.0, 16.0) / 255.0; \n  float byte2 \x3d (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; \n  float byte1 \x3d (valuesign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; \n  return vec4(byte4, byte3, byte2, byte1); \n}\n"};
shadow$provide[370]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 indexModulus;\n\nvec4 getSample(vec4 xyzw);\nvec4 getIndex(vec4 xyzw);\n\nvec4 floatPackIndex(vec4 xyzw) {\n  vec4 value \x3d getSample(xyzw);\n  vec4 index \x3d getIndex(xyzw);\n\n  vec4 offset \x3d floor(index + .5) * indexModulus;\n  vec2 sum2 \x3d offset.xy + offset.zw;\n  float sum \x3d sum2.x + sum2.y;\n  return vec4(value.xyz, sum);\n}"};
shadow$provide[371]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getSample(vec4 xyzw);\n\nfloat floatStretch(vec4 xyzw, float channelIndex) {\n  vec4 sample \x3d getSample(xyzw);\n  vec2 xy \x3d channelIndex \x3e 1.5 ? sample.zw : sample.xy;\n  return mod(channelIndex, 2.0) \x3e .5 ? xy.y : xy.x;\n}"};
shadow$provide[372]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 16.0) \x3e 8.0) {\n    discard;\n  }\n}\n"};
shadow$provide[373]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 4.0) \x3e 2.0) {\n    discard;\n  }\n}\n"};
shadow$provide[374]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vClipEnds;\n\nvoid clipEndsFragment() {\n  if (vClipEnds.x \x3c 0.0 || vClipEnds.y \x3c 0.0) discard;\n}\n"};
shadow$provide[375]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vClipProximity;\n\nvoid clipProximityFragment() {\n  if (vClipProximity \x3e\x3d 0.5) discard;\n}"};
shadow$provide[376]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setFragmentColor(vec4 color) {\n  gl_FragColor \x3d color;\n}"};
shadow$provide[377]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 fragmentRGBA(vec4 rgba, vec4 stpq) {\n  return rgba;\n}"};
shadow$provide[378]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3c 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[379]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3e\x3d 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[380]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 gridPosition;\nuniform vec4 gridStep;\nuniform vec4 gridAxis;\n\nvec4 sampleData(vec2 xy);\n\nvec4 getGridPosition(vec4 xyzw) {\n  vec4 onAxis  \x3d gridAxis * sampleData(vec2(xyzw.y, 0.0)).x;\n  vec4 offAxis \x3d gridStep * xyzw.x + gridPosition;\n  return onAxis + offAxis;\n}\n"};
shadow$provide[381]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float growScale;\nuniform vec4  growMask;\nuniform vec4  growAnchor;\n\nvec4 getSample(vec4 xyzw);\n\nvec4 getGrowSample(vec4 xyzw) {\n  vec4 anchor \x3d xyzw * growMask + growAnchor;\n\n  vec4 position \x3d getSample(xyzw);\n  vec4 center \x3d getSample(anchor);\n\n  return mix(center, position, growScale);\n}"};
shadow$provide[382]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float joinStride;\nuniform float joinStrideInv;\n\nfloat getIndex(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndices(float a, float b);\n\nvec4 getJoinXYZW(vec4 xyzw) {\n\n  float a \x3d getIndex(xyzw);\n  float b \x3d a * joinStrideInv;\n\n  float integer  \x3d floor(b);\n  float fraction \x3d b - integer;\n  \n  return injectIndices(fraction * joinStride, integer) + getRest(xyzw);\n}\n"};
shadow$provide[383]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nvec4 getLabelAlphaColor(vec4 color, vec4 sample) {\n  float mask \x3d clamp(sample.r * 1000.0, 0.0, 1.0);\n  float alpha \x3d (sample.r - .5) * vPixelSize + .5;\n  float a \x3d mask * alpha * color.a;\n  if (a \x3c\x3d 0.0) discard;\n  return vec4(color.xyz, a);\n}\n"};
shadow$provide[384]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec2 mapUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[385]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float outlineExpand;\nuniform float outlineStep;\nuniform vec3  outlineColor;\n\nvarying float vPixelSize;\n\nconst float PIXEL_STEP \x3d 255.0 / 16.0;\n\nvec4 getLabelOutlineColor(vec4 color, vec4 sample) {\n  float ps \x3d vPixelSize * PIXEL_STEP;\n  float os \x3d outlineStep;\n\n  float sdf \x3d sample.r - .5 + outlineExpand;\n  vec2  sdfs \x3d vec2(sdf, sdf + os);\n  vec2  alpha \x3d clamp(sdfs * ps + .5, 0.0, 1.0);\n\n  if (alpha.y \x3c\x3d 0.0) {\n    discard;\n  }\n\n  vec3 blend \x3d color.xyz;\n  if (alpha.y \x3e alpha.x) {\n    blend \x3d sqrt(mix(outlineColor * outlineColor, blend * blend, alpha.x));\n  }\n  \n  return vec4(blend, alpha.y * color.a);\n}\n"};
shadow$provide[386]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 layerScale;\nuniform vec4 layerBias;\n\n#define PROJECT_ORTHOGONAL\n\nvec4 layerPosition(vec4 position, inout vec4 stpq) {\n  return layerScale * position + layerBias;\n}\n"};
shadow$provide[387]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[388]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[389]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[390]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[391]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// Units and calibration\nuniform float worldUnit;\nuniform float lineWidth;\nuniform float lineDepth;\nuniform float focusDepth;\n\n// General data index\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// (Top/bottom -1,1)\nattribute float line;\n\n// 0...1 for round or bevel joins\n#ifdef LINE_JOIN_DETAIL\nattribute float joint;\n#else\nconst float joint \x3d 0.0;\n#endif\n\n// Knock out excessively long line segments (e.g. for asymtpotes)\n#ifdef LINE_PROXIMITY\nuniform float lineProximity;\nvarying float vClipProximity;\n#endif\n\n// Ghetto line stroking (local only, not global)\n#ifdef LINE_STROKE\nvarying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\n// Clip line ends for arrows / decoration\n#ifdef LINE_CLIP\nuniform float clipRange;\nuniform vec2  clipStyle;\nuniform float clipSpace;\n\nattribute vec2 strip;\n\nvarying vec2 vClipEnds;\n\nvoid clipEnds(vec4 xyzw, vec3 center, vec3 pos) {\n\n  // Sample start of line strip\n  vec4 xyzwS \x3d vec4(0.0, xyzw.yzw);\n  vec3 start \x3d getPosition(xyzwS, 0.0);\n\n  // Sample middle of line strip\n  vec4 xyzwM \x3d vec4(geometryClip.x / 2.0, xyzw.yzw);\n  vec3 middle \x3d getPosition(xyzwM, 0.0);\n\n#ifdef LINE_CLOSED\n  vec3 end \x3d start;\n#else\n  // Sample other end of line strip\n  vec4 xyzwE \x3d vec4(geometryClip.x, xyzw.yzw);\n  vec3 end   \x3d getPosition(xyzwE, 0.0);\n#endif\n\n  // Measure length\n  float l \x3d max(length(end - middle), length(middle - start)) * clipSpace * 2.0;\n\n  // Arrow length (\x3d2.5x radius)\n  float arrowSize \x3d 1.25 * clipRange * lineWidth * worldUnit;\n\n#ifdef LINE_CLOSED\n  // Clip around start/end\n  end \x3d start;\n#endif\n\n  vClipEnds \x3d vec2(1.0);\n\n  if (clipStyle.y \x3e 0.0) {\n    // Depth blend end\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -end.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip end\n    vec3 diff \x3d end - center;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.x \x3d -1.0;\n    else {\n      diff \x3d normalize(end - center);\n      float d \x3d dot(end - pos, diff);\n      vClipEnds.x \x3d d * invrange - 1.0;\n    }\n  }\n\n  if (clipStyle.x \x3e 0.0) {\n    // Depth blend start\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -start.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip start\n    vec3 diff \x3d center - start;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.y \x3d -1.0;\n    else {\n      diff \x3d normalize(center - start);\n      float d \x3d dot(pos - start, diff);\n      vClipEnds.y \x3d d * invrange - 1.0;\n    }\n  }\n}\n#endif\n\n// Adjust left/center/right to be inside near/far z range\nconst float epsilon \x3d 1e-5;\nvoid fixCenter(inout vec3 left, inout vec3 center, inout vec3 right) {\n  if (center.z \x3e\x3d 0.0) {\n    if (left.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - left.z);\n      center \x3d mix(center, left, d);\n    }\n    else if (right.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - right.z);\n      center \x3d mix(center, right, d);\n    }\n  }\n\n  if (left.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (left.z + epsilon) / (left.z - center.z);\n      left \x3d mix(left, center, d);\n    }\n  }\n\n  if (right.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (right.z + epsilon) / (right.z - center.z);\n      right \x3d mix(right, center, d);\n    }\n  }\n}\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef LINE_CLOSED\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n  return xyzw;\n}\n\n// Sample the source data in an edge-aware manner\nvoid getLineGeometry(vec4 xyzw, float edge, out vec3 left, out vec3 center, out vec3 right) {\n  vec4 delta \x3d vec4(1.0, 0.0, 0.0, 0.0);\n\n  center \x3d getPosition(xyzw, 1.0);\n  left   \x3d (edge \x3e -0.5) ? getPosition(wrapAround(xyzw - delta), 0.0) : center;\n  right  \x3d (edge \x3c 0.5)  ? getPosition(wrapAround(xyzw + delta), 0.0) : center;\n}\n\n// Calculate the position for a vertex along the line, including joins\nvec3 getLineJoin(float edge, bool odd, vec3 left, vec3 center, vec3 right, float width, float offset, float joint) {\n  vec2 join \x3d vec2(1.0, 0.0);\n\n  fixCenter(left, center, right);\n\n  vec4 a \x3d vec4(left.xy, right.xy);\n  vec4 b \x3d a / vec4(left.zz, right.zz);\n\n  vec2 l \x3d b.xy;\n  vec2 r \x3d b.zw;\n  vec2 c \x3d center.xy / center.z;\n\n  vec4 d \x3d vec4(l, c) - vec4(c, r);\n  float l1 \x3d dot(d.xy, d.xy);\n  float l2 \x3d dot(d.zw, d.zw);\n\n  if (l1 + l2 \x3e 0.0) {\n\n    if (edge \x3e 0.5 || l2 \x3d\x3d 0.0) {\n      vec2 nl \x3d normalize(d.xy);\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(left - center);\n#endif\n      join \x3d tl;\n    }\n    else if (edge \x3c -0.5 || l1 \x3d\x3d 0.0) {\n      vec2 nr \x3d normalize(d.zw);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(center - right);\n#endif\n      join \x3d tr;\n    }\n    else {\n      // Limit join stretch for tiny segments\n      float lmin2 \x3d min(l1, l2) / (width * width);\n\n      // Hide line segment if ratio of leg lengths exceeds promixity threshold\n#ifdef LINE_PROXIMITY\n      float lr     \x3d l1 / l2;\n      float rl     \x3d l2 / l1;\n      float ratio  \x3d max(lr, rl);\n      float thresh \x3d lineProximity + 1.0;\n      vClipProximity \x3d (ratio \x3e thresh * thresh) ? 1.0 : 0.0;\n#endif\n\n      // Calculate normals/tangents\n      vec2 nl \x3d normalize(d.xy);\n      vec2 nr \x3d normalize(d.zw);\n\n      // Calculate tangents\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      // Mix tangents according to leg lengths\n      vec2 tc \x3d normalize(mix(tl, tr, l1/(l1+l2)));\n#else\n      // Average tangent\n      vec2 tc \x3d normalize(tl + tr);\n#endif\n\n      // Miter join\n      float cosA   \x3d dot(nl, tc);\n      float sinA   \x3d max(0.1, abs(dot(tl, tc)));\n      float factor \x3d cosA / sinA;\n      float scale  \x3d sqrt(1.0 + min(lmin2, factor * factor));\n\n      // Stroke normals\n#ifdef LINE_STROKE\n      vec3 stroke1 \x3d normalize(left - center);\n      vec3 stroke2 \x3d normalize(center - right);\n\n      if (odd) {\n        vClipStrokeEven \x3d stroke1;\n        vClipStrokeOdd  \x3d stroke2;\n      }\n      else {\n        vClipStrokeEven \x3d stroke2;\n        vClipStrokeOdd  \x3d stroke1;\n      }\n#endif\n\n#ifdef LINE_JOIN_MITER\n      // Apply straight up miter\n      join \x3d tc * scale;\n#endif\n\n#ifdef LINE_JOIN_ROUND\n      // Slerp bevel join into circular arc\n      float dotProduct \x3d dot(nl, nr);\n      float angle \x3d acos(dotProduct);\n      float sinT  \x3d sin(angle);\n      join \x3d (sin((1.0 - joint) * angle) * tl + sin(joint * angle) * tr) / sinT;\n#endif\n\n#ifdef LINE_JOIN_BEVEL\n      // Direct bevel join between two flat ends\n      float dotProduct \x3d dot(nl, nr);\n      join \x3d mix(tl, tr, joint);\n#endif\n\n#ifdef LINE_JOIN_DETAIL\n      // Check if on inside or outside of joint\n      float crossProduct \x3d nl.x * nr.y - nl.y * nr.x;\n      if (offset * crossProduct \x3c 0.0) {\n        // For near-180-degree bends, correct back to a miter to avoid discontinuities\n        float ratio \x3d clamp(-dotProduct * 2.0 - 1.0, 0.0, 1.0);\n        // Otherwise collapse the inside vertices into one.\n        join \x3d mix(tc * scale, join, ratio * ratio * ratio);\n      }\n#endif\n\n    }\n    return vec3(join, 0.0);\n  }\n  else {\n    return vec3(0.0);\n  }\n\n}\n\n// Calculate final line position\nvec3 getLinePosition() {\n  vec3 left, center, right, join;\n\n  // Up/down along segment\n  float offset \x3d line;\n\n  // Clip data\n  vec4 p \x3d min(geometryClip, position4);\n\n  // Left/center/right\n  float edge \x3d 0.0;\n#ifdef LINE_CLOSED\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) edge \x3d 1.0;\n  if (p.x \x3d\x3d 0.0) edge \x3d -1.0;\n#endif\n\n  // Get position + adjacent neighbours\n  getLineGeometry(p, edge, left, center, right);\n\n#ifdef LINE_STROKE\n  // Set parameters for line stroke fragment shader\n  vClipStrokePosition \x3d center;\n  vClipStrokeIndex \x3d p.x;\n  bool odd \x3d mod(p.x, 2.0) \x3e\x3d 1.0;\n#else\n  bool odd \x3d true;\n#endif\n\n  // Divide line width up/down\n  float width \x3d lineWidth * 0.5;\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -center.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n  width *\x3d depth;\n\n  // Convert to world units\n  width *\x3d worldUnit;\n\n  // Calculate line join\n#ifdef LINE_CLOSED\n  join \x3d getLineJoin(0.0, odd, left, center, right, width, offset, joint);\n#else\n  join \x3d getLineJoin(edge, odd, left, center, right, width, offset, joint);\n#endif\n  vec3 pos \x3d center + join * offset * width;\n\n#ifdef LINE_STROKE\n  vClipStrokeWidth \x3d width;\n#endif\n\n#ifdef LINE_CLIP\n  clipEnds(p, center, pos);\n#endif\n\n  return pos;\n}\n"};
shadow$provide[392]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return (xy + dataPointer) * dataResolution;\n}\n"};
shadow$provide[393]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return fract((xy + dataPointer) * dataResolution);\n}\n"};
shadow$provide[394]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void mapXyzw2DV(vec4 xyzw, out vec2 xy, out float z) {\n  xy \x3d xyzw.xy;\n  z  \x3d xyzw.z;\n}\n\n"};
shadow$provide[395]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 alignXYZW(vec4 xyzw) {\n  return floor(xyzw + .5);\n}\n\n"};
shadow$provide[396]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float textureItems;\nuniform float textureHeight;\n\nvec2 mapXyzwTexture(vec4 xyzw) {\n  \n  float x \x3d xyzw.x;\n  float y \x3d xyzw.y;\n  float z \x3d xyzw.z;\n  float i \x3d xyzw.w;\n  \n  return vec2(i, y) + vec2(x, z) * vec2(textureItems, textureHeight);\n}\n\n"};
shadow$provide[397]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec4 vColor;\n\nvec4 getColor() {\n  if (vColor.a \x3c\x3d 0.0) discard;\n  return vColor;\n}\n"};
shadow$provide[398]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 uvwo, vec4 stpq);\n\nvec4 getMapColor() {\n  #ifdef POSITION_STPQ\n  vec4 stpq \x3d vSTPQ;\n  #else\n  vec4 stpq \x3d vec4(0.0);\n  #endif\n\n  #ifdef POSITION_U\n  vec4 uvwo \x3d vec4(vU, 0.0, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UV\n  vec4 uvwo \x3d vec4(vUV, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UVW\n  vec4 uvwo \x3d vec4(vUVW, 0.0);\n  #endif\n  #ifdef POSITION_UVWO\n  vec4 uvwo \x3d vec4(vUVWO);\n  #endif\n\n  return getSample(uvwo, stpq);\n}\n"};
shadow$provide[399]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vMask;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return t * t * (3.0 - 2.0 * t);\n}\n\nvec4 maskColor() {\n  if (vMask \x3c\x3d 0.0) discard;\n  return vec4(vec3(1.0), ease(vMask));\n}\n"};
shadow$provide[400]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 rgba, vec4 stpq);\n\nvec4 getMaterialColor(vec4 rgba) {\n  vec4 stpq \x3d vec4(0.0);\n\n  #ifdef POSITION_U\n  stpq.x \x3d vU;\n  #endif\n  #ifdef POSITION_UV\n  stpq.xy \x3d vUV;\n  #endif\n  #ifdef POSITION_UVW\n  stpq.xyz \x3d vUVW;\n  #endif\n  #ifdef POSITION_UVWO\n  stpq \x3d vUVWO;\n  #endif\n\n  #ifdef POSITION_STPQ\n  stpq \x3d vSTPQ;\n  #endif\n\n  return getSample(rgba, stpq);\n}\n"};
shadow$provide[401]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="\n#extension GL_OES_standard_derivatives : enable\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 offSpecular(vec3 color) {\n  vec3 c \x3d 1.0 - color;\n  return 1.0 - c * c;\n}\n\nvec4 getShadedColor(vec4 rgba) {\n  \n  vec3 color \x3d rgba.xyz;\n  vec3 color2 \x3d offSpecular(rgba.xyz);\n\n  vec3 normal \x3d normalize(vNormal);\n  vec3 light \x3d normalize(vLight);\n  vec3 position \x3d normalize(vPosition);\n  \n  // Workaround to avoid gl_FrontFacing. See https://github.com/unconed/mathbox/pull/26\n  vec3 pdx \x3d dFdx(vPosition);\n  vec3 pdy \x3d dFdy(vPosition);\n  bool frontFacting \x3d dot(vNormal, cross(pdx, pdy)) \x3e 0.0;\n\n  float side \x3d frontFacting ? 1.0 : -1.0;\n  float cosine  \x3d side * dot(normal, light);\n  float diffuse \x3d mix(max(0.0, cosine), .5 + .5 * cosine, .1);\n  \n  vec3  halfLight \x3d normalize(light + position);\n\tfloat cosineHalf \x3d max(0.0, side * dot(normal, halfLight));\n\tfloat specular \x3d pow(cosineHalf, 16.0);\n\t\n\treturn vec4(color * (diffuse * .9 + .05) + .25 * color2 * specular, rgba.a);\n}\n"};
shadow$provide[402]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default=""};
shadow$provide[403]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getGammaInColor(vec4 rgba) {\n  return vec4(rgba.rgb * rgba.rgb, rgba.a);\n}\n"};
shadow$provide[404]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getGammaOutColor(vec4 rgba) {\n  return vec4(sqrt(rgba.rgb), rgba.a);\n}\n"};
shadow$provide[405]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 mapUVWO(vec4 uvwo, vec4 stpq) {\n  return uvwo;\n}\n"};
shadow$provide[406]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getMeshPosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[407]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\nuniform vec4 geometryClip;\nvarying vec4 vColor;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvoid vertexColor() {\n  vec4 p \x3d min(geometryClip, position4);\n  vColor \x3d getSample(p);\n}\n"};
shadow$provide[408]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nvarying float vMask;\n\n// External\nfloat getSample(vec4 xyzw);\n\nvoid maskLevel() {\n  vec4 p \x3d min(geometryClip, position4);\n  vMask \x3d getSample(p * geometryResolution);\n}\n"};
shadow$provide[409]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryResolution;\n\n#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getMeshPosition(vec4 xyzw, float canonical) {\n  vec4 stpqOut, stpqIn \x3d xyzw * geometryResolution;\n  vec3 xyz \x3d getPosition(xyzw, stpqIn, stpqOut);\n\n  #ifdef POSITION_MAP\n  if (canonical \x3e 0.5) {\n    #ifdef POSITION_STPQ\n    vSTPQ \x3d stpqOut;\n    #endif\n    #ifdef POSITION_U\n    vU \x3d stpqOut.x;\n    #endif\n    #ifdef POSITION_UV\n    vUV \x3d stpqOut.xy;\n    #endif\n    #ifdef POSITION_UVW\n    vUVW \x3d stpqOut.xyz;\n    #endif\n    #ifdef POSITION_UVWO\n    vUVWO \x3d stpqOut;\n    #endif\n  }\n  #endif\n  return xyz;\n}\n"};
shadow$provide[410]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nuniform vec4  moveFrom;\nuniform vec4  moveTo;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return 1.0 - (2.0 - t) * t;\n}\n\nvec4 getTransitionPosition(vec4 xyzw, inout vec4 stpq) {\n  if (transitionActive \x3c 0.5) return xyzw;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  float a1 \x3d ease(enter * factor - offset);\n  float a2 \x3d ease(exit  * factor + offset - skew);\n\n  return xyzw + a1 * moveFrom + a2 * moveTo;\n}"};
shadow$provide[411]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getMask(vec4 xyzw) {\n  return vec4(1.0);\n}"};
shadow$provide[412]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getDiscAlpha(float mask) {\n  // Approximation: 1 - x*x is approximately linear around x \x3d 1 with slope 2\n  return vPixelSize * (1.0 - mask);\n  //  return vPixelSize * 2.0 * (1.0 - sqrt(mask));\n}\n"};
shadow$provide[413]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getDiscHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(sqrt(mask) - .75));\n}\n"};
shadow$provide[414]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getGenericAlpha(float mask) {\n  return vPixelSize * 2.0 * (1.0 - mask);\n}\n"};
shadow$provide[415]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getGenericHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(mask - .75));\n}\n"};
shadow$provide[416]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3e\x3d 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d vec4(color.rgb, alpha * color.a);\n}\n"};
shadow$provide[417]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3c 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d color;\n}\n\n"};
shadow$provide[418]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getCircleMask(vec2 uv) {\n  return dot(uv, uv);\n}\n"};
shadow$provide[419]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getDiamondMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return a.x + a.y;\n}\n"};
shadow$provide[420]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleDownMask(vec2 uv) {\n  uv.y +\x3d .25;\n  return max(uv.y, abs(uv.x) * .866 - uv.y * .5 + .6);\n}\n"};
shadow$provide[421]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleLeftMask(vec2 uv) {\n  uv.x +\x3d .25;\n  return max(uv.x, abs(uv.y) * .866 - uv.x * .5 + .6);\n}\n"};
shadow$provide[422]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleRightMask(vec2 uv) {\n  uv.x -\x3d .25;\n  return max(-uv.x, abs(uv.y) * .866 + uv.x * .5 + .6);\n}\n"};
shadow$provide[423]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getSquareMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return max(a.x, a.y);\n}\n"};
shadow$provide[424]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleUpMask(vec2 uv) {\n  uv.y -\x3d .25;\n  return max(-uv.y, abs(uv.x) * .866 + uv.y * .5 + .6);\n}\n"};
shadow$provide[425]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float pointDepth;\n\nuniform float pixelUnit;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying vec2 vSprite;\nvarying float vPixelSize;\n\nconst float pointScale \x3d POINT_SHAPE_SCALE;\n\n// External\nfloat getPointSize(vec4 xyzw);\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getPointPosition() {\n  // Discard out-of-range points by generating degenerate face\n  if (\n    position4.x \x3e geometryClip.x ||\n    position4.y \x3e geometryClip.y ||\n    position4.z \x3e geometryClip.z ||\n    position4.w \x3e geometryClip.w\n  ) return vec3(0.0, 0.0, 0.0);\n  vec4 p \x3d position4;\n\n  vec3 center \x3d getPosition(p, 1.0);\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float z \x3d -center.z;\n  float depth \x3d mix(z, focusDepth, pointDepth);\n\n  // Match device/unit mapping\n  // Sprite goes from -1..1, width \x3d 2.\n  float pointSize \x3d getPointSize(p);\n  float size \x3d pointScale * pointSize * pixelUnit * .5;\n  float depthSize \x3d depth * size;\n\n  // Pad sprite by half a pixel to make the anti-aliasing straddle the pixel edge\n  // Note: pixelsize measures radius\n  float pixelSize \x3d .5 * (pointDepth \x3e 0.0 ? depthSize / z : size);\n  float paddedSize \x3d pixelSize + 0.5;\n  float padFactor \x3d paddedSize / pixelSize;\n\n  vPixelSize \x3d paddedSize;\n  vSprite    \x3d sprite;\n\n  return center + vec3(sprite * depthSize * renderScaleInv * padFactor, 0.0);\n}\n"};
shadow$provide[426]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float pointSize;\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize;\n}"};
shadow$provide[427]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float pointSize;\n\nvec4 getSample(vec4 xyzw);\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize * getSample(xyzw).x;\n}"};
shadow$provide[428]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float polarBend;\nuniform float polarFocus;\nuniform float polarAspect;\nuniform float polarHelix;\n\nuniform mat4 viewMatrix;\n\nvec4 getPolarPosition(vec4 position, inout vec4 stpq) {\n  if (polarBend \x3e 0.0) {\n\n    if (polarBend \x3c 0.001) {\n      // Factor out large addition/subtraction of polarFocus\n      // to avoid numerical error\n      // sin(x) ~ x\n      // cos(x) ~ 1 - x * x / 2\n      vec2 pb \x3d position.xy * polarBend;\n      float ppbbx \x3d pb.x * pb.x;\n      return viewMatrix * vec4(\n        position.x * (1.0 - polarBend + (pb.y * polarAspect)),\n        position.y * (1.0 - .5 * ppbbx) - (.5 * ppbbx) * polarFocus / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n    else {\n      vec2 xy \x3d position.xy * vec2(polarBend, polarAspect);\n      float radius \x3d polarFocus + xy.y;\n      return viewMatrix * vec4(\n        sin(xy.x) * radius,\n        (cos(xy.x) * radius - polarFocus) / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[429]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float styleZBias;\nuniform float styleZIndex;\n\nvoid setPosition(vec3 position) {\n\n  #ifdef PROJECT_ORTHOGONAL\n  // Orthogonal projection with depth preservation around z \x3d 1\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  pos.xy *\x3d -position.z;\n  #else\n  // Normal perspective projection\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  #endif\n\n  // Apply relative Z bias\n  float bias  \x3d (1.0 - styleZBias / 32768.0);\n  pos.z *\x3d bias;\n\n  // Apply large scale Z index changes\n  if (styleZIndex \x3e 0.0) {\n    float z \x3d pos.z / pos.w;\n    pos.z \x3d ((z + 1.0) / (styleZIndex + 1.0) - 1.0) * pos.w;\n  }\n\n  gl_Position \x3d pos;\n}"};
shadow$provide[430]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// This is three.js' global uniform, missing from fragment shaders.\nuniform mat4 projectionMatrix;\n\nvec4 readbackPosition(vec3 position, vec4 stpq) {\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  vec3 final \x3d pos.xyz / pos.w;\n  if (final.z \x3c -1.0) {\n    return vec4(0.0, 0.0, 0.0, -1.0);\n  }\n  else {\n    return vec4(final, -position.z);\n  }\n}\n"};
shadow$provide[431]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryScale;\nattribute vec4 position4;\n\nvec4 getRawPositionScale() {\n  return geometryScale * position4;\n}\n"};
shadow$provide[432]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 repeatModulus;\n\nvec4 getRepeatXYZW(vec4 xyzw) {\n  return mod(xyzw + .5, repeatModulus) - .5;\n}\n"};
shadow$provide[433]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 resampleBias;\n\nvec4 resamplePadding(vec4 xyzw) {\n  return xyzw + resampleBias;\n}"};
shadow$provide[434]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 resampleFactor;\n\nvec4 resampleRelative(vec4 xyzw) {\n  return xyzw * resampleFactor;\n}"};
shadow$provide[435]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nfloat getTransitionSDFMask(vec4 stpq) {\n  if (transitionActive \x3c 0.5) return 1.0;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  vec2 d \x3d vec2(enter, exit) * factor + vec2(-offset, offset - skew);\n  if (exit  \x3d\x3d 1.0) return d.x;\n  if (enter \x3d\x3d 1.0) return d.y;\n  return min(d.x, d.y);\n}"};
shadow$provide[436]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 reverseScale;\nuniform vec4 reverseOffset;\n\nvec4 getReverseOffset(vec4 xyzw) {\n  return xyzw * reverseScale + reverseOffset;\n}"};
shadow$provide[437]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec3 getRootPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut) {\n  stpqOut \x3d stpqIn; // avoid inout confusion\n  return position.xyz;\n}"};
shadow$provide[438]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform sampler2D dataTexture;\n\nvec4 sample2D(vec2 uv) {\n  return texture2D(dataTexture, uv);\n}\n"};
shadow$provide[439]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 scaleAxis;\nuniform vec4 scaleOffset;\n\nvec4 sampleData(float x);\n\nvec4 getScalePosition(vec4 xyzw) {\n  return scaleAxis * sampleData(xyzw.x).x + scaleOffset;\n}\n"};
shadow$provide[440]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 remapSTPQScale;\n\nvec4 screenMapSTPQ(vec4 xyzw, out vec4 stpq) {\n  stpq \x3d xyzw * remapSTPQScale;\n  return xyzw;\n}\n"};
shadow$provide[441]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 remapUVScale;\n\nvec4 screenMapXY(vec4 uvwo, vec4 stpq) {\n  return vec4(floor(remapUVScale * uvwo.xy), 0.0, 0.0);\n}\n"};
shadow$provide[442]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 remapUVScale;\nuniform vec2 remapModulus;\nuniform vec2 remapModulusInv;\n\nvec4 screenMapXYZW(vec4 uvwo, vec4 stpq) {\n  vec2 st \x3d floor(remapUVScale * uvwo.xy);\n  vec2 xy \x3d st * remapModulusInv;\n  vec2 ixy \x3d floor(xy);\n  vec2 fxy \x3d xy - ixy;\n  vec2 zw \x3d fxy * remapModulus;\n  return vec4(ixy.x, zw.y, ixy.y, zw.x);\n}\n"};
shadow$provide[443]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec2 screenPassUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[444]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setScreenPosition(vec4 position) {\n  gl_Position \x3d vec4(position.xy * 2.0 - 1.0, 0.5, 1.0);\n}\n"};
shadow$provide[445]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 sliceOffset;\n\nvec4 getSliceOffset(vec4 xyzw) {\n  return xyzw + sliceOffset;\n}\n"};
shadow$provide[446]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float sphericalBend;\nuniform float sphericalFocus;\nuniform float sphericalAspectX;\nuniform float sphericalAspectY;\nuniform float sphericalScaleY;\n\nuniform mat4 viewMatrix;\n\nvec4 getSphericalPosition(vec4 position, inout vec4 stpq) {\n  if (sphericalBend \x3e 0.0001) {\n\n    vec3 xyz \x3d position.xyz * vec3(sphericalBend, sphericalBend / sphericalAspectY * sphericalScaleY, sphericalAspectX);\n    float radius \x3d sphericalFocus + xyz.z;\n    float cosine \x3d cos(xyz.y) * radius;\n\n    return viewMatrix * vec4(\n      sin(xyz.x) * cosine,\n      sin(xyz.y) * radius * sphericalAspectY,\n      (cos(xyz.x) * cosine - sphericalFocus) / sphericalAspectX,\n      1.0\n    );\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[447]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float splitStride;\n\nvec2 getIndices(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndex(float v);\n\nvec4 getSplitXYZW(vec4 xyzw) {\n  vec2 uv \x3d getIndices(xyzw);\n  float offset \x3d uv.x + uv.y * splitStride;\n  return injectIndex(offset) + getRest(xyzw);\n}\n"};
shadow$provide[448]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 spreadOffset;\nuniform mat4 spreadMatrix;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvec4 getSpreadSample(vec4 xyzw) {\n  vec4 sample \x3d getSample(xyzw);\n  return sample + spreadMatrix * (spreadOffset + xyzw);\n}\n"};
shadow$provide[449]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vSprite;\n\nvec4 getSample(vec2 xy);\n\nvec4 getSpriteColor() {\n  return getSample(vSprite);\n}"};
shadow$provide[450]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 spriteOffset;\nuniform float spriteScale;\nuniform float spriteDepth;\nuniform float spriteSnap;\n\nuniform vec2 renderOdd;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float pixelUnit;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying float vPixelSize;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec4 getSprite(vec4 xyzw);\n\nvec3 getSpritePosition() {\n  // Clip points\n  vec4 p \x3d min(geometryClip, position4);\n  float diff \x3d length(position4 - p);\n  if (diff \x3e 0.0) {\n    return vec3(0.0, 0.0, 1000.0);\n  }\n\n  // Make sprites\n  vec3 center \x3d getPosition(p, 1.0);\n  vec4 atlas \x3d getSprite(p);\n\n  // Sprite goes from -1..1, width \x3d 2.\n  // -1..1 -\x3e -0.5..0.5\n  vec2 halfSprite \x3d sprite * .5;\n  vec2 halfFlipSprite \x3d vec2(halfSprite.x, -halfSprite.y);\n\n#ifdef POSITION_UV\n  // Assign UVs\n  vUV \x3d atlas.xy + atlas.zw * (halfFlipSprite + .5);\n#endif\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float depth \x3d focusDepth, z;\n  z \x3d -center.z;\n  if (spriteDepth \x3c 1.0) {\n    depth \x3d mix(z, focusDepth, spriteDepth);\n  }\n  \n  // Match device/unit mapping \n  float size \x3d pixelUnit * spriteScale;\n  float depthSize \x3d depth * size;\n\n  // Calculate pixelSize for anti-aliasing\n  float pixelSize \x3d (spriteDepth \x3e 0.0 ? depthSize / z : size);\n  vPixelSize \x3d pixelSize;\n\n  // Position sprite\n  vec2 atlasOdd \x3d fract(atlas.zw / 2.0);\n  vec2 offset \x3d (spriteOffset + halfSprite * atlas.zw) * depthSize;\n  if (spriteSnap \x3e 0.5) {\n    // Snap to pixel (w/ epsilon shift to avoid jitter)\n    return vec3(((floor(center.xy / center.z * renderScale + 0.001) + renderOdd + atlasOdd) * center.z + offset) * renderScaleInv, center.z);\n  }\n  else {\n    // Place directly\n    return center + vec3(offset * renderScaleInv, 0.0);\n  }\n\n}\n"};
shadow$provide[451]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float stereoBend;\nuniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform mat4 viewMatrix;\nuniform vec2 view4D;\n\nvec4 getStereographic4Position(vec4 position, inout vec4 stpq) {\n  \n  vec4 transformed;\n  if (stereoBend \x3e 0.0001) {\n\n    float r \x3d length(position);\n    float w \x3d r + position.w;\n    vec4 project \x3d vec4(position.xyz / w, r);\n    \n    transformed \x3d mix(position, project, stereoBend);\n  }\n  else {\n    transformed \x3d position;\n  }\n\n  vec4 pos4 \x3d transformed * basisScale - basisOffset;\n  vec3 xyz \x3d (viewMatrix * vec4(pos4.xyz, 1.0)).xyz;\n  return vec4(xyz, pos4.w * view4D.y + view4D.x);\n}\n"};
shadow$provide[452]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float stereoBend;\n\nuniform mat4 viewMatrix;\n\nvec4 getStereoPosition(vec4 position, inout vec4 stpq) {\n  if (stereoBend \x3e 0.0001) {\n\n    vec3 pos \x3d position.xyz;\n    float r \x3d length(pos);\n    float z \x3d r + pos.z;\n    vec3 project \x3d vec3(pos.xy / z, r);\n    \n    vec3 lerped \x3d mix(pos, project, stereoBend);\n\n    return viewMatrix * vec4(lerped, 1.0);\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[453]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vST;\n\nvec4 getSample(vec2 st);\n\nvec4 getSTSample() {\n  return getSample(vST);\n}\n"};
shadow$provide[454]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vUV;\n\nvoid setRawUV(vec4 xyzw) {\n  vUV \x3d xyzw.xy;\n}\n"};
shadow$provide[455]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec3 strip;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getStripGeometry(vec4 xyzw, vec3 strip, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(xyzw, 1.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, strip.x), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, strip.y), 0.0);\n\n  normal \x3d normalize(cross(c - a, b - a)) * strip.z;\n  \n  pos \x3d a;\n}\n\nvec3 getStripPositionNormal() {\n  vec3 center, normal;\n\n  vec4 p \x3d min(geometryClip, position4);\n\n  getStripGeometry(p, strip, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[456]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec3 styleColor;\nuniform float styleOpacity;\n\nvec4 getStyleColor() {\n  return vec4(styleColor, styleOpacity);\n}\n"};
shadow$provide[457]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xy, i + g, xyzw.w));\n}\n"};
shadow$provide[458]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepthLerp(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[459]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.x, i + g, xyzw.zw));\n}\n"};
shadow$provide[460]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeightLerp(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[461]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xyz, i + g));\n}\n"};
shadow$provide[462]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItemsLerp(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[463]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(i + g, xyzw.yzw));\n}\n"};
shadow$provide[464]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidthLerp(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[465]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\n\nfloat getSurfaceHollowMask(vec4 xyzw) {\n  vec4 df \x3d abs(fract(position4) - .5);\n  vec2 df2 \x3d min(df.xy, df.zw);\n  float df3 \x3d min(df2.x, df2.y);\n  return df3;\n}"};
shadow$provide[466]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nuniform vec4 geometryResolution;\nuniform vec4 mapSize;\n\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getSurfacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 xyz \x3d getPosition(p, 1.0);\n\n  // Overwrite UVs\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return xyz;\n}\n"};
shadow$provide[467]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec3 getNormal(vec4 xyzw);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionNormal() {\n\n  vec4 p \x3d min(geometryClip, position4);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 center \x3d getPosition(p, 1.0);\n  vNormal     \x3d normalMatrix * normalize(getNormal(p));\n  vLight      \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition   \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[468]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef SURFACE_CLOSED_X\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  float gy \x3d geometryClip.y;\n  if (xyzw.y \x3c 0.0) xyzw.y +\x3d gy;\n  if (xyzw.y \x3e\x3d gy) xyzw.y -\x3d gy;\n#endif\n  return xyzw;\n}\n\nvoid getSurfaceGeometry(vec4 xyzw, float edgeX, float edgeY, out vec3 left, out vec3 center, out vec3 right, out vec3 up, out vec3 down) {\n  vec4 deltaX \x3d vec4(1.0, 0.0, 0.0, 0.0);\n  vec4 deltaY \x3d vec4(0.0, 1.0, 0.0, 0.0);\n\n  center \x3d                  getPosition(xyzw, 1.0);\n  left   \x3d                  center;\n  down   \x3d                  center;\n  right  \x3d (edgeX \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaX), 0.0) : (2.0 * center - getPosition(xyzw - deltaX, 0.0));\n  up     \x3d (edgeY \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaY), 0.0) : (2.0 * center - getPosition(xyzw - deltaY, 0.0));\n}\n\nvec3 getSurfaceNormal(vec3 left, vec3 center, vec3 right, vec3 up, vec3 down) {\n  vec3 dx \x3d right - left;\n  vec3 dy \x3d up    - down;\n  vec3 n \x3d cross(dy, dx);\n  if (length(n) \x3e 0.0) {\n    return normalize(n);\n  }\n  return vec3(0.0, 1.0, 0.0);\n}\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionShaded() {\n  vec3 left, center, right, up, down;\n\n  vec4 p \x3d min(geometryClip, position4);\n  vec2 surface \x3d vec2(0.0);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) surface.x \x3d 1.0;\n  //if (p.x \x3d\x3d 0.0) surface.x \x3d -1.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#else\n  if (p.y \x3d\x3d geometryClip.y) surface.y \x3d 1.0;\n  //if (p.y \x3d\x3d 0.0) surface.y \x3d -1.0;\n#endif\n\n  getSurfaceGeometry(p, surface.x, surface.y, left, center, right, up, down);\n  vNormal   \x3d getSurfaceNormal(left, center, right, up, down);\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[469]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float worldUnit;\nuniform float focusDepth;\nuniform float tickSize;\nuniform float tickEpsilon;\nuniform vec3  tickNormal;\nuniform vec2  tickStrip;\n\nvec4 getSample(vec4 xyzw);\n\nvec3 transformPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getTickPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut) {\n  float epsilon \x3d tickEpsilon;\n\n  // determine tick direction\n  float leftX  \x3d max(tickStrip.x, xyzw.y - 1.0);\n  float rightX \x3d min(tickStrip.y, xyzw.y + 1.0);\n  \n  vec4 left    \x3d getSample(vec4(leftX,  xyzw.zw, 0.0));\n  vec4 right   \x3d getSample(vec4(rightX, xyzw.zw, 0.0));\n  vec4 diff    \x3d right - left;\n\n  vec3 normal  \x3d cross(normalize(diff.xyz + vec3(diff.w)), tickNormal);\n  float bias   \x3d max(0.0, 1.0 - length(normal) * 2.0);\n       normal  \x3d mix(normal, tickNormal.yzx, bias * bias);\n  \n  // transform (point) and (point + delta)\n  vec4 center  \x3d getSample(vec4(xyzw.yzw, 0.0));\n  vec4 delta   \x3d vec4(normal, 0.0) * epsilon;\n\n  vec4 a \x3d center;\n  vec4 b \x3d center + delta;\n\n  vec4 _;\n  vec3 c \x3d transformPosition(a, stpqIn, stpqOut);\n  vec3 d \x3d transformPosition(b, stpqIn, _);\n  \n  // sample on either side to create line\n  float line \x3d xyzw.x - .5;\n  vec3  mid  \x3d c;\n  vec3  side \x3d normalize(d - c);\n\n  return mid + side * line * tickSize * worldUnit * focusDepth;\n}\n"};
shadow$provide[470]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform mat4 transformMatrix;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[471]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform mat4 transformMatrix;\nuniform vec4 transformOffset;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * position + transformOffset;\n}\n"};
shadow$provide[472]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// Implicit three.js uniform\n// uniform mat4 viewMatrix;\n\nvec4 getViewPosition(vec4 position, inout vec4 stpq) {\n  return (viewMatrix * vec4(position.xyz, 1.0));\n}\n"};
shadow$provide[473]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Graph=void 0;class A{static initClass(){this.IN=this.index=0;this.OUT=1}static id(u){return++A.index}constructor(u,m=null){this.parent=m;this.id=A.id();this.nodes=[];u&&this.add(u)}inputs(){const u=[];for(const m of Array.from(this.nodes))for(const e of Array.from(m.inputs))null===e.input&&u.push(e);return u}outputs(){const u=[];for(const m of Array.from(this.nodes))for(const e of Array.from(m.outputs))0===e.output.length&&
u.push(e);return u}getIn(u){return Array.from(this.inputs()).filter(m=>m.name===u)[0]}getOut(u){return Array.from(this.outputs()).filter(m=>m.name===u)[0]}add(u,m){if(u.length)for(const e of Array.from(u))this.add(e);else{if(u.graph&&!m)throw Error("Adding node to two graphs at once");u.graph=this;this.nodes.push(u)}}remove(u,m){if(u.length)for(const e of Array.from(u))this.remove(e);else{if(u.graph!==this)throw Error("Removing node from wrong graph.");m||u.disconnect();this.nodes.splice(this.nodes.indexOf(u),
1);u.graph=null}}adopt(u){if(u.length)for(const m of Array.from(u))this.adopt(m);else u.graph.remove(u,!0),this.add(u,!0)}}g.Graph=A;A.initClass()};
shadow$provide[474]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Outlet=void 0;var A=y(473);class u{static initClass(){this.index=0}static make(m,e){null==e&&(e={});if(null!=m.meta)for(const c in m.meta)e[c]=m.meta[c];return new u(m.inout,m.name,m.hint,m.type,e)}static id(m){return`_io_${++u.index}_${m}`}static hint(m){m=m.replace(/^_io_[0-9]+_/,"");m=m.replace(/_i_o$/,"");return m.replace(/(In|Out|Inout|InOut)$/,"")}constructor(m,e,c,h,l,n){this.inout=m;this.name=e;this.hint=
c;this.type=h;null==l&&(l={});this.meta=l;this.id=n;null==this.hint&&(this.hint=u.hint(this.name));this.input=this.node=null;this.output=[];null==this.id&&(this.id=u.id(this.hint))}morph(m){this.inout=m.inout;this.name=m.name;this.hint=m.hint;this.type=m.type;return this.meta=m.meta}dupe(m){null==m&&(m=this.id);const e=u.make(this);e.name=m;return e}connect(m){if(this.inout===A.Graph.IN&&m.inout===A.Graph.OUT)return m.connect(this);if(this.inout!==A.Graph.OUT||m.inout!==A.Graph.IN)throw Error("Can only connect out to in.");
if(m.input!==this)return m.disconnect(),m.input=this,this.output.push(m)}disconnect(m){this.input&&this.input.disconnect(this);if(this.output.length)if(m){const e=this.output.indexOf(m);if(0<=e)return this.output.splice(e,1),m.input=null}else{for(m of Array.from(this.output))m.input=null;return this.output=[]}}}g.Outlet=u;u.initClass()};
shadow$provide[475]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Node=void 0;var A=y(473),u=y(474);class m{static initClass(){this.index=0}static id(e){return++m.index}constructor(e,c){this.owner=e;this.graph=null;this.inputs=[];this.outputs=[];this.all=[];this.outlets=null;this.id=m.id();this.setOutlets(c)}getIn(e){return Array.from(this.inputs).filter(c=>c.name===e)[0]}getOut(e){return Array.from(this.outputs).filter(c=>c.name===e)[0]}get(e){return this.getIn(e)||this.getOut(e)}setOutlets(e){if(null!=
e){let c;if(null==this.outlets){this.outlets={};for(c of Array.from(e))c instanceof u.Outlet||(c=u.Outlet.make(c)),this._add(c);return}const h={};for(c of Array.from(e))h[[c.name,c.inout,c.type].join("-")]=!0;for(let l in this.outlets)c=this.outlets[l],l=[c.name,c.inout,c.type].join("-"),h[l]?h[l]=c:this._remove(c);for(c of Array.from(e))e=h[[c.name,c.inout,c.type].join("-")],e instanceof u.Outlet?this._morph(e,c):(c instanceof u.Outlet||(c=u.Outlet.make(c)),this._add(c));this}return this.outlets}connect(e,
c,h){let l;let n;const p={},v={};for(l of Array.from(e.inputs))if(h||!l.input)({type:w}=l),e=w+"/"+l.hint,v[e]||(v[e]=l),p[w]=e=p[w]||[],e.push(l);h=this.outputs;h=h.filter(z=>!(c&&z.output.length));for(n of Array.from(h.slice())){({type:w}=n);e=w+"/"+n.hint;var w=p[w];if(l=v[e])n.connect(l),delete v[e],w.splice(w.indexOf(l),1),h.splice(h.indexOf(n),1)}if(!h.length)return this;for(n of Array.from(h.slice()))({type:w}=n),(w=p[w])&&w.length&&n.connect(w.shift());return this}disconnect(e){let c;for(c of Array.from(this.inputs))c.disconnect();
for(c of Array.from(this.outputs))c.disconnect();return this}_key(e){return[e.name,e.inout].join("-")}_add(e){const c=this._key(e);if(e.node)throw Error("Adding outlet to two nodes at once.");if(this.outlets[c])throw Error(`Adding two identical outlets to same node. (${c})`);e.node=this;e.inout===A.Graph.IN&&this.inputs.push(e);e.inout===A.Graph.OUT&&this.outputs.push(e);this.all.push(e);return this.outlets[c]=e}_morph(e,c){let h=this._key(c);delete this.outlets[h];e.morph(c);h=this._key(c);return this.outlets[h]=
c}_remove(e){const c=this._key(e);if(e.node!==this)throw Error("Removing outlet from wrong node.");e.disconnect();e.node=null;delete this.outlets[c];e.inout===A.Graph.IN&&this.inputs.splice(this.inputs.indexOf(e),1);e.inout===A.Graph.OUT&&this.outputs.splice(this.outputs.indexOf(e),1);this.all.splice(this.all.indexOf(e),1);return this}}g.Node=m;m.initClass()};
shadow$provide[476]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={IN:!0,OUT:!0};g.OUT=g.IN=void 0;var u=y(473);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(A,l)||l in g&&g[l]===u[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return u[l]}}))});var m=y(475);Object.keys(m).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(A,l)||l in g&&g[l]===m[l]||Object.defineProperty(g,
l,{enumerable:!0,get:function(){return m[l]}}))});var e=y(474);Object.keys(e).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(A,l)||l in g&&g[l]===e[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return e[l]}}))});const {IN:c,OUT:h}=u.Graph;g.OUT=h;g.IN=c};
shadow$provide[477]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Snippet=void 0;class A{static initClass(){this.index=0}static namespace(){return`_sn_${++A.index}_`}static load(u,m,e){const c=u.parse(m,e),[h,l]=Array.from(u.compile(c));return new A(u,h,l,m,e)}constructor(u,m,e,c,h){this.language=u;this._signatures=m;this._compiler=e;this._name=c;this._original=h;this.varyings=this.attributes=this.symbols=this.externals=this.uniforms=this.entry=this.main=this.code=this.namespace=
null;this.language||delete this.language;this._signatures||delete this._signatures;this._compiler||delete this._compiler;this._original||delete this._original;this._name||(this._name=null!=this._signatures?this._signatures.main.name:void 0)}clone(){return new A(this.language,this._signatures,this._compiler,this._name,this._original)}bind(u,m,e,c){let h;var l;let n;m===""+m?[e,m,c]=Array.from([m,null!=e?e:{},null!=c?c:{}]):e!==""+e&&([c,e]=Array.from([null!=e?e:{},void 0]));this.main=this._signatures.main;
this.namespace=null!=(l=null!=e?e:this.namespace)?l:A.namespace();this.entry=this.namespace+this.main.name;this.uniforms={};this.varyings={};this.attributes={};this.externals={};this.symbols=[];e={};const p={};l=function(I){p[I]=!0;return I};const v=I=>this.namespace+I;if(u.globals)for(var w of Array.from(u.globals))l(w);const z=u.globalUniforms?l:v,x=u.globalVaryings?l:v,E=u.globalAttributes?l:v;u=(I,N)=>this.uniforms[z(null!=N?N:I.name)]=I;n=I=>this.varyings[x(I.name)]=I;w=I=>this.attributes[E(I.name)]=
I;l=I=>{const N=v(I.name);this.externals[N]=I;return this.symbols.push(N)};const H=I=>({type:I.type,name:I.name,value:I.value});for(h of Array.from(this._signatures.uniform))e[h.name]=!0;for(h of Array.from(this._signatures.uniform))u(H(h));for(h of Array.from(this._signatures.varying))n(H(h));for(h of Array.from(this._signatures.external))l(h);for(h of Array.from(this._signatures.attribute))w(H(h));for(const I in m)h=m[I],e[I]&&u(h,I);this.body=this.code=this._compiler(this.namespace,p,c);c&&(m=
(()=>{const I=[];for(const N in c)n=c[N],I.push(`#define ${N} ${n}`);return I})().join("\n"),m.length&&(this._original=[m,"//----------------------------------------",this._original].join("\n")));return null}}g.Snippet=A;A.initClass()};
shadow$provide[478]=function(G,y,X,g){g.make=function(A){null==A&&(A=[]);A instanceof Array||(A=[+A]);return A};g.nest=(A,u)=>A.concat(u);g.compare=function(A,u){var m=Math.min(A.length,u.length);for(let e=0,c=m,h=0<=c;h?e<c:e>c;h?e++:e--){m=A[e];const l=u[e];if(m>l)return-1;if(m<l)return 1}A=A.length;u=u.length;return A>u?-1:A<u?1:0};g.max=function(A,u){return 0<g.compare(A,u)?u:A}};
shadow$provide[479]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,
p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}Object.defineProperty(g,"__esModule",{value:!0});g.assemble=void 0;var m=u(y(476)),e=u(y(478));g.assemble=function(c,h,l,n){const p={},v=[],w={},z={},x={},E={},H=T=>{let O;T=(()=>{const Aa=[];for(const Ea in T)O=T[Ea],Aa.push(O);return Aa})();T.sort((Aa,Ea)=>Ea.priority-Aa.priority);const da=(Aa,Ea,qa)=>{N(Aa,Ea,qa);({main:qa}=Ea);({entry:Ea}=Ea);return c.call(jb=>ba(Aa,jb),jb=>V(Aa,jb),Ea,qa.signature,
ea)},ea=c.body();for(O of Array.from(T))da(O.node,O.module,O.priority);return[ea,T]},I=function(T,O,da){const ea=E[T];return null!=ea?ea.priority=e.max(ea.priority,da):E[T]={code:O,priority:da}},N=function(T,O,da){let ea;da=e.make(da);for(const Aa in O.library){const Ea=O.library[Aa];I(Aa,Ea.code,e.nest(da,Ea.priority))}I(O.namespace,O.body,da);for(ea in O.uniforms)da=O.uniforms[ea],w[ea]=da;for(ea in O.varyings)da=O.varyings[ea],z[ea]=da;for(ea in O.attributes)da=O.attributes[ea],x[ea]=da;return Q(T,
O)},Q=(T,O)=>{const da=[];for(const ea of Array.from(O.symbols)){const Aa=O.externals[ea];if(V(T,Aa.name)){const Ea={};for(const qa in Aa)Ea[qa]=Aa[qa];Ea.name=ba(T,Aa.name);p[ea]=Ea;da.push(v.push(ea))}else da.push(void 0)}return da},V=function(T,O){T=T.get(O);if(T.inout===m.IN)return null===T.input;if(T.inout===m.OUT)return 0===T.output.length},ba=function(T,O){T=T.get(O);if(!T)return null;T.input&&(T=T.input);({name:O}=T);return T.id};return function(){let T;for(T in n){var O=n[T];Q(O.node,O.module)}[O,
l]=Array.from(H(l));null!=h&&(O.entry=h);O=c.build(O,l);var da=(()=>{const ea=[];for(T in E)ea.push(E[T]);return ea})().sort((ea,Aa)=>e.compare(ea.priority,Aa.priority)).map(ea=>ea.code);da.push(O.code);da=c.lines(da);return{namespace:O.name,library:E,body:O.code,code:da,main:O,entry:O.name,symbols:v,externals:p,uniforms:w,varyings:z,attributes:x}}()}};
shadow$provide[480]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Program=void 0;var A=y(477),u=y(479);class m{static initClass(){this.index=0}static entry(){return`_pg_${++m.index}_`}constructor(e,c,h){this.language=e;this.namespace=c;this.graph=h;this.calls={};this.requires={}}call(e,c,h){let l;const n=c.namespace;(l=this.calls[n])?l.priority=Math.max(l.priority,h):this.calls[n]={node:e,module:c,priority:h};return this}require(e,c){return this.requires[c.namespace]={node:e,
module:c}}assemble(){const e=(0,u.assemble)(this.language,null!=this.namespace?this.namespace:m.entry,this.calls,this.requires),c=new A.Snippet;for(const h in e)c[h]=e[h];c.graph=this.graph;return c}}g.Program=m;m.initClass()};
shadow$provide[481]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,
p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}Object.defineProperty(g,"__esModule",{value:!0});g.link=void 0;var m=u(y(476)),e=u(y(478));g.link=function(c,h,l,n){let p=[];const v=[],w={},z={},x={},E={},H={},I=function(Q,V,ba){const T=H[Q];return null!=T?T.priority=e.max(T.priority,ba):H[Q]={code:V,priority:ba}},N=function(Q,V,ba){let T;ba=e.make(ba);for(var O in V.library){var da=V.library[O];I(O,da.code,e.nest(ba,da.priority))}I(V.namespace,V.body,
ba);for(T in V.uniforms)ba=V.uniforms[T],z[T]=ba;for(T in V.varyings)ba=V.varyings[T],E[T]=ba;for(T in V.attributes)ba=V.attributes[T],x[T]=ba;ba=[];for(T of Array.from(V.symbols)){O=V.externals[T];{da=Q;var ea=O.name;const Aa=da.get(ea);if(!Aa)throw Error(`Unable to link program. Unlinked callback \`${ea}\` on \`${null!=(null!=da.owner.snippet?da.owner.snippet._name:void 0)?null!=da.owner.snippet?da.owner.snippet._name:void 0:da.owner.namespace}\``);da=Aa.inout===m.IN?null===Aa.input:Aa.inout===
m.OUT?0===Aa.output.length:void 0}da?(w[T]=O,ba.push(v.push(T))):ba.push(void 0)}return ba};return function(){var Q=c.links(h);const V=[];null!=Q.defs&&V.push(Q.defs);null!=Q.bodies&&V.push(Q.bodies);for(const ba of Array.from(l))N(ba.node,ba.module,ba.priority);p=(()=>{const ba=[];for(const T in H)ba.push(H[T]);return ba})().sort((ba,T)=>e.compare(ba.priority,T.priority)).map(ba=>ba.code);Q=c.lines(p);Q=c.defuse(Q);V.length&&(Q=[c.lines(V),Q].join("\n"));Q=c.hoist(Q);Q=c.dedupe(Q);return{namespace:n.main.name,
code:Q,main:n.main,entry:n.main.name,externals:w,uniforms:z,attributes:x,varyings:E}}()}};
shadow$provide[482]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Layout=void 0;var A=y(477),u=y(481);class m{constructor(e,c){this.language=e;this.graph=c;this.links=[];this.includes=[];this.modules={};this.visits={}}callback(e,c,h,l,n){return this.links.push({node:e,module:c,priority:h,name:l,external:n})}include(e,c,h){let l;if(null!=(l=this.modules[c.namespace]))return l.priority=Math.max(h,l.priority);this.modules[c.namespace]=!0;return this.includes.push({node:e,module:c,
priority:h})}visit(e){return this.visits[e]?!1:this.visits[e]=!0}link(e){e=(0,u.link)(this.language,this.links,this.includes,e);const c=new A.Snippet;for(const h in e)c[h]=e[h];c.graph=this.graph;return c}}g.Layout=m};
shadow$provide[483]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={load:!0};g.load=void 0;var u=y(477);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===u[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return u[n]}}))});var m=y(480);Object.keys(m).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===m[n]||Object.defineProperty(g,
n,{enumerable:!0,get:function(){return m[n]}}))});var e=y(482);Object.keys(e).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===e[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return e[n]}}))});var c=y(479);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===c[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return c[n]}}))});var h=y(481);
Object.keys(h).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===h[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return h[n]}}))});var l=y(478);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===l[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return l[n]}}))});({load:G}=u.Snippet);g.load=G};
shadow$provide[484]=function(G,y,X,g){function A(l){if("function"!==typeof WeakMap)return null;var n=new WeakMap,p=new WeakMap;return(A=function(v){return v?p:n})(l)}function u(l,n){return"undefined"!==typeof l&&null!==l?n(l):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Block=void 0;var m=function(l,n){if(!n&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((n=A(n))&&n.has(l))return n.get(l);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,
w;for(w in l)if("default"!==w&&Object.prototype.hasOwnProperty.call(l,w)){var z=v?Object.getOwnPropertyDescriptor(l,w):null;z&&(z.get||z.set)?Object.defineProperty(p,w,z):p[w]=l[w]}p.default=l;n&&n.set(l,p);return p}(y(476)),e=y(483);class c{static previous(l){return null!=l.input?l.input.node.owner:void 0}constructor(l){null==l&&(l=!1);l||this.construct()}construct(){let l;null==this.namespace&&(this.namespace=e.Program.entry());return this.node=new m.Node(this,null!=(l="function"===typeof this.makeOutlets?
this.makeOutlets():void 0)?l:{})}refresh(){let l;return this.node.setOutlets(null!=(l="function"===typeof this.makeOutlets?this.makeOutlets():void 0)?l:{})}clone(){return new c}compile(l,n){l=new e.Program(l,null!=n?n:e.Program.entry(),this.node.graph);this.call(l,0);return l.assemble()}link(l,n){n=this.compile(l,n);l=new e.Layout(l,this.node.graph);this._include(n,l,0);this.export(l,0);return l.link(n)}call(l,n){}callback(l,n,p,v,w){}export(l,n){}_info(l){let n=null!=(null!=this.node.owner.snippet?
this.node.owner.snippet._name:void 0)?null!=this.node.owner.snippet?this.node.owner.snippet._name:void 0:this.node.owner.namespace;if(null!=l)return n+("."+l)}_outlet(l,n){n=m.Outlet.make(l,n);n.meta.def=l;return n}_call(l,n,p){return n.call(this.node,l,p)}_require(l,n){return n.require(this.node,l)}_inputs(l,n,p){return(()=>{const v=[];for(const w of Array.from(l.main.signature)){const z=this.node.get(w.name);v.push(u(c.previous(z),x=>x.call(n,p+1)))}return v})()}_callback(l,n,p,v,w,z){return n.callback(this.node,
l,p,v,w,z)}_include(l,n,p){return n.include(this.node,l,p)}_link(l,n,p){return(()=>{const v=[];for(const w of Array.from(l.symbols)){const z=l.externals[w];let x=this.node.get(z.name);if(!x)throw new h(`External not found on ${this._info(z.name)}`);if(null!=x.meta.child)continue;let E=x,H;for(;!H&&E;)[E,x]=Array.from([x.meta.parent,E]);H=c.previous(x);if(!H)throw new h(`Missing connection on ${this._info(z.name)}`);H.callback(n,p+1,w,z,x.input);v.push(null!=H?H.export(n,p+1):void 0)}return v})()}_trace(l,
n,p){return(()=>{const v=[];for(const w of Array.from(l.main.signature)){const z=this.node.get(w.name);v.push(u(c.previous(z),x=>x.export(n,p+1)))}return v})()}}g.Block=c;const h=function(l){l=Error(l);l.name="OutletError";return l};h.prototype=Error()};
shadow$provide[485]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Call=void 0;G=y(484);class A extends G.Block{constructor(u){super(!0);this.snippet=u;this.namespace=u.namespace;this.construct()}clone(){return new A(this.snippet)}makeOutlets(){var u=this.snippet.main.signature;const {externals:m}=this.snippet;var {symbols:e}=this.snippet;u=Array.from(u).map(c=>this._outlet(c,{callback:!1}));e=Array.from(e).map(c=>this._outlet(m[c],{callback:!0}));return u.concat(e)}call(u,m){this._call(this.snippet,
u,m);return this._inputs(this.snippet,u,m)}export(u,m){if(u.visit(this.namespace,m))return this._link(this.snippet,u,m),this._trace(this.snippet,u,m)}}g.Call=A};
shadow$provide[486]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Callback=void 0;var A=y(476);G=y(484);class u extends G.Block{constructor(m){super(!0);this.graph=m;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new u(this.graph)}makeOutlets(){let m;this.make();const e=[];let c=[],h=[];const l=(n,p)=>{if(n.meta.callback){if(n.inout===A.Graph.IN)return p=n.dupe(),null==p.meta.child&&(p.meta.child=n),n.meta.parent=p,e.push(p)}else return p.push(n.type)};
for(m of Array.from(this.graph.inputs()))l(m,c);for(m of Array.from(this.graph.outputs()))l(m,h);c=c.join(",");h=h.join(",");e.push({name:"callback",type:`(${c})(${h})`,inout:A.Graph.OUT,meta:{callback:!0,def:this.subroutine.main}});return e}make(){return this.subroutine=this.graph.compile(this.namespace)}export(m,e){if(m.visit(this.namespace,e))return this._link(this.subroutine,m,e),this.graph.export(m,e)}call(m,e){return this._require(this.subroutine,m,e)}callback(m,e,c,h,l){this._include(this.subroutine,
m,e);return this._callback(this.subroutine,m,e,c,h,l)}}g.Callback=u};
shadow$provide[487]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Isolate=void 0;var A=y(476);G=y(484);class u extends G.Block{constructor(m){super(!0);this.graph=m;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new u(this.graph)}makeOutlets(){this.make();const m=[],e={};for(const c of["inputs","outputs"])for(const h of Array.from(this.graph[c]())){let l=void 0;["return","callback"].includes(h.hint)&&h.inout===A.Graph.OUT&&(l=h.hint);
null!=e[l]&&(l=void 0);const n=h.dupe(l);null==n.meta.child&&(n.meta.child=h);h.meta.parent=n;null!=l&&(e[l]=!0);m.push(n)}return m}make(){return this.subroutine=this.graph.compile(this.namespace)}call(m,e){this._call(this.subroutine,m,e);return this._inputs(this.subroutine,m,e)}export(m,e){if(m.visit(this.namespace,e))return this._link(this.subroutine,m,e),this._trace(this.subroutine,m,e),this.graph.export(m,e)}callback(m,e,c,h,l){l=l.meta.child;return l.node.owner.callback(m,e,c,h,l)}}g.Isolate=
u};
shadow$provide[488]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Join=void 0;G=y(484);class A extends G.Block{constructor(u){super(!0);this.nodes=u;this.construct()}clone(){return new A(this.nodes)}makeOutlets(){return[]}call(u,m){return(()=>{const e=[];for(const c of Array.from(this.nodes))e.push(c.owner.call(u,m));return e})()}export(u,m){return(()=>{const e=[];for(const c of Array.from(this.nodes))e.push(c.owner.export(u,m));return e})()}}g.Join=A};
shadow$provide[489]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(484);Object.keys(A).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===A[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return A[h]}}))});var u=y(485);Object.keys(u).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===u[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return u[h]}}))});var m=y(486);Object.keys(m).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in g&&g[h]===m[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return m[h]}}))});var e=y(487);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===e[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return e[h]}}))});var c=y(488);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===c[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return c[h]}}))})};
shadow$provide[490]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.serialize=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(489));const m=function(e){const c=[],h=[];for(const n of Array.from(e.nodes)){let p;var l={id:n.id,name:null,type:null,depth:null,graph:null,inputs:[],outputs:[]};c.push(l);({inputs:e}=l);const {outputs:v}=l,w=n.owner;w instanceof u.Call?(l.name=w.snippet._name,l.type="call",l.code=w.snippet._original):w instanceof u.Callback?(l.name="Callback",l.type=
"callback",l.graph=m(w.graph)):w instanceof u.Isolate?(l.name="Isolate",l.type="isolate",l.graph=m(w.graph)):w instanceof u.Join?(l.name="Join",l.type="join"):null!=w&&(null==l.name&&(l.name=null!=w.name?w.name:w.type),null==l.type&&(l.type=w.type),null==l.code&&(l.code=w.code),null!=w.graph&&(l.graph=m(w.graph)));l=function(z){z=z.replace(")(",")→(");return z.replace("()","")};for(p of Array.from(n.inputs))e.push({id:p.id,name:p.name,type:l(p.type),open:null==p.input});for(p of Array.from(n.outputs)){v.push({id:p.id,
name:p.name,type:l(p.type),open:!p.output.length});for(const z of Array.from(p.output))h.push({from:n.id,out:p.id,to:z.node.id,in:z.id,type:l(p.type)})}}return{nodes:c,links:h}};g.serialize=m};
shadow$provide[491]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.hash=void 0;let A=function(u,m){const e=u&65535,c=m&65535;return e*c+((u>>>16&65535)*c+e*(m>>>16&65535)<<16>>>0)|0};null!=Math.imul&&({imul:A}=Math);g.hash=function(u){let m;const e=u.length;let c=Math.floor(e/2),h=m=0;const l=function(n,p){n|=p<<16;n=A(n^n<<9,3432918353);n=A(n<<15|n>>>17,461845907);m^=n;m=m<<13|m>>>19;m=A(m,5);return m=m+3864292196|0};for(;c--;)l(u.charCodeAt(h++),u.charCodeAt(h++));e&1&&l(u.charCodeAt(h++),
0);m^=e;m^=m>>>16;m=A(m,2246822507);m^=m>>>13;m=A(m,3266489909);return m^=m>>>16}};
shadow$provide[492]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.merge=g.overlay=g.process=void 0;var A=y(491);const u=function(p,v){null==v&&(v=1);var w=(0,A.hash)(p)^1193046;p=w&255;let z=w>>>8&255;w=w>>>16&255;var x=Math.max(p,z,w);const E=140/x;x=Math.round(x/3);p=Math.min(255,Math.round(E*Math.max(p,x)));z=Math.min(255,Math.round(E*Math.max(z,x)));w=Math.min(255,Math.round(E*Math.max(w,x)));return"rgba("+[p,z,w,v].join(", ")+")"},m=function(p){return(null!=p?p:"").replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/'/g,"\x26#39;").replace(/"/g,"\x26quot;")};g.process=function(p){const v=[],w=h(p,v);w.update=()=>{if(null==w.parentNode)var z=void 0;else{var x=w.getBoundingClientRect();for(z of Array.from(v)){var E=z.out.getBoundingClientRect(),H=z.in.getBoundingClientRect();z.coords={x1:(E.left+E.right)/2-x.left,y1:(E.top+E.bottom)/2-x.top,x2:(H.left+H.right)/2-x.left,y2:(H.top+H.bottom)/2-x.top}}x=w.querySelector("svg");null!=x&&w.removeChild(x);
for(E=w;E.parentNode&&0===E.offsetHeight;)E=E.parentNode;x=l();x.setAttribute("width",E.offsetWidth);x.setAttribute("height",E.offsetHeight);for(z of Array.from(v)){var I=z.coords;const O=l("path");E=O;H=E.setAttribute;{var N=void 0;var Q=I.x1;var V=I.y1,ba=I.x2;I=I.y2;N=ba-Q;var T=I-V;const da=Math.sqrt(N*N+T*T);if(Math.abs(T)>Math.abs(N)){const ea=(Q+ba)/2,Aa=(V+I)/2;T=0<T?.3:-.3;N=Math.min(Math.abs(N)/2,20+da/8);Q=["M",Q,V,"C",Q+N,V+",",ea,Aa-da*T,ea,Aa,"C",ea,Aa+da*T,ba-N,I+",",ba,I].join(" ")}else N=
Math.min(Math.abs(N)/2.5,20+da/4),Q=["M",Q,V,"C",Q+N,V+",",ba-N,I+",",ba,I].join(" ")}H.call(E,"d",Q);O.setAttribute("stroke",z.color);O.setAttribute("stroke-width",3);O.setAttribute("fill","transparent");x.appendChild(O)}z=w.appendChild(x)}return z};e(w);return w};const e=function(p){p=p.querySelectorAll(".shadergraph-code");return Array.from(p).map(v=>function(){v.parentNode.classList.add("shadergraph-has-code");return v.parentNode.addEventListener("click",w=>v.style.display={block:"none",none:"block"}[v.style.display||
"none"])}())},c=function(p){let v,w;const z={},x={};for(w of Array.from(p.nodes))z[w.id]=w;for(v of Array.from(p.links))null==x[v.from]&&(x[v.from]=[]),x[v.from].push(v);const E=function(H,I){null==I&&(I=0);H.depth=Math.max(null!=H.depth?H.depth:0,I);if(H=x[H.id])for(v of Array.from(H))E(z[v.to],I+1);return null};for(w of Array.from(p.nodes))null==w.depth&&E(w);return null},h=function(p,v){c(p);const w=document.createElement("div");w.classList.add("shadergraph-graph");const z=[],x={};for(const H of Array.from(p.nodes)){let I;
const N=document.createElement("div");N.classList.add("shadergraph-node");N.classList.add(`shadergraph-node-${H.type}`);N.innerHTML=`\
<div class="shadergraph-header">${m(H.name)}</div>\
`;var E=function(Q,V){const ba=u(Q.type),T=document.createElement("div");T.classList.add("shadergraph-outlet");T.classList.add(`shadergraph-outlet-${V}`);T.innerHTML=`\
<div class="shadergraph-point" style="background: ${ba}"></div>
<div class="shadergraph-type" style="color: ${ba}">${m(Q.type)}</div>
<div class="shadergraph-name">${m(Q.name)}</div>\
`;N.appendChild(T);return x[Q.id]=T.querySelector(".shadergraph-point")};for(I of Array.from(H.inputs))E(I,"in");for(I of Array.from(H.outputs))E(I,"out");null!=H.graph?N.appendChild(h(H.graph,v)):(E=document.createElement("div"),E.classList.add("shadergraph-clear"),N.appendChild(E));null!=H.code&&(E=document.createElement("div"),E.classList.add("shadergraph-code"),E.innerHTML=m((""+H.code).replace(/^\s+|\s+$/g,"")),N.appendChild(E));E=z[H.depth];null==E&&(E=document.createElement("div"),E.classList.add("shadergraph-column"),
z[H.depth]=E);E.appendChild(N)}for(E of Array.from(z))null!=E&&w.appendChild(E);for(const H of Array.from(p.links))p=u(H.type),v.push({color:p,out:x[H.out],in:x[H.in]});return w},l=function(p){null==p&&(p="svg");return document.createElementNS("http://www.w3.org/2000/svg",p)};g.overlay=function(p){const v=document.createElement("div");v.setAttribute("class","shadergraph-overlay");const w=document.createElement("div");w.setAttribute("class","shadergraph-close");w.innerHTML="\x26times;";const z=document.createElement("div");
z.setAttribute("class","shadergraph-view");const x=document.createElement("div");x.setAttribute("class","shadergraph-inside");x.appendChild(p);z.appendChild(x);v.appendChild(z);v.appendChild(w);w.addEventListener("click",()=>v.parentNode.removeChild(v));return v};const n=function(p){if(p instanceof Node)return p;const v=document.createElement("span");v.innerText=null!=p?p:"";return v};g.merge=function(p){if(1!==p.length){let v;const w=document.createElement("div");for(v of Array.from(p))w.appendChild(n(v));
w.update=()=>{const z=[];for(v of Array.from(p))z.push("function"===typeof v.update?v.update():void 0);return z};return w}return n(p[0])}};
shadow$provide[493]=function(G,y,X,g){function A(l){if("function"!==typeof WeakMap)return null;var n=new WeakMap,p=new WeakMap;return(A=function(v){return v?p:n})(l)}Object.defineProperty(g,"__esModule",{value:!0});g.inspect=g.visualize=g.markup=g.serialize=void 0;G=y(490);var u=function(l,n){if(!n&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((n=A(n))&&n.has(l))return n.get(l);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,
w;for(w in l)if("default"!==w&&Object.prototype.hasOwnProperty.call(l,w)){var z=v?Object.getOwnPropertyDescriptor(l,w):null;z&&(z.get||z.set)?Object.defineProperty(p,w,z):p[w]=l[w]}p.default=l;n&&n.set(l,p);return p}(y(492));const m=G.serialize;g.serialize=m;g.markup=u;const e=function(l){return null==l?l:l instanceof Array?l.map(e):null!=l.vertex&&null!=l.fragment?[e(l.vertex,e(l.fragment))]:null!=l._graph?l._graph:null!=l.graph?l.graph:l},c=function(l){let n=[];for(const p of Array.from(l))p instanceof
Array?n=n.concat(c(p)):null!=p&&n.push(p);return n},h=function(){const l=c(e([].slice.call(arguments)));return u.merge(Array.from(l).filter(n=>n).map(n=>{n?n.nodes&&(n=m(n),n=u.process(n)):n=void 0;return n}))};g.visualize=h;g.inspect=function(){const l=h.apply(null,arguments),n=u.overlay(l);for(const p of Array.from(document.querySelectorAll(".shadergraph-overlay")))p.remove();document.body.appendChild(n);l.update();return n}};
shadow$provide[494]=function(G,y,X,g){function A(n){if("function"!==typeof WeakMap)return null;var p=new WeakMap,v=new WeakMap;return(A=function(w){return w?v:p})(n)}function u(n,p){if(!p&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((p=A(p))&&p.has(n))return p.get(n);var v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in n)if("default"!==z&&Object.prototype.hasOwnProperty.call(n,z)){var x=w?Object.getOwnPropertyDescriptor(n,
z):null;x&&(x.get||x.set)?Object.defineProperty(v,z,x):v[z]=n[z]}v.default=n;p&&p.set(n,v);return v}Object.defineProperty(g,"__esModule",{value:!0});g.Factory=void 0;var m=y(476),e=u(y(489)),c=u(y(493));class h{constructor(n,p,v){this.language=n;this.fetch=p;this.config=v;this.graph()}pipe(n,p,v,w){n instanceof h?this._concat(n):null!=n&&this._call(n,p,v,w);return this}call(n,p,v,w){return this.pipe(n,p,v,w)}require(n,p,v,w){n instanceof h?this._import(n):null!=n&&(this.callback(),this._call(n,p,
v,w),this.end());return this}import(n,p,v,w){return this.require(n,p,v,w)}split(){this._group("_combine",!0);return this}fan(){this._group("_combine",!1);return this}isolate(){this._group("_isolate");return this}callback(){this._group("_callback");return this}next(){this._next();return this}pass(){const n=this._stack[2].end;this.end();this._state.end=this._state.end.concat(n);return this}end(){const [n,p]=Array.from(this._exit()),{op:v}=n;if(this[v])this[v](n,p);return this}join(){return this.end()}graph(){for(;1<
(null!=this._stack?this._stack.length:void 0);)this.end();this._graph&&this._tail(this._state,this._graph);const n=this._graph;this._graph=new m.Graph;this._state=new l;this._stack=[this._state];return n}compile(n){null==n&&(n="main");return this.graph().compile(n)}link(n){null==n&&(n="main");return this.graph().link(n)}serialize(){return c.serialize(this._graph)}empty(){return 0===this._graph.nodes.length}_concat(n){let p;if(0===n._state.nodes.length)return this;this._tail(n._state,n._graph);try{p=
new e.Isolate(n._graph)}catch(v){throw this.config.autoInspect&&c.inspect(v,this._graph,n),v;}this._auto(p);return this}_import(n){let p;if(0===n._state.nodes.length)throw"Can't import empty callback";this._tail(n._state,n._graph);try{p=new e.Callback(n._graph)}catch(v){throw this.config.autoInspect&&c.inspect(v,this._graph,n),v;}this._auto(p);return this}_combine(n,p){for(const v of Array.from(n.start))for(const w of Array.from(p.end))w.connect(v,n.multi);p.end=n.end;return p.nodes=p.nodes.concat(n.nodes)}_isolate(n,
p){if(n.nodes.length){let v;p=this._subgraph(n);this._tail(n,p);try{v=new e.Isolate(p)}catch(w){throw this.config.autoInspect&&c.inspect(w,this._graph,p),w;}return this._auto(v)}}_callback(n,p){if(n.nodes.length){let v;p=this._subgraph(n);this._tail(n,p);try{v=new e.Callback(p)}catch(w){throw this.config.autoInspect&&c.inspect(w,this._graph,p),w;}return this._auto(v)}}_call(n,p,v,w){n=this.fetch(n);n.bind(this.config,p,v,w);p=new e.Call(n);return this._auto(p)}_subgraph(n){const p=new m.Graph(null,
this._graph);p.adopt(n.nodes);return p}_tail(n,p){let v=n.end.concat(n.tail);v=v.filter((w,z)=>v.indexOf(w)===z);1<v.length&&(v=new e.Join(v),v=[v.node],this._graph.add(v));p.tail=v[0];n.end=v;n.tail=[];if(!p.tail)throw Error("Cannot finalize empty graph");p.compile=w=>{null==w&&(w="main");try{return p.tail.owner.compile(this.language,w)}catch(z){throw this.config.autoInspect&&p.inspect(z),z;}};p.link=w=>{null==w&&(w="main");try{return p.tail.owner.link(this.language,w)}catch(z){throw this.config.autoInspect&&
p.inspect(z),z;}};p.export=(w,z)=>p.tail.owner.export(w,z);return p.inspect=(w=null)=>c.inspect(w,p)}_group(n,p){this._push(n,p);this._push();return this}_next(){const n=this._pop();this._state.start=this._state.start.concat(n.start);this._state.end=this._state.end.concat(n.end);this._state.nodes=this._state.nodes.concat(n.nodes);this._state.tail=this._state.tail.concat(n.tail);return this._push()}_exit(){this._next();this._pop();return[this._pop(),this._state]}_push(n,p){this._stack.unshift(new l(n,
p));return this._state=this._stack[0]}_pop(){let n;this._state=this._stack[1];null==this._state&&(this._state=new l);return null!=(n=this._stack.shift())?n:new l}_auto(n){return n.node.inputs.length?this._append(n):this._insert(n)}_append(n){let p;({node:n}=n);this._graph.add(n);for(p of Array.from(this._state.end))p.connect(n);this._state.start.length||(this._state.start=[n]);this._state.end=[n];this._state.nodes.push(n);n.outputs.length||this._state.tail.push(n)}_prepend(n){let p;({node:n}=n);this._graph.add(n);
for(p of Array.from(this._state.start))n.connect(p);this._state.end.length||(this._state.end=[n]);this._state.start=[n];this._state.nodes.push(n);n.outputs.length||this._state.tail.push(n)}_insert(n){({node:n}=n);this._graph.add(n);this._state.start.push(n);this._state.end.push(n);this._state.nodes.push(n);if(!n.outputs.length)return this._state.tail.push(n)}}g.Factory=h;class l{constructor(n=null,p,v,w,z,x){this.op=n;null==p&&(p=!1);this.multi=p;null==v&&(v=[]);this.start=v;null==w&&(w=[]);this.end=
w;null==z&&(z=[]);this.nodes=z;null==x&&(x=[]);this.tail=x}}};
shadow$provide[495]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Material=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(493));class m{constructor(e,c){this.vertex=e;this.fragment=c}build(e){return this.link(e)}link(e){null==e&&(e={});const c={},h={},l={},n=this.vertex.link("main"),p=this.fragment.link("main");for(const v of[n,p]){for(const w in v.uniforms)c[w]=v.uniforms[w];for(const w in v.varyings)h[w]=v.varyings[w];for(const w in v.attributes)l[w]=v.attributes[w]}e.vertexShader=
n.code;e.vertexGraph=n.graph;e.fragmentShader=p.code;e.fragmentGraph=p.graph;e.attributes=l;e.uniforms=c;e.varyings=h;e.inspect=()=>u.inspect("Vertex Shader",n,"Fragment Shader",p.graph);return e}inspect(){return u.inspect("Vertex Shader",this.vertex,"Fragment Shader",this.fragment.graph)}}g.Material=m};
shadow$provide[496]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.library=void 0;g.library=function(A,u,m){let e=null,c={};null!=u&&("function"===typeof u?e=l=>m(A,l,u(l)):"object"===typeof u&&(e=function(l){if(null==u[l])throw Error(`Unknown snippet \`${l}\``);return m(A,l,u[l])}));var h=l=>m(A,"",l);if(null==e)return h;h=function(l){if(l.match(/[{;]/))return m(A,"",l);c[l]=!0;return e(l)};h.used=function(l){null==l&&(l=c);return c=l};return h}};
shadow$provide[497]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.queue=void 0;g.queue=function(A){null==A&&(A=100);const u={};let m=null,e=null,c=0;const h=function(n){n.prev=null;n.next=m;null!=m&&(m.prev=n);m=n;if(null==e)return e=n},l=function(n){const {prev:p}=n,{next:v}=n;null!=p&&(p.next=v);null!=v&&(v.prev=p);m===n&&(m=v);if(e===n)return e=p};return function(n){let p,v;(v=u[n])&&v!==m?(l(v),h(v)):(c===A?(p=e.key,l(e),delete u[p]):c++,v={next:m,prev:null,key:n},h(v),
u[n]=v);return p}}};
shadow$provide[498]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.cache=void 0;var A=y(497),u=y(491);g.cache=function(m){const e={},c=(0,A.queue)(100);return function(h){const l=32<h.length?"##"+(0,u.hash)(h).toString(16):h,n=c(l);null!=n&&delete e[n];null==e[l]&&(e[l]=m(h));return e[l].clone()}}};
shadow$provide[499]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(494);Object.keys(A).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===A[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return A[l]}}))});var u=y(495);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===u[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return u[l]}}))});var m=y(496);Object.keys(m).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===m[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return m[l]}}))});var e=y(498);Object.keys(e).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===e[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return e[l]}}))});var c=y(497);Object.keys(c).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===c[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return c[l]}}))});var h=y(491);Object.keys(h).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===h[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return h[l]}}))})};
shadow$provide[500]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.compile=void 0;g.compile=function(u){const {code:m,signatures:e}=u;u={};u[e.main.name]=!0;for(var c of["external","internal","varying","uniform","attribute"])for(const h of e[c])u[h.name]=!0;c=A(m,u);return[e,c]};const A=function(u,m){let e;const c=new RegExp("\\b("+(()=>{const h=[];for(e in m)h.push(e);return h})().join("|")+")\\b","g");u=u.replace(/\/\/[^\n]*/g,"");u=u.replace(/\/\*([^*]|\*[^/])*\*\//g,"");
return function(h,l,n){let p;null==h&&(h="");null==l&&(l={});null==n&&(n={});const v={};for(p in m)v[p]=null!=l[p]?p:h+p;h=u.replace(c,w=>v[w]);l=(()=>{const w=[];for(p in n)w.push(`#define ${p} ${n[p]}`);return w})();l.length&&l.push("");return l.join("\n")+h}}};
shadow$provide[501]=function(G,y,X,g){X.exports="precision highp mediump lowp attribute const uniform varying break continue do for while if else in out inout float int uint void bool true false discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow struct asm class union enum typedef template this packed goto switch default inline noinline volatile public static extern external interface long short double half fixed unsigned input output hvec2 hvec3 hvec4 dvec2 dvec3 dvec4 fvec2 fvec3 fvec4 sampler2DRect sampler3DRect sampler2DRectShadow sizeof cast namespace using".split(" ")};
shadow$provide[502]=function(G,y,X,g){X.exports="\x3c\x3c\x3d \x3e\x3e\x3d ++ -- \x3c\x3c \x3e\x3e \x3c\x3d \x3e\x3d \x3d\x3d !\x3d \x26\x26 || +\x3d -\x3d *\x3d /\x3d %\x3d \x26\x3d ^^ ^\x3d |\x3d ( ) [ ] . ! ~ * / % + - \x3c \x3e \x26 ^ | ? : \x3d , ; { }".split(" ")};
shadow$provide[503]=function(G,y,X,g){X.exports="abs acos all any asin atan ceil clamp cos cross dFdx dFdy degrees distance dot equal exp exp2 faceforward floor fract gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_DepthRangeParameters gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FogParameters gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FragDepthEXT gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_LightModel gl_LightModelParameters gl_LightModelProducts gl_LightProducts gl_LightSource gl_LightSourceParameters gl_MaterialParameters gl_MaxClipPlanes gl_MaxCombinedTextureImageUnits gl_MaxDrawBuffers gl_MaxFragmentUniformComponents gl_MaxLights gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingFloats gl_MaxVertexAttribs gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_Point gl_PointCoord gl_PointParameters gl_PointSize gl_Position gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SecondaryColor gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex greaterThan greaterThanEqual inversesqrt length lessThan lessThanEqual log log2 matrixCompMult max min mix mod normalize not notEqual pow radians reflect refract sign sin smoothstep sqrt step tan texture2D texture2DLod texture2DProj texture2DProjLod textureCube textureCubeLod texture2DLodEXT texture2DProjLodEXT textureCubeLodEXT texture2DGradEXT texture2DProjGradEXT textureCubeGradEXT".split(" ")};
shadow$provide[504]=function(G,y,X,g){G=y(501);X.exports=G.slice().concat("layout centroid smooth case mat2x2 mat2x3 mat2x4 mat3x2 mat3x3 mat3x4 mat4x2 mat4x3 mat4x4 uvec2 uvec3 uvec4 samplerCubeShadow sampler2DArray sampler2DArrayShadow isampler2D isampler3D isamplerCube isampler2DArray usampler2D usampler3D usamplerCube usampler2DArray coherent restrict readonly writeonly resource atomic_uint noperspective patch sample subroutine common partition active filter image1D image2D image3D imageCube iimage1D iimage2D iimage3D iimageCube uimage1D uimage2D uimage3D uimageCube image1DArray image2DArray iimage1DArray iimage2DArray uimage1DArray uimage2DArray image1DShadow image2DShadow image1DArrayShadow image2DArrayShadow imageBuffer iimageBuffer uimageBuffer sampler1DArray sampler1DArrayShadow isampler1D isampler1DArray usampler1D usampler1DArray isampler2DRect usampler2DRect samplerBuffer isamplerBuffer usamplerBuffer sampler2DMS isampler2DMS usampler2DMS sampler2DMSArray isampler2DMSArray usampler2DMSArray".split(" "))};
shadow$provide[505]=function(G,y,X,g){G=y(503);G=G.slice().filter(function(A){return!/^(gl_|texture)/.test(A)});X.exports=G.concat("gl_VertexID gl_InstanceID gl_Position gl_PointSize gl_FragCoord gl_FrontFacing gl_FragDepth gl_PointCoord gl_MaxVertexAttribs gl_MaxVertexUniformVectors gl_MaxVertexOutputVectors gl_MaxFragmentInputVectors gl_MaxVertexTextureImageUnits gl_MaxCombinedTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformVectors gl_MaxDrawBuffers gl_MinProgramTexelOffset gl_MaxProgramTexelOffset gl_DepthRangeParameters gl_DepthRange trunc round roundEven isnan isinf floatBitsToInt floatBitsToUint intBitsToFloat uintBitsToFloat packSnorm2x16 unpackSnorm2x16 packUnorm2x16 unpackUnorm2x16 packHalf2x16 unpackHalf2x16 outerProduct transpose determinant inverse texture textureSize textureProj textureLod textureOffset texelFetch texelFetchOffset textureProjOffset textureLodOffset textureProjLod textureProjLodOffset textureGrad textureGradOffset textureProjGrad textureProjGradOffset".split(" "))};
shadow$provide[506]=function(G,y,X,g){X.exports=function(T){function O(hb){hb.length&&lb.push({type:ba[Da],data:hb,position:Eb,line:ka,column:zb})}function da(){fb=fb.length?[]:fb;if("/"===tb&&"*"===Oa)return Eb=Ga+va-1,Da=n,tb=Oa,va+1;if("/"===tb&&"/"===Oa)return Eb=Ga+va-1,Da=p,tb=Oa,va+1;if("#"===Oa)return Da=v,Eb=Ga+va,va;if(/\s/.test(Oa))return Da=N,Eb=Ga+va,va;kb=/\d/.test(Oa);Nb=/[^\w_]/.test(Oa);Eb=Ga+va;Da=kb?z:Nb?w:l;return va}function ea(){if(("\r"===Oa||"\n"===Oa)&&"\\"!==tb)return O(fb.join("")),
Da=h,va;fb.push(Oa);tb=Oa;return va+1}function Aa(){if("."===tb&&/\d/.test(Oa))return Da=x,va;if("/"===tb&&"*"===Oa)return Da=n,va;if("/"===tb&&"/"===Oa)return Da=p,va;if("."===Oa&&fb.length){for(;Ea(fb););Da=x;return va}if(";"===Oa||")"===Oa||"("===Oa){if(fb.length)for(;Ea(fb););O(Oa);Da=h;return va+1}var hb=2===fb.length&&"\x3d"!==Oa;if(/[\w_\d\s]/.test(Oa)||hb){for(;Ea(fb););Da=h;return va}fb.push(Oa);tb=Oa;return va+1}function Ea(hb){var Ba=0;do{var ya=u.indexOf(hb.slice(0,hb.length+Ba).join(""));
var na=u[ya];if(-1===ya){if(0<Ba--+hb.length)continue;na=hb.slice(0,1).join("")}O(na);Eb+=na.length;fb=fb.slice(na.length);return fb.length}while(1)}function qa(){if("."===Oa||/[eE]/.test(Oa))return fb.push(Oa),Da=x,tb=Oa,va+1;if("x"===Oa&&1===fb.length&&"0"===fb[0])return Da=V,fb.push(Oa),tb=Oa,va+1;if(/[^\d]/.test(Oa))return O(fb.join("")),Da=h,va;fb.push(Oa);tb=Oa;return va+1}function jb(){"f"===Oa&&(fb.push(Oa),tb=Oa,va+=1);if(/[eE]/.test(Oa)||("-"===Oa||"+"===Oa)&&/[eE]/.test(tb))return fb.push(Oa),
tb=Oa,va+1;if(/[^\d]/.test(Oa))return O(fb.join("")),Da=h,va;fb.push(Oa);tb=Oa;return va+1}var va=0,Ga=0,Da=h,Oa,tb,fb=[],lb=[],ka=1,zb=0,Eb=0,kb=!1,Nb=!1,L="",Y;T=T||{};var sa=m,Za=A;"300 es"===T.version&&(sa=c,Za=e);var Ja={},Sa={};for(va=0;va<sa.length;va++)Ja[sa[va]]=!0;for(va=0;va<Za.length;va++)Sa[Za[va]]=!0;return function(hb){lb=[];if(null!==hb){va=0;hb.toString&&(hb=hb.toString());L+=hb.replace(/\r\n/g,"\n");for(Y=L.length;Oa=L[va],va<Y;){hb=va;switch(Da){case n:"/"===Oa&&"*"===tb?(fb.push(Oa),
O(fb.join("")),Da=h):(fb.push(Oa),tb=Oa);va+=1;break;case p:va=ea();break;case v:va=ea();break;case w:va=Aa();break;case z:va=qa();break;case V:/[^a-fA-F0-9]/.test(Oa)?(O(fb.join("")),Da=h):(fb.push(Oa),tb=Oa,va+=1);break;case x:va=jb();break;case l:if(/[^\d\w_]/.test(Oa)){var Ba=fb.join("");Da=Sa[Ba]?I:Ja[Ba]?H:E;O(fb.join(""));Da=h}else fb.push(Oa),tb=Oa,va+=1;break;case N:/[^\s]/g.test(Oa)?(O(fb.join("")),Da=h):(fb.push(Oa),tb=Oa,va+=1);break;case h:va=da()}if(hb!==va)switch(L[hb]){case "\n":zb=
0;++ka;break;default:++zb}}Ga+=va;L=L.slice(va);return lb}fb.length&&O(fb.join(""));Da=Q;O("(eof)");return lb}};var A=y(501),u=y(502),m=y(503),e=y(504),c=y(505),h=999,l=9999,n=0,p=1,v=2,w=3,z=4,x=5,E=6,H=7,I=8,N=9,Q=10,V=11,ba="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ")};
shadow$provide[507]=function(G,y,X,g){var A=y(506);X.exports=function(u,m){m=A(m);var e=[];e=e.concat(m(u));return e=e.concat(m(null))}};
shadow$provide[508]=function(G,y,X,g){function A(){return this}function u(N,Q){let V=I[N];Q=Q||0;V?Q>V.lbp&&(V.lbp=Q):(V=Object.create(H),V.id=N,V.lbp=Q,I[N]=V);return V}function m(N){let Q,V=z;p();for(Q=V.nud();N<z.lbp;)V=z,p(),Q=V.led(Q);return Q}function e(N,Q,V){u(N,Q).led=V||function(ba){this.children=[ba,m(Q)];this.type="binary";return this}}function c(N,Q,V){N=u(N,Q);N.led=V||function(ba){this.children=[ba,m(Q-1)];this.type="binary";return this};return N}function h(N,Q){N=u(N);N.nud=Q||function(){this.children=
[m(70)];this.type="unary";return this};return N}function l(N){u(N,150).led=function(Q){this.children=[Q];this.type="suffix";return this}}function n(N){return c(N,10,function(Q){this.children=[Q,m(9)];this.assignment=!0;this.type="assign";return this})}function p(N){let Q,V,ba;if(N&&z.data!==N)return w.unexpected("expected `"+N+"`, got `"+z.data+"`");if(E>=x.length)z=I["(end)"];else{N=x[E++];Q=N.data;V=N.type;if("ident"===V)ba=w.scope.find(Q)||w.create_node(),V=ba.type;else if("builtin"===V)ba=I["(builtin)"];
else if("keyword"===V)ba=I["(keyword)"];else if("operator"===V){if(ba=I[Q],!ba)return w.unexpected("unknown operator `"+Q+"`")}else if("float"===V||"integer"===V)V="literal",ba=I["(literal)"];else return w.unexpected("unexpected token.");ba&&(ba.nud||(ba.nud=A),ba.children||(ba.children=[]));ba=Object.create(ba);ba.token=N;ba.type=V;ba.data||(ba.data=Q);return z=ba}}function v(N){return function(){return w.unexpected(N)}}let w,z,x,E;const H={nud:function(){return this.children&&this.children.length?
this:v("unexpected")()},led:v("missing operator")},I={};u("(ident)").nud=A;u("(keyword)").nud=A;u("(builtin)").nud=A;u("(literal)").nud=A;u("(end)");u(":");u(";");u(",");u(")");u("]");u("}");c("\x26\x26",30);c("||",30);e("|",43);e("^",44);e("\x26",45);e("\x3d\x3d",46);e("!\x3d",46);e("\x3c",47);e("\x3c\x3d",47);e("\x3e",47);e("\x3e\x3d",47);e("\x3e\x3e",48);e("\x3c\x3c",48);e("+",50);e("-",50);e("*",60);e("/",60);e("%",60);e("?",20,function(N){this.children=[N,m(0),(p(":"),m(0))];this.type="ternary";
return this});e(".",80,function(N){z.type="literal";w.fake(z);this.children=[N,z];p();return this});e("[",80,function(N){this.children=[N,m(0)];this.type="binary";p("]");return this});e("(",80,function(N){this.children=[N];this.type="call";if(")"!==z.data)for(;;){this.children.push(m(0));if(","!==z.data)break;p(",")}p(")");return this});h("-");h("+");h("!");h("~");h("defined");h("(",function(){this.type="group";this.children=[m(0)];p(")");return this});h("++");h("--");l("++");l("--");n("\x3d");n("+\x3d");
n("-\x3d");n("*\x3d");n("/\x3d");n("%\x3d");n("\x26\x3d");n("|\x3d");n("^\x3d");n("\x3e\x3e\x3d");n("\x3c\x3c\x3d");X.exports=function(N,Q){function V(ba){w.unshift(ba,!1);for(let T=0,O=ba.children.length;T<O;++T)V(ba.children[T]);w.shift()}w=N;x=Q;E=0;if(x.length){p();N=m(0);N.parent=w[0];V(N);if(E<x.length)throw Error("did not use all tokens");N.parent.children=[N]}}};
shadow$provide[509]=function(G,y,X,g){function A(u){if(this.constructor!==A)return new A(u);this.state=u;this.scopes=[];this.current=null}X.exports=A;G=A.prototype;G.enter=function(u){this.scopes.push(this.current=this.state[0].scope=u||{})};G.exit=function(){this.scopes.pop();this.current=this.scopes[this.scopes.length-1]};G.define=function(u){this.current[u]=this.state[0]};G.find=function(u,m){for(m=this.scopes.length-1;-1<m;--m)if(this.scopes[m].hasOwnProperty(u))return this.scopes[m][u];return null}};
shadow$provide[510]=function(G,y,X,g){function A(va,Ga){return{mode:va,token:Ga,children:[],type:jb[va],id:(4294967295*Math.random()).toString(16)}}X.exports=function(){function va(kc){if(null===kc)return Da(),xe;re=[];Ga(kc);return re}function Ga(kc){if("whitespace"===kc.type||"line-comment"===kc.type||"block-comment"===kc.type)sd.push(kc);else for(rd.push(kc),(yc=yc||rd[0])&&sd.length&&(yc.preceding=yc.preceding||[],yc.preceding=yc.preceding.concat(sd),sd=[]);Ae||!Kb.length?0:yc=rd[0];)switch(Kb[0].mode){case h:tb();
break;case l:Oa();break;case w:fb();break;case z:lb();break;case I:ka();break;case n:Ic(!0,!0);break;case N:nd();break;case c:"ident"!==yc.type&&"builtin"!==yc.type?Y("expected user-defined name, got "+yc.data):(Kb[0].data=yc.data,Kb.shift(),rd.shift());break;case Q:"keyword"!==yc.type?Y("expected keyword, got "+yc.data):(Kb.shift(),rd.shift());break;case V:"keyword"===yc.type?(Kb[0].type="keyword",Kb[0].mode=Q):"ident"===yc.type?(Kb[0].type="ident",Kb[0].mode=c):Y("expected keyword or user-defined name, got "+
yc.data);break;case p:xc();break;case v:ee();break;case x:Jc();break;case E:Fd();break;case ea:Jd();break;case ba:Qc();break;case H:dc();break;case Ea:kd()}}function Da(kc){arguments.length&&Ga(kc);1<Kb.length&&Y("unexpected EOF")}function Oa(){return Ja(function(){Kb.scope.enter();return e},function(){if(yc.data===Kb[0].expecting)return Kb.scope.exit(),Kb.shift();switch(yc.type){case "preprocessor":Kb.fake(A(qa[yc.type],yc,Pd));rd.shift();break;default:Kb.unshift(wb())}})()}function tb(){if(Kb[0].brace){if("}"!==
yc.data)return Y("expected `}`, got "+yc.data);Kb[0].brace=!1;return rd.shift(),Kb.shift()}switch(yc.type){case "eof":return He&&(Ae=!0),He=!0,Kb.shift();case "keyword":switch(yc.data){case "for":return Kb.unshift(nb());case "if":return Kb.unshift(Cb());case "while":return Kb.unshift(Ma());case "do":return Kb.unshift(lc());case "break":return Kb.fake(A(T,yc)),rd.shift();case "continue":return Kb.fake(A(O,yc)),rd.shift();case "discard":return Kb.fake(A(da,yc)),rd.shift();case "return":return Kb.unshift(ub());
case "precision":return Kb.unshift(gb())}return Kb.unshift(Eb(255));case "ident":var kc;if(kc=Kb.scope.find(yc.data))return"struct"===kc.parent.type?Kb.unshift(Eb(255)):Kb.unshift(Nb(";"));case "operator":if("{"===yc.data)return Kb[0].brace=!0,kc=bb(),kc.expecting="}",rd.shift(),Kb.unshift(kc);if(";"===yc.data)return rd.shift(),Kb.shift();default:return Kb.unshift(Nb(";"))}}function fb(){const kc=Kb[0];return Ja(function(){if("invariant"===yc.data)return kc.flags&8?(Kb.unshift(L()),e):Y("`invariant` is not allowed here");
Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){if("const"===yc.data||"attribute"===yc.data||"uniform"===yc.data||"varying"===yc.data)return kc.flags&16?(Kb.unshift(L()),e):Y("storage is not allowed here");Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){if("in"===yc.data||"inout"===yc.data||"out"===yc.data){if(kc.flags&32)return Y("parameter is not allowed here");Kb.unshift(L());return e}Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){"highp"===
yc.data||"mediump"===yc.data||"lowp"===yc.data?Kb.unshift(L()):Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){if("struct"===yc.data){if(!(kc.flags&64))return Y("cannot nest structs");Kb.unshift(kb());return e}if("keyword"===yc.type)return Kb.unshift(L()),e;const Rc=Kb.scope.find(yc.data);return Rc?(Kb.fake(Object.create(Rc)),rd.shift(),e):Y("expected user defined type, struct or keyword, got "+yc.data)},function(){if(","===yc.data&&!(kc.flags&2))return Kb.shift();if("["===yc.data)Kb.unshift(Tb());
else{if(")"===yc.data)return Kb.shift();if(";"===yc.data)return kc.stage+3;if("ident"!==yc.type&&"builtin"!==yc.type)return Y("expected identifier, got "+yc.data);kc.collected_name=rd.shift();return e}},function(){return"("===yc.data?(rd.unshift(kc.collected_name),delete kc.collected_name,Kb.unshift(ta()),kc.stage+2):e},function(){rd.unshift(kc.collected_name);delete kc.collected_name;Kb.unshift(Ca());return e},function(){return Kb.shift()})()}function lb(){if("ident"===yc.type||"builtin"===yc.type){const kc=
yc.data;Kb.unshift(cb());Kb.scope.define(kc)}else{if("operator"===yc.type){if(","===yc.data)return Kb[1].flags&2?rd.shift():Kb.shift();if("\x3d"===yc.data){if(!(Kb[1].flags&1))return Y("`\x3d` is not allowed here.");rd.shift();Kb.unshift(Nb(",",";"));return}if("["===yc.data){Kb.unshift(Tb());return}}return Kb.shift()}}function ka(){const kc=Kb[0].expecting;Kb[0].tokens=Kb[0].tokens||[];void 0===Kb[0].parenlevel&&(Kb[0].parenlevel=0,Kb[0].bracelevel=0);if(1>Kb[0].parenlevel&&-1<kc.indexOf(yc.data)){try{u(Kb,
Kb[0].tokens)}catch(Rc){throw Ae=!0,Rc;}return Kb.shift()}"("===yc.data?++Kb[0].parenlevel:")"===yc.data&&--Kb[0].parenlevel;switch(yc.data){case "{":++Kb[0].bracelevel;break;case "}":--Kb[0].bracelevel;break;case "(":++Kb[0].parenlevel;break;case ")":--Kb[0].parenlevel}if(0>Kb[0].parenlevel)return Y("unexpected `)`");if(0>Kb[0].bracelevel)return Y("unexpected `}`");Kb[0].tokens.push(rd.shift())}function zb(kc){return function(){return A(kc,yc)}}function Eb(kc){const Rc=A(w,yc,Pd);Rc.flags=kc;return Rc}
function kb(kc,Rc){const Sc=A(n,yc,Pd);Sc.allow_assign=void 0===kc?!0:kc;Sc.allow_comma=void 0===Rc?!0:Rc;return Sc}function Nb(){const kc=A(I,yc,Pd);kc.expecting=[].slice.call(arguments);return kc}function L(kc){let Rc=yc;kc&&(Rc={type:"(implied)",data:"(default)",position:Rc.position});return A(Q,Rc,Pd)}function Y(kc){Ae=!0;throw Error((kc||"unexpected "+Kb)+" at line "+Kb[0].token.line);}function sa(kc,Rc){return 1,Za(kc,yc.type)&&Za(Rc,yc.data)}function Za(kc,Rc){switch(typeof kc){case "string":return Rc!==
kc&&Y("expected `"+kc+"`, got "+Rc+"\n"+yc.data),!Ae;case "object":return kc&&-1===kc.indexOf(Rc)&&Y("expected one of `"+kc.join("`, `")+"`, got "+Rc),!Ae}return!0}function Ja(){let kc=[].slice.call(arguments),Rc,Sc;return function(){const Dd=Kb[0];Dd.stage||(Dd.stage=0);Rc=kc[Dd.stage];if(!Rc)return Y("parser in undefined state!");Sc=Rc();if(Sc===e)return++Dd.stage;void 0!==Sc&&(Dd.stage=Sc)}}function Sa(kc,Rc){Rc=Rc||"operator";return function(){if(sa(Rc,kc)){var Sc=rd.shift(),Dd=Kb[0].children;
(Dd=Dd[Dd.length-1])&&Dd.token&&Sc.preceding&&(Dd.token.succeeding=Dd.token.succeeding||[],Dd.token.succeeding=Dd.token.succeeding.concat(Sc.preceding));return e}}}function hb(kc){return function(){Kb.unshift(Nb(kc));return e}}function Ba(kc){return kc?function(){const Rc=yc.data;return sa("ident")&&(Kb.unshift(cb()),Kb.scope.define(Rc),e)}:function(){if(sa("ident"))return Object.create(Kb.scope.find(yc.data)).token=yc,rd.shift(),e}}function ya(){return function(){const kc=bb();kc.expecting="}";return Kb.unshift(kc),
e}}function na(kc){return function(){const Rc=Kb[0].stage;return"{"!==yc.data?(Kb.unshift(wb()),Rc+kc):(rd.shift(),e)}}function Va(){return function(){return Kb.shift(),Kb.shift()}}const bb=zb(l),wb=zb(h),Ca=zb(z),gb=zb(N),cb=zb(c);zb(V);const ta=zb(p),Xa=zb(v),nb=zb(x),Cb=zb(H),Ma=zb(E),ub=zb(ba),lc=zb(ea),Tb=zb(Ea);let Ic,nd,kd,Jc,dc,Qc,Fd,Jd,xc,ee,ie=arguments.length?[].slice.call(arguments):[],He=!1,Kb=[],re=[],rd=[],sd=[],Ae=!1,xe,yc,Pd;Kb.shift=function(){let kc=[].shift.call(this),Rc=ie[this.length],
Sc=!1;ie.length?"function"===typeof ie[0]?Sc=ie[0](kc):void 0!==Rc&&(Sc=Rc.test?Rc.test(kc.type):Rc===kc.type):Sc=!0;Sc&&!Ae&&re.push(kc);Pd=kc.parent;return kc};Kb.unshift=function(kc,Rc){kc.parent=Kb[0];const Sc=[].unshift.call(this,kc);(void 0===Rc||Rc)&&Pd!==kc&&Pd.children.push(kc);Pd=kc;return Sc};Kb.fake=function(kc){Kb.unshift(kc);Kb.shift()};Kb.unexpected=Y;Kb.scope=new m(Kb);Kb.create_node=function(){const kc=A(c,yc);kc.parent=va.program;return kc};(function(){Ic=Ja(Sa("struct","keyword"),
function(){return"{"===yc.data?(Kb.fake(A(c,{data:"",position:yc.position,type:"ident"})),e):Ba(!0)()},function(){Kb.scope.enter();return e},Sa("{"),function(){if("preprocessor"===yc.type)Kb.fake(A(qa[yc.type],yc,Pd)),rd.shift();else{if("}"===yc.data)return Kb.scope.exit(),rd.shift(),Kb.shift();";"===yc.data?rd.shift():Kb.unshift(Eb(166))}});nd=Ja(function(){return rd.shift(),e},function(){return sa("keyword",["lowp","mediump","highp"])&&(Kb.unshift(L()),e)},function(){return Kb.unshift(L()),e},function(){return Kb.shift()});
kd=Ja(Sa("["),hb("]"),Sa("]"),function(){return Kb.shift()});Jc=Ja(Sa("for","keyword"),Sa("("),function(){let kc;if("ident"===yc.type){if((kc=Kb.scope.find(yc.data))||(kc=Kb.create_node()),"struct"===kc.parent.type)return Kb.unshift(Eb(255)),e}else if("builtin"===yc.type||"keyword"===yc.type)return Kb.unshift(Eb(255)),e;return hb(";")()},Sa(";"),hb(";"),Sa(";"),hb(")"),Sa(")"),na(3),ya(),Sa("}"),Va());dc=Ja(Sa("if","keyword"),Sa("("),hb(")"),Sa(")"),na(3),ya(),Sa("}"),function(){return"else"===yc.data?
(rd.shift(),Kb.unshift(wb()),e):Va()()},Va());Qc=Ja(Sa("return","keyword"),function(){return";"===yc.data?e:(Kb.unshift(Nb(";")),e)},function(){rd.shift();Va()()});Fd=Ja(Sa("while","keyword"),Sa("("),hb(")"),Sa(")"),na(3),ya(),Sa("}"),Va());Jd=Ja(Sa("do","keyword"),na(3),ya(),Sa("}"),Sa("while","keyword"),Sa("("),hb(")"),Sa(")"),Va());xc=Ja(function(){for(let kc=1,Rc=Kb.length;kc<Rc;++kc)if(Kb[kc].mode===p)return Y("function definition is not allowed within another function");return e},function(){if(sa("ident")){var kc=
yc.data,Rc=Kb.scope.find(kc);Kb.unshift(cb());Kb.scope.define(kc);Kb.scope.enter(Rc?Rc.scope:null);return e}},Sa("("),function(){return Kb.unshift(Xa()),e},Sa(")"),function(){return";"===yc.data?(Kb.scope.exit(),Kb.shift(),Kb.shift()):e},Sa("{"),ya(),Sa("}"),function(){Kb.scope.exit();return e},function(){return Kb.shift(),Kb.shift(),Kb.shift()});ee=Ja(function(){if("void"===yc.data)return Kb.fake(L()),rd.shift(),e;if(")"===yc.data)Kb.shift();else{if("struct"===yc.data)return Kb.unshift(kb(!1,!1)),
e;Kb.unshift(Eb(208));return e}},function(){if(","===yc.data)return rd.shift(),0;")"===yc.data?Kb.shift():Y("expected one of `,` or `)`, got "+yc.data)})})();Pd=bb();Pd.expecting="(eof)";Pd.mode=l;Pd.token={type:"(program)",data:"(program)"};xe=Pd;va.program=xe;va.scope=function(kc){1===arguments.length&&(Kb.scope=kc);return Kb.scope};Kb.unshift(Pd);return va};const u=y(508),m=y(509),e={};G=0;let c=G++,h=G++,l=G++,n=G++,p=G++,v=G++,w=G++,z=G++,x=G++,E=G++,H=G++,I=G++,N=G++;y=G++;X=G++;let Q=G++,V=
G++,ba=G++,T=G++,O=G++,da=G++,ea=G++,Aa=G++,Ea=G++;const qa={"block-comment":y,"line-comment":y,preprocessor:X},jb=G="ident stmt stmtlist struct function functionargs decl decllist forloop whileloop if expr precision comment preprocessor keyword keyword_or_ident return break continue discard do-while placeholder quantifier".split(" ")};
shadow$provide[511]=function(G,y,X,g){var A=y(510);X.exports=function(u){for(var m=A(),e=0;e<u.length;e++)m(u[e]);return m(null)}};
shadow$provide[512]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Vector2=void 0;class A{constructor(J=0,r=0){A.prototype.isVector2=!0;this.x=J;this.y=r}get width(){return this.x}set width(J){this.x=J}get height(){return this.y}set height(J){this.y=J}set(J,r){this.x=J;this.y=r;return this}setScalar(J){this.y=this.x=J;return this}setX(J){this.x=J;return this}setY(J){this.y=J;return this}setComponent(J,r){switch(J){case 0:this.x=r;break;case 1:this.y=r;break;default:throw Error("index is out of range: "+
J);}return this}getComponent(J){switch(J){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+J);}}clone(){return new this.constructor(this.x,this.y)}copy(J){this.x=J.x;this.y=J.y;return this}add(J){this.x+=J.x;this.y+=J.y;return this}addScalar(J){this.x+=J;this.y+=J;return this}addVectors(J,r){this.x=J.x+r.x;this.y=J.y+r.y;return this}addScaledVector(J,r){this.x+=J.x*r;this.y+=J.y*r;return this}sub(J){this.x-=J.x;this.y-=J.y;return this}subScalar(J){this.x-=J;
this.y-=J;return this}subVectors(J,r){this.x=J.x-r.x;this.y=J.y-r.y;return this}multiply(J){this.x*=J.x;this.y*=J.y;return this}multiplyScalar(J){this.x*=J;this.y*=J;return this}divide(J){this.x/=J.x;this.y/=J.y;return this}divideScalar(J){return this.multiplyScalar(1/J)}applyMatrix3(J){const r=this.x,w=this.y;J=J.elements;this.x=J[0]*r+J[3]*w+J[6];this.y=J[1]*r+J[4]*w+J[7];return this}min(J){this.x=Math.min(this.x,J.x);this.y=Math.min(this.y,J.y);return this}max(J){this.x=Math.max(this.x,J.x);this.y=
Math.max(this.y,J.y);return this}clamp(J,r){this.x=Math.max(J.x,Math.min(r.x,this.x));this.y=Math.max(J.y,Math.min(r.y,this.y));return this}clampScalar(J,r){this.x=Math.max(J,Math.min(r,this.x));this.y=Math.max(J,Math.min(r,this.y));return this}clampLength(J,r){const w=this.length();return this.divideScalar(w||1).multiplyScalar(Math.max(J,Math.min(r,w)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=
Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(J){return this.x*J.x+this.y*J.y}cross(J){return this.x*J.y-this.y*J.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||
1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(J){return Math.sqrt(this.distanceToSquared(J))}distanceToSquared(J){const r=this.x-J.x;J=this.y-J.y;return r*r+J*J}manhattanDistanceTo(J){return Math.abs(this.x-J.x)+Math.abs(this.y-J.y)}setLength(J){return this.normalize().multiplyScalar(J)}lerp(J,r){this.x+=(J.x-this.x)*r;this.y+=(J.y-this.y)*r;return this}lerpVectors(J,r,w){this.x=J.x+(r.x-J.x)*w;this.y=J.y+(r.y-J.y)*w;return this}equals(J){return J.x===this.x&&J.y===this.y}fromArray(J,
r=0){this.x=J[r];this.y=J[r+1];return this}toArray(J=[],r=0){J[r]=this.x;J[r+1]=this.y;return J}fromBufferAttribute(J,r){this.x=J.getX(r);this.y=J.getY(r);return this}rotateAround(J,r){const w=Math.cos(r);r=Math.sin(r);const h=this.x-J.x,m=this.y-J.y;this.x=h*w-m*r+J.x;this.y=h*r+m*w+J.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}I.Vector2=A};
shadow$provide[513]=function(ra,P,db,I){function A(){const ea=4294967295*Math.random()|0,kb=4294967295*Math.random()|0,zb=4294967295*Math.random()|0,Va=4294967295*Math.random()|0;return(qa[ea&255]+qa[ea>>8&255]+qa[ea>>16&255]+qa[ea>>24&255]+"-"+qa[kb&255]+qa[kb>>8&255]+"-"+qa[kb>>16&15|64]+qa[kb>>24&255]+"-"+qa[zb&63|128]+qa[zb>>8&255]+"-"+qa[zb>>16&255]+qa[zb>>24&255]+qa[Va&255]+qa[Va>>8&255]+qa[Va>>16&255]+qa[Va>>24&255]).toLowerCase()}function J(ea,kb,zb){return Math.max(kb,Math.min(zb,ea))}function r(ea,
kb){return(ea%kb+kb)%kb}function w(ea,kb,zb,Va,Pa){return Va+(ea-kb)*(Pa-Va)/(zb-kb)}function h(ea,kb,zb){return ea!==kb?(zb-ea)/(kb-ea):0}function m(ea,kb,zb){return(1-zb)*ea+zb*kb}function x(ea,kb,zb,Va){return m(ea,kb,1-Math.exp(-zb*Va))}function z(ea,kb=1){return kb-Math.abs(r(ea,2*kb)-kb)}function k(ea,kb,zb){if(ea<=kb)return 0;if(ea>=zb)return 1;ea=(ea-kb)/(zb-kb);return ea*ea*(3-2*ea)}function p(ea,kb,zb){if(ea<=kb)return 0;if(ea>=zb)return 1;ea=(ea-kb)/(zb-kb);return ea*ea*ea*(ea*(6*ea-15)+
10)}function B(ea,kb){return ea+Math.floor(Math.random()*(kb-ea+1))}function t(ea,kb){return ea+Math.random()*(kb-ea)}function u(ea){return ea*(.5-Math.random())}function C(ea){void 0!==ea&&(Ca=ea);ea=Ca+=1831565813;ea=Math.imul(ea^ea>>>15,ea|1);ea^=ea+Math.imul(ea^ea>>>7,ea|61);return((ea^ea>>>14)>>>0)/4294967296}function F(ea){return ea*La}function M(ea){return ea*Oa}function T(ea){return 0===(ea&ea-1)&&0!==ea}function N(ea){return Math.pow(2,Math.ceil(Math.log(ea)/Math.LN2))}function W(ea){return Math.pow(2,
Math.floor(Math.log(ea)/Math.LN2))}function ka(ea,kb,zb,Va,Pa){var ja=Math.cos;const jb=Math.sin,Ya=ja(zb/2);zb=jb(zb/2);const Ma=ja((kb+Va)/2),na=jb((kb+Va)/2),ub=ja((kb-Va)/2),Bb=jb((kb-Va)/2);ja=ja((Va-kb)/2);kb=jb((Va-kb)/2);switch(Pa){case "XYX":ea.set(Ya*na,zb*ub,zb*Bb,Ya*Ma);break;case "YZY":ea.set(zb*Bb,Ya*na,zb*ub,Ya*Ma);break;case "ZXZ":ea.set(zb*ub,zb*Bb,Ya*na,Ya*Ma);break;case "XZX":ea.set(Ya*na,zb*kb,zb*ja,Ya*Ma);break;case "YXY":ea.set(zb*ja,Ya*na,zb*kb,Ya*Ma);break;case "ZYZ":ea.set(zb*
kb,zb*ja,Ya*na,Ya*Ma);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+Pa)}}function Y(ea,kb){switch(kb.constructor){case Float32Array:return ea;case Uint16Array:return ea/65535;case Uint8Array:return ea/255;case Int16Array:return Math.max(ea/32767,-1);case Int8Array:return Math.max(ea/127,-1);default:throw Error("Invalid component type.");}}function H(ea,kb){switch(kb.constructor){case Float32Array:return ea;case Uint16Array:return Math.round(65535*
ea);case Uint8Array:return Math.round(255*ea);case Int16Array:return Math.round(32767*ea);case Int8Array:return Math.round(127*ea);default:throw Error("Invalid component type.");}}Object.defineProperty(I,"__esModule",{value:!0});I.generateUUID=A;I.clamp=J;I.euclideanModulo=r;I.mapLinear=w;I.inverseLerp=h;I.lerp=m;I.damp=x;I.pingpong=z;I.smoothstep=k;I.smootherstep=p;I.randInt=B;I.randFloat=t;I.randFloatSpread=u;I.seededRandom=C;I.degToRad=F;I.radToDeg=M;I.isPowerOfTwo=T;I.ceilPowerOfTwo=N;I.floorPowerOfTwo=
W;I.setQuaternionFromProperEuler=ka;I.normalize=H;I.denormalize=Y;I.MathUtils=I.RAD2DEG=I.DEG2RAD=void 0;const qa="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let Ca=1234567;const La=Math.PI/180;I.DEG2RAD=La;const Oa=180/Math.PI;I.RAD2DEG=Oa;I.MathUtils={DEG2RAD:La,RAD2DEG:Oa,generateUUID:A,clamp:J,euclideanModulo:r,mapLinear:w,inverseLerp:h,lerp:m,damp:x,pingpong:z,smoothstep:k,smootherstep:p,randInt:B,randFloat:t,randFloatSpread:u,seededRandom:C,degToRad:F,radToDeg:M,isPowerOfTwo:T,ceilPowerOfTwo:N,floorPowerOfTwo:W,setQuaternionFromProperEuler:ka,normalize:H,denormalize:Y}};
shadow$provide[514]=function(ra,P,db,I){function A(w){if("function"!==typeof WeakMap)return null;var h=new WeakMap,m=new WeakMap;return(A=function(x){return x?m:h})(w)}Object.defineProperty(I,"__esModule",{value:!0});I.Quaternion=void 0;var J=function(w,h){if(!h&&w&&w.__esModule)return w;if(null===w||"object"!==typeof w&&"function"!==typeof w)return{default:w};if((h=A(h))&&h.has(w))return h.get(w);var m={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in w)if("default"!==z&&Object.prototype.hasOwnProperty.call(w,
z)){var k=x?Object.getOwnPropertyDescriptor(w,z):null;k&&(k.get||k.set)?Object.defineProperty(m,z,k):m[z]=w[z]}m.default=w;h&&h.set(w,m);return m}(P(513));class r{constructor(w=0,h=0,m=0,x=1){this.isQuaternion=!0;this._x=w;this._y=h;this._z=m;this._w=x}static slerpFlat(w,h,m,x,z,k,p){let B=m[x+0],t=m[x+1],u=m[x+2];m=m[x+3];x=z[k+0];const C=z[k+1],F=z[k+2];z=z[k+3];if(0===p)w[h+0]=B,w[h+1]=t,w[h+2]=u,w[h+3]=m;else if(1===p)w[h+0]=x,w[h+1]=C,w[h+2]=F,w[h+3]=z;else{if(m!==z||B!==x||t!==C||u!==F){k=1-
p;var M=B*x+t*C+u*F+m*z,T=0<=M?1:-1,N=1-M*M;N>Number.EPSILON&&(N=Math.sqrt(N),M=Math.atan2(N,M*T),k=Math.sin(k*M)/N,p=Math.sin(p*M)/N);T*=p;B=B*k+x*T;t=t*k+C*T;u=u*k+F*T;m=m*k+z*T;k===1-p&&(p=1/Math.sqrt(B*B+t*t+u*u+m*m),B*=p,t*=p,u*=p,m*=p)}w[h]=B;w[h+1]=t;w[h+2]=u;w[h+3]=m}}static multiplyQuaternionsFlat(w,h,m,x,z,k){const p=m[x],B=m[x+1],t=m[x+2];m=m[x+3];x=z[k];const u=z[k+1],C=z[k+2];z=z[k+3];w[h]=p*z+m*x+B*C-t*u;w[h+1]=B*z+m*u+t*x-p*C;w[h+2]=t*z+m*C+p*u-B*x;w[h+3]=m*z-p*x-B*u-t*C;return w}get x(){return this._x}set x(w){this._x=
w;this._onChangeCallback()}get y(){return this._y}set y(w){this._y=w;this._onChangeCallback()}get z(){return this._z}set z(w){this._z=w;this._onChangeCallback()}get w(){return this._w}set w(w){this._w=w;this._onChangeCallback()}set(w,h,m,x){this._x=w;this._y=h;this._z=m;this._w=x;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(w){this._x=w.x;this._y=w.y;this._z=w.z;this._w=w.w;this._onChangeCallback();return this}setFromEuler(w,h){var m=
w._x,x=w._y,z=w._z;w=w._order;var k=Math.cos;const p=Math.sin,B=k(m/2),t=k(x/2);k=k(z/2);m=p(m/2);x=p(x/2);z=p(z/2);switch(w){case "XYZ":this._x=m*t*k+B*x*z;this._y=B*x*k-m*t*z;this._z=B*t*z+m*x*k;this._w=B*t*k-m*x*z;break;case "YXZ":this._x=m*t*k+B*x*z;this._y=B*x*k-m*t*z;this._z=B*t*z-m*x*k;this._w=B*t*k+m*x*z;break;case "ZXY":this._x=m*t*k-B*x*z;this._y=B*x*k+m*t*z;this._z=B*t*z+m*x*k;this._w=B*t*k-m*x*z;break;case "ZYX":this._x=m*t*k-B*x*z;this._y=B*x*k+m*t*z;this._z=B*t*z-m*x*k;this._w=B*t*k+
m*x*z;break;case "YZX":this._x=m*t*k+B*x*z;this._y=B*x*k+m*t*z;this._z=B*t*z-m*x*k;this._w=B*t*k-m*x*z;break;case "XZY":this._x=m*t*k-B*x*z;this._y=B*x*k-m*t*z;this._z=B*t*z+m*x*k;this._w=B*t*k+m*x*z;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+w)}!1!==h&&this._onChangeCallback();return this}setFromAxisAngle(w,h){h/=2;const m=Math.sin(h);this._x=w.x*m;this._y=w.y*m;this._z=w.z*m;this._w=Math.cos(h);this._onChangeCallback();return this}setFromRotationMatrix(w){var h=
w.elements,m=h[0];w=h[4];const x=h[8],z=h[1],k=h[5],p=h[9],B=h[2],t=h[6];h=h[10];const u=m+k+h;0<u?(m=.5/Math.sqrt(u+1),this._w=.25/m,this._x=(t-p)*m,this._y=(x-B)*m,this._z=(z-w)*m):m>k&&m>h?(m=2*Math.sqrt(1+m-k-h),this._w=(t-p)/m,this._x=.25*m,this._y=(w+z)/m,this._z=(x+B)/m):k>h?(m=2*Math.sqrt(1+k-m-h),this._w=(x-B)/m,this._x=(w+z)/m,this._y=.25*m,this._z=(p+t)/m):(m=2*Math.sqrt(1+h-m-k),this._w=(z-w)/m,this._x=(x+B)/m,this._y=(p+t)/m,this._z=.25*m);this._onChangeCallback();return this}setFromUnitVectors(w,
h){let m=w.dot(h)+1;m<Number.EPSILON?(m=0,Math.abs(w.x)>Math.abs(w.z)?(this._x=-w.y,this._y=w.x,this._z=0):(this._x=0,this._y=-w.z,this._z=w.y)):(this._x=w.y*h.z-w.z*h.y,this._y=w.z*h.x-w.x*h.z,this._z=w.x*h.y-w.y*h.x);this._w=m;return this.normalize()}angleTo(w){return 2*Math.acos(Math.abs(J.clamp(this.dot(w),-1,1)))}rotateTowards(w,h){const m=this.angleTo(w);if(0===m)return this;this.slerp(w,Math.min(1,h/m));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=
-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(w){return this._x*w._x+this._y*w._y+this._z*w._z+this._w*w._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let w=this.length();0===w?(this._z=this._y=this._x=0,this._w=1):(w=1/w,this._x*=w,this._y*=w,this._z*=w,this._w*=w);this._onChangeCallback();return this}multiply(w){return this.multiplyQuaternions(this,
w)}premultiply(w){return this.multiplyQuaternions(w,this)}multiplyQuaternions(w,h){const m=w._x,x=w._y,z=w._z;w=w._w;const k=h._x,p=h._y,B=h._z;h=h._w;this._x=m*h+w*k+x*B-z*p;this._y=x*h+w*p+z*k-m*B;this._z=z*h+w*B+m*p-x*k;this._w=w*h-m*k-x*p-z*B;this._onChangeCallback();return this}slerp(w,h){if(0===h)return this;if(1===h)return this.copy(w);const m=this._x,x=this._y,z=this._z,k=this._w;var p=k*w._w+m*w._x+x*w._y+z*w._z;0>p?(this._w=-w._w,this._x=-w._x,this._y=-w._y,this._z=-w._z,p=-p):this.copy(w);
if(1<=p)return this._w=k,this._x=m,this._y=x,this._z=z,this;w=1-p*p;if(w<=Number.EPSILON)return p=1-h,this._w=p*k+h*this._w,this._x=p*m+h*this._x,this._y=p*x+h*this._y,this._z=p*z+h*this._z,this.normalize(),this._onChangeCallback(),this;w=Math.sqrt(w);const B=Math.atan2(w,p);p=Math.sin((1-h)*B)/w;h=Math.sin(h*B)/w;this._w=k*p+this._w*h;this._x=m*p+this._x*h;this._y=x*p+this._y*h;this._z=z*p+this._z*h;this._onChangeCallback();return this}slerpQuaternions(w,h,m){return this.copy(w).slerp(h,m)}random(){var w=
Math.random();const h=Math.sqrt(1-w);w=Math.sqrt(w);const m=2*Math.PI*Math.random(),x=2*Math.PI*Math.random();return this.set(h*Math.cos(m),w*Math.sin(x),w*Math.cos(x),h*Math.sin(m))}equals(w){return w._x===this._x&&w._y===this._y&&w._z===this._z&&w._w===this._w}fromArray(w,h=0){this._x=w[h];this._y=w[h+1];this._z=w[h+2];this._w=w[h+3];this._onChangeCallback();return this}toArray(w=[],h=0){w[h]=this._x;w[h+1]=this._y;w[h+2]=this._z;w[h+3]=this._w;return w}fromBufferAttribute(w,h){this._x=w.getX(h);
this._y=w.getY(h);this._z=w.getZ(h);this._w=w.getW(h);return this}_onChange(w){this._onChangeCallback=w;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}I.Quaternion=r};
shadow$provide[515]=function(ra,P,db,I){function A(m){if("function"!==typeof WeakMap)return null;var x=new WeakMap,z=new WeakMap;return(A=function(k){return k?z:x})(m)}Object.defineProperty(I,"__esModule",{value:!0});I.Vector3=void 0;var J=function(m,x){if(!x&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((x=A(x))&&x.has(m))return x.get(m);var z={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in m)if("default"!==p&&Object.prototype.hasOwnProperty.call(m,
p)){var B=k?Object.getOwnPropertyDescriptor(m,p):null;B&&(B.get||B.set)?Object.defineProperty(z,p,B):z[p]=m[p]}z.default=m;x&&x.set(m,z);return z}(P(513));ra=P(514);class r{constructor(m=0,x=0,z=0){r.prototype.isVector3=!0;this.x=m;this.y=x;this.z=z}set(m,x,z){void 0===z&&(z=this.z);this.x=m;this.y=x;this.z=z;return this}setScalar(m){this.z=this.y=this.x=m;return this}setX(m){this.x=m;return this}setY(m){this.y=m;return this}setZ(m){this.z=m;return this}setComponent(m,x){switch(m){case 0:this.x=x;
break;case 1:this.y=x;break;case 2:this.z=x;break;default:throw Error("index is out of range: "+m);}return this}getComponent(m){switch(m){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+m);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(m){this.x=m.x;this.y=m.y;this.z=m.z;return this}add(m){this.x+=m.x;this.y+=m.y;this.z+=m.z;return this}addScalar(m){this.x+=m;this.y+=m;this.z+=m;return this}addVectors(m,x){this.x=m.x+x.x;
this.y=m.y+x.y;this.z=m.z+x.z;return this}addScaledVector(m,x){this.x+=m.x*x;this.y+=m.y*x;this.z+=m.z*x;return this}sub(m){this.x-=m.x;this.y-=m.y;this.z-=m.z;return this}subScalar(m){this.x-=m;this.y-=m;this.z-=m;return this}subVectors(m,x){this.x=m.x-x.x;this.y=m.y-x.y;this.z=m.z-x.z;return this}multiply(m){this.x*=m.x;this.y*=m.y;this.z*=m.z;return this}multiplyScalar(m){this.x*=m;this.y*=m;this.z*=m;return this}multiplyVectors(m,x){this.x=m.x*x.x;this.y=m.y*x.y;this.z=m.z*x.z;return this}applyEuler(m){return this.applyQuaternion(h.setFromEuler(m))}applyAxisAngle(m,
x){return this.applyQuaternion(h.setFromAxisAngle(m,x))}applyMatrix3(m){const x=this.x,z=this.y,k=this.z;m=m.elements;this.x=m[0]*x+m[3]*z+m[6]*k;this.y=m[1]*x+m[4]*z+m[7]*k;this.z=m[2]*x+m[5]*z+m[8]*k;return this}applyNormalMatrix(m){return this.applyMatrix3(m).normalize()}applyMatrix4(m){const x=this.x,z=this.y,k=this.z;m=m.elements;const p=1/(m[3]*x+m[7]*z+m[11]*k+m[15]);this.x=(m[0]*x+m[4]*z+m[8]*k+m[12])*p;this.y=(m[1]*x+m[5]*z+m[9]*k+m[13])*p;this.z=(m[2]*x+m[6]*z+m[10]*k+m[14])*p;return this}applyQuaternion(m){var x=
this.x;const z=this.y,k=this.z,p=m.x,B=m.y,t=m.z;m=m.w;const u=m*x+B*k-t*z,C=m*z+t*x-p*k,F=m*k+p*z-B*x;x=-p*x-B*z-t*k;this.x=u*m+x*-p+C*-t-F*-B;this.y=C*m+x*-B+F*-p-u*-t;this.z=F*m+x*-t+u*-B-C*-p;return this}project(m){return this.applyMatrix4(m.matrixWorldInverse).applyMatrix4(m.projectionMatrix)}unproject(m){return this.applyMatrix4(m.projectionMatrixInverse).applyMatrix4(m.matrixWorld)}transformDirection(m){const x=this.x,z=this.y,k=this.z;m=m.elements;this.x=m[0]*x+m[4]*z+m[8]*k;this.y=m[1]*x+
m[5]*z+m[9]*k;this.z=m[2]*x+m[6]*z+m[10]*k;return this.normalize()}divide(m){this.x/=m.x;this.y/=m.y;this.z/=m.z;return this}divideScalar(m){return this.multiplyScalar(1/m)}min(m){this.x=Math.min(this.x,m.x);this.y=Math.min(this.y,m.y);this.z=Math.min(this.z,m.z);return this}max(m){this.x=Math.max(this.x,m.x);this.y=Math.max(this.y,m.y);this.z=Math.max(this.z,m.z);return this}clamp(m,x){this.x=Math.max(m.x,Math.min(x.x,this.x));this.y=Math.max(m.y,Math.min(x.y,this.y));this.z=Math.max(m.z,Math.min(x.z,
this.z));return this}clampScalar(m,x){this.x=Math.max(m,Math.min(x,this.x));this.y=Math.max(m,Math.min(x,this.y));this.z=Math.max(m,Math.min(x,this.z));return this}clampLength(m,x){const z=this.length();return this.divideScalar(z||1).multiplyScalar(Math.max(m,Math.min(x,z)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(m){return this.x*m.x+this.y*m.y+this.z*m.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(m){return this.normalize().multiplyScalar(m)}lerp(m,x){this.x+=(m.x-this.x)*x;this.y+=(m.y-this.y)*x;this.z+=(m.z-this.z)*x;return this}lerpVectors(m,x,z){this.x=m.x+(x.x-m.x)*z;this.y=m.y+(x.y-m.y)*z;this.z=m.z+(x.z-m.z)*z;return this}cross(m){return this.crossVectors(this,m)}crossVectors(m,x){const z=m.x,k=m.y;m=m.z;const p=x.x,B=x.y;x=x.z;this.x=k*x-m*B;this.y=m*p-z*x;this.z=z*B-k*p;return this}projectOnVector(m){var x=
m.lengthSq();if(0===x)return this.set(0,0,0);x=m.dot(this)/x;return this.copy(m).multiplyScalar(x)}projectOnPlane(m){w.copy(this).projectOnVector(m);return this.sub(w)}reflect(m){return this.sub(w.copy(m).multiplyScalar(2*this.dot(m)))}angleTo(m){const x=Math.sqrt(this.lengthSq()*m.lengthSq());if(0===x)return Math.PI/2;m=this.dot(m)/x;return Math.acos(J.clamp(m,-1,1))}distanceTo(m){return Math.sqrt(this.distanceToSquared(m))}distanceToSquared(m){const x=this.x-m.x,z=this.y-m.y;m=this.z-m.z;return x*
x+z*z+m*m}manhattanDistanceTo(m){return Math.abs(this.x-m.x)+Math.abs(this.y-m.y)+Math.abs(this.z-m.z)}setFromSpherical(m){return this.setFromSphericalCoords(m.radius,m.phi,m.theta)}setFromSphericalCoords(m,x,z){const k=Math.sin(x)*m;this.x=k*Math.sin(z);this.y=Math.cos(x)*m;this.z=k*Math.cos(z);return this}setFromCylindrical(m){return this.setFromCylindricalCoords(m.radius,m.theta,m.y)}setFromCylindricalCoords(m,x,z){this.x=m*Math.sin(x);this.y=z;this.z=m*Math.cos(x);return this}setFromMatrixPosition(m){m=
m.elements;this.x=m[12];this.y=m[13];this.z=m[14];return this}setFromMatrixScale(m){const x=this.setFromMatrixColumn(m,0).length(),z=this.setFromMatrixColumn(m,1).length();m=this.setFromMatrixColumn(m,2).length();this.x=x;this.y=z;this.z=m;return this}setFromMatrixColumn(m,x){return this.fromArray(m.elements,4*x)}setFromMatrix3Column(m,x){return this.fromArray(m.elements,3*x)}setFromEuler(m){this.x=m._x;this.y=m._y;this.z=m._z;return this}equals(m){return m.x===this.x&&m.y===this.y&&m.z===this.z}fromArray(m,
x=0){this.x=m[x];this.y=m[x+1];this.z=m[x+2];return this}toArray(m=[],x=0){m[x]=this.x;m[x+1]=this.y;m[x+2]=this.z;return m}fromBufferAttribute(m,x){this.x=m.getX(x);this.y=m.getY(x);this.z=m.getZ(x);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const m=2*(Math.random()-.5),x=Math.random()*Math.PI*2,z=Math.sqrt(1-m**2);this.x=z*Math.cos(x);this.y=z*Math.sin(x);this.z=m;return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z}}
I.Vector3=r;const w=new r,h=new ra.Quaternion};
shadow$provide[516]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Vector4=void 0;class A{constructor(J=0,r=0,w=0,h=1){A.prototype.isVector4=!0;this.x=J;this.y=r;this.z=w;this.w=h}get width(){return this.z}set width(J){this.z=J}get height(){return this.w}set height(J){this.w=J}set(J,r,w,h){this.x=J;this.y=r;this.z=w;this.w=h;return this}setScalar(J){this.w=this.z=this.y=this.x=J;return this}setX(J){this.x=J;return this}setY(J){this.y=J;return this}setZ(J){this.z=J;return this}setW(J){this.w=
J;return this}setComponent(J,r){switch(J){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw Error("index is out of range: "+J);}return this}getComponent(J){switch(J){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+J);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(J){this.x=J.x;this.y=J.y;this.z=J.z;this.w=void 0!==J.w?J.w:1;return this}add(J){this.x+=
J.x;this.y+=J.y;this.z+=J.z;this.w+=J.w;return this}addScalar(J){this.x+=J;this.y+=J;this.z+=J;this.w+=J;return this}addVectors(J,r){this.x=J.x+r.x;this.y=J.y+r.y;this.z=J.z+r.z;this.w=J.w+r.w;return this}addScaledVector(J,r){this.x+=J.x*r;this.y+=J.y*r;this.z+=J.z*r;this.w+=J.w*r;return this}sub(J){this.x-=J.x;this.y-=J.y;this.z-=J.z;this.w-=J.w;return this}subScalar(J){this.x-=J;this.y-=J;this.z-=J;this.w-=J;return this}subVectors(J,r){this.x=J.x-r.x;this.y=J.y-r.y;this.z=J.z-r.z;this.w=J.w-r.w;
return this}multiply(J){this.x*=J.x;this.y*=J.y;this.z*=J.z;this.w*=J.w;return this}multiplyScalar(J){this.x*=J;this.y*=J;this.z*=J;this.w*=J;return this}applyMatrix4(J){const r=this.x,w=this.y,h=this.z,m=this.w;J=J.elements;this.x=J[0]*r+J[4]*w+J[8]*h+J[12]*m;this.y=J[1]*r+J[5]*w+J[9]*h+J[13]*m;this.z=J[2]*r+J[6]*w+J[10]*h+J[14]*m;this.w=J[3]*r+J[7]*w+J[11]*h+J[15]*m;return this}divideScalar(J){return this.multiplyScalar(1/J)}setAxisAngleFromQuaternion(J){this.w=2*Math.acos(J.w);const r=Math.sqrt(1-
J.w*J.w);1E-4>r?(this.x=1,this.z=this.y=0):(this.x=J.x/r,this.y=J.y/r,this.z=J.z/r);return this}setAxisAngleFromRotationMatrix(J){J=J.elements;var r=J[0];var w=J[4];var h=J[8];const m=J[1];var x=J[5],z=J[9];var k=J[2];var p=J[6];var B=J[10];if(.01>Math.abs(w-m)&&.01>Math.abs(h-k)&&.01>Math.abs(z-p)){if(.1>Math.abs(w+m)&&.1>Math.abs(h+k)&&.1>Math.abs(z+p)&&.1>Math.abs(r+x+B-3))return this.set(1,0,0,0),this;J=Math.PI;r=(r+1)/2;x=(x+1)/2;B=(B+1)/2;w=(w+m)/4;h=(h+k)/4;z=(z+p)/4;r>x&&r>B?.01>r?(p=0,w=
k=.707106781):(p=Math.sqrt(r),k=w/p,w=h/p):x>B?.01>x?(p=.707106781,k=0,w=.707106781):(k=Math.sqrt(x),p=w/k,w=z/k):.01>B?(k=p=.707106781,w=0):(w=Math.sqrt(B),p=h/w,k=z/w);this.set(p,k,w,J);return this}J=Math.sqrt((p-z)*(p-z)+(h-k)*(h-k)+(m-w)*(m-w));.001>Math.abs(J)&&(J=1);this.x=(p-z)/J;this.y=(h-k)/J;this.z=(m-w)/J;this.w=Math.acos((r+x+B-1)/2);return this}min(J){this.x=Math.min(this.x,J.x);this.y=Math.min(this.y,J.y);this.z=Math.min(this.z,J.z);this.w=Math.min(this.w,J.w);return this}max(J){this.x=
Math.max(this.x,J.x);this.y=Math.max(this.y,J.y);this.z=Math.max(this.z,J.z);this.w=Math.max(this.w,J.w);return this}clamp(J,r){this.x=Math.max(J.x,Math.min(r.x,this.x));this.y=Math.max(J.y,Math.min(r.y,this.y));this.z=Math.max(J.z,Math.min(r.z,this.z));this.w=Math.max(J.w,Math.min(r.w,this.w));return this}clampScalar(J,r){this.x=Math.max(J,Math.min(r,this.x));this.y=Math.max(J,Math.min(r,this.y));this.z=Math.max(J,Math.min(r,this.z));this.w=Math.max(J,Math.min(r,this.w));return this}clampLength(J,
r){const w=this.length();return this.divideScalar(w||1).multiplyScalar(Math.max(J,Math.min(r,w)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):
Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(J){return this.x*J.x+this.y*J.y+this.z*J.z+this.w*J.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(J){return this.normalize().multiplyScalar(J)}lerp(J,r){this.x+=(J.x-this.x)*r;this.y+=(J.y-this.y)*r;this.z+=(J.z-this.z)*r;this.w+=(J.w-this.w)*r;return this}lerpVectors(J,r,w){this.x=J.x+(r.x-J.x)*w;this.y=J.y+(r.y-J.y)*w;this.z=J.z+(r.z-J.z)*w;this.w=J.w+(r.w-J.w)*w;return this}equals(J){return J.x===this.x&&J.y===this.y&&J.z===this.z&&J.w===this.w}fromArray(J,r=0){this.x=J[r];this.y=
J[r+1];this.z=J[r+2];this.w=J[r+3];return this}toArray(J=[],r=0){J[r]=this.x;J[r+1]=this.y;J[r+2]=this.z;J[r+3]=this.w;return J}fromBufferAttribute(J,r){this.x=J.getX(r);this.y=J.getY(r);this.z=J.getZ(r);this.w=J.getW(r);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}I.Vector4=A};
shadow$provide[517]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Matrix3=void 0;class A{constructor(){A.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1]}set(r,w,h,m,x,z,k,p,B){const t=this.elements;t[0]=r;t[1]=m;t[2]=k;t[3]=w;t[4]=x;t[5]=p;t[6]=h;t[7]=z;t[8]=B;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}copy(r){const w=this.elements;r=r.elements;w[0]=r[0];w[1]=r[1];w[2]=r[2];w[3]=r[3];w[4]=r[4];w[5]=r[5];w[6]=r[6];w[7]=r[7];w[8]=r[8];return this}extractBasis(r,
w,h){r.setFromMatrix3Column(this,0);w.setFromMatrix3Column(this,1);h.setFromMatrix3Column(this,2);return this}setFromMatrix4(r){r=r.elements;this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]);return this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,w){var h=r.elements,m=w.elements;w=this.elements;r=h[0];const x=h[3],z=h[6],k=h[1],p=h[4],B=h[7],t=h[2],u=h[5];h=h[8];const C=m[0],F=m[3],M=m[6],T=m[1],N=m[4],W=m[7],ka=m[2],
Y=m[5];m=m[8];w[0]=r*C+x*T+z*ka;w[3]=r*F+x*N+z*Y;w[6]=r*M+x*W+z*m;w[1]=k*C+p*T+B*ka;w[4]=k*F+p*N+B*Y;w[7]=k*M+p*W+B*m;w[2]=t*C+u*T+h*ka;w[5]=t*F+u*N+h*Y;w[8]=t*M+u*W+h*m;return this}multiplyScalar(r){const w=this.elements;w[0]*=r;w[3]*=r;w[6]*=r;w[1]*=r;w[4]*=r;w[7]*=r;w[2]*=r;w[5]*=r;w[8]*=r;return this}determinant(){var r=this.elements;const w=r[0],h=r[1],m=r[2],x=r[3],z=r[4],k=r[5],p=r[6],B=r[7];r=r[8];return w*z*r-w*k*B-h*x*r+h*k*p+m*x*B-m*z*p}invert(){const r=this.elements,w=r[0],h=r[1],m=r[2],
x=r[3],z=r[4],k=r[5],p=r[6],B=r[7],t=r[8],u=t*z-k*B,C=k*p-t*x,F=B*x-z*p;var M=w*u+h*C+m*F;if(0===M)return this.set(0,0,0,0,0,0,0,0,0);M=1/M;r[0]=u*M;r[1]=(m*B-t*h)*M;r[2]=(k*h-m*z)*M;r[3]=C*M;r[4]=(t*w-m*p)*M;r[5]=(m*x-k*w)*M;r[6]=F*M;r[7]=(h*p-B*w)*M;r[8]=(z*w-h*x)*M;return this}transpose(){let r;const w=this.elements;r=w[1];w[1]=w[3];w[3]=r;r=w[2];w[2]=w[6];w[6]=r;r=w[5];w[5]=w[7];w[7]=r;return this}getNormalMatrix(r){return this.setFromMatrix4(r).invert().transpose()}transposeIntoArray(r){const w=
this.elements;r[0]=w[0];r[1]=w[3];r[2]=w[6];r[3]=w[1];r[4]=w[4];r[5]=w[7];r[6]=w[2];r[7]=w[5];r[8]=w[8];return this}setUvTransform(r,w,h,m,x,z,k){const p=Math.cos(x);x=Math.sin(x);this.set(h*p,h*x,-h*(p*z+x*k)+z+r,-m*x,m*p,-m*(-x*z+p*k)+k+w,0,0,1);return this}scale(r,w){this.premultiply(J.makeScale(r,w));return this}rotate(r){this.premultiply(J.makeRotation(-r));return this}translate(r,w){this.premultiply(J.makeTranslation(r,w));return this}makeTranslation(r,w){this.set(1,0,r,0,1,w,0,0,1);return this}makeRotation(r){const w=
Math.cos(r);r=Math.sin(r);this.set(w,-r,0,r,w,0,0,0,1);return this}makeScale(r,w){this.set(r,0,0,0,w,0,0,0,1);return this}equals(r){const w=this.elements;r=r.elements;for(let h=0;9>h;h++)if(w[h]!==r[h])return!1;return!0}fromArray(r,w=0){for(let h=0;9>h;h++)this.elements[h]=r[h+w];return this}toArray(r=[],w=0){const h=this.elements;r[w]=h[0];r[w+1]=h[1];r[w+2]=h[2];r[w+3]=h[3];r[w+4]=h[4];r[w+5]=h[5];r[w+6]=h[6];r[w+7]=h[7];r[w+8]=h[8];return r}clone(){return(new this.constructor).fromArray(this.elements)}}
I.Matrix3=A;const J=new A};
shadow$provide[518]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Matrix4=void 0;ra=P(515);class A{constructor(){A.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(k,p,B,t,u,C,F,M,T,N,W,ka,Y,H,qa,Ca){const La=this.elements;La[0]=k;La[4]=p;La[8]=B;La[12]=t;La[1]=u;La[5]=C;La[9]=F;La[13]=M;La[2]=T;La[6]=N;La[10]=W;La[14]=ka;La[3]=Y;La[7]=H;La[11]=qa;La[15]=Ca;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new A).fromArray(this.elements)}copy(k){const p=
this.elements;k=k.elements;p[0]=k[0];p[1]=k[1];p[2]=k[2];p[3]=k[3];p[4]=k[4];p[5]=k[5];p[6]=k[6];p[7]=k[7];p[8]=k[8];p[9]=k[9];p[10]=k[10];p[11]=k[11];p[12]=k[12];p[13]=k[13];p[14]=k[14];p[15]=k[15];return this}copyPosition(k){const p=this.elements;k=k.elements;p[12]=k[12];p[13]=k[13];p[14]=k[14];return this}setFromMatrix3(k){k=k.elements;this.set(k[0],k[3],k[6],0,k[1],k[4],k[7],0,k[2],k[5],k[8],0,0,0,0,1);return this}extractBasis(k,p,B){k.setFromMatrixColumn(this,0);p.setFromMatrixColumn(this,1);
B.setFromMatrixColumn(this,2);return this}makeBasis(k,p,B){this.set(k.x,p.x,B.x,0,k.y,p.y,B.y,0,k.z,p.z,B.z,0,0,0,0,1);return this}extractRotation(k){const p=this.elements,B=k.elements,t=1/J.setFromMatrixColumn(k,0).length(),u=1/J.setFromMatrixColumn(k,1).length();k=1/J.setFromMatrixColumn(k,2).length();p[0]=B[0]*t;p[1]=B[1]*t;p[2]=B[2]*t;p[3]=0;p[4]=B[4]*u;p[5]=B[5]*u;p[6]=B[6]*u;p[7]=0;p[8]=B[8]*k;p[9]=B[9]*k;p[10]=B[10]*k;p[11]=0;p[12]=0;p[13]=0;p[14]=0;p[15]=1;return this}makeRotationFromEuler(k){const p=
this.elements;var B=k.x,t=k.y,u=k.z;const C=Math.cos(B);B=Math.sin(B);const F=Math.cos(t);t=Math.sin(t);const M=Math.cos(u);u=Math.sin(u);if("XYZ"===k.order){k=C*M;var T=C*u,N=B*M,W=B*u;p[0]=F*M;p[4]=-F*u;p[8]=t;p[1]=T+N*t;p[5]=k-W*t;p[9]=-B*F;p[2]=W-k*t;p[6]=N+T*t;p[10]=C*F}else"YXZ"===k.order?(k=F*M,T=F*u,N=t*M,W=t*u,p[0]=k+W*B,p[4]=N*B-T,p[8]=C*t,p[1]=C*u,p[5]=C*M,p[9]=-B,p[2]=T*B-N,p[6]=W+k*B,p[10]=C*F):"ZXY"===k.order?(k=F*M,T=F*u,N=t*M,W=t*u,p[0]=k-W*B,p[4]=-C*u,p[8]=N+T*B,p[1]=T+N*B,p[5]=C*
M,p[9]=W-k*B,p[2]=-C*t,p[6]=B,p[10]=C*F):"ZYX"===k.order?(k=C*M,T=C*u,N=B*M,W=B*u,p[0]=F*M,p[4]=N*t-T,p[8]=k*t+W,p[1]=F*u,p[5]=W*t+k,p[9]=T*t-N,p[2]=-t,p[6]=B*F,p[10]=C*F):"YZX"===k.order?(k=C*F,T=C*t,N=B*F,W=B*t,p[0]=F*M,p[4]=W-k*u,p[8]=N*u+T,p[1]=u,p[5]=C*M,p[9]=-B*M,p[2]=-t*M,p[6]=T*u+N,p[10]=k-W*u):"XZY"===k.order&&(k=C*F,T=C*t,N=B*F,W=B*t,p[0]=F*M,p[4]=-u,p[8]=t*M,p[1]=k*u+W,p[5]=C*M,p[9]=T*u-N,p[2]=N*u-T,p[6]=B*M,p[10]=W*u+k);p[3]=0;p[7]=0;p[11]=0;p[12]=0;p[13]=0;p[14]=0;p[15]=1;return this}makeRotationFromQuaternion(k){return this.compose(w,
k,h)}lookAt(k,p,B){const t=this.elements;z.subVectors(k,p);0===z.lengthSq()&&(z.z=1);z.normalize();m.crossVectors(B,z);0===m.lengthSq()&&(1===Math.abs(B.z)?z.x+=1E-4:z.z+=1E-4,z.normalize(),m.crossVectors(B,z));m.normalize();x.crossVectors(z,m);t[0]=m.x;t[4]=x.x;t[8]=z.x;t[1]=m.y;t[5]=x.y;t[9]=z.y;t[2]=m.z;t[6]=x.z;t[10]=z.z;return this}multiply(k){return this.multiplyMatrices(this,k)}premultiply(k){return this.multiplyMatrices(k,this)}multiplyMatrices(k,p){var B=k.elements,t=p.elements;p=this.elements;
k=B[0];const u=B[4],C=B[8],F=B[12],M=B[1],T=B[5],N=B[9],W=B[13],ka=B[2],Y=B[6],H=B[10],qa=B[14],Ca=B[3],La=B[7],Oa=B[11];B=B[15];const ea=t[0],kb=t[4],zb=t[8],Va=t[12],Pa=t[1],ja=t[5],jb=t[9],Ya=t[13],Ma=t[2],na=t[6],ub=t[10],Bb=t[14],ab=t[3],Ab=t[7],q=t[11];t=t[15];p[0]=k*ea+u*Pa+C*Ma+F*ab;p[4]=k*kb+u*ja+C*na+F*Ab;p[8]=k*zb+u*jb+C*ub+F*q;p[12]=k*Va+u*Ya+C*Bb+F*t;p[1]=M*ea+T*Pa+N*Ma+W*ab;p[5]=M*kb+T*ja+N*na+W*Ab;p[9]=M*zb+T*jb+N*ub+W*q;p[13]=M*Va+T*Ya+N*Bb+W*t;p[2]=ka*ea+Y*Pa+H*Ma+qa*ab;p[6]=ka*kb+
Y*ja+H*na+qa*Ab;p[10]=ka*zb+Y*jb+H*ub+qa*q;p[14]=ka*Va+Y*Ya+H*Bb+qa*t;p[3]=Ca*ea+La*Pa+Oa*Ma+B*ab;p[7]=Ca*kb+La*ja+Oa*na+B*Ab;p[11]=Ca*zb+La*jb+Oa*ub+B*q;p[15]=Ca*Va+La*Ya+Oa*Bb+B*t;return this}multiplyScalar(k){const p=this.elements;p[0]*=k;p[4]*=k;p[8]*=k;p[12]*=k;p[1]*=k;p[5]*=k;p[9]*=k;p[13]*=k;p[2]*=k;p[6]*=k;p[10]*=k;p[14]*=k;p[3]*=k;p[7]*=k;p[11]*=k;p[15]*=k;return this}determinant(){const k=this.elements,p=k[0],B=k[4],t=k[8],u=k[12],C=k[1],F=k[5],M=k[9],T=k[13],N=k[2],W=k[6],ka=k[10],Y=k[14];
return k[3]*(+u*M*W-t*T*W-u*F*ka+B*T*ka+t*F*Y-B*M*Y)+k[7]*(+p*M*Y-p*T*ka+u*C*ka-t*C*Y+t*T*N-u*M*N)+k[11]*(+p*T*W-p*F*Y-u*C*W+B*C*Y+u*F*N-B*T*N)+k[15]*(-t*F*N-p*M*W+p*F*ka+t*C*W-B*C*ka+B*M*N)}transpose(){const k=this.elements;let p;p=k[1];k[1]=k[4];k[4]=p;p=k[2];k[2]=k[8];k[8]=p;p=k[6];k[6]=k[9];k[9]=p;p=k[3];k[3]=k[12];k[12]=p;p=k[7];k[7]=k[13];k[13]=p;p=k[11];k[11]=k[14];k[14]=p;return this}setPosition(k,p,B){const t=this.elements;k.isVector3?(t[12]=k.x,t[13]=k.y,t[14]=k.z):(t[12]=k,t[13]=p,t[14]=
B);return this}invert(){const k=this.elements,p=k[0],B=k[1],t=k[2],u=k[3],C=k[4],F=k[5],M=k[6],T=k[7],N=k[8],W=k[9],ka=k[10],Y=k[11],H=k[12],qa=k[13],Ca=k[14],La=k[15],Oa=W*Ca*T-qa*ka*T+qa*M*Y-F*Ca*Y-W*M*La+F*ka*La,ea=H*ka*T-N*Ca*T-H*M*Y+C*Ca*Y+N*M*La-C*ka*La,kb=N*qa*T-H*W*T+H*F*Y-C*qa*Y-N*F*La+C*W*La,zb=H*W*M-N*qa*M-H*F*ka+C*qa*ka+N*F*Ca-C*W*Ca;var Va=p*Oa+B*ea+t*kb+u*zb;if(0===Va)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);Va=1/Va;k[0]=Oa*Va;k[1]=(qa*ka*u-W*Ca*u-qa*t*Y+B*Ca*Y+W*t*La-B*ka*La)*
Va;k[2]=(F*Ca*u-qa*M*u+qa*t*T-B*Ca*T-F*t*La+B*M*La)*Va;k[3]=(W*M*u-F*ka*u-W*t*T+B*ka*T+F*t*Y-B*M*Y)*Va;k[4]=ea*Va;k[5]=(N*Ca*u-H*ka*u+H*t*Y-p*Ca*Y-N*t*La+p*ka*La)*Va;k[6]=(H*M*u-C*Ca*u-H*t*T+p*Ca*T+C*t*La-p*M*La)*Va;k[7]=(C*ka*u-N*M*u+N*t*T-p*ka*T-C*t*Y+p*M*Y)*Va;k[8]=kb*Va;k[9]=(H*W*u-N*qa*u-H*B*Y+p*qa*Y+N*B*La-p*W*La)*Va;k[10]=(C*qa*u-H*F*u+H*B*T-p*qa*T-C*B*La+p*F*La)*Va;k[11]=(N*F*u-C*W*u-N*B*T+p*W*T+C*B*Y-p*F*Y)*Va;k[12]=zb*Va;k[13]=(N*qa*t-H*W*t+H*B*ka-p*qa*ka-N*B*Ca+p*W*Ca)*Va;k[14]=(H*F*t-
C*qa*t-H*B*M+p*qa*M+C*B*Ca-p*F*Ca)*Va;k[15]=(C*W*t-N*F*t+N*B*M-p*W*M-C*B*ka+p*F*ka)*Va;return this}scale(k){const p=this.elements,B=k.x,t=k.y;k=k.z;p[0]*=B;p[4]*=t;p[8]*=k;p[1]*=B;p[5]*=t;p[9]*=k;p[2]*=B;p[6]*=t;p[10]*=k;p[3]*=B;p[7]*=t;p[11]*=k;return this}getMaxScaleOnAxis(){const k=this.elements;return Math.sqrt(Math.max(k[0]*k[0]+k[1]*k[1]+k[2]*k[2],k[4]*k[4]+k[5]*k[5]+k[6]*k[6],k[8]*k[8]+k[9]*k[9]+k[10]*k[10]))}makeTranslation(k,p,B){this.set(1,0,0,k,0,1,0,p,0,0,1,B,0,0,0,1);return this}makeRotationX(k){const p=
Math.cos(k);k=Math.sin(k);this.set(1,0,0,0,0,p,-k,0,0,k,p,0,0,0,0,1);return this}makeRotationY(k){const p=Math.cos(k);k=Math.sin(k);this.set(p,0,k,0,0,1,0,0,-k,0,p,0,0,0,0,1);return this}makeRotationZ(k){const p=Math.cos(k);k=Math.sin(k);this.set(p,-k,0,0,k,p,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(k,p){const B=Math.cos(p);p=Math.sin(p);const t=1-B,u=k.x,C=k.y;k=k.z;const F=t*u,M=t*C;this.set(F*u+B,F*C-p*k,F*k+p*C,0,F*C+p*k,M*C+B,M*k-p*u,0,F*k-p*C,M*k+p*u,t*k*k+B,0,0,0,0,1);return this}makeScale(k,
p,B){this.set(k,0,0,0,0,p,0,0,0,0,B,0,0,0,0,1);return this}makeShear(k,p,B,t,u,C){this.set(1,B,u,0,k,1,C,0,p,t,1,0,0,0,0,1);return this}compose(k,p,B){const t=this.elements;var u=p._x,C=p._y,F=p._z,M=p._w,T=u+u,N=C+C,W=F+F;p=u*T;const ka=u*N;u*=W;const Y=C*N;C*=W;F*=W;T*=M;N*=M;M*=W;W=B.x;const H=B.y;B=B.z;t[0]=(1-(Y+F))*W;t[1]=(ka+M)*W;t[2]=(u-N)*W;t[3]=0;t[4]=(ka-M)*H;t[5]=(1-(p+F))*H;t[6]=(C+T)*H;t[7]=0;t[8]=(u+N)*B;t[9]=(C-T)*B;t[10]=(1-(p+Y))*B;t[11]=0;t[12]=k.x;t[13]=k.y;t[14]=k.z;t[15]=1;return this}decompose(k,
p,B){var t=this.elements;let u=J.set(t[0],t[1],t[2]).length();const C=J.set(t[4],t[5],t[6]).length(),F=J.set(t[8],t[9],t[10]).length();0>this.determinant()&&(u=-u);k.x=t[12];k.y=t[13];k.z=t[14];r.copy(this);k=1/u;t=1/C;const M=1/F;r.elements[0]*=k;r.elements[1]*=k;r.elements[2]*=k;r.elements[4]*=t;r.elements[5]*=t;r.elements[6]*=t;r.elements[8]*=M;r.elements[9]*=M;r.elements[10]*=M;p.setFromRotationMatrix(r);B.x=u;B.y=C;B.z=F;return this}makePerspective(k,p,B,t,u,C){const F=this.elements;F[0]=2*u/
(p-k);F[4]=0;F[8]=(p+k)/(p-k);F[12]=0;F[1]=0;F[5]=2*u/(B-t);F[9]=(B+t)/(B-t);F[13]=0;F[2]=0;F[6]=0;F[10]=-(C+u)/(C-u);F[14]=-2*C*u/(C-u);F[3]=0;F[7]=0;F[11]=-1;F[15]=0;return this}makeOrthographic(k,p,B,t,u,C){const F=this.elements,M=1/(p-k),T=1/(B-t),N=1/(C-u);F[0]=2*M;F[4]=0;F[8]=0;F[12]=-((p+k)*M);F[1]=0;F[5]=2*T;F[9]=0;F[13]=-((B+t)*T);F[2]=0;F[6]=0;F[10]=-2*N;F[14]=-((C+u)*N);F[3]=0;F[7]=0;F[11]=0;F[15]=1;return this}equals(k){const p=this.elements;k=k.elements;for(let B=0;16>B;B++)if(p[B]!==
k[B])return!1;return!0}fromArray(k,p=0){for(let B=0;16>B;B++)this.elements[B]=k[B+p];return this}toArray(k=[],p=0){const B=this.elements;k[p]=B[0];k[p+1]=B[1];k[p+2]=B[2];k[p+3]=B[3];k[p+4]=B[4];k[p+5]=B[5];k[p+6]=B[6];k[p+7]=B[7];k[p+8]=B[8];k[p+9]=B[9];k[p+10]=B[10];k[p+11]=B[11];k[p+12]=B[12];k[p+13]=B[13];k[p+14]=B[14];k[p+15]=B[15];return k}}I.Matrix4=A;const J=new ra.Vector3,r=new A,w=new ra.Vector3(0,0,0),h=new ra.Vector3(1,1,1),m=new ra.Vector3,x=new ra.Vector3,z=new ra.Vector3};
shadow$provide[519]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.decl=void 0;ra=P(512);db=P(515);var A=P(516),J=P(517);P=P(518);const r={};I.decl=r;r.in=0;r.out=1;r.inout=2;r.node=function(x){if("function"===(null!=x.children[5]?x.children[5].type:void 0))return r.function(x);if("keyword"===(null!=x.token?x.token.type:void 0))return r.external(x)};r.external=function(x){x=x.children;let z=x[1].token.data;const k=x[4].token.data,p=x[5];["attribute","uniform","varying"].includes(z)||
(z="global");const B=[];for(let u=0;u<p.children.length;u++)if(x=p.children[u],"ident"===x.type){var t=p.children[u+1];t="quantifier"===(null!=t?t.type:void 0);B.push({decl:"external",storage:z,type:k,ident:x.token.data,quant:!!t,count:t})}return B};r.function=function(x){var z=x.children;x=z[1].token.data;const k=z[4].token.data;var p=z[5];z=p.children[0].token.data;const B=p.children[2];p=Array.from(p.children[1].children).map(t=>r.argument(t));return[{decl:"function",storage:x,type:k,ident:z,body:!!B,
args:p}]};r.argument=function(x){x=x.children;const z=x[5],k=z.children[1];return{decl:"argument",storage:x[1].token.data,inout:x[2].token.data,type:x[4].token.data,ident:z.children[0].token.data,quant:!!k,count:k?k.children[0].token.data:void 0}};r.param=function(x,z,k,p,B){let t=[];null!=z&&t.push(z);null!=k&&t.push(k);t.push("");t=t.join(" ");const u=p?"["+B+"]":"";""!==x&&(x+=" ");const C=(F,M)=>(M?x:"")+`${t}${F}${u}`;C.split=F=>r.param(F,z,k,p,B);return C};I="undefined"!==typeof window&&!!window.THREE;
const w={int:0,float:0,vec2:I?ra.Vector2:null,vec3:I?db.Vector3:null,vec4:I?A.Vector4:null,mat2:null,mat3:I?J.Matrix3:null,mat4:I?P.Matrix4:null,sampler2D:0,samplerCube:0},h={int:"i",float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat2:"m2",mat3:"m3",mat4:"m4",sampler2D:"t",samplerCube:"t"};r.type=function(x,z,k,p,B,t){var u={in:r.in,out:r.out,inout:r.inout};let C=h[z];k&&(C+="v");let F=w[z];null!=F&&F.call&&(F=new F);k&&(F=[F]);u=null!=u[B]?u[B]:u.in;t={const:"const"}[t];k=r.param(B,t,z,k,p);return new m(x,
C,z,k,F,u)};class m{constructor(x,z,k,p,B,t,u){this.name=x;this.type=z;this.spec=k;this.param=p;this.value=B;this.inout=t;this.meta=u}split(){var x=null!=this.meta.shadowed;const z=x?r.in:r.out;x=this.param.split(x?"in":"out");return new m(this.name,this.type,this.spec,x,this.value,z)}copy(x,z){return new m(null!=x?x:this.name,this.type,this.spec,this.param,this.value,this.inout,z)}}};
shadow$provide[520]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.SHADOW_ARG="_i_o";I.RETURN_ARG="return"};
shadow$provide[521]=function(ra,P,db,I){function A(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(I,"__esModule",{value:!0});I.walk=I.parse=void 0;var J=A(P(507)),r=A(P(511)),w=P(519),h=P(520);let m=!1;I.parse=function(C,F){C=x(C,F);let M;m&&(M=u());var T=[];t(z,k(T),C,"");const [N,W,ka]=Array.from(p(T));T=B(N,W,ka);m&&M("GLSL AST");return{ast:C,code:F,signatures:T}};const x=function(C,F){let M;var T;let N=[];m&&(T=u());try{const W=(0,J.default)(F);M=(0,r.default)(W)}catch(W){N=[{message:W}]}m&&
T("GLSL Tokenize \x26 Parse");T=function(W){W=W.split("\n");const ka=(""+W.length).length;return W.map((Y,H)=>{var qa=H+1;H=(qa=""+qa).length<ka?("       "+qa).slice(-ka):qa;return`${H}: ${Y}`}).join("\n")};if(!M||N.length){C||(C="(inline code)");console.warn(T(F));for(const W of N)console.error(`${C} -`,W.message);throw Error("GLSL parse error");}return M},z=function(C,F){switch(C.type){case "decl":return F(w.decl.node(C)),!1}return!0},k=C=>function(F){null!=F&&Array.from(F).map(M=>C.push(M))},p=
function(C){let F=null;const M=[];let T=[];const N={};let W=!1;for(const ka of Array.from(C))ka.body?(N[ka.ident]&&(T=Array.from(T).filter(Y=>Y.ident!==ka.ident),delete N[ka.ident]),M.push(ka),"main"===ka.ident?(F=ka,W=!0):W||(F=ka)):"global"===ka.storage?M.push(ka):(T.push(ka),N[ka.ident]=!0);return[F,M,T]},B=function(C,F,M){let T;const N={uniform:[],attribute:[],varying:[],external:[],internal:[],global:[],main:null},W=function(ka,Y){let H;const qa=Array.from(ka.args).map(Oa=>w.decl.type(Oa.ident,
Oa.type,Oa.quant,Oa.count,Oa.inout,Oa.storage));for(H of Array.from(qa))if(H.inout===w.decl.inout){var Ca=H,La=H.copy();Ca.inout=w.decl.in;La.inout=w.decl.out;La.meta={shadow:Ca.name};La.name+=h.SHADOW_ARG;Ca.meta={shadowed:La.name};qa.push(La)}"void"!==ka.type&&qa.unshift(w.decl.type(h.RETURN_ARG,ka.type,!1,"","out"));Ca=(()=>{const Oa=[];for(H of Array.from(qa))H.inout===w.decl.in&&Oa.push(H.type);return Oa})().join(",");La=(()=>{const Oa=[];for(H of Array.from(qa))H.inout===w.decl.out&&Oa.push(H.type);
return Oa})().join(",");return{name:ka.ident,type:`(${Ca})(${La})`,signature:qa,inout:Y,spec:ka.type}};N.main=W(C,w.decl.out);for(T of Array.from(F))N.internal.push({name:T.ident});for(T of Array.from(M))switch(T.decl){case "external":C=w.decl.type(T.ident,T.type,T.quant,T.count,T.inout,T.storage);N[T.storage].push(C);break;case "function":C=W(T,w.decl.in),N.external.push(C)}return N};m=!1;const t=function(C,F,M,T){m&&console.log(T,M.type,null!=M.token?M.token.data:void 0,null!=M.token?M.token.type:
void 0);if(C(M,F))for(let N=0;N<M.children.length;N++)t(C,F,M.children[N],T+"  ",m);return null};I.walk=t;const u=function(){const C=+new Date;return function(F){const M=+new Date-C;console.log(F,M+" ms");return M}}};
shadow$provide[522]=function(ra,P,db,I){function A(M){if("function"!==typeof WeakMap)return null;var T=new WeakMap,N=new WeakMap;return(A=function(W){return W?N:T})(M)}function J(M,T){if(!T&&M&&M.__esModule)return M;if(null===M||"object"!==typeof M&&"function"!==typeof M)return{default:M};if((T=A(T))&&T.has(M))return T.get(M);var N={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor,ka;for(ka in M)if("default"!==ka&&Object.prototype.hasOwnProperty.call(M,ka)){var Y=W?Object.getOwnPropertyDescriptor(M,
ka):null;Y&&(Y.get||Y.set)?Object.defineProperty(N,ka,Y):N[ka]=M[ka]}N.default=M;T&&T.set(M,N);return N}function r(M){return M.join("\n")}function w(M){return M.join(", ")}function h(M){return M.join(";\n")}function m(M){return{entry:M,type:"void",params:[],signature:[],return:"",vars:{},calls:[],post:[],chain:{}}}function x(M,T){return`#define ${M} ${T}`}function z(M,T,N,W,ka){return`${M} ${T}(${N}) {\n${W}${ka}}`}function k(M,T,N){M=M?`${M} = `:"";N=w(N);return`  ${M}${T}(${N})`}function p(M,T){for(let N=
0;N<M.length;N++){const W=M[N],ka=T[N];if(!ka||W.type!==ka.type||W.name===C.RETURN_ARG!==(ka.name===C.RETURN_ARG))return!1}return!0}function B(M,T,N,W,ka){const Y=[];let H="";for(let Ca of Array.from(W)){var qa=void 0;const {name:La}=Ca;let Oa=W=M(La),ea=null,kb=null,zb=!1;const Va=La===C.RETURN_ARG;if(qa=null!=Ca.meta?Ca.meta.shadowed:void 0)if(ea=M(qa))ka.vars[ea]="  "+Ca.param(ea),ka.calls.push(`  ${ea} = ${W}`),T(qa)?kb={shadowed:ea}:Ca=Ca.split();if(qa=null!=Ca.meta?Ca.meta.shadow:void 0)if(ea=
M(qa))if(T(qa))continue;else Ca=Ca.split(),zb=!0;Va?H=W:zb||Y.push(null!=ea?ea:W);T(La)?(qa="push",Va?""===ka.return?(qa="unshift",Oa=La,ka.type=Ca.spec,ka.return=`  return ${W}`,ka.vars[W]="  "+Ca.param(W)):(ka.vars[W]="  "+Ca.param(W),ka.params.push(Ca.param(W,!0))):ka.params.push(Ca.param(W,!0)),Ca=Ca.copy(Oa,kb),ka.signature[qa](Ca)):ka.vars[W]="  "+Ca.param(W)}return ka.calls.push(k(H,N,Y))}function t(M,T){const {entry:N}=M;var W=null;T&&1===T.length&&"main"!==N&&(T=T[0].module,p(M.signature,
T.main.signature)&&(W=x(N,T.entry)));if(null==W){T=[];for(var ka in M.vars)T.push(M.vars[ka]);ka=T;({calls:T}=M);({post:W}=M);let {params:Y}=M;const {type:H}=M,qa=M.return;T=T.concat(W);""!==qa&&T.push(qa);T.push("");ka.length?(ka.push(""),ka=h(ka)+"\n"):ka="";T=h(T);Y=w(Y);W=z(H,N,Y,ka,T)}return{signature:M.signature,code:W,name:N}}Object.defineProperty(I,"__esModule",{value:!0});I.unshadow=function(M){const T=M.replace(C.SHADOW_ARG,"");return T!==M?T:null};I.lines=r;I.list=w;I.statements=h;I.body=
m;I.define=x;I.fn=z;I.invoke=k;I.same=p;I.call=B;I.build=t;I.links=function(M){const T={defs:[],bodies:[]};for(const N of Array.from(M))F(N,T);T.defs=r(T.defs);T.bodies=h(T.bodies);""===T.defs&&delete T.defs;""===T.bodies&&delete T.bodies;return T};I.defuse=function(M){const T=/([A-Za-z0-9_]+\s+)?[A-Za-z0-9_]+\s+[A-Za-z0-9_]+\s*\([^)]*\)\s*;\s*/gm,N=H=>H.replace(T,qa=>"");M=M.split(/(?=[{}])/g);let W=0;for(let H=0;H<M.length;H++){var ka=M[H];switch(ka[0]){case "{":W++;break;case "}":W--}if(0===W){ka=
ka.split(/^[ \t]*#/m);for(let qa=0;qa<ka.length;qa++){var Y=ka[qa];if(0<qa){Y=Y.split(/\n/);const Ca=Y.shift();Y=Y.join("\n");ka[qa]=[Ca,N(Y)].join("\n")}else ka[qa]=N(Y)}M[H]=ka.join("#")}}return M=M.join("")};I.dedupe=function(M){const T={};return M.replace(/((attribute|uniform|varying)\s+)[A-Za-z0-9_]+\s+([A-Za-z0-9_]+)\s*(\[[^\]]*\]\s*)?;\s*/gm,function(N,W,ka,Y,H){if(T[Y])return"";T[Y]=!0;return N})};I.hoist=function(M){const T=function(N,W){const ka=[],Y=[];for(const H of Array.from(N))(H.match(W)?
ka:Y).push(H);return ka.concat(Y)};M=M.split("\n");M=T(M,/^#define ([^ ]+ _pg_[0-9]+_|_pg_[0-9]+_ [^ ]+)$/);M=T(M,/^#extension/);return M.join("\n")};I.link=void 0;var u=J(P(476)),C=J(P(520));const F=(M,T)=>{const {module:N,name:W,external:ka}=M;var {main:Y}=N;({entry:M}=N);if(p(Y.signature,ka.signature))return T.defs.push(x(W,M));var H=[],qa=[];let Ca={};const La=[N.namespace,C.RETURN_ARG].join("");for(ea of Array.from(ka.signature)){var Oa=ea.inout===u.IN?H:qa;Oa.push(ea)}for(ea of Array.from(Y.signature))Oa=
ea.inout===u.IN?H:qa,Oa=Oa.shift().name,Oa===C.RETURN_ARG&&(Oa=La),Ca[ea.name]=Oa;var ea=kb=>Ca[kb];H=()=>!0;qa=m();B(ea,H,M,Y.signature,qa);qa.entry=M;Ca={return:La};ea=kb=>null!=Ca[kb]?Ca[kb]:kb;Y=m();B(ea,H,M,ka.signature,Y);Y.calls=qa.calls;Y.entry=W;T.bodies.push(t(qa).code.split(" {")[0]);return T.bodies.push(t(Y).code)};I.link=F};
shadow$provide[523]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});var A=P(500);Object.keys(A).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in I&&I[h]===A[h]||Object.defineProperty(I,h,{enumerable:!0,get:function(){return A[h]}}))});var J=P(521);Object.keys(J).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in I&&I[h]===J[h]||Object.defineProperty(I,h,{enumerable:!0,get:function(){return J[h]}}))});var r=P(522);Object.keys(r).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in I&&I[h]===r[h]||Object.defineProperty(I,h,{enumerable:!0,get:function(){return r[h]}}))});var w=P(520);Object.keys(w).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in I&&I[h]===w[h]||Object.defineProperty(I,h,{enumerable:!0,get:function(){return w[h]}}))})};
shadow$provide[524]=function(ra,P,db,I){function A(u){if("function"!==typeof WeakMap)return null;var C=new WeakMap,F=new WeakMap;return(A=function(M){return M?F:C})(u)}function J(u,C){if(!C&&u&&u.__esModule)return u;if(null===u||"object"!==typeof u&&"function"!==typeof u)return{default:u};if((C=A(C))&&C.has(u))return C.get(u);var F={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor,T;for(T in u)if("default"!==T&&Object.prototype.hasOwnProperty.call(u,T)){var N=M?Object.getOwnPropertyDescriptor(u,
T):null;N&&(N.get||N.set)?Object.defineProperty(F,T,N):F[T]=u[T]}F.default=u;C&&C.set(u,F);return F}Object.defineProperty(I,"__esModule",{value:!0});I.load=function(u,C={}){return new t(u,C)};I.ShaderGraph=I.inspect=I.visualize=void 0;ra=P(489);var r=J(P(499)),w=J(P(523));db=J(P(476));var h=J(P(483));P=J(P(493));const {library:m,cache:x}=r,{visualize:z,inspect:k}=P;I.inspect=k;I.visualize=z;const {Snippet:p}=h,B=function(u,C={}){const F={};for(let M in u)F[M]=C[M]||u[M];return F};class t{constructor(u,
C){this.config=B({globalUniforms:!1,globalVaryings:!0,globalAttributes:!0,globals:[],autoInspect:!1},C);this.fetch=x(m(w,u,p.load))}shader(u){null==u&&(u={});u=B(this.config,u);return new r.Factory(w,this.fetch,u)}material(u){return new r.Material(this.shader(u),this.shader(u))}inspect(u){return t.inspect(u)}visualize(u){return t.visualize(u)}static inspect(u){return k(u)}static visualize(u){return z(u)}}I.ShaderGraph=t;t.Block=ra.Block;t.Factory=r;t.GLSL=w;t.Graph=db;t.Linker=h;t.Visualize=P};
shadow$provide[525]=function(ra,P,db,I){function A(r){if("function"!==typeof WeakMap)return null;var w=new WeakMap,h=new WeakMap;return(A=function(m){return m?h:w})(r)}Object.defineProperty(I,"__esModule",{value:!0});I.Factory=void 0;var J=function(r,w){if(!w&&r&&r.__esModule)return r;if(null===r||"object"!==typeof r&&"function"!==typeof r)return{default:r};if((w=A(w))&&w.has(r))return w.get(r);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in r)if("default"!==x&&Object.prototype.hasOwnProperty.call(r,
x)){var z=m?Object.getOwnPropertyDescriptor(r,x):null;z&&(z.get||z.set)?Object.defineProperty(h,x,z):h[x]=r[x]}h.default=r;w&&w.set(r,h);return h}(P(524));I.Factory=function(r){return J.load(function(w){var h=r[w];if(null!=h)return h;h=["#",".",":","["].includes(w[0]);h=document.querySelector(h?w:`#${w}`);if(null!=h&&"SCRIPT"===h.tagName)return h.textContent||h.innerText;throw Error(`Unknown shader \`${w}\``);},{autoInspect:!0})}};
shadow$provide[526]=function(ra,P,db,I){function A(sb){return sb&&sb.__esModule?sb:{default:sb}}Object.defineProperty(I,"__esModule",{value:!0});var J={Snippets:!0};I.Snippets=void 0;var r=A(P(361)),w=A(P(362)),h=A(P(363)),m=A(P(364)),x=A(P(365)),z=A(P(366)),k=A(P(367)),p=A(P(368)),B=A(P(369)),t=A(P(370)),u=A(P(371)),C=A(P(372)),F=A(P(373)),M=A(P(374)),T=A(P(375)),N=A(P(376)),W=A(P(377)),ka=A(P(378)),Y=A(P(379)),H=A(P(380)),qa=A(P(381)),Ca=A(P(382)),La=A(P(383)),Oa=A(P(384)),ea=A(P(385)),kb=A(P(386)),
zb=A(P(387)),Va=A(P(388)),Pa=A(P(389)),ja=A(P(390)),jb=A(P(391)),Ya=A(P(392)),Ma=A(P(393)),na=A(P(394)),ub=A(P(395)),Bb=A(P(396)),ab=A(P(397)),Ab=A(P(398)),q=A(P(399)),K=A(P(400)),aa=A(P(401)),Ea=A(P(402)),oa=A(P(403)),za=A(P(404)),Ka=A(P(405)),fb=A(P(406)),fa=A(P(407)),X=A(P(408)),Da=A(P(409)),Aa=A(P(410)),bb=A(P(411)),wa=A(P(412)),gb=A(P(413)),ob=A(P(414)),Jb=A(P(415)),Ob=A(P(416)),jc=A(P(417)),tc=A(P(418)),lc=A(P(419)),mc=A(P(420)),uc=A(P(421)),wc=A(P(422)),Nc=A(P(423)),Uc=A(P(424)),Qc=A(P(425)),
Gc=A(P(426)),Rb=A(P(427)),id=A(P(428)),qd=A(P(429)),Ld=A(P(430)),Wb=A(P(431)),rd=A(P(432)),Wd=A(P(433)),de=A(P(434)),je=A(P(435)),Ed=A(P(436)),Md=A(P(437)),Sd=A(P(438)),pe=A(P(439)),se=A(P(440)),Ae=A(P(441)),Qd=A(P(442)),kd=A(P(443)),Xd=A(P(444)),Hc=A(P(445)),Jd=A(P(446)),hc=A(P(447)),He=A(P(448)),Rd=A(P(449)),$d=A(P(450)),le=A(P(451)),me=A(P(452)),nd=A(P(453)),ue=A(P(454)),Be=A(P(455)),qe=A(P(456)),Ee=A(P(457)),od=A(P(458)),mb=A(P(459)),sd=A(P(460)),ee=A(P(461)),Bd=A(P(462)),Nd=A(P(463)),Ie=A(P(464)),
ca=A(P(465)),ma=A(P(466)),Fa=A(P(467)),Ja=A(P(468)),Za=A(P(469)),Ia=A(P(470)),Wa=A(P(471)),lb=A(P(472)),nb=P(525);Object.keys(nb).forEach(function(sb){"default"!==sb&&"__esModule"!==sb&&(Object.prototype.hasOwnProperty.call(J,sb)||sb in I&&I[sb]===nb[sb]||Object.defineProperty(I,sb,{enumerable:!0,get:function(){return nb[sb]}}))});I.Snippets={"arrow.position":r.default,"axis.position":w.default,"cartesian.position":m.default,"cartesian4.position":h.default,"clamp.position":x.default,"color.opaque":z.default,
"face.position":k.default,"face.position.normal":p.default,"float.encode":B.default,"float.index.pack":t.default,"float.stretch":u.default,"fragment.clip.dashed":C.default,"fragment.clip.dotted":F.default,"fragment.clip.ends":M.default,"fragment.clip.proximity":T.default,"fragment.color":N.default,"fragment.map.rgba":W.default,"fragment.solid":ka.default,"fragment.transparent":Y.default,"grid.position":H.default,"grow.position":qa.default,"join.position":Ca.default,"label.alpha":La.default,"label.map":Oa.default,
"label.outline":ea.default,"layer.position":kb.default,"lerp.depth":zb.default,"lerp.height":Va.default,"lerp.items":Pa.default,"lerp.width":ja.default,"line.position":jb.default,"map.2d.data":Ya.default,"map.2d.data.wrap":Ma.default,"map.xyzw.2dv":na.default,"map.xyzw.align":ub.default,"map.xyzw.texture":Bb.default,"mesh.fragment.color":ab.default,"mesh.fragment.map":Ab.default,"mesh.fragment.mask":q.default,"mesh.fragment.material":K.default,"mesh.fragment.shaded":aa.default,"mesh.fragment.texture":Ea.default,
"mesh.gamma.in":oa.default,"mesh.gamma.out":za.default,"mesh.map.uvwo":Ka.default,"mesh.position":fb.default,"mesh.vertex.color":fa.default,"mesh.vertex.mask":X.default,"mesh.vertex.position":Da.default,"move.position":Aa.default,"object.mask.default":bb.default,"point.alpha.circle":wa.default,"point.alpha.circle.hollow":gb.default,"point.alpha.generic":ob.default,"point.alpha.generic.hollow":Jb.default,"point.edge":Ob.default,"point.fill":jc.default,"point.mask.circle":tc.default,"point.mask.diamond":lc.default,
"point.mask.down":mc.default,"point.mask.left":uc.default,"point.mask.right":wc.default,"point.mask.square":Nc.default,"point.mask.up":Uc.default,"point.position":Qc.default,"point.size.uniform":Gc.default,"point.size.varying":Rb.default,"polar.position":id.default,"project.position":qd.default,"project.readback":Ld.default,"raw.position.scale":Wb.default,"repeat.position":rd.default,"resample.padding":Wd.default,"resample.relative":de.default,"reveal.mask":je.default,"reverse.position":Ed.default,
"root.position":Md.default,"sample.2d":Sd.default,"scale.position":pe.default,"screen.map.stpq":se.default,"screen.map.xy":Ae.default,"screen.map.xyzw":Qd.default,"screen.pass.uv":kd.default,"screen.position":Xd.default,"slice.position":Hc.default,"spherical.position":Jd.default,"split.position":hc.default,"spread.position":He.default,"sprite.fragment":Rd.default,"sprite.position":$d.default,"stereographic.position":me.default,"stereographic4.position":le.default,"stpq.sample.2d":nd.default,"stpq.xyzw.2d":ue.default,
"strip.position.normal":Be.default,"style.color":qe.default,"subdivide.depth":Ee.default,"subdivide.depth.lerp":od.default,"subdivide.height":mb.default,"subdivide.height.lerp":sd.default,"subdivide.items":ee.default,"subdivide.items.lerp":Bd.default,"subdivide.width":Nd.default,"subdivide.width.lerp":Ie.default,"surface.mask.hollow":ca.default,"surface.position":ma.default,"surface.position.normal":Fa.default,"surface.position.shaded":Ja.default,"ticks.position":Za.default,"transform3.position":Ia.default,
"transform4.position":Wa.default,"view.position":lb.default}};
shadow$provide[527]=function(ra,P,db,I){function A(h){if("function"!==typeof WeakMap)return null;var m=new WeakMap,x=new WeakMap;return(A=function(z){return z?x:m})(h)}Object.defineProperty(I,"__esModule",{value:!0});I.Animator=void 0;var J=function(h,m){if(!m&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((m=A(m))&&m.has(h))return m.get(h);var x={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in h)if("default"!==k&&Object.prototype.hasOwnProperty.call(h,
k)){var p=z?Object.getOwnPropertyDescriptor(h,k):null;p&&(p.get||p.set)?Object.defineProperty(x,k,p):x[k]=h[k]}x.default=h;m&&m.set(h,x);return x}(P(292));class r{constructor(h){this.context=h;this.anims=[]}make(h,m){h=new w(this,this.context.time,h,m);this.anims.push(h);return h}unmake(h){return this.anims=Array.from(this.anims).filter(m=>m!==h)}update(){const {time:h}=this.context;return this.anims=(()=>{const m=[];for(const x of Array.from(this.anims))!1!==x.update(h)&&m.push(x);return m})()}lerp(h,
m,x,z,k){null==k&&(k=h.make());if(h.lerp)k=h.lerp(m,x,k,z);else{if(h.emitter){k=m.emitterFrom;const p=x.emitterTo;if(null!=k&&null!=p&&k===p)return k.lerp(z),k;h=h.emitter(m,x);m.emitterFrom=h;x.emitterTo=h;h.lerp(z);return h}k=h.op?h.op(m,x,k,function(p,B){return p===+p&&B===+B?p+(B-p)*z:.5<z?B:p}):.5<z?x:m}return k}}I.Animator=r;class w{constructor(h,m,x,z){this.animator=h;this.time=m;this.type=x;this.options=z;this.value=this.type.make();this.target=this.type.make();this.queue=[]}dispose(){return this.animator.unmake(this)}set(){let {target:h}=
this,m=1<arguments.length?[].slice.call(arguments):arguments[0],x=!1;m=this.type.validate(m,h,()=>x=!0);x||(h=m);this.cancel();this.target=this.value;this.value=h;return this.notify()}getTime(){var {clock:h}=this.options;h=h?h.getTime():this.time;return this.options.realtime?h.time:h.clock}cancel(h){let m;null==h&&(h=this.getTime());const {queue:x}=this,z=(()=>{const k=[];for(m of Array.from(x))m.end>=h&&k.push(m);return k})();this.queue=(()=>{const k=[];for(m of Array.from(x))m.end<h&&k.push(m);
return k})();for(m of Array.from(z))"function"===typeof m.complete&&m.complete(!1);"function"===typeof this.options.complete&&this.options.complete(!1)}notify(){return"function"===typeof this.options.step?this.options.step(this.value):void 0}immediate(h,m){const {duration:x,delay:z,ease:k,step:p,complete:B}=m;m=this.getTime()+z;const t=m+x;let u=!1,C=this.type.make();h=this.type.validate(h,C,function(){u=!0;return null});void 0===h||u||(C=h);this.cancel(m);return this.queue.push({from:null,to:C,start:m,
end:t,ease:k,step:p,complete:B})}update(h){this.time=h;if(0===this.queue.length)return!0;h=this.getTime();let {value:m}=this;const {queue:x}=this;for(var z=!1;!z;){var k=x[0];let {from:p}=k;const {to:B,start:t,end:u,step:C,complete:F,ease:M}=k;null==p&&(p=k.from=this.type.clone(this.value));k=J.clamp((h-t)/Math.max(1E-5,u-t)||0,0,1);if(0===k)return;z=(()=>{switch(M){case "linear":case 0:return null;case "cosine":case 1:return J.cosine;case "binary":case 2:return J.binary;case "hold":case 3:return J.hold;
default:return J.cosine}})();null!=z&&(k=z(k));m=(z=1>k)?this.animator.lerp(this.type,p,B,k,m):B;"function"===typeof C&&C(m);if(!z&&("function"===typeof F&&F(!0),"function"===typeof this.options.complete&&this.options.complete(!0),x.shift(),0===x.length))break}this.value=m;return this.notify()}}};
shadow$provide[528]=function(ra,P,db,I){function A(x){if("function"!==typeof WeakMap)return null;var z=new WeakMap,k=new WeakMap;return(A=function(p){return p?k:z})(x)}function J(x,z){if(!z&&x&&x.__esModule)return x;if(null===x||"object"!==typeof x&&"function"!==typeof x)return{default:x};if((z=A(z))&&z.has(x))return z.get(x);var k={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,B;for(B in x)if("default"!==B&&Object.prototype.hasOwnProperty.call(x,B)){var t=p?Object.getOwnPropertyDescriptor(x,
B):null;t&&(t.get||t.set)?Object.defineProperty(k,B,t):k[B]=x[B]}k.default=x;z&&z.set(x,k);return k}function r(x,z,k){const p=[],B=x<z;for(z=k?B?z+1:z-1:z;B?x<z:x>z;B?x++:x--)p.push(x);return p}Object.defineProperty(I,"__esModule",{value:!0});I.API=void 0;var w=J(P(132)),h=J(P(524));class m{v2(){return this}constructor(x,z,k){this._context=x;this._up=z;this._targets=k;x=this._context.controller.getRoot();null==this._targets&&(this._targets=[x]);this.isRoot=1===this._targets.length&&this._targets[0]===
x;this.isLeaf=1===this._targets.length&&null==this._targets[0].children;for(x=0;x<this._targets.length;x++)this[x]=this._targets[x];this.length=this._targets.length;for(const p of Array.from(this._context.controller.getTypes()))["root"].includes(p)||(this[p]=(B,t)=>this.add(p,B,t))}select(x){x=this._context.model.select(x,this.isRoot?null:this._targets);return this._push(x)}eq(x){return this._targets.length>x?this._push([this._targets[x]]):this._push([])}filter(x){if("string"===typeof x){const z=
this._context.model._matcher(x);x=k=>z(k)}return this._push(this._targets.filter(x))}map(x){return r(0,this.length,!1).map(z=>x(this[z],z,this))}each(x){for(let z=0,k=this.length,p=0<=k;p?z<k:z>k;p?z++:z--)x(this[z],z,this);return this}add(x,z,k){const {controller:p}=this._context;if(this.isLeaf)return this._pop().add(x,z,k);const B=[];for(const t of this._targets){const u=p.make(x,z,k);p.add(u,t);B.push(u)}return this._push(B)}remove(x){if(x)return this.select(x).remove();for(const z of Array.from(this._targets.slice().reverse()))this._context.controller.remove(z);
return this._pop()}set(x,z){for(const k of Array.from(this._targets))this._context.controller.set(k,x,z);return this}getAll(x){return Array.from(this._targets).map(z=>this._context.controller.get(z,x))}get(x){return null!=this._targets[0]?this._targets[0].get(x):void 0}evaluate(x,z){return null!=this._targets[0]?this._targets[0].evaluate(x,z):void 0}bind(x,z){for(const k of Array.from(this._targets))this._context.controller.bind(k,x,z);return this}unbind(x){for(const z of Array.from(this._targets))this._context.controller.unbind(z,
x);return this}end(){return(this.isLeaf?this._pop():this)._pop()}_push(x){return new m(this._context,this,x)}_pop(){return null!=this._up?this._up:this}_reset(){let x;return null!=(x=null!=this._up?this._up.reset():void 0)?x:this}map(x){return this._targets.map(x)}on(){const x=arguments;this._targets.map(z=>z.on.apply(z,x));return this}off(){const x=arguments;this._targets.map(z=>z.off.apply(z,x));return this}toString(){const x=this._targets.map(z=>z.toString());return 1<this._targets.length?`[${x.join(", ")}]`:
x[0]}toMarkup(){return this._targets.map(x=>x.toMarkup()).join("\n\n")}print(){w.print(this._targets.map(x=>x.toMarkup()).join("\n\n"));return this}debug(){var x=this.inspect();console.log("Renderables: ",x.renderables);console.log("Renders: ",x.renders);console.log("Shaders: ",x.shaders);const z=[];for(const k of Array.from(x.shaders))x=k.owner.constructor.name,z.push(`${x} - Vertex`),z.push(k.vertex),z.push(`${x} - Fragment`),z.push(k.fragment);return h.inspect(z)}inspect(x,z,k){let p;"boolean"===
typeof z&&(k=z,z=null);null==k&&(k=!0);const B=p=function(C,F){null==F&&(F=[]);z&&!C.traits.hash[z]||F.push(null!=(null!=C.controller?C.controller.objects:void 0)?null!=C.controller?C.controller.objects:void 0:[]);if(null!=C.children)for(const M of Array.from(C.children))p(M,F);return F},t=function(C){C=C.reduce((F,M)=>F.concat(M),[]);return C=C.filter((F,M)=>null!=F&&C.indexOf(F)===M)},u={nodes:this._targets.slice(),renderables:[],renders:[],shaders:[]};for(const C of Array.from(this._targets)){let F;
k&&C.print(x,"info");const M={renderables:F=t(B(C)),renders:t(F.map(T=>T.renders)),shaders:t(F.map(T=>null!=T.renders?T.renders.map(N=>{const W={};W.owner=T;W.geometry=N.geometry;W.material=N.material;W.vertex=N.userData.vertexGraph;W.fragment=N.userData.fragmentGraph;return W}):void 0))};for(const T in M)u[T]=u[T].concat(M[T])}return u}}I.API=m};
shadow$provide[529]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.Controller=void 0;class A{constructor(J,r){this.model=J;this.primitives=r}getRoot(){return this.model.getRoot()}getTypes(){return this.primitives.getTypes()}make(J,r,w){return this.primitives.make(J,r,w)}get(J,r){return J.get(r)}set(J,r,w){try{return J.set(r,w)}catch(h){return J.print(null,"warn"),console.error(h)}}bind(J,r,w){try{return J.bind(r,w)}catch(h){return J.print(null,"warn"),console.error(h)}}unbind(J,
r){try{return J.unbind(r)}catch(w){return J.print(null,"warn"),console.error(w)}}add(J,r){null==r&&(r=this.model.getRoot());return r.add(J)}remove(J){const r=J.parent;if(r)return r.remove(J)}}I.Controller=A};
shadow$provide[530]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});var A=P(527);Object.keys(A).forEach(function(w){"default"!==w&&"__esModule"!==w&&(w in I&&I[w]===A[w]||Object.defineProperty(I,w,{enumerable:!0,get:function(){return A[w]}}))});var J=P(528);Object.keys(J).forEach(function(w){"default"!==w&&"__esModule"!==w&&(w in I&&I[w]===J[w]||Object.defineProperty(I,w,{enumerable:!0,get:function(){return J[w]}}))});var r=P(529);Object.keys(r).forEach(function(w){"default"!==
w&&"__esModule"!==w&&(w in I&&I[w]===r[w]||Object.defineProperty(I,w,{enumerable:!0,get:function(){return r[w]}}))})};
shadow$provide[531]=function(ra,P,db,I){function A(k){if("function"!==typeof WeakMap)return null;var p=new WeakMap,B=new WeakMap;return(A=function(t){return t?B:p})(k)}function J(k,p){if(!p&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((p=A(p))&&p.has(k))return p.get(k);var B={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in k)if("default"!==u&&Object.prototype.hasOwnProperty.call(k,u)){var C=t?Object.getOwnPropertyDescriptor(k,
u):null;C&&(C.get||C.set)?Object.defineProperty(B,u,C):B[u]=k[u]}B.default=k;p&&p.set(k,B);return B}Object.defineProperty(I,"__esModule",{value:!0});I.VDOM=I.Ticks=I.Three=I.Pretty=I.JS=I.GLSL=I.Ease=I.Data=I.Axis=void 0;ra=J(P(240));db=J(P(196));var r=J(P(292)),w=J(P(197)),h=J(P(243)),m=J(P(132)),x=J(P(193)),z=J(P(317));P=J(P(181));I.Axis=ra;I.Data=db;I.Ease=r;I.GLSL=w;I.JS=h;I.Pretty=m;I.Three=x;I.Ticks=z;I.VDOM=P};
shadow$provide[532]=function(ra,P,db,I){function A(t){if("function"!==typeof WeakMap)return null;var u=new WeakMap,C=new WeakMap;return(A=function(F){return F?C:u})(t)}function J(t,u){if(!u&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((u=A(u))&&u.has(t))return u.get(t);var C={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor,M;for(M in t)if("default"!==M&&Object.prototype.hasOwnProperty.call(t,M)){var T=F?Object.getOwnPropertyDescriptor(t,
M):null;T&&(T.get||T.set)?Object.defineProperty(C,M,T):C[M]=t[M]}C.default=t;u&&u.set(t,C);return C}Object.defineProperty(I,"__esModule",{value:!0});I.Context=void 0;var r=J(P(179)),w=J(P(185)),h=J(P(321)),m=J(P(360)),x=J(P(526)),z=J(P(530)),k=J(P(531)),p=P(99);class B{static initClass(){this.Namespace={Model:r,Overlay:w,Primitives:h,Render:m,Shaders:x,Stage:z,Util:k,DOM:k.VDOM};this.Version="2.3.1"}constructor(t,u=null,C=null){let F;this.canvas=F=t.domElement;this.element=null;this.shaders=x.Factory(x.Snippets);
this.renderables=new m.Factory(m.Classes,t,this.shaders);this.overlays=new w.Factory(w.Classes,F);this.scene=this.renderables.make("scene",{scene:u});this.camera=this.defaultCamera=null!=C?C:new p.PerspectiveCamera;this.attributes=new r.Attributes(h.Types,this);this.primitives=new h.Factory(h.Types,this);this.root=this.primitives.make("root");this.model=new r.Model(this.root);this.guard=new r.Guard;this.controller=new z.Controller(this.model,this.primitives);this.animator=new z.Animator(this);this.api=
new z.API(this);this.speed=1;this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}init(){this.scene.inject();this.overlays.inject();return this}destroy(){this.scene.unject();this.overlays.unject();return this}resize(t){null==t&&(t={});null==t.renderWidth&&(t.renderWidth=null!=t.viewWidth?t.viewWidth:t.viewWidth=1280);null==t.renderHeight&&(t.renderHeight=null!=t.viewHeight?t.viewHeight:t.viewHeight=720);null==t.pixelRatio&&(t.pixelRatio=t.renderWidth/Math.max(1E-6,t.viewWidth));null==t.aspect&&
(t.aspect=t.viewWidth/Math.max(1E-6,t.viewHeight));this.root.controller.resize(t);return this}frame(t){this.pre(t);this.update();this.render();this.post();return this}pre(t){t||(t={now:+new Date/1E3,time:0,delta:0,clock:0,step:0},t.delta=null!=this.time.now?t.now-this.time.now:0,1<t.delta&&(t.delta=1/60),t.step=t.delta*this.speed,t.time=this.time.time+t.delta,t.clock=this.time.clock+t.step);this.time=t;"function"===typeof this.root.controller.pre&&this.root.controller.pre();return this}update(){this.animator.update();
this.attributes.compute();this.guard.iterate({step:()=>this.attributes.digest()||this.model.digest(),last(){return{attribute:this.attributes.getLastTrigger(),model:this.model.getLastTrigger()}}});"function"===typeof this.root.controller.update&&this.root.controller.update();this.camera=this.root.controller.getCamera();this.speed=this.root.controller.getSpeed();return this}render(){"function"===typeof this.root.controller.render&&this.root.controller.render();this.scene.render();return this}post(){"function"===
typeof this.root.controller.post&&this.root.controller.post();return this}setWarmup(t){this.scene.warmup(t);return this}getPending(){return this.scene.pending.length}}I.Context=B;B.initClass()};
shadow$provide[533]=function(ra,P,db,I){function A(t){if("function"!==typeof WeakMap)return null;var u=new WeakMap,C=new WeakMap;return(A=function(F){return F?C:u})(t)}function J(t,u){if(!u&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((u=A(u))&&u.has(t))return u.get(t);var C={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor,M;for(M in t)if("default"!==M&&Object.prototype.hasOwnProperty.call(t,M)){var T=F?Object.getOwnPropertyDescriptor(t,
M):null;T&&(T.get||T.set)?Object.defineProperty(C,M,T):C[M]=t[M]}C.default=t;u&&u.set(t,C);return C}Object.defineProperty(I,"__esModule",{value:!0});I.mathBox=I.DOM=I.Util=I.Stage=I.Shaders=I.Render=I.Primitives=I.Overlay=I.Model=I.version=I.Context=I.e=I.\u03c4=I.\u03c0=void 0;P(103);P(130);ra=J(P(179));db=J(P(185));var r=J(P(321)),w=J(P(360)),h=J(P(526)),m=J(P(530)),x=J(P(531)),z=P(102);P=P(532);const k=Math.PI;I.\u03c0=k;I.\u03c4=2*k;I.e=Math.E;const p=P.Context;I.Context=p;const B=P.Context.Version;
I.version=B;I.Model=ra;I.Overlay=db;I.Primitives=r;I.Render=w;I.Shaders=h;I.Stage=m;I.Util=x;I.DOM=x.VDOM;I.mathBox=function(t){t=new z.Bootstrap(t);t.fallback||(t.Time||t.install("time"),t.MathBox||t.install(["mathbox","splash"]));return null!=t.mathbox?t.mathbox:t};z.Bootstrap.registerPlugin("mathbox",{defaults:{init:!0,warmup:2,inspect:!0,splash:!0},listen:["ready","pre","update","post","resize"],install(t){let u=!1;this.first=!0;return t.MathBox={init:C=>{u||(u=!0,this.context=new p(t.renderer,
(null!=C?C.scene:void 0)||this.options.scene||t.scene,(null!=C?C.camera:void 0)||this.options.camera||t.camera),this.context.api.three=t.three=t,this.context.api.mathbox=t.mathbox=this.context.api,this.context.api.start=()=>t.Loop.start(),this.context.api.stop=()=>t.Loop.stop(),this.context.init(),this.context.resize(t.Size),this.context.setWarmup(this.options.warmup),this.pending=0,this.warm=!this.options.warmup,console.log("MathBox²",B),t.trigger({type:"mathbox/init",version:B,context:this.context}))},
destroy:()=>{u&&(u=!1,t.trigger({type:"mathbox/destroy",context:this.context}),this.context.destroy(),delete t.mathbox,delete this.context.api.three,delete this.context)},object:()=>null!=this.context?this.context.scene.root:void 0}},uninstall(t){t.MathBox.destroy();delete t.MathBox},ready(t,u){if(this.options.init)return u.MathBox.init(),setTimeout(()=>{if(this.options.inspect&&u.MathBox)return this.inspect(u)})},inspect(t){this.context.api.inspect();if(!this.options.warmup)return this.info(t)},
info(t){const u=function(C){const F=[];for(;1E3<=C;)F.unshift(("000"+C%1E3).slice(-3)),C=Math.floor(C/1E3);F.unshift(C);return F.join(",")};t=t.renderer.info.render;console.log("Geometry  ",u(t.triangles)+" triangles  ",u(t.points)+" points  ",u(t.lines)+" lines  ",u(t.calls)+" draw calls  ")},resize(t,u){return null!=this.context?this.context.resize(u.Size):void 0},pre(t,u){return null!=this.context?this.context.pre(u.Time):void 0},update(t,u){let C;null!=this.context&&this.context.update();(C=null!=
this.context?this.context.camera:void 0)&&C!==u.camera&&(u.camera=C);u.Time.set({speed:this.context.speed});this.progress(this.context.getPending(),u);return null!=this.context?this.context.render():void 0},post(t,u){return null!=this.context?this.context.post():void 0},progress(t,u){if(t||this.pending){var C=Math.max(t+this.options.warmup,this.pending),F=C-t,M=C;u.trigger({type:"mathbox/progress",current:C-t,total:C});0===t&&(C=0);this.pending=C;F!==M||this.warm||(this.warm=!0,this.options.inspect&&
this.info(u))}}})};
shadow$provide[534]=function(ra,P,db,I){var A=this&&this.__assign||function(){A=Object.assign||function(B){for(var t,u=1,C=arguments.length;u<C;u++){t=arguments[u];for(var F in t)Object.prototype.hasOwnProperty.call(t,F)&&(B[F]=t[F])}return B};return A.apply(this,arguments)},J=this&&this.__createBinding||(Object.create?function(B,t,u,C){void 0===C&&(C=u);var F=Object.getOwnPropertyDescriptor(t,u);if(!F||("get"in F?!t.__esModule:F.writable||F.configurable))F={enumerable:!0,get:function(){return t[u]}};
Object.defineProperty(B,C,F)}:function(B,t,u,C){void 0===C&&(C=u);B[C]=t[u]}),r=this&&this.__setModuleDefault||(Object.create?function(B,t){Object.defineProperty(B,"default",{enumerable:!0,value:t})}:function(B,t){B["default"]=t});ra=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var t={};if(null!=B)for(var u in B)"default"!==u&&Object.prototype.hasOwnProperty.call(B,u)&&J(t,B,u);r(t,B);return t};var w=this&&this.__rest||function(B,t){var u={},C;for(C in B)Object.prototype.hasOwnProperty.call(B,
C)&&0>t.indexOf(C)&&(u[C]=B[C]);if(null!=B&&"function"===typeof Object.getOwnPropertySymbols){var F=0;for(C=Object.getOwnPropertySymbols(B);F<C.length;F++)0>t.indexOf(C[F])&&Object.prototype.propertyIsEnumerable.call(B,C[F])&&(u[C[F]]=B[C[F]])}return u};db=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{"default":B}};I.__esModule=!0;var h=ra(P(0)),m=P(99),x=P(533),z=db(P(7)),k=P(97),p=db(P(3));I["default"]=(0,h.forwardRef)(function(B,t){var u=B.container,C=B.children,F=B.options,
M=w(B,["container","children","options"]),T=(0,k.useDeepCompareMemo)(null!==F&&void 0!==F?F:{},{});B=(0,h.useState)(null);var N=B[0],W=B[1];(0,h.useEffect)(function(){if(!u)return function(){};var ka=(0,x.mathBox)(A(A({},T),{element:u}));W(ka);ka.three.renderer.setClearColor(new m.Color(16777215),1);ka.three.camera.position.set(1,1,2);return function(){ka.select("*").remove();ka.three.destroy();W(null)}},[u,T]);(0,h.useEffect)(function(){N&&N.set(M)},[N,M]);(0,h.useImperativeHandle)(t,function(){return N},
[N]);return N&&h["default"].createElement(z["default"].Provider,{value:N},h["default"].createElement(p["default"].Provider,{value:N.three},C))})};
shadow$provide[535]=function(ra,P,db,I){var A=this&&this.__assign||function(){A=Object.assign||function(x){for(var z,k=1,p=arguments.length;k<p;k++){z=arguments[k];for(var B in z)Object.prototype.hasOwnProperty.call(z,B)&&(x[B]=z[B])}return x};return A.apply(this,arguments)},J=this&&this.__createBinding||(Object.create?function(x,z,k,p){void 0===p&&(p=k);var B=Object.getOwnPropertyDescriptor(z,k);if(!B||("get"in B?!z.__esModule:B.writable||B.configurable))B={enumerable:!0,get:function(){return z[k]}};
Object.defineProperty(x,p,B)}:function(x,z,k,p){void 0===p&&(p=k);x[p]=z[k]}),r=this&&this.__setModuleDefault||(Object.create?function(x,z){Object.defineProperty(x,"default",{enumerable:!0,value:z})}:function(x,z){x["default"]=z});ra=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var z={};if(null!=x)for(var k in x)"default"!==k&&Object.prototype.hasOwnProperty.call(x,k)&&J(z,x,k);r(z,x);return z};var w=this&&this.__rest||function(x,z){var k={},p;for(p in x)Object.prototype.hasOwnProperty.call(x,
p)&&0>z.indexOf(p)&&(k[p]=x[p]);if(null!=x&&"function"===typeof Object.getOwnPropertySymbols){var B=0;for(p=Object.getOwnPropertySymbols(x);B<p.length;B++)0>z.indexOf(p[B])&&Object.prototype.propertyIsEnumerable.call(x,p[B])&&(k[p[B]]=x[p[B]])}return k};db=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{"default":x}};I.__esModule=!0;var h=ra(P(0)),m=db(P(534));I["default"]=(0,h.forwardRef)(function(x,z){var k=x.children,p=x.containerId,B=x.containerClass,t=x.containerStyle;x=w(x,
["children","containerId","containerClass","containerStyle"]);var u=(0,h.useState)(null),C=u[0];return h["default"].createElement("div",{ref:u[1],id:p,className:B,style:t},C&&h["default"].createElement(m["default"],A({ref:z,container:C},x),k))})};
shadow$provide[536]=function(ra,P,db,I){var A=this&&this.__createBinding||(Object.create?function(J,r,w,h){void 0===h&&(h=w);var m=Object.getOwnPropertyDescriptor(r,w);if(!m||("get"in m?!r.__esModule:m.writable||m.configurable))m={enumerable:!0,get:function(){return r[w]}};Object.defineProperty(J,h,m)}:function(J,r,w,h){void 0===h&&(h=w);J[h]=r[w]});ra=this&&this.__exportStar||function(J,r){for(var w in J)"default"===w||Object.prototype.hasOwnProperty.call(r,w)||A(r,J,w)};I.__esModule=!0;I.useMathbox=
I.ContainedMathbox=I.Mathbox=void 0;ra(P(98),I);ra=P(534);A(I,ra,"default","Mathbox");ra=P(535);A(I,ra,"default","ContainedMathbox");P=P(7);A(I,P,"useMathbox")};
shadow$provide[537]=function(ra,P,db,I){var A=this&&this.__createBinding||(Object.create?function(r,w,h,m){void 0===m&&(m=h);var x=Object.getOwnPropertyDescriptor(w,h);if(!x||("get"in x?!w.__esModule:x.writable||x.configurable))x={enumerable:!0,get:function(){return w[h]}};Object.defineProperty(r,m,x)}:function(r,w,h,m){void 0===m&&(m=h);r[m]=w[h]}),J=this&&this.__setModuleDefault||(Object.create?function(r,w){Object.defineProperty(r,"default",{enumerable:!0,value:w})}:function(r,w){r["default"]=
w});db=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var w={};if(null!=r)for(var h in r)"default"!==h&&Object.prototype.hasOwnProperty.call(r,h)&&A(w,r,h);J(w,r);return w};ra=this&&this.__exportStar||function(r,w){for(var h in r)"default"===h||Object.prototype.hasOwnProperty.call(w,h)||A(w,r,h)};I.__esModule=!0;I.Threestrap=void 0;db=db(P(6));I.Threestrap=db;ra(P(536),I)};
shadow$provide[538]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.MapControls=I.OrbitControls=void 0;var A=P(99);const J={type:"change"},r={type:"start"},w={type:"end"};class h extends A.EventDispatcher{constructor(x,z){function k(){return Math.pow(.95,ja.zoomSpeed)}function p(wa){na.theta-=wa}function B(wa){na.phi-=wa}function t(wa){ja.object.isPerspectiveCamera?ub/=wa:ja.object.isOrthographicCamera?(ja.object.zoom=Math.max(ja.minZoom,Math.min(ja.maxZoom,ja.object.zoom*wa)),
ja.object.updateProjectionMatrix(),ab=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ja.enableZoom=!1)}function u(wa){ja.object.isPerspectiveCamera?ub*=wa:ja.object.isOrthographicCamera?(ja.object.zoom=Math.max(ja.minZoom,Math.min(ja.maxZoom,ja.object.zoom/wa)),ja.object.updateProjectionMatrix(),ab=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ja.enableZoom=!1)}function C(){1===fa.length?
Ab.set(fa[0].pageX,fa[0].pageY):Ab.set(.5*(fa[0].pageX+fa[1].pageX),.5*(fa[0].pageY+fa[1].pageY))}function F(){1===fa.length?aa.set(fa[0].pageX,fa[0].pageY):aa.set(.5*(fa[0].pageX+fa[1].pageX),.5*(fa[0].pageY+fa[1].pageY))}function M(){const wa=fa[0].pageX-fa[1].pageX,gb=fa[0].pageY-fa[1].pageY;za.set(0,Math.sqrt(wa*wa+gb*gb))}function T(wa){if(1==fa.length)q.set(wa.pageX,wa.pageY);else{const gb=Pa(wa);q.set(.5*(wa.pageX+gb.x),.5*(wa.pageY+gb.y))}K.subVectors(q,Ab).multiplyScalar(ja.rotateSpeed);
wa=ja.domElement;p(2*Math.PI*K.x/wa.clientHeight);B(2*Math.PI*K.y/wa.clientHeight);Ab.copy(q)}function N(wa){if(1===fa.length)Ea.set(wa.pageX,wa.pageY);else{const gb=Pa(wa);Ea.set(.5*(wa.pageX+gb.x),.5*(wa.pageY+gb.y))}oa.subVectors(Ea,aa).multiplyScalar(ja.panSpeed);bb(oa.x,oa.y);aa.copy(Ea)}function W(wa){const gb=Pa(wa),ob=wa.pageX-gb.x;wa=wa.pageY-gb.y;Ka.set(0,Math.sqrt(ob*ob+wa*wa));fb.set(0,Math.pow(Ka.y/za.y,ja.zoomSpeed));t(fb.y);za.copy(Ka)}function ka(wa){!1!==ja.enabled&&(0===fa.length&&
(ja.domElement.setPointerCapture(wa.pointerId),ja.domElement.addEventListener("pointermove",Y),ja.domElement.addEventListener("pointerup",H)),fa.push(wa),"touch"===wa.pointerType?ea(wa):Ca(wa))}function Y(wa){if(!1!==ja.enabled)if("touch"===wa.pointerType)switch(Va(wa),Ya){case jb.TOUCH_ROTATE:if(!1===ja.enableRotate)break;T(wa);ja.update();break;case jb.TOUCH_PAN:if(!1===ja.enablePan)break;N(wa);ja.update();break;case jb.TOUCH_DOLLY_PAN:if(!1===ja.enableZoom&&!1===ja.enablePan)break;ja.enableZoom&&
W(wa);ja.enablePan&&N(wa);ja.update();break;case jb.TOUCH_DOLLY_ROTATE:if(!1===ja.enableZoom&&!1===ja.enableRotate)break;ja.enableZoom&&W(wa);ja.enableRotate&&T(wa);ja.update();break;default:Ya=jb.NONE}else a:switch(Ya){case jb.ROTATE:if(!1===ja.enableRotate)break a;q.set(wa.clientX,wa.clientY);K.subVectors(q,Ab).multiplyScalar(ja.rotateSpeed);wa=ja.domElement;p(2*Math.PI*K.x/wa.clientHeight);B(2*Math.PI*K.y/wa.clientHeight);Ab.copy(q);ja.update();break;case jb.DOLLY:if(!1===ja.enableZoom)break a;
Ka.set(wa.clientX,wa.clientY);fb.subVectors(Ka,za);0<fb.y?t(k()):0>fb.y&&u(k());za.copy(Ka);ja.update();break;case jb.PAN:!1!==ja.enablePan&&(Ea.set(wa.clientX,wa.clientY),oa.subVectors(Ea,aa).multiplyScalar(ja.panSpeed),bb(oa.x,oa.y),aa.copy(Ea),ja.update())}}function H(wa){zb(wa);0===fa.length&&(ja.domElement.releasePointerCapture(wa.pointerId),ja.domElement.removeEventListener("pointermove",Y),ja.domElement.removeEventListener("pointerup",H));ja.dispatchEvent(w);Ya=jb.NONE}function qa(wa){zb(wa)}
function Ca(wa){let gb;switch(wa.button){case 0:gb=ja.mouseButtons.LEFT;break;case 1:gb=ja.mouseButtons.MIDDLE;break;case 2:gb=ja.mouseButtons.RIGHT;break;default:gb=-1}switch(gb){case A.MOUSE.DOLLY:if(!1===ja.enableZoom)return;za.set(wa.clientX,wa.clientY);Ya=jb.DOLLY;break;case A.MOUSE.ROTATE:if(wa.ctrlKey||wa.metaKey||wa.shiftKey){if(!1===ja.enablePan)return;aa.set(wa.clientX,wa.clientY);Ya=jb.PAN}else{if(!1===ja.enableRotate)return;Ab.set(wa.clientX,wa.clientY);Ya=jb.ROTATE}break;case A.MOUSE.PAN:if(wa.ctrlKey||
wa.metaKey||wa.shiftKey){if(!1===ja.enableRotate)return;Ab.set(wa.clientX,wa.clientY);Ya=jb.ROTATE}else{if(!1===ja.enablePan)return;aa.set(wa.clientX,wa.clientY);Ya=jb.PAN}break;default:Ya=jb.NONE}Ya!==jb.NONE&&ja.dispatchEvent(r)}function La(wa){!1!==ja.enabled&&!1!==ja.enableZoom&&Ya===jb.NONE&&(wa.preventDefault(),ja.dispatchEvent(r),0>wa.deltaY?u(k()):0<wa.deltaY&&t(k()),ja.update(),ja.dispatchEvent(w))}function Oa(wa){if(!1!==ja.enabled&&!1!==ja.enablePan){var gb=!1;switch(wa.code){case ja.keys.UP:wa.ctrlKey||
wa.metaKey||wa.shiftKey?B(2*Math.PI*ja.rotateSpeed/ja.domElement.clientHeight):bb(0,ja.keyPanSpeed);gb=!0;break;case ja.keys.BOTTOM:wa.ctrlKey||wa.metaKey||wa.shiftKey?B(-2*Math.PI*ja.rotateSpeed/ja.domElement.clientHeight):bb(0,-ja.keyPanSpeed);gb=!0;break;case ja.keys.LEFT:wa.ctrlKey||wa.metaKey||wa.shiftKey?p(2*Math.PI*ja.rotateSpeed/ja.domElement.clientHeight):bb(ja.keyPanSpeed,0);gb=!0;break;case ja.keys.RIGHT:wa.ctrlKey||wa.metaKey||wa.shiftKey?p(-2*Math.PI*ja.rotateSpeed/ja.domElement.clientHeight):
bb(-ja.keyPanSpeed,0),gb=!0}gb&&(wa.preventDefault(),ja.update())}}function ea(wa){Va(wa);switch(fa.length){case 1:switch(ja.touches.ONE){case A.TOUCH.ROTATE:if(!1===ja.enableRotate)return;C();Ya=jb.TOUCH_ROTATE;break;case A.TOUCH.PAN:if(!1===ja.enablePan)return;F();Ya=jb.TOUCH_PAN;break;default:Ya=jb.NONE}break;case 2:switch(ja.touches.TWO){case A.TOUCH.DOLLY_PAN:if(!1===ja.enableZoom&&!1===ja.enablePan)return;ja.enableZoom&&M();ja.enablePan&&F();Ya=jb.TOUCH_DOLLY_PAN;break;case A.TOUCH.DOLLY_ROTATE:if(!1===
ja.enableZoom&&!1===ja.enableRotate)return;ja.enableZoom&&M();ja.enableRotate&&C();Ya=jb.TOUCH_DOLLY_ROTATE;break;default:Ya=jb.NONE}break;default:Ya=jb.NONE}Ya!==jb.NONE&&ja.dispatchEvent(r)}function kb(wa){!1!==ja.enabled&&wa.preventDefault()}function zb(wa){delete X[wa.pointerId];for(let gb=0;gb<fa.length;gb++)if(fa[gb].pointerId==wa.pointerId){fa.splice(gb,1);break}}function Va(wa){let gb=X[wa.pointerId];void 0===gb&&(gb=new A.Vector2,X[wa.pointerId]=gb);gb.set(wa.pageX,wa.pageY)}function Pa(wa){return X[(wa.pointerId===
fa[0].pointerId?fa[1]:fa[0]).pointerId]}super();this.object=x;this.domElement=z;this.domElement.style.touchAction="none";this.enabled=!0;this.target=new A.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.05;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.panSpeed=
1;this.screenSpacePanning=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"};this.mouseButtons={LEFT:A.MOUSE.ROTATE,MIDDLE:A.MOUSE.DOLLY,RIGHT:A.MOUSE.PAN};this.touches={ONE:A.TOUCH.ROTATE,TWO:A.TOUCH.DOLLY_PAN};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this._domElementKeyEvents=null;this.getPolarAngle=function(){return Ma.phi};this.getAzimuthalAngle=
function(){return Ma.theta};this.getDistance=function(){return this.object.position.distanceTo(this.target)};this.listenToKeyEvents=function(wa){wa.addEventListener("keydown",Oa);this._domElementKeyEvents=wa};this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Oa);this._domElementKeyEvents=null};this.saveState=function(){ja.target0.copy(ja.target);ja.position0.copy(ja.object.position);ja.zoom0=ja.object.zoom};this.reset=function(){ja.target.copy(ja.target0);
ja.object.position.copy(ja.position0);ja.object.zoom=ja.zoom0;ja.object.updateProjectionMatrix();ja.dispatchEvent(J);ja.update();Ya=jb.NONE};this.update=function(){const wa=new A.Vector3,gb=(new A.Quaternion).setFromUnitVectors(x.up,new A.Vector3(0,1,0)),ob=gb.clone().invert(),Jb=new A.Vector3,Ob=new A.Quaternion,jc=2*Math.PI;return function(){const tc=ja.object.position;wa.copy(tc).sub(ja.target);wa.applyQuaternion(gb);Ma.setFromVector3(wa);ja.autoRotate&&Ya===jb.NONE&&p(2*Math.PI/60/60*ja.autoRotateSpeed);
ja.enableDamping?(Ma.theta+=na.theta*ja.dampingFactor,Ma.phi+=na.phi*ja.dampingFactor):(Ma.theta+=na.theta,Ma.phi+=na.phi);let lc=ja.minAzimuthAngle,mc=ja.maxAzimuthAngle;isFinite(lc)&&isFinite(mc)&&(lc<-Math.PI?lc+=jc:lc>Math.PI&&(lc-=jc),mc<-Math.PI?mc+=jc:mc>Math.PI&&(mc-=jc),Ma.theta=lc<=mc?Math.max(lc,Math.min(mc,Ma.theta)):Ma.theta>(lc+mc)/2?Math.max(lc,Ma.theta):Math.min(mc,Ma.theta));Ma.phi=Math.max(ja.minPolarAngle,Math.min(ja.maxPolarAngle,Ma.phi));Ma.makeSafe();Ma.radius*=ub;Ma.radius=
Math.max(ja.minDistance,Math.min(ja.maxDistance,Ma.radius));!0===ja.enableDamping?ja.target.addScaledVector(Bb,ja.dampingFactor):ja.target.add(Bb);wa.setFromSpherical(Ma);wa.applyQuaternion(ob);tc.copy(ja.target).add(wa);ja.object.lookAt(ja.target);!0===ja.enableDamping?(na.theta*=1-ja.dampingFactor,na.phi*=1-ja.dampingFactor,Bb.multiplyScalar(1-ja.dampingFactor)):(na.set(0,0,0),Bb.set(0,0,0));ub=1;return ab||1E-6<Jb.distanceToSquared(ja.object.position)||1E-6<8*(1-Ob.dot(ja.object.quaternion))?(ja.dispatchEvent(J),
Jb.copy(ja.object.position),Ob.copy(ja.object.quaternion),ab=!1,!0):!1}}();this.dispose=function(){ja.domElement.removeEventListener("contextmenu",kb);ja.domElement.removeEventListener("pointerdown",ka);ja.domElement.removeEventListener("pointercancel",qa);ja.domElement.removeEventListener("wheel",La);ja.domElement.removeEventListener("pointermove",Y);ja.domElement.removeEventListener("pointerup",H);null!==ja._domElementKeyEvents&&(ja._domElementKeyEvents.removeEventListener("keydown",Oa),ja._domElementKeyEvents=
null)};const ja=this,jb={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Ya=jb.NONE;const Ma=new A.Spherical,na=new A.Spherical;let ub=1;const Bb=new A.Vector3;let ab=!1;const Ab=new A.Vector2,q=new A.Vector2,K=new A.Vector2,aa=new A.Vector2,Ea=new A.Vector2,oa=new A.Vector2,za=new A.Vector2,Ka=new A.Vector2,fb=new A.Vector2,fa=[],X={},Da=function(){const wa=new A.Vector3;return function(gb,ob){wa.setFromMatrixColumn(ob,0);wa.multiplyScalar(-gb);
Bb.add(wa)}}(),Aa=function(){const wa=new A.Vector3;return function(gb,ob){!0===ja.screenSpacePanning?wa.setFromMatrixColumn(ob,1):(wa.setFromMatrixColumn(ob,0),wa.crossVectors(ja.object.up,wa));wa.multiplyScalar(gb);Bb.add(wa)}}(),bb=function(){const wa=new A.Vector3;return function(gb,ob){const Jb=ja.domElement;if(ja.object.isPerspectiveCamera){wa.copy(ja.object.position).sub(ja.target);let Ob=wa.length();Ob*=Math.tan(ja.object.fov/2*Math.PI/180);Da(2*gb*Ob/Jb.clientHeight,ja.object.matrix);Aa(2*
ob*Ob/Jb.clientHeight,ja.object.matrix)}else ja.object.isOrthographicCamera?(Da(gb*(ja.object.right-ja.object.left)/ja.object.zoom/Jb.clientWidth,ja.object.matrix),Aa(ob*(ja.object.top-ja.object.bottom)/ja.object.zoom/Jb.clientHeight,ja.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),ja.enablePan=!1)}}();ja.domElement.addEventListener("contextmenu",kb);ja.domElement.addEventListener("pointerdown",ka);ja.domElement.addEventListener("pointercancel",
qa);ja.domElement.addEventListener("wheel",La,{passive:!1});this.update()}}I.OrbitControls=h;class m extends h{constructor(x,z){super(x,z);this.screenSpacePanning=!1;this.mouseButtons.LEFT=A.MOUSE.PAN;this.mouseButtons.RIGHT=A.MOUSE.ROTATE;this.touches.ONE=A.TOUCH.PAN;this.touches.TWO=A.TOUCH.DOLLY_ROTATE}}I.MapControls=m};
shadow$provide[539]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I.TrackballControls=void 0;var A=P(99);const J={type:"change"},r={type:"start"},w={type:"end"};class h extends A.EventDispatcher{constructor(m,x){function z(ab){if(!1!==N.enabled){0===Ma.length&&(N.domElement.setPointerCapture(ab.pointerId),N.domElement.addEventListener("pointermove",k),N.domElement.addEventListener("pointerup",p));Ma.push(ab);if("touch"===ab.pointerType)switch(T(ab),Ma.length){case 1:H=W.TOUCH_ROTATE;
zb.copy(Bb(Ma[0].pageX,Ma[0].pageY));kb.copy(zb);break;default:H=W.TOUCH_ZOOM_PAN;ab=Ma[0].pageX-Ma[1].pageX;var Ab=Ma[0].pageY-Ma[1].pageY;La=Ca=Math.sqrt(ab*ab+Ab*Ab);jb.copy(ub((Ma[0].pageX+Ma[1].pageX)/2,(Ma[0].pageY+Ma[1].pageY)/2));Ya.copy(jb)}else{if(H===W.NONE)switch(ab.button){case N.mouseButtons.LEFT:H=W.ROTATE;break;case N.mouseButtons.MIDDLE:H=W.ZOOM;break;case N.mouseButtons.RIGHT:H=W.PAN}Ab=qa!==W.NONE?qa:H;Ab!==W.ROTATE||N.noRotate?Ab!==W.ZOOM||N.noZoom?Ab!==W.PAN||N.noPan||(jb.copy(ub(ab.pageX,
ab.pageY)),Ya.copy(jb)):(Pa.copy(ub(ab.pageX,ab.pageY)),ja.copy(Pa)):(zb.copy(Bb(ab.pageX,ab.pageY)),kb.copy(zb))}N.dispatchEvent(r)}}function k(ab){if(!1!==N.enabled)if("touch"===ab.pointerType)switch(T(ab),Ma.length){case 1:kb.copy(zb);zb.copy(Bb(ab.pageX,ab.pageY));break;default:var Ab=na[(ab.pointerId===Ma[0].pointerId?Ma[1]:Ma[0]).pointerId];const q=ab.pageX-Ab.x,K=ab.pageY-Ab.y;La=Math.sqrt(q*q+K*K);Ya.copy(ub((ab.pageX+Ab.x)/2,(ab.pageY+Ab.y)/2))}else Ab=qa!==W.NONE?qa:H,Ab!==W.ROTATE||N.noRotate?
Ab!==W.ZOOM||N.noZoom?Ab!==W.PAN||N.noPan||Ya.copy(ub(ab.pageX,ab.pageY)):ja.copy(ub(ab.pageX,ab.pageY)):(kb.copy(zb),zb.copy(Bb(ab.pageX,ab.pageY)))}function p(ab){if(!1!==N.enabled){if("touch"===ab.pointerType)switch(Ma.length){case 0:H=W.NONE;break;case 1:H=W.TOUCH_ROTATE;zb.copy(Bb(ab.pageX,ab.pageY));kb.copy(zb);break;case 2:H=W.TOUCH_ZOOM_PAN;for(var Ab=0;Ab<Ma.length;Ab++)if(Ma[Ab].pointerId!==ab.pointerId){Ab=na[Ma[Ab].pointerId];zb.copy(Bb(Ab.x,Ab.y));kb.copy(zb);break}}else H=W.NONE;N.dispatchEvent(w);
M(ab);0===Ma.length&&(N.domElement.releasePointerCapture(ab.pointerId),N.domElement.removeEventListener("pointermove",k),N.domElement.removeEventListener("pointerup",p))}}function B(ab){M(ab)}function t(ab){!1!==N.enabled&&(window.removeEventListener("keydown",t),qa===W.NONE)&&(ab.code!==N.keys[W.ROTATE]||N.noRotate?ab.code!==N.keys[W.ZOOM]||N.noZoom?ab.code!==N.keys[W.PAN]||N.noPan||(qa=W.PAN):qa=W.ZOOM:qa=W.ROTATE)}function u(){!1!==N.enabled&&(qa=W.NONE,window.addEventListener("keydown",t))}function C(ab){if(!1!==
N.enabled&&!0!==N.noZoom){ab.preventDefault();switch(ab.deltaMode){case 2:Pa.y-=.025*ab.deltaY;break;case 1:Pa.y-=.01*ab.deltaY;break;default:Pa.y-=2.5E-4*ab.deltaY}N.dispatchEvent(r);N.dispatchEvent(w)}}function F(ab){!1!==N.enabled&&ab.preventDefault()}function M(ab){delete na[ab.pointerId];for(let Ab=0;Ab<Ma.length;Ab++)if(Ma[Ab].pointerId==ab.pointerId){Ma.splice(Ab,1);break}}function T(ab){let Ab=na[ab.pointerId];void 0===Ab&&(Ab=new A.Vector2,na[ab.pointerId]=Ab);Ab.set(ab.pageX,ab.pageY)}super();
const N=this,W={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=m;this.domElement=x;this.domElement.style.touchAction="none";this.enabled=!0;this.screen={left:0,top:0,width:0,height:0};this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=.3;this.staticMoving=this.noPan=this.noZoom=this.noRotate=!1;this.dynamicDampingFactor=.2;this.minDistance=0;this.maxDistance=Infinity;this.keys=["KeyA","KeyS","KeyD"];this.mouseButtons={LEFT:A.MOUSE.ROTATE,MIDDLE:A.MOUSE.DOLLY,RIGHT:A.MOUSE.PAN};
this.target=new A.Vector3;const ka=new A.Vector3;let Y=1,H=W.NONE,qa=W.NONE,Ca=0,La=0,Oa=0;const ea=new A.Vector3,kb=new A.Vector2,zb=new A.Vector2,Va=new A.Vector3,Pa=new A.Vector2,ja=new A.Vector2,jb=new A.Vector2,Ya=new A.Vector2,Ma=[],na={};this.target0=this.target.clone();this.position0=this.object.position.clone();this.up0=this.object.up.clone();this.zoom0=this.object.zoom;this.handleResize=function(){const ab=N.domElement.getBoundingClientRect(),Ab=N.domElement.ownerDocument.documentElement;
N.screen.left=ab.left+window.pageXOffset-Ab.clientLeft;N.screen.top=ab.top+window.pageYOffset-Ab.clientTop;N.screen.width=ab.width;N.screen.height=ab.height};const ub=function(){const ab=new A.Vector2;return function(Ab,q){ab.set((Ab-N.screen.left)/N.screen.width,(q-N.screen.top)/N.screen.height);return ab}}(),Bb=function(){const ab=new A.Vector2;return function(Ab,q){ab.set((Ab-.5*N.screen.width-N.screen.left)/(.5*N.screen.width),(N.screen.height+2*(N.screen.top-q))/N.screen.width);return ab}}();
this.rotateCamera=function(){const ab=new A.Vector3,Ab=new A.Quaternion,q=new A.Vector3,K=new A.Vector3,aa=new A.Vector3,Ea=new A.Vector3;return function(){Ea.set(zb.x-kb.x,zb.y-kb.y,0);let oa=Ea.length();oa?(ea.copy(N.object.position).sub(N.target),q.copy(ea).normalize(),K.copy(N.object.up).normalize(),aa.crossVectors(K,q).normalize(),K.setLength(zb.y-kb.y),aa.setLength(zb.x-kb.x),Ea.copy(K.add(aa)),ab.crossVectors(Ea,ea).normalize(),oa*=N.rotateSpeed,Ab.setFromAxisAngle(ab,oa),ea.applyQuaternion(Ab),
N.object.up.applyQuaternion(Ab),Va.copy(ab),Oa=oa):!N.staticMoving&&Oa&&(Oa*=Math.sqrt(1-N.dynamicDampingFactor),ea.copy(N.object.position).sub(N.target),Ab.setFromAxisAngle(Va,Oa),ea.applyQuaternion(Ab),N.object.up.applyQuaternion(Ab));kb.copy(zb)}}();this.zoomCamera=function(){let ab;H===W.TOUCH_ZOOM_PAN?(ab=Ca/La,Ca=La,N.object.isPerspectiveCamera?ea.multiplyScalar(ab):N.object.isOrthographicCamera?(N.object.zoom/=ab,N.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):
(ab=1+(ja.y-Pa.y)*N.zoomSpeed,1!==ab&&0<ab&&(N.object.isPerspectiveCamera?ea.multiplyScalar(ab):N.object.isOrthographicCamera?(N.object.zoom/=ab,N.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),N.staticMoving?Pa.copy(ja):Pa.y+=(ja.y-Pa.y)*this.dynamicDampingFactor)};this.panCamera=function(){const ab=new A.Vector2,Ab=new A.Vector3,q=new A.Vector3;return function(){ab.copy(Ya).sub(jb);if(ab.lengthSq()){if(N.object.isOrthographicCamera){const K=(N.object.top-
N.object.bottom)/N.object.zoom/N.domElement.clientWidth;ab.x*=(N.object.right-N.object.left)/N.object.zoom/N.domElement.clientWidth;ab.y*=K}ab.multiplyScalar(ea.length()*N.panSpeed);q.copy(ea).cross(N.object.up).setLength(ab.x);q.add(Ab.copy(N.object.up).setLength(ab.y));N.object.position.add(q);N.target.add(q);N.staticMoving?jb.copy(Ya):jb.add(ab.subVectors(Ya,jb).multiplyScalar(N.dynamicDampingFactor))}}}();this.checkDistances=function(){N.noZoom&&N.noPan||(ea.lengthSq()>N.maxDistance*N.maxDistance&&
(N.object.position.addVectors(N.target,ea.setLength(N.maxDistance)),Pa.copy(ja)),ea.lengthSq()<N.minDistance*N.minDistance&&(N.object.position.addVectors(N.target,ea.setLength(N.minDistance)),Pa.copy(ja)))};this.update=function(){ea.subVectors(N.object.position,N.target);N.noRotate||N.rotateCamera();N.noZoom||N.zoomCamera();N.noPan||N.panCamera();N.object.position.addVectors(N.target,ea);if(N.object.isPerspectiveCamera)N.checkDistances(),N.object.lookAt(N.target),1E-6<ka.distanceToSquared(N.object.position)&&
(N.dispatchEvent(J),ka.copy(N.object.position));else if(N.object.isOrthographicCamera){if(N.object.lookAt(N.target),1E-6<ka.distanceToSquared(N.object.position)||Y!==N.object.zoom)N.dispatchEvent(J),ka.copy(N.object.position),Y=N.object.zoom}else console.warn("THREE.TrackballControls: Unsupported camera type")};this.reset=function(){qa=H=W.NONE;N.target.copy(N.target0);N.object.position.copy(N.position0);N.object.up.copy(N.up0);N.object.zoom=N.zoom0;N.object.updateProjectionMatrix();ea.subVectors(N.object.position,
N.target);N.object.lookAt(N.target);N.dispatchEvent(J);ka.copy(N.object.position);Y=N.object.zoom};this.dispose=function(){N.domElement.removeEventListener("contextmenu",F);N.domElement.removeEventListener("pointerdown",z);N.domElement.removeEventListener("pointercancel",B);N.domElement.removeEventListener("wheel",C);N.domElement.removeEventListener("pointermove",k);N.domElement.removeEventListener("pointerup",p);window.removeEventListener("keydown",t);window.removeEventListener("keyup",u)};this.domElement.addEventListener("contextmenu",
F);this.domElement.addEventListener("pointerdown",z);this.domElement.addEventListener("pointercancel",B);this.domElement.addEventListener("wheel",C,{passive:!1});window.addEventListener("keydown",t);window.addEventListener("keyup",u);this.handleResize();this.update()}}I.TrackballControls=h};
shadow$provide[540]=function(ra,P,db,I){(function(A,J){"object"===typeof I&&"object"===typeof db?db.exports=J():"function"===typeof define&&define.amd?define([],J):"object"===typeof I?I.katex=J():A.katex=J()})("undefined"!==typeof self?self:this,function(){return function(){function A(d){if(d.default)return d.default;d=d.type;d=Array.isArray(d)?d[0]:d;if("string"!==typeof d)return d.enum[0];switch(d){case "boolean":return!1;case "string":return"";case "number":return 0;case "object":return{}}}function J(d){for(let g=
0;g<Da.length;g+=2)if(d>=Da[g]&&d<=Da[g+1])return!0;return!1}function r(d,g,y){if(!ob[g])throw Error("Font metrics not found for font: "+g+".");let L=d.charCodeAt(0),Z=ob[g][L];!Z&&d[0]in Ob&&(L=Ob[d[0]].charCodeAt(0),Z=ob[g][L]);Z||"text"!==y||J(L)&&(Z=ob[g][77]);if(Z)return{depth:Z[0],height:Z[1],italic:Z[2],skew:Z[3],width:Z[4]}}function w(d){if(d instanceof Ed)return d;throw Error("Expected symbolNode but got "+String(d)+".");}function h(d,g,y,L,Z,sa){Qd[d][Z]={font:g,group:y,replace:L};sa&&L&&
(Qd[d][L]=Qd[d][Z])}function m(d){let {type:g,names:y,props:L,handler:Z,htmlBuilder:sa,mathmlBuilder:ta}=d;d={type:g,numArgs:L.numArgs,argTypes:L.argTypes,allowedInArgument:!!L.allowedInArgument,allowedInText:!!L.allowedInText,allowedInMath:void 0===L.allowedInMath?!0:L.allowedInMath,numOptionalArgs:L.numOptionalArgs||0,infix:!!L.infix,primitive:!!L.primitive,handler:Z};for(let Ra=0;Ra<y.length;++Ra)ca[y[Ra]]=d;g&&(sa&&(ma[g]=sa),ta&&(Fa[g]=ta))}function x(d){let {type:g,htmlBuilder:y,mathmlBuilder:L}=
d;m({type:g,names:[],props:{numArgs:0},handler(){throw Error("Should never be called.");},htmlBuilder:y,mathmlBuilder:L})}function z(d,g){d=Ia(["base"],d,g);g=Ia(["strut"]);g.style.height=Rb(d.height+d.depth);d.depth&&(g.style.verticalAlign=Rb(-d.depth));d.children.unshift(g);return d}function k(d,g){let y=null;1===d.length&&"tag"===d[0].type&&(y=d[0].tag,d=d[0].body);d=rb(d,g,"root");let L;2===d.length&&d[1].hasClass("tag")&&(L=d.pop());const Z=[];let sa=[];for(let Ra=0;Ra<d.length;Ra++)if(sa.push(d[Ra]),
d[Ra].hasClass("mbin")||d[Ra].hasClass("mrel")||d[Ra].hasClass("allowbreak")){let eb=!1;for(;Ra<d.length-1&&d[Ra+1].hasClass("mspace")&&!d[Ra+1].hasClass("newline");)Ra++,sa.push(d[Ra]),d[Ra].hasClass("nobreak")&&(eb=!0);eb||(Z.push(z(sa,g)),sa=[])}else d[Ra].hasClass("newline")&&(sa.pop(),0<sa.length&&(Z.push(z(sa,g)),sa=[]),Z.push(d[Ra]));0<sa.length&&Z.push(z(sa,g));if(y){var ta=z(rb(y,g,!0));ta.classes=["tag"];Z.push(ta)}else L&&Z.push(L);g=Ia(["katex-html"],Z);g.setAttribute("aria-hidden","true");
ta&&(ta=ta.children[0],ta.style.height=Rb(g.height+g.depth),g.depth&&(ta.style.verticalAlign=Rb(-g.depth)));return g}function p(d){return new gb(d)}function B(d,g,y,L,Z){d=sc(d,y);d=1===d.length&&d[0]instanceof kc&&Ma.contains(["mrow","mtable"],d[0].type)?d[0]:new Fb.MathNode("mrow",d);g=new Fb.MathNode("annotation",[new Fb.TextNode(g)]);g.setAttribute("encoding","application/x-tex");g=new Fb.MathNode("semantics",[d,g]);g=new Fb.MathNode("math",[g]);g.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML");
L&&g.setAttribute("display","block");return mb.makeSpan([Z?"katex":"katex-mathml"],[g])}function t(d,g){if(!d||d.type!==g)throw Error("Expected node of type "+g+", but got "+(d?"node of type "+d.type:String(d)));return d}function u(d){const g=C(d);if(!g)throw Error("Expected node of symbol group type, but got "+(d?"node of type "+d.type:String(d)));return g}function C(d){return d&&("atom"===d.type||Ae.hasOwnProperty(d.type))?d:null}function F(d,g){const y=rb(d.body,g,!0);return Ib([d.mclass],y,g)}
function M(d,g){g=sc(d.body,g);"minner"===d.mclass?g=new Fb.MathNode("mpadded",g):"mord"===d.mclass?d.isCharacterBox?(g=g[0],g.type="mi"):g=new Fb.MathNode("mi",g):(d.isCharacterBox?(g=g[0],g.type="mo"):g=new Fb.MathNode("mo",g),"mbin"===d.mclass?(g.attributes.lspace="0.22em",g.attributes.rspace="0.22em"):"mpunct"===d.mclass?(g.attributes.lspace="0em",g.attributes.rspace="0.17em"):"mopen"===d.mclass||"mclose"===d.mclass?(g.attributes.lspace="0em",g.attributes.rspace="0em"):"minner"===d.mclass&&(g.attributes.lspace=
"0.0556em",g.attributes.width="+0.1111em"));return g}function T(d,g,y){var L=Vb[d];switch(L){case "\\\\cdrightarrow":case "\\\\cdleftarrow":return y.callFunction(L,[g[0]],[g[1]]);case "\\uparrow":case "\\downarrow":return d=y.callFunction("\\\\cdleft",[g[0]],[]),L=y.callFunction("\\Big",[{type:"atom",text:L,mode:"math",family:"rel"}],[]),g=y.callFunction("\\\\cdright",[g[1]],[]),y.callFunction("\\\\cdparent",[{type:"ordgroup",mode:"math",body:[d,L,g]}],[]);case "\\\\cdlongequal":return y.callFunction("\\\\cdlongequal",
[],[]);case "\\Vert":return y.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}function N(d,g){const y=C(d);if(y&&Ma.contains(Ga,y.text))return y;if(y)throw new Va("Invalid delimiter '"+y.text+"' after '"+g.funcName+"'",d);throw new Va("Invalid delimiter type '"+d.type+"'",d);}function W(d){if(!d.body)throw Error("Bug: The leftright ParseNode wasn't fully parsed.");}function ka(d){let {type:g,names:y,props:L,handler:Z,htmlBuilder:sa,
mathmlBuilder:ta}=d;d={type:g,numArgs:L.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:Z};for(let Ra=0;Ra<y.length;++Ra)wh[y[Ra]]=d;sa&&(ma[g]=sa);ta&&(Fa[g]=ta)}function Y(d,g){va[d]=g}function H(d){const g=[];d.consumeSpaces();let y=d.fetch().text;"\\relax"===y&&(d.consume(),d.consumeSpaces(),y=d.fetch().text);for(;"\\hline"===y||"\\hdashline"===y;)d.consume(),g.push("\\hdashline"===y),d.consumeSpaces(),y=d.fetch().text;return g}function qa(d){if(-1===d.indexOf("ed"))return-1===d.indexOf("*")}
function Ca(d,g,y){function L(){pc&&d.gullet.macros.set("\\@eqnsw","1",!0)}function Z(){vd&&(d.gullet.macros.get("\\df@tag")?(vd.push(d.subparse([new Qe("\\df@tag")])),d.gullet.macros.set("\\df@tag",void 0,!0)):vd.push(!!pc&&"1"===d.gullet.macros.get("\\@eqnsw")))}let {hskipBeforeAndAfter:sa,addJot:ta,cols:Ra,arraystretch:eb,colSeparationType:Cb,autoTag:pc,singleRow:rc,emptySingleRow:Oc,maxNumCols:yd,leqno:Ad}=g;d.gullet.beginGroup();rc||d.gullet.macros.set("\\cr","\\\\\\relax");if(!eb)if(g=d.gullet.expandMacroAsText("\\arraystretch"),
null==g)eb=1;else if(eb=parseFloat(g),!eb||0>eb)throw new Va("Invalid \\arraystretch: "+g);d.gullet.beginGroup();g=[];const Kd=[g],Pd=[],ce=[],vd=null!=pc?[]:void 0;L();for(ce.push(H(d));;){let pd=d.parseExpression(!1,rc?"\\end":"\\\\");d.gullet.endGroup();d.gullet.beginGroup();pd={type:"ordgroup",mode:d.mode,body:pd};y&&(pd={type:"styling",mode:d.mode,style:y,body:[pd]});g.push(pd);const Fe=d.fetch().text;if("\x26"===Fe){if(yd&&g.length===yd){if(rc||Cb)throw new Va("Too many tab characters: \x26",
d.nextToken);d.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}d.consume()}else if("\\end"===Fe){Z();1===g.length&&"styling"===pd.type&&0===pd.body[0].body.length&&(1<Kd.length||!Oc)&&Kd.pop();ce.length<Kd.length+1&&ce.push([]);break}else if("\\\\"===Fe){d.consume();let Vd;" "!==d.gullet.future().text&&(Vd=d.parseSizeGroup(!0));Pd.push(Vd?Vd.value:null);Z();ce.push(H(d));g=[];Kd.push(g);L()}else throw new Va("Expected \x26 or \\\\ or \\cr or \\end",
d.nextToken);}d.gullet.endGroup();d.gullet.endGroup();return{type:"array",mode:d.mode,addJot:ta,arraystretch:eb,body:Kd,cols:Ra,rowGaps:Pd,hskipBeforeAndAfter:sa,hLinesBeforeRow:ce,colSeparationType:Cb,tags:vd,leqno:Ad}}function La(d){return"d"===d.slice(0,1)?"display":"text"}function Oa(d,g,y){d=rb(d,g,!1);const L=g.sizeMultiplier/y.sizeMultiplier;for(let Z=0;Z<d.length;Z++){const sa=d[Z].classes.indexOf("sizing");0>sa?Array.prototype.push.apply(d[Z].classes,g.sizingClasses(y)):d[Z].classes[sa+1]===
"reset-size"+g.size&&(d[Z].classes[sa+1]="reset-size"+y.size);d[Z].height*=L;d[Z].depth*=L}return mb.makeFragment(d)}var ea={};!function(){ea.d=function(d,g){for(var y in g)ea.o(g,y)&&!ea.o(d,y)&&Object.defineProperty(d,y,{enumerable:!0,get:g[y]})}}();!function(){ea.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)}}();var kb={};ea.d(kb,{"default":function(){return yg}});class zb{constructor(d,g){this.rawMessage=this.length=this.position=this.name=void 0;var y="KaTeX parse error: "+
d;let L,Z;var sa=g&&g.loc;if(sa&&sa.start<=sa.end){g=sa.lexer.input;L=sa.start;Z=sa.end;y=L===g.length?y+" at end of input: ":y+(" at position "+(L+1)+": ");sa=g.slice(L,Z).replace(/[^]/g,"$\x26̲");let ta;ta=15<L?"…"+g.slice(L-15,L):g.slice(0,L);g=Z+15<g.length?g.slice(Z,Z+15)+"…":g.slice(Z);y+=ta+sa+g}y=Error(y);y.name="ParseError";y.__proto__=zb.prototype;y.position=L;null!=L&&null!=Z&&(y.length=Z-L);y.rawMessage=d;return y}}zb.prototype.__proto__=Error.prototype;var Va=zb;const Pa=/([A-Z])/g,ja=
{"\x26":"\x26amp;","\x3e":"\x26gt;","\x3c":"\x26lt;",'"':"\x26quot;","'":"\x26#x27;"},jb=/[&><"']/g,Ya=function(d){return"ordgroup"===d.type?1===d.body.length?Ya(d.body[0]):d:"color"===d.type?1===d.body.length?Ya(d.body[0]):d:"font"===d.type?Ya(d.body):d};var Ma={contains:function(d,g){return-1!==d.indexOf(g)},deflt:function(d,g){return void 0===d?g:d},escape:function(d){return String(d).replace(jb,g=>ja[g])},hyphenate:function(d){return d.replace(Pa,"-$1").toLowerCase()},getBaseElem:Ya,isCharacterBox:function(d){d=
Ya(d);return"mathord"===d.type||"textord"===d.type||"atom"===d.type},protocolFromUrl:function(d){return(d=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(d))?":"===d[2]&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(d[1])?d[1].toLowerCase():null:"_relative"}};const na={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml",
"html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format \x3ctype\x3e"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",
default:"#cc0000",cli:"-c, --error-color \x3ccolor\x3e",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:d=>"#"+d},macros:{type:"object",cli:"-m, --macro \x3cdef\x3e",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(d,g)=>{g.push(d);return g}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",
processor:d=>Math.max(0,d),cli:"--min-rule-thickness \x3csize\x3e",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",
cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:Infinity,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:d=>Math.max(0,d),cli:"-s, --max-size \x3cn\x3e",cliProcessor:parseInt},maxExpand:{type:"number",default:1E3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",
processor:d=>Math.max(0,d),cli:"-e, --max-expand \x3cn\x3e",cliProcessor:d=>"Infinity"===d?Infinity:parseInt(d)},globalGroup:{type:"boolean",cli:!1}};class ub{constructor(d){this.globalGroup=this.maxExpand=this.maxSize=this.trust=this.strict=this.colorIsTextColor=this.minRuleThickness=this.macros=this.errorColor=this.throwOnError=this.fleqn=this.leqno=this.output=this.displayMode=void 0;d=d||{};for(const g in na)if(na.hasOwnProperty(g)){const y=na[g];this[g]=void 0!==d[g]?y.processor?y.processor(d[g]):
d[g]:A(y)}}reportNonstrict(d,g,y){let L=this.strict;"function"===typeof L&&(L=L(d,g,y));if(L&&"ignore"!==L){if(!0===L||"error"===L)throw new Va("LaTeX-incompatible input and strict mode is set to 'error': "+(g+" ["+d+"]"),y);"warn"===L?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(g+" ["+d+"]")):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+(L+"': "+g+" ["+d+"]"))}}useStrictBehavior(d,
g,y){let L=this.strict;if("function"===typeof L)try{L=L(d,g,y)}catch(Z){L="error"}if(L&&"ignore"!==L){if(!0===L||"error"===L)return!0;"warn"===L?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(g+" ["+d+"]")):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+(L+"': "+g+" ["+d+"]"))}return!1}isTrusted(d){if(d.url&&!d.protocol){const g=Ma.protocolFromUrl(d.url);if(null==g)return!1;d.protocol=
g}return!("function"===typeof this.trust?!this.trust(d):!this.trust)}}class Bb{constructor(d,g,y){this.cramped=this.size=this.id=void 0;this.id=d;this.size=g;this.cramped=y}sup(){return ab[Ab[this.id]]}sub(){return ab[q[this.id]]}fracNum(){return ab[K[this.id]]}fracDen(){return ab[aa[this.id]]}cramp(){return ab[Ea[this.id]]}text(){return ab[oa[this.id]]}isTight(){return 2<=this.size}}const ab=[new Bb(0,0,!1),new Bb(1,0,!0),new Bb(2,1,!1),new Bb(3,1,!0),new Bb(4,2,!1),new Bb(5,2,!0),new Bb(6,3,!1),
new Bb(7,3,!0)],Ab=[4,5,4,5,6,7,6,7],q=[5,5,5,5,7,7,7,7],K=[2,3,4,5,6,7,6,7],aa=[3,3,5,5,7,7,7,7],Ea=[1,1,3,3,5,5,7,7],oa=[0,1,2,3,2,3,2,3];var za=ab[0],Ka=ab[2],fb=ab[4],fa=ab[6];const X=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],Da=[];X.forEach(d=>
d.blocks.forEach(g=>Da.push(...g)));const Aa=function(d,g){switch(d){case "⎜":return"M291 0 H417 V"+g+" H291z M291 0 H417 V"+g+" H291z";case "∣":return"M145 0 H188 V"+g+" H145z M145 0 H188 V"+g+" H145z";case "∥":return"M145 0 H188 V"+g+" H145z M145 0 H188 V"+g+" H145zM367 0 H410 V"+(g+" H367z M367 0 H410 V"+g+" H367z");case "⎟":return"M457 0 H583 V"+g+" H457z M457 0 H583 V"+g+" H457z";case "⎢":return"M319 0 H403 V"+g+" H319z M319 0 H403 V"+g+" H319z";case "⎥":return"M263 0 H347 V"+g+" H263z M263 0 H347 V"+
g+" H263z";case "⎪":return"M384 0 H504 V"+g+" H384z M384 0 H504 V"+g+" H384z";case "⏐":return"M312 0 H355 V"+g+" H312z M312 0 H355 V"+g+" H312z";case "‖":return"M257 0 H300 V"+g+" H257z M257 0 H300 V"+g+" H257zM478 0 H521 V"+(g+" H478z M478 0 H521 V"+g+" H478z");default:return""}},bb={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",
doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",
leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",
leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",
leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",
leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",
lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",
longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",
oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",
oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",
rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",
rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",
rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",
rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",
rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",
twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",
tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",
tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",
widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",
widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",
baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",
rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",
baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",
shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},
wa=function(d,g){switch(d){case "lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+g+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+g+" v1759 h84z";case "rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+g+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+g+" v1759 h84z";case "vert":return"M145 15 v585 v"+g+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-g+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+g+" v585 h43z";case "doublevert":return"M145 15 v585 v"+
g+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-g+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+g+" v585 h43z\nM367 15 v585 v"+g+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-g+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+g+" v585 h43z";case "lfloor":return"M319 602 V0 H403 V602 v"+g+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+g+" v1715 H319z";case "rfloor":return"M319 602 V0 H403 V602 v"+
g+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+g+" v1715 H319z";case "lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+g+" v602 h84z\nM403 1759 V0 H319 V1759 v"+g+" v602 h84z";case "rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+g+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+g+" v602 h84z";case "lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(g+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+
(g+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case "rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(g+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+
(g+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw Error("Unknown stretchy delimiter.");}};class gb{constructor(d){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.children=void 0;this.children=d;this.classes=[];this.maxFontSize=this.depth=this.height=0;this.style={}}hasClass(d){return Ma.contains(this.classes,d)}toNode(){const d=document.createDocumentFragment();for(let g=0;g<this.children.length;g++)d.appendChild(this.children[g].toNode());
return d}toMarkup(){let d="";for(let g=0;g<this.children.length;g++)d+=this.children[g].toMarkup();return d}toText(){return this.children.map(d=>d.toText()).join("")}}var ob={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],
77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],
710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,
0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,
0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,
.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],
8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,
.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,
.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,
.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],
8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,
0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,
.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,
.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,
0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],
57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,
0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,
.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,
0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,
.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,
.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],
112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],
58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],
47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,
.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,
.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,
.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,
.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,
.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,
0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,
.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],
8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],
8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,
.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,
0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,
0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,
.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,
.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],
65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,
.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],
101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,
.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,
.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],
923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,
.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],
52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,
.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,
.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],
106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],
122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,
.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,
.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,
0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,
0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],
84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],
105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,
.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,
0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,
.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],
8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,
.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],
8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,
.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,
.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,
0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,
0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,
.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,
0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,
0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],
110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,
0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],
954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,
.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,
.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],
81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,
.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,
.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,
.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,
.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,
.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],
45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],
68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,
0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,
0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,
0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,
0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,
0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,
.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,
.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,
.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,
.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,
.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,
.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,
.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,
.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,
.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,
.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,
0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,
.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,
.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,
0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-9.9E-4,.601,0,0,.77778],8593:[1E-5,.6,0,0,.66667],8595:[1E-5,.6,0,0,.66667],8657:[1E-5,.6,0,
0,.77778],8659:[1E-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,
.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-9.9E-4,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,
1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,
0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],
91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,
0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,
0,0,.875],9116:[1E-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1E-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-9.9E-4,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-9.9E-4,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1E-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1E-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,
0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],
41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,
.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,
0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,
0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,
0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,
.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Jb={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,
.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,
10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ob={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n",
"м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"},jc={},tc=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],lc=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],mc=function(d,g){return 2>g.size?d:tc[d-1][g.size-1]};class uc{constructor(d){this._fontMetrics=this.minRuleThickness=this.maxSize=this.sizeMultiplier=this.fontShape=this.fontWeight=this.fontFamily=
this.font=this.phantom=this.textSize=this.size=this.color=this.style=void 0;this.style=d.style;this.color=d.color;this.size=d.size||uc.BASESIZE;this.textSize=d.textSize||this.size;this.phantom=!!d.phantom;this.font=d.font||"";this.fontFamily=d.fontFamily||"";this.fontWeight=d.fontWeight||"";this.fontShape=d.fontShape||"";this.sizeMultiplier=lc[this.size-1];this.maxSize=d.maxSize;this.minRuleThickness=d.minRuleThickness;this._fontMetrics=void 0}extend(d){const g={style:this.style,size:this.size,textSize:this.textSize,
color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const y in d)d.hasOwnProperty(y)&&(g[y]=d[y]);return new uc(g)}havingStyle(d){return this.style===d?this:this.extend({style:d,size:mc(this.textSize,d)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(d){return this.size===d&&this.textSize===d?this:this.extend({style:this.style.text(),
size:d,textSize:d,sizeMultiplier:lc[d-1]})}havingBaseStyle(d){d=d||this.style.text();const g=mc(uc.BASESIZE,d);return this.size===g&&this.textSize===uc.BASESIZE&&this.style===d?this:this.extend({style:d,size:g})}havingBaseSizing(){let d;switch(this.style.id){case 4:case 5:d=3;break;case 6:case 7:d=1;break;default:d=6}return this.extend({style:this.style.text(),size:d})}withColor(d){return this.extend({color:d})}withPhantom(){return this.extend({phantom:!0})}withFont(d){return this.extend({font:d})}withTextFontFamily(d){return this.extend({fontFamily:d,
font:""})}withTextFontWeight(d){return this.extend({fontWeight:d,font:""})}withTextFontShape(d){return this.extend({fontShape:d,font:""})}sizingClasses(d){return d.size!==this.size?["sizing","reset-size"+d.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==uc.BASESIZE?["sizing","reset-size"+this.size,"size"+uc.BASESIZE]:[]}fontMetrics(){if(!this._fontMetrics){var d=this.size;d=5<=d?0:3<=d?1:2;if(!jc[d]){const g=jc[d]={cssEmPerMu:Jb.quad[d]/18};for(const y in Jb)Jb.hasOwnProperty(y)&&
(g[y]=Jb[y][d])}this._fontMetrics=jc[d]}return this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}uc.BASESIZE=6;var wc=uc;const Nc={pt:1,mm:7227/2540,cm:7227/254,"in":72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Uc={ex:!0,em:!0,mu:!0},Qc=function(d){"string"!==typeof d&&(d=d.unit);return d in Nc||d in Uc||"ex"===d},Gc=function(d,g){let y;if(d.unit in Nc)y=Nc[d.unit]/g.fontMetrics().ptPerEm/g.sizeMultiplier;else if("mu"===d.unit)y=
g.fontMetrics().cssEmPerMu;else{let L;L=g.style.isTight()?g.havingStyle(g.style.text()):g;if("ex"===d.unit)y=L.fontMetrics().xHeight;else if("em"===d.unit)y=L.fontMetrics().quad;else throw new Va("Invalid unit: '"+d.unit+"'");L!==g&&(y*=L.sizeMultiplier/g.sizeMultiplier)}return Math.min(d.number*y,g.maxSize)},Rb=function(d){return+d.toFixed(4)+"em"},id=function(d){return d.filter(g=>g).join(" ")},qd=function(d,g,y){this.classes=d||[];this.attributes={};this.maxFontSize=this.depth=this.height=0;this.style=
y||{};g&&(g.style.isTight()&&this.classes.push("mtight"),d=g.getColor())&&(this.style.color=d)},Ld=function(d){d=document.createElement(d);d.className=id(this.classes);for(var g in this.style)this.style.hasOwnProperty(g)&&(d.style[g]=this.style[g]);for(const y in this.attributes)this.attributes.hasOwnProperty(y)&&d.setAttribute(y,this.attributes[y]);for(g=0;g<this.children.length;g++)d.appendChild(this.children[g].toNode());return d},Wb=function(d){let g="\x3c"+d;this.classes.length&&(g+=' class\x3d"'+
Ma.escape(id(this.classes))+'"');var y="";for(const L in this.style)this.style.hasOwnProperty(L)&&(y+=Ma.hyphenate(L)+":"+this.style[L]+";");y&&(g+=' style\x3d"'+Ma.escape(y)+'"');for(const L in this.attributes)this.attributes.hasOwnProperty(L)&&(g+=" "+L+'\x3d"'+Ma.escape(this.attributes[L])+'"');g+="\x3e";for(y=0;y<this.children.length;y++)g+=this.children[y].toMarkup();return g+("\x3c/"+d+"\x3e")};class rd{constructor(d,g,y,L){this.style=this.maxFontSize=this.width=this.depth=this.height=this.classes=
this.attributes=this.children=void 0;qd.call(this,d,y,L);this.children=g||[]}setAttribute(d,g){this.attributes[d]=g}hasClass(d){return Ma.contains(this.classes,d)}toNode(){return Ld.call(this,"span")}toMarkup(){return Wb.call(this,"span")}}class Wd{constructor(d,g,y,L){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.attributes=this.children=void 0;qd.call(this,g,L);this.children=y||[];this.setAttribute("href",d)}setAttribute(d,g){this.attributes[d]=g}hasClass(d){return Ma.contains(this.classes,
d)}toNode(){return Ld.call(this,"a")}toMarkup(){return Wb.call(this,"a")}}class de{constructor(d,g,y){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.alt=this.src=void 0;this.alt=g;this.src=d;this.classes=["mord"];this.style=y}hasClass(d){return Ma.contains(this.classes,d)}toNode(){const d=document.createElement("img");d.src=this.src;d.alt=this.alt;d.className="mord";for(const g in this.style)this.style.hasOwnProperty(g)&&(d.style[g]=this.style[g]);return d}toMarkup(){let d='\x3cimg src\x3d"'+
Ma.escape(this.src)+'" alt\x3d"'+(Ma.escape(this.alt)+'"'),g="";for(const y in this.style)this.style.hasOwnProperty(y)&&(g+=Ma.hyphenate(y)+":"+this.style[y]+";");g&&(d+=' style\x3d"'+Ma.escape(g)+'"');return d+"'/\x3e"}}const je={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"};class Ed{constructor(d,g,y,L,Z,sa,ta,Ra){this.style=this.classes=this.maxFontSize=this.width=this.skew=this.italic=this.depth=this.height=this.text=void 0;this.text=d;this.height=g||0;this.depth=y||0;this.italic=L||0;this.skew=Z||0;this.width=
sa||0;this.classes=ta||[];this.style=Ra||{};this.maxFontSize=0;a:{d=this.text.charCodeAt(0);for(g=0;g<X.length;g++)for(y=X[g],L=0;L<y.blocks.length;L++)if(Z=y.blocks[L],d>=Z[0]&&d<=Z[1]){d=y.name;break a}d=null}d&&this.classes.push(d+"_fallback");/[îïíì]/.test(this.text)&&(this.text=je[this.text])}hasClass(d){return Ma.contains(this.classes,d)}toNode(){const d=document.createTextNode(this.text);let g=null;0<this.italic&&(g=document.createElement("span"),g.style.marginRight=Rb(this.italic));0<this.classes.length&&
(g=g||document.createElement("span"),g.className=id(this.classes));for(const y in this.style)this.style.hasOwnProperty(y)&&(g=g||document.createElement("span"),g.style[y]=this.style[y]);return g?(g.appendChild(d),g):d}toMarkup(){let d=!1,g="\x3cspan";this.classes.length&&(d=!0,g=g+' class\x3d"'+Ma.escape(id(this.classes)),g+='"');var y="";0<this.italic&&(y+="margin-right:"+this.italic+"em;");for(const L in this.style)this.style.hasOwnProperty(L)&&(y+=Ma.hyphenate(L)+":"+this.style[L]+";");y&&(d=!0,
g+=' style\x3d"'+Ma.escape(y)+'"');y=Ma.escape(this.text);return d?g+"\x3e"+y+"\x3c/span\x3e":y}}class Md{constructor(d,g){this.attributes=this.children=void 0;this.children=d||[];this.attributes=g||{}}toNode(){const d=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&d.setAttribute(g,this.attributes[g]);for(g=0;g<this.children.length;g++)d.appendChild(this.children[g].toNode());return d}toMarkup(){let d=
'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg"';for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&(d+=" "+g+'\x3d"'+Ma.escape(this.attributes[g])+'"');d+="\x3e";for(g=0;g<this.children.length;g++)d+=this.children[g].toMarkup();return d+"\x3c/svg\x3e"}}class Sd{constructor(d,g){this.alternate=this.pathName=void 0;this.pathName=d;this.alternate=g}toNode(){const d=document.createElementNS("http://www.w3.org/2000/svg","path");this.alternate?d.setAttribute("d",this.alternate):
d.setAttribute("d",bb[this.pathName]);return d}toMarkup(){return this.alternate?'\x3cpath d\x3d"'+Ma.escape(this.alternate)+'"/\x3e':'\x3cpath d\x3d"'+Ma.escape(bb[this.pathName])+'"/\x3e'}}class pe{constructor(d){this.attributes=void 0;this.attributes=d||{}}toNode(){const d=document.createElementNS("http://www.w3.org/2000/svg","line");for(const g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&d.setAttribute(g,this.attributes[g]);return d}toMarkup(){let d="\x3cline";for(const g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,
g)&&(d+=" "+g+'\x3d"'+Ma.escape(this.attributes[g])+'"');return d+"/\x3e"}}const se={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ae={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Qd={math:{},text:{}};var kd=Qd;h("math","main","rel","≡","\\equiv",!0);h("math","main","rel","≺","\\prec",!0);h("math","main","rel","≻","\\succ",!0);h("math","main","rel","∼","\\sim",!0);h("math","main","rel","⊥","\\perp");h("math","main","rel","⪯","\\preceq",!0);h("math","main","rel","⪰","\\succeq",!0);h("math",
"main","rel","≃","\\simeq",!0);h("math","main","rel","∣","\\mid",!0);h("math","main","rel","≪","\\ll",!0);h("math","main","rel","≫","\\gg",!0);h("math","main","rel","≍","\\asymp",!0);h("math","main","rel","∥","\\parallel");h("math","main","rel","⋈","\\bowtie",!0);h("math","main","rel","⌣","\\smile",!0);h("math","main","rel","⊑","\\sqsubseteq",!0);h("math","main","rel","⊒","\\sqsupseteq",!0);h("math","main","rel","≐","\\doteq",!0);h("math","main","rel","⌢","\\frown",!0);h("math","main","rel","∋","\\ni",
!0);h("math","main","rel","∝","\\propto",!0);h("math","main","rel","⊢","\\vdash",!0);h("math","main","rel","⊣","\\dashv",!0);h("math","main","rel","∋","\\owns");h("math","main","punct",".","\\ldotp");h("math","main","punct","⋅","\\cdotp");h("math","main","textord","#","\\#");h("text","main","textord","#","\\#");h("math","main","textord","\x26","\\\x26");h("text","main","textord","\x26","\\\x26");h("math","main","textord","ℵ","\\aleph",!0);h("math","main","textord","∀","\\forall",!0);h("math","main",
"textord","ℏ","\\hbar",!0);h("math","main","textord","∃","\\exists",!0);h("math","main","textord","∇","\\nabla",!0);h("math","main","textord","♭","\\flat",!0);h("math","main","textord","ℓ","\\ell",!0);h("math","main","textord","♮","\\natural",!0);h("math","main","textord","♣","\\clubsuit",!0);h("math","main","textord","℘","\\wp",!0);h("math","main","textord","♯","\\sharp",!0);h("math","main","textord","♢","\\diamondsuit",!0);h("math","main","textord","ℜ","\\Re",!0);h("math","main","textord","♡","\\heartsuit",
!0);h("math","main","textord","ℑ","\\Im",!0);h("math","main","textord","♠","\\spadesuit",!0);h("math","main","textord","§","\\S",!0);h("text","main","textord","§","\\S");h("math","main","textord","¶","\\P",!0);h("text","main","textord","¶","\\P");h("math","main","textord","†","\\dag");h("text","main","textord","†","\\dag");h("text","main","textord","†","\\textdagger");h("math","main","textord","‡","\\ddag");h("text","main","textord","‡","\\ddag");h("text","main","textord","‡","\\textdaggerdbl");h("math",
"main","close","⎱","\\rmoustache",!0);h("math","main","open","⎰","\\lmoustache",!0);h("math","main","close","⟯","\\rgroup",!0);h("math","main","open","⟮","\\lgroup",!0);h("math","main","bin","∓","\\mp",!0);h("math","main","bin","⊖","\\ominus",!0);h("math","main","bin","⊎","\\uplus",!0);h("math","main","bin","⊓","\\sqcap",!0);h("math","main","bin","∗","\\ast");h("math","main","bin","⊔","\\sqcup",!0);h("math","main","bin","◯","\\bigcirc",!0);h("math","main","bin","∙","\\bullet",!0);h("math","main",
"bin","‡","\\ddagger");h("math","main","bin","≀","\\wr",!0);h("math","main","bin","⨿","\\amalg");h("math","main","bin","\x26","\\And");h("math","main","rel","⟵","\\longleftarrow",!0);h("math","main","rel","⇐","\\Leftarrow",!0);h("math","main","rel","⟸","\\Longleftarrow",!0);h("math","main","rel","⟶","\\longrightarrow",!0);h("math","main","rel","⇒","\\Rightarrow",!0);h("math","main","rel","⟹","\\Longrightarrow",!0);h("math","main","rel","↔","\\leftrightarrow",!0);h("math","main","rel","⟷","\\longleftrightarrow",
!0);h("math","main","rel","⇔","\\Leftrightarrow",!0);h("math","main","rel","⟺","\\Longleftrightarrow",!0);h("math","main","rel","↦","\\mapsto",!0);h("math","main","rel","⟼","\\longmapsto",!0);h("math","main","rel","↗","\\nearrow",!0);h("math","main","rel","↩","\\hookleftarrow",!0);h("math","main","rel","↪","\\hookrightarrow",!0);h("math","main","rel","↘","\\searrow",!0);h("math","main","rel","↼","\\leftharpoonup",!0);h("math","main","rel","⇀","\\rightharpoonup",!0);h("math","main","rel","↙","\\swarrow",
!0);h("math","main","rel","↽","\\leftharpoondown",!0);h("math","main","rel","⇁","\\rightharpoondown",!0);h("math","main","rel","↖","\\nwarrow",!0);h("math","main","rel","⇌","\\rightleftharpoons",!0);h("math","ams","rel","≮","\\nless",!0);h("math","ams","rel","","\\@nleqslant");h("math","ams","rel","","\\@nleqq");h("math","ams","rel","⪇","\\lneq",!0);h("math","ams","rel","≨","\\lneqq",!0);h("math","ams","rel","","\\@lvertneqq");h("math","ams","rel","⋦","\\lnsim",!0);h("math","ams","rel","⪉","\\lnapprox",
!0);h("math","ams","rel","⊀","\\nprec",!0);h("math","ams","rel","⋠","\\npreceq",!0);h("math","ams","rel","⋨","\\precnsim",!0);h("math","ams","rel","⪹","\\precnapprox",!0);h("math","ams","rel","≁","\\nsim",!0);h("math","ams","rel","","\\@nshortmid");h("math","ams","rel","∤","\\nmid",!0);h("math","ams","rel","⊬","\\nvdash",!0);h("math","ams","rel","⊭","\\nvDash",!0);h("math","ams","rel","⋪","\\ntriangleleft");h("math","ams","rel","⋬","\\ntrianglelefteq",!0);h("math","ams","rel","⊊","\\subsetneq",!0);
h("math","ams","rel","","\\@varsubsetneq");h("math","ams","rel","⫋","\\subsetneqq",!0);h("math","ams","rel","","\\@varsubsetneqq");h("math","ams","rel","≯","\\ngtr",!0);h("math","ams","rel","","\\@ngeqslant");h("math","ams","rel","","\\@ngeqq");h("math","ams","rel","⪈","\\gneq",!0);h("math","ams","rel","≩","\\gneqq",!0);h("math","ams","rel","","\\@gvertneqq");h("math","ams","rel","⋧","\\gnsim",!0);h("math","ams","rel","⪊","\\gnapprox",!0);h("math","ams","rel","⊁","\\nsucc",!0);h("math","ams",
"rel","⋡","\\nsucceq",!0);h("math","ams","rel","⋩","\\succnsim",!0);h("math","ams","rel","⪺","\\succnapprox",!0);h("math","ams","rel","≆","\\ncong",!0);h("math","ams","rel","","\\@nshortparallel");h("math","ams","rel","∦","\\nparallel",!0);h("math","ams","rel","⊯","\\nVDash",!0);h("math","ams","rel","⋫","\\ntriangleright");h("math","ams","rel","⋭","\\ntrianglerighteq",!0);h("math","ams","rel","","\\@nsupseteqq");h("math","ams","rel","⊋","\\supsetneq",!0);h("math","ams","rel","","\\@varsupsetneq");
h("math","ams","rel","⫌","\\supsetneqq",!0);h("math","ams","rel","","\\@varsupsetneqq");h("math","ams","rel","⊮","\\nVdash",!0);h("math","ams","rel","⪵","\\precneqq",!0);h("math","ams","rel","⪶","\\succneqq",!0);h("math","ams","rel","","\\@nsubseteqq");h("math","ams","bin","⊴","\\unlhd");h("math","ams","bin","⊵","\\unrhd");h("math","ams","rel","↚","\\nleftarrow",!0);h("math","ams","rel","↛","\\nrightarrow",!0);h("math","ams","rel","⇍","\\nLeftarrow",!0);h("math","ams","rel","⇏","\\nRightarrow",
!0);h("math","ams","rel","↮","\\nleftrightarrow",!0);h("math","ams","rel","⇎","\\nLeftrightarrow",!0);h("math","ams","rel","△","\\vartriangle");h("math","ams","textord","ℏ","\\hslash");h("math","ams","textord","▽","\\triangledown");h("math","ams","textord","◊","\\lozenge");h("math","ams","textord","Ⓢ","\\circledS");h("math","ams","textord","®","\\circledR");h("text","ams","textord","®","\\circledR");h("math","ams","textord","∡","\\measuredangle",!0);h("math","ams","textord","∄","\\nexists");h("math",
"ams","textord","℧","\\mho");h("math","ams","textord","Ⅎ","\\Finv",!0);h("math","ams","textord","⅁","\\Game",!0);h("math","ams","textord","‵","\\backprime");h("math","ams","textord","▲","\\blacktriangle");h("math","ams","textord","▼","\\blacktriangledown");h("math","ams","textord","■","\\blacksquare");h("math","ams","textord","⧫","\\blacklozenge");h("math","ams","textord","★","\\bigstar");h("math","ams","textord","∢","\\sphericalangle",!0);h("math","ams","textord","∁","\\complement",!0);h("math",
"ams","textord","ð","\\eth",!0);h("text","main","textord","ð","ð");h("math","ams","textord","╱","\\diagup");h("math","ams","textord","╲","\\diagdown");h("math","ams","textord","□","\\square");h("math","ams","textord","□","\\Box");h("math","ams","textord","◊","\\Diamond");h("math","ams","textord","¥","\\yen",!0);h("text","ams","textord","¥","\\yen",!0);h("math","ams","textord","✓","\\checkmark",!0);h("text","ams","textord","✓","\\checkmark");h("math","ams","textord","ℶ","\\beth",!0);h("math","ams",
"textord","ℸ","\\daleth",!0);h("math","ams","textord","ℷ","\\gimel",!0);h("math","ams","textord","ϝ","\\digamma",!0);h("math","ams","textord","ϰ","\\varkappa");h("math","ams","open","┌","\\@ulcorner",!0);h("math","ams","close","┐","\\@urcorner",!0);h("math","ams","open","└","\\@llcorner",!0);h("math","ams","close","┘","\\@lrcorner",!0);h("math","ams","rel","≦","\\leqq",!0);h("math","ams","rel","⩽","\\leqslant",!0);h("math","ams","rel","⪕","\\eqslantless",!0);h("math","ams","rel","≲","\\lesssim",!0);
h("math","ams","rel","⪅","\\lessapprox",!0);h("math","ams","rel","≊","\\approxeq",!0);h("math","ams","bin","⋖","\\lessdot");h("math","ams","rel","⋘","\\lll",!0);h("math","ams","rel","≶","\\lessgtr",!0);h("math","ams","rel","⋚","\\lesseqgtr",!0);h("math","ams","rel","⪋","\\lesseqqgtr",!0);h("math","ams","rel","≑","\\doteqdot");h("math","ams","rel","≓","\\risingdotseq",!0);h("math","ams","rel","≒","\\fallingdotseq",!0);h("math","ams","rel","∽","\\backsim",!0);h("math","ams","rel","⋍","\\backsimeq",
!0);h("math","ams","rel","⫅","\\subseteqq",!0);h("math","ams","rel","⋐","\\Subset",!0);h("math","ams","rel","⊏","\\sqsubset",!0);h("math","ams","rel","≼","\\preccurlyeq",!0);h("math","ams","rel","⋞","\\curlyeqprec",!0);h("math","ams","rel","≾","\\precsim",!0);h("math","ams","rel","⪷","\\precapprox",!0);h("math","ams","rel","⊲","\\vartriangleleft");h("math","ams","rel","⊴","\\trianglelefteq");h("math","ams","rel","⊨","\\vDash",!0);h("math","ams","rel","⊪","\\Vvdash",!0);h("math","ams","rel","⌣","\\smallsmile");
h("math","ams","rel","⌢","\\smallfrown");h("math","ams","rel","≏","\\bumpeq",!0);h("math","ams","rel","≎","\\Bumpeq",!0);h("math","ams","rel","≧","\\geqq",!0);h("math","ams","rel","⩾","\\geqslant",!0);h("math","ams","rel","⪖","\\eqslantgtr",!0);h("math","ams","rel","≳","\\gtrsim",!0);h("math","ams","rel","⪆","\\gtrapprox",!0);h("math","ams","bin","⋗","\\gtrdot");h("math","ams","rel","⋙","\\ggg",!0);h("math","ams","rel","≷","\\gtrless",!0);h("math","ams","rel","⋛","\\gtreqless",!0);h("math","ams",
"rel","⪌","\\gtreqqless",!0);h("math","ams","rel","≖","\\eqcirc",!0);h("math","ams","rel","≗","\\circeq",!0);h("math","ams","rel","≜","\\triangleq",!0);h("math","ams","rel","∼","\\thicksim");h("math","ams","rel","≈","\\thickapprox");h("math","ams","rel","⫆","\\supseteqq",!0);h("math","ams","rel","⋑","\\Supset",!0);h("math","ams","rel","⊐","\\sqsupset",!0);h("math","ams","rel","≽","\\succcurlyeq",!0);h("math","ams","rel","⋟","\\curlyeqsucc",!0);h("math","ams","rel","≿","\\succsim",!0);h("math","ams",
"rel","⪸","\\succapprox",!0);h("math","ams","rel","⊳","\\vartriangleright");h("math","ams","rel","⊵","\\trianglerighteq");h("math","ams","rel","⊩","\\Vdash",!0);h("math","ams","rel","∣","\\shortmid");h("math","ams","rel","∥","\\shortparallel");h("math","ams","rel","≬","\\between",!0);h("math","ams","rel","⋔","\\pitchfork",!0);h("math","ams","rel","∝","\\varpropto");h("math","ams","rel","◀","\\blacktriangleleft");h("math","ams","rel","∴","\\therefore",!0);h("math","ams","rel","∍","\\backepsilon");
h("math","ams","rel","▶","\\blacktriangleright");h("math","ams","rel","∵","\\because",!0);h("math","ams","rel","⋘","\\llless");h("math","ams","rel","⋙","\\gggtr");h("math","ams","bin","⊲","\\lhd");h("math","ams","bin","⊳","\\rhd");h("math","ams","rel","≂","\\eqsim",!0);h("math","main","rel","⋈","\\Join");h("math","ams","rel","≑","\\Doteq",!0);h("math","ams","bin","∔","\\dotplus",!0);h("math","ams","bin","∖","\\smallsetminus");h("math","ams","bin","⋒","\\Cap",!0);h("math","ams","bin","⋓","\\Cup",!0);
h("math","ams","bin","⩞","\\doublebarwedge",!0);h("math","ams","bin","⊟","\\boxminus",!0);h("math","ams","bin","⊞","\\boxplus",!0);h("math","ams","bin","⋇","\\divideontimes",!0);h("math","ams","bin","⋉","\\ltimes",!0);h("math","ams","bin","⋊","\\rtimes",!0);h("math","ams","bin","⋋","\\leftthreetimes",!0);h("math","ams","bin","⋌","\\rightthreetimes",!0);h("math","ams","bin","⋏","\\curlywedge",!0);h("math","ams","bin","⋎","\\curlyvee",!0);h("math","ams","bin","⊝","\\circleddash",!0);h("math","ams",
"bin","⊛","\\circledast",!0);h("math","ams","bin","⋅","\\centerdot");h("math","ams","bin","⊺","\\intercal",!0);h("math","ams","bin","⋒","\\doublecap");h("math","ams","bin","⋓","\\doublecup");h("math","ams","bin","⊠","\\boxtimes",!0);h("math","ams","rel","⇢","\\dashrightarrow",!0);h("math","ams","rel","⇠","\\dashleftarrow",!0);h("math","ams","rel","⇇","\\leftleftarrows",!0);h("math","ams","rel","⇆","\\leftrightarrows",!0);h("math","ams","rel","⇚","\\Lleftarrow",!0);h("math","ams","rel","↞","\\twoheadleftarrow",
!0);h("math","ams","rel","↢","\\leftarrowtail",!0);h("math","ams","rel","↫","\\looparrowleft",!0);h("math","ams","rel","⇋","\\leftrightharpoons",!0);h("math","ams","rel","↶","\\curvearrowleft",!0);h("math","ams","rel","↺","\\circlearrowleft",!0);h("math","ams","rel","↰","\\Lsh",!0);h("math","ams","rel","⇈","\\upuparrows",!0);h("math","ams","rel","↿","\\upharpoonleft",!0);h("math","ams","rel","⇃","\\downharpoonleft",!0);h("math","main","rel","⊶","\\origof",!0);h("math","main","rel","⊷","\\imageof",
!0);h("math","ams","rel","⊸","\\multimap",!0);h("math","ams","rel","↭","\\leftrightsquigarrow",!0);h("math","ams","rel","⇉","\\rightrightarrows",!0);h("math","ams","rel","⇄","\\rightleftarrows",!0);h("math","ams","rel","↠","\\twoheadrightarrow",!0);h("math","ams","rel","↣","\\rightarrowtail",!0);h("math","ams","rel","↬","\\looparrowright",!0);h("math","ams","rel","↷","\\curvearrowright",!0);h("math","ams","rel","↻","\\circlearrowright",!0);h("math","ams","rel","↱","\\Rsh",!0);h("math","ams","rel",
"⇊","\\downdownarrows",!0);h("math","ams","rel","↾","\\upharpoonright",!0);h("math","ams","rel","⇂","\\downharpoonright",!0);h("math","ams","rel","⇝","\\rightsquigarrow",!0);h("math","ams","rel","⇝","\\leadsto");h("math","ams","rel","⇛","\\Rrightarrow",!0);h("math","ams","rel","↾","\\restriction");h("math","main","textord","‘","`");h("math","main","textord","$","\\$");h("text","main","textord","$","\\$");h("text","main","textord","$","\\textdollar");h("math","main","textord","%","\\%");h("text","main",
"textord","%","\\%");h("math","main","textord","_","\\_");h("text","main","textord","_","\\_");h("text","main","textord","_","\\textunderscore");h("math","main","textord","∠","\\angle",!0);h("math","main","textord","∞","\\infty",!0);h("math","main","textord","′","\\prime");h("math","main","textord","△","\\triangle");h("math","main","textord","Γ","\\Gamma",!0);h("math","main","textord","Δ","\\Delta",!0);h("math","main","textord","Θ","\\Theta",!0);h("math","main","textord","Λ","\\Lambda",!0);h("math",
"main","textord","Ξ","\\Xi",!0);h("math","main","textord","Π","\\Pi",!0);h("math","main","textord","Σ","\\Sigma",!0);h("math","main","textord","Υ","\\Upsilon",!0);h("math","main","textord","Φ","\\Phi",!0);h("math","main","textord","Ψ","\\Psi",!0);h("math","main","textord","Ω","\\Omega",!0);h("math","main","textord","A","Α");h("math","main","textord","B","Β");h("math","main","textord","E","Ε");h("math","main","textord","Z","Ζ");h("math","main","textord","H","Η");h("math","main","textord","I","Ι");
h("math","main","textord","K","Κ");h("math","main","textord","M","Μ");h("math","main","textord","N","Ν");h("math","main","textord","O","Ο");h("math","main","textord","P","Ρ");h("math","main","textord","T","Τ");h("math","main","textord","X","Χ");h("math","main","textord","¬","\\neg",!0);h("math","main","textord","¬","\\lnot");h("math","main","textord","⊤","\\top");h("math","main","textord","⊥","\\bot");h("math","main","textord","∅","\\emptyset");h("math","ams","textord","∅","\\varnothing");h("math",
"main","mathord","α","\\alpha",!0);h("math","main","mathord","β","\\beta",!0);h("math","main","mathord","γ","\\gamma",!0);h("math","main","mathord","δ","\\delta",!0);h("math","main","mathord","ϵ","\\epsilon",!0);h("math","main","mathord","ζ","\\zeta",!0);h("math","main","mathord","η","\\eta",!0);h("math","main","mathord","θ","\\theta",!0);h("math","main","mathord","ι","\\iota",!0);h("math","main","mathord","κ","\\kappa",!0);h("math","main","mathord","λ","\\lambda",!0);h("math","main","mathord","μ",
"\\mu",!0);h("math","main","mathord","ν","\\nu",!0);h("math","main","mathord","ξ","\\xi",!0);h("math","main","mathord","ο","\\omicron",!0);h("math","main","mathord","π","\\pi",!0);h("math","main","mathord","ρ","\\rho",!0);h("math","main","mathord","σ","\\sigma",!0);h("math","main","mathord","τ","\\tau",!0);h("math","main","mathord","υ","\\upsilon",!0);h("math","main","mathord","ϕ","\\phi",!0);h("math","main","mathord","χ","\\chi",!0);h("math","main","mathord","ψ","\\psi",!0);h("math","main","mathord",
"ω","\\omega",!0);h("math","main","mathord","ε","\\varepsilon",!0);h("math","main","mathord","ϑ","\\vartheta",!0);h("math","main","mathord","ϖ","\\varpi",!0);h("math","main","mathord","ϱ","\\varrho",!0);h("math","main","mathord","ς","\\varsigma",!0);h("math","main","mathord","φ","\\varphi",!0);h("math","main","bin","∗","*",!0);h("math","main","bin","+","+");h("math","main","bin","−","-",!0);h("math","main","bin","⋅","\\cdot",!0);h("math","main","bin","∘","\\circ",!0);h("math","main","bin","÷","\\div",
!0);h("math","main","bin","±","\\pm",!0);h("math","main","bin","×","\\times",!0);h("math","main","bin","∩","\\cap",!0);h("math","main","bin","∪","\\cup",!0);h("math","main","bin","∖","\\setminus",!0);h("math","main","bin","∧","\\land");h("math","main","bin","∨","\\lor");h("math","main","bin","∧","\\wedge",!0);h("math","main","bin","∨","\\vee",!0);h("math","main","textord","√","\\surd");h("math","main","open","⟨","\\langle",!0);h("math","main","open","∣","\\lvert");h("math","main","open","∥","\\lVert");
h("math","main","close","?","?");h("math","main","close","!","!");h("math","main","close","⟩","\\rangle",!0);h("math","main","close","∣","\\rvert");h("math","main","close","∥","\\rVert");h("math","main","rel","\x3d","\x3d");h("math","main","rel",":",":");h("math","main","rel","≈","\\approx",!0);h("math","main","rel","≅","\\cong",!0);h("math","main","rel","≥","\\ge");h("math","main","rel","≥","\\geq",!0);h("math","main","rel","←","\\gets");h("math","main","rel","\x3e","\\gt",!0);h("math","main","rel",
"∈","\\in",!0);h("math","main","rel","","\\@not");h("math","main","rel","⊂","\\subset",!0);h("math","main","rel","⊃","\\supset",!0);h("math","main","rel","⊆","\\subseteq",!0);h("math","main","rel","⊇","\\supseteq",!0);h("math","ams","rel","⊈","\\nsubseteq",!0);h("math","ams","rel","⊉","\\nsupseteq",!0);h("math","main","rel","⊨","\\models");h("math","main","rel","←","\\leftarrow",!0);h("math","main","rel","≤","\\le");h("math","main","rel","≤","\\leq",!0);h("math","main","rel","\x3c","\\lt",!0);h("math",
"main","rel","→","\\rightarrow",!0);h("math","main","rel","→","\\to");h("math","ams","rel","≱","\\ngeq",!0);h("math","ams","rel","≰","\\nleq",!0);h("math","main","spacing"," ","\\ ");h("math","main","spacing"," ","\\space");h("math","main","spacing"," ","\\nobreakspace");h("text","main","spacing"," ","\\ ");h("text","main","spacing"," "," ");h("text","main","spacing"," ","\\space");h("text","main","spacing"," ","\\nobreakspace");h("math","main","spacing",null,"\\nobreak");h("math","main","spacing",
null,"\\allowbreak");h("math","main","punct",",",",");h("math","main","punct",";",";");h("math","ams","bin","⊼","\\barwedge",!0);h("math","ams","bin","⊻","\\veebar",!0);h("math","main","bin","⊙","\\odot",!0);h("math","main","bin","⊕","\\oplus",!0);h("math","main","bin","⊗","\\otimes",!0);h("math","main","textord","∂","\\partial",!0);h("math","main","bin","⊘","\\oslash",!0);h("math","ams","bin","⊚","\\circledcirc",!0);h("math","ams","bin","⊡","\\boxdot",!0);h("math","main","bin","△","\\bigtriangleup");
h("math","main","bin","▽","\\bigtriangledown");h("math","main","bin","†","\\dagger");h("math","main","bin","⋄","\\diamond");h("math","main","bin","⋆","\\star");h("math","main","bin","◃","\\triangleleft");h("math","main","bin","▹","\\triangleright");h("math","main","open","{","\\{");h("text","main","textord","{","\\{");h("text","main","textord","{","\\textbraceleft");h("math","main","close","}","\\}");h("text","main","textord","}","\\}");h("text","main","textord","}","\\textbraceright");h("math","main",
"open","{","\\lbrace");h("math","main","close","}","\\rbrace");h("math","main","open","[","\\lbrack",!0);h("text","main","textord","[","\\lbrack",!0);h("math","main","close","]","\\rbrack",!0);h("text","main","textord","]","\\rbrack",!0);h("math","main","open","(","\\lparen",!0);h("math","main","close",")","\\rparen",!0);h("text","main","textord","\x3c","\\textless",!0);h("text","main","textord","\x3e","\\textgreater",!0);h("math","main","open","⌊","\\lfloor",!0);h("math","main","close","⌋","\\rfloor",
!0);h("math","main","open","⌈","\\lceil",!0);h("math","main","close","⌉","\\rceil",!0);h("math","main","textord","\\","\\backslash");h("math","main","textord","∣","|");h("math","main","textord","∣","\\vert");h("text","main","textord","|","\\textbar",!0);h("math","main","textord","∥","\\|");h("math","main","textord","∥","\\Vert");h("text","main","textord","∥","\\textbardbl");h("text","main","textord","~","\\textasciitilde");h("text","main","textord","\\","\\textbackslash");h("text","main","textord",
"^","\\textasciicircum");h("math","main","rel","↑","\\uparrow",!0);h("math","main","rel","⇑","\\Uparrow",!0);h("math","main","rel","↓","\\downarrow",!0);h("math","main","rel","⇓","\\Downarrow",!0);h("math","main","rel","↕","\\updownarrow",!0);h("math","main","rel","⇕","\\Updownarrow",!0);h("math","main","op-token","∐","\\coprod");h("math","main","op-token","⋁","\\bigvee");h("math","main","op-token","⋀","\\bigwedge");h("math","main","op-token","⨄","\\biguplus");h("math","main","op-token","⋂","\\bigcap");
h("math","main","op-token","⋃","\\bigcup");h("math","main","op-token","∫","\\int");h("math","main","op-token","∫","\\intop");h("math","main","op-token","∬","\\iint");h("math","main","op-token","∭","\\iiint");h("math","main","op-token","∏","\\prod");h("math","main","op-token","∑","\\sum");h("math","main","op-token","⨂","\\bigotimes");h("math","main","op-token","⨁","\\bigoplus");h("math","main","op-token","⨀","\\bigodot");h("math","main","op-token","∮","\\oint");h("math","main","op-token","∯","\\oiint");
h("math","main","op-token","∰","\\oiiint");h("math","main","op-token","⨆","\\bigsqcup");h("math","main","op-token","∫","\\smallint");h("text","main","inner","…","\\textellipsis");h("math","main","inner","…","\\mathellipsis");h("text","main","inner","…","\\ldots",!0);h("math","main","inner","…","\\ldots",!0);h("math","main","inner","⋯","\\@cdots",!0);h("math","main","inner","⋱","\\ddots",!0);h("math","main","textord","⋮","\\varvdots");h("math","main","accent-token","ˊ","\\acute");h("math","main","accent-token",
"ˋ","\\grave");h("math","main","accent-token","¨","\\ddot");h("math","main","accent-token","~","\\tilde");h("math","main","accent-token","ˉ","\\bar");h("math","main","accent-token","˘","\\breve");h("math","main","accent-token","ˇ","\\check");h("math","main","accent-token","^","\\hat");h("math","main","accent-token","⃗","\\vec");h("math","main","accent-token","˙","\\dot");h("math","main","accent-token","˚","\\mathring");h("math","main","mathord","","\\@imath");h("math","main","mathord","","\\@jmath");
h("math","main","textord","ı","ı");h("math","main","textord","ȷ","ȷ");h("text","main","textord","ı","\\i",!0);h("text","main","textord","ȷ","\\j",!0);h("text","main","textord","ß","\\ss",!0);h("text","main","textord","æ","\\ae",!0);h("text","main","textord","œ","\\oe",!0);h("text","main","textord","ø","\\o",!0);h("text","main","textord","Æ","\\AE",!0);h("text","main","textord","Œ","\\OE",!0);h("text","main","textord","Ø","\\O",!0);h("text","main","accent-token","ˊ","\\'");h("text","main","accent-token",
"ˋ","\\`");h("text","main","accent-token","ˆ","\\^");h("text","main","accent-token","˜","\\~");h("text","main","accent-token","ˉ","\\\x3d");h("text","main","accent-token","˘","\\u");h("text","main","accent-token","˙","\\.");h("text","main","accent-token","¸","\\c");h("text","main","accent-token","˚","\\r");h("text","main","accent-token","ˇ","\\v");h("text","main","accent-token","¨",'\\"');h("text","main","accent-token","˝","\\H");h("text","main","accent-token","◯","\\textcircled");const Xd={"--":!0,
"---":!0,"``":!0,"''":!0};h("text","main","textord","–","--",!0);h("text","main","textord","–","\\textendash");h("text","main","textord","—","---",!0);h("text","main","textord","—","\\textemdash");h("text","main","textord","‘","`",!0);h("text","main","textord","‘","\\textquoteleft");h("text","main","textord","’","'",!0);h("text","main","textord","’","\\textquoteright");h("text","main","textord","“","``",!0);h("text","main","textord","“","\\textquotedblleft");h("text","main","textord","”","''",!0);
h("text","main","textord","”","\\textquotedblright");h("math","main","textord","°","\\degree",!0);h("text","main","textord","°","\\degree");h("text","main","textord","°","\\textdegree",!0);h("math","main","textord","£","\\pounds");h("math","main","textord","£","\\mathsterling",!0);h("text","main","textord","£","\\pounds");h("text","main","textord","£","\\textsterling",!0);h("math","ams","textord","✠","\\maltese");h("text","ams","textord","✠","\\maltese");for(let d=0;14>d;d++){const g='0123456789/@."'.charAt(d);
h("math","main","textord",g,g)}for(let d=0;25>d;d++){const g='0123456789!@*()-\x3d+";:?/.,'.charAt(d);h("text","main","textord",g,g)}for(let d=0;52>d;d++){const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(d);h("math","main","mathord",g,g);h("text","main","textord",g,g)}h("math","ams","textord","C","ℂ");h("text","ams","textord","C","ℂ");h("math","ams","textord","H","ℍ");h("text","ams","textord","H","ℍ");h("math","ams","textord","N","ℕ");h("text","ams","textord","N","ℕ");h("math",
"ams","textord","P","ℙ");h("text","ams","textord","P","ℙ");h("math","ams","textord","Q","ℚ");h("text","ams","textord","Q","ℚ");h("math","ams","textord","R","ℝ");h("text","ams","textord","R","ℝ");h("math","ams","textord","Z","ℤ");h("text","ams","textord","Z","ℤ");h("math","main","mathord","h","ℎ");h("text","main","mathord","h","ℎ");let Hc="";for(let d=0;52>d;d++){const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(d);Hc=String.fromCharCode(55349,56320+d);h("math","main","mathord",
g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56372+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56424+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56580+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56684+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56736+d);h("math","main","mathord",
g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56788+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56840+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,56944+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);26>d&&(Hc=String.fromCharCode(55349,56632+d),h("math","main","mathord",g,Hc),h("text","main","textord",g,Hc),Hc=String.fromCharCode(55349,56476+d),h("math","main",
"mathord",g,Hc),h("text","main","textord",g,Hc))}Hc=String.fromCharCode(55349,56668);h("math","main","mathord","k",Hc);h("text","main","textord","k",Hc);for(let d=0;10>d;d++){const g=d.toString();Hc=String.fromCharCode(55349,57294+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,57314+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);Hc=String.fromCharCode(55349,57324+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc);
Hc=String.fromCharCode(55349,57334+d);h("math","main","mathord",g,Hc);h("text","main","textord",g,Hc)}for(let d=0;3>d;d++){const g="ÐÞþ".charAt(d);h("math","main","mathord",g,g);h("text","main","textord",g,g)}const Jd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],
["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf",
"SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],hc=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],He=function(d,g){var y=d.charCodeAt(0);const L=d.charCodeAt(1);y=1024*(y-55296)+(L-56320)+65536;g="math"===g?0:1;if(119808<=y&&120484>y)return d=Math.floor((y-119808)/26),[Jd[d][2],Jd[d][g]];if(120782<=
y&&120831>=y)return d=Math.floor((y-120782)/10),[hc[d][2],hc[d][g]];if(120485===y||120486===y)return[Jd[0][2],Jd[0][g]];if(120486<y&&120782>y)return["",""];throw new Va("Unsupported character: "+d);},Rd=function(d,g,y){kd[y][d]&&kd[y][d].replace&&(d=kd[y][d].replace);return{value:d,metrics:r(d,g,y)}},$d=function(d,g,y,L,Z){d=Rd(d,g,y);const sa=d.metrics;d=d.value;if(sa){g=sa.italic;if("text"===y||L&&"mathit"===L.font)g=0;y=new Ed(d,sa.height,sa.depth,g,sa.skew,sa.width,Z)}else"undefined"!==typeof console&&
console.warn("No character metrics for '"+(d+"' in style '"+g+"' and mode '"+y+"'")),y=new Ed(d,0,0,0,0,0,Z);L&&(y.maxFontSize=L.sizeMultiplier,L.style.isTight()&&y.classes.push("mtight"),L=L.getColor())&&(y.style.color=L);return y},le=(d,g)=>{if(id(d.classes)!==id(g.classes)||d.skew!==g.skew||d.maxFontSize!==g.maxFontSize)return!1;if(1===d.classes.length){const y=d.classes[0];if("mbin"===y||"mord"===y)return!1}for(const y in d.style)if(d.style.hasOwnProperty(y)&&d.style[y]!==g.style[y])return!1;
for(const y in g.style)if(g.style.hasOwnProperty(y)&&d.style[y]!==g.style[y])return!1;return!0},me=function(d){let g=0,y=0,L=0;for(let Z=0;Z<d.children.length;Z++){const sa=d.children[Z];sa.height>g&&(g=sa.height);sa.depth>y&&(y=sa.depth);sa.maxFontSize>L&&(L=sa.maxFontSize)}d.height=g;d.depth=y;d.maxFontSize=L},nd=function(d,g,y,L){d=new rd(d,g,y,L);me(d);return d},ue=(d,g,y,L)=>new rd(d,g,y,L),Be=function(d){d=new gb(d);me(d);return d},qe=function(d,g,y){switch(d){case "amsrm":d="AMS";break;case "textrm":d=
"Main";break;case "textsf":d="SansSerif";break;case "texttt":d="Typewriter"}return d+"-"+("textbf"===g&&"textit"===y?"BoldItalic":"textbf"===g?"Bold":"textit"===g?"Italic":"Regular")},Ee={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",
fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},od={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var mb={fontMap:Ee,makeSymbol:$d,mathsym:function(d,g,y,L){void 0===
L&&(L=[]);return"boldsymbol"===y.font&&Rd(d,"Main-Bold",g).metrics?$d(d,"Main-Bold",g,y,L.concat(["mathbf"])):"\\"===d||"main"===kd[g][d].font?$d(d,"Main-Regular",g,y,L):$d(d,"AMS-Regular",g,y,L.concat(["amsrm"]))},makeSpan:nd,makeSvgSpan:ue,makeLineSpan:function(d,g,y){d=nd([d],[],g);d.height=Math.max(y||g.fontMetrics().defaultRuleThickness,g.minRuleThickness);d.style.borderBottomWidth=Rb(d.height);d.maxFontSize=1;return d},makeAnchor:function(d,g,y,L){d=new Wd(d,g,y,L);me(d);return d},makeFragment:Be,
wrapFragment:function(d,g){return d instanceof gb?nd([],[d],g):d},makeVList:function(d,g){if("individualShift"===d.positionType){d=d.children;g=[d[0]];var y=-d[0].shift-d[0].elem.depth,L=y;for(var Z=1;Z<d.length;Z++){var sa=-d[Z].shift-L-d[Z].elem.depth,ta=sa-(d[Z-1].elem.height+d[Z-1].elem.depth);L+=sa;g.push({type:"kern",size:ta});g.push(d[Z])}d={children:g,depth:y}}else{if("top"===d.positionType)for(g=d.positionData,y=0;y<d.children.length;y++)L=d.children[y],g-="kern"===L.type?L.size:L.elem.height+
L.elem.depth;else if("bottom"===d.positionType)g=-d.positionData;else{g=d.children[0];if("elem"!==g.type)throw Error('First child must have type "elem".');if("shift"===d.positionType)g=-g.elem.depth-d.positionData;else if("firstBaseline"===d.positionType)g=-g.elem.depth;else throw Error("Invalid positionType "+d.positionType+".");}d={children:d.children,depth:g}}const {children:Ra,depth:eb}=d;y=0;for(d=0;d<Ra.length;d++)g=Ra[d],"elem"===g.type&&(g=g.elem,y=Math.max(y,g.maxFontSize,g.height));y+=2;
L=nd(["pstrut"],[]);L.style.height=Rb(y);Z=[];sa=g=d=eb;for(ta=0;ta<Ra.length;ta++){const Cb=Ra[ta];if("kern"===Cb.type)sa+=Cb.size;else{const pc=Cb.elem,rc=nd(Cb.wrapperClasses||[],[L,pc],void 0,Cb.wrapperStyle||{});rc.style.top=Rb(-y-sa-pc.depth);Cb.marginLeft&&(rc.style.marginLeft=Cb.marginLeft);Cb.marginRight&&(rc.style.marginRight=Cb.marginRight);Z.push(rc);sa+=pc.height+pc.depth}d=Math.min(d,sa);g=Math.max(g,sa)}y=nd(["vlist"],Z);y.style.height=Rb(g);0>d?(L=nd([],[]),L=nd(["vlist"],[L]),L.style.height=
Rb(-d),Z=nd(["vlist-s"],[new Ed("​")]),y=[nd(["vlist-r"],[y,Z]),nd(["vlist-r"],[L])]):y=[nd(["vlist-r"],[y])];L=nd(["vlist-t"],y);2===y.length&&L.classes.push("vlist-t2");L.height=g;L.depth=-d;return L},makeOrd:function(d,g,y){const L=d.mode;d=d.text;const Z=["mord"];var sa="math"===L||"text"===L&&g.font,ta=sa?g.font:g.fontFamily,Ra="";let eb="";55349===d.charCodeAt(0)&&([Ra,eb]=He(d,L));if(0<Ra.length)return $d(d,Ra,L,g,Z.concat(eb));if(ta){"boldsymbol"===ta?(ta="textord"!==y&&Rd(d,"Math-BoldItalic",
L).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"},sa=ta.fontName,ta=[ta.fontClass]):sa?(sa=Ee[ta].fontName,ta=[ta]):(sa=qe(ta,g.fontWeight,g.fontShape),ta=[ta,g.fontWeight,g.fontShape]);if(Rd(d,sa,L).metrics)return $d(d,sa,L,g,Z.concat(ta));if(Xd.hasOwnProperty(d)&&"Typewriter"===sa.slice(0,10)){y=[];for(Ra=0;Ra<d.length;Ra++)y.push($d(d[Ra],sa,L,g,Z.concat(ta)));return Be(y)}}if("mathord"===y)return $d(d,"Math-Italic",L,g,Z.concat(["mathnormal"]));
if("textord"===y){y=kd[L][d]&&kd[L][d].font;if("ams"===y)return y=qe("amsrm",g.fontWeight,g.fontShape),$d(d,y,L,g,Z.concat("amsrm",g.fontWeight,g.fontShape));if("main"!==y&&y)return y=qe(y,g.fontWeight,g.fontShape),$d(d,y,L,g,Z.concat(y,g.fontWeight,g.fontShape));y=qe("textrm",g.fontWeight,g.fontShape);return $d(d,y,L,g,Z.concat(g.fontWeight,g.fontShape))}throw Error("unexpected type: "+y+" in makeOrd");},makeGlue:(d,g)=>{const y=nd(["mspace"],[],g);d=Gc(d,g);y.style.marginRight=Rb(d);return y},staticSvg:function(d,
g){const [y,L,Z]=od[d];d=new Sd(y);d=new Md([d],{width:Rb(L),height:Rb(Z),style:"width:"+Rb(L),viewBox:"0 0 "+1E3*L+" "+1E3*Z,preserveAspectRatio:"xMinYMin"});g=ue(["overlay"],[d],g);g.height=Z;g.style.height=Rb(Z);g.style.width=Rb(L);return g},svgData:od,tryCombineChars:d=>{for(let g=0;g<d.length-1;g++){const y=d[g],L=d[g+1];y instanceof Ed&&L instanceof Ed&&le(y,L)&&(y.text+=L.text,y.height=Math.max(y.height,L.height),y.depth=Math.max(y.depth,L.depth),y.italic=L.italic,d.splice(g+1,1),g--)}return d}};
const sd={number:3,unit:"mu"},ee={number:4,unit:"mu"},Bd={number:5,unit:"mu"},Nd={mord:{mop:sd,mbin:ee,mrel:Bd,minner:sd},mop:{mord:sd,mop:sd,mrel:Bd,minner:sd},mbin:{mord:ee,mop:ee,mopen:ee,minner:ee},mrel:{mord:Bd,mop:Bd,mopen:Bd,minner:Bd},mopen:{},mclose:{mop:sd,mbin:ee,mrel:Bd,minner:sd},mpunct:{mord:sd,mop:sd,mrel:Bd,mopen:sd,mclose:sd,mpunct:sd,minner:sd},minner:{mord:sd,mop:sd,mbin:ee,mrel:Bd,mopen:sd,mpunct:sd,minner:sd}},Ie={mord:{mop:sd},mop:{mord:sd,mop:sd},mbin:{},mrel:{},mopen:{},mclose:{mop:sd},
mpunct:{},minner:{mop:sd}},ca={},ma={},Fa={},Ja=function(d){return"ordgroup"===d.type&&1===d.body.length?d.body[0]:d},Za=function(d){return"ordgroup"===d.type?d.body:[d]},Ia=mb.makeSpan,Wa="leftmost mbin mopen mrel mop mpunct".split(" "),lb=["rightmost","mrel","mclose","mpunct"],nb={display:za,text:Ka,script:fb,scriptscript:fa},sb={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},rb=function(d,g,y,L){void 0===L&&(L=[null,null]);const Z=[];
for(let ta=0;ta<d.length;ta++){const Ra=ic(d[ta],g);Ra instanceof gb?Z.push(...Ra.children):Z.push(Ra)}mb.tryCombineChars(Z);if(!y)return Z;let sa=g;1===d.length&&(d=d[0],"sizing"===d.type?sa=g.havingSize(d.size):"styling"===d.type&&(sa=g.havingStyle(nb[d.style])));d=Ia([L[0]||"leftmost"],[],g);g=Ia([L[1]||"rightmost"],[],g);y="root"===y;Lb(Z,(ta,Ra)=>{const eb=Ra.classes[0],Cb=ta.classes[0];"mbin"===eb&&Ma.contains(lb,Cb)?Ra.classes[0]="mord":"mbin"===Cb&&Ma.contains(Wa,eb)&&(ta.classes[0]="mord")},
{node:d},g,y);Lb(Z,(ta,Ra)=>{Ra=$b(Ra);const eb=$b(ta);if(ta=Ra&&eb?ta.hasClass("mtight")?Ie[Ra][eb]:Nd[Ra][eb]:null)return mb.makeGlue(ta,sa)},{node:d},g,y);return Z},Lb=function(d,g,y,L,Z){L&&d.push(L);let sa=0;for(;sa<d.length;sa++){const Ra=d[sa];var ta=oc(Ra);if(ta)Lb(ta.children,g,y,null,Z);else{if(ta=!Ra.hasClass("mspace")){const eb=g(Ra,y.node);eb&&(y.insertAfter?y.insertAfter(eb):(d.unshift(eb),sa++))}ta?y.node=Ra:Z&&Ra.hasClass("newline")&&(y.node=Ia(["leftmost"]));y.insertAfter=(eb=>Cb=>
{d.splice(eb+1,0,Cb);sa++})(sa)}}L&&d.pop()},oc=function(d){return d instanceof gb||d instanceof Wd||d instanceof rd&&d.hasClass("enclosing")?d:null},Ub=function(d,g){var y=oc(d);if(y&&(y=y.children,y.length)){if("right"===g)return Ub(y[y.length-1],"right");if("left"===g)return Ub(y[0],"left")}return d},$b=function(d,g){if(!d)return null;g&&(d=Ub(d,g));return sb[d.classes[0]]||null},Sb=function(d,g){d=["nulldelimiter"].concat(d.baseSizingClasses());return Ia(g.concat(d))},ic=function(d,g,y){if(!d)return Ia();
if(ma[d.type])return d=ma[d.type](d,g),y&&g.size!==y.size&&(d=Ia(g.sizingClasses(y),[d],g),g=g.sizeMultiplier/y.sizeMultiplier,d.height*=g,d.depth*=g),d;throw new Va("Got group of unknown type: '"+d.type+"'");};class kc{constructor(d,g,y){this.classes=this.children=this.attributes=this.type=void 0;this.type=d;this.attributes={};this.children=g||[];this.classes=y||[]}setAttribute(d,g){this.attributes[d]=g}getAttribute(d){return this.attributes[d]}toNode(){const d=document.createElementNS("http://www.w3.org/1998/Math/MathML",
this.type);for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&d.setAttribute(g,this.attributes[g]);0<this.classes.length&&(d.className=id(this.classes));for(g=0;g<this.children.length;g++)d.appendChild(this.children[g].toNode());return d}toMarkup(){let d="\x3c"+this.type;for(var g in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,g)&&(d+=" "+g+'\x3d"',d+=Ma.escape(this.attributes[g]),d+='"');0<this.classes.length&&(d+=' class \x3d"'+Ma.escape(id(this.classes))+
'"');d+="\x3e";for(g=0;g<this.children.length;g++)d+=this.children[g].toMarkup();return d+="\x3c/"+this.type+"\x3e"}toText(){return this.children.map(d=>d.toText()).join("")}}class Sc{constructor(d){this.text=void 0;this.text=d}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ma.escape(this.toText())}toText(){return this.text}}class Xc{constructor(d){this.character=this.width=void 0;this.width=d;this.character=.05555<=d&&.05556>=d?" ":.1666<=d&&.1667>=d?" ":.2222<=d&&.2223>=d?
" ":.2777<=d&&.2778>=d?"  ":-.05556<=d&&-.05555>=d?" ⁣":-.1667<=d&&-.1666>=d?" ⁣":-.2223<=d&&-.2222>=d?" ⁣":-.2778<=d&&-.2777>=d?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);const d=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");d.setAttribute("width",Rb(this.width));return d}toMarkup(){return this.character?"\x3cmtext\x3e"+this.character+"\x3c/mtext\x3e":'\x3cmspace width\x3d"'+Rb(this.width)+'"/\x3e'}toText(){return this.character?
this.character:" "}}var Fb={MathNode:kc,TextNode:Sc,SpaceNode:Xc,newDocumentFragment:p};const hd=function(d,g,y){!kd[g][d]||!kd[g][d].replace||55349===d.charCodeAt(0)||Xd.hasOwnProperty(d)&&y&&(y.fontFamily&&"tt"===y.fontFamily.slice(4,6)||y.font&&"tt"===y.font.slice(4,6))||(d=kd[g][d].replace);return new Fb.TextNode(d)},xc=function(d){return 1===d.length?d[0]:new Fb.MathNode("mrow",d)},Bc=function(d,g){if("texttt"===g.fontFamily)return"monospace";if("textsf"===g.fontFamily)return"textit"===g.fontShape&&
"textbf"===g.fontWeight?"sans-serif-bold-italic":"textit"===g.fontShape?"sans-serif-italic":"textbf"===g.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===g.fontShape&&"textbf"===g.fontWeight)return"bold-italic";if("textit"===g.fontShape)return"italic";if("textbf"===g.fontWeight)return"bold";g=g.font;if(!g||"mathnormal"===g)return null;const y=d.mode;if("mathit"===g)return"italic";if("boldsymbol"===g)return"textord"===d.type?"bold":"bold-italic";if("mathbf"===g)return"bold";if("mathbb"===g)return"double-struck";
if("mathfrak"===g)return"fraktur";if("mathscr"===g||"mathcal"===g)return"script";if("mathsf"===g)return"sans-serif";if("mathtt"===g)return"monospace";d=d.text;if(Ma.contains(["\\imath","\\jmath"],d))return null;kd[y][d]&&kd[y][d].replace&&(d=kd[y][d].replace);return r(d,mb.fontMap[g].fontName,y)?mb.fontMap[g].variant:null},sc=function(d,g,y){if(1===d.length)return d=Jc(d[0],g),y&&d instanceof kc&&"mo"===d.type&&(d.setAttribute("lspace","0em"),d.setAttribute("rspace","0em")),[d];y=[];for(let Z=0;Z<
d.length;Z++){const sa=Jc(d[Z],g);if(sa instanceof kc&&L instanceof kc)if("mtext"===sa.type&&"mtext"===L.type&&sa.getAttribute("mathvariant")===L.getAttribute("mathvariant")){L.children.push(...sa.children);continue}else if("mn"===sa.type&&"mn"===L.type){L.children.push(...sa.children);continue}else if("mi"===sa.type&&1===sa.children.length&&"mn"===L.type){const ta=sa.children[0];if(ta instanceof Sc&&"."===ta.text){L.children.push(...sa.children);continue}}else if("mi"===L.type&&1===L.children.length){var L=
L.children[0];L instanceof Sc&&"̸"===L.text&&("mo"===sa.type||"mi"===sa.type||"mn"===sa.type)&&(L=sa.children[0],L instanceof Sc&&0<L.text.length&&(L.text=L.text.slice(0,1)+"̸"+L.text.slice(1),y.pop()))}y.push(sa);L=sa}return y},Jc=function(d,g){if(!d)return new Fb.MathNode("mrow");if(Fa[d.type])return Fa[d.type](d,g);throw new Va("Got group of unknown type: '"+d.type+"'");},zc=function(d){return new wc({style:d.displayMode?za:Ka,maxSize:d.maxSize,minRuleThickness:d.minRuleThickness})},bd=function(d,
g){if(g.displayMode){const y=["katex-display"];g.leqno&&y.push("leqno");g.fleqn&&y.push("fleqn");d=mb.makeSpan(y,[d])}return d},Od={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",
xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"\x3d",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"\x3d"},Zd={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],
underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],
.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],
.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],
1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],
1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]};var jd={encloseSpan:function(d,g,y,L,Z){d=d.height+d.depth+y+L;if(/fbox|color|angl/.test(g)){if(y=mb.makeSpan(["stretchy",g],[],Z),"fbox"===g&&(Z=Z.color&&Z.getColor()))y.style.borderColor=Z}else y=[],/^[bx]cancel$/.test(g)&&y.push(new pe({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(g)&&
y.push(new pe({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"})),g=new Md(y,{width:"100%",height:Rb(d)}),y=mb.makeSvgSpan([],[g],Z);y.height=d;y.style.height=Rb(d);return y},mathMLnode:function(d){d=new Fb.MathNode("mo",[new Fb.TextNode(Od[d.replace(/^\\/,"")])]);d.setAttribute("stretchy","true");return d},svgSpan:function(d,g){const {span:y,minWidth:L,height:Z}=function(){var sa=4E5,ta=d.label.slice(1);if(Ma.contains(["widehat","widecheck","widetilde","utilde"],ta)){sa=d.base;sa="ordgroup"===
sa.type?sa.body.length:1;if(5<sa)if("widehat"===ta||"widecheck"===ta){var Ra=420;sa=2364;var eb=.42;ta+="4"}else Ra=312,sa=2340,eb=.34,ta="tilde4";else{var Cb=[1,1,2,2,3,3][sa];"widehat"===ta||"widecheck"===ta?(sa=[0,1062,2364,2364,2364][Cb],Ra=[0,239,300,360,420][Cb],eb=[0,.24,.3,.3,.36,.42][Cb],ta+=Cb):(sa=[0,600,1033,2339,2340][Cb],Ra=[0,260,286,306,312][Cb],eb=[0,.26,.286,.3,.306,.34][Cb],ta="tilde"+Cb)}ta=new Sd(ta);sa=new Md([ta],{width:"100%",height:Rb(eb),viewBox:"0 0 "+sa+" "+Ra,preserveAspectRatio:"none"});
return{span:mb.makeSvgSpan([],[sa],g),minWidth:0,height:eb}}eb=[];Cb=Zd[ta];const [pc,rc,Oc]=Cb;ta=Oc/1E3;Ra=pc.length;if(1===Ra){var yd=Cb[3];Cb=["hide-tail"];yd=[yd]}else if(2===Ra)Cb=["halfarrow-left","halfarrow-right"],yd=["xMinYMin","xMaxYMin"];else if(3===Ra)Cb=["brace-left","brace-center","brace-right"],yd=["xMinYMin","xMidYMin","xMaxYMin"];else throw Error("Correct katexImagesData or update code here to support\n                    "+Ra+" children.");for(let Kd=0;Kd<Ra;Kd++){var Ad=new Sd(pc[Kd]);
Ad=new Md([Ad],{width:"400em",height:Rb(ta),viewBox:"0 0 "+sa+" "+Oc,preserveAspectRatio:yd[Kd]+" slice"});Ad=mb.makeSvgSpan([Cb[Kd]],[Ad],g);if(1===Ra)return{span:Ad,minWidth:rc,height:ta};Ad.style.height=Rb(ta);eb.push(Ad)}return{span:mb.makeSpan(["stretchy"],eb,g),minWidth:rc,height:ta}}();y.height=Z;y.style.height=Rb(Z);0<L&&(y.style.minWidth=Rb(L));return y}};const ad=(d,g)=>{let y;if(d&&"supsub"===d.type){y=t(d.base,"accent");var L=y.base;d.base=L;var Z=ic(d,g);if(!(Z instanceof rd))throw Error("Expected span\x3cHtmlDomNode\x3e but got "+
String(Z)+".");d.base=y}else y=t(d,"accent"),L=y.base;d=ic(L,g.havingCrampedStyle());var sa=0;y.isShifty&&Ma.isCharacterBox(L)&&(sa=Ma.getBaseElem(L),sa=ic(sa,g.havingCrampedStyle()),sa=w(sa).skew);var ta="\\c"===y.label;L=ta?d.height+d.depth:Math.min(d.height,g.fontMetrics().xHeight);if(y.isStretchy)ta=jd.svgSpan(y,g),ta=mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"elem",elem:ta,wrapperClasses:["svg-align"],wrapperStyle:0<sa?{width:"calc(100% - "+Rb(2*sa)+")",
marginLeft:Rb(2*sa)}:void 0}]},g);else{let eb;if("\\vec"===y.label){var Ra=mb.staticSvg("vec",g);eb=mb.svgData.vec[1]}else Ra=mb.makeOrd({mode:y.mode,text:y.label},g,"textord"),Ra=w(Ra),Ra.italic=0,eb=Ra.width,ta&&(L+=Ra.depth);ta=mb.makeSpan(["accent-body"],[Ra]);if(Ra="\\textcircled"===y.label)ta.classes.push("accent-full"),L=d.height;Ra||(sa-=eb/2);ta.style.left=Rb(sa);"\\textcircled"===y.label&&(ta.style.top=".2em");ta=mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},
{type:"kern",size:-L},{type:"elem",elem:ta}]},g)}g=mb.makeSpan(["mord","accent"],[ta],g);return Z?(Z.children[0]=g,Z.height=Math.max(g.height,Z.height),Z.classes[0]="mord",Z):g},Ha=(d,g)=>{const y=d.isStretchy?jd.mathMLnode(d.label):new Fb.MathNode("mo",[hd(d.label,d.mode)]);d=new Fb.MathNode("mover",[Jc(d.base,g),y]);d.setAttribute("accent","true");return d},ib=new RegExp("\\acute \\grave \\ddot \\tilde \\bar \\breve \\check \\hat \\vec \\dot \\mathring".split(" ").map(d=>"\\"+d).join("|"));m({type:"accent",
names:"\\acute \\grave \\ddot \\tilde \\bar \\breve \\check \\hat \\vec \\dot \\mathring \\widecheck \\widehat \\widetilde \\overrightarrow \\overleftarrow \\Overrightarrow \\overleftrightarrow \\overgroup \\overlinesegment \\overleftharpoon \\overrightharpoon".split(" "),props:{numArgs:1},handler:(d,g)=>{g=Ja(g[0]);const y=!ib.test(d.funcName);return{type:"accent",mode:d.parser.mode,label:d.funcName,isStretchy:y,isShifty:!y||"\\widehat"===d.funcName||"\\widetilde"===d.funcName||"\\widecheck"===d.funcName,
base:g}},htmlBuilder:ad,mathmlBuilder:Ha});m({type:"accent",names:"\\' \\` \\^ \\~ \\\x3d \\u \\. \\\" \\c \\r \\H \\v \\textcircled".split(" "),props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(d,g)=>{g=g[0];let y=d.parser.mode;"math"===y&&(d.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+d.funcName+" works only in text mode"),y="text");return{type:"accent",mode:y,label:d.funcName,isStretchy:!1,isShifty:!0,base:g}},htmlBuilder:ad,mathmlBuilder:Ha});
m({type:"accentUnder",names:"\\underleftarrow \\underrightarrow \\underleftrightarrow \\undergroup \\underlinesegment \\utilde".split(" "),props:{numArgs:1},handler:(d,g)=>{let {parser:y,funcName:L}=d;return{type:"accentUnder",mode:y.mode,label:L,base:g[0]}},htmlBuilder:(d,g)=>{const y=ic(d.base,g),L=jd.svgSpan(d,g);d=mb.makeVList({positionType:"top",positionData:y.height,children:[{type:"elem",elem:L,wrapperClasses:["svg-align"]},{type:"kern",size:"\\utilde"===d.label?.12:0},{type:"elem",elem:y}]},
g);return mb.makeSpan(["mord","accentunder"],[d],g)},mathmlBuilder:(d,g)=>{const y=jd.mathMLnode(d.label);d=new Fb.MathNode("munder",[Jc(d.base,g),y]);d.setAttribute("accentunder","true");return d}});const Db=d=>{d=new Fb.MathNode("mpadded",d?[d]:[]);d.setAttribute("width","+0.6em");d.setAttribute("lspace","0.3em");return d};m({type:"xArrow",names:"\\xleftarrow \\xrightarrow \\xLeftarrow \\xRightarrow \\xleftrightarrow \\xLeftrightarrow \\xhookleftarrow \\xhookrightarrow \\xmapsto \\xrightharpoondown \\xrightharpoonup \\xleftharpoondown \\xleftharpoonup \\xrightleftharpoons \\xleftrightharpoons \\xlongequal \\xtwoheadrightarrow \\xtwoheadleftarrow \\xtofrom \\xrightleftarrows \\xrightequilibrium \\xleftequilibrium \\\\cdrightarrow \\\\cdleftarrow \\\\cdlongequal".split(" "),
props:{numArgs:1,numOptionalArgs:1},handler(d,g,y){let {parser:L,funcName:Z}=d;return{type:"xArrow",mode:L.mode,label:Z,body:g[0],below:y[0]}},htmlBuilder(d,g){var y=g.style,L=g.havingStyle(y.sup()),Z=mb.wrapFragment(ic(d.body,L,g),g),sa="\\x"===d.label.slice(0,2)?"x":"cd";Z.classes.push(sa+"-arrow-pad");let ta;d.below&&(L=g.havingStyle(y.sub()),ta=mb.wrapFragment(ic(d.below,L,g),g),ta.classes.push(sa+"-arrow-pad"));y=jd.svgSpan(d,g);L=-g.fontMetrics().axisHeight+.5*y.height;sa=-g.fontMetrics().axisHeight-
.5*y.height-.111;if(.25<Z.depth||"\\xleftequilibrium"===d.label)sa-=Z.depth;ta?(d=-g.fontMetrics().axisHeight+ta.height+.5*y.height+.111,Z=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Z,shift:sa},{type:"elem",elem:y,shift:L},{type:"elem",elem:ta,shift:d}]},g)):Z=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Z,shift:sa},{type:"elem",elem:y,shift:L}]},g);Z.children[0].children[0].children[1].classes.push("svg-align");return mb.makeSpan(["mrel",
"x-arrow"],[Z],g)},mathmlBuilder(d,g){const y=jd.mathMLnode(d.label);y.setAttribute("minsize","x"===d.label.charAt(0)?"1.75em":"3.0em");if(d.body){var L=Db(Jc(d.body,g));d.below?(d=Db(Jc(d.below,g)),L=new Fb.MathNode("munderover",[y,d,L])):L=new Fb.MathNode("mover",[y,L])}else d.below?(L=Db(Jc(d.below,g)),L=new Fb.MathNode("munder",[y,L])):(L=Db(),L=new Fb.MathNode("mover",[y,L]));return L}});const Ib=mb.makeSpan;m({type:"mclass",names:"\\mathord \\mathbin \\mathrel \\mathopen \\mathclose \\mathpunct \\mathinner".split(" "),
props:{numArgs:1,primitive:!0},handler(d,g){let {parser:y,funcName:L}=d;d=g[0];return{type:"mclass",mode:y.mode,mclass:"m"+L.slice(5),body:Za(d),isCharacterBox:Ma.isCharacterBox(d)}},htmlBuilder:F,mathmlBuilder:M});const Kb=d=>{d="ordgroup"===d.type&&d.body.length?d.body[0]:d;return"atom"!==d.type||"bin"!==d.family&&"rel"!==d.family?"mord":"m"+d.family};m({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(d,g){({parser:d}=d);return{type:"mclass",mode:d.mode,mclass:Kb(g[0]),body:Za(g[1]),
isCharacterBox:Ma.isCharacterBox(g[1])}}});m({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(d,g){let {parser:y,funcName:L}=d;d=g[1];const Z=g[0];g="\\stackrel"!==L?Kb(d):"mrel";d={type:"op",mode:d.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==L,body:Za(d)};d={type:"supsub",mode:Z.mode,base:d,sup:"\\underset"===L?null:Z,sub:"\\underset"===L?Z:null};return{type:"mclass",mode:y.mode,mclass:g,body:[d],isCharacterBox:Ma.isCharacterBox(d)}},
htmlBuilder:F,mathmlBuilder:M});m({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(d,g){({parser:d}=d);return{type:"pmb",mode:d.mode,mclass:Kb(g[0]),body:Za(g[0])}},htmlBuilder(d,g){const y=rb(d.body,g,!0);d=mb.makeSpan([d.mclass],y,g);d.style.textShadow="0.02em 0.01em 0.04px";return d},mathmlBuilder(d,g){d=sc(d.body,g);d=new Fb.MathNode("mstyle",d);d.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px");return d}});const Vb={"\x3e":"\\\\cdrightarrow","\x3c":"\\\\cdleftarrow",
"\x3d":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Pb=()=>({type:"styling",body:[],mode:"math",style:"display"}),gc=d=>"textord"===d.type&&"@"===d.text;m({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(d,g){let {parser:y,funcName:L}=d;return{type:"cdlabel",mode:y.mode,side:L.slice(4),label:g[0]}},htmlBuilder(d,g){const y=g.havingStyle(g.style.sup());g=mb.wrapFragment(ic(d.label,y,g),g);g.classes.push("cd-label-"+d.side);g.style.bottom=
Rb(.8-g.depth);g.height=0;g.depth=0;return g},mathmlBuilder(d,g){g=new Fb.MathNode("mrow",[Jc(d.label,g)]);g=new Fb.MathNode("mpadded",[g]);g.setAttribute("width","0");"left"===d.side&&g.setAttribute("lspace","-1width");g.setAttribute("voffset","0.7em");g=new Fb.MathNode("mstyle",[g]);g.setAttribute("displaystyle","false");g.setAttribute("scriptlevel","1");return g}});m({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(d,g){({parser:d}=d);return{type:"cdlabelparent",mode:d.mode,
fragment:g[0]}},htmlBuilder(d,g){d=mb.wrapFragment(ic(d.fragment,g),g);d.classes.push("cd-vert-arrow");return d},mathmlBuilder(d,g){return new Fb.MathNode("mrow",[Jc(d.fragment,g)])}});m({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(d,g){({parser:d}=d);var y=t(g[0],"ordgroup").body;g="";for(let L=0;L<y.length;L++){const Z=t(y[L],"textord");g+=Z.text}y=parseInt(g);if(isNaN(y))throw new Va("\\@char has non-numeric argument "+g);if(0>y||1114111<=y)throw new Va("\\@char with invalid code point "+
g);65535>=y?g=String.fromCharCode(y):(y-=65536,g=String.fromCharCode((y>>10)+55296,(y&1023)+56320));return{type:"textord",mode:d.mode,text:g}}});const D=(d,g)=>{d=rb(d.body,g.withColor(d.color),!1);return mb.makeFragment(d)},O=(d,g)=>{g=sc(d.body,g.withColor(d.color));g=new Fb.MathNode("mstyle",g);g.setAttribute("mathcolor",d.color);return g};m({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(d,g){({parser:d}=d);const y=t(g[0],"color-token").color;
return{type:"color",mode:d.mode,color:y,body:Za(g[1])}},htmlBuilder:D,mathmlBuilder:O});m({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(d,g){let {parser:y,breakOnTokenText:L}=d;d=t(g[0],"color-token").color;y.gullet.macros.set("\\current@color",d);g=y.parseExpression(!0,L);return{type:"color",mode:y.mode,color:d,body:g}},htmlBuilder:D,mathmlBuilder:O});m({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(d,g,y){({parser:d}=
d);g="["===d.gullet.future().text?d.parseSizeGroup(!0):null;y=!d.settings.displayMode||!d.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:d.mode,newLine:y,size:g&&t(g,"size").value}},htmlBuilder(d,g){const y=mb.makeSpan(["mspace"],[],g);d.newLine&&(y.classes.push("newline"),d.size&&(y.style.marginTop=Rb(Gc(d.size,g))));return y},mathmlBuilder(d,g){const y=new Fb.MathNode("mspace");d.newLine&&(y.setAttribute("linebreak",
"newline"),d.size&&y.setAttribute("height",Rb(Gc(d.size,g))));return y}});const U={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ba=d=>{const g=d.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(g))throw new Va("Expected a control sequence",d);return g},da=(d,g,y,L)=>{let Z=d.gullet.macros.get(y.text);null==Z&&(y.noexpand=!0,Z={tokens:[y],numArgs:0,
unexpandable:!d.gullet.isExpandable(y.text)});d.gullet.macros.set(g,Z,L)};m({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(d){let {parser:g,funcName:y}=d;g.consumeSpaces();d=g.fetch();if(U[d.text]){if("\\global"===y||"\\\\globallong"===y)d.text=U[d.text];return t(g.parseFunction(),"internal")}throw new Va("Invalid token after macro prefix",d);}});m({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,
primitive:!0},handler(d){let {parser:g,funcName:y}=d;var L=g.gullet.popToken();d=L.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(d))throw new Va("Expected a control sequence",L);let Z=0,sa;const ta=[[]];for(;"{"!==g.gullet.future().text;)if(L=g.gullet.popToken(),"#"===L.text){if("{"===g.gullet.future().text){sa=g.gullet.future();ta[Z].push("{");break}L=g.gullet.popToken();if(!/^[1-9]$/.test(L.text))throw new Va('Invalid argument number "'+L.text+'"');if(parseInt(L.text)!==Z+1)throw new Va('Argument number "'+
L.text+'" out of order');Z++;ta.push([])}else{if("EOF"===L.text)throw new Va("Expected a macro definition");ta[Z].push(L.text)}({tokens:L}=g.gullet.consumeArg());sa&&L.unshift(sa);if("\\edef"===y||"\\xdef"===y)L=g.gullet.expandTokens(L),L.reverse();g.gullet.macros.set(d,{tokens:L,numArgs:Z,delimiters:ta},y===U[y]);return{type:"internal",mode:g.mode}}});m({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(d){let {parser:g,funcName:y}=d;d=ba(g.gullet.popToken());
g.gullet.consumeSpaces();let L=g.gullet.popToken();"\x3d"===L.text&&(L=g.gullet.popToken()," "===L.text&&(L=g.gullet.popToken()));da(g,d,L,"\\\\globallet"===y);return{type:"internal",mode:g.mode}}});m({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(d){let {parser:g,funcName:y}=d;d=ba(g.gullet.popToken());const L=g.gullet.popToken(),Z=g.gullet.popToken();da(g,d,Z,"\\\\globalfuture"===y);g.gullet.pushToken(Z);g.gullet.pushToken(L);return{type:"internal",
mode:g.mode}}});const xa=function(d,g,y){y=r(kd.math[d]&&kd.math[d].replace||d,g,y);if(!y)throw Error("Unsupported symbol "+d+" and font size "+g+".");return y},Qa=function(d,g,y,L){g=y.havingBaseStyle(g);d=mb.makeSpan(L.concat(g.sizingClasses(y)),[d],y);y=g.sizeMultiplier/y.sizeMultiplier;d.height*=y;d.depth*=y;d.maxFontSize=g.sizeMultiplier;return d},qb=function(d,g,y){y=g.havingBaseStyle(y);g=(1-g.sizeMultiplier/y.sizeMultiplier)*g.fontMetrics().axisHeight;d.classes.push("delimcenter");d.style.top=
Rb(g);d.height-=g;d.depth+=g},wb=function(d,g,y,L,Z,sa){d=mb.makeSymbol(d,"Size"+g+"-Regular",Z,L);g=Qa(mb.makeSpan(["delimsizing","size"+g],[d],L),Ka,L,sa);y&&qb(g,L,Ka);return g},Nb=function(d,g,y){return{type:"elem",elem:mb.makeSpan(["delimsizinginner","Size1-Regular"===g?"delim-size1":"delim-size4"],[mb.makeSpan([],[mb.makeSymbol(d,g,y)])])}},nc=function(d,g,y){const L=ob["Size4-Regular"][d.charCodeAt(0)]?ob["Size4-Regular"][d.charCodeAt(0)][4]:ob["Size1-Regular"][d.charCodeAt(0)][4];d=new Sd("inner",
Aa(d,Math.round(1E3*g)));d=new Md([d],{width:Rb(L),height:Rb(g),style:"width:"+Rb(L),viewBox:"0 0 "+1E3*L+" "+Math.round(1E3*g),preserveAspectRatio:"xMinYMin"});y=mb.makeSvgSpan([],[d],y);y.height=g;y.style.height=Rb(g);y.style.width=Rb(L);return{type:"elem",elem:y}},Ec={type:"kern",size:-.008},cd=["|","\\lvert","\\rvert","\\vert"],Hd=["\\|","\\lVert","\\rVert","\\Vert"],Id=function(d,g,y,L,Z,sa){let ta,Ra;var eb="",Cb=0;var pc=ta=Ra=d;var rc=null;let Oc="Size1-Regular";if("\\uparrow"===d)ta=Ra="⏐";
else if("\\Uparrow"===d)ta=Ra="‖";else if("\\downarrow"===d)pc=ta="⏐";else if("\\Downarrow"===d)pc=ta="‖";else if("\\updownarrow"===d)pc="\\uparrow",ta="⏐",Ra="\\downarrow";else if("\\Updownarrow"===d)pc="\\Uparrow",ta="‖",Ra="\\Downarrow";else if(Ma.contains(cd,d))ta="∣",eb="vert",Cb=333;else if(Ma.contains(Hd,d))ta="∥",eb="doublevert",Cb=556;else if("["===d||"\\lbrack"===d)pc="⎡",ta="⎢",Ra="⎣",Oc="Size4-Regular",eb="lbrack",Cb=667;else if("]"===d||"\\rbrack"===d)pc="⎤",ta="⎥",Ra="⎦",Oc="Size4-Regular",
eb="rbrack",Cb=667;else if("\\lfloor"===d||"⌊"===d)ta=pc="⎢",Ra="⎣",Oc="Size4-Regular",eb="lfloor",Cb=667;else if("\\lceil"===d||"⌈"===d)pc="⎡",ta=Ra="⎢",Oc="Size4-Regular",eb="lceil",Cb=667;else if("\\rfloor"===d||"⌋"===d)ta=pc="⎥",Ra="⎦",Oc="Size4-Regular",eb="rfloor",Cb=667;else if("\\rceil"===d||"⌉"===d)pc="⎤",ta=Ra="⎥",Oc="Size4-Regular",eb="rceil",Cb=667;else if("("===d||"\\lparen"===d)pc="⎛",ta="⎜",Ra="⎝",Oc="Size4-Regular",eb="lparen",Cb=875;else if(")"===d||"\\rparen"===d)pc="⎞",ta="⎟",Ra=
"⎠",Oc="Size4-Regular",eb="rparen",Cb=875;else if("\\{"===d||"\\lbrace"===d)pc="⎧",rc="⎨",Ra="⎩",ta="⎪",Oc="Size4-Regular";else if("\\}"===d||"\\rbrace"===d)pc="⎫",rc="⎬",Ra="⎭",ta="⎪",Oc="Size4-Regular";else if("\\lgroup"===d||"⟮"===d)pc="⎧",Ra="⎩",ta="⎪",Oc="Size4-Regular";else if("\\rgroup"===d||"⟯"===d)pc="⎫",Ra="⎭",ta="⎪",Oc="Size4-Regular";else if("\\lmoustache"===d||"⎰"===d)pc="⎧",Ra="⎭",ta="⎪",Oc="Size4-Regular";else if("\\rmoustache"===d||"⎱"===d)pc="⎫",Ra="⎩",ta="⎪",Oc="Size4-Regular";d=
xa(pc,Oc,Z);d=d.height+d.depth;var yd=xa(ta,Oc,Z),Ad=yd.height+yd.depth;yd=xa(Ra,Oc,Z);yd=yd.height+yd.depth;var Kd=0;let Pd=1;null!==rc&&(Kd=xa(rc,Oc,Z),Kd=Kd.height+Kd.depth,Pd=2);const ce=d+yd+Kd;Ad=ce+Math.max(0,Math.ceil((g-ce)/(Pd*Ad)))*Pd*Ad;g=L.fontMetrics().axisHeight;y&&(g*=L.sizeMultiplier);y=Ad/2-g;g=[];0<eb.length?(Z=Math.round(1E3*Ad),pc=wa(eb,Math.round(1E3*(Ad-d-yd))),rc=new Sd(eb,pc),eb=(Cb/1E3).toFixed(3)+"em",pc=(Z/1E3).toFixed(3)+"em",Cb=new Md([rc],{width:eb,height:pc,viewBox:"0 0 "+
Cb+" "+Z}),Cb=mb.makeSvgSpan([],[Cb],L),Cb.height=Z/1E3,Cb.style.width=eb,Cb.style.height=pc,g.push({type:"elem",elem:Cb})):(g.push(Nb(Ra,Oc,Z)),g.push(Ec),null===rc?g.push(nc(ta,Ad-d-yd+.016,L)):(Cb=(Ad-d-yd-Kd)/2+.016,g.push(nc(ta,Cb,L)),g.push(Ec),g.push(Nb(rc,Oc,Z)),g.push(Ec),g.push(nc(ta,Cb,L))),g.push(Ec),g.push(Nb(pc,Oc,Z)));Cb=L.havingBaseStyle(Ka);eb=mb.makeVList({positionType:"bottom",positionData:y,children:g},Cb);return Qa(mb.makeSpan(["delimsizing","mult"],[eb],Cb),Ka,L,sa)},Tc=function(d,
g,y,L,Z){L*=1E3;let sa="";switch(d){case "sqrtMain":sa="M95,"+(622+L+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+L/2.075+" -"+L+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+L)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+
(834+L)+" 80h400000v"+(40+L)+"h-400000z";break;case "sqrtSize1":sa="M263,"+(601+L+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+L/2.084+" -"+L+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+L)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+
(1001+L)+" 80h400000v"+(40+L)+"h-400000z";break;case "sqrtSize2":sa="M983 "+(10+L+80)+"\nl"+L/3.13+" -"+L+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+L)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+
(1001+L)+" 80h400000v"+(40+L)+"h-400000z";break;case "sqrtSize3":sa="M424,"+(2398+L+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+L/4.223+" -"+L+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+L)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+
(1001+L)+" 80\nh400000v"+(40+L)+"h-400000z";break;case "sqrtSize4":sa="M473,"+(2713+L+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+L/5.298+" -"+L+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+L)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+
(1001+L)+" 80h400000v"+(40+L)+"H1017.7z";break;case "sqrtTall":sa="M702 "+(L+80)+"H400000"+(40+L)+"\nH742v"+(y-54-80-L)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+L)+"H742z"}d=new Sd(d,sa);g=new Md([d],{width:"400em",height:Rb(g),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});return mb.makeSvgSpan(["hide-tail"],
[g],Z)},Yc="( \\lparen ) \\rparen [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor ⌊ ⌋ \\lceil \\rceil ⌈ ⌉ \\surd".split(" "),zd="\\uparrow \\downarrow \\updownarrow \\Uparrow \\Downarrow \\Updownarrow | \\| \\vert \\Vert \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup ⟮ ⟯ \\lmoustache \\rmoustache ⎰ ⎱".split(" "),ae="\x3c \x3e \\langle \\rangle / \\backslash \\lt \\gt".split(" "),fd=[0,1.2,1.8,2.4,3],Wc=[{type:"small",style:fa},{type:"small",style:fb},{type:"small",style:Ka},{type:"large",
size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],be=[{type:"small",style:fa},{type:"small",style:fb},{type:"small",style:Ka},{type:"stack"}],Xb=[{type:"small",style:fa},{type:"small",style:fb},{type:"small",style:Ka},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],he=function(d,g,y,L){for(var Z=Math.min(2,3-L.style.size);Z<y.length&&"stack"!==y[Z].type;Z++){var sa=y[Z];if("small"===sa.type)sa="Main-Regular";else if("large"===
sa.type)sa="Size"+sa.size+"-Regular";else if("stack"===sa.type)sa="Size4-Regular";else throw Error("Add support for delim type '"+sa.type+"' here.");sa=xa(d,sa,"math");sa=sa.height+sa.depth;if("small"===y[Z].type){const ta=L.havingBaseStyle(y[Z].style);sa*=ta.sizeMultiplier}if(sa>g)return y[Z]}return y[y.length-1]},vf=function(d,g,y,L,Z,sa){if("\x3c"===d||"\\lt"===d||"⟨"===d)d="\\langle";else if("\x3e"===d||"\\gt"===d||"⟩"===d)d="\\rangle";var ta=Ma.contains(ae,d)?Wc:Ma.contains(Yc,d)?Xb:be;ta=he(d,
g,ta,L);return"small"===ta.type?(g=ta.style,d=mb.makeSymbol(d,"Main-Regular",Z,L),sa=Qa(d,g,L,sa),y&&qb(sa,L,g),sa):"large"===ta.type?wb(d,ta.size,y,L,Z,sa):Id(d,g,y,L,Z,sa)};var we={sqrtImage:function(d,g){var y=g.havingBaseSizing(),L=he("\\surd",d*y.sizeMultiplier,Xb,y);y=y.sizeMultiplier;const Z=Math.max(0,g.minRuleThickness-g.fontMetrics().sqrtRuleThickness);let sa,ta;"small"===L.type?(1>d?y=1:1.4>d&&(y=.7),sa=(1+Z+.08)/y,ta=(1+Z)/y,L=Tc("sqrtMain",sa,1E3*Z+1080,Z,g),L.style.minWidth="0.853em",
d=.833/y):"large"===L.type?(d=1080*fd[L.size],ta=(fd[L.size]+Z)/y,sa=(fd[L.size]+Z+.08)/y,L=Tc("sqrtSize"+L.size,sa,d,Z,g),L.style.minWidth="1.02em",d=1/y):(sa=d+Z+.08,ta=d+Z,d=Math.floor(1E3*d+Z)+80,L=Tc("sqrtTall",sa,d,Z,g),L.style.minWidth="0.742em",d=1.056);L.height=ta;L.style.height=Rb(sa);return{span:L,advanceWidth:d,ruleWidth:(g.fontMetrics().sqrtRuleThickness+Z)*y}},sizedDelim:function(d,g,y,L,Z){if("\x3c"===d||"\\lt"===d||"⟨"===d)d="\\langle";else if("\x3e"===d||"\\gt"===d||"⟩"===d)d="\\rangle";
if(Ma.contains(Yc,d)||Ma.contains(ae,d))return wb(d,g,!1,y,L,Z);if(Ma.contains(zd,d))return Id(d,fd[g],!1,y,L,Z);throw new Va("Illegal delimiter: '"+d+"'");},sizeToMaxHeight:fd,customSizedDelim:vf,leftRightDelim:function(d,g,y,L,Z,sa){const ta=L.fontMetrics().axisHeight*L.sizeMultiplier,Ra=5/L.fontMetrics().ptPerEm;g=Math.max(g-ta,y+ta);return vf(d,Math.max(g/500*901,2*g-Ra),!0,L,Z,sa)}};const te={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},
"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ga="( \\lparen ) \\rparen [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor ⌊ ⌋ \\lceil \\rceil ⌈ ⌉ \x3c \x3e \\langle ⟨ \\rangle ⟩ \\lt \\gt \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup ⟮ ⟯ \\lmoustache \\rmoustache ⎰ ⎱ / \\backslash | \\vert \\| \\Vert \\uparrow \\Uparrow \\downarrow \\Downarrow \\updownarrow \\Updownarrow .".split(" ");
m({type:"delimsizing",names:"\\bigl \\Bigl \\biggl \\Biggl \\bigr \\Bigr \\biggr \\Biggr \\bigm \\Bigm \\biggm \\Biggm \\big \\Big \\bigg \\Bigg".split(" "),props:{numArgs:1,argTypes:["primitive"]},handler:(d,g)=>{g=N(g[0],d);return{type:"delimsizing",mode:d.parser.mode,size:te[d.funcName].size,mclass:te[d.funcName].mclass,delim:g.text}},htmlBuilder:(d,g)=>"."===d.delim?mb.makeSpan([d.mclass]):we.sizedDelim(d.delim,d.size,g,d.mode,[d.mclass]),mathmlBuilder:d=>{var g=[];"."!==d.delim&&g.push(hd(d.delim,
d.mode));g=new Fb.MathNode("mo",g);"mopen"===d.mclass||"mclose"===d.mclass?g.setAttribute("fence","true"):g.setAttribute("fence","false");g.setAttribute("stretchy","true");d=Rb(we.sizeToMaxHeight[d.size]);g.setAttribute("minsize",d);g.setAttribute("maxsize",d);return g}});m({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(d,g)=>{const y=d.parser.gullet.macros.get("\\current@color");if(y&&"string"!==typeof y)throw new Va("\\current@color set to non-string in \\right");
return{type:"leftright-right",mode:d.parser.mode,delim:N(g[0],d).text,color:y}}});m({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(d,g)=>{g=N(g[0],d);d=d.parser;++d.leftrightDepth;const y=d.parseExpression(!1);--d.leftrightDepth;d.expect("\\right",!1);const L=t(d.parseFunction(),"leftright-right");return{type:"leftright",mode:d.mode,body:y,left:g.text,right:L.delim,rightColor:L.color}},htmlBuilder:(d,g)=>{W(d);const y=rb(d.body,g,!0,["mopen","mclose"]);let L=0,Z=0;var sa=
!1;for(var ta=0;ta<y.length;ta++)y[ta].isMiddle?sa=!0:(L=Math.max(y[ta].height,L),Z=Math.max(y[ta].depth,Z));L*=g.sizeMultiplier;Z*=g.sizeMultiplier;ta="."===d.left?Sb(g,["mopen"]):we.leftRightDelim(d.left,L,Z,g,d.mode,["mopen"]);y.unshift(ta);if(sa)for(sa=1;sa<y.length;sa++)(ta=y[sa].isMiddle)&&(y[sa]=we.leftRightDelim(ta.delim,L,Z,ta.options,d.mode,[]));"."===d.right?d=Sb(g,["mclose"]):(sa=d.rightColor?g.withColor(d.rightColor):g,d=we.leftRightDelim(d.right,L,Z,sa,d.mode,["mclose"]));y.push(d);
return mb.makeSpan(["minner"],y,g)},mathmlBuilder:(d,g)=>{W(d);g=sc(d.body,g);if("."!==d.left){var y=new Fb.MathNode("mo",[hd(d.left,d.mode)]);y.setAttribute("fence","true");g.unshift(y)}"."!==d.right&&(y=new Fb.MathNode("mo",[hd(d.right,d.mode)]),y.setAttribute("fence","true"),d.rightColor&&y.setAttribute("mathcolor",d.rightColor),g.push(y));return xc(g)}});m({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(d,g)=>{g=N(g[0],d);if(!d.parser.leftrightDepth)throw new Va("\\middle without preceding \\left",
g);return{type:"middle",mode:d.parser.mode,delim:g.text}},htmlBuilder:(d,g)=>{let y;"."===d.delim?y=Sb(g,[]):(y=we.sizedDelim(d.delim,1,g,d.mode,[]),y.isMiddle={delim:d.delim,options:g});return y},mathmlBuilder:(d,g)=>{d="\\vert"===d.delim||"|"===d.delim?hd("|","text"):hd(d.delim,d.mode);d=new Fb.MathNode("mo",[d]);d.setAttribute("fence","true");d.setAttribute("lspace","0.05em");d.setAttribute("rspace","0.05em");return d}});const Wf=(d,g)=>{const y=mb.wrapFragment(ic(d.body,g),g),L=d.label.slice(1);
let Z=g.sizeMultiplier;const sa=Ma.isCharacterBox(d.body);if("sout"===L){var ta=mb.makeSpan(["stretchy","sout"]);ta.height=g.fontMetrics().defaultRuleThickness/Z;var Ra=-.5*g.fontMetrics().xHeight}else if("phase"===L){Ra=Gc({number:.6,unit:"pt"},g);var eb=Gc({number:.35,unit:"ex"},g);ta=g.havingBaseSizing();Z/=ta.sizeMultiplier;const Cb=y.height+y.depth+Ra+eb;y.style.paddingLeft=Rb(Cb/2+Ra);ta=Math.floor(1E3*Cb*Z);ta=new Md([new Sd("phase","M400000 "+ta+" H0 L"+ta/2+" 0 l65 45 L145 "+(ta-80)+" H400000z")],
{width:"400em",height:Rb(ta/1E3),viewBox:"0 0 400000 "+ta,preserveAspectRatio:"xMinYMin slice"});ta=mb.makeSvgSpan(["hide-tail"],[ta],g);ta.style.height=Rb(Cb);Ra=y.depth+Ra+eb}else/cancel/.test(L)?sa||y.classes.push("cancel-pad"):"angl"===L?y.classes.push("anglpad"):y.classes.push("boxpad"),eb=0,/box/.test(L)?(eb=Math.max(g.fontMetrics().fboxrule,g.minRuleThickness),Ra=ta=g.fontMetrics().fboxsep+("colorbox"===L?0:eb)):"angl"===L?(eb=Math.max(g.fontMetrics().defaultRuleThickness,g.minRuleThickness),
ta=4*eb,Ra=Math.max(0,.25-y.depth)):Ra=ta=sa?.2:0,ta=jd.encloseSpan(y,L,ta,Ra,g),/fbox|boxed|fcolorbox/.test(L)?(ta.style.borderStyle="solid",ta.style.borderWidth=Rb(eb)):"angl"===L&&.049!==eb&&(ta.style.borderTopWidth=Rb(eb),ta.style.borderRightWidth=Rb(eb)),Ra=y.depth+Ra,d.backgroundColor&&(ta.style.backgroundColor=d.backgroundColor,d.borderColor&&(ta.style.borderColor=d.borderColor));d.backgroundColor?d=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ta,shift:Ra},{type:"elem",
elem:y,shift:0}]},g):(d=/cancel|phase/.test(L)?["svg-align"]:[],d=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:0},{type:"elem",elem:ta,shift:Ra,wrapperClasses:d}]},g));/cancel/.test(L)&&(d.height=y.height,d.depth=y.depth);return/cancel/.test(L)&&!sa?mb.makeSpan(["mord","cancel-lap"],[d],g):mb.makeSpan(["mord"],[d],g)},pg=(d,g)=>{let y;const L=new Fb.MathNode(-1<d.label.indexOf("colorbox")?"mpadded":"menclose",[Jc(d.body,g)]);switch(d.label){case "\\cancel":L.setAttribute("notation",
"updiagonalstrike");break;case "\\bcancel":L.setAttribute("notation","downdiagonalstrike");break;case "\\phase":L.setAttribute("notation","phasorangle");break;case "\\sout":L.setAttribute("notation","horizontalstrike");break;case "\\fbox":L.setAttribute("notation","box");break;case "\\angl":L.setAttribute("notation","actuarial");break;case "\\fcolorbox":case "\\colorbox":y=g.fontMetrics().fboxsep*g.fontMetrics().ptPerEm;L.setAttribute("width","+"+2*y+"pt");L.setAttribute("height","+"+2*y+"pt");L.setAttribute("lspace",
y+"pt");L.setAttribute("voffset",y+"pt");"\\fcolorbox"===d.label&&(g=Math.max(g.fontMetrics().fboxrule,g.minRuleThickness),L.setAttribute("style","border: "+g+"em solid "+String(d.borderColor)));break;case "\\xcancel":L.setAttribute("notation","updiagonalstrike downdiagonalstrike")}d.backgroundColor&&L.setAttribute("mathbackground",d.backgroundColor);return L};m({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(d,g,y){let {parser:L,funcName:Z}=
d;d=t(g[0],"color-token").color;return{type:"enclose",mode:L.mode,label:Z,backgroundColor:d,body:g[1]}},htmlBuilder:Wf,mathmlBuilder:pg});m({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(d,g,y){let {parser:L,funcName:Z}=d;d=t(g[0],"color-token").color;y=t(g[1],"color-token").color;return{type:"enclose",mode:L.mode,label:Z,backgroundColor:y,borderColor:d,body:g[2]}},htmlBuilder:Wf,mathmlBuilder:pg});m({type:"enclose",names:["\\fbox"],
props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(d,g){({parser:d}=d);return{type:"enclose",mode:d.mode,label:"\\fbox",body:g[0]}}});m({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(d,g){let {parser:y,funcName:L}=d;return{type:"enclose",mode:y.mode,label:L,body:g[0]}},htmlBuilder:Wf,mathmlBuilder:pg});m({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(d,g){({parser:d}=d);return{type:"enclose",
mode:d.mode,label:"\\angl",body:g[0]}}});const wh={},va={};class oe{constructor(d,g,y){this.end=this.start=this.lexer=void 0;this.lexer=d;this.start=g;this.end=y}static range(d,g){return g?d&&d.loc&&g.loc&&d.loc.lexer===g.loc.lexer?new oe(d.loc.lexer,d.loc.start,g.loc.end):null:d&&d.loc}}class Qe{constructor(d,g){this.treatAsRelax=this.noexpand=this.loc=this.text=void 0;this.text=d;this.loc=g}range(d,g){return new Qe(g,oe.range(this,d))}}const qg=d=>{if(!d.parser.settings.displayMode)throw new Va("{"+
d.envName+"} can be used only in display mode.");},Ud=function(d,g){function y(Vd){for(let bg=0;bg<Vd.length;++bg)0<bg&&(Kd+=.25),Ra.push({pos:Kd,isDashed:Vd[bg]})}var L=d.body.length,Z=d.hLinesBeforeRow,sa=0,ta=Array(L);const Ra=[];var eb=Math.max(g.fontMetrics().arrayRuleWidth,g.minRuleThickness);var Cb=1/g.fontMetrics().ptPerEm;let pc=5*Cb;d.colSeparationType&&"small"===d.colSeparationType&&(pc=.2778*(g.havingStyle(fb).sizeMultiplier/g.sizeMultiplier));var rc="CD"===d.colSeparationType?Gc({number:3,
unit:"ex"},g):12*Cb;var Oc=3*Cb;rc*=d.arraystretch;var yd=.7*rc,Ad=.3*rc;let Kd=0;y(Z[0]);for(rc=0;rc<d.body.length;++rc){var Pd=d.body[rc],ce=yd,vd=Ad;sa<Pd.length&&(sa=Pd.length);var pd=Array(Pd.length);for(Cb=0;Cb<Pd.length;++Cb){var Fe=ic(Pd[Cb],g);vd<Fe.depth&&(vd=Fe.depth);ce<Fe.height&&(ce=Fe.height);pd[Cb]=Fe}Cb=d.rowGaps[rc];Pd=0;Cb&&(Pd=Gc(Cb,g),0<Pd&&(Pd+=Ad,vd<Pd&&(vd=Pd),Pd=0));d.addJot&&(vd+=Oc);pd.height=ce;pd.depth=vd;Kd+=ce;pd.pos=Kd;Kd+=vd+Pd;ta[rc]=pd;y(Z[rc+1])}Z=Kd/2+g.fontMetrics().axisHeight;
yd=d.cols||[];Ad=[];Oc=[];if(d.tags&&d.tags.some(Vd=>Vd))for(rc=0;rc<L;++rc)Cb=ta[rc],ce=Cb.pos-Z,vd=d.tags[rc],vd=!0===vd?mb.makeSpan(["eqn-num"],[],g):!1===vd?mb.makeSpan([],[],g):mb.makeSpan([],rb(vd,g,!0),g),vd.depth=Cb.depth,vd.height=Cb.height,Oc.push({type:"elem",elem:vd,shift:ce});for(ce=Cb=0;Cb<sa||ce<yd.length;++Cb,++ce){vd=yd[ce]||{};for(rc=!0;"separator"===vd.type;){rc||(rc=mb.makeSpan(["arraycolsep"],[]),rc.style.width=Rb(g.fontMetrics().doubleRuleSep),Ad.push(rc));if("|"===vd.separator||
":"===vd.separator){vd="|"===vd.separator?"solid":"dashed";rc=mb.makeSpan(["vertical-separator"],[],g);rc.style.height=Rb(Kd);rc.style.borderRightWidth=Rb(eb);rc.style.borderRightStyle=vd;rc.style.margin="0 "+Rb(-eb/2);if(vd=Kd-Z)rc.style.verticalAlign=Rb(-vd);Ad.push(rc)}else throw new Va("Invalid separator type: "+vd.separator);ce++;vd=yd[ce]||{};rc=!1}if(!(Cb>=sa)){if(0<Cb||d.hskipBeforeAndAfter)pd=Ma.deflt(vd.pregap,pc),0!==pd&&(rc=mb.makeSpan(["arraycolsep"],[]),rc.style.width=Rb(pd),Ad.push(rc));
pd=[];for(rc=0;rc<L;++rc){Pd=ta[rc];Fe=Pd[Cb];if(!Fe)continue;const Vd=Pd.pos-Z;Fe.depth=Pd.depth;Fe.height=Pd.height;pd.push({type:"elem",elem:Fe,shift:Vd})}pd=mb.makeVList({positionType:"individualShift",children:pd},g);pd=mb.makeSpan(["col-align-"+(vd.align||"c")],[pd]);Ad.push(pd);if(Cb<sa-1||d.hskipBeforeAndAfter)pd=Ma.deflt(vd.postgap,pc),0!==pd&&(rc=mb.makeSpan(["arraycolsep"],[]),rc.style.width=Rb(pd),Ad.push(rc))}}ta=mb.makeSpan(["mtable"],Ad);if(0<Ra.length){d=mb.makeLineSpan("hline",g,
eb);eb=mb.makeLineSpan("hdashline",g,eb);for(ta=[{type:"elem",elem:ta,shift:0}];0<Ra.length;)L=Ra.pop(),sa=L.pos-Z,L.isDashed?ta.push({type:"elem",elem:eb,shift:sa}):ta.push({type:"elem",elem:d,shift:sa});ta=mb.makeVList({positionType:"individualShift",children:ta},g)}if(0===Oc.length)return mb.makeSpan(["mord"],[ta],g);eb=mb.makeVList({positionType:"individualShift",children:Oc},g);eb=mb.makeSpan(["tag"],[eb],g);return mb.makeFragment([ta,eb])},Gf={c:"center ",l:"left ",r:"right "},Le=function(d,
g){var y=[],L=new Fb.MathNode("mtd",[],["mtr-glue"]),Z=new Fb.MathNode("mtd",[],["mml-eqn-num"]);for(var sa=0;sa<d.body.length;sa++){var ta=d.body[sa],Ra=[];for(var eb=0;eb<ta.length;eb++)Ra.push(new Fb.MathNode("mtd",[Jc(ta[eb],g)]));d.tags&&d.tags[sa]&&(Ra.unshift(L),Ra.push(L),d.leqno?Ra.unshift(Z):Ra.push(Z));y.push(new Fb.MathNode("mtr",Ra))}g=new Fb.MathNode("mtable",y);g.setAttribute("rowspacing",Rb(.5===d.arraystretch?.1:.16+d.arraystretch-1+(d.addJot?.09:0)));L=y="";if(d.cols&&0<d.cols.length){Z=
d.cols;sa="";ta=!1;eb=0;Ra=Z.length;"separator"===Z[0].type&&(y+="top ",eb=1);"separator"===Z[Z.length-1].type&&(y+="bottom ",--Ra);for(;eb<Ra;eb++)"align"===Z[eb].type?(L+=Gf[Z[eb].align],ta&&(sa+="none "),ta=!0):"separator"===Z[eb].type&&ta&&(sa+="|"===Z[eb].separator?"solid ":"dashed ",ta=!1);g.setAttribute("columnalign",L.trim());/[sd]/.test(sa)&&g.setAttribute("columnlines",sa.trim())}if("align"===d.colSeparationType){L=d.cols||[];Z="";for(sa=1;sa<L.length;sa++)Z+=sa%2?"0em ":"1em ";g.setAttribute("columnspacing",
Z.trim())}else"alignat"===d.colSeparationType||"gather"===d.colSeparationType?g.setAttribute("columnspacing","0em"):"small"===d.colSeparationType?g.setAttribute("columnspacing","0.2778em"):"CD"===d.colSeparationType?g.setAttribute("columnspacing","0.5em"):g.setAttribute("columnspacing","1em");L="";Z=d.hLinesBeforeRow;y+=0<Z[0].length?"left ":"";y+=0<Z[Z.length-1].length?"right ":"";for(sa=1;sa<Z.length-1;sa++)L+=0===Z[sa].length?"none ":Z[sa][0]?"dashed ":"solid ";/[sd]/.test(L)&&g.setAttribute("rowlines",
L.trim());""!==y&&(g=new Fb.MathNode("menclose",[g]),g.setAttribute("notation",y.trim()));d.arraystretch&&1>d.arraystretch&&(g=new Fb.MathNode("mstyle",[g]),g.setAttribute("scriptlevel","1"));return g},jf=function(d,g){-1===d.envName.indexOf("ed")&&qg(d);const y=[];var L=-1<d.envName.indexOf("at")?"alignat":"align",Z="split"===d.envName;L=Ca(d.parser,{cols:y,addJot:!0,autoTag:Z?void 0:qa(d.envName),emptySingleRow:!0,colSeparationType:L,maxNumCols:Z?2:void 0,leqno:d.parser.settings.leqno},"display");
let sa,ta=0;const Ra={type:"ordgroup",mode:d.mode,body:[]};if(g[0]&&"ordgroup"===g[0].type){d="";for(Z=0;Z<g[0].body.length;Z++){const Cb=t(g[0].body[Z],"textord");d+=Cb.text}sa=Number(d);ta=2*sa}const eb=!ta;L.body.forEach(function(Cb){for(var pc=1;pc<Cb.length;pc+=2){const rc=t(Cb[pc],"styling");t(rc.body[0],"ordgroup").body.unshift(Ra)}if(eb)ta<Cb.length&&(ta=Cb.length);else if(pc=Cb.length/2,sa<pc)throw new Va("Too many math in a row: expected "+(sa+", but got "+pc),Cb[0]);});for(g=0;g<ta;++g)d=
"r",Z=0,1===g%2?d="l":0<g&&eb&&(Z=1),y[g]={type:"align",align:d,pregap:Z,postgap:0};L.colSeparationType=eb?"align":"alignat";return L};ka({type:"array",names:["array","darray"],props:{numArgs:1},handler(d,g){g=(C(g[0])?[g[0]]:t(g[0],"ordgroup").body).map(function(y){const L=u(y).text;if(-1!=="lcr".indexOf(L))return{type:"align",align:L};if("|"===L)return{type:"separator",separator:"|"};if(":"===L)return{type:"separator",separator:":"};throw new Va("Unknown column alignment: "+L,y);});return Ca(d.parser,
{cols:g,hskipBeforeAndAfter:!0,maxNumCols:g.length},La(d.envName))},htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:"matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix matrix* pmatrix* bmatrix* Bmatrix* vmatrix* Vmatrix*".split(" "),props:{numArgs:0},handler(d){const g={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[d.envName.replace("*","")];let y="c";var L={hskipBeforeAndAfter:!1,cols:[{type:"align",align:y}]};if("*"===d.envName.charAt(d.envName.length-
1)){var Z=d.parser;Z.consumeSpaces();if("["===Z.fetch().text){Z.consume();Z.consumeSpaces();y=Z.fetch().text;if(-1==="lcr".indexOf(y))throw new Va("Expected l or c or r",Z.nextToken);Z.consume();Z.consumeSpaces();Z.expect("]");Z.consume();L.cols=[{type:"align",align:y}]}}L=Ca(d.parser,L,La(d.envName));Z=Math.max(0,...L.body.map(sa=>sa.length));L.cols=Array(Z).fill({type:"align",align:y});return g?{type:"leftright",mode:d.mode,body:[L],left:g[0],right:g[1],rightColor:void 0}:L},htmlBuilder:Ud,mathmlBuilder:Le});
ka({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(d){d=Ca(d.parser,{arraystretch:.5},"script");d.colSeparationType="small";return d},htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:["subarray"],props:{numArgs:1},handler(d,g){g=(C(g[0])?[g[0]]:t(g[0],"ordgroup").body).map(function(y){const L=u(y).text;if(-1!=="lc".indexOf(L))return{type:"align",align:L};throw new Va("Unknown column alignment: "+L,y);});if(1<g.length)throw new Va("{subarray} can contain only one column");g={cols:g,
hskipBeforeAndAfter:!1,arraystretch:.5};g=Ca(d.parser,g,"script");if(0<g.body.length&&1<g.body[0].length)throw new Va("{subarray} can contain only one column");return g},htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(d){const g=Ca(d.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},La(d.envName));return{type:"leftright",mode:d.mode,body:[g],left:-1<d.envName.indexOf("r")?
".":"\\{",right:-1<d.envName.indexOf("r")?"\\}":".",rightColor:void 0}},htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:jf,htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(d){Ma.contains(["gather","gather*"],d.envName)&&qg(d);const g={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:qa(d.envName),emptySingleRow:!0,leqno:d.parser.settings.leqno};
return Ca(d.parser,g,"display")},htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:jf,htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(d){qg(d);const g={autoTag:qa(d.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:d.parser.settings.leqno};return Ca(d.parser,g,"display")},htmlBuilder:Ud,mathmlBuilder:Le});ka({type:"array",names:["CD"],props:{numArgs:0},handler(d){qg(d);
d=d.parser;const g=[];d.gullet.beginGroup();d.gullet.macros.set("\\cr","\\\\\\relax");for(d.gullet.beginGroup();;){g.push(d.parseExpression(!1,"\\\\"));d.gullet.endGroup();d.gullet.beginGroup();var y=d.fetch().text;if("\x26"===y||"\\\\"===y)d.consume();else if("\\end"===y){0===g[g.length-1].length&&g.pop();break}else throw new Va("Expected \\\\ or \\cr or \\end",d.nextToken);}let L=[];y=[L];for(let sa=0;sa<g.length;sa++){const ta=g[sa];var Z=Pb();for(let Ra=0;Ra<ta.length;Ra++)if(gc(ta[Ra])){L.push(Z);
Ra+=1;const eb=u(ta[Ra]).text,Cb=Array(2);Cb[0]={type:"ordgroup",mode:"math",body:[]};Cb[1]={type:"ordgroup",mode:"math",body:[]};if(!(-1<"\x3d|.".indexOf(eb)))if(-1<"\x3c\x3eAV".indexOf(eb))for(let pc=0;2>pc;pc++){let rc=!0;for(let Oc=Ra+1;Oc<ta.length;Oc++){Z=ta[Oc];if(("mathord"===Z.type||"atom"===Z.type)&&Z.text===eb){rc=!1;Ra=Oc;break}if(gc(ta[Oc]))throw new Va("Missing a "+eb+" character to complete a CD arrow.",ta[Oc]);Cb[pc].body.push(ta[Oc])}if(rc)throw new Va("Missing a "+eb+" character to complete a CD arrow.",
ta[Ra]);}else throw new Va('Expected one of "\x3c\x3eAV\x3d|." after @',ta[Ra]);Z={type:"styling",body:[T(eb,Cb,d)],mode:"math",style:"display"};L.push(Z);Z=Pb()}else Z.body.push(ta[Ra]);0===sa%2?L.push(Z):L.shift();L=[];y.push(L)}d.gullet.endGroup();d.gullet.endGroup();d=Array(y[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:y,arraystretch:1,addJot:!0,rowGaps:[null],cols:d,colSeparationType:"CD",hLinesBeforeRow:Array(y.length+1).fill([])}},htmlBuilder:Ud,
mathmlBuilder:Le});va["\\nonumber"]="\\gdef\\@eqnsw{0}";va["\\notag"]="\\nonumber";m({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(d,g){throw new Va(d.funcName+" valid only within array environment");}});var xh=wh;m({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(d,g){let {parser:y,funcName:L}=d;g=g[0];if("ordgroup"!==g.type)throw new Va("Invalid environment name",g);d="";for(var Z=0;Z<g.body.length;++Z)d+=
t(g.body[Z],"textord").text;if("\\begin"===L){if(!xh.hasOwnProperty(d))throw new Va("No such environment: "+d,g);g=xh[d];const {args:sa,optArgs:ta}=y.parseArguments("\\begin{"+d+"}",g);g=g.handler({mode:y.mode,envName:d,parser:y},sa,ta);y.expect("\\end",!1);Z=y.nextToken;const Ra=t(y.parseFunction(),"environment");if(Ra.name!==d)throw new Va("Mismatch: \\begin{"+d+"} matched by \\end{"+Ra.name+"}",Z);return g}return{type:"environment",mode:y.mode,name:d,nameGroup:g}}});const ie=(d,g)=>{g=g.withFont(d.font);
return ic(d.body,g)},Gd=(d,g)=>{g=g.withFont(d.font);return Jc(d.body,g)},Me={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};m({type:"font",names:"\\mathrm \\mathit \\mathbf \\mathnormal \\mathbb \\mathcal \\mathfrak \\mathscr \\mathsf \\mathtt \\Bbb \\bold \\frak".split(" "),props:{numArgs:1,allowedInArgument:!0},handler:(d,g)=>{let {parser:y,funcName:L}=d;d=Ja(g[0]);g=L;g in Me&&(g=Me[g]);return{type:"font",mode:y.mode,font:g.slice(1),body:d}},htmlBuilder:ie,
mathmlBuilder:Gd});m({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(d,g)=>{({parser:d}=d);g=g[0];const y=Ma.isCharacterBox(g);return{type:"mclass",mode:d.mode,mclass:Kb(g),body:[{type:"font",mode:d.mode,font:"boldsymbol",body:g}],isCharacterBox:y}}});m({type:"font",names:"\\rm \\sf \\tt \\bf \\it \\cal".split(" "),props:{numArgs:0,allowedInText:!0},handler:(d,g)=>{let {parser:y,funcName:L,breakOnTokenText:Z}=d;({mode:d}=y);g=y.parseExpression(!0,Z);const sa="math"+L.slice(1);
return{type:"font",mode:d,font:sa,body:{type:"ordgroup",mode:y.mode,body:g}}},htmlBuilder:ie,mathmlBuilder:Gd});const Qf=(d,g)=>{"display"===d?g=g.id>=fb.id?g.text():za:"text"===d&&g.size===za.size?g=Ka:"script"===d?g=fb:"scriptscript"===d&&(g=fa);return g},Sg=(d,g)=>{const y=Qf(d.size,g.style);var L=y.fracNum(),Z=y.fracDen();var sa=g.havingStyle(L);L=ic(d.numer,sa,g);if(d.continued){sa=8.5/g.fontMetrics().ptPerEm;var ta=3.5/g.fontMetrics().ptPerEm;L.height=L.height<sa?sa:L.height;L.depth=L.depth<
ta?ta:L.depth}sa=g.havingStyle(Z);sa=ic(d.denom,sa,g);let Ra;if(d.hasBarLine){d.barSize?(Ra=Gc(d.barSize,g),ta=mb.makeLineSpan("frac-line",g,Ra)):ta=mb.makeLineSpan("frac-line",g);var eb=Ra=ta.height}else ta=null,Ra=0,eb=g.fontMetrics().defaultRuleThickness;let Cb;y.size===za.size||"display"===d.size?(Z=g.fontMetrics().num1,eb=0<Ra?3*eb:7*eb,Cb=g.fontMetrics().denom1):(0<Ra?Z=g.fontMetrics().num2:(Z=g.fontMetrics().num3,eb*=3),Cb=g.fontMetrics().denom2);if(ta){const pc=g.fontMetrics().axisHeight;
Z-L.depth-(pc+.5*Ra)<eb&&(Z+=eb-(Z-L.depth-(pc+.5*Ra)));pc-.5*Ra-(sa.height-Cb)<eb&&(Cb+=eb-(pc-.5*Ra-(sa.height-Cb)));L=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:sa,shift:Cb},{type:"elem",elem:ta,shift:-(pc-.5*Ra)},{type:"elem",elem:L,shift:-Z}]},g)}else ta=Z-L.depth-(sa.height-Cb),ta<eb&&(Z+=.5*(eb-ta),Cb+=.5*(eb-ta)),L=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:sa,shift:Cb},{type:"elem",elem:L,shift:-Z}]},g);sa=g.havingStyle(y);L.height*=
sa.sizeMultiplier/g.sizeMultiplier;L.depth*=sa.sizeMultiplier/g.sizeMultiplier;ta=y.size===za.size?g.fontMetrics().delim1:y.size===fa.size?g.havingStyle(fb).fontMetrics().delim2:g.fontMetrics().delim2;Z=null==d.leftDelim?Sb(g,["mopen"]):we.customSizedDelim(d.leftDelim,ta,!0,g.havingStyle(y),d.mode,["mopen"]);d=d.continued?mb.makeSpan([]):null==d.rightDelim?Sb(g,["mclose"]):we.customSizedDelim(d.rightDelim,ta,!0,g.havingStyle(y),d.mode,["mclose"]);return mb.makeSpan(["mord"].concat(sa.sizingClasses(g)),
[Z,mb.makeSpan(["mfrac"],[L]),d],g)},Xf=(d,g)=>{let y=new Fb.MathNode("mfrac",[Jc(d.numer,g),Jc(d.denom,g)]);if(!d.hasBarLine)y.setAttribute("linethickness","0px");else if(d.barSize){var L=Gc(d.barSize,g);y.setAttribute("linethickness",Rb(L))}L=Qf(d.size,g.style);L.size!==g.style.size&&(y=new Fb.MathNode("mstyle",[y]),y.setAttribute("displaystyle",L.size===za.size?"true":"false"),y.setAttribute("scriptlevel","0"));return null!=d.leftDelim||null!=d.rightDelim?(g=[],null!=d.leftDelim&&(L=new Fb.MathNode("mo",
[new Fb.TextNode(d.leftDelim.replace("\\",""))]),L.setAttribute("fence","true"),g.push(L)),g.push(y),null!=d.rightDelim&&(d=new Fb.MathNode("mo",[new Fb.TextNode(d.rightDelim.replace("\\",""))]),d.setAttribute("fence","true"),g.push(d)),xc(g)):y};m({type:"genfrac",names:"\\dfrac \\frac \\tfrac \\dbinom \\binom \\tbinom \\\\atopfrac \\\\bracefrac \\\\brackfrac".split(" "),props:{numArgs:2,allowedInArgument:!0},handler:(d,g)=>{let {parser:y,funcName:L}=d;d=g[0];g=g[1];let Z,sa=null,ta=null,Ra="auto";
switch(L){case "\\dfrac":case "\\frac":case "\\tfrac":Z=!0;break;case "\\\\atopfrac":Z=!1;break;case "\\dbinom":case "\\binom":case "\\tbinom":Z=!1;sa="(";ta=")";break;case "\\\\bracefrac":Z=!1;sa="\\{";ta="\\}";break;case "\\\\brackfrac":Z=!1;sa="[";ta="]";break;default:throw Error("Unrecognized genfrac command");}switch(L){case "\\dfrac":case "\\dbinom":Ra="display";break;case "\\tfrac":case "\\tbinom":Ra="text"}return{type:"genfrac",mode:y.mode,continued:!1,numer:d,denom:g,hasBarLine:Z,leftDelim:sa,
rightDelim:ta,size:Ra,barSize:null}},htmlBuilder:Sg,mathmlBuilder:Xf});m({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(d,g)=>{({parser:d}=d);return{type:"genfrac",mode:d.mode,continued:!0,numer:g[0],denom:g[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});m({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(d){let {parser:g,funcName:y,token:L}=d;switch(y){case "\\over":d="\\frac";break;case "\\choose":d=
"\\binom";break;case "\\atop":d="\\\\atopfrac";break;case "\\brace":d="\\\\bracefrac";break;case "\\brack":d="\\\\brackfrac";break;default:throw Error("Unrecognized infix genfrac command");}return{type:"infix",mode:g.mode,replaceWith:d,token:L}}});const yh=["display","text","script","scriptscript"],zh=function(d){let g=null;0<d.length&&(g=d,g="."===g?null:g);return g};m({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:"math math size text math math".split(" ")},handler(d,
g){({parser:d}=d);const y=g[4],L=g[5];var Z=Ja(g[0]);Z="atom"===Z.type&&"open"===Z.family?zh(Z.text):null;var sa=Ja(g[1]);sa="atom"===sa.type&&"close"===sa.family?zh(sa.text):null;var ta=t(g[2],"size");let Ra=null;ta.isBlank?ta=!0:(Ra=ta.value,ta=0<Ra.number);let eb="auto";g=g[3];"ordgroup"===g.type?0<g.body.length&&(g=t(g.body[0],"textord"),eb=yh[Number(g.text)]):(g=t(g,"textord"),eb=yh[Number(g.text)]);return{type:"genfrac",mode:d.mode,numer:y,denom:L,continued:!1,hasBarLine:ta,barSize:Ra,leftDelim:Z,
rightDelim:sa,size:eb}},htmlBuilder:Sg,mathmlBuilder:Xf});m({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(d,g){let {parser:y,token:L}=d;return{type:"infix",mode:y.mode,replaceWith:"\\\\abovefrac",size:t(g[0],"size").value,token:L}}});m({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(d,g)=>{({parser:d}=d);const y=g[0];var L=t(g[1],"infix").size;if(!L)throw Error("Expected non-null, but got "+String(L));return{type:"genfrac",
mode:d.mode,numer:y,denom:g[2],continued:!1,hasBarLine:0<L.number,barSize:L,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Sg,mathmlBuilder:Xf});const kf=(d,g)=>{var y=g.style;let L;"supsub"===d.type?(L=d.sup?ic(d.sup,g.havingStyle(y.sup()),g):ic(d.sub,g.havingStyle(y.sub()),g),d=t(d.base,"horizBrace")):d=t(d,"horizBrace");y=ic(d.base,g.havingBaseStyle(za));const Z=jd.svgSpan(d,g);d.isOver?(y=mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.1},
{type:"elem",elem:Z}]},g),y.children[0].children[0].children[1].classes.push("svg-align")):(y=mb.makeVList({positionType:"bottom",positionData:y.depth+.1+Z.height,children:[{type:"elem",elem:Z},{type:"kern",size:.1},{type:"elem",elem:y}]},g),y.children[0].children[0].children[0].classes.push("svg-align"));L&&(y=mb.makeSpan(["mord",d.isOver?"mover":"munder"],[y],g),y=d.isOver?mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.2},{type:"elem",elem:L}]},g):mb.makeVList({positionType:"bottom",
positionData:y.depth+.2+L.height+L.depth,children:[{type:"elem",elem:L},{type:"kern",size:.2},{type:"elem",elem:y}]},g));return mb.makeSpan(["mord",d.isOver?"mover":"munder"],[y],g)};m({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(d,g){let {parser:y,funcName:L}=d;return{type:"horizBrace",mode:y.mode,label:L,isOver:/^\\over/.test(L),base:g[0]}},htmlBuilder:kf,mathmlBuilder:(d,g)=>{const y=jd.mathMLnode(d.label);return new Fb.MathNode(d.isOver?"mover":"munder",[Jc(d.base,
g),y])}});m({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(d,g)=>{({parser:d}=d);const y=g[1];g=t(g[0],"url").url;return d.settings.isTrusted({command:"\\href",url:g})?{type:"href",mode:d.mode,href:g,body:Za(y)}:d.formatUnsupportedCmd("\\href")},htmlBuilder:(d,g)=>{const y=rb(d.body,g,!1);return mb.makeAnchor(d.href,[],y,g)},mathmlBuilder:(d,g)=>{g=xc(sc(d.body,g,void 0));g instanceof kc||(g=new kc("mrow",[g]));g.setAttribute("href",d.href);return g}});
m({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(d,g)=>{({parser:d}=d);g=t(g[0],"url").url;if(!d.settings.isTrusted({command:"\\url",url:g}))return d.formatUnsupportedCmd("\\url");const y=[];for(let L=0;L<g.length;L++){let Z=g[L];"~"===Z&&(Z="\\textasciitilde");y.push({type:"textord",mode:"text",text:Z})}return{type:"href",mode:d.mode,href:g,body:Za({type:"text",mode:d.mode,font:"\\texttt",body:y})}}});m({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],
allowedInText:!0,primitive:!0},handler(d,g){({parser:d}=d);return{type:"hbox",mode:d.mode,body:Za(g[0])}},htmlBuilder(d,g){d=rb(d.body,g,!1);return mb.makeFragment(d)},mathmlBuilder(d,g){return new Fb.MathNode("mrow",sc(d.body,g))}});m({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(d,g)=>{let {parser:y,funcName:L}=d;var Z=t(g[0],"raw").string;g=g[1];y.settings.strict&&y.settings.reportNonstrict("htmlExtension",
"HTML extension is disabled on strict mode");d={};switch(L){case "\\htmlClass":d.class=Z;Z={command:"\\htmlClass",class:Z};break;case "\\htmlId":d.id=Z;Z={command:"\\htmlId",id:Z};break;case "\\htmlStyle":d.style=Z;Z={command:"\\htmlStyle",style:Z};break;case "\\htmlData":Z=Z.split(",");for(let sa=0;sa<Z.length;sa++){const ta=Z[sa].split("\x3d");if(2!==ta.length)throw new Va("Error parsing key-value for \\htmlData");d["data-"+ta[0].trim()]=ta[1].trim()}Z={command:"\\htmlData",attributes:d};break;
default:throw Error("Unrecognized html command");}return y.settings.isTrusted(Z)?{type:"html",mode:y.mode,attributes:d,body:Za(g)}:y.formatUnsupportedCmd(L)},htmlBuilder:(d,g)=>{const y=rb(d.body,g,!1),L=["enclosing"];d.attributes.class&&L.push(...d.attributes.class.trim().split(/\s+/));g=mb.makeSpan(L,y,g);for(const Z in d.attributes)"class"!==Z&&d.attributes.hasOwnProperty(Z)&&g.setAttribute(Z,d.attributes[Z]);return g},mathmlBuilder:(d,g)=>xc(sc(d.body,g,void 0))});m({type:"htmlmathml",names:["\\html@mathml"],
props:{numArgs:2,allowedInText:!0},handler:(d,g)=>{({parser:d}=d);return{type:"htmlmathml",mode:d.mode,html:Za(g[0]),mathml:Za(g[1])}},htmlBuilder:(d,g)=>{d=rb(d.html,g,!1);return mb.makeFragment(d)},mathmlBuilder:(d,g)=>xc(sc(d.mathml,g,void 0))});const Se=function(d){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(d))return{number:+d,unit:"bp"};const g=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(d);if(!g)throw new Va("Invalid size: '"+d+"' in \\includegraphics");d={number:+(g[1]+g[2]),unit:g[3]};if(!Qc(d))throw new Va("Invalid unit: '"+
d.unit+"' in \\includegraphics.");return d};m({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(d,g,y)=>{({parser:d}=d);let L={number:0,unit:"em"},Z={number:.9,unit:"em"},sa={number:0,unit:"em"},ta="";if(y[0]){y=t(y[0],"raw").string.split(",");for(let Ra=0;Ra<y.length;Ra++){const eb=y[Ra].split("\x3d");if(2===eb.length){const Cb=eb[1].trim();switch(eb[0].trim()){case "alt":ta=Cb;break;case "width":L=Se(Cb);break;
case "height":Z=Se(Cb);break;case "totalheight":sa=Se(Cb);break;default:throw new Va("Invalid key: '"+eb[0]+"' in \\includegraphics.");}}}}g=t(g[0],"url").url;""===ta&&(ta=g.replace(/^.*[\\/]/,""),ta=ta.substring(0,ta.lastIndexOf(".")));return d.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:d.mode,alt:ta,width:L,height:Z,totalheight:sa,src:g}:d.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(d,g)=>{const y=Gc(d.height,g);let L=0;0<d.totalheight.number&&
(L=Gc(d.totalheight,g)-y);let Z=0;0<d.width.number&&(Z=Gc(d.width,g));g={height:Rb(y+L)};0<Z&&(g.width=Rb(Z));0<L&&(g.verticalAlign=Rb(-L));d=new de(d.src,d.alt,g);d.height=y;d.depth=L;return d},mathmlBuilder:(d,g)=>{const y=new Fb.MathNode("mglyph",[]);y.setAttribute("alt",d.alt);const L=Gc(d.height,g);let Z=0;0<d.totalheight.number&&(Z=Gc(d.totalheight,g)-L,y.setAttribute("valign",Rb(-Z)));y.setAttribute("height",Rb(L+Z));0<d.width.number&&(g=Gc(d.width,g),y.setAttribute("width",Rb(g)));y.setAttribute("src",
d.src);return y}});m({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(d,g){let {parser:y,funcName:L}=d;d=t(g[0],"size");y.settings.strict&&(g="mu"===d.value.unit,"m"===L[1]?(g||y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+L+" supports only mu units, not "+(d.value.unit+" units")),"math"!==y.mode&&y.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+L+" works only in math mode")):g&&y.settings.reportNonstrict("mathVsTextUnits",
"LaTeX's "+L+" doesn't support mu units"));return{type:"kern",mode:y.mode,dimension:d.value}},htmlBuilder(d,g){return mb.makeGlue(d.dimension,g)},mathmlBuilder(d,g){d=Gc(d.dimension,g);return new Fb.SpaceNode(d)}});m({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(d,g)=>{let {parser:y,funcName:L}=d;d=g[0];return{type:"lap",mode:y.mode,alignment:L.slice(5),body:d}},htmlBuilder:(d,g)=>{if("clap"===d.alignment){var y=mb.makeSpan([],[ic(d.body,g)]);
y=mb.makeSpan(["inner"],[y],g)}else y=mb.makeSpan(["inner"],[ic(d.body,g)]);const L=mb.makeSpan(["fix"],[]);d=mb.makeSpan([d.alignment],[y,L],g);y=mb.makeSpan(["strut"]);y.style.height=Rb(d.height+d.depth);d.depth&&(y.style.verticalAlign=Rb(-d.depth));d.children.unshift(y);d=mb.makeSpan(["thinbox"],[d],g);return mb.makeSpan(["mord","vbox"],[d],g)},mathmlBuilder:(d,g)=>{g=new Fb.MathNode("mpadded",[Jc(d.body,g)]);"rlap"!==d.alignment&&g.setAttribute("lspace",("llap"===d.alignment?"-1":"-0.5")+"width");
g.setAttribute("width","0px");return g}});m({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(d,g){let {funcName:y,parser:L}=d;d=L.mode;L.switchMode("math");g="\\("===y?"\\)":"$";const Z=L.parseExpression(!1,g);L.expect(g);L.switchMode(d);return{type:"styling",mode:L.mode,style:"text",body:Z}}});m({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(d,g){throw new Va("Mismatched "+d.funcName);}});const lf=(d,g)=>{switch(g.style.size){case za.size:return d.display;
case Ka.size:return d.text;case fb.size:return d.script;case fa.size:return d.scriptscript;default:return d.text}};m({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(d,g)=>{({parser:d}=d);return{type:"mathchoice",mode:d.mode,display:Za(g[0]),text:Za(g[1]),script:Za(g[2]),scriptscript:Za(g[3])}},htmlBuilder:(d,g)=>{d=lf(d,g);g=rb(d,g,!1);return mb.makeFragment(g)},mathmlBuilder:(d,g)=>{d=lf(d,g);return xc(sc(d,g,void 0))}});const rg=(d,g,y,L,Z,sa,ta)=>{d=mb.makeSpan([],
[d]);var Ra=y&&Ma.isCharacterBox(y);if(g){var eb=ic(g,L.havingStyle(Z.sup()),L);eb={elem:eb,kern:Math.max(L.fontMetrics().bigOpSpacing1,L.fontMetrics().bigOpSpacing3-eb.depth)}}if(y){var Cb=ic(y,L.havingStyle(Z.sub()),L);Cb={elem:Cb,kern:Math.max(L.fontMetrics().bigOpSpacing2,L.fontMetrics().bigOpSpacing4-Cb.height)}}if(eb&&Cb)ta=L.fontMetrics().bigOpSpacing5+Cb.elem.height+Cb.elem.depth+Cb.kern+d.depth+ta,d=mb.makeVList({positionType:"bottom",positionData:ta,children:[{type:"kern",size:L.fontMetrics().bigOpSpacing5},
{type:"elem",elem:Cb.elem,marginLeft:Rb(-sa)},{type:"kern",size:Cb.kern},{type:"elem",elem:d},{type:"kern",size:eb.kern},{type:"elem",elem:eb.elem,marginLeft:Rb(sa)},{type:"kern",size:L.fontMetrics().bigOpSpacing5}]},L);else if(Cb)d=mb.makeVList({positionType:"top",positionData:d.height-ta,children:[{type:"kern",size:L.fontMetrics().bigOpSpacing5},{type:"elem",elem:Cb.elem,marginLeft:Rb(-sa)},{type:"kern",size:Cb.kern},{type:"elem",elem:d}]},L);else if(eb)d=mb.makeVList({positionType:"bottom",positionData:d.depth+
ta,children:[{type:"elem",elem:d},{type:"kern",size:eb.kern},{type:"elem",elem:eb.elem,marginLeft:Rb(sa)},{type:"kern",size:L.fontMetrics().bigOpSpacing5}]},L);else return d;d=[d];Cb&&0!==sa&&!Ra&&(Ra=mb.makeSpan(["mspace"],[],L),Ra.style.marginRight=Rb(sa),d.unshift(Ra));return mb.makeSpan(["mop","op-limits"],d,L)},wf=["\\smallint"],Re=(d,g)=>{let y,L,Z=!1;"supsub"===d.type?(y=d.sup,L=d.sub,d=t(d.base,"op"),Z=!0):d=t(d,"op");const sa=g.style;var ta=!1;sa.size===za.size&&d.symbol&&!Ma.contains(wf,
d.name)&&(ta=!0);if(d.symbol){var Ra=ta?"Size2-Regular":"Size1-Regular";var eb="";if("\\oiint"===d.name||"\\oiiint"===d.name)eb=d.name.slice(1),d.name="oiint"===eb?"\\iint":"\\iiint";Ra=mb.makeSymbol(d.name,Ra,"math",g,["mop","op-symbol",ta?"large-op":"small-op"]);if(0<eb.length){const Cb=Ra.italic,pc=mb.staticSvg(eb+"Size"+(ta?"2":"1"),g);Ra=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ra,shift:0},{type:"elem",elem:pc,shift:ta?.08:0}]},g);d.name="\\"+eb;Ra.classes.unshift("mop");
Ra.italic=Cb}}else if(d.body)Ra=rb(d.body,g,!0),1===Ra.length&&Ra[0]instanceof Ed?(Ra=Ra[0],Ra.classes[0]="mop"):Ra=mb.makeSpan(["mop"],Ra,g);else{Ra=[];for(ta=1;ta<d.name.length;ta++)Ra.push(mb.mathsym(d.name[ta],d.mode,g));Ra=mb.makeSpan(["mop"],Ra,g)}eb=ta=0;(Ra instanceof Ed||"\\oiint"===d.name||"\\oiiint"===d.name)&&!d.suppressBaseShift&&(ta=(Ra.height-Ra.depth)/2-g.fontMetrics().axisHeight,eb=Ra.italic);if(Z)return rg(Ra,y,L,g,sa,eb,ta);ta&&(Ra.style.position="relative",Ra.style.top=Rb(ta));
return Ra},Xe=(d,g)=>{if(d.symbol)g=new kc("mo",[hd(d.name,d.mode)]),Ma.contains(wf,d.name)&&g.setAttribute("largeop","false");else if(d.body)g=new kc("mo",sc(d.body,g));else{g=new kc("mi",[new Sc(d.name.slice(1))]);const y=new kc("mo",[hd("⁡","text")]);g=d.parentIsSupSub?new kc("mrow",[g,y]):p([g,y])}return g},mf={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};
m({type:"op",names:"\\coprod \\bigvee \\bigwedge \\biguplus \\bigcap \\bigcup \\intop \\prod \\sum \\bigotimes \\bigoplus \\bigodot \\bigsqcup \\smallint ∏ ∐ ∑ ⋀ ⋁ ⋂ ⋃ ⨀ ⨁ ⨂ ⨄ ⨆".split(" "),props:{numArgs:0},handler:(d,g)=>{let {parser:y,funcName:L}=d;d=L;1===d.length&&(d=mf[d]);return{type:"op",mode:y.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:d}},htmlBuilder:Re,mathmlBuilder:Xe});m({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(d,g)=>{({parser:d}=d);return{type:"op",
mode:d.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Za(g[0])}},htmlBuilder:Re,mathmlBuilder:Xe});const nf={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};m({type:"op",names:"\\arcsin \\arccos \\arctan \\arctg \\arcctg \\arg \\ch \\cos \\cosec \\cosh \\cot \\cotg \\coth \\csc \\ctg \\cth \\deg \\dim \\exp \\hom \\ker \\lg \\ln \\log \\sec \\sin \\sinh \\sh \\tan \\tanh \\tg \\th".split(" "),props:{numArgs:0},handler(d){let {parser:g,funcName:y}=d;return{type:"op",
mode:g.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:y}},htmlBuilder:Re,mathmlBuilder:Xe});m({type:"op",names:"\\det \\gcd \\inf \\lim \\max \\min \\Pr \\sup".split(" "),props:{numArgs:0},handler(d){let {parser:g,funcName:y}=d;return{type:"op",mode:g.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:y}},htmlBuilder:Re,mathmlBuilder:Xe});m({type:"op",names:"\\int \\iint \\iiint \\oint \\oiint \\oiiint ∫ ∬ ∭ ∮ ∯ ∰".split(" "),props:{numArgs:0},handler(d){let {parser:g,funcName:y}=d;d=y;1===d.length&&
(d=nf[d]);return{type:"op",mode:g.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:d}},htmlBuilder:Re,mathmlBuilder:Xe});const of=(d,g)=>{let y,L,Z=!1;"supsub"===d.type?(y=d.sup,L=d.sub,d=t(d.base,"operatorname"),Z=!0):d=t(d,"operatorname");if(0<d.body.length){d=d.body.map(sa=>{const ta=sa.text;return"string"===typeof ta?{type:"textord",mode:sa.mode,text:ta}:sa});d=rb(d,g.withFont("mathrm"),!0);for(let sa=0;sa<d.length;sa++){const ta=d[sa];ta instanceof Ed&&(ta.text=ta.text.replace(/\u2212/,"-").replace(/\u2217/,
"*"))}d=mb.makeSpan(["mop"],d,g)}else d=mb.makeSpan(["mop"],[],g);return Z?rg(d,y,L,g,g.style,0,0):d};m({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(d,g)=>{let {parser:y,funcName:L}=d;return{type:"operatorname",mode:y.mode,body:Za(g[0]),alwaysHandleSupSub:"\\operatornamewithlimits"===L,limits:!1,parentIsSupSub:!1}},htmlBuilder:of,mathmlBuilder:(d,g)=>{g=sc(d.body,g.withFont("mathrm"));var y=!0;for(let L=0;L<g.length;L++){const Z=g[L];if(!(Z instanceof
Fb.SpaceNode))if(Z instanceof Fb.MathNode)switch(Z.type){case "mi":case "mn":case "ms":case "mspace":case "mtext":break;case "mo":const sa=Z.children[0];1===Z.children.length&&sa instanceof Fb.TextNode?sa.text=sa.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):y=!1;break;default:y=!1}else y=!1}y&&(g=g.map(L=>L.toText()).join(""),g=[new Fb.TextNode(g)]);g=new Fb.MathNode("mi",g);g.setAttribute("mathvariant","normal");y=new Fb.MathNode("mo",[hd("⁡","text")]);return d.parentIsSupSub?new Fb.MathNode("mrow",
[g,y]):Fb.newDocumentFragment([g,y])}});va["\\operatorname"]="\\@ifstar\\operatornamewithlimits\\operatorname@";x({type:"ordgroup",htmlBuilder(d,g){return d.semisimple?mb.makeFragment(rb(d.body,g,!1)):mb.makeSpan(["mord"],rb(d.body,g,!0),g)},mathmlBuilder(d,g){return xc(sc(d.body,g,!0))}});m({type:"overline",names:["\\overline"],props:{numArgs:1},handler(d,g){({parser:d}=d);return{type:"overline",mode:d.mode,body:g[0]}},htmlBuilder(d,g){d=ic(d.body,g.havingCrampedStyle());const y=mb.makeLineSpan("overline-line",
g),L=g.fontMetrics().defaultRuleThickness;d=mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:3*L},{type:"elem",elem:y},{type:"kern",size:L}]},g);return mb.makeSpan(["mord","overline"],[d],g)},mathmlBuilder(d,g){const y=new Fb.MathNode("mo",[new Fb.TextNode("‾")]);y.setAttribute("stretchy","true");d=new Fb.MathNode("mover",[Jc(d.body,g),y]);d.setAttribute("accent","true");return d}});m({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},
handler:(d,g)=>{({parser:d}=d);return{type:"phantom",mode:d.mode,body:Za(g[0])}},htmlBuilder:(d,g)=>{d=rb(d.body,g.withPhantom(),!1);return mb.makeFragment(d)},mathmlBuilder:(d,g)=>{d=sc(d.body,g);return new Fb.MathNode("mphantom",d)}});m({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(d,g)=>{({parser:d}=d);return{type:"hphantom",mode:d.mode,body:g[0]}},htmlBuilder:(d,g)=>{d=mb.makeSpan([],[ic(d.body,g.withPhantom())]);d.height=0;d.depth=0;if(d.children)for(let y=
0;y<d.children.length;y++)d.children[y].height=0,d.children[y].depth=0;d=mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d}]},g);return mb.makeSpan(["mord"],[d],g)},mathmlBuilder:(d,g)=>{d=sc(Za(d.body),g);d=new Fb.MathNode("mphantom",d);d=new Fb.MathNode("mpadded",[d]);d.setAttribute("height","0px");d.setAttribute("depth","0px");return d}});m({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(d,g)=>{({parser:d}=d);return{type:"vphantom",mode:d.mode,
body:g[0]}},htmlBuilder:(d,g)=>{d=mb.makeSpan(["inner"],[ic(d.body,g.withPhantom())]);const y=mb.makeSpan(["fix"],[]);return mb.makeSpan(["mord","rlap"],[d,y],g)},mathmlBuilder:(d,g)=>{d=sc(Za(d.body),g);d=new Fb.MathNode("mphantom",d);d=new Fb.MathNode("mpadded",[d]);d.setAttribute("width","0px");return d}});m({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(d,g){({parser:d}=d);const y=t(g[0],"size").value;return{type:"raisebox",mode:d.mode,
dy:y,body:g[1]}},htmlBuilder(d,g){const y=ic(d.body,g);d=Gc(d.dy,g);return mb.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:y}]},g)},mathmlBuilder(d,g){g=new Fb.MathNode("mpadded",[Jc(d.body,g)]);g.setAttribute("voffset",d.dy.number+d.dy.unit);return g}});m({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(d){({parser:d}=d);return{type:"internal",mode:d.mode}}});m({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size",
"size","size"]},handler(d,g,y){({parser:d}=d);y=y[0];const L=t(g[0],"size");g=t(g[1],"size");return{type:"rule",mode:d.mode,shift:y&&t(y,"size").value,width:L.value,height:g.value}},htmlBuilder(d,g){const y=mb.makeSpan(["mord","rule"],[],g),L=Gc(d.width,g),Z=Gc(d.height,g);d=d.shift?Gc(d.shift,g):0;y.style.borderRightWidth=Rb(L);y.style.borderTopWidth=Rb(Z);y.style.bottom=Rb(d);y.width=L;y.height=Z+d;y.depth=-d;y.maxFontSize=1.125*Z*g.sizeMultiplier;return y},mathmlBuilder(d,g){var y=Gc(d.width,g);
const L=Gc(d.height,g);d=d.shift?Gc(d.shift,g):0;g=g.color&&g.getColor()||"black";const Z=new Fb.MathNode("mspace");Z.setAttribute("mathbackground",g);Z.setAttribute("width",Rb(y));Z.setAttribute("height",Rb(L));y=new Fb.MathNode("mpadded",[Z]);0<=d?y.setAttribute("height",Rb(d)):(y.setAttribute("height",Rb(d)),y.setAttribute("depth",Rb(-d)));y.setAttribute("voffset",Rb(d));return y}});const Hf="\\tiny \\sixptsize \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" ");
m({type:"sizing",names:Hf,props:{numArgs:0,allowedInText:!0},handler:(d,g)=>{let {breakOnTokenText:y,funcName:L,parser:Z}=d;d=Z.parseExpression(!1,y);return{type:"sizing",mode:Z.mode,size:Hf.indexOf(L)+1,body:d}},htmlBuilder:(d,g)=>{const y=g.havingSize(d.size);return Oa(d.body,y,g)},mathmlBuilder:(d,g)=>{g=g.havingSize(d.size);d=sc(d.body,g);d=new Fb.MathNode("mstyle",d);d.setAttribute("mathsize",Rb(g.sizeMultiplier));return d}});m({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,
allowedInText:!0},handler:(d,g,y)=>{({parser:d}=d);let L=!1,Z=!1;if(y=y[0]&&t(y[0],"ordgroup")){let sa;for(let ta=0;ta<y.body.length;++ta)if(sa=y.body[ta].text,"t"===sa)L=!0;else if("b"===sa)Z=!0;else{Z=L=!1;break}}else Z=L=!0;return{type:"smash",mode:d.mode,body:g[0],smashHeight:L,smashDepth:Z}},htmlBuilder:(d,g)=>{var y=mb.makeSpan([],[ic(d.body,g)]);if(!d.smashHeight&&!d.smashDepth)return y;if(d.smashHeight&&(y.height=0,y.children))for(let L=0;L<y.children.length;L++)y.children[L].height=0;if(d.smashDepth&&
(y.depth=0,y.children))for(d=0;d<y.children.length;d++)y.children[d].depth=0;y=mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y}]},g);return mb.makeSpan(["mord"],[y],g)},mathmlBuilder:(d,g)=>{g=new Fb.MathNode("mpadded",[Jc(d.body,g)]);d.smashHeight&&g.setAttribute("height","0px");d.smashDepth&&g.setAttribute("depth","0px");return g}});m({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(d,g,y){({parser:d}=d);return{type:"sqrt",mode:d.mode,body:g[0],
index:y[0]}},htmlBuilder(d,g){var y=ic(d.body,g.havingCrampedStyle());0===y.height&&(y.height=g.fontMetrics().xHeight);y=mb.wrapFragment(y,g);var L=g.fontMetrics().defaultRuleThickness,Z=L;g.style.id<Ka.id&&(Z=g.fontMetrics().xHeight);Z=L+Z/4;const {span:sa,ruleWidth:ta,advanceWidth:Ra}=we.sqrtImage(y.height+y.depth+Z+L,g);L=sa.height-ta;L>y.height+y.depth+Z&&(Z=(Z+L-y.height-y.depth)/2);L=sa.height-y.height-Z-ta;y.style.paddingLeft=Rb(Ra);y=mb.makeVList({positionType:"firstBaseline",children:[{type:"elem",
elem:y,wrapperClasses:["svg-align"]},{type:"kern",size:-(y.height+L)},{type:"elem",elem:sa},{type:"kern",size:ta}]},g);return d.index?(L=g.havingStyle(fa),d=ic(d.index,L,g),d=mb.makeVList({positionType:"shift",positionData:-(.6*(y.height-y.depth)),children:[{type:"elem",elem:d}]},g),d=mb.makeSpan(["root"],[d]),mb.makeSpan(["mord","sqrt"],[d,y],g)):mb.makeSpan(["mord","sqrt"],[y],g)},mathmlBuilder(d,g){const {body:y,index:L}=d;return L?new Fb.MathNode("mroot",[Jc(y,g),Jc(L,g)]):new Fb.MathNode("msqrt",
[Jc(y,g)])}});const Yf={display:za,text:Ka,script:fb,scriptscript:fa};m({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(d,g){let {breakOnTokenText:y,funcName:L,parser:Z}=d;d=Z.parseExpression(!0,y);g=L.slice(1,L.length-5);return{type:"styling",mode:Z.mode,style:g,body:d}},htmlBuilder(d,g){const y=g.havingStyle(Yf[d.style]).withFont("");return Oa(d.body,y,g)},mathmlBuilder(d,g){g=g.havingStyle(Yf[d.style]);
g=sc(d.body,g);g=new Fb.MathNode("mstyle",g);d={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[d.style];g.setAttribute("scriptlevel",d[0]);g.setAttribute("displaystyle",d[1]);return g}});x({type:"supsub",htmlBuilder(d,g){var y;if(y=(y=d.base)?"op"===y.type?y.limits&&(g.style.size===za.size||y.alwaysHandleSupSub)?Re:null:"operatorname"===y.type?y.alwaysHandleSupSub&&(g.style.size===za.size||y.limits)?of:null:"accent"===y.type?Ma.isCharacterBox(y.base)?ad:null:
"horizBrace"===y.type?!d.sub===y.isOver?kf:null:null:null)return y(d,g);const {base:L,sup:Z,sub:sa}=d;y=ic(L,g);const ta=g.fontMetrics();let Ra=0,eb=0;var Cb=L&&Ma.isCharacterBox(L);if(Z){var pc=g.havingStyle(g.style.sup());var rc=ic(Z,pc,g);Cb||(Ra=y.height-pc.fontMetrics().supDrop*pc.sizeMultiplier/g.sizeMultiplier)}if(sa){pc=g.havingStyle(g.style.sub());var Oc=ic(sa,pc,g);Cb||(eb=y.depth+pc.fontMetrics().subDrop*pc.sizeMultiplier/g.sizeMultiplier)}let yd;yd=g.style===za?ta.sup1:g.style.cramped?
ta.sup3:ta.sup2;Cb=Rb(.5/ta.ptPerEm/g.sizeMultiplier);pc=null;Oc&&(d=d.base&&"op"===d.base.type&&d.base.name&&("\\oiint"===d.base.name||"\\oiiint"===d.base.name),y instanceof Ed||d)&&(pc=Rb(-y.italic));if(rc&&Oc)Ra=Math.max(Ra,yd,rc.depth+.25*ta.xHeight),eb=Math.max(eb,ta.sub2),d=4*ta.defaultRuleThickness,Ra-rc.depth-(Oc.height-eb)<d&&(eb=d-(Ra-rc.depth)+Oc.height,d=.8*ta.xHeight-(Ra-rc.depth),0<d&&(Ra+=d,eb-=d)),rc=mb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Oc,shift:eb,
marginRight:Cb,marginLeft:pc},{type:"elem",elem:rc,shift:-Ra,marginRight:Cb}]},g);else if(Oc)eb=Math.max(eb,ta.sub1,Oc.height-.8*ta.xHeight),rc=mb.makeVList({positionType:"shift",positionData:eb,children:[{type:"elem",elem:Oc,marginLeft:pc,marginRight:Cb}]},g);else if(rc)Ra=Math.max(Ra,yd,rc.depth+.25*ta.xHeight),rc=mb.makeVList({positionType:"shift",positionData:-Ra,children:[{type:"elem",elem:rc,marginRight:Cb}]},g);else throw Error("supsub must have either sup or sub.");Oc=$b(y,"right")||"mord";
return mb.makeSpan([Oc],[y,mb.makeSpan(["msupsub"],[rc])],g)},mathmlBuilder(d,g){let y=!1,L;if(d.base&&"horizBrace"===d.base.type){var Z=!!d.sup;Z===d.base.isOver&&(y=!0,L=d.base.isOver)}!d.base||"op"!==d.base.type&&"operatorname"!==d.base.type||(d.base.parentIsSupSub=!0);Z=[Jc(d.base,g)];d.sub&&Z.push(Jc(d.sub,g));d.sup&&Z.push(Jc(d.sup,g));g=y?L?"mover":"munder":d.sub?d.sup?(d=d.base)&&"op"===d.type&&d.limits&&g.style===za?"munderover":d&&"operatorname"===d.type&&d.alwaysHandleSupSub&&(g.style===
za||d.limits)?"munderover":"msubsup":(d=d.base)&&"op"===d.type&&d.limits&&(g.style===za||d.alwaysHandleSupSub)?"munder":d&&"operatorname"===d.type&&d.alwaysHandleSupSub&&(d.limits||g.style===za)?"munder":"msub":(d=d.base)&&"op"===d.type&&d.limits&&(g.style===za||d.alwaysHandleSupSub)?"mover":d&&"operatorname"===d.type&&d.alwaysHandleSupSub&&(d.limits||g.style===za)?"mover":"msup";return new Fb.MathNode(g,Z)}});x({type:"atom",htmlBuilder(d,g){return mb.mathsym(d.text,d.mode,g,["m"+d.family])},mathmlBuilder(d,
g){const y=new Fb.MathNode("mo",[hd(d.text,d.mode)]);"bin"===d.family?(d=Bc(d,g),"bold-italic"===d&&y.setAttribute("mathvariant",d)):"punct"===d.family?y.setAttribute("separator","true"):("open"===d.family||"close"===d.family)&&y.setAttribute("stretchy","false");return y}});const Zf={mi:"italic",mn:"normal",mtext:"normal"};x({type:"mathord",htmlBuilder(d,g){return mb.makeOrd(d,g,"mathord")},mathmlBuilder(d,g){const y=new Fb.MathNode("mi",[hd(d.text,d.mode,g)]);d=Bc(d,g)||"italic";d!==Zf[y.type]&&
y.setAttribute("mathvariant",d);return y}});x({type:"textord",htmlBuilder(d,g){return mb.makeOrd(d,g,"textord")},mathmlBuilder(d,g){const y=hd(d.text,d.mode,g);g=Bc(d,g)||"normal";d="text"===d.mode?new Fb.MathNode("mtext",[y]):/[0-9]/.test(d.text)?new Fb.MathNode("mn",[y]):"\\prime"===d.text?new Fb.MathNode("mo",[y]):new Fb.MathNode("mi",[y]);g!==Zf[d.type]&&d.setAttribute("mathvariant",g);return d}});const Ze={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Tg={" ":{},"\\ ":{},"~":{className:"nobreak"},
"\\space":{},"\\nobreakspace":{className:"nobreak"}};x({type:"spacing",htmlBuilder(d,g){if(Tg.hasOwnProperty(d.text)){const y=Tg[d.text].className||"";return"text"===d.mode?(d=mb.makeOrd(d,g,"textord"),d.classes.push(y),d):mb.makeSpan(["mspace",y],[mb.mathsym(d.text,d.mode,g)],g)}if(Ze.hasOwnProperty(d.text))return mb.makeSpan(["mspace",Ze[d.text]],[],g);throw new Va('Unknown type of space "'+d.text+'"');},mathmlBuilder(d,g){if(Tg.hasOwnProperty(d.text))d=new Fb.MathNode("mtext",[new Fb.TextNode(" ")]);
else{if(Ze.hasOwnProperty(d.text))return new Fb.MathNode("mspace");throw new Va('Unknown type of space "'+d.text+'"');}return d}});const If=()=>{const d=new Fb.MathNode("mtd",[]);d.setAttribute("width","50%");return d};x({type:"tag",mathmlBuilder(d,g){d=new Fb.MathNode("mtable",[new Fb.MathNode("mtr",[If(),new Fb.MathNode("mtd",[xc(sc(d.body,g,void 0))]),If(),new Fb.MathNode("mtd",[xc(sc(d.tag,g,void 0))])])]);d.setAttribute("width","100%");return d}});const sg={"\\text":void 0,"\\textrm":"textrm",
"\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},pf={"\\textbf":"textbf","\\textmd":"textmd"},bf={"\\textit":"textit","\\textup":"textup"},tg=(d,g)=>{if(d=d.font){if(sg[d])return g.withTextFontFamily(sg[d]);if(pf[d])return g.withTextFontWeight(pf[d]);if("\\emph"===d)return"textit"===g.fontShape?g.withTextFontShape("textup"):g.withTextFontShape("textit")}else return g;return g.withTextFontShape(bf[d])};m({type:"text",names:"\\text \\textrm \\textsf \\texttt \\textnormal \\textbf \\textmd \\textit \\textup \\emph".split(" "),
props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(d,g){let {parser:y,funcName:L}=d;return{type:"text",mode:y.mode,body:Za(g[0]),font:L}},htmlBuilder(d,g){g=tg(d,g);d=rb(d.body,g,!0);return mb.makeSpan(["mord","text"],d,g)},mathmlBuilder(d,g){g=tg(d,g);return xc(sc(d.body,g,void 0))}});m({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(d,g){({parser:d}=d);return{type:"underline",mode:d.mode,body:g[0]}},htmlBuilder(d,g){d=ic(d.body,g);
const y=mb.makeLineSpan("underline-line",g),L=g.fontMetrics().defaultRuleThickness;d=mb.makeVList({positionType:"top",positionData:d.height,children:[{type:"kern",size:L},{type:"elem",elem:y},{type:"kern",size:3*L},{type:"elem",elem:d}]},g);return mb.makeSpan(["mord","underline"],[d],g)},mathmlBuilder(d,g){const y=new Fb.MathNode("mo",[new Fb.TextNode("‾")]);y.setAttribute("stretchy","true");d=new Fb.MathNode("munder",[Jc(d.body,g),y]);d.setAttribute("accentunder","true");return d}});m({type:"vcenter",
names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(d,g){({parser:d}=d);return{type:"vcenter",mode:d.mode,body:g[0]}},htmlBuilder(d,g){d=ic(d.body,g);const y=g.fontMetrics().axisHeight;return mb.makeVList({positionType:"shift",positionData:.5*(d.height-y-(d.depth+y)),children:[{type:"elem",elem:d}]},g)},mathmlBuilder(d,g){return new Fb.MathNode("mpadded",[Jc(d.body,g)],["vcenter"])}});m({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(d,g,y){throw new Va("\\verb ended by end of line instead of matching delimiter");
},htmlBuilder(d,g){const y=d.body.replace(/ /g,d.star?"␣":" "),L=[],Z=g.havingStyle(g.style.text());for(let sa=0;sa<y.length;sa++){let ta=y[sa];"~"===ta&&(ta="\\textasciitilde");L.push(mb.makeSymbol(ta,"Typewriter-Regular",d.mode,Z,["mord","texttt"]))}return mb.makeSpan(["mord","text"].concat(Z.sizingClasses(g)),mb.tryCombineChars(L),Z)},mathmlBuilder(d,g){d=new Fb.TextNode(d.body.replace(/ /g,d.star?"␣":" "));d=new Fb.MathNode("mtext",[d]);d.setAttribute("mathvariant","monospace");return d}});var Te=
ca;const qf=RegExp("[̀-ͯ]+$");class ug{constructor(d,g){this.catcodes=this.tokenRegex=this.settings=this.input=void 0;this.input=d;this.settings=g;this.tokenRegex=RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g");this.catcodes={"%":14,"~":13}}setCatcode(d,g){this.catcodes[d]=g}lex(){const d=this.input;var g=this.tokenRegex.lastIndex;
if(g===d.length)return new Qe("EOF",new oe(this,g,g));var y=this.tokenRegex.exec(d);if(null===y||y.index!==g)throw new Va("Unexpected character: '"+d[g]+"'",new Qe(d[g],new oe(this,g,g+1)));y=y[6]||y[3]||(y[2]?"\\ ":" ");return 14===this.catcodes[y]?(g=d.indexOf("\n",this.tokenRegex.lastIndex),-1===g?(this.tokenRegex.lastIndex=d.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=
g+1,this.lex()):new Qe(y,new oe(this,g,this.tokenRegex.lastIndex))}}class vg{constructor(d,g){void 0===d&&(d={});void 0===g&&(g={});this.undefStack=this.builtins=this.current=void 0;this.current=g;this.builtins=d;this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new Va("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const d=this.undefStack.pop();for(const g in d)d.hasOwnProperty(g)&&(null==d[g]?
delete this.current[g]:this.current[g]=d[g])}endGroups(){for(;0<this.undefStack.length;)this.endGroup()}has(d){return this.current.hasOwnProperty(d)||this.builtins.hasOwnProperty(d)}get(d){return this.current.hasOwnProperty(d)?this.current[d]:this.builtins[d]}set(d,g,y){void 0===y&&(y=!1);if(y){for(y=0;y<this.undefStack.length;y++)delete this.undefStack[y][d];0<this.undefStack.length&&(this.undefStack[this.undefStack.length-1][d]=g)}else(y=this.undefStack[this.undefStack.length-1])&&!y.hasOwnProperty(d)&&
(y[d]=this.current[d]);null==g?delete this.current[d]:this.current[d]=g}}var Ug=va;Y("\\noexpand",function(d){const g=d.popToken();d.isExpandable(g.text)&&(g.noexpand=!0,g.treatAsRelax=!0);return{tokens:[g],numArgs:0}});Y("\\expandafter",function(d){const g=d.popToken();d.expandOnce(!0);return{tokens:[g],numArgs:0}});Y("\\@firstoftwo",function(d){return{tokens:d.consumeArgs(2)[0],numArgs:0}});Y("\\@secondoftwo",function(d){return{tokens:d.consumeArgs(2)[1],numArgs:0}});Y("\\@ifnextchar",function(d){const g=
d.consumeArgs(3);d.consumeSpaces();d=d.future();return 1===g[0].length&&g[0][0].text===d.text?{tokens:g[1],numArgs:0}:{tokens:g[2],numArgs:0}});va["\\@ifstar"]="\\@ifnextchar *{\\@firstoftwo{#1}}";Y("\\TextOrMath",function(d){const g=d.consumeArgs(2);return"text"===d.mode?{tokens:g[0],numArgs:0}:{tokens:g[1],numArgs:0}});const Jf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Y("\\char",function(d){let g=d.popToken(),y,L="";if("'"===g.text)y=
8,g=d.popToken();else if('"'===g.text)y=16,g=d.popToken();else if("`"===g.text)if(g=d.popToken(),"\\"===g.text[0])L=g.text.charCodeAt(1);else{if("EOF"===g.text)throw new Va("\\char` missing argument");L=g.text.charCodeAt(0)}else y=10;if(y){L=Jf[g.text];if(null==L||L>=y)throw new Va("Invalid base-"+y+" digit "+g.text);let Z;for(;null!=(Z=Jf[d.future().text])&&Z<y;)L*=y,L+=Z,d.popToken()}return"\\@char{"+L+"}"});const gd=(d,g,y)=>{var L=d.consumeArg().tokens;if(1!==L.length)throw new Va("\\newcommand's first argument must be a macro name");
const Z=L[0].text;if((L=d.isDefined(Z))&&!g)throw new Va("\\newcommand{"+Z+"} attempting to redefine "+(Z+"; use \\renewcommand"));if(!L&&!y)throw new Va("\\renewcommand{"+Z+"} when command "+Z+" does not yet exist; use \\newcommand");g=0;L=d.consumeArg().tokens;if(1===L.length&&"["===L[0].text){g="";for(y=d.expandNextToken();"]"!==y.text&&"EOF"!==y.text;)g+=y.text,y=d.expandNextToken();if(!g.match(/^\s*[0-9]+\s*$/))throw new Va("Invalid number of arguments: "+g);g=parseInt(g);L=d.consumeArg().tokens}d.macros.set(Z,
{tokens:L,numArgs:g});return""};Y("\\newcommand",d=>gd(d,!1,!0));Y("\\renewcommand",d=>gd(d,!0,!1));Y("\\providecommand",d=>gd(d,!0,!0));Y("\\message",d=>{d=d.consumeArgs(1)[0];console.log(d.reverse().map(g=>g.text).join(""));return""});Y("\\errmessage",d=>{d=d.consumeArgs(1)[0];console.error(d.reverse().map(g=>g.text).join(""));return""});Y("\\show",d=>{const g=d.popToken(),y=g.text;console.log(g,d.macros.get(y),Te[y],kd.math[y],kd.text[y]);return""});va["\\bgroup"]="{";va["\\egroup"]="}";va["~"]=
"\\nobreakspace";va["\\lq"]="`";va["\\rq"]="'";va["\\aa"]="\\r a";va["\\AA"]="\\r A";va["\\textcopyright"]="\\html@mathml{\\textcircled{c}}{\\char`©}";va["\\copyright"]="\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}";va["\\textregistered"]="\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}";va["ℬ"]="\\mathscr{B}";va["ℰ"]="\\mathscr{E}";va["ℱ"]="\\mathscr{F}";va["ℋ"]="\\mathscr{H}";va["ℐ"]="\\mathscr{I}";va["ℒ"]="\\mathscr{L}";va["ℳ"]="\\mathscr{M}";va["ℛ"]="\\mathscr{R}";va["ℭ"]="\\mathfrak{C}";
va["ℌ"]="\\mathfrak{H}";va["ℨ"]="\\mathfrak{Z}";va["\\Bbbk"]="\\Bbb{k}";va["·"]="\\cdotp";va["\\llap"]="\\mathllap{\\textrm{#1}}";va["\\rlap"]="\\mathrlap{\\textrm{#1}}";va["\\clap"]="\\mathclap{\\textrm{#1}}";va["\\mathstrut"]="\\vphantom{(}";va["\\underbar"]="\\underline{\\text{#1}}";va["\\not"]='\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}';va["\\neq"]="\\html@mathml{\\mathrel{\\not\x3d}}{\\mathrel{\\char`≠}}";va["\\ne"]="\\neq";va["≠"]="\\neq";va["\\notin"]="\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}";
va["∉"]="\\notin";va["≘"]="\\html@mathml{\\mathrel{\x3d\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}";va["≙"]="\\html@mathml{\\stackrel{\\tiny\\wedge}{\x3d}}{\\mathrel{\\char`≘}}";va["≚"]="\\html@mathml{\\stackrel{\\tiny\\vee}{\x3d}}{\\mathrel{\\char`≚}}";va["≛"]="\\html@mathml{\\stackrel{\\scriptsize\\star}{\x3d}}{\\mathrel{\\char`≛}}";va["≝"]="\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{\x3d}}{\\mathrel{\\char`≝}}";va["≞"]="\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{\x3d}}{\\mathrel{\\char`≞}}";
va["≟"]="\\html@mathml{\\stackrel{\\tiny?}{\x3d}}{\\mathrel{\\char`≟}}";va["⟂"]="\\perp";va["‼"]="\\mathclose{!\\mkern-0.8mu!}";va["∌"]="\\notni";va["⌜"]="\\ulcorner";va["⌝"]="\\urcorner";va["⌞"]="\\llcorner";va["⌟"]="\\lrcorner";va["©"]="\\copyright";va["®"]="\\textregistered";va["️"]="\\textregistered";va["\\ulcorner"]='\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}';va["\\urcorner"]='\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}';va["\\llcorner"]='\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}';
va["\\lrcorner"]='\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}';va["\\vdots"]="\\mathord{\\varvdots\\rule{0pt}{15pt}}";va["⋮"]="\\vdots";va["\\varGamma"]="\\mathit{\\Gamma}";va["\\varDelta"]="\\mathit{\\Delta}";va["\\varTheta"]="\\mathit{\\Theta}";va["\\varLambda"]="\\mathit{\\Lambda}";va["\\varXi"]="\\mathit{\\Xi}";va["\\varPi"]="\\mathit{\\Pi}";va["\\varSigma"]="\\mathit{\\Sigma}";va["\\varUpsilon"]="\\mathit{\\Upsilon}";va["\\varPhi"]="\\mathit{\\Phi}";va["\\varPsi"]="\\mathit{\\Psi}";va["\\varOmega"]=
"\\mathit{\\Omega}";va["\\substack"]="\\begin{subarray}{c}#1\\end{subarray}";va["\\colon"]="\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax";va["\\boxed"]="\\fbox{$\\displaystyle{#1}$}";va["\\iff"]="\\DOTSB\\;\\Longleftrightarrow\\;";va["\\implies"]="\\DOTSB\\;\\Longrightarrow\\;";va["\\impliedby"]="\\DOTSB\\;\\Longleftarrow\\;";const xf={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","\x3d":"\\dotsb","\x3c":"\\dotsb","\x3e":"\\dotsb","-":"\\dotsb","*":"\\dotsb",
":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb",
"\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Y("\\dots",function(d){let g="\\dotso";d=d.expandAfterFuture().text;d in xf?g=xf[d]:"\\not"===d.slice(0,4)?g="\\dotsb":d in kd.math&&
Ma.contains(["bin","rel"],kd.math[d].group)&&(g="\\dotsb");return g});const ge={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Y("\\dotso",function(d){return d.future().text in ge?"\\ldots\\,":"\\ldots"});Y("\\dotsc",function(d){d=d.future().text;return d in ge&&","!==d?"\\ldots\\,":"\\ldots"});Y("\\cdots",function(d){return d.future().text in
ge?"\\@cdots\\,":"\\@cdots"});va["\\dotsb"]="\\cdots";va["\\dotsm"]="\\cdots";va["\\dotsi"]="\\!\\cdots";va["\\dotsx"]="\\ldots\\,";va["\\DOTSI"]="\\relax";va["\\DOTSB"]="\\relax";va["\\DOTSX"]="\\relax";va["\\tmspace"]="\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax";va["\\,"]="\\tmspace+{3mu}{.1667em}";va["\\thinspace"]="\\,";va["\\\x3e"]="\\mskip{4mu}";va["\\:"]="\\tmspace+{4mu}{.2222em}";va["\\medspace"]="\\:";va["\\;"]="\\tmspace+{5mu}{.2777em}";va["\\thickspace"]="\\;";va["\\!"]="\\tmspace-{3mu}{.1667em}";
va["\\negthinspace"]="\\!";va["\\negmedspace"]="\\tmspace-{4mu}{.2222em}";va["\\negthickspace"]="\\tmspace-{5mu}{.277em}";va["\\enspace"]="\\kern.5em ";va["\\enskip"]="\\hskip.5em\\relax";va["\\quad"]="\\hskip1em\\relax";va["\\qquad"]="\\hskip2em\\relax";va["\\tag"]="\\@ifstar\\tag@literal\\tag@paren";va["\\tag@paren"]="\\tag@literal{({#1})}";Y("\\tag@literal",d=>{if(d.macros.get("\\df@tag"))throw new Va("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});va["\\bmod"]="\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}";
va["\\pod"]="\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)";va["\\pmod"]="\\pod{{\\rm mod}\\mkern6mu#1}";va["\\mod"]="\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1";va["\\newline"]="\\\\\\relax";va["\\TeX"]="\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}";const Ah=Rb(ob["Main-Regular"][84][1]-.7*ob["Main-Regular"][65][1]);va["\\LaTeX"]="\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+
(Ah+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}");va["\\KaTeX"]="\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+(Ah+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}");va["\\hspace"]="\\@ifstar\\@hspacer\\@hspace";va["\\@hspace"]="\\hskip #1\\relax";va["\\@hspacer"]="\\rule{0pt}{0pt}\\hskip #1\\relax";va["\\ordinarycolon"]=":";va["\\vcentcolon"]="\\mathrel{\\mathop\\ordinarycolon}";va["\\dblcolon"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}';
va["\\coloneqq"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\x3d}}{\\mathop{\\char"2254}}';va["\\Coloneqq"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\x3d}}{\\mathop{\\char"2237\\char"3d}}';va["\\coloneq"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}';va["\\Coloneq"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}';va["\\eqqcolon"]='\\html@mathml{\\mathrel{\x3d\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}';
va["\\Eqqcolon"]='\\html@mathml{\\mathrel{\x3d\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}';va["\\eqcolon"]='\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}';va["\\Eqcolon"]='\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}';va["\\colonapprox"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}';va["\\Colonapprox"]=
'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}';va["\\colonsim"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}';va["\\Colonsim"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}';va["∷"]="\\dblcolon";va["∹"]="\\eqcolon";va["≔"]="\\coloneqq";va["≕"]="\\eqqcolon";va["⩴"]="\\Coloneqq";va["\\ratio"]="\\vcentcolon";va["\\coloncolon"]="\\dblcolon";
va["\\colonequals"]="\\coloneqq";va["\\coloncolonequals"]="\\Coloneqq";va["\\equalscolon"]="\\eqqcolon";va["\\equalscoloncolon"]="\\Eqqcolon";va["\\colonminus"]="\\coloneq";va["\\coloncolonminus"]="\\Coloneq";va["\\minuscolon"]="\\eqcolon";va["\\minuscoloncolon"]="\\Eqcolon";va["\\coloncolonapprox"]="\\Colonapprox";va["\\coloncolonsim"]="\\Colonsim";va["\\simcolon"]="\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}";va["\\simcoloncolon"]="\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}";va["\\approxcolon"]=
"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}";va["\\approxcoloncolon"]="\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}";va["\\notni"]="\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}";va["\\limsup"]="\\DOTSB\\operatorname*{lim\\,sup}";va["\\liminf"]="\\DOTSB\\operatorname*{lim\\,inf}";va["\\injlim"]="\\DOTSB\\operatorname*{inj\\,lim}";va["\\projlim"]="\\DOTSB\\operatorname*{proj\\,lim}";va["\\varlimsup"]="\\DOTSB\\operatorname*{\\overline{lim}}";va["\\varliminf"]="\\DOTSB\\operatorname*{\\underline{lim}}";
va["\\varinjlim"]="\\DOTSB\\operatorname*{\\underrightarrow{lim}}";va["\\varprojlim"]="\\DOTSB\\operatorname*{\\underleftarrow{lim}}";va["\\gvertneqq"]="\\html@mathml{\\@gvertneqq}{≩}";va["\\lvertneqq"]="\\html@mathml{\\@lvertneqq}{≨}";va["\\ngeqq"]="\\html@mathml{\\@ngeqq}{≱}";va["\\ngeqslant"]="\\html@mathml{\\@ngeqslant}{≱}";va["\\nleqq"]="\\html@mathml{\\@nleqq}{≰}";va["\\nleqslant"]="\\html@mathml{\\@nleqslant}{≰}";va["\\nshortmid"]="\\html@mathml{\\@nshortmid}{∤}";va["\\nshortparallel"]="\\html@mathml{\\@nshortparallel}{∦}";
va["\\nsubseteqq"]="\\html@mathml{\\@nsubseteqq}{⊈}";va["\\nsupseteqq"]="\\html@mathml{\\@nsupseteqq}{⊉}";va["\\varsubsetneq"]="\\html@mathml{\\@varsubsetneq}{⊊}";va["\\varsubsetneqq"]="\\html@mathml{\\@varsubsetneqq}{⫋}";va["\\varsupsetneq"]="\\html@mathml{\\@varsupsetneq}{⊋}";va["\\varsupsetneqq"]="\\html@mathml{\\@varsupsetneqq}{⫌}";va["\\imath"]="\\html@mathml{\\@imath}{ı}";va["\\jmath"]="\\html@mathml{\\@jmath}{ȷ}";va["\\llbracket"]="\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}";
va["\\rrbracket"]="\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}";va["⟦"]="\\llbracket";va["⟧"]="\\rrbracket";va["\\lBrace"]="\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}";va["\\rBrace"]="\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}";va["⦃"]="\\lBrace";va["⦄"]="\\rBrace";va["\\minuso"]="\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}";va["⦵"]=
"\\minuso";va["\\darr"]="\\downarrow";va["\\dArr"]="\\Downarrow";va["\\Darr"]="\\Downarrow";va["\\lang"]="\\langle";va["\\rang"]="\\rangle";va["\\uarr"]="\\uparrow";va["\\uArr"]="\\Uparrow";va["\\Uarr"]="\\Uparrow";va["\\N"]="\\mathbb{N}";va["\\R"]="\\mathbb{R}";va["\\Z"]="\\mathbb{Z}";va["\\alef"]="\\aleph";va["\\alefsym"]="\\aleph";va["\\Alpha"]="\\mathrm{A}";va["\\Beta"]="\\mathrm{B}";va["\\bull"]="\\bullet";va["\\Chi"]="\\mathrm{X}";va["\\clubs"]="\\clubsuit";va["\\cnums"]="\\mathbb{C}";va["\\Complex"]=
"\\mathbb{C}";va["\\Dagger"]="\\ddagger";va["\\diamonds"]="\\diamondsuit";va["\\empty"]="\\emptyset";va["\\Epsilon"]="\\mathrm{E}";va["\\Eta"]="\\mathrm{H}";va["\\exist"]="\\exists";va["\\harr"]="\\leftrightarrow";va["\\hArr"]="\\Leftrightarrow";va["\\Harr"]="\\Leftrightarrow";va["\\hearts"]="\\heartsuit";va["\\image"]="\\Im";va["\\infin"]="\\infty";va["\\Iota"]="\\mathrm{I}";va["\\isin"]="\\in";va["\\Kappa"]="\\mathrm{K}";va["\\larr"]="\\leftarrow";va["\\lArr"]="\\Leftarrow";va["\\Larr"]="\\Leftarrow";
va["\\lrarr"]="\\leftrightarrow";va["\\lrArr"]="\\Leftrightarrow";va["\\Lrarr"]="\\Leftrightarrow";va["\\Mu"]="\\mathrm{M}";va["\\natnums"]="\\mathbb{N}";va["\\Nu"]="\\mathrm{N}";va["\\Omicron"]="\\mathrm{O}";va["\\plusmn"]="\\pm";va["\\rarr"]="\\rightarrow";va["\\rArr"]="\\Rightarrow";va["\\Rarr"]="\\Rightarrow";va["\\real"]="\\Re";va["\\reals"]="\\mathbb{R}";va["\\Reals"]="\\mathbb{R}";va["\\Rho"]="\\mathrm{P}";va["\\sdot"]="\\cdot";va["\\sect"]="\\S";va["\\spades"]="\\spadesuit";va["\\sub"]="\\subset";
va["\\sube"]="\\subseteq";va["\\supe"]="\\supseteq";va["\\Tau"]="\\mathrm{T}";va["\\thetasym"]="\\vartheta";va["\\weierp"]="\\wp";va["\\Zeta"]="\\mathrm{Z}";va["\\argmin"]="\\DOTSB\\operatorname*{arg\\,min}";va["\\argmax"]="\\DOTSB\\operatorname*{arg\\,max}";va["\\plim"]="\\DOTSB\\mathop{\\operatorname{plim}}\\limits";va["\\bra"]="\\mathinner{\\langle{#1}|}";va["\\ket"]="\\mathinner{|{#1}\\rangle}";va["\\braket"]="\\mathinner{\\langle{#1}\\rangle}";va["\\Bra"]="\\left\\langle#1\\right|";va["\\Ket"]=
"\\left|#1\\right\\rangle";const Bh=d=>g=>{var y=g.consumeArg().tokens;const L=g.consumeArg().tokens,Z=g.consumeArg().tokens,sa=g.consumeArg().tokens,ta=g.macros.get("|"),Ra=g.macros.get("\\|");g.macros.beginGroup();var eb=Cb=>pc=>{d&&(pc.macros.set("|",ta),Z.length&&pc.macros.set("\\|",Ra));let rc=Cb;!Cb&&Z.length&&"|"===pc.future().text&&(pc.popToken(),rc=!0);return{tokens:rc?Z:L,numArgs:0}};g.macros.set("|",eb(!1));Z.length&&g.macros.set("\\|",eb(!0));eb=g.consumeArg().tokens;y=g.expandTokens([...sa,
...eb,...y]);g.macros.endGroup();return{tokens:y.reverse(),numArgs:0}};Y("\\bra@ket",Bh(!1));Y("\\bra@set",Bh(!0));va["\\Braket"]="\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}";va["\\Set"]="\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}";va["\\set"]="\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}";va["\\angln"]="{\\angl n}";va["\\blue"]="\\textcolor{##6495ed}{#1}";va["\\orange"]="\\textcolor{##ffa500}{#1}";va["\\pink"]="\\textcolor{##ff00af}{#1}";
va["\\red"]="\\textcolor{##df0030}{#1}";va["\\green"]="\\textcolor{##28ae7b}{#1}";va["\\gray"]="\\textcolor{gray}{#1}";va["\\purple"]="\\textcolor{##9d38bd}{#1}";va["\\blueA"]="\\textcolor{##ccfaff}{#1}";va["\\blueB"]="\\textcolor{##80f6ff}{#1}";va["\\blueC"]="\\textcolor{##63d9ea}{#1}";va["\\blueD"]="\\textcolor{##11accd}{#1}";va["\\blueE"]="\\textcolor{##0c7f99}{#1}";va["\\tealA"]="\\textcolor{##94fff5}{#1}";va["\\tealB"]="\\textcolor{##26edd5}{#1}";va["\\tealC"]="\\textcolor{##01d1c1}{#1}";va["\\tealD"]=
"\\textcolor{##01a995}{#1}";va["\\tealE"]="\\textcolor{##208170}{#1}";va["\\greenA"]="\\textcolor{##b6ffb0}{#1}";va["\\greenB"]="\\textcolor{##8af281}{#1}";va["\\greenC"]="\\textcolor{##74cf70}{#1}";va["\\greenD"]="\\textcolor{##1fab54}{#1}";va["\\greenE"]="\\textcolor{##0d923f}{#1}";va["\\goldA"]="\\textcolor{##ffd0a9}{#1}";va["\\goldB"]="\\textcolor{##ffbb71}{#1}";va["\\goldC"]="\\textcolor{##ff9c39}{#1}";va["\\goldD"]="\\textcolor{##e07d10}{#1}";va["\\goldE"]="\\textcolor{##a75a05}{#1}";va["\\redA"]=
"\\textcolor{##fca9a9}{#1}";va["\\redB"]="\\textcolor{##ff8482}{#1}";va["\\redC"]="\\textcolor{##f9685d}{#1}";va["\\redD"]="\\textcolor{##e84d39}{#1}";va["\\redE"]="\\textcolor{##bc2612}{#1}";va["\\maroonA"]="\\textcolor{##ffbde0}{#1}";va["\\maroonB"]="\\textcolor{##ff92c6}{#1}";va["\\maroonC"]="\\textcolor{##ed5fa6}{#1}";va["\\maroonD"]="\\textcolor{##ca337c}{#1}";va["\\maroonE"]="\\textcolor{##9e034e}{#1}";va["\\purpleA"]="\\textcolor{##ddd7ff}{#1}";va["\\purpleB"]="\\textcolor{##c6b9fc}{#1}";va["\\purpleC"]=
"\\textcolor{##aa87ff}{#1}";va["\\purpleD"]="\\textcolor{##7854ab}{#1}";va["\\purpleE"]="\\textcolor{##543b78}{#1}";va["\\mintA"]="\\textcolor{##f5f9e8}{#1}";va["\\mintB"]="\\textcolor{##edf2df}{#1}";va["\\mintC"]="\\textcolor{##e0e5cc}{#1}";va["\\grayA"]="\\textcolor{##f6f7f7}{#1}";va["\\grayB"]="\\textcolor{##f0f1f2}{#1}";va["\\grayC"]="\\textcolor{##e3e5e6}{#1}";va["\\grayD"]="\\textcolor{##d6d8da}{#1}";va["\\grayE"]="\\textcolor{##babec2}{#1}";va["\\grayF"]="\\textcolor{##888d93}{#1}";va["\\grayG"]=
"\\textcolor{##626569}{#1}";va["\\grayH"]="\\textcolor{##3b3e40}{#1}";va["\\grayI"]="\\textcolor{##21242c}{#1}";va["\\kaBlue"]="\\textcolor{##314453}{#1}";va["\\kaGreen"]="\\textcolor{##71B307}{#1}";const cf={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class wg{constructor(d,g,y){this.mode=this.stack=this.macros=this.lexer=this.expansionCount=this.settings=void 0;this.settings=g;this.expansionCount=0;this.feed(d);this.macros=new vg(Ug,g.macros);this.mode=y;this.stack=[]}feed(d){this.lexer=new ug(d,
this.settings)}switchMode(d){this.mode=d}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){0===this.stack.length&&this.pushToken(this.lexer.lex());return this.stack[this.stack.length-1]}popToken(){this.future();return this.stack.pop()}pushToken(d){this.stack.push(d)}pushTokens(d){this.stack.push(...d)}scanArgument(d){let g,y;if(d){this.consumeSpaces();if("["!==this.future().text)return null;d=this.popToken();({tokens:y,end:g}=this.consumeArg(["]"]))}else({tokens:y,
start:d,end:g}=this.consumeArg());this.pushToken(new Qe("EOF",g.loc));this.pushTokens(y);return d.range(g,"")}consumeSpaces(){for(;;)if(" "===this.future().text)this.stack.pop();else break}consumeArg(d){const g=[],y=d&&0<d.length;y||this.consumeSpaces();const L=this.future();let Z,sa=0,ta=0;do{Z=this.popToken();g.push(Z);if("{"===Z.text)++sa;else if("}"===Z.text){if(--sa,-1===sa)throw new Va("Extra }",Z);}else if("EOF"===Z.text)throw new Va("Unexpected end of input in a macro argument, expected '"+
(d&&y?d[ta]:"}")+"'",Z);if(d&&y)if((0===sa||1===sa&&"{"===d[ta])&&Z.text===d[ta]){if(++ta,ta===d.length){g.splice(-ta,ta);break}}else ta=0}while(0!==sa||y);"{"===L.text&&"}"===g[g.length-1].text&&(g.pop(),g.shift());g.reverse();return{tokens:g,start:L,end:Z}}consumeArgs(d,g){if(g){if(g.length!==d+1)throw new Va("The length of delimiters doesn't match the number of args!");var y=g[0];for(var L=0;L<y.length;L++){const Z=this.popToken();if(y[L]!==Z.text)throw new Va("Use of the macro doesn't match its definition",
Z);}}y=[];for(L=0;L<d;L++)y.push(this.consumeArg(g&&g[L+1]).tokens);return y}countExpansion(d){this.expansionCount+=d;if(this.expansionCount>this.settings.maxExpand)throw new Va("Too many expansions: infinite loop or need to increase maxExpand setting");}expandOnce(d){var g=this.popToken(),y=g.text,L=g.noexpand?null:this._getExpansion(y);if(null==L||d&&L.unexpandable){if(d&&null==L&&"\\"===y[0]&&!this.isDefined(y))throw new Va("Undefined control sequence: "+y);this.pushToken(g);return!1}this.countExpansion(1);
d=L.tokens;g=this.consumeArgs(L.numArgs,L.delimiters);if(L.numArgs)for(d=d.slice(),L=d.length-1;0<=L;--L)if(y=d[L],"#"===y.text){if(0===L)throw new Va("Incomplete placeholder at end of macro body",y);y=d[--L];if("#"===y.text)d.splice(L+1,1);else if(/^[1-9]$/.test(y.text))d.splice(L,2,...g[+y.text-1]);else throw new Va("Not a valid argument number",y);}this.pushTokens(d);return d.length}expandAfterFuture(){this.expandOnce();return this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){const d=
this.stack.pop();d.treatAsRelax&&(d.text="\\relax");return d}throw Error();}expandMacro(d){return this.macros.has(d)?this.expandTokens([new Qe(d)]):void 0}expandTokens(d){const g=[],y=this.stack.length;for(this.pushTokens(d);this.stack.length>y;)!1===this.expandOnce(!0)&&(d=this.stack.pop(),d.treatAsRelax&&(d.noexpand=!1,d.treatAsRelax=!1),g.push(d));this.countExpansion(g.length);return g}expandMacroAsText(d){return(d=this.expandMacro(d))?d.map(g=>g.text).join(""):d}_getExpansion(d){var g=this.macros.get(d);
if(null==g)return g;if(1===d.length&&(d=this.lexer.catcodes[d],null!=d&&13!==d))return;d="function"===typeof g?g(this):g;if("string"===typeof d){g=0;if(-1!==d.indexOf("#"))for(var y=d.replace(/##/g,"");-1!==y.indexOf("#"+(g+1));)++g;d=new ug(d,this.settings);y=[];let L=d.lex();for(;"EOF"!==L.text;)y.push(L),L=d.lex();y.reverse();return{tokens:y,numArgs:g}}return d}isDefined(d){return this.macros.has(d)||Te.hasOwnProperty(d)||kd.math.hasOwnProperty(d)||kd.text.hasOwnProperty(d)||cf.hasOwnProperty(d)}isExpandable(d){const g=
this.macros.get(d);return null!=g?"string"===typeof g||"function"===typeof g||!g.unexpandable:Te.hasOwnProperty(d)&&!Te[d].primitive}}const xe=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,$f=Object.freeze({"₊":"+","₋":"-","₌":"\x3d","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ",
"⁺":"+","⁻":"-","⁼":"\x3d","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g","ʰ":"h","ⁱ":"i","ʲ":"j","ᵏ":"k","ˡ":"l","ᵐ":"m","ⁿ":"n","ᵒ":"o","ᵖ":"p","ʳ":"r","ˢ":"s","ᵗ":"t","ᵘ":"u","ᵛ":"v","ʷ":"w","ˣ":"x","ʸ":"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ",
"ᵡ":"χ","ᶿ":"θ"}),xg={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\\x3d",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},ag={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ",
"ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ",
"ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü",
"ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ",
"Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ",
"Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū",
"Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ",
"Ώ":"Ώ","Ὼ":"Ὼ"};class Ef{constructor(d,g){this.nextToken=this.leftrightDepth=this.settings=this.gullet=this.mode=void 0;this.mode="math";this.gullet=new wg(d,g,this.mode);this.settings=g;this.leftrightDepth=0}expect(d,g){void 0===g&&(g=!0);if(this.fetch().text!==d)throw new Va("Expected '"+d+"', got '"+this.fetch().text+"'",this.fetch());g&&this.consume()}consume(){this.nextToken=null}fetch(){null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken());return this.nextToken}switchMode(d){this.mode=
d;this.gullet.switchMode(d)}parse(){this.settings.globalGroup||this.gullet.beginGroup();this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const d=this.parseExpression(!1);this.expect("EOF");this.settings.globalGroup||this.gullet.endGroup();return d}finally{this.gullet.endGroups()}}subparse(d){const g=this.nextToken;this.consume();this.gullet.pushToken(new Qe("}"));this.gullet.pushTokens(d);d=this.parseExpression(!1);this.expect("}");this.nextToken=g;return d}parseExpression(d,
g){const y=[];for(;;){"math"===this.mode&&this.consumeSpaces();var L=this.fetch();if(-1!==Ef.endOfExpression.indexOf(L.text))break;if(g&&L.text===g)break;if(d&&Te[L.text]&&Te[L.text].infix)break;L=this.parseAtom(g);if(!L)break;else if("internal"===L.type)continue;y.push(L)}"text"===this.mode&&this.formLigatures(y);return this.handleInfixNodes(y)}handleInfixNodes(d){let g=-1,y;for(var L=0;L<d.length;L++)if("infix"===d[L].type){if(-1!==g)throw new Va("only one infix operator per group",d[L].token);
g=L;y=d[L].replaceWith}if(-1!==g&&y){L=d.slice(0,g);var Z=d.slice(g+1);L=1===L.length&&"ordgroup"===L[0].type?L[0]:{type:"ordgroup",mode:this.mode,body:L};Z=1===Z.length&&"ordgroup"===Z[0].type?Z[0]:{type:"ordgroup",mode:this.mode,body:Z};return["\\\\abovefrac"===y?this.callFunction(y,[L,d[g],Z],[]):this.callFunction(y,[L,Z],[])]}return d}handleSupSubscript(d){const g=this.fetch(),y=g.text;this.consume();this.consumeSpaces();d=this.parseGroup(d);if(!d)throw new Va("Expected group after '"+y+"'",g);
return d}formatUnsupportedCmd(d){const g=[];for(let y=0;y<d.length;y++)g.push({type:"textord",mode:"text",text:d[y]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:g}]}}parseAtom(d){d=this.parseGroup("atom",d);if("text"===this.mode)return d;let g;for(;;){this.consumeSpaces();var y=this.fetch();if("\\limits"===y.text||"\\nolimits"===y.text){if(d&&"op"===d.type)d.limits="\\limits"===y.text,d.alwaysHandleSupSub=!0;else if(d&&"operatorname"===
d.type)d.alwaysHandleSupSub&&(d.limits="\\limits"===y.text);else throw new Va("Limit controls must follow a math operator",y);this.consume()}else if("^"===y.text){if(L)throw new Va("Double superscript",y);var L=this.handleSupSubscript("superscript")}else if("_"===y.text){if(g)throw new Va("Double subscript",y);g=this.handleSupSubscript("subscript")}else if("'"===y.text){if(L)throw new Va("Double superscript",y);L={type:"textord",mode:this.mode,text:"\\prime"};var Z=[L];for(this.consume();"'"===this.fetch().text;)Z.push(L),
this.consume();"^"===this.fetch().text&&Z.push(this.handleSupSubscript("superscript"));L={type:"ordgroup",mode:this.mode,body:Z}}else if($f[y.text]){Z=xe.test(y.text);var sa=[];sa.push(new Qe($f[y.text]));for(this.consume();;){y=this.fetch().text;if(!$f[y])break;if(xe.test(y)!==Z)break;sa.unshift(new Qe($f[y]));this.consume()}sa=this.subparse(sa);Z?g={type:"ordgroup",mode:"math",body:sa}:L={type:"ordgroup",mode:"math",body:sa}}else break}return L||g?{type:"supsub",mode:this.mode,base:d,sup:L,sub:g}:
d}parseFunction(d,g){const y=this.fetch(),L=y.text,Z=Te[L];if(!Z)return null;this.consume();if(g&&"atom"!==g&&!Z.allowedInArgument)throw new Va("Got function '"+L+"' with no arguments"+(g?" as "+g:""),y);if("text"===this.mode&&!Z.allowedInText)throw new Va("Can't use function '"+L+"' in text mode",y);if("math"===this.mode&&!1===Z.allowedInMath)throw new Va("Can't use function '"+L+"' in math mode",y);const {args:sa,optArgs:ta}=this.parseArguments(L,Z);return this.callFunction(L,sa,ta,y,d)}callFunction(d,
g,y,L,Z){L={funcName:d,parser:this,token:L,breakOnTokenText:Z};if((Z=Te[d])&&Z.handler)return Z.handler(L,g,y);throw new Va("No function handler for "+d);}parseArguments(d,g){const y=g.numArgs+g.numOptionalArgs;if(0===y)return{args:[],optArgs:[]};const L=[],Z=[];for(let ta=0;ta<y;ta++){var sa=g.argTypes&&g.argTypes[ta];const Ra=ta<g.numOptionalArgs;if(g.primitive&&null==sa||"sqrt"===g.type&&1===ta&&null==Z[0])sa="primitive";sa=this.parseGroupOfType("argument to '"+d+"'",sa,Ra);if(Ra)Z.push(sa);else if(null!=
sa)L.push(sa);else throw new Va("Null argument, please report this as a bug");}return{args:L,optArgs:Z}}parseGroupOfType(d,g,y){switch(g){case "color":return this.parseColorGroup(y);case "size":return this.parseSizeGroup(y);case "url":return this.parseUrlGroup(y);case "math":case "text":return this.parseArgumentGroup(y,g);case "hbox":return d=this.parseArgumentGroup(y,"text"),null!=d?{type:"styling",mode:d.mode,body:[d],style:"text"}:null;case "raw":return d=this.parseStringGroup("raw",y),null!=d?
{type:"raw",mode:"text",string:d.text}:null;case "primitive":if(y)throw new Va("A primitive argument cannot be optional");g=this.parseGroup(d);if(null==g)throw new Va("Expected group as "+d,this.fetch());return g;case "original":case null:case void 0:return this.parseArgumentGroup(y);default:throw new Va("Unknown group type as "+d,this.fetch());}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(d,g){d=this.gullet.scanArgument(g);if(null==d)return null;g="";let y;for(;"EOF"!==
(y=this.fetch()).text;)g+=y.text,this.consume();this.consume();d.text=g;return d}parseRegexGroup(d,g){const y=this.fetch();let L=y,Z="",sa;for(;"EOF"!==(sa=this.fetch()).text&&d.test(Z+sa.text);)L=sa,Z+=L.text,this.consume();if(""===Z)throw new Va("Invalid "+g+": '"+y.text+"'",y);return y.range(L,Z)}parseColorGroup(d){d=this.parseStringGroup("color",d);if(null==d)return null;const g=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(d.text);if(!g)throw new Va("Invalid color: '"+d.text+"'",d);d=g[0];/^[0-9a-f]{6}$/i.test(d)&&
(d="#"+d);return{type:"color-token",mode:this.mode,color:d}}parseSizeGroup(d){let g,y=!1;this.gullet.consumeSpaces();g=d||"{"===this.gullet.future().text?this.parseStringGroup("size",d):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size");if(!g)return null;d||0!==g.text.length||(g.text="0pt",y=!0);d=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(g.text);if(!d)throw new Va("Invalid size: '"+g.text+"'",g);d={number:+(d[1]+d[2]),unit:d[3]};if(!Qc(d))throw new Va("Invalid unit: '"+
d.unit+"'",g);return{type:"size",mode:this.mode,value:d,isBlank:y}}parseUrlGroup(d){this.gullet.lexer.setCatcode("%",13);this.gullet.lexer.setCatcode("~",12);d=this.parseStringGroup("url",d);this.gullet.lexer.setCatcode("%",14);this.gullet.lexer.setCatcode("~",13);if(null==d)return null;d=d.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:d}}parseArgumentGroup(d,g){var y=this.gullet.scanArgument(d);if(null==y)return null;d=this.mode;g&&this.switchMode(g);this.gullet.beginGroup();
const L=this.parseExpression(!1,"EOF");this.expect("EOF");this.gullet.endGroup();y={type:"ordgroup",mode:this.mode,loc:y.loc,body:L};g&&this.switchMode(d);return y}parseGroup(d,g){const y=this.fetch(),L=y.text;if("{"===L||"\\begingroup"===L){this.consume();d="{"===L?"}":"\\endgroup";this.gullet.beginGroup();g=this.parseExpression(!1,d);const Z=this.fetch();this.expect(d);this.gullet.endGroup();d={type:"ordgroup",mode:this.mode,loc:oe.range(y,Z),body:g,semisimple:"\\begingroup"===L||void 0}}else if(d=
this.parseFunction(g,d)||this.parseSymbol(),null==d&&"\\"===L[0]&&!cf.hasOwnProperty(L)){if(this.settings.throwOnError)throw new Va("Undefined control sequence: "+L,y);d=this.formatUnsupportedCmd(L);this.consume()}return d}formLigatures(d){let g=d.length-1;for(let y=0;y<g;++y){const L=d[y],Z=L.text;"-"===Z&&"-"===d[y+1].text&&(y+1<g&&"-"===d[y+2].text?(d.splice(y,3,{type:"textord",mode:"text",loc:oe.range(L,d[y+2]),text:"---"}),g-=2):(d.splice(y,2,{type:"textord",mode:"text",loc:oe.range(L,d[y+1]),
text:"--"}),--g));"'"!==Z&&"`"!==Z||d[y+1].text!==Z||(d.splice(y,2,{type:"textord",mode:"text",loc:oe.range(L,d[y+1]),text:Z+Z}),--g)}}parseSymbol(){var d=this.fetch(),g=d.text;if(/^\\verb[^a-zA-Z]/.test(g)){this.consume();d=g.slice(5);var y="*"===d.charAt(0);y&&(d=d.slice(1));if(2>d.length||d.charAt(0)!==d.slice(-1))throw new Va("\\verb assertion failed --\n                    please report what input caused this bug");d=d.slice(1,-1);return{type:"verb",mode:"text",body:d,star:y}}ag.hasOwnProperty(g[0])&&
!kd[this.mode][g[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+g[0]+'" used in math mode',d),g=ag[g[0]]+g.slice(1));if(y=qf.exec(g))g=g.substring(0,y.index),"i"===g?g="ı":"j"===g&&(g="ȷ");if(kd[this.mode][g]){this.settings.strict&&"math"===this.mode&&0<="ÐÞþ".indexOf(g)&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+g[0]+'" used in math mode',d);var L=kd[this.mode][g].group,
Z=oe.range(d);g=se.hasOwnProperty(L)?{type:"atom",mode:this.mode,family:L,loc:Z,text:g}:{type:L,mode:this.mode,loc:Z,text:g}}else if(128<=g.charCodeAt(0))this.settings.strict&&(J(g.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+g[0]+'" used in math mode',d):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+g[0]+'" ('+(g.charCodeAt(0)+")"),d)),g={type:"textord",mode:"text",loc:oe.range(d),text:g};else return null;
this.consume();if(y)for(L=0;L<y[0].length;L++){Z=y[0][L];if(!xg[Z])throw new Va("Unknown accent ' "+Z+"'",d);const sa=xg[Z][this.mode]||xg[Z].text;if(!sa)throw new Va("Accent "+Z+" unsupported in "+this.mode+" mode",d);g={type:"accent",mode:this.mode,loc:oe.range(d),label:sa,isStretchy:!1,isShifty:!0,base:g}}return g}}Ef.endOfExpression=["}","\\endgroup","\\end","\\right","\x26"];var Vg=function(d,g){if(!("string"===typeof d||d instanceof String))throw new TypeError("KaTeX can only parse string typed expression");
d=new Ef(d,g);delete d.gullet.macros.current["\\df@tag"];let y=d.parse();delete d.gullet.macros.current["\\current@color"];delete d.gullet.macros.current["\\color"];if(d.gullet.macros.get("\\df@tag")){if(!g.displayMode)throw new Va("\\tag works only in display equations");y=[{type:"tag",mode:"text",body:y,tag:d.subparse([new Qe("\\df@tag")])}]}return y};let Wg=function(d,g,y){g.textContent="";d=Ue(d,y).toNode();g.appendChild(d)};"undefined"!==typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!==
typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Wg=function(){throw new Va("KaTeX doesn't work in quirks mode.");});const yf=function(d,g,y){if(y.throwOnError||!(d instanceof Va))throw d;g=mb.makeSpan(["katex-error"],[new Ed(g)]);g.setAttribute("title",d.toString());g.setAttribute("style","color:"+y.errorColor);return g},Ue=function(d,g){g=new ub(g);try{{var y=Vg(d,g);const Z=zc(g);let sa;if("mathml"===g.output)var L=B(y,d,
Z,g.displayMode,!0);else{if("html"===g.output){const ta=k(y,Z);sa=mb.makeSpan(["katex"],[ta])}else{const ta=B(y,d,Z,g.displayMode,!1),Ra=k(y,Z);sa=mb.makeSpan(["katex"],[ta,Ra])}L=bd(sa,g)}}return L}catch(Z){return yf(Z,d,g)}};var yg={version:"0.16.11",render:Wg,renderToString:function(d,g){return Ue(d,g).toMarkup()},ParseError:Va,SETTINGS_SCHEMA:na,__parse:function(d,g){g=new ub(g);return Vg(d,g)},__renderToDomTree:Ue,__renderToHTMLTree:function(d,g){g=new ub(g);try{var y=Vg(d,g);const L=zc(g),Z=
k(y,L),sa=mb.makeSpan(["katex"],[Z]);return bd(sa,g)}catch(L){return yf(L,d,g)}},__setFontMetrics:function(d,g){ob[d]=g},__defineSymbol:h,__defineFunction:m,__defineMacro:Y,__domTree:{Span:rd,Anchor:Wd,SymbolNode:Ed,SvgNode:Md,PathNode:Sd,LineNode:pe}};return kb=kb["default"]}()})};
shadow$provide[541]=function(ra,P,db,I){function A(...B){return t=>B.forEach(u=>{"function"===typeof u?u(t):null!==u&&void 0!==u&&(u.current=t)})}function J(...B){return p.useCallback(A(...B),B)}var r=Object.create,w=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,x=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty,k=(B,t,u,C)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let F of m(t))z.call(B,F)||F===u||w(B,F,{get:()=>t[F],enumerable:!(C=h(t,F))||
C.enumerable});return B};ra={};((B,t)=>{for(var u in t)w(B,u,{get:t[u],enumerable:!0})})(ra,{composeRefs:()=>A,useComposedRefs:()=>J});db.exports=(B=>k(w({},"__esModule",{value:!0}),B))(ra);var p=((B,t,u)=>(u=null!=B?r(x(B)):{},k(!t&&B&&B.__esModule?u:w(u,"default",{value:B,enumerable:!0}),B)))(P(0))};
shadow$provide[542]=function(ra,P,db,I){function A(m,x,z){var k,p={},B=null,t=null;void 0!==z&&(B=""+z);void 0!==x.key&&(B=""+x.key);void 0!==x.ref&&(t=x.ref);for(k in x)r.call(x,k)&&!h.hasOwnProperty(k)&&(p[k]=x[k]);if(m&&m.defaultProps)for(k in x=m.defaultProps,x)void 0===p[k]&&(p[k]=x[k]);return{$$typeof:J,type:m,key:B,ref:t,props:p,_owner:w.current}}ra=P(0);var J=Symbol.for("react.element");P=Symbol.for("react.fragment");var r=Object.prototype.hasOwnProperty,w=ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
h={key:!0,ref:!0,__self:!0,__source:!0};I.Fragment=P;I.jsx=A;I.jsxs=A};
shadow$provide[544]=function(ra,P,db,I){db.exports=P(542)};
shadow$provide[545]=function(ra,P,db,I){function A(T){return p.isValidElement(T)&&T.type===F}function J(T,N){const W={...N};for(const ka in N){const Y=T[ka],H=N[ka];/^on[A-Z]/.test(ka)?Y&&H?W[ka]=(...qa)=>{H(...qa);Y(...qa)}:Y&&(W[ka]=Y):"style"===ka?W[ka]={...Y,...H}:"className"===ka&&(W[ka]=[Y,H].filter(Boolean).join(" "))}return{...T,...W}}var r=Object.create,w=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,x=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty,
k=(T,N,W,ka)=>{if(N&&"object"===typeof N||"function"===typeof N)for(let Y of m(N))z.call(T,Y)||Y===W||w(T,Y,{get:()=>N[Y],enumerable:!(ka=h(N,Y))||ka.enumerable});return T};ra={};((T,N)=>{for(var W in N)w(T,W,{get:N[W],enumerable:!0})})(ra,{Root:()=>M,Slot:()=>u,Slottable:()=>F});db.exports=(T=>k(w({},"__esModule",{value:!0}),T))(ra);var p=((T,N,W)=>(W=null!=T?r(x(T)):{},k(!N&&T&&T.__esModule?W:w(W,"default",{value:T,enumerable:!0}),T)))(P(0)),B=P(541),t=P(544),u=p.forwardRef((T,N)=>{const {children:W,
...ka}=T;T=p.Children.toArray(W);const Y=T.find(A);if(Y){const H=Y.props.children;T=T.map(qa=>qa===Y?1<p.Children.count(H)?p.Children.only(null):p.isValidElement(H)?H.props.children:null:qa);return(0,t.jsx)(C,{...ka,ref:N,children:p.isValidElement(H)?p.cloneElement(H,void 0,T):null})}return(0,t.jsx)(C,{...ka,ref:N,children:W})});u.displayName="Slot";var C=p.forwardRef((T,N)=>{const {children:W,...ka}=T;return p.isValidElement(W)?(T=(T=(T=Object.getOwnPropertyDescriptor(W.props,"ref")?.get)&&"isReactWarning"in
T&&T.isReactWarning)?W.ref:(T=(T=Object.getOwnPropertyDescriptor(W,"ref")?.get)&&"isReactWarning"in T&&T.isReactWarning)?W.props.ref:W.props.ref||W.ref,p.cloneElement(W,{...J(ka,W.props),ref:N?(0,B.composeRefs)(N,T):T})):1<p.Children.count(W)?p.Children.only(null):null});C.displayName="SlotClone";var F=({children:T})=>(0,t.jsx)(t.Fragment,{children:T}),M=u};
shadow$provide[546]=function(ra,P,db,I){function A(F,M){F&&p.flushSync(()=>F.dispatchEvent(M))}var J=Object.create,r=Object.defineProperty,w=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,m=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,z=(F,M,T,N)=>{if(M&&"object"===typeof M||"function"===typeof M)for(let W of h(M))x.call(F,W)||W===T||r(F,W,{get:()=>M[W],enumerable:!(N=w(M,W))||N.enumerable});return F};ra=(F,M,T)=>(T=null!=F?J(m(F)):{},z(!M&&F&&F.__esModule?T:r(T,"default",
{value:F,enumerable:!0}),F));I={};((F,M)=>{for(var T in M)r(F,T,{get:M[T],enumerable:!0})})(I,{Primitive:()=>u,Root:()=>C,dispatchDiscreteCustomEvent:()=>A});db.exports=(F=>z(r({},"__esModule",{value:!0}),F))(I);var k=ra(P(0)),p=ra(P(1)),B=P(545),t=P(544),u="a button div form h2 h3 img input label li nav ol p span svg ul".split(" ").reduce((F,M)=>{const T=k.forwardRef((N,W)=>{const {asChild:ka,...Y}=N;N=ka?B.Slot:M;"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0);return(0,t.jsx)(N,
{...Y,ref:W})});T.displayName=`Primitive.${M}`;return{...F,[M]:T}},{}),C=u};
shadow$provide[547]=function(ra,P,db,I){var A=Object.create,J=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,x=(k,p,B,t)=>{if(p&&"object"===typeof p||"function"===typeof p)for(let u of w(p))m.call(k,u)||u===B||J(k,u,{get:()=>p[u],enumerable:!(t=r(p,u))||t.enumerable});return k};ra={};((k,p)=>{for(var B in p)J(k,B,{get:p[B],enumerable:!0})})(ra,{useLayoutEffect:()=>z});db.exports=(k=>x(J({},"__esModule",
{value:!0}),k))(ra);P=((k,p,B)=>(B=null!=k?A(h(k)):{},x(!p&&k&&k.__esModule?B:J(B,"default",{value:k,enumerable:!0}),k)))(P(0));var z=globalThis?.document?P.useLayoutEffect:()=>{}};
shadow$provide[548]=function(ra,P,db,I){"use client";var A=Object.create,J=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,x=(F,M,T,N)=>{if(M&&"object"===typeof M||"function"===typeof M)for(let W of w(M))m.call(F,W)||W===T||J(F,W,{get:()=>M[W],enumerable:!(N=r(M,W))||N.enumerable});return F};ra=(F,M,T)=>(T=null!=F?A(h(F)):{},x(!M&&F&&F.__esModule?T:J(T,"default",{value:F,enumerable:!0}),F));I={};((F,M)=>
{for(var T in M)J(F,T,{get:M[T],enumerable:!0})})(I,{Portal:()=>u,Root:()=>C});db.exports=(F=>x(J({},"__esModule",{value:!0}),F))(I);var z=ra(P(0)),k=ra(P(1)),p=P(546),B=P(547),t=P(544),u=z.forwardRef((F,M)=>{const {container:T,...N}=F,[W,ka]=z.useState(!1);(0,B.useLayoutEffect)(()=>ka(!0),[]);return(F=T||W&&globalThis?.document?.body)?k.default.createPortal((0,t.jsx)(p.Primitive.div,{...N,ref:M}),F):null});u.displayName="Portal";var C=u};
shadow$provide[549]=function(ra,P,db,I){function A(r,w){var h,m;if(r===w)return!0;if(r&&w&&(h=r.constructor)===w.constructor){if(h===Date)return r.getTime()===w.getTime();if(h===RegExp)return r.toString()===w.toString();if(h===Array){if((m=r.length)===w.length)for(;m--&&A(r[m],w[m]););return-1===m}if(!h||"object"===typeof r){m=0;for(h in r)if(J.call(r,h)&&++m&&!J.call(w,h)||!(h in w&&A(r[h],w[h])))return!1;return Object.keys(w).length===m}}return r!==r&&w!==w}var J=Object.prototype.hasOwnProperty;
I.dequal=A};
shadow$provide[550]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});I["default"]=function(A,J){if(Object.is(A,J))return!0;if("object"!==typeof A||null===A||"object"!==typeof J||null===J)return!1;var r=Object.keys(A);if(r.length!==Object.keys(J).length)return!1;for(var w=0;w<r.length;w++)if(!Object.prototype.hasOwnProperty.call(J,r[w])||!Object.is(A[r[w]],J[r[w]]))return!1;return!0}};
shadow$provide[551]=function(ra,P,db,I){function A(Y,H){void 0===H&&(H="simple");return"object"===typeof Y?Y[H]:Y}function J(Y,H,qa){if(Y.length){var Ca=Y.shift();Y=J(Y,H,qa);return Ca.perform(Y,qa)}return A(H)}function r(Y,H,qa){if(Y.length){var Ca=Y.shift();Y=r(Y,H,qa);return Ca.performAsync(Y,qa)}return function(La){return Promise.resolve(A(H,"async")(La))}}function w(Y,H,qa,Ca){if(H.length){var La=H.shift();La._testAsync(Y).then(function(){w(Y,H,qa,Ca)},function(Oa){Ca(new F(La,Y,Oa))})}else qa(Y)}
function h(){return"undefined"!==typeof Proxy?m(new M):x(new M)}function m(Y){return new Proxy(Y,{get:function(H,qa){if(qa in H)return H[qa];H=m(Y._clone());if(qa in W)return H._applyModifier(W[qa],qa);if(qa in N)return H._applyRule(N[qa],qa);if(qa in ka)return H._applyRule(ka[qa],qa)}})}function x(Y){var H=function(Ca,La){Object.keys(Ca).forEach(function(Oa){La[Oa]=function(){for(var ea=[],kb=arguments.length;kb--;)ea[kb]=arguments[kb];return x(La._clone())._applyRule(Ca[Oa],Oa).apply(void 0,ea)}});
return La};Y=H(ka,Y);var qa=H(N,Y);Object.keys(W).forEach(function(Ca){Object.defineProperty(qa,Ca,{get:function(){return x(qa._clone())._applyModifier(W[Ca],Ca)}})});return qa}function z(Y){return Y&&"schema"===Y.name&&0<Y.args.length&&"object"===typeof Y.args[0]}function k(Y){return"string"===typeof Y?Y.split(""):Y}function p(Y){return function(H){return Array.isArray(H)&&"array"===Y||null===H&&"null"===Y||typeof H===Y}}function B(Y){return"number"===typeof Y&&isFinite(Y)&&Math.floor(Y)===Y}function t(Y){return{simple:function(H){var qa=
[];Object.keys(Y).forEach(function(Ca){var La=Y[Ca];try{La.check((H||{})[Ca])}catch(Oa){Oa.target=Ca,qa.push(Oa)}});if(0<qa.length)throw qa;return!0},async:function(H){var qa=[],Ca=Object.keys(Y).map(function(La){return Y[La].testAsync((H||{})[La]).catch(function(Oa){Oa.target=La;qa.push(Oa)})});return Promise.all(Ca).then(function(){if(0<qa.length)throw qa;return!0})}}}var u=function(Y,H,qa,Ca){this.name=Y;this.fn=H;this.args=qa;this.modifiers=Ca};u.prototype._test=function(Y){var H=this.fn;try{J(this.modifiers.slice(),
H,this)(Y)}catch(qa){H=function(){return!1}}try{return J(this.modifiers.slice(),H,this)(Y)}catch(qa){return!1}};u.prototype._check=function(Y){try{J(this.modifiers.slice(),this.fn,this)(Y)}catch(H){if(J(this.modifiers.slice(),function(qa){return qa},this)(!1))return}if(!J(this.modifiers.slice(),this.fn,this)(Y))throw null;};u.prototype._testAsync=function(Y){var H=this;return new Promise(function(qa,Ca){r(H.modifiers.slice(),H.fn,H)(Y).then(function(La){La?qa(Y):Ca(null)}).catch(function(La){return Ca(La)})})};
var C=function(Y,H,qa){this.name=Y;this.perform=H;this.performAsync=qa},F=function(Y){function H(qa,Ca,La,Oa){for(var ea=[],kb=arguments.length-4;0<kb--;)ea[kb]=arguments[kb+4];Y.call(this,ea);Y.captureStackTrace&&Y.captureStackTrace(this,H);this.rule=qa;this.value=Ca;this.cause=La;this.target=Oa}Y&&(H.__proto__=Y);H.prototype=Object.create(Y&&Y.prototype);return H.prototype.constructor=H}(Error),M=function(Y,H){void 0===Y&&(Y=[]);void 0===H&&(H=[]);this.chain=Y;this.nextRuleModifiers=H};M.prototype._applyRule=
function(Y,H){var qa=this;return function(){for(var Ca=[],La=arguments.length;La--;)Ca[La]=arguments[La];qa.chain.push(new u(H,Y.apply(qa,Ca),Ca,qa.nextRuleModifiers));qa.nextRuleModifiers=[];return qa}};M.prototype._applyModifier=function(Y,H){this.nextRuleModifiers.push(new C(H,Y.simple,Y.async));return this};M.prototype._clone=function(){return new M(this.chain.slice(),this.nextRuleModifiers.slice())};M.prototype.test=function(Y){return this.chain.every(function(H){return H._test(Y)})};M.prototype.testAll=
function(Y){var H=[];this.chain.forEach(function(qa){try{qa._check(Y)}catch(Ca){H.push(new F(qa,Y,Ca))}});return H};M.prototype.check=function(Y){this.chain.forEach(function(H){try{H._check(Y)}catch(qa){throw new F(H,Y,qa);}})};M.prototype.testAsync=function(Y){var H=this;return new Promise(function(qa,Ca){w(Y,H.chain.slice(),qa,Ca)})};var T=function(Y,H){return H&&"string"===typeof Y&&0===Y.trim().length?!0:void 0===Y||null===Y},N={};h.extend=function(Y){Object.assign(N,Y)};h.clearCustomRules=function(){N=
{}};var W={not:{simple:function(Y){return function(H){return!Y(H)}},async:function(Y){return function(H){return Promise.resolve(Y(H)).then(function(qa){return!qa}).catch(function(){return!0})}}},some:{simple:function(Y){return function(H){return k(H).some(function(qa){try{return Y(qa)}catch(Ca){return!1}})}},async:function(Y){return function(H){return Promise.all(k(H).map(function(qa){try{return Y(qa).catch(function(){return!1})}catch(Ca){return!1}})).then(function(qa){return qa.some(Boolean)})}}},
every:{simple:function(Y){return function(H){return!1!==H&&k(H).every(Y)}},async:function(Y){return function(H){return Promise.all(k(H).map(Y)).then(function(qa){return qa.every(Boolean)})}}},strict:{simple:function(Y,H){return function(qa){return z(H)&&qa&&"object"===typeof qa?Object.keys(H.args[0]).length===Object.keys(qa).length&&Y(qa):Y(qa)}},async:function(Y,H){return function(qa){return Promise.resolve(Y(qa)).then(function(Ca){return z(H)&&qa&&"object"===typeof qa?Object.keys(H.args[0]).length===
Object.keys(qa).length&&Ca:Ca}).catch(function(){return!1})}}}},ka={equal:function(Y){return function(H){return H==Y}},exact:function(Y){return function(H){return H===Y}},number:function(Y){void 0===Y&&(Y=!0);return function(H){return"number"===typeof H&&(Y||isFinite(H))}},integer:function(){return function(Y){return(Number.isInteger||B)(Y)}},numeric:function(){return function(Y){return!isNaN(parseFloat(Y))&&isFinite(Y)}},string:function(){return p("string")},boolean:function(){return p("boolean")},
undefined:function(){return p("undefined")},null:function(){return p("null")},array:function(){return p("array")},object:function(){return p("object")},instanceOf:function(Y){return function(H){return H instanceof Y}},pattern:function(Y){return function(H){return Y.test(H)}},lowercase:function(){return function(Y){return"boolean"===typeof Y||Y===Y.toLowerCase()&&""!==Y.trim()}},uppercase:function(){return function(Y){return Y===Y.toUpperCase()&&""!==Y.trim()}},vowel:function(){return function(Y){return/^[aeiou]+$/i.test(Y)}},
consonant:function(){return function(Y){return/^(?=[^aeiou])([a-z]+)$/i.test(Y)}},first:function(Y){return function(H){return H[0]==Y}},last:function(Y){return function(H){return H[H.length-1]==Y}},empty:function(){return function(Y){return 0===Y.length}},length:function(Y,H){return function(qa){return qa.length>=Y&&qa.length<=(H||Y)}},minLength:function(Y){return function(H){return H.length>=Y}},maxLength:function(Y){return function(H){return H.length<=Y}},negative:function(){return function(Y){return 0>
Y}},positive:function(){return function(Y){return 0<=Y}},between:function(Y,H){return function(qa){return qa>=Y&&qa<=H}},range:function(Y,H){return function(qa){return qa>=Y&&qa<=H}},lessThan:function(Y){return function(H){return H<Y}},lessThanOrEqual:function(Y){return function(H){return H<=Y}},greaterThan:function(Y){return function(H){return H>Y}},greaterThanOrEqual:function(Y){return function(H){return H>=Y}},even:function(){return function(Y){return 0===Y%2}},odd:function(){return function(Y){return 0!==
Y%2}},includes:function(Y){return function(H){return~H.indexOf(Y)}},schema:function(Y){return t(Y)},passesAnyOf:function(){for(var Y=[],H=arguments.length;H--;)Y[H]=arguments[H];return function(qa){return Y.some(function(Ca){return Ca.test(qa)})}},optional:function(Y,H){void 0===H&&(H=!1);return{simple:function(qa){return T(qa,H)||void 0===Y.check(qa)},async:function(qa){return T(qa,H)||Y.testAsync(qa)}}}};db.exports=h};
shadow$provide[552]=function(ra,P,db,I){var A,J={gap:"space",gridGap:"space",columnGap:"space",gridColumnGap:"space",rowGap:"space",gridRowGap:"space",inset:"space",insetBlock:"space",insetBlockEnd:"space",insetBlockStart:"space",insetInline:"space",insetInlineEnd:"space",insetInlineStart:"space",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",
marginInlineStart:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",top:"space",right:"space",bottom:"space",left:"space",scrollMargin:"space",scrollMarginTop:"space",scrollMarginRight:"space",scrollMarginBottom:"space",scrollMarginLeft:"space",scrollMarginX:"space",scrollMarginY:"space",scrollMarginBlock:"space",
scrollMarginBlockEnd:"space",scrollMarginBlockStart:"space",scrollMarginInline:"space",scrollMarginInlineEnd:"space",scrollMarginInlineStart:"space",scrollPadding:"space",scrollPaddingTop:"space",scrollPaddingRight:"space",scrollPaddingBottom:"space",scrollPaddingLeft:"space",scrollPaddingX:"space",scrollPaddingY:"space",scrollPaddingBlock:"space",scrollPaddingBlockEnd:"space",scrollPaddingBlockStart:"space",scrollPaddingInline:"space",scrollPaddingInlineEnd:"space",scrollPaddingInlineStart:"space",
fontSize:"fontSizes",background:"colors",backgroundColor:"colors",backgroundImage:"colors",borderImage:"colors",border:"colors",borderBlock:"colors",borderBlockEnd:"colors",borderBlockStart:"colors",borderBottom:"colors",borderBottomColor:"colors",borderColor:"colors",borderInline:"colors",borderInlineEnd:"colors",borderInlineStart:"colors",borderLeft:"colors",borderLeftColor:"colors",borderRight:"colors",borderRightColor:"colors",borderTop:"colors",borderTopColor:"colors",caretColor:"colors",color:"colors",
columnRuleColor:"colors",fill:"colors",outline:"colors",outlineColor:"colors",stroke:"colors",textDecorationColor:"colors",fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:"sizes",minBlockSize:"sizes",maxBlockSize:"sizes",inlineSize:"sizes",minInlineSize:"sizes",maxInlineSize:"sizes",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",gridTemplateColumns:"sizes",gridTemplateRows:"sizes",
borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",
zIndex:"zIndices"},r=(oa,za)=>"function"==typeof za?{"()":Function.prototype.toString.call(za)}:za;ra=()=>{const oa=Object.create(null);return(za,Ka,...fb)=>{const fa=JSON.stringify(za,r);return fa in oa?oa[fa]:oa[fa]=Ka(za,...fb)}};var w=Symbol.for("sxs.internal"),h=(oa,za)=>Object.defineProperties(oa,Object.getOwnPropertyDescriptors(za)),m=oa=>{for(const za in oa)return!0;return!1},{hasOwnProperty:x}=Object.prototype,z=oa=>oa.includes("-")?oa:oa.replace(/[A-Z]/g,za=>"-"+za.toLowerCase()),k=/\s+(?![^()]*\))/;
I=oa=>za=>oa(...("string"==typeof za?String(za).split(k):[za]));var p={appearance:oa=>({WebkitAppearance:oa,appearance:oa}),backfaceVisibility:oa=>({WebkitBackfaceVisibility:oa,backfaceVisibility:oa}),backdropFilter:oa=>({WebkitBackdropFilter:oa,backdropFilter:oa}),backgroundClip:oa=>({WebkitBackgroundClip:oa,backgroundClip:oa}),boxDecorationBreak:oa=>({WebkitBoxDecorationBreak:oa,boxDecorationBreak:oa}),clipPath:oa=>({WebkitClipPath:oa,clipPath:oa}),content:oa=>({content:oa.includes('"')||oa.includes("'")||
/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(oa)?oa:`"${oa}"`}),hyphens:oa=>({WebkitHyphens:oa,hyphens:oa}),maskImage:oa=>({WebkitMaskImage:oa,maskImage:oa}),maskSize:oa=>({WebkitMaskSize:oa,maskSize:oa}),tabSize:oa=>({MozTabSize:oa,tabSize:oa}),textSizeAdjust:oa=>({WebkitTextSizeAdjust:oa,textSizeAdjust:oa}),userSelect:oa=>({WebkitUserSelect:oa,userSelect:oa}),marginBlock:I((oa,za)=>({marginBlockStart:oa,marginBlockEnd:za||oa})),marginInline:I((oa,za)=>({marginInlineStart:oa,
marginInlineEnd:za||oa})),maxSize:I((oa,za)=>({maxBlockSize:oa,maxInlineSize:za||oa})),minSize:I((oa,za)=>({minBlockSize:oa,minInlineSize:za||oa})),paddingBlock:I((oa,za)=>({paddingBlockStart:oa,paddingBlockEnd:za||oa})),paddingInline:I((oa,za)=>({paddingInlineStart:oa,paddingInlineEnd:za||oa}))},B=/([\d.]+)([^]*)/,t=(oa,za)=>oa.length?oa.reduce((Ka,fb)=>(Ka.push(...za.map(fa=>fa.includes("\x26")?fa.replace(/&/g,/[ +>|~]/.test(fb)&&/&.*&/.test(fa)?`:is(${fb})`:fb):fb+" "+fa)),Ka),[]):za,u=(oa,za)=>
oa in C&&"string"==typeof za?za.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(Ka,fb,fa,X)=>fb+("stretch"===fa?`-moz-available${X};${z(oa)}:${fb}-webkit-fill-available`:`-moz-fit-content${X};${z(oa)}:${fb}fit-content`)+X):String(za),C={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},F=oa=>oa?oa+"-":"",M=(oa,za,Ka)=>oa.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,
(fb,fa,X,Da,Aa)=>"$"==Da==!!X?fb:(fa||"--"==Da?"calc(":"")+"var(--"+("$"===Da?(za?za+"-":"")+(Aa.includes("$")?"":Ka?Ka+"-":"")+Aa.replace(/\$/g,"-"):Aa)+")"+(fa||"--"==Da?"*"+(fa||"")+(X||"1")+")":"")),T=/\s*,\s*(?![^()]*\))/,N=Object.prototype.toString,W=(oa,za,Ka,fb,fa)=>{let X,Da,Aa;const bb=(wa,gb,ob)=>{let Jb,Ob;const jc=tc=>{for(Jb in tc){const Uc=64===Jb.charCodeAt(0);var lc=Uc&&Array.isArray(tc[Jb])?tc[Jb]:[tc[Jb]];for(Ob of lc){lc=/[A-Z]/.test(Nc=Jb)?Nc:Nc.replace(/-[^]/g,Qc=>Qc[1].toUpperCase());
var mc="object"==typeof Ob&&Ob&&Ob.toString===N&&(!fb.utils[lc]||!gb.length);if(lc in fb.utils&&!mc){var uc=fb.utils[lc];if(uc!==Da){Da=uc;jc(uc(Ob));Da=null;continue}}else if(lc in p&&(uc=p[lc],uc!==Aa)){Aa=uc;jc(uc(Ob));Aa=null;continue}(Uc&&(wc=Jb.slice(1)in fb.media?"@media "+fb.media[Jb.slice(1)]:Jb,Jb=wc.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(Qc,Gc,Rb,id,qd,Ld)=>{Qc=B.test(Gc);const Wb=.0625*(Qc?-1:1),[rd,Wd]=Qc?[id,Gc]:[Gc,id];return"("+("\x3d"===
Rb[0]?"":"\x3e"===Rb[0]===Qc?"max-":"min-")+rd+":"+("\x3d"!==Rb[0]&&1===Rb.length?Wd.replace(B,(de,je,Ed)=>Number(je)+Wb*("\x3e"===Rb?1:-1)+Ed):Wd)+(qd?") and ("+("\x3e"===qd[0]?"min-":"max-")+rd+":"+(1===qd.length?Ld.replace(B,(de,je,Ed)=>Number(je)+Wb*("\x3e"===qd?-1:1)+Ed):Ld):"")+")"})),mc)?(lc=Uc?ob.concat(Jb):[...ob],mc=Uc?[...gb]:t(gb,Jb.split(T)),void 0!==X&&fa(ka(...X)),X=void 0,bb(Ob,mc,lc)):(void 0===X&&(X=[[],gb,ob]),Jb=Uc||36!==Jb.charCodeAt(0)?Jb:`--${F(fb.prefix)}${Jb.slice(1).replace(/\$/g,
"-")}`,Ob=mc?Ob:"number"==typeof Ob?Ob&&lc in Y?String(Ob)+"px":String(Ob):M(u(lc,null==Ob?"":Ob),fb.prefix,fb.themeMap[lc]),X[0].push(`${Uc?`${Jb} `:`${z(Jb)}:`}${Ob}`))}}var wc,Nc};jc(wa);void 0!==X&&fa(ka(...X));X=void 0};bb(oa,za,Ka)},ka=(oa,za,Ka)=>`${Ka.map(fb=>`${fb}{`).join("")}${za.length?`${za.join(",")}{`:""}${oa.join(";")}${za.length?"}":""}${Array(Ka.length?Ka.length+1:0).join("}")}`,Y={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,
borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,
borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,
marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,
scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,
transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},H=oa=>(za=>{let Ka="";for(za=Math.abs(za);52<za;za=za/52|0){var fb=za%52;Ka=String.fromCharCode(fb+(25<fb?39:97))+Ka}za%=52;return String.fromCharCode(za+(25<za?39:97))+Ka})(((za,Ka)=>{let fb=Ka.length;for(;fb;)za=33*za^Ka.charCodeAt(--fb);return za})(5381,JSON.stringify(oa))>>>0),qa="themed global styled onevar resonevar allvar inline".split(" "),Ca=oa=>{if(oa.href&&!oa.href.startsWith(location.origin))return!1;try{return!!oa.cssRules}catch(za){return!1}},
La=oa=>{let za;const Ka=()=>{const {cssRules:fa}=za.sheet;return[].map.call(fa,(X,Da)=>{const {cssText:Aa}=X;let bb="";if(Aa.startsWith("--sxs"))return"";if(fa[Da-1]&&(bb=fa[Da-1].cssText).startsWith("--sxs")){if(!X.cssRules.length)return"";for(const wa in za.rules)if(za.rules[wa].group===X)return`--sxs{--sxs:${[...za.rules[wa].cache].join(" ")}}${Aa}`;return X.cssRules.length?`${bb}${Aa}`:""}return Aa}).join("")},fb=()=>{if(za){const {rules:wa,sheet:gb}=za;if(!gb.deleteRule){for(;3===Object(Object(gb.cssRules)[0]).type;)gb.cssRules.splice(0,
1);gb.cssRules=[]}for(var fa in wa)delete wa[fa]}fa=Object(oa).styleSheets||[];for(var X of fa)if(Ca(X)){for(let wa=0,gb=X.cssRules;gb[wa];++wa){var Da=Object(gb[wa]);if(1!==Da.type)continue;fa=Object(gb[wa+1]);if(4!==fa.type)continue;++wa;({cssText:Da}=Da);if(!Da.startsWith("--sxs"))continue;Da=Da.slice(14,-3).trim().split(/\s+/);const ob=qa[Da[0]];ob&&(za||(za={sheet:X,reset:fb,rules:{},toString:Ka}),za.rules[ob]={group:fa,index:wa,cache:new Set(Da)})}if(za)break}if(!za){const wa=(gb,ob)=>({type:ob,
cssRules:[],insertRule(Jb,Ob){this.cssRules.splice(Ob,0,wa(Jb,{import:3,undefined:1}[(Jb.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===gb?`@media{${[].map.call(this.cssRules,Jb=>Jb.cssText).join("")}}`:gb}});za={sheet:oa?(oa.head||oa).appendChild(document.createElement("style")).sheet:wa("","text/css"),rules:{},reset:fb,toString:Ka}}const {sheet:Aa,rules:bb}=za;for(X=qa.length-1;0<=X;--X)fa=qa[X],bb[fa]||(Da=qa[X+1],Da=bb[Da]?bb[Da].index:Aa.cssRules.length,Aa.insertRule("@media{}",
Da),Aa.insertRule(`--sxs{--sxs:${X}}`,Da),bb[fa]={group:Aa.cssRules[Da+1],index:Da,cache:new Set([X])}),Oa(bb[fa])};return fb(),za},Oa=oa=>{const za=oa.group;let Ka=za.cssRules.length;oa.apply=fb=>{try{za.insertRule(fb,Ka),++Ka}catch(fa){}}},ea=Symbol(),kb=ra(),zb=(oa,za)=>kb(oa,()=>(...Ka)=>{let fb={type:null,composers:new Set};for(const Aa of Ka)if(null!=Aa)if(Aa[w]){null==fb.type&&(fb.type=Aa[w].type);for(const bb of Aa[w].composers)fb.composers.add(bb)}else if(Aa.constructor!==Object||Aa.$$typeof)null==
fb.type&&(fb.type=Aa);else{Ka=fb.composers;var fa=Ka.add;let {variants:bb,compoundVariants:wa,defaultVariants:gb,...ob}=Aa;const Jb=`${F(oa.prefix)}c-${H(ob)}`,Ob=[],jc=[],tc=Object.create(null),lc=[];for(const mc in gb)tc[mc]=String(gb[mc]);if("object"==typeof bb&&bb)for(const mc in bb){var X=tc;var Da=mc;x.call(X,Da)||(tc[mc]="undefined");Da=bb[mc];for(const uc in Da){X={[mc]:String(uc)};"undefined"===String(uc)&&lc.push(mc);const wc=Da[uc];X=[X,wc,!m(wc)];Ob.push(X)}}if("object"==typeof wa&&wa)for(const mc of wa){let {css:uc,
...wc}=mc;uc="object"==typeof uc&&uc||{};for(const Nc in wc)wc[Nc]=String(wc[Nc]);Da=[wc,uc,!m(uc)];jc.push(Da)}fa.call(Ka,[Jb,ob,Ob,jc,tc,lc])}return null==fb.type&&(fb.type="span"),fb.composers.size||fb.composers.add(["PJLV",{},[],[],{},[]]),Va(oa,fb,za)}),Va=(oa,za,Ka)=>{const [fb,fa,X,Da]=Pa(za.composers),Aa="function"==typeof za.type||za.type.$$typeof?(ob=>{function Jb(){for(let Ob=0;Ob<Jb[ea].length;Ob++){const [jc,tc]=Jb[ea][Ob];ob.rules[jc].apply(tc)}return Jb[ea]=[],null}return Jb[ea]=[],
Jb.rules={},qa.forEach(Ob=>Jb.rules[Ob]={apply:jc=>Jb[ea].push([Ob,jc])}),Jb})(Ka):null,bb=(Aa||Ka).rules,wa=`.${fb}${1<fa.length?`:where(.${fa.slice(1).join(".")})`:""}`,gb=ob=>{ob="object"==typeof ob&&ob||jb;const {css:Jb,...Ob}=ob;var jc={};for(var tc in X)if(delete Ob[tc],tc in ob){var lc=ob[tc];"object"==typeof lc&&lc?jc[tc]={"@initial":X[tc],...lc}:(lc=String(lc),jc[tc]="undefined"!==lc||Da.has(tc)?lc:X[tc])}else jc[tc]=X[tc];tc=new Set([...fa]);for(const [wc,Nc,Uc,Qc]of za.composers){Ka.rules.styled.cache.has(wc)||
(Ka.rules.styled.cache.add(wc),W(Nc,[`.${wc}`],[],oa,Gc=>{bb.styled.apply(Gc)}));var mc=ja(Uc,jc,oa.media);lc=ja(Qc,jc,oa.media,!0);for(const Gc of mc)if(void 0!==Gc)for(const [Rb,id,qd]of Gc){mc=`${wc}-${H(id)}-${Rb}`;tc.add(mc);const Ld=(qd?Ka.rules.resonevar:Ka.rules.onevar).cache,Wb=qd?bb.resonevar:bb.onevar;Ld.has(mc)||(Ld.add(mc),W(id,[`.${mc}`],[],oa,rd=>{Wb.apply(rd)}))}for(const Gc of lc)if(void 0!==Gc)for(const [Rb,id]of Gc)lc=`${wc}-${H(id)}-${Rb}`,tc.add(lc),Ka.rules.allvar.cache.has(lc)||
(Ka.rules.allvar.cache.add(lc),W(id,[`.${lc}`],[],oa,qd=>{bb.allvar.apply(qd)}))}"object"==typeof Jb&&Jb&&(jc=`${fb}-i${H(Jb)}-css`,tc.add(jc),Ka.rules.inline.cache.has(jc)||(Ka.rules.inline.cache.add(jc),W(Jb,[`.${jc}`],[],oa,wc=>{bb.inline.apply(wc)})));for(const wc of String(ob.className||"").trim().split(/\s+/))wc&&tc.add(wc);const uc=Ob.className=[...tc].join(" ");return{type:za.type,className:uc,selector:wa,props:Ob,toString:()=>uc,deferredInjector:Aa}};return h(gb,{className:fb,selector:wa,
[w]:za,toString:()=>(Ka.rules.styled.cache.has(fb)||gb(),fb)})},Pa=oa=>{let za="";const Ka=[],fb={},fa=[];for(const [X,,,,Da,Aa]of oa){""===za&&(za=X);Ka.push(X);fa.push(...Aa);for(const bb in Da)oa=Da[bb],(void 0===fb[bb]||"undefined"!==oa||Aa.includes(oa))&&(fb[bb]=oa)}return[za,Ka,fb,new Set(fa)]},ja=(oa,za,Ka,fb)=>{const fa=[];a:for(let [Da,Aa,bb]of oa){if(bb)continue;let wa;oa=0;let gb=!1;for(wa in Da){const ob=Da[wa];let Jb=za[wa];if(Jb!==ob){if("object"!=typeof Jb||!Jb)continue a;var X=void 0;
let Ob,jc=0;for(const tc in Jb)ob===String(Jb[tc])&&("@initial"!==tc&&(X=tc.slice(1),(Ob=Ob||[]).push(X in Ka?Ka[X]:tc.replace(/^@media ?/,"")),gb=!0),oa+=jc,X=!0),++jc;if(Ob&&Ob.length&&(Aa={["@media "+Ob.join(", ")]:Aa}),!X)continue a}}(fa[oa]=fa[oa]||[]).push([fb?"cv":`${wa}-${Da[wa]}`,Aa,gb])}return fa},jb={},Ya=ra(),Ma=(oa,za)=>Ya(oa,()=>(...Ka)=>{const fb=()=>{for(let X of Ka){X="object"==typeof X&&X||{};var fa=H(X);if(!za.rules.global.cache.has(fa)){if(za.rules.global.cache.add(fa),"@import"in
X){fa=[].indexOf.call(za.sheet.cssRules,za.rules.themed.group)-1;for(let Da of[].concat(X["@import"]))Da=Da.includes('"')||Da.includes("'")?Da:`"${Da}"`,za.sheet.insertRule(`@import ${Da};`,fa++);delete X["@import"]}W(X,[],[],oa,Da=>{za.rules.global.apply(Da)})}}return""};return h(fb,{toString:fb})}),na=ra(),ub=(oa,za)=>na(oa,()=>Ka=>{const fb=`${F(oa.prefix)}k-${H(Ka)}`,fa=()=>{if(!za.rules.global.cache.has(fb)){za.rules.global.cache.add(fb);const X=[];W(Ka,[],[],oa,Aa=>X.push(Aa));const Da=`@keyframes ${fb}{${X.join("")}}`;
za.rules.global.apply(Da)}return fb};return h(fa,{get name(){return fa()},toString:fa})}),Bb=class{constructor(oa,za,Ka,fb){this.token=null==oa?"":String(oa);this.value=null==za?"":String(za);this.scale=null==Ka?"":String(Ka);this.prefix=null==fb?"":String(fb)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+F(this.prefix)+F(this.scale)+this.token}toString(){return this.computedValue}},ab=ra(),Ab=(oa,za)=>ab(oa,()=>(Ka,fb)=>{fb="object"==typeof Ka&&Ka||Object(fb);const fa=
`.${Ka=(Ka="string"==typeof Ka?Ka:"")||`${F(oa.prefix)}t-${H(fb)}`}`,X={},Da=[];for(const bb in fb){X[bb]={};for(const wa in fb[bb]){const gb=`--${F(oa.prefix)}${bb}-${wa}`,ob=M(String(fb[bb][wa]),oa.prefix,bb);X[bb][wa]=new Bb(wa,ob,bb,oa.prefix);Da.push(`${gb}:${ob}`)}}const Aa=()=>{if(Da.length&&!za.rules.themed.cache.has(Ka)){za.rules.themed.cache.add(Ka);const bb=`${fb===oa.theme?":root,":""}.${Ka}{${Da.join(";")}}`;za.rules.themed.apply(bb)}return Ka};return{...X,get className(){return Aa()},
selector:fa,toString:Aa}}),q=ra(),K=P(0),aa=ra(),Ea=oa=>{oa=(za=>{let Ka=!1;za=q(za,fb=>{Ka=!0;const fa="prefix"in(fb="object"==typeof fb&&fb||{})?String(fb.prefix):"",X="object"==typeof fb.theme&&fb.theme||{},Da={prefix:fa,media:"object"==typeof fb.media&&fb.media||{},theme:X,themeMap:"object"==typeof fb.themeMap&&fb.themeMap||{...J},utils:"object"==typeof fb.utils&&fb.utils||{}},Aa=La("object"==typeof fb.root?fb.root||null:globalThis.document||null),bb={css:zb(Da,Aa),globalCss:Ma(Da,Aa),keyframes:ub(Da,
Aa),createTheme:Ab(Da,Aa),reset(){Aa.reset();bb.theme.toString()},theme:{},sheet:Aa,config:Da,prefix:fa,getCssText:Aa.toString,toString:Aa.toString};return String(bb.theme=bb.createTheme(X)),bb});return Ka||za.reset(),za})(oa);return oa.styled=(za=>{let {config:Ka,sheet:fb}=za;return aa(Ka,()=>{const fa=zb(Ka,fb);return(...X)=>{const Da=fa(...X),Aa=Da[w].type;X=K.forwardRef((bb,wa)=>{const gb=bb&&bb.as||Aa,{props:ob,deferredInjector:Jb}=Da(bb);return delete ob.as,ob.ref=wa,Jb?K.createElement(K.Fragment,
null,K.createElement(gb,ob),K.createElement(Jb,null)):K.createElement(gb,ob)});return X.className=Da.className,X.displayName=`Styled.${Aa.displayName||Aa.name||Aa}`,X.selector=Da.selector,X.toString=()=>Da.selector,X[w]=Da[w],X}})})(oa),oa};db.exports={createStitches:Ea,createTheme:(...oa)=>(A||(A=Ea())).createTheme(...oa),css:(...oa)=>(A||(A=Ea())).css(...oa),defaultThemeMap:J,globalCss:(...oa)=>(A||(A=Ea())).globalCss(...oa),keyframes:(...oa)=>(A||(A=Ea())).keyframes(...oa),styled:(...oa)=>(A||
(A=Ea())).styled(...oa)}};
shadow$provide[553]=function(ra,P,db,I){function A(r,w,h){return 0===w||Infinity===Math.abs(w)?Math.pow(r,5*h):r*w*h/(w+h*r)}function J(r,w,h,m=.15){return 0===m?Math.max(w,Math.min(r,h)):r<w?-A(w-r,h-w,m)+w:r>h?+A(r-h,h-w,m)+h:r}I.V={toVector(r,w){void 0===r&&(r=w);return Array.isArray(r)?r:[r,r]},add(r,w){return[r[0]+w[0],r[1]+w[1]]},sub(r,w){return[r[0]-w[0],r[1]-w[1]]},addTo(r,w){r[0]+=w[0];r[1]+=w[1]},subTo(r,w){r[0]-=w[0];r[1]-=w[1]}};I.computeRubberband=function(r,[w,h],[m,x]){const [[z,k],
[p,B]]=r;return[J(w,z,k,m),J(h,p,B,x)]};I.rubberbandIfOutOfBounds=J};
shadow$provide[554]=function(ra,P,db,I){function A(q,K,aa){a:if("object"===typeof K&&null!==K){var Ea=K[Symbol.toPrimitive];if(void 0!==Ea){K=Ea.call(K,"string");if("object"!==typeof K)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}K=String(K)}K="symbol"===typeof K?K:String(K);K in q?Object.defineProperty(q,K,{value:aa,enumerable:!0,configurable:!0,writable:!0}):q[K]=aa;return q}function J(q,K){var aa=Object.keys(q);if(Object.getOwnPropertySymbols){var Ea=Object.getOwnPropertySymbols(q);
K&&(Ea=Ea.filter(function(oa){return Object.getOwnPropertyDescriptor(q,oa).enumerable}));aa.push.apply(aa,Ea)}return aa}function r(q){for(var K=1;K<arguments.length;K++){var aa=null!=arguments[K]?arguments[K]:{};K%2?J(Object(aa),!0).forEach(function(Ea){A(q,Ea,aa[Ea])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(aa)):J(Object(aa)).forEach(function(Ea){Object.defineProperty(q,Ea,Object.getOwnPropertyDescriptor(aa,Ea))})}return q}function w(q){return q?
q[0].toUpperCase()+q.slice(1):""}function h(q=!1,K){return q&&!Y.includes(K)}function m(q){return"touches"in q}function x(q){return m(q)?"touch":"pointerType"in q?q.pointerType:"mouse"}function z(q){return Array.from(q.touches).filter(K=>{var aa,Ea;return K.target===q.currentTarget||(null===(aa=q.currentTarget)||void 0===aa||null===(Ea=aa.contains)||void 0===Ea?void 0:Ea.call(aa,K.target))})}function k(q){return m(q)?("touchend"===q.type||"touchcancel"===q.type?q.changedTouches:q.targetTouches)[0]:
q}function p(q,K){try{const aa=K.clientX-q.clientX,Ea=K.clientY-q.clientY;return{angle:-(180*Math.atan2(aa,Ea))/Math.PI,distance:Math.hypot(aa,Ea),origin:[(K.clientX+q.clientX)/2,(K.clientY+q.clientY)/2]}}catch(aa){}return null}function B(q,K){const [aa,Ea]=Array.from(q.touches).filter(oa=>K.includes(oa.identifier));return p(aa,Ea)}function t(q){const K=k(q);return m(q)?K.identifier:K.pointerId}function u(q){q=k(q);return[q.clientX,q.clientY]}function C(q){let {deltaX:K,deltaY:aa,deltaMode:Ea}=q;
1===Ea?(K*=40,aa*=40):2===Ea&&(K*=800,aa*=800);return[K,aa]}function F(q,...K){return"function"===typeof q?q(...K):q}function M(){}function T([q,K],aa){q=Math.abs(q);K=Math.abs(K);if(q>K&&q>aa)return"x";if(K>q&&K>aa)return"y"}function N(q){const [K,aa]=q.overflow,[Ea,oa]=q._delta,[za,Ka]=q._direction;if(0>K&&0<Ea&&0>za||0<K&&0>Ea&&0<za)q._movement[0]=q._movementBound[0];if(0>aa&&0<oa&&0>Ka||0<aa&&0>oa&&0<Ka)q._movement[1]=q._movementBound[1]}var W=P(553);const ka={pointer:{start:"down",change:"move",
end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}},Y=["enter","leave"],H=["gotpointercapture","lostpointercapture"];class qa{constructor(q,K,aa){this.ctrl=q;this.args=K;this.key=aa;this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(q){this.ctrl.state[this.key]=q}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const {state:q,
shared:K,ingKey:aa,args:Ea}=this;K[aa]=q._active=q.active=q._blocked=q._force=!1;q._step=[!1,!1];q.intentional=!1;q._movement=[0,0];q._distance=[0,0];q._direction=[0,0];q._delta=[0,0];q._bounds=[[-Infinity,Infinity],[-Infinity,Infinity]];q.args=Ea;q.axis=void 0;q.memo=void 0;q.elapsedTime=q.timeDelta=0;q.direction=[0,0];q.distance=[0,0];q.overflow=[0,0];q._movementBound=[!1,!1];q.velocity=[0,0];q.movement=[0,0];q.delta=[0,0];q.timeStamp=0}start(q){const K=this.state,aa=this.config;K._active||(this.reset(),
this.computeInitial(),K._active=!0,K.target=q.target,K.currentTarget=q.currentTarget,K.lastOffset=aa.from?F(aa.from,K):K.offset,K.offset=K.lastOffset,K.startTime=K.timeStamp=q.timeStamp)}computeValues(q){const K=this.state;K._values=q;K.values=this.config.transform(q)}computeInitial(){const q=this.state;q._initial=q._values;q.initial=q.values}compute(q){const {state:K,config:aa,shared:Ea}=this;K.args=this.args;var oa=0;if(q){K.event=q;aa.preventDefault&&q.cancelable&&K.event.preventDefault();K.type=
q.type;Ea.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size;Ea.locked=!!document.pointerLockElement;oa=Object;var za=oa.assign,Ka={};"buttons"in q&&(Ka.buttons=q.buttons);if("shiftKey"in q){const {shiftKey:lc,altKey:mc,metaKey:uc,ctrlKey:wc}=q;Object.assign(Ka,{shiftKey:lc,altKey:mc,metaKey:uc,ctrlKey:wc})}za.call(oa,Ea,Ka);Ea.down=Ea.pressed=1===Ea.buttons%2||0<Ea.touches;oa=q.timeStamp-K.timeStamp;K.timeStamp=q.timeStamp;K.elapsedTime=K.timeStamp-K.startTime}K._active&&(za=K._delta.map(Math.abs),
W.V.addTo(K._distance,za));this.axisIntent&&this.axisIntent(q);const [fb,fa]=K._movement,[X,Da]=aa.threshold,{_step:Aa,values:bb}=K;aa.hasCustomTransform?(!1===Aa[0]&&(Aa[0]=Math.abs(fb)>=X&&bb[0]),!1===Aa[1]&&(Aa[1]=Math.abs(fa)>=Da&&bb[1])):(!1===Aa[0]&&(Aa[0]=Math.abs(fb)>=X&&Math.sign(fb)*X),!1===Aa[1]&&(Aa[1]=Math.abs(fa)>=Da&&Math.sign(fa)*Da));K.intentional=!1!==Aa[0]||!1!==Aa[1];if(K.intentional){za=[0,0];if(aa.hasCustomTransform){const [lc,mc]=bb;za[0]=!1!==Aa[0]?lc-Aa[0]:0;za[1]=!1!==Aa[1]?
mc-Aa[1]:0}else za[0]=!1!==Aa[0]?fb-Aa[0]:0,za[1]=!1!==Aa[1]?fa-Aa[1]:0;this.restrictToAxis&&!K._blocked&&this.restrictToAxis(za);Ka=K.offset;var wa=K._active&&!K._blocked||K.active;wa&&(K.first=K._active&&!K.active,K.last=!K._active&&K.active,K.active=Ea[this.ingKey]=K._active,q&&(K.first&&("bounds"in aa&&(K._bounds=F(aa.bounds,K)),this.setup&&this.setup()),K.movement=za,this.computeOffset()));var [gb,ob]=K.offset,[[Jb,Ob],[jc,tc]]=K._bounds;K.overflow=[gb<Jb?-1:gb>Ob?1:0,ob<jc?-1:ob>tc?1:0];K._movementBound[0]=
K.overflow[0]?!1===K._movementBound[0]?K._movement[0]:K._movementBound[0]:!1;K._movementBound[1]=K.overflow[1]?!1===K._movementBound[1]?K._movement[1]:K._movementBound[1]:!1;K.offset=W.computeRubberband(K._bounds,K.offset,K._active?aa.rubberband||[0,0]:[0,0]);K.delta=W.V.sub(K.offset,Ka);this.computeMovement();wa&&(!K.last||32<oa)&&(K.delta=W.V.sub(K.offset,Ka),q=K.delta.map(Math.abs),W.V.addTo(K.distance,q),K.direction=K.delta.map(Math.sign),K._direction=K._delta.map(Math.sign),!K.first&&0<oa&&(K.velocity=
[q[0]/oa,q[1]/oa],K.timeDelta=oa))}}emit(){const q=this.state;var K=this.shared;const aa=this.config;q._active||this.clean();if(!q._blocked&&q.intentional||q._force||aa.triggerAllEvents)K=this.handler(r(r(r({},K),q),{},{[this.aliasKey]:q.values})),void 0!==K&&(q.memo=K)}clean(){this.eventStore.clean();this.timeoutStore.clean()}}class Ca extends qa{constructor(...q){super(...q);A(this,"aliasKey","xy")}reset(){super.reset();this.state.axis=void 0}init(){this.state.offset=[0,0];this.state.lastOffset=
[0,0]}computeOffset(){this.state.offset=W.V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=W.V.sub(this.state.offset,this.state.lastOffset)}axisIntent(q){const K=this.state,aa=this.config;!K.axis&&q&&(q="object"===typeof aa.axisThreshold?aa.axisThreshold[x(q)]:aa.axisThreshold,K.axis=T(K._movement,q));K._blocked=(aa.lockDirection||!!aa.axis)&&!K.axis||!!aa.axis&&aa.axis!==K.axis}restrictToAxis(q){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case "x":q[1]=
0;break;case "y":q[0]=0}}}const La=q=>q;P={enabled(q=!0){return q},eventOptions(q,K,aa){return r(r({},aa.shared.eventOptions),q)},preventDefault(q=!1){return q},triggerAllEvents(q=!1){return q},rubberband(q=0){switch(q){case !0:return[.15,.15];case !1:return[0,0];default:return W.V.toVector(q)}},from(q){if("function"===typeof q)return q;if(null!=q)return W.V.toVector(q)},transform(q,K,aa){q=q||aa.shared.transform;this.hasCustomTransform=!!q;return q||La},threshold(q){return W.V.toVector(q,0)}};const Oa=
r(r({},P),{},{axis(q,K,{axis:aa}){this.lockDirection="lock"===aa;if(!this.lockDirection)return aa},axisThreshold(q=0){return q},bounds(q={}){if("function"===typeof q)return za=>Oa.bounds(q(za));if("current"in q)return()=>q.current;if("function"===typeof HTMLElement&&q instanceof HTMLElement)return q;const {left:K=-Infinity,right:aa=Infinity,top:Ea=-Infinity,bottom:oa=Infinity}=q;return[[K,aa],[Ea,oa]]}}),ea={ArrowRight:(q,K=1)=>[q*K,0],ArrowLeft:(q,K=1)=>[-1*q*K,0],ArrowUp:(q,K=1)=>[0,-1*q*K],ArrowDown:(q,
K=1)=>[0,q*K]};class kb extends Ca{constructor(...q){super(...q);A(this,"ingKey","dragging")}reset(){super.reset();const q=this.state;q._pointerId=void 0;q._pointerActive=!1;q._keyboardActive=!1;q._preventScroll=!1;q._delayed=!1;q.swipe=[0,0];q.tap=!1;q.canceled=!1;q.cancel=this.cancel.bind(this)}setup(){const q=this.state;if(q._bounds instanceof HTMLElement){const K=q._bounds.getBoundingClientRect(),aa=q.currentTarget.getBoundingClientRect();q._bounds=Oa.bounds({left:K.left-aa.left+q.offset[0],right:K.right-
aa.right+q.offset[0],top:K.top-aa.top+q.offset[1],bottom:K.bottom-aa.bottom+q.offset[1]})}}cancel(){const q=this.state;q.canceled||(q.canceled=!0,q._active=!1,setTimeout(()=>{this.compute();this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean();this.state._pointerActive=!1;this.state._keyboardActive=!1;super.clean()}pointerDown(q){const K=this.config,aa=this.state;if(null==q.buttons||(Array.isArray(K.pointerButtons)?K.pointerButtons.includes(q.buttons):
-1===K.pointerButtons||K.pointerButtons===q.buttons)){var Ea=this.ctrl.setEventIds(q);K.pointerCapture&&q.target.setPointerCapture(q.pointerId);Ea&&1<Ea.size&&aa._pointerActive||(this.start(q),this.setupPointer(q),aa._pointerId=t(q),aa._pointerActive=!0,this.computeValues(u(q)),this.computeInitial(),K.preventScrollAxis&&"mouse"!==x(q)?(aa._active=!1,this.setupScrollPrevention(q)):0<K.delay?(this.setupDelayTrigger(q),K.triggerAllEvents&&(this.compute(q),this.emit())):this.startPointerDrag(q))}}startPointerDrag(q){const K=
this.state;K._active=!0;K._preventScroll=!0;K._delayed=!1;this.compute(q);this.emit()}pointerMove(q){const K=this.state,aa=this.config;if(K._pointerActive){var Ea=t(q);if(void 0===K._pointerId||Ea===K._pointerId)Ea=u(q),document.pointerLockElement===q.target?K._delta=[q.movementX,q.movementY]:(K._delta=W.V.sub(Ea,K._values),this.computeValues(Ea)),W.V.addTo(K._movement,K._delta),this.compute(q),K._delayed&&K.intentional?(this.timeoutStore.remove("dragDelay"),K.active=!1,this.startPointerDrag(q)):
aa.preventScrollAxis&&!K._preventScroll?K.axis&&(K.axis===aa.preventScrollAxis||"xy"===aa.preventScrollAxis?(K._active=!1,this.clean()):(this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(q))):this.emit()}}pointerUp(q){this.ctrl.setEventIds(q);try{this.config.pointerCapture&&q.target.hasPointerCapture(q.pointerId)&&q.target.releasePointerCapture(q.pointerId)}catch(Ka){}const K=this.state,aa=this.config;if(K._active&&K._pointerActive){var Ea=t(q);if(void 0===K._pointerId||Ea===K._pointerId){this.state._pointerActive=
!1;this.setActive();this.compute(q);var [oa,za]=K._distance;K.tap=oa<=aa.tapsThreshold&&za<=aa.tapsThreshold;if(K.tap&&aa.filterTaps)K._force=!0;else{const [Ka,fb]=K._delta,[fa,X]=K._movement,[Da,Aa]=aa.swipe.velocity,[bb,wa]=aa.swipe.distance;K.elapsedTime<aa.swipe.duration&&(q=Math.abs(fb/K.timeDelta),Math.abs(Ka/K.timeDelta)>Da&&Math.abs(fa)>bb&&(K.swipe[0]=Math.sign(Ka)),q>Aa&&Math.abs(X)>wa&&(K.swipe[1]=Math.sign(fb)))}this.emit()}}}pointerClick(q){!this.state.tap&&0<q.detail&&(q.preventDefault(),
q.stopPropagation())}setupPointer(q){const K=this.config,aa=K.device;K.pointerLock&&q.currentTarget.requestPointerLock();K.pointerCapture||(this.eventStore.add(this.sharedConfig.window,aa,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,aa,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,aa,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(q){this.state._preventScroll&&
q.cancelable&&q.preventDefault()}setupScrollPrevention(q){this.state._preventScroll=!1;"persist"in q&&"function"===typeof q.persist&&q.persist();const K=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",K);this.eventStore.add(this.sharedConfig.window,"touch","cancel",K);this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,q)}setupDelayTrigger(q){this.state._delayed=
!0;this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0];this.startPointerDrag(q)},this.config.delay)}keyDown(q){const K=ea[q.key];if(K){const aa=this.state,Ea=q.shiftKey?10:q.altKey?.1:1;this.start(q);aa._delta=K(this.config.keyboardDisplacement,Ea);aa._keyboardActive=!0;W.V.addTo(aa._movement,aa._delta);this.compute(q);this.emit()}}keyUp(q){q.key in ea&&(this.state._keyboardActive=!1,this.setActive(),this.compute(q),this.emit())}bind(q){const K=this.config.device;q(K,"start",this.pointerDown.bind(this));
this.config.pointerCapture&&(q(K,"change",this.pointerMove.bind(this)),q(K,"end",this.pointerUp.bind(this)),q(K,"cancel",this.pointerUp.bind(this)),q("lostPointerCapture","",this.pointerUp.bind(this)));this.config.keys&&(q("key","down",this.keyDown.bind(this)),q("key","up",this.keyUp.bind(this)));this.config.filterTaps&&q("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}ra="undefined"!==typeof window&&window.document&&window.document.createElement;try{var zb="constructor"in GestureEvent}catch(q){zb=
!1}const Va={isBrowser:ra,gesture:zb,touch:ra&&"ontouchstart"in window,touchscreen:ra&&"ontouchstart"in window||ra&&1<window.navigator.maxTouchPoints,pointer:ra&&"onpointerdown"in window,pointerLock:ra&&"exitPointerLock"in window.document},Pa={mouse:0,touch:0,pen:8};ra=r(r({},Oa),{},{device(q,K,{pointer:{touch:aa=!1,lock:Ea=!1,mouse:oa=!1}={}}){this.pointerLock=Ea&&Va.pointerLock;return Va.touch&&aa?"touch":this.pointerLock?"mouse":Va.pointer&&!oa?"pointer":Va.touch?"touch":"mouse"},preventScrollAxis(q,
K,{preventScroll:aa}){this.preventScrollDelay="number"===typeof aa?aa:aa||void 0===aa&&q?250:void 0;if(Va.touchscreen&&!1!==aa)return q?q:void 0!==aa?"y":void 0},pointerCapture(q,K,{pointer:{capture:aa=!0,buttons:Ea=1,keys:oa=!0}={}}){this.pointerButtons=Ea;this.keys=oa;return!this.pointerLock&&"pointer"===this.device&&aa},threshold(q,K,{filterTaps:aa=!1,tapsThreshold:Ea=3,axis:oa}){q=W.V.toVector(q,aa?Ea:oa?1:0);this.filterTaps=aa;this.tapsThreshold=Ea;return q},swipe({velocity:q=.5,distance:K=50,
duration:aa=250}={}){return{velocity:this.transform(W.V.toVector(q)),distance:this.transform(W.V.toVector(K)),duration:aa}},delay(q=0){switch(q){case !0:return 180;case !1:return 0;default:return q}},axisThreshold(q){return q?r(r({},Pa),q):Pa},keyboardDisplacement(q=10){return q}});class ja extends qa{constructor(...q){super(...q);A(this,"ingKey","pinching");A(this,"aliasKey","da")}init(){this.state.offset=[1,0];this.state.lastOffset=[1,0];this.state._pointerEvents=new Map}reset(){super.reset();const q=
this.state;q._touchIds=[];q.canceled=!1;q.cancel=this.cancel.bind(this);q.turns=0}computeOffset(){const {type:q,movement:K,lastOffset:aa}=this.state;this.state.offset="wheel"===q?W.V.add(K,aa):[(1+K[0])*aa[0],K[1]+aa[1]]}computeMovement(){const {offset:q,lastOffset:K}=this.state;this.state.movement=[q[0]/K[0],q[1]-K[1]]}axisIntent(){const q=this.state,[K,aa]=q._movement;if(!q.axis){const Ea=30*Math.abs(K)-Math.abs(aa);0>Ea?q.axis="angle":0<Ea&&(q.axis="scale")}}restrictToAxis(q){this.config.lockDirection&&
("scale"===this.state.axis?q[1]=0:"angle"===this.state.axis&&(q[0]=0))}cancel(){const q=this.state;q.canceled||setTimeout(()=>{q.canceled=!0;q._active=!1;this.compute();this.emit()},0)}touchStart(q){this.ctrl.setEventIds(q);var K=this.state;const aa=this.ctrl.touchIds;K._active&&K._touchIds.every(Ea=>aa.has(Ea))||2>aa.size||(this.start(q),K._touchIds=Array.from(aa).slice(0,2),(K=B(q,K._touchIds))&&this.pinchStart(q,K))}pointerStart(q){if(null==q.buttons||1===q.buttons%2){this.ctrl.setEventIds(q);
q.target.setPointerCapture(q.pointerId);var K=this.state,aa=K._pointerEvents,Ea=this.ctrl.pointerIds;K._active&&Array.from(aa.keys()).every(oa=>Ea.has(oa))||(2>aa.size&&aa.set(q.pointerId,q),2>K._pointerEvents.size||(this.start(q),(K=p(...Array.from(aa.values())))&&this.pinchStart(q,K)))}}pinchStart(q,K){this.state.origin=K.origin;this.computeValues([K.distance,K.angle]);this.computeInitial();this.compute(q);this.emit()}touchMove(q){if(this.state._active){var K=B(q,this.state._touchIds);K&&this.pinchMove(q,
K)}}pointerMove(q){var K=this.state._pointerEvents;K.has(q.pointerId)&&K.set(q.pointerId,q);this.state._active&&(K=p(...Array.from(K.values())))&&this.pinchMove(q,K)}pinchMove(q,K){const aa=this.state,Ea=K.angle-aa._values[1];let oa=0;270<Math.abs(Ea)&&(oa+=Math.sign(Ea));this.computeValues([K.distance,K.angle-360*oa]);aa.origin=K.origin;aa.turns=oa;aa._movement=[aa._values[0]/aa._initial[0]-1,aa._values[1]-aa._initial[1]];this.compute(q);this.emit()}touchEnd(q){this.ctrl.setEventIds(q);this.state._active&&
this.state._touchIds.some(K=>!this.ctrl.touchIds.has(K))&&(this.state._active=!1,this.compute(q),this.emit())}pointerEnd(q){const K=this.state;this.ctrl.setEventIds(q);try{q.target.releasePointerCapture(q.pointerId)}catch(aa){}K._pointerEvents.has(q.pointerId)&&K._pointerEvents.delete(q.pointerId);K._active&&2>K._pointerEvents.size&&(K._active=!1,this.compute(q),this.emit())}gestureStart(q){q.cancelable&&q.preventDefault();const K=this.state;K._active||(this.start(q),this.computeValues([q.scale,q.rotation]),
K.origin=[q.clientX,q.clientY],this.compute(q),this.emit())}gestureMove(q){q.cancelable&&q.preventDefault();if(this.state._active){var K=this.state;this.computeValues([q.scale,q.rotation]);K.origin=[q.clientX,q.clientY];var aa=K._movement;K._movement=[q.scale-1,q.rotation];K._delta=W.V.sub(K._movement,aa);this.compute(q);this.emit()}}gestureEnd(q){this.state._active&&(this.state._active=!1,this.compute(q),this.emit())}wheel(q){const K=this.config.modifierKey;if(!K||(Array.isArray(K)?K.find(aa=>q[aa]):
q[K]))this.state._active?this.wheelChange(q):this.wheelStart(q),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelStart(q){this.start(q);this.wheelChange(q)}wheelChange(q){"uv"in q||q.cancelable&&q.preventDefault();const K=this.state;K._delta=[-C(q)[1]/100*K.offset[0],0];W.V.addTo(K._movement,K._delta);N(K);this.state.origin=[q.clientX,q.clientY];this.compute(q);this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(q){const K=this.config.device;
K&&(q(K,"start",this[K+"Start"].bind(this)),q(K,"change",this[K+"Move"].bind(this)),q(K,"end",this[K+"End"].bind(this)),q(K,"cancel",this[K+"End"].bind(this)),q("lostPointerCapture","",this[K+"End"].bind(this)));this.config.pinchOnWheel&&q("wheel","",this.wheel.bind(this),{passive:!1})}}var jb=r(r({},P),{},{device(q,K,{shared:aa,pointer:{touch:Ea=!1}={}}){if(aa.target&&!Va.touch&&Va.gesture)return"gesture";if(Va.touch&&Ea)return"touch";if(Va.touchscreen){if(Va.pointer)return"pointer";if(Va.touch)return"touch"}},
bounds(q,K,{scaleBounds:aa={},angleBounds:Ea={}}){const oa=Ka=>{Ka=F(aa,Ka);Ka=Object.assign({},{min:-Infinity,max:Infinity},Ka||{});return[Ka.min,Ka.max]},za=Ka=>{Ka=F(Ea,Ka);Ka=Object.assign({},{min:-Infinity,max:Infinity},Ka||{});return[Ka.min,Ka.max]};return"function"!==typeof aa&&"function"!==typeof Ea?[oa(),za()]:Ka=>[oa(Ka),za(Ka)]},threshold(q,K,aa){this.lockDirection="lock"===aa.axis;return W.V.toVector(q,this.lockDirection?[.1,3]:0)},modifierKey(q){return void 0===q?"ctrlKey":q},pinchOnWheel(q=
!0){return q}});class Ya extends Ca{constructor(...q){super(...q);A(this,"ingKey","moving")}move(q){this.config.mouseOnly&&"mouse"!==q.pointerType||(this.state._active?this.moveChange(q):this.moveStart(q),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(q){this.start(q);this.computeValues(u(q));this.compute(q);this.computeInitial();this.emit()}moveChange(q){if(this.state._active){var K=u(q),aa=this.state;aa._delta=W.V.sub(K,aa._values);W.V.addTo(aa._movement,aa._delta);this.computeValues(K);
this.compute(q);this.emit()}}moveEnd(q){this.state._active&&(this.state._active=!1,this.compute(q),this.emit())}bind(q){q("pointer","change",this.move.bind(this));q("pointer","leave",this.moveEnd.bind(this))}}var Ma=r(r({},Oa),{},{mouseOnly:(q=!0)=>q});class na extends Ca{constructor(...q){super(...q);A(this,"ingKey","scrolling")}scroll(q){this.state._active||this.start(q);this.scrollChange(q);this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(q){q.cancelable&&q.preventDefault();
const K=this.state;var aa,Ea;const {scrollX:oa,scrollY:za,scrollLeft:Ka,scrollTop:fb}=q.currentTarget;var fa=[null!==(aa=null!==oa&&void 0!==oa?oa:Ka)&&void 0!==aa?aa:0,null!==(Ea=null!==za&&void 0!==za?za:fb)&&void 0!==Ea?Ea:0];K._delta=W.V.sub(fa,K._values);W.V.addTo(K._movement,K._delta);this.computeValues(fa);this.compute(q);this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(q){q("scroll","",this.scroll.bind(this))}}P=Oa;class ub extends Ca{constructor(...q){super(...q);
A(this,"ingKey","wheeling")}wheel(q){this.state._active||this.start(q);this.wheelChange(q);this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(q){const K=this.state;K._delta=C(q);W.V.addTo(K._movement,K._delta);N(K);this.compute(q);this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(q){q("wheel","",this.wheel.bind(this))}}zb=Oa;class Bb extends Ca{constructor(...q){super(...q);A(this,"ingKey","hovering")}enter(q){this.config.mouseOnly&&
"mouse"!==q.pointerType||(this.start(q),this.computeValues(u(q)),this.compute(q),this.emit())}leave(q){if(!this.config.mouseOnly||"mouse"===q.pointerType){var K=this.state;if(K._active){K._active=!1;var aa=u(q);K._movement=K._delta=W.V.sub(aa,K._values);this.computeValues(aa);this.compute(q);K.delta=K.movement;this.emit()}}}bind(q){q("pointer","enter",this.enter.bind(this));q("pointer","leave",this.leave.bind(this))}}db=r(r({},Oa),{},{mouseOnly:(q=!0)=>q});const ab=new Map,Ab=new Map;ra={key:"drag",
engine:kb,resolver:ra};db={key:"hover",engine:Bb,resolver:db};Ma={key:"move",engine:Ya,resolver:Ma};jb={key:"pinch",engine:ja,resolver:jb};P={key:"scroll",engine:na,resolver:P};zb={key:"wheel",engine:ub,resolver:zb};I.ConfigResolverMap=Ab;I.EngineMap=ab;I.SUPPORT=Va;I._defineProperty=A;I._objectSpread2=r;I.chain=function(...q){return 0===q.length?M:1===q.length?q[0]:function(){let K;for(const aa of q)K=aa.apply(this,arguments)||K;return K}};I.dragAction=ra;I.hoverAction=db;I.isTouch=m;I.moveAction=
Ma;I.parseProp=function(q){q=q.substring(2).toLowerCase();const K=!!~q.indexOf("passive");K&&(q=q.replace("passive",""));var aa=H.includes(q)?"capturecapture":"capture";(aa=!!~q.indexOf(aa))&&(q=q.replace("capture",""));return{device:q,capture:aa,passive:K}};I.pinchAction=jb;I.registerAction=function(q){ab.set(q.key,q.engine);Ab.set(q.key,q.resolver)};I.scrollAction=P;I.toDomEventType=function(q,K=""){const aa=ka[q];return q+(aa?aa[K]||K:K)};I.toHandlerProp=function(q,K="",aa=!1){const Ea=ka[q];K=
Ea?Ea[K]||K:K;return"on"+w(q)+w(K)+(h(aa,K)?"Capture":"")};I.touchIds=function(q){return z(q).map(K=>K.identifier)};I.wheelAction=zb};
shadow$provide[555]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});ra=P(554);P(553);I.ConfigResolverMap=ra.ConfigResolverMap;I.EngineMap=ra.EngineMap;I.dragAction=ra.dragAction;I.hoverAction=ra.hoverAction;I.moveAction=ra.moveAction;I.pinchAction=ra.pinchAction;I.registerAction=ra.registerAction;I.scrollAction=ra.scrollAction;I.wheelAction=ra.wheelAction};
shadow$provide[559]=function(ra,P,db,I){db.exports=P(555)};
shadow$provide[560]=function(ra,P,db,I){function A(u={},C){const F={};for(const [M,T]of Object.entries(C))switch(typeof T){case "function":F[M]=T.call(F,u[M],M,u);break;case "object":F[M]=A(u[M],T);break;case "boolean":T&&(F[M]=u[M])}return F}function J(u,C,F={}){const {target:M,eventOptions:T,window:N,enabled:W,transform:ka}=u;var Y=x;if(null==u)u={};else{if(null==u)var H={};else{H={};var qa=Object.keys(u),Ca;for(Ca=0;Ca<qa.length;Ca++){var La=qa[Ca];0<=Y.indexOf(La)||(H[La]=u[La])}}if(Object.getOwnPropertySymbols)for(Ca=
Object.getOwnPropertySymbols(u),La=0;La<Ca.length;La++)qa=Ca[La],0<=Y.indexOf(qa)||Object.prototype.propertyIsEnumerable.call(u,qa)&&(H[qa]=u[qa]);u=H}F.shared=A({target:M,eventOptions:T,window:N,enabled:W,transform:ka},m);if(C){var Oa=h.ConfigResolverMap.get(C);F[C]=A(h._objectSpread2({shared:F.shared},u),Oa)}else for(Oa in u)(C=h.ConfigResolverMap.get(Oa))&&(F[Oa]=A(h._objectSpread2({shared:F.shared},u[Oa]),C));return F}function r(u,C){u.gestures.add(C);u.gestureEventStores[C]=new z(u,C);u.gestureTimeoutStores[C]=
new k}function w(u,C,F,M,T,N){if(u.has(F)&&h.EngineMap.has(M)){var W=F+"Start",ka=F+"End";T[M]=Y=>{let H=void 0;if(Y.first&&W in C)C[W](Y);F in C&&(H=C[F](Y));if(Y.last&&ka in C)C[ka](Y);return H};N[M]=N[M]||{}}}Object.defineProperty(I,"__esModule",{value:!0});var h=P(554);P(553);const m={target(u){if(u)return()=>"current"in u?u.current:u},enabled(u=!0){return u},window(u=h.SUPPORT.isBrowser?window:void 0){return u},eventOptions({passive:u=!0,capture:C=!1}={}){return{passive:u,capture:C}},transform(u){return u}},
x=["target","eventOptions","window","enabled","transform"];class z{constructor(u,C){h._defineProperty(this,"_listeners",new Set);this._ctrl=u;this._gestureKey=C}add(u,C,F,M,T){const N=this._listeners,W=h.toDomEventType(C,F),ka=h._objectSpread2(h._objectSpread2({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),T);u.addEventListener(W,M,ka);const Y=()=>{u.removeEventListener(W,M,ka);N.delete(Y)};N.add(Y);return Y}clean(){this._listeners.forEach(u=>u());this._listeners.clear()}}
class k{constructor(){h._defineProperty(this,"_timeouts",new Map)}add(u,C,F=140,...M){this.remove(u);this._timeouts.set(u,window.setTimeout(C,F,...M))}remove(u){(u=this._timeouts.get(u))&&window.clearTimeout(u)}clean(){this._timeouts.forEach(u=>void window.clearTimeout(u));this._timeouts.clear()}}class p{constructor(u){h._defineProperty(this,"gestures",new Set);h._defineProperty(this,"_targetEventStore",new z(this));h._defineProperty(this,"gestureEventStores",{});h._defineProperty(this,"gestureTimeoutStores",
{});h._defineProperty(this,"handlers",{});h._defineProperty(this,"config",{});h._defineProperty(this,"pointerIds",new Set);h._defineProperty(this,"touchIds",new Set);h._defineProperty(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}});u.drag&&r(this,"drag");u.wheel&&r(this,"wheel");u.scroll&&r(this,"scroll");u.move&&r(this,"move");u.pinch&&r(this,"pinch");u.hover&&r(this,"hover")}setEventIds(u){if(h.isTouch(u))return this.touchIds=new Set(h.touchIds(u));if("pointerId"in u)return"pointerup"===
u.type||"pointercancel"===u.type?this.pointerIds.delete(u.pointerId):"pointerdown"===u.type&&this.pointerIds.add(u.pointerId),this.pointerIds}applyHandlers(u,C){this.handlers=u;this.nativeHandlers=C}applyConfig(u,C){this.config=J(u,C,this.config)}clean(){this._targetEventStore.clean();for(const u of this.gestures)this.gestureEventStores[u].clean(),this.gestureTimeoutStores[u].clean()}effect(){this.config.shared.target&&this.bind();return()=>this._targetEventStore.clean()}bind(...u){var C=this.config.shared;
const F={};let M;if(C.target&&(M=C.target(),!M))return;if(C.enabled){for(const T of this.gestures){const N=this.config[T],W=B(F,N.eventOptions,!!M);N.enabled&&(new (h.EngineMap.get(T))(this,u,T)).bind(W)}C=B(F,C.eventOptions,!!M);for(const T in this.nativeHandlers)C(T,"",N=>this.nativeHandlers[T](h._objectSpread2(h._objectSpread2({},this.state.shared),{},{event:N,args:u})),void 0,!0)}for(const T in F)F[T]=h.chain(...F[T]);if(!M)return F;for(const T in F){const {device:N,capture:W,passive:ka}=h.parseProp(T);
this._targetEventStore.add(M,N,"",F[T],{capture:W,passive:ka})}}}const B=(u,C,F)=>(M,T,N,W={},ka=!1)=>{var Y,H;const qa=null!==(Y=W.capture)&&void 0!==Y?Y:C.capture;W=null!==(H=W.passive)&&void 0!==H?H:C.passive;M=ka?M:h.toHandlerProp(M,T,qa);F&&W&&(M+="Passive");u[M]=u[M]||[];u[M].push(N)},t=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;I.Controller=p;I.parseMergedHandlers=function(u,C){const F={},M={},T=new Set;for(let Y in u)t.test(Y)?(T.add(RegExp.lastMatch),M[Y]=u[Y]):F[Y]=u[Y];const [N,W,ka]=[M,
F,T];u={};w(ka,N,"onDrag","drag",u,C);w(ka,N,"onWheel","wheel",u,C);w(ka,N,"onScroll","scroll",u,C);w(ka,N,"onPinch","pinch",u,C);w(ka,N,"onMove","move",u,C);w(ka,N,"onHover","hover",u,C);return{handlers:u,config:C,nativeHandlers:W}}};
shadow$provide[562]=function(ra,P,db,I){db.exports=P(560)};
shadow$provide[563]=function(ra,P,db,I){Object.defineProperty(I,"__esModule",{value:!0});ra=P(553);I.rubberbandIfOutOfBounds=ra.rubberbandIfOutOfBounds};
shadow$provide[565]=function(ra,P,db,I){db.exports=P(563)};
shadow$provide[566]=function(ra,P,db,I){};
shadow$provide[568]=function(ra,P,db,I){db.exports=P(566)};
shadow$provide[569]=function(ra,P,db,I){function A(z,k={},p,B){const t=x["default"].useMemo(()=>new w.Controller(z),[]);t.applyHandlers(z,B);t.applyConfig(k,p);x["default"].useEffect(t.effect.bind(t));x["default"].useEffect(()=>t.clean.bind(t),[]);if(void 0===k.target)return t.bind.bind(t)}function J(z){z.forEach(r.registerAction);return function(k,p){const {handlers:B,nativeHandlers:t,config:u}=w.parseMergedHandlers(k,p||{});return A(B,u,void 0,t)}}Object.defineProperty(I,"__esModule",{value:!0});
var r=P(559);ra=P(0);var w=P(562),h=P(565),m=P(568),x=ra&&ra.__esModule?ra:{"default":ra};I.createUseGesture=J;I.useDrag=function(z,k){r.registerAction(r.dragAction);return A({drag:z},k||{},"drag")};I.useGesture=function(z,k){return J([r.dragAction,r.pinchAction,r.scrollAction,r.wheelAction,r.moveAction,r.hoverAction])(z,k||{})};I.useHover=function(z,k){r.registerAction(r.hoverAction);return A({hover:z},k||{},"hover")};I.useMove=function(z,k){r.registerAction(r.moveAction);return A({move:z},k||{},
"move")};I.usePinch=function(z,k){r.registerAction(r.pinchAction);return A({pinch:z},k||{},"pinch")};I.useScroll=function(z,k){r.registerAction(r.scrollAction);return A({scroll:z},k||{},"scroll")};I.useWheel=function(z,k){r.registerAction(r.wheelAction);return A({wheel:z},k||{},"wheel")};Object.keys(r).forEach(function(z){"default"===z||I.hasOwnProperty(z)||Object.defineProperty(I,z,{enumerable:!0,get:function(){return r[z]}})});Object.keys(h).forEach(function(z){"default"===z||I.hasOwnProperty(z)||
Object.defineProperty(I,z,{enumerable:!0,get:function(){return h[z]}})});Object.keys(m).forEach(function(z){"default"===z||I.hasOwnProperty(z)||Object.defineProperty(I,z,{enumerable:!0,get:function(){return m[z]}})})};
shadow$provide[571]=function(ra,P,db,I){db.exports=P(569)};
shadow$provide[572]=function(ra,P,db,I){function A(x,z,{checkForDefaultPrevented:k=!0}={}){return function(p){x?.(p);if(!1===k||!p.defaultPrevented)return z?.(p)}}var J=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,m=(x,z,k,p)=>{if(z&&"object"===typeof z||"function"===typeof z)for(let B of w(z))h.call(x,B)||B===k||J(x,B,{get:()=>z[B],enumerable:!(p=r(z,B))||p.enumerable});return x};ra={};((x,z)=>{for(var k in z)J(x,k,{get:z[k],
enumerable:!0})})(ra,{composeEventHandlers:()=>A});db.exports=(x=>m(J({},"__esModule",{value:!0}),x))(ra)};
shadow$provide[573]=function(ra,P,db,I){function A(u,C){const F=B.createContext(C),M=T=>{const {children:N,...W}=T;T=B.useMemo(()=>W,Object.values(W));return(0,t.jsx)(F.Provider,{value:T,children:N})};M.displayName=u+"Provider";return[M,function(T){const N=B.useContext(F);if(N)return N;if(void 0!==C)return C;throw Error(`\`${T}\` must be used within \`${u}\``);}]}function J(u,C=[]){let F=[];const M=()=>{const T=F.map(N=>B.createContext(N));return function(N){const W=N?.[u]||T;return B.useMemo(()=>
({[`__scope${u}`]:{...N,[u]:W}}),[N,W])}};M.scopeName=u;return[function(T,N){const W=B.createContext(N),ka=F.length;F=[...F,N];const Y=H=>{const {scope:qa,children:Ca,...La}=H;H=qa?.[u]?.[ka]||W;const Oa=B.useMemo(()=>La,Object.values(La));return(0,t.jsx)(H.Provider,{value:Oa,children:Ca})};Y.displayName=T+"Provider";return[Y,function(H,qa){if(qa=B.useContext(qa?.[u]?.[ka]||W))return qa;if(void 0!==N)return N;throw Error(`\`${H}\` must be used within \`${T}\``);}]},r(M,...C)]}function r(...u){const C=
u[0];if(1===u.length)return C;const F=()=>{const M=u.map(T=>({useScope:T(),scopeName:T.scopeName}));return function(T){const N=M.reduce((W,{useScope:ka,scopeName:Y})=>{ka=ka(T)[`__scope${Y}`];return{...W,...ka}},{});return B.useMemo(()=>({[`__scope${C.scopeName}`]:N}),[N])}};F.scopeName=C.scopeName;return F}var w=Object.create,h=Object.defineProperty,m=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,z=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,p=(u,C,F,M)=>{if(C&&"object"===
typeof C||"function"===typeof C)for(let T of x(C))k.call(u,T)||T===F||h(u,T,{get:()=>C[T],enumerable:!(M=m(C,T))||M.enumerable});return u};ra={};((u,C)=>{for(var F in C)h(u,F,{get:C[F],enumerable:!0})})(ra,{createContext:()=>A,createContextScope:()=>J});db.exports=(u=>p(h({},"__esModule",{value:!0}),u))(ra);var B=((u,C,F)=>(F=null!=u?w(z(u)):{},p(!C&&u&&u.__esModule?F:h(F,"default",{value:u,enumerable:!0}),u)))(P(0)),t=P(544)};
shadow$provide[574]=function(ra,P,db,I){function A(p){const B=k.useRef(p);k.useEffect(()=>{B.current=p});return k.useMemo(()=>(...t)=>B.current?.(...t),[])}var J=Object.create,r=Object.defineProperty,w=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,m=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,z=(p,B,t,u)=>{if(B&&"object"===typeof B||"function"===typeof B)for(let C of h(B))x.call(p,C)||C===t||r(p,C,{get:()=>B[C],enumerable:!(u=w(B,C))||u.enumerable});return p};ra={};((p,
B)=>{for(var t in B)r(p,t,{get:B[t],enumerable:!0})})(ra,{useCallbackRef:()=>A});db.exports=(p=>z(r({},"__esModule",{value:!0}),p))(ra);var k=((p,B,t)=>(t=null!=p?J(m(p)):{},z(!B&&p&&p.__esModule?t:r(t,"default",{value:p,enumerable:!0}),p)))(P(0))};
shadow$provide[575]=function(ra,P,db,I){function A(B,t=globalThis?.document){const u=(0,p.useCallbackRef)(B);k.useEffect(()=>{const C=F=>{"Escape"===F.key&&u(F)};t.addEventListener("keydown",C,{capture:!0});return()=>t.removeEventListener("keydown",C,{capture:!0})},[u,t])}var J=Object.create,r=Object.defineProperty,w=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,m=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,z=(B,t,u,C)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let F of h(t))x.call(B,
F)||F===u||r(B,F,{get:()=>t[F],enumerable:!(C=w(t,F))||C.enumerable});return B};ra={};((B,t)=>{for(var u in t)r(B,u,{get:t[u],enumerable:!0})})(ra,{useEscapeKeydown:()=>A});db.exports=(B=>z(r({},"__esModule",{value:!0}),B))(ra);var k=((B,t,u)=>(u=null!=B?J(m(B)):{},z(!t&&B&&B.__esModule?u:r(u,"default",{value:B,enumerable:!0}),B)))(P(0)),p=P(574)};
shadow$provide[576]=function(ra,P,db,I){function A(La,Oa=globalThis?.document){const ea=(0,M.useCallbackRef)(La),kb=t.useRef(!1),zb=t.useRef(()=>{});t.useEffect(()=>{const Va=ja=>{if(ja.target&&!kb.current){let jb=function(){w("dismissableLayer.pointerDownOutside",ea,Ya,{discrete:!0})};const Ya={originalEvent:ja};"touch"===ja.pointerType?(Oa.removeEventListener("click",zb.current),zb.current=jb,Oa.addEventListener("click",zb.current,{once:!0})):jb()}else Oa.removeEventListener("click",zb.current);
kb.current=!1},Pa=window.setTimeout(()=>{Oa.addEventListener("pointerdown",Va)},0);return()=>{window.clearTimeout(Pa);Oa.removeEventListener("pointerdown",Va);Oa.removeEventListener("click",zb.current)}},[Oa,ea]);return{onPointerDownCapture:()=>kb.current=!0}}function J(La,Oa=globalThis?.document){const ea=(0,M.useCallbackRef)(La),kb=t.useRef(!1);t.useEffect(()=>{const zb=Va=>{Va.target&&!kb.current&&w("dismissableLayer.focusOutside",ea,{originalEvent:Va},{discrete:!1})};Oa.addEventListener("focusin",
zb);return()=>Oa.removeEventListener("focusin",zb)},[Oa,ea]);return{onFocusCapture:()=>kb.current=!0,onBlurCapture:()=>kb.current=!1}}function r(){const La=new CustomEvent("dismissableLayer.update");document.dispatchEvent(La)}function w(La,Oa,ea,{discrete:kb}){const zb=ea.originalEvent.target;ea=new CustomEvent(La,{bubbles:!1,cancelable:!0,detail:ea});Oa&&zb.addEventListener(La,Oa,{once:!0});kb?(0,C.dispatchDiscreteCustomEvent)(zb,ea):zb.dispatchEvent(ea)}"use client";var h=Object.create,m=Object.defineProperty,
x=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyNames,k=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,B=(La,Oa,ea,kb)=>{if(Oa&&"object"===typeof Oa||"function"===typeof Oa)for(let zb of z(Oa))p.call(La,zb)||zb===ea||m(La,zb,{get:()=>Oa[zb],enumerable:!(kb=x(Oa,zb))||kb.enumerable});return La};ra={};((La,Oa)=>{for(var ea in Oa)m(La,ea,{get:Oa[ea],enumerable:!0})})(ra,{Branch:()=>Ca,DismissableLayer:()=>Y,DismissableLayerBranch:()=>H,Root:()=>qa});db.exports=(La=>B(m({},"__esModule",
{value:!0}),La))(ra);var t=((La,Oa,ea)=>(ea=null!=La?h(k(La)):{},B(!Oa&&La&&La.__esModule?ea:m(ea,"default",{value:La,enumerable:!0}),La)))(P(0)),u=P(572),C=P(546),F=P(541),M=P(574),T=P(575),N=P(544),W,ka=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y=t.forwardRef((La,Oa)=>{const {disableOutsidePointerEvents:ea=!1,onEscapeKeyDown:kb,onPointerDownOutside:zb,onFocusOutside:Va,onInteractOutside:Pa,onDismiss:ja,...jb}=La,Ya=t.useContext(ka),[Ma,na]=
t.useState(null),ub=Ma?.ownerDocument??globalThis?.document,[,Bb]=t.useState({});Oa=(0,F.useComposedRefs)(Oa,Ea=>na(Ea));var ab=Array.from(Ya.layers),[Ab]=[...Ya.layersWithOutsidePointerEventsDisabled].slice(-1);Ab=ab.indexOf(Ab);const q=Ma?ab.indexOf(Ma):-1;ab=0<Ya.layersWithOutsidePointerEventsDisabled.size;const K=q>=Ab;Ab=A(Ea=>{const oa=Ea.target,za=[...Ya.branches].some(Ka=>Ka.contains(oa));K&&!za&&(zb?.(Ea),Pa?.(Ea),Ea.defaultPrevented||ja?.())},ub);const aa=J(Ea=>{const oa=Ea.target;[...Ya.branches].some(za=>
za.contains(oa))||(Va?.(Ea),Pa?.(Ea),Ea.defaultPrevented||ja?.())},ub);(0,T.useEscapeKeydown)(Ea=>{q===Ya.layers.size-1&&(kb?.(Ea),!Ea.defaultPrevented&&ja&&(Ea.preventDefault(),ja()))},ub);t.useEffect(()=>{if(Ma)return ea&&(0===Ya.layersWithOutsidePointerEventsDisabled.size&&(W=ub.body.style.pointerEvents,ub.body.style.pointerEvents="none"),Ya.layersWithOutsidePointerEventsDisabled.add(Ma)),Ya.layers.add(Ma),r(),()=>{ea&&1===Ya.layersWithOutsidePointerEventsDisabled.size&&(ub.body.style.pointerEvents=
W)}},[Ma,ub,ea,Ya]);t.useEffect(()=>()=>{Ma&&(Ya.layers.delete(Ma),Ya.layersWithOutsidePointerEventsDisabled.delete(Ma),r())},[Ma,Ya]);t.useEffect(()=>{const Ea=()=>Bb({});document.addEventListener("dismissableLayer.update",Ea);return()=>document.removeEventListener("dismissableLayer.update",Ea)},[]);return(0,N.jsx)(C.Primitive.div,{...jb,ref:Oa,style:{pointerEvents:ab?K?"auto":"none":void 0,...La.style},onFocusCapture:(0,u.composeEventHandlers)(La.onFocusCapture,aa.onFocusCapture),onBlurCapture:(0,u.composeEventHandlers)(La.onBlurCapture,
aa.onBlurCapture),onPointerDownCapture:(0,u.composeEventHandlers)(La.onPointerDownCapture,Ab.onPointerDownCapture)})});Y.displayName="DismissableLayer";var H=t.forwardRef((La,Oa)=>{const ea=t.useContext(ka),kb=t.useRef(null);Oa=(0,F.useComposedRefs)(Oa,kb);t.useEffect(()=>{const zb=kb.current;if(zb)return ea.branches.add(zb),()=>{ea.branches.delete(zb)}},[ea.branches]);return(0,N.jsx)(C.Primitive.div,{...La,ref:Oa})});H.displayName="DismissableLayerBranch";var qa=Y,Ca=H};
shadow$provide[577]=function(ra,P,db,I){function A(u){const [C,F]=k.useState(B());(0,p.useLayoutEffect)(()=>{u||F(M=>M??String(t++))},[u]);return u||(C?`radix-${C}`:"")}var J=Object.create,r=Object.defineProperty,w=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,m=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,z=(u,C,F,M)=>{if(C&&"object"===typeof C||"function"===typeof C)for(let T of h(C))x.call(u,T)||T===F||r(u,T,{get:()=>C[T],enumerable:!(M=w(C,T))||M.enumerable});return u};
ra={};((u,C)=>{for(var F in C)r(u,F,{get:C[F],enumerable:!0})})(ra,{useId:()=>A});db.exports=(u=>z(r({},"__esModule",{value:!0}),u))(ra);var k=((u,C,F)=>(F=null!=u?J(m(u)):{},z(!C&&u&&u.__esModule?F:r(F,"default",{value:u,enumerable:!0}),u)))(P(0)),p=P(547),B=k["useId".toString()]||(()=>{}),t=0};
shadow$provide[578]=function(ra,P,db,I){(function(A,J){"object"===typeof I&&"undefined"!==typeof db?J(I):"function"===typeof define&&define.amd?define(["exports"],J):(A="undefined"!==typeof globalThis?globalThis:A||self,J(A.FloatingUICore={}))})(this,function(A){function J(Pa,ja){return"function"===typeof Pa?Pa(ja):Pa}function r(Pa){return Pa.split("-")[0]}function w(Pa){return Pa.split("-")[1]}function h(Pa){return"x"===Pa?"y":"x"}function m(Pa){return"y"===Pa?"height":"width"}function x(Pa){return["top",
"bottom"].includes(r(Pa))?"y":"x"}function z(Pa,ja,jb){void 0===jb&&(jb=!1);const Ya=w(Pa),Ma=h(x(Pa));Pa=m(Ma);jb="x"===Ma?Ya===(jb?"end":"start")?"right":"left":"start"===Ya?"bottom":"top";ja.reference[Pa]>ja.floating[Pa]&&(jb=u(jb));return[jb,u(jb)]}function k(Pa){const ja=u(Pa);return[p(Pa),ja,p(ja)]}function p(Pa){return Pa.replace(/start|end/g,ja=>Va[ja])}function B(Pa,ja,jb){const Ya=["left","right"],Ma=["right","left"],na=["top","bottom"],ub=["bottom","top"];switch(Pa){case "top":case "bottom":return jb?
ja?Ma:Ya:ja?Ya:Ma;case "left":case "right":return ja?na:ub;default:return[]}}function t(Pa,ja,jb,Ya){const Ma=w(Pa);Pa=B(r(Pa),"start"===jb,Ya);Ma&&(Pa=Pa.map(na=>na+"-"+Ma),ja&&(Pa=Pa.concat(Pa.map(p))));return Pa}function u(Pa){return Pa.replace(/left|right|bottom|top/g,ja=>zb[ja])}function C(Pa){return"number"!==typeof Pa?{top:0,right:0,bottom:0,left:0,...Pa}:{top:Pa,right:Pa,bottom:Pa,left:Pa}}function F(Pa){const {x:ja,y:jb,width:Ya,height:Ma}=Pa;return{width:Ya,height:Ma,top:jb,left:ja,right:ja+
Ya,bottom:jb+Ma,x:ja,y:jb}}function M(Pa,ja,jb){let {reference:Ya,floating:Ma}=Pa;var na=x(ja);Pa=h(x(ja));var ub=m(Pa),Bb=r(ja);na="y"===na;const ab=Ya.x+Ya.width/2-Ma.width/2,Ab=Ya.y+Ya.height/2-Ma.height/2;ub=Ya[ub]/2-Ma[ub]/2;switch(Bb){case "top":Bb={x:ab,y:Ya.y-Ma.height};break;case "bottom":Bb={x:ab,y:Ya.y+Ya.height};break;case "right":Bb={x:Ya.x+Ya.width,y:Ab};break;case "left":Bb={x:Ya.x-Ma.width,y:Ab};break;default:Bb={x:Ya.x,y:Ya.y}}switch(w(ja)){case "start":Bb[Pa]-=ub*(jb&&na?-1:1);break;
case "end":Bb[Pa]+=ub*(jb&&na?-1:1)}return Bb}async function T(Pa,ja){var jb;void 0===ja&&(ja={});const {x:Ya,y:Ma,platform:na,rects:ub,elements:Bb,strategy:ab}=Pa,{boundary:Ab="clippingAncestors",rootBoundary:q="viewport",elementContext:K="floating",altBoundary:aa=!1,padding:Ea=0}=J(ja,Pa);Pa=C(Ea);var oa=Bb[aa?"floating"===K?"reference":"floating":K];ja=F(await na.getClippingRect({element:(null!=(jb=await (null==na.isElement?void 0:na.isElement(oa)))?jb:1)?oa:oa.contextElement||await (null==na.getDocumentElement?
void 0:na.getDocumentElement(Bb.floating)),boundary:Ab,rootBoundary:q,strategy:ab}));oa="floating"===K?{x:Ya,y:Ma,width:ub.floating.width,height:ub.floating.height}:ub.reference;const za=await (null==na.getOffsetParent?void 0:na.getOffsetParent(Bb.floating));jb=await (null==na.isElement?void 0:na.isElement(za))?await (null==na.getScale?void 0:na.getScale(za))||{x:1,y:1}:{x:1,y:1};oa=F(na.convertOffsetParentRelativeRectToViewportRelativeRect?await na.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Bb,
rect:oa,offsetParent:za,strategy:ab}):oa);return{top:(ja.top-oa.top+Pa.top)/jb.y,bottom:(oa.bottom-ja.bottom+Pa.bottom)/jb.y,left:(ja.left-oa.left+Pa.left)/jb.x,right:(oa.right-ja.right+Pa.right)/jb.x}}function N(Pa,ja,jb){return(Pa?[...jb.filter(Ya=>w(Ya)===Pa),...jb.filter(Ya=>w(Ya)!==Pa)]:jb.filter(Ya=>r(Ya)===Ya)).filter(Ya=>Pa?w(Ya)===Pa||(ja?p(Ya)!==Ya:!1):!0)}function W(Pa,ja){return{top:Pa.top-ja.height,right:Pa.right-ja.width,bottom:Pa.bottom-ja.height,left:Pa.left-ja.width}}function ka(Pa){return Ca.some(ja=>
0<=Pa[ja])}function Y(Pa){const ja=ea(...Pa.map(Ma=>Ma.left)),jb=ea(...Pa.map(Ma=>Ma.top)),Ya=kb(...Pa.map(Ma=>Ma.right));Pa=kb(...Pa.map(Ma=>Ma.bottom));return{x:ja,y:jb,width:Ya-ja,height:Pa-jb}}function H(Pa){Pa=Pa.slice().sort((Ya,Ma)=>Ya.y-Ma.y);const ja=[];let jb=null;for(let Ya=0;Ya<Pa.length;Ya++){const Ma=Pa[Ya];!jb||Ma.y-jb.y>jb.height/2?ja.push([Ma]):ja[ja.length-1].push(Ma);jb=Ma}return ja.map(Ya=>F(Y(Ya)))}async function qa(Pa,ja){const {placement:jb,platform:Ya,elements:Ma}=Pa;var na=
await (null==Ya.isRTL?void 0:Ya.isRTL(Ma.floating)),ub=r(jb);const Bb=w(jb),ab="y"===x(jb);ub=["left","top"].includes(ub)?-1:1;na=na&&ab?-1:1;Pa=J(ja,Pa);let {mainAxis:Ab,crossAxis:q,alignmentAxis:K}="number"===typeof Pa?{mainAxis:Pa,crossAxis:0,alignmentAxis:null}:{mainAxis:Pa.mainAxis||0,crossAxis:Pa.crossAxis||0,alignmentAxis:Pa.alignmentAxis};Bb&&"number"===typeof K&&(q="end"===Bb?-1*K:K);return ab?{x:q*na,y:Ab*ub}:{x:Ab*ub,y:q*na}}const Ca=["top","right","bottom","left"],La=["start","end"],Oa=
Ca.reduce((Pa,ja)=>Pa.concat(ja,ja+"-"+La[0],ja+"-"+La[1]),[]),ea=Math.min,kb=Math.max,zb={left:"right",right:"left",bottom:"top",top:"bottom"},Va={start:"end",end:"start"};A.arrow=Pa=>({name:"arrow",options:Pa,async fn(ja){const {x:jb,y:Ya,placement:Ma,rects:na,platform:ub,elements:Bb,middlewareData:ab}=ja,{element:Ab,padding:q=0}=J(Pa,ja)||{};if(null==Ab)return{};var K=C(q);ja={x:jb,y:Ya};const aa=h(x(Ma));var Ea=m(aa),oa=await ub.getDimensions(Ab),za="y"===aa,Ka=za?"top":"left",fb=za?"bottom":
"right",fa=za?"clientHeight":"clientWidth",X=na.reference[Ea]+na.reference[aa]-ja[aa]-na.floating[Ea];const Da=ja[aa]-na.reference[aa],Aa=await (null==ub.getOffsetParent?void 0:ub.getOffsetParent(Ab));(za=Aa?Aa[fa]:0)&&await (null==ub.isElement?void 0:ub.isElement(Aa))||(za=Bb.floating[fa]||na.floating[Ea]);fa=X/2-Da/2;X=za/2-oa[Ea]/2-1;Ka=ea(K[Ka],X);fb=ea(K[fb],X);K=za-oa[Ea]-fb;za=za/2-oa[Ea]/2+fa;fa=kb(Ka,ea(za,K));oa=(Ea=!ab.arrow&&null!=w(Ma)&&za!==fa&&0>na.reference[Ea]/2-(za<Ka?Ka:fb)-oa[Ea]/
2)?za<Ka?za-Ka:za-K:0;return{[aa]:ja[aa]+oa,data:{[aa]:fa,centerOffset:za-fa-oa,...(Ea&&{alignmentOffset:oa})},reset:Ea}}});A.autoPlacement=function(Pa){void 0===Pa&&(Pa={});return{name:"autoPlacement",options:Pa,async fn(ja){var jb,Ya,Ma;const {rects:na,middlewareData:ub,placement:Bb,platform:ab,elements:Ab}=ja,{crossAxis:q=!1,alignment:K,allowedPlacements:aa=Oa,autoAlignment:Ea=!0,...oa}=J(Pa,ja);var za=void 0!==K||aa===Oa?N(K||null,Ea,aa):aa,Ka=await T(ja,oa);ja=(null==(jb=ub.autoPlacement)?void 0:
jb.index)||0;jb=za[ja];if(null==jb)return{};var fb=z(jb,na,await (null==ab.isRTL?void 0:ab.isRTL(Ab.floating)));if(Bb!==jb)return{reset:{placement:za[0]}};fb=[Ka[r(jb)],Ka[fb[0]],Ka[fb[1]]];Ka=[...((null==(Ya=ub.autoPlacement)?void 0:Ya.overflows)||[]),{placement:jb,overflows:fb}];if(Ya=za[ja+1])return{data:{index:ja+1,overflows:Ka},reset:{placement:Ya}};Ya=Ka.map(fa=>{const X=w(fa.placement);return[fa.placement,X&&q?fa.overflows.slice(0,2).reduce((Da,Aa)=>Da+Aa,0):fa.overflows[0],fa.overflows]}).sort((fa,
X)=>fa[1]-X[1]);za=(null==(Ma=Ya.filter(fa=>fa[2].slice(0,w(fa[0])?2:3).every(X=>0>=X))[0])?void 0:Ma[0])||Ya[0][0];return za!==Bb?{data:{index:ja+1,overflows:Ka},reset:{placement:za}}:{}}}};A.computePosition=async(Pa,ja,jb)=>{const {placement:Ya="bottom",strategy:Ma="absolute",middleware:na=[],platform:ub}=jb;jb=na.filter(Boolean);const Bb=await (null==ub.isRTL?void 0:ub.isRTL(ja));let ab=await ub.getElementRects({reference:Pa,floating:ja,strategy:Ma}),{x:Ab,y:q}=M(ab,Ya,Bb),K=Ya,aa={},Ea=0;for(let oa=
0;oa<jb.length;oa++){const {name:za,fn:Ka}=jb[oa],{x:fb,y:fa,data:X,reset:Da}=await Ka({x:Ab,y:q,initialPlacement:Ya,placement:K,strategy:Ma,middlewareData:aa,rects:ab,platform:ub,elements:{reference:Pa,floating:ja}});Ab=null!=fb?fb:Ab;q=null!=fa?fa:q;aa={...aa,[za]:{...aa[za],...X}};Da&&50>=Ea&&(Ea++,"object"===typeof Da&&(Da.placement&&(K=Da.placement),Da.rects&&(ab=!0===Da.rects?await ub.getElementRects({reference:Pa,floating:ja,strategy:Ma}):Da.rects),{x:Ab,y:q}=M(ab,K,Bb)),oa=-1)}return{x:Ab,
y:q,placement:K,strategy:Ma,middlewareData:aa}};A.detectOverflow=T;A.flip=function(Pa){void 0===Pa&&(Pa={});return{name:"flip",options:Pa,async fn(ja){var jb,Ya;const {placement:Ma,middlewareData:na,rects:ub,initialPlacement:Bb,platform:ab,elements:Ab}=ja,{mainAxis:q=!0,crossAxis:K=!0,fallbackPlacements:aa,fallbackStrategy:Ea="bestFit",fallbackAxisSideDirection:oa="none",flipAlignment:za=!0,...Ka}=J(Pa,ja);if(null!=(jb=na.arrow)&&jb.alignmentOffset)return{};jb=r(Ma);const fb=x(Bb);var fa=r(Bb)===
Bb;const X=await (null==ab.isRTL?void 0:ab.isRTL(Ab.floating));fa=aa||(fa||!za?[u(Bb)]:k(Bb));const Da="none"!==oa;!aa&&Da&&fa.push(...t(Bb,za,oa,X));fa=[Bb,...fa];const Aa=await T(ja,Ka),bb=[];ja=(null==(Ya=na.flip)?void 0:Ya.overflows)||[];q&&bb.push(Aa[jb]);K&&(Ya=z(Ma,ub,X),bb.push(Aa[Ya[0]],Aa[Ya[1]]));ja=[...ja,{placement:Ma,overflows:bb}];if(!bb.every(Jb=>0>=Jb)){var wa,gb;Ya=((null==(wa=na.flip)?void 0:wa.index)||0)+1;if(wa=fa[Ya])return{data:{index:Ya,overflows:ja},reset:{placement:wa}};
wa=null==(gb=ja.filter(Jb=>0>=Jb.overflows[0]).sort((Jb,Ob)=>Jb.overflows[1]-Ob.overflows[1])[0])?void 0:gb.placement;if(!wa)switch(Ea){case "bestFit":var ob;(gb=null==(ob=ja.filter(Jb=>Da?(Jb=x(Jb.placement),Jb===fb||"y"===Jb):!0).map(Jb=>[Jb.placement,Jb.overflows.filter(Ob=>0<Ob).reduce((Ob,jc)=>Ob+jc,0)]).sort((Jb,Ob)=>Jb[1]-Ob[1])[0])?void 0:ob[0])&&(wa=gb);break;case "initialPlacement":wa=Bb}if(Ma!==wa)return{reset:{placement:wa}}}return{}}}};A.hide=function(Pa){void 0===Pa&&(Pa={});return{name:"hide",
options:Pa,async fn(ja){var {rects:jb}=ja;const {strategy:Ya="referenceHidden",...Ma}=J(Pa,ja);switch(Ya){case "referenceHidden":return ja=await T(ja,{...Ma,elementContext:"reference"}),jb=W(ja,jb.reference),{data:{referenceHiddenOffsets:jb,referenceHidden:ka(jb)}};case "escaped":return ja=await T(ja,{...Ma,altBoundary:!0}),jb=W(ja,jb.floating),{data:{escapedOffsets:jb,escaped:ka(jb)}};default:return{}}}}};A.inline=function(Pa){void 0===Pa&&(Pa={});return{name:"inline",options:Pa,async fn(ja){const {placement:jb,
elements:Ya,rects:Ma,platform:na,strategy:ub}=ja,{padding:Bb=2,x:ab,y:Ab}=J(Pa,ja);ja=Array.from(await (null==na.getClientRects?void 0:na.getClientRects(Ya.reference))||[]);const q=H(ja),K=F(Y(ja)),aa=C(Bb);ja=await na.getElementRects({reference:{getBoundingClientRect:function(){if(2===q.length&&q[0].left>q[1].right&&null!=ab&&null!=Ab)return q.find(Ka=>ab>Ka.left-aa.left&&ab<Ka.right+aa.right&&Ab>Ka.top-aa.top&&Ab<Ka.bottom+aa.bottom)||K;if(2<=q.length){if("y"===x(jb)){var Ea=q[0];const X=q[q.length-
1],Da="top"===r(jb);var oa=Ea.top,za=X.bottom;const Aa=Da?Ea.left:X.left;Ea=Da?Ea.right:X.right;return{top:oa,bottom:za,left:Aa,right:Ea,width:Ea-Aa,height:za-oa,x:Aa,y:oa}}const Ka="left"===r(jb),fb=kb(...q.map(X=>X.right)),fa=ea(...q.map(X=>X.left));za=q.filter(X=>Ka?X.left===fa:X.right===fb);oa=za[0].top;za=za[za.length-1].bottom;return{top:oa,bottom:za,left:fa,right:fb,width:fb-fa,height:za-oa,x:fa,y:oa}}return K}},floating:Ya.floating,strategy:ub});return Ma.reference.x!==ja.reference.x||Ma.reference.y!==
ja.reference.y||Ma.reference.width!==ja.reference.width||Ma.reference.height!==ja.reference.height?{reset:{rects:ja}}:{}}}};A.limitShift=function(Pa){void 0===Pa&&(Pa={});return{options:Pa,fn(ja){const {x:jb,y:Ya,placement:Ma,rects:na,middlewareData:ub}=ja,{offset:Bb=0,mainAxis:ab=!0,crossAxis:Ab=!0}=J(Pa,ja);var q={x:jb,y:Ya};const K=x(Ma),aa=h(K);let Ea=q[aa];q=q[K];ja=J(Bb,ja);ja="number"===typeof ja?{mainAxis:ja,crossAxis:0}:{mainAxis:0,crossAxis:0,...ja};if(ab){var oa="y"===aa?"height":"width",
za=na.reference[aa]-na.floating[oa]+ja.mainAxis;oa=na.reference[aa]+na.reference[oa]-ja.mainAxis;Ea<za?Ea=za:Ea>oa&&(Ea=oa)}if(Ab){var Ka,fb;const fa="y"===aa?"width":"height";za=["top","left"].includes(r(Ma));oa=na.reference[K]-na.floating[fa]+(za?(null==(Ka=ub.offset)?void 0:Ka[K])||0:0)+(za?0:ja.crossAxis);Ka=na.reference[K]+na.reference[fa]+(za?0:(null==(fb=ub.offset)?void 0:fb[K])||0)-(za?ja.crossAxis:0);q<oa?q=oa:q>Ka&&(q=Ka)}return{[aa]:Ea,[K]:q}}}};A.offset=function(Pa){void 0===Pa&&(Pa=0);
return{name:"offset",options:Pa,async fn(ja){var jb,Ya;const {x:Ma,y:na,placement:ub,middlewareData:Bb}=ja;ja=await qa(ja,Pa);return ub===(null==(jb=Bb.offset)?void 0:jb.placement)&&null!=(Ya=Bb.arrow)&&Ya.alignmentOffset?{}:{x:Ma+ja.x,y:na+ja.y,data:{...ja,placement:ub}}}}};A.rectToClientRect=F;A.shift=function(Pa){void 0===Pa&&(Pa={});return{name:"shift",options:Pa,async fn(ja){const {x:jb,y:Ya,placement:Ma}=ja,{mainAxis:na=!0,crossAxis:ub=!1,limiter:Bb={fn:oa=>{let {x:za,y:Ka}=oa;return{x:za,y:Ka}}},
...ab}=J(Pa,ja);var Ab={x:jb,y:Ya};const q=await T(ja,ab),K=x(r(Ma)),aa=h(K);let Ea=Ab[aa];Ab=Ab[K];na&&(Ea=kb(Ea+q["y"===aa?"top":"left"],ea(Ea,Ea-q["y"===aa?"bottom":"right"])));ub&&(Ab=kb(Ab+q["y"===K?"top":"left"],ea(Ab,Ab-q["y"===K?"bottom":"right"])));ja=Bb.fn({...ja,[aa]:Ea,[K]:Ab});return{...ja,data:{x:ja.x-jb,y:ja.y-Ya,enabled:{[aa]:na,[K]:ub}}}}}};A.size=function(Pa){void 0===Pa&&(Pa={});return{name:"size",options:Pa,async fn(ja){var jb,Ya;const {placement:Ma,rects:na,platform:ub,elements:Bb}=
ja,{apply:ab=()=>{},...Ab}=J(Pa,ja),q=await T(ja,Ab);var K=r(Ma),aa=w(Ma);const Ea="y"===x(Ma),{width:oa,height:za}=na.floating;if("top"===K||"bottom"===K)var Ka=aa===(await (null==ub.isRTL?void 0:ub.isRTL(Bb.floating))?"start":"end")?"left":"right";else Ka=K,K="end"===aa?"top":"bottom";var fb=za-q.top-q.bottom;const fa=oa-q.left-q.right;K=ea(za-q[K],fb);Ka=ea(oa-q[Ka],fa);const X=!ja.middlewareData.shift;null!=(jb=ja.middlewareData.shift)&&jb.enabled.x&&(Ka=fa);null!=(Ya=ja.middlewareData.shift)&&
Ya.enabled.y&&(K=fb);X&&!aa&&(jb=kb(q.left,0),Ya=kb(q.right,0),aa=kb(q.top,0),fb=kb(q.bottom,0),Ea?Ka=oa-2*(0!==jb||0!==Ya?jb+Ya:kb(q.left,q.right)):K=za-2*(0!==aa||0!==fb?aa+fb:kb(q.top,q.bottom)));await ab({...ja,availableWidth:Ka,availableHeight:K});ja=await ub.getDimensions(Bb.floating);return oa!==ja.width||za!==ja.height?{reset:{rects:!0}}:{}}}}})};
shadow$provide[579]=function(ra,P,db,I){(function(A,J){"object"===typeof I&&"undefined"!==typeof db?J(I,P(578)):"function"===typeof define&&define.amd?define(["exports","@floating-ui/core"],J):(A="undefined"!==typeof globalThis?globalThis:A||self,J(A.FloatingUIDOM={},A.FloatingUICore))})(this,function(A,J){function r(){return"undefined"!==typeof window}function w(fa){return x(fa)?(fa.nodeName||"").toLowerCase():"#document"}function h(fa){var X;return(null==fa||null==(X=fa.ownerDocument)?void 0:X.defaultView)||
window}function m(fa){var X;return null==(X=(x(fa)?fa.ownerDocument:fa.document)||window.document)?void 0:X.documentElement}function x(fa){return r()?fa instanceof Node||fa instanceof h(fa).Node:!1}function z(fa){return r()?fa instanceof Element||fa instanceof h(fa).Element:!1}function k(fa){return r()?fa instanceof HTMLElement||fa instanceof h(fa).HTMLElement:!1}function p(fa){return r()&&"undefined"!==typeof ShadowRoot?fa instanceof ShadowRoot||fa instanceof h(fa).ShadowRoot:!1}function B(fa){const {overflow:X,
overflowX:Da,overflowY:Aa,display:bb}=M(fa);return/auto|scroll|overlay|hidden|clip/.test(X+Aa+Da)&&!["inline","contents"].includes(bb)}function t(fa){return[":popover-open",":modal"].some(X=>{try{return fa.matches(X)}catch(Da){return!1}})}function u(fa){const X=C(),Da=z(fa)?M(fa):fa;return"none"!==Da.transform||"none"!==Da.perspective||(Da.containerType?"normal"!==Da.containerType:!1)||!X&&(Da.backdropFilter?"none"!==Da.backdropFilter:!1)||!X&&(Da.filter?"none"!==Da.filter:!1)||["transform","perspective",
"filter"].some(Aa=>(Da.willChange||"").includes(Aa))||["paint","layout","strict","content"].some(Aa=>(Da.contain||"").includes(Aa))}function C(){return"undefined"!==typeof CSS&&CSS.supports?CSS.supports("-webkit-backdrop-filter","none"):!1}function F(fa){return["html","body","#document"].includes(w(fa))}function M(fa){return h(fa).getComputedStyle(fa)}function T(fa){return z(fa)?{scrollLeft:fa.scrollLeft,scrollTop:fa.scrollTop}:{scrollLeft:fa.scrollX,scrollTop:fa.scrollY}}function N(fa){if("html"===
w(fa))return fa;fa=fa.assignedSlot||fa.parentNode||p(fa)&&fa.host||m(fa);return p(fa)?fa.host:fa}function W(fa){const X=N(fa);return F(X)?fa.ownerDocument?fa.ownerDocument.body:fa.body:k(X)&&B(X)?X:W(X)}function ka(fa,X,Da){var Aa;void 0===X&&(X=[]);void 0===Da&&(Da=!0);const bb=W(fa);fa=bb===(null==(Aa=fa.ownerDocument)?void 0:Aa.body);Aa=h(bb);return fa?(fa=Y(Aa),X.concat(Aa,Aa.visualViewport||[],B(bb)?bb:[],fa&&Da?ka(fa):[])):X.concat(bb,ka(bb,[],Da))}function Y(fa){return fa.parent&&Object.getPrototypeOf(fa.parent)?
fa.frameElement:null}function H(fa){var X=M(fa);let Da=parseFloat(X.width)||0;X=parseFloat(X.height)||0;var Aa=k(fa);const bb=Aa?fa.offsetWidth:Da;fa=Aa?fa.offsetHeight:X;if(Aa=na(Da)!==bb||na(X)!==fa)Da=bb,X=fa;return{width:Da,height:X,$:Aa}}function qa(fa){return z(fa)?fa:fa.contextElement}function Ca(fa){var X=qa(fa);if(!k(X))return{x:1,y:1};fa=X.getBoundingClientRect();const {width:Da,height:Aa,$:bb}=H(X);X=(bb?na(fa.width):fa.width)/Da;fa=(bb?na(fa.height):fa.height)/Aa;X&&Number.isFinite(X)||
(X=1);fa&&Number.isFinite(fa)||(fa=1);return{x:X,y:fa}}function La(fa){fa=h(fa);return C()&&fa.visualViewport?{x:fa.visualViewport.offsetLeft,y:fa.visualViewport.offsetTop}:Bb}function Oa(fa,X,Da,Aa){void 0===X&&(X=!1);void 0===Da&&(Da=!1);var bb=fa.getBoundingClientRect(),wa=qa(fa),gb={x:1,y:1};X&&(Aa?z(Aa)&&(gb=Ca(Aa)):gb=Ca(fa));fa=Da;void 0===fa&&(fa=!1);fa=!Aa||fa&&Aa!==h(wa)?!1:fa;X=fa?La(wa):{x:0,y:0};fa=(bb.left+X.x)/gb.x;X=(bb.top+X.y)/gb.y;Da=bb.width/gb.x;bb=bb.height/gb.y;if(wa){gb=h(wa);
wa=Aa&&z(Aa)?h(Aa):Aa;var ob=gb;for(gb=Y(ob);gb&&Aa&&wa!==ob;){ob=Ca(gb);var Jb=gb.getBoundingClientRect();const Ob=M(gb),jc=Jb.left+(gb.clientLeft+parseFloat(Ob.paddingLeft))*ob.x;Jb=Jb.top+(gb.clientTop+parseFloat(Ob.paddingTop))*ob.y;fa*=ob.x;X*=ob.y;Da*=ob.x;bb*=ob.y;fa+=jc;X+=Jb;ob=h(gb);gb=Y(ob)}}return J.rectToClientRect({width:Da,height:bb,x:fa,y:X})}function ea(fa,X){const Da=T(fa).scrollLeft;return X?X.left+Da:Oa(m(fa)).left+Da}function kb(fa,X,Da){if("viewport"===X){X=h(fa);var Aa=m(fa);
X=X.visualViewport;fa=Aa.clientWidth;Aa=Aa.clientHeight;var bb=0,wa=0;if(X){fa=X.width;Aa=X.height;const gb=C();if(!gb||gb&&"fixed"===Da)bb=X.offsetLeft,wa=X.offsetTop}Da={width:fa,height:Aa,x:bb,y:wa}}else"document"===X?(wa=m(fa),Da=m(wa),bb=T(wa),X=wa.ownerDocument.body,fa=Ma(Da.scrollWidth,Da.clientWidth,X.scrollWidth,X.clientWidth),Aa=Ma(Da.scrollHeight,Da.clientHeight,X.scrollHeight,X.clientHeight),wa=-bb.scrollLeft+ea(wa),bb=-bb.scrollTop,"rtl"===M(X).direction&&(wa+=Ma(Da.clientWidth,X.clientWidth)-
fa),Da={width:fa,height:Aa,x:wa,y:bb}):z(X)?(fa=Oa(X,!0,"fixed"===Da),Da=fa.top+X.clientTop,fa=fa.left+X.clientLeft,Aa=k(X)?Ca(X):{x:1,y:1},Da={width:X.clientWidth*Aa.x,height:X.clientHeight*Aa.y,x:fa*Aa.x,y:Da*Aa.y}):(Da=La(fa),Da={...X,x:X.x-Da.x,y:X.y-Da.y});return J.rectToClientRect(Da)}function zb(fa,X){fa=N(fa);return fa===X||!z(fa)||F(fa)?!1:"fixed"===M(fa).position||zb(fa,X)}function Va(fa,X){var Da=X.get(fa);if(Da)return Da;Da=ka(fa,[],!1).filter(gb=>z(gb)&&"body"!==w(gb));let Aa=null;const bb=
"fixed"===M(fa).position;let wa=bb?N(fa):fa;for(;z(wa)&&!F(wa);){const gb=M(wa),ob=u(wa);ob||"fixed"!==gb.position||(Aa=null);(bb?!ob&&!Aa:!ob&&"static"===gb.position&&Aa&&["absolute","fixed"].includes(Aa.position)||B(wa)&&!ob&&zb(fa,wa))?Da=Da.filter(Jb=>Jb!==wa):Aa=gb;wa=N(wa)}X.set(fa,Da);return Da}function Pa(fa,X){if(!k(fa)||"fixed"===M(fa).position)return null;if(X)return X(fa);X=fa.offsetParent;m(fa)===X&&(X=X.ownerDocument.body);return X}function ja(fa,X){const Da=h(fa);if(t(fa))return Da;
if(!k(fa)){for(fa=N(fa);fa&&!F(fa);){if(z(fa)&&"static"!==M(fa).position)return fa;fa=N(fa)}return Da}let Aa=Pa(fa,X);for(;Aa&&["table","td","th"].includes(w(Aa))&&"static"===M(Aa).position;)Aa=Pa(Aa,X);if(Aa&&F(Aa)&&"static"===M(Aa).position&&!u(Aa))return Da;if(!(X=Aa))a:{for(fa=N(fa);k(fa)&&!F(fa);){if(u(fa)){X=fa;break a}else if(t(fa)){X=null;break a}fa=N(fa)}X=null}return X||Da}function jb(fa,X){function Da(){var ob;clearTimeout(wa);null==(ob=bb)||ob.disconnect();bb=null}function Aa(ob,Jb){function Ob(Qc){Qc=
Qc[0].intersectionRatio;if(Qc!==Jb){if(!Uc)return Aa();Qc?Aa(!1,Qc):wa=setTimeout(()=>{Aa(!1,1E-7)},1E3)}Uc=!1}void 0===ob&&(ob=!1);void 0===Jb&&(Jb=1);Da();const {left:jc,top:tc,width:lc,height:mc}=fa.getBoundingClientRect();ob||X();if(lc&&mc){ob=ub(tc);var uc=ub(gb.clientWidth-(jc+lc)),wc=ub(gb.clientHeight-(tc+mc)),Nc=ub(jc);ob={rootMargin:-ob+"px "+-uc+"px "+-wc+"px "+-Nc+"px",threshold:Ma(0,Ya(1,Jb))||1};var Uc=!0;try{bb=new IntersectionObserver(Ob,{...ob,root:gb.ownerDocument})}catch(Qc){bb=
new IntersectionObserver(Ob,ob)}bb.observe(fa)}}let bb=null,wa;const gb=m(fa);Aa(!0);return Da}const Ya=Math.min,Ma=Math.max,na=Math.round,ub=Math.floor,Bb={x:0,y:0},ab={convertOffsetParentRelativeRectToViewportRelativeRect:function(fa){let {elements:X,rect:Da,offsetParent:Aa,strategy:bb}=fa;fa="fixed"===bb;const wa=m(Aa);var gb=X?t(X.floating):!1;if(Aa===wa||gb&&fa)return Da;gb={scrollLeft:0,scrollTop:0};let ob={x:1,y:1};var Jb=0,Ob=0;const jc=k(Aa);if(jc||!jc&&!fa){if("body"!==w(Aa)||B(wa))gb=T(Aa);
k(Aa)&&(fa=Oa(Aa),ob=Ca(Aa),Jb=fa.x+Aa.clientLeft,Ob=fa.y+Aa.clientTop)}return{width:Da.width*ob.x,height:Da.height*ob.y,x:Da.x*ob.x-gb.scrollLeft*ob.x+Jb,y:Da.y*ob.y-gb.scrollTop*ob.y+Ob}},getDocumentElement:m,getClippingRect:function(fa){let {element:X,boundary:Da,rootBoundary:Aa,strategy:bb}=fa;fa=[...("clippingAncestors"===Da?t(X)?[]:Va(X,this._c):[].concat(Da)),Aa];fa=fa.reduce((wa,gb)=>{gb=kb(X,gb,bb);wa.top=Ma(gb.top,wa.top);wa.right=Ya(gb.right,wa.right);wa.bottom=Ya(gb.bottom,wa.bottom);
wa.left=Ma(gb.left,wa.left);return wa},kb(X,fa[0],bb));return{width:fa.right-fa.left,height:fa.bottom-fa.top,x:fa.left,y:fa.top}},getOffsetParent:ja,getElementRects:async function(fa){var X=this.getOffsetParent||ja,Da=this.getDimensions;Da=await Da(fa.floating);var Aa=fa.reference,bb=await X(fa.floating),wa=fa.strategy;X=k(bb);fa=m(bb);wa="fixed"===wa;Aa=Oa(Aa,!0,wa,bb);let gb={scrollLeft:0,scrollTop:0};var ob=0,Jb=0;if(X||!X&&!wa){if("body"!==w(bb)||B(fa))gb=T(bb);X?(Jb=Oa(bb,!0,wa,bb),ob=Jb.x+bb.clientLeft,
Jb=Jb.y+bb.clientTop):fa&&(ob=ea(fa))}let Ob=0;bb=0;!fa||X||wa||(X=fa.getBoundingClientRect(),bb=X.top+gb.scrollTop,Ob=X.left+gb.scrollLeft-ea(fa,X));return{reference:{x:Aa.left+gb.scrollLeft-ob-Ob,y:Aa.top+gb.scrollTop-Jb-bb,width:Aa.width,height:Aa.height},floating:{x:0,y:0,width:Da.width,height:Da.height}}},getClientRects:function(fa){return Array.from(fa.getClientRects())},getDimensions:function(fa){const {width:X,height:Da}=H(fa);return{width:X,height:Da}},getScale:Ca,isElement:z,isRTL:function(fa){return"rtl"===
M(fa).direction}},Ab=J.detectOverflow,q=J.offset,K=J.autoPlacement,aa=J.shift,Ea=J.flip,oa=J.size,za=J.hide,Ka=J.inline,fb=J.limitShift;A.arrow=J.arrow;A.autoPlacement=K;A.autoUpdate=function(fa,X,Da,Aa){function bb(){const Uc=Oa(fa);!Nc||Uc.x===Nc.x&&Uc.y===Nc.y&&Uc.width===Nc.width&&Uc.height===Nc.height||Da();Nc=Uc;wc=requestAnimationFrame(bb)}void 0===Aa&&(Aa={});const {ancestorScroll:wa=!0,ancestorResize:gb=!0,elementResize:ob="function"===typeof ResizeObserver,layoutShift:Jb="function"===typeof IntersectionObserver,
animationFrame:Ob=!1}=Aa,jc=qa(fa),tc=wa||gb?[...(jc?ka(jc):[]),...ka(X)]:[];tc.forEach(Uc=>{wa&&Uc.addEventListener("scroll",Da,{passive:!0});gb&&Uc.addEventListener("resize",Da)});const lc=jc&&Jb?jb(jc,Da):null;let mc=-1,uc=null;ob&&(uc=new ResizeObserver(Uc=>{[Uc]=Uc;Uc&&Uc.target===jc&&uc&&(uc.unobserve(X),cancelAnimationFrame(mc),mc=requestAnimationFrame(()=>{var Qc;null==(Qc=uc)||Qc.observe(X)}));Da()}),jc&&!Ob&&uc.observe(jc),uc.observe(X));let wc,Nc=Ob?Oa(fa):null;Ob&&bb();Da();return()=>
{var Uc;tc.forEach(Qc=>{wa&&Qc.removeEventListener("scroll",Da);gb&&Qc.removeEventListener("resize",Da)});null==lc||lc();null==(Uc=uc)||Uc.disconnect();uc=null;Ob&&cancelAnimationFrame(wc)}};A.computePosition=(fa,X,Da)=>{const Aa=new Map;Da={platform:ab,...Da};return J.computePosition(fa,X,{...Da,platform:{...Da.platform,_c:Aa}})};A.detectOverflow=Ab;A.flip=Ea;A.getOverflowAncestors=ka;A.hide=za;A.inline=Ka;A.limitShift=fb;A.offset=q;A.platform=ab;A.shift=aa;A.size=oa})};
shadow$provide[580]=function(ra,P,db,I){(function(A,J){"object"===typeof I&&"undefined"!==typeof db?J(I,P(579),P(0),P(1)):"function"===typeof define&&define.amd?define(["exports","@floating-ui/dom","react","react-dom"],J):(A="undefined"!==typeof globalThis?globalThis:A||self,J(A.FloatingUIReactDOM={},A.FloatingUIDOM,A.React,A.ReactDOM))})(this,function(A,J,r,w){function h(C){var F=Object.create(null);C&&Object.keys(C).forEach(function(M){if("default"!==M){var T=Object.getOwnPropertyDescriptor(C,M);
Object.defineProperty(F,M,T.get?T:{enumerable:!0,get:function(){return C[M]}})}});F.default=C;return Object.freeze(F)}function m(C,F){if(C===F)return!0;if(typeof C!==typeof F)return!1;if("function"===typeof C&&C.toString()===F.toString())return!0;let M,T;if(C&&F&&"object"===typeof C){if(Array.isArray(C)){var N=C.length;if(N!==F.length)return!1;for(M=N;0!==M--;)if(!m(C[M],F[M]))return!1;return!0}T=Object.keys(C);N=T.length;if(N!==Object.keys(F).length)return!1;for(M=N;0!==M--;)if(!{}.hasOwnProperty.call(F,
T[M]))return!1;for(M=N;0!==M--;)if(N=T[M],!("_owner"===N&&C.$$typeof||m(C[N],F[N])))return!1;return!0}return C!==C&&F!==F}function x(C){return"undefined"===typeof window?1:(C.ownerDocument.defaultView||window).devicePixelRatio||1}function z(C,F){C=x(C);return Math.round(F*C)/C}function k(C){const F=p.useRef(C);t(()=>{F.current=C});return F}var p=h(r),B=h(w),t="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;const u=C=>({name:"arrow",options:C,fn(F){const {element:M,padding:T}="function"===
typeof C?C(F):C;return M&&{}.hasOwnProperty.call(M,"current")?null!=M.current?J.arrow({element:M.current,padding:T}).fn(F):{}:M?J.arrow({element:M,padding:T}).fn(F):{}}});Object.defineProperty(A,"autoUpdate",{enumerable:!0,get:function(){return J.autoUpdate}});Object.defineProperty(A,"computePosition",{enumerable:!0,get:function(){return J.computePosition}});Object.defineProperty(A,"detectOverflow",{enumerable:!0,get:function(){return J.detectOverflow}});Object.defineProperty(A,"getOverflowAncestors",
{enumerable:!0,get:function(){return J.getOverflowAncestors}});Object.defineProperty(A,"platform",{enumerable:!0,get:function(){return J.platform}});A.arrow=(C,F)=>({...u(C),options:[C,F]});A.autoPlacement=(C,F)=>({...J.autoPlacement(C),options:[C,F]});A.flip=(C,F)=>({...J.flip(C),options:[C,F]});A.hide=(C,F)=>({...J.hide(C),options:[C,F]});A.inline=(C,F)=>({...J.inline(C),options:[C,F]});A.limitShift=(C,F)=>({...J.limitShift(C),options:[C,F]});A.offset=(C,F)=>({...J.offset(C),options:[C,F]});A.shift=
(C,F)=>({...J.shift(C),options:[C,F]});A.size=(C,F)=>({...J.size(C),options:[C,F]});A.useFloating=function(C){void 0===C&&(C={});const {placement:F="bottom",strategy:M="absolute",middleware:T=[],platform:N,elements:{reference:W,floating:ka}={},transform:Y=!0,whileElementsMounted:H,open:qa}=C,[Ca,La]=p.useState({x:0,y:0,strategy:M,placement:F,middlewareData:{},isPositioned:!1}),[Oa,ea]=p.useState(T);m(Oa,T)||ea(T);const [kb,zb]=p.useState(null),[Va,Pa]=p.useState(null),ja=p.useCallback(Ka=>{Ka!==na.current&&
(na.current=Ka,zb(Ka))},[]),jb=p.useCallback(Ka=>{Ka!==ub.current&&(ub.current=Ka,Pa(Ka))},[]),Ya=W||kb,Ma=ka||Va,na=p.useRef(null),ub=p.useRef(null),Bb=p.useRef(Ca);C=null!=H;const ab=k(H),Ab=k(N),q=k(qa),K=p.useCallback(()=>{if(na.current&&ub.current){var Ka={placement:F,strategy:M,middleware:Oa};Ab.current&&(Ka.platform=Ab.current);J.computePosition(na.current,ub.current,Ka).then(fb=>{const fa={...fb,isPositioned:!1!==q.current};aa.current&&!m(Bb.current,fa)&&(Bb.current=fa,B.flushSync(()=>{La(fa)}))})}},
[Oa,F,M,Ab,q]);t(()=>{!1===qa&&Bb.current.isPositioned&&(Bb.current.isPositioned=!1,La(Ka=>({...Ka,isPositioned:!1})))},[qa]);const aa=p.useRef(!1);t(()=>{aa.current=!0;return()=>{aa.current=!1}},[]);t(()=>{Ya&&(na.current=Ya);Ma&&(ub.current=Ma);if(Ya&&Ma){if(ab.current)return ab.current(Ya,Ma,K);K()}},[Ya,Ma,K,ab,C]);const Ea=p.useMemo(()=>({reference:na,floating:ub,setReference:ja,setFloating:jb}),[ja,jb]),oa=p.useMemo(()=>({reference:Ya,floating:Ma}),[Ya,Ma]),za=p.useMemo(()=>{const Ka={position:M,
left:0,top:0};if(!oa.floating)return Ka;const fb=z(oa.floating,Ca.x),fa=z(oa.floating,Ca.y);return Y?{...Ka,transform:"translate("+fb+"px, "+fa+"px)",...(1.5<=x(oa.floating)&&{willChange:"transform"})}:{position:M,left:fb,top:fa}},[M,Y,oa.floating,Ca.x,Ca.y]);return p.useMemo(()=>({...Ca,update:K,refs:Ea,elements:oa,floatingStyles:za}),[Ca,K,Ea,oa,za])}})};
shadow$provide[581]=function(ra,P,db,I){var A=Object.create,J=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,x=(t,u,C,F)=>{if(u&&"object"===typeof u||"function"===typeof u)for(let M of w(u))m.call(t,M)||M===C||J(t,M,{get:()=>u[M],enumerable:!(F=r(u,M))||F.enumerable});return t};ra={};((t,u)=>{for(var C in u)J(t,C,{get:u[C],enumerable:!0})})(ra,{Arrow:()=>p,Root:()=>B});db.exports=(t=>x(J({},"__esModule",
{value:!0}),t))(ra);db=((t,u,C)=>(C=null!=t?A(h(t)):{},x(!u&&t&&t.__esModule?C:J(C,"default",{value:t,enumerable:!0}),t)))(P(0));var z=P(546),k=P(544),p=db.forwardRef((t,u)=>{const {children:C,width:F=10,height:M=5,...T}=t;return(0,k.jsx)(z.Primitive.svg,{...T,ref:u,width:F,height:M,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?C:(0,k.jsx)("polygon",{points:"0,0 30,0 15,10"})})});p.displayName="Arrow";var B=p};
shadow$provide[582]=function(ra,P,db,I){function A(u,C){function F(T){const {children:N,...W}=T;T=B.useMemo(()=>W,Object.values(W));return(0,t.jsx)(M.Provider,{value:T,children:N})}const M=B.createContext(C);F.displayName=u+"Provider";return[F,function(T){const N=B.useContext(M);if(N)return N;if(void 0!==C)return C;throw Error(`\`${T}\` must be used within \`${u}\``);}]}function J(u,C=[]){let F=[];const M=()=>{const T=F.map(N=>B.createContext(N));return function(N){const W=N?.[u]||T;return B.useMemo(()=>
({[`__scope${u}`]:{...N,[u]:W}}),[N,W])}};M.scopeName=u;return[function(T,N){function W(H){const {scope:qa,children:Ca,...La}=H;H=qa?.[u][Y]||ka;const Oa=B.useMemo(()=>La,Object.values(La));return(0,t.jsx)(H.Provider,{value:Oa,children:Ca})}const ka=B.createContext(N),Y=F.length;F=[...F,N];W.displayName=T+"Provider";return[W,function(H,qa){if(qa=B.useContext(qa?.[u][Y]||ka))return qa;if(void 0!==N)return N;throw Error(`\`${H}\` must be used within \`${T}\``);}]},r(M,...C)]}function r(...u){const C=
u[0];if(1===u.length)return C;const F=()=>{const M=u.map(T=>({useScope:T(),scopeName:T.scopeName}));return function(T){const N=M.reduce((W,{useScope:ka,scopeName:Y})=>{ka=ka(T)[`__scope${Y}`];return{...W,...ka}},{});return B.useMemo(()=>({[`__scope${C.scopeName}`]:N}),[N])}};F.scopeName=C.scopeName;return F}var w=Object.create,h=Object.defineProperty,m=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,z=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,p=(u,C,F,M)=>{if(C&&"object"===
typeof C||"function"===typeof C)for(let T of x(C))k.call(u,T)||T===F||h(u,T,{get:()=>C[T],enumerable:!(M=m(C,T))||M.enumerable});return u};ra={};((u,C)=>{for(var F in C)h(u,F,{get:C[F],enumerable:!0})})(ra,{createContext:()=>A,createContextScope:()=>J});db.exports=(u=>p(h({},"__esModule",{value:!0}),u))(ra);var B=((u,C,F)=>(F=null!=u?w(z(u)):{},p(!C&&u&&u.__esModule?F:h(F,"default",{value:u,enumerable:!0}),u)))(P(0)),t=P(544)};
shadow$provide[583]=function(ra,P,db,I){function A(B){const [t,u]=k.useState(void 0);(0,p.useLayoutEffect)(()=>{if(B){u({width:B.offsetWidth,height:B.offsetHeight});const C=new ResizeObserver(F=>{if(Array.isArray(F)&&F.length){F=F[0];if("borderBoxSize"in F){F=F.borderBoxSize;var M=Array.isArray(F)?F[0]:F;F=M.inlineSize;M=M.blockSize}else F=B.offsetWidth,M=B.offsetHeight;u({width:F,height:M})}});C.observe(B,{box:"border-box"});return()=>C.unobserve(B)}u(void 0)},[B]);return t}var J=Object.create,r=
Object.defineProperty,w=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,m=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,z=(B,t,u,C)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let F of h(t))x.call(B,F)||F===u||r(B,F,{get:()=>t[F],enumerable:!(C=w(t,F))||C.enumerable});return B};ra={};((B,t)=>{for(var u in t)r(B,u,{get:t[u],enumerable:!0})})(ra,{useSize:()=>A});db.exports=(B=>z(r({},"__esModule",{value:!0}),B))(ra);var k=((B,t,u)=>(u=null!=B?J(m(B)):{},z(!t&&B&&B.__esModule?
u:r(u,"default",{value:B,enumerable:!0}),B)))(P(0)),p=P(547)};
shadow$provide[584]=function(ra,P,db,I){function A(ub){return null!==ub}function J(ub){const [Bb,ab="center"]=ub.split("-");return[Bb,ab]}"use client";var r=Object.create,w=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,x=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty,k=(ub,Bb,ab,Ab)=>{if(Bb&&"object"===typeof Bb||"function"===typeof Bb)for(let q of m(Bb))z.call(ub,q)||q===ab||w(ub,q,{get:()=>Bb[q],enumerable:!(Ab=h(Bb,q))||Ab.enumerable});return ub};
ra=(ub,Bb,ab)=>(ab=null!=ub?r(x(ub)):{},k(!Bb&&ub&&ub.__esModule?ab:w(ab,"default",{value:ub,enumerable:!0}),ub));I={};((ub,Bb)=>{for(var ab in Bb)w(ub,ab,{get:Bb[ab],enumerable:!0})})(I,{ALIGN_OPTIONS:()=>ka,Anchor:()=>Ya,Arrow:()=>na,Content:()=>Ma,Popper:()=>La,PopperAnchor:()=>Oa,PopperArrow:()=>Pa,PopperContent:()=>zb,Root:()=>jb,SIDE_OPTIONS:()=>W,createPopperScope:()=>H});db.exports=(ub=>k(w({},"__esModule",{value:!0}),ub))(I);var p=ra(P(0)),B=P(580),t=ra(P(581)),u=P(541);db=P(582);var C=P(546),
F=P(574),M=P(547),T=P(583),N=P(544),W=["top","right","bottom","left"],ka=["start","center","end"],[Y,H]=(0,db.createContextScope)("Popper"),[qa,Ca]=Y("Popper"),La=ub=>{const {__scopePopper:Bb,children:ab}=ub,[Ab,q]=p.useState(null);return(0,N.jsx)(qa,{scope:Bb,anchor:Ab,onAnchorChange:q,children:ab})};La.displayName="Popper";var Oa=p.forwardRef((ub,Bb)=>{const {__scopePopper:ab,virtualRef:Ab,...q}=ub,K=Ca("PopperAnchor",ab),aa=p.useRef(null);ub=(0,u.useComposedRefs)(Bb,aa);p.useEffect(()=>{K.onAnchorChange(Ab?.current||
aa.current)});return Ab?null:(0,N.jsx)(C.Primitive.div,{...q,ref:ub})});Oa.displayName="PopperAnchor";var [ea,kb]=Y("PopperContent"),zb=p.forwardRef((ub,Bb)=>{const {__scopePopper:ab,side:Ab="bottom",sideOffset:q=0,align:K="center",alignOffset:aa=0,arrowPadding:Ea=0,avoidCollisions:oa=!0,collisionBoundary:za=[],collisionPadding:Ka=0,sticky:fb="partial",hideWhenDetached:fa=!1,updatePositionStrategy:X="optimized",onPlaced:Da,...Aa}=ub;var bb=Ca("PopperContent",ab);const [wa,gb]=p.useState(null);Bb=
(0,u.useComposedRefs)(Bb,rd=>gb(rd));const [ob,Jb]=p.useState(null);var Ob=(0,T.useSize)(ob),jc=Ob?.width??0;Ob=Ob?.height??0;const tc=Ab+("center"!==K?"-"+K:"");var lc="number"===typeof Ka?Ka:{top:0,right:0,bottom:0,left:0,...Ka};const mc=Array.isArray(za)?za:[za],uc=0<mc.length;lc={padding:lc,boundary:mc.filter(A),altBoundary:uc};const {refs:wc,floatingStyles:Nc,placement:Uc,isPositioned:Qc,middlewareData:Gc}=(0,B.useFloating)({strategy:"fixed",placement:tc,whileElementsMounted:(...rd)=>(0,B.autoUpdate)(...rd,
{animationFrame:"always"===X}),elements:{reference:bb.anchor},middleware:[(0,B.offset)({mainAxis:q+Ob,alignmentAxis:aa}),oa&&(0,B.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===fb?(0,B.limitShift)():void 0,...lc}),oa&&(0,B.flip)({...lc}),(0,B.size)({...lc,apply:({elements:rd,rects:Wd,availableWidth:de,availableHeight:je})=>{const {width:Ed,height:Md}=Wd.reference;rd=rd.floating.style;rd.setProperty("--radix-popper-available-width",`${de}px`);rd.setProperty("--radix-popper-available-height",
`${je}px`);rd.setProperty("--radix-popper-anchor-width",`${Ed}px`);rd.setProperty("--radix-popper-anchor-height",`${Md}px`)}}),ob&&(0,B.arrow)({element:ob,padding:Ea}),ja({arrowWidth:jc,arrowHeight:Ob}),fa&&(0,B.hide)({strategy:"referenceHidden",...lc})]}),[Rb,id]=J(Uc),qd=(0,F.useCallbackRef)(Da);(0,M.useLayoutEffect)(()=>{Qc&&qd?.()},[Qc,qd]);bb=Gc.arrow?.x;jc=Gc.arrow?.y;Ob=0!==Gc.arrow?.centerOffset;const [Ld,Wb]=p.useState();(0,M.useLayoutEffect)(()=>{wa&&Wb(window.getComputedStyle(wa).zIndex)},
[wa]);return(0,N.jsx)("div",{ref:wc.setFloating,"data-radix-popper-content-wrapper":"",style:{...Nc,transform:Qc?Nc.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ld,["--radix-popper-transform-origin"]:[Gc.transformOrigin?.x,Gc.transformOrigin?.y].join(" "),...(Gc.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"})},dir:ub.dir,children:(0,N.jsx)(ea,{scope:ab,placedSide:Rb,onArrowChange:Jb,arrowX:bb,arrowY:jc,shouldHideArrow:Ob,children:(0,N.jsx)(C.Primitive.div,{"data-side":Rb,
"data-align":id,...Aa,ref:Bb,style:{...Aa.style,animation:Qc?void 0:"none"}})})})});zb.displayName="PopperContent";var Va={top:"bottom",right:"left",bottom:"top",left:"right"},Pa=p.forwardRef(function(ub,Bb){const {__scopePopper:ab,...Ab}=ub;ub=kb("PopperArrow",ab);return(0,N.jsx)("span",{ref:ub.onArrowChange,style:{position:"absolute",left:ub.arrowX,top:ub.arrowY,[Va[ub.placedSide]]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ub.placedSide],transform:{top:"translateY(100%)",
right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ub.placedSide],visibility:ub.shouldHideArrow?"hidden":void 0},children:(0,N.jsx)(t.Root,{...Ab,ref:Bb,style:{...Ab.style,display:"block"}})})});Pa.displayName="PopperArrow";var ja=ub=>({name:"transformOrigin",options:ub,fn(Bb){const {placement:ab,rects:Ab,middlewareData:q}=Bb;var K=(Bb=0!==q.arrow?.centerOffset)?0:ub.arrowWidth;const aa=Bb?0:ub.arrowHeight,[Ea,oa]=
J(ab),za={start:"0%",center:"50%",end:"100%"}[oa];K=(q.arrow?.x??0)+K/2;const Ka=(q.arrow?.y??0)+aa/2;let fb="",fa="";"bottom"===Ea?(fb=Bb?za:`${K}px`,fa=`${-aa}px`):"top"===Ea?(fb=Bb?za:`${K}px`,fa=`${Ab.floating.height+aa}px`):"right"===Ea?(fb=`${-aa}px`,fa=Bb?za:`${Ka}px`):"left"===Ea&&(fb=`${Ab.floating.width+aa}px`,fa=Bb?za:`${Ka}px`);return{data:{x:fb,y:fa}}}}),jb=La,Ya=Oa,Ma=zb,na=Pa};
shadow$provide[585]=function(ra,P,db,I){function A(F,M){return u.useReducer((T,N)=>M[T][N]??T,F)}function J(F){const [M,T]=p.useState(),N=p.useRef({}),W=p.useRef(F),ka=p.useRef("none"),[Y,H]=A(F?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});p.useEffect(()=>{const qa=N.current?.animationName||"none";ka.current="mounted"===Y?qa:"none"},[Y]);(0,t.useLayoutEffect)(()=>{const qa=
N.current,Ca=W.current;if(Ca!==F){const La=ka.current,Oa=qa?.animationName||"none";F?H("MOUNT"):"none"===Oa||"none"===qa?.display?H("UNMOUNT"):Ca&&La!==Oa?H("ANIMATION_OUT"):H("UNMOUNT");W.current=F}},[F,H]);(0,t.useLayoutEffect)(()=>{if(M){let qa;const Ca=M.ownerDocument.defaultView??window,La=ea=>{const kb=(N.current?.animationName||"none").includes(ea.animationName);if(ea.target===M&&kb&&(H("ANIMATION_END"),!W.current)){const zb=M.style.animationFillMode;M.style.animationFillMode="forwards";qa=
Ca.setTimeout(()=>{"forwards"===M.style.animationFillMode&&(M.style.animationFillMode=zb)})}},Oa=ea=>{ea.target===M&&(ka.current=N.current?.animationName||"none")};M.addEventListener("animationstart",Oa);M.addEventListener("animationcancel",La);M.addEventListener("animationend",La);return()=>{Ca.clearTimeout(qa);M.removeEventListener("animationstart",Oa);M.removeEventListener("animationcancel",La);M.removeEventListener("animationend",La)}}H("ANIMATION_END")},[M,H]);return{isPresent:["mounted","unmountSuspended"].includes(Y),
ref:p.useCallback(qa=>{qa&&(N.current=getComputedStyle(qa));T(qa)},[])}}"use client";var r=Object.create,w=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,x=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty,k=(F,M,T,N)=>{if(M&&"object"===typeof M||"function"===typeof M)for(let W of m(M))z.call(F,W)||W===T||w(F,W,{get:()=>M[W],enumerable:!(N=h(M,W))||N.enumerable});return F};ra=(F,M,T)=>(T=null!=F?r(x(F)):{},k(!M&&F&&F.__esModule?T:w(T,"default",{value:F,
enumerable:!0}),F));I={};((F,M)=>{for(var T in M)w(F,T,{get:M[T],enumerable:!0})})(I,{Presence:()=>C});db.exports=(F=>k(w({},"__esModule",{value:!0}),F))(I);var p=ra(P(0)),B=P(541),t=P(547),u=ra(P(0)),C=F=>{const {present:M,children:T}=F;F=J(M);const N="function"===typeof T?T({present:F.isPresent}):p.Children.only(T);var W=B.useComposedRefs,ka=F.ref,Y;Y=(Y=(Y=Object.getOwnPropertyDescriptor(N.props,"ref")?.get)&&"isReactWarning"in Y&&Y.isReactWarning)?N.ref:(Y=(Y=Object.getOwnPropertyDescriptor(N,
"ref")?.get)&&"isReactWarning"in Y&&Y.isReactWarning)?N.props.ref:N.props.ref||N.ref;W=W.call(B,ka,Y);return"function"===typeof T||F.isPresent?p.cloneElement(N,{ref:W}):null};C.displayName="Presence"};
shadow$provide[586]=function(ra,P,db,I){function A({prop:t,defaultProp:u,onChange:C=()=>{}}){const [F,M]=J({defaultProp:u,onChange:C}),T=void 0!==t;u=T?t:F;const N=(0,B.useCallbackRef)(C);C=p.useCallback(W=>{T?(W="function"===typeof W?W(t):W,W!==t&&N(W)):M(W)},[T,t,M,N]);return[u,C]}function J({defaultProp:t,onChange:u}){t=p.useState(t);const [C]=t,F=p.useRef(C),M=(0,B.useCallbackRef)(u);p.useEffect(()=>{F.current!==C&&(M(C),F.current=C)},[C,F,M]);return t}var r=Object.create,w=Object.defineProperty,
h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,x=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty,k=(t,u,C,F)=>{if(u&&"object"===typeof u||"function"===typeof u)for(let M of m(u))z.call(t,M)||M===C||w(t,M,{get:()=>u[M],enumerable:!(F=h(u,M))||F.enumerable});return t};ra={};((t,u)=>{for(var C in u)w(t,C,{get:u[C],enumerable:!0})})(ra,{useControllableState:()=>A});db.exports=(t=>k(w({},"__esModule",{value:!0}),t))(ra);var p=((t,u,C)=>(C=null!=t?r(x(t)):{},k(!u&&t&&t.__esModule?
C:w(C,"default",{value:t,enumerable:!0}),t)))(P(0)),B=P(574)};
shadow$provide[587]=function(ra,P,db,I){var A=Object.create,J=Object.defineProperty,r=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,x=(t,u,C,F)=>{if(u&&"object"===typeof u||"function"===typeof u)for(let M of w(u))m.call(t,M)||M===C||J(t,M,{get:()=>u[M],enumerable:!(F=r(u,M))||F.enumerable});return t};ra={};((t,u)=>{for(var C in u)J(t,C,{get:u[C],enumerable:!0})})(ra,{Root:()=>B,VisuallyHidden:()=>p});db.exports=(t=>x(J({},"__esModule",
{value:!0}),t))(ra);db=((t,u,C)=>(C=null!=t?A(h(t)):{},x(!u&&t&&t.__esModule?C:J(C,"default",{value:t,enumerable:!0}),t)))(P(0));var z=P(546),k=P(544),p=db.forwardRef((t,u)=>(0,k.jsx)(z.Primitive.span,{...t,ref:u,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));p.displayName="VisuallyHidden";var B=p};
shadow$provide[588]=function(ra,P,db,I){function A(X,Da){const Aa=Math.abs(Da.top-X.y),bb=Math.abs(Da.bottom-X.y),wa=Math.abs(Da.right-X.x);X=Math.abs(Da.left-X.x);switch(Math.min(Aa,bb,wa,X)){case X:return"left";case wa:return"right";case Aa:return"top";case bb:return"bottom";default:throw Error("unreachable");}}function J(X,Da,Aa=5){const bb=[];switch(Da){case "top":bb.push({x:X.x-Aa,y:X.y+Aa},{x:X.x+Aa,y:X.y+Aa});break;case "bottom":bb.push({x:X.x-Aa,y:X.y-Aa},{x:X.x+Aa,y:X.y-Aa});break;case "left":bb.push({x:X.x+
Aa,y:X.y-Aa},{x:X.x+Aa,y:X.y+Aa});break;case "right":bb.push({x:X.x-Aa,y:X.y-Aa},{x:X.x-Aa,y:X.y+Aa})}return bb}function r(X){X=X.slice();X.sort((Da,Aa)=>Da.x<Aa.x?-1:Da.x>Aa.x?1:Da.y<Aa.y?-1:Da.y>Aa.y?1:0);return w(X)}function w(X){if(1>=X.length)return X.slice();const Da=[];for(var Aa=0;Aa<X.length;Aa++){for(var bb=X[Aa];2<=Da.length;){var wa=Da[Da.length-1],gb=Da[Da.length-2];if((wa.x-gb.x)*(bb.y-gb.y)>=(wa.y-gb.y)*(bb.x-gb.x))Da.pop();else break}Da.push(bb)}Da.pop();Aa=[];for(bb=X.length-1;0<=
bb;bb--){for(wa=X[bb];2<=Aa.length;){gb=Aa[Aa.length-1];const ob=Aa[Aa.length-2];if((gb.x-ob.x)*(wa.y-ob.y)>=(gb.y-ob.y)*(wa.x-ob.x))Aa.pop();else break}Aa.push(wa)}Aa.pop();return 1===Da.length&&1===Aa.length&&Da[0].x===Aa[0].x&&Da[0].y===Aa[0].y?Da:Da.concat(Aa)}"use client";var h=Object.create,m=Object.defineProperty,x=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyNames,k=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,B=(X,Da,Aa,bb)=>{if(Da&&"object"===typeof Da||"function"===
typeof Da)for(let wa of z(Da))p.call(X,wa)||wa===Aa||m(X,wa,{get:()=>Da[wa],enumerable:!(bb=x(Da,wa))||bb.enumerable});return X};ra=(X,Da,Aa)=>(Aa=null!=X?h(k(X)):{},B(!Da&&X&&X.__esModule?Aa:m(Aa,"default",{value:X,enumerable:!0}),X));I={};((X,Da)=>{for(var Aa in Da)m(X,Aa,{get:Da[Aa],enumerable:!0})})(I,{Arrow:()=>fa,Content:()=>fb,Portal:()=>Ka,Provider:()=>Ea,Root:()=>oa,Tooltip:()=>jb,TooltipArrow:()=>aa,TooltipContent:()=>Bb,TooltipPortal:()=>ub,TooltipProvider:()=>Va,TooltipTrigger:()=>Ya,
Trigger:()=>za,createTooltipScope:()=>Oa});db.exports=(X=>B(m({},"__esModule",{value:!0}),X))(I);var t=ra(P(0)),u=P(572),C=P(541);db=P(573);var F=P(576),M=P(577),T=ra(P(584));I=P(584);var N=P(548),W=P(585),ka=P(546),Y=P(545),H=P(586),qa=ra(P(587)),Ca=P(544),[La,Oa]=(0,db.createContextScope)("Tooltip",[I.createPopperScope]),ea=(0,I.createPopperScope)(),[kb,zb]=La("TooltipProvider"),Va=X=>{const {__scopeTooltip:Da,delayDuration:Aa=700,skipDelayDuration:bb=300,disableHoverableContent:wa=!1,children:gb}=
X,[ob,Jb]=t.useState(!0),Ob=t.useRef(!1),jc=t.useRef(0);t.useEffect(()=>{const tc=jc.current;return()=>window.clearTimeout(tc)},[]);return(0,Ca.jsx)(kb,{scope:Da,isOpenDelayed:ob,delayDuration:Aa,onOpen:t.useCallback(()=>{window.clearTimeout(jc.current);Jb(!1)},[]),onClose:t.useCallback(()=>{window.clearTimeout(jc.current);jc.current=window.setTimeout(()=>Jb(!0),bb)},[bb]),isPointerInTransitRef:Ob,onPointerInTransitChange:t.useCallback(tc=>{Ob.current=tc},[]),disableHoverableContent:wa,children:gb})};
Va.displayName="TooltipProvider";var [Pa,ja]=La("Tooltip"),jb=X=>{const {__scopeTooltip:Da,children:Aa,open:bb,defaultOpen:wa=!1,onOpenChange:gb,disableHoverableContent:ob,delayDuration:Jb}=X,Ob=zb("Tooltip",X.__scopeTooltip);X=ea(Da);const [jc,tc]=t.useState(null),lc=(0,M.useId)(),mc=t.useRef(0),uc=ob??Ob.disableHoverableContent,wc=Jb??Ob.delayDuration,Nc=t.useRef(!1),[Uc=!1,Qc]=(0,H.useControllableState)({prop:bb,defaultProp:wa,onChange:Ld=>{if(Ld)Ob.onOpen(),document.dispatchEvent(new CustomEvent("tooltip.open"));
else Ob.onClose();gb?.(Ld)}}),Gc=t.useMemo(()=>Uc?Nc.current?"delayed-open":"instant-open":"closed",[Uc]),Rb=t.useCallback(()=>{window.clearTimeout(mc.current);Nc.current=!1;Qc(!0)},[Qc]),id=t.useCallback(()=>{window.clearTimeout(mc.current);Qc(!1)},[Qc]),qd=t.useCallback(()=>{window.clearTimeout(mc.current);mc.current=window.setTimeout(()=>{Nc.current=!0;Qc(!0)},wc)},[wc,Qc]);t.useEffect(()=>()=>window.clearTimeout(mc.current),[]);return(0,Ca.jsx)(T.Root,{...X,children:(0,Ca.jsx)(Pa,{scope:Da,contentId:lc,
open:Uc,stateAttribute:Gc,trigger:jc,onTriggerChange:tc,onTriggerEnter:t.useCallback(()=>{Ob.isOpenDelayed?qd():Rb()},[Ob.isOpenDelayed,qd,Rb]),onTriggerLeave:t.useCallback(()=>{uc?id():window.clearTimeout(mc.current)},[id,uc]),onOpen:Rb,onClose:id,disableHoverableContent:uc,children:Aa})})};jb.displayName="Tooltip";var Ya=t.forwardRef((X,Da)=>{const {__scopeTooltip:Aa,...bb}=X,wa=ja("TooltipTrigger",Aa),gb=zb("TooltipTrigger",Aa),ob=ea(Aa),Jb=t.useRef(null);Da=(0,C.useComposedRefs)(Da,Jb,wa.onTriggerChange);
const Ob=t.useRef(!1),jc=t.useRef(!1),tc=t.useCallback(()=>Ob.current=!1,[]);t.useEffect(()=>()=>document.removeEventListener("pointerup",tc),[tc]);return(0,Ca.jsx)(T.Anchor,{asChild:!0,...ob,children:(0,Ca.jsx)(ka.Primitive.button,{"aria-describedby":wa.open?wa.contentId:void 0,"data-state":wa.stateAttribute,...bb,ref:Da,onPointerMove:(0,u.composeEventHandlers)(X.onPointerMove,lc=>{"touch"===lc.pointerType||jc.current||gb.isPointerInTransitRef.current||(wa.onTriggerEnter(),jc.current=!0)}),onPointerLeave:(0,u.composeEventHandlers)(X.onPointerLeave,
()=>{wa.onTriggerLeave();jc.current=!1}),onPointerDown:(0,u.composeEventHandlers)(X.onPointerDown,()=>{Ob.current=!0;document.addEventListener("pointerup",tc,{once:!0})}),onFocus:(0,u.composeEventHandlers)(X.onFocus,()=>{if(!Ob.current)wa.onOpen()}),onBlur:(0,u.composeEventHandlers)(X.onBlur,wa.onClose),onClick:(0,u.composeEventHandlers)(X.onClick,wa.onClose)})})});Ya.displayName="TooltipTrigger";var [Ma,na]=La("TooltipPortal",{forceMount:void 0}),ub=X=>{const {__scopeTooltip:Da,forceMount:Aa,children:bb,
container:wa}=X;X=ja("TooltipPortal",Da);return(0,Ca.jsx)(Ma,{scope:Da,forceMount:Aa,children:(0,Ca.jsx)(W.Presence,{present:Aa||X.open,children:(0,Ca.jsx)(N.Portal,{asChild:!0,container:wa,children:bb})})})};ub.displayName="TooltipPortal";var Bb=t.forwardRef((X,Da)=>{const Aa=na("TooltipContent",X.__scopeTooltip),{forceMount:bb=Aa.forceMount,side:wa="top",...gb}=X;X=ja("TooltipContent",X.__scopeTooltip);return(0,Ca.jsx)(W.Presence,{present:bb||X.open,children:X.disableHoverableContent?(0,Ca.jsx)(K,
{side:wa,...gb,ref:Da}):(0,Ca.jsx)(ab,{side:wa,...gb,ref:Da})})}),ab=t.forwardRef((X,Da)=>{const Aa=ja("TooltipContent",X.__scopeTooltip),bb=zb("TooltipContent",X.__scopeTooltip),wa=t.useRef(null);Da=(0,C.useComposedRefs)(Da,wa);const [gb,ob]=t.useState(null),{trigger:Jb,onClose:Ob}=Aa,jc=wa.current,{onPointerInTransitChange:tc}=bb,lc=t.useCallback(()=>{ob(null);tc(!1)},[tc]),mc=t.useCallback((uc,wc)=>{var Nc={x:uc.clientX,y:uc.clientY};uc=A(Nc,uc.currentTarget.getBoundingClientRect());Nc=J(Nc,uc);
wc=wc.getBoundingClientRect();const {top:Uc,right:Qc,bottom:Gc,left:Rb}=wc;wc=[{x:Rb,y:Uc},{x:Qc,y:Uc},{x:Qc,y:Gc},{x:Rb,y:Gc}];wc=r([...Nc,...wc]);ob(wc);tc(!0)},[tc]);t.useEffect(()=>()=>lc(),[lc]);t.useEffect(()=>{if(Jb&&jc){const uc=Nc=>mc(Nc,jc),wc=Nc=>mc(Nc,Jb);Jb.addEventListener("pointerleave",uc);jc.addEventListener("pointerleave",wc);return()=>{Jb.removeEventListener("pointerleave",uc);jc.removeEventListener("pointerleave",wc)}}},[Jb,jc,mc,lc]);t.useEffect(()=>{if(gb){const uc=wc=>{var Nc=
wc.target;wc={x:wc.clientX,y:wc.clientY};Nc=Jb?.contains(Nc)||jc?.contains(Nc);const {x:Uc,y:Qc}=wc;wc=!1;for(let Gc=0,Rb=gb.length-1;Gc<gb.length;Rb=Gc++){const id=gb[Gc].x,qd=gb[Gc].y,Ld=gb[Rb].x,Wb=gb[Rb].y;qd>Qc!==Wb>Qc&&Uc<(Ld-id)*(Qc-qd)/(Wb-qd)+id&&(wc=!wc)}wc=!wc;Nc?lc():wc&&(lc(),Ob())};document.addEventListener("pointermove",uc);return()=>document.removeEventListener("pointermove",uc)}},[Jb,jc,gb,Ob,lc]);return(0,Ca.jsx)(K,{...X,ref:Da})}),[Ab,q]=La("Tooltip",{isInside:!1}),K=t.forwardRef((X,
Da)=>{const {__scopeTooltip:Aa,children:bb,"aria-label":wa,onEscapeKeyDown:gb,onPointerDownOutside:ob,...Jb}=X,Ob=ja("TooltipContent",Aa);X=ea(Aa);const {onClose:jc}=Ob;t.useEffect(()=>{document.addEventListener("tooltip.open",jc);return()=>document.removeEventListener("tooltip.open",jc)},[jc]);t.useEffect(()=>{if(Ob.trigger){const tc=lc=>{lc.target?.contains(Ob.trigger)&&jc()};window.addEventListener("scroll",tc,{capture:!0});return()=>window.removeEventListener("scroll",tc,{capture:!0})}},[Ob.trigger,
jc]);return(0,Ca.jsx)(F.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:gb,onPointerDownOutside:ob,onFocusOutside:tc=>tc.preventDefault(),onDismiss:jc,children:(0,Ca.jsxs)(T.Content,{"data-state":Ob.stateAttribute,...X,...Jb,ref:Da,style:{...Jb.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)",
"--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,Ca.jsx)(Y.Slottable,{children:bb}),(0,Ca.jsx)(Ab,{scope:Aa,isInside:!0,children:(0,Ca.jsx)(qa.Root,{id:Ob.contentId,role:"tooltip",children:wa||bb})})]})})});Bb.displayName="TooltipContent";var aa=t.forwardRef((X,Da)=>{const {__scopeTooltip:Aa,...bb}=X;X=ea(Aa);return q("TooltipArrow",Aa).isInside?null:(0,Ca.jsx)(T.Arrow,{...X,...bb,ref:Da})});aa.displayName=
"TooltipArrow";var Ea=Va,oa=jb,za=Ya,Ka=ub,fb=Bb,fa=aa};
shadow$provide[589]=function(ra,P,db,I){function A(D){return D&&D.__esModule?D:{"default":D}}function J(D){if(D&&D.__esModule)return D;var O=Object.create(null);D&&Object.keys(D).forEach(function(U){if("default"!==U){var ba=Object.getOwnPropertyDescriptor(D,U);Object.defineProperty(O,U,ba.get?ba:{enumerable:!0,get:function(){return D[U]}})}});O["default"]=D;return Object.freeze(O)}function r(D,O){if(null==D)return{};if(null==D)var U={};else{U={};var ba=Object.keys(D),da;for(da=0;da<ba.length;da++){var xa=
ba[da];0<=O.indexOf(xa)||(U[xa]=D[xa])}}if(Object.getOwnPropertySymbols)for(da=Object.getOwnPropertySymbols(D),xa=0;xa<da.length;xa++)ba=da[xa],0<=O.indexOf(ba)||Object.prototype.propertyIsEnumerable.call(D,ba)&&(U[ba]=D[ba]);return U}function w(D,O,...U){const [ba,...da]=gb[O](...U);console[D]("LEVA: "+ba,...da)}function h(D){let {value:O}=D;D=r(D,Ob);for(let U of lc){const ba=U(O,D);if(ba)return ba}}function m(D,O,U,ba){({normalize:D}=mc[D]);if(D)return D(O,U,ba);if("object"!==typeof O||!("value"in
O))return{value:O};({value:U}=O);O=r(O,tc);return{value:U,settings:O}}function x(D,O,U){({format:D}=mc[D]);return D?D(O,U):O}function z(D,O){var U=Object.keys(D);if(Object.getOwnPropertySymbols){var ba=Object.getOwnPropertySymbols(D);O&&(ba=ba.filter(function(da){return Object.getOwnPropertyDescriptor(D,da).enumerable}));U.push.apply(U,ba)}return U}function k(D){for(var O=1;O<arguments.length;O++){var U=null!=arguments[O]?arguments[O]:{};O%2?z(Object(U),!0).forEach(function(ba){var da=U[ba];ba in
D?Object.defineProperty(D,ba,{value:da,enumerable:!0,configurable:!0,writable:!0}):D[ba]=da}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(U)):z(Object(U)).forEach(function(ba){Object.defineProperty(D,ba,Object.getOwnPropertyDescriptor(U,ba))})}return D}function p(D){let O=Math.abs(+String(D).replace(".",""));if(0===O)return.01;for(;0!==O&&0===O%10;)O/=10;return Math.max(Math.pow(10,Math.floor(Math.log10(Math.abs(D)))-(Math.floor(Math.log(O)/wc)+1)),
.001)}function B(D){if(isNaN(Number(D))){if(Uc.test(D))return D=D.replace(Uc,(O,U)=>String(B(U))),B(D);if(Qc.test(D))return D=D.replace(Qc,(O,U,ba)=>String(Math.pow(Number(U),Number(ba)))),B(D);if(Gc.test(D))return D=D.replace(Gc,(O,U,ba)=>String(Number(U)*Number(ba))),B(D);if(Rb.test(D))return D=D.replace(Rb,(O,U,ba)=>{if(0!=ba)return String(Number(U)/Number(ba));throw Error("Division by zero");}),B(D);if(id.test(D))return D=D.replace(id,(O,U,ba)=>String(Number(U)+Number(ba))),B(D);if(qd.test(D))return D=
D.replace(qd,(O,U,ba)=>String(Number(U)-Number(ba))),B(D)}return Number(D)}function t(D,O){return D.reduce((U,ba,da)=>Object.assign(U,{[O[da]]:ba}),{})}function u(D,O,U={},ba){var da;if("object"!==typeof D||Array.isArray(D))return{type:ba,input:D,options:k({key:O,label:O,optional:!1,disabled:!1,order:0},U)};if("__customInput"in D){const {type:Yc,__customInput:zd}=D;var xa=r(D,Ld);return u(zd,O,xa,Yc)}const {render:Qa,label:qb,optional:wb,order:Nb=0,disabled:nc,hint:Ec,onChange:cd,onEditStart:Hd,onEditEnd:Id,
transient:Tc}=D;D=r(D,Wb);O=k({render:Qa,key:O,label:null!==qb&&void 0!==qb?qb:O,hint:Ec,transient:null!==Tc&&void 0!==Tc?Tc:!!cd,onEditStart:Hd,onEditEnd:Id,disabled:nc,optional:wb,order:Nb},U);({type:U}=D);D=r(D,rd);U=null!==ba&&void 0!==ba?ba:U;if(U in I.SpecialInputs)return{type:U,input:D,options:O};ba=ba&&"[object Object]"===Object.prototype.toString.call(D)&&"value"in D?D.value:"[object Object]"===Object.prototype.toString.call(D)&&0===Object.keys(D).length?void 0:D;return{type:U,input:ba,options:k(k({},
O),{},{onChange:cd,optional:null!==(xa=O.optional)&&void 0!==xa?xa:!1,disabled:null!==(da=O.disabled)&&void 0!==da?da:!1})}}function C({type:D,value:O,settings:U},ba,da,xa){const Qa="SELECT"!==D&&"function"===typeof ba?ba(O):ba;let qb;try{{const {sanitize:wb}=mc[D];qb=wb?wb(Qa,U,O,da,xa):Qa}}catch(wb){throw new Wd(`The value \`${ba}\` did not result in a correct value.`,O,wb);}return aa.dequal(qb,O)?O:qb}function F(){F=Object.assign?Object.assign.bind():function(D){for(var O=1;O<arguments.length;O++){var U=
arguments[O],ba;for(ba in U)Object.prototype.hasOwnProperty.call(U,ba)&&(D[ba]=U[ba])}return D};return F.apply(this,arguments)}function M(){return q.useContext(Ae)}function T(){return q.useContext(kd)}function N(D,O){const [U,ba]=D.split(" ");D={};"none"!==U&&(D.boxShadow=`${O.inset?"inset ":""}0 0 0 $borderWidths${[O.key]} $colors${"default"!==U&&U||O.borderColor}`);ba&&(D.backgroundColor=ba);return D}function W(D,O){const {theme:U}=q.useContext(Qd);if(!(D in U&&O in U[D]))return ob(I.LevaErrors.THEME_ERROR,
D,O),"";for(;;)if(O=U[D][O],"string"===typeof O&&"$"===O.charAt(0))O=O.substr(1);else return O}function ka(D){let {innerLabel:O,value:U,onUpdate:ba,onChange:da,onKeyDown:xa,type:Qa,id:qb,inputType:wb="text",rows:Nb=0}=D;var nc=r(D,qe);const {id:Ec,emitOnEditStart:cd,emitOnEditEnd:Hd,disabled:Id}=M();D=qb||Ec;const Tc=q.useRef(null),Yc=0<Nb,zd=Yc?"textarea":"input",ae=q.useCallback(Wc=>be=>{Wc(be.currentTarget.value)},[]);X["default"].useEffect(()=>{const Wc=Tc.current,be=ae(Xb=>{ba(Xb);Hd()});null===
Wc||void 0===Wc?void 0:Wc.addEventListener("blur",be);return()=>null===Wc||void 0===Wc?void 0:Wc.removeEventListener("blur",be)},[ae,ba,Hd]);const fd=q.useCallback(Wc=>{"Enter"===Wc.key&&ae(ba)(Wc)},[ae,ba]);nc=Object.assign({as:zd},Yc?{rows:Nb}:{},nc);return X["default"].createElement(Be,{textArea:Yc},O&&"string"===typeof O?X["default"].createElement(nd,null,O):O,X["default"].createElement(me,F({levaType:Qa,ref:Tc,id:D,type:wb,autoComplete:"off",spellCheck:"false",value:U,onChange:ae(da),onFocus:()=>
cd(),onKeyPress:fd,onKeyDown:xa,disabled:Id},nc)))}function Y(D){let {onUpdate:O}=D;D=r(D,Ee);const U=q.useCallback(da=>{a:if(""===da||"number"===typeof da)var xa=da;else{try{const Qa=B(da);if(!isNaN(Qa)){xa=Qa;break a}}catch(Qa){}xa=parseFloat(da)}return O(xa)},[O]),ba=q.useCallback(da=>{const xa="ArrowUp"===da.key?1:"ArrowDown"===da.key?-1:0;if(xa){da.preventDefault();const Qa=da.altKey?.1:da.shiftKey?10:1;O(qb=>parseFloat(qb)+xa*Qa)}},[O]);return X["default"].createElement(ka,F({},D,{onUpdate:U,
onKeyDown:ba,type:"number"}))}function H(){const {id:D,disable:O,disabled:U}=M();return X["default"].createElement(X["default"].Fragment,null,X["default"].createElement(ca,{id:D+"__disable",type:"checkbox",checked:!U,onChange:()=>O(!U)}),X["default"].createElement("label",{htmlFor:D+"__disable"}))}function qa(D){const {id:O,optional:U,hint:ba}=M(),da=D.htmlFor||(O?{htmlFor:O}:null),xa=ba||"string"!==typeof D.children?null:{title:D.children};return X["default"].createElement(X["default"].Fragment,
null,U&&X["default"].createElement(H,null),void 0!==ba?X["default"].createElement(wa.Root,null,X["default"].createElement(wa.Trigger,{asChild:!0},X["default"].createElement(ma,F({},da,D))),X["default"].createElement(wa.Content,{side:"top",sideOffset:2},X["default"].createElement(Za,null,ba,X["default"].createElement(Ia,null)))):X["default"].createElement(ma,F({},da,xa,D)))}function Ca(D){let {align:O}=D;D=r(D,Wa);const {value:U,label:ba,key:da,disabled:xa}=M();var {hideCopyButton:Qa}=q.useContext(Xd);
Qa=!Qa&&void 0!==da;const [qb,wb]=q.useState(!1),Nb=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[da]:null!==U&&void 0!==U?U:""})),wb(!0)}catch(nc){ob(I.LevaErrors.CLIPBOARD_ERROR,{[da]:U})}};return X["default"].createElement(Ie,{align:O,onPointerLeave:()=>wb(!1)},X["default"].createElement(qa,D),Qa&&!xa&&X["default"].createElement("div",{title:`Click to copy ${"string"===typeof ba?ba:da} value`},qb?X["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",
fill:"currentColor"},X["default"].createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),X["default"].createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):X["default"].createElement("svg",{onClick:Nb,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},X["default"].createElement("path",
{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),X["default"].createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}function La(D){let {toggled:O}=D;D=r(D,lb);return X["default"].createElement(nb,F({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${O?0:-90}deg)`}},D),X["default"].createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}
function Oa(D){let {input:O}=D;D=r(D,sb);return O?X["default"].createElement(Nd,D):X["default"].createElement(Bd,D)}function ea({value:D,type:O,settings:U,setValue:ba}){const [da,xa]=q.useState(x(O,D,U)),Qa=q.useRef(D),qb=q.useRef(U);qb.current=U;const wb=q.useCallback(Nb=>xa(x(O,Nb,qb.current)),[O]);U=q.useCallback(Nb=>{try{ba(Nb)}catch(nc){const {type:Ec,previousValue:cd}=nc;if("LEVA_ERROR"!==Ec)throw nc;wb(cd)}},[wb,ba]);q.useEffect(()=>{aa.dequal(D,Qa.current)||wb(D);Qa.current=D},[D,wb]);return{displayValue:da,
onChange:xa,onUpdate:U}}function kb(D,O){const {emitOnEditStart:U,emitOnEditEnd:ba}=M();return Ka.useDrag(da=>{da.first&&(document.body.classList.add("leva__panel__dragged"),null===U||void 0===U?void 0:U());const xa=D(da);da.last&&(document.body.classList.remove("leva__panel__dragged"),null===ba||void 0===ba?void 0:ba());return xa},O)}function zb({value:D,min:O,max:U,onDrag:ba,step:da,initialValue:xa}){const Qa=q.useRef(null),qb=q.useRef(null),wb=q.useRef(0),Nb=W("sizes","scrubberWidth"),nc=kb(({event:cd,
first:Hd,xy:[Id],movement:[Tc],memo:Yc})=>{if(Hd){const {width:zd,left:ae}=Qa.current.getBoundingClientRect();wb.current=zd-parseFloat(Nb);Yc=(null===cd||void 0===cd?void 0:cd.target)===qb.current?D:(Id-ae)/zd*(U-O)+O}ba(pe(Yc+Tc/wb.current*(U-O),{step:da,initialValue:xa}));return Yc}),Ec=Nc(D,O,U);return X["default"].createElement(Sb,F({ref:Qa},nc()),X["default"].createElement(Ub,null,X["default"].createElement(ic,{style:{left:0,right:`${100*(1-Ec)}%`}})),X["default"].createElement($b,{ref:qb,style:{left:`calc(${Ec} * (100% - ${Nb}))`}}))}
function Va({label:D,id:O,displayValue:U,onUpdate:ba,onChange:da,settings:xa,innerLabelTrim:Qa=1}){D=0<Qa&&X["default"].createElement(kc,{label:D,step:xa.step,onUpdate:ba,innerLabelTrim:Qa});return X["default"].createElement(Y,{id:O,value:String(U),onUpdate:ba,onChange:da,innerLabel:D})}function Pa({displayValue:D,value:O,onUpdate:U,id:ba,settings:da,disabled:xa}){const {keys:Qa,values:qb}=da;da=q.useRef();O===qb[D]&&(da.current=Qa[D]);return X["default"].createElement(xc,null,X["default"].createElement(Bc,
{id:ba,value:D,onChange:wb=>U(qb[Number(wb.currentTarget.value)]),disabled:xa},Qa.map((wb,Nb)=>X["default"].createElement("option",{key:wb,value:Nb},wb))),X["default"].createElement(sc,null,da.current),X["default"].createElement(La,{toggled:!0}))}function ja(D){let {displayValue:O,onUpdate:U,onChange:ba,editable:da=!0}=D;D=r(D,bd);return da?X["default"].createElement(ka,F({value:O,onUpdate:U,onChange:ba},D)):X["default"].createElement(Od,null,O)}function jb({value:D,onUpdate:O,id:U,disabled:ba}){return X["default"].createElement(ad,
null,X["default"].createElement("input",{id:U,type:"checkbox",checked:D,onChange:da=>O(da.currentTarget.checked),disabled:ba}),X["default"].createElement("label",{htmlFor:U},X["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},X["default"].createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Ya({value:D,id:O,valueKey:U,settings:ba,onUpdate:da,innerLabelTrim:xa}){const Qa=q.useRef(D[U]);Qa.current=
D[U];var qb=q.useCallback(wb=>da({[U]:C({type:"NUMBER",value:Qa.current,settings:ba},wb)}),[da,ba,U]);qb=ea({type:"NUMBER",value:D[U],settings:ba,setValue:qb});return X["default"].createElement(Va,{id:O,label:U,value:D[U],displayValue:qb.displayValue,onUpdate:qb.onUpdate,onChange:qb.onChange,settings:ba,innerLabelTrim:xa})}function Ma(D){let {locked:O}=D;D=r(D,ib);return X["default"].createElement("svg",F({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},
D),O?X["default"].createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",
fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):X["default"].createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",
fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function na(D){const O=bb["default"]().array().length(D).every.number(),U=ba=>{if(!ba||"object"!==typeof ba)return!1;ba=Object.values(ba);return ba.length===D&&ba.every(da=>isFinite(da))};return ba=>O.test(ba)||U(ba)}function ub(D){return Array.isArray(D)?"array":"object"}function Bb(D,O,U){return ub(D)===O?D:"array"===O?Object.values(D):t(D,U)}function ab(D,O,U=[]){const {lock:ba=!1}=O,da=r(O,Kb);O=Array.isArray(D)?"array":"object";U="object"===
O?Object.keys(D):U;const xa=Bb(D,"object",U);var Qa=da&&("step"in da||"min"in da||"max"in da)?U.reduce((qb,wb)=>Object.assign(qb,{[wb]:da}),{}):da;Qa=Ib(xa,Qa);return{value:"array"===O?D:xa,settings:k(k({},Qa),{},{format:O,keys:U,lock:ba,locked:!1})}}var Ab=P(1),q=P(0),K=P(548),aa=P(549),Ea=P(550),oa=P(551),za=P(552),Ka=P(571),fb=P(588),fa=A(Ab),X=A(q),Da=J(K),Aa=A(Ea),bb=A(oa),wa=J(fb);I.LevaErrors=void 0;(function(D){D[D.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT";D[D.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE";
D[D.UNKNOWN_INPUT=2]="UNKNOWN_INPUT";D[D.DUPLICATE_KEYS=3]="DUPLICATE_KEYS";D[D.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE";D[D.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR";D[D.THEME_ERROR=6]="THEME_ERROR";D[D.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST";D[D.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE";D[D.EMPTY_KEY=9]="EMPTY_KEY"})(I.LevaErrors||(I.LevaErrors={}));const gb={[I.LevaErrors.UNSUPPORTED_INPUT]:(D,O)=>[`An input with type \`${D}\` input was found at path \`${O}\` but it's not supported yet.`],
[I.LevaErrors.NO_COMPONENT_FOR_TYPE]:(D,O)=>[`Type \`${D}\` found at path \`${O}\` can't be displayed in panel because no component supports it yet.`],[I.LevaErrors.UNKNOWN_INPUT]:(D,O)=>[`input at path \`${D}\` is not recognized.`,O],[I.LevaErrors.DUPLICATE_KEYS]:(D,O,U)=>[`Key \`${D}\` of path \`${O}\` already exists at path \`${U}\`. Even nested keys need to be unique. Rename one of the keys.`],[I.LevaErrors.ALREADY_REGISTERED_TYPE]:D=>[`Type ${D} has already been registered. You can't register a component with the same type.`],
[I.LevaErrors.CLIPBOARD_ERROR]:D=>["Error copying the value",D],[I.LevaErrors.THEME_ERROR]:(D,O)=>[`Error accessing the theme \`${D}.${O}\` value.`],[I.LevaErrors.PATH_DOESNT_EXIST]:D=>[`Error getting the value at path \`${D}\`. There is probably an error in your \`render\` function.`],[I.LevaErrors.PATH_DOESNT_EXIST]:D=>[`Error accessing the value at path \`${D}\``],[I.LevaErrors.INPUT_TYPE_OVERRIDE]:(D,O,U)=>[`Input at path \`${D}\` already exists with type: \`${O}\`. Its type cannot be overridden with type \`${U}\`.`],
[I.LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]},ob=w.bind(null,"warn"),Jb=w.bind(null,"log"),Ob=["value"],jc=["schema"],tc=["value"],lc=[],mc={},uc=(D,O,U)=>D>U?U:D<O?O:D,wc=Math.log(10),Nc=(D,O,U)=>U===O?0:((D>U?U:D<O?O:D)-O)/(U-O),Uc=/\(([0-9+\-*/^ .]+)\)/,Qc=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,Gc=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Rb=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,id=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,qd=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;
I.SpecialInputs=void 0;(function(D){D.BUTTON="BUTTON";D.BUTTON_GROUP="BUTTON_GROUP";D.MONITOR="MONITOR";D.FOLDER="FOLDER"})(I.SpecialInputs||(I.SpecialInputs={}));I.LevaInputs=void 0;(function(D){D.SELECT="SELECT";D.IMAGE="IMAGE";D.NUMBER="NUMBER";D.COLOR="COLOR";D.STRING="STRING";D.BOOLEAN="BOOLEAN";D.INTERVAL="INTERVAL";D.VECTOR3D="VECTOR3D";D.VECTOR2D="VECTOR2D"})(I.LevaInputs||(I.LevaInputs={}));const Ld=["type","__customInput"],Wb="render label optional order disabled hint onChange onEditStart onEditEnd transient".split(" "),
rd=["type"],Wd=function(D,O,U){this.type="LEVA_ERROR";this.message="LEVA: "+D;this.previousValue=O;this.error=U},de=(D,O,U=!1)=>{let ba=0;return function(){const da=arguments,xa=U&&!ba,Qa=()=>D.apply(this,da);window.clearTimeout(ba);ba=window.setTimeout(Qa,O);xa&&Qa()}},je=["value"],Ed=["min","max"],Md=(D,{min:O=-Infinity,max:U=Infinity,suffix:ba})=>{const da=parseFloat(D);if(""===D||isNaN(da))throw Error("Invalid number");D=da>U?U:da<O?O:da;return ba?D+ba:D},Sd=D=>{var {value:O}=D,U=r(D,je);const {min:ba=
-Infinity,max:da=Infinity}=U;D=r(U,Ed);let xa=parseFloat(O);O="string"===typeof O?O.substring((""+xa).length):void 0;xa=xa>da?da:xa<ba?ba:xa;(U=U.step)||(Number.isFinite(ba)?U=Number.isFinite(da)?+(Math.abs(da-ba)/100).toPrecision(1):+(Math.abs(xa-ba)/100).toPrecision(1):Number.isFinite(da)&&(U=+(Math.abs(da-xa)/100).toPrecision(1)));var Qa=U?10*p(U):p(xa);U=U||Qa/10;Qa=Math.round(uc(Math.log10(1/Qa),0,2));return{value:O?xa+O:xa,settings:k({initialValue:xa,step:U,pad:Qa,min:ba,max:da,suffix:O},D)}},
pe=(D,{step:O,initialValue:U})=>U+Math.round((D-U)/O)*O;var se=Object.freeze({__proto__:null,schema:D=>{if("number"===typeof D)return!0;if("string"===typeof D){const O=parseFloat(D);return isNaN(O)?!1:4>D.substring((""+O).length).trim().length}return!1},sanitize:Md,format:(D,{pad:O=0,suffix:U})=>{D=parseFloat(D).toFixed(O);return U?D+U:D},normalize:Sd,sanitizeStep:pe});const Ae=q.createContext({}),Qd=q.createContext(null),kd=q.createContext(null),Xd=q.createContext(null),Hc=()=>({colors:{elevation1:"#292d39",
elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},
fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",
input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}}),Jd={$inputStyle:()=>D=>N(D,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>D=>N(D,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>D=>N(D,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>D=>N(D,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:hc,createTheme:He,globalCss:Rd,keyframes:$d}=za.createStitches({prefix:"leva",theme:Hc(),
utils:k(k({},Jd),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:D=>({"\x26:focus":Jd.$focusStyle()(D)}),$focusWithin:D=>({"\x26:focus-within":Jd.$focusStyle()(D)}),
$hover:D=>({"\x26:hover":Jd.$hoverStyle()(D)}),$active:D=>({"\x26:active":Jd.$activeStyle()(D)})})}),le=Rd({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}}),me=hc("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),nd=hc("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",
opacity:.8,cursor:"default",touchAction:"none",[`& + ${me}`]:{paddingLeft:0}}),ue=hc(nd,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"\x26:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Be=hc("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),qe=
"innerLabel value onUpdate onChange onKeyDown type id inputType rows".split(" "),Ee=["onUpdate"],od=hc("div",{}),mb=hc("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","\x26::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,
fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),sd=hc("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","\x3e svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"\x26:hover \x3e svg":{fill:"$folderWidgetColor"},[`&:hover + ${mb}::after`]:{opacity:.6},[`${od}:hover > & + ${mb}::after`]:{opacity:.6},[`${od}:hover > & > svg`]:{opacity:1}}),
ee=hc("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"\x26 \x3e div":{paddingLeft:"$md",paddingRight:"$md"},"\x26 \x3e div:first-of-type":{paddingTop:"$sm"},"\x26 \x3e div:last-of-type":{paddingBottom:"$sm"},[`> ${od}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),
Bd=hc("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${ee} > &`]:{"\x26:first-of-type":{marginTop:"$rowGap"},"\x26:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"\x26:hover,\x26:focus-within":{color:"$highlight3"}}}}}),Nd=hc(Bd,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Ie=hc("div",{$flex:"",height:"100%",
position:"relative",overflow:"hidden","\x26 \x3e div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"\x26 \x3e div:hover":{opacity:.8},"\x26 \x3e div \x3e svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"\x26:hover \x3e div \x3e svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),ca=hc("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"\x26 + label":{position:"relative",$flexCenter:"",
height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"\x26 + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"\x26:focus + label:after":{$focusStyle:""},"\x26 + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"\x26:checked + label:after":{backgroundColor:"$accent1"}}),ma=hc("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","\x26 \x3e svg":{display:"block"}}),
Fa=hc("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${ma}`]:{pointerEvents:"auto"}}}}}),Ja=hc("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1E3,userSelect:"none"}),Za=hc("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Ia=hc(fb.Arrow,{fill:"$toolTipBackground"}),Wa=["align"],lb=["toggled"],nb=hc("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"}),
sb=["input"],rb=["__refCount"],Lb=(D,O)=>D[O]?r(D[O],rb):null,oc=hc("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Ub=hc("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),$b=hc("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",
cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Sb=hc("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),ic=hc("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"}),kc=
X["default"].memo(({label:D,onUpdate:O,step:U,innerLabelTrim:ba})=>{const [da,xa]=q.useState(!1),Qa=kb(({active:qb,delta:[wb],event:Nb,memo:nc=0})=>{xa(qb);nc+=wb/2;1<=Math.abs(nc)&&(O(Ec=>parseFloat(Ec)+Math.floor(nc)*U*(Nb.shiftKey?5:Nb.altKey?.2:1)),nc=0);return nc});return X["default"].createElement(ue,F({dragging:da,title:1<D.length?D:""},Qa()),D.slice(0,ba))}),{sanitizeStep:Sc}=se,Xc=r(se,["sanitizeStep"]);var Fb=k({component:function(){const D=M(),{label:O,value:U,onUpdate:ba,settings:da,id:xa}=
D,{min:Qa,max:qb}=da,wb=Infinity!==qb&&-Infinity!==Qa;return X["default"].createElement(Oa,{input:!0},X["default"].createElement(Ca,null,O),X["default"].createElement(oc,{hasRange:wb},wb&&X["default"].createElement(zb,F({value:parseFloat(U),onDrag:ba},da)),X["default"].createElement(Va,F({},D,{id:xa,label:"value",innerLabelTrim:wb?0:1}))))}},Xc),hd=Object.freeze({__proto__:null,schema:(D,O)=>bb["default"]().schema({options:bb["default"]().passesAnyOf(bb["default"]().object(),bb["default"]().array())}).test(O),
sanitize:(D,{values:O})=>{if(0>O.indexOf(D))throw Error("Selected value doesn't match Select options");return D},format:(D,{values:O})=>O.indexOf(D),normalize:D=>{let {value:O,options:U}=D,ba,da;Array.isArray(U)?(da=U,ba=U.map(xa=>String(xa))):(da=Object.values(U),ba=Object.keys(U));"value"in D?da.includes(O)||(ba.unshift(String(O)),da.unshift(O)):O=da[0];Object.values(U).includes(O)||(U[String(O)]=O);return{value:O,settings:{keys:ba,values:da}}}});const xc=hc("div",{$flexCenter:"",position:"relative",
"\x3e svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Bc=hc("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),sc=hc("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Bc}:focus + &`]:{$focusStyle:""},[`${Bc}:hover + &`]:{$hoverStyle:""}});var Jc=k({component:function(){const {label:D,value:O,displayValue:U,onUpdate:ba,id:da,disabled:xa,settings:Qa}=
M();return X["default"].createElement(Oa,{input:!0},X["default"].createElement(Ca,null,D),X["default"].createElement(Pa,{id:da,value:O,displayValue:U,onUpdate:ba,settings:Qa,disabled:xa}))}},hd),zc=Object.freeze({__proto__:null,schema:D=>bb["default"]().string().test(D),sanitize:D=>{if("string"!==typeof D)throw Error("Invalid string");return D},normalize:({value:D,editable:O=!0,rows:U=!1})=>({value:D,settings:{editable:O,rows:"number"===typeof U?U:U?5:0}})});const bd=["displayValue","onUpdate","onChange",
"editable"],Od=hc("div",{whiteSpace:"pre-wrap"});var Zd=k({component:function(){const {label:D,settings:O,displayValue:U,onUpdate:ba,onChange:da}=M();return X["default"].createElement(Oa,{input:!0},X["default"].createElement(Ca,null,D),X["default"].createElement(ja,F({displayValue:U,onUpdate:ba,onChange:da},O)))}},zc),jd=Object.freeze({__proto__:null,schema:D=>bb["default"]().boolean().test(D),sanitize:D=>{if("boolean"!==typeof D)throw Error("Invalid boolean");return D}});const ad=hc("div",{position:"relative",
$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label \x3e svg":{display:"none",
width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label \x3e svg":{display:"block"}});var Ha=k({component:function(){const {label:D,value:O,onUpdate:U,disabled:ba,id:da}=M();return X["default"].createElement(Oa,{input:!0},X["default"].createElement(Ca,null,D),X["default"].createElement(jb,{value:O,onUpdate:U,id:da,disabled:ba}))}},jd);const ib=["locked"],Db=hc("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",
variants:{withLock:{true:{gridTemplateColumns:"10px auto","\x3e svg":{cursor:"pointer"}}}}}),Ib=(D,O)=>{const U={};let ba=0,da=Infinity;Object.entries(D).forEach(([xa,Qa])=>{U[xa]=Sd(k({value:Qa},O[xa])).settings;ba=Math.max(ba,U[xa].step);da=Math.min(da,U[xa].pad)});for(let xa in U){const {step:Qa,min:qb,max:wb}=O[xa]||{};isFinite(Qa)||isFinite(qb)&&isFinite(wb)||(U[xa].step=ba,U[xa].pad=da)}return U},Kb=["lock"],Vb=["value"],Pb=(D,O,U)=>{D=Bb(D,"object",O.keys);for(var ba in D)D[ba]=Md(D[ba],O[ba]);
var da=Object.keys(D);ba={};if(da.length===O.keys.length)ba=D;else if(U=Bb(U,"object",O.keys),1===da.length&&O.locked){da=da[0];D=D[da];var xa=U[da];xa=0!==xa?D/xa:1;for(let Qa in U)Qa===da?ba[da]=D:ba[Qa]=U[Qa]*xa}else ba=k(k({},U),D);return Bb(ba,O.format,O.keys)},gc=(D,O)=>Bb(D,"object",O.keys);I.Boolean=jb;I.Chevron=La;I.Indicator=ic;I.InnerLabel=nd;I.InputContext=Ae;I.Label=Ca;I.LevaStoreProvider=function({children:D,store:O}){return X["default"].createElement(kd.Provider,{value:O},D)};I.Number=
Va;I.Overlay=Ja;I.PanelSettingsContext=Xd;I.Plugins=mc;I.Portal=function({children:D}){const {className:O}=q.useContext(Qd);return X["default"].createElement(Da.Root,{className:O},D)};I.Range=Ub;I.RangeWrapper=Sb;I.Row=Oa;I.Scrubber=$b;I.Select=Pa;I.StoreContext=kd;I.String=ja;I.StyledContent=ee;I.StyledFolder=od;I.StyledInputRow=Nd;I.StyledInputWrapper=Fa;I.StyledTitle=sd;I.StyledWrapper=mb;I.ThemeContext=Qd;I.ValueInput=ka;I.Vector=function({value:D,onUpdate:O,settings:U,innerLabelTrim:ba}){const {id:da,
setSettings:xa}=M(),{lock:Qa,locked:qb}=U;return X["default"].createElement(Db,{withLock:Qa},Qa&&X["default"].createElement(Ma,{locked:qb,onClick:()=>xa({locked:!qb})}),Object.keys(D).map((wb,Nb)=>X["default"].createElement(Ya,{id:0===Nb?da:`${da}.${wb}`,key:wb,valueKey:wb,value:D,settings:U[wb],onUpdate:O,innerLabelTrim:ba})))};I._extends=F;I._objectSpread2=k;I._objectWithoutProperties=r;I.boolean=Ha;I.clamp=uc;I.createInternalPlugin=function(D){return D};I.createPlugin=function(D){const O="__CUSTOM__PLUGIN__"+
Math.random().toString(36).substr(2,9);mc[O]=D;return U=>({type:O,__customInput:U})};I.debounce=de;I.evaluate=B;I.formatVector=gc;I.getUid=()=>"_"+Math.random().toString(36).substr(2,9);I.getVectorPlugin=function(D){return{schema:na(D.length),normalize:O=>{let {value:U}=O;O=r(O,Vb);return ab(U,O,D)},format:(O,U)=>gc(O,U),sanitize:(O,U,ba)=>Pb(O,U,ba)}};I.getVectorSchema=na;I.getVectorType=ub;I.globalStyles=le;I.invertedRange=(D,O,U)=>D*(U-O)+O;I.keyframes=$d;I.log=Jb;I.mergeRefs=function(D){return O=>
{D.forEach(U=>{"function"===typeof U?U(O):null!=U&&(U.current=O)})}};I.mergeTheme=function(D){const O=Hc();if(!D)return{theme:O,className:""};Object.keys(D).forEach(ba=>{Object.assign(O[ba],D[ba])});const U=He(O);return{theme:O,className:U.className}};I.multiplyStep=D=>D.shiftKey?5:D.altKey?.2:1;I.normalizeInput=function(D,O,U,ba){D=u(D,O);const {type:da,input:xa,options:Qa}=D;return da?da in I.SpecialInputs?D:{type:da,input:m(da,xa,U,ba),options:Qa}:(D=h(xa))?{type:D,input:m(D,xa,U,ba),options:Qa}:
(D=h({value:xa}))?{type:D,input:m(D,{value:xa},U,ba),options:Qa}:!1};I.normalizeKeyedNumberSettings=Ib;I.normalizeVector=ab;I.number=Fb;I.omit=function(D,O){const U=k({},D);O.forEach(ba=>ba in D&&delete U[ba]);return U};I.pad=(D,O)=>String(D).padStart(O,"0");I.pick=function(D,O){return O.reduce((U,ba)=>{D&&D.hasOwnProperty(ba)&&(U[ba]=D[ba]);return U},{})};I.range=Nc;I.register=function(D,O){let {schema:U}=O;O=r(O,jc);D in mc?ob(I.LevaErrors.ALREADY_REGISTERED_TYPE,D):(lc.push((ba,da)=>U(ba,da)&&
D),mc[D]=O)};I.render=function(D,O){const U=console.error;console.error=()=>{};fa["default"].render(D,O);console.error=U};I.sanitizeStep=Sc;I.sanitizeVector=Pb;I.select=Jc;I.string=Zd;I.styled=hc;I.updateInput=function(D,O,U,ba,da){const {value:xa,type:Qa,settings:qb}=D;D.value=C({type:Qa,value:xa,settings:qb},O,U,ba);D.fromPanel=da};I.useCanvas2d=function(D){const O=q.useRef(null),U=q.useRef(null),ba=q.useRef(!1);q.useEffect(()=>{const da=de(()=>{O.current.width=O.current.offsetWidth*window.devicePixelRatio;
O.current.height=O.current.offsetHeight*window.devicePixelRatio;D(O.current,U.current)},250);window.addEventListener("resize",da);ba.current||(da(),ba.current=!0);return()=>window.removeEventListener("resize",da)},[D]);q.useEffect(()=>{U.current=O.current.getContext("2d")},[]);return[O,U]};I.useDrag=kb;I.useInput=function(D){const O=T(),[U,ba]=q.useState(Lb(O.getData(),D)),da=q.useCallback(Nb=>O.setValueAtPath(D,Nb,!0),[D,O]),xa=q.useCallback(Nb=>O.setSettingsAtPath(D,Nb),[D,O]),Qa=q.useCallback(Nb=>
O.disableInputAtPath(D,Nb),[D,O]),qb=q.useCallback(()=>O.emitOnEditStart(D),[D,O]),wb=q.useCallback(()=>O.emitOnEditEnd(D),[D,O]);q.useEffect(()=>{ba(Lb(O.getData(),D));const Nb=O.useStore.subscribe(nc=>Lb(nc.data,D),ba,{equalityFn:Aa["default"]});return()=>Nb()},[O,D]);return[U,{set:da,setSettings:xa,disable:Qa,storeId:O.storeId,emitOnEditStart:qb,emitOnEditEnd:wb}]};I.useInputContext=M;I.useInputSetters=ea;I.useStoreContext=T;I.useTh=W;I.useTransform=function(){const D=q.useRef(null),O=q.useRef({x:0,
y:0}),U=q.useCallback(ba=>{Object.assign(O.current,ba);D.current&&(D.current.style.transform=`translate3d(${O.current.x}px, ${O.current.y}px, 0)`)},[]);return[D,U]};I.warn=ob};
shadow$provide[590]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={grad:.9,turn:360,rad:360/(2*Math.PI)},u=function(va){return"string"==typeof va?0<va.length:"number"==typeof va},m=function(va,Ga,Da){return void 0===Ga&&(Ga=0),void 0===Da&&(Da=Math.pow(10,Ga)),Math.round(Da*va)/Da},e=function(va,Ga,Da){return void 0===Ga&&(Ga=0),void 0===Da&&(Da=1),va>Da?Da:va>Ga?va:Ga},c=function(va){return 0<(va=isFinite(va)?va%360:0)?va:va+360},h=function(va){return{r:e(va.r,0,255),g:e(va.g,
0,255),b:e(va.b,0,255),a:e(va.a)}},l=function(va){return{r:m(va.r),g:m(va.g),b:m(va.b),a:m(va.a,3)}},n=/^#([0-9a-f]{3,8})$/i,p=function(va){va=va.toString(16);return 2>va.length?"0"+va:va},v=function(va){var Ga=va.r,Da=va.g,Oa=va.b,tb=Math.max(Ga,Da,Oa),fb=tb-Math.min(Ga,Da,Oa);Ga=fb?tb===Ga?(Da-Oa)/fb:tb===Da?2+(Oa-Ga)/fb:4+(Ga-Da)/fb:0;return{h:60*(0>Ga?Ga+6:Ga),s:tb?fb/tb*100:0,v:tb/255*100,a:va.a}},w=function(va){var Ga=va.h,Da=va.s,Oa=va.v;va=va.a;Ga=Ga/360*6;Da/=100;Oa/=100;var tb=Math.floor(Ga),
fb=Oa*(1-Da),lb=Oa*(1-(Ga-tb)*Da);Ga=Oa*(1-(1-Ga+tb)*Da);Da=tb%6;return{r:255*[Oa,lb,fb,fb,Ga,Oa][Da],g:255*[Ga,Oa,Oa,lb,fb,fb][Da],b:255*[fb,fb,Ga,Oa,Oa,lb][Da],a:va}},z=function(va){return{h:c(va.h),s:e(va.s,0,100),l:e(va.l,0,100),a:e(va.a)}},x=function(va){return{h:m(va.h),s:m(va.s),l:m(va.l),a:m(va.a,3)}},E=function(va){return w((Da=(Ga=va).s,{h:Ga.h,s:0<(Da*=(50>(Oa=Ga.l)?Oa:100-Oa)/100)?2*Da/(Oa+Da)*100:0,v:Oa+Da,a:Ga.a}));var Ga,Da,Oa},H=function(va){return{h:(Ga=v(va)).h,s:0<(tb=(200-(Da=
Ga.s))*(Oa=Ga.v)/100)&&200>tb?Da*Oa/100/(100>=tb?tb:200-tb)*100:0,l:tb/2,a:Ga.a};var Ga,Da,Oa,tb},I=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,N=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Q=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,V=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
ba={string:[[function(va){var Ga=n.exec(va);return Ga?4>=(va=Ga[1]).length?{r:parseInt(va[0]+va[0],16),g:parseInt(va[1]+va[1],16),b:parseInt(va[2]+va[2],16),a:4===va.length?m(parseInt(va[3]+va[3],16)/255,2):1}:6===va.length||8===va.length?{r:parseInt(va.substr(0,2),16),g:parseInt(va.substr(2,2),16),b:parseInt(va.substr(4,2),16),a:8===va.length?m(parseInt(va.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(va){return(va=Q.exec(va)||V.exec(va))?va[2]!==va[4]||va[4]!==va[6]?null:h({r:Number(va[1])/
(va[2]?100/255:1),g:Number(va[3])/(va[4]?100/255:1),b:Number(va[5])/(va[6]?100/255:1),a:void 0===va[7]?1:Number(va[7])/(va[8]?100:1)}):null},"rgb"],[function(va){va=I.exec(va)||N.exec(va);if(!va)return null;var Ga,Da,Oa=z({h:(Ga=va[1],Da=va[2],void 0===Da&&(Da="deg"),Number(Ga)*(A[Da]||1)),s:Number(va[3]),l:Number(va[4]),a:void 0===va[5]?1:Number(va[5])/(va[6]?100:1)});return E(Oa)},"hsl"]],object:[[function(va){var Ga=va.r,Da=va.g,Oa=va.b;va=va.a;va=void 0===va?1:va;return u(Ga)&&u(Da)&&u(Oa)?h({r:Number(Ga),
g:Number(Da),b:Number(Oa),a:Number(va)}):null},"rgb"],[function(va){var Ga=va.h,Da=va.s,Oa=va.l;va=va.a;va=void 0===va?1:va;if(!u(Ga)||!u(Da)||!u(Oa))return null;Ga=z({h:Number(Ga),s:Number(Da),l:Number(Oa),a:Number(va)});return E(Ga)},"hsl"],[function(va){var Ga=va.h,Da=va.s,Oa=va.v;va=va.a;va=void 0===va?1:va;if(!u(Ga)||!u(Da)||!u(Oa))return null;Da=Number(Da);Oa=Number(Oa);va=Number(va);Ga={h:c(Number(Ga)),s:e(Da,0,100),v:e(Oa,0,100),a:e(va)};return w(Ga)},"hsv"]]},T=function(va,Ga){for(var Da=
0;Da<Ga.length;Da++){var Oa=Ga[Da][0](va);if(Oa)return[Oa,Ga[Da][1]]}return[null,void 0]},O=function(va){return"string"==typeof va?T(va.trim(),ba.string):"object"==typeof va&&null!==va?T(va,ba.object):[null,void 0]},da=function(va,Ga){va=H(va);return{h:va.h,s:e(va.s+100*Ga,0,100),l:va.l,a:va.a}},ea=function(va){return(299*va.r+587*va.g+114*va.b)/1E3/255},Aa=function(va,Ga){va=H(va);return{h:va.h,s:va.s,l:e(va.l+100*Ga,0,100),a:va.a}},Ea=function(){function va(Ga){this.rgba=(this.parsed=O(Ga)[0])||
{r:0,g:0,b:0,a:1}}return va.prototype.isValid=function(){return null!==this.parsed},va.prototype.brightness=function(){return m(ea(this.rgba),2)},va.prototype.isDark=function(){return.5>ea(this.rgba)},va.prototype.isLight=function(){return.5<=ea(this.rgba)},va.prototype.toHex=function(){return Ga=l(this.rgba),Da=Ga.r,Oa=Ga.g,tb=Ga.b,lb=1>(fb=Ga.a)?p(m(255*fb)):"","#"+p(Da)+p(Oa)+p(tb)+lb;var Ga,Da,Oa,tb,fb,lb},va.prototype.toRgb=function(){return l(this.rgba)},va.prototype.toRgbString=function(){return Ga=
l(this.rgba),Da=Ga.r,Oa=Ga.g,tb=Ga.b,1>(fb=Ga.a)?"rgba("+Da+", "+Oa+", "+tb+", "+fb+")":"rgb("+Da+", "+Oa+", "+tb+")";var Ga,Da,Oa,tb,fb},va.prototype.toHsl=function(){return x(H(this.rgba))},va.prototype.toHslString=function(){return Ga=x(H(this.rgba)),Da=Ga.h,Oa=Ga.s,tb=Ga.l,1>(fb=Ga.a)?"hsla("+Da+", "+Oa+"%, "+tb+"%, "+fb+")":"hsl("+Da+", "+Oa+"%, "+tb+"%)";var Ga,Da,Oa,tb,fb},va.prototype.toHsv=function(){return Ga=v(this.rgba),{h:m(Ga.h),s:m(Ga.s),v:m(Ga.v),a:m(Ga.a,3)};var Ga},va.prototype.invert=
function(){return qa({r:255-(Ga=this.rgba).r,g:255-Ga.g,b:255-Ga.b,a:Ga.a});var Ga},va.prototype.saturate=function(Ga){return void 0===Ga&&(Ga=.1),qa(da(this.rgba,Ga))},va.prototype.desaturate=function(Ga){return void 0===Ga&&(Ga=.1),qa(da(this.rgba,-Ga))},va.prototype.grayscale=function(){return qa(da(this.rgba,-1))},va.prototype.lighten=function(Ga){return void 0===Ga&&(Ga=.1),qa(Aa(this.rgba,Ga))},va.prototype.darken=function(Ga){return void 0===Ga&&(Ga=.1),qa(Aa(this.rgba,-Ga))},va.prototype.rotate=
function(Ga){return void 0===Ga&&(Ga=15),this.hue(this.hue()+Ga)},va.prototype.alpha=function(Ga){return"number"==typeof Ga?qa({r:(Da=this.rgba).r,g:Da.g,b:Da.b,a:Ga}):m(this.rgba.a,3);var Da},va.prototype.hue=function(Ga){var Da=H(this.rgba);return"number"==typeof Ga?qa({h:Ga,s:Da.s,l:Da.l,a:Da.a}):m(Da.h)},va.prototype.isEqual=function(Ga){return this.toHex()===qa(Ga).toHex()},va}(),qa=function(va){return va instanceof Ea?va:new Ea(va)},jb=[];g.Colord=Ea;g.colord=qa;g.extend=function(va){va.forEach(function(Ga){0>
jb.indexOf(Ga)&&(Ga(Ea,ba),jb.push(Ga))})};g.getFormat=function(va){return O(va)[1]};g.random=function(){return new Ea({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}};
shadow$provide[591]=function(G,y,X,g){X.exports=function(A,u){var m={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",
magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",
khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",
lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",
seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},e={},c;for(c in m)e[m[c]]=
c;var h={};A.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,p,v=e[this.toHex()];if(v)return v;if(null==l?0:l.closest){l=this.toRgb();v=1/0;var w="black";if(!h.length)for(var z in m)h[z]=(new A(m[z])).toRgb();for(var x in m)z=(n=l,p=h[x],Math.pow(n.r-p.r,2)+Math.pow(n.g-p.g,2)+Math.pow(n.b-p.b,2)),z<v&&(v=z,w=x);return w}};u.string.push([function(l){l=l.toLowerCase();return(l="transparent"===l?"#0000":m[l])?(new A(l)).toRgb():null},"name"])}};
shadow$provide[592]=function(G,y,X,g){function A(){return(A=Object.assign||function(ta){for(var Xa=1;Xa<arguments.length;Xa++){var nb=arguments[Xa],Cb;for(Cb in nb)Object.prototype.hasOwnProperty.call(nb,Cb)&&(ta[Cb]=nb[Cb])}return ta}).apply(this,arguments)}function u(ta,Xa){if(null==ta)return{};var nb,Cb,Ma={},ub=Object.keys(ta);for(Cb=0;Cb<ub.length;Cb++)0<=Xa.indexOf(nb=ub[Cb])||(Ma[nb]=ta[nb]);return Ma}function m(ta){var Xa=c.useRef(ta),nb=c.useRef(function(Cb){Xa.current&&Xa.current(Cb)});
return Xa.current=ta,nb.current}function e(ta,Xa,nb){var Cb=m(nb);nb=c.useState(function(){return ta.toHsva(Xa)});var Ma=nb[0],ub=nb[1],lc=c.useRef({color:Xa,hsva:Ma});c.useEffect(function(){if(!ta.equal(Xa,lc.current.color)){var Tb=ta.toHsva(Xa);lc.current={hsva:Tb,color:Xa};ub(Tb)}},[Xa,ta]);c.useEffect(function(){var Tb;Ga(Ma,lc.current.hsva)||ta.equal(Tb=ta.fromHsva(Ma),lc.current.color)||(lc.current={hsva:Ma,color:Tb},Cb(Tb))},[Ma,ta,Cb]);nb=c.useCallback(function(Tb){ub(function(Ic){return Object.assign({},
Ic,Tb)})},[]);return[Ma,nb]}var c=y(0),h=c&&"object"==typeof c&&"default"in c?c:{default:c},l=function(ta,Xa,nb){return void 0===Xa&&(Xa=0),void 0===nb&&(nb=1),ta>nb?nb:ta<Xa?Xa:ta},n=function(ta){return"touches"in ta},p=function(ta){return ta&&ta.ownerDocument.defaultView||self},v=function(ta,Xa,nb){var Cb=ta.getBoundingClientRect();if(n(Xa))a:{Xa=Xa.touches;for(var Ma=0;Ma<Xa.length;Ma++)if(Xa[Ma].identifier===nb){nb=Xa[Ma];break a}nb=Xa[0]}else nb=Xa;return{left:l((nb.pageX-(Cb.left+p(ta).pageXOffset))/
Cb.width),top:l((nb.pageY-(Cb.top+p(ta).pageYOffset))/Cb.height)}},w=h.default.memo(function(ta){var Xa=ta.onMove,nb=ta.onKey;ta=u(ta,["onMove","onKey"]);var Cb=c.useRef(null),Ma=m(Xa),ub=m(nb),lc=c.useRef(null),Tb=c.useRef(!1);Xa=c.useMemo(function(){function kd(Qc){var Fd=Tb.current,Jd=p(Cb.current);Qc=Qc?Jd.addEventListener:Jd.removeEventListener;Qc(Fd?"touchmove":"mousemove",Jc);Qc(Fd?"touchend":"mouseup",dc)}var Jc=function(Qc){!n(Qc)&&Qc.preventDefault();(n(Qc)?0<Qc.touches.length:0<Qc.buttons)&&
Cb.current?Ma(v(Cb.current,Qc,lc.current)):kd(!1)},dc=function(){return kd(!1)};return[function(Qc){Qc=Qc.nativeEvent;var Fd=Cb.current,Jd;if(Jd=Fd)!n(Qc)&&Qc.preventDefault(),Jd=(!Tb.current||n(Qc))&&Fd;Jd&&(n(Qc)&&(Tb.current=!0,Jd=Qc.changedTouches||[],Jd.length&&(lc.current=Jd[0].identifier)),Fd.focus(),Ma(v(Fd,Qc,lc.current)),kd(!0))},function(Qc){var Fd=Qc.which||Qc.keyCode;37>Fd||40<Fd||(Qc.preventDefault(),ub({left:39===Fd?.05:37===Fd?-.05:0,top:40===Fd?.05:38===Fd?-.05:0}))},kd]},[ub,Ma]);
nb=Xa[0];var Ic=Xa[1],nd=Xa[2];return c.useEffect(function(){return nd},[nd]),h.default.createElement("div",A({},ta,{onTouchStart:nb,onMouseDown:nb,className:"react-colorful__interactive",ref:Cb,onKeyDown:Ic,tabIndex:0,role:"slider"}))}),z=function(ta){return ta.filter(Boolean).join(" ")},x=function(ta){var Xa=ta.color,nb=ta.left,Cb=ta.top;Cb=void 0===Cb?.5:Cb;ta=z(["react-colorful__pointer",ta.className]);return h.default.createElement("div",{className:ta,style:{top:100*Cb+"%",left:100*nb+"%"}},
h.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:Xa}}))},E=function(ta,Xa,nb){return void 0===Xa&&(Xa=0),void 0===nb&&(nb=Math.pow(10,Xa)),Math.round(nb*ta)/nb},H={grad:.9,turn:360,rad:360/(2*Math.PI)};G=function(ta){return Ea(I(ta))};var I=function(ta){return"#"===ta[0]&&(ta=ta.substring(1)),6>ta.length?{r:parseInt(ta[0]+ta[0],16),g:parseInt(ta[1]+ta[1],16),b:parseInt(ta[2]+ta[2],16),a:4===ta.length?E(parseInt(ta[3]+ta[3],16)/255,2):1}:{r:parseInt(ta.substring(0,
2),16),g:parseInt(ta.substring(2,4),16),b:parseInt(ta.substring(4,6),16),a:8===ta.length?E(parseInt(ta.substring(6,8),16)/255,2):1}},N=function(ta,Xa){return void 0===Xa&&(Xa="deg"),Number(ta)*(H[Xa]||1)};y=function(ta){return(ta=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ta))?Q({h:N(ta[1],ta[2]),s:Number(ta[3]),l:Number(ta[4]),a:void 0===ta[5]?1:Number(ta[5])/(ta[6]?100:1)}):{h:0,s:0,v:0,a:1}};var Q=function(ta){var Xa=
ta.s,nb=ta.l;return{h:ta.h,s:0<(Xa*=(50>nb?nb:100-nb)/100)?2*Xa/(nb+Xa)*100:0,v:nb+Xa,a:ta.a}},V=function(ta){var Xa=da(ta);ta=Xa.r;var nb=Xa.g,Cb=Xa.b;Xa=Xa.a;Xa=1>Xa?Aa(E(255*Xa)):"";return"#"+Aa(ta)+Aa(nb)+Aa(Cb)+Xa},ba=function(ta){var Xa=ta.s,nb=ta.v,Cb=ta.a,Ma=(200-Xa)*nb/100;return{h:E(ta.h),s:E(0<Ma&&200>Ma?Xa*nb/100/(100>=Ma?Ma:200-Ma)*100:0),l:E(Ma/2),a:E(Cb,2)}},T=function(ta){ta=ba(ta);return"hsl("+ta.h+", "+ta.s+"%, "+ta.l+"%)"},O=function(ta){ta=ba(ta);return"hsla("+ta.h+", "+ta.s+"%, "+
ta.l+"%, "+ta.a+")"},da=function(ta){var Xa=ta.h,nb=ta.s,Cb=ta.v;ta=ta.a;Xa=Xa/360*6;nb/=100;Cb/=100;var Ma=Math.floor(Xa),ub=Cb*(1-nb),lc=Cb*(1-(Xa-Ma)*nb);Xa=Cb*(1-(1-Xa+Ma)*nb);nb=Ma%6;return{r:E(255*[Cb,lc,ub,ub,Xa,Cb][nb]),g:E(255*[Xa,Cb,Cb,lc,ub,ub][nb]),b:E(255*[ub,ub,Xa,Cb,Cb,lc][nb]),a:E(ta,2)}};X=function(ta){return(ta=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ta))?qa({h:N(ta[1],ta[2]),s:Number(ta[3]),
v:Number(ta[4]),a:void 0===ta[5]?1:Number(ta[5])/(ta[6]?100:1)}):{h:0,s:0,v:0,a:1}};var ea=function(ta){return(ta=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ta))?Ea({r:Number(ta[1])/(ta[2]?100/255:1),g:Number(ta[3])/(ta[4]?100/255:1),b:Number(ta[5])/(ta[6]?100/255:1),a:void 0===ta[7]?1:Number(ta[7])/(ta[8]?100:1)}):{h:0,s:0,v:0,a:1}},Aa=function(ta){ta=ta.toString(16);return 2>ta.length?"0"+ta:ta},Ea=function(ta){var Xa=ta.r,
nb=ta.g,Cb=ta.b;ta=ta.a;var Ma=Math.max(Xa,nb,Cb),ub=Ma-Math.min(Xa,nb,Cb);Xa=ub?Ma===Xa?(nb-Cb)/ub:Ma===nb?2+(Cb-Xa)/ub:4+(Xa-nb)/ub:0;return{h:E(60*(0>Xa?Xa+6:Xa)),s:E(Ma?ub/Ma*100:0),v:E(Ma/255*100),a:ta}},qa=function(ta){return{h:E(ta.h),s:E(ta.s),v:E(ta.v),a:E(ta.a,2)}},jb=h.default.memo(function(ta){var Xa=ta.hue,nb=ta.onChange;ta=z(["react-colorful__hue",ta.className]);return h.default.createElement("div",{className:ta},h.default.createElement(w,{onMove:function(Cb){nb({h:360*Cb.left})},onKey:function(Cb){nb({h:l(Xa+
360*Cb.left,0,360)})},"aria-label":"Hue","aria-valuenow":E(Xa),"aria-valuemax":"360","aria-valuemin":"0"},h.default.createElement(x,{className:"react-colorful__hue-pointer",left:Xa/360,color:T({h:Xa,s:100,v:100,a:1})})))}),va=h.default.memo(function(ta){var Xa=ta.hsva,nb=ta.onChange;ta={backgroundColor:T({h:Xa.h,s:100,v:100,a:1})};return h.default.createElement("div",{className:"react-colorful__saturation",style:ta},h.default.createElement(w,{onMove:function(Cb){nb({s:100*Cb.left,v:100-100*Cb.top})},
onKey:function(Cb){nb({s:l(Xa.s+100*Cb.left,0,100),v:l(Xa.v-100*Cb.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+E(Xa.s)+"%, Brightness "+E(Xa.v)+"%"},h.default.createElement(x,{className:"react-colorful__saturation-pointer",top:1-Xa.v/100,left:Xa.s/100,color:T(Xa)})))}),Ga=function(ta,Xa){if(ta===Xa)return!0;for(var nb in ta)if(ta[nb]!==Xa[nb])return!1;return!0},Da=function(ta,Xa){return ta.replace(/\s/g,"")===Xa.replace(/\s/g,"")},Oa=function(ta,Xa){return ta.toLowerCase()===
Xa.toLowerCase()||Ga(I(ta),I(Xa))},tb,fb="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,lb=new Map,ka=function(ta){fb(function(){var Xa=ta.current?ta.current.ownerDocument:document;if(void 0!==Xa&&!lb.has(Xa)){var nb=Xa.createElement("style");nb.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset\x3dutf-8,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" fill-opacity\x3d".05"\x3e\x3cpath d\x3d"M8 0h8v8H8zM0 8h8v8H0z"/\x3e\x3c/svg\x3e\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}';
lb.set(Xa,nb);var Cb=tb||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);Cb&&nb.setAttribute("nonce",Cb);Xa.head.appendChild(nb)}},[])},zb=function(ta){var Xa=ta.className,nb=ta.colorModel,Cb=ta.color,Ma=void 0===Cb?nb.defaultColor:Cb,ub=ta.onChange;ta=u(ta,["className","colorModel","color","onChange"]);Cb=c.useRef(null);ka(Cb);Ma=e(nb,Ma,ub);nb=Ma[0];Ma=Ma[1];Xa=z(["react-colorful",Xa]);return h.default.createElement("div",A({},ta,{ref:Cb,className:Xa}),h.default.createElement(va,
{hsva:nb,onChange:Ma}),h.default.createElement(jb,{hue:nb.h,onChange:Ma,className:"react-colorful__last-control"}))},Eb={defaultColor:"000",toHsva:G,fromHsva:function(ta){return V({h:ta.h,s:ta.s,v:ta.v,a:1})},equal:Oa},kb=function(ta){var Xa=ta.className,nb=ta.hsva,Cb=ta.onChange;ta={backgroundImage:"linear-gradient(90deg, "+O(Object.assign({},nb,{a:0}))+", "+O(Object.assign({},nb,{a:1}))+")"};Xa=z(["react-colorful__alpha",Xa]);var Ma=E(100*nb.a);return h.default.createElement("div",{className:Xa},
h.default.createElement("div",{className:"react-colorful__alpha-gradient",style:ta}),h.default.createElement(w,{onMove:function(ub){Cb({a:ub.left})},onKey:function(ub){Cb({a:l(nb.a+ub.left)})},"aria-label":"Alpha","aria-valuetext":Ma+"%","aria-valuenow":Ma,"aria-valuemin":"0","aria-valuemax":"100"},h.default.createElement(x,{className:"react-colorful__alpha-pointer",left:nb.a,color:O(nb)})))},Nb=function(ta){var Xa=ta.className,nb=ta.colorModel,Cb=ta.color,Ma=void 0===Cb?nb.defaultColor:Cb,ub=ta.onChange;
ta=u(ta,["className","colorModel","color","onChange"]);Cb=c.useRef(null);ka(Cb);Ma=e(nb,Ma,ub);nb=Ma[0];Ma=Ma[1];Xa=z(["react-colorful",Xa]);return h.default.createElement("div",A({},ta,{ref:Cb,className:Xa}),h.default.createElement(va,{hsva:nb,onChange:Ma}),h.default.createElement(jb,{hue:nb.h,onChange:Ma}),h.default.createElement(kb,{hsva:nb,onChange:Ma,className:"react-colorful__last-control"}))},L={defaultColor:"0001",toHsva:G,fromHsva:V,equal:Oa},Y={defaultColor:{h:0,s:0,l:0,a:1},toHsva:Q,fromHsva:ba,
equal:Ga},sa={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:y,fromHsva:O,equal:Da},Za={defaultColor:{h:0,s:0,l:0},toHsva:function(ta){return Q({h:ta.h,s:ta.s,l:ta.l,a:1})},fromHsva:function(ta){return{h:(Xa=ba(ta)).h,s:Xa.s,l:Xa.l};var Xa},equal:Ga},Ja={defaultColor:"hsl(0, 0%, 0%)",toHsva:y,fromHsva:T,equal:Da},Sa={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(ta){return ta},fromHsva:qa,equal:Ga},hb={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:X,fromHsva:function(ta){ta=qa(ta);return"hsva("+ta.h+", "+ta.s+
"%, "+ta.v+"%, "+ta.a+")"},equal:Da},Ba={defaultColor:{h:0,s:0,v:0},toHsva:function(ta){return{h:ta.h,s:ta.s,v:ta.v,a:1}},fromHsva:function(ta){ta=qa(ta);return{h:ta.h,s:ta.s,v:ta.v}},equal:Ga},ya={defaultColor:"hsv(0, 0%, 0%)",toHsva:X,fromHsva:function(ta){ta=qa(ta);return"hsv("+ta.h+", "+ta.s+"%, "+ta.v+"%)"},equal:Da},na={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Ea,fromHsva:da,equal:Ga},Va={defaultColor:"rgba(0, 0, 0, 1)",toHsva:ea,fromHsva:function(ta){ta=da(ta);return"rgba("+ta.r+", "+ta.g+", "+
ta.b+", "+ta.a+")"},equal:Da},bb={defaultColor:{r:0,g:0,b:0},toHsva:function(ta){return Ea({r:ta.r,g:ta.g,b:ta.b,a:1})},fromHsva:function(ta){return{r:(Xa=da(ta)).r,g:Xa.g,b:Xa.b};var Xa},equal:Ga},wb={defaultColor:"rgb(0, 0, 0)",toHsva:ea,fromHsva:function(ta){ta=da(ta);return"rgb("+ta.r+", "+ta.g+", "+ta.b+")"},equal:Da},Ca=/^#?([0-9A-F]{3,8})$/i,gb=function(ta){var Xa=ta.color,nb=void 0===Xa?"":Xa,Cb=ta.onChange,Ma=ta.onBlur,ub=ta.escape,lc=ta.validate;Xa=ta.format;var Tb=ta.process;ta=u(ta,"color onChange onBlur escape validate format process".split(" "));
var Ic=c.useState(function(){return ub(nb)}),nd=Ic[0],kd=Ic[1],Jc=m(Cb),dc=m(Ma);Cb=c.useCallback(function(Qc){Qc=ub(Qc.target.value);kd(Qc);lc(Qc)&&Jc(Tb?Tb(Qc):Qc)},[ub,Tb,lc,Jc]);Ma=c.useCallback(function(Qc){lc(Qc.target.value)||kd(ub(nb));dc(Qc)},[nb,ub,lc,dc]);return c.useEffect(function(){kd(ub(nb))},[nb,ub]),h.default.createElement("input",A({},ta,{value:Xa?Xa(nd):nd,spellCheck:"false",onChange:Cb,onBlur:Ma}))},cb=function(ta){return"#"+ta};g.HexAlphaColorPicker=function(ta){return h.default.createElement(Nb,
A({},ta,{colorModel:L}))};g.HexColorInput=function(ta){var Xa=ta.prefixed,nb=ta.alpha;ta=u(ta,["prefixed","alpha"]);var Cb=c.useCallback(function(ub){return ub.replace(/([^0-9A-F]+)/gi,"").substring(0,nb?8:6)},[nb]),Ma=c.useCallback(function(ub){ub=(ub=Ca.exec(ub))?ub[1].length:0;return 3===ub||6===ub||!!nb&&4===ub||!!nb&&8===ub},[nb]);return h.default.createElement(gb,A({},ta,{escape:Cb,format:Xa?cb:void 0,process:cb,validate:Ma}))};g.HexColorPicker=function(ta){return h.default.createElement(zb,
A({},ta,{colorModel:Eb}))};g.HslColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:Za}))};g.HslStringColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:Ja}))};g.HslaColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:Y}))};g.HslaStringColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:sa}))};g.HsvColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:Ba}))};g.HsvStringColorPicker=
function(ta){return h.default.createElement(zb,A({},ta,{colorModel:ya}))};g.HsvaColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:Sa}))};g.HsvaStringColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:hb}))};g.RgbColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:bb}))};g.RgbStringColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:wb}))};g.RgbaColorPicker=function(ta){return h.default.createElement(Nb,
A({},ta,{colorModel:na}))};g.RgbaStringColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:Va}))};g.setNonce=function(ta){tb=ta}};
shadow$provide[597]=function(G,y,X,g){X.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[601]=function(G,y,X,g){function A(){}function u(){}var m=y(597);u.resetWarningCache=A;X.exports=function(){function e(l,n,p,v,w,z){if(z!==m)throw l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),l.name="Invariant Violation",l;}function c(){return e}e.isRequired=e;var h={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:c,
element:e,elementType:e,instanceOf:c,node:e,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:u,resetWarningCache:A};return h.PropTypes=h}};
shadow$provide[602]=function(G,y,X,g){X.exports=y(601)()};
shadow$provide[603]=function(G,y,X,g){!function(A,u){"object"==typeof g&&"undefined"!=typeof X?u(g,y(0),y(602)):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],u):u((A="undefined"!=typeof globalThis?globalThis:A||self).reactDropzone={},A.React,A.PropTypes)}(this,function(A,u,m){function e(Ca){return Ca&&"object"==typeof Ca&&"default"in Ca?Ca:{default:Ca}}function c(Ca,gb){var cb=Object.keys(Ca);if(Object.getOwnPropertySymbols){var ta=Object.getOwnPropertySymbols(Ca);
gb&&(ta=ta.filter(function(Xa){return Object.getOwnPropertyDescriptor(Ca,Xa).enumerable}));cb.push.apply(cb,ta)}return cb}function h(Ca){for(var gb=1;gb<arguments.length;gb++){var cb=null!=arguments[gb]?arguments[gb]:{};gb%2?c(Object(cb),!0).forEach(function(ta){l(Ca,ta,cb[ta])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ca,Object.getOwnPropertyDescriptors(cb)):c(Object(cb)).forEach(function(ta){Object.defineProperty(Ca,ta,Object.getOwnPropertyDescriptor(cb,ta))})}return Ca}function l(Ca,
gb,cb){return gb in Ca?Object.defineProperty(Ca,gb,{value:cb,enumerable:!0,configurable:!0,writable:!0}):Ca[gb]=cb,Ca}function n(Ca,gb){if(null==Ca)return{};var cb;if(null==Ca)var ta={};else{ta={};var Xa=Object.keys(Ca);for(cb=0;cb<Xa.length;cb++){var nb=Xa[cb];0<=gb.indexOf(nb)||(ta[nb]=Ca[nb])}}if(Object.getOwnPropertySymbols)for(Xa=Object.getOwnPropertySymbols(Ca),cb=0;cb<Xa.length;cb++)nb=Xa[cb],0<=gb.indexOf(nb)||Object.prototype.propertyIsEnumerable.call(Ca,nb)&&(ta[nb]=Ca[nb]);return ta}function p(Ca,
gb){if(!(Ca=function(cb){if(Array.isArray(cb))return cb}(Ca)||function(cb,ta){var Xa=null==cb?null:"undefined"!=typeof Symbol&&cb[Symbol.iterator]||cb["@@iterator"];if(null!=Xa){var nb,Cb=[],Ma=!0,ub=!1;try{for(Xa=Xa.call(cb);!(Ma=(nb=Xa.next()).done)&&(Cb.push(nb.value),!ta||Cb.length!==ta);Ma=!0);}catch(Tb){ub=!0;var lc=Tb}finally{try{Ma||null==Xa.return||Xa.return()}finally{if(ub)throw lc;}}return Cb}}(Ca,gb)||w(Ca,gb)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return Ca}function v(Ca){var gb=Array.isArray(Ca)?z(Ca):void 0;gb||(gb="undefined"!=typeof Symbol&&null!=Ca[Symbol.iterator]||null!=Ca["@@iterator"]?Array.from(Ca):void 0);if(!(Ca=gb||w(Ca)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return Ca}function w(Ca,gb){if(Ca){if("string"==typeof Ca)return z(Ca,gb);var cb=Object.prototype.toString.call(Ca).slice(8,-1);return"Object"===cb&&Ca.constructor&&
(cb=Ca.constructor.name),"Map"===cb||"Set"===cb?Array.from(Ca):"Arguments"===cb||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cb)?z(Ca,gb):void 0}}function z(Ca,gb){(null==gb||gb>Ca.length)&&(gb=Ca.length);for(var cb=0,ta=Array(gb);cb<gb;cb++)ta[cb]=Ca[cb];return ta}function x(Ca,gb,cb,ta){return new (cb||(cb=Promise))(function(Xa,nb){function Cb(lc){try{ub(ta.next(lc))}catch(Tb){nb(Tb)}}function Ma(lc){try{ub(ta.throw(lc))}catch(Tb){nb(Tb)}}function ub(lc){var Tb;lc.done?Xa(lc.value):(Tb=lc.value,
Tb instanceof cb?Tb:new cb(function(Ic){Ic(Tb)})).then(Cb,Ma)}ub((ta=ta.apply(Ca,gb||[])).next())})}function E(Ca,gb){function cb(ub){return function(lc){return function(Tb){if(ta)throw new TypeError("Generator is already executing.");for(;Ma;)try{if(ta=1,Xa&&(nb=2&Tb[0]?Xa.return:Tb[0]?Xa.throw||((nb=Xa.return)&&nb.call(Xa),0):Xa.next)&&!(nb=nb.call(Xa,Tb[1])).done)return nb;switch(Xa=0,nb&&(Tb=[2&Tb[0],nb.value]),Tb[0]){case 0:case 1:nb=Tb;break;case 4:return Ma.label++,{value:Tb[1],done:!1};case 5:Ma.label++;
Xa=Tb[1];Tb=[0];continue;case 7:Tb=Ma.ops.pop();Ma.trys.pop();continue;default:if(!(nb=Ma.trys,(nb=0<nb.length&&nb[nb.length-1])||6!==Tb[0]&&2!==Tb[0])){Ma=0;continue}if(3===Tb[0]&&(!nb||Tb[1]>nb[0]&&Tb[1]<nb[3]))Ma.label=Tb[1];else if(6===Tb[0]&&Ma.label<nb[1])Ma.label=nb[1],nb=Tb;else if(nb&&Ma.label<nb[2])Ma.label=nb[2],Ma.ops.push(Tb);else{nb[2]&&Ma.ops.pop();Ma.trys.pop();continue}}Tb=gb.call(Ca,Ma)}catch(Ic){Tb=[6,Ic],Xa=0}finally{ta=nb=0}if(5&Tb[0])throw Tb[1];return{value:Tb[0]?Tb[1]:void 0,
done:!0}}([ub,lc])}}var ta,Xa,nb,Cb,Ma={label:0,sent:function(){if(1&nb[0])throw nb[1];return nb[1]},trys:[],ops:[]};return Cb={next:cb(0),throw:cb(1),return:cb(2)},"function"==typeof Symbol&&(Cb[Symbol.iterator]=function(){return this}),Cb}function H(Ca,gb){var cb=Ca.name;cb&&-1!==cb.lastIndexOf(".")&&!Ca.type&&(cb=cb.split(".").pop().toLowerCase(),(cb=L.get(cb))&&Object.defineProperty(Ca,"type",{value:cb,writable:!1,configurable:!1,enumerable:!0}));"string"!=typeof Ca.path&&(cb=Ca.webkitRelativePath,
Object.defineProperty(Ca,"path",{value:"string"==typeof gb?gb:"string"==typeof cb&&0<cb.length?cb:Ca.name,writable:!1,configurable:!1,enumerable:!0}));return Ca}function I(Ca){return"object"==typeof Ca&&null!==Ca}function N(Ca){return T(Ca.target.files).map(function(gb){return H(gb)})}function Q(Ca){return x(this,void 0,void 0,function(){return E(this,function(gb){switch(gb.label){case 0:return[4,Promise.all(Ca.map(function(cb){return cb.getFile()}))];case 1:return[2,gb.sent().map(function(cb){return H(cb)})]}})})}
function V(Ca,gb){return x(this,void 0,void 0,function(){var cb;return E(this,function(ta){switch(ta.label){case 0:return null===Ca?[2,[]]:Ca.items?(cb=T(Ca.items).filter(function(Xa){return"file"===Xa.kind}),"drop"!==gb?[2,cb]:[4,Promise.all(cb.map(O))]):[3,2];case 1:return[2,ba(da(ta.sent()))];case 2:return[2,ba(T(Ca.files).map(function(Xa){return H(Xa)}))]}})})}function ba(Ca){return Ca.filter(function(gb){return-1===Y.indexOf(gb.name)})}function T(Ca){if(null===Ca)return[];for(var gb=[],cb=0;cb<
Ca.length;cb++)gb.push(Ca[cb]);return gb}function O(Ca){if("function"!=typeof Ca.webkitGetAsEntry)return ea(Ca);var gb=Ca.webkitGetAsEntry();return gb&&gb.isDirectory?Ea(gb):ea(Ca)}function da(Ca){return Ca.reduce(function(gb,cb){return function(){for(var ta=[],Xa=0;Xa<arguments.length;Xa++){var nb=ta.concat,Cb;var Ma=Cb=void 0,ub=arguments[Xa],lc=void 0,Tb="function"==typeof Symbol&&ub[Symbol.iterator];if(Tb){ub=Tb.call(ub);var Ic=[];try{for(;(void 0===lc||0<lc--)&&!(Ma=ub.next()).done;)Ic.push(Ma.value)}catch(nd){Cb=
{error:nd}}finally{try{Ma&&!Ma.done&&(Tb=ub.return)&&Tb.call(ub)}finally{if(Cb)throw Cb.error;}}Cb=Ic}else Cb=ub;ta=nb.call(ta,Cb)}return ta}(gb,Array.isArray(cb)?da(cb):[cb])},[])}function ea(Ca){var gb=Ca.getAsFile();if(!gb)return Promise.reject(Ca+" is not a File");Ca=H(gb);return Promise.resolve(Ca)}function Aa(Ca){return x(this,void 0,void 0,function(){return E(this,function(gb){return[2,Ca.isDirectory?Ea(Ca):qa(Ca)]})})}function Ea(Ca){var gb=Ca.createReader();return new Promise(function(cb,
ta){var Xa=[];!function Cb(){var Ma=this;gb.readEntries(function(ub){return x(Ma,void 0,void 0,function(){var lc,Tb,Ic;return E(this,function(nd){switch(nd.label){case 0:if(ub.length)return[3,5];nd.label=1;case 1:return nd.trys.push([1,3,,4]),[4,Promise.all(Xa)];case 2:return lc=nd.sent(),cb(lc),[3,4];case 3:return Tb=nd.sent(),ta(Tb),[3,4];case 4:return[3,6];case 5:Ic=Promise.all(ub.map(Aa)),Xa.push(Ic),Cb(),nd.label=6;case 6:return[2]}})})},function(ub){ta(ub)})}()})}function qa(Ca){return x(this,
void 0,void 0,function(){return E(this,function(gb){return[2,new Promise(function(cb,ta){Ca.file(function(Xa){Xa=H(Xa,Ca.fullPath);cb(Xa)},function(Xa){ta(Xa)})})]})})}function jb(Ca,gb){Ca="application/x-moz-file"===Ca.type||function(cb,ta){if(cb&&ta){ta=Array.isArray(ta)?ta:ta.split(",");var Xa=cb.name||"",nb=(cb.type||"").toLowerCase(),Cb=nb.replace(/\/.*$/,"");return ta.some(function(Ma){Ma=Ma.trim().toLowerCase();return"."===Ma.charAt(0)?Xa.toLowerCase().endsWith(Ma):Ma.endsWith("/*")?Cb===Ma.replace(/\/.*$/,
""):nb===Ma})}return!0}(Ca,gb);return[Ca,Ca?null:sa(gb)]}function va(Ca,gb,cb){if(null!=Ca.size)if(null!=gb&&null!=cb){if(Ca.size>cb)return[!1,Za(cb)];if(Ca.size<gb)return[!1,Ja(gb)]}else{if(null!=gb&&Ca.size<gb)return[!1,Ja(gb)];if(null!=cb&&Ca.size>cb)return[!1,Za(cb)]}return[!0,null]}function Ga(Ca){var gb=Ca.files,cb=Ca.accept,ta=Ca.minSize,Xa=Ca.maxSize,nb=Ca.multiple;Ca=Ca.maxFiles;return!(!nb&&1<gb.length||nb&&1<=Ca&&gb.length>Ca)&&gb.every(function(Cb){var Ma=p(jb(Cb,cb),1)[0];Cb=p(va(Cb,
ta,Xa),1)[0];return Ma&&Cb})}function Da(Ca){return"function"==typeof Ca.isPropagationStopped?Ca.isPropagationStopped():void 0!==Ca.cancelBubble&&Ca.cancelBubble}function Oa(Ca){return Ca.dataTransfer?Array.prototype.some.call(Ca.dataTransfer.types,function(gb){return"Files"===gb||"application/x-moz-file"===gb}):!!Ca.target&&!!Ca.target.files}function tb(Ca){Ca.preventDefault()}function fb(){var Ca=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return-1!==Ca.indexOf("MSIE")||
-1!==Ca.indexOf("Trident/")||-1!==Ca.indexOf("Edge/")}function lb(){for(var Ca=arguments.length,gb=Array(Ca),cb=0;cb<Ca;cb++)gb[cb]=arguments[cb];return function(ta){for(var Xa=arguments.length,nb=Array(1<Xa?Xa-1:0),Cb=1;Cb<Xa;Cb++)nb[Cb-1]=arguments[Cb];return gb.some(function(Ma){return!Da(ta)&&Ma&&Ma.apply(void 0,[ta].concat(nb)),Da(ta)})}}function ka(Ca){return Ca="string"==typeof Ca?Ca.split(","):Ca,[{description:"everything",accept:Array.isArray(Ca)?Ca.filter(function(gb){return"audio/*"===
gb||"video/*"===gb||"image/*"===gb||"text/*"===gb||/\w+\/[-+.\w]+/g.test(gb)}).reduce(function(gb,cb){return h(h({},gb),{},l({},cb,[]))},{}):{}}]}function zb(){var Ca=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ca=h(h({},bb),Ca);var gb=Ca.accept,cb=Ca.disabled,ta=Ca.getFilesFromEvent,Xa=Ca.maxSize,nb=Ca.minSize,Cb=Ca.multiple,Ma=Ca.maxFiles,ub=Ca.onDragEnter,lc=Ca.onDragLeave,Tb=Ca.onDragOver,Ic=Ca.onDrop,nd=Ca.onDropAccepted,kd=Ca.onDropRejected,Jc=Ca.onFileDialogCancel,dc=Ca.onFileDialogOpen,
Qc=Ca.useFsAccessApi,Fd=Ca.preventDropOnDocument,Jd=Ca.noClick,xc=Ca.noKeyboard,ee=Ca.noDrag,ie=Ca.noDragEventsBubbling,He=Ca.validator,Kb=u.useMemo(function(){return"function"==typeof dc?dc:kb},[dc]),re=u.useMemo(function(){return"function"==typeof Jc?Jc:kb},[Jc]),rd=u.useRef(null),sd=u.useRef(null);Ca=u.useReducer(Eb,wb);var Ae=p(Ca,2);Ca=Ae[0];var xe=Ae[1];Ae=Ca.isFocused;var yc=Ca.isFileDialogActive,Pd=Ca.draggedFiles,kc=u.useRef("undefined"!=typeof window&&window.isSecureContext&&Qc&&"showOpenFilePicker"in
window),Rc=function(){!kc.current&&yc&&setTimeout(function(){sd.current&&(sd.current.files.length||(xe({type:"closeDialog"}),re()))},300)};u.useEffect(function(){return window.addEventListener("focus",Rc,!1),function(){window.removeEventListener("focus",Rc,!1)}},[sd,yc,re,kc]);var Sc=u.useRef([]),Dd=function(Lc){rd.current&&rd.current.contains(Lc.target)||(Lc.preventDefault(),Sc.current=[])};u.useEffect(function(){return Fd&&(document.addEventListener("dragover",tb,!1),document.addEventListener("drop",
Dd,!1)),function(){Fd&&(document.removeEventListener("dragover",tb),document.removeEventListener("drop",Dd))}},[rd,Fd]);var Gc=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();Sc.current=[].concat(v(Sc.current),[Lc.target]);Oa(Lc)&&Promise.resolve(ta(Lc)).then(function(Ld){Da(Lc)&&!ie||(xe({draggedFiles:Ld,isDragActive:!0,type:"setDraggedFiles"}),ub&&ub(Lc))})},[ta,ub,ie]),Hf=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();var Ld=
Oa(Lc);if(Ld&&Lc.dataTransfer)try{Lc.dataTransfer.dropEffect="copy"}catch(wa){}return Ld&&Tb&&Tb(Lc),!1},[Tb,ie]),Me=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();var Ld=Sc.current.filter(function(Ka){return rd.current&&rd.current.contains(Ka)}),wa=Ld.indexOf(Lc.target);-1!==wa&&Ld.splice(wa,1);Sc.current=Ld;0<Ld.length||(xe({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Oa(Lc)&&lc&&lc(Lc))},[rd,lc,ie]),De=u.useCallback(function(Lc,Ld){var wa=[],Ka=
[];Lc.forEach(function(eb){var ob=p(jb(eb,gb),2),Bb=ob[0];ob=ob[1];var mb=p(va(eb,nb,Xa),2),yb=mb[0],Fb=mb[1];mb=He?He(eb):null;Bb&&yb&&!mb?wa.push(eb):(Bb=[ob,Fb],mb&&(Bb=Bb.concat(mb)),Ka.push({file:eb,errors:Bb.filter(function(Hb){return Hb})}))});(!Cb&&1<wa.length||Cb&&1<=Ma&&wa.length>Ma)&&(wa.forEach(function(eb){Ka.push({file:eb,errors:[Sa]})}),wa.splice(0));xe({acceptedFiles:wa,fileRejections:Ka,type:"setFiles"});Ic&&Ic(wa,Ka,Ld);0<Ka.length&&kd&&kd(Ka,Ld);0<wa.length&&nd&&nd(wa,Ld)},[xe,
Cb,gb,nb,Xa,Ma,Ic,nd,kd,He]),Se=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();Sc.current=[];Oa(Lc)&&Promise.resolve(ta(Lc)).then(function(Ld){Da(Lc)&&!ie||De(Ld,Lc)});xe({type:"reset"})},[ta,De,ie]),Ye=u.useCallback(function(){if(kc.current){xe({type:"openDialog"});Kb();var Lc={multiple:Cb,types:ka(gb)};window.showOpenFilePicker(Lc).then(function(Ld){return ta(Ld)}).then(function(Ld){De(Ld,null);xe({type:"closeDialog"})}).catch(function(Ld){Ld instanceof DOMException&&
("AbortError"===Ld.name||Ld.code===Ld.ABORT_ERR)?(re(Ld),xe({type:"closeDialog"})):Ld instanceof DOMException&&("SecurityError"===Ld.name||Ld.code===Ld.SECURITY_ERR)&&(kc.current=!1,sd.current&&(sd.current.value=null,sd.current.click()))})}else sd.current&&(xe({type:"openDialog"}),Kb(),sd.current.value=null,sd.current.click())},[xe,Kb,re,Qc,De,gb,Cb]),le=u.useCallback(function(Lc){rd.current&&rd.current.isEqualNode(Lc.target)&&(" "!==Lc.key&&"Enter"!==Lc.key&&32!==Lc.keyCode&&13!==Lc.keyCode||(Lc.preventDefault(),
Ye()))},[rd,Ye]),hf=u.useCallback(function(){xe({type:"focus"})},[]),wf=u.useCallback(function(){xe({type:"blur"})},[]),kf=u.useCallback(function(){Jd||(fb()?setTimeout(Ye,0):Ye())},[Jd,Ye]),lf=function(Lc){return cb?null:Lc},fe=function(Lc){return xc?null:lf(Lc)},Pb=function(Lc){return ee?null:lf(Lc)};Qc=u.useMemo(function(){return function(){var Lc=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Ld=Lc.refKey;Ld=void 0===Ld?"ref":Ld;var wa=Lc.role,Ka=Lc.onKeyDown,eb=Lc.onFocus,ob=Lc.onBlur,
Bb=Lc.onClick,mb=Lc.onDragEnter,yb=Lc.onDragOver,Fb=Lc.onDragLeave,Hb=Lc.onDrop;Lc=n(Lc,ya);return h(h(l({onKeyDown:fe(lb(Ka,le)),onFocus:fe(lb(eb,hf)),onBlur:fe(lb(ob,wf)),onClick:lf(lb(Bb,kf)),onDragEnter:Pb(lb(mb,Gc)),onDragOver:Pb(lb(yb,Hf)),onDragLeave:Pb(lb(Fb,Me)),onDrop:Pb(lb(Hb,Se)),role:"string"==typeof wa&&""!==wa?wa:"button"},Ld,rd),cb||xc?{}:{tabIndex:0}),Lc)}},[rd,le,hf,wf,kf,Gc,Hf,Me,Se,xc,ee,cb]);var Zd=u.useCallback(function(Lc){Lc.stopPropagation()},[]),Ie=u.useMemo(function(){return function(){var Lc=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Ld=Lc.refKey;Ld=void 0===Ld?"ref":Ld;var wa=Lc.onChange,Ka=Lc.onClick;Lc=n(Lc,na);Ld=l({accept:gb,multiple:Cb,type:"file",style:{display:"none"},onChange:lf(lb(wa,Se)),onClick:lf(lb(Ka,Zd)),tabIndex:-1},Ld,sd);return h(h({},Ld),Lc)}},[sd,gb,Cb,Se,cb]),ve=Pd.length;Pd=0<ve&&Ga({files:Pd,accept:gb,minSize:nb,maxSize:Xa,multiple:Cb,maxFiles:Ma});ve=0<ve&&!Pd;return h(h({},Ca),{},{isDragAccept:Pd,isDragReject:ve,isFocused:Ae&&!cb,getRootProps:Qc,
getInputProps:Ie,rootRef:rd,inputRef:sd,open:lf(Ye)})}function Eb(Ca,gb){switch(gb.type){case "focus":return h(h({},Ca),{},{isFocused:!0});case "blur":return h(h({},Ca),{},{isFocused:!1});case "openDialog":return h(h({},wb),{},{isFileDialogActive:!0});case "closeDialog":return h(h({},Ca),{},{isFileDialogActive:!1});case "setDraggedFiles":var cb=gb.isDragActive;gb=gb.draggedFiles;return h(h({},Ca),{},{draggedFiles:gb,isDragActive:cb});case "setFiles":return h(h({},Ca),{},{acceptedFiles:gb.acceptedFiles,
fileRejections:gb.fileRejections});case "reset":return h({},wb);default:return Ca}}function kb(){}var Nb=e(u);m=e(m);var L=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],
["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],
["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],
["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav",
"audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),Y=[".DS_Store",
"Thumbs.db"],sa=function(Ca){Ca=Array.isArray(Ca)&&1===Ca.length?Ca[0]:Ca;Ca=Array.isArray(Ca)?"one of ".concat(Ca.join(", ")):Ca;return{code:"file-invalid-type",message:"File type must be ".concat(Ca)}},Za=function(Ca){return{code:"file-too-large",message:"File is larger than ".concat(Ca," ").concat(1===Ca?"byte":"bytes")}},Ja=function(Ca){return{code:"file-too-small",message:"File is smaller than ".concat(Ca," ").concat(1===Ca?"byte":"bytes")}},Sa={code:"too-many-files",message:"Too many files"},
hb=["children"],Ba=["open"],ya="refKey role onKeyDown onFocus onBlur onClick onDragEnter onDragOver onDragLeave onDrop".split(" "),na=["refKey","onChange","onClick"],Va=u.forwardRef(function(Ca,gb){var cb=Ca.children;Ca=zb(n(Ca,hb));var ta=Ca.open;Ca=n(Ca,Ba);return u.useImperativeHandle(gb,function(){return{open:ta}},[ta]),Nb.default.createElement(u.Fragment,null,cb(h(h({},Ca),{},{open:ta})))});Va.displayName="Dropzone";var bb={disabled:!1,getFilesFromEvent:function(Ca){return x(this,void 0,void 0,
function(){return E(this,function(gb){return I(Ca)&&I(Ca.dataTransfer)?[2,V(Ca.dataTransfer,Ca.type)]:function(cb){return I(cb)&&I(cb.target)}(Ca)?[2,N(Ca)]:Array.isArray(Ca)&&Ca.every(function(cb){return"getFile"in cb&&"function"==typeof cb.getFile})?[2,Q(Ca)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Va.defaultProps=bb;Va.propTypes={children:m.default.func,accept:m.default.oneOfType([m.default.string,
m.default.arrayOf(m.default.string)]),multiple:m.default.bool,preventDropOnDocument:m.default.bool,noClick:m.default.bool,noKeyboard:m.default.bool,noDrag:m.default.bool,noDragEventsBubbling:m.default.bool,minSize:m.default.number,maxSize:m.default.number,maxFiles:m.default.number,disabled:m.default.bool,getFilesFromEvent:m.default.func,onFileDialogCancel:m.default.func,onFileDialogOpen:m.default.func,useFsAccessApi:m.default.bool,onDragEnter:m.default.func,onDragLeave:m.default.func,onDragOver:m.default.func,
onDrop:m.default.func,onDropAccepted:m.default.func,onDropRejected:m.default.func,validator:m.default.func};var wb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};A.ErrorCode={FileInvalidType:"file-invalid-type",FileTooLarge:"file-too-large",FileTooSmall:"file-too-small",TooManyFiles:"too-many-files"};A.default=Va;A.useDropzone=zb;Object.defineProperty(A,"__esModule",{value:!0})})};
shadow$provide[604]=function(G,y,X,g){function A(e){var c=new Set,h=function(w,z){w="function"===typeof w?w(v):w;if(w!==v){var x=v;v=z?w:Object.assign({},v,w);c.forEach(function(E){return E(v,x)})}},l=function(){return v},n=function(w,z,x){function E(){var I=z(v);if(!x(H,I)){var N=H;w(H=I,N)}}void 0===z&&(z=l);void 0===x&&(x=Object.is);console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var H=z(v);c.add(E);return function(){return c.delete(E)}},p={setState:h,getState:l,subscribe:function(w,
z,x){if(z||x)return n(w,z,x);c.add(w);return function(){return c.delete(w)}},destroy:function(){return c.clear()}};var v=e(h,l,p);return p}Object.defineProperty(g,"__esModule",{value:!0});var u=y(0),m="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?u.useEffect:u.useLayoutEffect;g["default"]=function(e){var c="function"===typeof e?A(e):e,h=function(l,n){void 0===l&&(l=c.getState);void 0===n&&(n=Object.is);var p=u.useReducer(function(ba){return ba+
1},0)[1],v=c.getState(),w=u.useRef(v),z=u.useRef(l),x=u.useRef(n),E=u.useRef(!1),H=u.useRef();void 0===H.current&&(H.current=l(v));var I=!1;if(w.current!==v||z.current!==l||x.current!==n||E.current){var N=l(v);I=!n(H.current,N)}m(function(){I&&(H.current=N);w.current=v;z.current=l;x.current=n;E.current=!1});var Q=u.useRef(v);m(function(){var ba=function(){try{var O=c.getState(),da=z.current(O);x.current(H.current,da)||(w.current=O,H.current=da,p())}catch(ea){E.current=!0,p()}},T=c.subscribe(ba);c.getState()!==
Q.current&&ba();return T},[]);var V=I?N:H.current;u.useDebugValue(V);return V};Object.assign(h,c);h[Symbol.iterator]=function(){console.warn("[useStore, api] \x3d create() is deprecated and will be removed in v4");var l=[h,c];return{next:function(){var n=0>=l.length;return{value:l.shift(),done:n}}}};return h}};
shadow$provide[605]=function(G,y,X,g){function A(){A=Object.assign||function(e){for(var c=1;c<arguments.length;c++){var h=arguments[c],l;for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(e[l]=h[l])}return e};return A.apply(this,arguments)}Object.defineProperty(g,"__esModule",{value:!0});var u=function(e,c){try{var h=JSON.parse(e)}catch(l){console.error("[zustand devtools middleware] Could not parse the received json",l)}void 0!==h&&c(h)},m=function h(c){return function(l){try{var n=c(l);return n instanceof
Promise?n:{then:function(p){return h(p)(n)},catch:function(p){return this}}}catch(p){return{then:function(v){return this},catch:function(v){return h(v)(p)}}}}};g.combine=function(c,h){return function(l,n,p){return Object.assign({},c,h(l,n,p))}};g.devtools=function(c,h){return function(l,n,p){var v;"string"===typeof h&&console.warn("[zustand devtools middleware]: passing `name` as directly will be not allowed in next majorpass the `name` in an object `{ name: ... }` instead");var w=void 0===h?{name:void 0,
anonymousActionType:void 0}:"string"===typeof h?{name:h}:h;"undefined"!==typeof(null==w?void 0:null==(v=w.serialize)?void 0:v.options)&&console.warn("[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`");try{var z=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(T){}if(!z)return c(l,n,p);var x=Object.create(z.connect(w)),E=!1;Object.defineProperty(p,"devtools",{get:function(){E||(console.warn("[zustand devtools middleware] `devtools` property on the store is deprecated it will be removed in the next major.\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly"),
E=!0);return x},set:function(T){E||(console.warn("[zustand devtools middleware] `api.devtools` is deprecated, it will be removed in the next major.\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly"),E=!0);x=T}});var H=!1;Object.defineProperty(x,"prefix",{get:function(){H||(console.warn(", because the `name` option already creates a separate instance of devtools for each store."),H=!0);return""},set:function(){H||
(console.warn(", because the `name` option already creates a separate instance of devtools for each store."),H=!0)}});var I=!0;p.setState=function(T,O,da){l(T,O);I&&x.send(void 0===da?{type:w.anonymousActionType||"anonymous"}:"string"===typeof da?{type:da}:da,n())};var N=function(){var T=I;I=!1;l.apply(void 0,arguments);I=T},Q=c(p.setState,n,p);x.init(Q);if(p.dispatchFromDevtools&&"function"===typeof p.dispatch){var V=!1,ba=p.dispatch;p.dispatch=function(){for(var T=arguments.length,O=Array(T),da=
0;da<T;da++)O[da]=arguments[da];"__setState"!==O[0].type||V||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),V=!0);ba.apply(void 0,O)}}x.subscribe(function(T){switch(T.type){case "ACTION":if("string"!==typeof T.payload){console.error("[zustand devtools middleware] Unsupported action format");break}return u(T.payload,function(ea){"__setState"===ea.type?N(ea.state):p.dispatchFromDevtools&&"function"===typeof p.dispatch&&
p.dispatch(ea)});case "DISPATCH":switch(T.payload.type){case "RESET":return N(Q),x.init(p.getState());case "COMMIT":return x.init(p.getState());case "ROLLBACK":return u(T.state,function(ea){N(ea);x.init(p.getState())});case "JUMP_TO_STATE":case "JUMP_TO_ACTION":return u(T.state,function(ea){N(ea)});case "IMPORT_STATE":var O;T=T.payload.nextLiftedState;var da=null==(O=T.computedStates.slice(-1)[0])?void 0:O.state;if(!da)break;N(da);x.send(null,T);break;case "PAUSE_RECORDING":return I=!I}}});return Q}};
g.persist=function(c,h){return function(l,n,p){var v=A({getStorage:function(){return localStorage},serialize:JSON.stringify,deserialize:JSON.parse,partialize:function(T){return T},version:0,merge:function(T,O){return A({},O,T)}},h);(v.blacklist||v.whitelist)&&console.warn("The "+(v.blacklist?"blacklist":"whitelist")+" option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.");var w=!1,z=new Set,x=new Set;try{var E=v.getStorage()}catch(T){}if(E)E.removeItem||
console.warn("[zustand persist middleware] The given storage for item '"+v.name+"' does not contain a 'removeItem' method, which will be required in v4.");else return c(function(){console.warn("[zustand persist middleware] Unable to update item '"+v.name+"', the given storage is currently unavailable.");l.apply(void 0,arguments)},n,p);var H=m(v.serialize),I=function(){var T=v.partialize(A({},n()));v.whitelist&&Object.keys(T).forEach(function(ea){var Aa;null!=(Aa=v.whitelist)&&Aa.includes(ea)||delete T[ea]});
v.blacklist&&v.blacklist.forEach(function(ea){return delete T[ea]});var O,da=H({state:T,version:v.version}).then(function(ea){return E.setItem(v.name,ea)}).catch(function(ea){O=ea});if(O)throw O;return da},N=p.setState;p.setState=function(T,O){N(T,O);void I()};var Q=c(function(){l.apply(void 0,arguments);void I()},n,p),V,ba=function(){if(E){w=!1;z.forEach(function(O){return O(n())});var T=(null==v.onRehydrateStorage?void 0:v.onRehydrateStorage(n()))||void 0;return m(E.getItem.bind(E))(v.name).then(function(O){if(O)return v.deserialize(O)}).then(function(O){if(O)if("number"===
typeof O.version&&O.version!==v.version){if(v.migrate)return v.migrate(O.state,O.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return O.state}).then(function(O){var da;V=v.merge(O,null!=(da=n())?da:Q);l(V,!0);return I()}).then(function(){null==T?void 0:T(V,void 0);w=!0;x.forEach(function(O){return O(V)})}).catch(function(O){null==T?void 0:T(void 0,O)})}};p.persist={setOptions:function(T){v=A({},v,T);T.getStorage&&(E=T.getStorage())},
clearStorage:function(){var T;null==(T=E)?void 0:null==T.removeItem?void 0:T.removeItem(v.name)},rehydrate:function(){return ba()},hasHydrated:function(){return w},onHydrate:function(T){z.add(T);return function(){z.delete(T)}},onFinishHydration:function(T){x.add(T);return function(){x.delete(T)}}};ba();return V||Q}};g.redux=function(c,h){return function(l,n,p){p.dispatch=function(v){l(function(w){return c(w,v)},!1,v);return v};p.dispatchFromDevtools=!0;return A({dispatch:function(){return p.dispatch.apply(p,
arguments)}},h)}};g.subscribeWithSelector=function(c){return function(h,l,n){var p=n.subscribe;n.subscribe=function(v,w,z){var x=v;if(w){var E=(null==z?void 0:z.equalityFn)||Object.is,H=v(n.getState());x=function(I){I=v(I);if(!E(H,I)){var N=H;w(H=I,N)}};null!=z&&z.fireImmediately&&w(H,H)}return p(x)};return c(h,l,n)}}};
shadow$provide[606]=function(G,y,X,g){X.exports=function(A){return null!=A&&"object"===typeof A&&!1===Array.isArray(A)}};
shadow$provide[607]=function(G,y,X,g){function A(m){return!0===u(m)&&"[object Object]"===Object.prototype.toString.call(m)}var u=y(606);X.exports=function(m){if(!1===A(m))return!1;m=m.constructor;if("function"!==typeof m)return!1;m=m.prototype;return!1===A(m)||!1===m.hasOwnProperty("isPrototypeOf")?!1:!0}};
shadow$provide[608]=function(G,y,X,g){var A=y(607);X.exports=function(u){return A(u)||"function"===typeof u||Array.isArray(u)}};
shadow$provide[609]=function(G,y,X,g){X.exports=function(A,u,m){for(var e in A)if(!1===u.call(m,A[e],e,A))break}};
shadow$provide[610]=function(G,y,X,g){function A(h,l){for(var n=arguments.length,p=0;++p<n;){var v=arguments[p];m(v)&&c(v,u,h)}return h}function u(h,l){if("__proto__"!==l&&"constructor"!==l&&"prototype"!==l){var n=this[l];m(h)&&m(n)?A(n,h):this[l]=h}}function m(h){return e(h)&&!Array.isArray(h)}var e=y(608),c=y(609);X.exports=A};
shadow$provide[611]=function(G,y,X,g){function A(u){return u?Array.isArray(u)?u.join("."):u:""}X.exports=function(u,m,e,c,h){if(null===u||"object"!==typeof u&&"function"!==typeof u||!m)return u;m=A(m);e&&(m+="."+A(e));c&&(m+="."+A(c));h&&(m+="."+A(h));if(m in u)return u[m];m=m.split(".");e=m.length;for(c=-1;u&&++c<e;){for(h=m[c];"\\"===h[h.length-1];)h=h.slice(0,-1)+"."+m[++c];u=u[h]}return u}};
shadow$provide[612]=function(G,y,X,g){X.exports=function(A,u){if(null===A||"undefined"===typeof A)throw new TypeError("expected first argument to be an object.");if("undefined"===typeof u||"undefined"===typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return A;for(var m=Object.prototype.propertyIsEnumerable,e=Object(A),c=arguments.length,h=0;++h<c;)for(var l=Object(arguments[h]),n=Object.getOwnPropertySymbols(l),p=0;p<n.length;p++){var v=n[p];m.call(l,v)&&(e[v]=l[v])}return e}};
shadow$provide[613]=function(G,y,X,g){var A=y(608),u=y(612);X.exports=Object.assign||function(m){if(null===m||"undefined"===typeof m)throw new TypeError("Cannot convert undefined or null to object");m&&"object"===typeof m||A(m)||(m={});for(var e=1;e<arguments.length;e++){var c=arguments[e];if(c&&"string"===typeof c){var h=void 0,l={};for(h in c)l[h]=c[h];c=l}if(c&&"object"===typeof c||A(c)){h=void 0;l=m;var n=c;for(h in n)Object.prototype.hasOwnProperty.call(n,h)&&(l[h]=n[h]);u(m,c)}}return m}};
shadow$provide[614]=function(G,y,X,g){function A(e,c,h,l){h=e.indexOf(c,h);return"\\"===e.charAt(h-1)?A(e,c,h+1):h}function u(e,c,h){return"function"===typeof e.keepEscaping?e.keepEscaping(c,h):!0===e.keepEscaping||"\\"===c[h+1]}var m=y(613);X.exports=function(e,c,h){function l(){if(p&&w.length)return p[w[w.length-1]]}if("string"!==typeof e)throw new TypeError("expected a string");"function"===typeof c&&(h=c,c=null);"string"===typeof c&&(c={sep:c});c=m({sep:"."},c);var n=c.quotes||['"',"'","`"];if(!0===
c.brackets)var p={"\x3c":"\x3e","(":")","[":"]","{":"}"};else c.brackets&&(p=c.brackets);for(var v=[],w=[],z=[""],x=c.sep,E=e.length,H=-1,I;++H<E;){var N=e[H];I=e[H+1];var Q={val:N,idx:H,arr:z,str:e};v.push(Q);if("\\"===N)Q.val=!0===u(c,e,H)?N+I:I,Q.escaped=!0,"function"===typeof h&&h(Q),z[z.length-1]+=Q.val,H++;else{if(p&&p[N]){w.push(N);I=l();var V=H+1;if(-1!==e.indexOf(I,V+1))for(;w.length&&V<E;){var ba=e[++V];if("\\"===ba)ba++;else if(-1!==n.indexOf(ba))V=A(e,ba,V+1);else{I=l();if(w.length&&-1===
e.indexOf(I,V+1))break;p[ba]?w.push(ba):I===ba&&w.pop()}}I=V;if(-1===I){z[z.length-1]+=N;continue}N=e.slice(H,I+1);Q.val=N;Q.idx=H=I}if(-1!==n.indexOf(N)){I=A(e,N,H+1);if(-1===I){z[z.length-1]+=N;continue}N=!0===c.keepDoubleQuotes&&'"'===N?!0:!0===c.keepSingleQuotes&&"'"===N?!0:c.keepQuotes;N=!0===N?e.slice(H,I+1):e.slice(H+1,I);Q.val=N;Q.idx=H=I}"function"===typeof h&&(h(Q,v),N=Q.val,H=Q.idx);Q.val===x&&!1!==Q.split?z.push(""):z[z.length-1]+=Q.val}}return z}};
shadow$provide[615]=function(G,y,X,g){X.exports=function(A){return"undefined"!==typeof A&&null!==A&&("object"===typeof A||"function"===typeof A)}};
shadow$provide[616]=function(G,y,X,g){var A=y(615);X.exports=function(u){A(u)||(u={});for(var m=arguments.length,e=1;e<m;e++){var c=arguments[e];if(A(c)){var h=void 0,l=u;for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}}return u}};
shadow$provide[617]=function(G,y,X,g){X.exports=function(A){return"undefined"!==typeof A&&null!==A&&("object"===typeof A||"function"===typeof A)}};
shadow$provide[618]=function(G,y,X,g){function A(h){return"__proto__"!==h&&"constructor"!==h&&"prototype"!==h}var u=y(614),m=y(616),e=y(607),c=y(617);X.exports=function(h,l,n){if(!c(h))return h;Array.isArray(l)&&(l=[].concat.apply([],l).join("."));if("string"!==typeof l)return h;l=u(l,{sep:".",brackets:!0}).filter(A);for(var p=l.length,v=-1,w=h;++v<p;){var z=l[v];v!==p-1?(c(w[z])||(w[z]={}),w=w[z]):e(w[z])&&e(n)?w[z]=m({},w[z],n):w[z]=n}return h}};
shadow$provide[619]=function(G,y,X,g){var A=y(608),u=y(610),m=y(611),e=y(618);X.exports=function(c,h,l){if(!A(c))throw new TypeError("expected an object");if("string"!==typeof h||null==l)return u.apply(null,arguments);if("string"===typeof l)return e(c,h,l),c;var n=m(c,h);A(l)&&A(n)&&(l=u({},n,l));e(c,h,l);return c}};
shadow$provide[620]=function(ra,P,db,I){function A(ca){return ca&&ca.__esModule?ca:{"default":ca}}function J(ca,ma){return Object.entries(H.pick(ca,ma)).reduce((Fa,[,{value:Ja,disabled:Za,key:Ia}])=>{Fa[Ia]=Za?void 0:Ja;return Fa},{})}function r(ca,ma){var Fa=ea,Ja=Fa.useMemo;const Za=ea.useRef();(0,Oa.dequal)(ma,Za.current)||(Za.current=ma);return Ja.call(Fa,ca,Za.current)}function w(ca){const ma=ea.useRef(null),Fa=ea.useRef(null),Ja=ea.useRef(!0);ea.useLayoutEffect(()=>{ca||(ma.current.style.height=
"0px",ma.current.style.overflow="hidden")},[]);ea.useEffect(()=>{if(Ja.current)Ja.current=!1;else{var Za=ma.current,Ia=()=>{ca&&(Za.style.removeProperty("height"),Za.style.removeProperty("overflow"),Fa.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};Za.addEventListener("transitionend",Ia,{once:!0});var {height:Wa}=Fa.current.getBoundingClientRect();Za.style.height=Wa+"px";if(!ca){Za.style.overflow="hidden";var lb=window.setTimeout(()=>Za.style.height="0px",50)}return()=>{Za.removeEventListener("transitionend",
Ia);clearTimeout(lb)}}},[ca]);return{wrapperRef:ma,contentRef:Fa}}function h(ca,ma,Fa){return ca.useStore(Ja=>{Ja=H._objectSpread2(H._objectSpread2({},Fa),Ja.data);return J(Ja,ma)},ub["default"])}function m(ca=3){const ma=ea.useRef(null),Fa=ea.useRef(null),[Ja,Za]=ea.useState(!1),Ia=ea.useCallback(()=>Za(!0),[]),Wa=ea.useCallback(()=>Za(!1),[]);ea.useLayoutEffect(()=>{if(Ja){const {bottom:nb,top:sb,left:rb}=ma.current.getBoundingClientRect();var {height:lb}=Fa.current.getBoundingClientRect();lb=nb+
lb>window.innerHeight-40?"up":"down";Fa.current.style.position="fixed";Fa.current.style.zIndex="10000";Fa.current.style.left=rb+"px";"down"===lb?Fa.current.style.top=nb+ca+"px":Fa.current.style.bottom=window.innerHeight-sb+ca+"px"}},[ca,Ja]);return{popinRef:ma,wrapperRef:Fa,shown:Ja,show:Ia,hide:Wa}}function x(ca,{format:ma,hasAlpha:Fa,isString:Ja}){ca=ca[q[ma]+(Ja&&"hex"!==ma?"String":"")]();return"object"!==typeof ca||Fa?ca:H.omit(ca,["a"])}function z(ca,ma){return"rgb"!==ma?Ca.colord(ca).toRgb():
ca}function k({value:ca,displayValue:ma,settings:Fa,onUpdate:Ja}){const {emitOnEditStart:Za,emitOnEditEnd:Ia}=H.useInputContext(),{format:Wa,hasAlpha:lb}=Fa,{popinRef:nb,wrapperRef:sb,shown:rb,show:Lb,hide:oc}=m(),Ub=ea.useRef(0),[$b,Sb]=ea.useState(()=>z(ca,Wa));Fa=lb?kb.RgbaColorPicker:kb.RgbColorPicker;const ic=()=>{oc();Ia();window.clearTimeout(Ub.current)};ea.useEffect(()=>()=>window.clearTimeout(Ub.current),[]);return na["default"].createElement(na["default"].Fragment,null,na["default"].createElement(Ea,
{ref:nb,active:rb,onClick:()=>{Sb(z(ca,Wa));Lb();Za()},style:{color:ma}}),rb&&na["default"].createElement(H.Portal,null,na["default"].createElement(H.Overlay,{onPointerUp:ic}),na["default"].createElement(za,{ref:sb,onMouseEnter:()=>window.clearTimeout(Ub.current),onMouseLeave:kc=>{if(kc=0===kc.buttons)Ub.current=window.setTimeout(ic,500),kc=void 0;return kc}},na["default"].createElement(Fa,{color:$b,onChange:Ja}))))}function p({value:ca,settings:ma,onUpdate:Fa}){const Ja=ea.useRef(),Za=ea.useRef(0),
Ia=ea.useRef(0),Wa=ea.useRef(1),[lb,nb]=ea.useState(!1),[sb,rb]=ea.useState(!1),[Lb,oc]=H.useTransform(),Ub=ea.useRef(null),$b=ea.useRef(null);ea.useLayoutEffect(()=>{if(lb){const {top:zc,left:bd,width:Od,height:Zd}=Ub.current.getBoundingClientRect();$b.current.style.left=bd+Od/2+"px";$b.current.style.top=zc+Zd/2+"px"}},[lb]);const {keys:[Sb,ic],joystick:kc}=ma,Sc="invertY"===kc?1:-1,{[Sb]:{step:Xc},[ic]:{step:Fb}}=ma;ma=H.useTh("sizes","joystickWidth");const hd=H.useTh("sizes","joystickHeight"),
xc=.8*parseFloat(ma)/2,Bc=.8*parseFloat(hd)/2,sc=ea.useCallback(()=>{Ja.current||(rb(!0),Za.current&&oc({x:Za.current*xc}),Ia.current&&oc({y:Ia.current*-Bc}),Ja.current=window.setInterval(()=>{Fa(zc=>{const bd=Xc*Za.current*Wa.current,Od=Sc*Fb*Ia.current*Wa.current;return Array.isArray(zc)?{[Sb]:zc[0]+bd,[ic]:zc[1]+Od}:{[Sb]:zc[Sb]+bd,[ic]:zc[ic]+Od}})},16))},[xc,Bc,Fa,oc,Xc,Fb,Sb,ic,Sc]),Jc=ea.useCallback(()=>{window.clearTimeout(Ja.current);Ja.current=void 0;rb(!1)},[]);ea.useEffect(()=>{function zc(bd){Wa.current=
H.multiplyStep(bd)}window.addEventListener("keydown",zc);window.addEventListener("keyup",zc);return()=>{window.clearTimeout(Ja.current);window.removeEventListener("keydown",zc);window.removeEventListener("keyup",zc)}},[]);ma=H.useDrag(({first:zc,active:bd,delta:[Od,Zd],movement:[jd,ad]})=>{zc&&nb(!0);zc=H.clamp(jd,-xc,xc);const Ha=H.clamp(ad,-Bc,Bc);Za.current=Math.abs(jd)>Math.abs(zc)?Math.sign(jd-zc):0;Ia.current=Math.abs(ad)>Math.abs(Ha)?Math.sign(Ha-ad):0;jd=ca[Sb];ad=ca[ic];bd?(Za.current||(jd+=
Od*Xc*Wa.current,oc({x:zc})),Ia.current||(ad-=Sc*Zd*Fb*Wa.current,oc({y:Ha})),Za.current||Ia.current?sc():Jc(),Fa({[Sb]:jd,[ic]:ad})):(nb(!1),Za.current=0,Ia.current=0,oc({x:0,y:0}),Jc())});return na["default"].createElement(fa,H._extends({ref:Ub},ma()),lb&&na["default"].createElement(H.Portal,null,na["default"].createElement(X,{ref:$b,isOutOfBounds:sb},na["default"].createElement("div",null),na["default"].createElement("span",{ref:Lb}))))}function B(ca){let {value:ma,bounds:[Fa,Ja],onDrag:Za}=ca,
Ia=H._objectWithoutProperties(ca,Qc);const Wa=ea.useRef(null),lb=ea.useRef(null),nb=ea.useRef(null),sb=ea.useRef(0),rb=H.useTh("sizes","scrubberWidth");ca=H.useDrag(({event:Ub,first:$b,xy:[Sb],movement:[ic],memo:kc={}})=>{if($b){const {width:Sc,left:Xc}=Wa.current.getBoundingClientRect();sb.current=Sc-parseFloat(rb);Ub=(null===Ub||void 0===Ub?void 0:Ub.target)===lb.current||(null===Ub||void 0===Ub?void 0:Ub.target)===nb.current;kc.pos=H.invertedRange((Sb-Xc)/Sc,Fa,Ja);Sb=Math.abs(kc.pos-ma.min)-Math.abs(kc.pos-
ma.max);kc.key=0>Sb||0===Sb&&kc.pos<=ma.min?"min":"max";Ub&&(kc.pos=ma[kc.key])}ic=kc.pos+H.invertedRange(ic/sb.current,0,Ja-Fa);Za({[kc.key]:H.sanitizeStep(ic,Ia[kc.key])});return kc});const Lb=`calc(${H.range(ma.min,Fa,Ja)} * (100% - ${rb} - 8px) + 4px)`,oc=`calc(${1-H.range(ma.max,Fa,Ja)} * (100% - ${rb} - 8px) + 4px)`;return na["default"].createElement(H.RangeWrapper,H._extends({ref:Wa},ca()),na["default"].createElement(H.Range,null,na["default"].createElement(H.Indicator,{style:{left:Lb,right:oc}})),
na["default"].createElement(H.Scrubber,{position:"left",ref:lb,style:{left:Lb}}),na["default"].createElement(H.Scrubber,{position:"right",ref:nb,style:{right:oc}}))}function t(ca,ma){return{type:H.SpecialInputs.FOLDER,schema:ca,settings:H._objectSpread2(H._objectSpread2({},de),ma)}}function u(ca){let {type:ma,label:Fa,path:Ja,valueKey:Za,value:Ia,settings:Wa,setValue:lb,disabled:nb}=ca;ca=H._objectWithoutProperties(ca,Sd);const {displayValue:sb,onChange:rb,onUpdate:Lb}=H.useInputSetters({type:ma,
value:Ia,settings:Wa,setValue:lb}),oc=H.Plugins[ma].component;return oc?na["default"].createElement(H.InputContext.Provider,{value:H._objectSpread2({key:Za,path:Ja,id:""+Ja,label:Fa,displayValue:sb,value:Ia,onChange:rb,onUpdate:Lb,settings:Wa,setValue:lb,disabled:nb},ca)},na["default"].createElement(H.StyledInputWrapper,{disabled:nb},na["default"].createElement(oc,null))):(H.warn(H.LevaErrors.NO_COMPONENT_FOR_TYPE,ma,Ja),null)}function C(ca,ma){ca.push(ma);100<ca.length&&ca.shift()}function F(ca){return"function"===
typeof ca?ca():ca.current}function M({toggle:ca,toggled:ma,name:Fa}){return na["default"].createElement(H.StyledTitle,{onClick:()=>ca()},na["default"].createElement(H.Chevron,{toggled:ma}),na["default"].createElement("div",null,Fa))}function T({setFilter:ca,onDrag:ma,onDragStart:Fa,onDragEnd:Ja,toggle:Za,toggled:Ia,title:Wa,drag:lb,filterEnabled:nb,from:sb}){const [rb,Lb]=ea.useState(!1),oc=ea.useRef(null);ea.useEffect(()=>{var $b,Sb;rb?null===($b=oc.current)||void 0===$b?void 0:$b.focus():null===
(Sb=oc.current)||void 0===Sb?void 0:Sb.blur()},[rb]);const Ub=H.useDrag(({offset:[$b,Sb],first:ic,last:kc})=>{ma({x:$b,y:Sb});ic&&Fa({x:$b,y:Sb});kc&&Ja({x:$b,y:Sb})},{filterTaps:!0,from:({offset:[$b,Sb]})=>[(null===sb||void 0===sb?void 0:sb.x)||$b,(null===sb||void 0===sb?void 0:sb.y)||Sb]});ea.useEffect(()=>{const $b=Sb=>{"L"===Sb.key&&Sb.shiftKey&&Sb.metaKey&&Lb(ic=>!ic)};window.addEventListener("keydown",$b);return()=>window.removeEventListener("keydown",$b)},[]);return na["default"].createElement(na["default"].Fragment,
null,na["default"].createElement(ue,{mode:lb?"drag":void 0},na["default"].createElement(nd,{active:!Ia,onClick:()=>Za()},na["default"].createElement(H.Chevron,{toggled:Ia,width:12,height:8})),na["default"].createElement(Ee,H._extends({},lb?Ub():{},{drag:lb,filterEnabled:nb}),void 0===Wa&&lb?na["default"].createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},na["default"].createElement("circle",{cx:"2",cy:"2",r:"2"}),na["default"].createElement("circle",
{cx:"14",cy:"2",r:"2"}),na["default"].createElement("circle",{cx:"26",cy:"2",r:"2"}),na["default"].createElement("circle",{cx:"2",cy:"12",r:"2"}),na["default"].createElement("circle",{cx:"14",cy:"12",r:"2"}),na["default"].createElement("circle",{cx:"26",cy:"12",r:"2"})):Wa),nb&&na["default"].createElement(nd,{active:rb,onClick:()=>Lb($b=>!$b)},na["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},na["default"].createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),
na["default"].createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),na["default"].createElement(Be,{toggled:rb},na["default"].createElement(od,{ref:oc,setFilter:ca,toggle:Za})))}function N(ca){let {store:ma,hidden:Fa=!1,theme:Ja,collapsed:Za=!1}=ca;ca=H._objectWithoutProperties(ca,mb);const Ia=r(()=>H.mergeTheme(Ja),[Ja]),[Wa,lb]=ea.useState(!Za),nb="object"===typeof Za?
!Za.collapsed:Wa,sb=ea.useMemo(()=>"object"===typeof Za?rb=>{if("function"===typeof rb)Za.onChange(!rb(!Za.collapsed));else Za.onChange(!rb)}:lb,[Za]);return!ma||Fa?null:na["default"].createElement(H.ThemeContext.Provider,{value:Ia},na["default"].createElement(sd,H._extends({store:ma},ca,{toggled:nb,setToggle:sb,rootClass:Ia.className})))}function W(ca){let {isRoot:ma=!1}=ca;ca=H._objectWithoutProperties(ca,ee);ea.useEffect(()=>{Bd=!0;!ma&&Nd&&(Nd.remove(),Nd=null);return()=>{ma||(Bd=!1)}},[ma]);
return na["default"].createElement(N,H._extends({store:Wd},ca))}function ka(ca){ea.useEffect(()=>{ca&&!Bd&&(Nd||(Nd=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Nd),H.render(na["default"].createElement(W,{isRoot:!0}),Nd))),Bd=!0)},[ca])}function Y(ca,ma,Fa,Ja,Za){let Ia=void 0,Wa,lb,nb;"string"===typeof ca?(Ia=ca,ca=ma,Array.isArray(Fa)?nb=Fa:Fa&&("store"in Fa?(lb=Fa,nb=Ja):(Wa=Fa,Array.isArray(Ja)?
nb=Ja:(lb=Ja,nb=Za)))):Array.isArray(ma)?nb=ma:(lb=ma,nb=Fa);return{schema:ca,folderName:Ia,folderSettings:Wa,hookSettings:lb,deps:nb||[]}}Object.defineProperty(I,"__esModule",{value:!0});var H=P(589),qa=P(551),Ca=P(590),La=P(591),Oa=P(549);P(1);var ea=P(0),kb=P(592),zb=P(550);P(571);P(548);P(588);var Va=P(603),Pa=P(604),ja=P(605),jb=P(619);P(552);var Ya=A(qa),Ma=A(La),na=A(ea),ub=A(zb),Bb=A(Pa),ab=A(jb);const Ab=ca=>{const [ma,Fa]=ea.useState(ca.getVisiblePaths());ea.useEffect(()=>{Fa(ca.getVisiblePaths());
const Ja=ca.useStore.subscribe(ca.getVisiblePaths,Fa,{equalityFn:ub["default"]});return()=>Ja()},[ca]);return ma};Ca.extend([Ma["default"]]);const q={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Ya["default"].extend({color:()=>ca=>Ca.colord(ca).isValid()});const K=(ca,ma)=>{ca=Ca.colord(ca);if(!ca.isValid())throw Error("Invalid color");return x(ca,ma)};var aa=Object.freeze({__proto__:null,schema:ca=>Ya["default"]().color().test(ca),sanitize:K,format:(ca,ma)=>x(Ca.colord(ca),H._objectSpread2(H._objectSpread2({},
ma),{},{isString:!0,format:"hex"})),normalize:({value:ca})=>{var ma=Ca.getFormat(ca),Fa="name"===ma?"hex":ma;ma="object"===typeof ca?"a"in ca:"hex"===ma&&8===ca.length||/^(rgba)|(hsla)|(hsva)/.test(ca);Fa={format:Fa,hasAlpha:ma,isString:"string"===typeof ca};return{value:K(ca,Fa),settings:Fa}}});const Ea=H.styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset\x3dutf-8,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" fill-opacity\x3d".05"\x3e\x3cpath d\x3d"M8 0h8v8H8zM0 8h8v8H0z"/\x3e\x3c/svg\x3e\')',
$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"\x26::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),oa=H.styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),za=H.styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},
".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});var Ka=H.createInternalPlugin(H._objectSpread2({component:function(){const {value:ca,displayValue:ma,label:Fa,onChange:Ja,onUpdate:Za,settings:Ia}=H.useInputContext();return na["default"].createElement(H.Row,{input:!0},na["default"].createElement(H.Label,null,Fa),na["default"].createElement(oa,
null,na["default"].createElement(k,{value:ca,displayValue:ma,onChange:Ja,onUpdate:Za,settings:Ia}),na["default"].createElement(H.ValueInput,{value:ma,onChange:Ja,onUpdate:Za})))}},aa)),fb=H.createInternalPlugin(H._objectSpread2({component:function(){const {label:ca,displayValue:ma,onUpdate:Fa,settings:Ja}=H.useInputContext();return na["default"].createElement(H.Row,{input:!0},na["default"].createElement(H.Label,null,ca),na["default"].createElement(H.Vector,{value:ma,settings:Ja,onUpdate:Fa}))}},H.getVectorPlugin(["x",
"y","z"])));const fa=H.styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","\x26:active":{cursor:"none"},"\x26::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),X=H.styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1E4,overflow:"hidden",
$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"\x3e div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","\x26::after,\x26::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"\x26::before":{width:"100%",height:1},"\x26::after":{height:"100%",width:1}},"\x3e span":{position:"relative",
zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}}),Da=H.styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),Aa=["joystick"],bb=H.getVectorPlugin(["x","y"]);var wa=H.createInternalPlugin(H._objectSpread2(H._objectSpread2({component:function(){const {label:ca,displayValue:ma,onUpdate:Fa,settings:Ja}=H.useInputContext();return na["default"].createElement(H.Row,{input:!0},
na["default"].createElement(H.Label,null,ca),na["default"].createElement(Da,{withJoystick:!!Ja.joystick},Ja.joystick&&na["default"].createElement(p,{value:ma,settings:Ja,onUpdate:Fa}),na["default"].createElement(H.Vector,{value:ma,settings:Ja,onUpdate:Fa})))}},bb),{},{normalize:ca=>{let {joystick:ma=!0}=ca;ca=H._objectWithoutProperties(ca,Aa);const {value:Fa,settings:Ja}=bb.normalize(ca);return{value:Fa,settings:H._objectSpread2(H._objectSpread2({},Ja),{},{joystick:ma})}}})),gb=Object.freeze({__proto__:null,
sanitize:ca=>{if(void 0!==ca){if(ca instanceof File)try{return URL.createObjectURL(ca)}catch(ma){return}if("string"===typeof ca&&0===ca.indexOf("blob:"))return ca;throw Error("Invalid image format [undefined | blob | File].");}},schema:(ca,ma)=>"object"===typeof ma&&"image"in ma,normalize:({image:ca})=>({value:ca})});const ob=H.styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Jb=H.styled("div",{$flexCenter:"",
overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Ob=H.styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",
$hover:"",$active:""}}}}),jc=H.styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),tc=H.styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),lc=H.styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"\x26::after,\x26::before":{content:'""',
position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"\x26::after":{transform:"rotate(45deg)"},"\x26::before":{transform:"rotate(-45deg)"}});var mc=H.createInternalPlugin(H._objectSpread2({component:function(){const {label:ca,value:ma,onUpdate:Fa,disabled:Ja}=H.useInputContext(),{popinRef:Za,wrapperRef:Ia,shown:Wa,show:lb,hide:nb}=m(),sb=ea.useCallback($b=>{$b.length&&Fa($b[0])},[Fa]),rb=ea.useCallback($b=>{$b.stopPropagation();Fa(void 0)},[Fa]),{getRootProps:Lb,getInputProps:oc,
isDragAccept:Ub}=Va.useDropzone({maxFiles:1,accept:"image/*",onDrop:sb,disabled:Ja});return na["default"].createElement(H.Row,{input:!0},na["default"].createElement(H.Label,null,ca),na["default"].createElement(ob,null,na["default"].createElement(Ob,{ref:Za,hasImage:!!ma,onPointerDown:()=>!!ma&&lb(),onPointerUp:nb,style:{backgroundImage:ma?`url(${ma})`:"none"}}),Wa&&!!ma&&na["default"].createElement(H.Portal,null,na["default"].createElement(H.Overlay,{onPointerUp:nb,style:{cursor:"pointer"}}),na["default"].createElement(jc,
{ref:Ia,style:{backgroundImage:`url(${ma})`}})),na["default"].createElement(Jb,Lb({isDragAccept:Ub}),na["default"].createElement("input",oc()),na["default"].createElement(tc,null,Ub?"drop image":"click or drop")),na["default"].createElement(lc,{onClick:rb,disabled:!ma})))}},gb));const uc=Ya["default"]().number(),wc=ca=>({min:ca[0],max:ca[1]}),Nc=(ca,{bounds:[ma,Fa]},Ja)=>{ca=Array.isArray(ca)?wc(ca):ca;const {min:Za,max:Ia}=H._objectSpread2(H._objectSpread2({},{min:Ja[0],max:Ja[1]}),ca);return[H.clamp(Number(Za),
ma,Math.max(ma,Ia)),H.clamp(Number(Ia),Math.min(Fa,Za),Fa)]};var Uc=Object.freeze({__proto__:null,schema:(ca,ma)=>Ya["default"]().array().length(2).every.number().test(ca)&&Ya["default"]().schema({min:uc,max:uc}).test(ma),format:wc,sanitize:Nc,normalize:({value:ca,min:ma,max:Fa})=>{var Ja={min:ma,max:Fa};Ja=H.normalizeKeyedNumberSettings(wc(ca),{min:Ja,max:Ja});ma=[ma,Fa];ma=H._objectSpread2(H._objectSpread2({},Ja),{},{bounds:ma});return{value:Nc(wc(ca),ma,ca),settings:ma}}});const Qc=["value","bounds",
"onDrag"],Gc=["bounds"],Rb=H.styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});var id=H.createInternalPlugin(H._objectSpread2({component:function(){const {label:ca,displayValue:ma,onUpdate:Fa,settings:Ja}=H.useInputContext(),Za=H._objectWithoutProperties(Ja,Gc);return na["default"].createElement(na["default"].Fragment,null,na["default"].createElement(H.Row,{input:!0},na["default"].createElement(H.Label,null,ca),na["default"].createElement(Rb,
null,na["default"].createElement(B,H._extends({value:ma},Ja,{onDrag:Fa})),na["default"].createElement(H.Vector,{value:ma,settings:Za,onUpdate:Fa,innerLabelTrim:0}))))}},Uc));const qd=()=>{const ca=new Map;return{on:(ma,Fa)=>{let Ja=ca.get(ma);void 0===Ja&&(Ja=new Set,ca.set(ma,Ja));Ja.add(Fa)},off:(ma,Fa)=>{const Ja=ca.get(ma);void 0!==Ja&&(Ja.delete(Fa),0===Ja.size&&ca.delete(ma))},emit:(ma,...Fa)=>{ma=ca.get(ma);if(void 0!==ma)for(const Ja of ma)Ja(...Fa)}}},Ld=["type","value"],Wb=["onChange","transient",
"onEditStart","onEditEnd"],rd=function(){const ca=Bb["default"](ja.subscribeWithSelector(()=>({data:{}}))),ma=qd();this.storeId=H.getUid();this.useStore=ca;const Fa={},Ja=new Set;this.getVisiblePaths=()=>{const Ia=this.getData(),Wa=Object.keys(Ia),lb=[];Object.entries(Fa).forEach(([sb,rb])=>{rb.render&&Wa.some(Lb=>0===Lb.indexOf(sb))&&!rb.render(this.get)&&lb.push(sb+".")});const nb=[];Ja.forEach(sb=>{sb in Ia&&0<Ia[sb].__refCount&&lb.every(rb=>-1===sb.indexOf(rb))&&(!Ia[sb].render||Ia[sb].render(this.get))&&
nb.push(sb)});return nb};this.setOrderedPaths=Ia=>{Ia.forEach(Wa=>Ja.add(Wa))};this.orderPaths=Ia=>{this.setOrderedPaths(Ia);return Ia};this.disposePaths=Ia=>{ca.setState(Wa=>{const lb=Wa.data;Ia.forEach(nb=>{if(nb in lb){const sb=lb[nb];sb.__refCount--;0===sb.__refCount&&sb.type in H.SpecialInputs&&delete lb[nb]}});return{data:lb}})};this.dispose=()=>{ca.setState(()=>({data:{}}))};this.getFolderSettings=Ia=>Fa[Ia]||{};this.getData=()=>ca.getState().data;this.addData=(Ia,Wa)=>{ca.setState(lb=>{const nb=
lb.data;Object.entries(Ia).forEach(([sb,rb])=>{let Lb=nb[sb];Lb?({type:sb}=rb,rb=H._objectWithoutProperties(rb,Ld),sb!==Lb.type?H.warn(H.LevaErrors.INPUT_TYPE_OVERRIDE,sb):((0===Lb.__refCount||Wa)&&Object.assign(Lb,rb),Lb.__refCount++)):nb[sb]=H._objectSpread2(H._objectSpread2({},rb),{},{__refCount:1})});return{data:nb}})};this.setValueAtPath=(Ia,Wa,lb)=>{ca.setState(nb=>{nb=nb.data;H.updateInput(nb[Ia],Wa,Ia,this,lb);return{data:nb}})};this.setSettingsAtPath=(Ia,Wa)=>{ca.setState(lb=>{lb=lb.data;
lb[Ia].settings=H._objectSpread2(H._objectSpread2({},lb[Ia].settings),Wa);return{data:lb}})};this.disableInputAtPath=(Ia,Wa)=>{ca.setState(lb=>{lb=lb.data;lb[Ia].disabled=Wa;return{data:lb}})};this.set=(Ia,Wa)=>{ca.setState(lb=>{const nb=lb.data;Object.entries(Ia).forEach(([sb,rb])=>{try{H.updateInput(nb[sb],rb,void 0,void 0,Wa)}catch(Lb){}});return{data:nb}})};this.getInput=Ia=>{try{return this.getData()[Ia]}catch(Wa){H.warn(H.LevaErrors.PATH_DOESNT_EXIST,Ia)}};this.get=Ia=>{var Wa;return null===
(Wa=this.getInput(Ia))||void 0===Wa?void 0:Wa.value};this.emitOnEditStart=Ia=>{ma.emit(`onEditStart:${Ia}`,this.get(Ia),Ia,H._objectSpread2(H._objectSpread2({},this.getInput(Ia)),{},{get:this.get}))};this.emitOnEditEnd=Ia=>{ma.emit(`onEditEnd:${Ia}`,this.get(Ia),Ia,H._objectSpread2(H._objectSpread2({},this.getInput(Ia)),{},{get:this.get}))};this.subscribeToEditStart=(Ia,Wa)=>{const lb=`onEditStart:${Ia}`;ma.on(lb,Wa);return()=>ma.off(lb,Wa)};this.subscribeToEditEnd=(Ia,Wa)=>{const lb=`onEditEnd:${Ia}`;
ma.on(lb,Wa);return()=>ma.off(lb,Wa)};const Za=(Ia,Wa,lb)=>{const nb={};Object.entries(Ia).forEach(([sb,rb])=>{if(""===sb)return H.warn(H.LevaErrors.EMPTY_KEY);let Lb=[Wa,sb].filter(Boolean).join(".");if(rb.type===H.SpecialInputs.FOLDER)sb=Za(rb.schema,Lb,lb),Object.assign(nb,sb),Lb in Fa||(Fa[Lb]=rb.settings);else if(sb in lb)H.warn(H.LevaErrors.DUPLICATE_KEYS,sb,Lb,lb[sb].path);else{const oc=H.normalizeInput(rb,sb,Lb,nb);if(oc){const {type:Ub,options:$b,input:Sb}=oc,{onChange:ic,transient:kc,onEditStart:Sc,
onEditEnd:Xc}=$b;rb=H._objectWithoutProperties($b,Wb);nb[Lb]=H._objectSpread2(H._objectSpread2(H._objectSpread2({type:Ub},rb),Sb),{},{fromPanel:!0});lb[sb]={path:Lb,onChange:ic,transient:kc,onEditStart:Sc,onEditEnd:Xc}}else H.warn(H.LevaErrors.UNKNOWN_INPUT,Lb,rb)}});return nb};this.getDataFromSchema=Ia=>{const Wa={};return[Za(Ia,"",Wa),Wa]}},Wd=new rd,de={collapsed:!1},je={disabled:!1},Ed={graph:!1,interval:100},Md=(ca,ma)=>{const Fa={},Ja=ma?ma.toLowerCase():null;ca.forEach(Za=>{var Ia=Za.split(".");
Ia=[Ia.pop(),Ia.join(".")||void 0];const [Wa,lb]=Ia;if(!Ja||-1<Wa.toLowerCase().indexOf(Ja))ab["default"](Fa,lb,{[Wa]:{__levaInput:!0,path:Za}})});return Fa},Sd="type label path valueKey value settings setValue disabled".split(" "),pe=H.styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","\x26:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",
$active:"$accent3 $accent1",$focus:""}}),se=H.styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Ae=H.styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","\x26:hover":{backgroundColor:"$elevation3"}}),Qd=({label:ca,opts:ma})=>{ca="string"===typeof ca?""===ca.trim()?null:ca:ca;let Fa=ma;"object"===typeof ma.opts&&(void 0!==Fa.label&&(ca=ma.label),Fa=ma.opts);return{label:ca,opts:Fa}},kd=H.styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),
Xd=ea.forwardRef(function({initialValue:ca},ma){const Fa=H.useTh("colors","highlight3"),Ja=H.useTh("colors","elevation2"),Za=H.useTh("colors","highlight1"),[Ia,Wa]=ea.useMemo(()=>[Ca.colord(Za).alpha(.4).toRgbString(),Ca.colord(Za).alpha(.1).toRgbString()],[Za]),lb=ea.useRef([ca]),nb=ea.useRef(ca),sb=ea.useRef(ca),rb=ea.useRef(),Lb=ea.useCallback(($b,Sb)=>{if($b){var {width:ic,height:kc}=$b;$b=new Path2D;var Sc=ic/100,Xc=.05*kc;for(let Fb=0;Fb<lb.current.length;Fb++){const hd=H.range(lb.current[Fb],
nb.current,sb.current);$b.lineTo(Sc*Fb,kc-hd*(kc-2*Xc)-Xc)}Sb.clearRect(0,0,ic,kc);Xc=new Path2D($b);Xc.lineTo(Sc*(lb.current.length+1),kc);Xc.lineTo(0,kc);Xc.lineTo(0,0);Sc=Sb.createLinearGradient(0,0,0,kc);Sc.addColorStop(0,Ia);Sc.addColorStop(1,Wa);Sb.fillStyle=Sc;Sb.fill(Xc);Sb.strokeStyle=Ja;Sb.lineJoin="round";Sb.lineWidth=14;Sb.stroke($b);Sb.strokeStyle=Fa;Sb.lineWidth=2;Sb.stroke($b)}},[Fa,Ja,Ia,Wa]),[oc,Ub]=H.useCanvas2d(Lb);ea.useImperativeHandle(ma,()=>({frame:$b=>{if(void 0===nb.current||
$b<nb.current)nb.current=$b;if(void 0===sb.current||$b>sb.current)sb.current=$b;C(lb.current,$b);rb.current=requestAnimationFrame(()=>Lb(oc.current,Ub.current))}}),[oc,Ub,Lb]);ea.useEffect(()=>()=>cancelAnimationFrame(rb.current),[]);return na["default"].createElement(kd,{ref:oc})}),Hc=ca=>Number.isFinite(ca)?ca.toPrecision(2):ca.toString(),Jd=ea.forwardRef(function({initialValue:ca},ma){const [Fa,Ja]=ea.useState(Hc(ca));ea.useImperativeHandle(ma,()=>({frame:Za=>Ja(Hc(Za))}),[]);return na["default"].createElement("div",
null,Fa)}),hc=["type","label","key"],He={[H.SpecialInputs.BUTTON]:function({onClick:ca,settings:ma,label:Fa}){const Ja=H.useStoreContext();return na["default"].createElement(H.Row,null,na["default"].createElement(pe,{disabled:ma.disabled,onClick:()=>ca(Ja.get)},Fa))},[H.SpecialInputs.BUTTON_GROUP]:function(ca){const {label:ma,opts:Fa}=Qd(ca),Ja=H.useStoreContext();return na["default"].createElement(H.Row,{input:!!ma},ma&&na["default"].createElement(H.Label,null,ma),na["default"].createElement(se,
null,Object.entries(Fa).map(([Za,Ia])=>na["default"].createElement(Ae,{key:Za,onClick:()=>Ia(Ja.get)},Za))))},[H.SpecialInputs.MONITOR]:function({label:ca,objectOrFn:ma,settings:Fa}){const Ja=ea.useRef(),Za=ea.useRef(F(ma));ea.useEffect(()=>{const Ia=window.setInterval(()=>{var Wa;document.hidden||(null===(Wa=Ja.current)||void 0===Wa?void 0:Wa.frame(F(ma)))},Fa.interval);return()=>window.clearInterval(Ia)},[ma,Fa.interval]);return na["default"].createElement(H.Row,{input:!0},na["default"].createElement(H.Label,
{align:"top"},ca),Fa.graph?na["default"].createElement(Xd,{ref:Ja,initialValue:Za.current}):na["default"].createElement(Jd,{ref:Ja,initialValue:Za.current}))}},Rd=na["default"].memo(({path:ca})=>{const [ma,{set:Fa,setSettings:Ja,disable:Za,storeId:Ia,emitOnEditStart:Wa,emitOnEditEnd:lb}]=H.useInput(ca);if(!ma)return null;const {type:nb,label:sb,key:rb}=ma,Lb=H._objectWithoutProperties(ma,hc);return nb in H.SpecialInputs?na["default"].createElement(He[nb],H._extends({label:sb,path:ca},Lb)):nb in H.Plugins?
na["default"].createElement(u,H._extends({key:Ia+ca,type:nb,label:sb,storeId:Ia,path:ca,valueKey:rb,setValue:Fa,setSettings:Ja,disable:Za,emitOnEditStart:Wa,emitOnEditEnd:lb},Lb)):(H.log(H.LevaErrors.UNSUPPORTED_INPUT,nb,ca),null)}),$d=({name:ca,path:ma,tree:Fa})=>{const Ja=H.useStoreContext();ma=[ma,ca].filter(Boolean).join(".");const {collapsed:Za,color:Ia}=Ja.getFolderSettings(ma),[Wa,lb]=ea.useState(!Za),nb=ea.useRef(null),sb=H.useTh("colors","folderWidgetColor"),rb=H.useTh("colors","folderTextColor");
ea.useLayoutEffect(()=>{nb.current.style.setProperty("--leva-colors-folderWidgetColor",Ia||sb);nb.current.style.setProperty("--leva-colors-folderTextColor",Ia||rb)},[Ia,sb,rb]);return na["default"].createElement(H.StyledFolder,{ref:nb},na["default"].createElement(M,{name:ca,toggled:Wa,toggle:()=>lb(Lb=>!Lb)}),na["default"].createElement(le,{parent:ma,tree:Fa,toggled:Wa}))},le=na["default"].memo(({isRoot:ca=!1,fill:ma=!1,flat:Fa=!1,parent:Ja,tree:Za,toggled:Ia})=>{const {wrapperRef:Wa,contentRef:lb}=
w(Ia),nb=H.useStoreContext(),sb=([rb,Lb])=>{var oc;return("__levaInput"in Lb?null===(oc=nb.getInput(Lb.path))||void 0===oc?void 0:oc.order:nb.getFolderSettings([Ja,rb].filter(Boolean).join(".")).order)||0};Za=Object.entries(Za).sort((rb,Lb)=>sb(rb)-sb(Lb));return na["default"].createElement(H.StyledWrapper,{ref:Wa,isRoot:ca,fill:ma,flat:Fa},na["default"].createElement(H.StyledContent,{ref:lb,isRoot:ca,toggled:Ia},Za.map(([rb,Lb])=>"__levaInput"in Lb?na["default"].createElement(Rd,{key:Lb.path,valueKey:Lb.valueKey,
path:Lb.path}):na["default"].createElement($d,{key:rb,name:rb,path:Ja,tree:Lb}))))}),me=H.styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1E3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${H.StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",
gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"\x26,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),nd=H.styled("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","\x3e svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"\x26:hover \x3e svg":{fill:"$highlight3"},variants:{active:{true:{"\x3e svg":{fill:"$highlight2"}}}}}),
ue=H.styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Be=H.styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${nd}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),qe=H.styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",
borderRadius:"$root","\x26:focus":{},"\x26::placeholder":{color:"$highlight2"}}),Ee=H.styled("div",{touchAction:"none",$flexCenter:"",flex:1,"\x3e svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","\x3e svg":{transition:"fill 250ms ease"},"\x26:hover":{color:"$highlight3"},"\x26:hover \x3e svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),od=na["default"].forwardRef(({setFilter:ca,toggle:ma},Fa)=>{const [Ja,Za]=ea.useState(""),Ia=ea.useMemo(()=>
H.debounce(ca,250),[ca]);ea.useEffect(()=>{Ia(Ja)},[Ja,Ia]);return na["default"].createElement(na["default"].Fragment,null,na["default"].createElement(qe,{ref:Fa,value:Ja,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:Wa=>Wa.stopPropagation(),onChange:Wa=>{Wa=Wa.currentTarget.value;ma(!0);Za(Wa)}}),na["default"].createElement(nd,{onClick:()=>{ca("");Za("")},style:{visibility:Ja?"visible":"hidden"}},na["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",
viewBox:"0 0 20 20",fill:"currentColor"},na["default"].createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}),mb=["store","hidden","theme","collapsed"],sd=na["default"].memo(({store:ca,rootClass:ma,fill:Fa=!1,flat:Ja=!1,neverHide:Za=!1,oneLineLabels:Ia=!1,titleBar:Wa={title:void 0,
drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:lb=!1,toggled:nb,setToggle:sb})=>{var rb,Lb;const oc=Ab(ca),[Ub,$b]=ea.useState(""),Sb=ea.useMemo(()=>Md(oc,Ub),[oc,Ub]),[ic,kc]=H.useTransform();Za=Za||0<oc.length;const Sc="object"===typeof Wa?Wa.title||void 0:void 0,Xc="object"===typeof Wa?null!==(rb=Wa.drag)&&void 0!==rb?rb:!0:!0;rb="object"===typeof Wa?null!==(Lb=Wa.filter)&&void 0!==Lb?Lb:!0:!0;const Fb="object"===typeof Wa?Wa.position||void 0:
void 0,hd="object"===typeof Wa?Wa.onDrag||void 0:void 0,xc="object"===typeof Wa?Wa.onDragStart||void 0:void 0,Bc="object"===typeof Wa?Wa.onDragEnd||void 0:void 0;na["default"].useEffect(()=>{kc({x:null===Fb||void 0===Fb?void 0:Fb.x,y:null===Fb||void 0===Fb?void 0:Fb.y})},[Fb,kc]);H.globalStyles();return na["default"].createElement(H.PanelSettingsContext.Provider,{value:{hideCopyButton:lb}},na["default"].createElement(me,{ref:ic,className:ma,fill:Fa,flat:Ja,oneLineLabels:Ia,hideTitleBar:!Wa,style:{display:Za?
"block":"none"}},Wa&&na["default"].createElement(T,{onDrag:sc=>{kc(sc);null===hd||void 0===hd?void 0:hd(sc)},onDragStart:sc=>null===xc||void 0===xc?void 0:xc(sc),onDragEnd:sc=>null===Bc||void 0===Bc?void 0:Bc(sc),setFilter:$b,toggle:sc=>sb(Jc=>null!==sc&&void 0!==sc?sc:!Jc),toggled:nb,title:Sc,drag:Xc,filterEnabled:rb,from:Fb}),Za&&na["default"].createElement(H.StoreContext.Provider,{value:ca},na["default"].createElement(le,{isRoot:!0,fill:Fa,flat:Ja,tree:Sb,toggled:nb}))))}),ee=["isRoot"];let Bd=
!1,Nd=null;const Ie=["store"];H.register(H.LevaInputs.SELECT,H.select);H.register(H.LevaInputs.IMAGE,mc);H.register(H.LevaInputs.NUMBER,H.number);H.register(H.LevaInputs.COLOR,Ka);H.register(H.LevaInputs.STRING,H.string);H.register(H.LevaInputs.BOOLEAN,H.boolean);H.register(H.LevaInputs.INTERVAL,id);H.register(H.LevaInputs.VECTOR3D,fb);H.register(H.LevaInputs.VECTOR2D,wa);Object.defineProperty(I,"LevaInputs",{enumerable:!0,get:function(){return H.LevaInputs}});I.LevaStoreProvider=H.LevaStoreProvider;
I.useStoreContext=H.useStoreContext;I.Leva=W;I.LevaPanel=function(ca){let {store:ma}=ca;ca=H._objectWithoutProperties(ca,Ie);const Fa=H.useStoreContext();return na["default"].createElement(N,H._extends({store:void 0===ma?Fa:ma},ca))};I.button=function(ca,ma){return{type:H.SpecialInputs.BUTTON,onClick:ca,settings:H._objectSpread2(H._objectSpread2({},je),ma)}};I.buttonGroup=function(ca){return{type:H.SpecialInputs.BUTTON_GROUP,opts:ca}};I.folder=t;I.levaStore=Wd;I.monitor=function(ca,ma){return{type:H.SpecialInputs.MONITOR,
objectOrFn:ca,settings:H._objectSpread2(H._objectSpread2({},Ed),ma)}};I.useControls=function(ca,ma,Fa,Ja,Za){const {folderName:Ia,schema:Wa,folderSettings:lb,hookSettings:nb,deps:sb}=Y(ca,ma,Fa,Ja,Za);ca="function"===typeof Wa;const rb=ea.useRef(!1),Lb=ea.useRef(!0),oc=r(()=>{rb.current=!0;const xc="function"===typeof Wa?Wa():Wa;return Ia?{[Ia]:t(xc,lb)}:xc},sb);ka(!(null!==nb&&void 0!==nb&&nb.store));const [Ub]=ea.useState(()=>(null===nb||void 0===nb?void 0:nb.store)||Wd),[$b,Sb]=ea.useMemo(()=>
Ub.getDataFromSchema(oc),[Ub,oc]),[ic,kc,Sc,Xc,Fb]=ea.useMemo(()=>{const xc=[],Bc=[],sc={},Jc={},zc={};Object.values(Sb).forEach(({path:bd,onChange:Od,onEditStart:Zd,onEditEnd:jd,transient:ad})=>{xc.push(bd);Od?(sc[bd]=Od,ad||Bc.push(bd)):Bc.push(bd);Zd&&(Jc[bd]=Zd);jd&&(zc[bd]=jd)});return[xc,Bc,sc,Jc,zc]},[Sb]),hd=ea.useMemo(()=>Ub.orderPaths(ic),[ic,Ub]);ma=h(Ub,kc,$b);Fa=ea.useCallback(xc=>{xc=Object.entries(xc).reduce((Bc,[sc,Jc])=>Object.assign(Bc,{[Sb[sc].path]:Jc}),{});Ub.set(xc,!1)},[Ub,
Sb]);Ja=ea.useCallback(xc=>Ub.get(Sb[xc].path),[Ub,Sb]);ea.useEffect(()=>{Ub.addData($b,!Lb.current&&rb.current);Lb.current=!1;rb.current=!1;return()=>Ub.disposePaths(hd)},[Ub,hd,$b]);ea.useEffect(()=>{const xc=[];Object.entries(Sc).forEach(([Bc,sc])=>{sc(Ub.get(Bc),Bc,H._objectSpread2({initial:!0,get:Ub.get},Ub.getInput(Bc)));const Jc=Ub.useStore.subscribe(zc=>{zc=zc.data[Bc];return[zc.disabled?void 0:zc.value,zc]},([zc,bd])=>sc(zc,Bc,H._objectSpread2({initial:!1,get:Ub.get},bd)),{equalityFn:ub["default"]});
xc.push(Jc)});return()=>xc.forEach(Bc=>Bc())},[Ub,Sc]);ea.useEffect(()=>{const xc=[];Object.entries(Xc).forEach(([Bc,sc])=>xc.push(Ub.subscribeToEditStart(Bc,sc)));Object.entries(Fb).forEach(([Bc,sc])=>xc.push(Ub.subscribeToEditEnd(Bc,sc)));return()=>xc.forEach(Bc=>Bc())},[Xc,Fb,Ub]);return ca?[ma,Fa,Ja]:ma};I.useCreateStore=function(){return ea.useMemo(()=>new rd,[])}};
shadow$provide[623]=function(G,y,X,g){X.exports=y(620)};
shadow$provide[624]=function(G,y,X,g){X.exports=function(A,u){if(!A)throw Error("Invariant failed");}};
shadow$provide[625]=function(G,y,X,g){function A(e,c){var h=m.useRef(null),l=m.useRef(null);l.current=c;var n=m.useRef(null);m.useEffect(function(){p()});var p=m.useCallback(function(){var v=n.current,w=l.current;v=v?v:w?w instanceof Element?w:w.current:null;h.current&&h.current.element===v&&h.current.subscriber===e||(h.current&&h.current.cleanup&&h.current.cleanup(),h.current={element:v,subscriber:e,cleanup:v?e(v):void 0})},[e]);m.useEffect(function(){return function(){h.current&&h.current.cleanup&&
(h.current.cleanup(),h.current=null)}},[]);return m.useCallback(function(v){n.current=v;p()},[p])}function u(e,c,h){if(e[c])return e[c][0]?e[c][0][h]:e[c][h];if("contentBoxSize"===c)return e.contentRect["inlineSize"===h?"width":"height"]}var m=y(0);X.exports=function(e){void 0===e&&(e={});var c=e.onResize,h=m.useRef(void 0);h.current=c;var l=e.round||Math.round,n=m.useRef();c=m.useState({width:void 0,height:void 0});var p=c[0],v=c[1],w=m.useRef(!1);m.useEffect(function(){w.current=!1;return function(){w.current=
!0}},[]);var z=m.useRef({width:void 0,height:void 0}),x=A(m.useCallback(function(E){n.current&&n.current.box===e.box&&n.current.round===l||(n.current={box:e.box,round:l,instance:new ResizeObserver(function(H){var I=H[0],N="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize";H=u(I,N,"inlineSize");I=u(I,N,"blockSize");H=H?l(H):void 0;I=I?l(I):void 0;if(z.current.width!==H||z.current.height!==I)N={width:H,height:I},z.current.width=H,z.current.height=
I,h.current?h.current(N):w.current||v(N)})});n.current.instance.observe(E,{box:e.box});return function(){n.current&&n.current.instance.unobserve(E)}},[e.box,l]),e.ref);return m.useMemo(function(){return{ref:x,width:p.width,height:p.height}},[x,p.width,p.height])}};
shadow$provide[626]=function(ra,P,db,I){function A(){const Ha=jc.useContext(lc);(0,tc.default)(Ha,"CoordinateContext is not loaded. Are you rendering a Mafs component outside of Mafs?");return Ha}function J(Ha,ib=0){ib=Math.pow(10,ib||0);return Math.round(Ha*ib)/ib}function r(Ha,ib,Db=1){const Ib=[];for(;Ha<ib-Db/2;Ha+=Db)Ib.push(Ha);Ha=Ib[Ib.length-1]+Db;Math.abs(ib-Ha)<Db/1E-6?Ib.push(ib):Ib.push(Ha);return Ib}function w(){return uc.useContext(Rb)}function h({children:Ha}){const {xMin:ib,xMax:Db,
yMin:Ib,yMax:Kb}=A(),Vb=2**Nc(Gc(Db-ib)-1),Pb=2**Nc(Gc(Kb-Ib)-1),gc=Vb*Qc(ib/Vb-.125),D=Vb*Uc(Db/Vb+.125),O=Pb*Qc(Ib/Pb-.125),U=Pb*Uc(Kb/Pb+.125),ba=uc.useMemo(()=>r(gc,D-Vb,Vb).map(Qa=>[Qa,Qa+Vb]),[gc,D,Vb]),da=uc.useMemo(()=>r(O,U-Pb,Pb).map(Qa=>[Qa,Qa+Pb]),[O,U,Pb]),xa=uc.useMemo(()=>({xPanes:ba,yPanes:da,xPaneRange:[gc,D],yPaneRange:[O,U]}),[ba,da,gc,D,O,U]);return(0,wc.jsx)(Rb.Provider,{value:xa,children:Ha})}function m(Ha=1,ib=0,Db=0,Ib=1,Kb=0,Vb=0){return[Ha,Db,Kb,ib,Ib,Vb]}function x(){const Ha=
rd.useContext(de);(0,Wd.default)(Ha,"TransformContext is not loaded. Are you rendering a Mafs component outside of a MafsView?");return Ha}function z(){const Ha=je.useContext(Md);(0,Ed.default)(Ha,"SpanContext is not defined");return Ha}function k({minZoom:Ha,maxZoom:ib}){const [Db,Ib]=pe.useState(Wb.identity),Kb=pe.useRef(Wb.identity);return{matrix:Db,setBase(){Kb.current=Db},move({zoom:Vb,pan:Pb}){const gc=Vb?.at??[0,0],D=Kb.current[0];Vb=Math.min(Math.max(1/(Vb?.scale??1),1/ib/D),1/Ha/D);Pb=Wb.matrixBuilder(Kb.current).translate(...Wb.scale(gc,
-1)).scale(Vb,Vb).translate(...Wb.scale(gc,1)).translate(...(Pb??[0,0])).get();Ib(Pb)}}}function p(Ha){const [ib,Db]=se.useState(!1),Ib=se.useRef(0);se.useEffect(()=>{function Kb(){Db(!1);clearTimeout(Ib.current);Ib.current=setTimeout(()=>{Db(!0)},500)}if(Ha)return window.addEventListener("scroll",Kb),()=>window.removeEventListener("scroll",Kb)},[Ha]);return{wheelEnabled:Ha?ib:!1,handleMouseMove(){Db(!0)}}}function B({width:Ha="auto",height:ib=500,pan:Db=!0,zoom:Ib=!1,viewBox:Kb={x:[-3,3],y:[-3,3]},
preserveAspectRatio:Vb="contain",children:Pb,ssr:gc=!1,onClick:D}){ib=Ob.useContext(Ae).overrideHeight??ib;const O="auto"===Ha?"100%":`${Ha}px`,U=Ob.useRef(null);({width:Ha="auto"===Ha?gc?500:0:Ha}=(0,qd.default)({ref:"auto"===Ha?U:null}));return(0,Qd.jsx)("div",{className:"MafsView",style:{width:O,height:ib},tabIndex:Db||Ib?0:-1,ref:U,children:0<Ha&&(0,Qd.jsx)(t,{width:Ha,height:ib,desiredCssWidth:O,rootRef:U,pan:Db,zoom:Ib,viewBox:Kb,preserveAspectRatio:Vb,ssr:gc,onClick:D,children:Pb})})}function t({width:Ha,
height:ib,desiredCssWidth:Db,rootRef:Ib,pan:Kb,zoom:Vb,viewBox:Pb,preserveAspectRatio:gc,children:D,onClick:O}){function U(fd){var Wc=Ib.current;(0,Sd.default)(Wc,"SVG is not mounted");(0,Sd.default)(Id,"View transform is not invertible");Wc=Wc.getBoundingClientRect();return Wb.transform([fd[0]-Wc.left+cd,fd[1]-Wc.top+Hd],Id)}var ba=1;let da=1;"object"===typeof Vb?((0,Sd.default)(0<Vb.min&&1>=Vb.min,"zoom.min must be in the range (0, 1]"),(0,Sd.default)(1<=Vb.max,"zoom.max must be in the range [1, ∞)"),
ba=Vb.min,da=Vb.max):Vb&&(ba=.5,da=5);const xa=k({minZoom:ba,maxZoom:da});ba=Pb?.padding??.5;let Qa=(Pb?.x?.[0]??0)-ba,qb=(Pb?.x?.[1]??0)+ba,wb=(Pb?.y?.[0]??0)-ba,Nb=(Pb?.y?.[1]??0)+ba;"contain"===gc&&(Pb=Ha/ib,(qb-Qa)/(Nb-wb)>Pb?(gc=(Nb+wb)/2,Pb=(qb-Qa)/Pb/2,wb=gc-Pb,Nb=gc+Pb):(gc=(qb+Qa)/2,Pb=(Nb-wb)*Pb/2,Qa=gc-Pb,qb=gc+Pb));[Qa,wb]=Wb.transform([Qa,wb],xa.matrix);[qb,Nb]=Wb.transform([qb,Nb],xa.matrix);const nc=qb-Qa,Ec=Nb-wb;Pb=Ob.useMemo(()=>{const fd=J(1/nc*Ha,5),Wc=J(-1/Ec*ib,5);return Wb.matrixBuilder().scale(fd,
Wc).get()},[ib,Ha,nc,Ec]);const cd=J(Qa/(qb-Qa)*Ha,10),Hd=J(Nb/(wb-Nb)*ib,10),Id=Wb.matrixInvert(Pb),Tc=Ob.useRef([0,0]),Yc=Ob.useRef([0,0]),zd=p(!!Vb),ae=Ob.useRef(!1);(0,Ld.useGesture)({onDrag:({movement:fd,first:Wc,event:be,type:Xb,pinching:he,memo:vf=[0,0],last:we})=>{if(he)return fd;Wc&&xa.setBase();const [te,Ga]=Wb.sub(fd,vf);xa.move({pan:[-te/Ha*nc,Ga/ib*Ec]});(Xb=Xb.includes("key"))&&be?.preventDefault();we&&(ae.current=!0,setTimeout(()=>ae.current=!1,10));return!Xb&&Wc?fd:vf},onPinch:({first:fd,
movement:[Wc],origin:be,event:Xb,last:he})=>{Xb.currentTarget&&Id&&(fd&&(xa.setBase(),Tc.current=be,Yc.current=Kb?U(be):[(Qa+qb)/2,(wb+Nb)/2]),fd=[0,0],Kb&&(fd=Wb.transform(Wb.sub(be,Tc.current),Id)),xa.move({zoom:{at:Yc.current,scale:Wc},pan:Wb.scale(fd,-1)}),he&&xa.setBase())},onWheel:({pinching:fd,event:Wc,delta:[,be]})=>{fd||(fd=2/(1+Math.exp(-be/300)),Wc=U([Wc.clientX,Wc.clientY]),xa.setBase(),xa.move({zoom:{at:Wc,scale:1/fd}}))},onKeyDown:({event:fd})=>{if(!fd.metaKey){var Wc={Equal:1,Minus:-1}[fd.code]??
0;if(Wc){var be=.1;if(fd.altKey||fd.metaKey)be=.01;fd.shiftKey&&(be=.3);fd=1+Wc*be;Wc=[(qb+Qa)/2,(Nb+wb)/2];xa.setBase();xa.move({zoom:{at:Wc,scale:fd}})}}},onMouseMove:()=>{zd.handleMouseMove()},onClick:({event:fd})=>{if(O&&Ib.current&&!ae.current){var Wc=Ib.current.getBoundingClientRect();O([(fd.clientX-Wc.left)/Ha*nc+Qa,(Wc.bottom-fd.clientY)/ib*Ec+wb],fd)}}},{drag:{enabled:Kb,eventOptions:{passive:!1},threshold:1},pinch:{enabled:!!Vb,eventOptions:{passive:!1}},wheel:{enabled:zd.wheelEnabled,preventDefault:!0,
eventOptions:{passive:!1}},target:Ib});Vb=Wb.toCSS(Pb);gc=Ob.useMemo(()=>({xMin:Qa,xMax:qb,yMin:wb,yMax:Nb,height:ib,width:Ha}),[Qa,qb,wb,Nb,ib,Ha]);return(0,Qd.jsx)(mc.Provider,{value:gc,children:(0,Qd.jsx)(Md.Provider,{value:{xSpan:nc,ySpan:Ec},children:(0,Qd.jsx)(de.Provider,{value:{userTransform:Wb.identity,viewTransform:Pb},children:(0,Qd.jsx)(id,{children:(0,Qd.jsx)("svg",{width:Ha,height:ib,viewBox:`${cd} ${Hd} ${Ha} ${ib}`,preserveAspectRatio:"xMidYMin",style:{width:Db,touchAction:Kb?"none":
"auto","--mafs-view-transform":Vb,"--mafs-user-transform":"translate(0, 0)"},children:D})})})})})}function u({separation:Ha,labelMaker:ib}){const {viewTransform:Db}=x(),{xPanes:Ib}=w();return(0,Xd.jsx)("g",{className:"mafs-axis",children:Ib.map(([Kb,Vb])=>(0,Xd.jsx)("g",{children:M(Kb,Vb,Ha).filter(Pb=>Math.abs(Pb)>Ha/1E6).map(Pb=>(0,Xd.jsx)("text",{x:Wb.transform([Pb,0],Db)[0],y:5,dominantBaseline:"hanging",textAnchor:"middle",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:ib(Pb)},
Pb))},`${Kb},${Vb}`))})}function C({separation:Ha,labelMaker:ib}){const {viewTransform:Db}=x(),{yPanes:Ib}=w();return(0,Xd.jsx)("g",{className:"mafs-axis",children:Ib.map(([Kb,Vb])=>(0,Xd.jsx)("g",{children:M(Kb,Vb,Ha).filter(Pb=>Math.abs(Pb)>Ha/1E6).map(Pb=>(0,Xd.jsx)("text",{x:5,y:Wb.transform([0,Pb],Db)[1],dominantBaseline:"central",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:ib(Pb)},Pb))},`${Kb},${Vb}`))})}function F({xAxis:Ha,yAxis:ib,subdivisions:Db=!1}){const Ib=!1!==
Ha,Kb=!1!==ib;Ha={subdivisions:Db,...Jd,...Ha};ib={subdivisions:Db,...Jd,...ib};Db=kd.useMemo(()=>`cartesian-${He++}`,[]);var {viewTransform:Vb}=x();const {xPaneRange:Pb,yPaneRange:gc}=w(),[D,O]=Pb,[U,ba]=gc,[da,xa]=Wb.transform([D,U],Vb),[Qa,qb]=Wb.transform([O,ba],Vb),[wb,Nb]=Wb.transform([Ha.lines||1,-(ib.lines||1)],Vb);Vb=Ha.subdivisions||1;const nc=ib.subdivisions||1,Ec=wb/Vb,cd=Nb/nc;return(0,hc.jsxs)("g",{fill:"none",children:[(0,hc.jsxs)("pattern",{x:0,y:0,width:wb,height:Nb,id:Db,patternUnits:"userSpaceOnUse",
children:[(0,hc.jsx)("pattern",{width:Ec,height:cd,id:`${Db}-subdivision`,patternUnits:"userSpaceOnUse",children:(0,hc.jsxs)("g",{stroke:"var(--grid-line-subdivision-color)",children:[!1!==Ib&&1<Vb&&(0,hc.jsxs)(hc.Fragment,{children:[(0,hc.jsx)("line",{x1:0,y1:0,x2:0,y2:cd}),(0,hc.jsx)("line",{x1:Ec,y1:0,x2:Ec,y2:cd})]}),!1!==Kb&&1<nc&&(0,hc.jsxs)(hc.Fragment,{children:[(0,hc.jsx)("line",{x1:0,y1:0,x2:Ec,y2:0}),(0,hc.jsx)("line",{x1:0,y1:cd,x2:Ec,y2:cd})]})]})}),(0,hc.jsx)("rect",{width:wb,height:Nb,
fill:`url(#${Db}-subdivision)`}),(0,hc.jsxs)("g",{stroke:"var(--mafs-line-color)",children:[Kb&&Ha.lines&&(0,hc.jsxs)(hc.Fragment,{children:[(0,hc.jsx)("line",{x1:0,y1:0,x2:wb,y2:0}),(0,hc.jsx)("line",{x1:0,y1:Nb,x2:wb,y2:Nb})]}),Ib&&ib.lines&&(0,hc.jsxs)(hc.Fragment,{children:[(0,hc.jsx)("line",{x1:0,y1:0,x2:0,y2:Nb}),(0,hc.jsx)("line",{x1:wb,y1:0,x2:wb,y2:Nb})]})]})]}),(0,hc.jsx)("rect",{x:da,y:qb,width:Qa-da,height:xa-qb,fill:`url(#${Db})`}),(0,hc.jsxs)("g",{stroke:"var(--mafs-origin-color)",strokeWidth:"var(--mafs-axis-stroke-width)",
children:[Ib&&Ha.axis&&(0,hc.jsx)("line",{x1:da,y1:0,x2:Qa,y2:0}),Kb&&ib.axis&&(0,hc.jsx)("line",{x1:0,y1:xa,x2:0,y2:qb})]}),(0,hc.jsxs)("g",{className:"mafs-shadow",children:[Ib&&Ha.labels&&(0,hc.jsx)(u,{separation:Ha.lines||1,labelMaker:Ha.labels}),Kb&&ib.labels&&(0,hc.jsx)(C,{separation:ib.lines||1,labelMaker:ib.labels})]})]})}function M(Ha,ib,Db){Ha=Math.floor(Ha/Db)*Db;ib=Math.ceil(ib/Db)*Db;return Ha===ib-Db?[Ha]:r(Ha,ib-Db,Db)}function T(Ha){return 0===Ha?"0":.001>Math.abs(Math.PI-Ha)?"π":
.001>Math.abs(-Math.PI-Ha)?"-π":`${J(Ha/Math.PI,5)}\u03C0`}function N({xAxis:Ha,yAxis:ib,lines:Db=1,subdivisions:Ib}){const Kb=!1!==Ha,Vb=!1!==ib,Pb={...Jd,...Ha},gc={...Jd,...ib};var {viewTransform:D}=x();const {xPaneRange:O,yPaneRange:U}=w(),[ba,da]=O,[xa,Qa]=U;var qb=[Wb.mag([ba,xa]),Wb.mag([ba,Qa]),Wb.mag([da,xa]),Wb.mag([da,Qa]),Wb.mag([(ba+da)/2,(xa+Qa)/2])],wb=Math.min(...qb)<Math.max(da-ba,Qa-xa)?0:Math.min(...qb);qb=Math.max(...qb);wb=Math.floor(wb/Db)*Db;const Nb=Math.ceil(qb/Db)*Db,[nc,
Ec]=Wb.transform([ba,xa],D),[cd,Hd]=Wb.transform([da,Qa],D),[Id,Tc]=Wb.transform([1,-1],D);D=r(wb,Nb,Db);Ib=void 0!=Ib?r(wb,Nb,Db/Ib):[];return(0,Rd.jsxs)("g",{fill:"none",children:[(0,Rd.jsx)("g",{stroke:"var(--grid-line-subdivision-color)",children:$d.map(Yc=>(0,Rd.jsx)("line",{x1:0,y1:0,x2:Math.cos(Yc)*Nb*Id,y2:-Math.sin(Yc)*Nb*Tc},Yc))}),Ib.map(Yc=>(0,Rd.jsx)("ellipse",{"data-r":Yc,cx:0,cy:0,rx:Yc*Id,ry:Yc*Tc,stroke:"var(--grid-line-subdivision-color)"},Yc)),D.map(Yc=>(0,Rd.jsx)("ellipse",{"data-r":Yc,
cx:0,cy:0,rx:Yc*Id,ry:Yc*Tc,stroke:"var(--mafs-line-color)"},Yc)),(0,Rd.jsxs)("g",{stroke:"var(--mafs-origin-color)",strokeWidth:"var(--mafs-axis-stroke-width)",children:[Kb&&Pb.axis&&(0,Rd.jsx)("line",{x1:nc,y1:0,x2:cd,y2:0}),Vb&&gc.axis&&(0,Rd.jsx)("line",{x1:0,y1:Ec,x2:0,y2:Hd})]}),(0,Rd.jsxs)("g",{className:"mafs-shadow",children:[Kb&&Pb.labels&&(0,Rd.jsx)(u,{separation:Ha?.lines||Db||1,labelMaker:Pb.labels||Hc}),Vb&&gc.labels&&(0,Rd.jsx)(C,{separation:ib?.lines||Db||1,labelMaker:gc.labels||Hc})]})]})}
function W(Ha,ib){Ha=43758.5453*Math.sin(12.9898*Ha+78.233*ib);return.4+.2*(Ha-Math.floor(Ha))}function ka({domain:Ha,minDepth:ib,maxDepth:Db,threshold:Ib,fn:Kb,error:Vb,onPoint:Pb,lerp:gc}){function D(ba,da,xa,Qa,qb){function wb(){D(ba,nc,xa+1,Qa,Ec);Pb(nc,Ec);D(nc,da,xa+1,Ec,qb)}var Nb=W(ba,da);const nc=ba+(da-ba)*Nb,Ec=Kb(nc);xa<ib?wb():xa<Db&&(Nb=gc(Qa,qb,Nb),Vb(Ec,Nb)>Ib&&wb())}const [O,U]=Ha;Pb(O,Kb(O));D(O,U,0,Kb(O),Kb(U));Pb(U,Kb(U))}function Y(Ha,ib,Db,Ib,Kb){let Vb="M ";ka({fn:Ha,error:(Pb,
gc)=>Wb.squareDist(Pb,gc),onPoint:(Pb,[gc,D])=>{Number.isFinite(gc)&&Number.isFinite(D)&&(Vb+=`${gc} ${D} L `)},lerp:(Pb,gc,D)=>Wb.lerp(Pb,gc,D),domain:ib,minDepth:Db,maxDepth:Ib,threshold:Kb});return Vb.substring(0,Vb.length-2)}function H(Ha,ib,Db,Ib,Kb,Vb,Pb){function gc(qb,wb){return"x"===Ha?`${qb} ${wb}`:`${wb} ${qb}`}const D={fill:"",upper:"",lower:""};let O="",U="",ba=!1,da=0,xa=0,Qa=0;ka({domain:Ib,minDepth:Kb,maxDepth:Vb,threshold:Pb,fn:qb=>[[qb,Db(qb)],[qb,ib(qb)]],error:([qb,wb],[Nb,nc])=>
Math.max(Wb.squareDist(qb,Nb),Wb.squareDist(wb,nc)),lerp:([qb,wb],[Nb,nc],Ec)=>[Wb.lerp(qb,Nb,Ec),Wb.lerp(wb,nc,Ec)],onPoint:(qb,[[,wb],[,Nb]])=>{var nc=Nb>wb&&ba;if(Nb<wb&&!ba){if(ba=!0,O&&U){nc=(da+qb)/2;var Ec=((xa+Nb)/2+(Qa+wb)/2)/2;O+=` ${gc(nc,Ec)} L `;U=` ${gc(nc,Ec)} L `+U;D.fill+=` M ${O} ${U.substring(0,U.length-2)} z `;D.upper+=` M ${O.substring(0,O.length-2)} `;D.lower+=` M ${U.substring(0,U.length-2)} `;U=O=""}}else nc&&(ba=!1,nc=(da+qb)/2,Ec=((xa+Nb)/2+(Qa+wb)/2)/2,O+=` ${gc(nc,Ec)} L `,
U=` ${gc(nc,Ec)} L `+U);ba||(Number.isFinite(Nb)&&(O+=` ${gc(qb,Nb)} L `),Number.isFinite(wb)&&(U=` ${gc(qb,wb)} L `+U));da=qb;xa=Nb;Qa=wb}});O&&U&&(D.fill+=` M ${O} ${U.substring(0,U.length-2)} z `,D.lower+=` M ${U.substring(0,U.length-2)} `,D.upper+=` M ${O.substring(0,O.length-2)} `);return D}function qa({xy:Ha,t:ib,color:Db,style:Ib="solid",weight:Kb=2,opacity:Vb=1,maxSamplingDepth:Pb=14,minSamplingDepth:gc=8,svgPathProps:D={}}){var {viewTransform:O}=x();O=-Wb.det(O);const [U,ba]=ib,da=.1/O;ib=
nd.useMemo(()=>Y(Ha,[U,ba],gc,Pb,da),[Ha,gc,Pb,da,U,ba]);return(0,ue.jsx)("path",{d:ib,strokeWidth:Kb,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...D,style:{stroke:Db||"var(--mafs-fg)",strokeOpacity:Vb,strokeDasharray:"dashed"===Ib?"var(--mafs-line-stroke-dash-style)":void 0,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...(D.style||{})}})}function Ca({y:Ha,...ib}){const {xPaneRange:[Db,Ib]}=w(),Kb=me.useCallback(Pb=>[Pb,Ha(Pb)],[Ha]),Vb=me.useMemo(()=>[Db,
Ib],[Db,Ib]);return(0,Be.jsx)(qa,{xy:Kb,t:Vb,...ib})}function La({x:Ha,...ib}){const {yPaneRange:[Db,Ib]}=w(),Kb=qe.useCallback(Pb=>[Ha(Pb),Pb],[Ha]),Vb=qe.useMemo(()=>[Db,Ib],[Db,Ib]);return(0,Ee.jsx)(qa,{xy:Kb,t:Vb,...ib})}function Oa({xy:Ha,step:ib=1,xyOpacity:Db=sd,opacityStep:Ib=Db===sd?1:.2,color:Kb=od.foreground}){function Vb(U,ba,da,xa){for(U=Math.floor(U);U<=Math.ceil(ba);U+=ib)for(let cd=Math.floor(da);cd<=Math.ceil(xa);cd+=ib){var Qa=[U,cd],qb=Ha([U,cd]),wb=Wb.mag(qb);if(0!==wb){wb=Wb.scale(Wb.normalize(qb),
Math.min(wb,.75*ib));qb=Wb.add(Qa,wb);Qa=Wb.transform(Qa,Pb);wb=Wb.transform(wb,Pb);var Nb=Wb.mag(wb);qb=Wb.transform(qb,Pb);Nb=Wb.scale(Wb.normalize(wb),Math.min(Nb,5));wb=Wb.add(qb,Wb.rotate(Nb,5/6*Math.PI));Nb=Wb.add(qb,Wb.rotate(Nb,-(5/6)*Math.PI));var nc=Db([U,cd]);var Ec=O;nc=Math.min(Math.max(nc,0),1);Ec=Ec[Ec.length-1-Math.round(nc*(Ec.length-1))];Ec.d+=` M ${Qa[0]} ${Qa[1]} L ${qb[0]} ${qb[1]}  L ${wb[0]} ${wb[1]}  L ${Nb[0]} ${Nb[1]}  L ${qb[0]} ${qb[1]} `}}}const {viewTransform:Pb}=x(),
{xPanes:gc,yPanes:D}=w();Ib=Math.min(1,Math.max(.01,Ib));const O=ea(Math.ceil(1/Ib));for(const [U,ba]of gc)for(const [da,xa]of D)Vb(U,ba,da,xa);return(0,mb.jsx)(mb.Fragment,{children:O.map((U,ba)=>(0,mb.jsx)("path",{d:U.d,style:{stroke:Kb,fill:Kb,opacity:U.opacity,fillOpacity:U.opacity,strokeOpacity:U.opacity},strokeLinecap:"round",strokeLinejoin:"round"},ba))})}function ea(Ha){const ib=[];Ha=1/Ha;for(let Db=1;0<Db;Db-=Ha)ib.push({d:"",opacity:Db});return ib}function kb({x:Ha,y:ib,color:Db=od.foreground,
weight:Ib=2,strokeColor:Kb=Db,strokeOpacity:Vb=1,fillColor:Pb=Db,fillOpacity:gc=.15,minSamplingDepth:D=10,maxSamplingDepth:O=14,upperColor:U=Kb,upperOpacity:ba=Vb,upperWeight:da=Ib,lowerColor:xa=Kb,lowerOpacity:Qa=Vb,lowerWeight:qb=Ib,svgUpperPathProps:wb={},svgLowerPathProps:Nb={},svgFillPathProps:nc={}}){const {xPaneRange:[Ec,cd],yPaneRange:[Hd,Id]}=w();Db=ib?[Ec,cd]:[Hd,Id];const Tc=ib?[Hd,Id]:[Ec,cd];Kb=ib?ib:Ha;(0,ee.default)(Kb&&void 0===Ha!==(void 0===ib),"You must pass either an x or y set of functions to Inequality (but not both)");
(0,ee.default)((void 0===Kb["\x3c"]||void 0===Kb["\x3c\x3d"])&&(void 0===Kb["\x3e"]||void 0===Kb["\x3e\x3d"]),"You cannot pass both an inequality and an equality operator to Inequality");Ha=0;"\x3c\x3d"in Kb&&(Ha=1);"\x3c"in Kb&&(Ha=2);Ib=0;"\x3e\x3d"in Kb&&(Ib=1);"\x3e"in Kb&&(Ib=2);Vb=Kb["\x3c"]??Kb["\x3c\x3d"]??(()=>Tc[1]);Kb=Kb["\x3e"]??Kb["\x3e\x3d"]??(()=>Tc[0]);if("number"===typeof Vb){const Yc=Vb;Vb=()=>Yc}if("number"===typeof Kb){const Yc=Kb;Kb=()=>Yc}ib=H(ib?"x":"y",Vb,Kb,Db,D,O,.1);return(0,Bd.jsxs)("g",
{children:[(0,Bd.jsx)("path",{d:ib.fill,style:{fill:Pb||"var(--mafs-fg)",fillOpacity:gc,stroke:"none",transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...nc?.style},...nc}),0!=Ha&&(0,Bd.jsx)("path",{d:ib.upper,strokeWidth:da,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===Ha?"4,8":"",style:{fill:"none",stroke:U,strokeOpacity:ba,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...wb?.style},...wb}),0!=Ib&&(0,Bd.jsx)("path",{d:ib.lower,
strokeWidth:qb,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===Ib?"4,8":"",style:{fill:"none",stroke:xa,strokeOpacity:Qa,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...Nb?.style},...Nb})]})}function zb({point1:Ha,point2:ib,color:Db=od.foreground,style:Ib="solid",weight:Kb=2,opacity:Vb=1}){const {xPaneRange:Pb,yPaneRange:gc}=w(),[D,O]=Pb,[U,ba]=gc;var {userTransform:da}=x();Ha=Wb.transform(Ha,da);ib=Wb.transform(ib,da);da=(ib[1]-Ha[1])/(ib[0]-Ha[0]);Math.abs(Math.atan(da))>
Math.PI/4?(ib=[(U-Ha[1])/da+Ha[0],U],Ha=[(ba-Ha[1])/da+Ha[0],ba]):(ib=[D,da*(D-Ha[0])+Ha[1]],Ha=[O,da*(O-Ha[0])+Ha[1]]);return(0,Ie.jsx)("line",{x1:J(ib[0],2),y1:J(ib[1],2),x2:J(Ha[0],2),y2:J(Ha[1],2),style:{stroke:Db,strokeDasharray:"dashed"===Ib?"var(--mafs-line-stroke-dash-style)":void 0,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke"},strokeWidth:Kb,opacity:Vb})}function Va({point:Ha,angle:ib,...Db}){ib=Wb.add(Ha,Wb.rotate([1,0],ib));return(0,ca.jsx)(zb,{point1:Ha,point2:ib,
...Db})}function Pa({point:Ha,slope:ib,...Db}){return(0,ma.jsx)(Va,{point:Ha,angle:Math.atan(ib),...Db})}function ja({point1:Ha,point2:ib,color:Db=od.foreground,style:Ib="solid",weight:Kb=2,opacity:Vb=1}){const {viewTransform:Pb,userTransform:gc}=x(),D=Wb.matrixMult(Pb,gc);Ha=Wb.transform(Ha,D);ib=Wb.transform(ib,D);return(0,Fa.jsx)("line",{x1:J(Ha[0],2),y1:J(Ha[1],2),x2:J(ib[0],2),y2:J(ib[1],2),style:{stroke:Db,strokeDasharray:"dashed"===Ib?"var(--mafs-line-stroke-dash-style)":void 0},strokeWidth:Kb,
opacity:Vb})}function jb({center:Ha,radius:ib,angle:Db=0,strokeStyle:Ib="solid",strokeOpacity:Kb=1,weight:Vb=2,color:Pb=od.foreground,fillOpacity:gc=.15,svgEllipseProps:D={}}){const {viewTransform:O,userTransform:U}=x();Ha=Wb.matrixBuilder().translate(...Ha).mult(U).scale(1,-1).mult(O).scale(1,-1).get();Db=`
    ${Wb.toCSS(Ha)}
    rotate(${180/Math.PI*Db})
  `;return(0,Za.jsx)("ellipse",{cx:0,cy:0,rx:ib[0],ry:ib[1],strokeWidth:Vb,transform:Db,...D,style:{stroke:Pb,strokeDasharray:"dashed"===Ib?"var(--mafs-line-stroke-dash-style)":void 0,fill:Pb,fillOpacity:gc,strokeOpacity:Kb,vectorEffect:"non-scaling-stroke",...(D.style||{})}})}function Ya({radius:Ha,...ib}){return(0,Ia.jsx)(jb,{radius:[Ha,Ha],...ib})}function Ma({element:Ha,points:ib,color:Db=od.foreground,weight:Ib=2,fillOpacity:Kb=.15,strokeOpacity:Vb=1,strokeStyle:Pb="solid",svgPolyProps:gc={}}){const {userTransform:D}=
x();ib=ib.map(O=>Wb.transform(O,D).join(" ")).join(" ");return(0,Wa.jsx)(Ha,{points:ib,strokeWidth:Ib,fillOpacity:Kb,strokeLinejoin:"round",...gc,style:{fill:Db,fillOpacity:Kb,stroke:Db,strokeDasharray:"dashed"===Pb?"var(--mafs-line-stroke-dash-style)":void 0,strokeOpacity:Vb,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...(gc.style||{})}})}function na({svgPolygonProps:Ha,...ib}){return(0,lb.jsx)(Ma,{element:"polygon",svgPolyProps:Ha,...ib})}function ub({fillOpacity:Ha=
0,svgPolylineProps:ib,...Db}){return(0,nb.jsx)(Ma,{element:"polyline",fillOpacity:Ha,svgPolyProps:ib,...Db})}function Bb({x:Ha,y:ib,color:Db=od.foreground,opacity:Ib=1,svgCircleProps:Kb={}}){const {viewTransform:Vb,userTransform:Pb}=x(),[gc,D]=Wb.transform([Ha,ib],Wb.matrixMult(Vb,Pb));return(0,sb.jsx)("circle",{cx:gc,cy:D,r:6,...Kb,style:{fill:Db,opacity:Ib,...Kb.style}})}function ab({tail:Ha=[0,0],tip:ib,color:Db=od.foreground,weight:Ib=2,style:Kb="solid",opacity:Vb=1,svgLineProps:Pb={}}){const {userTransform:gc,
viewTransform:D}=x();var O=Wb.matrixMult(D,gc);Ha=Wb.transform(Ha,O);ib=Wb.transform(ib,O);O=rb.useMemo(()=>`mafs-triangle-${oc++}`,[]);return(0,Lb.jsxs)(Lb.Fragment,{children:[(0,Lb.jsx)("defs",{children:(0,Lb.jsx)("marker",{id:O,markerWidth:"8",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:(0,Lb.jsx)("path",{d:"M 0 0 L 8 4 L 0 8 z",fill:Db||"var(--mafs-fg)",strokeWidth:0})})}),(0,Lb.jsx)("line",{x1:Ha[0],y1:Ha[1],x2:ib[0],y2:ib[1],strokeWidth:Ib,markerEnd:`url(#${O})`,...Pb,style:{stroke:Db||
"var(--mafs-fg)",strokeDasharray:"dashed"===Kb?"var(--mafs-line-stroke-dash-style)":void 0,fill:Db,strokeOpacity:Vb,...(Pb?.style||{}),vectorEffect:"non-scaling-stroke"}})]})}function Ab({children:Ha,x:ib,y:Db,color:Ib,size:Kb=30,svgTextProps:Vb={},attach:Pb,attachDistance:gc=0}){const {viewTransform:D,userTransform:O}=x();let U=0,ba="middle";Pb?.includes("w")?(ba="end",U=-1):Pb?.includes("e")&&(ba="start",U=1);let da=0,xa="middle";Pb?.includes("n")?(xa="baseline",da=1):Pb?.includes("s")&&(xa="hanging",
da=-1);let [Qa,qb]=[0,0];if(0!==U||0!==da)[Qa,qb]=Wb.withMag([U,da],gc);ib=Wb.transform([ib,Db],Wb.matrixMult(D,O));return(0,Ub.jsx)("text",{x:ib[0]+Qa,y:ib[1]+qb,fontSize:Kb,dominantBaseline:xa,textAnchor:ba,style:{fill:Ib||"var(--mafs-fg)",vectorEffect:"non-scaling-stroke"},className:"mafs-shadow",...Vb,children:Ha})}function q(Ha){const {gestureTarget:ib,onMove:Db,point:Ib,constrain:Kb}=Ha,[Vb,Pb]=Sb.useState(!1),{xSpan:gc,ySpan:D}=z(),{viewTransform:O,userTransform:U}=x(),ba=Wb.matrixInvert(O);
(0,kc.default)(ba,"The view transform must be invertible.");const da=Sb.useMemo(()=>{const Qa=Wb.matrixInvert(U);(0,kc.default)(null!==Qa,"Could not invert transform matrix. A parent transformation matrix might be degenerative (mapping 2D space to a line).");return Qa},[U]),xa=Sb.useRef([0,0]);(0,ic.useDrag)(Qa=>{const {type:qb,event:wb}=Qa;wb?.stopPropagation();if(qb.includes("key")){wb?.preventDefault();const {direction:Ec,altKey:cd,metaKey:Hd,shiftKey:Id}=Qa;Qa=[Ec[0],-Ec[1]];var Nb=Math.abs(Qa[0])?
gc:D;let Tc=50;if(cd||Hd)Tc=200;Id&&(Tc=10);const Yc=Nb/(2*Tc);Nb=r(Nb/Tc,Nb/2,Nb/Tc);for(var nc of Nb)if(Nb=Wb.scale(Qa,nc),Nb=Kb(Wb.transform(Wb.add(Wb.transform(Ib,U),Nb),da)),Wb.dist(Nb,Ib)>Yc){Db(Nb);break}}else{const {last:Ec,movement:cd,first:Hd}=Qa;Pb(!Ec);Hd&&(xa.current=Wb.transform(Ib,U));0!==Wb.mag(cd)&&(nc=Wb.transform(cd,ba),Db(Kb(Wb.transform(Wb.add(xa.current,nc),da))))}},{target:ib,eventOptions:{passive:!1}});return{dragging:Vb}}function K({point:Ha,onMove:ib,constrain:Db=Kb=>Kb,
color:Ib=od.pink}){const Kb=$b.useRef(null);({dragging:ib}=q({gestureTarget:Kb,onMove:ib,point:Ha,constrain:Db}));return(0,hd.jsx)(Fb,{ref:Kb,point:Ha,color:Ib,dragging:ib})}function aa(Ha,{constrain:ib,color:Db=od.pink}={}){const [Ib,Kb]=Ha,[Vb,Pb]=xc.useState(Ha),[gc,D]=Vb,O=xc.useMemo(()=>"horizontal"===ib?([U])=>[U,Kb]:"vertical"===ib?([,U])=>[Ib,U]:"function"===typeof ib?ib:([U,ba])=>[U,ba],[ib,Ib,Kb]);Ha=xc.useMemo(()=>(0,Bc.jsx)(K,{point:Vb,color:Db,constrain:O,onMove:Pb}),[Vb,Db,O]);return{x:gc,
y:D,point:[gc,D],element:Ha,setPoint:Pb}}function Ea(Ha){const {startTime:ib=0,endTime:Db=Infinity}=Ha||{},Ib=sc.useRef(null),[Kb,Vb]=sc.useState(ib),[Pb,gc]=sc.useState(!1);sc.useEffect(()=>{function O(ba){ba/=1E3;Ib.current||(Ib.current=ba);ba-=Ib.current;ba>=Db?(Ib.current=null,Vb(Db),gc(!1)):(Vb(Math.min(ba,Db)),U=window.requestAnimationFrame(O))}let U=-1;Pb?U=window.requestAnimationFrame(O):window.cancelAnimationFrame(U);return()=>window.cancelAnimationFrame(U)},[Pb,Db]);Ha=sc.useCallback(()=>
gc(!0),[]);const D=sc.useCallback(()=>{Ib.current=null;gc(!1);Vb(ib)},[ib]);return{time:Kb,setTime:O=>Vb(1E3*O),start:Ha,stop:D}}function oa(Ha){const {userTransform:ib,viewTransform:Db}=x();let Ib=Wb.matrixBuilder();const {matrix:Kb,children:Vb,...Pb}=Ha;Kb&&(Ib=Ib.mult(Kb));for(const [gc,D]of Object.entries(Pb))if(null!=D)switch(gc){case "translate":Ib=Ib.translate(...D);break;case "scale":Ib="number"===typeof D?Ib.scale(D,D):Ib.scale(...D);break;case "shear":Ib=Ib.shear(...D);break;case "rotate":Ib=
Ib.rotate(D)}Ib=Ib.mult(ib);Ha=Ib.get();return(0,Jc.jsx)(de.Provider,{value:{userTransform:Ha,viewTransform:Db},children:(0,Jc.jsx)("g",{style:{"--mafs-user-transform":Wb.toCSS(Ha)},children:Vb})})}function za({precision:Ha=3}){const {xMin:ib,xMax:Db,yMin:Ib,yMax:Kb}=A();var {viewTransform:Vb}=x();const {xPanes:Pb,yPanes:gc}=w(),[D,O]=Wb.transform([ib,Ib],Vb);Vb=Pb.map(ba=>`(${ba.join(", ")})`).join("   ");const U=gc.map(ba=>`(${ba.join(", ")})`).join("   ");return(0,zc.jsxs)("g",{className:"mafs-shadow",
fontFamily:"monospace",children:[(0,zc.jsxs)("text",{x:D+10,y:O-70,children:["x: (",ib.toFixed(Ha),", ",Db.toFixed(Ha),")"]}),(0,zc.jsxs)("text",{x:D+10,y:O-50,children:["y: (",Ib.toFixed(Ha),", ",Kb.toFixed(Ha),")"]}),(0,zc.jsxs)("text",{x:D+10,y:O-30,children:["xPanes: ",Vb]}),(0,zc.jsxs)("text",{x:D+10,y:O-10,children:["yPanes: ",U]})]})}function Ka({children:Ha}){const ib=aa([0,0]),Db=aa([1,1],{color:od.blue}),Ib=aa([1,0],{color:od.green,constrain:Kb=>Wb.normalize(Kb)});return(0,bd.jsxs)(bd.Fragment,
{children:[(0,bd.jsxs)(oa,{translate:ib.point,children:[(0,bd.jsxs)(oa,{rotate:Math.atan2(Ib.point[1],Ib.point[0]),children:[(0,bd.jsxs)(oa,{scale:Db.point,children:[Ha,(0,bd.jsx)(na,{points:[[0,0],[0,1],[1,1],[1,0]],color:od.blue})]}),(0,bd.jsx)(Ya,{center:[0,0],radius:1,strokeStyle:"dashed",strokeOpacity:.5,fillOpacity:0,color:od.green}),Db.element]}),Ib.element]}),ib.element]})}function fb({at:Ha,tex:ib,color:Db=od.foreground,katexOptions:Ib}){const Kb=Zd.useRef(null),{viewTransform:Vb,userTransform:Pb}=
x(),gc=Wb.matrixMult(Vb,Pb);Zd.useEffect(()=>{Kb.current&&jd.default.render(ib,Kb.current,Ib)},[Ib,ib]);Ha=Wb.add(Wb.transform(Ha,gc),[-49999.5,-49999.5]);return(0,ad.jsx)("foreignObject",{x:Ha[0],y:Ha[1],width:99999,height:99999,pointerEvents:"none",children:(0,ad.jsx)("div",{style:{fontSize:"1.3em",width:99999,height:99999,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",color:Db,textShadow:`, 0 0 2px ${od.background}`.repeat(8).slice(2)},children:(0,ad.jsx)("span",{ref:Kb})})})}
"use client";var fa=Object.create,X=Object.defineProperty,Da=Object.getOwnPropertyDescriptor,Aa=Object.getOwnPropertyNames,bb=Object.getPrototypeOf,wa=Object.prototype.hasOwnProperty,gb=(Ha,ib,Db,Ib)=>{if(ib&&"object"===typeof ib||"function"===typeof ib)for(let Kb of Aa(ib))wa.call(Ha,Kb)||Kb===Db||X(Ha,Kb,{get:()=>ib[Kb],enumerable:!(Ib=Da(ib,Kb))||Ib.enumerable});return Ha},ob=(Ha,ib,Db)=>(Db=null!=Ha?fa(bb(Ha)):{},gb(!ib&&Ha&&Ha.__esModule?Db:X(Db,"default",{value:Ha,enumerable:!0}),Ha)),Jb={};
((Ha,ib)=>{for(var Db in ib)X(Ha,Db,{get:ib[Db],enumerable:!0})})(Jb,{Circle:()=>Ya,Coordinates:()=>le,Debug:()=>Od,Ellipse:()=>jb,LaTeX:()=>fb,Line:()=>Ja,Mafs:()=>B,MovablePoint:()=>K,MovablePointDisplay:()=>Fb,Plot:()=>Nd,Point:()=>Bb,Polygon:()=>na,Polyline:()=>ub,Text:()=>Ab,Theme:()=>od,Transform:()=>oa,Vector:()=>ab,labelPi:()=>T,useMovable:()=>q,useMovablePoint:()=>aa,usePaneContext:()=>w,useStopwatch:()=>Ea,useTransformContext:()=>x,vec:()=>Wb});db.exports=(Ha=>gb(X({},"__esModule",{value:!0}),
Ha))(Jb);var Ob=ob(P(0)),jc=ob(P(0)),tc=ob(P(624)),lc=jc.createContext(null);lc.displayName="CoordinateContext";var mc=lc,uc=ob(P(0)),wc=P(544),{round:Nc,ceil:Uc,floor:Qc,log2:Gc}=Math,Rb=uc.createContext({xPanes:[],yPanes:[],xPaneRange:[0,0],yPaneRange:[0,0]});Rb.displayName="PaneContext";h.displayName="PaneManager";var id=h,qd=ob(P(625)),Ld=P(571),Wb;(Ha=>{function ib(da,xa){return[da[0]+xa[0],da[1]+xa[1]]}function Db(da,xa){return[da[0]-xa[0],da[1]-xa[1]]}function Ib(da){return Math.sqrt(da[0]*
da[0]+da[1]*da[1])}function Kb(da,xa,Qa){xa=Db(xa,da);const qb=Ib(xa);return ib(da,Vb(xa,Qa*qb))}function Vb(da,xa){const Qa=Ib(da);return Pb(da,xa/Qa)}function Pb(da,xa){return[da[0]*xa,da[1]*xa]}function gc(da,xa){return m(da[0]*xa[0]+da[1]*xa[3],da[3]*xa[0]+da[4]*xa[3],da[0]*xa[1]+da[1]*xa[4],da[3]*xa[1]+da[4]*xa[4],da[0]*xa[2]+da[1]*xa[5]+da[2],da[3]*xa[2]+da[4]*xa[5]+da[5])}function D(da,xa){const Qa=Math.cos(xa);xa=Math.sin(xa);return[da[0]*Qa-da[1]*xa,da[0]*xa+da[1]*Qa]}function O(da,xa){return Math.pow(xa[0]-
da[0],2)+Math.pow(xa[1]-da[1],2)}function U(da){return da[0]*da[4]-da[3]*da[1]}function ba(da=null){const xa=da||m();return{mult:Qa=>ba(gc(Qa,xa)),translate:(Qa,qb)=>ba(gc(m(1,0,0,1,Qa,qb),xa)),rotate:Qa=>{const qb=Math.cos(Qa);Qa=Math.sin(Qa);return ba(gc(m(qb,Qa,-Qa,qb),xa))},scale:(Qa,qb)=>ba(gc(m(Qa,0,0,qb),xa)),shear:(Qa,qb)=>ba(gc(m(1,qb,Qa,1),xa)),get:()=>[...xa]}}Ha.add=ib;Ha.sub=Db;Ha.mag=Ib;Ha.normal=function(da){return[-da[1],da[0]]};Ha.lerp=Kb;Ha.withMag=Vb;Ha.normalize=function(da){return Vb(da,
1)};Ha.scale=Pb;Ha.transform=function(da,xa){return[da[0]*xa[0]+da[1]*xa[1]+xa[2],da[0]*xa[3]+da[1]*xa[4]+xa[5]]};Ha.matrixMult=gc;Ha.rotate=D;Ha.rotateAbout=function(da,xa,Qa){da=Db(da,xa);return ib(xa,D(da,Qa))};Ha.midpoint=function(da,xa){return Kb(da,xa,.5)};Ha.dist=function(da,xa){return Math.sqrt(O(da,xa))};Ha.squareDist=O;Ha.dot=function(da,xa){return da[0]*xa[0]+da[1]*xa[1]};Ha.det=U;Ha.matrixInvert=function(da){var xa=U(da);if(!xa)return null;xa=1/xa;const Qa=da[0],qb=da[1],wb=da[2],Nb=da[3],
nc=da[4];da=da[5];return m(xa*nc,xa*-Nb,xa*-qb,xa*Qa,xa*(da*qb-wb*nc),xa*(-da*Qa+wb*Nb))};Ha.matrixBuilder=ba;Ha.toCSS=function(da){const [xa,Qa,qb,wb,Nb,nc]=da;return`matrix(${xa}, ${wb}, ${Qa}, ${Nb}, ${qb}, ${nc})`};Ha.identity=ba().get()})(Wb||(Wb={}));var rd=ob(P(0)),Wd=ob(P(624)),de=rd.createContext(null);de.displayName="TransformContext";var je=ob(P(0)),Ed=ob(P(624)),Md=je.createContext({xSpan:0,ySpan:0});Md.displayName="SpanContext";var Sd=ob(P(624)),pe=ob(P(0)),se=ob(P(0)),Ae=ob(P(0)).createContext({overrideHeight:void 0}),
Qd=P(544);B.displayName="Mafs";var kd=ob(P(0)),Xd=P(544),Hc=Ha=>(0,Xd.jsxs)(Xd.Fragment,{children:[Ha,0>Ha&&(0,Xd.jsx)("tspan",{visibility:"hidden",children:"-"})]}),Jd={axis:!0,lines:1,labels:Hc};u.displayName="CartesianCoordinates.XLabels";C.displayName="CartesianCoordinates.YLabels";var hc=P(544),He=0;F.displayName="Coordinates.Cartesian";var Rd=P(544),$d=r(0,2*Math.PI,Math.PI/12);N.displayName="Coordinates.Polar";var le={Cartesian:F,Polar:N},me=ob(P(0)),nd=ob(P(0)),ue=P(544);qa.displayName="Plot.Parametric";
var Be=P(544);Ca.displayName="Plot.OfX";var qe=ob(P(0)),Ee=P(544);La.displayName="Plot.OfY";var od={foreground:"var(--mafs-fg)",background:"var(--mafs-bg)",red:"var(--mafs-red)",orange:"var(--mafs-orange)",green:"var(--mafs-green)",blue:"var(--mafs-blue)",indigo:"var(--mafs-indigo)",violet:"var(--mafs-violet)",pink:"var(--mafs-pink)",yellow:"var(--mafs-yellow)"},mb=P(544),sd=()=>1;Oa.displayName="Plot.VectorField";var ee=ob(P(624)),Bd=P(544);kb.displayName="Plot.Inequality";var Nd={OfX:Ca,OfY:La,
Parametric:qa,VectorField:Oa,Inequality:kb},Ie=P(544);zb.displayName="Line.ThroughPoints";var ca=P(544);Va.displayName="Line.PointAngle";var ma=P(544);Pa.displayName="Line.PointSlope";var Fa=P(544);ja.displayName="Line.Segment";var Ja={PointAngle:Va,PointSlope:Pa,ThroughPoints:zb,Segment:ja},Za=P(544);jb.displayName="Ellipse";var Ia=P(544);Ya.displayName="Circle";var Wa=P(544),lb=P(544);na.displayName="Polygon";var nb=P(544);ub.displayName="Polyline";var sb=P(544);Bb.displayName="Point";var rb=ob(P(0)),
Lb=P(544),oc=0;ab.displayName="Vector";var Ub=P(544);Ab.displayName="Text";var $b=ob(P(0)),Sb=ob(P(0)),ic=P(571),kc=ob(P(624)),Sc=ob(P(0)),Xc=P(544),Fb=Sc.forwardRef((Ha,ib)=>{const {color:Db=od.pink,ringRadiusPx:Ib=15,dragging:Kb,point:Vb}=Ha,{viewTransform:Pb,userTransform:gc}=x();Ha=Sc.useMemo(()=>Wb.matrixMult(Pb,gc),[Pb,gc]);const [D,O]=Wb.transform(Vb,Ha);return(0,Xc.jsxs)("g",{ref:ib,style:{"--movable-point-color":Db,"--movable-point-ring-size":`${Ib}px`},className:`mafs-movable-point ${Kb?
"mafs-movable-point-dragging":""}`,tabIndex:0,children:[(0,Xc.jsx)("circle",{className:"mafs-movable-point-hitbox",r:30,cx:D,cy:O}),(0,Xc.jsx)("circle",{className:"mafs-movable-point-focus",r:Ib+1,cx:D,cy:O}),(0,Xc.jsx)("circle",{className:"mafs-movable-point-ring",r:Ib,cx:D,cy:O}),(0,Xc.jsx)("circle",{className:"mafs-movable-point-point",r:6,cx:D,cy:O})]})});Fb.displayName="MovablePointDisplay";var hd=P(544);K.displayName="MovablePoint";var xc=ob(P(0)),Bc=P(544),sc=ob(P(0)),Jc=P(544);oa.displayName=
"Transform";var zc=P(544);za.displayName="Debug.ViewportInfo";var bd=P(544);Ka.displayName="Debug.TransformWidget";var Od={ViewportInfo:za,TransformWidget:Ka},Zd=ob(P(0)),jd=ob(P(540)),ad=P(544)};
shadow$provide[627]=function(G,y,X,g){G=this;y=function(A){function u(b){return Array.isArray(b)}function m(){return"window"in globalThis&&"document"in globalThis}function e(){if(!m())throw Error("\x3cmath-field\x3e is an interactive component that needs to run in a browser environment\nIf you are using nextjs, see https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr");}function c(){return!!m()&&("matchMedia"in globalThis?globalThis.matchMedia("(any-pointer: coarse)").matches:"ontouchstart"in
globalThis||0<navigator.maxTouchPoints)}function h(){return m()&&"function"==typeof navigator.vibrate}function l(){var b,f;if(!m())return"other";const q=null!==(f=null===(b=navigator.userAgentData)||void 0===b?void 0:b.platform)&&void 0!==f?f:navigator.platform;return/^mac/i.test(q)?5===navigator.maxTouchPoints?"ios":"macos":/^win/i.test(q)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":
"other"}function n(){if(!m())return!0;if(/firefox/i.test(navigator.userAgent)){var b=navigator.userAgent.match(/firefox\/(\d+)/i);return!!b&&78<=parseInt(b[1])}return/trident/i.test(navigator.userAgent)?!1:/edge/i.test(navigator.userAgent)?(b=navigator.userAgent.match(/edg\/(\d+)/i),!!b&&79<=parseInt(b[1])):!0}function p(b){if(void 0!==b){var f=Be.locale.slice(0,2),q="";return Be.strings[Be.locale]&&(q=Be.strings[Be.locale][b]),!q&&Be.strings[f]&&(q=Be.strings[f][b]),q||(q=Be.strings.en[b]),q||void 0}}
function v(b){var f,q,D,J,K,W;b=b.split("!");let ca,fa,xa;var ra=255,Na=255,Ua=255;let db=-1;const vb=0<b.length&&b[0].startsWith("-");vb&&(b[0]=b[0].slice(1));for(let Qb=0;Qb<b.length;Qb++){ca=ra;fa=Na;xa=Ua;ra=null===(f=b[Qb].trim().match(/^([A-Za-z\d]+)/))||void 0===f?void 0:f[1];Ua=null==ra?void 0:ra.toLowerCase();Na=ra&&null!==(W=null!==(K=null!==(J=null!==(D=null!==(q=Xg[Ua])&&void 0!==q?q:Xg[sg[ra]])&&void 0!==D?D:rg[ra])&&void 0!==J?J:Bh[ra])&&void 0!==K?K:Lf[ra])&&void 0!==W?W:b[Qb].trim();
Ua=Na.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if((null==Ua?0:Ua[1])&&Ua[2]&&Ua[3])ra=Math.max(0,Math.min(255,Number.parseInt(Ua[1],16))),Na=Math.max(0,Math.min(255,Number.parseInt(Ua[2],16))),Ua=Math.max(0,Math.min(255,Number.parseInt(Ua[3],16)));else if(Ua=Na.match(/^#([\da-f]{3})$/i),null==Ua?void 0:Ua[1])ra=Number.parseInt(Ua[1][0],16),Na=Number.parseInt(Ua[1][1],16),Ua=Number.parseInt(Ua[1][2],16),ra=Math.max(0,Math.min(255,16*ra+ra)),Na=Math.max(0,Math.min(255,16*Na+Na)),Ua=Math.max(0,
Math.min(255,16*Ua+Ua));else{if(Ua=Na.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!((null==Ua?0:Ua[1])&&Ua[2]&&Ua[3]))return;ra=Math.max(0,Math.min(255,Number.parseInt(Ua[1])));Na=Math.max(0,Math.min(255,Number.parseInt(Ua[2])));Ua=Math.max(0,Math.min(255,Number.parseInt(Ua[3])))}0<=db&&(ra=(1-db)*ra+db*ca,Na=(1-db)*Na+db*fa,Ua=(1-db)*Ua+db*xa,db=-1);Qb+1<b.length&&(db=Math.max(0,Math.min(100,Number.parseInt(b[++Qb])))/100)}return 0<=db&&(ra=db*ra+(1-db)*ca,Na=db*Na+(1-db)*fa,Ua=db*
Ua+(1-db)*xa),vb&&(ra=255-ra,Na=255-Na,Ua=255-Ua),"#"+("00"+Math.round(ra).toString(16)).slice(-2)+("00"+Math.round(Na).toString(16)).slice(-2)+("00"+Math.round(Ua).toString(16)).slice(-2)}function w(b){var f,q;return b=b.trim(),null!==(q=null!==(f=mh[b.toLowerCase()])&&void 0!==f?f:mh[sg[b]])&&void 0!==q?q:v(b)}function z(b,f,q){return 0>q&&(q+=6),6<=q&&(q-=6),1>q?(f-b)*q+b:3>q?f:4>q?(f-b)*(4-q)+b:b}function x(b){return 0>b?0:255<b?255:Math.round(b)}function E(b){let f=function(K){if(K&&"#"===K[0]){var W;
return 4>=(K=K.slice(1)).length?(W={r:parseInt(K[0]+K[0],16),g:parseInt(K[1]+K[1],16),b:parseInt(K[2]+K[2],16)},4===K.length&&(W.a=parseInt(K[3]+K[3],16)/255)):(W={r:parseInt(K[0]+K[1],16),g:parseInt(K[2]+K[3],16),b:parseInt(K[4]+K[5],16)},8===K.length&&(W.a=parseInt(K[6]+K[7],16)/255)),W&&void 0===W.a&&(W.a=1),W}}(b);if(!f)return b;let {h:q,s:D,l:J}=function(K){let {r:W,g:ca,b:fa}=K;W/=255;ca/=255;fa/=255;K=Math.min(W,ca,fa);const xa=Math.max(W,ca,fa),ra=xa-K;let Na,Ua;xa===K?Na=0:W===xa?Na=(ca-
fa)/ra:ca===xa?Na=2+(fa-W)/ra:fa===xa&&(Na=4+(W-ca)/ra);Na=Math.min(60*Na,360);0>Na&&(Na+=360);const db=(K+xa)/2;return Ua=xa===K?0:.5>=db?ra/(xa+K):ra/(2-xa-K),{h:Na,s:Ua,l:db}}(f);return D+=.1,J-=.1,function(K){const {r:W,g:ca,b:fa}=K;K=(16777216+(x(W)<<16)+(x(ca)<<8)+x(fa)).toString(16).slice(1);return K[0]===K[1]&&K[2]===K[3]&&K[4]===K[5]&&K[6]===K[7]&&(K=K[0]+K[2]+K[4]),"#"+K}(function(K){let [W,ca,fa]=[K.h,K.s,K.l];W=(W+360)%360/60;fa=Math.max(0,Math.min(fa,1));ca=Math.max(0,Math.min(ca,1));
K=.5>=fa?fa*(ca+1):fa+ca-fa*ca;const xa=2*fa-K;return{r:Math.round(255*z(xa,K,W+2)),g:Math.round(255*z(xa,K,W)),b:Math.round(255*z(xa,K,W-2))}}({h:q,s:D,l:J}))}function H(b,f,q="mord",D){void 0!==f&&(Tf[b]={definitionType:"symbol",type:q,variant:D,codepoint:f},Hg[f]||(Hg[f]=b),Ve[b]||(Ve[b]=f))}function I(b,f,q){if("string"!=typeof b)for(const [D,J,K,W]of b)H(D,J,null!=K?K:f,null!=W?W:q);else for(f=0;f<b.length;f++)q=b.charAt(f),H(q,q.codePointAt(0))}function N(b,f){for(;b<=f;b++)H(String.fromCodePoint(b),
b)}function Q(b,f){return void 0===f?"":"math"===b&&Hg[f]?Hg[f]:"text"===b?(b=Object.keys(Ve).find(q=>Ve[q]===f),b||(b=f.toString(16),b="^".repeat(b.length)+b),b):String.fromCodePoint(f)}function V(b){let f="auto";b=b.match(/:([^=]+)/);return b&&(f=b[1].trim()),f}function ba(b){if(!b)return[];const f=[];let q=b.split("]");if(q[0].startsWith("["))for(f.push({isOptional:!0,type:V(q[0].slice(1))}),b=1;b<=q.length;b++)f.push(...ba(q[b]));else if(q=b.split("}"),q[0].startsWith("{"))for(f.push({isOptional:!1,
type:V(q[0].slice(1))}),b=1;b<=q.length;b++)f.push(...ba(q[b]));return f}function T(b){if(!b)return"";let f="",q=!0;for(const D of b)"string"==typeof D.value?f+=D.value:q=!1;return q?f:""}function O(b,f,q,D=!1){"string"==typeof b&&(b=[b]);f={tabular:D,params:ba(f),createAtom:q};for(const J of b)Rd[J]=f}function da(b,f,q){O(b,f,q,!0)}function ea(b,f,q){var D,J;q||(q={});f={definitionType:"function",params:ba(f),ifMode:q.ifMode,isFunction:null!==(D=q.isFunction)&&void 0!==D&&D,applyMode:q.applyMode,
infix:null!==(J=q.infix)&&void 0!==J&&J,createAtom:q.createAtom,applyStyle:q.applyStyle};if("string"==typeof b)Mf["\\"+b]=f;else for(const K of b)Mf["\\"+K]=f}function Aa(b){return $g||($g=qa(Yg)),b?qa({...$g,...b}):$g}function Ea(b,f){var q,D,J;if("string"==typeof b){var K=0;return/(^|[^\\])#1/.test(b)&&(K=1),/(^|[^\\])#2/.test(b)&&(K=2),/(^|[^\\])#3/.test(b)&&(K=3),/(^|[^\\])#4/.test(b)&&(K=4),/(^|[^\\])#5/.test(b)&&(K=5),/(^|[^\\])#6/.test(b)&&(K=6),/(^|[^\\])#7/.test(b)&&(K=7),/(^|[^\\])#8/.test(b)&&
(K=8),/(^|[^\\])#9/.test(b)&&(K=9),{expand:null===(q=null==f?void 0:f.expand)||void 0===q||q,captureSelection:null===(D=null==f?void 0:f.captureSelection)||void 0===D||D,args:K,def:b}}return{expand:null===(K=null==f?void 0:f.expand)||void 0===K||K,captureSelection:null===(J=null==f?void 0:f.captureSelection)||void 0===J||J,args:0,...b}}function qa(b){if(!b)return{};const f={};for(const q of Object.keys(b)){const D=b[q];if(null==D)delete f[q];else if("object"==typeof D&&"package"in D)for(const J of Object.keys(D.package))f[J]=
Ea(D.package[J],{expand:D.expand,captureSelection:D.captureSelection});else f[q]=Ea(D)}return f}function jb(b,f){void 0===b&&(b=77);if(f=Af[f][b])return{defaultMetrics:!1,depth:f[0],height:f[1],italic:f[2],skew:f[3]};if(11034===b)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0};b=String.fromCodePoint(b);if(b in Ui)Ui[b].codePointAt(0);else if(jg.test(b))return{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}function va(b,
f){if(null===b)b=0;else{var q;if(b){var D={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:.75,em:10,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[null!==(q=b.unit)&&void 0!==q?q:"pt"];Number.isFinite(f)?(f=10**f,b=Math.round(b.dimension/10*D*f)/f):b=b.dimension*D}else b=0;b/=10}return b}function Ga(b){var f;return`${b.dimension}${null!==(f=b.unit)&&void 0!==f?f:"pt"}`}function Da(b,f){const q=[];let D,J=[];for(const K of b)if("first"!==K.type&&K.style){let W;"variant"===f?(W=K.style.variant,K.style.variantStyle&&
"up"!==K.style.variantStyle&&(W+="-"+K.style.variantStyle)):"cssClass"===f?"group"===K.type&&(W=K.customClass):W=K.style[f];W===D?J.push(K):(0<J.length&&q.push(J),J=[K],D=W)}return 0<J.length&&q.push(J),q}function Oa(b,f){return"string"==typeof b?b:"number"==typeof b?(b=Math.ceil(100*b)/100,0===b?"0":b.toString()+(null!=f?f:"")):""}function tb(b){if(!b||0===b.length)return[];b[0].children=tb(b[0].children);const f=[b[0]];for(let q=1;q<b.length;q++)f[f.length-1].tryCoalesceWith(b[q])||(b[q].children=
tb(b[q].children),f.push(b[q]));return f}function fb(b){return b.children&&(b.children=tb(b.children)),b}function lb(b,f,q){f.newList&&(b=null);const D=f.type;if("first"===D)return null;if("spacing"===D)return b;if(q(b,f),f.children){let J=null;void 0!==D&&0!==D.length||(J=b);for(const K of f.children)J=lb(J,K,q);void 0!==D&&0!==D.length||(b=J)}return"supsub"!==D&&void 0!==D&&0<D.length&&(b=f),b}function ka(b,f){b&&lb(null,b,f)}function zb(b,f=1){return function(q){ka(q,(D,J)=>{"mbin"!==J.type||D&&
!/first|none|mbin|mop|mrel|mopen|mpunct/.test(D.type)||(J.type="mord");D&&"mbin"===D.type&&/mrel|mclose|mpunct|placeholder/.test(J.type)&&(D.type="mord")})}(b),function(q,D){ka(q,(J,K)=>{var W,ca,fa,xa;J=null!==(W=null==J?void 0:J.type)&&void 0!==W?W:"none";(ca=(W=K.isTight?null!==(ca=Pg[J])&&void 0!==ca?ca:null:null!==(fa=nh[J])&&void 0!==fa?fa:null)&&null!==(xa=W[K.type])&&void 0!==xa?xa:0)&&(K.left+=ca/18*D)})}(b,f),b}function Eb(b,f){if(!b)return new Zc(null,f);var q=new Zc(null,{classes:"ML__strut"});
q.setStyle("height",Math.max(0,b.height),"em");q=[q];if(0!==b.depth){const D=new Zc(null,{classes:"ML__strut--bottom"});D.setStyle("height",b.height+b.depth,"em");D.setStyle("vertical-align",-b.depth,"em");q.push(D)}return q.push(b),new Zc(q,f)}function kb(b){var f=(Xh[b]?Xh[b][2]/1E3:Ad[b][2])/2;f=new Zc(null,{height:f+.166,depth:f-.166,maxFontSize:0});return f.svgBody=b,f}function Nb(b){var f;if(void 0===Qe){Qe={};for(const q of Vi)for(let D=q[0];D<=q[0]+q[1]-1;D++)Qe[D]=!0}return null!==(f=Qe[b])&&
void 0!==f&&f}function L(b){if(/^[\u0020-\u00FF]*$/.test(b))return b;const f=[],q=[];for(var D=0;D<b.length;D++){var J=b.charCodeAt(D);if(13===J&&10===b.charCodeAt(D+1)&&(J=10,D++),13!==J&&12!==J||(J=10),0===J&&(J=65533),55296<=J&&56319>=J){const K=b.charCodeAt(D+1);56320<=K&&57343>=K&&(J=65536+1024*(J-55296)+(K-56320),D++)}q.push(J)}for(b=0;b<q.length;)if(D=q[b++],J=q[b],8205===J){D=b-1;for(b+=2;8205===q[b];)b+=2;f.push(String.fromCodePoint(...q.slice(D,b-D+1)))}else if(Nb(J)){for(D=b-1;Nb(q[b]);)b+=
8205===q[b]?2:1;f.push(String.fromCodePoint(...q.slice(D,2*b-D-1)))}else D>=Tj[0]&&D<=Tj[1]?(b+=1,f.push(String.fromCodePoint(...q.slice(b-2,2)))):f.push(String.fromCodePoint(D));return f}function Y(b,f=null){var q=[],D="";for(var J of b.toString().split(/\r?\n/))D&&q.push(D),D=" ",b=J.match(/((?:\\%)|[^%])*/),null!==b&&q.push(b[0]);q=new Dk(q.join(""));D=[];do{J=D;b=J.push;var K=void 0,W=void 0,ca=void 0,fa=void 0,xa=q,ra=f;const Ua=[];var Na=xa.next();if(Na&&"\\relax"!==Na)if("\\noexpand"===Na)(Na=
xa.next())&&Ua.push(Na);else if("\\obeyspaces"===Na)xa.obeyspaces=!0;else if("\\space"===Na||"~"===Na)Ua.push("\x3cspace\x3e");else if("\\bgroup"===Na)Ua.push("\x3c{\x3e");else if("\\egroup"===Na)Ua.push("\x3c}\x3e");else if("\\string"===Na){if(Na=xa.next(),Na)if(Na.startsWith("\\"))for(const db of Na)Ua.push("\\"===db?"\\backslash":db);else"\x3c{\x3e"===Na?Ua.push("\\{"):"\x3cspace\x3e"===Na?Ua.push("~"):"\x3c}\x3e"===Na&&Ua.push("\\}")}else if("\\csname"===Na){for(;"\x3cspace\x3e"===xa.peek();)xa.next();
K="";let db=[];do 0===db.length&&(/^#[\d?@]$/.test(xa.peek())?(Na=xa.get().slice(1),db=Y(null!==(ca=null!==(fa=null==ra?void 0:ra(Na))&&void 0!==fa?fa:null==ra?void 0:ra("?"))&&void 0!==ca?ca:"\\placeholder{}",ra),Na=db[0]):db=(Na=xa.next())?[Na]:[]),(W=0===db.length)||"\\endcsname"!==Na||(W=!0,db.shift()),W||(W="\x3c$\x3e"===Na||"\x3c$$\x3e"===Na||"\x3c{\x3e"===Na||"\x3c}\x3e"===Na||"string"==typeof Na&&1<Na.length&&Na.startsWith("\\")),W||(K+=db.shift());while(!W);K&&Ua.push("\\"+K);Ua.push(...db)}else"\\endcsname"!==
Na&&(1<Na.length&&Na.startsWith("#")?(ca=Na.slice(1),Ua.push(...Y(null!==(K=null!==(W=null==ra?void 0:ra(ca))&&void 0!==W?W:null==ra?void 0:ra("?"))&&void 0!==K?K:"\\placeholder{}",ra))):Ua.push(Na));b.call(J,...Ua)}while(!q.end());return D}function sa(b){let f="";const q=[];for(const D of b)D&&(/[a-zA-Z\*]/.test(D[0])&&q.push(f),q.push(D),/\\[a-zA-Z]+\*?["'][^ ]+$/.test(D)&&q.push(" "),f=/\\[a-zA-Z]+\*?$/.test(D)?" ":"");return q.join("")}function Za(b){return sa(b.map(f=>{var q;return null!==(q=
{"\x3cspace\x3e":" ","\x3c$$\x3e":"$$","\x3c$\x3e":"$","\x3c{\x3e":"{","\x3c}\x3e":"}"}[f])&&void 0!==q?q:f}))}function Ja(b){return"string"==typeof b&&Ch.includes(b)}function Sa(b){return void 0!==b&&Array.isArray(b)&&2===b.length}function hb(b,f){if(!b||0===b.length)return"";if("first"===b[0].type){if(1===b.length)return"";b=b.slice(1)}return 0===b.length?"":sa(Da(b,"cssClass").map(q=>sa(Da(q,"color").map(D=>sa(function(J){const K=[];let W=[],ca="NONE";for(const fa of J)"first"!==fa.type&&(fa.mode!==
ca?(0<W.length&&K.push(W),W=[fa],ca=fa.mode):W.push(fa));return 0<W.length&&K.push(W),K}(D).map(J=>tg.serialize(J,f)))))))}function Ba(b,f,q){var D,J,K;if(!f||0===f.length)return null;const W=new de(b,null==q?void 0:q.style),ca=!W.atomIdsSettings||!W.atomIdsSettings.groupNumbers;let fa,xa=[];var ra=null!==(D=null==q?void 0:q.newList)&&void 0!==D&&D;if(1===f.length){var Na=f[0];(ra=Na.render(W,{newList:ra}))&&(ca&&Na.isSelected&&ra.selected(!0),xa=[ra])}else{D="";let Ua=!0;for(const db of f)(null===
(Na=W.atomIdsSettings)||void 0===Na?0:Na.groupNumbers)&&D&&(Ua&&db.isDigit()||!Ua&&"text"===db.mode)&&(W.atomIdsSettings.overrideID=D),f=db.render(W,{newList:ra}),W.atomIdsSettings&&(W.atomIdsSettings.overrideID=void 0),f&&(ra="group"===db.type&&!db.boxType,(null===(J=W.atomIdsSettings)||void 0===J?void 0:J.groupNumbers)&&((db.isDigit()||"text"===db.mode)&&(D&&Ua===db.isDigit()||(Ua=db.isDigit(),D=null!==(K=db.id)&&void 0!==K?K:"")),!D||(db.isDigit()||"text"===db.mode)&&db.hasEmptyBranch("superscript")&&
db.hasEmptyBranch("subscript")||(D="")),ca&&db.isSelected&&f.selected(!0),xa.push(f))}return 0===xa.length?null:(q||W.isTight||1<xa.length?(fa=new Zc(xa,{isTight:W.isTight,...(null!=q?q:{})}),fa.isSelected=xa.every(Ua=>Ua.isSelected)):fa=xa[0],fa.wrap(W).wrap(b))}function ya(b){var f;return null!==(f={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,
"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[b])&&void 0!==f?f:b.codePointAt(0)}function na(b,f,q,D,J){D=new de(D,null==J?void 0:J.style,"textstyle");
b=(new Zc(ya(b),{fontFamily:"Size"+f+"-Regular",classes:"ML__delim-size"+f})).wrap(D);return q&&b.setTop(.25*(1-D.scalingFactor)),b}function Va(b,f,q,D,J){var K,W,ca;var fa=W=ca=ya(b);var xa=null;var ra="Size1-Regular";"\\vert"===b||"\\lvert"===b||"\\rvert"===b||"\\mvert"===b||"\\mid"===b?W=fa=ca=8739:"\\Vert"===b||"\\lVert"===b||"\\rVert"===b||"\\mVert"===b||"\\|"===b?W=fa=ca=8741:"\\uparrow"===b?W=ca=9168:"\\Uparrow"===b?W=ca=8214:"\\downarrow"===b?fa=W=9168:"\\Downarrow"===b?fa=W=8214:"\\updownarrow"===
b?(fa=8593,W=9168,ca=8595):"\\Updownarrow"===b?(fa=8657,W=8214,ca=8659):"["===b||"\\lbrack"===b?(fa=9121,W=9122,ca=9123,ra="Size4-Regular"):"]"===b||"\\rbrack"===b?(fa=9124,W=9125,ca=9126,ra="Size4-Regular"):"\\lfloor"===b||"⌊"===b?(W=fa=9122,ca=9123,ra="Size4-Regular"):"\\lceil"===b||"⌈"===b?(fa=9121,W=ca=9122,ra="Size4-Regular"):"\\rfloor"===b||"⌋"===b?(W=fa=9125,ca=9126,ra="Size4-Regular"):"\\rceil"===b||"⌉"===b?(fa=9124,W=ca=9125,ra="Size4-Regular"):"("===b||"\\lparen"===b?(fa=9115,W=9116,ca=
9117,ra="Size4-Regular"):")"===b||"\\rparen"===b?(fa=9118,W=9119,ca=9120,ra="Size4-Regular"):"\\{"===b||"\\lbrace"===b?(fa=9127,xa=9128,ca=9129,W=9130,ra="Size4-Regular"):"\\}"===b||"\\rbrace"===b?(fa=9131,xa=9132,ca=9133,W=9130,ra="Size4-Regular"):"\\lgroup"===b||"⟮"===b?(fa=9127,ca=9129,W=9130,ra="Size4-Regular"):"\\rgroup"===b||"⟯"===b?(fa=9131,ca=9133,W=9130,ra="Size4-Regular"):"\\lmoustache"===b||"⎰"===b?(fa=9127,ca=9133,W=9130,ra="Size4-Regular"):"\\rmoustache"===b||"⎱"===b?(fa=9131,ca=9129,
W=9130,ra="Size4-Regular"):"\\surd"===b?(fa=57345,ca=9143,W=57344,ra="Size4-Regular"):"\\ulcorner"===b?(fa=9484,W=ca=32):"\\urcorner"===b?(fa=9488,W=ca=32):"\\llcorner"===b?(ca=9492,W=fa=32):"\\lrcorner"===b&&(fa=9496,W=fa=32);b=jb(fa,ra);var Na=b.height+b.depth;b=jb(W,ra);b=b.height+b.depth;var Ua=jb(ca,ra),db=Ua.height+Ua.depth;let vb=0;Ua=1;null!==xa&&(Ua=jb(xa,ra),vb=Ua.height+Ua.depth,Ua=2);Na=Na+db+vb;f=Math.max(0,Math.ceil((f-Na)/(Ua*b)));db=.25;q&&(db*=D.scalingFactor);q=(Na+f*Ua*b)/2-db;
D=[];D.push({box:new Zc(ca,{fontFamily:ra})});D.push(-.008);W=new Zc(W,{fontFamily:ra});if(null===xa)for(xa=0;xa<f;xa++)D.push({box:W});else{for(ca=0;ca<f;ca++)D.push({box:W});D.push(-.008);D.push({box:new Zc(xa,{fontFamily:ra})});D.push(-.008);for(xa=0;xa<f;xa++)D.push({box:W})}D.push(-.008);D.push({box:new Zc(fa,{fontFamily:ra})});fa="";"Size1-Regular"===ra?fa=" delim-size1":"Size4-Regular"===ra&&(fa=" delim-size4");ra=new we({bottom:q,children:D},{classes:fa});return new Zc(ra,{...(null!=J?J:{}),
classes:(null!==(K=null==J?void 0:J.classes)&&void 0!==K?K:"")+" ML__delim-mult"})}function bb(b,f,q,D,J,K){var W;if(!f||0===f.length||"."===f)return Ca(J,b,b);"\x3c"===f||"\\lt"===f?f="\\langle":"\x3e"!==f&&"\\gt"!==f||(f="\\rangle");var ca=kg.has(f)?Yh:Id.has(f)?si:lg;ca=function(fa,xa,ra,Na){for(let vb={"-4":0,"-3":1,0:2}[Na.mathstyle.sizeDelta];vb<ra.length&&"stack"!==ra[vb].type;vb++){var Ua=jb(fa,"small"===(db=ra[vb]).type?"Main-Regular":"large"===db.type?"Size"+db.size+"-Regular":"Size4-Regular");
if(Ua.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};Ua=Ua.height+Ua.depth;if("small"===ra[vb].type&&("scriptscriptstyle"===ra[vb].mathstyle?Ua*=qi[Math.max(1,Na.size-2)]:"scriptstyle"===ra[vb].mathstyle&&(Ua*=qi[Math.max(1,Na.size-1)])),Ua>xa)return ra[vb]}var db;return ra[ra.length-1]}(ya(f),q,ca,J);J=new de(J,null==K?void 0:K.style,ca.mathstyle);return"small"===ca.type?function(fa,xa,ra,Na){fa=(new Zc(ya(fa),{fontFamily:"Main-Regular"})).wrap(xa,Na);return ra&&fa.setTop(.25*(1-xa.scalingFactor)),
fa}(f,J,D,{type:b,classes:"ML__small-delim "+(null!==(W=null==K?void 0:K.classes)&&void 0!==W?W:"")}):"large"===ca.type?na(f,ca.size,D,J,{...K,type:b}):Va(f,q,D,J,{...K,type:b})}function wb(b,f,q,D,J,K){if("."===f)return Ca(J,b,null==K?void 0:K.classes);const W=.25*J.scalingFactor;q=Math.max(q-W,D+W);return bb(b,f,Math.max(q/500*901,2*q-.5),!0,J,K)}function Ca(b,f,q){b=new de(b,void 0,"textstyle");return(new Zc(null,{classes:" nulldelimiter "+(null!=q?q:""),type:f})).wrap(b)}function gb(b){return!/^<({|}|\$|\$\$|space)>$/.test(b)}
function cb(b,f,q){var D,J,K;const W=null!==(D=null==q?void 0:q.args)&&void 0!==D?D:null;b=new Zh(Y(b,W),f,{args:W,mathstyle:null!==(J=null==q?void 0:q.mathstyle)&&void 0!==J?J:"displaystyle",parseMode:null!==(K=null==q?void 0:q.parseMode)&&void 0!==K?K:"math"});for(q=[];!b.end();)q.push(...b.parse());return q}function ta(b,f,q){var D;for(b=new Zh(Y(b,null),f,{args:null,mathstyle:"displaystyle",parseMode:null!==(D=null==q?void 0:q.parseMode)&&void 0!==D?D:"math"});!b.end();)b.parse();return b.errors}
function Xa(b,f,q){return"number"==typeof b?{dimension:b,unit:"pt"}:("object"==typeof b&&"glue"in b&&(b=b.glue),"object"==typeof b&&"dimension"in b?b:(new Zh(Y(b),f,{registers:q})).scanDimen())}function nb(b){const f=new wc("first",b.context,{mode:b.mode});f.parent=b;const q=new of(b.context,{mode:b.mode});return q.parent=b,[f,q]}function Cb(b){const f=new Zc(null,{classes:"arraycolsep"});return f.width=b,f}function Ma(b){var f,q;if(Jg)return Jg;Jg={...Lj};for(var D of Object.keys(pj))Jg[D]=null!==
(f=Xa(pj[D],b,Jg))&&void 0!==f?f:0;for(const W of Object.keys($h)){f=Jg;D=$h[W];var J=b,K=Jg;D="object"==typeof D&&"glue"in D?D:"object"==typeof D&&"dimension"in D?{glue:D}:"number"==typeof D?{glue:{dimension:D}}:(new Zh(Y(D),J,{registers:K})).scanGlue();f[W]=null!==(q=D)&&void 0!==q?q:0}return Jg}function ub(){const b={registers:{},smartFence:!1,fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"▢",letterShapeStyle:Be.locale.startsWith("fr")?"french":"tex",colorMap:v,backgroundColorMap:w,
getDefinition:lc,getMacro:f=>Tb(f,Aa())};return{...b,registers:Ma(b)}}function lc(b,f="math"){if(!b||0===b.length)return null;let q=null;if(b.startsWith("\\")){if(q=Mf[b],q)return q;"math"===f?q=Tf[b]:Ve[b]&&(q={definitionType:"symbol",type:"mord",codepoint:Ve[b]})}else if("math"===f){if(q=Tf[b],!q&&1===b.length)return b=Q("math",b.codePointAt(0)),b.startsWith("\\")?{...lc(b,"math"),command:b}:null}else Ve[b]?q={definitionType:"symbol",type:"mord",codepoint:Ve[b]}:"text"===f&&(q={definitionType:"symbol",
type:"mord",codepoint:b.codePointAt(0)});return!q||"symbol"!==q.definitionType||"mord"!==q.type||102!==q.codepoint&&103!==q.codepoint&&104!==q.codepoint||(q.isFunction=!0),null!=q?q:null}function Tb(b,f){return b.startsWith("\\")?f[b.slice(1)]:null}function Ic(b,f){if(u(b))return b.map(J=>Ic(J,f));b={...b};for(var q of Ch)b[q]&&(b[q]=Ic(b[q],f));b.array&&(b.array=Ic(b.array,f));q=b.type;let D;"accent"===q&&(D=ri.fromJson(b,f));"array"===q&&(D=$e.fromJson(b,f));"box"===q&&(D=Ig.fromJson(b,f));"composition"===
q&&(D=Mh.fromJson(b,f));"chem"===q&&(D=Nh.fromJson(b,f));"choice"===q&&(D=qj.fromJson(b,f));"delim"===q&&(D=Ji.fromJson(b,f));"enclose"===q&&(D=Qg.fromJson(b,f));"error"===q&&(D=gh.fromJson(b,f));"genfrac"===q&&(D=ef.fromJson(b,f));"group"===q&&(D=Nd.fromJson(b,f));"latex"===q&&(D=ff.fromJson(b,f));"latexgroup"===q&&(D=Tg.fromJson(b,f));"leftright"===q&&(D=rf.fromJson(b,f));"line"===q&&(D=ag.fromJson(b,f));"macro"===q&&(D=hh.fromJson(b,f));"msubsup"===q&&(D=ph.fromJson(b,f));"overlap"===q&&(D=Zf.fromJson(b,
f));"overunder"===q&&(D=We.fromJson(b,f));"placeholder"===q&&(b.defaultValue&&(b.defaultValue=Ic(b.defaultValue,f)),D=of.fromJson(b,f));"phantom"===q&&(D=qh.fromJson(b,f));"rule"===q&&(D=Wi.fromJson(b,f));"sizeddelim"===q&&(D=Lh.fromJson(b,f));"spacing"===q&&(D=oh.fromJson(b,f));"surd"===q&&(D=If.fromJson(b,f));"text"===q&&(D=yg.fromJson(b,f));"tooltip"===q&&(D=Xi.fromJson(b,f));"mop"===q&&(D=Yf.fromJson(b,f));D||(D=wc.fromJson(b,f));for(const J of Ch)b[J]&&D.setChildren(b[J],J);return void 0!==b.verbatimLatex&&
(D.verbatimLatex=b.verbatimLatex),b.subsupPlacement&&(D.subsupPlacement=b.subsupPlacement),b.explicitSubsupPlacement&&(D.explicitSubsupPlacement=!0),b.isFunction&&(D.isFunction=!0),b.isExtensibleSymbol&&(D.isExtensibleSymbol=!0),b.skipBoundary&&(D.skipBoundary=!0),b.captureSelection&&(D.captureSelection=!0),D}function nd(b){if(1===b.length){b=b[0];if("mbin"===b.type)return"mbin";if("mrel"===b.type)return"mrel"}return"mord"}function kd(b){for(const f of b)for(const q of f)if(0<q.length)return!1;return!0}
function Jc(b,f){return b[0]===f[0]&&b[1]===f[1]?"equal":"different"}function dc(b){let f=1/0,q=-1/0;for(const D of b.ranges)f=Math.min(f,D[0],D[1]),q=Math.max(q,D[0],D[1]);return[f,q]}function Qc(b,f,q){return q?function(D,J){if(!J)return"";if("string"==typeof J)return J;if(!D||void 0===J.after)return J.value;let K=!1,W=!1,ca=!1,fa=!1,xa=!1,ra=!1,Na=!1,Ua=!1,db=!1,vb=!1,Qb=!1,Xb=!1,sc=!1,qc=!1,pd=!1,id=D[0],Vd=0;for(;id&&/msubsup|placeholder/.test(id.type);)Vd+=1,id=D[Vd];return K=!id||"first"===
id.type,id&&(qc="text"===id.mode,W=!qc&&"mord"===id.type&&Wh.test(id.value),ca=!qc&&"mord"===id.type&&/\d+$/.test(id.value),fa=!qc&&id.isFunction,xa="genfrac"===id.type,ra="surd"===id.type,Na="mbin"===id.type,Ua="mrel"===id.type,db="mop"===id.type,vb="mpunct"===id.type||"minner"===id.type,Qb="array"===id.type,Xb="mopen"===id.type,sc="mclose"===id.type||"leftright"===id.type,pd="space"===id.type),J.after.includes("nothing")&&K||J.after.includes("letter")&&W||J.after.includes("digit")&&ca||J.after.includes("function")&&
fa||J.after.includes("frac")&&xa||J.after.includes("surd")&&ra||J.after.includes("binop")&&Na||J.after.includes("relop")&&Ua||J.after.includes("operator")&&db||J.after.includes("punct")&&vb||J.after.includes("array")&&Qb||J.after.includes("openfence")&&Xb||J.after.includes("closefence")&&sc||J.after.includes("text")&&qc||J.after.includes("space")&&pd?J.value:""}(b,q[f]):""}function Fd(b,f){var q;let D=null!==(q=null==f?void 0:f.format)&&void 0!==q?q:"auto";if("auto"===D){q=b;if(1>=(q=q.trim()).length)b=
["latex",q];else{var J;b=([J,q]=ie(q),J?["latex",q]:q.startsWith("`")&&q.endsWith("`")?["ascii-math",q.substring(1,q.length-1)]:q.includes("\\")?["latex",q]:/\$.+\$/.test(q)?["latex",`\\text{${q}}`]:[void 0,q])}[D,b]=b}return"ascii-math"===D?["ascii-math",Jd(b.replace(/\u2061/gu,"").replace(/\u3016/gu,"{").replace(/\u3017/gu,"}").replace(/([^\\])sinx/g,"$1\\sin x").replace(/([^\\])cosx/g,"$1\\cos x ").replace(/\u2013/g,"-"),{inlineShortcuts:null==f?void 0:f.inlineShortcuts})]:["latex",b]}function Jd(b,
f){var q,D,J;if(!b)return"";let K,W=!1;const ca=null!==(q=f.inlineShortcuts)&&void 0!==q?q:Oh;(W||!b.startsWith("^")&&!b.startsWith("_")||(K=xc(b.slice(1),{inlineShortcuts:ca,noWrap:!0}),b=b[0]+"{"+K.match+"}",b+=Jd(K.rest,f),W=!0),!W&&(K=b.match(/^(sqrt|\u221A)(.*)/),K)&&(K=xc(K[2],{inlineShortcuts:ca,noWrap:!0}),b="\\sqrt{"+(null!==(D=K.match)&&void 0!==D?D:"\\placeholder{}")+"}",b+=Jd(K.rest,f),W=!0),!W&&(K=b.match(/^(\\cbrt|\u221B)(.*)/),K)&&(K=xc(K[2],{inlineShortcuts:ca,noWrap:!0}),b="\\sqrt[3]{"+
(null!==(J=K.match)&&void 0!==J?J:"\\placeholder{}")+"}",b+=Jd(K.rest,f),W=!0),W||(K=b.match(/^abs(.*)/),K&&(K=xc(K[1],{inlineShortcuts:ca,noWrap:!0}),b="\\left|"+K.match+"\\right|",b+=Jd(K.rest,f),W=!0)),W||(K=b.match(/^["\u201d\u201c](.*?)["\u201d\u201c](.*)/),K&&(b="\\text{"+K[1]+"}",b+=Jd(K[2],f),W=!0)),W||(K=b.match(/^([^a-zA-Z\(\{\[_\^\\\s"]+)(.*)/),K&&(b=ee(K[1],ca),b+=Jd(K[2],f),W=!0)),!W&&/^([fgh])[^a-zA-Z]/.test(b)&&(K=xc(b.slice(1),{inlineShortcuts:ca,noWrap:!0}),b="("===b[1]?b[0]+"\\left("+
K.match+"\\right)":b[0]+K.match,b+=Jd(K.rest,f),W=!0),W||(K=b.match(/^([a-zA-Z]+)(.*)/),K&&(b=ee(K[1],ca),b+=Jd(K[2],f),W=!0)),W)||((K=xc(b,{inlineShortcuts:ca,noWrap:!0}),K.match&&"/"===K.rest[0])?(q=xc(K.rest.slice(1),{inlineShortcuts:ca,noWrap:!0}),q.match&&(b="\\frac{"+K.match+"}{"+q.match+"}"+Jd(q.rest,f)),W=!0):K.match&&(b=b.startsWith("(")?"\\left("+K.match+"\\right)"+Jd(K.rest,f):K.match+Jd(K.rest,f),W=!0));return W||(K=b.match(/^(\s+)(.*)$/),K&&(b=" "+Jd(K[2],f))),b}function xc(b,f){let q=
"",D=b=b.trim();var J=b.charAt(0);let K={"(":")","{":"}","[":"]"}[J];if(K){let W=1,ca=1;for(;ca<b.length&&0<W;)b[ca]===J&&W++,b[ca]===K&&W--,ca++;0===W?(f.noWrap&&"("===J?q=Jd(b.substring(1,ca-1),f):("{"===J&&"}"===K&&(J="\\{",K="\\}"),q="\\left"+J+Jd(b.substring(1,ca-1),f)+"\\right"+K),D=b.slice(Math.max(0,ca))):(q=b.substring(1,ca),D="")}else{if(J=b.match(/^([a-zA-Z]+)/))if(f=Qc(null,b,f.inlineShortcuts))return f=f.replace("_{#?}",""),f=f.replace("^{#?}",""),{match:f,rest:b.slice(f.length)};if(J=
b.match(/^([a-zA-Z])/),J)return{match:J[1],rest:b.slice(1)};if(J=b.match(/^(-)?\d+(\.\d*)?/),J)return{match:J[0],rest:b.slice(J[0].length)};/^\\(left|right)/.test(b)||(J=b.match(/^(\\[a-zA-Z]+)/),J&&(D=b.slice(J[1].length),q=J[1]))}return{match:q,rest:D}}function ee(b,f){f=Qc(null,b,f);return f?(f=f.replace("_{#?}",""),f=f.replace("^{#?}",""),f+=" "):f=b,f}function ie(b){const f=b.trim();for(const q of se)if(f.startsWith(q[0])&&f.endsWith(q[1]))return[!0,f.substring(q[0].length,f.length-q[1].length)];
return[!1,b]}function He(b){return b.replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}function Kb(b,f){return b&&f.generateID?` extid="${b}"`:""}function re(b){return b.index<b.atoms.length&&b.atoms[b.index].superscript&&"msubsup"===b.atoms[b.index].type}function rd(b,f,q){var D=f.atoms[f.index-1];if(!D||(D.superscript||D.subscript||(re(f)||f.index<f.atoms.length&&f.atoms[f.index].subscript&&"msubsup"===f.atoms[f.index].type)&&(D=f.atoms[f.index],
f.index+=1),!D)||"msubsup"===D.type)return!1;const J=sd(D.superscript,q);q=sd(D.subscript,q);if(!J&&!q)return!1;D="";return J&&q?D=`<msubsup>${b}${q}${J}</msubsup>`:J?D=`<msup>${b}${J}</msup>`:q&&(D=`<msub>${b}${q}</msub>`),f.mathML+=D,f.lastType="",!0}function sd(b,f,q,D){q={atoms:[],index:null!=q?q:0,mathML:"",lastType:""};if("number"==typeof b||"boolean"==typeof b)q.mathML=b.toString();else if("string"==typeof b)q.mathML=b;else if(b instanceof wc)q.mathML=yc(b,f);else if(Array.isArray(b)){q.atoms=
b;let Ua=0;for(D=D||(b?b.length:0);q.index<D;){b=q;var J=D,K=f;J=null!=J?J:b.atoms.length;for(var W=b.index,ca="";b.index<J&&"text"===b.atoms[b.index].mode;)ca+=b.atoms[b.index].value?b.atoms[b.index].value:" ",b.index+=1;if(!(W=0<ca.length&&(b.mathML+=`<mtext ${Kb(b.atoms[W].id,K)}\n      >${ca}</mtext>`,b.lastType="mtext",!0))){b=q;W=D;J=f;W=null!=W?W:b.atoms.length;ca=b.index;K="";var fa=-1;for(var xa=b.index,ra=!1,Na=!1;xa<b.atoms.length&&!ra&&!Na;)Na=b.atoms[xa],ra=!Na.isDigit(),Na=!ra&&void 0!==
Na.superscript,xa++;xa=(Na&&(fa=xa-1),fa);for(0<=xa&&xa<W&&(W=xa);b.index<W&&b.atoms[b.index].isDigit();)K+=b.atoms[b.index].asDigit(),b.index+=1;W=!(0>=K.length||(K="\x3cmn"+Kb(b.atoms[ca].id,J)+"\x3e"+K+"\x3c/mn\x3e",0>xa&&re(b)&&(b.index+=1),rd(K,b,J)||(b.mathML+=K,b.lastType="mn"),0))}(fa=W)||(b=q,fa=D,J=f,K=!1,fa=null!=fa?fa:b.atoms.length,ca=W="",xa=b.atoms[b.index],fa=(b.index<fa&&("mord"===xa.type||"macro"===xa.type)&&!xa.isDigit()&&(ca=yc(xa,J),b.index+=1),0<ca.length&&(K=!0,W=ca,"mi"!==
b.lastType&&"mn"!==b.lastType&&"mtext"!==b.lastType&&"fence"!==b.lastType||/^<mo>(.*)<\/mo>$/.test(W)||(W=`<mo>${"\x26#8290;"}</mo>${W}`),ca.endsWith("\x3ef\x3c/mi\x3e")||ca.endsWith("\x3eg\x3c/mi\x3e")?(W+="\x3cmo\x3e\x26#x2061;\x3c/mo\x3e",b.lastType="applyfunction"):b.lastType=/^<mo>(.*)<\/mo>$/.test(W)?"mo":"mi",rd(ca,b,J)||(b.mathML+=W)),K));(W=fa)||(b=q,xa=D,W=f,J=!1,xa=null!=xa?xa:b.atoms.length,ca=K="",fa=b.atoms[b.index],b.index<xa&&("mbin"===fa.type||"mrel"===fa.type)?(K+=yc(b.atoms[b.index],
W),b.index+=1,ca="mo"):b.index<xa&&"mop"===fa.type&&("over-under"===fa.subsupPlacement&&(fa.superscript||fa.subscript)?(ca=Ae(fa,W),fa.superscript&&fa.subscript?(K+="\x3cmunderover\x3e"+ca,K+=sd(fa.subscript,W),K+=sd(fa.superscript,W),K+="\x3c/munderover\x3e"):fa.superscript?(K+="\x3cmover\x3e"+ca,K+=sd(fa.superscript,W),K+="\x3c/mover\x3e"):fa.subscript&&(K+="\x3cmunder\x3e"+ca,K+=sd(fa.subscript,W),K+="\x3c/munder\x3e"),ca="mo"):(xa=b.atoms[b.index],xa=(fa="\\operatorname"===xa.value)?'\x3cmi class\x3d"MathML-Unit"'+
Kb(xa.id,W)+"\x3e"+xe(xa.value)+"\x3c/mi\x3e":Ae(xa,W),K+=xa,fa||/^<mo>(.*)<\/mo>$/.test(xa)?ca=fa?"mi":"mo":(K+="\x3cmo\x3e\x26#x2061;\x3c/mo\x3e",ca="applyfunction")),"mi"!==b.lastType&&"mn"!==b.lastType||/^<mo>(.*)<\/mo>$/.test(K)||(K=`<mo>${"\x26#8290;"}</mo>${K}`),b.index+=1),W=(rd(K,b,W)||0<K.length&&(J=!0,b.mathML+=K,b.lastType=ca),J));if(!(ca=W)){b=q;ca=D;fa=f;J=!1;ca=null!=ca?ca:b.atoms.length;W=K="";if(b.index<ca&&"mopen"===b.atoms[b.index].type){xa=!1;ra=0;Na=b.index;let db=-1,vb=Na+1;
for(;vb<ca&&!xa;)"mopen"===b.atoms[vb].type?ra+=1:"mclose"===b.atoms[vb].type&&--ra,-1===ra&&(xa=!0,db=vb),vb+=1;xa&&(K="\x3cmrow\x3e",K+=Ae(b.atoms[Na],fa),K+=sd(b.atoms,fa,Na+1,db),K+=Ae(b.atoms[db],fa),K+="\x3c/mrow\x3e","mi"!==b.lastType&&"mn"!==b.lastType&&"mfrac"!==b.lastType&&"fence"!==b.lastType||(K=`<mo>${"\x26#8290;"}</mo>${K}`),b.index=db+1,rd(K,b,fa)&&(J=!0,b.lastType="",K=""),W="fence")}ca=(0<K.length&&(J=!0,b.mathML+=K,b.lastType=W),J)}ca?Ua+=1:q.index<D&&(b=yc(q.atoms[q.index],f),"mn"===
q.lastType&&0<b.length&&"genfrac"===q.atoms[q.index].type&&(b="\x3cmo\x3e\x26#x2064;\x3c/mo\x3e"+b),"genfrac"===q.atoms[q.index].type?q.lastType="mfrac":q.lastType="",q.index+=1,rd(b,q,f)?Ua+=2:0<b.length&&(q.mathML+=b,Ua+=1))}1<Ua&&(q.mathML="\x3cmrow\x3e"+q.mathML+"\x3c/mrow\x3e")}return q.mathML}function Ae(b,f){let q="";const D=xe(b.value);return D&&(q="\x3cmo"+Kb(b.id,f)+"\x3e"+D+"\x3c/mo\x3e"),q}function xe(b){if(!b)return"";if("string"==typeof b)return He(b);if(!Array.isArray(b)&&"string"==
typeof b.body)return He(b.body);let f="";for(const q of b)"string"==typeof q.value&&(f+=q.value);return He(f)}function yc(b,f){var q,D,J,K,W,ca,fa,xa,ra,Na,Ua,db,vb,Qb,Xb,sc,qc,pd,id,Vd,tf,pf,uf,mg,ng;const vf={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",
xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"\x3d",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},Mg={"\\exponentialE":"\x26#x02147;","\\imaginaryI":"\x26#x2148;","\\differentialD":"\x26#x2146;",
"\\capitalDifferentialD":"\x26#x2145;","\\alpha":"\x26#x03b1;","\\pi":"\x26#x03c0;","\\infty":"\x26#x221e;","\\forall":"\x26#x2200;","\\nexists":"\x26#x2204;","\\exists":"\x26#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."},Ng={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};var cf;let Cf,Uc="",ug="";(cf=null!==(D={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",
cmss:"sans-serif"}[null!==(q=b.fontFamily)&&void 0!==q?q:b.font])&&void 0!==D?D:"")&&(cf=` mathvariant="${cf}"`);({command:q}=b);if("text"===b.mode)Uc=`<mi${Kb(b.id,f)}>${b.value}</mi>`;else switch(b.type){case "group":case "root":Uc=Sf[b.command]?Sf[b.command]:sd(b.body,f);break;case "array":if((b.leftDelim&&"."!==b.leftDelim||b.rightDelim&&"."!==b.rightDelim)&&(Uc+="\x3cmrow\x3e",b.leftDelim&&"."!==b.leftDelim&&(Uc+="\x3cmo\x3e"+(Sf[b.leftDelim]||b.leftDelim)+"\x3c/mo\x3e")),Uc+="\x3cmtable",b.colFormat){Uc+=
' columnalign\x3d"';for(cf=0;cf<b.colFormat.length;cf++)b.colFormat[cf].align&&(Uc+={l:"left",c:"center",r:"right"}[b.colFormat[cf].align]+" ");Uc+='"'}Uc+="\x3e";for(W=0;W<b.array.length;W++){Uc+="\x3cmtr\x3e";for(cf=0;cf<b.array[W].length;cf++)Uc+="\x3cmtd\x3e"+sd(b.array[W][cf],f)+"\x3c/mtd\x3e";Uc+="\x3c/mtr\x3e"}Uc+="\x3c/mtable\x3e";(b.leftDelim&&"."!==b.leftDelim||b.rightDelim&&"."!==b.rightDelim)&&(b.rightDelim&&"."!==b.rightDelim&&(Uc+="\x3cmo\x3e"+(Sf[b.leftDelim]||b.rightDelim)+"\x3c/mo\x3e"),
Uc+="\x3c/mrow\x3e");break;case "genfrac":(b.leftDelim||b.rightDelim)&&(Uc+="\x3cmrow\x3e");b.leftDelim&&"."!==b.leftDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(Sf[b.leftDelim]||b.leftDelim)+"\x3c/mo\x3e");b.hasBarLine?(Uc+="\x3cmfrac\x3e",Uc+=sd(b.above,f)||"\x3cmi\x3e\x26nbsp;\x3c/mi\x3e",Uc+=sd(b.below,f)||"\x3cmi\x3e\x26nbsp;\x3c/mi\x3e",Uc+="\x3c/mfrac\x3e"):(Uc+="\x3cmtable"+Kb(b.id,f)+"\x3e",Uc+="\x3cmtr\x3e"+sd(b.above,f)+"\x3c/mtr\x3e",Uc+="\x3cmtr\x3e"+sd(b.below,f)+"\x3c/mtr\x3e",Uc+="\x3c/mtable\x3e");
b.rightDelim&&"."!==b.rightDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(Sf[b.rightDelim]||b.rightDelim)+"\x3c/mo\x3e");(b.leftDelim||b.rightDelim)&&(Uc+="\x3c/mrow\x3e");break;case "surd":b.hasEmptyBranch("above")?(Uc+="\x3cmsqrt"+Kb(b.id,f)+"\x3e",Uc+=sd(b.body,f),Uc+="\x3c/msqrt\x3e"):(Uc+="\x3cmroot"+Kb(b.id,f)+"\x3e",Uc+=sd(b.body,f),Uc+=sd(b.above,f),Uc+="\x3c/mroot\x3e");break;case "leftright":Uc="\x3cmrow\x3e";b.leftDelim&&"."!==b.leftDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(null!==(J=Sf[b.leftDelim])&&
void 0!==J?J:b.leftDelim)+"\x3c/mo\x3e");b.body&&(Uc+=sd(b.body,f));b.rightDelim&&"."!==b.rightDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(null!==(K=Sf[b.rightDelim])&&void 0!==K?K:b.rightDelim)+"\x3c/mo\x3e");Uc+="\x3c/mrow\x3e";break;case "sizeddelim":case "delim":Uc+='\x3cmo separator\x3d"true"'+Kb(b.id,f)+"\x3e"+(Sf[b.delim]||b.delim)+"\x3c/mo\x3e";break;case "accent":Uc+='\x3cmover accent\x3d"true"'+Kb(b.id,f)+"\x3e";Uc+=sd(b.body,f);Uc+="\x3cmo\x3e"+(Sf[q]||b.accent)+"\x3c/mo\x3e";Uc+="\x3c/mover\x3e";
break;case "overunder":K=b.above;J=b.below;(b.svgAbove||K)&&(b.svgBelow||J)?Cf=b.body:K&&0<K.length?(Cf=b.body,(null===(ca=null===(W=b.body)||void 0===W?void 0:W[0])||void 0===ca?0:ca.below)?(J=b.body[0].below,Cf=b.body[0].body):"first"===(null===(xa=null===(fa=b.body)||void 0===fa?void 0:fa[0])||void 0===xa?void 0:xa.type)&&(null===(Na=null===(ra=b.body)||void 0===ra?void 0:ra[1])||void 0===Na?void 0:Na.below)&&(J=b.body[1].below,Cf=b.body[1].body)):J&&0<J.length&&(Cf=b.body,(null===(db=null===(Ua=
b.body)||void 0===Ua?void 0:Ua[0])||void 0===db?0:db.above)?(K=b.body[0].above,Cf=b.body[0].body):"first"===(null===(Qb=null===(vb=b.body)||void 0===vb?void 0:vb[0])||void 0===Qb?void 0:Qb.type)&&(null===(sc=null===(Xb=b.body)||void 0===Xb?void 0:Xb[1])||void 0===sc?void 0:sc.above)&&(K=b.body[1].overscript,Cf=b.body[1].body));(b.svgAbove||K)&&(b.svgBelow||J)?(Uc+=`<munderover ${cf} ${Kb(b.id,f)}>`,Uc+=null!==(qc=vf[b.svgBody])&&void 0!==qc?qc:sd(Cf,f),Uc+=null!==(pd=vf[b.svgBelow])&&void 0!==pd?
pd:sd(J,f),Uc+=null!==(id=vf[b.svgAbove])&&void 0!==id?id:sd(K,f),Uc+="\x3c/munderover\x3e"):b.svgAbove||K?(Uc+=`<mover ${cf} ${Kb(b.id,f)}>`+(null!==(Vd=vf[b.svgBody])&&void 0!==Vd?Vd:sd(Cf,f)),Uc+=null!==(tf=vf[b.svgAbove])&&void 0!==tf?tf:sd(K,f),Uc+="\x3c/mover\x3e"):(b.svgBelow||J)&&(Uc+=`<munder ${cf} ${Kb(b.id,f)}>`+(null!==(pf=vf[b.svgBody])&&void 0!==pf?pf:sd(Cf,f)),Uc+=null!==(uf=vf[b.svgBelow])&&void 0!==uf?uf:sd(J,f),Uc+="\x3c/munder\x3e");break;case "placeholder":case "mord":Uc=Mg[q]||
q||("string"==typeof b.value?b.value:"");(W=q?q.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null)?Uc="\x26#x"+W[1]+";":0<Uc.length&&Uc.startsWith("\\")&&(Uc="string"==typeof b.value&&255<b.value.charCodeAt(0)?"\x26#x"+("000000"+b.value.charCodeAt(0).toString(16)).slice(-4)+";":"string"==typeof b.value?b.value.charAt(0):"");W=/\d/.test(Uc)?"mn":"mi";Uc=`<${W}${cf}${Kb(b.id,f)}>${He(Uc)}</${W}>`;break;case "mbin":case "mrel":case "minner":Uc=q&&Mg[q]?"\x3cmi"+Kb(b.id,f)+"\x3e"+Mg[q]+"\x3c/mi\x3e":q&&Sf[q]?
"\x3cmo"+Kb(b.id,f)+"\x3e"+Sf[q]+"\x3c/mo\x3e":Ae(b,f);break;case "mpunct":Uc='\x3cmo separator\x3d"true"'+Kb(b.id,f)+"\x3e"+(null!==(mg=Sf[q])&&void 0!==mg?mg:q)+"\x3c/mo\x3e";break;case "mop":"​"!==b.body&&(Uc="\x3cmo"+Kb(b.id,f)+"\x3e",Uc+="\\operatorname"===q?b.body:q||b.body,Uc+="\x3c/mo\x3e");break;case "box":Uc='\x3cmenclose notation\x3d"box"';b.backgroundcolor&&(Uc+=' mathbackground\x3d"'+b.backgroundcolor+'"');Uc+=Kb(b.id,f)+"\x3e"+sd(b.body,f)+"\x3c/menclose\x3e";break;case "spacing":Uc+=
'\x3cmspace width\x3d"'+(null!==(ng=Ng[q])&&void 0!==ng?ng:0)+'em"/\x3e';break;case "enclose":Uc='\x3cmenclose notation\x3d"';for(const Og in b.notation)Object.prototype.hasOwnProperty.call(b.notation,Og)&&b.notation[Og]&&(Uc+=ug+Og,ug=" ");Uc+=Kb(b.id,f)+'"\x3e'+sd(b.body,f)+"\x3c/menclose\x3e";break;case "space":Uc+="\x26nbsp;";break;case "mopen":case "mclose":Uc+=Ae(b,f);break;case "macro":(cf=b.command+xe(b.macroArgs))&&(Uc+=`<mo ${Kb(b.id,f)}>${cf}</mo>`);break;case "latexgroup":case "tooltip":Uc+=
sd(b.body,f);break;case "latex":Uc+="\x3cmtext"+Kb(b.id,f)+"\x3e"+b.value+"\x3c/mtext\x3e"}return Uc}function Pd(b){let f=0;if(u(b))for(const q of b)"first"!==q.type&&(f+=1);return 1===f}function kc(b){let f="";if(u(b))for(const q of b)"first"!==q.type&&"string"==typeof q.value&&(f+=q.value);return f}function Rc(b,f,q){function D(Ua){return"\x3cemphasis\x3e"+Ua+"\x3c/emphasis\x3e"}var J,K,W;if(!f)return"";let ca="";if(u(f)){var fa=!1;var xa=!1;for(var ra=0;ra<f.length;ra++)"text"!==f[ra].mode&&(xa=
!1),ra<f.length-2&&"mopen"===f[ra].type&&"mclose"===f[ra+2].type&&"mord"===f[ra+1].type?(ca+=" of ",ca+=D(Rc(b,f[ra+1],q)),ra+=2):"text"===f[ra].mode?xa?ca+=null!==(J=f[ra].value)&&void 0!==J?J:" ":(xa=!0,ca+=Rc("text",f[ra],q)):f[ra].isDigit()?fa?ca+=f[ra].asDigit():(fa=!0,ca+=Rc(b,f[ra],q)):(fa=!1,ca+=Rc(b,f[ra],q))}else if("text"===f.mode)f.id&&"math"===b&&(ca+='\x3cmark name\x3d"'+f.id.toString()+'"/\x3e'),ca+=f.value;else{f.id&&"math"===b&&(ca+='\x3cmark name\x3d"'+f.id.toString()+'"/\x3e');
var Na="";let Ua="";Na="";J=!1;switch(f.type){case "group":case "root":ca+=Rc("math",f.body,q);break;case "genfrac":(Na=Rc("math",f.above,q),Ua=Rc("math",f.below,q),Pd(f.above)&&Pd(f.below))?(fa={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ",
"1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[kc(f.above)+"/"+kc(f.below)])?ca=fa:ca+=Na+" over "+Ua:ca+=' the fraction \x3cbreak time\x3d"150ms"/\x3e'+Na+', over \x3cbreak time\x3d"150ms"/\x3e'+Ua+'.\x3cbreak time\x3d"150ms"/\x3e End fraction.\x3cbreak time\x3d"150ms"/\x3e';break;case "surd":(Na=Rc("math",f.body,q),f.hasEmptyBranch("above"))?ca+=Pd(f.body)?" the square root of "+Na+" , ":' the square root of \x3cbreak time\x3d"200ms"/\x3e'+
Na+'. \x3cbreak time\x3d"200ms"/\x3e End square root':(fa=Rc("math",f.above,q),fa=fa.trim(),xa=fa.replace(/<mark([^/]*)\/>/g,""),ca+="3"===xa?' the cube root of \x3cbreak time\x3d"200ms"/\x3e'+Na+'. \x3cbreak time\x3d"200ms"/\x3e End cube root':"n"===xa?' the nth root of \x3cbreak time\x3d"200ms"/\x3e'+Na+'. \x3cbreak time\x3d"200ms"/\x3e End root':' the root with index: \x3cbreak time\x3d"200ms"/\x3e'+fa+', of \x3cbreak time\x3d"200ms"/\x3e'+Na+'. \x3cbreak time\x3d"200ms"/\x3e End root');break;
case "leftright":ca+=null!==(K=f.leftDelim?Pf[f.leftDelim]:void 0)&&void 0!==K?K:f.leftDelim;ca+=Rc("math",f.body,q);ca+=null!==(W=f.rightDelim?Pf[f.rightDelim]:void 0)&&void 0!==W?W:f.rightDelim;break;case "placeholder":ca+="placeholder ";break;case "delim":case "sizeddelim":case "mord":case "minner":case "mbin":case "mrel":case "mpunct":case "mopen":case "mclose":({command:xa}=f);if("\\mathbin"===xa||"\\mathrel"===xa||"\\mathopen"===xa||"\\mathclose"===xa||"\\mathpunct"===xa||"\\mathord"===xa||
"\\mathinner"===xa){ca=Rc(b,f.body,q);break}xa=f.isDigit()?f.asDigit():f.value;ra=f.command;("delim"!==f.type&&"sizeddelim"!==f.type||(ra=f.value,xa=ra),"text"===b)?ca+=xa:(("mbin"===f.type&&(ca+='\x3cbreak time\x3d"150ms"/\x3e'),xa)?(K=Pf[xa]||(ra?Pf[ra.trim()]:""))?ca+=" "+K:(ra=ra?function(db){let vb="";return db.startsWith("\\")&&(vb=" "+db.replace("\\","")+" "),vb}(ra.trim()):"",ca+=ra||(fa=xa,q.textToSpeechMarkup?/[a-z]/.test(fa)?` <say-as interpret-as="character">${fa}</say-as>`:/[A-Z]/.test(fa)?
`capital <say-as interpret-as="character">${fa.toLowerCase()}</say-as>`:fa:/[a-z]/.test(fa)?" '"+fa.toUpperCase()+"'":/[A-Z]/.test(fa)?" 'capital "+fa.toUpperCase()+"'":fa)):ca+=Rc("math",f.body,q),"mbin"===f.type&&(ca+='\x3cbreak time\x3d"150ms"/\x3e'));break;case "mop":"​"!==f.value&&(fa=f.command,"\\sum"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?f.hasEmptyBranch("subscript")?ca+=" the summation of":(J=Rc("math",f.subscript,q),J=J.trim(),ca+=' the summation from \x3cbreak time\x3d"200ms"/\x3e'+
J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the summation from \x3cbreak time\x3d"200ms"/\x3e'+fa+'\x3cbreak time\x3d"200ms"/\x3e to  \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):"\\prod"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?f.hasEmptyBranch("subscript")?ca+=" the product  of ":(J=Rc("math",
f.subscript,q),J=J.trim(),ca+=' the product from \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the product from \x3cbreak time\x3d"200ms"/\x3e'+fa+'\x3cbreak time\x3d"200ms"/\x3e to \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):"\\int"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?
ca+=' the integral of \x3cbreak time\x3d"200ms"/\x3e ':(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the integral from \x3cbreak time\x3d"200ms"/\x3e'+D(fa)+'\x3cbreak time\x3d"200ms"/\x3e to \x3cbreak time\x3d"200ms"/\x3e'+D(J)+' \x3cbreak time\x3d"200ms"/\x3e of ',J=!0):"string"==typeof f.value?ca+=(null!==(xa=Pf[f.value])&&void 0!==xa?xa:f.command?Pf[f.command]:void 0)||" "+f.value:f.command&&("\\mathop"===f.command?ca+=Rc("math",f.body,q):"\\operatorname"===
f.command?ca+=(ra=f.body)?ra.map(db=>db.value).join(""):"":ca+=f.command.startsWith("\\")?" "+f.command.slice(1):" "+f.command));break;case "enclose":Na=Rc("math",f.body,q),ca+=" crossed out "+Na+". End crossed out."}J||f.hasEmptyBranch("superscript")||(fa=Rc(b,f.superscript,q),fa=fa.trim(),xa=fa.replace(/<[^>]*>/g,""),Pd(f.superscript)?("math"===b&&(b=function(db){if(u(db))for(const vb of db)if("first"!==vb.type&&vb.id)return vb.id.toString();return""}(f.superscript))&&(ca+='\x3cmark name\x3d"'+
b+'"/\x3e'),"′"===xa?ca+=" prime ":"2"===xa?ca+=" squared ":"3"===xa?ca+=" cubed ":Number.isNaN(Number.parseInt(xa))?ca+=" to the "+fa+"; ":ca+=' to the \x3csay-as interpret-as\x3d"ordinal"\x3e'+xa+"\x3c/say-as\x3e power; "):Number.isNaN(Number.parseInt(xa))?ca+=" raised to the "+fa+"; ":ca+=' raised to the \x3csay-as interpret-as\x3d"ordinal"\x3e'+xa+"\x3c/say-as\x3e power; ");J||f.hasEmptyBranch("subscript")||(q=Rc("math",f.subscript,q),q=q.trim(),ca+=Pd(f.subscript)?" sub "+q:" subscript "+q+". End subscript. ")}return ca}
function Sc(b,f){var q;f={...f,textToSpeechRulesOptions:{...f.textToSpeechRulesOptions}};if("sre"===f.textToSpeechRules&&"sre"in globalThis)return(b=sd(b,f))?(f.textToSpeechMarkup&&(f.textToSpeechRulesOptions=null!==(q=f.textToSpeechRulesOptions)&&void 0!==q?q:{},f.textToSpeechRulesOptions.markup=f.textToSpeechMarkup,"ssml"===f.textToSpeechRulesOptions.markup&&(f.textToSpeechRulesOptions.markup="ssml_step"),f.textToSpeechRulesOptions.rate=f.speechEngineRate),f.textToSpeechRulesOptions&&globalThis.sre.System.getInstance().setupEngine(f.textToSpeechRulesOptions),
globalThis.sre.System.getInstance().toSpeech(b)):"";q=Rc("math",b,f);"ssml"===f.textToSpeechMarkup?(b="",f.speechEngineRate&&(b='\x3cprosody rate\x3d"'+f.speechEngineRate+'"\x3e'),q='\x3c?xml version\x3d"1.0"?\x3e\x3cspeak version\x3d"1.1" xmlns\x3d"http://www.w3.org/2001/10/synthesis" xml:lang\x3d"en-US"\x3e\x3camazon:auto-breaths\x3e'+b+"\x3cp\x3e\x3cs\x3e"+q+"\x3c/s\x3e\x3c/p\x3e"+(b?"\x3c/prosody\x3e":"")+"\x3c/amazon:auto-breaths\x3e\x3c/speak\x3e"):q="mac"===f.textToSpeechMarkup&&"macos"===
l()?q.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):q.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return q}function Dd(b,f,q,D){f=f.split(" ");for(const J of f)if(f=J.match(/(.*):(.*)/)){const K=null!=D?D:{};"active"===f[2]?K.passive=!1:K[f[2]]=!0;b.addEventListener(f[1],q,K)}else b.addEventListener(J,q,D)}function Gc(b,f,q,D){f=f.split(" ");for(const J of f)if(f=
J.match(/(.*):(.*)/)){const K=null!=D?D:{};"active"===f[2]?K.passive=!1:K[f[2]]=!0;b.removeEventListener(f[1],q,K)}else b.removeEventListener(J,q,D)}function Hf(b){var f;e();let q=document.getElementById(b);return q?q.dataset.refcount=Number(Number.parseInt(null!==(f=q.getAttribute("data-refcount"))&&void 0!==f?f:"0")+1).toString():(q=document.createElement("div"),q.setAttribute("aria-hidden","true"),q.dataset.refcount="1",q.id=b,document.body.append(q)),q}function Me(b){var f;if(b){var q=Number.parseInt(null!==
(f=b.getAttribute("data-refcount"))&&void 0!==f?f:"0");1>=q?b.remove():b.dataset.refcount=Number(q-1).toString()}}function De(b){var f;return(null===(f=b.element)||void 0===f?void 0:f.mathfield)===b}function Se(b){var f,q;var D=null!==(q=null!==(f=b.querySelector(".ML__caret"))&&void 0!==f?f:b.querySelector(".ML__text-caret"))&&void 0!==q?q:b.querySelector(".ML__latex-caret");if(!D)return null;b=D.getBoundingClientRect();return{x:b.right,y:b.bottom,height:b.height}}function Ye(b,f){if(!f)return null;
var q=b.field.getBoundingClientRect();b=Math.ceil(f.left-q.left+b.field.scrollLeft);q=Math.ceil(f.top-q.top);return{left:b,right:b+(f.right-f.left),top:q,bottom:q+(f.bottom-f.top)}}function le(b){var f=b.getBoundingClientRect();const q=parseInt(getComputedStyle(b).marginRight);f={top:f.top-1,bottom:f.bottom,left:f.left,right:f.right-1+q};if(0===b.children.length||"SVG"===b.tagName.toUpperCase())return f;for(const D of b.children)1===D.nodeType&&"atomId"in D.dataset&&!D.classList.contains("pstrut")&&
(b=le(D),f.left=Math.min(f.left,b.left),f.right=Math.max(f.right,b.right),f.top=Math.min(f.top,b.top),f.bottom=Math.max(f.bottom,b.bottom));return f}function hf(b,f){var q,D;if(!f.id)return null;let J=null!==(D=null===(q=b.atomBoundsCache)||void 0===q?void 0:q.get(f.id))&&void 0!==D?D:null;if(null!==J)return J;q=b.field.querySelector(`[data-atom-id="${f.id}"]`);return J=q?le(q):null,b.atomBoundsCache&&(J?b.atomBoundsCache.set(f.id,J):b.atomBoundsCache.delete(f.id)),null!=J?J:null}function wf(b,f){return b.model.selection.ranges.reduce((q,
D)=>{var J=q.concat;var K=new Map;for(const fa of b.model.getAtoms(D,{includeChildren:!0})){if((null==f?0:f.excludeAtomsWithBackground)&&fa.style.backgroundColor)break;if(D=Ye(b,hf(b,fa))){var W=void 0;if(fa.parent){var ca=null!==(W=fa.parent.id)&&void 0!==W?W:"";W=(ca+="string"==typeof fa.treeBranch?"-"+fa.treeBranch:`-${fa.treeBranch[0]}/${fa.treeBranch[0]}`,ca)}else W="root";ca=W;K.has(ca)?(W=K.get(ca),K.set(ca,{left:Math.min(W.left,D.left),right:Math.max(W.right,D.right),top:Math.min(W.top,D.top),
bottom:Math.max(W.bottom,D.bottom)})):K.set(ca,D)}}K=[...K.values()];return J.call(q,...K)},[])}function kf(b,f){return"*"===b||"none"===f||("same-origin"===f?!globalThis.origin||b===globalThis.origin:"function"==typeof f&&f(b))}function lf(b){let f=0,q=0;const D=b.offsetWidth,J=b.offsetHeight;for(;b instanceof HTMLElement;)f+=b.offsetTop,q+=b.offsetLeft,b=b.offsetParent;return new DOMRect(q,f,D,J)}function fe(b){if(!b)return"";({style:b}=b);if(void 0===b.variant)return"";let f=b.variant;return b.variantStyle&&
"up"!==b.variantStyle&&(f+="-"+b.variantStyle),f}function Pb(b){return[sa(b.map(f=>f[0])),b.map(f=>f[1]).some(f=>!0===f)]}function Zd(b){let f=0;for(let q=0;q<b.length;q++)f=Math.imul(31,f)+b.charCodeAt(q)|0;return Math.abs(f)}function Ie(b,f,q){var D,J;if(e(),!f)return null;let K=null!==(D=null==b?void 0:b.getRootNode())&&void 0!==D?D:null===document||void 0===document?void 0:document.head;if(!K)return null;K===document&&(K=document.head);(b=K.querySelector(`style[data-id="${q}"]`))?(f=Number.parseFloat(null!==
(J=b.getAttribute("data-refcount"))&&void 0!==J?J:"0"),b.dataset.refcount=Number(f+1).toString()):(J=document.createElement("style"),J.dataset.id=q,J.dataset.refcount="1",J.append(document.createTextNode(f)),K.appendChild(J));return{release:()=>{var W;const ca=K.querySelector(`style[data-id="${q}"]`);if(ca){const fa=Number.parseFloat(null!==(W=ca.getAttribute("data-refcount"))&&void 0!==W?W:"0");1===fa?ca.remove():ca.dataset.refcount=Number(fa-1).toString()}}}}function ve(b){b=b.split("+");const f=
{shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:b.pop()};return b.includes("shift")&&(f.shift=!0),b.includes("alt")&&(f.alt=!0),b.includes("ctrl")&&(f.ctrl=!0),b.includes("cmd")&&(f.cmd=!0),b.includes("win")&&(f.win=!0),b.includes("meta")&&(f.meta=!0),f}function Lc(b){let f="";return b.shift&&(f+="shift+"),b.alt&&(f+="alt+"),b.ctrl&&(f+="ctrl+"),b.cmd&&(f+="cmd+"),b.win&&(f+="win+"),b.meta&&(f+="meta+"),f+b.key}function Ld(){switch(l()){case "macos":case "ios":return"apple";case "windows":return"windows"}return"linux"}
function wa(b){b.platform&&b.platform!==Ld()||Kg.push(b)}function Ka(b){return u(b)&&(b=0<b.length?b[0]+"("+b.slice(1).join("")+")":""),b}function eb(b,f){let q=[];if("string"==typeof f){const D=ai[f];u(D)?q=D.slice():D&&q.push(D)}f=Ka(f);f=new RegExp("^"+f.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(const D of b)f.test(Ka(D.command))&&q.push(D.key);return q.map(ob)}function ob(b){var f;const q=/macos|ios|/.test(l());b=b.split("+");
let D="";for(const J of b)!q&&D&&(D+='\x3cspan class\x3d"ML__shortcut-join"\x3e+\x3c/span\x3e'),J.startsWith("[Key")?D+=J.slice(4,5):J.startsWith("Key")?D+=J.slice(3,4):J.startsWith("[Digit")?D+=J.slice(6,7):J.startsWith("Digit")?D+=J.slice(5,6):D+=null!==(f={cmd:"⌘",meta:q?"⌘":"command",shift:q?"⇧":"shift",alt:q?"⌥":"alt",ctrl:q?"⌃":"control","\n":q?"⏎":"return","[return]":q?"⏎":"return","[enter]":q?"⌤":"enter","[tab]":q?"⇥":"tab","[escape]":"esc","[backspace]":q?"⌫":"backspace","[delete]":q?"⌦":
"del","[pageup]":q?"⇞":"page up","[pagedown]":q?"⇟":"page down","[home]":q?"⤒":"home","[end]":q?"⤓":"end","[space]":"space","[equal]":"\x3d","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"\x3d",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* \x26#128290;",numpaddivide:"/ \x26#128290;",numpadsubtract:"- \x26#128290;",numpadadd:"+ \x26#128290;",
numpaddecimal:". \x26#128290;",numpadcomma:", \x26#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[J.toLowerCase()])&&void 0!==f?f:J.toUpperCase();return D}function Bb(b,f){if(b.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(b.ifPlatform))throw Error(`Unexpected platform "${b.ifPlatform}" for keybinding ${b.key}`);
if(void 0===b.ifLayout||0!==f.score&&b.ifLayout.includes(f.id)){var q=ve(b.key),D=b.ifPlatform;if(q.cmd){if(D&&"macos"!==D&&"ios"!==D)throw Error('Unexpected "cmd" modifier with platform "'+D+'"\n"cmd" modifier can only be used with macOS or iOS platform.');D||(D="ios"===l()?"ios":"macos");q.win=!1;q.cmd=!1;q.meta=!0}if(q.win){if(D&&"windows"!==D)throw Error('Unexpected "win" modifier with platform "'+D+'"\n"win" modifier can only be used with Windows platform.');D="windows";q.win=!1;q.cmd=!1;q.meta=
!0}if(!D||function(K){if(m()){var W=l();const ca=K.startsWith("!");W=K.endsWith(W);if(ca&&!W||!ca&&W)return!0}return"!other"!==K&&"other"===K}(D)){if(/^\[.+\]$/.test(q.key))return{...b,ifPlatform:D,key:Lc(q)};var J=function(K,W){var ca;const fa={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!K)return fa;for(const [xa,ra]of Object.entries(W.mapping)){if(ra[0]===K)return fa.key=`[${xa}]`,fa;if(ra[1]===K)return fa.shift=!0,fa.key=`[${xa}]`,fa;if(ra[2]===K)return fa.alt=!0,fa.key=`[${xa}]`,
fa;if(ra[3]===K)return fa.shift=!0,fa.alt=!0,fa.key=`[${xa}]`,fa}return fa.key=null!==(ca=tj[K])&&void 0!==ca?ca:"",fa}(q.key,f);if(!J)throw Error('Invalid keybinding key "'+b.key+'"');if(J.shift&&q.shift||J.alt&&q.alt)throw Error(`The keybinding ${b.key} (${mb(b.command)}) is conflicting with the key combination ${Lc(J)} using the ${f.displayName} keyboard layout`);return J.shift=J.shift||q.shift,J.alt=J.alt||q.alt,J.meta=q.meta,J.ctrl=q.ctrl,{...b,ifPlatform:D,key:Lc(J)}}}}function mb(b){return Array.isArray(b)?
(b=[...b],b.shift()+"("+b.map(f=>"string"==typeof f?`"${f}"`:f.toString()).join(", ")+")"):b}function yb(b){var f;"function"!=typeof(null===(f=b.listeners)||void 0===f?void 0:f.onSelectionDidChange)||b.suppressChangeNotifications||(b.suppressChangeNotifications=!0,b.listeners.onSelectionDidChange(b),b.suppressChangeNotifications=!1)}function Fb(b,f={}){if(b.suppressChangeNotifications||!b.mathfield.host)return!0;b.suppressChangeNotifications=!0;f=b.mathfield.host.dispatchEvent(new InputEvent("beforeinput",
{...f,cancelable:!0,bubbles:!0,composed:!0}));return b.suppressChangeNotifications=!1,f}function Hb(b,f){!b.suppressChangeNotifications&&b.mathfield.host&&(b.suppressChangeNotifications=!0,b.mathfield.host.dispatchEvent(new InputEvent("input",{...f,bubbles:!0,composed:!0})),b.suppressChangeNotifications=!1)}function $b(b){var f,q;return(b=b.atoms.find(D=>D instanceof Tg))&&null!==(q=null===(f=b.body)||void 0===f?void 0:f.filter(D=>D instanceof ff))&&void 0!==q?q:[]}function ac(b,f){var q;let D=0;
var J=!1;for(f=Number.isFinite(null==f?void 0:f.before)?null!==(q=null==f?void 0:f.before)&&void 0!==q?q:0:b.lastOffset;D<=f&&!J;)q=b.at(D),(J=q instanceof ff&&q.isSuggestion)||D++;if(!J)return[void 0,void 0];q=D;for(J=!1;q<=f&&!J;)J=b.at(q),(J=!(J instanceof ff&&J.isSuggestion))||q++;return[D-1,q-1]}function pc(b){const f=$b(b.model).filter(q=>q.isSuggestion);if(0!==f.length){b.model.position=b.model.offsetOf(f[0].leftSibling);for(const q of f)q.parent.removeChild(q)}}function ad(b,f){var q,{model:D}=
b;pc(b);for(var J of $b(D))J.isError=!1;if(!D.selectionIsCollapsed)return void Gd(b);J=[];for(D=D.at(D.position);D&&D instanceof ff&&/^[a-zA-Z\*]$/.test(D.value);)D=D.leftSibling;if(D&&D instanceof ff&&"\\"===D.value)for(J.push(D),D=D.rightSibling;D&&D instanceof ff&&/^[a-zA-Z\*]$/.test(D.value);)J.push(D),D=D.rightSibling;const K=(D=J.map(W=>W.value).join(""))?function(W,ca){var fa,xa;if("\\"===ca||!ca.startsWith("\\"))return[];const ra=[];for(const Na in Mf)Na.startsWith(ca)&&!Mf[Na].infix&&ra.push({match:Na,
frequency:null!==(fa=Mf[Na].frequency)&&void 0!==fa?fa:0});for(const Na in Tf)Na.startsWith(ca)&&ra.push({match:Na,frequency:null!==(xa=Tf[Na].frequency)&&void 0!==xa?xa:0});ca=ca.substring(1);for(const Na of Object.keys(W.options.macros))Na.startsWith(ca)&&ra.push({match:"\\"+Na,frequency:0});return ra.sort((Na,Ua)=>{var db,vb;return Na.frequency===Ua.frequency?Na.match.length===Ua.match.length?Na.match<Ua.match?-1:1:Na.match.length-Ua.match.length:(null!==(db=Ua.frequency)&&void 0!==db?db:0)-(null!==
(vb=Na.frequency)&&void 0!==vb?vb:0)}),ra.map(Na=>Na.match)}(b,D):[];if(0===K.length)return/^\\[a-zA-Z\*]+$/.test(D)&&J.forEach(W=>{W.isError=!0}),void Gd(b);b.suggestionIndex=null!==(q=null==f?void 0:f.atIndex)&&void 0!==q?q:0;0>b.suggestionIndex&&(b.suggestionIndex=K.length-1);f=K[b.suggestionIndex%K.length];f!==D&&(q=J[J.length-1],q.parent.addChildrenAfter([...f.slice(D.length-f.length)].map(W=>new ff(W,b,{isSuggestion:!0})),q),bc(b));!function(W,ca){if(0===ca.length||!1===W.options.enablePopover)return void Gd(W);
ca=ca.slice(0,10);var fa="\x3cul\x3e";for(const xa of ca){ca=xa;const ra=Cc(W,xa),Na=eb(W.keybindings,ca).join("\x3cbr\x3e");fa+=`<li role="button" data-command="${ca}"><span class="ML__popover__latex">${ca}</span><span class="ML__popover__command">${ra}</span>`;Na&&(fa+=`<span class="ML__popover__keybinding">${Na}</span>`);fa+="\x3c/li\x3e"}W.popover=function(xa,ra){return xa.popover?(xa.popover.innerHTML=xa.options.createHTML(ra),xa.popover):(xa.popover=Hf("mathlive-popover-panel"),void 0===$i&&
($i=Zd('#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:8px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}#mathlive-popover-panel ul{align-items:flex-start;display:flex;flex-flow:column;justify-content:center;list-style:none;margin:0;padding:0}#mathlive-popover-panel li{border-radius:8px;column-gap:1em;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;margin:8px;padding:8px;width:calc(100% - 32px)}#mathlive-popover-panel li a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}#mathlive-popover-panel li a:hover{color:#5ea6fd;text-decoration:underline}#mathlive-popover-panel li.is-active,#mathlive-popover-panel li.is-pressed,#mathlive-popover-panel li:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__latex{align-self:center;font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace}.ML__popover__keybinding{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:.8em;opacity:.7}.ML__shortcut-join{opacity:.5}').toString(36)),
ii=Ie(null,'#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:8px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}#mathlive-popover-panel ul{align-items:flex-start;display:flex;flex-flow:column;justify-content:center;list-style:none;margin:0;padding:0}#mathlive-popover-panel li{border-radius:8px;column-gap:1em;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;margin:8px;padding:8px;width:calc(100% - 32px)}#mathlive-popover-panel li a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}#mathlive-popover-panel li a:hover{color:#5ea6fd;text-decoration:underline}#mathlive-popover-panel li.is-active,#mathlive-popover-panel li.is-pressed,#mathlive-popover-panel li:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__latex{align-self:center;font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace}.ML__popover__keybinding{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:.8em;opacity:.7}.ML__shortcut-join{opacity:.5}',
$i),vi=Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)),
xa.popover.innerHTML=xa.options.createHTML(ra),xa.popover)}(W,fa+"\x3c/ul\x3e");fa=W.popover.querySelectorAll("ul li");for(const xa of fa)xa.addEventListener("pointerdown",ra=>{ra.preventDefault()}),xa.addEventListener("click",ra=>{Dc(W,"reject");Ce.insert("math",W.model,xa.dataset.command,{selectionMode:"placeholder",format:"latex"});W.dirty=!0;W.scrollIntoView();W.focus()});setTimeout(()=>{const xa=Se(W.field);xa&&Xc(W,xa);W.popover&&(W.popover.classList.add("is-visible"),W.popoverVisible=!0)},
32)}(b,K)}function Fc(b){const [f,q]=ac(b,{before:b.position});if(void 0===f||void 0===q)return!1;let D=!1;return b.getAtoms([f,q]).forEach(J=>{J.isSuggestion&&(J.isSuggestion=!1,D=!0)}),D}function Dc(b,f="accept",q){var D,J;Gd(b);const K=b.model.atoms.find(fa=>fa instanceof Tg);if(!K)return!1;if("accept-suggestion"===f){f=$b(b.model).filter(fa=>fa.isSuggestion);if(0===f.length)return!1;for(var W of f)W.isSuggestion=!1;return b.model.position=b.model.offsetOf(f[f.length-1]),!0}W=$b(b.model).filter(fa=>
!fa.isSuggestion).map(fa=>fa.value).join("");const ca=K.leftSibling;return K.parent.removeChild(K),b.model.position=b.model.offsetOf(ca),b.mode=null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math","reject"===f||(Ce.insert("math",b.model,W,{selectionMode:null!==(J=null==q?void 0:q.selectItem)&&void 0!==J&&J?"item":"placeholder",format:"latex"}),b.snapshot(),b.model.announce("replacement")),!0}function Cc(b,f){const q=new wc("root",b);return q.body=cb(f,b,{parseMode:"math"}),Eb(fb(zb(new Zc(q.render(new de({registers:b.registers},
{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Pc(b,f){var q;b.element&&b.element.mathfield===b&&b.popover&&b.popoverVisible&&((null==f?0:f.deferred)?setTimeout(()=>Pc(b),100):"latex"!==(null===(q=b.model.at(b.model.position))||void 0===q?void 0:q.type)?Gd(b):(f=Se(b.field))&&Xc(b,f))}function Xc(b,f){if(e(),b.popover&&b.popoverVisible){var q=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,D=window.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth,J=window.innerWidth-document.documentElement.clientWidth,K=window.innerHeight-document.documentElement.clientHeight,W=b.virtualKeyboard.height;f.x+b.popover.offsetWidth/2>D-J?b.popover.style.left=D-b.popover.offsetWidth-J+"px":0>f.x-b.popover.offsetWidth/2?b.popover.style.left="0":b.popover.style.left=f.x-b.popover.offsetWidth/2+"px";f.y+b.popover.offsetHeight+5>q-K-W?(b.popover.classList.add("ML__popover--reverse-direction"),b.popover.style.top=
f.y-f.height-b.popover.offsetHeight-5+"px"):(b.popover.classList.remove("ML__popover--reverse-direction"),b.popover.style.top=`${f.y+5}px`)}}function Gd(b){b.suggestionIndex=0;b.popoverVisible=!1;b.popover&&(b.popover.classList.remove("is-visible"),b.popover.innerHTML="")}function Qd(b){let f=0;for(let q=0;q<b.length;q++)f=31*f+b.charCodeAt(q),f|=0;return Math.abs(f)}function bc(b,f){b.dirty||(b.dirty=!0,requestAnimationFrame(()=>{De(b)&&b.dirty&&(b.atomBoundsCache=new Map,$d(b,f),b.atomBoundsCache=
void 0)}))}function $d(b,f){var q;if(e(),De(b)){f=null!=f?f:{};var {model:D}=b;D.root.caret="";D.root.isSelected=!1;D.root.containsCaret=!0;for(var J of D.atoms)J.caret="",J.isSelected=!1,J.containsCaret=!1;J=!b.options.readOnly&&b.hasFocus();if(D.selectionIsCollapsed)D.at(D.position).caret=J?b.mode:"";else{var K=D.getAtoms(D.selection,{includeChildren:!0});for(var W of K)W.isSelected=!0}if(J)for(W=D.at(D.position).parent;W;)W.containsCaret=!0,W=W.parent;W=function(fa,xa){var ra;return xa=null!=xa?
xa:{},Eb(zb(fa.model.root.render(new de({registers:fa.registers,atomIdsSettings:{seed:xa.forHighlighting?Qd(wc.serialize(fa.model.root,{expandMacro:!1,defaultMode:fa.options.defaultMode})):"random",groupNumbers:null!==(ra=xa.forHighlighting)&&void 0!==ra&&ra},renderPlaceholder:fa.options.readOnly?(Na,Ua)=>{if(Ua.placeholderId){const db=fa.getPlaceholderField(Ua.placeholderId);return Ua.createMathfieldBox(Na,db,Ua.placeholderId)}return Ua.createBox(Na)}:void 0},{fontSize:5,letterShapeStyle:fa.options.letterShapeStyle},
"inline-math"===fa.options.defaultMode?"textstyle":"displaystyle")),fa.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}})}(b,f);K=b.field;var ca=K.classList.contains("ML__focused");ca&&!J?K.classList.remove("ML__focused"):!ca&&J&&K.classList.add("ML__focused");K.innerHTML=b.options.createHTML(W.toMarkup());b.fieldContent=K.querySelector(".ML__mathlive");b.accessibleNode.innerHTML=b.options.createHTML('\x3cmath xmlns\x3d"http://www.w3.org/1998/Math/MathML"\x3e'+
sd(D.root,b.options)+"\x3c/math\x3e");md(b);b.options.readOnly&&b.attachNestedMathfield();null!==(q=f.interactive)&&void 0!==q&&q||setTimeout(()=>md(b),32);b.dirty=!1}}function md(b){e();const f=b.field;if(f){for(var q of f.querySelectorAll(".ML__selection, .ML__contains-highlight"))q.remove();if(b.hasFocus()){var D=b.model;q=parseFloat(getComputedStyle(f).width);q=f.getBoundingClientRect().width/q;if(q=isNaN(q)?1:q,D.selectionIsCollapsed){setTimeout(()=>Pc(b),32);for(var J=D.at(D.position);J&&(!J.containsCaret||
!J.displayContainsHighlight);)J=J.parent;(null==J?0:J.containsCaret)&&J.displayContainsHighlight&&(J=Ye(b,hf(b,J)))&&(J.left/=q,J.right/=q,J.top/=q,J.bottom/=q,q=document.createElement("div"),q.classList.add("ML__contains-highlight"),q.style.position="absolute",q.style.left=`${J.left}px`,q.style.top=`${J.top}px`,q.style.width=`${Math.ceil(J.right-J.left)}px`,q.style.height=`${Math.ceil(J.bottom-J.top-1)}px`,f.insertBefore(q,f.childNodes[0]))}else for(J of function(K){let W=[];for(var ca of K){K=!1;
for(const fa of W)if(ca.left===fa.left&&ca.right===fa.right&&ca.top===fa.top&&ca.bottom===fa.bottom){K=!0;break}K||W.push(ca)}K=W;W=[];for(const fa of K){ca=0;for(const xa of K)if(fa.left>=xa.left&&fa.right<=xa.right&&fa.top>=xa.top&&fa.bottom<=xa.bottom&&(ca+=1,1<ca))break;1===ca&&W.push(fa)}return W}(wf(b,{excludeAtomsWithBackground:!0})))J.left/=q,J.right/=q,J.top/=q,J.bottom/=q,D=document.createElement("div"),D.classList.add("ML__selection"),D.style.position="absolute",D.style.left=`${J.left}px`,
D.style.top=`${J.top}px`,D.style.width=`${Math.ceil(J.right-J.left)}px`,D.style.height=`${Math.ceil(J.bottom-J.top-1)}px`,f.insertBefore(D,f.childNodes[0])}}}function ed(b,f){f=null!=f?f:{target:"mathfield",canUndo:!1};for(const q of Object.keys(b))Sg[q]={...f,fn:b[q]}}function cd(b){var f;let q;return q=u(b)?b[0]:b,q=q.replace(/-\w/g,D=>D[1].toUpperCase()),null===(f=Sg[q])||void 0===f?void 0:f.target}function Cd(b,f,q){return f+Sc(q,{...b,textToSpeechMarkup:"",textToSpeechRulesOptions:{...b.textToSpeechRulesOptions,
markup:"none"}})}function od(b,f){var q,D,J;if(m()&&(null!=f||(f=null!==(q=Ze().config)&&void 0!==q?q:{}),f))if(f.speechEngine&&"local"!==f.speechEngine)if("amazon"===f.speechEngine){if("AWS"in window){q=new globalThis.AWS.Polly({apiVersion:"2016-06-10"});const K={OutputFormat:"mp3",VoiceId:null!==(D=f.speechEngineVoice)&&void 0!==D?D:"Joanna",Engine:"Amy Emma Brian Ivy Joanna Kendra Kimberly Salli Joey Justin Matthew".split(" ").includes(null!==(J=f.speechEngineVoice)&&void 0!==J?J:"Joanna")?"neural":
"standard",Text:b,TextType:"ssml"};q.synthesizeSpeech(K,(W,ca)=>{!W&&(null==ca?0:ca.AudioStream)&&(W=new Uint8Array(ca.AudioStream),W=new Blob([W.buffer],{type:"audio/mpeg"}),W=URL.createObjectURL(W),(new Audio(W)).play().catch(fa=>{}))})}}else f.speechEngine;else b=new SpeechSynthesisUtterance(b),window.speechSynthesis.speak(b)}function Od(b){if(b&&(b.classList.remove("ML__highlight"),b.children))for(const f of b.children)Od(f)}function Oe(b,f){var q;b&&(f&&(null===(q=b.dataset)||void 0===q?void 0:
q.atomId)!==f?(b.classList.remove("ML__highlight"),b.children&&0<b.children.length&&[...b.children].forEach(D=>{D instanceof HTMLElement&&Oe(D,f)})):(b.classList.add("ML__highlight"),b.children&&0<b.children.length&&[...b.children].forEach(D=>{D instanceof HTMLElement&&Oe(D)})))}function Ue(b,f,q){var D;if(m()){if(null!=q||(q=Ze().config),"amazon"!==q.speechEngine)return void(q.speakHook&&q.speakHook(f,q));if(globalThis.AWS){var J=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),K={OutputFormat:"json",
VoiceId:null!==(D=q.speechEngineVoice)&&void 0!==D?D:"Joanna",Engine:"standard",Text:f,TextType:"ssml",SpeechMarkTypes:["ssml"]};Ze().readAloudElement=b;J.synthesizeSpeech(K,(W,ca)=>{if(!W&&null!=ca&&ca.AudioStream){W=(new TextDecoder("utf-8")).decode(new Uint8Array(ca.AudioStream));Ze().readAloudMarks=W.split("\n").map(fa=>fa?JSON.parse(fa):{});Ze().readAloudTokens=[];for(const fa of Ze().readAloudMarks)fa.value&&Ze().readAloudTokens.push(fa.value);Ze().readAloudCurrentMark="";K.OutputFormat="mp3";
K.SpeechMarkTypes=[];J.synthesizeSpeech(K,(fa,xa)=>{if(!fa&&null!=xa&&xa.AudioStream){fa=new Uint8Array(xa.AudioStream);fa=new Blob([fa.buffer],{type:"audio/mpeg"});fa=URL.createObjectURL(fa);var ra=Ze();ra.readAloudAudio?ra.readAloudAudio.pause():(ra.readAloudAudio=new Audio,ra.readAloudAudio.addEventListener("ended",()=>{const Na=ra.readAloudMathField;ra.readAloudStatus="ended";document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0}));Na?($d(Na),ra.readAloudElement=
null,ra.readAloudMathField=null,ra.readAloudTokens=[],ra.readAloudMarks=[],ra.readAloudCurrentMark=""):Od(ra.readAloudElement)}),ra.readAloudAudio.addEventListener("timeupdate",()=>{let Na="";const Ua=1E3*ra.readAloudAudio.currentTime+100;for(const db of ra.readAloudMarks)db.time<Ua&&(Na=db.value);ra.readAloudCurrentMark!==Na&&(ra.readAloudCurrentToken=Na,Na&&Na===ra.readAloudFinalToken?ra.readAloudAudio.pause():(ra.readAloudCurrentMark=Na,Oe(ra.readAloudElement,ra.readAloudCurrentMark)))}));ra.readAloudAudio.src=
fa;ra.readAloudStatus="playing";document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0}));ra.readAloudAudio.play()}})}})}}}function oe(b,f){var q,D,J;b=Ee(b,Object.keys(b));for(const K of Object.keys(f))switch(K){case "scriptDepth":if(u(f.scriptDepth))b.scriptDepth=[f.scriptDepth[0],f.scriptDepth[1]];else{if("number"!=typeof f.scriptDepth)throw new TypeError("Unexpected value for scriptDepth");b.scriptDepth=[f.scriptDepth,f.scriptDepth]}break;case "locale":"auto"===
f.locale?b.locale=m()?navigator.language.slice(0,5):"en":b.locale=f.locale;Be.locale=b.locale;break;case "strings":Be.merge(f.strings);b.strings=Be.strings;break;case "virtualKeyboardLayout":b.virtualKeyboardLayout=f.virtualKeyboardLayout;break;case "virtualKeyboardMode":const W=f.virtualKeyboardMode.toLowerCase();b.virtualKeyboardMode="auto"===W?c()?"onfocus":"off":W;break;case "customVirtualKeyboardLayers":b.customVirtualKeyboardLayers={...b.customVirtualKeyboardLayers,...f.customVirtualKeyboardLayers};
break;case "customVirtualKeyboards":b.customVirtualKeyboards={...b.customVirtualKeyboards,...f.customVirtualKeyboards};break;case "letterShapeStyle":"auto"===f.letterShapeStyle?Be.locale.startsWith("fr")?b.letterShapeStyle="french":b.letterShapeStyle="tex":b.letterShapeStyle=f.letterShapeStyle;break;case "plonkSound":void 0!==f.plonkSound&&(b.plonkSound=f.plonkSound);break;case "keypressSound":null===f.keypressSound?b.keypressSound={default:null,delete:null,return:null,spacebar:null}:"string"==typeof f.keypressSound?
b.keypressSound={delete:f.keypressSound,return:f.keypressSound,spacebar:f.keypressSound,default:f.keypressSound}:"object"==typeof f.keypressSound&&"default"in f.keypressSound&&(b.keypressSound={...f.keypressSound},b.keypressSound.delete=null!==(q=b.keypressSound.delete)&&void 0!==q?q:f.keypressSound.default,b.keypressSound.return=null!==(D=b.keypressSound.return)&&void 0!==D?D:f.keypressSound.default,b.keypressSound.spacebar=null!==(J=b.keypressSound.spacebar)&&void 0!==J?J:f.keypressSound.default);
break;case "computeEngine":b.computeEngine=f.computeEngine;break;case "virtualKeyboardContainer":b.virtualKeyboardContainer=f.virtualKeyboardContainer;break;case "macros":b.macros=qa(f.macros);break;default:u(f[K])?b[K]=[...f[K]]:"object"==typeof f[K]?b[K]={...f[K]}:b[K]=f[K]}return b}function Ee(b,f){let q;q="string"==typeof f?[f]:void 0===f?Object.keys(b):f;const D={};for(const J of q)null===b[J]?D[J]=null:u(b[J])?D[J]=[...b[J]]:"object"!=typeof b[J]||b[J]instanceof Element||"computeEngine"===J?
D[J]=b[J]:D[J]={...b[J]};return"string"==typeof f?D[f]:D}function pb(){var b,f,q;return{readOnly:!1,createHTML:D=>D,fontsDirectory:"./fonts",soundsDirectory:"./sounds",computeEngine:void 0,defaultMode:"math",macros:Aa(),registers:{},colorMap:v,backgroundColorMap:w,horizontalSpacingScale:1,letterShapeStyle:Be.locale.startsWith("fr")?"french":"tex",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",decimalSeparator:".",fractionNavigationOrder:"numerator-denominator",
placeholderSymbol:"▢",enablePopover:!0,locale:Be.locale,strings:Be.strings,keybindings:rh,inlineShortcuts:Oh,inlineShortcutTimeout:0,virtualKeyboardToggleGlyph:'\x3cspan style\x3d"width: 21px; margin-top: 4px;"\x3e\x3csvg style\x3d"width: 21px;" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 576 512"\x3e\x3cpath d\x3d"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/\x3e\x3c/svg\x3e\x3c/span\x3e',
virtualKeyboardMode:"auto",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:m()&&/android|cros/i.test(navigator.userAgent)?"material":"apple",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",virtualKeyboardContainer:null!==(f=null===(b=globalThis.document)||void 0===b?void 0:b.body)&&void 0!==f?f:null,useSharedVirtualKeyboard:!1,sharedVirtualKeyboardTargetOrigin:null===(q=globalThis.window)||
void 0===q?void 0:q.origin,originValidator:"same-origin",textToSpeechRules:"mathlive",textToSpeechMarkup:"",textToSpeechRulesOptions:{},speechEngine:"local",speechEngineVoice:"Joanna",speechEngineRate:"100%",speakHook:od,readAloudHook:Ue,onInlineShortcut:()=>"",onExport:td,value:""}}function Ob(b){return"inline-math"===b.defaultMode?"math":b.defaultMode}function gc(b){if(/^(?:[a-z+]+:)?\/\//i.test(b))return(new URL(b)).href;if(null===ji)try{const f=new XMLHttpRequest;f.open("HEAD",Oj,!1);f.send(null);
200===f.status&&(ji=f.responseURL)}catch(f){}return ji?(new URL(b,ji)).href:""}async function cc(b){var f;if(m()&&!document.body.classList.contains("ML__fonts-loading")&&(null===(f=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))||void 0===f||!f)&&(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document)){const D=Array.from(document.fonts).map(J=>J.family);if(!"KaTeX_Main KaTeX_Math KaTeX_AMS KaTeX_Caligraphic KaTeX_Fraktur KaTeX_SansSerif KaTeX_Script KaTeX_Typewriter KaTeX_Size1 KaTeX_Size2 KaTeX_Size3 KaTeX_Size4".split(" ").every(J=>
D.includes(J))){var q=gc(null!=b?b:"./fonts");if(q){document.body.classList.add("ML__fonts-loading");b=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],
["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(J=>function(K,W,ca={}){return new FontFace(K,`url(${W}.woff2) format('woff2')`,ca)}(J[0].replace(/-[a-zA-Z]+$/,""),q+"/"+J[0],J[1]));try{(await Promise.all(b.map(J=>{try{return J.load()}catch{}}))).forEach(J=>document.fonts.add(J))}catch(J){document.body.classList.add("ML__fonts-did-not-load")}document.body.classList.remove("ML__fonts-loading")}}}}
function nc(b){return"number"==typeof b&&!Number.isNaN(b)}function Ec(b){return Array.isArray(b)&&2===b.length}function tc(b){return null!=b&&"object"==typeof b&&"ranges"in b&&Array.isArray(b.ranges)}function Ac(b){var f,q,D,J,K,W,ca,fa,xa,ra,Na,Ua;if(!b)return"";if(u(b)){if(0===b.length||("first"===b[0].type&&(b=b.slice(1)),0===b.length))return"";var db="";if("latex"===b[0].mode)for(var vb of b)db+=Ac(vb);else if("text"===b[0].mode){var Qb=0;for(db='"';"text"===(null===(f=b[Qb])||void 0===f?void 0:
f.mode);)db+=b[Qb].body?Ac(b[Qb].body):b[Qb].value,Qb++;db+='"'+Ac(b.slice(Qb))}else if("math"===b[0].mode){for(Qb=0;b[Qb]&&"math"===b[Qb].mode;)db+=Ac(b[Qb]),Qb++;db+=Ac(b.slice(Qb))}return db.trim()}if("text"===b.mode)return'"'+b.value+'"';f="";({command:vb}=b);switch(b.type){case "first":return"";case "group":case "root":f=null!==(q=Ph[vb])&&void 0!==q?q:Ac(b.body);break;case "genfrac":db=b;(db.leftDelim||db.rightDelim)&&(f+="."!==db.leftDelim&&db.leftDelim?db.leftDelim:"{:");db.hasBarLine?(f+=
"(",f+=Ac(db.above),f+=")/(",f+=Ac(db.below),f+=")"):(f+="("+Ac(db.above)+"),",f+="("+Ac(db.below)+")");(db.leftDelim||db.rightDelim)&&(f+="."!==db.rightDelim&&db.rightDelim?db.rightDelim:"{:");break;case "surd":f+=b.hasEmptyBranch("above")?"sqrt("+Ac(b.body)+")":"root("+Ac(b.above)+")("+Ac(b.body)+")";break;case "latex":f=b.value;break;case "leftright":db=b;f+="."!==db.leftDelim&&db.leftDelim?db.leftDelim:"{:";f+=Ac(db.body);f+="."!==db.rightDelim&&db.rightDelim?db.rightDelim:":}";break;case "mord":f=
null!==(J=null!==(D=Ph[vb])&&void 0!==D?D:vb)&&void 0!==J?J:"string"==typeof b.value?b.value:"";f.startsWith("\\")&&(f+=" ");(db=vb?vb.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null)?f=String.fromCodePoint(Number.parseInt("0x"+db[1])):0<f.length&&f.startsWith("\\")&&(f="string"==typeof b.value?b.value.charAt(0):b.command);break;case "mbin":case "mrel":case "minner":f=null!==(W=null!==(K=Ph[vb])&&void 0!==K?K:Ki[vb])&&void 0!==W?W:b.value;break;case "mopen":case "mclose":f+=b.value;break;case "mpunct":f=
null!==(ca=Ki[vb])&&void 0!==ca?ca:vb;break;case "mop":"​"!==b.value&&(f="",f+="\\operatorname"===vb?Ac(b.body):null!==(fa=b.value)&&void 0!==fa?fa:vb,f+=" ");break;case "array":D=b.array;f=b.environmentName;q=null!==(xa={bmatrix:["[","]"],"bmatrix*":["[","]"]}[f])&&void 0!==xa?xa:["(",")"];xa=[];for(Qb of D){D=[];for(const Xb of Qb)D.push(q[0]+Ac(Xb)+q[1]);xa.push(D.join(","))}Qb=null!==(db={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[f])&&void 0!==db?db:["(",")"];f=Qb[0]+xa.join(",")+
Qb[1];break;case "spacing":f=null!==(ra=Ph[vb])&&void 0!==ra?ra:" ";break;case "enclose":f="("+Ac(b.body)+")";break;case "space":f=" ";break;case "msubsup":f="";break;case "macro":f=null!==(Ua=null!==(Na=Ph[vb])&&void 0!==Na?Na:Ki[vb])&&void 0!==Ua?Ua:Ac(b.body)}b.hasEmptyBranch("subscript")||(f+="_",db=Ac(b.subscript),f+=1<db.length?"("+db+")":db);b.hasEmptyBranch("superscript")||(f+="^",b=Ac(b.superscript),f+=1<b.length?"("+b+")":b);return f}function U(b){let f;if("body"===b.treeBranch)f={enclose:"cross out",
leftright:"delimiter",surd:"square root",root:"math field",mop:"operator"}[b.type];else if("genfrac"===b.parent.type){if("above"===b.treeBranch)return"numerator";if("below"===b.treeBranch)return"denominator"}else"surd"===b.parent.type?"above"===b.treeBranch&&(f="index"):"superscript"===b.treeBranch?f="superscript":"subscript"===b.treeBranch&&(f="subscript");return null!=f?f:"parent"}function ha(b,f,q,D){var J=b.offsetOf(f);if(J<q||J>D)return!1;if(!f.hasChildren)return!0;J=b.offsetOf(f.firstChild);
return J>=q&&J<=D&&(b=b.offsetOf(f.lastChild),b>=q&&b<=D)?!0:!1}function ma(b,f,q){if(null==f||!f.hasChildren)return!1;const [D,J]=q;q=b.offsetOf(f.firstChild);b=b.offsetOf(f.lastChild);return q>=D&&q<=J&&b>=q&&b<=J}function za(b,f){let q=b.at(b.position);for(;q&&!(Array.isArray(q.treeBranch)&&q.parent instanceof $e);)q=q.parent;if(Array.isArray(null==q?void 0:q.treeBranch)&&(null==q?void 0:q.parent)instanceof $e){const D=q.parent;let J;switch(f){case "after row":D.addRowAfter(q.treeBranch[0]);J=
b.offsetOf(D.getCell(q.treeBranch[0]+1,0)[0]);break;case "after column":if(D.maxColumns<=D.colCount)return void b.announce("plonk");D.addColumnAfter(q.treeBranch[1]);J=b.offsetOf(D.getCell(q.treeBranch[0],q.treeBranch[1]+1)[0]);break;case "before row":D.addRowBefore(q.treeBranch[0]);J=b.offsetOf(D.getCell(q.treeBranch[0]-1,0)[0]);break;case "before column":if(D.maxColumns<=D.colCount)return void b.announce("plonk");D.addColumnBefore(q.treeBranch[1]);J=b.offsetOf(D.getCell(q.treeBranch[0],q.treeBranch[1]-
1)[0])}b.setSelection(J,J+1)}}function Fa(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"after row"),Hb(b,{inputType:"insertText"}),!0)}function $a(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"after column"),Hb(b,{inputType:"insertText"}),!0)}function xb(b,f){for(var q=b.at(b.position);q&&!(Array.isArray(q.treeBranch)&&q.parent instanceof $e);)q=q.parent;if(Array.isArray(null==q?void 0:q.treeBranch)&&(null==q?void 0:q.parent)instanceof $e){const D=q.parent;q=q.treeBranch;let J;switch(f){case "row":1<
D.rowCount&&(D.removeRow(q[0]),f=D.getCell(Math.max(0,q[0]-1),q[1]),J=b.offsetOf(f[f.length-1]));break;case "column":D.colCount>D.minColumns&&(D.removeColumn(q[1]),f=D.getCell(q[0],Math.max(0,q[1]-1)),J=b.offsetOf(f[f.length-1]))}J&&b.setPositionHandlingPlaceholder(J)}}function Vb(b,f,q,D){var J,K,W,ca,fa=q.parent;if("genfrac"===fa.type)return f=b.offsetOf(q.leftSibling),fa.removeChild(q),fa.hasEmptyBranch("above")&&fa.hasEmptyBranch("below")?(f=b.offsetOf(fa.leftSibling),fa.parent.removeChild(fa),
b.announce("delete",void 0,[fa]),b.position=f,!0):(b.announce("delete",void 0,[q]),b.position=f,!0);if(q instanceof rf)return D=(f=!D&&"forward"===f||"body"===D&&"backward"===f)?b.offsetOf(q.firstChild):b.offsetOf(q.lastChild),f?"?"!==q.rightDelim&&"."!==q.rightDelim?(q.leftDelim=".",q.isDirty=!0):(fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),D--):"?"!==q.leftDelim&&"."!==q.leftDelim?(q.rightDelim=".",q.isDirty=!0):(fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),
D--),b.position=D,!0;if("surd"===q.type)return"forward"===f&&!D||"backward"===f&&"body"===D?(f=q.leftSibling,q.hasChildren&&fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),b.position=b.offsetOf(f)):"forward"===f&&"body"===D?b.position=b.offsetOf(q):D||"backward"!==f?"above"===D&&(q.hasEmptyBranch("above")&&q.removeBranch("above"),b.position="backward"===f?b.offsetOf(q.leftSibling):b.offsetOf(q.body[0])):q.hasChildren?b.position=b.offsetOf(q.lastChild):(b.position=Math.max(0,b.offsetOf(q)-
1),fa.removeChild(q)),!0;if("box"===q.type||"enclose"===q.type)return f=D&&"backward"===f||!D&&"forward"===f?q.leftSibling:q.lastChild,fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),b.position=b.offsetOf(f),!0;if("genfrac"===q.type||"overunder"===q.type){if(!D)return!("overunder"===q.type&&q.hasEmptyBranch("body")||"genfrac"===q.type&&q.hasEmptyBranch("below")&&q.hasEmptyBranch("above")||(b.position=b.offsetOf("forward"===f?q.firstChild:q.lastChild),0));var xa="numerator-denominator"===
q.context.fractionNavigationOrder?"above":"below";var ra="above"===xa?"below":"above";return"forward"===f&&D===xa||"backward"===f&&D===ra?(f=q.removeBranch(xa),D=q.removeBranch(ra),fa.addChildrenAfter([...f,...D],q),fa.removeChild(q),b.position=b.offsetOf(0<f.length?f[f.length-1]:D[0]),!0):"backward"===f?(b.position=b.offsetOf(q.leftSibling),!0):(b.position=b.offsetOf(q),!0)}if(q.isExtensibleSymbol||"msubsup"===q.type){if(!D&&"forward"===f)return!1;if(!D)return q.subscript||q.superscript?(fa="forward"===
f?null!==(xa=null===(ra=q.superscript)||void 0===ra?void 0:ra[0])&&void 0!==xa?xa:null===(J=q.subscript)||void 0===J?void 0:J[0]:null!==(W=null===(K=q.subscript)||void 0===K?void 0:K[0].lastSibling)&&void 0!==W?W:null===(ca=q.superscript)||void 0===ca?void 0:ca[0].lastSibling,fa&&(b.position=b.offsetOf(fa)),!0):!1;if(D&&q.hasEmptyBranch(D)&&q.removeBranch(D),!q.hasChildren)return fa="forward"===f?b.offsetOf(q):Math.max(0,b.offsetOf(q)-1),q.parent.removeChild(q),b.position=fa,!0;"superscript"===D?
"backward"===f?(q=b.offsetOf(q.firstChild)-1,b.position=q):q.subscript?b.position=b.offsetOf(q.subscript[0]):b.position=b.offsetOf(q):"subscript"===D&&("backward"===f&&q.superscript?b.position=b.offsetOf(q.superscript[0].lastSibling):b.position="backward"===f?b.offsetOf(q.firstChild)-1:b.offsetOf(q));return!0}return!1}function Wb(b,f,q){var D=b.getAtoms(f);if(0<D.length&&D[0].parent){let J=D[0].parent.firstChild;"first"===J.type&&(J=J.rightSibling);const K=D[D.length-1].parent.lastChild;let W=D[0];
"first"===W.type&&(W=W.rightSibling);const ca=D[D.length-1];W===J&&ca===K&&(D=D[0].parent,"root"!==D.type&&(f=[b.offsetOf(D.leftSibling),b.offsetOf(D.rightSibling)]))}return b.deferNotifications({content:!0,selection:!0,type:q},()=>b.deleteAtoms(f))}function rc(b,f){b=b.at(f);let q;if(b)for(q=b.mode,b=b.parent;!q&&b;)b&&(q=b.mode),b=b.parent;return q}function Wc(b,f){b&&f&&(u(b)?b.forEach(q=>Wc(q,f)):"object"==typeof b&&(b.style.color||b.style.backgroundColor||b.style.fontFamily||b.style.fontShape||
b.style.fontSeries||b.style.fontSize||b.style.variant||b.style.variantStyle||(b.applyStyle(f),Wc(b.body,f),Wc(b.above,f),Wc(b.below,f),Wc(b.subscript,f),Wc(b.superscript,f))))}function wd(b,f,q,D){function J(W,ca){for(const fa of K)if(fa.style[W]!==ca)return!1;return!0}if((f=b.normalizeRange(f))[0]===f[1])return!1;const K=b.getAtoms(f,{includeChildren:!0});"toggle"===D.operation&&(q.color&&J("color",q.color)&&(q.color="none",q.verbatimColor=void 0),q.backgroundColor&&J("backgroundColor",q.backgroundColor)&&
(q.backgroundColor="none",q.verbatimBackgroundColor=void 0),q.fontFamily&&J("fontFamily",q.fontFamily)&&(q.fontFamily="none"),q.fontSeries&&J("fontSeries",q.fontSeries)&&(q.fontSeries="auto"),q.fontShape&&J("fontShape",q.fontShape)&&(q.fontShape="auto"),q.fontSize&&J("fontSize",q.fontSize)&&(q.fontSize=5));for(const W of K)W.applyStyle(q);return!0}function Sd(b,f,q){if("text"!==b.at(f).mode)return f;q="backward"===q?-1:1;if(Xf.test(b.at(f).value)){var D=f;do f="text"===b.at(D).mode&&Xf.test(b.at(D).value),
D+=q;while(b.at(D)&&f);b=b.at(D)?D-2*q:D-q}else if(/\s/.test(b.at(f).value)){for(;b.at(f)&&"text"===b.at(f).mode&&/\s/.test(b.at(f).value);)f+=q;if(b.at(f)){do D="text"===b.at(f).mode&&!/\s/.test(b.at(f).value),f+=q;while(b.at(f)&&D);b=b.at(f)?f-2*q:f-q}else b=f-q}else{for(;b.at(f)&&"text"===b.at(f).mode&&!/\s/.test(b.at(f).value);)f+=q;b.at(f);for(D=!0;b.at(f)&&D;)D="text"===b.at(f).mode&&/\s/.test(b.at(f).value),f+=q;b=b.at(f)?f-2*q:f-q}return b-(0<q?0:1)}function Je(b,f,q){var D,J,K,W,ca,fa;const xa=
b.position;null!==(D=null==q?void 0:q.extend)&&void 0!==D&&D||b.collapseSelection(f);let ra=b.at(b.position);if("forward"===f&&("msubsup"===ra.type?(ra=ra.rightSibling,ra||(ra=b.at(b.position+1))):ra=b.at(b.position+1)),!ra)return b.announce("plonk"),!1;D=b.offsetOf(ra);if(ra instanceof yg)D=Sd(b,D,f);else if(ra instanceof ff)if(ra.isSuggestion)for(;ra&&ra instanceof ff;)ra.isSuggestion=!1,D=b.offsetOf(ra),ra=ra.rightSibling;else if("forward"===f){if(ra=ra.rightSibling,!(ra&&ra instanceof ff))return b.announce("plonk"),
!1;for(;ra&&ra instanceof ff&&/[a-zA-Z\*]/.test(ra.value);)D=b.offsetOf(ra),ra=ra.rightSibling}else{if(ra=ra.leftSibling,!(ra&&ra instanceof ff))return b.announce("plonk"),!1;for(;ra&&ra instanceof ff&&/[a-zA-Z\*]/.test(ra.value);)D=b.offsetOf(ra),ra=ra.leftSibling}else if("forward"===f&&"mopen"===ra.type){D=0;do"mopen"===ra.type?D+=1:"mclose"===ra.type&&--D,ra=ra.rightSibling;while(!ra.isLastSibling&&0!==D);D=b.offsetOf(ra.leftSibling)}else if("backward"===f&&"mclose"===ra.type){D=0;do"mopen"===
ra.type?D+=1:"mclose"===ra.type&&--D,ra=ra.leftSibling;while(!ra.isFirstSibling&&0!==D);D=b.offsetOf(ra)}else if("backward"===f)if("first"===ra.type)for(;0<D&&"first"===ra.type;)--D,ra=b.at(D);else{var Na=ra.type;"msubsup"===ra.type&&(D=b.offsetOf(b.at(D).leftSibling));--D;for(ca=null===(J=b.at(D))||void 0===J?void 0:J.type;0<=D&&ca===Na;)"msubsup"===(null===(K=b.at(D))||void 0===K?void 0:K.type)?D=b.offsetOf(b.at(D).leftSibling):--D,ca=b.at(D).type}else{({type:J}=ra);K=null===(W=b.at(D))||void 0===
W?void 0:W.type;for({lastOffset:W}=b;D<=W&&(K===J||"msubsup"===K);){for(;"msubsup"===(null===(Na=b.at(D).rightSibling)||void 0===Na?void 0:Na.type);)D=b.offsetOf(b.at(D).rightSibling);D+=1;K=null===(ca=b.at(D))||void 0===ca?void 0:ca.type}--D}if(null!==(fa=null==q?void 0:q.extend)&&void 0!==fa&&fa){if(!b.setSelection(b.anchor,D))return b.announce("plonk"),!1}else{if(D===b.position)return b.announce("plonk"),!1;b.position=D}return b.announce("move",xa),!0}function ye(b,f,q){var D,J,K,W,ca,fa,xa,ra;
if(q=null!=q?q:{extend:!1},"forward"!==f){const [Ua,db]=ac(b);void 0!==Ua&&void 0!==db&&b.deleteAtoms([Ua,db])}if("upward"===f)return function(Ua,db){var vb,Qb,Xb;(db=null!==(vb=null==db?void 0:db.extend)&&void 0!==vb&&vb)||Ua.collapseSelection("backward");let sc=vb=Ua.at(Ua.position);for(;sc&&"below"!==sc.treeBranch&&!(Array.isArray(sc.treeBranch)&&sc.parent instanceof $e);)sc=sc.parent;if(Array.isArray(null==sc?void 0:sc.treeBranch)&&sc.parent instanceof $e)pe(Ua,vb,sc.parent.array[Math.max(0,sc.treeBranch[0]-
1)][sc.treeBranch[1]],db,"up");else{if(!sc){var qc=!0;return Ua.suppressChangeNotifications||(qc=null===(Xb=null===(Qb=Ua.mathfield.host)||void 0===Qb?void 0:Qb.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))||void 0===Xb||Xb),Ua.announce(qc?"plonk":"line"),qc}pe(Ua,vb,null!==(qc=sc.parent.branch("above"))&&void 0!==qc?qc:sc.parent.createBranch("above"),db,"up")}return!0}(b,q);if("downward"===f)return function(Ua,db){var vb,Qb;(db=null!==
(vb=null==db?void 0:db.extend)&&void 0!==vb&&vb)||Ua.collapseSelection("forward");let Xb=vb=Ua.at(Ua.position);for(;Xb&&"above"!==Xb.treeBranch&&!(Array.isArray(Xb.treeBranch)&&Xb.parent instanceof $e);)Xb=Xb.parent;if(Array.isArray(null==Xb?void 0:Xb.treeBranch)&&Xb.parent instanceof $e){var sc=Xb.parent;pe(Ua,vb,sc.array[Math.min(sc.array.length-1,Xb.treeBranch[0]+1)][Xb.treeBranch[1]],db,"down")}else{if(!Xb){var qc=!0;return Ua.suppressChangeNotifications||(qc=null===(Qb=null===(sc=Ua.mathfield.host)||
void 0===sc?void 0:sc.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))||void 0===Qb||Qb),Ua.announce(qc?"plonk":"line"),qc}pe(Ua,vb,null!==(qc=Xb.parent.branch("below"))&&void 0!==qc?qc:Xb.parent.createBranch("below"),db,"down")}return!0}(b,q);const Na=b.position;if(q.extend)return b.extendSelection(f);if(b.selectionIsPlaceholder)return b.collapseSelection(f),ye(b,f);if(!b.collapseSelection(f)){let Ua=b.position+("forward"===f?1:-1),
db=b.at(Ua);if(0<=Ua&&Ua<=b.lastOffset)if("forward"===f)if(db.inCaptureSelection){for(;!db.captureSelection;)db=db.parent;Ua=b.offsetOf(db)}else if(!db.isFirstSibling&&db.isLastSibling&&(null===(D=db.parent)||void 0===D?0:D.skipBoundary)){if(Ua+1!==b.lastOffset)return b.position=Ua,ye(b,"forward",q);Ua+=1}else(null===(J=db.parent)||void 0===J?0:J.skipBoundary)&&(null===(K=db.rightSibling)||void 0===K?0:K.isLastSibling)?Ua+=2:(null===(W=db.parent)||void 0===W?0:W.skipBoundary)&&"first"===db.type?Ua+=
1:db instanceof ff&&db.isSuggestion&&(db.isSuggestion=!1);else if("backward"===f)if(null===(ca=db.parent)||void 0===ca?0:ca.inCaptureSelection){for(;!db.captureSelection;)db=db.parent;Ua=Math.max(0,b.offsetOf(db.leftSibling))}else(db.skipBoundary||(null===(fa=db.parent)||void 0===fa?0:fa.skipBoundary)&&"first"===db.type)&&(Ua=Math.max(0,b.position-2));if(0>Ua||Ua>b.lastOffset)return q=!0,b.suppressChangeNotifications||(q=null===(ra=null===(xa=b.mathfield.host)||void 0===xa?void 0:xa.dispatchEvent(new CustomEvent("move-out",
{detail:{direction:f},cancelable:!0,bubbles:!0,composed:!0})))||void 0===ra||ra),q&&b.announce("plonk"),q;b.setPositionHandlingPlaceholder(Ua)}return b.announce("move",Na),!0}function pe(b,f,q,D,J){f=lf(b.mathfield.getHTMLElement(f)).right;var K=b.offsetOf,W=b.mathfield;let ca=1/0,fa=0;for(;fa<q.length;fa++){var xa=lf(W.getHTMLElement(q[fa])).right;xa=Math.abs(f-xa);if(!(xa<=ca))break;ca=xa}q=K.call(b,q[fa-1]);if(D){const [ra,Na]=b.selection.ranges[0];b.setSelection(q<("up"===J?ra:Na)?{ranges:[[q,
Na]],direction:"backward"}:{ranges:[[ra,q]],direction:"forward"})}else b.setPositionHandlingPlaceholder(q);b.announce(`move ${J}`)}function Wd(b){const f=b.position,q=b.at(f).parent;return q&&"root"!==q.type?(b.position=b.offsetOf(q),b.announce("move",f),!0):(b.announce("plonk"),!1)}function sf(b){var f;b.collapseSelection();var q=0;let D=b.at(b.position),J=!1;for(;D;)D.hasEmptyBranch("superscript")&&D.hasEmptyBranch("subscript")||(q+=1),D.hasEmptyBranch("superscript")?D.hasEmptyBranch("subscript")||
(J=!1):J=!0,D=D.parent;if((J?q:0)>=b.mathfield.options.scriptDepth[1])return b.announce("plonk"),!1;q=b.at(b.position);return void 0===q.subsupPlacement&&("msubsup"!==(null===(f=q.rightSibling)||void 0===f?void 0:f.type)&&q.parent.addChildAfter(new ph(b.mathfield,{style:q.computedStyle}),q),q=q.rightSibling),q.createBranch("superscript"),b.setSelection(b.getSiblingsRange(b.offsetOf(q.superscript[0]))),!0}function he(b){var f;b.collapseSelection();var q=0;let D=b.at(b.position),J=!1;for(;D;)D.hasEmptyBranch("superscript")&&
D.hasEmptyBranch("subscript")||(q+=1),D.hasEmptyBranch("superscript")?D.hasEmptyBranch("subscript")||(J=!0):J=!1,D=D.parent;if((J?q:0)>=b.mathfield.options.scriptDepth[0])return b.announce("plonk"),!1;q=b.at(b.position);return void 0===q.subsupPlacement&&("msubsup"!==(null===(f=b.at(b.position+1))||void 0===f?void 0:f.type)&&q.parent.addChildAfter(new ph(b.mathfield,{style:b.at(b.position).computedStyle}),q),q=b.at(b.position+1)),q.createBranch("subscript"),b.setSelection(b.getSiblingsRange(b.offsetOf(q.subscript[0]))),
!0}function Xd(b,f,q=!0){function D(fa,xa,ra){var Na,Ua,db;const vb=[...(null!==(Ua=null===(Na=fa.shadowRoot)||void 0===Na?void 0:Na.querySelectorAll("math-field"))&&void 0!==Ua?Ua:[])];return vb.length&&(fa=null===(db=fa.shadowRoot)||void 0===db?void 0:db.activeElement,db=vb.indexOf(fa),ra=db+ra,0>db&&"backward"===xa&&(ra=vb.length-1),0<=ra&&ra<vb.length)?(vb[ra].focus(),!0):!1}var J,K,W="forward"===f?1:-1;"placeholder"===b.at(b.anchor).type&&ye(b,f);var ca=b.getAllAtoms(Math.max(b.position+W,0));
"backward"===f&&ca.reverse();ca=ca.filter(fa=>"placeholder"===fa.type||2<fa.treeDepth&&fa.isFirstSibling&&fa.isLastSibling);if(0===ca.length){if(!q||null!==(K=null===(J=b.mathfield.host)||void 0===J?void 0:J.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:f},cancelable:!0,bubbles:!0,composed:!0})))&&void 0!==K&&!K)return b.announce("plonk"),!1;ca=function(){function fa(ra){return!((Na=ra).disabled||"hidden"===Na.type&&"INPUT"===Na.tagName.toUpperCase()||function(Ua){if(!m()||Ua===document.activeElement||
Ua.contains(document.activeElement))return!1;if("hidden"===getComputedStyle(Ua).visibility)return!0;const db=Ua.getBoundingClientRect();if(0===db.width||0===db.height)return!0;for(;Ua;){if("none"===getComputedStyle(Ua).display)return!0;Ua=Ua.parentElement}return!1}(Na)||function(Ua){var db;if(db="INPUT"===Ua.tagName.toUpperCase()&&"radio"===Ua.type){var vb;if(Ua.name){b:{db=(null!==(vb=Ua.form)&&void 0!==vb?vb:Ua.ownerDocument).querySelectorAll('input[type\x3d"radio"][name\x3d"'+Ua.name+'"]');for(const Qb of db)if(Qb.checked&&
Qb.form===Ua.form){vb=Qb;break b}vb=null}Ua=!vb||vb===Ua}else Ua=!0;db=!Ua}return db}(ra)||0>xa(ra));var Na}function xa(ra){var Na;const Ua=Number.parseInt(null!==(Na=ra.getAttribute("tabindex"))&&void 0!==Na?Na:"NaN",10);return Number.isNaN(Ua)?"true"===ra.contentEditable?0:"AUDIO"!==ra.nodeName&&"VIDEO"!==ra.nodeName||null!==ra.getAttribute("tabindex")?ra.tabIndex:0:Ua}return m()?function(ra){const Na=[],Ua=[];return[...ra.querySelectorAll('input, select, textarea, a[href], button,\n        [tabindex], audio[controls], video[controls],\n        [contenteditable]:not([contenteditable\x3d"false"]), details\x3esummary')].filter(fa).forEach((db,
vb)=>{const Qb=xa(db);0===Qb?Na.push(db):Ua.push({documentOrder:vb,tabIndex:Qb,node:db})}),Ua.sort((db,vb)=>db.tabIndex===vb.tabIndex?db.documentOrder-vb.documentOrder:db.tabIndex-vb.tabIndex).map(db=>db.node).concat(Na)}(document.body):[]}();if(!document.activeElement||1===ca.length)return b.announce("plonk"),!1;q=ca.indexOf(document.activeElement)+W;return!!(document.activeElement instanceof hg&&D(document.activeElement,f,W))||(0>q&&(q=ca.length-1),q>=ca.length&&(q=0),!!(ca[q]instanceof hg&&D(ca[q],
f,W))||(ca[q].focus(),0!==q||(b.announce("plonk"),!1)))}f=b.position;W=b.offsetOf(ca[0]);return"placeholder"===ca[0].type?b.setSelection(W-1,W):b.position=W,b.announce("move",f),!0}function Bd(b){var f,q,D;if("text"===rc(b,b.position)){var J=Math.min(b.anchor,b.position);var K=Math.max(b.anchor,b.position);for(D=!1;!D&&0<J;){var W=b.at(J);"text"===W.mode&&Xf.test(W.value)?--J:D=!0}for(D=!1;!D&&K<=b.lastOffset;)W=b.at(K),"text"===W.mode&&Xf.test(W.value)?K+=1:D=!0;if(D&&--K,J>=K)return b.setSelection(K-
1,K),!0;b.setSelection(J,K)}else{const ca=b.at(b.position);if(ca.isDigit()){J=Math.min(b.anchor,b.position);for(K=Math.max(b.anchor,b.position);null===(f=b.at(J))||void 0===f?0:f.isDigit();)--J;for(;null===(q=b.at(K))||void 0===q?0:q.isDigit();)K+=1;b.setSelection(J,K-1)}else if(ca.style.variant||ca.style.variantStyle){f=Math.min(b.anchor,b.position);q=Math.max(b.anchor,b.position);let fa=null===(J=b.at(f))||void 0===J?void 0:J.style;for(;fa&&fa.variant===ca.style.variant&&fa.variantStyle===ca.style.variantStyle;)--f,
fa=null===(K=b.at(f))||void 0===K?void 0:K.style;for(fa=null===(D=b.at(q))||void 0===D?void 0:D.style;fa&&fa.variant===ca.style.variant&&fa.variantStyle===ca.style.variantStyle;)q+=1,fa=null===(W=b.at(q))||void 0===W?void 0:W.style;b.setSelection(f,q-1)}else b.setSelection(b.offsetOf(ca.firstSibling),b.offsetOf(ca.lastSibling))}return!0}function df(){var b;let f=document.activeElement;for(;null===(b=null==f?void 0:f.shadowRoot)||void 0===b?0:b.activeElement;)f=f.shadowRoot.activeElement;return f}
function xf(b){return!b.ctrlKey&&!b.metaKey&&"Dead"!==b.key&&(""===b.code||Mj.has(b.code))}function dg(b){const f=[];var q=b;if(!q.code){var D=Object.entries(Kg[0].mapping),J=!1,K=!1,W="";for(let ca=0;4>ca;ca++){for(const [fa,xa]of D)if(xa[ca]===q.key){W=fa;3===ca?(J=!0,K=!0):2===ca?J=!0:1===ca&&(K=!0);break}if(W)break}q=new KeyboardEvent(q.type,{...q,altKey:J,shiftKey:K,code:W})}return(b=q).ctrlKey&&f.push("ctrl"),b.metaKey&&f.push("meta"),b.altKey&&f.push("alt"),b.shiftKey&&f.push("shift"),0===
f.length?"["+b.code+"]":(f.push("["+b.code+"]"),f.join("+"))}function Ug(){var b;if(!m())return null;let f=document.activeElement;for(;null===(b=null==f?void 0:f.shadowRoot)||void 0===b?0:b.activeElement;)f=f.shadowRoot.activeElement;return f}function Bc(b){var f;if(!b)return"";let q;return"Unidentified"===b.key&&b.target&&(q=b.target.value),q=null!==(f=null!=q?q:b.key)&&void 0!==f?f:b.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(q)&&
(q=""),q}function Yd(b,f,q){let D,J;q.default&&(b.dataset.command=JSON.stringify(q.default));q.alt&&(b.dataset.commandAlt=JSON.stringify(q.alt));q.shift&&(b.dataset.commandShift=JSON.stringify(q.shift));q.pressed&&(b.dataset.commandPressed=JSON.stringify(q.pressed));q.pressAndHoldStart&&(b.dataset.commandPressAndHoldStart=JSON.stringify(q.pressAndHoldStart));q.pressAndHoldEnd&&(b.dataset.commandPressAndHoldEnd=JSON.stringify(q.pressAndHoldEnd));Dd(b,"pointerdown:passive",K=>{if(1===K.buttons){K.stopPropagation();
D=Date.now();b.classList.add("is-pressed");var W=K.target;W.hasPointerCapture(K.pointerId)&&W.releasePointerCapture(K.pointerId);(K=b.getAttribute("data-command-pressed"))&&f(JSON.parse(K));var ca=b.getAttribute("data-command-press-and-hold-start");ca&&(J&&clearTimeout(J),J=setTimeout(()=>{b.classList.contains("is-pressed")&&(b.classList.remove("is-pressed"),f(JSON.parse(ca)))},300))}});Dd(b,"pointerenter",K=>{const W=K.target;W.hasPointerCapture(K.pointerId)&&W.releasePointerCapture(K.pointerId);
1===K.buttons&&b.classList.add("is-pressed")});Dd(b,"pointercancel",()=>b.classList.remove("is-pressed"));Dd(b,"pointerleave",()=>b.classList.remove("is-pressed"));Dd(b,"pointerup",K=>{var W=b.classList.contains("is-pressed");b.classList.remove("is-pressed");b.classList.add("is-active");setTimeout(()=>b.classList.remove("is-active"),150);W=Date.now()>=D&&!W?b.getAttribute("data-command-press-and-hold-end"):null;!W&&K.altKey&&(W=b.getAttribute("data-command-alt"));!W&&K.shiftKey&&(W=b.getAttribute("data-command-shift"));
W||(W=b.getAttribute("data-command"));W&&f(JSON.parse(W));K.stopPropagation();K.preventDefault()})}function Ag(){var b;e();const f=document.querySelector("#mathlive-alternate-keys-panel");return f&&(f.classList.remove("is-visible"),f.innerHTML=""),null===(b=xh.scrim)||void 0===b||b.close(),!1}function Bg(b,f){b=b.replace(/(^|[^\\])#@/g,"$1#?");const q=ub(),D=new wc("root",q);return D.body=cb(b,q,{parseMode:"math",args:f}),Eb(fb(zb(new Zc(D.render(new de({registers:q.registers},{fontSize:5},"displaystyle")),
{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Jh(b,f,q){var D,J,K;let W="\x3cdiv class\x3d'left'\x3e";f=f.replace(/\s+/g," ").split(" ");if(1<f.length){const fa={...aj,...(null!==(D=b.customVirtualKeyboards)&&void 0!==D?D:{})};for(const xa of f){if(!fa[xa])break;W+="\x3cdiv class\x3d'";xa===q?W+="selected ":fa[xa].command?W+="action ":W+="layer-switch ";W+=(null!==(J=fa[xa].classes)&&void 0!==J?J:"")+"'";fa[xa].tooltip&&(W+="data-tooltip\x3d'"+(null!==(K=p(fa[xa].tooltip))&&
void 0!==K?K:fa[xa].tooltip)+"' ");xa!==q&&("string"==typeof fa[xa].command?W+=`data-command='"${fa[xa].command}"'`:Array.isArray(fa[xa].command)&&(W+=`data-command='${JSON.stringify(fa[xa].command)}'`),fa[xa].layer&&(W+="data-layer\x3d'"+fa[xa].layer+"'"));W+="\x3e"+fa[xa].label+"\x3c/div\x3e"}}W+="\x3c/div\x3e";b="default"===b.virtualKeyboardToolbar?["copyToClipboard","undo","redo"]:[];const ca={copyToClipboard:`\n            <div class='action'\n                data-command='"copyToClipboard"'\n                data-tooltip='${p("tooltip.copy to clipboard")}'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n        `,
undo:`\n            <div class='action disabled'\n                data-command='"undo"'\n                data-tooltip='${p("tooltip.undo")}'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n        `,redo:`\n            <div class='action disabled'\n                data-command='"redo"'\n                data-tooltip='${p("tooltip.redo")}'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        `};return 0<b.length&&(W+=`\n            <div class='right'>\n                ${b.map(fa=>
ca[fa]).join("")}\n            </div>\n        `),"\x3cdiv class\x3d'keyboard-toolbar' role\x3d'toolbar'\x3e"+W+"\x3c/div\x3e"}function Rh(b,f,q){var D,J;for(const K of f){let W;K.getAttribute("data-latex")?W=Bg(K.getAttribute("data-latex").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):K.getAttribute("data-insert")&&""===K.innerHTML?W=Bg(K.getAttribute("data-insert").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):K.getAttribute("data-content")&&(W=K.getAttribute("data-content").replace(/&quot;/g,'"'));
K.getAttribute("data-aside")&&(W=(null!=W?W:"")+"\x3caside\x3e"+K.getAttribute("data-aside").replace(/&quot;/g,'"')+"\x3c/aside\x3e");void 0!==W&&(K.innerHTML=b.options.createHTML(W));K.getAttribute("data-classes")&&K.classList.add(K.getAttribute("data-classes"));f=null===(D=K.getAttribute("data-insert"))||void 0===D?void 0:D.replace(/&quot;/g,'"');let ca;f&&Qh[f]&&(K.dataset.shifted=Qh[f][0],K.dataset.shiftedCommand=JSON.stringify(["insertAndUnshiftKeyboardLayer",Qh[f][1]]));if(f=K.getAttribute("data-command"))if(/^[a-zA-Z]+$/.test(f))ca=
f;else try{ca=JSON.parse(f)}catch(fa){}else ca=K.getAttribute("data-insert")?["insert",K.getAttribute("data-insert"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:K.getAttribute("data-latex")?["insert",K.getAttribute("data-latex"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:["typedText",null!==(J=K.getAttribute("data-key"))&&void 0!==J?J:K.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}];if(ca){q&&(ca=[q,ca]);f={default:ca};
const fa=K.getAttribute("data-alt-keys");fa&&Pe[fa]&&(f={default:ca,pressAndHoldStart:["showAlternateKeys",fa],pressAndHoldEnd:"hideAlternateKeys"});Yd(K,xa=>b.executeCommand(xa),f)}}}function Ya(b,f){var q,D,J,K;const W={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.\x3d+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~",
"upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}};
var ca=b.virtualKeyboardLayout;if("auto"===ca){var fa=Kg[0];fa&&(ca=fa.virtualLayout);ca&&"auto"!==ca||(ca=null!==(q={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Be.locale.slice(0,2)])&&void 0!==q?q:"qwerty")}q=null!==(D=W[ca])&&void 0!==D?D:W.qwerty;D=f.replace(/<arrows\/>/g,'\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","moveToPreviousChar"]\'\n            data-shifted\x3d\'\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-angle-double-left" /\x3e\x3c/svg\x3e\'\n            data-shifted-command\x3d\'["performWithFeedback","extendToPreviousChar"]\'\x3e\n            \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-arrow-left\' /\x3e\x3c/svg\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","moveToNextChar"]\'\n            data-shifted\x3d\'\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-angle-double-right" /\x3e\x3c/svg\x3e\'\n            data-shifted-command\x3d\'["performWithFeedback","extendToNextChar"]\'\x3e\n            \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-arrow-right\' /\x3e\x3c/svg\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","commit"]\'\x3e\n        \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-commit\' /\x3e\x3c/svg\x3e\x3c/li\x3e');
for(ca=D.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);ca;){f="";var xa=ca[2].match(/[a-zA-Z][a-zA-Z\d-]*=(['"])(.*?)\1/g);fa={};if(xa)for(const ra of xa)(xa=ra.match(/([a-zA-Z][a-zA-Z\d-]*)=(['"])(.*?)\2/))&&(fa[xa[1]]=xa[3]);xa=q[fa.name];if(xa||(xa=W.qwerty[fa.name]),xa)for(const ra of xa){let Na=null!==(J=fa.class)&&void 0!==J?J:"";Na&&(Na=` ${Na}`);"~"===ra?(f+="\x3cli class\x3d'action font-glyph bottom right ",f+=10==xa.length-(xa.match(/ /g)||[]).length/2?"w10":"w15",f+='\' data-shifted\x3d\'\x3cspan class\x3d"warning"\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-trash" /\x3e\x3c/svg\x3e\x3c/span\x3e\'\n                        data-shifted-command\x3d\'"deleteAll"\'\n                        data-alt-keys\x3d\'delete\' data-command\x3d\'["performWithFeedback","deleteBackward"]\'\n                        \x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-delete-backward" /\x3e\x3c/svg\x3e\x3c/li\x3e'):
" "===ra?f+="\x3cli class\x3d'separator w5'\x3e\x3c/li\x3e":"^"===ra?f+="\x3cli class\x3d'shift modifier font-glyph bottom left w15 layer-switch' data-layer\x3d'"+fa["shift-layer"]+'\'\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-shift" /\x3e\x3c/svg\x3e\x3c/li\x3e':"/"===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'/' data-insert\x3d'\\frac{#@}{#?}'\x3e\x26divide;\x3c/li\x3e":"*"===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'*' data-insert\x3d'\\times '\x3e\x26times;\x3c/li\x3e":
"-"===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'-' data-key\x3d'-'\x3e\x26#x2212;\x3c/li\x3e":"."===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'.' data-command\x3d'\"insertDecimalSeparator\"'\x3e"+(null!==(K=b.decimalSeparator)&&void 0!==K?K:".")+"\x3c/li\x3e":Na.includes("tt")?f+=`<li class='keycap${Na}' data-alt-keys='${ra}' data-command='["typedText","${ra}",{"mode":"latex", "focus":true, "feedback":true}]'>${ra}</li>`:f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'"+
ra+"'\x3e"+ra+"\x3c/li\x3e"}D=D.replace(new RegExp(ca[1]+ca[2]+ca[3]),f);ca=D.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return D}function yf(b){Ag();var f=b.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(f)for(const q of f)(f=q.getAttribute("data-unshifted-content"))&&(q.innerHTML=b.options.createHTML(f),q.dataset.unshiftedContent=""),(f=q.getAttribute("data-unshifted-command"))&&(q.dataset.command=f,q.dataset.unshiftedCommand=
"");return!1}function ig(b){return Object.keys(b).map(f=>`${f} {${(function(q){return"string"==typeof q?q:Object.entries(q).map(([D,J])=>`${D}:${J} !important`).join(";")})(b[f])}}`).join("")}function ze(b,f){zf(b);Ag();yf(b);const q=null==b?void 0:b.element.querySelectorAll(".keyboard-layer");let D=!1;for(const J of q)if(J.dataset.layer===f){D=!0;break}if(D)for(const J of q)J.dataset.layer===f?J.classList.add("is-visible"):J.classList.remove("is-visible");return b.focusMathfield(),!0}function zf(b,
f=""){const q=b.options.virtualKeyboardContainer;if(!q)return!1;(b.element?b.element.classList.add("is-visible"):b.buildAndAttachElement(f),b.visible)||(f=Ze(),f.visibleVirtualKeyboard&&Kh(f.visibleVirtualKeyboard),f.visibleVirtualKeyboard=b,f=q.style.paddingBottom,b.originalContainerBottomPadding=f,q.style.paddingBottom=f?`calc(${f} + var(--keyboard-height, 276px) - 1px)`:"calc(var(--keyboard-height, 276px) - 1px)");return setTimeout(()=>{var D;null===(D=b.element)||void 0===D||D.classList.add("is-visible");
b.focusMathfield()},1),b.visible=!0,b.stateChanged(),!1}function Kh(b){var f,q,D;const J=b.options.virtualKeyboardContainer;return!!J&&(b.element&&(Ze().visibleVirtualKeyboard=void 0,b.disable(),Ag(),b.visible=!1,null===(f=b.coreStylesheet)||void 0===f||f.release(),b.coreStylesheet=null,null===(q=b.virtualKeyboardStylesheet)||void 0===q||q.release(),b.virtualKeyboardStylesheet=null,null===(D=b._element)||void 0===D||D.remove(),b._element=void 0,null!==b.originalContainerBottomPadding&&(J.style.paddingBottom=
b.originalContainerBottomPadding)),b.visible=!1,b.stateChanged(),!1)}function Wf(b,f,q){"function"==typeof f&&(q=f,f=1/0);void 0===f&&(f=1/0);let D=b.position,J=!1,K="";for(;!J;){const W=b.at(D);(J=0===f||void 0===W||"math"!==W.mode||!(/mord|textord|mpunct/.test(W.type)||"mop"===W.type&&/[a-zA-Z]+/.test(W.value))||!W.hasEmptyBranch("superscript")||!W.hasEmptyBranch("subscript")||"function"==typeof q&&!q(W))||(W.mode="text",W.command=W.value,W.verbatimLatex=void 0,K+=W.value);--D;--f}Hb(b,{data:K,
inputType:"insertText"})}function eg(b,f,q){"function"==typeof f&&(q=f,f=1/0);void 0===f&&(f=1/0);let D=b.position,J=!1;const K=[];for(;!J;){const W=b.at(D);(J=0===f||!W||W.isFirstSibling||"text"!==W.mode||" "===W.value||q&&!q(W))||(K.push(W.serialize({defaultMode:"math"})),W.mode="math");--D;--f}Sh(b);Hb(b,{data:sa(K),inputType:"insertText"})}function Sh(b){var f;let q=b.position-1;for(;0<=q&&"math"===(null===(f=b.at(q))||void 0===f?void 0:f.mode);)--q;0>q||"text"!==b.at(q).mode||" "!==b.at(q).value||
"math"!==b.at(q-1).mode||(b.at(q-1).parent.removeChild(b.at(q-1)),f=b.suppressChangeNotifications,b.suppressChangeNotifications=!0,--b.position,b.suppressChangeNotifications=f,Hb(b,{inputType:"deleteContent"}))}function jf(b){return b.keystrokeCaption||(b.keystrokeCaption=Hf("mathlive-keystroke-caption-panel"),void 0===jj&&(jj=Zd("#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme\x3ddark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel\x3espan{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}").toString(36)),
Ni=Ie(null,"#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme\x3ddark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel\x3espan{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}",
jj),vj=Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36))),
b.keystrokeCaption}function Ge(b){if(b){for(let f=0;b[f];f++){const q=b[f];if(q instanceof rf&&"("===q.leftDelim){let D=0,J=0,K=0;for(let W=0;q.body[W];W++)"genfrac"===q.body[W].type&&(D++,J=W),K++;0===K&&1===D&&(b[f]=q.body[J])}}for(const f of b){for(const q of f.branches)f.hasEmptyBranch(q)||(Ge(f.branch(q)),(b=f.branch(q))?1<b.length?b=null:(b=b[0],b=b instanceof rf&&"("===b.leftDelim&&")"===b.rightDelim?b.removeBranch("body"):null):b=null,b&&f.setChildren(b,q));if(f instanceof $e)for(const q of f.cells)Ge(q)}}}
function Th(b){if(!b)return[];const f=[];for(const q of b){for(const D of q.branches)q.hasEmptyBranch(D)||(b=Th(q.branch(D)),f.push(...b));q instanceof of&&f.push(q)}return f}function bg(b){return!!/^(mord|surd|msubsup|leftright|mop|mclose)$/.test(b.type)&&!b.isExtensibleSymbol&&!b.isFunction}function Fg(b,f,q){var D=b.at(b.position);const {parent:J}=D;var K=J instanceof rf?J.leftDelim+J.rightDelim:"";if("\\lbrace\\rbrace"===K&&(K="{}"),"\\{\\}"===K&&(K="{}"),"\\lparen\\rparen"===K&&(K="()"),"{}"===
K&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(f))return Ce.insert("math",b,"\\,\\middle"+f+"\\, ",{format:"latex",style:q}),!0;if("{"!==f&&"\\{"!==f||(f="\\lbrace"),"}"!==f&&"\\}"!==f||(f="\\rbrace"),"["===f&&(f="\\lbrack"),"]"===f&&(f="\\rbrack"),wh[f]){if("leftright"===J.type&&J.firstChild===D&&("?"===J.leftDelim||"."===J.leftDelim))return J.leftDelim=f,J.isDirty=!0,!0;if(!(J instanceof rf&&"|"===J.leftDelim)){if(Ce.insert("math",b,`\\left${f}\\right?`,{format:"latex",style:q}),"first"!==D.lastSibling.type)q=
b.offsetOf(D.lastSibling),q=b.extractAtoms([b.position,q]),b.at(b.position).body=q,--b.position;return!0}}let W="";if(Object.keys(wh).forEach(fa=>{f===wh[fa]&&(W=fa)}),W){if(J instanceof rf&&D.isLastSibling)return J.isDirty=!0,J.rightDelim=f,b.position+=1,Hb(b,{data:f,inputType:"insertText"}),!0;K=b.offsetOf(D.firstSibling);let fa;for(fa=b.position;fa>=K;fa--){var ca=b.at(fa);if(ca instanceof rf&&"?"===ca.rightDelim)break}ca=b.at(fa);if(fa>=K&&ca instanceof rf)return ca.rightDelim=f,ca.addChildren(b.extractAtoms([fa,
b.position]),D.treeBranch),b.position=fa,Hb(b,{data:f,inputType:"insertText"}),!0;if(J instanceof rf&&"?"===J.rightDelim)return J.isDirty=!0,J.rightDelim=f,J.parent.addChildren(b.extractAtoms([b.position,b.offsetOf(D.lastSibling)]),J.treeBranch),b.position=b.offsetOf(J),Hb(b,{data:f,inputType:"insertText"}),!0;D=J.parent;return!!(D instanceof rf&&"?"===D.rightDelim&&b.at(b.position).isLastSibling)&&(b.position=b.offsetOf(D),Fg(b,f,q))}return!1}function Uh(b,f,q){var D,J,K,W;const {model:ca}=b;!function(Ua){var db,
vb;if(Ua&&"Unidentified"!==Ua.key&&"Dead"!==Ua.key){var Qb=Ua.shiftKey&&Ua.altKey?3:Ua.altKey?2:Ua.shiftKey?1:0;for(const Xb of Kg)(null===(db=Xb.mapping[Ua.code])||void 0===db?void 0:db[Qb])===Ua.key?Xb.score+=1:(null===(vb=Xb.mapping[Ua.code])||void 0===vb?0:vb[Qb])&&(Xb.score=0);Kg.sort((Xb,sc)=>sc.score-Xb.score)}}(q);var fa=Kg[0];if(b.keyboardLayout!==fa.id&&(b.keyboardLayout=fa.id,b._keybindings=void 0),clearTimeout(b.inlineShortcutBufferFlushTimer),b.inlineShortcutBufferFlushTimer=0,function(Ua,
db){if(!Ua.options.readOnly&&Ua.keystrokeCaptionVisible){var vb=jf(Ua),Qb=Ua.element.getBoundingClientRect();vb.style.left=`${Qb.left}px`;vb.style.top=Qb.top-64+"px";vb.innerHTML=Ua.options.createHTML("\x3cspan\x3e"+(ob(db)||db)+"\x3c/span\x3e"+vb.innerHTML);vb.style.visibility="visible";setTimeout(()=>{0<vb.childNodes.length&&vb.childNodes[vb.childNodes.length-1].remove();0===vb.childNodes.length&&(vb.style.visibility="hidden")},3E3)}}(b,f),q.defaultPrevented)return b.flushInlineShortcutBuffer(),
!1;let xa;fa="";if(!b.options.readOnly){if("math"===b.mode&&!q.ctrlKey&&!q.metaKey)if("[Backspace]"===f)b.inlineShortcutBuffer.pop(),b.flushInlineShortcutBuffer({defer:!0});else if(xf(q)){const Ua=Bc(q);var ra=(null!==(J=null===(D=b.inlineShortcutBuffer[b.inlineShortcutBuffer.length-1])||void 0===D?void 0:D.keystrokes)&&void 0!==J?J:"")+Ua;b.inlineShortcutBuffer.push({state:ca.getState(),keystrokes:ra,leftSiblings:Ri(b)});D=0;for(J="";!xa&&D<ra.length;){var Na=b.inlineShortcutBuffer.length-(ra.length-
D);J=ra.slice(D);xa=Qc(b.inlineShortcutBuffer[Na].leftSiblings,J,b.options.inlineShortcuts);!xa&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(J)&&(xa=b.options.onInlineShortcut(b,J));D+=1}b.flushInlineShortcutBuffer({defer:!0})}else b.flushInlineShortcutBuffer(),b.snapshot();b.options.smartMode&&(ra=b.mode,xa?b.mode="math":function(Ua,db,vb){if(Ua.smartModeSuppressed)return!1;const {model:Qb}=Ua;if(!Qb.at(Qb.position).isLastSibling||!vb||!xf(vb))return!1;vb=Bc(vb);if(!Qb.selectionIsCollapsed)return!("text"!==
Ua.mode||!/[/_^]/.test(vb));const Xb=function(sc){let qc="",pd=sc.position,id=!1;for(;!id;){const Vd=sc.at(pd);(id=!(Vd&&("text"===Vd.mode||"math"===Vd.mode&&/mord|textord|mpunct/.test(Vd.type))))||(qc=Vd.value+qc);--pd}return qc}(Qb)+vb;if("text"===Ua.mode){if("Esc"===db||/[/\\]/.test(vb))return!0;if(/[\^_]/.test(vb))return/(^|\s)[a-zA-Z][^_]$/.test(Xb)&&eg(Qb,1),!0;Ua={")":"(","}":"{","]":"["}[vb];({parent:db}=Qb.at(Qb.position));if(Ua&&db instanceof rf&&db.leftDelim===Ua)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(Xb))return!1;
if(/[$\u20ac\xa3\u20a4\u20ba\xa5\xa4\u0e3f\xa2\u20a1\u20a7\u20a8\u20b9\u20a9\u20b1]/u.test(vb))return!0;if(/(^|[^a-zA-Z'\u2019])[a-zA-Z] $/.test(Xb))return eg(Qb,1),!1;if(/\D\.[^\d\s]$/.test(Xb))return eg(Qb,1),vb=Qb.at(Qb.position),vb.value="⋅",vb.style.variant="normal",vb.command="\\cdot",vb.verbatimLatex=void 0,Hb(Qb,{data:"\\cdot",inputType:"insertText"}),!0;if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(Xb)||/\.\d$/.test(Xb)||/\([\d+\-.]$/.test(Xb))return eg(Qb,1),!0;if(/\([a-z][,;]$/.test(Xb))return eg(Qb,
2),!0;if(/[\d+\-=><*|]$/.test(vb))return Sh(Qb),!0}else{if("[Space]"===db)return Wf(Qb,void 0,sc=>/[a-z][:,;.]$/.test(sc.value)),!0;if(/[a-zA-Z]{3,}$/.test(Xb)&&!/(dxd|abc|xyz|uvw)$/.test(Xb))return Wf(Qb,void 0,sc=>/[a-zA-Z]/.test(sc.value)),!0;if(/(^|\W)(if)$/i.test(Xb))return Wf(Qb,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(Xb)&&!/(\u03b1\u03b2\u03b3)$/.test(Xb))return Wf(Qb,void 0,sc=>
/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(sc.value)),!0;if("?"===vb||"."===vb&&!/[\d-+]\.$/.test(Xb))return!0}return!1}(b,f,q)&&(b.mode={math:"text",text:"math"}[b.mode],fa=""),b.mode!==ra&&((null===(K=b.host)||void 0===K?0:K.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0})))||(b.mode=ra)))}if(!xa){if(fa||(fa=function(Ua,db,vb){if(0===Ua.length)return"";vb=Lc(ve(vb));
for(let Qb=Ua.length-1;0<=Qb;Qb--)if(Ua[Qb].key===vb&&(!Ua[Qb].ifMode||Ua[Qb].ifMode===db))return Ua[Qb].command;return""}(b.keybindings,b.mode,f)),!fa&&("[Enter]"===f||"[Return]"===f))return Na=!1,Fb(ca,{inputType:"insertLineBreak"})&&(b.host&&(Na=!b.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),Na||q.preventDefault&&(q.preventDefault(),q.stopPropagation()),Hb(ca,{inputType:"insertLineBreak"})),Na;if("math"===b.mode){if("[Space]"===f){if(b.flushInlineShortcutBuffer(),b.options.mathModeSpace)return b.snapshot(),
Ce.insert("math",ca,b.options.mathModeSpace,{format:"latex"}),fa="",b.dirty=!0,b.scrollIntoView(),q.preventDefault&&(q.preventDefault(),q.stopPropagation()),!1;f=ca.at(ca.position+1);K=ca.at(ca.position-1);"text"!==(null==f?void 0:f.mode)&&"text"!==(null==K?void 0:K.mode)||(b.snapshot(),Ce.insert("text",ca," "),b.dirty=!0)}(null===(W=ca.at(ca.position))||void 0===W?0:W.isDigit())&&","===b.options.decimalSeparator&&","===Bc(q)&&(fa="insertDecimalSeparator")}}if(!xa&&!fa)return!0;W=ca.at(Math.max(ca.position,
ca.anchor));({parent:f}=W);if("moveAfterParent"===fa&&"leftright"===(null==f?void 0:f.type)&&W.isLastSibling&&b.options.smartFence&&Fg(ca,".",b.style)&&(fa="",bc(b)),fa)b.executeCommand(fa);else if(xa){b.keyboardDelegate.cancelComposition();const Ua={...ca.at(ca.position).computedStyle,...b.style};/^\\({|}|\[|]|@|#|\$|%|&|\^|_|backslash)$/.test(xa)||(fa=b.mode,Ce.insert(b.mode,ca,Bc(q),{suppressChangeNotifications:!0,style:Ua}),b.snapshot(),ca.setState(b.inlineShortcutBuffer[Na].state),b.mode=fa);
ca.deferNotifications({content:!0,selection:!0,data:null!=xa?xa:null,type:"insertText"},()=>(Ce.insert(b.mode,ca,xa,{format:"latex",style:Ua}),Sh(b.model),xa.endsWith(" ")&&(b.mode="text",Ce.insert("text",ca," ",{style:Ua})),!0));b.snapshot();b.dirty=!0;ca.announce("replacement")}return b.scrollIntoView(),q.preventDefault&&q.preventDefault(),!1}function jh(b,f,q){var D;const {model:J}=b;if(b.options.readOnly)return void J.announce("plonk");if((q=null!=q?q:{}).focus&&b.focus(),q.feedback&&(b.options.keypressVibration&&
h()&&navigator.vibrate(3),b.playSound("keypress")),"string"==typeof q.mode&&b.switchMode(q.mode),q.simulateKeystroke){q=f.charAt(0);var K=new KeyboardEvent("keypress",{key:q});if(!Uh(b,q,K))return}q=J.at(J.position);K={...q.computedStyle,...b.style};J.selectionIsCollapsed||(J.deleteAtoms(dc(J.selection)),b.snapshot());const W=L(f);if("latex"===b.mode)J.deferNotifications({content:!0,selection:!0,data:f,type:"insertText"},()=>{pc(b);for(const ca of W)Ce.insert("latex",J,ca);ad(b)});else if("text"===
b.mode)for(const ca of W)Ce.insert("text",J,ca,{style:K});else if("math"===b.mode)for(const ca of W)f={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[ca]," "===ca&&b.options.mathModeSpace&&(f=["insert",b.options.mathModeSpace]),f?b.executeCommand(f):/\d/.test(ca)&&b.options.smartSuperscript&&"superscript"===q.treeBranch&&"mop"!==(null===(D=q.parent)||void 0===D?void 0:D.type)&&q.hasNoSiblings?(Ce.insert("math",J,ca,{style:K}),Wd(J)):("mord"===q.type&&/[a-zA-Z]/.test(q.value)&&
/[a-zA-Z]/.test(ca)&&(q.style.variant&&(K.variant=q.style.variant),q.style.variantStyle&&(K.variantStyle=q.style.variantStyle)),Ce.insert("math",J,ca,{style:K}));b.snapshotAndCoalesce();b.dirty=!0;b.scrollIntoView()}function Ri(b){var f=b.model;b=[];for(f=f.at(Math.min(f.position,f.anchor));"first"!==f.type;)b.push(f),f=f.leftSibling;return b}function Kf(b,f){var q,D,J,K,W,ca;const fa={};"string"==typeof f.color&&(fa.verbatimColor=f.color,fa.color=null!==(q=b.colorMap(f.color))&&void 0!==q?q:"none");
"string"==typeof f.backgroundColor&&(fa.verbatimBackgroundColor=f.backgroundColor,fa.backgroundColor=null!==(D=b.backgroundColorMap(f.backgroundColor))&&void 0!==D?D:"none");"string"==typeof f.fontFamily&&(fa.fontFamily=f.fontFamily);"string"==typeof f.series&&(fa.fontSeries=f.series);"string"==typeof f.fontSeries&&(fa.fontSeries=f.fontSeries.toLowerCase());fa.fontSeries&&(fa.fontSeries=null!==(J={bold:"b",medium:"m",normal:"m"}[fa.fontSeries])&&void 0!==J?J:fa.fontSeries);"string"==typeof f.shape&&
(fa.fontShape=f.shape);"string"==typeof f.fontShape&&(fa.fontShape=f.fontShape.toLowerCase());fa.fontShape&&(fa.fontShape=null!==(K={italic:"it",up:"n",upright:"n",normal:"n"}[fa.fontShape])&&void 0!==K?K:fa.fontShape);b=null!==(W=f.size)&&void 0!==W?W:f.fontSize;return"number"==typeof b?fa.fontSize=Math.max(1,Math.min(10,b)):"string"==typeof b&&(fa.fontSize=null!==(ca={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[b.toLowerCase()])&&void 0!==ca?ca:{tiny:1,scriptsize:2,
footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[b]),fa}function ib(b){return m()&&"TouchEvent"in globalThis&&b instanceof TouchEvent}function Ah(b){return m()&&"PointerEvent"in globalThis&&b instanceof PointerEvent}function Vh(b,f,q,D,J){if(!q.id)return[1/0,null];if(f.has(q.id))return f.get(q.id);const K=hf(b,q);if(!K)return[1/0,null];let W=[1/0,null];if(q.hasChildren&&!q.captureSelection&&D>=K.left&&D<=K.right)for(const ca of q.children){const fa=Vh(b,f,ca,D,
J);fa[0]<=W[0]&&(W=fa)}W[1]||(D>=K.left&&D<=K.right&&J>=K.top&&J<=K.bottom?J=0:(b=D-(K.left+K.right)/2,J-=(K.top+K.bottom)/2,J=b*b+J*J),W=[J,q]);return f.set(q.id,W),W}function qf(b,f,q,D){var J,K=b.fieldContent.getBoundingClientRect();if(f>K.right||q>K.bottom+8)return b.model.lastOffset;if(f<K.left||q<K.top-8)return 0;(D=null!=D?D:{}).bias=null!==(J=D.bias)&&void 0!==J?J:0;[,q]=Vh(b,new Map,b.model.root,f,q);J=[];for(K=q;K;)J.unshift(K),K=K.parent;for(var W of J)if(W.captureSelection){q=W;break}W=
b.model.offsetOf(q);if(0>W)return-1;q.leftSibling&&(0===D.bias&&"placeholder"!==q.type?(D=hf(b,q))&&f<(D.left+D.right)/2&&(W=b.model.offsetOf(q.leftSibling)):0>D.bias&&(W=b.model.offsetOf(q.leftSibling)));return W}function Df(b){if("object"!=typeof b)return{};const f={};return b.fontsDirectory&&(f.fontsDirectory=b.fontsDirectory),b.soundsDirectory&&(f.soundsDirectory=b.soundsDirectory),b.virtualKeyboards&&(f.virtualKeyboards=b.virtualKeyboards),b.virtualKeyboardLayout&&(f.virtualKeyboardLayout=b.virtualKeyboardLayout),
b.customVirtualKeyboardLayers&&(f.customVirtualKeyboardLayers=b.customVirtualKeyboardLayers),b.customVirtualKeyboards&&(f.customVirtualKeyboards=b.customVirtualKeyboards),b.virtualKeyboardTheme&&(f.virtualKeyboardTheme=b.virtualKeyboardTheme),b.keypressVibration&&(f.keypressVibration=b.keypressVibration),b.keypressSound&&(f.keypressSound=b.keypressSound),b.plonkSound&&(f.plonkSound=b.plonkSound),b.virtualKeyboardToolbar&&(f.virtualKeyboardToolbar=b.virtualKeyboardToolbar),b.targetOrigin&&(f.targetOrigin=
b.targetOrigin),b.originValidator&&(f.originValidator=b.originValidator),f}function nf(b){return b.toLowerCase().replace(/[^a-zA-Z\d]+(.)/g,(f,q)=>q.toUpperCase())}function Vg(b){const f={},q=hg.optionsAttributes;return Object.keys(q).forEach(D=>{if(b.hasAttribute(D)){const J=b.getAttribute(D);"boolean"===q[D]?f[nf(D)]=!0:"on/off"===q[D]?f[nf(D)]="on"===J||"off"!==J&&void 0:"number"===q[D]?f[nf(D)]=Number.parseFloat(null!=J?J:"0"):f[nf(D)]=J}else"boolean"===q[D]&&(f[nf(D)]=!1)}),f}function Cg(b,f,
q,D,J="latex"){const K=[];for(const fa of b)if("text"===fa.type){b=fa.data;let xa,ra=!0,Na=0;xa=b.indexOf(f);for(-1!==xa&&(Na=xa,0<Na&&K.push({type:"text",data:b.slice(0,Na)}),ra=!1);;){if(ra){if(xa=b.indexOf(f,Na),-1===xa)break;Na!==xa&&K.push({type:"text",data:b.slice(Na,xa)});Na=xa}else{a:{var W=q;var ca=b;let Ua=Na+f.length,db=0;const vb=W.length;for(;Ua<ca.length;){const Qb=ca[Ua];if(0>=db&&ca.slice(Ua,Ua+vb)===W){W=Ua;break a}"\\"===Qb?Ua++:"{"===Qb?db++:"}"===Qb&&db--;Ua++}W=-1}if(xa=W,-1===
xa)break;W=b.slice(Na+f.length,xa);"ascii-math"===J&&([,W]=Fd(W,{format:"ascii-math"}));K.push({type:"math",data:W,rawData:b.slice(Na,xa+q.length),mathstyle:D});Na=xa+q.length}ra=!ra}Na<b.length&&K.push({type:"text",data:b.slice(Na)})}else K.push(fa);return K}function Gg(b,f,q){let D=[{type:"text",data:b}];return(null==f?void 0:f.inline)&&f.inline.forEach(([J,K])=>{D=Cg(D,J,K,"textstyle")}),(null==f?void 0:f.display)&&f.display.forEach(([J,K])=>{D=Cg(D,J,K,"displaystyle")}),(null==q?void 0:q.inline)&&
q.inline.forEach(([J,K])=>{D=Cg(D,J,K,"textstyle","ascii-math")}),(null==q?void 0:q.display)&&q.display.forEach(([J,K])=>{D=Cg(D,J,K,"displaystyle","ascii-math")}),D}function fg(b,f,q,D){var J;f=function(K,W,ca,fa){e();try{const xa=W.renderToMarkup(K,{mathstyle:ca,format:"html"}),ra=document.createElement("displaystyle"===ca?"div":"span");return ra.setAttribute("aria-hidden","true"),ra.innerHTML=W.createHTML?W.createHTML(xa):xa,ra}catch(xa){if(fa)return document.createTextNode(K)}return null}(b,q,
f||"displaystyle",D);D=null!==(J=q.renderAccessibleContent)&&void 0!==J?J:"";if(f&&/\b(mathml|speakable-text)\b/i.test(D)){e();J=document.createElement("span");if(/\bmathml\b/i.test(D)&&q.renderToMathML&&J.append(function(K,W){e();const ca=document.createElement("span");try{const fa="\x3cmath xmlns\x3d'http://www.w3.org/1998/Math/MathML'\x3e"+W.renderToMathML(K)+"\x3c/math\x3e";ca.innerHTML=W.createHTML?W.createHTML(fa):fa}catch(fa){ca.textContent=K}return ca.className="ML__sr-only",ca}(b,q)),/\bspeakable-text\b/i.test(D)&&
q.renderToSpeakableText)D=document.createElement("span"),b=q.renderToSpeakableText(b,q),D.innerHTML=q.createHTML?q.createHTML(b):b,D.className="ML__sr-only",J.append(D);return J.append(f),J}return f}function pg(b,f){var q,D,J,K,W,ca,fa,xa,ra,Na,Ua,db,vb,Qb,Xb,sc;if(1===b.childNodes.length&&3===b.childNodes[0].nodeType){var qc=null!==(q=b.childNodes[0].textContent)&&void 0!==q?q:"";if((null===(D=f.TeX)||void 0===D?0:D.processEnvironments)&&/^\s*\\begin/.test(qc))return b.textContent="",f=fg(qc,"",
f,!0),void(f&&b.append(f));q=Gg(qc,null===(J=f.TeX)||void 0===J?void 0:J.delimiters,null===(K=f.asciiMath)||void 0===K?void 0:K.delimiters);if(1===q.length&&"math"===q[0].type)return b.textContent="",f=fg(q[0].data,"textstyle"===q[0].mathstyle?"textstyle":"displaystyle",f,!0),void(f&&b.append(f));if(1===q.length&&"text"===q[0].type)return}for(J=b.childNodes.length-1;0<=J;J--)if(K=b.childNodes[J],3===K.nodeType){a:{var pd=qc=D=void 0,id=null!==(W=K.textContent)&&void 0!==W?W:"";q=f;e();if((null===
(pd=q.TeX)||void 0===pd?0:pd.processEnvironments)&&/^\s*\\begin/.test(id))D=document.createDocumentFragment(),(q=fg(id,"",q,!0))&&D.appendChild(q);else{if(!id.trim()){q=null;break a}id=Gg(id,null===(qc=q.TeX)||void 0===qc?void 0:qc.delimiters,null===(D=q.asciiMath)||void 0===D?void 0:D.delimiters);if(1===id.length&&"text"===id[0].type){q=null;break a}D=document.createDocumentFragment();for(const Vd of id)"text"===Vd.type?D.appendChild(document.createTextNode(Vd.data)):(qc=fg(Vd.data,"textstyle"===
Vd.mathstyle?"textstyle":"displaystyle",q,!0))&&D.appendChild(qc)}q=D}q&&(J+=q.childNodes.length-1,K.replaceWith(q))}else if(1===K.nodeType)if(q=K,D=K.nodeName.toLowerCase(),"script"===D){let Vd;if(null===(ca=f.processScriptTypePattern)||void 0===ca?0:ca.test(K.type))Vd=null!==(fa=K.textContent)&&void 0!==fa?fa:"";else if(null===(xa=f.processMathJSONScriptTypePattern)||void 0===xa?0:xa.test(K.type))try{Vd=null===(ra=f.serializeToLatex)||void 0===ra?void 0:ra.call(f,JSON.parse(null!==(Na=K.textContent)&&
void 0!==Na?Na:""))}catch(tf){}if(Vd){q="displaystyle";for(const tf of K.type.split(";")){const [pf,uf]=tf.toLowerCase().split("\x3d");"mode"===pf.trim()&&(q="display"===uf.trim()?"displaystyle":"textstyle")}(q=fg(Vd,q,f,!0))&&K.parentNode.replaceChild(q,K)}}else if(null!==(db=null===(Ua=f.processClassPattern)||void 0===Ua?void 0:Ua.test(q.className))&&void 0!==db&&db||!(null!==(Qb=null===(vb=f.skipTags)||void 0===vb?void 0:vb.includes(D))&&void 0!==Qb&&Qb||null!==(sc=null===(Xb=f.ignoreClassPattern)||
void 0===Xb?void 0:Xb.test(q.className))&&void 0!==sc&&sc))1===b.childNodes.length&&3===b.childNodes[0].nodeType?(K=b.textContent,b.textContent="",(K=fg(null!=K?K:"","displaystyle",f,!0))&&b.append(K)):pg(q,f)}function qg(b,f){var q,D,J,K;try{f={...Ik,...f},f.ignoreClassPattern=new RegExp(null!==(q=f.ignoreClass)&&void 0!==q?q:""),f.processClassPattern=new RegExp(null!==(D=f.processClass)&&void 0!==D?D:""),f.processScriptTypePattern=new RegExp(null!==(J=f.processScriptType)&&void 0!==J?J:""),f.processMathJSONScriptTypePattern=
new RegExp(null!==(K=f.processMathJSONScriptType)&&void 0!==K?K:""),null!==f.fontsDirectory&&cc(f.fontsDirectory),Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)),
pg(b,f)}catch(W){Error}}function Mc(b,f,q=3E3,D="$0"){for(const J of f)Tf[J]&&(Tf[J].frequency=q,Tf[J].category=b,Tf[J].template=D.replace(/\$0/g,J)),Mf[J]&&(Mf[J]={...Mf[J],frequency:q,category:b,template:D.replace(/\$0/g,J)})}function Ze(){var b,f;return null!==(b=globalThis[f=Symbol.for("io.cortexjs.mathlive")])&&void 0!==b||(globalThis[f]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}function kh(b,f){var q;(f=null!=f?f:{}).mathstyle=null!==(q=f.mathstyle)&&void 0!==q?q:"displaystyle";q=ub();
const D=new wc("root",q);D.body=cb(b,q,{parseMode:"math",mathstyle:f.mathstyle});return(b=D.render(new de({registers:q.registers,renderPlaceholder:()=>new Zc(160,{maxFontSize:1})},{fontSize:5,letterShapeStyle:q.letterShapeStyle},f.mathstyle)))?(zb(b),fb(b),Eb(b,{classes:"ML__mathlive"}).toMarkup()):""}function lh(b,f={}){return sd(cb(b,ub(),{parseMode:"math",args:()=>"",mathstyle:"displaystyle"}),f)}function xg(b,f={}){return Sc(cb(b,ub(),{parseMode:"math",mathstyle:"displaystyle"}),f)}function Si(b){var f,
q;if(!ci){const D=null===(f=globalThis[Symbol.for("io.cortexjs.compute-engine")])||void 0===f?void 0:f.ComputeEngine;D&&(ci=new D)}return null!==(q=null==ci?void 0:ci.box(b).latex)&&void 0!==q?q:""}function Wg(b,f){var q,D,J,K;if("string"==typeof b&&m()){const W=document.getElementById(b);if(null===W)throw Error(`The element with ID "${b}" could not be found.`);b=W}else b="string"==typeof b?null:b;b&&(f=null!=f?f:{},null!==(q=f.renderToMarkup)&&void 0!==q||(f.renderToMarkup=kh),null!==(D=f.renderToMathML)&&
void 0!==D||(f.renderToMathML=lh),null!==(J=f.renderToSpeakableText)&&void 0!==J||(f.renderToSpeakableText=xg),null!==(K=f.serializeToLatex)&&void 0!==K||(f.serializeToLatex=Si),qg(b,f))}const Be={strings:{en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard",
"tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows",
"menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"مهام","keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.command":"حالة تلقي الأوامر اللاتك","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.roman":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة",
"tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.insert vector":"أدخل متجه","submenu.array.matrix delimiters":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة",
"menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","submenu.array.insert separator":"أدخل فاصل","menu.insert table":"إدراج جدول","submenu.table style":"نمط الجدول"},bg:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Гръцки букви","keyboard.tooltip.command":"Команден режим на латекс","keyboard.tooltip.numeric":"Числови","keyboard.tooltip.roman":"Римски букви","tooltip.copy to clipboard":"Копиране в клипборда",
"tooltip.redo":"Повторно","tooltip.toggle virtual keyboard":"Превключване на виртуална клавиатура","tooltip.undo":"Отмяна","menu.insert matrix":"Вмъкване на матрица","menu.insert vector":"Вмъкване на вектор","submenu.array.matrix delimiters":"Матрични разделители","menu.array.add row above":"Добавяне на ред след","menu.array.add row below":"Добавяне на ред преди","menu.array.add column after":"Добавяне на колона след","menu.array.add column before":"Добавяне на колона преди","menu.array.delete row":"Изтриване на реда",
"menu.array.delete rows":"Изтриване на избраните редове","menu.array.delete column":"Изтриване на колона","menu.array.delete columns":"Изтриване на избраните колони","submenu.array.insert separator":"Поставете разделител","menu.insert table":"Вмъкване на таблица","submenu.table style":"Табличен стил"},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grčka slova","keyboard.tooltip.command":"LaTeX naredbeni način","keyboard.tooltip.numeric":"Numerički",
"keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uključi / isključi virtualnu tipkovnicu","tooltip.undo":"Poništi","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrični razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije",
"menu.array.delete row":"Izbriši red","menu.array.delete rows":"Izbriši odabrane redove","menu.array.delete column":"Izbriši stupac","menu.array.delete columns":"Izbriši odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Řecké dopisy","keyboard.tooltip.command":"Příkazový režim LaTeX","keyboard.tooltip.numeric":"Číselné",
"keyboard.tooltip.roman":"Římské dopisy","tooltip.copy to clipboard":"Zkopírovat do schránky","tooltip.redo":"Předělat","tooltip.toggle virtual keyboard":"Přepnout virtuální klávesnici","tooltip.undo":"Vrátit","menu.insert matrix":"Vložte matici","menu.insert vector":"Vložit vektor","submenu.array.matrix delimiters":"Oddělovače matic","menu.array.add row above":"Přidat řádek za","menu.array.add row below":"Přidat řádek před","menu.array.add column after":"Přidat sloupec za","menu.array.add column before":"Přidat sloupec dříve",
"menu.array.delete row":"Odstranit řádek","menu.array.delete rows":"Odstranit vybrané řádky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybrané sloupce","submenu.array.insert separator":"Vložte oddělovač","menu.insert table":"Vložit tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Græske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand",
"keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"Indsæt matrix","menu.insert vector":"Indsæt vektor","submenu.array.matrix delimiters":"Matrixafgrænsere","menu.array.add row above":"Tilføj række efter","menu.array.add row below":"Tilføj række før","menu.array.add column after":"Tilføj kolonne efter",
"menu.array.add column before":"Tilføj kolonne før","menu.array.delete row":"Slet række","menu.array.delete rows":"Slet valgte rækker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"Indsæt separator","menu.insert table":"Indsæt tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus",
"keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.insert vector":"Vektor einfügen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor",
"menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","submenu.array.insert separator":"Trennzeichen einfügen","menu.insert table":"Tabelle einfügen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"συναρτήσεις","keyboard.tooltip.symbols":"σύμβολα",
"keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.command":"Λειτουργία εντολών LaTeX","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.roman":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή Matrix","menu.insert vector":"Εισαγωγή διανύσματος","submenu.array.matrix delimiters":"Οριοθέτες Matrix","menu.array.add row above":"Προσθήκη σειράς μετά",
"menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","submenu.array.insert separator":"Εισαγωγή διαχωριστικού","menu.insert table":"Εισαγωγή πίνακα","submenu.table style":"Στυλ πίνακα"},es:{"keyboard.tooltip.functions":"Funciones",
"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.insert vector":"Añadir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz",
"menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},
et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"Sümbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi käsurežiim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.roman":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida lõikelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"Lülitage sisse virtuaalne klaviatuur","tooltip.undo":"Võta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor",
"submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida pärast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg pärast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabeli",
"submenu.table style":"Tabeli stiilis"},fa:{"keyboard.tooltip.functions":"توابع","keyboard.tooltip.symbols":"نمادها","keyboard.tooltip.greek":"حروف یونانی","keyboard.tooltip.command":"حالت دستور لاتک","keyboard.tooltip.numeric":"عددی","keyboard.tooltip.roman":"حروف رومی","tooltip.copy to clipboard":"کپی به کلیپبورد","tooltip.redo":"بازگشت به بعد","tooltip.toggle virtual keyboard":"نمایش/نهفتن کیبورد مجازی","tooltip.undo":"بازگشت به قبل","menu.insert matrix":"ماتریس را وارد کنید","menu.insert vector":"درج بردار",
"submenu.array.matrix delimiters":"مرزهای ماتریس","menu.array.add row above":"بعد از آن ردیف اضافه کنید","menu.array.add row below":"ردیف را قبل اضافه کنید","menu.array.add column after":"اضافه کردن ستون بعد","menu.array.add column before":"ستون قبل را اضافه کنید","menu.array.delete row":"ردیف را حذف کنید","menu.array.delete rows":"ردیف های انتخاب شده را حذف کنید","menu.array.delete column":"حذف ستون","menu.array.delete columns":"ستون های انتخاب شده را حذف کنید","submenu.array.insert separator":"درج جدا کننده",
"menu.insert table":"قرار دادن جدول","submenu.table style":"سبک میز"},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.roman":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikepöydälle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalinäppäimistö","tooltip.undo":"Kumoa",
"menu.insert matrix":"Lisää matriisi","menu.insert vector":"Lisää vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"Lisää rivi jälkeen","menu.array.add row below":"Lisää rivi ennen","menu.array.add column after":"Lisää sarake jälkeen","menu.array.add column before":"Lisää sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet",
"submenu.array.insert separator":"Aseta erotin","menu.insert table":"Lisää taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.roman":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel",
"tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.insert vector":"Insérer un Vecteur","submenu.array.matrix delimiters":"Délimiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone",
"menu.array.delete columns":"Enlever les Colonnes Sélectionées","submenu.array.insert separator":"Insérer un Séparateur","menu.insert table":"Insérer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"Siombailí","keyboard.tooltip.greek":"Litreacha na Gréige","keyboard.tooltip.command":"Mód Ordú LaTeX","keyboard.tooltip.numeric":"Uimhriúil","keyboard.tooltip.roman":"Litreacha Rómhánacha","tooltip.copy to clipboard":"Cóipeáil chuig an Ghearrthaisce",
"tooltip.redo":"Athdhéan","tooltip.toggle virtual keyboard":"Méarchláir Fíorúil a Fháil","tooltip.undo":"Cealaigh","menu.insert matrix":"Cuir isteach Maitrís","menu.insert vector":"Cuir isteach Veicteoir","submenu.array.matrix delimiters":"Delimiters Maitrís","menu.array.add row above":"Cuir Rae Tar éis","menu.array.add row below":"Cuir Rae Roimh","menu.array.add column after":"Cuir Colún Tar éis","menu.array.add column before":"Cuir Colún Roimh","menu.array.delete row":"Scrios Rae","menu.array.delete rows":"Scrios Sraitheanna Roghnaithe",
"menu.array.delete column":"Scrios Colún","menu.array.delete columns":"Scrios Colúin Roghnaithe","submenu.array.insert separator":"Cuir Deighilteoir isteach","menu.insert table":"Ionsáigh Tábla","submenu.table style":"Stíl Tábla"},he:{"keyboard.tooltip.functions":"פונקציות","keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.command":"מצב פקודה לטקס","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.roman":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח",
"tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.insert vector":"הכנס וקטור","submenu.array.matrix delimiters":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו",
"menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","submenu.array.insert separator":"הכנס מפריד","menu.insert table":"הכנס טבלה","submenu.table style":"טבלה סִגְנוֹן"},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grčka slova","keyboard.tooltip.command":"LaTeX naredbeni način","keyboard.tooltip.numeric":"Numerički","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u međuspremnik",
"tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uključi / isključi virtualnu tipkovnicu","tooltip.undo":"Poništi","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrični razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj redak prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbriši redak","menu.array.delete rows":"Izbriši odabrane retke",
"menu.array.delete column":"Izbriši stupac","menu.array.delete columns":"Izbriši odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Umetni tablicu","submenu.table style":"Stil tabele"},id:{"keyboard.tooltip.functions":"Fungsi","keyboard.tooltip.symbols":"Simbol","keyboard.tooltip.greek":"Huruf Yunani","keyboard.tooltip.command":"Mode Perintah LaTeX","keyboard.tooltip.numeric":"Numerik","keyboard.tooltip.roman":"Surat Romawi","tooltip.copy to clipboard":"Menyalin ke clipboard",
"tooltip.redo":"Mengulangi","tooltip.toggle virtual keyboard":"Alihkan Keyboard Virtual","tooltip.undo":"Membuka","menu.insert matrix":"Sisipkan Matriks","menu.insert vector":"Sisipkan Vektor","submenu.array.matrix delimiters":"Pembatas Matriks","menu.array.add row above":"Tambahkan Baris Setelah","menu.array.add row below":"Tambahkan Baris Sebelumnya","menu.array.add column after":"Tambahkan Kolom Setelah","menu.array.add column before":"Tambahkan Kolom Sebelumnya","menu.array.delete row":"Hapus Baris",
"menu.array.delete rows":"Hapus Baris yang Dipilih","menu.array.delete column":"Hapus Kolom","menu.array.delete columns":"Hapus Kolom yang Dipilih","submenu.array.insert separator":"Sisipkan Pemisah","menu.insert table":"Sisipkan Tabel","submenu.table style":"Gaya Tabel"},hi:{"keyboard.tooltip.functions":"कार्यों","keyboard.tooltip.symbols":"प्रतीक","keyboard.tooltip.greek":"ग्रीक अक्षर","keyboard.tooltip.command":"लाटेक्स कमांड मोड","keyboard.tooltip.numeric":"संख्यात्मक","keyboard.tooltip.roman":"रोमन पत्र",
"tooltip.copy to clipboard":"क्लिपबोर्ड पर कॉपी करें","tooltip.redo":"फिर से करें","tooltip.toggle virtual keyboard":"वर्चुअल कीबोर्ड टॉगल करें","tooltip.undo":"पूर्ववत","menu.insert matrix":"मैट्रिक्स डालें","menu.insert vector":"वेक्टर डालें","submenu.array.matrix delimiters":"मैट्रिक्स सीमांकक","menu.array.add row above":"बाद में पंक्ति जोड़ें","menu.array.add row below":"पहले पंक्ति जोड़ें","menu.array.add column after":"बाद में कॉलम जोड़ें","menu.array.add column before":"पहले कॉलम जोड़ें","menu.array.delete row":"पंक्ति को हटाएं",
"menu.array.delete rows":"चयनित पंक्तियों को हटाएं","menu.array.delete column":"कॉलम हटाएं","menu.array.delete columns":"चयनित कॉलम हटाएं","submenu.array.insert separator":"विभाजक डालें","menu.insert table":"टेबल इंसर्ट करें","submenu.table style":"टेबल स्टाइल"},hu:{"keyboard.tooltip.functions":"Funkciók","keyboard.tooltip.symbols":"Szimbólumok","keyboard.tooltip.greek":"Görög levelek","keyboard.tooltip.command":"LaTeX Parancs mód","keyboard.tooltip.numeric":"Numerikus","keyboard.tooltip.roman":"Római levelek",
"tooltip.copy to clipboard":"Másolja a vágólapra","tooltip.redo":"Újra","tooltip.toggle virtual keyboard":"Váltás a virtuális billentyűzetre","tooltip.undo":"Visszavonás","menu.insert matrix":"Helyezze be a Mátrixot","menu.insert vector":"Vektor beszúrása","submenu.array.matrix delimiters":"Mátrixhatárolók","menu.array.add row above":"Sor hozzáadása után","menu.array.add row below":"Add Add Sor előtt","menu.array.add column after":"Oszlop hozzáadása után","menu.array.add column before":"Add oszlop előtt",
"menu.array.delete row":"Sor törlése","menu.array.delete rows":"Kijelölt sorok törlése","menu.array.delete column":"Oszlop törlése","menu.array.delete columns":"A kijelölt oszlopok törlése","submenu.array.insert separator":"Helyezze be az elválasztót","menu.insert table":"Helyezze be a táblázatot","submenu.table style":"Táblázatos stílus"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalità di comando LaTeX",
"keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo",
"menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"Aðgerðir",
"keyboard.tooltip.symbols":"Tákn","keyboard.tooltip.greek":"Grísk bréf","keyboard.tooltip.command":"LaTeX stjórnunarstilling","keyboard.tooltip.numeric":"Tölulegt","keyboard.tooltip.roman":"Rómversk bréf","tooltip.copy to clipboard":"Afritaðu á klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um sýndarlyklaborð","tooltip.undo":"Afturkalla","menu.insert matrix":"Settu fylki inn","menu.insert vector":"Settu inn Vector","submenu.array.matrix delimiters":"Matrix afmörkun",
"menu.array.add row above":"Bæta við röð á eftir","menu.array.add row below":"Bæta við röð áður","menu.array.add column after":"Bæta við dálki á eftir","menu.array.add column before":"Bæta við dálki áður","menu.array.delete row":"Eyða röð","menu.array.delete rows":"Eyða völdum línum","menu.array.delete column":"Eyða dálki","menu.array.delete columns":"Eyða völdum dálkum","submenu.array.insert separator":"Settu skiljuna í","menu.insert table":"Settu inn töflu","submenu.table style":"Töflu stíl"},ja:{"keyboard.tooltip.functions":"関数",
"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.command":"ラテックスコマンドモード","keyboard.tooltip.numeric":"数値","keyboard.tooltip.roman":"ローマ字","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.insert vector":"ベクトルを挿入","submenu.array.matrix delimiters":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加",
"menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","submenu.array.insert separator":"セパレーターを挿入","menu.insert table":"テーブルを挿入","submenu.table style":"テーブルスタイル"},ko:{"keyboard.tooltip.functions":"기능","keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.command":"유액 명령 모드","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.roman":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사",
"tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.insert vector":"벡터 삽입","submenu.array.matrix delimiters":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","submenu.array.insert separator":"구분자 삽입",
"menu.insert table":"표 삽입","submenu.table style":"테이블 스타일"},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grieķu burti","keyboard.tooltip.command":"LaTeX komandu režīms","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.roman":"Romiešu vēstules","tooltip.copy to clipboard":"Kopēt starpliktuvē","tooltip.redo":"Pārtaisīt","tooltip.toggle virtual keyboard":"Pārslēgt virtuālo tastatūru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu",
"menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobežotāji","menu.array.add row above":"Pievienot rindu pēc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pēc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzēst rindu","menu.array.delete rows":"Dzēst atlasītās rindas","menu.array.delete column":"Dzēst kolonnu","menu.array.delete columns":"Dzēst atlasītās kolonnas","submenu.array.insert separator":"Ievietojiet atdalītāju",
"menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"Graikiškos raidės","keyboard.tooltip.command":"LaTeX komandų režimas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.roman":"Romos laiškai","tooltip.copy to clipboard":"Nukopijuoti į iškarpinę","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtualiąją klaviatūrą","tooltip.undo":"Atšaukti",
"menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobežotāji","menu.array.add row above":"Pievienot rindu pēc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pēc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzēst rindu","menu.array.delete rows":"Dzēst atlasītās rindas","menu.array.delete column":"Dzēst kolonnu","menu.array.delete columns":"Dzēst atlasītās kolonnas",
"submenu.array.insert separator":"Ievietojiet atdalītāju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Tabulas stili"},lu:{"keyboard.tooltip.functions":"Funktiounen","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Griichesch Bréiwer","keyboard.tooltip.command":"LaTeX Kommando Modus","keyboard.tooltip.numeric":"Numeresch","keyboard.tooltip.roman":"Réimesch Bréiwer","tooltip.copy to clipboard":"Kopéiert op Clipboard","tooltip.redo":"Nees nei maachen","tooltip.toggle virtual keyboard":"Wiesselt Virtuell Tastatur",
"tooltip.undo":"Undoen","menu.insert matrix":"Matrix asetzen","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Ofgrenzer","menu.array.add row above":"Dobäizemaachen Rei No","menu.array.add row below":"Füügt Rei vir","menu.array.add column after":"Dobäizemaachen Kolonn No","menu.array.add column before":"Kolonn derbäi Virun","menu.array.delete row":"Rad läschen","menu.array.delete rows":"Läscht Ausgewielte Reien","menu.array.delete column":"Läscht Kolonn","menu.array.delete columns":"Läscht Ausgewielte Kolonnen",
"submenu.array.insert separator":"Insert Separator","menu.insert table":"Dësch anzeginn","submenu.table style":"Dësch Style"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.roman":"Romeinse letters","tooltip.copy to clipboard":"Kopiëren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord",
"tooltip.undo":"Ongedaan maken","menu.insert matrix":"Matrix invoegen","menu.insert vector":"Vector invoegen","submenu.array.matrix delimiters":"Matrixscheidingstekens","menu.array.add row above":"Rij toevoegen na","menu.array.add row below":"Rij toevoegen eerder","menu.array.add column after":"Kolom toevoegen na","menu.array.add column before":"Kolom toevoegen voor","menu.array.delete row":"Verwijder rij","menu.array.delete rows":"Geselecteerde rijen verwijderen","menu.array.delete column":"Kolom verwijderen",
"menu.array.delete columns":"Geselecteerde kolommen verwijderen","submenu.array.insert separator":"Scheidingsteken invoegen","menu.insert table":"Tabel invoegen","submenu.table style":"Tabelstijl"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle",
"tooltip.redo":"Gjøre om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre","menu.insert matrix":"Sett inn matrise","menu.insert vector":"Sett inn vektor","submenu.array.matrix delimiters":"Matrix avgrensere","menu.array.add row above":"Legg til rad etter","menu.array.add row below":"Legg til rad før","menu.array.add column after":"Legg til kolonne etter","menu.array.add column before":"Legg til kolonne før","menu.array.delete row":"Slett rad","menu.array.delete rows":"Slett valgte rader",
"menu.array.delete column":"Slett kolonne","menu.array.delete columns":"Slett valgte kolonner","submenu.array.insert separator":"Sett inn skilletegn","menu.insert table":"Sett inn tabell","submenu.table style":"Tabellstil"},mk:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Симболи","keyboard.tooltip.greek":"Грчки букви","keyboard.tooltip.command":"Режим на команда во латекс","keyboard.tooltip.numeric":"Нумерички","keyboard.tooltip.roman":"Римски писма","tooltip.copy to clipboard":"Копирајте во клипборд",
"tooltip.redo":"Повторно","tooltip.toggle virtual keyboard":"Вклучете ја виртуелната тастатура","tooltip.undo":"Врати","menu.insert matrix":"Вметнете матрица","menu.insert vector":"Вметни вектор","submenu.array.matrix delimiters":"Разграничувачи на матрица","menu.array.add row above":"Додадете ред после","menu.array.add row below":"Додади ред пред тоа","menu.array.add column after":"Додадете колона после","menu.array.add column before":"Додадете колона пред тоа","menu.array.delete row":"Избриши го редот",
"menu.array.delete rows":"Избришете ги избраните редови","menu.array.delete column":"Избриши ја колоната","menu.array.delete columns":"Избриши ја колоната","submenu.array.insert separator":"Вметнете сепаратор","menu.insert table":"Вметни табела","submenu.table style":"Табела стил"},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb poleceń LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Litery rzymskie",
"tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz wirtualną klawiaturę","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.insert vector":"Wstaw wektor","submenu.array.matrix delimiters":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz",
"menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","submenu.array.insert separator":"Wstaw separator","menu.insert table":"Wypełnij tabelę","submenu.table style":"Styl tabelę"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.roman":"Letras romanas",
"tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.insert vector":"Inserir vetor","submenu.array.matrix delimiters":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes",
"menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","submenu.array.insert separator":"Inserir Separador","menu.insert table":"Insira a tabela","submenu.table style":"Estilo tabela"},ro:{"keyboard.tooltip.functions":"Funcții","keyboard.tooltip.symbols":"Simboluri","keyboard.tooltip.greek":"Scrisori grecești","keyboard.tooltip.command":"Modul de comandă latex",
"keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Scrisori romane","tooltip.copy to clipboard":"Copiați în clipboard","tooltip.redo":"A reface","tooltip.toggle virtual keyboard":"Comutați tastatura virtuală","tooltip.undo":"Anula","menu.insert matrix":"Introduceți Matrix","menu.insert vector":"Inserați Vector","submenu.array.matrix delimiters":"Delimitatori de matrice","menu.array.add row above":"Adăugați rândul după","menu.array.add row below":"Adăugați rândul înainte","menu.array.add column after":"Adăugați o coloană după",
"menu.array.add column before":"Adăugați o coloană înainte","menu.array.delete row":"Ștergeți rândul","menu.array.delete rows":"Ștergeți rândurile selectate","menu.array.delete column":"Ștergeți coloana","menu.array.delete columns":"Ștergeți coloanele selectate","submenu.array.insert separator":"Introduceți separatorul","menu.insert table":"Introduceți tabelul","submenu.table style":"Table style"},ru:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Символы","keyboard.tooltip.greek":"Греческие буквы",
"keyboard.tooltip.command":"Режим командной строки Латекс","keyboard.tooltip.numeric":"числовой","keyboard.tooltip.roman":"Латинские буквы","tooltip.copy to clipboard":"Скопировать в буфер обмена","tooltip.redo":"переделывать","tooltip.toggle virtual keyboard":"Переключить виртуальную клавиатуру","tooltip.undo":"расстегивать","menu.insert matrix":"Вставить матрицу","menu.insert vector":"Вставить вектор","submenu.array.matrix delimiters":"Матричные разделители","menu.array.add row above":"Добавить строку после",
"menu.array.add row below":"Добавить строку перед","menu.array.add column after":"Добавить столбец после","menu.array.add column before":"Добавить столбец перед","menu.array.delete row":"Удалить строку","menu.array.delete rows":"Удалить выбранные строки","menu.array.delete column":"Удалить столбец","menu.array.delete columns":"Удалить выбранные столбцы","submenu.array.insert separator":"Вставить разделитель","menu.insert table":"Вставить таблицу","submenu.table style":"Табличный стиль"},sk:{"keyboard.tooltip.functions":"Functions",
"keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Grécke listy","keyboard.tooltip.command":"Príkazový režim LaTeX","keyboard.tooltip.numeric":"Numerické","keyboard.tooltip.roman":"Rímske listy","tooltip.copy to clipboard":"Skopírovať do schránky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"Prepnúť virtuálnu klávesnicu","tooltip.undo":"Vrátenie späť","menu.insert matrix":"Vložte maticu","menu.insert vector":"Vložte vektor","submenu.array.matrix delimiters":"Oddeľovače matíc",
"menu.array.add row above":"Pridajte riadok za","menu.array.add row below":"Pridajte riadok pred","menu.array.add column after":"Pridať stĺpec za","menu.array.add column before":"Pridajte stĺpec predtým","menu.array.delete row":"Odstrániť riadok","menu.array.delete rows":"Odstrániť vybraté riadky","menu.array.delete column":"Odstrániť stĺpec","menu.array.delete columns":"Odstrániť vybraté stĺpce","submenu.array.insert separator":"Vložte oddeľovač","menu.insert table":"Vložte tabuľku","submenu.table style":"Štýl tabuľky"},
sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grška pisma","keyboard.tooltip.command":"Ukazni način LaTeX","keyboard.tooltip.numeric":"Številsko","keyboard.tooltip.roman":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odložišče","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi","menu.insert matrix":"Vstavi matrico","menu.insert vector":"Vstavi vektor","submenu.array.matrix delimiters":"Matrični ločevalniki",
"menu.array.add row above":"Dodaj vrstico po","menu.array.add row below":"Dodaj vrstico prej","menu.array.add column after":"Dodaj stolpec po","menu.array.add column before":"Dodaj stolpec prej","menu.array.delete row":"Izbriši vrstico","menu.array.delete rows":"Izbriši izbrane vrstice","menu.array.delete column":"Izbriši stolpec","menu.array.delete columns":"Izbriši izbrane stolpce","submenu.array.insert separator":"Vstavi ločilo","menu.insert table":"Vstavi tabelo","submenu.table style":"Tabela slog"},
sq:{"keyboard.tooltip.functions":"Funksione","keyboard.tooltip.symbols":"Simbolet","keyboard.tooltip.greek":"Letrat Greke","keyboard.tooltip.command":"Modaliteti i komandës latex","keyboard.tooltip.numeric":"Numerike","keyboard.tooltip.roman":"Letrat romake","tooltip.copy to clipboard":"Kopjoni në Clipboard","tooltip.redo":"Riparo","tooltip.toggle virtual keyboard":"Aktivizo tastierën virtuale","tooltip.undo":"Zhbëj","menu.insert matrix":"Vendosni Matricën","menu.insert vector":"Vendos vektorin",
"submenu.array.matrix delimiters":"Përcaktuesit e matricës","menu.array.add row above":"Shto Rreshtin Pas","menu.array.add row below":"Shto Rreshtin Para","menu.array.add column after":"Shto kolonën pas","menu.array.add column before":"Shto kolonën para","menu.array.delete row":"Fshi Rreshtin","menu.array.delete rows":"Fshi rreshtat e zgjedhur","menu.array.delete column":"Fshi kolonën","menu.array.delete columns":"Fshi kolonat e zgjedhura","submenu.array.insert separator":"Vendos Ndarësin","menu.insert table":"Vendos tabelën",
"submenu.table style":"Stili tabelën"},sr:{"keyboard.tooltip.functions":"Функције","keyboard.tooltip.symbols":"Симболи","keyboard.tooltip.greek":"Греек Леттерс","keyboard.tooltip.command":"ЛаТеКс командни режим","keyboard.tooltip.numeric":"Нумерички","keyboard.tooltip.roman":"Римска писма","tooltip.copy to clipboard":"Копирајте у међуспремник","tooltip.redo":"Понови","tooltip.toggle virtual keyboard":"Укључи / искључи виртуелну тастатуру","tooltip.undo":"Опозови","menu.insert matrix":"Уметни матрицу",
"menu.insert vector":"Уметни вектор","submenu.array.matrix delimiters":"Матрик Делимитерс","menu.array.add row above":"Додај ред после","menu.array.add row below":"Додај ред пре","menu.array.add column after":"Додај колону после","menu.array.add column before":"Додај колону пре","menu.array.delete row":"Избриши ред","menu.array.delete rows":"Избриши изабране редове","menu.array.delete column":"Избриши колону","menu.array.delete columns":"Избриши изабране колоне","submenu.array.insert separator":"Уметни сепаратор",
"menu.insert table":"Убаци табелу","submenu.table style":"Табеларни стил"},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokstäver","keyboard.tooltip.command":"LaTeX kommandoläge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerska bokstäver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"Göra om","tooltip.toggle virtual keyboard":"Växla virtuellt tangentbord","tooltip.undo":"Ångra","menu.insert matrix":"Sätt in matris",
"menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"Matrisavgränsare","menu.array.add row above":"Lägg till rad efter","menu.array.add row below":"Lägg till rad före","menu.array.add column after":"Lägg till kolumn efter","menu.array.add column before":"Lägg till kolumn före","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"Sätt i separator",
"menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},th:{"keyboard.tooltip.functions":"ฟังก์ชั่น","keyboard.tooltip.symbols":"สัญลักษณ์","keyboard.tooltip.greek":"อักษรกรีก","keyboard.tooltip.command":"โหมดคำสั่ง น้ำยาง","keyboard.tooltip.numeric":"ตัวเลข","keyboard.tooltip.roman":"อักษรโรมัน","tooltip.copy to clipboard":"คัดลอกไปที่คลิปบอร์ด","tooltip.redo":"ทำซ้ำ","tooltip.toggle virtual keyboard":"สลับแป้นพิมพ์เสมือน","tooltip.undo":"เลิกทำ","menu.insert matrix":"แทรกเมทริกซ์",
"menu.insert vector":"แทรกเวกเตอร์","submenu.array.matrix delimiters":"ตัวคั่นเมทริกซ์","menu.array.add row above":"เพิ่มแถวหลัง","menu.array.add row below":"เพิ่มแถวก่อน","menu.array.add column after":"เพิ่มคอลัมน์หลัง","menu.array.add column before":"เพิ่มคอลัมน์ก่อน","menu.array.delete row":"ลบแถว","menu.array.delete rows":"ลบแถวที่เลือก","menu.array.delete column":"ลบคอลัมน์","menu.array.delete columns":"ลบคอลัมน์ที่เลือก","submenu.array.insert separator":"ตัวคั่นแทรก","menu.insert table":"แทรกตาราง",
"submenu.table style":"สไตล์ตาราง"},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"Sayısal","keyboard.tooltip.roman":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi Aç/Kapat","tooltip.undo":"Geri alma","menu.insert matrix":"Matris Ekle","menu.insert vector":"Vektör Ekle",
"submenu.array.matrix delimiters":"Matris Sınırlayıcılar","menu.array.add row above":"Satırdan Sonra Ekle","menu.array.add row below":"Önce Satır Ekle","menu.array.add column after":"Sonra Sütun Ekle","menu.array.add column before":"Önce Sütun Ekle","menu.array.delete row":"Sırayı sil","menu.array.delete rows":"Seçili Satırları Sil","menu.array.delete column":"Sütunu Sil","menu.array.delete columns":"Seçili Sütunları Sil","submenu.array.insert separator":"Ayırıcı Ekle","menu.insert table":"Tablo Ekle",
"submenu.table style":"Tablo Stili"},uk:{"keyboard.tooltip.functions":"Функції","keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.command":"Командний режим латексу","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.roman":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.undo":"Скасувати","menu.insert matrix":"Вставити матрицю",
"menu.insert vector":"Вставити вектор","submenu.array.matrix delimiters":"Матричні роздільники","menu.array.add row above":"Додати рядок після","menu.array.add row below":"Додати рядок до","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","submenu.array.insert separator":"Вставте роздільник",
"menu.insert table":"Вставити таблицю","submenu.table style":"Стиль таблиці"},vi:{"keyboard.tooltip.functions":"Chức năng","keyboard.tooltip.symbols":"Ký hiệu","keyboard.tooltip.greek":"Chữ Hy Lạp","keyboard.tooltip.command":"Chế độ lệnh LaTeX","keyboard.tooltip.numeric":"Số","keyboard.tooltip.roman":"Chữ cái La mã","tooltip.copy to clipboard":"Sao chép vào clipboard","tooltip.redo":"Làm lại","tooltip.toggle virtual keyboard":"Chuyển đổi bàn phím ảo","tooltip.undo":"Hoàn tác","menu.insert matrix":"Chèn ma trận",
"menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Dấu phân cách ma trận","menu.array.add row above":"Thêm hàng sau","menu.array.add row below":"Thêm hàng trước","menu.array.add column after":"Thêm cột sau","menu.array.add column before":"Thêm cột trước","menu.array.delete row":"Xóa hàng","menu.array.delete rows":"Xóa hàng đã chọn","menu.array.delete column":"Xóa cột","menu.array.delete columns":"Xóa các cột đã chọn","submenu.array.insert separator":"Chèn dấu phân cách","menu.insert table":"Chèn bảng",
"submenu.table style":"Kiểu bảng"},zh_cn:{"keyboard.tooltip.functions":"职能","keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.command":"乳胶 命令模式","keyboard.tooltip.numeric":"数字","keyboard.tooltip.roman":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.insert vector":"插入向量","submenu.array.matrix delimiters":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行",
"menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","submenu.array.insert separator":"插入分隔符","menu.insert table":"插入表格","submenu.table style":"表格样式"},zh_tw:{"keyboard.tooltip.functions":"職能","keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.command":"乳膠命令模式","keyboard.tooltip.numeric":"數字","keyboard.tooltip.roman":"羅馬字母",
"tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.insert vector":"插入向量","submenu.array.matrix delimiters":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列",
"submenu.array.insert separator":"插入分隔符","menu.insert table":"插入表格","submenu.table style":"表格樣式"}},_locale:"",get locale(){return Be._locale||(Be._locale=m()?navigator.language.slice(0,5):"en"),Be._locale},set locale(b){Be._locale=b},merge(b,f){if(b&&f){var q=Be._locale;Be.locale=b;Be.strings[b]={...Be.strings[b],...f};Be.locale=q}else if(b&&!f)for(q of Object.keys(b))Be.merge(q,b[q])}},Lf={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",
m9:"#843D99"},rg={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},mh={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},Xg={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",
indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},sg={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},Bh={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",
BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",
Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",
VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"},Tf={},Hg={60:"\\lt",62:"\\gt",111:"o",38:"\\\x26",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",
8314:"^{+}",8315:"^{-}",8316:"^{\x3d}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{\x3d}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",
10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},Mf={},Rd={},Yg={iff:"\\;⟺\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",
rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",
capitalDifferentialD:"\\mathrm{D}","braket.sty":{package:{bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",
varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},expand:!1},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",
Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",
Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",
weierp:"\\wp",Zeta:"\\mathrm{Z}"},expand:!1}},Ve={" ":32,"\\#":35,"\\\x26":38,"\\$":36,"\\%":37,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,
"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Ti=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,Wh=n()?RegExp("\\p{Letter}","u"):/[a-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,
Xf=n()?RegExp("[0-9\\p{Letter}]","u"):/[\da-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,
Zg={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Ef=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,
offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",
style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,
len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,
style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",
style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];let $g;const Ab=[0,.69444,0,0],dd=[0,.61111,0,0],Kd=[.25,.75,0,0],Td=[0,.44444,0,0],t=[0,.68611,0,0],B=[.19444,.69444,0,0],S=[0,.68333,0,0],Z=[0,.68889,0,0],pa=[0,.69141,0,0],La=[0,0,0,0],Qa=[0,.64444,0,0],sb=[0,.69224,0,0],Rb=[.19444,.44444,0,0],ec=[.65002,1.15,0,0],Yc=[0,.55556,0,0],Tc=[.35001,.85,0,0],yd=[1.25003,1.75,0,0],ae=[.95003,1.45,0,0],xd=[0,.75,0,0],Ud=[0,.47534,0,0],be=[.25001,.75,0,0],Fe=[.55001,1.05,0,0],ce=[.16667,
.68889,0,0],ke=[.08167,.58167,0,0];var Af={"AMS-Regular":{32:La,65:Z,66:Z,67:Z,68:Z,69:Z,70:Z,71:Z,72:Z,73:Z,74:ce,75:Z,76:Z,77:Z,78:Z,79:ce,80:Z,81:ce,82:Z,83:Z,84:Z,85:Z,86:Z,87:Z,88:Z,89:Z,90:Z,107:Z,160:La,165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:Z,295:Z,710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:ke,1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:Z,8487:Z,8498:Z,8502:Z,8503:Z,8504:Z,8513:Z,8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,
0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:sb,8625:sb,8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,
.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:Z,8709:ke,8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:ke,8733:sb,8736:sb,8737:sb,8738:[.03517,.52239,0,0],8739:ke,8740:[.25142,.74111,0,0],
8741:ke,8742:[.25142,.74111,0,0],8756:sb,8757:sb,8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:ke,8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:sb,8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,
.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,
0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:sb,8873:sb,8874:sb,8876:Z,8877:Z,8878:Z,8879:Z,8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:ke,8905:ke,8906:ke,8907:sb,8908:sb,8909:[-.03598,.46402,0,0],8910:[0,.54986,0,
0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:sb,8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,
.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:sb,9488:sb,9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:sb,10016:sb,10731:[.11111,.69224,0,0],
10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,
.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:ke,57351:ke,57352:ke,57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{32:La,65:[0,.68333,0,.19445],
66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,
.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889],160:La},"Fraktur-Regular":{32:La,33:pa,34:pa,38:pa,39:pa,40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:Ud,49:Ud,50:Ud,51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:pa,55:[.18906,
.47534,0,0],56:pa,57:[.18906,.47534,0,0],58:Ud,59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:pa,65:pa,66:pa,67:pa,68:pa,69:pa,70:[.12604,.69141,0,0],71:pa,72:[.06302,.69141,0,0],73:pa,74:[.12604,.69141,0,0],75:pa,76:pa,77:pa,78:pa,79:pa,80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:pa,83:pa,84:pa,85:pa,86:pa,87:pa,88:pa,89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:pa,97:Ud,98:pa,99:Ud,100:[0,.62119,0,0],101:Ud,102:[.18906,.69141,0,0],103:[.18906,
.47534,0,0],104:[.18906,.69141,0,0],105:pa,106:pa,107:pa,108:pa,109:Ud,110:Ud,111:Ud,112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:Ud,115:Ud,116:[0,.62119,0,0],117:Ud,118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],160:La,8216:pa,8217:pa,58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:pa,58118:[0,.62119,0,0],58119:Ud},"Main-Bold":{32:La,33:Ab,34:Ab,35:B,
36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:Td,46:[0,.15556,0,0],47:Kd,48:Qa,49:Qa,50:Qa,51:Qa,52:Qa,53:Qa,54:Qa,55:Qa,56:Qa,57:Qa,58:Td,59:Rb,60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:Ab,64:Ab,65:t,66:t,67:t,68:t,69:t,70:t,71:t,72:t,73:t,74:t,75:t,76:t,77:t,78:t,79:t,80:t,81:[.19444,.68611,0,0],82:t,83:t,84:t,85:t,86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:t,89:[0,.68611,.02875,0],90:t,
91:Kd,92:Kd,93:Kd,94:Ab,95:[.31,.13444,.03194,0],97:Td,98:Ab,99:Td,100:Ab,101:Td,102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:Ab,105:Ab,106:B,107:Ab,108:Ab,109:Td,110:Td,111:Td,112:Rb,113:Rb,114:Td,115:Td,116:[0,.63492,0,0],117:Td,118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:Td,121:[.19444,.44444,.01597,0],122:Td,123:Kd,124:Kd,125:Kd,126:[.35,.34444,0,0],160:La,163:Ab,168:Ab,172:Td,176:Ab,177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:t,215:[.13333,.63333,0,0],216:[.04861,.73472,
0,0],223:Ab,230:Td,247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:Td,338:t,339:Td,567:Rb,710:Ab,711:[0,.63194,0,0],713:[0,.59611,0,0],714:Ab,715:Ab,728:Ab,729:Ab,730:Ab,732:Ab,733:Ab,915:t,916:t,920:t,923:t,926:t,928:t,931:t,933:t,934:t,936:t,937:t,8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:Ab,8217:Ab,8220:Ab,8221:Ab,8224:B,8225:B,8242:Yc,8407:[0,.72444,.15486,0],8463:Ab,8465:Ab,8467:Ab,8472:Rb,8476:Ab,8501:Ab,8592:[-.10889,.39111,0,0],8593:B,8594:[-.10889,.39111,0,0],8595:B,8596:[-.10889,
.39111,0,0],8597:Kd,8598:B,8599:B,8600:B,8601:B,8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:B,8658:[-.10889,.39111,0,0],8659:B,8660:[-.10889,.39111,0,0],8661:Kd,8704:Ab,8706:[0,.69444,.06389,0],8707:Ab,8709:[.05556,.75,0,0],8711:t,8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:Kd,8726:Kd,8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,
.47361,0,0],8730:[.18,.82,0,0],8733:Td,8734:Td,8736:sb,8739:Kd,8741:Kd,8743:Yc,8744:Yc,8745:Yc,8746:Yc,8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:B,8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,
.69667,0,0],8846:Yc,8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:Yc,8852:Yc,8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:Ab,8867:Ab,8868:Ab,8869:Ab,8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:Kd,8969:Kd,8970:Kd,8971:Kd,8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:B,9657:[-.02778,.47222,0,0],9661:B,9667:[-.02778,.47222,0,0],9711:B,9824:[.12963,.69444,0,0],
9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:xd,9838:B,9839:B,10216:Kd,10217:Kd,10815:t,10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:B},"Main-BoldItalic":{32:La,33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,0],46:[0,.14722,
0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:t,66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,0],70:[0,.68611,
.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:t,77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,.09972,0],94:[0,
.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,0],115:[0,.44444,
.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],160:La,168:[0,.69444,.11473,0],176:Ab,184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,.04611,0],710:[0,
.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:Ab,728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:Ab,732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:t,920:[0,.68611,.09062,0],923:t,926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,.69444,.12945,0],
8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{32:La,33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,
.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:S,66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,
.14528,0],76:S,77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],
100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,
0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],160:La,168:[0,.66786,.10474,0],176:Ab,184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:Ab,728:[0,.69444,.10806,0],729:[0,.66786,.11752,0],730:Ab,
732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:S,920:[0,.68333,.09403,0],923:S,926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:Z},"Main-Regular":{32:La,33:Ab,34:Ab,35:B,36:[.05556,.75,0,0],37:[.05556,
.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:Kd,48:Qa,49:Qa,50:Qa,51:Qa,52:Qa,53:Qa,54:Qa,55:Qa,56:Qa,57:Qa,58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:Ab,64:Ab,65:S,66:S,67:S,68:S,69:S,70:S,71:S,72:S,73:S,74:S,75:S,76:S,77:S,78:S,79:S,80:S,81:[.19444,.68333,0,0],82:S,83:S,84:S,85:S,86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:S,89:[0,.68333,.025,0],
90:S,91:Kd,92:Kd,93:Kd,94:Ab,95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:Ab,99:[0,.43056,0,0],100:Ab,101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:Ab,105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:Ab,108:Ab,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,
.01389,0],122:[0,.43056,0,0],123:Kd,124:Kd,125:Kd,126:[.35,.31786,0,0],160:La,163:Ab,167:B,168:[0,.66786,0,0],172:[0,.43056,0,0],176:Ab,177:[.08333,.58333,0,0],182:B,184:[.17014,0,0,0],198:S,215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:Ab,230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:S,339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:Ab,711:[0,.62847,0,0],713:[0,.56778,0,0],714:Ab,715:Ab,728:Ab,729:[0,.66786,0,0],730:Ab,732:[0,.66786,0,0],733:Ab,915:S,
916:S,920:S,923:S,926:S,928:S,931:S,933:S,934:S,936:S,937:S,8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:Ab,8217:Ab,8220:Ab,8221:Ab,8224:B,8225:B,8230:[0,.12,0,0],8242:Yc,8407:[0,.71444,.15382,0],8463:Z,8465:Ab,8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:Ab,8501:Ab,8592:[-.13313,.36687,0,0],8593:B,8594:[-.13313,.36687,0,0],8595:B,8596:[-.13313,.36687,0,0],8597:Kd,8598:B,8599:B,8600:B,8601:B,8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,
0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:B,8658:[-.13313,.36687,0,0],8659:B,8660:[-.13313,.36687,0,0],8661:Kd,8704:Ab,8706:[0,.69444,.05556,.08334],8707:Ab,8709:[.05556,.75,0,0],8711:S,8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:Kd,8726:Kd,8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,
0,0],8734:[0,.43056,0,0],8736:sb,8739:Kd,8741:Kd,8743:Yc,8744:Yc,8745:Yc,8746:Yc,8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:B,8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,
0],8839:[.13597,.63597,0,0],8846:Yc,8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:Yc,8852:Yc,8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:Ab,8867:Ab,8868:Ab,8869:Ab,8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:Kd,8969:Kd,8970:Kd,8971:Kd,8994:[-.14236,.35764,0,0],8995:[-.14236,
.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:B,9657:[-.03472,.46528,0,0],9661:B,9667:[-.03472,.46528,0,0],9711:B,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:xd,9838:B,9839:B,10216:Kd,10217:Kd,10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:S,10927:[.13597,.63597,0,0],10928:[.13597,
.63597,0,0],57376:B},"Math-BoldItalic":{32:La,48:Td,49:Td,50:Td,51:Rb,52:Rb,53:Rb,54:Qa,55:Rb,56:Qa,57:Rb,65:t,66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:t,72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:t,77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,
.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:Td,98:Ab,99:Td,100:Ab,101:Td,102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:Ab,105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:Td,110:Td,111:Td,112:Rb,113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:Td,116:[0,.63492,0,0],117:Td,118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],
120:Td,121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],160:La,915:[0,.68611,.15972,0],916:t,920:[0,.68611,.03194,0],923:t,926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:t,936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:Td,946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:Td,950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:Td,954:Td,955:Ab,956:Rb,957:[0,.44444,.06898,
0],958:[.19444,.69444,.03021,0],959:Td,960:[0,.44444,.03704,0],961:Rb,962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:Rb,967:Rb,968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:Ab,981:B,982:[0,.44444,.03194,0],1009:Rb,1013:Td,57649:Td,57911:Rb},"Math-Italic":{32:La,48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:Qa,55:[.19444,.43056,0,0],56:Qa,57:[.19444,.43056,
0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,
.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:Ab,99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:Ab,105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,
0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],160:La,915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],
931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:Ab,956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,
.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556],57649:[0,.43056,0,.02778],57911:[.19444,.43056,
0,.08334]},"SansSerif-Bold":{32:La,33:Ab,34:Ab,35:B,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:Kd,48:Ab,49:Ab,50:Ab,51:Ab,52:Ab,53:Ab,54:Ab,55:Ab,56:Ab,57:Ab,58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:Ab,64:Ab,65:Ab,66:Ab,67:Ab,68:Ab,69:Ab,70:Ab,71:Ab,72:Ab,73:Ab,74:Ab,75:Ab,76:Ab,77:Ab,78:Ab,79:Ab,80:Ab,81:[.10556,.69444,0,0],82:Ab,83:Ab,84:Ab,85:Ab,86:[0,.69444,
.01528,0],87:[0,.69444,.01528,0],88:Ab,89:[0,.69444,.0275,0],90:Ab,91:Kd,93:Kd,94:Ab,95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:Ab,99:[0,.45833,0,0],100:Ab,101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:Ab,105:Ab,106:B,107:Ab,108:Ab,109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,0],120:[0,
.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],160:La,168:Ab,176:Ab,180:Ab,184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:Ab,711:[0,.63542,0,0],713:[0,.63778,0,0],728:Ab,729:Ab,730:Ab,732:Ab,733:Ab,915:Ab,916:Ab,920:Ab,923:Ab,926:Ab,928:Ab,931:Ab,933:Ab,934:Ab,936:Ab,937:Ab,8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:Ab,8217:Ab,8220:Ab,8221:Ab},"SansSerif-Italic":{32:La,33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,.69444,
.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,.65556,
.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:Ab,66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:Ab,77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,.69444,
.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,0],
106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],160:La,168:[0,.67937,.06385,0],176:Ab,184:[.17014,
0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:Ab,728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:Ab,732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:Ab,920:[0,.69444,.07555,0],923:Ab,926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,
.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{32:La,33:Ab,34:Ab,35:B,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:Td,46:[0,.08333,0,0],47:Kd,48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,
0,0],58:Td,59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:Ab,64:Ab,65:Ab,66:Ab,67:Ab,68:Ab,69:Ab,70:Ab,71:Ab,72:Ab,73:Ab,74:Ab,75:Ab,76:Ab,77:Ab,78:Ab,79:Ab,80:Ab,81:[.125,.69444,0,0],82:Ab,83:Ab,84:Ab,85:Ab,86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:Ab,89:[0,.69444,.025,0],90:Ab,91:Kd,93:Kd,94:Ab,95:[.35,.09444,.02778,0],97:Td,98:Ab,99:Td,100:Ab,101:Td,102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:Ab,105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:Ab,108:Ab,109:Td,110:Td,111:Td,112:Rb,
113:Rb,114:[0,.44444,.01389,0],115:Td,116:[0,.57143,0,0],117:Td,118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:Td,121:[.19444,.44444,.01389,0],122:Td,126:[.35,.32659,0,0],160:La,168:[0,.67937,0,0],176:Ab,184:[.17014,0,0,0],305:Td,567:Rb,710:Ab,711:[0,.63194,0,0],713:[0,.60889,0,0],714:Ab,715:Ab,728:Ab,729:[0,.67937,0,0],730:Ab,732:[0,.67659,0,0],733:Ab,915:Ab,916:Ab,920:Ab,923:Ab,926:Ab,928:Ab,931:Ab,933:Ab,934:Ab,936:Ab,937:Ab,8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:Ab,8217:Ab,
8220:Ab,8221:Ab},"Script-Regular":{32:La,65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,
.7,.2939,0],90:[0,.7,.24037,0],160:La},"Size1-Regular":{32:La,40:Tc,41:Tc,47:Tc,91:Tc,92:Tc,93:Tc,123:Tc,125:Tc,160:La,710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-9.9E-4,.601,0,0],8593:[1E-5,.6,0,0],8595:[1E-5,.6,0,0],8657:[1E-5,.6,0,0],8659:[1E-5,.6,0,0],8719:be,8720:be,8721:be,8730:Tc,8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:be,8897:be,8898:be,
8899:be,8968:Tc,8969:Tc,8970:Tc,8971:Tc,9168:[-9.9E-4,.601,0,0],10216:Tc,10217:Tc,10752:be,10753:be,10754:be,10756:be,10758:be},"Size2-Regular":{32:La,40:ec,41:ec,47:ec,91:ec,92:ec,93:ec,123:ec,125:ec,160:La,710:xd,732:xd,770:xd,771:xd,8719:Fe,8720:Fe,8721:Fe,8730:ec,8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:Fe,8897:Fe,8898:Fe,8899:Fe,8968:ec,8969:ec,8970:ec,8971:ec,10216:ec,10217:ec,10752:Fe,10753:Fe,10754:Fe,10756:Fe,10758:Fe},
"Size3-Regular":{32:La,40:ae,41:ae,47:ae,91:ae,92:ae,93:ae,123:ae,125:ae,160:La,710:xd,732:xd,770:xd,771:xd,8730:ae,8968:ae,8969:ae,8970:ae,8971:ae,10216:ae,10217:ae},"Size4-Regular":{32:La,40:yd,41:yd,47:yd,91:yd,92:yd,93:yd,123:yd,125:yd,160:La,710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:yd,8968:yd,8969:yd,8970:yd,8971:yd,9115:[.64502,1.155,0,0],9116:[1E-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1E-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,
1.155,0,0],9122:[-9.9E-4,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-9.9E-4,.601,0,0],9126:[.64502,1.155,0,0],9127:[1E-5,.9,0,0],9128:ec,9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1E-5,.9,0,0],9132:ec,9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:yd,10217:yd,57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:La,33:dd,34:dd,35:dd,36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:dd,
39:dd,40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:dd,49:dd,50:dd,51:dd,52:dd,53:dd,54:dd,55:dd,56:dd,57:dd,58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:dd,64:dd,65:dd,66:dd,67:dd,68:dd,69:dd,70:dd,71:dd,72:dd,73:dd,74:dd,75:dd,76:dd,77:dd,78:dd,79:dd,80:dd,81:[.13889,.61111,0,0],82:dd,83:dd,84:dd,85:dd,
86:dd,87:dd,88:dd,89:dd,90:dd,91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:dd,95:[.09514,0,0,0],96:dd,97:[0,.43056,0,0],98:dd,99:[0,.43056,0,0],100:dd,101:[0,.43056,0,0],102:dd,103:[.22222,.43056,0,0],104:dd,105:dd,106:[.22222,.61111,0,0],107:dd,108:dd,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,
.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:dd,127:dd,160:La,176:dd,184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:dd,715:dd,728:dd,730:dd,770:dd,771:dd,776:dd,915:dd,916:dd,920:dd,923:dd,926:dd,928:dd,931:dd,933:dd,934:dd,936:dd,937:dd,8216:dd,8217:dd,8242:dd,9251:[.11111,.21944,0,0]}};const jg=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,
ah={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,
.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},qi=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ui={" ":" ","​":" ","Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h",
"Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};class Gf{constructor(b,f,q){this.id=b;this.sizeDelta=f;this.cramped=q;const D={"-4":2,"-3":1,0:0}[f];this.metrics=Object.keys(ah).reduce((J,K)=>({...J,[K]:ah[K][D]}),{})}getFontSize(b){return Math.max(1,
b+this.sizeDelta)}get sup(){return Nf[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return Nf[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return Nf[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return Nf[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return Nf[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return 0>this.sizeDelta}}const Nf={7:new Gf(7,0,!1),6:new Gf(6,0,!0),5:new Gf(5,0,!1),4:new Gf(4,0,!0),3:new Gf(3,-3,!1),2:new Gf(2,-3,!0),1:new Gf(1,-4,!1),0:new Gf(0,-4,!0)};Nf.displaystyle=Nf[7];Nf.textstyle=Nf[5];Nf.scriptstyle=
Nf[3];Nf.scriptscriptstyle=Nf[1];class de{constructor(b,f,q){var D,J,K,W,ca,fa;b instanceof de&&(this.parent=b);b instanceof de||(this.registers=null!==(D=b.registers)&&void 0!==D?D:{});this.isPhantom=null!==(W=null!==(J=null==f?void 0:f.isPhantom)&&void 0!==J?J:null===(K=this.parent)||void 0===K?void 0:K.isPhantom)&&void 0!==W&&W;D={...b};let xa;if(f&&(f.letterShapeStyle&&"auto"!==f.letterShapeStyle&&(D.letterShapeStyle=f.letterShapeStyle),f.color&&"none"!==f.color&&(D.color=f.color),f.backgroundColor&&
"none"!==f.backgroundColor&&(D.backgroundColor=f.backgroundColor),f.fontSize&&"auto"!==f.fontSize&&f.fontSize!==(null===(ca=this.parent)||void 0===ca?void 0:ca._size)&&(this._size=f.fontSize)),this.letterShapeStyle=null!==(fa=D.letterShapeStyle)&&void 0!==fa?fa:"tex",this.color=D.color,this.backgroundColor=D.backgroundColor,"string"==typeof q){if(b instanceof de)switch(q){case "cramp":xa=b.mathstyle.cramp;break;case "superscript":xa=b.mathstyle.sup;break;case "subscript":xa=b.mathstyle.sub;break;
case "numerator":xa=b.mathstyle.fracNum;break;case "denominator":xa=b.mathstyle.fracDen}switch(q){case "textstyle":xa=Nf.textstyle;break;case "displaystyle":xa=Nf.displaystyle;break;case "scriptstyle":xa=Nf.scriptstyle;break;case "scriptscriptstyle":xa=Nf.scriptscriptstyle}}this._mathstyle=xa;this.atomIdsSettings=b.atomIdsSettings;this.renderPlaceholder=D.renderPlaceholder}get mathstyle(){let b=this._mathstyle,f=this.parent;for(;!b;)b=f._mathstyle,f=f.parent;return b}getRegister(b){var f;return(null===
(f=this.registers)||void 0===f?0:f[b])?this.registers[b]:this.parent?this.parent.getRegister(b):void 0}getRegisterAsGlue(b){var f;if(null===(f=this.registers)||void 0===f?0:f[b])return b=this.registers[b],"object"==typeof b&&"glue"in b?b:"object"==typeof b&&"dimension"in b?{glue:{dimension:b.dimension}}:"number"==typeof b?{glue:{dimension:b}}:void 0;if(this.parent)return this.parent.getRegisterAsGlue(b)}getRegisterAsEm(b){return va(this.getRegisterAsDimension(b))}getRegisterAsDimension(b){var f;if(null===
(f=this.registers)||void 0===f?0:f[b])return b=this.registers[b],"object"==typeof b&&"glue"in b?b.glue:"object"==typeof b&&"dimension"in b?b:"number"==typeof b?{dimension:b}:void 0;if(this.parent)return this.parent.getRegisterAsDimension(b)}setRegister(b,f){void 0!==f?this.registers[b]=f:delete this.registers[b]}setGlobalRegister(b,f){let q=this;for(;q.parent;)q.setRegister(b,void 0),q=q.parent;q.setRegister(b,f)}get size(){let b=this._size,f=this.parent;for(;!b;)b=f._size,f=f.parent;return b}makeID(){if(this.atomIdsSettings){if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;
if("number"!=typeof this.atomIdsSettings.seed)return Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36);var b=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,b}}scale(b){return b*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return 7===this.mathstyle.id||6===this.mathstyle.id}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get effectiveFontSize(){return qi[Math.max(1,
this.size+this.mathstyle.sizeDelta)]}get computedColor(){let b=this.color,f=this.parent;return!b&&f&&(b=f.color),null!=b?b:""}get computedBackgroundColor(){let b=this.backgroundColor,f=this.parent;return!b&&f&&(b=f.backgroundColor),null!=b?b:""}get metrics(){return this.mathstyle.metrics}}const Xh={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],
xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],
.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow",
"rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],
.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Ad={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],
widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},Qf={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",
doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",
leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",
leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:"m 529 160\n  c -179 0 -524 -115 -524 -115\n  c -5 -1 -9 -5 -9 -10\n  c 0 -1 1 -2 1 -3\n  l 4 -22\n  c 1 -5 5 -9 11 -9\n  h 2\n  s 338 93 512 92\n  c 174 0 513 -92 513 -92\n  h 2\n  c 5 0 9 4 11 9\n  l 5 22\n  c 1 6 -2 12 -8 13\n  c 0 0 -342 115 -520 115\n  z\n  ",
leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",
leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",
leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",
leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",
midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",
oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",
oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",
rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",
rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",
rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",
rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",
rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",
twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",
widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",
widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",
widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",
widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",
baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",
rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",
baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",
shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};
class tg{constructor(b){tg._registry[b]=this}static createAtom(b,f,q,D){return tg._registry[b].createAtom(f,q,D)}static serialize(b,f){return tg._registry[b[0].mode].serialize(b,f)}static applyStyle(b,f,q){return tg._registry[b].applyStyle(f,q)}}tg._registry={};const Uf=" chem mord mbin mop mrel mopen mclose mpunct minner spacing first latex composition error placeholder supsub none mathfield".split(" "),nh={mord:{mop:3,mbin:4,mrel:5,minner:3},mop:{mord:3,mop:3,rel:5,minner:3},mbin:{mord:4,mop:4,
mopen:4,minner:4},mrel:{mord:5,mop:5,mopen:5,minner:5},mclose:{mop:3,mbin:4,mrel:5,minner:3},mpunct:{mord:3,mop:3,mrel:3,mopen:3,mpunct:3,minner:3},minner:{mord:3,mop:3,mbin:4,mrel:5,mopen:3,mpunct:3,minner:3}},Pg={mord:{mop:3},mop:{mord:3,mop:3},mclose:{mop:3},minner:{mop:3}};class Zc{constructor(b,f){var q,D,J,K,W;if("number"==typeof b?this.value=String.fromCodePoint(b):"string"==typeof b?this.value=b:u(b)?this.children=b.filter(xa=>null!==xa):b&&b instanceof Zc&&(this.children=[b]),this.type=null!==
(q=null==f?void 0:f.type)&&void 0!==q?q:"",this.isSelected=!1,this.isTight=null!==(D=null==f?void 0:f.isTight)&&void 0!==D&&D,this.newList=null!==(J=null==f?void 0:f.newList)&&void 0!==J&&J,null==f?void 0:f.properties)for(const xa of Object.keys(f.properties))this.setStyle(xa,f.properties[xa]);(null==f?0:f.attributes)&&(this.attributes=f.attributes);this.classes=null!==(K=null==f?void 0:f.classes)&&void 0!==K?K:"";q=(null==f?void 0:f.fontFamily)||"Main-Regular";if((null==f?void 0:f.style)&&this.value&&
(q=tg.applyStyle(null!==(W=f.mode)&&void 0!==W?W:"math",this,f.style)||"Main-Regular"),this.height=0,this.depth=0,this.skew=0,this.italic=0,this.maxFontSize=0,"latex"===this.type)this.height=.8,this.depth=.2;else if("number"==typeof b){var ca=jb(b,q);this.height=ca.height;this.depth=ca.depth;this.skew=ca.skew;this.italic=ca.italic}else if(this.value)for(this.height=-1/0,this.depth=-1/0,this.skew=-1/0,this.italic=-1/0,ca=0;ca<this.value.length;ca++){var fa=jb(this.value.codePointAt(ca),q||"Main-Regular");
this.height=Math.max(this.height,fa.height);this.depth=Math.max(this.depth,fa.depth);this.skew=fa.skew;this.italic=fa.italic}else if(this.children&&0<this.children.length)if(1===this.children.length)ca=this.children[0],this.height=ca.height,this.depth=ca.depth,this.maxFontSize=ca.maxFontSize,this.skew=ca.skew,this.italic=ca.italic;else{b=-1/0;W=-1/0;q=0;for(fa of this.children)fa.height>b&&(b=fa.height),fa.depth>W&&(W=fa.depth),q=Math.max(q,null!==(ca=fa.maxFontSize)&&void 0!==ca?ca:0);this.height=
b;this.depth=W;this.maxFontSize=q}void 0!==(null==f?void 0:f.height)&&(this.height=f.height);void 0!==(null==f?void 0:f.depth)&&(this.depth=f.depth);void 0!==(null==f?void 0:f.maxFontSize)&&(this.maxFontSize=f.maxFontSize)}set atomID(b){void 0!==b&&0!==b.length&&(this.attributes||(this.attributes={}),this.attributes["data-atom-id"]=b)}selected(b){if(this.isSelected!==b&&(this.isSelected=b,this.children))for(const f of this.children)f.selected(b)}setStyle(b,f,q){void 0!==f&&(f=Oa(f,q),0<f.length&&
(this.cssProperties||(this.cssProperties={}),this.cssProperties[b]=f))}setTop(b){Number.isFinite(b)&&.01<Math.abs(b)&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=Oa(b,"em"),this.height-=b,this.depth+=b)}get left(){var b;return(null===(b=this.cssProperties)||void 0===b?0:b["margin-left"])?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties=
{}),this.cssProperties["margin-left"]=Oa(b,"em")))}set right(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=Oa(b,"em")))}set width(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties.width:(this.cssProperties||(this.cssProperties={}),this.cssProperties.width=Oa(b,"em")))}wrap(b,f){const q=b.parent;if(!q)return this;b.isPhantom&&this.setStyle("opacity",
0);var D=b.computedColor;D===q.computedColor&&(D="");this.setStyle("color",D);D=b.effectiveFontSize===q.effectiveFontSize?void 0:b.effectiveFontSize;let J,K=b.computedBackgroundColor;if(this.isSelected&&(K=E(K)),K===q.computedBackgroundColor&&(K=""),!(D||K||f&&(f.classes||f.type)))return this;K?(J=Eb(this,f),J.selected(this.isSelected),J.setStyle("background-color",K),J.setStyle("display","inline-block")):J=new Zc(this,f);b=b.scalingFactor;return 1!==b&&(J.setStyle("font-size",100*b,"%"),J.height*=
b,J.depth*=b,J.italic*=b,J.skew*=b),J}wrapSelect(b){if(!this.isSelected||!b.parent)return this;b=E(b.computedBackgroundColor);const f=Eb(this);return f.selected(!0),f.setStyle("background-color",b),f.setStyle("display","inline-block"),f}toMarkup(){var b,f,q;let D=null!==(b=this.value)&&void 0!==b?b:"";if(this.children)for(var J of this.children)D+=J.toMarkup();b=this.classes.split(" ");b.push(null!==(f={latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])&&void 0!==f?f:"");
"latex"===this.caret&&b.push("ML__latex-caret");b=1===b.length?b[0]:b.filter((fa,xa,ra)=>0<fa.length&&ra.indexOf(fa)===xa).join(" ");f="";if(0<D.length&&"​"!==D||0<b.length||this.cssId||this.htmlData||this.htmlStyle||this.attributes||this.cssProperties||this.svgBody||this.svgOverlay){f="";if(this.cssId&&(f+=` id=${this.cssId.replace(/ /g,"-")} `),this.htmlData){J=this.htmlData.split(",");for(var K of J)if(J=K.match(/([^=]+)=(.+$)/)){var W=J[1].trim().replace(/ /g,"-");W&&(f+=` data-${W}=${J[2]} `)}else(J=
K.trim().replace(/ /g,"-"))&&(f+=` data-${J} `)}if(this.htmlStyle){J=this.htmlStyle.split(";");K="";for(var ca of J)(J=ca.match(/([^=]+):(.+$)/))&&(W=J[1].trim().replace(/ /g,"-"))&&(K+=`${W}:${J[2]};`);K&&(f+=` style="${K}"`)}if(this.attributes&&(f+=" "+Object.keys(this.attributes).map(fa=>`${fa}="${this.attributes[fa]}"`).join(" ")),0<b.length&&(f+=` class="${b}"`),this.cssProperties)ca=Object.keys(this.cssProperties).map(fa=>`${fa}:${this.cssProperties[fa]}`).join(";"),0<ca.length&&(f+=` style="${ca}"`);
ca="";this.svgBody?ca=function(fa){if(Ad[fa]){const [Xb,sc,qc]=Ad[fa];return`<span style="display:inline-block;height:${qc/2}em;min-width:0"><span class="stretchy" style="height:${qc}em"><svg width="100%" height="${qc}em" viewBox="0 0 ${Xb} ${sc}" preserveAspectRatio="none" ><path fill="currentcolor" d="${Qf[fa]}"></path></svg></span></span>`}const [xa,ra,Na,Ua]=Xh[fa];let db,vb;const Qb=Na/1E3;3===xa.length?(db=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],vb=["xMinYMin","xMidYMin","xMaxYMin"]):
2===xa.length?(db=["slice-1-of-2","slice-2-of-2"],vb=["xMinYMin","xMaxYMin"]):(db=["slice-1-of-1"],vb=[Ua]);fa=xa.map((Xb,sc)=>`<span class="${db[sc]}" style=height:${Qb}em><svg width=400em height=${Qb}em viewBox="0 0 400000 ${Na}" preserveAspectRatio="${vb[sc]} slice"><path fill="currentcolor" d="${Qf[Xb]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${Qb}em;min-width:${ra}em;">${fa}</span>`}(this.svgBody):this.svgOverlay&&(ca='\x3cspan style\x3d"',ca+="display: inline-block;",
ca+=`height:${this.height+this.depth}em;`,ca+=`vertical-align:${this.depth}em;`,ca+='"\x3e',ca+=D,ca+="\x3c/span\x3e",ca+='\x3csvg style\x3d"position:absolute;overflow:overlay;',ca+=`height:${this.height+this.depth}em;`,(null===(q=this.cssProperties)||void 0===q?0:q.padding)?(ca+=`top:${this.cssProperties.padding}em;`,ca+=`left:${this.cssProperties.padding}em;`,ca+=`width:calc(100% - 2 * ${this.cssProperties.padding}em );`):ca+="top:0;left:0;width:100%;",ca+="z-index:2;",ca+='"',this.svgStyle&&(ca+=
` style="${this.svgStyle}"`),ca+=`>${this.svgOverlay}</svg>`);f=`<span${f}>${D}${ca}</span>`}return"text"===this.caret?f+='\x3cspan class\x3d"ML__text-caret"\x3e\x3c/span\x3e':"math"===this.caret&&(f+='\x3cspan class\x3d"ML__caret"\x3e\x3c/span\x3e'),f}tryCoalesceWith(b){if(this.type!==b.type||!/ML__text/.test(this.classes)&&!["mord","mbin","mrel"].includes(this.type)||this.svgBody||!this.value||b.svgBody||!b.value)return!1;var f=b.children&&0<b.children.length;if(this.children&&0<this.children.length||
f)return!1;f=this.cssProperties?Object.keys(this.cssProperties).length:0;if(f!==(b.cssProperties?Object.keys(b.cssProperties).length:0))return!1;if(0<f)for(var q of Object.keys(this.cssProperties))if(this.cssProperties[q]!==b.cssProperties[q])return!1;q=this.classes.trim().replace(/\s+/g," ").split(" ");f=b.classes.trim().replace(/\s+/g," ").split(" ");if(q.length!==f.length)return!1;q.sort();f.sort();for(const [D,J]of q.entries())if("vertical-separator"===J||J!==f[D])return!1;return this.value+=
b.value,this.height=Math.max(this.height,b.height),this.depth=Math.max(this.depth,b.depth),this.maxFontSize=Math.max(this.maxFontSize,b.maxFontSize),this.italic=b.italic,!0}}class we extends Zc{constructor(b,f){var q;const [D,J,K]=function(W){var ca;const [fa,xa]=function(sc){if("individualShift"in sc){sc=sc.individualShift;var qc=sc[0],pd=[qc],id=-qc.shift-qc.box.depth;let Vd=id;for(let tf=1;tf<sc.length;tf++){const pf=sc[tf],uf=-pf.shift-Vd-pf.box.depth;qc=uf-(qc.box.height+qc.box.depth);Vd+=uf;
pd.push(qc);pd.push(pf);qc=pf}return[pd,id]}if("top"in sc){pd=sc.top;for(id of sc.children)pd-="number"==typeof id?id:id.box.height+id.box.depth;return[sc.children,pd]}if("bottom"in sc)return[sc.children,-sc.bottom];if("firstBaseline"in sc){pd=sc.firstBaseline[0];if("number"==typeof pd)throw Error("First child must be an element.");return[sc.firstBaseline,-pd.box.depth]}if("shift"in sc){pd=sc.children[0];if("number"==typeof pd)throw Error("First child must be an element.");return[sc.children,-pd.box.depth-
sc.shift]}return[null,0]}(W);if(!fa)return[[],0,0];var ra=0;for(var Na of fa)"number"!=typeof Na&&(W=Na.box,ra=Math.max(ra,W.maxFontSize,W.height));ra+=2;const Ua=new Zc(null,{classes:"pstrut"});Ua.setStyle("height",ra,"em");const db=[];let vb=W=Na=xa;for(var Qb of fa){if("number"==typeof Qb)vb+=Qb;else{const sc=Qb.box;var Xb=null!==(ca=Qb.classes)&&void 0!==ca?ca:[];Xb=new Zc([Ua,sc],{classes:Xb.join(" "),style:Qb.style});Xb.setStyle("top",-ra-vb-sc.depth,"em");Qb.marginLeft&&Xb.setStyle("margin-left",
Qb.marginLeft,"em");Qb.marginRight&&Xb.setStyle("margin-right",Qb.marginRight,"em");db.push(Xb);vb+=sc.height+sc.depth}Na=Math.min(Na,vb);W=Math.max(W,vb)}ca=new Zc(db,{classes:"vlist"});if(ca.setStyle("height",W,"em"),0<=Na)return[[new Zc(ca,{classes:"vlist-r"})],W,-Na];Qb=new Zc(new Zc(null),{classes:"vlist"});Qb.setStyle("height",-Na,"em");ra=new Zc(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});return[[new Zc([ca,ra],{classes:"vlist-r"}),new Zc(Qb,{classes:"vlist-r"})],W,-Na]}(b);super(1===
D.length?D[0]:D,{classes:(null!==(q=null==f?void 0:f.classes)&&void 0!==q?q:"")+" vlist-t"+(2===D.length?" vlist-t2":""),height:J,depth:K,type:null==f?void 0:f.type})}}const Vi=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];let Qe;const Tj=[127462,127487];class Dk{constructor(b){this.s=L(b);this.pos=0;this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(b){b="string"==typeof this.s?b.exec(this.s.slice(this.pos)):
b.exec(this.s.slice(this.pos).join(""));return(null==b?0:b[0])?(this.pos+=b[0].length,b[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"\x3cspace\x3e";var b=this.get();if("\\"===b){if(!this.end()){if(b=this.match(/^[a-zA-Z\*]+/))this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/);else if(b=this.get()," "===b)return"\x3cspace\x3e";return"\\"+b}}else{if("{"===b)return"\x3c{\x3e";
if("}"===b)return"\x3c}\x3e";if("^"===b){if("^"===this.peek()){this.get();const f=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(f)return String.fromCodePoint(Number.parseInt(f.slice(f.lastIndexOf("^")+1),16))}return b}if("#"===b){if(!this.end())return b=!1,/[\d?@]/.test(this.peek())&&(b=!0,this.pos+1<this.s.length)&&(b=/[^\dA-Za-z]/.test(this.s[this.pos+1])),b?"#"+this.get():"#"}else if("$"===b)return"$"===this.peek()?(this.get(),"\x3c$$\x3e"):"\x3c$\x3e"}return b}}
class Ek extends Zc{constructor(b,f,q){super(null,q);this.mathfield=f;this.htmlData=`placeholder-id=${b} `;b=f._mathfield;b=Eb(zb(b.model.root.render(new de({registers:b.registers},{fontSize:5,letterShapeStyle:b.options.letterShapeStyle},"inline-math"===b.options.defaultMode?"textstyle":"displaystyle")),b.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}});this.height=b.height;this.depth=b.depth}toMarkup(){const b=[];var f=this.classes.split(" ");
f=1===f.length?f[0]:f.filter((W,ca,fa)=>0<W.length&&fa.indexOf(W)===ca).join(" ");if(this.cssId&&b.push(`id=${this.cssId.replace(/ /g,"-")}`),this.htmlData){var q=this.htmlData.split(",");for(var D of q)if(q=D.match(/([^=]+)=(.+$)/)){var J=q[1].trim().replace(/ /g,"-");J&&b.push(`data-${J}=${q[2]}`)}else(q=D.trim().replace(/ /g,"-"))&&b.push(`data-${q}`)}if(this.htmlStyle){q=this.htmlStyle.split(";");D="";for(var K of q)(q=K.match(/([^=]+):(.+$)/))&&(J=q[1].trim().replace(/ /g,"-"))&&(D+=`${J}:${q[2]};`);
D&&b.push(`style="${D}"`)}this.attributes&&b.push(...Object.keys(this.attributes).map(W=>`${W}="${this.attributes[W]}"`));0<f.length&&b.push(`class="${f}"`);K=this.mathfield;return b.push(`style="display:inline-block; width:${K.clientWidth}px; height:${K.clientHeight}px;" `),`<span ${b.join(" ")}></span>`}}const Ch=["above","body","below","superscript","subscript"];class wc{constructor(b,f,q){var D,J,K,W,ca,fa;this.verbatimLatex=this.id=void 0;this._isDirty=!1;this._changeCounter=0;this.subsupPlacement=
void 0;this.captureSelection=this.skipBoundary=this.explicitSubsupPlacement=!1;this.type=b;this.context=f;"string"==typeof(null==q?void 0:q.value)&&(this.value=q.value);this.command=null!==(J=null!==(D=null==q?void 0:q.command)&&void 0!==D?D:this.value)&&void 0!==J?J:"";this.mode=null!==(K=null==q?void 0:q.mode)&&void 0!==K?K:"math";this.isFunction=null!==(W=null==q?void 0:q.isFunction)&&void 0!==W&&W;this.subsupPlacement=null==q?void 0:q.limits;this.style=null!==(ca=null==q?void 0:q.style)&&void 0!==
ca?ca:{};this.displayContainsHighlight=null!==(fa=null==q?void 0:q.displayContainsHighlight)&&void 0!==fa&&fa;(null==q?0:q.serialize)&&(wc.customSerializer[q.command]=q.serialize)}static createBox(b,f,q){var D,J;if(!f)return null;var K,W=[];var ca=[];for(const xa of f)K||xa.style?(f=xa.computedStyle,K&&f.color===K.color&&f.backgroundColor===K.backgroundColor&&f.fontSize===K.fontSize?ca.push(xa):(0<ca.length&&W.push(ca),ca=[xa],K=f)):ca.push(xa);ca=(0<ca.length&&W.push(ca),W);if(1===ca.length){var fa=
ca[0];return fa[0].style?Ba(b,fa,{...q,style:{color:fa[0].style.color,backgroundColor:fa[0].style.backgroundColor,fontSize:fa[0].style.fontSize}}):Ba(b,fa,q)}K=[];W=null==q?void 0:q.newList;for(const xa of ca)(ca=Ba(new de(b,{color:null===(fa=xa[0].style)||void 0===fa?void 0:fa.color,backgroundColor:null===(D=xa[0].style)||void 0===D?void 0:D.backgroundColor,fontSize:null===(J=xa[0].style)||void 0===J?void 0:J.fontSize}),xa,{newList:W}))&&(W=!1,K.push(ca));return 0===K.length?null:1!==K.length||(null==
q?0:q.classes)||(null==q?0:q.type)?(new Zc(K,{classes:null==q?void 0:q.classes,type:null==q?void 0:q.type,newList:null==q?void 0:q.newList})).wrap(b):K[0].wrap(b)}static serialize(b,f){return u(b)?hb(b,f):"number"==typeof b||"boolean"==typeof b?b.toString():"string"==typeof b?b.replace(/\s/g,"~"):void 0===b?"":f.expandMacro||"string"!=typeof b.verbatimLatex?b.command&&wc.customSerializer[b.command]?wc.customSerializer[b.command](b,f):b.serialize(f):b.verbatimLatex}static commonAncestor(b,f){if(b===
f||b.parent===f.parent)return b.parent;const q=new WeakSet;for({parent:b}=b;b;)q.add(b),b=b.parent;for(b=f.parent;b;){if(q.has(b))return b;b=b.parent}}static fromJson(b,f){f=new wc(b.type,f,b);for(const q of Ch)b[q]&&f.setChildren(b[q],q);return f}toJson(){const b={type:this.type};if("math"!==this.mode&&(b.mode=this.mode),this.command&&this.command!==this.value&&(b.command=this.command),void 0!==this.value&&(b.value=this.value),this.style&&0<Object.keys(this.style).length&&(b.style={...this.style}),
void 0!==this.verbatimLatex&&(b.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(b.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(b.explicitSubsupPlacement=!0),this.isFunction&&(b.isFunction=!0),this.displayContainsHighlight&&(b.displayContainsHighlight=!0),this.isExtensibleSymbol&&(b.isExtensibleSymbol=!0),this.skipBoundary&&(b.skipBoundary=!0),this.captureSelection&&(b.captureSelection=!0),this._branches)for(const f of Object.keys(this._branches))this._branches[f]&&
(b[f]=this._branches[f].filter(q=>"first"!==q.type).map(q=>q.toJson()));return b}get changeCounter(){return this._changeCounter}get isDirty(){return this._isDirty}set isDirty(b){if(this._isDirty=b,b)for(this._changeCounter++,this._children=this.verbatimLatex=void 0,{parent:b}=this;b;)b._isDirty=!0,b._changeCounter++,b.verbatimLatex=void 0,b._children=void 0,b=b.parent}serialize(b){var f;return this.body&&this.command?sa([this.command,"{",this.bodyToLatex(b),"}",this.supsubToLatex(b)]):this.body?sa([this.bodyToLatex(b),
this.supsubToLatex(b)]):this.value&&"​"!==this.value?null!==(f=this.command)&&void 0!==f?f:function(q,D){var J;if("text"===q)return null!==(J=Q(q,D.codePointAt(0)))&&void 0!==J?J:D;let K;if(K=Q(q,D.codePointAt(0)),K)return K;q=function(W){var ca;if((119808>W||120831<W)&&(8448>W||8527<W))return{char:String.fromCodePoint(W)};for(const fa in Zg)if(Zg[fa]===W){W=null!==(ca=fa.codePointAt(0))&&void 0!==ca?ca:0;break}for(const fa of Ef)if(W>=fa.start&&W<fa.start+fa.len)return{char:String.fromCodePoint(W-
fa.start+fa.offset),variant:fa.variant,style:fa.style};return{char:String.fromCodePoint(W)}}(D.codePointAt(0));return q.style||q.variant?(K=q.char,q.variant&&(K="\\"+q.variant+"{"+K+"}"),"bold"===q.style?K="\\mathbf{"+K+"}":"italic"===q.style?K="\\mathit{"+K+"}":"bolditalic"===q.style&&(K="\\mathbfit{"+K+"}"),"\\mathord{"+K+"}"):""}(this.mode,this.value):""}bodyToLatex(b){return hb(this.body,b)}aboveToLatex(b){return hb(this.above,b)}belowToLatex(b){return hb(this.below,b)}supsubToLatex(b){let f=
"";if(void 0!==this.branch("subscript")){const q=hb(this.subscript,b);0===q.length?f+="_{}":1===q.length?f+="_"+q:f+=`_{${q}}`}void 0!==this.branch("superscript")&&(b=hb(this.superscript,b),0===b.length?f+="^{}":1===b.length?f+="′"===b?"^\\prime ":"″"===b?"^\\doubleprime ":"^"+b:f+=`^{${b}}`);return f}get treeDepth(){let b=1,f=this.parent;for(;f;)f=f.parent,b+=1;return b}get inCaptureSelection(){let b=!1,f=this;for(;f;){if(f.captureSelection){b=!0;break}f=f.parent}return b}branch(b){if(Ja(b)&&this._branches)return this._branches[b]}get branches(){if(!this._branches)return[];
const b=[];for(const f of Ch)this._branches[f]&&b.push(f);return b}createBranch(b){return Ja(b)?(this._branches?this._branches[b]||(this._branches[b]=[this.makeFirstAtom(b)]):this._branches={[b]:[this.makeFirstAtom(b)]},this.isDirty=!0,this._branches[b]):[]}get row(){return Sa(this.treeBranch)?this.treeBranch[0]:-1}get col(){return Sa(this.treeBranch)?this.treeBranch[1]:-1}get body(){var b;return null===(b=this._branches)||void 0===b?void 0:b.body}set body(b){this.setChildren(b,"body")}get superscript(){var b;
return null===(b=this._branches)||void 0===b?void 0:b.superscript}set superscript(b){this.setChildren(b,"superscript")}get subscript(){var b;return null===(b=this._branches)||void 0===b?void 0:b.subscript}set subscript(b){this.setChildren(b,"subscript")}get above(){var b;return null===(b=this._branches)||void 0===b?void 0:b.above}set above(b){this.setChildren(b,"above")}get below(){var b;return null===(b=this._branches)||void 0===b?void 0:b.below}set below(b){this.setChildren(b,"below")}get computedStyle(){var b;
if(!this.parent)return{...(null!==(b=this.style)&&void 0!==b?b:{})};b=void 0!==this.style.verbatimColor;const f=void 0!==this.style.verbatimBackgroundColor,q={...this.parent.computedStyle,...this.style};return delete q.variant,delete q.variantStyle,f||delete q.verbatimBackgroundColor,b||delete q.verbatimColor,q}applyStyle(b){this.isDirty=!0;this.style={...this.style,...b};"none"===this.style.fontFamily&&delete this.style.fontFamily;"auto"===this.style.fontShape&&delete this.style.fontShape;"auto"===
this.style.fontSeries&&delete this.style.fontSeries;"none"===this.style.color&&(delete this.style.color,delete this.style.verbatimColor);"none"===this.style.backgroundColor&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor);"auto"===this.style.fontSize&&delete this.style.fontSize;for(const f of this.children)f.applyStyle(b)}getInitialBaseElement(){let b;return this.hasEmptyBranch("body")||(b=this.body[1].getInitialBaseElement()),null!=b?b:this}getFinalBaseElement(){return this.hasEmptyBranch("body")?
this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){if("leftright"===this.type)return!1;const b=this.getInitialBaseElement();return/mord/.test(b.type)}hasEmptyBranch(b){b=this.branch(b);return!b||1===b.length}setChildren(b,f){if(b&&Ja(f)){var q=[this.makeFirstAtom(f),...b];this._branches?this._branches[f]=q:this._branches={[f]:q};for(const D of b)D.parent=this,D.treeBranch=f;this.isDirty=!0}}makeFirstAtom(b){const f=new wc("first",this.context,{mode:this.mode});return f.parent=
this,f.treeBranch=b,f}addChild(b,f){this.createBranch(f).push(b);this.isDirty=!0;b.parent=this;b.treeBranch=f}addChildBefore(b,f){const q=this.createBranch(f.treeBranch);q.splice(q.indexOf(f),0,b);this.isDirty=!0;b.parent=this;b.treeBranch=f.treeBranch}addChildAfter(b,f){const q=this.createBranch(f.treeBranch);q.splice(q.indexOf(f)+1,0,b);this.isDirty=!0;b.parent=this;b.treeBranch=f.treeBranch}addChildren(b,f){for(const q of b)this.addChild(q,f)}addChildrenAfter(b,f){const q=this.createBranch(f.treeBranch);
q.splice(q.indexOf(f)+1,0,...b);this.isDirty=!0;for(const D of b)D.parent=this,D.treeBranch=f.treeBranch;return b[b.length-1]}removeBranch(b){const f=this.branch(b);if(Ja(b)&&(this._branches[b]=void 0),!f)return[];for(const q of f)q.parent=void 0,q.treeBranch=void 0;return f.shift(),this.isDirty=!0,f}removeChild(b){if("first"!==b.type){var f=this.branch(b.treeBranch),q=f.indexOf(b);f.splice(q,1);this.isDirty=!0;b.parent=void 0;b.treeBranch=void 0}}get siblings(){return"root"===this.type?[]:this.parent.branch(this.treeBranch)}get firstSibling(){return this.siblings[0]}get lastSibling(){const {siblings:b}=
this;return b[b.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return 1===this.siblings.length}get leftSibling(){const b=this.parent.branch(this.treeBranch);return b[b.indexOf(this)-1]}get rightSibling(){const b=this.parent.branch(this.treeBranch);return b[b.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&0<this.children.length)}get firstChild(){return this.children[0]}get lastChild(){const {children:b}=
this;return b[b.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];const b=[];for(const f of Ch)if(this._branches[f])for(const q of this._branches[f])b.push(...q.children),b.push(q);return this._children=b,b}render(b,f){if("first"===this.type&&!b.atomIdsSettings)return null;b=new de(b,this.style);let q="";"root"===this.type&&(q+=" ML__base");this.isSelected&&(q+=" ML__selected");return(f=this.createBox(b,{classes:q,newList:!0===(null==f?void 0:f.newList)||
"first"===this.type}))?(this.subsupPlacement||!this.superscript&&!this.subscript||(f=this.attachSupsub(b,{base:f})),f.wrap(b)):null}attachSupsub(b,f){var q;const D=f.base;var J=this.superscript,K=this.subscript;if(!J&&!K)return D;let W=null,ca=null;var fa=null!==(q=f.isCharacterBox)&&void 0!==q?q:this.isCharacterBox();q=0;if(J){var xa=new de(b,void 0,"superscript");W=wc.createBox(xa,J,{newList:!0});fa||(q=D.height-b.metrics.supDrop*xa.scalingFactor)}J=0;K&&(xa=new de(b,void 0,"subscript"),ca=wc.createBox(xa,
K,{newList:!0}),fa||(J=D.depth+b.metrics.subDrop*xa.scalingFactor));K=b.isDisplayStyle?b.metrics.sup1:b.isCramped?b.metrics.sup3:b.metrics.sup2;fa=.05/b.scalingFactor;xa=null;if(ca&&W){q=Math.max(q,K,W.depth+.25*b.metrics.xHeight);J=Math.max(J,b.metrics.sub2);var ra=b.metrics.defaultRuleThickness;q-W.depth-(ca.height-J)<4*ra&&(J=4*ra-(q-W.depth)+ca.height,ra=.8*b.metrics.xHeight-(q-W.depth),0<ra&&(q+=ra,J-=ra));xa=(new we({individualShift:[{box:ca,shift:J,marginLeft:this.isExtensibleSymbol&&D.italic?
-D.italic:0},{box:W,shift:-q}]})).wrap(b)}else ca&&!W?(J=Math.max(J,b.metrics.sub1,ca.height-.3448),xa=new we({shift:J,children:[{box:ca,marginRight:fa,marginLeft:this.isCharacterBox()?-(null!==(ra=D.italic)&&void 0!==ra?ra:0):0}]})):!ca&&W&&(q=Math.max(q,K,W.depth+.10775),xa=new we({shift:-q,children:[{box:W,marginRight:fa}]}),xa.wrap(b));b=new Zc(xa,{classes:"msubsup"+(this.isSelected?" ML__selected":"")});return this.caret&&(b.caret=this.caret),new Zc([D,b],{type:f.type})}attachLimits(b,f){var q,
D=this.superscript?wc.createBox(new de(b,this.style,"superscript"),this.superscript,{newList:!0}):null,J=this.subscript?wc.createBox(new de(b,this.style,"subscript"),this.subscript,{newList:!0}):null;if(D||J){f={...f,above:D,below:J,type:null!==(q=null==f?void 0:f.type)&&void 0!==q?q:"mop"};var K,W,ca,fa,xa;q=b.metrics;D=new Zc(f.base);J=null!==(K=f.baseShift)&&void 0!==K?K:0;K=null!==(W=f.slant)&&void 0!==W?W:0;let ra=W=0;f.above&&(W=null!==(ca=f.aboveShift)&&void 0!==ca?ca:Math.max(q.bigOpSpacing1,
q.bigOpSpacing3-f.above.depth));f.below&&(ra=null!==(fa=f.belowShift)&&void 0!==fa?fa:Math.max(q.bigOpSpacing2,q.bigOpSpacing4-f.below.height));b=f.below&&f.above?(new we({bottom:q.bigOpSpacing5+f.below.height+f.below.depth+ra+D.depth+J,children:[q.bigOpSpacing5,{box:f.below,marginLeft:-K,classes:["ML__center"]},ra,{box:D,classes:["ML__center"]},W,{box:f.above,marginLeft:K,classes:["ML__center"]},q.bigOpSpacing5]})).wrap(b):f.below&&!f.above?(new we({top:D.height-J,children:[q.bigOpSpacing5,{box:f.below,
marginLeft:-K,classes:["ML__center"]},ra,{box:D,classes:["ML__center"]}]})).wrap(b):!f.below&&f.above?(new we({bottom:D.depth+J,children:[{box:D,classes:["ML__center"]},W,{box:f.above,marginLeft:K,classes:["ML__center"]},q.bigOpSpacing5]})).wrap(b):(new we({bottom:D.depth+J,children:[{box:D},q.bigOpSpacing5]})).wrap(b);b=new Zc(b,{type:null!==(xa=f.type)&&void 0!==xa?xa:"mop"})}else b=f.base.wrap(b);return b}bind(b,f){if(!f||b.isPhantom||"​"===this.value)return f;let q=this.parent;for(;q&&!q.captureSelection;)q=
q.parent;return(null==q?void 0:q.captureSelection)||(this.id||(this.id=b.makeID()),f.atomID=this.id),f}createMathfieldBox(b,f,q){f=new Ek(q,f,{type:"mathfield",mode:this.mode,maxFontSize:b.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:b.letterShapeStyle,fontSize:Math.max(1,b.size+b.mathstyle.sizeDelta)},classes:""});return b.isTight&&(f.isTight=!0),"math"===this.mode&&"main"!==this.style.variant||(f.italic=0),f.right=f.italic,this.bind(b,f),Eb(f,{type:"mord"})}createBox(b,f){var q,
D,J;const K=null!==(q=this.value)&&void 0!==q?q:this.body;q=Uf.includes(this.type)?this.type:void 0;let W=null!==(D=null==f?void 0:f.classes)&&void 0!==D?D:"";"text"===this.mode&&(W+=" ML__text");f="string"==typeof K||void 0===K?new Zc(null!==K&&void 0!==K?K:null,{type:q,mode:this.mode,maxFontSize:b.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:b.letterShapeStyle,fontSize:Math.max(1,b.size+b.mathstyle.sizeDelta)},classes:W,newList:null==f?void 0:f.newList}):null!==(J=wc.createBox(b,
K,{type:q,mode:this.mode,style:this.style,classes:W,newList:null==f?void 0:f.newList}))&&void 0!==J?J:new Zc(null);return b.isTight&&(f.isTight=!0),"math"===this.mode&&"main"!==this.style.variant||(f.italic=0),f.right=f.italic,this.bind(b,f),this.caret&&(this.superscript||this.subscript||(f.caret=this.caret)),f}isDigit(){var b;return"mord"===this.type&&this.value?/^[\d,.]$/.test(this.value):"group"===this.type&&2===(null===(b=this.body)||void 0===b?void 0:b.length)&&"first"===this.body[0].type&&","===
this.body[1].value}asDigit(){var b;return"mord"===this.type&&this.value&&/^[\d,.]$/.test(this.value)?this.value:"group"===this.type&&2===(null===(b=this.body)||void 0===b?void 0:b.length)&&"first"===this.body[0].type&&","===this.body[1].value?".":""}}wc.customSerializer={};class ri extends wc{constructor(b,f,q,D){super("accent",q,{command:b,style:D.style});D.accentChar?this.accent=D.accentChar:this.svgAccent=null==D?void 0:D.svgAccent;this.body=f;this.skipBoundary=!0}static fromJson(b,f){return new ri(b.command,
b.body,f,{accentChar:b.accentChar,svgAccent:b.svgAccent,style:b.style})}toJson(){return{...super.toJson(),accentChar:this.accent,svgAccent:this.svgAccent}}render(b){var f;b=new de(b,this.style,"cramp");var q=null!==(f=wc.createBox(b,this.body))&&void 0!==f?f:new Zc(null);f=0;!this.hasEmptyBranch("body")&&2===this.body.length&&this.body[1].isCharacterBox()&&(f=q.skew);let D=Math.min(q.height,.431);if(this.svgAccent){var J=kb(this.svgAccent);D=b.metrics.bigOpSpacing1-D}else if(this.accent){J=new Zc(this.accent,
{fontFamily:"Main-Regular"});J.italic=0;const K=8407===this.accent?" ML__accent-vec":"";J=new Zc(new Zc(J),{classes:"ML__accent-body"+K})}J=new we({shift:0,children:[{box:new Zc(q)},-D,{box:J,marginLeft:q.left+2*f,classes:["ML__center"]}]});q=new Zc(J,{newList:!0,type:"mord"});return this.caret&&(q.caret=this.caret),this.bind(b,q.wrap(b)),this.attachSupsub(b,{base:q})}}const wh={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor",
"\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},Fk=Object.fromEntries(Object.entries(wh).map(([b,f])=>[f,b])),Id=new Set("( ) \\lparen \\rparen [ ] \\lbrack \\rbrack \\{ \\} \\lbrace \\rbrace \\lfloor \\rfloor \\lceil \\rceil \\surd ⌊ ⌋ ⌈ ⌉".split(" ")),Gk=new Set("\\uparrow \\downarrow \\updownarrow \\Uparrow \\Downarrow \\Updownarrow | \\| \\vert \\Vert \\lvert \\rvert \\lVert \\rVert \\mvert \\mid \\lgroup \\rgroup \\lmoustache \\rmoustache ⟮ ⟯ ⎰ ⎱".split(" ")),
kg=new Set("\x3c \x3e \\langle \\rangle / \\backslash \\lt \\gt".split(" ")),oj=[0,1.2,1.8,2.4,3],Yh=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],lg=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],si=[{type:"small",mathstyle:"scriptscriptstyle"},
{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];class We extends wc{constructor(b,f,q){var D,J,K,W;super("overunder",f,{command:b,serialize:q.serialize,style:q.style});this.skipBoundary=null===(D=q.skipBoundary)||void 0===D||D;this.subsupPlacement=q.supsubPlacement;this.body=q.body;this.svgAbove=q.svgAbove;this.svgBelow=q.svgBelow;this.svgBody=q.svgBody;this.above=q.above;
this.below=q.below;this.boxType=null!==(J=q.boxType)&&void 0!==J?J:"mord";this.paddedBody=null!==(K=q.paddedBody)&&void 0!==K&&K;this.paddedLabels=null!==(W=q.paddedLabels)&&void 0!==W&&W}static fromJson(b,f){return new We(b.command,f,b)}toJson(){const b={};return this.skipBoundary||(b.skipBoundary=!1),this.subsupPlacement&&(b.subsupPlacement=this.subsupPlacement),this.svgAbove&&(b.svgAbove=this.svgAbove),this.svgBelow&&(b.svgBelow=this.svgBelow),this.svgBody&&(b.svgBody=this.svgBody),"mord"!==this.boxType&&
(b.boxType=this.boxType),this.paddedBody&&(b.paddedBody=!0),this.paddedLabels&&(b.paddedLabels=!0),{...super.toJson(),...b}}render(b){var f=this.svgBody?kb(this.svgBody):wc.createBox(b,this.body,{newList:!0}),q=new de(b,this.style,"scriptstyle"),D=null;this.svgAbove?D=kb(this.svgAbove):this.above&&(D=wc.createBox(q,this.above,{newList:!0}));var J=null;this.svgBelow?J=kb(this.svgBelow):this.below&&(J=wc.createBox(q,this.below,{newList:!0}));this.paddedBody&&(f=new Zc([Ca(b,"mopen"),f,Ca(b,"mclose")],
{newList:!0}));q="mbin"===this.boxType||"mrel"===this.boxType?this.boxType:"mord";var K=this.paddedLabels;if(f)if(D||J){var W=0;D&&(W=-D.depth+b.metrics.bigOpSpacing2);var ca=null,fa=["ML__center"];(K&&fa.push("ML__label_padding"),J&&D)?ca=new we({bottom:b.metrics.bigOpSpacing5+J.height+J.depth+f.depth+0,children:[b.metrics.bigOpSpacing5,{box:J,classes:fa},{box:f,classes:["ML__center"]},W,{box:D,classes:fa},b.metrics.bigOpSpacing5]}):J?ca=new we({top:f.height-0,children:[b.metrics.bigOpSpacing5,{box:J,
classes:fa},{box:f,classes:["ML__center"]}]}):D&&(ca=new we({bottom:f.depth+0,children:[{box:f,classes:["ML__center"]},W,{box:D,classes:fa},b.metrics.bigOpSpacing5]}));f=new Zc(ca,{type:q})}else f=new Zc(f,{type:q}),f=(f.setStyle("position","relative"),f);else f=null;return f?(f="over-under"===this.subsupPlacement?this.attachLimits(b,{base:f,type:f.type}):this.attachSupsub(b,{base:f}),this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class Nd extends wc{constructor(b,f,q){var D,J,K;super("group",
f,{command:null==q?void 0:q.command,mode:null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math",serialize:null==q?void 0:q.serialize,style:null==q?void 0:q.style});this.body=b;this.mathstyleName=null==q?void 0:q.mathstyleName;this.latexOpen=null==q?void 0:q.latexOpen;this.latexClose=null==q?void 0:q.latexClose;this.cssId=null==q?void 0:q.cssId;this.htmlData=null==q?void 0:q.htmlData;this.htmlStyle=null==q?void 0:q.htmlStyle;this.customClass=null==q?void 0:q.customClass;this.boxType=null==q?void 0:
q.boxType;this.skipBoundary=!0;this.captureSelection=null!==(J=null==q?void 0:q.captureSelection)&&void 0!==J&&J;this.changeMode=null!==(K=null==q?void 0:q.changeMode)&&void 0!==K&&K;this.displayContainsHighlight=!1;b&&1===b.length&&","===b[0].command&&(this.captureSelection=!0)}static fromJson(b,f){return new Nd(b.body,f,b)}toJson(){const b={};return this.mathstyleName&&(b.mathstyleName=this.mathstyleName),this.latexOpen&&(b.latexOpen=this.latexOpen),this.latexClose&&(b.latexClose=this.latexClose),
this.cssId&&(b.cssId=this.cssId),this.htmlData&&(b.htmlData=this.htmlData),this.htmlStyle&&(b.htmlStyle=this.htmlStyle),this.customClass&&(b.customClass=this.customClass),this.boxType&&(b.boxType=this.boxType),this.captureSelection&&(b.captureSelection=!0),this.changeMode&&(b.changeMode=!0),{...super.toJson(),...b}}render(b){var f=new de(b,this.style,this.mathstyleName);return(f=wc.createBox(f,this.body,{type:this.boxType,classes:this.customClass,mode:this.mode,style:{backgroundColor:this.style.backgroundColor},
newList:!this.boxType}))?(this.cssId&&(f.cssId=this.cssId),this.htmlData&&(f.htmlData=this.htmlData),this.htmlStyle&&(f.htmlStyle=this.htmlStyle),this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){b=this.bodyToLatex(b);return"string"==typeof this.latexOpen&&(b=this.latexOpen+b+this.latexClose),this.htmlData&&(b=`\\htmlData{${this.htmlData}}{${b}}`),this.htmlStyle&&(b=`\\htmlStyle{${this.htmlStyle}}{${b}}`),this.customClass&&(b=`\\class{${this.customClass}}{${b}}`),this.cssId&&(b=`\\cssId{${this.cssId}}{${b}}`),
b}}class oh extends wc{constructor(b,f,q,D){super("spacing",q,{command:b,style:f});this.width=D}static fromJson(b,f){return new oh(b.command,b.style,f,b.width)}toJson(){const b={};return this.width&&(b.width=this.width),{...super.toJson(),...b}}render(b){if(this.width){var f=new Zc(null,{classes:"mspace"});f.left=va(this.width.glue)}else{const q=null!==(f={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.command])&&
void 0!==f?f:"mediumspace";f=new Zc(null,{classes:q})}return f=this.bind(b,f),this.caret&&(f.caret=this.caret),f}serialize(b){var f;b=null!==(f=this.command)&&void 0!==f?f:"";return"\\hspace"===this.command||"\\hspace*"===this.command?Number.isFinite(this.width)?b+=`{${this.width}em'}`:b+="{0pt}":Number.isFinite(this.width)&&(b+=` ${this.width}em`),b}}class rf extends wc{constructor(b,f,q,D){super("leftright",q,{style:D.style,displayContainsHighlight:!0});this.variant=b;this.body=f;this.leftDelim=
D.leftDelim;this.rightDelim=D.rightDelim}static fromJson(b,f){var q;return new rf(null!==(q=b.variant)&&void 0!==q?q:"",b.body,f,b)}toJson(){const b=super.toJson();return this.variant&&(b.variant=this.variant),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),b}serialize(b){var f,q;const D=this.matchingRightDelim();return"left...right"===this.variant?sa(["\\left"+(null!==(f=this.leftDelim)&&void 0!==f?f:"."),this.bodyToLatex(b),"\\right"+D]):"mleft...mright"===
this.variant?sa(["\\mleft"+(null!==(q=this.leftDelim)&&void 0!==q?q:"."),this.bodyToLatex(b),"\\mright"+D]):sa([this.leftDelim&&"."!==this.leftDelim?this.leftDelim:"",this.bodyToLatex(b),D])}matchingRightDelim(){var b,f;if(this.rightDelim&&"?"!==this.rightDelim)return this.rightDelim;const q=null!==(b=this.leftDelim)&&void 0!==b?b:".";return null!==(f=wh[q])&&void 0!==f?f:q}render(b){var f,q,D;const J=new de(b,this.style);b=new de(b,this.style,"textstyle");var K=null!==(f=wc.createBox(J,this.body,
{newList:!0}))&&void 0!==f?f:new Zc(null,{newList:!0});const W=K.height/b.scalingFactor,ca=K.depth/b.scalingFactor;f=[];if(this.leftDelim&&f.push(this.bind(b,wb("mopen",this.leftDelim,W,ca,b,{classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),K){if(K.children)for(var fa=0;fa<K.children.length;fa++){const xa=K.children[fa];if(xa.delim){const ra=xa.caret;K.children[fa]=this.bind(J,wb("minner",xa.delim,W,ca,J));K.children[fa].caret=ra}}f.push(K)}this.rightDelim&&
(K=this.containsCaret?" ML__contains-caret":"",fa=this.rightDelim,"?"===fa&&(this.context.smartFence?(fa=this.matchingRightDelim(),K+=" ML__smart-fence__close"):fa="."),f.push(this.bind(b,wb("mclose",fa,W,ca,b,{classes:K+" ML__close",mode:this.mode,style:this.style}))));b=null!==(D="mleft...mright"===this.variant||(null===(q=this.leftSibling)||void 0===q?void 0:q.isFunction))&&void 0!==D&&D;q=new Zc(f,{type:b?"mclose":"minner",classes:"left-right"});return this.caret&&(q.caret=this.caret),this.bind(J,
q.wrap(J))}}class ph extends wc{constructor(b,f){super("msubsup",b,{style:null==f?void 0:f.style})}static fromJson(b,f){f=new ph(f,b);for(const q of Ch)b[q]&&f.setChildren(b[q],q);return f}toJson(){return super.toJson()}render(b){var f;const q=this.leftSibling;var D=new de(b,{isPhantom:!0});D=null!==(f=q.render(D))&&void 0!==f?f:new Zc(null);f=new Zc(null,{height:D.height,depth:D.depth});return this.attachSupsub(b,{base:f,isCharacterBox:q.isCharacterBox(),type:"supsub"})}serialize(b){return this.supsubToLatex(b)}}
class of extends wc{constructor(b,f){var q;const D=(null==f?void 0:f.value)||b.placeholderSymbol;super("placeholder",b,{mode:null!==(q=null==f?void 0:f.mode)&&void 0!==q?q:"math",style:null==f?void 0:f.style,value:D,command:"\\placeholder"});this.captureSelection=!0;this.placeholderId=null==f?void 0:f.placeholderId;(null==f?0:f.default)&&(this.defaultValue=null==f?void 0:f.default)}static fromJson(b,f){return new of(f,b)}toJson(){const b=super.toJson();return this.placeholderId&&(b.placeholderId=
this.placeholderId),this.value===this.context.placeholderSymbol&&delete b.value,this.defaultValue&&(b.defaultValue=this.defaultValue.map(f=>f.toJson())),b}render(b){if("function"==typeof b.renderPlaceholder)return b.renderPlaceholder(b,this);let f="";return this.caret&&(f+="ML__placeholder-selected "),this.isSelected&&(f+=" ML__selected "),this.createBox(b,{classes:f})}serialize(b){var f;let q=null!==(f=this.value)&&void 0!==f?f:"";return q===this.context.placeholderSymbol&&(q=""),`\\placeholder${this.placeholderId?
`[${this.placeholderId}]`:""}${this.defaultValue?`[${wc.serialize(this.defaultValue,b)}]`:""}{${q}}`}}class gh extends wc{constructor(b,f){super("error",f,{value:b,command:b,mode:"math"});this.verbatimLatex=b}static fromJson(b,f){return new gh(b.command,f)}toJson(){return super.toJson()}render(b){b=this.createBox(b,{classes:"ML__error"});return this.caret&&(b.caret=this.caret),b}}class hh extends wc{constructor(b,f,q){var D,J;super("macro",f,{command:b});this.body=q.body;void 0===q.captureSelection?
q.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=q.captureSelection;this.macroArgs=null!==(D=q.args)&&void 0!==D?D:"";this.expand=null!==(J=q.expand)&&void 0!==J&&J}static fromJson(b,f){return new hh(b.command,f,b)}toJson(){const b=super.toJson();return this.expand&&(b.expand=!0),void 0!==this.captureSelection&&(b.captureSelection=this.captureSelection),this.macroArgs&&(b.args=this.macroArgs),b}serialize(b){return b.expandMacro&&this.expand?this.bodyToLatex(b):this.command+
this.macroArgs}render(b){const f=wc.createBox(b,this.body);return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class yg extends wc{constructor(b,f,q,D){super("text",D,{command:b,mode:"text",displayContainsHighlight:!0});this.verbatimLatex=this.value=f;this.applyStyle(q)}static fromJson(b,f){return new yg(b.command,b.value,b.style,f)}toJson(){return super.toJson()}render(b){b=this.createBox(b);return this.caret&&(b.caret=this.caret),b}serialize(b){var f;return null!==(f=this.verbatimLatex)&&
void 0!==f?f:Q("text",this.value.codePointAt(0))}}class Zh{constructor(b,f,q){var D,J,K,W,ca,fa;this.endCount=this.index=0;this.tokens=b;this.context=f;this.errors=[];this.args=null!==(D=q.args)&&void 0!==D?D:null;this.smartFence=null!==(J=q.smartFence)&&void 0!==J?J:f.smartFence;this._currentParsingContext={parent:void 0,mathlist:[],style:null!==(K=q.style)&&void 0!==K?K:{},parseMode:null!==(W=q.parseMode)&&void 0!==W?W:"math",mathstyle:null!==(ca=q.mathstyle)&&void 0!==ca?ca:"displaystyle",registers:null!==
(fa=q.registers)&&void 0!==fa?fa:f.registers,tabular:!1}}get currentContext(){return this._currentParsingContext}get rootContext(){let b=this._currentParsingContext;for(;b.parent;)b=b.parent;return b}beginContext(b){var f,q,D;this._currentParsingContext={parent:this.currentContext,mathlist:[],style:{...this.currentContext.style},parseMode:null!==(f=null==b?void 0:b.mode)&&void 0!==f?f:this.currentContext.parseMode,mathstyle:null!==(q=null==b?void 0:b.mathstyle)&&void 0!==q?q:this.currentContext.mathstyle,
registers:null,tabular:null!==(D=null==b?void 0:b.tabular)&&void 0!==D&&D}}endContext(){this._currentParsingContext=this._currentParsingContext.parent}onError(b){this.errors.push({before:Za(this.tokens.slice(this.index,this.index+10)),after:Za(this.tokens.slice(Math.max(0,this.index-10),this.index)),...b})}get mathlist(){return this.currentContext.mathlist}set mathlist(b){this.currentContext.mathlist=b}get parseMode(){return this.currentContext.parseMode}set parseMode(b){this.currentContext.parseMode=
b}get tabularMode(){return this.currentContext.tabular}get style(){let b=this.currentContext;for(;b;){if(b.style)return b.style;b=b.parent}return{}}set style(b){this.currentContext.style=b}getRegister(b){var f,q,D;if(b.startsWith("global "))return null!==(q=null===(f=this.rootContext.registers)||void 0===f?void 0:f[b.slice(7)])&&void 0!==q?q:0;for(f=this.currentContext;f;){if(null===(D=f.registers)||void 0===D?0:D[b])return f.registers[b];f=f.parent}return 0}setRegister(b,f){var q;if(b.startsWith("global ")){b=
b.slice(7);let D=this.currentContext;for(;D;)(null===(q=D.registers)||void 0===q?0:q[b])&&delete D.registers[b],D=D.parent;this.rootContext.registers[b]=f}else this.currentContext.registers||(this.currentContext.registers={}),this.currentContext.registers[b]=f}end(){return this.endCount++,this.index>=this.tokens.length||1E3<this.endCount}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(b){return this.tokens[this.index]===
b&&(this.index++,!0)}lastSubsupAtom(){let b;return 0<this.mathlist.length&&((b=this.mathlist[this.mathlist.length-1],"msubsup"===b.type)||void 0!==b.subsupPlacement)?b:(b=new ph(this.context,{style:this.style}),this.mathlist.push(b),b)}hasPattern(b){return b.test(this.tokens[this.index])}hasInfixCommand(){var b,{index:f}=this;return f<this.tokens.length&&this.tokens[f].startsWith("\\")?(f=this.context.getDefinition(this.tokens[f],this.parseMode),!(!f||"symbol"===f.definitionType)&&!(f.ifMode&&!f.ifMode.includes(this.parseMode))&&
null!==(b=f.infix)&&void 0!==b&&b):!1}matchColumnSeparator(){const {index:b}=this;return!(!this.tabularMode||"\x26"!==this.tokens[b]||(this.index++,0))}matchRowSeparator(){const {index:b}=this;return!(!this.tabularMode||"\\\\"!==this.tokens[b]&&"\\cr"!==this.tokens[b]||(this.index++,0))}placeholder(){var b;const f=null===(b=this.args)||void 0===b?void 0:b.call(this,"?");return f?cb(f,this.context,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new of(this.context,{mode:this.parseMode,style:this.style})]}matchWhitespace(){let b=
!1;for(;this.match("\x3cspace\x3e");)b=!0;return b}skipUntilToken(b){let f=this.tokens[this.index];for(;f&&f!==b;)f=this.tokens[++this.index];f===b&&this.index++}skipFiller(){do{var b=this.matchWhitespace();const f=this.match("\\relax");b=!b&&!f}while(!b)}matchKeyword(b){const f=this.index;let q=this.end(),D="";for(;!q;){const J=this.get();gb(J)?(D+=J,q=this.end()||D.length>=b.length):q=!0}b=b.toUpperCase()===D.toUpperCase();return b||(this.index=f),b}scanString(){let b="";for(;!this.end();)if(this.match("\x3cspace\x3e"))b+=
" ";else{const f=this.peek();if("]"===f)break;if(!gb(f)){if(!f.startsWith("\\"))break;this.onError({code:"unbalanced-braces"})}b+=this.get()}return b}scanBalancedString(){let b="";var f=this.end();let q=1;for(;!f;)this.match("\x3cspace\x3e")?b+=" ":(f=this.get(),"\x3c{\x3e"===f?(b+="{",q+=1):"\x3c}\x3e"===f?(--q,0<q?b+="}":--this.index):b+="\x3c$\x3e"===f?"$":"\x3c$$\x3e"===f?"$$":f),f=0===q||this.end();return b}matchLiteralArg(){var b;let f="";if(this.match("\x3c{\x3e")){let q=1;for(;0<q&&!this.end();){const D=
this.get();"\x3c}\x3e"===D?(--q,0<q&&(f+="}")):"\x3c{\x3e"===D?(q+=1,f+="{"):f+=null!==(b={"\x3cspace\x3e":" ","\x3c$$\x3e":"$$","\x3c$\x3e":"$"}[D])&&void 0!==b?b:D}}return f}scanNumber(b=!0){var f,q;let D=!1,J=this.peek();for(;"\x3cspace\x3e"===J||"+"===J||"-"===J;)this.get(),"-"===J&&(D=!D),J=this.peek();b=!!b;let K=10,W=/\d/;if(this.match("'"))K=8,W=/[0-7]/,b=!0;else if(this.match('"')||this.match("x"))K=16,W=/[\dA-F]/,b=!0;else if(this.match("`"))return J=this.get(),J?J.startsWith("\\")&&2===
J.length?(D?-1:1)*(null!==(f=J.codePointAt(1))&&void 0!==f?f:0):(D?-1:1)*(null!==(q=J.codePointAt(0))&&void 0!==q?q:0):null;for(f="";this.hasPattern(W);)f+=this.get();if(!b&&(this.match(".")||this.match(",")))for(f+=".";this.hasPattern(W);)f+=this.get();b=b?Number.parseInt(f,K):Number.parseFloat(f);return Number.isNaN(b)?null:D?-b:b}scanDimen(){var b,f,q;let D,J=this.scanNumber(!1);if(null===J){if(null===(b=this.peek())||void 0===b||!b.startsWith("\\"))return null;J=1}return this.matchWhitespace(),
this.matchKeyword("pt")?D={dimension:J,unit:"pt"}:this.matchKeyword("mm")?D={dimension:J,unit:"mm"}:this.matchKeyword("cm")?D={dimension:J,unit:"cm"}:this.matchKeyword("ex")?D={dimension:J,unit:"ex"}:this.matchKeyword("px")?D={dimension:J,unit:"px"}:this.matchKeyword("em")?D={dimension:J,unit:"em"}:this.matchKeyword("bp")?D={dimension:J,unit:"bp"}:this.matchKeyword("dd")?D={dimension:J,unit:"dd"}:this.matchKeyword("pc")?D={dimension:J,unit:"pc"}:this.matchKeyword("in")?D={dimension:J,unit:"in"}:this.matchKeyword("mu")?
D={dimension:J,unit:"mu"}:(null===(f=this.peek())||void 0===f?0:f.startsWith("\\"))?(D=null!==(q=Xa(this.getRegister(this.get().slice(1)),this.context))&&void 0!==q?q:{dimension:0},D.dimension*=J):(this.match("\\relax")||this.onError({code:"missing-unit"}),D={dimension:J,unit:"pt"}),D}scanGlue(){var b=this.scanDimen();if(null===b)return null;b={glue:b};return this.matchWhitespace(),this.match("\\relax")||(this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.match("\\relax")||(this.matchWhitespace(),
this.matchKeyword("minus")&&this.scanDimen())),b}scanColspec(){this.matchWhitespace();const b=[];for(;!this.end()&&"\x3c}\x3e"!==this.peek()&&"]"!==this.peek();){const f=this.get();"c"===f||"r"===f||"l"===f?b.push({align:f}):"|"===f?b.push({separator:"solid"}):":"===f?b.push({separator:"dashed"}):"@"===f&&(this.match("\x3c{\x3e")&&(this.beginContext({mode:"math"}),b.push({gap:this.parse(q=>"\x3c}\x3e"===q)}),this.endContext()),this.match("\x3c}\x3e")||this.onError({code:"unbalanced-braces"}))}return b}parseModeSet(){let b=
"";if(this.match("\\(")&&(b="\\)"),!b&&this.match("\\[")&&(b="\\]"),!b)return null;this.beginContext({mode:"math",mathstyle:"\\)"===b?"textstyle":"displaystyle"});const f=new Nd(this.parse(q=>q===b),this.context,{mathstyleName:"\\)"===b?"textstyle":"displaystyle",latexOpen:"\\]"===b?"\\[":"\\(",latexClose:b,boxType:"mord"});return this.match(b)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),f.hasEmptyBranch("body")?null:f}parseModeShift(){let b="";if(this.match("\x3c$\x3e")&&(b="\x3c$\x3e"),
!b&&this.match("\x3c$$\x3e")&&(b="\x3c$$\x3e"),!b)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});const f=new Nd(this.parse(q=>q===b),this.context,{mathstyleName:"\x3c$\x3e"===b?"textstyle":"displaystyle",latexOpen:"\x3c$\x3e"===b?"$ ":"$$ ",latexClose:"\x3c$\x3e"===b?" $":" $$"});return this.match(b)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),f.hasEmptyBranch("body")?null:f}parseEnvironment(){if(!this.match("\\begin"))return null;const b=this.parseArgument("string");
if(!b)return null;const f=function(ca){var fa;return null!==(fa=Rd[ca])&&void 0!==fa?fa:null}(b);if(!f)return this.onError({code:"unknown-environment",arg:b}),null;const q=[];if(f.params)for(var D of f.params)if(D.isOptional)q.push(this.parseOptionalArgument(D.type));else{var J=this.parseArgument(D.type);J||this.onError({code:"missing-argument",arg:b});q.push(J)}this.beginContext({tabular:f.tabular});D=[];J=[];let K=[],W=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:b}),W=
!0),!W&&this.match("\\end")&&(this.parseArgument("string")!==b&&this.onError({code:"unbalanced-environment",arg:b}),W=!0),!W)if(this.matchColumnSeparator())K.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){K.push(this.mathlist);this.mathlist=[];let ca=null;this.matchWhitespace();this.match("[")&&(ca=this.scanDimen(),this.matchWhitespace(),this.match("]"));J.push(null!=ca?ca:{dimension:0});D.push(K);K=[]}else this.mathlist.push(...this.parse(ca=>"\x3c}\x3e"===ca||"\x26"===ca||
"\\end"===ca||"\\cr"===ca||"\\\\"===ca));while(!W);return K.push(this.mathlist),0<K.length&&D.push(K),this.endContext(),f.createAtom(this.context,b,D,J,q)}parse(b){this.beginContext();b||(b=ca=>"\x3c}\x3e"===ca);let f="",q=null,D=[],J=null;const K=this.mathlist;for(this.mathlist=[];!this.end()&&!b(this.peek());)this.hasInfixCommand()&&!f?(f=this.get(),q=this.context.getDefinition(f,"math"),q&&(D=this.parseArguments(q)[1]),J=this.mathlist,this.mathlist=[]):this.parseToken();let W;return f?(D.unshift(this.mathlist),
this.mathlist=K,J&&D.unshift(J),W=[q.createAtom(f,D,this.style,this.context)]):(W=this.mathlist,this.mathlist=K),this.endContext(),W}parseGroup(){if(!this.match("\x3c{\x3e"))return null;const b=new Nd(this.parse(f=>"\x3c}\x3e"===f),this.context,{mode:this.parseMode,latexOpen:"{",latexClose:"}"});return this.match("\x3c}\x3e")||this.onError({code:"unbalanced-braces"}),b}scanSmartFence(){if(this.matchWhitespace(),!this.match("("))return null;this.beginContext();for(var b=1;!this.end()&&0!==b;)this.match("(")&&
(b+=1),this.match(")")&&--b,0!==b&&this.parseToken();0===b&&this.match(")");b=new rf("",this.mathlist,this.context,{leftDelim:"(",rightDelim:0===b?")":"?"});return this.endContext(),b}scanDelim(){this.matchWhitespace();var b=this.get();if(!b)return this.onError({code:"unexpected-end-of-string"}),null;let f=".";(b.startsWith("\\")||gb(b))&&(f=b);return(b=this.context.getDefinition(f,"math"))?"function"===b.definitionType&&b.ifMode&&!b.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",
arg:f}),null):"symbol"!==b.definitionType||"mopen"!==b.type&&"mclose"!==b.type?/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(f)?f:(this.onError({code:"unexpected-delimiter",arg:f}),null):f:(this.onError({code:"unknown-command",arg:f}),null)}parseLeftRight(){var b;if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;let f="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;
f="\\mright"}const q=this.scanDelim();if(!q)return null;for(this.beginContext();!this.end()&&!this.match(f);)this.parseToken();const D=this.mathlist;this.endContext();const J=null!==(b=this.scanDelim())&&void 0!==b?b:".";return new rf("\\right"===f?"left...right":"mleft...mright",D,this.context,{leftDelim:q,rightDelim:J,style:this.style})}parseSupSub(){if("math"!==this.parseMode)return!1;let b=this.peek();if("^"!==b&&"_"!==b&&"'"!==b)return!1;for(;"^"===b||"_"===b||"'"===b;){if(this.match("'"))this.match("'")?
this.lastSubsupAtom().addChild(new wc("mord",this.context,{command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):this.lastSubsupAtom().addChild(new wc("mord",this.context,{command:"\\prime",mode:"math",value:"′"}),"superscript");else if(this.match("^")||this.match("_")){const f=this.parseArgument("math");f?this.lastSubsupAtom().addChildren(f,"_"===b?"subscript":"superscript"):this.lastSubsupAtom().createBranch("_"===b?"subscript":"superscript")}b=this.peek()}return!0}parseLimits(){const b=
this.match("\\limits"),f=!b&&this.match("\\nolimits"),q=!f&&!b&&this.match("\\displaylimits");if(!b&&!f&&!q)return!1;const D=0<this.mathlist.length?this.mathlist[this.mathlist.length-1]:null;return!(null===D||"mop"!==D.type||(b?(D.subsupPlacement="over-under",D.explicitSubsupPlacement=!0,0):f?(D.subsupPlacement="adjacent",D.explicitSubsupPlacement=!0,0):!q||(D.subsupPlacement="auto",D.explicitSubsupPlacement=!0,0)))}parseArguments(b){if(null==b||!b.params)return[void 0,[]];let f;const q=[];let D=
b.infix?2:0;for(;D<b.params.length;){const J=b.params[D];if("rest"===J.type)q.push(this.parse(K=>"\x3c}\x3e"===K||"\x26"===K||"\\end"===K||"\\cr"===K||"\\\\"===K));else if(J.isOptional)q.push(this.parseOptionalArgument(J.type));else if(J.type.endsWith("*"))f=J.type.slice(0,-1);else{const K=this.parseArgument(J.type);if(null!==K)q.push(K);else switch(this.onError({code:"missing-argument"}),J.type){case "number":q.push(0);break;case "dimen":q.push({dimension:0,unit:"pt"});break;case "glue":q.push({glue:{dimension:0,
unit:"pt"}});break;case "string":case "balanced-string":q.push("");break;case "delim":q.push(".");break;case "colspec":q.push("llllllllll");break;default:q.push(this.placeholder())}}D+=1}return[f,q]}parseArgument(b){var f,q;this.skipFiller();"auto"===b&&(b=this.parseMode);var D=null;const J="\x3c{\x3e"===this.peek();if(!J){if("delim"===b)return null!==(f=this.scanDelim())&&void 0!==f?f:".";if("text"===b||"math"===b)return this.beginContext(),D=this.parseSimpleToken(),this.endContext(),D}if(J&&this.get(),
"text"===b||"math"===b){this.beginContext({mode:b});do this.mathlist.push(...this.parse());while(!this.match("\x3c}\x3e")&&!this.end())}else if(this.beginContext(),"string"===b?D=this.scanString():"balanced-string"===b?D=this.scanBalancedString():"number"===b?D=this.scanNumber():"colspec"===b?D=this.scanColspec():"dimen"===b?D=this.scanDimen():"glue"===b?D=this.scanGlue():"delim"===b&&(D=null!==(q=this.scanDelim())&&void 0!==q?q:"."),J&&this.skipUntilToken("\x3c}\x3e"),null===D)return this.endContext(),
null;b=this.mathlist;return this.endContext(),null!=D?D:b}parseOptionalArgument(b){var f,q;if(b="auto"===b?this.parseMode:b,this.matchWhitespace(),!this.match("["))return null;for(var D=null;!this.end()&&!this.match("]");)if("string"===b)D=this.scanString();else if("number"===b)D=this.scanNumber();else if("dimen"===b)D=this.scanDimen();else if("glue"===b)D=this.scanGlue();else if("colspec"===b)D=this.scanColspec();else if("bbox"===b){var J=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);
D={};for(const K of J)(J=null===(q=(f=this.context).backgroundColorMap)||void 0===q?void 0:q.call(f,K))?D.backgroundcolor=J:(J=K.match(/^\s*([\d.]+)\s*([a-z]{2})/))?D.padding=J[0]:(J=K.match(/^\s*border\s*:\s*(.*)/))&&(D.border=J[1])}else"math"===b&&(this.beginContext({mode:"math"}),D=this.mathlist.concat(this.parse(K=>"]"===K)),this.endContext());return D}parseCommand(b){var f,q,D,J;if("\\placeholder"===b){b=this.parseOptionalArgument("string");var K=this.parseOptionalArgument("math");var W=null!==
(f=this.parseArgument("string"))&&void 0!==f?f:void 0;return[new of(this.context,{mode:this.parseMode,placeholderId:b,value:W,default:K,style:this.style})]}f=null;if("\\char"===b){b=this.index;K=Math.floor(null!==(W=this.scanNumber(!0))&&void 0!==W?W:Number.NaN);(!Number.isFinite(K)||0>K||1114111<K)&&(K=10067);const xa="\\char"+Za(this.tokens.slice(b,this.index));return f=new wc("math"===this.parseMode?"mord":"text",this.context,{command:"\\char",mode:this.parseMode,value:String.fromCodePoint(K),
serialize:()=>xa}),f.verbatimLatex=xa,[f]}if("\\hskip"===b||"\\kern"===b)return(f=this.scanGlue())?[new oh(b,this.style,this.context,f)]:null;if(f=this.scanMacro(b),f)return[f];W=this.context.getDefinition(b,this.parseMode);if(!W)return this.onError({code:"unknown-command",arg:b}),[new gh(b,this.context)];const ca=this.index;if("symbol"===W.definitionType){var fa={...this.style};W.variant&&(fa.variant=W.variant);f=new wc(null!==(q=W.type)&&void 0!==q?q:"mop",this.context,{command:b,style:fa,value:String.fromCodePoint(W.codepoint),
mode:this.parseMode})}else{if(W.ifMode&&!W.ifMode.includes(this.parseMode))return[];q=this.parseMode;W.applyMode&&(this.parseMode=W.applyMode);const [xa,ra]=this.parseArguments(W);if(this.parseMode=q,!ra)return null;if(W.applyMode&&!W.applyStyle&&!W.createAtom)return ra[0];if(W.infix)return this.onError({code:"too-many-infix-commands",arg:b}),null;if("function"==typeof W.createAtom)f=W.createAtom(b,ra,this.style,this.context),xa&&(f.body=null!==(fa=this.parseArgument(xa))&&void 0!==fa?fa:void 0);
else if("function"==typeof W.applyStyle){fa=W.applyStyle(b,ra,this.context);q=this.parseMode;if(W.applyMode&&(this.parseMode=W.applyMode),xa)return f=this.style,this.style={...this.style,...fa},b=this.parseArgument(xa),this.style=f,this.parseMode=q,b;this.style={...this.style,...fa};this.parseMode=q}else f=new wc("mop",this.context,{command:null!==(D=W.command)&&void 0!==D?D:b,style:{...this.style},value:b,mode:null!==(J=W.applyMode)&&void 0!==J?J:this.parseMode})}return f instanceof wc&&void 0===
f.verbatimLatex&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(b)&&(f.verbatimLatex=(null!==(K=f.command)&&void 0!==K?K:"")+Za(this.tokens.slice(ca,this.index)),0===f.verbatimLatex.length&&(f.verbatimLatex=void 0),f.isFunction&&this.smartFence)&&(b=this.scanSmartFence())?[f,b]:f?[f]:null}parseLiteral(b){b=tg.createAtom(this.parseMode,b,this.context,{...this.style});if(!b)return null;if(b.isFunction&&this.smartFence){const f=this.scanSmartFence();if(f)return[b,f]}return[b]}parseSimpleToken(){const b=
this.get();return b?"\x3cspace\x3e"===b?"text"===this.parseMode?[new yg(" "," ",this.style,this.context)]:null:b.startsWith("\\")?this.parseCommand(b):gb(b)?this.parseLiteral(b):("\x3c}\x3e"===b?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:b}),null):null}scanMacro(b){var f;const q=this.context.getMacro(b);if(!q)return null;const D=this.index,J=q.args,K={"?":null===(f=this.args)||void 0===f?void 0:f.call(this,"?")};for(f=1;f<=J;f++)K[f]=this.matchLiteralArg();
return new hh(b,this.context,{expand:q.expand,captureSelection:q.captureSelection,args:Za(this.tokens.slice(D,this.index)),body:cb(q.def,this.context,{parseMode:this.parseMode,args:W=>K[W],mathstyle:this.currentContext.mathstyle})})}parseToken(){var b,f,q,D;let J=null!==(D=null!==(q=null!==(f=null!==(b=this.parseEnvironment())&&void 0!==b?b:this.parseModeShift())&&void 0!==f?f:this.parseModeSet())&&void 0!==q?q:this.parseGroup())&&void 0!==D?D:this.parseLeftRight();if(null===J){if(this.parseSupSub()||
this.parseLimits())return!0;J=this.parseSimpleToken()}return u(J)?this.mathlist.push(...J):J&&this.mathlist.push(J),null!==J}}class Ig extends wc{constructor(b,f,q,D){super("box",q,{command:b,serialize:D.serialize,style:D.style});this.body=f;this.framecolor=D.framecolor;this.verbatimFramecolor=D.verbatimBackgroundcolor;this.backgroundcolor=D.backgroundcolor;this.verbatimBackgroundcolor=D.verbatimBackgroundcolor;this.padding=D.padding;this.border=D.border}static fromJson(b,f){return new Ig(b.command,
b.body,f,b)}toJson(){return{...super.toJson(),framecolor:this.framecolor,verbatimFramecolor:this.verbatimFramecolor,backgroundcolor:this.backgroundcolor,verbatimBackgroundcolor:this.verbatimBackgroundcolor,padding:this.padding,border:this.border}}render(b){var f=new de(b,this.style);const q=va(f.getRegisterAsDimension("fboxsep")),D=void 0===this.padding?q:va(Xa(this.padding,{...this.context,registers:b.registers})),J=wc.createBox(b,this.body);if(!J)return null;J.setStyle("vertical-align",-J.height,
"em");const K=new Zc(J,{type:"mord"}),W=new Zc(null,{classes:"ML__box"});W.height=K.height+D;W.depth=K.depth+D;W.setStyle("box-sizing","border-box");W.setStyle("position","absolute");W.setStyle("height",K.height+K.depth+2*D,"em");0===D?W.setStyle("width","100%"):(W.setStyle("width",`calc(100% + ${2*D}em)`),W.setStyle("top",q,"em"),W.setStyle("left",-D,"em"));this.backgroundcolor&&W.setStyle("background-color",this.backgroundcolor);this.framecolor&&W.setStyle("border",`${va(f.getRegisterAsDimension("fboxrule"))}em solid ${this.framecolor}`);
this.border&&W.setStyle("border",this.border);K.setStyle("display","inline-block");K.setStyle("height",J.height+J.depth,"em");K.setStyle("vertical-align",-D,"em");f=new Zc([W,K]);return f.setStyle("position","relative"),f.setStyle("display","inline-block"),f.setStyle("line-height",0),f.height=K.height+D,f.depth=K.depth+D,f.left=D,f.right=D,f.setStyle("height",K.height+D,"em"),f.setStyle("top",K.depth-K.height,"em"),f.setStyle("vertical-align",K.depth+D,"em"),this.caret&&(f.caret=this.caret),this.attachSupsub(b,
{base:f})}}class $e extends wc{constructor(b,f,q,D,J={}){var K,W;super("array",b);this.environmentName=f;this.rowGaps=D;J.mathstyleName&&(this.mathstyleName=J.mathstyleName);J.columns&&(0===J.columns.length?this.colFormat=[{align:"l"}]:this.colFormat=J.columns);this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]);f=0;for(var ca of this.colFormat)"align"in ca&&(f+=1);ca=0;D=[];for(var fa of q)for(q=
0,ca=Math.max(ca,Math.min(fa.length,f));q<fa.length;){const ra=[],Na=Math.min(fa.length,q+f);for(;q<Na;)0===fa[q].length?ra.push([new wc("first",b,{mode:this.mode})]):"first"!==fa[q][0].type?ra.push([new wc("first",b,{mode:this.mode}),...fa[q]]):ra.push(fa[q]),q+=1;D.push(ra)}1===D[D.length-1].length&&0===D[D.length-1][0].length&&D.pop();fa=[];for(var xa of D){if(xa.length!==ca)for(f=xa.length;f<ca;f++)xa.push([new wc("first",b,{mode:this.mode}),new of(b)]);fa.push(xa)}b=0;for(const ra of fa){xa=
0;for(const Na of ra){for(const Ua of Na)Ua.parent=this,Ua.treeBranch=[b,xa];xa+=1}b+=1}this.array=(this.isDirty=!0,fa);J.leftDelim&&(this.leftDelim=J.leftDelim);J.rightDelim&&(this.rightDelim=J.rightDelim);void 0!==J.jot&&(this.jot=J.jot);J.arraycolsep&&(this.arraycolsep=J.arraycolsep);this.colSeparationType=J.colSeparationType;this.arraystretch=null!==(K=J.arraystretch)&&void 0!==K?K:1;this.minColumns=null!==(W=J.minColumns)&&void 0!==W?W:1}static fromJson(b,f){return new $e(f,b.environmentName,
b.array,b.rowGaps,b)}toJson(){const b={...super.toJson(),environmentName:this.environmentName,array:this.array.map(f=>f.map(q=>q.map(D=>D.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType};return 1!==this.arraystretch&&(b.arraystretch=this.arraystretch),this.arraycolsep&&(b.arraycolsep=this.arraycolsep),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),void 0!==this.jot&&(b.jot=this.jot),b}branch(b){var f;if(Sa(b))return null!==
(f=this.array[b[0]][b[1]])&&void 0!==f?f:void 0}get branches(){const b=super.branches;return this.array.forEach((f,q)=>{this.array[q].forEach((D,J)=>{this.array[q][J]&&b.push([q,J])})}),b}createBranch(b){var f;return Sa(b)?(this.isDirty=!0,null!==(f=this.branch(b))&&void 0!==f?f:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(b=>!!b.align).length}removeBranch(b){if(Ja(b))return super.removeBranch(b);const f=this.branch(b);
return this.array[b[0]][b[1]]=void 0,f.forEach(q=>{q.parent=void 0;q.treeBranch=void 0}),f.shift(),this.isDirty=!0,f}get hasChildren(){return 0<this.children.length}get children(){const b=[];for(const f of this.array)for(const q of f)if(q)for(const D of q)b.push(...D.children),b.push(D);return[...b,...super.children]}render(b){var f,q,D,J,K;const W=new de(b,this.style,this.mathstyleName);var ca=W.getRegisterAsEm("arrayrulewidth"),fa=W.getRegisterAsEm("arraycolsep"),xa=W.getRegisterAsEm("doublerulesep"),
ra=null!==(f=this.arraystretch)&&void 0!==f?f:1;f="number"==typeof this.arraycolsep?this.arraycolsep:fa;"small"===this.colSeparationType&&(f=(new de(b,void 0,"scriptstyle")).scalingFactor/b.scalingFactor*.2778);ra*=1.2;var Na=.7*ra,Ua=.3*ra;ra=0;fa=[];var db=0,vb=this.array.length;for(var Qb=0;Qb<vb;++Qb){var Xb=this.array[Qb];db=Math.max(db,Xb.length);var sc=new de(W,this.style,this.mathstyleName);let tf=Na/sc.scalingFactor,pf=Ua/sc.scalingFactor;const uf={cells:[],height:0,depth:0,pos:0};for(var qc of Xb)Xb=
null!==(q=wc.createBox(sc,qc,{newList:!0}))&&void 0!==q?q:new Zc(null,{newList:!0}),pf=Math.max(pf,Xb.depth),tf=Math.max(tf,Xb.height),uf.cells.push(Xb);sc=null!==(D=va(this.rowGaps[Qb]))&&void 0!==D?D:0;0<sc&&(sc+=Ua,pf=Math.max(pf,sc),sc=0);void 0!==this.jot&&(pf+=this.jot);uf.height=tf;uf.depth=pf;ra+=tf;uf.pos=ra;ra+=pf+sc;fa.push(uf)}q=ra/2+.25;D=[];for(qc=0;qc<db;qc++){Na=[];for(var pd of fa)Ua=pd.cells[qc],Ua.depth=pd.depth,Ua.height=pd.height,Na.push({box:Ua,shift:pd.pos-q});0<Na.length&&
D.push(new we({individualShift:Na}))}pd=[];Na=qc=!1;db=0;Ua=!this.leftDelim;({colFormat:vb}=this);for(var id of vb){if("align"in id&&db>=D.length)break;if("align"in id)qc?pd.push(Cb(2*f)):(Na||Ua)&&pd.push(Cb(f)),pd.push(new Zc(D[db],{classes:"col-align-"+id.align})),db++,qc=!0,Ua=Na=!1;else if("gap"in id){if("number"==typeof id.gap)pd.push(Cb(id.gap));else{qc=b;Qb=fa;Na=q;if(Ua=id.gap){vb=[];for(var Vd of Qb)(Qb=wc.createBox(qc,Ua,{newList:!0}))&&(Qb.depth=Vd.depth,Qb.height=Vd.height,vb.push({box:Qb,
shift:Vd.pos-Na}));qc=(new we({individualShift:vb})).wrap(qc)}else qc=null;qc&&pd.push(qc)}Ua=Na=qc=!1}else"separator"in id&&(Ua=new Zc(null,{classes:"vertical-separator"}),Ua.setStyle("height",ra,"em"),Ua.setStyle("border-right",`${ca}em ${id.separator} currentColor`),Ua.setStyle("vertical-align",-(ra-q),"em"),vb=0,Na?vb=xa-ca:qc&&(vb=f-ca),Ua.left=vb,pd.push(Ua),qc=!1,Na=!0,Ua=!1)}qc&&!this.rightDelim&&pd.push(Cb(f));ca=new Zc(pd,{classes:"mtable"});if(!(this.leftDelim&&"."!==this.leftDelim||this.rightDelim&&
"."!==this.rightDelim))return this.caret&&(ca.caret=this.caret),ca;xa=ca.height;id=ca.depth;return(Vd=this.bind(b,new Zc([this.bind(b,wb("mopen",null!==(J=this.leftDelim)&&void 0!==J?J:".",xa,id,W)),ca,this.bind(b,wb("mclose",null!==(K=this.rightDelim)&&void 0!==K?K:".",xa,id,W))],{type:"mord"})))?(this.caret&&(Vd.caret=this.caret),this.attachSupsub(b,{base:Vd})):null}serialize(b){let f="\\begin{"+this.environmentName+"}";if("array"===this.environmentName){if(f+="{",void 0!==this.colFormat)for(var q of this.colFormat)"align"in
q?f+=q.align:"separator"in q&&"solid"===q.separator?f+="|":"separator"in q&&"dashed"===q.separator&&(f+=":");f+="}"}for(q=0;q<this.array.length;q++){for(let D=0;D<this.array[q].length;D++)0<D&&(f+=" \x26 "),f=sa([f,wc.serialize(this.array[q][D],b)]);q<this.array.length-1&&(f+=" \\\\ ")}return f+="\\end{"+this.environmentName+"}",f}getCell(b,f){return this.array[b][f]}setCell(b,f,q){for(var D of this.array[b][f])D.parent=void 0,D.treeBranch=void 0;D=q;0!==q.length&&"first"===q[0].type||(D=[new wc("first",
this.context,{mode:this.mode}),...q]);this.array[b][f]=D;for(const J of D)J.parent=this,J.treeBranch=[b,f];this.isDirty=!0}addRowBefore(b){var f=[];for(var q=0;q<this.colCount;q++)f.push(nb(this));for(this.array.splice(b,0,f);b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}addRowAfter(b){var f=[];for(var q=0;q<this.colCount;q++)f.push(nb(this));this.array.splice(b+1,0,f);for(b+=1;b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=
this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}removeRow(b){var f=this.array.splice(b,1);for(var q of f)for(const D of q)if(D)for(const J of D)J.parent=void 0,J.treeBranch=void 0;for(;b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}addColumnBefore(b){for(var f of this.array)f.splice(b,0,nb(this));for(f=0;f<this.rowCount;f++)for(let q=b;q<this.colCount;q++){const D=this.array[f][q];if(D)for(const J of D)J.treeBranch=
[f,q]}this.isDirty=!0}addColumnAfter(b){for(var f of this.array)f.splice(b+1,0,nb(this));for(f=0;f<this.rowCount;f++)for(let q=b+1;q<this.colCount;q++){const D=this.array[f][q];if(D)for(const J of D)J.treeBranch=[f,q]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(b){for(var f of this.array){var q=f.splice(b,1);for(var D of q)if(D)for(const J of D)J.parent=void 0,J.treeBranch=void 0}for(f=0;f<this.rowCount;f++)for(q=b;q<this.colCount;q++)if(D=this.array[f][q])for(const J of D)J.treeBranch=
[f,q];this.isDirty=!0}get cells(){const b=[];for(const f of this.array)for(const q of f)q&&b.push(q);return b}}class Mh extends wc{constructor(b,f,q){var D;super("composition",f,{mode:null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math",value:b})}static fromJson(b,f){return new Mh(b.value,f,b)}toJson(){return super.toJson()}get computedStyle(){return{}}render(b){const f=new Zc(this.value,{classes:"ML__composition",type:"composition"});return this.bind(b,f),this.caret&&(f.caret=this.caret),f}serialize(b){return""}}
class Nh extends wc{constructor(b,f,q){super("chem",q,{command:b,mode:"math"});const D=af.go(Hc.go(f,"\\pu"===b?"pu":"ce"),!1);this.body=cb(D,q);this.verbatimLatex=b+"{"+f+"}";this.arg=f;this.captureSelection=!0}static fromJson(b,f){return new Nh(b.command,b.arg,f)}toJson(){return{...super.toJson(),arg:this.arg}}render(b){const f=wc.createBox(b,this.body,{type:"chem",newList:!0});return this.caret&&(f.caret=this.caret),this.bind(b,f)}serialize(b){return this.verbatimLatex}}ea(["ce","pu"],"{chemformula:balanced-string}",
{createAtom:(b,f,q,D)=>new Nh(b,f[0],D)});var Hc={go:function(b,f){if(!b)return[];void 0===f&&(f="ce");var q,D="0",J={parenthesisLevel:0};b=(b=(b=b.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var K=10,W=[];;){q!==b?(K=10,q=b):K--;var ca=Hc.stateMachines[f],fa=ca.transitions[D]||ca.transitions["*"],xa=0;a:for(;xa<fa.length;xa++){var ra=Hc.patterns.match_(fa[xa].pattern,b);if(ra){for(var Na=fa[xa].task,Ua=0;Ua<Na.action_.length;Ua++){if(ca.actions[Na.action_[Ua].type_])var db=
ca.actions[Na.action_[Ua].type_](J,ra.match_,Na.action_[Ua].option);else{if(!Hc.actions[Na.action_[Ua].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+Na.action_[Ua].type_+")"];db=Hc.actions[Na.action_[Ua].type_](J,ra.match_,Na.action_[Ua].option)}Hc.concatArray(W,db)}if(D=Na.nextState||D,!(0<b.length))return W;if(Na.revisit||(b=ra.remainder),!Na.toContinue)break a}}if(0>=K)throw["MhchemBugU","mhchem bug U. Please report."];}},concatArray:function(b,f){if(f)if(Array.isArray(f))for(var q=
0;q<f.length;q++)b.push(f[q]);else b.push(f)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,
"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(b){var f=
b.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return f&&f[0]?{match_:f.splice(1),remainder:b.substr(f[0].length)}:null},"(-)(9)^(-9)":function(b){var f=b.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return f&&f[0]?{match_:f.splice(1),remainder:b.substr(f[0].length)}:null},
"state of aggregation $":function(b){var f=Hc.patterns.findObserveGroups(b,"",/^\([a-z]{1,3}(?=[\),])/,")","");return f&&f.remainder.match(/^($|[\s,;\)\]\}])/)?f:(f=b.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/))?{match_:f[0],remainder:b.substr(f[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(b){return Hc.patterns.findObserveGroups(b,
"^{","","","}")},"^($...$)":function(b){return Hc.patterns.findObserveGroups(b,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(b){return Hc.patterns.findObserveGroups(b,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(b){return Hc.patterns.findObserveGroups(b,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"_{","","","}")},"_($...$)":function(b){return Hc.patterns.findObserveGroups(b,
"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(b){return Hc.patterns.findObserveGroups(b,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(b){return Hc.patterns.findObserveGroups(b,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(b){return Hc.patterns.findObserveGroups(b,"","{","}","")},"{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"{","","","}")},"$...$":function(b){return Hc.patterns.findObserveGroups(b,
"","$","$","")},"${(...)}$":function(b){return Hc.patterns.findObserveGroups(b,"${","","","}$")},"$(...)$":function(b){return Hc.patterns.findObserveGroups(b,"$","","","$")},"\x3d\x3c\x3e":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,
"\\bond{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\bond{","","","}")},"-\x3e":/^(?:<->|<--\x3e|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(b){return Hc.patterns.findObserveGroups(b,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[, ;:])/,"\\x{}{}":function(b){return Hc.patterns.findObserveGroups(b,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(b){return Hc.patterns.findObserveGroups(b,"",/^\\[a-zA-Z]+\{/,
"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(b){return Hc.patterns.findObserveGroups(b,
"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(b){return Hc.patterns.findObserveGroups(b,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(b){return Hc.patterns.findObserveGroups(b,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(b){return Hc.patterns.findObserveGroups(b,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,
"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(b){var f;if(f=b.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:f[0],remainder:b.substr(f[0].length)};var q=Hc.patterns.findObserveGroups(b,"","$","$","");return q&&(f=
q.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:f[0],remainder:b.substr(f[0].length)}:null},amount2:function(b){return this.amount(b)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(b){if(b.match(/^\([a-z]+\)$/))return null;var f=b.match(/^(?:[a-z]|(?:[0-9 \+\-,\.\(\)]+[a-z])+[0-9 \+\-,\.\(\)]*|(?:[a-z][0-9 \+\-,\.\(\)]+)+[a-z]?)$/);return f?{match_:f[0],remainder:b.substr(f[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,
"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(b,f,q,D,J,K,W,ca,fa,xa){var ra=function(Na,Ua){return"string"==typeof Ua?0!==Na.indexOf(Ua)?null:Ua:(Na=Na.match(Ua))?Na[0]:null};f=ra(b,f);if(null===f||(b=b.substr(f.length),null===(f=ra(b,q))))return null;q=function(Na,Ua,db){for(var vb=0;Ua<Na.length;){var Qb=Na.charAt(Ua),Xb=ra(Na.substr(Ua),db);if(null!==Xb&&0===vb)return{endMatchBegin:Ua,endMatchEnd:Ua+Xb.length};if("{"===Qb)vb++;else if("}"===Qb){if(0===vb)throw["ExtraCloseMissingOpen",
"Extra close brace or missing open brace"];vb--}Ua++}return null}(b,f.length,D||J);if(null===q)return null;D=b.substring(0,D?q.endMatchEnd:q.endMatchBegin);if(K||W){b=this.findObserveGroups(b.substr(q.endMatchEnd),K,W,ca,fa);if(null===b)return null;K=[D,b.match_];return{match_:xa?K.join(""):K,remainder:b.remainder}}return{match_:D,remainder:b.substr(q.endMatchEnd)}},match_:function(b,f){var q=Hc.patterns.patterns[b];if(void 0===q)throw["MhchemBugP","mhchem bug P. Please report. ("+b+")"];return"function"==
typeof q?Hc.patterns.patterns[b](f):(b=f.match(q))?{match_:b[2]?[b[1],b[2]]:b[1]?b[1]:b[0],remainder:f.substr(b[0].length)}:null}},actions:{"a\x3d":function(b,f){b.a=(b.a||"")+f},"b\x3d":function(b,f){b.b=(b.b||"")+f},"p\x3d":function(b,f){b.p=(b.p||"")+f},"o\x3d":function(b,f){b.o=(b.o||"")+f},"q\x3d":function(b,f){b.q=(b.q||"")+f},"d\x3d":function(b,f){b.d=(b.d||"")+f},"rm\x3d":function(b,f){b.rm=(b.rm||"")+f},"text\x3d":function(b,f){b.text_=(b.text_||"")+f},insert:function(b,f,q){return{type_:q}},
"insert+p1":function(b,f,q){return{type_:q,p1:f}},"insert+p1+p2":function(b,f,q){return{type_:q,p1:f[0],p2:f[1]}},copy:function(b,f){return f},rm:function(b,f){return{type_:"rm",p1:f||""}},text:function(b,f){return Hc.go(f,"text")},"{text}":function(b,f){b=["{"];return Hc.concatArray(b,Hc.go(f,"text")),b.push("}"),b},"tex-math":function(b,f){return Hc.go(f,"tex-math")},"tex-math tight":function(b,f){return Hc.go(f,"tex-math tight")},bond:function(b,f,q){return{type_:"bond",kind_:q||f}},"color0-output":function(b,
f){return{type_:"color0",color:f[0]}},ce:function(b,f){return Hc.go(f)},"1/2":function(b,f){b=[];f.match(/^[+\-]/)&&(b.push(f.substr(0,1)),f=f.substr(1));f=f.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return f[1]=f[1].replace(/\$/g,""),b.push({type_:"frac",p1:f[1],p2:f[2]}),f[3]&&(f[3]=f[3].replace(/\$/g,""),b.push({type_:"tex-math",p1:f[3]})),b},"9,9":function(b,f){return Hc.go(f,"9,9")}},createTransitions:function(b){var f,q,D,J={};for(f in b)for(q in b[f]){var K=q.split("|");
b[f][q].stateArray=K;for(D=0;D<K.length;D++)J[K[D]]=[]}for(f in b)for(q in b[f])for(K=b[f][q].stateArray||[],D=0;D<K.length;D++){var W=b[f][q];if(W.action_){W.action_=[].concat(W.action_);for(var ca=0;ca<W.action_.length;ca++)"string"==typeof W.action_[ca]&&(W.action_[ca]={type_:W.action_[ca]})}else W.action_=[];ca=f.split("|");for(var fa=0;fa<ca.length;fa++)if("*"===K[D])for(var xa in J)J[xa].push({pattern:ca[fa],task:W});else J[K[D]].push({pattern:ca[fa],task:W})}return J},stateMachines:{}};Hc.stateMachines=
{ce:{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond\x3dfalse",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt\x3d",nextState:"rt"},rd:{action_:"rqt\x3d",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb\x3dfalse","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o\x3d","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o\x3d",nextState:"o"}},"-\x3e":{"0|1|2|3":{action_:"r\x3d",
nextState:"r"},"a|as":{action_:["output","r\x3d"],nextState:"r"},"*":{action_:["output","r\x3d"],nextState:"r"}},"+":{o:{action_:"d\x3d kv",nextState:"d"},"d|D":{action_:"d\x3d",nextState:"d"},q:{action_:"d\x3d",nextState:"qd"},"qd|qD":{action_:"d\x3d",nextState:"qd"},dq:{action_:["output","d\x3d"],nextState:"d"},3:{action_:["sb\x3dfalse","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a\x3d",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb\x3dfalse","output",{type_:"operator",
option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb\x3dfalse","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d\x3d",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d\x3d",nextState:"qd"},qd:{action_:"d\x3d",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",
{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond\x3dtrue",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b\x3d"},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},
q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a\x3d",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o\x3d",nextState:"o"},"q|dq":{action_:["output","o\x3d"],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q\x3d",nextState:"q"},"d|D":{action_:"q\x3d",nextState:"dq"},q:{action_:["output",
"o\x3d"],nextState:"o"},a:{action_:"o\x3d",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb\x3dfalse"},"1|2":{action_:"sb\x3dtrue"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb\x3dtrue"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd\x3d",nextState:"rd"},"rd|rdt":{action_:"rq\x3d",
nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o\x3d","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o\x3d","output","parenthesisLevel++"],
nextState:"2"},"*":{action_:["output","o\x3d","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o\x3d","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o\x3d","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b\x3d",nextState:"b"},p:{action_:"b\x3d",nextState:"bp"},"3|o":{action_:"d\x3d kv",nextState:"D"},q:{action_:"d\x3d",nextState:"qD"},
"d|D|qd|qD|dq":{action_:["output","d\x3d"],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b\x3d",nextState:"b"},p:{action_:"b\x3d",nextState:"bp"},"3|o":{action_:"d\x3d kv",nextState:"d"},q:{action_:"d\x3d",nextState:"qd"},"d|qd|D|qD":{action_:"d\x3d"},dq:{action_:["output","d\x3d"],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q\x3d"],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p\x3d",nextState:"p"},b:{action_:"p\x3d",
nextState:"bp"},"3|o":{action_:"q\x3d",nextState:"q"},"d|D":{action_:"q\x3d",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q\x3d"],nextState:"q"}},"\x3d\x3c\x3e":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o\x3d",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output",
"o\x3d"],nextState:"o"}},"$...$":{a:{action_:"a\x3d"},"0|1|2|3|as|b|p|bp|o":{action_:"o\x3d",nextState:"o"},"as|o":{action_:"o\x3d"},"q|d|D|qd|qD|dq":{action_:["output","o\x3d"],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",
option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o\x3d",
"output"],nextState:"3"},"*":{action_:["output","o\x3d","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb\x3dtrue"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(b,f){if((b.d||"").match(/^[0-9]+$/)){var q=b.d;b.d=void 0;var D=this.output(b);b.b=q}else D=
this.output(b);return Hc.actions["o\x3d"](b,f),D},"d\x3d kv":function(b,f){b.d=f;b.dType="kv"},"charge or bond":function(b,f){if(b.beginsWithBond){var q=[];return Hc.concatArray(q,this.output(b)),Hc.concatArray(q,Hc.actions.bond(b,f,"-")),q}b.d=f},"- after o/d":function(b,f,q){var D=Hc.patterns.match_("orbital",b.o||""),J=Hc.patterns.match_("one lowercase greek letter $",b.o||""),K=Hc.patterns.match_("one lowercase latin letter $",b.o||""),W=Hc.patterns.match_("$one lowercase latin letter$ $",b.o||
"");J="-"===f&&(D&&""===D.remainder||J||K||W);!J||b.a||b.b||b.p||b.d||b.q||D||!K||(b.o="$"+b.o+"$");K=[];return J?(Hc.concatArray(K,this.output(b)),K.push({type_:"hyphen"})):(D=Hc.patterns.match_("digits",b.d||""),q&&D&&""===D.remainder?(Hc.concatArray(K,Hc.actions["d\x3d"](b,f)),Hc.concatArray(K,this.output(b))):(Hc.concatArray(K,this.output(b)),Hc.concatArray(K,Hc.actions.bond(b,f,"-")))),K},"a to o":function(b){b.o=b.a;b.a=void 0},"sb\x3dtrue":function(b){b.sb=!0},"sb\x3dfalse":function(b){b.sb=
!1},"beginsWithBond\x3dtrue":function(b){b.beginsWithBond=!0},"beginsWithBond\x3dfalse":function(b){b.beginsWithBond=!1},"parenthesisLevel++":function(b){b.parenthesisLevel++},"parenthesisLevel--":function(b){b.parenthesisLevel--},"state of aggregation":function(b,f){return{type_:"state of aggregation",p1:Hc.go(f,"o")}},comma:function(b,f){var q=f.replace(/\s*$/,"");return q!==f&&0===b.parenthesisLevel?{type_:"comma enumeration L",p1:q}:{type_:"comma enumeration M",p1:q}},output:function(b,f,q){var D,
J,K,W;for(W in b.r?(J="M"===b.rdt?Hc.go(b.rd,"tex-math"):"T"===b.rdt?[{type_:"text",p1:b.rd||""}]:Hc.go(b.rd),K="M"===b.rqt?Hc.go(b.rq,"tex-math"):"T"===b.rqt?[{type_:"text",p1:b.rq||""}]:Hc.go(b.rq),D={type_:"arrow",r:b.r,rd:J,rq:K}):(D=[],(b.a||b.b||b.p||b.o||b.q||b.d||q)&&(b.sb&&D.push({type_:"entitySkip"}),b.o||b.q||b.d||b.b||b.p||2===q?b.o||b.q||b.d||!b.b&&!b.p?b.o&&"kv"===b.dType&&Hc.patterns.match_("d-oxidation$",b.d||"")?b.dType="oxidation":b.o&&"kv"===b.dType&&!b.q&&(b.dType=void 0):(b.o=
b.a,b.d=b.b,b.q=b.p,b.a=b.b=b.p=void 0):(b.o=b.a,b.a=void 0),D.push({type_:"chemfive",a:Hc.go(b.a,"a"),b:Hc.go(b.b,"bd"),p:Hc.go(b.p,"pq"),o:Hc.go(b.o,"o"),q:Hc.go(b.q,"pq"),d:Hc.go(b.d,"oxidation"===b.dType?"oxidation":"bd"),dType:b.dType}))),b)"parenthesisLevel"!==W&&"beginsWithBond"!==W&&delete b[W];return D},"oxidation-output":function(b,f){b=["{"];return Hc.concatArray(b,Hc.go(f,"oxidation")),b.push("}"),b},"frac-output":function(b,f){return{type_:"frac-ce",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"overset-output":function(b,
f){return{type_:"overset",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"underset-output":function(b,f){return{type_:"underset",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"underbrace-output":function(b,f){return{type_:"underbrace",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"color-output":function(b,f){return{type_:"color",color1:f[0],color2:Hc.go(f[1])}},"r\x3d":function(b,f){b.r=f},"rdt\x3d":function(b,f){b.rdt=f},"rd\x3d":function(b,f){b.rd=f},"rqt\x3d":function(b,f){b.rqt=f},"rq\x3d":function(b,f){b.rq=f},operator:function(b,f,q){return{type_:"operator",
kind_:q||f}}}},a:{transitions:Hc.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:Hc.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},
"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text\x3d"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text\x3d"}}}),actions:{output:function(b){if(b.text_){var f={type_:"text",p1:b.text_},q;for(q in b)delete b[q];
return f}}}},pq:{transitions:Hc.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",
option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(b,f){return{type_:"state of aggregation subscript",p1:Hc.go(f,"o")}},"color-output":function(b,f){return{type_:"color",color1:f[0],color2:Hc.go(f[1],"pq")}}}},bd:{transitions:Hc.createTransitions({empty:{"*":{}},
x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},
"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(b,f){return{type_:"color",color1:f[0],color2:Hc.go(f[1],"bd")}}}},oxidation:{transitions:Hc.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(b,f){return{type_:"roman numeral",
p1:f||""}}}},"tex-math":{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o\x3d"}},else:{"*":{action_:"o\x3d"}}}),actions:{output:function(b){if(b.o){var f={type_:"tex-math",p1:b.o},q;for(q in b)delete b[q];return f}}}},"tex-math tight":{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o\x3d"}},
"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o\x3d"}}}),actions:{"tight operator":function(b,f){b.o=(b.o||"")+"{"+f+"}"},output:function(b){if(b.o){var f={type_:"tex-math",p1:b.o},q;for(q in b)delete b[q];return f}}}},"9,9":{transitions:Hc.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output",
"space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o\x3d",nextState:"/"}},"/":{d:{action_:"o\x3d",nextState:"/"}},"{...}|else":{"0|d":{action_:"d\x3d",nextState:"d"},a:{action_:["space","d\x3d"],nextState:"d"},"/|q":{action_:"q\x3d",nextState:"q"}}}),
actions:{enumber:function(b,f){b=[];return"+-"===f[0]||"+/-"===f[0]?b.push("\\pm "):f[0]&&b.push(f[0]),f[1]&&(Hc.concatArray(b,Hc.go(f[1],"pu-9,9")),f[2]&&(f[2].match(/[,.]/)?Hc.concatArray(b,Hc.go(f[2],"pu-9,9")):b.push(f[2])),f[3]=f[4]||f[3],f[3]&&(f[3]=f[3].trim(),"e"===f[3]||"*"===f[3].substr(0,1)?b.push({type_:"cdot"}):b.push({type_:"times"}))),f[3]&&b.push("10^{"+f[5]+"}"),b},"number^":function(b,f){b=[];return"+-"===f[0]||"+/-"===f[0]?b.push("\\pm "):f[0]&&b.push(f[0]),Hc.concatArray(b,Hc.go(f[1],
"pu-9,9")),b.push("^{"+f[2]+"}"),b},operator:function(b,f,q){return{type_:"operator",kind_:q||f}},space:function(){return{type_:"pu-space-1"}},output:function(b){var f,q=Hc.patterns.match_("{(...)}",b.d||"");q&&""===q.remainder&&(b.d=q.match_);q=Hc.patterns.match_("{(...)}",b.q||"");if(q&&""===q.remainder&&(b.q=q.match_),b.d&&(b.d=b.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),b.d=b.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),b.q){b.q=b.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C");b.q=
b.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");q=Hc.go(b.d,"pu");var D=Hc.go(b.q,"pu");"//"===b.o?f={type_:"pu-frac",p1:q,p2:D}:(f=q,1<q.length||1<D.length?f.push({type_:" / "}):f.push({type_:"/"}),Hc.concatArray(f,D))}else f=Hc.go(b.d,"pu-2");for(var J in b)delete b[J];return f}}},"pu-2":{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm\x3d"}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},
"-9.,9":{0:{action_:"rm\x3d",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm\x3d",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(b,f){b.rm+="^{"+f+"}"},space:function(){return{type_:"pu-space-2"}},output:function(b){var f=[];b.rm&&(f=(f=Hc.patterns.match_("{(...)}",b.rm||""))&&""===f.remainder?Hc.go(f.match_,"pu"):{type_:"rm",p1:b.rm});for(var q in b)delete b[q];return f}}},"pu-9,9":{transitions:Hc.createTransitions({empty:{0:{action_:"output-0"},
o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text\x3d"}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(b){var f=[];if(b.text_=b.text_||"",4<b.text_.length){var q=b.text_.length%3;0===q&&(q=3);for(var D=b.text_.length-3;0<D;D-=3)f.push(b.text_.substr(D,3)),f.push({type_:"1000 separator"});f.push(b.text_.substr(0,q));f.reverse()}else f.push(b.text_);for(var J in b)delete b[J];
return f},"output-o":function(b){var f=[];if(b.text_=b.text_||"",4<b.text_.length){for(var q=b.text_.length-3,D=0;D<q;D+=3)f.push(b.text_.substr(D,3)),f.push({type_:"1000 separator"});f.push(b.text_.substr(D))}else f.push(b.text_);for(var J in b)delete b[J];return f}}}};var af={go:function(b,f){if(!b)return"";for(var q="",D=!1,J=0;J<b.length;J++){var K=b[J];"string"==typeof K?q+=K:(q+=af._go2(K),"1st-level escape"===K.type_&&(D=!0))}return f||D||!q||(q="{"+q+"}"),q},_goInner:function(b){return b?
af.go(b,!0):b},_go2:function(b){switch(b.type_){case "chemfive":var f="";var q=af._goInner(b.a),D=af._goInner(b.b),J=af._goInner(b.p),K=af._goInner(b.o),W=af._goInner(b.q),ca=af._goInner(b.d);q&&(q.match(/^[+\-]/)&&(q="{"+q+"}"),f+=q+"\\,");(D||J)&&(f+="{\\vphantom{X}}",f+="^{\\hphantom{"+(D||"")+"}}_{\\hphantom{"+(J||"")+"}}",f+="{\\vphantom{X}}",f+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(D||"")+"}}",f+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(J||"")+"}}}");K&&(K.match(/^[+\-]/)&&(K="{"+K+"}"),
f+=K);"kv"===b.dType?((ca||W)&&(f+="{\\vphantom{X}}"),ca&&(f+="^{"+ca+"}"),W&&(f+="_{\\smash[t]{"+W+"}}")):"oxidation"===b.dType?(ca&&(f+="{\\vphantom{X}}",f+="^{"+ca+"}"),W&&(f+="{\\vphantom{X}}",f+="_{\\smash[t]{"+W+"}}")):(W&&(f+="{\\vphantom{X}}",f+="_{\\smash[t]{"+W+"}}"),ca&&(f+="{\\vphantom{X}}",f+="^{"+ca+"}"));break;case "rm":case "roman numeral":f="\\mathrm{"+b.p1+"}";break;case "text":b.p1.match(/[\^_]/)?(b.p1=b.p1.replace(" ","~").replace("-","\\text{-}"),f="\\mathrm{"+b.p1+"}"):f="\\text{"+
b.p1+"}";break;case "state of aggregation":f="\\mskip2mu "+af._goInner(b.p1);break;case "state of aggregation subscript":f="\\mskip1mu "+af._goInner(b.p1);break;case "bond":if(!(f=af._getBond(b.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+b.kind_+")"];break;case "frac":b="\\frac{"+b.p1+"}{"+b.p2+"}";f="\\mathchoice{\\textstyle"+b+"}{"+b+"}{"+b+"}{"+b+"}";break;case "pu-frac":b="\\frac{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";f="\\mathchoice{\\textstyle"+b+"}{"+b+"}{"+
b+"}{"+b+"}";break;case "tex-math":case "1st-level escape":f=b.p1+" ";break;case "frac-ce":f="\\frac{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";break;case "overset":f="\\overset{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";break;case "underset":f="\\underset{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";break;case "underbrace":f="\\underbrace{"+af._goInner(b.p1)+"}_{"+af._goInner(b.p2)+"}";break;case "color":f="{\\color{"+b.color1+"}{"+af._goInner(b.color2)+"}}";break;case "color0":f="\\color{"+
b.color+"}";break;case "arrow":f=af._goInner(b.rd);q=af._goInner(b.rq);b="\\x"+af._getArrow(b.r);q&&(b+="[{"+q+"}]");f=b+(f?"{"+f+"}":"{}");break;case "operator":f=af._getOperator(b.kind_);break;case "space":f=" ";break;case "entitySkip":case "pu-space-1":f="~";break;case "pu-space-2":f="\\mkern3mu ";break;case "1000 separator":f="\\mkern2mu ";break;case "commaDecimal":f="{,}";break;case "comma enumeration L":f="{"+b.p1+"}\\mkern6mu ";break;case "comma enumeration M":f="{"+b.p1+"}\\mkern3mu ";break;
case "comma enumeration S":f="{"+b.p1+"}\\mkern1mu ";break;case "hyphen":f="\\text{-}";break;case "addition compound":f="\\,{\\cdot}\\,";break;case "electron dot":f="\\mkern1mu \\bullet\\mkern1mu ";break;case "KV x":f="{\\times}";break;case "prime":f="\\prime ";break;case "cdot":f="\\cdot ";break;case "tight cdot":f="\\mkern1mu{\\cdot}\\mkern1mu ";break;case "times":f="\\times ";break;case "circa":f="{\\sim}";break;case "^":f="uparrow";break;case "v":f="downarrow";break;case "ellipsis":f="\\ldots ";
break;case "/":f="/";break;case " / ":f="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."];}return f},_getArrow:function(b){switch(b){case "-\x3e":case "→":case "⟶":return"rightarrow";case "\x3c-":return"leftarrow";case "\x3c-\x3e":return"leftrightarrow";case "\x3c--\x3e":return"rightleftarrows";case "\x3c\x3d\x3e":case "⇌":return"rightleftharpoons";case "\x3c\x3d\x3e\x3e":return"rightequilibrium";case "\x3c\x3c\x3d\x3e":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."];
}},_getBond:function(b){switch(b){case "-":case "1":return"{-}";case "\x3d":case "2":return"{\x3d}";case "#":case "3":return"{\\equiv}";case "~":return"{\\tripledash}";case "~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case "~\x3d":case "~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case "-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case "...":return"{{\\cdot}{\\cdot}{\\cdot}}";
case "....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case "-\x3e":return"{\\rightarrow}";case "\x3c-":return"{\\leftarrow}";case "\x3c":return"{\x3c}";case "\x3e":return"{\x3e}";default:throw["MhchemBugT","mhchem bug T. Please report."];}},_getOperator:function(b){switch(b){case "+":return" {}+{} ";case "-":return" {}-{} ";case "\x3d":return" {}\x3d{} ";case "\x3c":return" {}\x3c{} ";case "\x3e":return" {}\x3e{} ";case "\x3c\x3c":return" {}\\ll{} ";case "\x3e\x3e":return" {}\\gg{} ";case "\\pm":return" {}\\pm{} ";
case "\\approx":case "$\\approx$":return" {}\\approx{} ";case "v":case "(v)":return" \\downarrow{} ";case "^":case "(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."];}}};class Ji extends wc{constructor(b,f,q,D){super("delim",q,{command:b,style:null==D?void 0:D.style});this.value=f;this.size=null==D?void 0:D.size}static fromJson(b,f){return new Ji(b.command,b.delim,f,b)}toJson(){return{...super.toJson(),delim:this.value,size:this.size}}render(b){b=new Zc(null);return b.delim=
this.value,b}serialize(b){return 1===this.value.length?this.command+this.value:`${this.command}{${this.value}}`}}class Lh extends wc{constructor(b,f,q,D){super("sizeddelim",q,{command:b,style:D.style});this.value=f;this.delimClass=D.delimClass;this.size=D.size}static fromJson(b,f){return new Lh(b.command,b.delim,f,b)}toJson(){return{...super.toJson(),delim:this.value,size:this.size,delimClass:this.delimClass}}render(b){var f=this.value,q=this.size,D={classes:this.delimClass},J;let K=void 0===f||"."===
f?Ca(b,null!==(J=D.type)&&void 0!==J?J:"minner",D.classes):("\x3c"===f||"\\lt"===f||"⟨"===f?f="\\langle":"\x3e"!==f&&"\\gt"!==f&&"⟩"!==f||(f="\\rangle"),Id.has(f)||kg.has(f)?na(f,q,!1,b,D):Gk.has(f)?Va(f,oj[q],!1,b,D):null);return K?(K=this.bind(b,K),this.caret&&(K.caret=this.caret),K):null}serialize(b){return 1===this.value.length?this.command+this.value:`${this.command}{${this.value}}`}}class Qg extends wc{constructor(b,f,q,D,J){super("enclose",D,{command:b,style:J.style});this.body=f;this.backgroundcolor=
J.backgroundcolor;q.updiagonalarrow&&(q.updiagonalstrike=!1);q.box&&(q.left=!1,q.right=!1,q.bottom=!1,q.top=!1);this.notation=q;this.shadow=J.shadow;this.strokeWidth=J.strokeWidth;this.strokeStyle=J.strokeStyle;this.svgStrokeStyle=J.svgStrokeStyle;this.strokeColor=J.strokeColor;this.borderStyle=J.borderStyle;this.padding=J.padding;this.captureSelection=!0}static fromJson(b,f){return new Qg(b.command,b.body,b.notation,f,b)}toJson(){const b={};return this.notation.downdiagonalstrike&&(b.downdiagonalstrike=
!0),this.notation.updiagonalstrike&&(b.downdiagonalstrike=!0),this.notation.verticalstrike&&(b.downdiagonalstrike=!0),this.notation.horizontalstrike&&(b.downdiagonalstrike=!0),this.notation.updiagonalarrow&&(b.downdiagonalstrike=!0),this.notation.right&&(b.downdiagonalstrike=!0),this.notation.bottom&&(b.downdiagonalstrike=!0),this.notation.left&&(b.downdiagonalstrike=!0),this.notation.top&&(b.downdiagonalstrike=!0),this.notation.circle&&(b.downdiagonalstrike=!0),this.notation.roundedbox&&(b.downdiagonalstrike=
!0),this.notation.madruwb&&(b.downdiagonalstrike=!0),this.notation.actuarial&&(b.downdiagonalstrike=!0),this.notation.box&&(b.downdiagonalstrike=!0),{...super.toJson(),notation:b,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding}}serialize(b){var f;let q=null!==(f=this.command)&&void 0!==f?f:"";if("\\enclose"===this.command){q+="{"+Object.keys(this.notation).join(" ")+
"}";let D=f="";this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(f+=D+'mathbackground\x3d"'+this.backgroundcolor+'"',D=",");this.shadow&&"auto"!==this.shadow&&(f+=D+'shadow\x3d"'+this.shadow+'"',D=",");this.strokeWidth||"solid"!==this.strokeStyle?f+=D+this.borderStyle:this.strokeColor&&"currentColor"!==this.strokeColor&&(f+=D+'mathcolor\x3d"'+this.strokeColor+'"');f&&(q+=`[${f}]`)}return q+=`{${this.bodyToLatex(b)}}`,q}render(b){var f;const q=new de(b,this.style),D=wc.createBox(q,this.body);
if(!D)return null;b=null!==(f=va(this.padding&&"auto"!==this.padding?Xa(this.padding,{...this.context,registers:b.registers}):q.getRegisterAsDimension("fboxsep")))&&void 0!==f?f:0;var J=function(W){if(!W)return"1px";W=W.match(/([0-9][a-zA-Z%]+)/);return null===W?"1px":W[1]}(this.borderStyle);f=new Zc(null,{classes:"ML__notation"});f.setStyle("box-sizing","border-box");f.setStyle("top",`calc(-${J} / 2 - ${b}em)`);f.setStyle("left",`calc(-${J} / 2 - ${b}em)`);f.setStyle("height",`calc(100% + ${2*b}em + 2 * ${J})`);
f.height=D.height+b;f.depth=D.depth+b;f.setStyle("width",`calc(100% + ${2*b}em + 2 * ${J})`);this.backgroundcolor&&f.setStyle("background-color",this.backgroundcolor);this.notation.box&&f.setStyle("border",this.borderStyle);this.notation.actuarial&&(f.setStyle("border-top",this.borderStyle),f.setStyle("border-right",this.borderStyle));this.notation.madruwb&&(f.setStyle("border-bottom",this.borderStyle),f.setStyle("border-right",this.borderStyle));this.notation.roundedbox&&(f.setStyle("border-radius",
"8px"),f.setStyle("border",this.borderStyle));this.notation.circle&&(f.setStyle("border-radius","50%"),f.setStyle("border",this.borderStyle));this.notation.top&&f.setStyle("border-top",this.borderStyle);this.notation.left&&f.setStyle("border-left",this.borderStyle);this.notation.right&&f.setStyle("border-right",this.borderStyle);this.notation.bottom&&f.setStyle("border-bottom",this.borderStyle);J="";if(this.notation.horizontalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"50%" x2\x3d"97%" y2\x3d"50%"',
J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.verticalstrike&&(J+='\x3cline x1\x3d"50%"  y1\x3d"3%" x2\x3d"50%" y2\x3d"97%"',J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.updiagonalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"97%" x2\x3d"97%" y2\x3d"3%"',
J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.downdiagonalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"3%" x2\x3d"97%" y2\x3d"97%"',J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),J){var K;"none"!==this.shadow&&(K="auto"===
this.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")");(function(W,ca,fa){W.svgOverlay=ca;W.svgStyle=fa})(f,J,K)}K=new Zc([f,D]);return K.setStyle("position","relative"),K.setStyle("display","inline"),K.height=D.height+b,K.depth=D.depth+b,K.left=b,K.right=b,this.caret&&(K.caret=this.caret),K.wrap(q)}}class ef extends wc{constructor(b,f,q,D,J){var K,W;super("genfrac",D,{style:J.style,command:b,serialize:J.serialize,
displayContainsHighlight:!0});this.above=f;this.below=q;this.hasBarLine=null===(K=null==J?void 0:J.hasBarLine)||void 0===K||K;this.continuousFraction=null!==(W=null==J?void 0:J.continuousFraction)&&void 0!==W&&W;this.numerPrefix=null==J?void 0:J.numerPrefix;this.denomPrefix=null==J?void 0:J.denomPrefix;this.mathstyleName=null==J?void 0:J.mathstyleName;this.leftDelim=null==J?void 0:J.leftDelim;this.rightDelim=null==J?void 0:J.rightDelim}static fromJson(b,f){return new ef(b.command,b.above,b.below,
f,b)}toJson(){const b={};return this.continuousFraction&&(b.continuousFraction=!0),this.numerPrefix&&(b.numerPrefix=this.numerPrefix),this.denomPrefix&&(b.denomPrefix=this.denomPrefix),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),this.hasBarLine||(b.hasBarLine=!1),this.mathstyleName&&(b.mathstyleName=this.mathstyleName),{...super.toJson(),...b}}serialize(b){return this.command+`{${this.aboveToLatex(b)}}`+`{${this.belowToLatex(b)}}`}get children(){if(this._children)return this._children;
const b=[];if("numerator-denominator"===this.context.fractionNavigationOrder){for(const f of this.above)b.push(...f.children),b.push(f);for(const f of this.below)b.push(...f.children),b.push(f)}else{for(const f of this.below)b.push(...f.children),b.push(f);for(const f of this.above)b.push(...f.children),b.push(f)}return this._children=b,b}render(b){var f,q,D=new de(b,this.style,this.mathstyleName),J=D.metrics,K=new de(D,this.style,this.continuousFraction?"":"numerator");K=this.numerPrefix?new Zc([new Zc(this.numerPrefix),
wc.createBox(K,this.above)],{isTight:K.isTight,newList:!0}):null!==(f=wc.createBox(K,this.above,{newList:!0}))&&void 0!==f?f:new Zc(null,{newList:!0});f=new de(D,this.style,this.continuousFraction?"":"denominator");f=this.denomPrefix?new Zc([new Zc(this.denomPrefix),wc.createBox(f,this.below,{newList:!0})]):null!==(q=wc.createBox(f,this.below,{newList:!0}))&&void 0!==q?q:new Zc(null,{newList:!0});var W=this.hasBarLine?J.defaultRuleThickness:0,ca,fa,xa=0;D.isDisplayStyle?(ca=J.num1,xa=0<W?3*W:7*W,
fa=J.denom1):(0<W?(ca=J.num2,xa=W):(ca=J.num3,xa=3*W),fa=J.denom2);q=[];this.isSelected&&q.push("ML__selected");const ra=K.depth,Na=f.height;if(0>=W)W=ca-ra-(Na-fa),W<xa&&(ca+=(xa-W)/2,fa+=(xa-W)/2),ca=(new we({individualShift:[{box:K,shift:-ca,classes:[...q,"ML__center"]},{box:f,shift:fa,classes:[...q,"ML__center"]}]})).wrap(D);else{const Ua=.25+W/2,db=.25-W/2;ca<xa+ra+Ua&&(ca=xa+ra+Ua);fa<xa+Na-db&&(fa=xa+Na-db);xa=new Zc(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});xa.height=
W/2;xa.depth=W/2;ca=(new we({individualShift:[{box:f,shift:fa,classes:[...q,"ML__center"]},{box:xa,shift:W/2-db,classes:q},{box:K,shift:-ca,classes:[...q,"ML__center"]}]})).wrap(D)}fa=D.isDisplayStyle?J.delim1:J.delim2;K=this.isSelected?" ML__selected":"";J=this.leftDelim?this.bind(b,bb("mopen",this.leftDelim,fa,!0,b,{style:this.style,mode:this.mode,classes:K})):Ca(D,"mopen");fa=this.continuousFraction?new Zc(null,{type:"mclose"}):this.rightDelim?this.bind(b,bb("mclose",this.rightDelim,fa,!0,b,{style:this.style,
mode:this.mode,classes:K})):Ca(D,"mclose");return(D=this.bind(b,new Zc([J,ca,fa],{isTight:D.isTight,type:"mord",classes:"mfrac"})))?(this.caret&&(D.caret=this.caret),this.attachSupsub(b,{base:D})):null}}class ff extends wc{constructor(b,f,q){var D;super("latex",f,{value:b,mode:"latex"});this.isSuggestion=null!==(D=null==q?void 0:q.isSuggestion)&&void 0!==D&&D;this.isError=!1;this.verbatimLatex=b}static fromJson(b,f){f=new ff(b.command,f);return b.isSuggestion&&(f.isSuggestion=!0),b.isError&&(f.isError=
!0),f}toJson(){const b={};return this.isSuggestion&&(b.isSuggestion=!0),this.isError&&(b.isError=!0),{...super.toJson(),...b}}get computedStyle(){return{}}render(b){const f=new Zc(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class Tg extends wc{constructor(b,f){super("latexgroup",f,{mode:"latex"});this.body=[...b].map(q=>new ff(q,f));this.skipBoundary=!1}static fromJson(b,
f){return new Tg("",f)}toJson(){return super.toJson()}render(b){const f=wc.createBox(b,this.body,{newList:!0});return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){var f,q;return null!==(q=null===(f=this.body)||void 0===f?void 0:f.map(D=>D.value).join(""))&&void 0!==q?q:""}}class ag extends wc{constructor(b,f,q,D){super("line",q,{command:b,style:D.style});this.skipBoundary=!0;this.body=f;this.position=D.position}static fromJson(b,f){return new ag(b.command,b.body,f,b)}toJson(){return{...super.toJson(),
position:this.position}}render(b){b=new de(b,this.style,"cramp");const f=wc.createBox(b,this.body);if(!f)return null;const q=b.metrics.defaultRuleThickness/b.scalingFactor,D=new Zc(null,{classes:this.position+"-line"});let J;return D.height=q,D.maxFontSize=1.125*q*b.scalingFactor,J="overline"===this.position?new we({shift:0,children:[{box:f},3*q,{box:D},q]}):new we({top:f.height,children:[q,{box:D},3*q,{box:f}]}),this.caret&&(J.caret=this.caret),new Zc(J,{classes:this.position,type:"mord"})}}class Yf extends wc{constructor(b,
f,q,D){var J,K,W,ca;super(null!==(J=D.type)&&void 0!==J?J:"mop",q,{command:b,style:D.style,isFunction:null==D?void 0:D.isFunction});"string"==typeof f?this.value=f:this.body=f;this.captureSelection=null!==(K=D.captureSelection)&&void 0!==K&&K;this.hasArgument=null!==(W=D.hasArgument)&&void 0!==W&&W;this.variant=null==D?void 0:D.variant;this.variantStyle=null==D?void 0:D.variantStyle;this.subsupPlacement=null==D?void 0:D.limits;this.isExtensibleSymbol=null!==(ca=null==D?void 0:D.isExtensibleSymbol)&&
void 0!==ca&&ca}static fromJson(b,f){return new Yf(b.command,b.body?b.body:b.value,f,b)}toJson(){const b=super.toJson();return this.hasArgument&&(b.hasArgument=!0),this.variant&&(b.variant=this.variant),this.variantStyle&&(b.variantStyle=this.variantStyle),this.subsupPlacement&&(b.limits=this.subsupPlacement),this.isExtensibleSymbol&&(b.isExtensibleSymbol=!0),this.value&&(b.symbol=this.value),b}render(b){var f;let q;var D=0;let J=0;if(this.isExtensibleSymbol){D=b.isDisplayStyle&&"\\smallint"!==this.value;
if(q=new Zc(this.value,{fontFamily:D?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(D?"large-op":"small-op"),type:"mop",maxFontSize:b.scalingFactor}),!q)return null;q.right=q.italic;D=(q.height-q.depth)/2-.25*b.scalingFactor;J=q.italic;q.setStyle("color",this.style.color);q.setStyle("background-color",this.style.backgroundColor)}else if(this.body){if(q=wc.createBox(b,this.body,{newList:!0}),!q)return null;q.setStyle("color",this.style.color);q.setStyle("background-color",this.style.backgroundColor)}else q=
new Zc(this.value,{type:"mop",mode:"math",maxFontSize:b.scalingFactor,style:{color:this.style.color,backgroundColor:this.style.backgroundColor,letterShapeStyle:b.letterShapeStyle,variant:this.variant,variantStyle:this.variantStyle}});this.isExtensibleSymbol&&q.setTop(D);var K=q;if(this.superscript||this.subscript)K=null!==(f=this.subsupPlacement)&&void 0!==f?f:"auto",K="over-under"===K||"auto"===K&&b.isDisplayStyle?this.attachLimits(b,{base:q,baseShift:D,slant:J}):this.attachSupsub(b,{base:q});return this.caret&&
(K.caret=this.caret),new Zc(this.bind(b,K),{type:"mop",classes:"op-group"+(this.isSelected?" ML__selected":"")})}serialize(b){if("​"===this.value)return this.supsubToLatex(b);const f=[];return f.push(this.command),this.hasArgument&&f.push(`{${this.bodyToLatex(b)}}`),this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&f.push("\\limits"),"adjacent"===this.subsupPlacement&&f.push("\\nolimits"),"auto"===this.subsupPlacement&&f.push("\\displaylimits")),f.push(this.supsubToLatex(b)),sa(f)}}
class Zf extends wc{constructor(b,f,q,D){var J,K;super("overlap",q,{command:b,style:null==D?void 0:D.style});this.skipBoundary=!0;this.body="string"==typeof f?[new wc("mord",q,{value:f})]:f;this.align=null!==(J=null==D?void 0:D.align)&&void 0!==J?J:"left";this.boxType=null!==(K=null==D?void 0:D.boxType)&&void 0!==K?K:"mord"}static fromJson(b,f){return new Zf(b.command,b.body,f,b)}toJson(){const b={};return this.align&&(b.align=this.align),this.boxType&&(b.boxType=this.boxType),{...super.toJson(),
...b}}render(b){const f=wc.createBox(b,this.body,{classes:"inner"});return f?(this.caret&&(f.caret=this.caret),this.bind(b,new Zc([f,new Zc(null,{classes:"fix"})],{classes:"left"===this.align?"llap":"rlap",type:this.boxType}))):null}}class qh extends wc{constructor(b,f,q,D){var J,K,W,ca;super("phantom",q,{command:b,style:D.style});this.captureSelection=!0;this.body=f;this.isInvisible=null!==(J=D.isInvisible)&&void 0!==J&&J;this.smashDepth=null!==(K=D.smashDepth)&&void 0!==K&&K;this.smashHeight=null!==
(W=D.smashHeight)&&void 0!==W&&W;this.smashWidth=null!==(ca=D.smashWidth)&&void 0!==ca&&ca}static fromJson(b,f){return new qh(b.command,b.body,f,b)}toJson(){const b={};return this.isInvisible&&(b.isInvisible=!0),this.smashDepth&&(b.smashDepth=!0),this.smashHeight&&(b.smashHeight=!0),this.smashWidth&&(b.smashWidth=!0),{...super.toJson(),...b}}render(b){var f=new de(b,{isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return wc.createBox(f,this.body,{classes:"inner"});f=wc.createBox(this.isInvisible?
f:b,this.body);if(!f)return null;if(this.smashWidth){var q=new Zc(null,{classes:"fix"});return(new Zc([f,q],{classes:"rlap"})).wrap(b)}if(!this.smashHeight&&!this.smashDepth)return f;if(this.smashHeight&&(f.height=0),this.smashDepth&&(f.depth=0),f.children)for(q of f.children)this.smashHeight&&(q.height=0),this.smashDepth&&(q.depth=0);return(new we({firstBaseline:[{box:f}]},{type:"mord"})).wrap(b)}}class Wi extends wc{constructor(b,f,q){var D;super("rule",f,{command:b,style:q.style});this.shift=null!==
(D=q.shift)&&void 0!==D?D:{dimension:0};this.height=q.height;this.width=q.width}static fromJson(b,f){return new Wi(b.command,f,b)}toJson(){const b={height:this.height,width:this.width};return this.shift&&(b.shift=this.shift),{...super.toJson(),...b}}render(b){const f=new de(b,this.style,"textstyle"),q=va(this.shift),D=va(this.width),J=va(this.height),K=new Zc(null,{classes:"rule",type:"mord"});return K.setStyle("border-right-width",D,"em"),K.setStyle("border-top-width",J,"em"),K.setStyle("border-color",
this.style.color),K.setStyle("vertical-align",q,"em"),this.isSelected&&K.setStyle("opacity","50%"),K.width=D,K.height=J+q,K.depth=-q,this.bind(b,K),this.caret&&(K.caret=this.caret),K.wrap(f)}serialize(b){var f;b=null!==(f=this.command)&&void 0!==f?f:"";return this.shift&&(b+=`[${Ga(this.shift)}]`),b+=`{${Ga(this.width)}}{${Ga(this.height)}}`,b}}class If extends wc{constructor(b,f,q){var D;super("surd",f,{command:b,mode:null!==(D=q.mode)&&void 0!==D?D:"math",style:q.style,displayContainsHighlight:!0});
this.body=q.body;this.above=q.index}static fromJson(b,f){return new If(b.command,f,{...b,index:b.above})}toJson(){return super.toJson()}serialize(b){let f="";return this.above&&(f+=`[${this.aboveToLatex(b)}]`),f+=`{${this.bodyToLatex(b)}}`,this.command+f}render(b){var f,q=new de(b,this.style,"cramp"),D=null!==(f=wc.createBox(q,this.body,{style:this.style,newList:!0}))&&void 0!==f?f:new Zc(null),J=q.scalingFactor;q=q.metrics.defaultRuleThickness/J;var K=b.isDisplayStyle?.431:q;f=new Zc(null,{classes:"ML__sqrt-line",
style:this.style,height:q});let W=J*(q+K/4);J=Math.max(2*J*K,D.height+D.depth)+W+q;K=new de(b,this.style);const ca=this.isSelected?" ML__selected":"";J=this.bind(K,new Zc(bb("","\\surd",J,!1,K,{classes:ca}),{classes:"ML__sqrt-sign"+ca,style:this.style}));if(!J)return null;K=J.height+J.depth-q;K>D.height+D.depth+W&&(W=(W+K-(D.height+D.depth))/2);J.setTop(J.height-D.height-W);D=this.bind(b,(new we({firstBaseline:[{box:new Zc(D)},W-2*q,{box:f},q]})).wrap(b));q=wc.createBox(new de(b,this.style,"scriptscriptstyle"),
this.above,{style:this.style,newList:!0});if(!q)return D=new Zc([J,D],{classes:this.containsCaret?"ML__contains-caret":"",type:"mord"}),this.caret&&(D.caret=this.caret),this.bind(b,D.wrap(b));q=new we({shift:-.6*(Math.max(J.height,D.height)-Math.max(J.depth,D.depth)),children:[{box:q}]});D=new Zc([new Zc(q,{classes:"ML__sqrt-index"}),J,D],{type:"mord",classes:this.containsCaret?"ML__contains-caret":""});return D.height=J.height,D.depth=J.depth,this.caret&&(D.caret=this.caret),this.bind(b,D.wrap(b))}}
const pj={"p@":"1pt ","z@":"0pt",maxdimen:"16383.99999pt",hfuzz:"0.1pt",vfuzz:"0.1pt",overfullrule:"5pt",hsize:"6.5in",vsize:"8.9in",parindent:"20pt",maxdepth:"4pt",splitmaxdepth:"\\maxdimen",boxmaxdepth:"\\maxdimen",delimitershortfall:"5pt",nulldelimiterspace:"1.2pt",scriptspace:"0.5pt",topskip:"10pt",splittopskip:"10pt",normalbaselineskip:"12pt",normallineskip:"1pt",normallineskiplimit:"0pt",jot:"3pt",doublerulesep:"2pt",arrayrulewidth:"0.4pt",arraycolsep:"5pt",fboxsep:"3pt",fboxrule:"0.4pt"},$h=
{"z@skip":"0pt plust0pt minus0pt",hideskip:"-1000pt plust 1fill","@flushglue":"0pt plust 1fill",parskip:"0pt plus 1pt",abovedisplayskip:"12pt plus 3pt minus 9pt",abovedisplayshortskip:"0pt plus 3pt",belowdisplayskip:"12pt plus 3pt minus 9pt",belowdisplayshortskip:"7pt plus 3pt minus 4pt",parfillskip:"0pt plus 1fil",thinmuskip:"3mu",medmuskip:"4mu plus 2mu minus 4mu",thickmuskip:"5mu plus 5mu",smallskipamount:"3pt plus1pt minus1pt",medskipamount:"6pt plus2pt minus2pt",bigskipamount:"12pt plus4pt minus4pt"},
Lj={pretolerance:100,tolerance:200,hbadness:1E3,vbadness:1E3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1E4,doublehyphendemerits:1E4,finalhyphendemerits:5E3,adjdemerits:1E4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,
baselineSkip:1.2,arraystretch:"",month:(new Date).getMonth()+1,day:(new Date).getDate(),year:(new Date).getFullYear()};let Jg;class Xi extends wc{constructor(b,f,q,D){super("tooltip",q,{command:null==D?void 0:D.command,mode:"math",serialize:null==D?void 0:D.serialize,style:null==D?void 0:D.style,displayContainsHighlight:!0});this.body=b;b=ub();this.tooltip=new wc("root",b,{style:{}});this.tooltip.body=f;this.skipBoundary=!0;this.captureSelection=!1}static fromJson(b,f){return new Xi(b.body,Ic(b.tooltip,
f),f,b)}toJson(){var b;const f=null===(b=this.tooltip.body)||void 0===b?void 0:b.filter(q=>"first"!==q.type).map(q=>q.toJson());return{...super.toJson(),tooltip:f}}render(b){var f=wc.createBox(b,this.body,{style:this.style});if(!f)return null;const q=fb(zb(new Zc(this.tooltip.render(new de({registers:b.registers},{fontSize:5},"displaystyle")),{classes:"ML__tooltip-content"})));f=new Zc([q,f],{classes:"ML__tooltip-container"});return this.caret&&(f.caret=this.caret),this.bind(b,f)}serialize(b){return`${this.command}{${this.bodyToLatex(b)}}{${wc.serialize(this.tooltip.body,
b)}}`}}class qj extends wc{constructor(b,f){super("choice",f);this.choices=b;this.skipBoundary=!0}static fromJson(b,f){return new qj([Ic(b.choices[0],f),Ic(b.choices[1],f),Ic(b.choices[2],f),Ic(b.choices[3],f)],f)}toJson(){const b=[];for(const f of this.choices)b.push(f.filter(q=>"first"!==q.type).map(q=>q.toJson()));return{...super.toJson(),choices:b}}render(b){const f=wc.createBox(b,this.choices[Math.floor(b.mathstyle.id/2)]);return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){return`\\mathchoice{${wc.serialize(this.choices[0],
b)}}{${wc.serialize(this.choices[1],b)}}{${wc.serialize(this.choices[2],b)}}{${wc.serialize(this.choices[3],b)}}`}}ea("mathtip","{:math}{:math}",{createAtom:(b,f,q,D)=>new Xi(f[0],f[1],D,{command:b,content:"math",style:q})});ea("texttip","{:math}{:text}",{createAtom:(b,f,q,D)=>new Xi(f[0],f[1],D,{command:b,content:"text",style:q})});ea("error","{:math}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{mode:"math",command:"\\error",customClass:"ML__error",style:q,serialize:(J,K)=>`\\error{${J.bodyToLatex(K)}}`})});
ea("ensuremath","{:math}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{mode:"math",latexOpen:"\\ensuremath{",latexClose:"}",style:q})});ea("color","{:string}",{applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimColor:f[0],color:null!==(J=null===(D=q.colorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("textcolor","{:string}{content:auto*}",{applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimColor:b,color:null!==(J=null===(D=q.colorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("boxed",
"{content:math}",{createAtom:(b,f,q,D)=>new Ig(b,f[0],D,{framecolor:"black",style:q})});ea("colorbox","{:string}{content:auto*}",{applyMode:"text",applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimBackgroundColor:f[0],backgroundColor:null!==(J=null===(D=q.backgroundColorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{applyMode:"text",createAtom:(b,f,q,D)=>{var J,K,W,ca;const fa=f[0],xa=f[1];return new Ig(b,f[2],
D,{verbatimFramecolor:fa,framecolor:null!==(K=null===(J=D.colorMap)||void 0===J?void 0:J.call(D,fa))&&void 0!==K?K:fa,verbatimBackgroundcolor:f[1],backgroundcolor:null!==(ca=null===(W=D.backgroundColorMap)||void 0===W?void 0:W.call(D,xa))&&void 0!==ca?ca:xa,style:q,serialize:(ra,Na)=>{var Ua,db;return`${ra.command}{${null!==(Ua=ra.verbatimFramecolor)&&void 0!==Ua?Ua:ra.framecolor}{${null!==(db=ra.verbatimBackgroundcolor)&&void 0!==db?db:ra.backgroundcolor}}{${ra.bodyToLatex(Na)}}`}})}});ea("bbox",
"[:bbox]{body:auto}",{createAtom:(b,f,q,D)=>{if(f[0]){const J=f[0];return new Ig(b,f[1],D,{padding:J.padding,border:J.border,backgroundcolor:J.backgroundcolor,style:q,serialize:(K,W)=>{var ca;let fa=b;if(Number.isFinite(K.padding)||void 0!==K.border||void 0!==K.backgroundcolor){const xa=[];K.padding&&xa.push(K.padding);K.border&&xa.push(`border: ${K.border}`);(K.verbatimBackgroundcolor||K.backgroundcolor)&&xa.push(null!==(ca=K.verbatimBackgroundcolor)&&void 0!==ca?ca:K.backgroundcolor);fa+=`[${xa.join(",")}]`}return fa+
`{${K.bodyToLatex(W)}}`}})}return new Ig(b,f[1],D,{style:q})}});ea(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{latexOpen:`{${b} `,latexClose:"}",style:q,mathstyleName:b.slice(1)})});ea("tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" "),"",{applyStyle:(b,f)=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[b]})});
ea("fontseries","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontSeries:f[0]})});ea("fontshape","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontShape:f[0]})});ea("fontfamily","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontFamily:f[0]})});ea("selectfont","",{ifMode:"text",applyStyle:(b,f)=>({})});ea("bf","",{applyStyle:(b,f)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})});ea(["boldsymbol","bm"],"{:math*}",{applyMode:"math",createAtom:(b,f,q,D)=>new Nd(f[0],D,{latexOpen:`${b}{`,latexClose:"}",
style:q,customClass:"ML__boldsymbol"})});ea("bold","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variantStyle:"bold"})});ea("bfseries","",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"b"})});ea("mdseries","",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"m"})});ea("upshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n"})});ea("slshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sl"})});ea("scshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sc"})});ea("textbf",
"{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"b"})});ea("textmd","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"m"})});ea("textup","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n"})});ea("textnormal","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n",fontSeries:"m"})});ea("textsl","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sl"})});ea("textit","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"it"})});ea("textsc","{:text*}",
{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sc"})});ea("textrm","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"roman"})});ea("textsf","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"sans-serif"})});ea("texttt","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"monospace"})});ea("mathbf","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"bold"})});ea("mathit","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"main",variantStyle:"italic"})});
ea("mathnormal","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"italic"})});ea("mathbfit","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"main",variantStyle:"bolditalic"})});ea("mathrm","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"up"})});ea("mathsf","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"sans-serif",variantStyle:"up"})});ea("mathtt","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"monospace",
variantStyle:"up"})});ea("it","",{applyStyle:(b,f)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})});ea("rmfamily","",{applyStyle:(b,f)=>({fontFamily:"roman"})});ea("sffamily","",{applyStyle:(b,f)=>({fontFamily:"sans-serif"})});ea("ttfamily","",{applyStyle:(b,f)=>({fontFamily:"monospace"})});ea(["Bbb","mathbb"],"{:math*}",{applyStyle:(b,f)=>({variant:"double-struck",variantStyle:"up"})});ea(["frak","mathfrak"],"{:math*}",{applyStyle:(b,f)=>({variant:"fraktur",variantStyle:"up"})});
ea("mathcal","{:math*}",{applyStyle:(b,f)=>({variant:"calligraphic",variantStyle:"up"})});ea("mathscr","{:math*}",{applyStyle:(b,f)=>({variant:"script",variantStyle:"up"})});ea("mbox","{:text}",{ifMode:"math",createAtom:(b,f,q,D)=>new Nd(f[0],D,{changeMode:!0,style:q,mode:"text",command:b,serialize:(J,K)=>`\\mbox{${J.bodyToLatex({...K,skipModeCommand:!0})}}`})});ea("text","{:text}",{ifMode:"math",applyMode:"text"});ea("class","{name:string}{content:auto*}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{customClass:f[0],
style:q})});ea("cssId","{id:string}{content:auto}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{cssId:f[0],style:q})});ea("htmlData","{data:string}{content:auto}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{htmlData:f[0],style:q})});ea("htmlStyle","{data:string}{content:auto}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{htmlStyle:f[0],style:q})});ea("em","{:auto*}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{latexOpen:"\\em",latexClose:"",customClass:"ML__emph",style:q})});ea("emph","{:auto}",{createAtom:(b,f,q,D)=>new Nd(f[0],
D,{latexOpen:"\\emph{",latexClose:"}",customClass:"ML__emph",style:q})});const Rg={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",
size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};ea("bigl Bigl biggl Biggl bigr Bigr biggr Biggr bigm Bigm biggm Biggm big Big bigg Bigg".split(" "),"{:delim}",{createAtom:(b,f,q,D)=>new Lh(b,f[0],D,{size:Rg[b].size,delimClass:Rg[b].mclass,style:q})});ea(["hspace","hspace*"],"{width:glue}",{createAtom:(b,f,q,D)=>{var J;return new oh(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea(["mkern","kern"],"{width:glue}",{createAtom:(b,
f,q,D)=>{var J;return new oh(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea("mspace","{width:glue}",{createAtom:(b,f,q,D)=>{var J;return new oh(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea("mathop","{:auto}",{createAtom:(b,f,q,D)=>new Yf(b,f[0],D,{type:"mop",captureSelection:!0,limits:"over-under",isFunction:!0,hasArgument:!0,style:q})});ea("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:(b,f,q,D)=>new qj(f,D)});ea("mathbin mathrel mathopen mathclose mathpunct mathord mathinner".split(" "),
"{:auto}",{createAtom:(b,f,q,D)=>new Yf(b,f[0],D,{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[b],captureSelection:!0,hasArgument:!0,style:q})});ea(["operatorname","operatorname*"],"{operator:math}",{createAtom:(b,f,q,D)=>{b=new Yf(b,f[0],D,{isFunction:!0,hasArgument:!0,limits:"\\operatorname"===b?"adjacent":"over-under",style:q});return b.captureSelection=!0,b.body&&b.body.forEach(J=>{var K;
"first"!==J.type&&(J.type="mord",J.value=null!==(K={"∗":"*","−":"-"}[J.value])&&void 0!==K?K:J.value,J.isFunction=!1,J.style.variant||J.style.variantStyle||(J.style.variant="main",J.style.variantStyle="up"))}),b}});class Dh extends wc{constructor(b,f,q){b=Number.parseInt(b);Number.isFinite(b)||(b=10067);super("mord",q,{value:String.fromCodePoint(b),style:f});this.codepoint=b}serialize(b){return'\\unicode"'+("000000"+this.codepoint.toString(16)).toUpperCase().slice(-6)}}ea("unicode","{charcode:number}",
{createAtom:(b,f,q,D)=>new Dh(f[0],q,D)});ea("rule","[raise:dimen]{width:dimen}{thickness:dimen}",{createAtom:(b,f,q,D)=>new Wi(b,D,{shift:f[0],width:f[1],height:f[2],style:q})});ea("overline","{:auto}",{createAtom:(b,f,q,D)=>new ag(b,f[0],D,{position:"overline",style:q})});ea("underline","{:auto}",{createAtom:(b,f,q,D)=>new ag(b,f[0],D,{position:"underline",style:q})});ea("overset","{above:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{above:f[0],body:f[1],skipBoundary:!1,style:q,boxType:nd(f[1]),
serialize:(J,K)=>`${J.command}{${J.aboveToLatex(K)}}{${J.bodyToLatex(K)}}`})});ea("underset","{below:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{below:f[0],body:f[1],skipBoundary:!1,style:q,boxType:nd(f[1]),serialize:(J,K)=>`${b}{${J.belowToLatex(K)}}{${J.bodyToLatex(K)}}`})});ea("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{above:f[0],below:f[1],body:f[2],skipBoundary:!1,style:q,boxType:nd(f[2]),serialize:(J,K)=>`${J.command}{${J.aboveToLatex(K)}}{${J.bodyToLatex(K)}}`})});
ea(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[2],above:f[1],below:f[0],skipBoundary:!1,style:q,boxType:"\\stackrel"===b?"mrel":"mbin",serialize:(J,K)=>`${J.command}{${J.aboveToLatex(K)}}{${J.bodyToLatex(K)}}`})});ea("smash","[:string]{:auto}",{createAtom:(b,f,q,D)=>f[0]?new qh(b,f[1],D,{smashHeight:f[0].includes("t"),smashDepth:f[0].includes("b"),style:q}):new qh(b,f[1],D,{smashHeight:!0,smashDepth:!0,style:q})});ea(["vphantom"],"{:auto*}",
{createAtom:(b,f,q,D)=>new qh(b,f[1],D,{isInvisible:!0,smashWidth:!0,style:q})});ea(["hphantom"],"{:auto*}",{createAtom:(b,f,q,D)=>new qh(b,f[1],D,{isInvisible:!0,smashHeight:!0,smashDepth:!0,style:q})});ea(["phantom"],"{:auto*}",{createAtom:(b,f,q,D)=>new qh(b,f[1],D,{isInvisible:!0,style:q})});ea("not","{:math}",{createAtom:(b,f,q,D)=>{if(1>f.length||null===f[0])return new wc("mrel",D,{command:b,style:q,value:""});const J=f[0];return new Nd([new Zf(b,"",D,{align:"right",style:q,boxType:"mrel"}),
...J],D,{boxType:"mrel",captureSelection:!0,command:"\\not",serialize:(K,W)=>{K=wc.serialize(J,W);return 1!==K.length||/[a-zA-Z]/.test(K)?`\\not{${K}}`:"\\not"+K}})}});ea(["ne","neq"],"",{createAtom:(b,f,q,D)=>new Nd([new Zf(b,"",D,{align:"right",style:q,boxType:"mrel"}),new wc("mrel",D,{style:q,value:"\x3d"})],D,{boxType:"mrel",captureSelection:!0,serialize:()=>b,command:b})});ea("rlap","{:auto}",{createAtom:(b,f,q,D)=>new Zf(b,f[0],D,{align:"right",style:q})});ea("llap","{:auto}",{createAtom:(b,
f,q,D)=>new Zf(b,f[0],D,{style:q})});ea("mathllap","{:auto}",{createAtom:(b,f,q,D)=>new Zf(b,f[0],D,{style:q})});ea("mathrlap","{:auto}",{createAtom:(b,f,q,D)=>new Zf(b,f[0],D,{align:"right",style:q})});const ti={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};ea(Object.keys(ti),"{body:auto}",{createAtom:(b,f,q,D)=>new ri(b,f[0],D,{accentChar:ti[b.slice(1)],style:q})});ea(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:(b,f,q,
D)=>{const J=T(f[0]);return new ri(b,f[0],D,{style:q,svgAccent:b.slice(1)+(5<J.length?"4":"112233".split("")[J.length])})}});ea(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:(b,f,q,D)=>new ri(b,f[0],D,{style:q,svgAccent:"overarc"})});ea(["underarc","underparen"],"{body:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],style:q,svgBelow:"underarc"})});ea("utilde","{body:auto}",{createAtom:(b,f,q,D)=>{const J=T(f[0]);return new We(b,D,{body:f[0],svgBelow:"widetilde"+(5<J.length?"4":
"112233".split("")[J.length]),style:q,boxType:nd(f[0])})}});ea("^","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[f[0]])&&void 0!==J?J:"^"})}});ea("`","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[f[0]])&&
void 0!==J?J:"`"})}});ea("'","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[f[0]])&&void 0!==J?J:"^"})}});ea("~","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[f[0]])&&void 0!==J?J:"´"})}});ea("c","{:string}",{createAtom:(b,
f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={c:"ç",C:"Ç"}[f[0]])&&void 0!==J?J:""})}});ea("enclose","{notation:string}[style:string]{body:auto}",{createAtom:(b,f,q,D)=>{var J;q={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:q};if(f[1]){var K=f[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const ca of K)(K=
ca.match(/\s*(\S+)\s+(\S+)\s+(.*)/))?(q.strokeWidth=K[1],q.strokeStyle=K[2],q.strokeColor=K[3]):(K=ca.match(/\s*([a-z]*)\s*=\s*"(.*)"/))&&("mathbackground"===K[1]?q.backgroundcolor=K[2]:"mathcolor"===K[1]?q.strokeColor=K[2]:"padding"===K[1]?q.padding=K[2]:"shadow"===K[1]&&(q.shadow=K[2]));"dashed"===q.strokeStyle?q.svgStrokeStyle="5,5":"dotted"===q.strokeStyle&&(q.svgStrokeStyle="1,5")}q.borderStyle=`${q.strokeWidth} ${q.strokeStyle} ${q.strokeColor}`;const W={};return(null!==(J=f[0])&&void 0!==J?
J:"").split(/[, ]/).filter(ca=>0<ca.length).forEach(ca=>{W[ca.toLowerCase()]=!0}),new Qg(b,f[2],W,D,q)}});ea("cancel","{body:auto}",{createAtom:(b,f,q,D)=>new Qg(b,f[0],{updiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});ea("bcancel","{body:auto}",{createAtom:(b,f,q,D)=>new Qg(b,f[0],{downdiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",
borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});ea("xcancel","{body:auto}",{createAtom:(b,f,q,D)=>new Qg(b,f[0],{updiagonalstrike:!0,downdiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});O("math","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"textstyle"})));
O("displaymath","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"textstyle"})));da("array","{columns:colspec}",(b,f,q,D,J)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:J[0],mathstyleName:"textstyle"})));da(["equation","equation*","subequations"],"",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{align:"c"}]})));da("multline","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,
q,D,{columns:[{align:"m"}]})));da(["align","align*","aligned","eqnarray"],"",(b,f,q,D)=>{let J=0;kd(q)&&(q=[[[new wc("first",b),new of(b)],[new wc("first",b),new of(b)]]]);for(var K of q)J=Math.max(J,K.length);K=[{gap:0},{align:"r"},{gap:.25},{align:"l"}];let W=2;for(;W<J;)K.push({gap:1}),K.push({align:"r"}),K.push({gap:.25}),K.push({align:"l"}),W+=2;return K.push({gap:0}),new $e(b,f,q,D,{arraycolsep:0,columns:K,colSeparationType:"align",jot:.3,minColumns:2})});da("split","",(b,f,q,D)=>(kd(q)&&(q=
[[[new wc("first",b),new of(b)],[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{align:"r"},{align:"l"}],minColumns:2})));da(["gather","gathered"],"",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{gap:.25},{align:"c"},{gap:0}],colSeparationType:"gather"})));da("matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix matrix* pmatrix* bmatrix* Bmatrix* vmatrix* Vmatrix*".split(" "),"[columns:colspec]",(b,f,q,D,J)=>{var K;kd(q)&&(q=[[[new wc("first",b),new of(b)]]]);
let W=".",ca=".";switch(f){case "pmatrix":case "pmatrix*":W="(";ca=")";break;case "bmatrix":case "bmatrix*":W="[";ca="]";break;case "Bmatrix":case "Bmatrix*":W="\\lbrace";ca="\\rbrace";break;case "vmatrix":case "vmatrix*":ca=W="\\vert";break;case "Vmatrix":case "Vmatrix*":ca=W="\\Vert";break;case "matrix":case "matrix*":ca=W="."}return new $e(b,f,q,D,{mathstyleName:"textstyle",leftDelim:W,rightDelim:ca,columns:null!==(K=J[0])&&void 0!==K?K:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},
{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]})});da(["smallmatrix","smallmatrix*"],"[columns:colspec]",(b,f,q,D,J)=>{var K;return kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"scriptstyle",columns:null!==(K=J[0])&&void 0!==K?K:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],colSeparationType:"small",arraystretch:.5})});da(["cases","dcases"],"",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",
b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"dcases"===f?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]})));da("rcases","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]})));O("center","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{align:"c"}]})));ea("overrightarrow overleftarrow Overrightarrow overleftharpoon overrightharpoon overleftrightarrow overlinesegment overgroup".split(" "),
"{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:q,svgAbove:b.slice(1)})});ea("overbrace","{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:q,svgAbove:b.slice(1)})});ea(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,
supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:q,svgBelow:b.slice(1)})});ea(["underbrace"],"{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:q,svgBelow:b.slice(1)})});ea("xrightarrow xleftarrow xRightarrow xLeftarrow xleftharpoonup xleftharpoondown xrightharpoonup xrightharpoondown xlongequal xtwoheadleftarrow xtwoheadrightarrow xleftrightarrow xLeftrightarrow xrightleftharpoons xleftrightharpoons xhookleftarrow xhookrightarrow xmapsto xtofrom xrightleftarrows xrightequilibrium xleftequilibrium".split(" "),
"[:auto]{:auto}",{createAtom:(b,f,q,D)=>{var J,K;return new We(b,D,{style:q,svgBody:b.slice(1),above:0===(null===(J=f[1])||void 0===J?void 0:J.length)?void 0:f[1],below:null!==(K=f[0])&&void 0!==K?K:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"mrel",serialize:(W,ca)=>b+(W.hasEmptyBranch("below")?"":`[${W.belowToLatex(ca)}]`)+`{${W.aboveToLatex(ca)}}${W.supsubToLatex(ca)}`})}});ea("arccos arcsin arctan arctg arcctg arg ch cos cosh cot cotg coth ctg cth csc cosec dim exp hom inf ker lb lg ln log Pr sec sh sin sinh sup tan tanh tg th arcsec arccsc arsinh arcosh artanh arcsech arccsch".split(" "),
"",{isFunction:!0,createAtom:(b,f,q,D)=>new Yf(b,b.slice(1),D,{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up",style:q})});ea(["liminf","limsup"],"",{createAtom:(b,f,q,D)=>new Yf(b,{"\\liminf":"lim inf","\\limsup":"lim sup"}[b],D,{limits:"over-under",variant:"main",style:q})});ea(["lim","mod"],"",{createAtom:(b,f,q,D)=>new Yf(b,b.slice(1),D,{limits:"over-under",variant:"main",style:q})});ea(["det","max","min"],"",{isFunction:!0,createAtom:(b,f,q,D)=>new Yf(b,b.slice(1),D,{limits:"over-under",
isFunction:!0,variant:"main",style:q})});ea(["ang"],"{:math}",{isFunction:!0,createAtom:(b,f,q,D)=>new Nd([...f[0],new wc("mord",D,{value:"°",style:q})],D,{mode:"math",latexOpen:"\\ang{",latexClose:"}",style:q})});ea("sqrt","[index:auto]{radicand:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[1],index:f[0],style:q})});ea("frac dfrac tfrac cfrac binom dbinom tbinom".split(" "),"{numerator}{denominator}",{createAtom:(b,f,q,D)=>{q={style:q};switch(b){case "\\dfrac":case "\\frac":case "\\tfrac":q.hasBarLine=
!0;break;case "\\atopfrac":q.hasBarLine=!1;break;case "\\dbinom":case "\\binom":case "\\tbinom":q.hasBarLine=!1,q.leftDelim="(",q.rightDelim=")"}switch(b){case "\\dfrac":case "\\dbinom":q.mathstyleName="displaystyle";break;case "\\tfrac":case "\\tbinom":q.mathstyleName="textstyle";break;case "\\cfrac":q.hasBarLine=!0,q.continuousFraction=!0}return new ef(b,f[0],f[1],D,q)}});ea(["brace","brack"],"",{infix:!0,createAtom:(b,f,q,D)=>new ef(b,f[0],f[1],D,{hasBarLine:!1,leftDelim:"\\brace"===b?"\\lbrace":
"\\lbrack",rightDelim:"\\brace"===b?"\\rbrace":"\\rbrack",style:q,serialize:(J,K)=>sa([J.aboveToLatex(K),J.command,J.belowToLatex(K)])})});ea(["over","atop","choose"],"",{infix:!0,createAtom:(b,f,q,D)=>{let J,K;return"\\choose"===b&&(J="(",K=")"),new ef(b,f[0],f[1],D,{hasBarLine:"\\over"===b,leftDelim:J,rightDelim:K,style:q,serialize:(W,ca)=>sa([W.aboveToLatex(ca),W.command,W.belowToLatex(ca)])})}});ea(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",
{infix:!0,createAtom:(b,f,q,D)=>new ef(b,f[0],f[1],D,{leftDelim:f[2],rightDelim:f[3],hasBarLine:!1,style:q,serialize:(J,K)=>`${J.aboveToLatex(K)} ${J.command}${J.leftDelim}${J.rightDelim}${J.belowToLatex(K)}`})});ea("pdiff","{numerator}{denominator}",{createAtom:(b,f,q,D)=>new ef(b,f[0],f[1],D,{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂",style:q})});ea("sum prod bigcup bigcap coprod bigvee bigwedge biguplus bigotimes bigoplus bigodot bigsqcup smallint intop".split(" "),"",{createAtom:(b,f,q,D)=>
new Yf(b,{coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[b.slice(1)],D,{isExtensibleSymbol:!0,limits:"auto",variant:"main",style:q})});const zh={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};ea(Object.keys(zh),
"",{createAtom:(b,f,q,D)=>new Yf(b,zh[b.slice(1)],D,{limits:"adjacent",isExtensibleSymbol:!0,style:q,variant:{"⋒":"ams","⋓":"ams"}[zh[b.slice(1)]]})});ea(["Re","Im"],"",{createAtom:(b,f,q,D)=>new Yf(b,{"\\Re":"ℜ","\\Im":"ℑ"}[b],D,{limits:"adjacent",style:q,isFunction:!0,variant:"fraktur"})});ea("middle","{:delim}",{createAtom:(b,f,q,D)=>new Ji(b,f[0],D,{size:1,style:q})});I("0123456789/@.?!");N(65,90);N(97,122);I([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],
["\\top",8868],["\\bot",8869]]);I([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\\x26",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826],["\\parallelogram",9649]]);I([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]);I([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",
8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",
8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");I([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,
"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",
10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);I([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",
8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],
["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nrightarrow",8603],["\\nleftarrow",8602],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",
57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",
57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",
8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",
10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");I([["+",43],["-",8722],["−",
8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",
8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");I([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",
8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");I([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],
["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",
937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]);I([["\x3d",61],["\x3c",60],["\\lt",60],["\x3e",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",
8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");I([["\\lnot",172],
["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");I([["\\wp",8472],["\\aleph",8501]]);I([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",
9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");I([["\\ ",160],["~",160],["\\space",160]],"space");ea("! , : ; enskip enspace quad qquad".split(" "),"",{createAtom:(b,f,q,D)=>new oh(b,
q,D)});I([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");I([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");I([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);const Oh={"\x26":"\\\x26","%":"\\%","''":"^{\\doubleprime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",
sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",
th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},
AA:"\\forall",EE:"\\exists","!EE":"\\nexists","\x26\x26":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","≠":"\\ne","!\x3d":"\\ne","≥":"\\ge","\x3e\x3d":"\\ge","≤":"\\le","\x3c\x3d":"\\le","\x3c\x3c":"\\ll","\x3e\x3e":"\\gg","~~":"\\approx","≈":"\\approx","?\x3d":"\\questeq","÷":"\\div","¬":"\\neg",":\x3d":"\\coloneq","::":"\\Colon",
"(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\nu"},"µ":"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},
rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","Ω":"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",
gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","-\x3e...":"\\to\\cdots","-\x3e":"\\to",
"|-\x3e":"\\mapsto","--\x3e":"\\longrightarrow","\x3c--":"\\longleftarrow","\x3d\x3e":"\\Rightarrow","\x3d\x3d\x3e":"\\Longrightarrow","\x3c\x3d\x3e":"\\Leftrightarrow","\x3c-\x3e":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"},se=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],
["\\begin{equation*}","\\end{equation*}"]],td=(b,f,q)=>(se.some(D=>f.startsWith(D[0])&&f.endsWith(D[1]))||(f=`$$ ${f} $$`),f);class Ce{constructor(b){Ce._registry[b]=this}static onPaste(b,f,q){var D;const J=new ClipboardEvent("paste",{clipboardData:q.clipboardData,cancelable:!0});return!(null===(D=f.host)||void 0===D||!D.dispatchEvent(J))&&Ce._registry[b].onPaste(f,q)}static onCopy(b,f){if(f.clipboardData){var q=b.model,D=q.selectionIsCollapsed?[0,q.lastOffset]:dc(q.selection),J=q.getAtoms(D);if(J.every(K=>
"text"===K.mode||!K.mode))f.clipboardData.setData("text/plain",J.filter(K=>K instanceof yg).map(K=>K.value).join(""));else if(J.every(K=>"latex"===K.mode))f.clipboardData.setData("text/plain",q.getAtoms(D,{includeChildren:!0}).map(K=>{var W;return null!==(W=K.value)&&void 0!==W?W:""}).join(""));else{q=1===J.length&&void 0!==J[0].verbatimLatex?J[0].verbatimLatex:q.getValue(D,"latex-expanded");f.clipboardData.setData("application/x-latex",q);try{f.clipboardData.setData("text/plain",b.options.onExport(b,
q,D))}catch{}1!==J.length||"root"!==J[0].type&&"group"!==J[0].type||(J=J[0].body.filter(K=>"first"!==K.type));try{f.clipboardData.setData("application/json+mathlive",JSON.stringify(J.map(K=>K.toJson())))}catch{}if(b=b.computeEngine)try{b.jsonSerializationOptions={metadata:["latex"]};const K=b.parse(q),W=JSON.stringify(K.json);W&&f.clipboardData.setData("application/json",W)}catch{}}f.preventDefault()}}static insert(b,f,q,D={}){return Ce._registry[b].insert(f,q,D)}onPaste(b,f){return!1}insert(b,f,
q){return!1}}Ce._registry={};const Sf={"\\ne":"\x3cmo\x3e\x26ne;\x3c/mo\x3e","\\neq":"\x3cmo\x3e\x26neq;\x3c/mo\x3e","\\pm":"\x26#177;","\\times":"\x26#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉","\\vec":"\x26#x20d7;","\\acute":"\x26#x00b4;","\\grave":"\x26#x0060;","\\dot":"\x26#x02d9;","\\ddot":"\x26#x00a8;","\\tilde":"\x26#x007e;","\\bar":"\x26#x00af;",
"\\breve":"\x26#x02d8;","\\check":"\x26#x02c7;","\\hat":"\x26#x005e;"},Pf={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'\x3cphoneme alphabet\x3d"ipa" ph\x3d"eɪ"\x3ea\x3c/phoneme\x3e',A:'capital \x3cphoneme alphabet\x3d"ipa" ph\x3d"eɪ"\x3eA\x3c/phoneme\x3e',"+":"plus ","-":"minus ",";":'\x3cbreak time\x3d"150ms"/\x3e semi-colon \x3cbreak time\x3d"150ms"/\x3e',",":'\x3cbreak time\x3d"150ms"/\x3e comma  \x3cbreak time\x3d"150ms"/\x3e',
"|":'\x3cbreak time\x3d"150ms"/\x3eVertical bar\x3cbreak time\x3d"150ms"/\x3e',"(":'\x3cbreak time\x3d"150ms"/\x3eOpen paren. \x3cbreak time\x3d"150ms"/\x3e',")":'\x3cbreak time\x3d"150ms"/\x3e Close paren. \x3cbreak time\x3d"150ms"/\x3e',"\x3d":"equals ","\x3c":"is less than ","\\lt":"is less than ","\x3c\x3d":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ","\x3e":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ",
"\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'\x3cbreak time\x3d"150ms"/\x3e such that \x3cbreak time\x3d"200ms"/\x3e ',"\\colon":'\x3cbreak time\x3d"150ms"/\x3e such that \x3cbreak time\x3d"200ms"/\x3e ',"\\hbar":"etch bar ","\\iff":'\x3cbreak time\x3d"200ms"/\x3eif, and only if, \x3cbreak time\x3d"200ms"/\x3e',"\\Longleftrightarrow":'\x3cbreak time\x3d"200ms"/\x3eif, and only if, \x3cbreak time\x3d"200ms"/\x3e',"\\land":"and ","\\lor":"or ",
"\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3en\x3c/say-as\x3e',"\\C":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3ec\x3c/say-as\x3e',"\\Z":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3ez\x3c/say-as\x3e',"\\Q":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3eq\x3c/say-as\x3e',
"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'\x3cbreak time\x3d"150ms"/\x3eopen paren\x3cbreak time\x3d"150ms"/\x3e',"\\rparen":'\x3cbreak time\x3d"150ms"/\x3eclose paren\x3cbreak time\x3d"150ms"/\x3e',"\\lbrace":'\x3cbreak time\x3d"150ms"/\x3eopen brace\x3cbreak time\x3d"150ms"/\x3e',"\\{":'\x3cbreak time\x3d"150ms"/\x3eopen brace\x3cbreak time\x3d"150ms"/\x3e',"\\rbrace":'\x3cbreak time\x3d"150ms"/\x3eclose brace\x3cbreak time\x3d"150ms"/\x3e',
"\\}":'\x3cbreak time\x3d"150ms"/\x3eclose brace\x3cbreak time\x3d"150ms"/\x3e',"\\langle":'\x3cbreak time\x3d"150ms"/\x3eleft angle bracket\x3cbreak time\x3d"150ms"/\x3e',"\\rangle":'\x3cbreak time\x3d"150ms"/\x3eright angle bracket\x3cbreak time\x3d"150ms"/\x3e',"\\lfloor":'\x3cbreak time\x3d"150ms"/\x3eopen floor\x3cbreak time\x3d"150ms"/\x3e',"\\rfloor":'\x3cbreak time\x3d"150ms"/\x3eclose floor\x3cbreak time\x3d"150ms"/\x3e',"\\lceil":'\x3cbreak time\x3d"150ms"/\x3eopen ceiling\x3cbreak time\x3d"150ms"/\x3e',
"\\rceil":'\x3cbreak time\x3d"150ms"/\x3eclose ceiling\x3cbreak time\x3d"150ms"/\x3e',"\\vert":'\x3cbreak time\x3d"150ms"/\x3evertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\mvert":'\x3cbreak time\x3d"150ms"/\x3edivides\x3cbreak time\x3d"150ms"/\x3e',"\\lvert":'\x3cbreak time\x3d"150ms"/\x3eleft vertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\rvert":'\x3cbreak time\x3d"150ms"/\x3eright vertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\lbrack":'\x3cbreak time\x3d"150ms"/\x3e open square bracket \x3cbreak time\x3d"150ms"/\x3e',
"\\rbrack":'\x3cbreak time\x3d"150ms"/\x3e close square bracket \x3cbreak time\x3d"150ms"/\x3e',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},yk={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic",
"ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular",
"ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular",
"ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},ui={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^\u2019\u2018]$/,
monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},rj=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,sj=[/^[a-z]$/,/^[A-Z]$/,rj,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],Uj={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],
upright:["up","up","up","up"]};new class extends tg{constructor(){super("math")}createAtom(b,f,q){var D,J,K,W;const ca=f.getDefinition(b,"math");if(null===ca)return new wc("mord",f,{mode:"math",command:b,value:b,style:q});if("symbol"===ca.definitionType){var fa=new wc(null!==(D=ca.type)&&void 0!==D?D:"mord",f,{mode:"math",command:null!==(J=ca.command)&&void 0!==J?J:b,value:String.fromCodePoint(ca.codepoint),style:q});return null!==(K=ca.isFunction)&&void 0!==K&&K&&(fa.isFunction=!0),b.startsWith("\\")&&
(fa.verbatimLatex=b),fa}f=new wc("mord",f,{mode:"math",command:null!==(fa=ca.command)&&void 0!==fa?fa:b,value:b,style:q});return null!==(W=ca.isFunction)&&void 0!==W&&W&&(f.isFunction=!0),b.startsWith("\\")&&(f.verbatimLatex=b),f}serialize(b,f){const {parent:q}=b[0],D=null==q?void 0:q.computedStyle.fontSize;return sa(Da(b,"fontSize").map(J=>{const K=function(W,ca){const {parent:fa}=W[0],xa=null==fa?void 0:fa.computedStyle.backgroundColor;return sa(Da(W,"backgroundColor").map(ra=>{var Na,Ua;let db=
function(Qb,Xb){const {parent:sc}=Qb[0],qc=null==sc?void 0:sc.computedStyle.color;return sa(Da(Qb,"color").map(pd=>{var id,Vd;const tf=function(pf,uf){var mg;const {parent:ng}=pf[0],vf=fe(ng),Mg=null!==(mg=null==ng?void 0:ng.mode)&&void 0!==mg?mg:"math";return sa(Da(pf,"variant").map(Ng=>{const cf=fe(Ng[0]);if(Ng.every(Uc=>{const ug=Uc.context.getDefinition(Uc.command,Mg);return!(!ug||"function"===ug.definitionType||!ug.variant)&&fe(Uc)===cf}))return sa(Ng.map(Uc=>wc.serialize(Uc,uf)));let Cf="";
return cf&&cf!==vf&&(Cf={calligraphic:"\\mathcal{",fraktur:"\\mathfrak{","double-struck":"\\mathbb{",script:"\\mathscr{",monospace:"\\mathtt{","sans-serif":"\\mathsf{",normal:"\\mathrm{","normal-italic":"\\mathnormal{","normal-bold":"\\mathbf{","normal-bolditalic":"\\mathbfit{",ams:"","ams-italic":"\\mathit{","ams-bold":"\\mathbf{","ams-bolditalic":"\\mathbfit{",main:"","main-italic":"\\mathit{","main-bold":"\\mathbf{","main-bolditalic":"\\mathbfit{"}[cf]),Cf?Cf+sa(Ng.map(Uc=>wc.serialize(Uc,uf)))+
"}":sa(Ng.map(Uc=>wc.serialize(Uc,uf)))}))}(pd,Xb);pd=pd[0].computedStyle;return null!==(id=Xb.skipStyles)&&void 0!==id&&id||!pd.color||sc&&qc===pd.color?tf:"\\textcolor{"+(null!==(Vd=pd.verbatimColor)&&void 0!==Vd?Vd:pd.color)+"}{"+tf+"}"}))}(ra,ca);const vb=ra[0].computedStyle;return null!==(Na=ca.skipStyles)&&void 0!==Na&&Na||!db.trim()||!vb.backgroundColor||fa&&xa===vb.backgroundColor||!(0<ra.length)&&ra[0]instanceof Ig||(db=`\\ensuremath{${db}}`,db=`\\colorbox{${null!==(Ua=vb.verbatimBackgroundColor)&&
void 0!==Ua?Ua:vb.backgroundColor}}{${db}}`),db}))}(J,f);J=J[0].computedStyle.fontSize;return!J||q&&D===J?K:"\\"+" tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" ")[J]+" "+K}))}applyStyle(b,f){if(void 0===f.variant)return"";const q="auto"!==f.letterShapeStyle&&f.letterShapeStyle?f.letterShapeStyle:"tex";let {variant:D}=f,{variantStyle:J}=f;"normal"===D&&!J&&/[\u00A3\u0131\u0237]/.test(b.value)&&(D="main",J="italic");"normal"!==D||J||1!==b.value.length||sj.forEach((ca,
fa)=>{ca.test(b.value)&&"it"===Uj[q][fa]&&(J="italic")});"up"===J&&(J=void 0);const [K,W]=yk[J?D+"-"+J:D];return ui[D]&&!ui[D].test(b.value)?(b.value=function(ca,fa,xa){if(!/[A-Za-z\d]/.test(ca)||!fa&&!xa)return ca;const ra=ca.codePointAt(0);if(void 0===ra)return ca;for(const Na of Ef)if(!(fa&&Na.variant!==fa||xa&&Na.style!==xa)&&ra>=Na.offset&&ra<Na.offset+Na.len)return ca=Na.start+ra-Na.offset,String.fromCodePoint(Zg[ca]||ca);return ca}(b.value,D,J),null):(rj.test(b.value)&&(b.classes+=" lcGreek"),
W&&(b.classes+=" "+W),K)}};const Yi={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};new class extends tg{constructor(){super("text")}createAtom(b,f,q){const D=f.getDefinition(b,"text");return D&&"symbol"===D.definitionType?new yg(b,String.fromCodePoint(D.codepoint),null!=q?q:{},f):null}serialize(b,f){var q;let [D,J]=function(K,W){return Pb(Da(K,"backgroundColor").map(ca=>{var fa,xa;const [ra,Na]=function(Ua,db){var vb;if(!Ua||0===Ua.length)return["",!1];const Qb=null===(vb=Ua[0].parent)||void 0===
vb?void 0:vb.style.color;return Pb(Da(Ua,"color").map(Xb=>{var sc,qc;const [pd,id]=function(Vd,tf){return function(pf,uf){return Pb(Da(pf,"fontFamily").map(mg=>{var ng,vf;const [Mg,Ng]=function(Cf,Uc){return Pb(Da(Cf,"fontSize").map(ug=>{var Og,gj;const [dk,ei]=function(Ai,ek){return Pb(Da(Ai,"fontSeries").map(th=>{const [vg,Bj]=function(Ok,Pk){return Pb(Da(Ok,"fontShape").map(hj=>{const [uh,ij]=function(Bi,fk){return[sa(Bi.map(Qk=>wc.serialize(Qk,fk))),!0]}(hj,Pk),{fontShape:Eg}=hj[0].style;return"it"===
Eg?["\\textit{"+uh+"}",!1]:"sl"===Eg?["\\textsl{"+uh+"}",!1]:"sc"===Eg?["\\textsc{"+uh+"}",!1]:"n"===Eg?["\\textup{"+uh+"}",!1]:Eg?[`{\\fontshape{${hj[0].style.fontShape}}${uh}`,!1]:[uh,ij]}))}(th,ek);({fontSeries:th}=th[0].style);return"b"===th?[`\\textbf{${vg}}`,!1]:"l"===th?[`\\textlf{${vg}}`,!1]:"m"===th?[`\\textmd{${vg}}`,!1]:th?[`\\fontseries{${th}}${vg}`,!1]:[vg,Bj]}))}(ug,Uc);return(ug=null!==(gj=" tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" ")[null!==
(Og=ug[0].style.fontSize)&&void 0!==Og?Og:""])&&void 0!==gj?gj:"")?[`{\\${ug} ${dk}}`,ei]:[dk,ei]}))}(mg,uf),cf=null!==(vf={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[null!==(ng=mg[0].style.fontFamily)&&void 0!==ng?ng:""])&&void 0!==vf?vf:"";return cf?[`\\${cf}{${Mg}}`,!1]:mg[0].style.fontFamily?[`\\fontfamily{${mg[0].style.fontFamily}}${Mg}`,Ng]:[Mg,Ng]}))}(Vd,tf)}(Xb,db);return null!==(sc=db.skipStyles)&&void 0!==sc&&sc||!Xb[0].style.color||"none"===Xb[0].style.color||Qb===Xb[0].style.color?
[pd,id]:[`\\textcolor{${null!==(qc=Xb[0].style.verbatimColor)&&void 0!==qc?qc:Xb[0].style.color}}{${pd}}`,!1]}))}(ca,W);ca=ca[0].computedStyle;return null!==(fa=W.skipStyles)&&void 0!==fa&&fa||!ca.backgroundColor||"none"===ca.backgroundColor?[ra,Na]:[`\\colorbox{${null!==(xa=ca.verbatimBackgroundColor)&&void 0!==xa?xa:ca.backgroundColor}}{${ra}}`,!1]}))}(b,f);return!0===(null!==(q=f.skipModeCommand)&&void 0!==q&&q)&&(J=!1),J&&(D=`\\text{${D}}`),D}applyStyle(b,f){var q,D,J,K,W,ca;const {fontFamily:fa}=
f;(Yi[fa]?b.classes+=null!==(q=" "+Yi[fa])&&void 0!==q?q:"":fa&&b.setStyle("font-family",fa),f.fontShape&&(b.classes+=" ",b.classes+=null!==(D={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[f.fontShape])&&void 0!==D?D:""),f.fontSeries)&&(f=f.fontSeries.match(/(.?[lbm])?(.?[cx])?/))&&(b.classes+=" ",b.classes+=null!==(K={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[null!==(J=
f[1])&&void 0!==J?J:""])&&void 0!==K?K:"",b.classes+=" ",b.classes+=null!==(ca={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[null!==(W=f[2])&&void 0!==W?W:""])&&void 0!==ca?ca:"");return"Main-Regular"}};new class extends tg{constructor(){super("latex")}createAtom(b,f,q){return new ff(b,f)}serialize(b,f){return b.filter(q=>q instanceof ff&&!q.isSuggestion).map(q=>q.value).join("")}applyStyle(){return null}};
const Zi="apple"===Ld()?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p",
"P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","\x26","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" ",
" "," "," "],Minus:["-","_","–","—"],Equal:["\x3d","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","\x3c","≤","¯"],Period:[".","\x3e","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3",
"3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],AudioVolumeUp:["","\x3d","","\x3d"]}}:"windows"===Ld()?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A",
"á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x",
"X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","\x26","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["\x3d","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",
'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","\x3c","ç","Ç"],Period:[".","\x3e","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f",
"F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2",
"@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","\x26","7","\x26"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["\x3d","+","\x3d","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","\x3c",",","\x3c"],Period:[".",
"\x3e",".","\x3e"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|","¦"],NumpadEqual:["\x3d",
"\x3d","\x3d","\x3d"],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},tj={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",
numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",
f19:"[F19]"},Kg=[];wa(Zi);wa({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π",
"∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["\x26","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," ",
" "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["\x3c","\x3e","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["\x3d","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["\x3d",
"\x3d","\x3d","\x3d"]}});wa({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P",
"π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","\x26","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","\x3d","≠","≈"],Space:[" ",
" "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["\x3c","\x3e","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3",
"3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}});wa({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],
KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4",
"$","~",""],Digit5:["5","%","€",""],Digit6:["6","\x26","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","\x3d","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*",
"*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","",""]}});wa({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","\x26"],KeyL:["l","L","ł","Ł"],KeyM:["m",
"M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»","\x3e"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","\x3c"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","\x26","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8",
"(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","\x3d","}","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/",
"/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|","¦"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],NumpadComma:[".",
".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}});wa({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","\x26"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n",
"N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","\x3c"],KeyX:["x","X","»","\x3e"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["\x26","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç",
"9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["\x3d","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-",
"-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|","¦"]}});wa({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],
KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["\x26","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à",
"0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["\x3d","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","",""]}});wa({id:"windows.german",locale:"de",displayName:"German",
platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],
KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","\x26","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","\x3d","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö",
"Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","|",""]}});wa({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E",
"€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1",
"!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","\x26","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","\x3d","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["\x3c","\x3e","≤","≥"],Comma:[",",
";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"]}});wa({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".","\x3e",
"≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","\x3c","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1",
"!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","\x26","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["\x3d","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W",
"∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§",
"±"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],AudioVolumeUp:["","\x3d","","\x3d"]}});const rh=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},
{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},
{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",
command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},
{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete",
"reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"[Undo]",command:"undo"},{key:"ctrl+y",
ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},
{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",
ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},
{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+w",ifMode:"math",command:["insert",
"\\sum_{i\x3d#?}^{#?}"]},{key:"alt+b",command:["insert","\\int_{#?}^{#?}"]},{key:"alt+u",ifMode:"math",command:["insert","\\cup"]},{key:"alt+n",ifMode:"math",command:["insert","\\cap"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"shift+alt+p",ifMode:"math",command:["insert","\\prod_{i\x3d#?}^{#?}"]},
{key:"shift+alt+u",ifMode:"math",command:["insert","\\bigcup"]},{key:"shift+alt+n",ifMode:"math",command:["insert","\\bigcap"]},{key:"shift+alt+a",ifMode:"math",command:["insert","\\forall"]},{key:"shift+alt+e",ifMode:"math",command:["insert","\\exists"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},
{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["applyStyle",{mode:"text"}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["applyStyle",{mode:"math"}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl",
"windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},
{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",
ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl",
"linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit6]",
ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\wedge"]},{key:"shift+alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\vee"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl",
"linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]}],ai={"\\theta":"alt+q","\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\prod":"shift+alt+p","\\sum":"alt+w","\\int":"alt+b","\\cup":"alt+u","\\cap":"alt+n","\\bigcup":"shift+alt+u","\\bigcap":"shift+alt+n","\\forall":"shift+alt+a",
"\\exists":"shift+alt+e","\\infty":"alt+[Digit5]","\\wedge":"alt+[Digit6]","\\vee":"shift+alt+[Digit6]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};let $i;new class extends Ce{constructor(){super("latex")}createAtom(b,f,q){return new ff(b,f)}onPaste(b,f){if(!f.clipboardData)return!1;let q=f.clipboardData.getData("text/x-latex");return q||(q=f.clipboardData.getData("text/plain")),!(!q||!Fb(b.model,{inputType:"insertFromPaste",
data:q})||(b.snapshot(),this.insert(b.model,q)&&(Hb(b.model,{inputType:"insertFromPaste"}),bc(b)),f.preventDefault(),f.stopPropagation(),0))}insert(b,f,q){if(!Fb(b,{data:f,inputType:"insertText"}))return!1;q||(q={});q.insertionMode||(q.insertionMode="replaceSelection");q.selectionMode||(q.selectionMode="placeholder");const {suppressChangeNotifications:D}=b;q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);const J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;"replaceSelection"!==
q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(dc(b.selection));var K=[];for(var W of f)Ti.test(W)&&K.push(new ff(W,b.mathfield));W=b.at(b.position);if(W instanceof Tg&&(W=W.lastChild),!(W.parent instanceof Tg)){const ca=new Tg("",b.mathfield);W.parent.addChildAfter(ca,W);W=ca.firstChild}K=
W.parent.addChildrenAfter(K,W);return b.suppressChangeNotifications=J,"before"===q.selectionMode||("item"===q.selectionMode?b.setSelection(b.anchor,b.offsetOf(K)):K&&(b.position=b.offsetOf(K))),Hb(b,{data:f,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};let ii=null,vi=null;const Sg={};ed({performWithFeedback:(b,f)=>function(q,D){q.focus();q.options.keypressVibration&&h()&&navigator.vibrate(3);"moveToNextPlaceholder"===(D=D.replace(/-\w/g,J=>J[1].toUpperCase()))||"moveToPreviousPlaceholder"===
D||"complete"===D?q.playSound("return"):"deleteBackward"===D||"deleteForward"===D||"deletePreviousWord"===D||"deleteNextWord"===D||"deleteToGroupStart"===D||"deleteToGroupEnd"===D||"deleteToMathFieldStart"===D||"deleteToMathFieldEnd"===D?q.playSound("delete"):q.playSound("keypress");D=q.executeCommand(D);return q.scrollIntoView(),D}(b,f)});ed({complete:Dc,nextSuggestion:function(b){return ad(b,{atIndex:b.suggestionIndex+1}),!1},previousSuggestion:function(b){return ad(b,{atIndex:b.suggestionIndex-
1}),!1}},{target:"mathfield",category:"autocomplete"});ed({speak:(b,f,q)=>function(D,J,K){var W,ca;K=null!=K?K:{withHighlighting:!1};const {model:fa}=D;var xa=function(ra){switch(ra){default:ra=fa.root;break;case "selection":ra=fa.getAtoms(fa.selection);break;case "left":ra=fa.getAtoms(fa.offsetOf(fa.at(fa.position).leftSibling),fa.position);break;case "right":ra=fa.getAtoms(fa.position,fa.offsetOf(fa.at(fa.position).rightSibling));break;case "group":ra=fa.getAtoms(fa.getSiblingsRange(fa.position));
break;case "parent":({parent:ra}=fa.at(fa.position)),ra=ra&&"root"!==ra.type?ra:fa.root}return ra}(J);if(null===xa)return null===(ca=(W=D.options).speakHook)||void 0===ca||ca.call(W,function(ra){let Na="";switch(ra){case "selection":Na="no selection";break;case "left":Na="at start";break;case "right":Na="at end";break;case "parent":Na="no parent"}return Na}(J),D.options),!1;J={...D.options};(K.withHighlighting||"amazon"===J.speechEngine)&&(J.textToSpeechMarkup=globalThis.sre&&"sre"===J.textToSpeechRules?
"ssml_step":"ssml");J.textToSpeechMarkup||/firefox/i.test(navigator.userAgent)||(J.textToSpeechMarkup="ssml");xa=Sc(xa,J);return m()&&K.withHighlighting?(Ze().readAloudMathField=D,$d(D,{forHighlighting:!0}),D.options.readAloudHook&&D.options.readAloudHook(D.field,xa,D.options)):D.options.speakHook&&D.options.speakHook(xa,J),!1}(b,f,q)},{target:"mathfield",category:"speech"});var Li,Mi;let ji=null;const Oj=(null===(Mi=null===(Li=null===globalThis||void 0===globalThis?void 0:globalThis.document)||void 0===
Li?void 0:Li.currentScript)||void 0===Mi?void 0:Mi.src)||function(){const b=String(Error().stack).replace(/^Error.*\n/,"").split("\n");if(0===b.length)return"";let f=b[1],q=f.match(/http.*\.ts[\?:]/);return q&&(f=b[2]),q=f.match(/(https?:.*):[0-9]+:[0-9]+/),q||(q=f.match(/at (.*(\.ts))[\?:]/),q||(q=f.match(/at (.*(\.mjs|\.js))[\?:]/))),q?q[1]:""}(),Ph={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon",
"\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e",
"\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" "},Ki={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};class Nj{constructor(b,f,q){this.options=b;this._selection={ranges:[[0,0]],direction:"none"};this._position=this._anchor=0;this.mathfield=q;this.suppressChangeNotifications=!1;this.root=new wc("root",
q,{mode:b.mode});this.root.body=[];this.setListeners(f)}get atoms(){return this.root.children}get selection(){return this._selection}set selection(b){this.setSelection(b)}setSelection(b,f){return this.deferNotifications({selection:!0},()=>{const q=this.normalizeSelection(b,f);if(void 0===q)throw new TypeError("Invalid selection");if(1===q.ranges.length&&q.ranges[0][0]===q.ranges[0][1]){var D=q.ranges[0][0];this._anchor=this._position=D;this._selection=q}else{D=dc(q);"backward"===q.direction?[this._position,
this._anchor]=D:[this._anchor,this._position]=D;const J=this.at(D[0]+1),K=this.at(D[1]),W=wc.commonAncestor(J,K);"array"===(null==W?void 0:W.type)&&J.parent===W&&K.parent;this._selection={ranges:[D],direction:q.direction}}})}setPositionHandlingPlaceholder(b){var f,q,D;"placeholder"===(null===(f=this.at(b))||void 0===f?void 0:f.type)?this.setSelection(b-1,b):"placeholder"===(null===(D=null===(q=this.at(b))||void 0===q?void 0:q.rightSibling)||void 0===D?void 0:D.type)?this.setSelection(b,b+1):this.position=
b}getState(){return{content:this.root.toJson(),selection:this.selection}}setState(b,f){var q;const D=this.suppressChangeNotifications;this.suppressChangeNotifications=null===(q=null==f?void 0:f.suppressChangeNotifications)||void 0===q||q;q={};"undo"===(null==f?void 0:f.type)&&(q={inputType:"historyUndo"});"redo"===(null==f?void 0:f.type)&&(q={inputType:"historyRedo"});Fb(this,q)&&(this.root=Ic(b.content,this.mathfield),this.selection=b.selection,Hb(this,q));this.suppressChangeNotifications=D}get position(){return this._position}set position(b){this.setSelection(b,
b)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return 1===Math.abs(this._anchor-this._position)&&"placeholder"===this.at(Math.max(this._anchor,this._position)).type}collapseSelection(b="forward"){return this._anchor!==this._position&&(this.position="backward"===b?Math.min(this._anchor,this._position):Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(b){return this.atoms[b]}offsetOf(b){return this.atoms.indexOf(b)}getSiblingsRange(b){b=
this.at(b);const {parent:f}=b;if(!f)return[0,this.lastOffset];b=b.parent.branch(b.treeBranch);return[this.offsetOf(b[0]),this.offsetOf(b[b.length-1])]}getBranchRange(b,f){b=this.at(b).branch(f);return[this.offsetOf(b[0]),this.offsetOf(b[b.length-1])]}getAtoms(b,f,q){let D=null!=q?q:{};if(tc(b)){if(D=null!==f&&void 0!==f?f:{},1<b.ranges.length)return b.ranges.reduce((W,ca)=>[...W,...this.getAtoms(ca,D)],[]);b=b.ranges[0]}if(nc(b)){if(!nc(f))return[];q=f}else[b,q]=b,D=null!==f&&void 0!==f?f:{};if(!Number.isFinite(b))return[];
void 0===D.includeChildren&&(D.includeChildren=!1);0>b&&(b=this.lastOffset-b+1);0>q&&(q=this.lastOffset-q+1);const J=Math.min(b,q)+1,K=Math.max(b,q);if(1===J&&K===this.lastOffset)return[this.root];f=[];for(b=J;b<=K;b++)q=this.atoms[b],ha(this,q,J,K)&&f.push(q);return D.includeChildren||(f=f.filter(W=>{let ca=!1;for({parent:W}=W;W&&!ca;)ca=ha(this,W,J,K),W=W.parent;return!ca})),f}getAllAtoms(b){const f=[];var q=this.lastOffset;for(let D=b;D<=q;D++)f.push(this.atoms[D]);for(q=0;q<b;q++)f.push(this.atoms[q]);
return f}extractAtoms(b){b=this.getAtoms(b);1===b.length&&"root"===b[0].type&&(b=b[0].children);for(const f of b)f.parent.removeChild(f);return b}deleteAtoms(b){this.extractAtoms(b);this.position=b[0]}atomToString(b,f){f=null!=f?f:"latex";if(f.startsWith("latex"))return tg.serialize([b],{expandMacro:"latex-expanded"===f,skipStyles:"latex-unstyled"===f,defaultMode:this.mathfield.options.defaultMode});if("math-ml"===f)return sd(b,this.mathfield.options);if("spoken"===f)return Sc(b,this.mathfield.options);
if("spoken-text"===f){var q=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="";b=Sc(b,this.mathfield.options);return this.mathfield.options.textToSpeechMarkup=q,b}if("spoken-ssml"===f||"spoken-ssml-with-highlighting"===f)return q=this.mathfield.options.textToSpeechMarkup,this.mathfield.options.textToSpeechMarkup="ssml",b=Sc(b,this.mathfield.options),this.mathfield.options.textToSpeechMarkup=q,b;if("math-json"===f){if(!this.mathfield.computeEngine)return"";try{return q=
this.mathfield.computeEngine.parse(wc.serialize(b,{expandMacro:!1,defaultMode:"math"})),JSON.stringify(q.json)}catch(D){return JSON.stringify(["Error","Nothing",`'${D.toString()}'`])}}return"ascii-math"===f?Ac(b):""}getValue(b,f,q){if(void 0===b)return this.atomToString(this.root,"latex");if("string"==typeof b)return this.atomToString(this.root,b);let D,J;if(nc(b)&&nc(f)?(D=[this.normalizeRange([b,f])],J=null!=q?q:"latex"):Ec(b)?(D=[this.normalizeRange(b)],J=f):tc(b)?(D=b.ranges,J=f):(D=[],J="latex"),
J.startsWith("latex")){const K={expandMacro:"latex-expanded"===J,skipStyles:"latex-unstyled"===J,defaultMode:this.mathfield.options.defaultMode};return sa(D.map(W=>wc.serialize(this.getAtoms(W),K)))}return D.map(K=>this.getAtoms(K).map(W=>this.atomToString(W,J)).join("")).join("")}extendSelection(b){let f=this._anchor;if("forward"===b){b=this._position;do{var q=this.at(b+1);if(null==q?0:q.inCaptureSelection){for(;!q.captureSelection;)q=q.parent;b=this.offsetOf(null==q?void 0:q.lastChild)+1}else b+=
1}while(b<=this.lastOffset&&this.at(b).isFirstSibling);return b===f-1&&"first"===this.at(f).type&&(b=f),this.extendSelectionTo(f,b)}b=this._position-1;if(0>b)return!1;for(;0<=b&&this.at(b).isLastSibling;)if(q=this.at(b),null==q?0:q.inCaptureSelection){for(;!q.captureSelection;)q=q.parent;b=this.offsetOf(q.firstChild)-1}else--b;return 0>b&&(b=0),b===f+1&&"first"===this.at(b).type&&(f=b),this.extendSelectionTo(f,b)}extendSelectionTo(b,f){return this.deferNotifications({selection:!0},()=>{var q=this.normalizeRange([b,
f]);let [D,J]=q;({parent:q}=this.at(J));if(q&&("genfrac"===q.type||"msubsup"===q.type))for(;q!==this.root&&ma(this,q,[D,J]);)J=this.offsetOf(q),q=q.parent;for(q=this.at(D).parent;q!==this.root&&ma(this,q,[D,J]);)D=this.offsetOf(q.leftSibling),q=q.parent;if(q=this.at(J).parent,"genfrac"===(null==q?void 0:q.type))for(;q!==this.root&&ma(this,q,[D,J]);)J=this.offsetOf(q),q=q.parent;this._position=this.normalizeOffset(f);this._selection={ranges:[[D,J]],direction:"none"}})}setListeners(b){this.listeners=
b}announce(b,f,q=[]){var D,J;null===(J=null===(D=this.mathfield.host)||void 0===D?void 0:D.dispatchEvent(new CustomEvent("announce",{detail:{command:b,previousPosition:f,atoms:q},cancelable:!0,bubbles:!0,composed:!0})))||void 0===J||J||function(K,W,ca,fa){let xa="";"plonk"===W?(K.playSound("plonk"),K.flushInlineShortcutBuffer()):"delete"===W?xa=Cd(K.options,"deleted: ",fa):"focus"===W||W.includes("move")?xa=function(ra,Na){if(Number.isNaN(Na))return"";var Ua=ra.at(Na);if(!Ua||Ua.treeDepth<=ra.at(ra.position).treeDepth)return"";
Na="";Ua=Ua.parent;const db=ra.at(ra.position).parent;for(;Ua!==ra.root&&Ua!==db;)Na+=`out of ${U(Ua)};`,Ua=Ua.parent;return Na}(K.model,ca)+(K.model.selectionIsCollapsed?"":"selected: ")+function(ra,Na){if(!ra.selectionIsCollapsed)return Cd(Na,"",ra.getAtoms(ra.selection));let Ua="";ra=ra.at(ra.position);const db=U(ra);return ra.isFirstSibling&&(Ua=(db?"start of "+db:"unknown")+": "),ra.isLastSibling?ra.isFirstSibling||(Ua+=db?"end of "+db:"unknown"):Ua+=Cd(Na,"",ra),Ua}(K.model,K.options):"replacement"===
W?xa=Cd(K.options,"",K.model.at(K.model.position)):"line"===W?(xa=Cd(K.options,"",K.model.root),K.keyboardDelegate.setAriaLabel("after: "+xa)):xa=fa?Cd(K.options,W+" ",fa):W;W=K.ariaLiveText.textContent.includes(" ")?"   ":"   ";K.ariaLiveText.textContent=xa+W}(this.mathfield,b,f,q)}deferNotifications(b,f){var q=this._selection,D=this._anchor,J=this._position;const K=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;var W=this.root.changeCounter;f();f=this.root.changeCounter!==
W;if(!(D=D!==this._anchor||J!==this._position)){a:{D=this._selection;if(D.direction===q.direction&&(J=D.ranges.length,q.ranges.length===J)){for(W=0;W<J&&"equal"===Jc(D.ranges[W],q.ranges[W]);)W++;q=W===J?"equal":"different";break a}q="different"}D="different"===q}q=D;return this.suppressChangeNotifications=K,b.content&&f&&Hb(this,{data:b.data,inputType:b.type}),b.selection&&q&&yb(this),f||q}normalizeOffset(b){return 0<b?b=Math.min(b,this.lastOffset):0>b&&(b=this.lastOffset+b+1),b}normalizeRange(b){let [f,
q]=b;return f=this.normalizeOffset(f),q=this.normalizeOffset(q),f<q?[f,q]:[q,f]}normalizeSelection(b,f){var q;let D;nc(b)?(b=this.normalizeOffset(b),nc(f)?(f=this.normalizeOffset(f),D=b<=f?{ranges:[[b,f]],direction:"none"}:{ranges:[[f,b]],direction:"backward"}):D={ranges:[[b,b]],direction:"none"}):Ec(b)?(f=this.normalizeOffset(b[0]),b=this.normalizeOffset(b[1]),D=f<=b?{ranges:[[f,b]],direction:"none"}:{ranges:[[b,f]],direction:"backward"}):tc(b)&&(D={ranges:b.ranges.map(J=>this.normalizeRange(J)),
direction:null!==(q=b.direction)&&void 0!==q?q:"none"});return D}}ed({addRowAfter:Fa,addColumnAfter:$a,addRowBefore:function(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"before row"),Hb(b,{inputType:"insertText"}),!0)},addColumnBefore:function(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"before column"),Hb(b,{inputType:"insertText"}),!0)},removeRow:function(b){return!!Fb(b,{inputType:"deleteContent"})&&(xb(b,"row"),Hb(b,{inputType:"deleteContent"}),!0)},removeColumn:function(b){return!!Fb(b,
{inputType:"deleteContent"})&&(xb(b,"column"),Hb(b,{inputType:"deleteContent"}),!0)}},{target:"model",category:"array-edit"});ed({deleteAll:b=>Fb(b,{inputType:"deleteContent"})&&Wb(b,[0,-1],"deleteContent"),deleteForward:b=>function(f){return!!Fb(f,{inputType:"deleteContentForward"})&&(f.selectionIsCollapsed?f.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var q,D;let J=f.at(f.position).rightSibling;if(!J||!Vb(f,"forward",J)){if(J){if(f.at(f.position).isLastSibling&&
Vb(f,"forward",J.parent,J.treeBranch))return}else{if(J=f.at(f.position),J.isLastSibling&&Vb(f,"forward",J.parent,J.treeBranch))return;J=null}if(f.position===f.lastOffset||!J)return void f.announce("plonk");J.parent.removeChild(J);for(var K=null===(q=f.at(f.position))||void 0===q?void 0:q.rightSibling;"msubsup"===(null==K?void 0:K.type);)K.parent.removeChild(K),K=null===(D=f.at(f.position))||void 0===D?void 0:D.rightSibling;f.announce("delete",void 0,[J])}}):Wb(f,dc(f.selection),"deleteContentForward"))}(b),
deleteBackward:b=>function(f){return!!Fb(f,{inputType:"deleteContentBackward"})&&(f.selectionIsCollapsed?f.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let q=f.at(f.position);if(!q||!Vb(f,"backward",q)){if(null==q?0:q.isFirstSibling){if(Vb(f,"backward",q.parent,q.treeBranch))return;q=null}q?(f.position=f.offsetOf(q.leftSibling),q.parent.removeChild(q),f.announce("delete",void 0,[q])):f.announce("plonk")}}):Wb(f,dc(f.selection),"deleteContentBackward"))}(b),deleteNextWord:b=>
Fb(b,{inputType:"deleteWordForward"})&&Wb(b,[b.anchor,Sd(b,b.position,"forward")],"deleteWordForward"),deletePreviousWord:b=>Fb(b,{inputType:"deleteWordBackward"})&&Wb(b,[b.anchor,Sd(b,b.position,"backward")],"deleteWordBackward"),deleteToGroupStart:b=>Fb(b,{inputType:"deleteSoftLineBackward"})&&Wb(b,[b.anchor,b.offsetOf(b.at(b.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:b=>Fb(b,{inputType:"deleteSoftLineForward"})&&Wb(b,[b.anchor,b.offsetOf(b.at(b.position).lastSibling)],
"deleteSoftLineForward"),deleteToMathFieldStart:b=>Fb(b,{inputType:"deleteHardLineBackward"})&&Wb(b,[b.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:b=>Fb(b,{inputType:"deleteHardLineForward"})&&Wb(b,[b.anchor,-1],"deleteHardLineForward")},{target:"model",category:"delete"});ed({moveToOpposite:b=>{const f=b.at(b.position),{parent:q}=f;if(!q)return b.announce("plonk"),!1;const D=f.treeBranch;let J;return"string"==typeof D&&(J={superscript:"subscript",subscript:"superscript",above:"below",
below:"above"}[D]),J?(q.branch(J)||q.createBranch(J),b.setSelection(b.getBranchRange(b.offsetOf(q),J))):f.subsupPlacement?he(b):sf(b)},moveBeforeParent:b=>{const {parent:f}=b.at(b.position);return f?(b.position=b.offsetOf(f),!0):(b.announce("plonk"),!1)},moveAfterParent:b=>Wd(b),moveToNextPlaceholder:b=>Xd(b,"forward"),moveToPreviousPlaceholder:b=>Xd(b,"backward"),moveToNextChar:b=>ye(b,"forward"),moveToPreviousChar:b=>ye(b,"backward"),moveUp:b=>ye(b,"upward"),moveDown:b=>ye(b,"downward"),moveToNextWord:b=>
Je(b,"forward"),moveToPreviousWord:b=>Je(b,"backward"),moveToGroupStart:b=>{const f=b.offsetOf(b.at(b.position).firstSibling);return f===b.position?(b.announce("plonk"),!1):(b.position=f,!0)},moveToGroupEnd:b=>{const f=b.offsetOf(b.at(b.position).lastSibling);return f===b.position?(b.announce("plonk"),!1):(b.position=f,!0)},moveToMathfieldStart:b=>0===b.position?(b.announce("plonk"),!1):(b.position=0,!0),moveToMathfieldEnd:b=>b.position===b.lastOffset?(b.announce("plonk"),!1):(b.position=b.lastOffset,
!0),moveToSuperscript:b=>sf(b),moveToSubscript:b=>he(b)},{target:"model",category:"selection-anchor"});ed({selectGroup:b=>{const f=Bd(b);return f||b.announce("plonk"),f},selectAll:b=>b.setSelection(0,b.lastOffset),extendSelectionForward:b=>{const f=b.extendSelection("forward");return f||b.announce("plonk"),f},extendSelectionBackward:b=>{const f=b.extendSelection("backward");return f||b.announce("plonk"),f},extendToNextWord:b=>Je(b,"forward",{extend:!0}),extendToPreviousWord:b=>Je(b,"backward",{extend:!0}),
extendSelectionUpward:b=>ye(b,"upward",{extend:!0}),extendSelectionDownward:b=>ye(b,"downward",{extend:!0}),extendToNextBoundary:b=>Je(b,"forward",{extend:!0}),extendToPreviousBoundary:b=>Je(b,"backward",{extend:!0}),extendToGroupStart:b=>{const f=b.setSelection(b.anchor,b.offsetOf(b.at(b.position).firstSibling));return f||b.announce("plonk"),f},extendToGroupEnd:b=>{const f=b.setSelection(b.anchor,b.offsetOf(b.at(b.position).lastSibling));return f||b.announce("plonk"),f},extendToMathFieldStart:b=>
{const f=b.setSelection(b.anchor,0);return f||b.announce("plonk"),f},extendToMathFieldEnd:b=>{const f=b.setSelection(b.anchor,b.lastOffset);return f||b.announce("plonk"),f}},{target:"model",category:"selection-extend"});class xh{constructor(b){var f,q;this.preventOverlayClose=null!==(f=null==b?void 0:b.preventOverlayClose)&&void 0!==f&&f;this.translucent=null!==(q=null==b?void 0:b.translucent)&&void 0!==q&&q;this.state="closed"}get element(){if(this._element)return this._element;const b=document.createElement("div");
return b.setAttribute("role","presentation"),b.style.position="fixed",b.style.contain="content",b.style.top="0",b.style.left="0",b.style.right="0",b.style.bottom="0",b.style.zIndex="var(--scrim-zindex, 10099)",b.style.outline="none",this.translucent?(b.style.background="rgba(255, 255, 255, .2)",b.style.backdropFilter="contrast(40%)"):b.style.background="transparent",this._element=b,b}open(b){var f;if("closed"===this.state){this.state="opening";this.savedActiveElement=df();var {element:q}=this;(null!==
(f=null==b?void 0:b.root)&&void 0!==f?f:document.body).appendChild(q);q.addEventListener("click",this);document.addEventListener("touchmove",this,!1);document.addEventListener("scroll",this,!1);f=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight;this.savedOverflow=document.body.style.overflow;document.body.style.overflow="hidden";var D=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${D+f}px`;
(null==b?0:b.child)&&q.append(b.child);this.state="open"}}close(){var b,f,q,D;if("open"===this.state){this.state="closing";"function"==typeof this.onClose&&this.onClose();var {element:J}=this;J.removeEventListener("click",this);document.removeEventListener("touchmove",this,!1);document.removeEventListener("scroll",this,!1);J.remove();document.body.style.overflow=null!==(b=this.savedOverflow)&&void 0!==b?b:"";document.body.style.marginRight=null!==(f=this.savedMarginRight)&&void 0!==f?f:"";df()===
this.savedActiveElement||null!==(D=null===(q=this.savedActiveElement)||void 0===q?void 0:q.focus)&&void 0!==D&&D.call(q);J.innerHTML="";this.state="closed"}}handleEvent(b){this.preventOverlayClose||(b.target===this._element&&"click"===b.type?(this.close(),b.preventDefault(),b.stopPropagation()):b.target!==document||"touchmove"!==b.type&&"scroll"!==b.type||(this.close(),b.preventDefault(),b.stopPropagation()))}}const Mj=new Set("Backquote Digit0 Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 Minus Equal IntlYen KeyQ KeyW KeyE KeyR KeyT KeyY KeyU KeyI KeyO KeyP BracketLeft BracketRight Backslash KeyA KeyS KeyD KeyF KeyG KeyH KeyJ KeyK KeyL Semicolon Quote IntlBackslash KeyZ KeyX KeyC KeyV KeyB KeyN KeyM Comma Period Slash IntlRo Space Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadComma NumpadDecimal NumpadDivide NumpadEqual NumpadHash NumpadMultiply NumpadParenLeft NumpadParenRight NumpadStar NumpadSubstract".split(" "));
class Hk{get maximumDepth(){return 1E3}constructor(b){this.canCoalesce=this.recording=!1;this.model=b;this.reset()}reset(){this.stack=[];this.index=-1}startRecording(){this.recording=!0}canUndo(){return 0<this.index}canRedo(){return this.index!==this.stack.length-1}undo(){return!!this.canUndo()&&(this.model.setState(this.stack[this.index-1],{suppressChangeNotifications:!1,type:"undo"}),--this.index,this.canCoalesce=!1,!0)}redo(){return!!this.canRedo()&&(this.index+=1,this.model.setState(this.stack[this.index],
{suppressChangeNotifications:!1,type:"redo"}),this.canCoalesce=!1,!0)}pop(){this.canUndo()&&(--this.index,this.stack.pop())}snapshot(){return!!this.recording&&(this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),this.canCoalesce=!1,!0)}snapshotAndCoalesce(){if(!this.recording)return!1;this.canCoalesce&&this.pop();const b=this.snapshot();return this.canCoalesce=!0,b}}let uj;class Vj{constructor(b,
f){this.originalContainerBottomPadding=null;this.options=b;this.visible=!1;this._mathfield=f;this.virtualKeyboardStylesheet=this.coreStylesheet=null}setOptions(b){var f,q;let D="";if(this._element){const J=this._element.querySelector("div.keyboard-layer.is-visible");J&&(D=null!==(f=J.getAttribute("data-layer"))&&void 0!==f?f:"");this._element.remove();this._element=void 0}if(this.options=b,this.visible)this.buildAndAttachElement(b.virtualKeyboardTheme),(b=this.element.querySelector(`.keyboard-layer[data-layer="${D}"]`))&&
(null===(q=this.element.querySelector(".keyboard-layer.is-visible"))||void 0===q||q.classList.remove("is-visible"),b.classList.add("is-visible")),this.element.classList.add("is-visible")}get element(){return this._element}set element(b){var f;this._element!==b&&(null===(f=this._element)||void 0===f||f.remove(),this._element=b)}get visible(){return this._visible}set visible(b){this._visible=b}get height(){var b,f;return null!==(f=null===(b=this.element)||void 0===b?void 0:b.offsetHeight)&&void 0!==
f?f:0}buildAndAttachElement(b){var f;this.element=function(q,D){var J,K,W,ca;e();var fa='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"display: none;"\x3e\n\n    \x3csymbol id\x3d"svg-delete-backward" viewBox\x3d"0 0 576 512"\x3e\n      \x3cpath d\x3d"M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-shift" viewBox\x3d"0 0 384 512"\x3e\n      \x3cpath d\x3d"M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-commit" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-command" viewBox\x3d"0 0 640 512"\x3e\n      \x3cpath d\x3d"M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-undo" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-redo" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-arrow-left" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-arrow-right" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-tab" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-copy" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-angle-double-right" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-angle-double-left" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-trash" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/\x3e\n    \x3c/symbol\x3e\n\x3c/svg\x3e\n        ';
q.create();ki["foreground-color"]=[];for(var xa of Object.keys(Xg))ki["foreground-color"].push({class:"small-button",content:'\x3cspan style\x3d"border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+Xg[xa]+'"\x3e\x3c/span\x3e',command:["applyStyle",{color:xa}]});ki["background-color"]=[];for(var ra of Object.keys(mh))ki["background-color"].push({class:"small-button",content:'\x3cspan style\x3d"border-radius:50%;width:32px;height:32px; background:'+mh[ra]+'"\x3e\x3c/span\x3e',
command:["applyStyle",{backgroundColor:ra}]});Pe={...ki};for(var Na of Object.keys(Pe))Pe[Na]=Pe[Na].slice();for(xa=0;26>xa;xa++)ra="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[xa],Pe[ra]||(Pe[ra]=[]),Pe[ra].unshift({latex:"\\mathbb{"+ra+"}",aside:"blackboard",insert:"\\mathbb{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathbf{"+ra+"}",aside:"bold",insert:"\\mathbf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathsf{"+ra+"}",aside:"sans",insert:"\\mathsf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathtt{"+ra+"}",aside:"monospace",insert:"\\mathtt{"+
ra+"}"}),Pe[ra].unshift({latex:"\\mathcal{"+ra+"}",aside:"calligraphy",insert:"\\mathcal{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathfrak{"+ra+"}",aside:"fraktur",insert:"\\mathfrak{"+ra+"}"});for(xa=0;26>=xa;xa++)ra="abcdefghijklmnopqrstuvwxyz"[xa],Pe[ra]||(Pe[ra]=[]),Pe[ra].unshift({latex:"\\mathsf{"+ra+"}",aside:"sans",insert:"\\mathsf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathbf{"+ra+"}",aside:"bold",insert:"\\mathbf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathtt{"+ra+"}",aside:"monospace",insert:"\\mathtt{"+
ra+"}"}),Pe[ra].unshift({latex:"\\mathfrak{"+ra+"}",aside:"fraktur",insert:"\\mathfrak{"+ra+"}"});for(xa=0;10>xa;xa++)ra="0123456789"[xa],Pe[ra]||(Pe[ra]=[]),Pe[ra].unshift({latex:"\\mathbf{"+ra+"}",aside:"bold",insert:"\\mathbf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathsf{"+ra+"}",aside:"sans",insert:"\\mathsf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathtt{"+ra+"}",aside:"monospace",insert:"\\mathtt{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathcal{"+ra+"}",aside:"script",insert:"\\mathcal{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathfrak{"+
ra+"}",aside:"fraktur",insert:"\\mathfrak{"+ra+"}"});(xa=q.options.virtualKeyboards)||(xa="all");xa=xa.replace(/\ball\b/i,"numeric functions symbols roman greek");ra={...kj,...(null!==(J=q.options.customVirtualKeyboardLayers)&&void 0!==J?J:{})};J={...aj,...(null!==(K=q.options.customVirtualKeyboards)&&void 0!==K?K:{})};K=xa.replace(/\s+/g," ").split(" ");for(const Qb of K)if(J[Qb]){K=null!==(W=J[Qb].layers)&&void 0!==W?W:[];J[Qb].layer&&K.push(J[Qb].layer);K=[...(new Set(K))];for(const Xb of K){if(!ra[Xb])break;
if("object"==typeof ra[Xb]){K=ra[Xb];Na="";if("string"==typeof K.styles?Na+=`<style>${K.styles}</style>`:"object"==typeof K.styles&&(Na+=`<style>${ig(K.styles)}</style>`),K.backdrop&&(Na+=`<div class='${K.backdrop}'>`),K.container&&(Na+=`<div class='${K.container}'>`),K.rows){Na+="\x3cdiv class\x3d'rows'\x3e";for(const sc of K.rows){Na+="\x3cul\x3e";for(const qc of sc){if(Na+="\x3cli",qc.class){var Ua=qc.class;qc.layer&&!/layer-switch/.test(Ua)&&(Ua+=" layer-switch");/separator/.test(Ua)||(Ua+=" keycap");
Na+=` class="${Ua}"`}else Na+=' class\x3d"keycap"';if(qc.key&&(Na+=` data-key="${qc.key}"`),qc.command&&("string"==typeof qc.command?Na+=` data-command='"${qc.command}"'`:(Na+=" data-command\x3d'",Na+=JSON.stringify(qc.command),Na+="'")),qc.insert&&(Na+=` data-insert="${qc.insert}"`),qc.latex&&(Na+=` data-latex="${qc.latex}"`),qc.aside&&(Na+=` data-aside="${qc.aside}"`),qc.variants)Ua=Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36),Pe[Ua]=qc.variants,Na+=` data-alt-keys="${Ua}"`;
qc.shifted&&(Na+=` data-shifted="${qc.shifted}"`);qc.shiftedCommand&&(Na+=` data-shifted-command="${qc.shiftedCommand}"`);qc.layer&&(Na+=` data-layer="${qc.layer}"`);Na+=`>${qc.label?qc.label:""}</li>`}Na+="\x3c/ul\x3e"}Na+="\x3c/div\x3e"}K.container&&(Na+="\x3c/div\x3e");K.backdrop&&(Na+="\x3c/div\x3e");ra[Xb]=Na}fa+=`<div tabindex="-1" class='keyboard-layer' data-layer='${Xb}'>`;fa+=Jh(q.options,xa,Qb);K=ra[Xb];"string"==typeof K&&(fa+=Ya(q.options,K));fa+="\x3c/div\x3e"}}W=document.createElement("div");
W.className="ML__keyboard";D?W.classList.add(D):q.options.virtualKeyboardTheme&&W.classList.add(q.options.virtualKeyboardTheme);D=document.createElement("div");D.className="ML__keyboard--plate";D.innerHTML=q.options.createHTML(fa);W.appendChild(D);fa=W.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton");for(var db of fa)db.id="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36);Rh(q,[...fa]);db=W.querySelectorAll(".layer-switch");for(var vb of db)vb.classList.contains("shift")?
Yd(vb,Qb=>q.executeCommand(Qb),{pressed:"shiftKeyboardLayer",default:["switchKeyboardLayer",vb.getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):Yd(vb,Qb=>q.executeCommand(Qb),{default:["switchKeyboardLayer",vb.getAttribute("data-layer")]});vb=W.querySelectorAll(".keyboard-layer");for(const Qb of vb)Qb.addEventListener("mousedown",Xb=>{Xb.preventDefault();Xb.stopPropagation()}),Qb.addEventListener("touchstart",Xb=>{Xb.preventDefault();Xb.stopPropagation()},{passive:!1});return null===
(ca=vb[0])||void 0===ca||ca.classList.add("is-visible"),W}(this,null!=b?b:"");Dd(this.element,"touchstart:passive mousedown",()=>this.focusMathfield());null===(f=this.options.virtualKeyboardContainer)||void 0===f||f.appendChild(this.element)}handleEvent(b){if(this.element)switch(b.type){case "mouseup":case "blur":case "touchend":case "touchcancel":document.body.style.userSelect="",yf(this)}}focusMathfield(){var b,f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.focus)||void 0===f||f.call(b)}blurMathfield(){var b,
f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.blur)||void 0===f||f.call(b)}stateChanged(){var b,f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.element)||void 0===f||f.dispatchEvent(new Event("virtual-keyboard-toggle",{bubbles:!0,cancelable:!1,composed:!0}))}executeCommand(b){var f,q,D;let J,K=[];return u(b)?(J=b[0],K=b.slice(1)):J=b,J=J.replace(/-\w/g,W=>W[1].toUpperCase()),"virtual-keyboard"===(null===(f=Sg[J])||void 0===f?void 0:f.target)?Sg[J].fn(this,...K):null!==(D=
null===(q=this._mathfield)||void 0===q?void 0:q.executeCommand(b))&&void 0!==D&&D}create(){this.virtualKeyboardStylesheet||(uj||(uj=Zd('.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul\x3eli{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);cursor:pointer;display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul\x3eli{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard.alternate-keys ul\x3eli.is-active,.ML__keyboard.alternate-keys ul\x3eli.is-pressed,.ML__keyboard.alternate-keys ul\x3eli:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul\x3eli.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul\x3eli.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul\x3eli.box\x3ediv,.ML__keyboard.alternate-keys ul\x3eli.box\x3espan{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul\x3eli .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul\x3eli .warning.is-active,.ML__keyboard.alternate-keys ul\x3eli .warning.is-pressed,.ML__keyboard.alternate-keys ul\x3eli .warning:hover{background:red}.ML__keyboard.alternate-keys ul\x3eli .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul\x3eli aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-pressed,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);cursor:pointer;display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.is-pressed{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.is-active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.is-active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{color:var(--keycap-secondary-text)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{color:var(--keycap-secondary-text);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme\x3ddark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3ediv{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3e.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme\x3ddark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}').toString(36)),
this.virtualKeyboardStylesheet=Ie(null,'.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul\x3eli{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);cursor:pointer;display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul\x3eli{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard.alternate-keys ul\x3eli.is-active,.ML__keyboard.alternate-keys ul\x3eli.is-pressed,.ML__keyboard.alternate-keys ul\x3eli:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul\x3eli.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul\x3eli.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul\x3eli.box\x3ediv,.ML__keyboard.alternate-keys ul\x3eli.box\x3espan{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul\x3eli .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul\x3eli .warning.is-active,.ML__keyboard.alternate-keys ul\x3eli .warning.is-pressed,.ML__keyboard.alternate-keys ul\x3eli .warning:hover{background:red}.ML__keyboard.alternate-keys ul\x3eli .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul\x3eli aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-pressed,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);cursor:pointer;display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.is-pressed{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.is-active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.is-active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{color:var(--keycap-secondary-text)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{color:var(--keycap-secondary-text);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme\x3ddark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3ediv{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3e.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme\x3ddark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}',
uj));this.coreStylesheet||(this.coreStylesheet=Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)));
null!==this.options.fontsDirectory&&cc(this.options.fontsDirectory)}enable(){m()&&(window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this))}disable(){m()&&(window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("touchend",this),window.removeEventListener("touchcancel",this))}dispose(){}}const aj={numeric:{tooltip:"keyboard.tooltip.numeric",
layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"\x26alpha;\x26beta;\x26gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"\x3ci\x3ef\x3c/i\x3e\x26thinsp;()",classes:"tex",layers:["functions"]},symbols:{tooltip:"keyboard.tooltip.symbols",layer:"symbols",
label:"\x26infin;≠∈",classes:"tex",layers:["symbols"]}},Qh={"\\varphi ":["\x26Phi;","\\Phi "],"\\varsigma ":["\x26Sigma;","\\Sigma "],"\\epsilon ":["\x26#x0190;",'\\char"0190'],"\\rho ":["\x26#x3A1",'\\char"3A1'],"\\tau ":["\x26#x3A4;",'\\char"3A4'],"\\upsilon ":["\x26Upsilon;","\\Upsilon "],"\\theta ":["\x26Theta;","\\Theta "],"\\iota ":["\x26Iota;",'\\char"399'],"\\omicron ":["\x26#x039F;",'\\char"39F'],"\\pi ":["\x26Pi;","\\Pi "],"\\alpha ":["\x26Alpha;",'\\char"391'],"\\sigma ":["\x26Sigma;",
"\\Sigma "],"\\delta ":["\x26Delta;","\\Delta "],"\\phi ":["\x26#x03a6;","\\Phi "],"\\gamma ":["\x26Gamma;","\\Gamma "],"\\eta ":["\x26Eta;",'\\char"397'],"\\xi ":["\x26Xi;","\\Xi "],"\\kappa ":["\x26Kappa;",'\\char"39A'],"\\lambda ":["\x26Lambda;","\\Lambda "],"\\zeta ":["\x26Zeta;",'\\char"396'],"\\chi ":["\x26Chi;",'\\char"3A7'],"\\psi ":["\x26Psi;","\\Psi "],"\\omega ":["\x26Omega;","\\Omega "],"\\beta ":["\x26Beta;",'\\char"392'],"\\nu ":["\x26Nu;",'\\char"39D'],"\\mu ":["\x26Mu;",'\\char"39C']},
ki={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[".",",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",
aside:"",class:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop\x3d0}^{\\infty}",class:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop\x3d0}^{\\infty}",class:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div","\\%"],"(":"\\left( #0\\right);\\left[ #0\\right];\\left\\{ #0\\right\\};\\left\\langle #0\\right\\rangle;\\lfloor;\\llcorner;(;\\lbrack;\\lvert;\\lVert;\\lgroup;\\langle;\\lceil;\\ulcorner;\\lmoustache;\\lbrace".split(";"),
")":"\\rfloor \\lrcorner ) \\rbrack \\rvert \\rVert \\rgroup \\rangle \\rceil \\urcorner \\rmoustache \\rbrace".split(" "),"\x3d":"\\cong \\asymp \\equiv \\differencedelta \\varpropto \\thickapprox \\approxeq \\thicksim \\backsim \\eqsim \\simeq \\Bumpeq \\bumpeq \\doteq \\Doteq \\fallingdotseq \\risingdotseq \\coloneq \\eqcirc \\circeq \\triangleq \\between".split(" "),"!\x3d":["\\neq","\\ncong","","\\nsim"],"\x3c":"\\leq \\leqq \\lneqq \\ll \\lessgtr \\nless \\nleq \\lesssim \\precsim \\prec \\nprec \\preccurlyeq \\lessdot".split(" "),
"\x3e":"\\geq \\geqq \\gneqq \\gg \\gtrless \\ngtr \\ngeq \\gtrsim \\succsim \\succ \\nsucc \\succcurlyeq \\gtrdot".split(" "),in:["\\owns"],"!in":["\\backepsilon"],subset:["\\subseteq","\\nsubset","\\nsubseteq"],superset:["\\supseteq","\\nsupset","\\nsupseteq"],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":"\\prod \\theta \\rho \\sin \\cos \\tan".split(" "),ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",
class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:"\\bar{#@} \\vec{#@} \\hat{#@} \\check{#@} \\dot{#@} \\ddot{#@} \\mathring{#@} \\breve{#@} \\acute{#@} \\tilde{#@} \\grave{#@}".split(" "),
underline:"\\underbrace{#@} \\underlinesegment{#@} \\underleftrightarrow{#@} \\underrightarrow{#@} \\underleftarrow{#@} \\undergroup{#@}".split(" "),overline:"\\overbrace{#@} \\overlinesegment{#@} \\overleftrightarrow{#@} \\overrightarrow{#@} \\overleftarrow{#@} \\overgroup{#@}".split(" "),xleftarrows:"\\xlongequal{#@} \\xleftrightarrow{#@} \\xLeftrightarrow{#@} \\xleftrightharpoons{#@} \\xLeftarrow{#@} \\xleftharpoonup{#@} \\xleftharpoondown{#@} \\xtwoheadleftarrow{#@} \\xhookleftarrow{#@} \\xtofrom{#@} \\xleftequilibrium{#@} \\xrightleftarrows{#@}".split(" "),
xrightarrows:"\\xrightarrow{#@} \\xlongequal{#@} \\xleftrightarrow{#@} \\xLeftrightarrow{#@} \\xleftrightharpoons{#@} \\xRightarrow{#@} \\xrightharpoonup{#@} \\xrightharpoondown{#@} \\xtwoheadrightarrow{#@} \\xrightleftharpoons{#@} \\xhookrightarrow{#@} \\xmapsto{#@} \\xrightequilibrium{#@} \\xrightleftarrows{#@}".split(" "),A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],
B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],
l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"}],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":"ijpkau".split(""),ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],
logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",
aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":"\\in \\notin \\ni \\owns \\subset \\supset \\subseteq \\supseteq \\subsetneq \\supsetneq \\varsubsetneq \\subsetneqq \\nsubset \\nsupset \\nsubseteq \\nsupseteq".split(" "),
space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space\x3cbr\x3e⁻³⧸₁₈ em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space\x3cbr\x3e³⧸₁₈ em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space\x3cbr\x3e⁴⧸₁₈ em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space\x3cbr\x3e⁵⧸₁₈ em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:"⅓ em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',
insert:"\\enspace",aside:"½ em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'\x3cspan class\x3d"warning"\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-trash" /\x3e\x3c/svg\x3e\x3c/span\x3e',command:"deleteAll"}],"-\x3e|":[]};let Pe={};const kj={math:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'x-var'\x3e\x3ci\x3ex\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'n-var'\x3e\x3ci\x3en\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-1'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\exponentialE' data-alt-keys\x3d'ee'\x3ee\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\imaginaryI' data-alt-keys\x3d'ii'\x3ei\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\pi' data-alt-keys\x3d'numeric-pi'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-key\x3d'\x3c' data-alt-keys\x3d'\x3c'\x3e\x26lt;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-key\x3d'\x3e' data-alt-keys\x3d'\x3e'\x3e\x26gt;\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-2'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'#@^{2}' data-latex\x3d'x^2'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'^' data-insert\x3d'#@^{#?}' data-latex\x3d'x^\\placeholder'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-insert\x3d'\\sqrt{#0}' data-latex\x3d'\\sqrt{#0}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' \x3e(\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' \x3e)\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-3'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap small' data-alt-keys\x3d'int' data-latex\x3d'\\int_0^\\infty'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'\\forall' data-alt-keys\x3d'logic' \x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right' data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'foreground-color' data-command\x3d'[\"applyStyle\",{\"color\":\"red\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'background-color' data-command\x3d'[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-4'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e\n    ",
"lower-roman":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-1' shift-layer\x3d'upper-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-2'  shift-layer\x3d'upper-roman''/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-3'  shift-layer\x3d'upper-roman''/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap' \x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap' \x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' ' data-alt-keys\x3d'space'\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"upper-roman":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-1'  shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-2' shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-3' shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap' \x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'.'\x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
symbols:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\lbrace '\x3e{\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rbrace '\x3e}\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-alt-keys\x3d'xleftarrows' data-latex\x3d'\\leftarrow' \x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-alt-keys\x3d'xrightarrows' data-latex\x3d'\\rightarrow' \x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'overline' data-latex\x3d'\\overline{#@}' data-aside\x3d'overline'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'underline' data-latex\x3d'\\underline{#@}' data-aside\x3d'underline'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w15' data-insert\x3d'\\ulcorner#0\\urcorner '\x3e\x3cspan\x3e\x3csup\x3e\x26#x250c;\x3c/sup\x3e\x3cspan\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x3csup\x3e\x26#x2510;\x3c/sup\x3e\x3c/span\x3e\x3caside\x3eceil\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'nabla' data-insert\x3d'\\nabla '\x3e\x26#x2207;\x3caside\x3enabla\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'infinity' data-insert\x3d'\\infty '\x3e\x26#x221e;\x3c/li\x3e\n\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\lbrack '\x3e[\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rbrack '\x3e]\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'in' data-insert\x3d'\\in '\x3e\x26#x2208;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'!in' data-insert\x3d'\\notin '\x3e\x26#x2209;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Re '\x3e\x26#x211c;\x3caside\x3eReal\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Im '\x3e\x26#x2111;\x3caside\x3eImaginary\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w15' data-insert\x3d'\\llcorner#0\\lrcorner '\x3e\x3cspan\x3e\x3csub\x3e\x26#x2514;\x3c/sub\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x3csub\x3e\x26#x2518;\x3c/sub\x3e\x3c/span\x3e\x3caside\x3efloor\x3c/aside\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\partial '\x3e\x26#x2202;\x3caside\x3epartial\x3cbr\x3ederivative\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\emptyset '\x3e\x26#x2205;\x3caside\x3eempty set\x3c/aside\x3e\x3c/li\x3e\n\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\langle '\x3e\x26#x27e8;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rangle '\x3e\x26#x27e9;\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'subset' data-insert\x3d'\\subset '\x3e\x26#x2282;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'superset' data-insert\x3d'\\supset '\x3e\x26#x2283;\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'accents' data-insert\x3d'\\vec{#@}' data-latex\x3d'\\vec{#?}' data-aside\x3d'vector'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'absnorm' data-insert\x3d'\\left| #0 \\right|' data-latex\x3d'\\left| #? \\right|' data-aside\x3d'abs'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-key\x3d'!' data-alt-keys\x3d'!'\x3e!\x3caside\x3efactorial\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'^{\\prime} '\x3e\x3cspan\x3e\x3csup\x3e\x3cspan\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x26#x2032\x3c/sup\x3e\x3c/span\x3e\x3caside\x3eprime\x3c/aside\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'action font-glyph bottom right w15'\n                    data-shifted\x3d'\x3cspan class\x3d\"warning\"\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-trash\" /\x3e\x3c/svg\x3e\x3c/span\x3e'\n                    data-shifted-command\x3d'\"deleteAll\"'\n                    data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\n                \x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d','\x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\cdot '\x3e\x26#x22c5;\x3caside\x3ecentered dot\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\colon '\x3e:\x3caside\x3ecolon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\circ '\x3e\x26#x2218;\x3caside\x3ecircle\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\approx '\x3e\x26#x2248;\x3caside\x3eapprox.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\ne '\x3e\x26#x2260;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\pm '\x3e\x26#x00b1;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"lower-greek":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\varphi '\x3e\x3ci\x3e\x26#x03c6;\x3c/i\x3e\x3caside\x3ephi var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varsigma '\x3e\x3ci\x3e\x26#x03c2;\x3c/i\x3e\x3caside\x3esigma var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\epsilon '\x3e\x3ci\x3e\x26#x03f5;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\rho '\x3e\x3ci\x3e\x26rho;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\tau '\x3e\x3ci\x3e\x26tau;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\upsilon '\x3e\x3ci\x3e\x26upsilon;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\theta '\x3e\x3ci\x3e\x26theta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\iota '\x3e\x3ci\x3e\x26iota;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\omicron '\x3e\x26omicron;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\pi '\x3e\x3ci\x3e\x26pi;\x3c/i\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\alpha ' data-shifted\x3d'\x26Alpha;' data-shifted-command\x3d'[\"insert\",\"\\\\char\\\"391\"]'\x3e\x3ci\x3e\x26alpha;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\sigma '\x3e\x3ci\x3e\x26sigma;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\delta '\x3e\x3ci\x3e\x26delta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\phi '\x3e\x3ci\x3e\x26#x03d5;\x3c/i\x3e\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\gamma '\x3e\x3ci\x3e\x26gamma;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\eta '\x3e\x3ci\x3e\x26eta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\xi '\x3e\x3ci\x3e\x26xi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\kappa '\x3e\x3ci\x3e\x26kappa;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\lambda '\x3e\x3ci\x3e\x26lambda;\x3c/i\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'shift modifier font-glyph bottom left w15 layer-switch' data-layer\x3d'upper-greek'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-shift\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\zeta '\x3e\x3ci\x3e\x26zeta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\chi '\x3e\x3ci\x3e\x26chi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\psi '\x3e\x3ci\x3e\x26psi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\omega '\x3e\x3ci\x3e\x26omega;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\beta '\x3e\x3ci\x3e\x26beta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\nu '\x3e\x3ci\x3e\x26nu;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\mu '\x3e\x3ci\x3e\x26mu;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right w15'\n                    data-shifted\x3d'\x3cspan class\x3d\"warning\"\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-trash\" /\x3e\x3c/svg\x3e\x3c/span\x3e'\n                    data-shifted-command\x3d'\"deleteAll\"'\n                    data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\n                \x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap ' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3cli class\x3d'keycap'\x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varepsilon '\x3e\x3ci\x3e\x26#x03b5;\x3c/i\x3e\x3caside\x3eepsilon var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\vartheta '\x3e\x3ci\x3e\x26#x03d1;\x3c/i\x3e\x3caside\x3etheta var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varkappa '\x3e\x3ci\x3e\x26#x3f0;\x3c/i\x3e\x3caside\x3ekappa var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varpi '\x3e\x3ci\x3e\x26#x03d6;\x3caside\x3epi var.\x3c/aside\x3e\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varrho '\x3e\x3ci\x3e\x26#x03f1;\x3c/i\x3e\x3caside\x3erho var.\x3c/aside\x3e\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"upper-greek":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\Phi '\x3e\x26Phi;\x3caside\x3ephi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Sigma '\x3e\x26Sigma;\x3caside\x3esigma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"0190'\x3e\x26#x0190;\x3caside\x3eepsilon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A1'\x3e\x26#x3A1;\x3caside\x3erho\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A4'\x3e\x26#x3A4;\x3caside\x3etau\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Upsilon '\x3e\x26Upsilon;\x3caside\x3eupsilon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Theta '\x3e\x26Theta;\x3caside\x3etheta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"399'\x3e\x26Iota;\x3caside\x3eiota\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39F'\x3e\x26#x039F;\x3caside\x3eomicron\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Pi '\x3e\x26Pi;\x3caside\x3epi\x3c/aside\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"391'\x3e\x26#x391;\x3caside\x3ealpha\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Sigma '\x3e\x26Sigma;\x3caside\x3esigma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Delta '\x3e\x26Delta;\x3caside\x3edelta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Phi '\x3e\x26#x03a6;\x3caside\x3ephi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Gamma '\x3e\x26Gamma;\x3caside\x3egamma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"397'\x3e\x26Eta;\x3caside\x3eeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Xi '\x3e\x26Xi;\x3caside\x3exi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39A'\x3e\x26Kappa;\x3caside\x3ekappa\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Lambda '\x3e\x26Lambda;\x3caside\x3elambda\x3c/aside\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'shift modifier font-glyph bottom left selected w15 layer-switch' data-layer\x3d'lower-greek'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-shift\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"396'\x3e\x26Zeta;\x3caside\x3ezeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A7'\x3e\x26Chi;\x3caside\x3echi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Psi '\x3e\x26Psi;\x3caside\x3epsi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Omega '\x3e\x26Omega;\x3caside\x3eomega\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"392'\x3e\x26Beta;\x3caside\x3ebeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39D'\x3e\x26Nu;\x3caside\x3enu\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39C'\x3e\x26Mu;\x3caside\x3emu\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right w15' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'separator w10'\x3e\x26nbsp;\x3c/li\x3e\n                \x3cli class\x3d'keycap'\x3e.\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
functions:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\sin'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\sin^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\ln'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\exponentialE^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{lcm}(#?)' data-latex\x3d'\\operatorname{lcm}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{ceil}(#?)' data-latex\x3d'\\operatorname{ceil}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\lim_{n\\to\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\int'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{abs}(#?)' data-latex\x3d'\\operatorname{abs}()'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\cos'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\cos^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\ln_{10}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'10^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{gcd}(#?)' data-latex\x3d'\\operatorname{gcd}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{floor}(#?)' data-latex\x3d'\\operatorname{floor}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\sum_{n\\mathop\x3d0}^{\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\int_{0}^{\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{sign}(#?)' data-latex\x3d'\\operatorname{sign}()'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\tan'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\tan^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\log_{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\sqrt[#?]{#0}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'#0 \\mod' data-latex\x3d'\\mod'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{round}(#?) ' data-latex\x3d'\\operatorname{round}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\prod_{n\\mathop\x3d0}^{\\infty}' data-latex\x3d'{\\scriptstyle \\prod_{n\x3d0}^{\\infty}}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\frac{\\differentialD #0}{\\differentialD x}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton'\x3e(\x3c/li\x3e\n                \x3cli class\x3d'fnbutton'\x3e)\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'^{#?}' data-latex\x3d'x^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'_{#?}' data-latex\x3d'x_{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w20 ' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
style:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'foreground-color' data-command\x3d'[\"applyStyle\",{\"color\":\"red\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'background-color' data-command\x3d'[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; background:#fff590'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"3\"}]' data-latex\x3d'\\scriptsize\\text{small}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"5\"}]' data-latex\x3d'\\scriptsize\\text{normal}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"9\"}]' data-latex\x3d'\\huge\\text{big}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'\\langle' data-command\x3d'[\"insert\", \"\\\\langle\", {\"smartFence\":true}]'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"l\"}]' data-latex\x3d'\\fontseries{l}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"m\"}]' data-latex\x3d'\\fontseries{m}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"b\"}]' data-latex\x3d'\\fontseries{b}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"bx\"}]' data-latex\x3d'\\fontseries{bx}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"sb\"}]' data-latex\x3d'\\fontseries{sb}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"c\"}]' data-latex\x3d'\\fontseries{c}\\text{Ab}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"up\"}]' data-latex\x3d'\\textup{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"it\"}]' data-latex\x3d'\\textit{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex\x3d'\\textsl{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex\x3d'\\textsc{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-insert\x3d'\\emph{#@} ' data-latex\x3d'\\text{\\emph{emph}}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex\x3d'\\textrm{Az}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex\x3d'\\texttt{Az}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex\x3d'\\textsf{Az}'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex\x3d'\\mathbb{AZ}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex\x3d'\\mathscr{AZ}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex\x3d'\\mathcal{A1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex\x3d'\\mathfrak{Az}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e"};
ed({showAlternateKeys:function(b,f){var q;e();const D=Pe[f],J=document.createElement("div");J.setAttribute("aria-hidden","true");J.className="ML__keyboard alternate-keys"+(b.element.classList.contains("material")?" material":"");J.id="mathlive-alternate-keys-panel";14<=D.length?J.style.width="236px":7<=D.length?J.style.width="286px":4===D.length||2===D.length?J.style.width="146px":1===D.length?J.style.width="86px":J.style.width="146px";J.style.height="auto";let K="";for(const W of D)K+="\x3cli","string"==
typeof W?K+=' data-latex\x3d"'+W.replace(/"/g,"\x26quot;")+'"':(W.latex&&(K+=' data-latex\x3d"'+W.latex.replace(/"/g,"\x26quot;")+'"'),W.content&&(K+=' data-content\x3d"'+W.content.replace(/"/g,"\x26quot;")+'"'),W.insert&&(K+=' data-insert\x3d"'+W.insert.replace(/"/g,"\x26quot;")+'"'),W.command&&("string"==typeof W.command?K+=` data-command="${W.command.replace(/"/g,"\x26quot;")}"`:K+=" data-command\x3d'"+JSON.stringify(W.command).replace(/"/g,"\x26quot;")+"'"),W.aside&&(K+=` data-aside="${W.aside.replace(/"/g,
"\x26quot;")}"`),W.class&&(K+=` data-classes="${W.class}"`)),K+="\x3e",K+="string"==typeof W?W:null!==(q=W.label)&&void 0!==q?q:"",K+="\x3c/li\x3e";J.innerHTML=b.options.createHTML("\x3cul\x3e"+K+"\x3c/ul\x3e");Rh(b,[...J.querySelectorAll("li")],"performAlternateKeys");xh.scrim||(xh.scrim=new xh);xh.scrim.open({root:b.options.virtualKeyboardContainer,child:J});b=null==b?void 0:b.element.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys\x3d"'+f+'"]');if(b=null==b?void 0:b.getBoundingClientRect())0>
b.top-J.clientHeight&&(J.style.width="auto",6>=D.length?J.style.height="56px":12>=D.length?J.style.height="108px":18>=D.length?J.style.height="205px":J.classList.add("compact")),J.style.transform="translate("+(Math.max(0,Math.min(window.innerWidth-J.offsetWidth,(b.left+b.right-J.offsetWidth)/2))+"px,")+((b.top-J.clientHeight+5).toString()+"px)"),J.classList.add("is-visible");return!1}},{target:"virtual-keyboard"});ed({shiftKeyboardLayer:function(b){var f=null==b?void 0:b.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");
if(f)for(const q of f){if(q.dataset.unshiftedContent)break;if((f=q.getAttribute("data-shifted"))||/^[a-z]$/.test(q.innerHTML))if(q.dataset.unshiftedContent=q.innerHTML,f||(f=q.innerHTML.toUpperCase()),q.innerHTML=b.options.createHTML(f),f=q.getAttribute("data-command")){q.dataset.unshiftedCommand=f;const D=q.getAttribute("data-shifted-command");D?q.dataset.command=D:(f=JSON.parse(f),u(f)&&(f[1]=f[1].toUpperCase()),q.dataset.command=JSON.stringify(f))}}return!1}},{target:"virtual-keyboard"});ed({hideAlternateKeys:()=>
Ag(),performAlternateKeys:function(b,f){return Ag(),b.executeCommand(f)},switchKeyboardLayer:(b,f)=>ze(b,f),unshiftKeyboardLayer:b=>yf(b),insertAndUnshiftKeyboardLayer:function(b,f){return b.executeCommand(["insert",f]),yf(b),!0}},{target:"virtual-keyboard"});ed({toggleVirtualKeyboardAlt:function(b){let f=!1;return(null==b?void 0:b.element)&&(f=null==b?void 0:b.element.classList.contains("material"),b.disable()),zf(b,f?"":"material"),!1},toggleVirtualKeyboardShift:function(b){var f,q;b.options.virtualKeyboardLayout=
{qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[b.options.virtualKeyboardLayout];const D=null!==(q=null===(f=null==b?void 0:b.element.querySelector("div.keyboard-layer.is-visible"))||void 0===f?void 0:f.id)&&void 0!==q?q:"";return b&&b.disable(),zf(b),D&&ze(b,D),!1}},{target:"virtual-keyboard"});ed({toggleVirtualKeyboard:(b,f)=>(b.visible?Kh(b):zf(b,f),!1),hideVirtualKeyboard:b=>Kh(b),showVirtualKeyboard:(b,f)=>zf(b,f),onUndoStateChanged:(b,f,q)=>{var D;(b=null===
(D=b.element)||void 0===D?void 0:D.querySelector(".keyboard-toolbar"))?(D=b.querySelector("[data-command\x3d'\"undo\"']"),b=b.querySelector("[data-command\x3d'\"redo\"']"),f=(b&&(q?b.classList.remove("disabled"):b.classList.add("disabled")),D&&(f?D.classList.remove("disabled"):D.classList.add("disabled")),!1)):f=!1;return f}},{target:"virtual-keyboard"});let jj,Ni=null,vj=null;new class extends Ce{constructor(){super("math")}onPaste(b,f){if(!f.clipboardData||!Fb(b.model,{dataTransfer:f.clipboardData,
inputType:"insertFromPaste"}))return!1;let q="",D="auto",J=f.clipboardData.getData("application/json+mathlive");if(J)try{var K=JSON.parse(J);if(K&&Array.isArray(K)){b.snapshot();const ca=Ic(K,b);({model:K}=b);K.selectionIsCollapsed||K.deleteAtoms(dc(K.selection));const fa=K.at(K.position);if(fa.parent instanceof $e){const xa=[];let ra=[];"first"===ca[0].type&&ca.shift();"first"===ca[ca.length-1].type&&ca.pop();for(var W of ca)"first"===W.type&&0<ra.length?(xa.push(ra),ra=[W]):ra.push(W);0<ra.length&&
xa.push(ra);let Na=Number(fa.treeBranch[0]),Ua=Number(fa.treeBranch[1]);const db=fa.parent.maxColumns;for(;fa.parent.colCount-Ua<xa.length&&fa.parent.colCount<db;)fa.parent.addColumn();fa.parent.addChildrenAfter(xa[0],fa);for(W=1;W<xa.length;W++)Ua++,Ua>=db&&(Ua=0,fa.parent.addRowAfter(Na),Na++),fa.parent.setCell(Na,Ua,xa[W])}else fa.parent.addChildrenAfter(ca.filter(xa=>"first"!==xa.type),fa);return K.position=K.offsetOf(ca[ca.length-1]),Hb(K,{inputType:"insertFromPaste"}),bc(b),f.preventDefault(),
f.stopPropagation(),!0}}catch{}if(J=f.clipboardData.getData("application/json"),J&&b.computeEngine)try{const ca=JSON.parse(J);if("object"==typeof ca&&"latex"in ca&&ca.latex&&(q=ca.latex),!q){const fa=b.computeEngine.box(ca);fa&&!fa.has("Error")&&(q=fa.latex)}q||(D="latex")}catch{}if(q||(q=f.clipboardData.getData("application/x-latex"),q&&(D="latex")),q||(q=f.clipboardData.getData("text/plain")),q){let ca;return b.snapshot(),[ca,q]=ie(q),"auto"===D&&ca&&(D="latex"),this.insert(b.model,q,{format:D})&&
bc(b),f.preventDefault(),f.stopPropagation(),!0}return!1}insert(b,f,q){var D,J;const K="string"==typeof f?f:null!==(J=null===(D=b.mathfield.computeEngine)||void 0===D?void 0:D.box(f).latex)&&void 0!==J?J:"";if(!q.suppressChangeNotifications&&!Fb(b,{data:K,inputType:"insertText"}))return!1;if(q.insertionMode||(q.insertionMode="replaceSelection"),q.selectionMode||(q.selectionMode="placeholder"),q.format||(q.format="auto"),b.mathfield.smartFence){if(b.selectionIsCollapsed&&"string"==typeof f&&Fg(b,f,
q.style))return!0}else if("replaceAll"!==q.insertionMode&&({parent:D}=b.at(b.position),D instanceof rf&&"?"===D.rightDelim&&b.at(b.position).isLastSibling&&"string"==typeof f&&/^[)}\]|]$/.test(f)))return D.isDirty=!0,D.rightDelim=f,b.position+=1,yb(b),Hb(b,{data:K,inputType:"insertText"}),!0;({suppressChangeNotifications:D}=b);q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;const W={};if(W[0]="replaceAll"===q.insertionMode?
"":b.getValue(b.selection,"latex-unstyled"),W["?"]="\\placeholder{}",W["@"]=W["?"],"replaceSelection"!==q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(dc(b.selection)),b.at(b.position).isLastSibling||"placeholder"!==b.at(b.position+1).type?"placeholder"===b.at(b.position).type&&b.deleteAtoms([b.position-
1,b.position]):b.deleteAtoms([b.position,b.position+1]),W[0])W["@"]=W[0];else if("string"==typeof f&&/(^|[^\\])#@/.test(f)){var ca=function(vb){let Qb=vb.at(vb.position);if("text"===Qb.mode){for(;!Qb.isFirstSibling&&"text"===Qb.mode;)Qb=Qb.leftSibling;return vb.offsetOf(Qb)}const Xb=Qb,sc=[];for(;!Qb.isFirstSibling&&(bg(Qb)||0<sc.length);)"mclose"===Qb.type&&sc.unshift(Qb.value),"mopen"===Qb.type&&0<sc.length&&Qb.value===Fk[sc[0]]&&sc.shift(),Qb=Qb.leftSibling;return Xb===Qb?-1:vb.offsetOf(Qb)}(b);
0<=ca&&(W["@"]=b.getValue(ca,b.position,"latex-unstyled"),b.deleteAtoms([ca,b.position]))}W[0]||(W[0]=W["?"]);let fa=!1;const [xa,ra]=function(vb,Qb,Xb,sc){var qc;let pd,id=[];if("string"!=typeof Qb||"math-json"===sc.format){if(!vb.mathfield.computeEngine)return["math-json",[]];[pd,Qb]=["latex",vb.mathfield.computeEngine.box(Qb).latex];id=cb(Qb,vb.mathfield,{parseMode:"math"})}else"string"==typeof Qb&&"ascii-math"===sc.format?([pd,Qb]=Fd(Qb,{format:"ascii-math",inlineShortcuts:vb.mathfield.options.inlineShortcuts}),
id=cb(Qb,vb.mathfield,{parseMode:"math"}),"latex"!==pd&&vb.options.removeExtraneousParentheses&&Ge(id)):("auto"===sc.format||(null===(qc=sc.format)||void 0===qc?0:qc.startsWith("latex")))&&("auto"===sc.format&&([pd,Qb]=Fd(Qb,{format:"auto",inlineShortcuts:vb.mathfield.options.inlineShortcuts})),"latex"===sc.format&&([,Qb]=ie(Qb)),id=cb(Qb,vb.mathfield,{parseMode:"math",args:Xb}),"latex"!==sc.format&&vb.options.removeExtraneousParentheses&&Ge(id));return Wc(id,sc.style),[null!=pd?pd:"latex",id]}(b,
f,vb=>(fa=!0,W[vb]),q);if(!ra)return!1;ca=Th(ra);var Na=ca.filter(vb=>vb.placeholderId&&!b.mathfield.placeholders.has(vb.placeholderId));const Ua=ca.map(vb=>vb.placeholderId);[...b.mathfield.placeholders.keys()].filter(vb=>!Ua.includes(vb)).forEach(vb=>{var Qb;b.mathfield.placeholders.has(vb)&&(null===(Qb=b.mathfield.placeholders.get(vb))||void 0===Qb||Qb.field.remove(),b.mathfield.placeholders.delete(vb))});Na.forEach(vb=>{var Qb,Xb,sc=b.mathfield.options.virtualKeyboardMode;"manual"===sc&&(sc="onfocus");
sc=new hg({...b.mathfield.options,virtualKeyboardMode:sc,readOnly:!1});const qc=vb.defaultValue?wc.serialize(vb.defaultValue,{defaultMode:"math"}):"";sc.value=qc;sc.addEventListener("input",()=>{!function(pd,id){!pd.suppressChangeNotifications&&pd.mathfield.host&&(pd.suppressChangeNotifications=!0,pd.mathfield.host.dispatchEvent(new CustomEvent("placeholder-change",{detail:{placeholderId:id},bubbles:!0,composed:!0})),pd.suppressChangeNotifications=!1)}(b,vb.placeholderId);setTimeout(()=>bc(b.mathfield))});
null===(Xb=null===(Qb=b.mathfield.element)||void 0===Qb?void 0:Qb.querySelector(".ML__placeholdercontainer"))||void 0===Xb||Xb.appendChild(sc);b.mathfield.placeholders.set(vb.placeholderId,{atom:vb,field:sc})});({parent:ca}=b.at(b.position));if("latex"!==xa&&b.options.removeExtraneousParentheses&&ca instanceof rf&&"("===ca.leftDelim&&ca.hasEmptyBranch("body")&&1===ra.length&&"genfrac"===ra[0].type){Na=ca.parent;var db=ca.treeBranch;Na.removeChild(ca);Na.setChildren(ra,db)}Na=ca.hasEmptyBranch("body");
db=b.at(b.position);db.parent.addChildrenAfter(ra,db);"latex"===xa&&"string"==typeof f&&"root"===ca.type&&Na&&!fa&&(ca.verbatimLatex=f);b.suppressChangeNotifications=J;f=ra[ra.length-1];"placeholder"===q.selectionMode?(q=ra.reduce((vb,Qb)=>[...vb,...Qb.children.filter(Xb=>"placeholder"===Xb.type)],[]),0<q.length?(q=b.offsetOf(q[0]),b.setSelection(q-1,q),b.announce("move")):f&&(b.position=b.offsetOf(f))):"before"===q.selectionMode||("after"===q.selectionMode?f&&(b.position=b.offsetOf(f)):"item"===
q.selectionMode&&b.setSelection(b.anchor,b.offsetOf(f)));return Hb(b,{data:K,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};ed({undo:b=>(Dc(b,"accept"),b.undo(),!0),redo:b=>(Dc(b,"accept"),b.redo(),!0),scrollIntoView:b=>(b.scrollIntoView(),!0),scrollToStart:b=>(b.field.scroll(0,0),!0),scrollToEnd:b=>{const f=b.field.getBoundingClientRect();return b.field.scroll(f.left-window.scrollX,0),!0},toggleKeystrokeCaption:function(b){return b.keystrokeCaptionVisible=!b.keystrokeCaptionVisible,
b.keystrokeCaptionVisible?(b.keystrokeCaption=jf(b),b.keystrokeCaption.innerHTML=""):b.keystrokeCaption&&(b.keystrokeCaption.style.visibility="hidden"),!1},plonk:b=>(b.model.announce("plonk"),!0),switchMode:(b,f,q,D)=>(b.switchMode(f,q,D),!0),insert:(b,f,q)=>b.insert(f,q),typedText:(b,f,q)=>(jh(b,f,q),!0),insertDecimalSeparator:b=>{if("math"===b.mode&&","===b.options.decimalSeparator){const f=b.model;if(f.at(Math.max(f.position,f.anchor)).isDigit())return b.snapshot(),b.insert("{,}",{format:"latex"}),
!0}return b.insert("."),!0},commit:b=>(Fb(b.model,{inputType:"insertLineBreak"})&&(b.host&&b.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),Hb(b.model,{inputType:"insertLineBreak"})),!0)});ed({copyToClipboard:b=>(b.focus(),b.model.selectionIsCollapsed&&b.select(),document.execCommand("copy"),!1),cutToClipboard:b=>(b.focus(),document.execCommand("cut"),!0),pasteFromClipboard:b=>(b.focus(),document.execCommand("paste"),!0)},{target:"mathfield",category:"clipboard"});ed({applyStyle:function(b,
f){b.flushInlineShortcutBuffer();const q=Kf(b,f),{model:D}=b;return D.selectionIsCollapsed?(b.style.fontSeries&&q.fontSeries===b.style.fontSeries&&(q.fontSeries="auto"),q.fontShape&&q.fontShape===b.style.fontShape&&(q.fontShape="auto"),q.color&&q.color===b.style.color&&(q.color="none"),q.backgroundColor&&q.backgroundColor===b.style.backgroundColor&&(q.backgroundColor="none"),q.fontSize&&q.fontSize===b.style.fontSize&&(q.fontSize="auto"),b.style={...b.style,...q}):b.model.deferNotifications({content:!0,
type:"insertText"},()=>{D.selection.ranges.forEach(J=>wd(D,J,q,{operation:"toggle"}));b.snapshot()}),!0}},{target:"mathfield"});let yh=null,wi=0;new class extends Ce{constructor(){super("text")}onPaste(b,f){if(!f.clipboardData)return!1;const q=f.clipboardData.getData("text/plain");return!(!q||!Fb(b.model,{inputType:"insertFromPaste",data:q})||(b.snapshot(),this.insert(b.model,q)&&(Hb(b.model,{inputType:"insertFromPaste"}),bc(b)),f.preventDefault(),f.stopPropagation(),0))}insert(b,f,q={}){if(!Fb(b,
{data:f,inputType:"insertText"}))return!1;q.insertionMode||(q.insertionMode="replaceSelection");q.selectionMode||(q.selectionMode="placeholder");q.format||(q.format="auto");const {suppressChangeNotifications:D}=b;q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);const J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;"replaceSelection"!==q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===
q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(dc(b.selection));var K=(W=f,ca=b.mathfield,cb(W=(W=(W=(W=(W=(W=(W=(W=(W=(W=(W=W.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\\x26")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/\xa3/g,
"\\textsterling "),ca,{parseMode:"text"})),W,ca;if(Wc(K,q.style),!K)return!1;W=b.at(b.position);K=W.parent.addChildrenAfter(K,W);return b.suppressChangeNotifications=J,"before"===q.selectionMode||("item"===q.selectionMode?b.setSelection(b.anchor,b.offsetOf(K)):K&&(b.position=b.offsetOf(K))),Hb(b,{data:f,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};class zk{constructor(b){var f,q,D;this.targetOrigin=null!==(q=null!==(f=b.targetOrigin)&&void 0!==f?f:globalThis.origin)&&void 0!==q?q:
"*";this.originValidator=null!==(D=b.originValidator)&&void 0!==D?D:"same-origin";this._mathfield=b.mathfield}get visible(){var b,f;return null!==(f=null===(b=Ze().sharedVirtualKeyboard)||void 0===b?void 0:b.visible)&&void 0!==f&&f}set visible(b){Ze().sharedVirtualKeyboard&&(Ze().sharedVirtualKeyboard.visible=b)}setOptions(b){this.sendMessage("setOptions",{options:JSON.stringify(Df(b))})}create(){}dispose(){this.disable()}enable(){this.enabled||(this.enabled=!0,globalThis.addEventListener("message",
this))}disable(){this.enabled&&(globalThis.removeEventListener("message",this),this.enabled=!1)}executeCommand(b){var f,q,D;return"virtual-keyboard"===cd(b)?(this._mathfield&&(this.setOptions(Df(this._mathfield.getOptions())),("showVirtualKeyboard"===b||"toggleVirtualKeyboard"===b&&!1===this.visible)&&(null===(q=(f=this._mathfield).focus)||void 0===q||q.call(f))),this.sendMessage("executeCommand",{command:b}),!1):null===(D=this._mathfield)||void 0===D?void 0:D.executeCommand(b)}focusMathfield(){}blurMathfield(){}stateChanged(){}handleEvent(b){var f,
q,D,J;if("message"===b.type&&b.data&&"mathlive#remote-virtual-keyboard-message"===b.data.type){if(!kf(b.origin,this.originValidator))throw Error(`Message from unknown origin (${b.origin}) cannot be handled`);const {action:K}=b.data;"executeCommand"===K?("virtual-keyboard"!==cd(b.data.command)||window!==globalThis.parent)&&this.executeCommand(b.data.command):"updateState"===K?(this.visible=b.data.state.visible,this.height=b.data.state.height):"focus"===K?null===(q=null===(f=this._mathfield)||void 0===
f?void 0:f.focus)||void 0===q||q.call(f):"blur"===K&&(null===(J=null===(D=this._mathfield)||void 0===D?void 0:D.blur)||void 0===J||J.call(D))}}sendMessage(b,f={}){return!!globalThis.parent&&(globalThis.parent.postMessage({type:"mathlive#remote-virtual-keyboard-message",action:b,...f},this.targetOrigin),!0)}}class Qi extends Vj{constructor(b){const f={...Qi.defaultOptions,...Df(b)};(null==b?0:b.createHTML)&&(f.createHTML=b.createHTML);(null==b?0:b.virtualKeyboardContainer)&&(f.virtualKeyboardContainer=
b.virtualKeyboardContainer);super(f);this.listeners=new Set;globalThis.addEventListener("message",this);document.body.addEventListener("focusin",q=>{var D;q=q.target;(null==q?0:q.isConnected)&&"math-field"===(null===(D=q.tagName)||void 0===D?void 0:D.toLowerCase())&&"onfocus"===q.virtualKeyboardMode&&"hidden"===q.virtualKeyboardState&&(q.virtualKeyboardState="visible")});document.addEventListener("focusout",q=>{var D;q=q.target;(null==q?0:q.isConnected)&&"math-field"===(null===(D=q.tagName)||void 0===
D?void 0:D.toLowerCase())&&setTimeout(()=>{var J,K;"math-field"!==(null===(K=null===(J=document.activeElement)||void 0===J?void 0:J.tagName)||void 0===K?void 0:K.toLowerCase())&&(J=document.querySelector("math-field"))&&(J.virtualKeyboardState="hidden")},300)})}static get defaultOptions(){var b,f;return{createHTML:q=>q,fontsDirectory:"./fonts",soundsDirectory:"./sounds",targetOrigin:globalThis.origin,originValidator:"same-origin",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},
customVirtualKeyboards:{},virtualKeyboardTheme:/macos|ios/.test(l())?"apple":"material",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",computeEngine:null,virtualKeyboardContainer:null!==(f=null===(b=globalThis.document)||void 0===b?void 0:b.body)&&void 0!==f?f:null}}addEventListener(b,f,q){if("virtual-keyboard-toggle"!==b)throw new TypeError("Unexpected event type");this.listeners.has(f)||this.listeners.add(f)}dispatchEvent(b){if("virtual-keyboard-toggle"!==
b.type)throw new TypeError("Unexpected event type");return 0!==this.listeners.size&&(this.listeners.forEach(f=>{"function"==typeof f?f(b):null==f||f.handleEvent(b)}),!0)}removeEventListener(b,f,q){if("virtual-keyboard-toggle"!==b)throw new TypeError("Unexpected event type");this.listeners.delete(f)}handleEvent(b){if("message"===b.type&&b.data&&"mathlive#remote-virtual-keyboard-message"===b.data.type){if(!kf(b.origin,this.options.originValidator))throw Error(`Can not handle message from unknown origin (${b.origin}).`);
var {action:f}=b.data;"executeCommand"===f?({command:f}=b.data,(this.sourceFrame=b.source,"virtual-keyboard"===cd(f)||window!==window.parent)&&this.executeCommand(f)):"setOptions"===f&&JSON.stringify(Df(this.options))!==b.data.options&&(b=Df(JSON.parse(b.data.options)),b.createHTML=this.options.createHTML,b.virtualKeyboardContainer=this.options.virtualKeyboardContainer,this.setOptions(b))}}stateChanged(){var b,f;this.dispatchEvent(new Event("virtual-keyboard-toggle"));this.sendMessage("stateChanged",
{state:{visible:this.visible,height:null!==(f=null===(b=this.element)||void 0===b?void 0:b.offsetHeight)&&void 0!==f?f:0}})}executeCommand(b){return"virtual-keyboard"===cd(b)?super.executeCommand(b):(this.sendMessage("executeCommand",{command:b}),!1)}focus(){this.sendMessage("focus")}blur(){this.sendMessage("blur")}canUndo(){return this.canUndoState}canRedo(){return this.canRedoState}dispose(){window.removeEventListener("message",this)}sendMessage(b,f={}){var q;null===(q=this.sourceFrame)||void 0===
q||q.postMessage({type:"mathlive#remote-virtual-keyboard-message",action:b,...f},this.options.targetOrigin)}}let ni,wj;class Wj{constructor(b,f){var q,D,J;this.focusBlurInProgress=!1;this.stylesheets=[];this.audioBuffers={};this.options=oe({...pb(),registers:Ma(this)},f.readOnly?{...f,virtualKeyboardMode:"off"}:{plonkSound:"plonk.wav",keypressSound:{spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},...f});"auto"===this.options.virtualKeyboardMode&&
(this.options.virtualKeyboardMode=c()?"onfocus":"off");void 0!==this.options.computeEngine&&(this._computeEngine=f.computeEngine);f.eventSink&&(this.host=f.eventSink);this.placeholders=new Map;this.element=b;b.mathfield=this;(f=null!==(q=f.value)&&void 0!==q?q:this.element.textContent)&&(f=f.trim());null!==this.options.fontsDirectory&&cc(this.options.fontsDirectory);ni||(ni=Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36));
this.stylesheets.push(Ie(b,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
ni));wj||(wj=Zd('@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle\x3espan{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret\x3e.ML__close,.ML__contains-caret\x3e.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__tooltip-container{position:relative;transform:scale(0)}.ML__tooltip-container .ML__tooltip-content{background:#616161;border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:inline-table;max-width:400px;opacity:0;padding:12px;position:fixed;transition:opacity .15s cubic-bezier(.4,0,1,1);visibility:hidden;width:max-content;z-index:2}.ML__tooltip-container .ML__tooltip-content .ML__text{white-space:normal}.ML__tooltip-container .ML__tooltip-content .ML__base{display:contents}.ML__tooltip-container:hover .ML__tooltip-content{font-size:.75em;opacity:1;transform:scale(1) translateY(3em);visibility:visible}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement\x3dtop]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}').toString(36));
this.stylesheets.push(Ie(b,'@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle\x3espan{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret\x3e.ML__close,.ML__contains-caret\x3e.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__tooltip-container{position:relative;transform:scale(0)}.ML__tooltip-container .ML__tooltip-content{background:#616161;border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:inline-table;max-width:400px;opacity:0;padding:12px;position:fixed;transition:opacity .15s cubic-bezier(.4,0,1,1);visibility:hidden;width:max-content;z-index:2}.ML__tooltip-container .ML__tooltip-content .ML__text{white-space:normal}.ML__tooltip-container .ML__tooltip-content .ML__base{display:contents}.ML__tooltip-container:hover .ML__tooltip-content{font-size:.75em;opacity:1;transform:scale(1) translateY(3em);visibility:visible}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement\x3dtop]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}',
wj));q="\x3cspan class\x3dML__textarea\x3e";if(c()?q+="\x3cspan class\x3dML__textarea__textarea tabindex\x3d-1 role\x3dtextbox\x3e\x3c/span\x3e":q+=`<textarea class=ML__textarea__textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none aria-hidden="true" tabindex="${null!==(D=b.tabIndex)&&void 0!==D?D:0}"></textarea>`,q+="\x3c/span\x3e",q+='\x3cspan part\x3d"container" class\x3d"ML__container"\x3e\x3cspan part\x3d"content" class\x3d"ML__content"\x3e\x3c/span\x3e',
q+=`<div part='virtual-keyboard-toggle' class="ML__virtual-keyboard-toggle" role="button" data-ML__tooltip="${p("tooltip.toggle virtual keyboard")}">`,q+=null!==(J=this.options.virtualKeyboardToggleGlyph)&&void 0!==J?J:'\x3cspan style\x3d"width: 21px; margin-top: 4px;"\x3e\x3csvg style\x3d"width: 21px;" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 576 512"\x3e\x3cpath d\x3d"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/\x3e\x3c/svg\x3e\x3c/span\x3e',
q+="\x3c/div\x3e",q+="\x3cdiv class\x3d'ML__placeholdercontainer'\x3e\x3c/div\x3e",q+="\x3c/span\x3e",q+='\x3cdiv class\x3d"ML__sr-only"\x3e\x3cspan aria-role\x3d"status" aria-live\x3d"assertive" aria-atomic\x3d"true"\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e',this.element.innerHTML=this.options.createHTML(q),this.element.children)b=0,D=this.element.children[b++].firstElementChild,this.field=this.element.children[b].children[0],b++,this.virtualKeyboardToggle=this.element.querySelector(".ML__virtual-keyboard-toggle"),
this.ariaLiveText=this.element.children[b].children[0],this.accessibleNode=this.element.children[b++].children[1],this.popoverVisible=this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.mode=Ob(this.options),this.smartModeSuppressed=!1,this.style={},this.options.readOnly||"manual"!==this.options.virtualKeyboardMode?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),
this.options.readOnly?this.element.classList.add("ML__isReadOnly"):this.element.classList.remove("ML__isReadOnly"),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.element.querySelector(".ML__content").addEventListener("click",K=>K.stopImmediatePropagation(),{capture:!1}),this.field.addEventListener("wheel",this,{passive:!1}),Yd(this.virtualKeyboardToggle,K=>this.executeCommand(K),{default:"toggleVirtualKeyboard",
alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.blurred=!0,Dd(this.element,"focus",this),Dd(this.element,"blur",this),this.keyboardDelegate=function(K,W,ca){function fa(Xb){clearTimeout(ra);ra=setTimeout(()=>{clearTimeout(ra);Xb()})}function xa(){if(K.selectionStart===K.selectionEnd){var Xb=K.value;K.value="";0<Xb.length&&ca.typedText(Xb)}}let ra,Na=null,Ua=null,db=!1,vb=!1,Qb=!1;return K.addEventListener("keydown",Xb=>{db||"Process"===Xb.key||"CapsLock"===Xb.code||/(Control|Meta|Alt|Shift)(Left|Right)/.test(Xb.code)?
Na=null:(Na=Xb,Ua=null,ca.keystroke(dg(Xb),Xb)?"textarea"!==K.tagName.toLowerCase()&&(1===Xb.key.length&&ca.typedText(Xb.key),Xb.preventDefault()):(Na=null,K.value=""))},!0),K.addEventListener("keypress",Xb=>{db||(Na&&Ua&&ca.keystroke(dg(Na),Na),Ua=Xb,fa(xa))},!0),K.addEventListener("keyup",()=>{db||Na&&!Ua&&xa()},!0),K.addEventListener("paste",Xb=>{K.focus();K.value="";ca.paste(Xb)||Xb.preventDefault();Xb.stopImmediatePropagation()},!0),K.addEventListener("cut",Xb=>ca.cut(Xb),!0),K.addEventListener("copy",
Xb=>ca.copy(Xb),!0),K.addEventListener("blur",Xb=>{var sc,qc,pd;if((null===(qc=null===(sc=Xb.relatedTarget)||void 0===sc?void 0:sc._mathfield)||void 0===qc?void 0:qc.element)===W)return K.focus(),Xb.preventDefault(),void Xb.stopPropagation();sc=null===(pd=xh.scrim)||void 0===pd?void 0:pd.state;return"open"===sc||"opening"===sc||Xb.relatedTarget===Xb.target.getRootNode().host?(Xb.preventDefault(),void Xb.stopPropagation()):void(Qb||vb||(Qb=!0,Na=null,Ua=null,ca.blur&&ca.blur(),Qb=!1,Xb.stopPropagation()))},
!0),K.addEventListener("focus",Xb=>{Qb||vb||(vb=!0,ca.focus&&ca.focus(),Ug()===K&&"function"==typeof K.select&&K.select(),vb=!1,Xb.stopPropagation())},!0),K.addEventListener("compositionstart",Xb=>{db=!0;K.value="";ca.compositionStart&&ca.compositionStart(Xb.data)},!0),K.addEventListener("compositionupdate",Xb=>{db&&ca.compositionUpdate&&ca.compositionUpdate(Xb.data)},!0),K.addEventListener("compositionend",Xb=>{K.value="";db&&(db=!1,ca.compositionEnd&&ca.compositionEnd(Xb.data))},!0),K.addEventListener("beforeinput",
Xb=>{Xb.stopImmediatePropagation()}),K.addEventListener("input",Xb=>{if(!db&&"insertCompositionText"!==Xb.inputType){if("insertFromPaste"===Xb.inputType)return Xb.preventDefault(),void Xb.stopPropagation();fa(xa);Xb.preventDefault();Xb.stopPropagation()}}),{cancelComposition:()=>{const Xb=ca.blur,sc=ca.focus;ca.blur=null;ca.focus=null;K.blur();K.focus();ca.blur=Xb;ca.focus=sc},blur:()=>{"function"==typeof K.blur&&K.blur()},focus:()=>{"function"==typeof K.focus&&K.focus()},hasFocus:()=>Ug()===K,setValue:Xb=>
{Xb?(K.value=Xb,Ug()===K&&"function"==typeof K.select&&K.select()):(K.value="",K.setAttribute("aria-label",""))},setAriaLabel:Xb=>{K.setAttribute("aria-label","after: "+Xb)},moveTo:(Xb,sc)=>{K.style.top=`${sc}px`;K.style.left=`${Xb}px`}}}(D,this.element,{typedText:K=>jh(this,K),cut:K=>{this.options.readOnly?this.model.announce("plonk"):Fb(this.model,{inputType:"deleteByCut"})&&(this.snapshot(),Ce.onCopy(this,K),setTimeout(()=>{Wb(this.model,dc(this.model.selection),"deleteByCut");bc(this)},0))},copy:K=>
Ce.onCopy(this,K),paste:K=>{let W=!0;return this.options.readOnly&&(W=!1),W&&(W=Ce.onPaste(this.model.at(this.model.position).mode,this,K)),W||this.model.announce("plonk"),W},keystroke:(K,W)=>Uh(this,K,W),focus:()=>this.onFocus(),blur:()=>this.onBlur(),compositionStart:K=>this.onCompositionStart(K),compositionUpdate:K=>this.onCompositionUpdate(K),compositionEnd:K=>this.onCompositionEnd(K)}),m()&&"PointerEvent"in window?Dd(this.field,"pointerdown",this):Dd(this.field,"touchstart:active mousedown",
this),Dd(window,"resize",this),window.addEventListener("blur",()=>{De(this)&&this.hasFocus()&&window.addEventListener("focus",K=>{K.target===window&&De(this)&&this.focus()},{once:!0})},{capture:!0}),this.model=new Nj({mode:Ob(this.options),macros:this.options.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onSelectionDidChange:K=>this._onSelectionDidChange()},this),this.undoManager=new Hk(this.model),f&&Ce.insert("math",this.model,f,{insertionMode:"replaceAll",selectionMode:"after",
format:"latex",suppressChangeNotifications:!0}),this.undoManager.startRecording(),this.undoManager.snapshot(),this.model.setListeners({onSelectionDidChange:K=>this._onSelectionDidChange()}),bc(this),m()&&document.fonts.ready.then(()=>$d(this))}get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}get colorMap(){return b=>{var f;let q;return"function"==typeof(null===(f=this.options)||void 0===f?void 0:f.colorMap)&&(q=this.options.colorMap(b)),q||(q=
v(b)),q}}get backgroundColorMap(){return b=>{var f;let q;return"function"==typeof(null===(f=this.options)||void 0===f?void 0:f.backgroundColorMap)&&(q=this.options.backgroundColorMap(b)),q||"function"!=typeof this.options.colorMap||(q=this.options.colorMap(b)),q||(q=w(b)),q}}get fractionNavigationOrder(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.fractionNavigationOrder)&&void 0!==f?f:"numerator-denominator"}get placeholderSymbol(){var b,f;return null!==(f=null===(b=this.options)||
void 0===b?void 0:b.placeholderSymbol)&&void 0!==f?f:"▢"}get smartFence(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.smartFence)&&void 0!==f&&f}get letterShapeStyle(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.letterShapeStyle)&&void 0!==f?f:"tex"}get registers(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.registers)&&void 0!==f?f:{}}getDefinition(b,f="math"){return lc(b,f)}getMacro(b){return Tb(b,this.options.macros)}get virtualKeyboard(){if(!this.options.readOnly)return this._virtualKeyboard||
(this.options.useSharedVirtualKeyboard||Ze().sharedVirtualKeyboard?this._virtualKeyboard=new zk({targetOrigin:this.options.sharedVirtualKeyboardTargetOrigin,originValidator:this.options.originValidator,mathfield:this}):this._virtualKeyboard=new Vj(this.options,this)),this._virtualKeyboard}get computeEngine(){var b,f;if(void 0===this._computeEngine){const q=null===(b=globalThis[Symbol.for("io.cortexjs.compute-engine")])||void 0===b?void 0:b.ComputeEngine;q&&(this._computeEngine=new q);this._computeEngine&&
","===this.options.decimalSeparator&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return null!==(f=this._computeEngine)&&void 0!==f?f:null}get virtualKeyboardState(){var b;return(null===(b=this.virtualKeyboard)||void 0===b?0:b.visible)?"visible":"hidden"}set virtualKeyboardState(b){this.virtualKeyboard&&("hidden"===b?this.virtualKeyboard.executeCommand("hideVirtualKeyboard"):"visible"===b&&this.virtualKeyboard.executeCommand("showVirtualKeyboard"))}get keybindings(){var b,f;if(this._keybindings)return this._keybindings;
const [q,D]=function(J,K){const W=[],ca=[];for(const fa of J)try{const xa=Bb(fa,K);if(xa){const ra=W.filter(Na=>Na.key===xa.key&&Na.ifMode===xa.ifMode);if(0<ra.length)throw Error(`Ambiguous key binding ${fa.key} (${mb(fa.command)}) matches ${ra[0].key} (${mb(ra[0].command)}) with the ${K.displayName} keyboard layout`);W.push(xa)}}catch(xa){xa instanceof Error&&ca.push(xa.message)}return[W,ca]}(this.options.keybindings,null!==(b=Kg[0])&&void 0!==b?b:Zi);return 0<(null===(f=Kg[0])||void 0===f?void 0:
f.score)&&(this._keybindings=q,D.length),q}setOptions(b){var f,q;(this.options=oe(this.options,b),"computeEngine"in b&&(this._computeEngine=this.options.computeEngine),this._computeEngine&&"decimalSeparator"in b&&(this._computeEngine.latexOptions.decimalMarker=","===this.options.decimalSeparator?"{,}":"."),this.model.setListeners({onSelectionDidChange:D=>this._onSelectionDidChange()}),this.model.options.macros=this.options.macros,this._keybindings=void 0,("soundsDirectory"in b||"plonkSound"in b||
"keypressSound"in b||"spacebarKeypressSound"in b||"returnKeypressSound"in b||"deleteKeypressSound"in b)&&(this.audioBuffers={}),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.options.readOnly?(this.hasFocus()&&"visible"===this.virtualKeyboardState&&this.executeCommand("hideVirtualKeyboard"),this.onBlur(),this.element.classList.add("ML__isReadOnly")):this.element.classList.remove("ML__isReadOnly"),null===(f=this.virtualKeyboard)||
void 0===f||f.setOptions(this.options),this.options.readOnly||"manual"!==this.options.virtualKeyboardMode?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),"virtualKeyboardToggleGlyph"in b)&&(f=null===(q=this.element)||void 0===q?void 0:q.querySelector(".ML__virtual-keyboard-toggle"))&&(f.innerHTML=this.options.createHTML(this.options.virtualKeyboardToggleGlyph));q=wc.serialize(this.model.root,{expandMacro:!1,defaultMode:this.options.defaultMode});
("macros"in b||this.model.getValue()!==q)&&Ce.insert("math",this.model,q,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0});bc(this)}getOptions(b){return Ee(this.options,b)}getOption(b){return Ee(this.options,b)}handleEvent(b){if(De(this))switch(b.type){case "focus":this.onFocus();break;case "blur":this.onBlur();break;case "touchstart":case "mousedown":case "pointerdown":!function(f,q){function D(qc){m()&&("PointerEvent"in window?(Gc(vb,"pointermove",
J),Gc(vb,"pointerup pointercancel",D),qc instanceof PointerEvent&&vb.releasePointerCapture(qc.pointerId)):(Gc(vb,"touchmove",J),Gc(vb,"touchcancel touchend",D),Gc(window,"mousemove",J),Gc(window,"mouseup blur",D)),ca=!1,clearInterval(Qb),f.element.classList.remove("tracking"),qc&&qc.preventDefault())}function J(qc){if(!K.hasFocus())return void D(null);var pd=ib(qc)?qc.touches[0].clientX:qc.clientX;const id=ib(qc)?qc.touches[0].clientY:qc.clientY;var Vd=ib(qc)||"touch"===qc.pointerType?20:5;if(Date.now()<
db+500&&Math.abs(Na-pd)<Vd&&Math.abs(Ua-id)<Vd)return qc.preventDefault(),void qc.stopPropagation();Vd=vb.getBoundingClientRect();ra=pd>Vd.right;xa=pd<Vd.left;Vd=W;Ah(qc)?qc.isPrimary||(Vd=qf(K,qc.clientX,qc.clientY,{bias:0})):qc.touches&&2===qc.touches.length&&(Vd=qf(K,qc.touches[1].clientX,qc.touches[1].clientY,{bias:0}));pd=qf(K,pd,id,{bias:pd<=Na?pd===Na?0:-1:1});0<=Vd&&0<=pd&&(K.model.extendSelectionTo(Vd,pd),bc(f));qc.preventDefault();qc.stopPropagation()}f.atomBoundsCache=new Map;const K=f;
let W,ca=!1,fa="none";if(!(Ah(q)&&1<q.buttons)){var xa=!1,ra=!1,Na=ib(q)?q.touches[0].clientX:q.clientX,Ua=ib(q)?q.touches[0].clientY:q.clientY,db=Date.now(),vb=K.field,Qb=setInterval(()=>{xa?vb.scroll({top:0,left:vb.scrollLeft-16}):ra&&vb.scroll({top:0,left:vb.scrollLeft+16})},32);yh&&5>Math.abs(yh.x-Na)&&5>Math.abs(yh.y-Ua)&&Date.now()<yh.time+500?(wi+=1,yh.time=db):(yh={x:Na,y:Ua,time:db},wi=1);var Xb=vb.getBoundingClientRect();if(Na>=Xb.left&&Na<=Xb.right&&Ua>=Xb.top&&Ua<=Xb.bottom){if(f.hasFocus()||
(fa="all",f.focus({scrollIntoView:!1})),f.flushInlineShortcutBuffer(),f.smartModeSuppressed=!1,W=qf(f,Na,Ua,{bias:0}),0<=W){if(f.element.classList.add("tracking"),q.shiftKey){var sc=f.model.selectionIsCollapsed;f.model.extendSelectionTo(f.model.anchor,W);fa=Fc(f.model)||sc?"all":"selection"}else"placeholder"===f.model.at(W).type?(f.model.setSelection(W-1,W),fa="selection"):"placeholder"===(null===(sc=f.model.at(W).rightSibling)||void 0===sc?void 0:sc.type)?(f.model.setSelection(W,W+1),fa="selection"):
(f.model.position=W,fa=Fc(f.model)?"all":"selection");f.style={};3===q.detail||2<wi?(D(q),3!==q.detail&&3!==wi||(f.model.selection={ranges:[[0,f.model.lastOffset]]},fa="all")):ca||(ca=!0,m()&&"PointerEvent"in window?(Dd(vb,"pointermove",J),Dd(vb,"pointerup pointercancel",D),q instanceof PointerEvent&&vb.setPointerCapture(q.pointerId)):(Dd(window,"blur",D),ib(q)&&q.touches?(Dd(q.target,"touchmove",J),Dd(q.target,"touchcancel touchend",D)):(Dd(window,"mousemove",J),Dd(window,"mouseup",D))),2!==q.detail&&
2!==wi||(Bd(f.model),fa="all"))}}else yh=null;"none"!==fa&&(f.model.selectionIsCollapsed&&(fa="all"),bc(f));q.preventDefault()}}(this,b);break;case "resize":this.resizeTimer&&cancelAnimationFrame(this.resizeTimer);this.resizeTimer=requestAnimationFrame(()=>De(this)&&this.onResize());break;case "wheel":this.onWheel(b)}}dispose(){if(De(this)){var b=this.element;delete this.element;delete b.mathfield;b.innerHTML=this.model.getValue();Gc(b,"pointerdown",this);Gc(b,"touchstart:active mousedown",this);
Gc(b,"focus",this);Gc(b,"blur",this);Gc(window,"resize",this);window.removeEventListener("blur",this,{capture:!0});delete this.accessibleNode;delete this.ariaLiveText;delete this.field;delete this.fieldContent;this.virtualKeyboardToggle.remove();delete this.virtualKeyboardToggle;this._virtualKeyboard&&(this._virtualKeyboard.dispose(),delete this._virtualKeyboard);Me(this.popover);ii&&ii.release();vi&&vi.release();delete this.popover;Me(this.keystrokeCaption);Ni&&Ni.release();vj&&vj.release();delete this.keystrokeCaption;
this.stylesheets.forEach(f=>null==f?void 0:f.release())}}flushInlineShortcutBuffer(b){if(null!=b||(b={defer:!1}),!b.defer)return this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),void(this.inlineShortcutBufferFlushTimer=0);0<this.options.inlineShortcutTimeout&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(b){var f,q;return"virtual-keyboard"===
cd(b)?null!==(q=null===(f=this.virtualKeyboard)||void 0===f?void 0:f.executeCommand(b))&&void 0!==q&&q:function(D,J){var K,W,ca;if(!J)return!1;let fa,xa=[],ra=!1,Na=!1;u(J)?(fa=J[0],xa=J.slice(1)):fa=J;fa=fa.replace(/-\w/g,db=>db[1].toUpperCase());const Ua=null===(K=Sg[fa])||void 0===K?void 0:K.target;if("model"===Ua){if(D.options.readOnly&&/^(paste|cut|insert|delete|transpose|add)/.test(fa))return D.model.announce("plonk"),!1;/^(delete|transpose|add)/.test(fa)&&"deleteBackward"!==fa&&D.flushInlineShortcutBuffer();
/^(delete|transpose|add)/.test(fa)&&"latex"!==D.mode&&(D.popUndoStack(),D.snapshot());"latex"!==D.mode||/^(complete)/.test(fa)||pc(D);Sg[fa].fn(D.model,...xa);"latex"!==D.mode&&/^(delete|transpose|add)/.test(fa)&&D.snapshot();"latex"===D.mode&&ad(D);Na=!0}else if("virtual-keyboard"===Ua)Na=null!==(ca=null===(W=D.virtualKeyboard)||void 0===W?void 0:W.executeCommand(J))&&void 0!==ca&&ca;else{if(!Sg[fa])throw Error(`Unknown command "${fa}"`);/^(undo|redo)/.test(fa)&&D.flushInlineShortcutBuffer();Na=
Sg[fa].fn(D,...xa)}ra=!0;return"virtual-keyboard"!==Ua&&(D.model.selectionIsCollapsed&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(fa)||(D.flushInlineShortcutBuffer(),D.style={})),Na&&bc(D),ra}(this,b)}get errors(){return ta(this.model.getValue(),this)}getValue(b,f,q){return this.model.getValue(b,f,q)}setValue(b,f){var q;void 0===(f=null!=f?f:{mode:"math"}).insertionMode&&(f.insertionMode="replaceAll");void 0!==f.format&&"auto"!==f.format||(f.format="latex");
let D="math";void 0!==f.mode&&"auto"!==f.mode||(D=null!==(q=rc(this.model,this.model.position))&&void 0!==q?q:"math");Ce.insert(D,this.model,b,f)&&(this.undoManager.snapshot(),bc(this))}get expression(){const b=this.computeEngine;return b?b.box(b.parse(this.model.getValue())):null}loadSound(b){var f,q,D,J,K,W,ca;delete this.audioBuffers[b];let fa="";switch(b){case "keypress":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null===(f=this.options.keypressSound)||void 0===f?
void 0:f.default;break;case "spacebar":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null!==(D=null===(q=this.options.keypressSound)||void 0===q?void 0:q.spacebar)&&void 0!==D?D:null===(J=this.options.keypressSound)||void 0===J?void 0:J.default;break;case "delete":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null!==(W=null===(K=this.options.keypressSound)||void 0===K?void 0:K.delete)&&void 0!==W?W:null===(ca=this.options.keypressSound)||void 0===
ca?void 0:ca.default;break;case "plonk":fa=this.options.plonkSound}"string"==typeof fa&&(fa=fa.trim(),f=this.options.soundsDirectory,null!=f&&"null"!==f&&"none"!==fa&&"null"!==fa&&fetch(gc(f+"/"+fa)).then(xa=>xa.arrayBuffer()).then(xa=>this.audioContext.decodeAudioData(xa)).then(xa=>{this.audioBuffers[b]=xa}))}playSound(b){if(this.audioBuffers[b]||this.loadSound(b),this.audioBuffers[b]){var f=this.audioContext.createBufferSource();f.buffer=this.audioBuffers[b];b=this.audioContext.createGain();b.gain.value=
.5;f.connect(b).connect(this.audioContext.destination);f.start()}}scrollIntoView(){var b;if(this.element){null===(b=this.host)||void 0===b||b.scrollIntoView({block:"nearest",inline:"nearest"});this.dirty&&$d(this,{interactive:!0});b=this.field.getBoundingClientRect();var f=null;if(this.model.selectionIsCollapsed)f=Se(this.field);else{var q=wf(this);if(0<q.length){f=-1/0;var D=-1/0;for(var J of q)J.right>f&&(f=J.right),J.top<D&&(D=J.top);f={x:f+b.left-this.field.scrollLeft,y:D+b.top-this.field.scrollTop,
height:0}}}this.host&&f&&(J=this.host.getBoundingClientRect(),q=f.y,D=this.host.scrollTop,q<J.top?D=q-J.top+this.host.scrollTop:q>J.bottom&&(D=q-J.bottom+this.host.scrollTop+f.height),this.host.scroll({top:D,left:0}));f&&(f=f.x-window.scrollX,J=this.field.scrollLeft,f<b.left?J=f-b.left+this.field.scrollLeft-20:f>b.right&&(J=f-b.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:J}))}}insert(b,f){if("string"==typeof b&&0<b.length){if(this.flushInlineShortcutBuffer(),(f=
null!=f?f:{mode:"math"}).focus&&this.focus(),f.feedback&&(this.options.keypressVibration&&h()&&navigator.vibrate(3),this.playSound("keypress")),f.scrollIntoView&&this.scrollIntoView(),"\\\\"===b)Fa(this.model);else if("\x26"===b)$a(this.model);else{const q=this.style;Ce.insert(this.mode,this.model,b,{style:this.model.at(this.model.position).computedStyle,...f});f.resetStyle&&(this.style=q)}return this.undoManager.snapshot(),bc(this),!0}return!1}switchMode(b,f="",q=""){var D;if(this.mode!==b&&!this.options.readOnly&&
null!==(D=this.host)&&void 0!==D&&D.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){var J=this.mode,{model:K}=this;K.deferNotifications({content:!!q||!!f,selection:!0,type:"insertText"},()=>{var W=!1;if(this.flushInlineShortcutBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(b),f&&"latex"!==b){W=cb(f,this,{parseMode:b});K.collapseSelection("forward");var ca=K.at(K.position);K.position=K.offsetOf(ca.parent.addChildrenAfter(W,ca));W=!0}if(this.mode=
b,"latex"===b){ca=K.selectionIsCollapsed;Dc(this,"accept");var fa=K.at(K.position);if(ca)var xa="\\";else{fa=dc(K.selection);xa=this.model.getValue(fa,"latex");const ra=this.model.extractAtoms(fa);1===ra.length&&ra[0]instanceof of&&(xa=f,ca=!0);fa=K.at(fa[0])}xa=new Tg(xa,this);fa.parent.addChildAfter(xa,fa);ca?K.position=K.offsetOf(xa.lastChild):K.setSelection(K.offsetOf(xa.firstChild),K.offsetOf(xa.lastChild))}else $b(K).forEach(ra=>{ra.isError=!1});q&&(W=cb(q,this,{parseMode:J}),K.collapseSelection("forward"),
ca=K.at(K.position),K.position=K.offsetOf(ca.parent.addChildrenAfter(W,ca)),W=!0);return bc(this),W});this.mode=b}}hasFocus(){return m()&&this.keyboardDelegate.hasFocus()}focus(b){var f;this.keyboardDelegate.focus();this.model.announce("line");(null===(f=null==b?void 0:b.scrollIntoView)||void 0===f||f)&&this.scrollIntoView()}blur(){this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(b,f={}){var q,D=!1,J;Ec(f)?J=f:(J=f.range,D=null!==(q=f.suppressChangeNotifications)&&
void 0!==q&&q);const K=Kf(this,b);this.model.deferNotifications({content:!D,type:"insertText"},()=>{void 0===J?this.model.selection.ranges.forEach(W=>wd(this.model,W,K,{operation:"set"})):wd(this.model,J,K,{operation:"set"})});bc(this)}getCaretPoint(){const b=Se(this.field);return b?{x:b.x,y:b.y}:null}setCaretPoint(b,f){b=qf(this,b,f,{bias:0});if(0>b)return!1;f=this.model.position;return this.model.position=b,this.model.announce("move",f),bc(this),!0}getPlaceholderField(b){var f;return null===(f=
this.placeholders.get(b))||void 0===f?void 0:f.field}attachNestedMathfield(){let b=!1;const f=this.field.getBoundingClientRect();this.placeholders.forEach((q,D)=>{var J,K;if(D=this.field.querySelector(`[data-placeholder-id=${D}]`)){D=D.getBoundingClientRect();var W=D.left-f.left+(null!==(J=this.element.offsetLeft)&&void 0!==J?J:0);(!q.field.style.left||1<=Math.abs(W-parseFloat(q.field.style.left)))&&(b=!0,q.field.style.left=`${W}px`);J=D.top-f.top+(null!==(K=this.element.offsetTop)&&void 0!==K?K:
0);(!q.field.style.top||1<=Math.abs(J-parseFloat(q.field.style.top)))&&(b=!0,q.field.style.top=`${J}px`)}});b&&bc(this)}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){var b,f;this.undoManager.snapshot()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,
composed:!0,detail:{type:"snapshot"}})))}snapshotAndCoalesce(){var b,f;this.undoManager.snapshotAndCoalesce()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}undo(){var b,f;this.undoManager.undo()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),
this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var b,f;this.undoManager.redo()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}resetUndo(){var b;null===(b=this.undoManager)||void 0===b||
b.reset()}_onSelectionDidChange(){var b,f,q;this.keyboardDelegate.setValue(this.model.getValue(this.model.selection,"latex-expanded"));var D=this.model.getAtoms(this.model.selection);1===D.length&&"placeholder"===D[0].type&&(D=D[0],this.model.mathfield.placeholders.has(D.placeholderId)&&(null===(b=this.model.mathfield.placeholders.get(D.placeholderId))||void 0===b||b.field.focus()));b=this.model.at(this.model.position);D=null!==(f=b.mode)&&void 0!==f?f:Ob(this.options);this.mode!==D&&("latex"===this.mode?
(Dc(this,"accept",{mode:D}),this.model.position=this.model.offsetOf(b)):this.switchMode(D));null===(q=this.host)||void 0===q||q.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0}))}onFocus(){var b,f,q;!this.focusBlurInProgress&&this.blurred&&(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),null===(b=this.virtualKeyboard)||void 0===b||b.setOptions(this.options),null===(f=this.virtualKeyboard)||void 0===f||f.enable(),"onfocus"===this.options.virtualKeyboardMode&&
this.executeCommand("showVirtualKeyboard"),Pc(this),$d(this,{interactive:!0}),null===(q=this.host)||void 0===q||q.dispatchEvent(new Event("focus",{bubbles:!1,composed:!0})),this.valueOnFocus=this.model.getValue(),this.focusBlurInProgress=!1)}onBlur(){var b,f;this.focusBlurInProgress||this.blurred||(this.focusBlurInProgress=!0,this.blurred=!0,this.ariaLiveText.textContent="",Dc(this,"accept"),this.model.getValue()!==this.valueOnFocus&&this.executeCommand("commit"),/onfocus|manual/.test(this.options.virtualKeyboardMode)&&
!Ze().sharedVirtualKeyboard&&this.executeCommand("hideVirtualKeyboard"),null===(b=this.virtualKeyboard)||void 0===b||b.disable(),null===(f=this.host)||void 0===f||f.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),bc(this),this.focusBlurInProgress=!1)}onCompositionStart(b){this.model.deleteAtoms(dc(this.model.selection));requestAnimationFrame(()=>{$d(this);const f=Se(this.field);f&&this.keyboardDelegate.moveTo(f.x,f.y)})}onCompositionUpdate(b){var f=this.model;const q=f.at(f.position);if("composition"===
q.type)q.value=b;else{const {caret:D}=q;q.caret="";b=new Mh(b,f.mathfield,{mode:q.mode});b.caret=D;q.parent.addChildAfter(b,q);f.position+=1}!0;bc(this)}onCompositionEnd(b){var f=this.model;const q=f.at(f.position);"composition"===q.type&&(q.parent.removeChild(q),--f.position);!0;jh(this,b,{simulateKeystroke:!0})}onResize(){Pc(this)}onWheel(b){const f=5*b.deltaX;if(Number.isFinite(f)&&0!==f){var q=this.field;0>f&&0===q.scrollLeft||0<f&&q.offsetWidth+q.scrollLeft>=q.scrollWidth||(q.scrollBy({top:0,
left:f}),b.preventDefault(),b.stopPropagation())}}getHTMLElement(b){let f=b;for(;!f.id&&f.hasChildren;)f=b.children[0];if(f.id)return this.element.querySelector(`[data-atom-id="${f.id}"]`);throw new TypeError("Could not get an ID from atom");}}var sh,Xj,xi,Yj;const xj=m()?document.createElement("template"):null;xj&&(xj.innerHTML='\x3cstyle\x3e\n:host { display: block; position: relative; overflow: hidden auto;}\n:host([hidden]) { display: none; }\n:host([disabled]) { opacity:  .5; }\n:host(:focus), :host(:focus-within) {\n  outline: Highlight auto 1px;    /* For Firefox */\n  outline: -webkit-focus-ring-color auto 1px;\n}\n:host([readonly]), :host([read-only]) { outline: none; }\n\x3c/style\x3e\n\x3cdiv\x3e\x3c/div\x3e\x3cslot style\x3d"display:none"\x3e\x3c/slot\x3e');
const je=new WeakMap;class hg extends HTMLElement{static get optionsAttributes(){return{"default-mode":"string","fonts-directory":"string","sounds-directory":"string","horizontal-spacing-scale":"string","math-mode-space":"string","inline-shortcut-timeout":"string","keypress-vibration":"on/off","keypress-sound":"string","plonk-sound":"string","letter-shape-style":"string",locale:"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off",
"speech-engine":"string","speech-engine-rate":"string","speech-engine-voice":"string","text-to-speech-markup":"string","text-to-speech-rules":"string","virtual-keyboard-layout":"string","virtual-keyboard-mode":"string","virtual-keyboard-theme":"string","virtual-keyboards":"string","use-shared-virtual-keyboard":"boolean","shared-virtual-keyboard-target-origin":"string"}}static get observedAttributes(){return[...Object.keys(hg.optionsAttributes),"disabled","readonly","read-only"]}constructor(b){e();
super();this.attachShadow({mode:"open"});this.shadowRoot.append(xj.content.cloneNode(!0));this._slotValue=this.shadowRoot.querySelector("slot:not([name])").assignedNodes().map(f=>3===f.nodeType?f.textContent:"").join("").trim();b&&this.setOptions(b);this.shadowRoot.host.addEventListener("pointerdown",f=>this.onPointerDown(),!0);this.shadowRoot.host.addEventListener("focus",()=>{var f;return null===(f=this._mathfield)||void 0===f?void 0:f.focus()},!0);this.shadowRoot.host.addEventListener("blur",()=>
{var f;return null===(f=this._mathfield)||void 0===f?void 0:f.blur()},!0)}onPointerDown(){window.addEventListener("pointerup",b=>{b.target===this&&this.dispatchEvent(new MouseEvent("click",{altKey:b.altKey,button:b.button,buttons:b.buttons,clientX:b.clientX,clientY:b.clientY,ctrlKey:b.ctrlKey,metaKey:b.metaKey,movementX:b.movementX,movementY:b.movementY,relatedTarget:b.relatedTarget,screenX:b.screenX,screenY:b.screenY,shiftKey:b.shiftKey}))},{once:!0})}getPlaceholderField(b){var f;return null===(f=
this._mathfield)||void 0===f?void 0:f.getPlaceholderField(b)}addEventListener(b,f,q){return super.addEventListener(b,f,q)}removeEventListener(b,f,q){super.removeEventListener(b,f,q)}get mode(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.mode)&&void 0!==f?f:"math"}set mode(b){this._mathfield&&(this._mathfield.mode=b)}get computeEngine(){if(this._mathfield)return this._mathfield.computeEngine}set computeEngine(b){this._mathfield&&this._mathfield.setOptions({computeEngine:b})}get expression(){if(this._mathfield)return this._mathfield.expression}set expression(b){var f,
q;if(this._mathfield){var D=null!==(q=null===(f=this.computeEngine)||void 0===f?void 0:f.box(b).latex)&&void 0!==q?q:null;null!==D&&this._mathfield.setValue(D)}}get errors(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.errors)&&void 0!==f?f:[]}get placeholders(){if(!this._mathfield)return{};const b={};for(const [f,q]of this._mathfield.placeholders)b[f]=q.field;return b}getOptions(b){return this._mathfield?Ee(this._mathfield.options,b):je.has(this)?Ee(oe(pb(),je.get(this).options),
b):null}getOption(b){return this.getOptions([b])[b]}setOptions(b){if(this._mathfield)this._mathfield.setOptions(b),this._mathfield.placeholders.forEach(f=>{f.field.setOptions({...b,readOnly:!1})});else if(je.has(this)){const f={...je.get(this).options,...b};je.set(this,{...je.get(this),selection:{ranges:f.readOnly?[[0,0]]:[[0,-1]]},options:f})}else je.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:b});!function(f){const q=pb(),D=f.getOptions();Object.keys(hg.optionsAttributes).forEach(J=>
{const K=nf(J);"on/off"===hg.optionsAttributes[J]?q[K]!==D[K]?f.setAttribute(J,D[K]?"on":"off"):f.removeAttribute(J):q[K]!==D[K]&&("boolean"===hg.optionsAttributes[J]?D[K]?f.setAttribute(J,""):f.removeAttribute(J):"string"!=typeof D[K]&&"number"!=typeof D[K]||f.setAttribute(J,D[K].toString()))})}(this)}executeCommand(b){var f,q;return null!==(q=null===(f=this._mathfield)||void 0===f?void 0:f.executeCommand(b))&&void 0!==q&&q}getValue(b,f,q){var D,J;if(this._mathfield)return this._mathfield.model.getValue(b,
f,q);if(je.has(this)){let K,W,ca;if(tc(b)?([K,W]=b.ranges[0],ca=f):Ec(b)?([K,W]=b,ca=f):nc(b)&&nc(f)?(K=b,W=f,ca=q):(K=0,W=-1,ca=b),(void 0===ca||"latex"===ca)&&0===K&&-1===W)return null!==(J=null!==(D=je.get(this).value)&&void 0!==D?D:this.textContent)&&void 0!==J?J:""}return""}setValue(b,f){if(this._mathfield&&void 0!==b)return f||(f={suppressChangeNotifications:!0}),void this._mathfield.setValue(b,f);if(je.has(this))return f=je.get(this).options,void je.set(this,{value:b,selection:{ranges:f.readOnly?
[[0,0]]:[[0,-1]],direction:"forward"},options:f});f=Vg(this);je.set(this,{value:b,selection:{ranges:f.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:f})}hasFocus(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.hasFocus())&&void 0!==f&&f}get virtualKeyboardState(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.virtualKeyboardState)&&void 0!==f?f:"hidden"}set virtualKeyboardState(b){this._mathfield&&(this._mathfield.virtualKeyboardState=b)}focus(){super.focus()}blur(){var b;
null===(b=this._mathfield)||void 0===b||b.blur();super.blur()}select(){var b;null===(b=this._mathfield)||void 0===b||b.select()}insert(b,f){var q,D;return null!==(D=null===(q=this._mathfield)||void 0===q?void 0:q.insert(b,f))&&void 0!==D&&D}applyStyle(b,f){var q;return null===(q=this._mathfield)||void 0===q?void 0:q.applyStyle(b,f)}get caretPoint(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.getCaretPoint())&&void 0!==f?f:null}set caretPoint(b){var f;b&&(null===(f=this._mathfield)||
void 0===f||f.setCaretPoint(b.x,b.y))}setCaretPoint(b,f){var q,D;return null!==(D=null===(q=this._mathfield)||void 0===q?void 0:q.setCaretPoint(b,f))&&void 0!==D&&D}offsetFromPoint(b,f,q){return this._mathfield?qf(this._mathfield,b,f,q):-1}hitboxFromOffset(b){if(!this._mathfield)return null;b=this._mathfield.model.at(b);return b?(b=hf(this._mathfield,b))?new DOMRect(b.left,b.top,b.right-b.left,b.bottom-b.top):null:null}resetUndo(){var b;null===(b=this._mathfield)||void 0===b||b.resetUndo()}canUndo(){return!!this._mathfield&&
this._mathfield.canUndo()}canRedo(){return!!this._mathfield&&this._mathfield.canRedo()}connectedCallback(){var b,f,q;this.hasAttribute("role")||this.setAttribute("role","math");this.setAttribute("dir","ltr");this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field");this.setAttribute("contenteditable","true");this.setAttribute("aria-multiline","false");this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");const D=this.shadowRoot.querySelector("slot:not([name])");
try{this._style=D.assignedElements().filter(K=>"style"===K.tagName.toLowerCase()).map(K=>K.textContent).join("")}catch(K){}if(this._style){var J=document.createElement("style");J.textContent=this._style;this.shadowRoot.appendChild(J)}try{const K=D.assignedElements().filter(W=>"script"===W.tagName.toLowerCase()&&"application/json"===W.type).map(W=>W.textContent).join("");K&&this.setOptions(JSON.parse(K))}catch(K){}J="";if(J=this.hasAttribute("value")?null!==(b=this.getAttribute("value"))&&void 0!==
b?b:"":null!==(f=null==D?void 0:D.assignedNodes().map(K=>3===K.nodeType?K.textContent:"").join("").trim())&&void 0!==f?f:"",this._mathfield=new Wj(this.shadowRoot.querySelector(":host \x3e div"),{...(je.has(this)?je.get(this).options:Vg(this)),eventSink:this,value:J}),!je.has(this)){this.upgradeProperty("disabled");this.upgradeProperty("readonly");for(const K of Object.keys(hg.optionsAttributes))this.upgradeProperty(nf(K))}(null===(q=this._mathfield)||void 0===q?0:q.model)?(je.has(this)&&this._mathfield.model.deferNotifications({content:!1,
selection:!1},()=>{const K=je.get(this).value;void 0!==K&&this._mathfield.setValue(K);this._mathfield.model.selection=je.get(this).selection;je.delete(this)}),D.addEventListener("slotchange",K=>{K.target===D&&(K=D.assignedNodes().map(W=>3===W.nodeType?W.textContent:"").join("").trim(),K!==this._slotValue&&(this._mathfield?this._mathfield.setValue(K):this.value=K))}),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))):this._mathfield=null}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",
{cancelable:!1,bubbles:!0,composed:!0})),this._mathfield){var b=Ee(this._mathfield.options,Object.keys(hg.optionsAttributes).map(f=>nf(f)));je.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,options:b});this._mathfield.dispose();this._mathfield=null}}upgradeProperty(b){if(this.hasOwnProperty(b)){const f=this[b];delete this[b];"readonly"!==b&&"read-only"!==b||(b="readOnly");this[b]=f}}attributeChangedCallback(b,f,q){if(f!==q)switch(f=null!==q,b){case "disabled":this.disabled=
f;break;case "read-only":case "readonly":this.readOnly=f}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(b){(b=!!b)?(this.setAttribute("readonly",""),this.setAttribute("disabled",""),this.setAttribute("aria-readonly","true")):(this.removeAttribute("readonly"),this.removeAttribute("read-only"),this.removeAttribute("disabled"),this.removeAttribute("aria-readonly"));this.setOptions({readOnly:b})}get disabled(){return this.hasAttribute("disabled")}set disabled(b){(b=
!!b)?this.setAttribute("disabled",""):this.removeAttribute("disabled");this.setAttribute("aria-disabled",b?"true":"false");this.setOptions({readOnly:b})}get value(){return this.getValue()}set value(b){this.setValue(b)}get defaultMode(){return this.getOption("defaultMode")}set defaultMode(b){this.setOptions({defaultMode:b})}get fontsDirectory(){return this.getOption("fontsDirectory")}set fontsDirectory(b){this.setOptions({fontsDirectory:b})}get mathModeSpace(){return this.getOption("mathModeSpace")}set mathModeSpace(b){this.setOptions({mathModeSpace:b})}get inlineShortcutTimeout(){return this.getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(b){this.setOptions({inlineShortcutTimeout:b})}get keypressVibration(){return this.getOption("keypressVibration")}set keypressVibration(b){this.setOptions({keypressVibration:b})}get keypressSound(){return this.getOption("keypressSound")}set keypressSound(b){this.setOptions({keypressSound:b})}get plonkSound(){var b;
return null!==(b=this.getOption("plonkSound"))&&void 0!==b?b:null}set plonkSound(b){this.setOptions({plonkSound:b})}get letterShapeStyle(){return this.getOption("letterShapeStyle")}set letterShapeStyle(b){this.setOptions({letterShapeStyle:b})}get locale(){return this.getOption("locale")}set locale(b){this.setOptions({locale:b})}get readOnly(){return this.getOption("readOnly")}set readOnly(b){this.setOptions({readOnly:b})}get removeExtraneousParentheses(){return this.getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(b){this.setOptions({removeExtraneousParentheses:b})}get smartFence(){return this.getOption("smartFence")}set smartFence(b){this.setOptions({smartFence:b})}get smartMode(){return this.getOption("smartMode")}set smartMode(b){this.setOptions({smartMode:b})}get smartSuperscript(){return this.getOption("smartSuperscript")}set smartSuperscript(b){this.setOptions({smartSuperscript:b})}get speechEngine(){return this.getOption("speechEngine")}set speechEngine(b){this.setOptions({speechEngine:b})}get speechEngineRate(){return this.getOption("speechEngineRate")}set speechEngineRate(b){this.setOptions({speechEngineRate:b})}get speechEngineVoice(){return this.getOption("speechEngineVoice")}set speechEngineVoice(b){this.setOptions({speechEngineVoice:b})}get textToSpeechMarkup(){return this.getOption("textToSpeechMarkup")}set textToSpeechMarkup(b){this.setOptions({textToSpeechMarkup:b})}get textToSpeechRules(){return this.getOption("textToSpeechRules")}set textToSpeechRule(b){this.setOptions({textToSpeechRules:b})}get virtualKeyboardLayout(){return this.getOption("virtualKeyboardLayout")}set virtualKeyboardLayout(b){this.setOptions({virtualKeyboardLayout:b})}get virtualKeyboardMode(){return this.getOption("virtualKeyboardMode")}set virtualKeyboardMode(b){this.setOptions({virtualKeyboardMode:b})}get virtualKeyboardTheme(){return this.getOption("virtualKeyboardTheme")}set virtualKeyboardTheme(b){this.setOptions({virtualKeyboardTheme:b})}get virtualKeyboards(){return this.getOption("virtualKeyboards")}set virtualKeyboards(b){this.setOptions({virtualKeyboards:b})}get useSharedVirtualKeyboard(){return this.getOption("useSharedVirtualKeyboard")}set useSharedVirtualKeyboard(b){this.setOptions({useSharedVirtualKeyboard:b})}get sharedVirtualKeyboardTargetOrigin(){return this.getOption("sharedVirtualKeyboardTargetOrigin")}set sharedVirtualKeyboardTargetOrigin(b){this.setOptions({sharedVirtualKeyboardTargetOrigin:b})}get selection(){return this._mathfield?
this._mathfield.model.selection:je.has(this)?je.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(b){"number"==typeof b&&(b={ranges:[[b,b]]});this._mathfield?this._mathfield.model.selection=b:je.has(this)?je.set(this,{...je.get(this),selection:b}):je.set(this,{value:void 0,selection:b,options:Vg(this)})}get selectionIsCollapsed(){const b=this.selection;return 1===b.ranges.length&&b.ranges[0][0]===b.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:
je.has(this)?je.get(this).selection.ranges[0][0]:0}set position(b){this._mathfield&&(this._mathfield.model.position=b);je.has(this)?je.set(this,{...je.get(this),selection:{ranges:[[b,b]]}}):je.set(this,{value:void 0,selection:{ranges:[[b,b]]},options:Vg(this)})}getOffsetDepth(b){var f,q;return this._mathfield&&null!==(q=(null===(f=this._mathfield.model.at(b))||void 0===f?NaN:f.treeDepth)-2)&&void 0!==q?q:0}get lastOffset(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.model.lastOffset)&&
void 0!==f?f:-1}}!m()||null!==(sh=window.customElements)&&void 0!==sh&&sh.get("math-field")||(null!==(Xj=globalThis[Yj=Symbol.for("io.cortexjs.mathlive")])&&void 0!==Xj||(globalThis[Yj]={}),globalThis[Symbol.for("io.cortexjs.mathlive")].version="0.86.1",window.MathfieldElement=hg,null!==(xi=window.customElements)&&void 0!==xi&&xi.define("math-field",hg));const Ik={skipTags:"math-field noscript style textarea pre code annotation annotation-xml".split(" "),processScriptType:"math/tex",processMathJSONScriptType:"math/json",
ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",renderAccessibleContent:"mathml",asciiMath:{delimiters:{display:[["`","`"]]}},TeX:{processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};var zj=Mf,Aj=Tf,ck=Ve,fj=Rd,$f=rh,bi=ob;let ci;Mc("Trigonometry",["\\cos","\\sin","\\tan"],4E3);Mc("Trigonometry","\\arccos \\arcsin \\arctan \\arctg \\arcctg \\arcsec \\arccsc \\arsinh \\arcosh \\artanh \\arcsech \\arccsch \\arg \\ch \\cosec \\cosh \\cot \\cotg \\coth \\csc \\ctg \\cth \\lg \\lb \\sec \\sinh \\sh \\tanh \\tg \\th".split(" "),
2E3);Mc("Functions",["\\ln","\\log","\\exp","\\lim"],4E3);Mc("Functions","\\dim \\ker \\deg \\det \\mod \\min \\max".split(" "),3E3);Mc("Functions",["\\hom"],1200);Mc("Decoration",["\\rule"],200,"$0{2em}{1em}");Mc("Decoration",["\\color","\\textcolor"],200,"{$0{m0}A}{$0{m1}B}{$0{m2}C }{$0{m3}a}{$0{m4}b}{$0{m5}c}{$0{m6}8}");Mc("Decoration",["\\overline","\\underline"],3E3,"$0{\\placeholder{}}");Mc("Decoration",["\\enclose"],1200,'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground\x3d"#fbc0bd"]{x\x3d0}');
Mc("Decoration",["\\fcolorbox"],1200,'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}');Mc("Decoration",["\\colorbox"],1200,'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}');Mc("Decoration",["\\boxed","\\cancel","\\bcancel","\\xcancel"],1200,"$0{\\placeholder{}}");Mc("Decoration",["\\bbox"],1200,'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}');Mc("Styling",["\\mathbb"],4E3,"$0{Don Knuth}");Mc("Styling","\\textbf \\textup \\textit \\textrm \\textsf \\texttt \\textnormal \\textmd \\textsl \\textsc \\mathsf \\mathtt \\mathrm \\mathfrak \\mathcal \\mathscr \\mathbf \\mathmd \\mathit \\text \\mbox \\Bbb \\bold \\bm \\boldsymbol".split(" "),
3E3,"$0{Don Knuth}");Mc("Styling","\\frak \\tt \\bf \\it \\rmfamily \\sffamily \\ttfamily \\class \\cssId \\htmlData \\htmlStyle".split(" "),1200,"{$0 Don Knuth}");Mc("Styling",["\\bfseries","\\mdseries","\\upshape","\\slshape","\\scshape"],1200,"\\text{$0 Don Knuth}");Mc("Styling",["\\class","\\cssId"],1200,"$0{testIdentifier}{Don Knuth}");Mc("Styling",["\\fontseries"],1200,"\\text{$0{b}Don Knuth}");Mc("Styling",["\\fontfamily"],1200,"\\text{$0{cmtt}Don Knuth}");Mc("Styling",["\\fontshape"],1200,
"\\text{$0{sc}Don Knuth}");Mc("Styling",["\\selectfont"],1200,"\\text{$0}");Mc("Styling",["\\emph"],1200,"Don$0{Knuth}");Mc("Styling",["\\em"],1200,"Don{$0 Knuth}");Mc("Layout","\\mathop \\mathbin \\mathrel \\mathopen \\mathclose \\mathpunct \\mathord \\mathinner \\operatorname \\operatorname*".split(" "),1200,"x\x3d$0{arg}\x3d0");Mc("Layout",["\\middle"],1200,"\\left\\{x$0|x\x3e0\\right\\}");Mc("Layout",["\\overset","\\underset","\\stackrel","\\stackbin"],1200,"$0{arg}{x\x3d0}");Mc("Layout",["\\rlap",
"\\mathrlap"],1200,"$0{/}0");Mc("Layout",["\\llap","\\mathllap"],1200,"o$0{/}");Mc("Fractions",["\\frac"],4E3,"$0{\\placeholder{}}{\\placeholder{}}");Mc("Fractions","\\binom \\dfrac \\tfrac \\dbinom \\tbinom \\pdiff \\cfrac".split(" "),1200,"$0{\\placeholder{}}{\\placeholder{}}");Mc("Fractions",["\\over","\\atop","\\choose"],1200,'\\unicode{"2B1A} $0 \\unicode{"2B1A}');Mc("Fractions",["\\overwithdelims","\\atopwithdelims"],1200,'{\\unicode{"2B1A} $0{\\lbrace}{\\rbrace} \\unicode{"2B1A}}');Mc("Extensible Operators",
["\\sum","\\prod","\\bigcap","\\bigcup","\\int"],4E3);Mc("Extensible Operators",["\\bigoplus","\\smallint","\\iint","\\oint"],3E3);Mc("Extensible Operators","\\bigwedge \\bigvee \\coprod \\bigsqcup \\bigotimes \\bigodot \\biguplus \\intop \\sqcup \\sqcap \\uplus \\wr \\Cap \\Cup \\doublecap \\doublecup \\amalg \\iiint \\oiint \\oiiint \\intclockwise \\varointclockwise \\ointctrclockwise \\intctrclockwise".split(" "),1200);Mc("Accents",["\\vec"],4E3);Mc("Accents",["\\bar","\\ddot","\\acute","\\tilde",
"\\check"],3E3,"$0{\\placeholder{}}");Mc("Accents",["\\^","\\`","\\'"],1200,"$0{e}");Mc("Accents",["\\c"],1200,"$0{c}");Mc("Accents",["\\~"],1200,"$0{n}");Mc("Accents",["\\mathring","\\hat","\\dot","\\breve","\\grave"],1200,"$0{\\placeholder{}}");Mc("Extensible Symbols","\\overrightarrow \\overleftarrow \\Overrightarrow \\overleftharpoon \\overrightharpoon \\overleftrightarrow \\overbrace \\overlinesegment \\overgroup \\widehat \\widecheck \\widetilde".split(" "),3E3,"$0{ABC}");Mc("Extensible Symbols",
"\\underrightarrow \\underleftarrow \\underleftrightarrow \\underbrace \\underlinesegment \\undergroup \\utilde".split(" "),3E3,"$0{ABC}");Mc("Sizing","\\tiny \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" "),1200,"$0{x\x3d0}");Mc("Sizing",["\\big","\\Big","\\bigg","\\Bigg"],1200,"$0($0)");Mc("Sizing",["\\bigl","\\Bigl","\\biggl","\\Biggl"],1200,"$0(");Mc("Sizing",["\\bigr","\\Bigr","\\biggr","\\Biggr"],1200,"$0)");Mc("Sizing",["\\bigm","\\Bigm","\\biggm",
"\\Biggm"],1200,"$0|");Mc("Letterlike Symbols","\\nabla \\partial \\N \\R \\Q \\C \\Z \\exponentialE \\forall \\exists \\nexists".split(" "),4E3);Mc("Letterlike Symbols","\\doubleStruckCapitalP \\P \\ell \\hbar \\hslash \\imath \\jmath \\imaginaryI \\imaginaryJ \\differentialD \\rd \\capitalDifferentialD \\doubleStruckCapitalN \\doubleStruckCapitalR \\doubleStruckCapitalQ \\doubleStruckCapitalC \\doubleStruckCapitalZ \\rD \\differencedelta \\mid @ \\Re \\Im \\$ \\% \\And \\degree".split(" "),3E3);
Mc("Letterlike Symbols","\\top \\bot \\scriptCapitalE \\scriptCapitalH \\scriptCapitalL \\gothicCapitalC \\gothicCapitalH \\gothicCapitalI \\gothicCapitalR \\Bbbk \\Finv \\Game \\wp \\eth \\mho \\pounds \\yen \\euro".split(" "),1200);Mc("Crosses",["\\dagger","\\dag"],4E3);Mc("Crosses",["\\ddag","\\ddagger","\\maltese","\\textdagger","\\textdaggerdbl"],1200);Mc("Various","\\checkmark \\diagup \\diagdown \\angle \\measuredangle \\sphericalangle \\prime \\doubleprime \\backprime \\backdoubleprime \\sharp \\flat \\natural \\\x26 \\# \\clubsuit \\spadesuit \\diamondsuit \\heartsuit \\backslash \\infty / \\_ \\/ | '".split(" "),
1200);Mc("Various",["\\unicode"],1200,'$0{"2B1A}');Mc("Arrows",["\\longrightarrow","\\rightarrow","\\Longrightarrow","\\Rightarrow"],4E3);Mc("Arrows","\\longmapsto \\mapsto \\Longleftrightarrow \\rightleftarrows \\leftarrow \\curvearrowleft \\uparrow \\downarrow \\hookrightarrow \\rightharpoonup \\rightleftharpoons".split(" "),3E3);Mc("Arrows","\\Leftarrow \\longleftrightarrow \\longleftarrow \\Longleftarrow \\searrow \\nearrow \\swarrow \\nwarrow \\Uparrow \\Downarrow \\updownarrow \\Updownarrow \\hookleftarrow \\leftharpoonup \\leftharpoondown \\rightharpoondown \\leftrightarrows \\dashrightarrow \\dashleftarrow \\leftleftarrows \\Lleftarrow \\twoheadleftarrow \\leftarrowtail \\looparrowleft \\leftrightharpoons \\circlearrowleft \\Lsh \\upuparrows \\downharpoonleft \\multimap \\leftrightsquigarrow \\twoheadrightarrow \\rightarrowtail \\looparrowright \\curvearrowright \\circlearrowright \\Rsh \\downdownarrows \\upharpoonright \\downharpoonright \\rightsquigarrow \\leadsto \\Rrightarrow \\restriction".split(" "),
1200);Mc("Arrows",["\\upharpoonleft","\\rightrightarrows"],0);Mc("Negated Arrows","\\nrightarrow \\nRightarrow \\nleftrightarrow \\nLeftrightarrow \\nleftarrow \\nLeftarrow".split(" "),1200);Mc("Extensible Symbols","\\xrightarrow \\xleftarrow \\xRightarrow \\xLeftarrow \\xleftharpoonup \\xleftharpoondown \\xrightharpoonup \\xrightharpoondown \\xlongequal \\xtwoheadleftarrow \\xtwoheadrightarrow \\xleftrightarrow \\xLeftrightarrow \\xrightleftharpoons \\xleftrightharpoons \\xhookleftarrow \\xhookrightarrow \\xmapsto \\xtofrom \\xrightleftarrows \\xrightequilibrium \\xleftequilibrium".split(" "),
1200,"$0[below]{above}\x3d0");Mc("Negated Relations","\\nless \\nleqslant \\lneq \\lneqq \\nleqq \\unlhd \\unrhd \\lvertneqq \\lnsim \\lnapprox \\nprec \\npreceq \\precnsim \\precnapprox \\nsim \\nshortmid \\nmid \\nvdash \\nvDash \\ngtr \\ngeqslant \\ngeqq \\gneq \\gneqq \\gvertneqq \\gnsim \\nsucc \\succnsim \\ncong \\nshortparallel \\nparallel \\nVDash \\nVdash \\precneqq \\succneqq \\gnapprox \\succnapprox \\nsucceq".split(" "),1200);Mc("Hebrew",["\\aleph","\\beth","\\daleth","\\gimel"],1200);
Mc("Fences","\\lbrace \\rbrace \\vert \\Vert \\{ \\} ( ) [ ]".split(" "),4E3);Mc("Fences","\\langle \\rangle \\lfloor \\rfloor \\lceil \\rceil \\mvert \\| \\mVert".split(" "),3E3);Mc("Fences","\\lvert \\rvert \\lVert \\rVert \\lbrack \\rbrack \\ulcorner \\urcorner \\llcorner \\lrcorner \\lgroup \\rgroup \\lmoustache \\rmoustache".split(" "),1200);Mc("Relations","\x3d \\ne \\neq \x3c \x3e \\leqslant \\geqslant \\approx".split(" "),4E3);Mc("Relations","\\lt \\gt \\le \\ge \\leq \\geq \\gg \\cong \\equiv \\prec \\preceq \\succ \\perp \\parallel \\propto \\smile \\frown \\sim \\gtrsim".split(" "),
3E3);Mc("Relations","\\coloneq \\succeq \\approxeq \\thickapprox \\lessapprox \\gtrapprox \\precapprox \\succapprox \\thicksim \\succsim \\precsim \\backsim \\eqsim \\backsimeq \\simeq \\lesssim \\nleq \\ngeq \\smallsmile \\smallfrown \\bowtie \\asymp \\leqq \\eqslantless \\ll \\lll \\lessgtr \\lesseqgtr \\lesseqqgtr \\risingdotseq \\fallingdotseq \\preccurlyeq \\curlyeqprec \\vDash \\Vvdash \\bumpeq \\Bumpeq \\geqq \\eqslantgtr \\ggg \\gtrless \\gtreqless \\gtreqqless \\succcurlyeq \\curlyeqsucc \\Vdash \\shortmid \\shortparallel \\between \\pitchfork \\varpropto \\backepsilon \\llless \\gggtr \\lhd \\rhd \\Join \\doteq \\doteqdot \\Doteq \\eqcirc \\circeq \\lessdot \\gtrdot \\measeq \\eqdef \\questeq".split(" "),
1200);Mc("Logic",["\\leftrightarrow","\\Leftrightarrow","\\to"],4E3);Mc("Logic",["\\models","\\vdash"],3E3);Mc("Logic","\\therefore \\because \\implies \\gets \\dashv \\impliedby \\biconditional \\roundimplies".split(" "),1200);Mc("Operators",["+","-","*","\\cdot"],4E3);Mc("Operators",["\\sqrt"],4E3,"$0{\\placeholder{}}");Mc("Operators",["\\pm","\\mp","\\times","\\div","\\surd"],3E3);Mc("Operators","\\ltimes \\rtimes \\leftthreetimes \\rightthreetimes \\intercal \\dotplus \\centerdot \\doublebarwedge \\divideontimes \\divides".split(" "),
1200);Mc("Logic",["\\wedge","\\vee","\\neg"],4E3);Mc("Logic",["\\lnot"],3E3);Mc("Logic","\\land \\lor \\barwedge \\veebar \\nor \\curlywedge \\curlyvee".split(" "),1200);Mc("Greek","\\alpha \\beta \\gamma \\delta \\epsilon \\varepsilon \\zeta \\eta \\theta \\vartheta \\iota \\kappa \\varkappa \\lambda \\mu \\nu \\xi \\pi \\varpi \\rho \\varrho \\sigma \\varsigma \\tau \\phi \\varphi \\upsilon \\chi \\psi \\omega \\Gamma \\Delta \\Theta \\Lambda \\Xi \\Pi \\Sigma \\Upsilon \\Phi \\Psi \\Omega \\digamma \\omicron".split(" "),
3E3);Mc("Sets","\\emptyset \\varnothing \\cap \\cup \\in \\notin \\subset \\supset \\subseteq \\supseteq \\sqsubseteq".split(" "),4E3);Mc("Sets","\\setminus \\not \\ni \\sqsupseteq \\nsupseteqq \\supsetneq \\varsupsetneq \\supsetneqq \\varsupsetneqq".split(" "),3E3);Mc("Sets","\\smallsetminus \\complement \\owns \\subsetneq \\varsubsetneq \\subsetneqq \\varsubsetneqq \\nsubset \\nsupset \\nsubseteq \\nsupseteq \\nsubseteqq \\subseteqq \\Subset \\sqsubset \\supseteqq \\Supset \\sqsupset".split(" "),
1200);Mc("Spacing",["\\space","\\quad","\\qquad"],3E3,'\\unicode{"203A}$0\\unicode{"2039}');Mc("Spacing","\\! \\, \\: \\; \\enskip \\enspace".split(" "),1200,'\\unicode{"203A}$0\\unicode{"2039}');Mc("Spacing",["\\hspace","\\hspace*"],1200,'\\unicode{"203A}$0{1em}\\unicode{"2039}');Mc("Punctuation",'\\colon \\cdotp \\ldots \\cdots \\ddots \\vdots ? ! : " , . ;'.split(" "),3E3);Mc("Punctuation",["\\mathellipsis","\\ldotp","\\Colon"],1200);Mc("Boxes",["\\square","\\Box"],3E3);Mc("Boxes",["\\blacksquare",
"\\boxminus","\\boxplus","\\boxtimes","\\boxdot"],1200);Mc("Circles",["\\circ","\\bullet","\\circleddash","\\oplus","\\otimes"],3E3);Mc("Circles","\\bigcirc \\circledast \\ominus \\circledcirc \\oslash \\circledS \\circledR \\odot".split(" "),1200);Mc("Triangles",["\\triangle","\\triangleq"],3E3);Mc("Triangles","\\bigtriangleup \\vartriangle \\triangledown \\bigtriangledown \\triangleleft \\vartriangleleft \\trianglelefteq \\ntriangleleft \\ntrianglelefteq \\triangleright \\vartriangleright \\trianglerighteq \\ntriangleright \\ntrianglerighteq \\blacktriangle \\blacktriangledown \\blacktriangleleft \\blacktriangleright".split(" "),
1200);Mc("Shapes",["\\ast","\\star"],3E3);Mc("Shapes",["\\diamond","\\Diamond","\\lozenge","\\blacklozenge","\\bigstar"],1200);const di={latexToAsciiMath:function(b,f="math"){const q=ub(),D=new wc("root",q);return D.body=cb(b,q,{parseMode:f}),Ac(D)},asciiMathToLatex:function(b){return Fd(b,{format:"ascii-math"})[1]},FUNCTIONS:zj,MATH_SYMBOLS:Aj,TEXT_SYMBOLS:ck,ENVIRONMENTS:fj,DEFAULT_KEYBINDINGS:$f,getKeybindingMarkup:bi};A.MathfieldElement=hg;A.autoRenderMathInElement=qg;A.convertLatexToMarkup=kh;
A.convertLatexToMathMl=lh;A.convertLatexToSpeakableText=xg;A.debug=di;A.globalMathLive=Ze;A.makeSharedVirtualKeyboard=function(b){return Ze().sharedVirtualKeyboard||([...document.querySelectorAll("math-field")].some(f=>f.isConnected&&f._mathfield&&f._mathfield._virtualKeyboard),Ze().sharedVirtualKeyboard=new Qi(b)),Ze().sharedVirtualKeyboard};A.renderMathInDocument=function(b){e();Wg(document.body,b)};A.renderMathInElement=Wg;A.serializeMathJsonToLatex=Si;A.validateLatex=function(b){return ta(b,ub())};
A.version={mathlive:"0.86.1"};Object.defineProperty(A,"__esModule",{value:!0})};"object"==typeof g&&"undefined"!=typeof X?y(g):"function"==typeof define&&define.amd?define(["exports"],y):y((G="undefined"!=typeof globalThis?globalThis:G||self).MathLive={})};
'use strict';var Rsc=function(a,b){$APP.qp.call(this);this.Gf=a||1;this.jf=b||$APP.ia;this.Fh=(0,$APP.oa)(this.Zk,this);this.hi=Date.now()},U4=function(a,b,c,d,g,l){this.f=a;this.atom=b;this.params=c;this.R=d;this.N=g;this.P=l;this.O=2230716170;this.U=139264},V4=function(a){return a instanceof U4},W4=function(a){return V4(a)||$APP.wd(a)&&!(a instanceof $APP.q)},Ssc=function(a){return W4(a)?V4(a)?$APP.Fj.B(a,$APP.Dy,function(b){return function(){function c(g){var l=null;if(0<arguments.length){l=0;
for(var n=Array(arguments.length-0);l<n.length;)n[l]=arguments[l+0],++l;l=new $APP.Bc(n,0,null)}return d.call(this,l)}function d(g){var l=$APP.Je.A(b,g);return function(n){n=$APP.x.B(n,0,null);return l.j?l.j(n):l.call(null,n)}}c.G=0;c.K=function(g){g=$APP.r(g);return d(g)};c.C=d;return c}()}):function(b){b=$APP.x.B(b,0,null);return a.j?a.j(b):a.call(null,b)}:a},Vsc=function(a,b){var c=$APP.qe(b),d=$APP.C.A(c,$APP.Dy);b=$APP.C.A(c,$APP.dm);c=$APP.C.A(c,$APP.nv);return new $APP.H(null,2,5,$APP.I,[$APP.KR.M(function(){function g(n){var p=
null;if(0<arguments.length){p=0;for(var v=Array(arguments.length-0);p<v.length;)v[p]=arguments[p+0],++p;p=new $APP.Bc(v,0,null)}return l.call(this,p)}function l(n){var p=$APP.Je.A(d,n);return function(v){v=$APP.x.B(v,0,null);return p.j?p.j(v):p.call(null,v)}}g.G=0;g.K=function(n){n=$APP.r(n);return l(n)};g.C=l;return g}(),b,new $APP.H(null,1,5,$APP.I,[0],null),new $APP.f(null,1,[$APP.fq,$APP.qE],null)),$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,
mdc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.yRb,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.iy,null,1,null),new $APP.D(null,c,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,b,null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,rdc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,a,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,rdc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,mdc,null,1,null)])))),null,1,null)])))),null,1,null)]))))],null)},X4=function(a,b){var c=$APP.C.A(a,b);if(W4(c)){var d=$APP.Nj.J(),g=V4(c)?Vsc(d,c):new $APP.H(null,2,5,$APP.I,[$APP.$3.B(c,1,new $APP.f(null,1,[$APP.fq,$APP.qE],null)),d],null);c=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,
2,5,$APP.I,[d,$APP.Kn.A(b5,c)],null),$APP.rg.B(a,b,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},Y4=function(a,b){var c=$APP.C.A(a,b);if(W4(c)){var d=$APP.Nj.J();if(V4(c)){var g=$APP.qe(c);c=$APP.C.A(g,$APP.Dy);var l=$APP.C.A(g,$APP.dm);g=$APP.C.A(g,$APP.nv);c=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(c,l,new $APP.H(null,2,5,$APP.I,[0,0],null),new $APP.f(null,1,[$APP.fq,$APP.qE],null)),$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,
Cdc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.yRb,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.iy,null,1,null),new $APP.D(null,g,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,l,null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,Ddc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,d,null,1,null),new $APP.D(null,Ddc,null,1,null),$APP.y([new $APP.D(null,Cdc,null,1,null)])))),null,1,null)])))),null,1,null)]))))],null)}else c=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(c,!1,new $APP.H(null,2,5,$APP.I,[0,0],null),new $APP.f(null,1,[$APP.fq,$APP.qE],null)),d],null);l=c;c=$APP.x.B(l,0,null);l=$APP.x.B(l,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[d,$APP.Kn.A(b5,c)],null),$APP.rg.B(a,b,l)],null)}return new $APP.H(null,2,
5,$APP.I,[$APP.sf,a],null)},Z4=function(a,b){a=$APP.Lf.B($APP.sf,$APP.eh,a);return $APP.r(a)?new $APP.D(null,Mqc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null):b},$sc=function(a){return $APP.Id.B(function(b,c){var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);b=X4.A?X4.A(b,c):X4.call(null,b,c);c=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.Vd.A(d,c),b],null)},new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null),$APP.ng(a))},dtc=function(a){return $APP.Xj.la(a,
$APP.rg,Nqc,!0,Oqc,Pqc)},gtc=function(a){return dtc($4.j(new $APP.H(null,3,5,$APP.I,[Qqc,new $APP.H(null,1,5,$APP.I,[Rqc],null),a],null)))},a5=function(a){return htc(a,gtc)},htc=function(a,b){return dtc($4.A(a,b))},ktc=function(){var a=new Rsc;return function(b){b=$APP.qe(b);var c=$APP.C.B(b,$APP.BQ,1),d=$APP.C.B(b,Tsc,!0),g=$APP.C.A(b,Usc),l=Date.now();$APP.vs.useEffect(function(){return function(){return a.dispose()}},[]);$APP.vs.useEffect(function(){$APP.k(a.enabled)?$APP.k(d)||a.stop():$APP.k(d)&&
a.start()},[d]);$APP.vs.useEffect(function(){$APP.k(c)&&a.setInterval(c)},[c]);return $APP.vs.useEffect(function(){if($APP.k(g)){var n=$APP.op(a,"tick",function(){var p=(Date.now()-l)/1E3;return g.j?g.j(p):g.call(null,p)});return function(){return $APP.Pka(n)}}},[g])}},mtc=function(a){return new $APP.H(null,3,5,$APP.I,[c5,ktc,a],null)},otc=function(a,b,c){var d=$APP.qe(c);c=$APP.C.A(d,$APP.JR);d=$APP.C.A(d,Wsc);c=$APP.k(c)?c:1E-6;return new $APP.lab.Solver(function(g,l,n){return a.A?a.A(l,n):a.call(null,
l,n)},b,{absoluteTolerance:c,relativeTolerance:c,rawFunction:!0,maxSteps:$APP.k(d)?d:1E4})},ptc=function(a){return $APP.pt.j($APP.db(a)?a:$APP.ef(a))},qtc=function(a,b){b[0]=a[0];b[1]=a[1];return b[2]=a[2]},stc=function(a){var b=rtc,c=$APP.sg(a,b);a=$APP.Je.B($APP.Oi,a,b);return new $APP.H(null,2,5,$APP.I,[c,a],null)},ttc=function(a,b){$APP.vs.useEffect(function(){$APP.k(b)&&(b.j?b.j(a):b.call(null,a));if($APP.k(a))return function(){return $APP.k(b)?b.j?b.j(null):b.call(null,null):null}},[a])},xtc=
function(a,b){b=$APP.qe(b);var c=$APP.C.A(b,Xsc),d=$APP.C.A(b,Ysc);$APP.vs.useEffect(function(){if($APP.k(a)){var g=a.three.renderer;$APP.k(c)?g.setClearColor($APP.k(c.isColor)?c:new wtc.Color(c),$APP.k(d)?d:g.getClearAlpha()):$APP.k(d)&&g.setClearAlpha(d)}},[a,c,d])},ytc=function(a,b,c){return function(){$APP.k($APP.k(a)?c:a)&&(a.three.controls[b]=c)}},ztc=function(a,b){$APP.vs.useEffect(function(){if($APP.k($APP.k(a)?$APP.r(b):a)){for(var c=$APP.r(b),d=null,g=0,l=0;;)if(l<g){var n=d.aa(null,l),
p=$APP.x.B(n,0,null);n=$APP.x.B(n,1,null);a.three.on($APP.Ag(p),n);l+=1}else if(c=$APP.r(c))$APP.pd(c)?(g=$APP.lc(c),c=$APP.mc(c),d=g,g=$APP.Tc(g)):(g=$APP.u(c),d=$APP.x.B(g,0,null),g=$APP.x.B(g,1,null),a.three.on($APP.Ag(d),g),c=$APP.w(c),d=null,g=0),l=0;else break;return function(){for(var v=$APP.r(b),t=null,A=0,B=0;;)if(B<A){var G=t.aa(null,B),J=$APP.x.B(G,0,null);G=$APP.x.B(G,1,null);a.three.off($APP.Ag(J),G);B+=1}else if(v=$APP.r(v))$APP.pd(v)?(t=$APP.lc(v),v=$APP.mc(v),J=t,A=$APP.Tc(t),t=J):
(t=$APP.u(v),J=$APP.x.B(t,0,null),G=$APP.x.B(t,1,null),a.three.off($APP.Ag(J),G),v=$APP.w(v),t=null,A=0),B=0;else return null}}},[a,b])},Gtc=function(a,b){ttc(a,Zsc.j(b));xtc(a,atc.j(b));var c=d5.j(b),d=$APP.qe(c);c=$APP.C.A(d,btc);d=$APP.C.A(d,ctc);$APP.vs.useEffect(ytc(a,"maxDistance",c),[a,c]);$APP.vs.useEffect(ytc(a,"rotateSpeed",d),[a,d]);ztc(a,etc.j(b))},Htc=function(a,b,c){var d=$APP.Zl.A(a,b);return $APP.k(d)?$APP.am(a,b,c.j?c.j(d):c.call(null,d)):a},Ktc=function(a){switch(a instanceof $APP.E?
a.ga:null){case "orbit":return Itc.OrbitControls;case "trackball":return Jtc.TrackballControls;default:return a}},Otc=function(a){return Htc(Htc(a,new $APP.H(null,2,5,$APP.I,[d5,ftc],null),Ktc),new $APP.H(null,2,5,$APP.I,[e5,itc],null),function(b){if($APP.od(b)){var c=$APP.x.B(b,0,null),d=$APP.x.B(b,1,null);b=$APP.x.B(b,2,null);return new wtc.Vector3(c,d,b)}return b})},Ptc=function(a){return $APP.md($APP.u(a))?new $APP.H(null,2,5,$APP.I,[$APP.u(a),$APP.Fc(a)],null):new $APP.H(null,2,5,$APP.I,[$APP.F,
a],null)},Xtc=function(a){var b=$APP.qe(a),c=$APP.C.B(b,jtc,!0),d=$APP.C.A(b,$APP.TW);a=$APP.C.A(b,$APP.cT);b=$APP.C.A(b,$APP.Ii);return new $APP.H(null,3,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[Rtc,new $APP.f(null,3,[$APP.qF,1,h5,!1,$APP.Bk,function(){var g=$APP.k(c)?Stc:Ttc;return function(l,n){n=n.B?n.B(g,$APP.F,d):n.call(null,g,$APP.F,d);return l.j?l.j(n):l.call(null,n)}}()],null)],null),new $APP.H(null,2,5,$APP.I,[Utc,new $APP.f(null,4,[$APP.cT,$APP.k(a)?a:$APP.k(c)?18:12,ltc,1,ntc,2,$APP.Ii,
$APP.k(b)?b:new $APP.H(null,2,5,$APP.I,[0,20],null)],null)],null)],null)},iuc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,i5);a=$APP.C.B(b,utc,16);var d=$APP.C.B(b,j5,!0),g=$APP.C.B(b,vtc,!1),l=$APP.C.B(b,Atc,f5),n=$APP.C.A(b,k5),p=$APP.C.A(b,l5),v=$APP.C.A(b,$APP.Ii),t=$APP.C.B(b,n5,!0),A=$APP.C.B(b,q5,0),B=$APP.C.B(b,Btc,10),G=$APP.C.B(b,$APP.c4a,!1),J=$APP.C.B(b,r5,2),O=$APP.C.A(b,Ctc),Q=$APP.C.B(b,s5,0);b=$APP.C.B(b,Dtc,!0);var W=m5.j?m5.j(c):m5.call(null,c);c=$APP.k(v)?v:$APP.Uc.A(c,t5)?new $APP.H(null,
2,5,$APP.I,[20,0],null):new $APP.H(null,2,5,$APP.I,[0,-20],null);return new $APP.H(null,4,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[duc,new $APP.f(null,6,[Etc,B,Ftc,G,$APP.nq,d,$APP.qq,t,Ltc,g,i5,W],null)],null),new $APP.H(null,2,5,$APP.I,[huc,new $APP.f(null,1,[r5,J],null)],null),$APP.k(b)?new $APP.H(null,3,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[o5,new $APP.f(null,2,[h5,!0,$APP.Bk,function(Z){return l.j?l.j(Z):l.call(null,Z)}],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,7,[l5,p,
Ctc,O,$APP.cT,a,$APP.Ii,c,v5,Q,w5,n,x5,A],null)],null)],null):null],null)},luc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,i5);a=$APP.C.B(b,y5,5);var d=$APP.C.B(b,$APP.cT,16);b=$APP.TW.j(b);b=$APP.k(b)?b:"";if($APP.Uc.A(b,""))return null;c=m5.j?m5.j(c):m5.call(null,c);return new $APP.H(null,4,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,3,[A5,3,h5,!1,$APP.ly,new $APP.H(null,1,5,$APP.I,[$APP.rg.B(new $APP.H(null,3,5,$APP.I,[0,0,0],null),c-1,a)],null)],null)],null),new $APP.H(null,2,5,
$APP.I,[juc,new $APP.f(null,3,[h5,!1,Mtc,"bold",$APP.ly,new $APP.H(null,1,5,$APP.I,[b],null)],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,2,[$APP.cT,d,$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,40],null)],null)],null)],null)},ouc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,i5);a=$APP.C.B(b,j5,!1);var d=$APP.C.A(b,k5),g=$APP.C.B(b,l5,"#808080"),l=$APP.C.B(b,n5,!1),n=$APP.C.B(b,q5,0),p=$APP.C.B(b,r5,1),v=$APP.C.B(b,s5,0),t=$APP.C.B(b,C5,1),A=$APP.C.A(b,$APP.Cp);return new $APP.H(null,4,5,$APP.I,
[g5,new $APP.H(null,2,5,$APP.I,[muc,$APP.fg([l5,r5,$APP.nq,w5,C5,v5,$APP.qq,i5,x5],[g,p,a,d,t,v,l,m5.j?m5.j(c):m5.call(null,c),n])],null),function(){var B=Ntc.A(b,!0);return $APP.k(B)?(B=$APP.md(B)?B:$APP.F,new $APP.H(null,2,5,$APP.I,[iuc,$APP.rg.C(B,i5,c,$APP.y([l5,l5.A(B,g),k5,k5.A(B,d),s5,s5.A(B,v),q5,q5.A(B,n)]))],null)):null}(),function(){var B=$APP.TW.A(b,!0);if($APP.k(B)){var G=!0===B?new $APP.f(null,1,[$APP.TW,$APP.Ag(c)],null):$APP.md(B)?$APP.Fj.B(B,$APP.TW,function(J){return $APP.k(J)?J:
$APP.Ag(c)}):new $APP.f(null,1,[$APP.TW,B],null);return new $APP.H(null,2,5,$APP.I,[luc,function(){var J=$APP.rg.B(G,i5,c);return $APP.k(A)?$APP.rg.B(J,y5,y5.A(G,A)):J}()],null)}return null}()],null)},vuc=function(a){var b=$APP.qe(a);a=$APP.C.A(b,k5);var c=$APP.C.B(b,l5,"#808080"),d=$APP.C.A(b,Qtc),g=$APP.C.A(b,D5),l=$APP.C.B(b,q5,0),n=$APP.C.A(b,Btc),p=$APP.C.B(b,r5,.5),v=$APP.C.B(b,s5,0);b=$APP.C.B(b,C5,1);var t=$APP.od(n)?n:"number"===typeof n?new $APP.H(null,2,5,$APP.I,[n,n],null):new $APP.H(null,
2,5,$APP.I,[10,10],null);n=$APP.x.B(t,0,null);t=$APP.x.B(t,1,null);var A=$APP.od(d)?d:$APP.k(d)?new $APP.H(null,2,5,$APP.I,[!0,!0],null):new $APP.H(null,2,5,$APP.I,[!1,!1],null);d=$APP.x.B(A,0,null);A=$APP.x.B(A,1,null);return new $APP.H(null,2,5,$APP.I,[quc,$APP.fg([l5,D5,r5,Vtc,Wtc,Ytc,w5,Ztc,C5,v5,x5],[c,m5.j?m5.j(g):m5.call(null,g),p,t,d,n,a,A,b,v,l])],null)},wuc=function(a){a=$APP.od(a)?$APP.Bg(a,$APP.Uj.j(!0)):a;return $APP.Lf.B(new $APP.H(null,1,5,$APP.I,[g5],null),$APP.Vg.j(function(b){var c=
$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $APP.k(b)?new $APP.H(null,2,5,$APP.I,[vuc,$APP.rg.B($APP.md(b)?b:$APP.F,D5,c)],null):null}),a)},yuc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,j5),c=$APP.C.A(a,k5),d=$APP.C.B(a,l5,"#3498db"),g=$APP.C.A(a,n5),l=$APP.C.A(a,$tc),n=$APP.C.B(a,q5,0),p=$APP.C.B(a,r5,4),v=$APP.C.B(a,s5,0),t=$APP.C.B(a,C5,1),A=$APP.C.A(a,$APP.TW),B=$APP.C.B(a,E5,6);a=$APP.I;l=new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,4,[$APP.qF,1,h5,!1,A5,3,$APP.ly,new $APP.H(null,1,5,$APP.I,
[l],null)],null)],null);b=new $APP.H(null,2,5,$APP.I,[z5,$APP.fg([l5,r5,$APP.nq,$APP.cT,w5,C5,v5,$APP.qq,x5],[d,p,b,B,c,t,v,g,n])],null);$APP.k(A)?(A=$APP.od(A)?A:$APP.md(A)?new $APP.H(null,2,5,$APP.I,[$APP.nq.A(A,""),$APP.qq.A(A,"")],null):new $APP.H(null,2,5,$APP.I,["",A],null),A=new $APP.H(null,3,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[o5,new $APP.f(null,2,[Mtc,"bold",$APP.ly,A],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,1,[$APP.Ii,new $APP.H(null,3,5,$APP.I,[0,0,40],null)],null)],
null)],null)):A=null;return new $APP.H(null,4,5,a,[g5,l,b,A],null)},B5=function(a){var b=$APP.qe(a),c=$APP.C.B(b,i5,1);a=$APP.C.A(b,j5);var d=$APP.C.A(b,F5),g=$APP.C.B(b,auc,256),l=$APP.C.A(b,k5),n=$APP.C.B(b,l5,"#58a6ff"),p=$APP.C.A(b,n5),v=$APP.C.B(b,q5,0),t=$APP.C.B(b,r5,4),A=$APP.C.B(b,s5,0),B=$APP.C.A(b,$APP.Bk),G=$APP.C.B(b,C5,1);b=$APP.C.B(b,E5,6);var J=$APP.I,O=$APP.I;c=new $APP.f(null,4,[i5,c,A5,3,$APP.Bk,B,r5,g],null);d=$APP.k(d)?$APP.rg.B(c,F5,d):c;return new $APP.H(null,3,5,J,[g5,new $APP.H(null,
2,5,O,[Auc,d],null),new $APP.H(null,2,5,$APP.I,[z5,$APP.fg([l5,r5,$APP.nq,$APP.cT,w5,C5,v5,$APP.qq,x5],[n,t,a,b,l,G,A,p,v])],null)],null)},Guc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,l5);a=$APP.C.B(b,G5,8);var d=$APP.C.B(b,H5,8),g=$APP.C.B(b,buc,.5),l=$APP.C.B(b,cuc,1),n=$APP.C.A(b,euc);b=$APP.C.A(b,k5);$APP.k(n)?c=n:(c=$APP.k(c.isColor)?c:new wtc.Color(c),n=c.getHSL({}).l,c=c.offsetHSL(0,0,-.75*n*(1-n)));return new $APP.H(null,6,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[Euc,new $APP.f(null,2,[$APP.Mi,
"\x3c",I5,d],null)],null),new $APP.H(null,2,5,$APP.I,[z5,new $APP.f(null,5,[x5,5,w5,b+.001,l5,c,r5,l,C5,g],null)],null),new $APP.H(null,2,5,$APP.I,[Euc,new $APP.f(null,2,[$APP.Mi,"\x3c\x3c",r5,a],null)],null),new $APP.H(null,2,5,$APP.I,[Fuc,new $APP.f(null,1,[$APP.WD,"yx"],null)],null),new $APP.H(null,2,5,$APP.I,[z5,new $APP.f(null,5,[x5,5,w5,b+.001,l5,c,r5,l,C5,g],null)],null)],null)},J5=function(a){a=$APP.qe(a);var b=$APP.C.A(a,K5),c=$APP.C.B(a,k5,25),d=$APP.C.B(a,l5,16777215),g=$APP.C.B(a,q5,0),
l=$APP.C.B(a,M5,64),n=$APP.C.B(a,N5,64),p=$APP.C.B(a,fuc,!0),v=$APP.C.A(a,O5),t=$APP.C.B(a,s5,0),A=$APP.C.A(a,$APP.Bk),B=$APP.C.B(a,C5,.75),G=$APP.I,J=$APP.I;l=new $APP.f(null,6,[h5,!1,$APP.qF,1,A5,3,r5,l,I5,n,$APP.Bk,A],null);v=$APP.k(v)?$APP.rg.B(l,guc,v):l;b=$APP.k(b)?$APP.rg.B(v,kuc,b):v;return new $APP.H(null,4,5,G,[g5,new $APP.H(null,2,5,J,[Kuc,b],null),new $APP.H(null,2,5,$APP.I,[Luc,$APP.fg([nuc,puc,ruc,l5,r5,w5,C5,v5,x5],[!1,!1,p,d,1,c,B,t,g])],null),new $APP.H(null,2,5,$APP.I,[Guc,$APP.rg.C(a,
k5,c,$APP.y([l5,d]))],null)],null)},Uuc=function(a){var b=$APP.qe(a);a=$APP.C.A(b,$APP.ix);var c=$APP.C.A(b,suc),d=$APP.C.A(b,tuc),g=$APP.Nj.J();b=$APP.Nn.A(c,$APP.Nj);var l=$APP.Hj.j(c);return $APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.C(new $APP.D(null,g,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,uuc,null,1,null),$APP.Uj.A(c,0)))),null,1,null),$APP.y([new $APP.D(null,Q5,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
uuc,null,1,null),new $APP.D(null,0,null,1,null),$APP.y([new $APP.D(null,0,null,1,null),new $APP.D(null,0,null,1,null)])))),null,1,null),new $APP.D(null,xuc,null,1,null),new $APP.D(null,$APP.k(d)?function(){var n=$APP.qe(d),p=$APP.C.A(n,$APP.dm);n=$APP.C.A(n,$APP.nv);return $APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Fm,null,1,null),new $APP.D(null,$APP.Px,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.CX,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,
$APP.iy,null,1,null),new $APP.D(null,n,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,p,null,1,null)])))),null,1,null)]))))}():null,null,1,null)]))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,zuc,null,1,null),b)))),null,1,null),$APP.y([$APP.Vg.B(function(n,p){return new $APP.D(null,$APP.Dv,new $APP.D(null,g,new $APP.D(null,n,new $APP.D(null,p,null,1,null),2,null),3,null),
4,null)},l,b),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,a,null,1,null),new $APP.D(null,g,null,1,null),$APP.y([new $APP.D(null,Q5,null,1,null),new $APP.D(null,xuc,null,1,null)])))),null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,zuc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Eu,null,1,null),new $APP.D(null,Q5,null,1,null),$APP.y([new $APP.D(null,0,null,1,null)])))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
$APP.Eu,null,1,null),new $APP.D(null,Q5,null,1,null),$APP.y([new $APP.D(null,1,null,1,null)])))),null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Eu,null,1,null),new $APP.D(null,Q5,null,1,null),$APP.y([new $APP.D(null,2,null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)]))))},Vuc=function(a,b){var c=$APP.C.A(a,$APP.Dy);if(W4(c)){var d=$APP.Nj.J(),g=$APP.aV.A(a,!0);if(V4(c)){c=$APP.qe(c);var l=$APP.C.A(c,$APP.Dy),n=$APP.C.A(c,$APP.dm);b=new $APP.H(null,2,5,
$APP.I,[$APP.KR.M(l,n,$APP.Lf.A($APP.sf,$APP.Uj.A(b,0)),new $APP.f(null,3,[$APP.fq,$APP.qE,$APP.aV,g,$APP.vQ,$APP.xQ],null)),Uuc(new $APP.f(null,3,[$APP.ix,d,suc,b,tuc,c],null))],null)}else b=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(c,!1,$APP.Lf.A($APP.sf,$APP.Uj.A(b,0)),new $APP.f(null,4,[$APP.fq,$APP.qE,$APP.vYb,!1,$APP.aV,g,$APP.vQ,$APP.xQ],null)),Uuc(new $APP.f(null,2,[$APP.ix,d,suc,b],null))],null);g=b;b=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,
2,5,$APP.I,[d,$APP.Kn.A(b5,b)],null),$APP.rg.B(a,$APP.Dy,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},L5=function(a,b,c){var d=$APP.C.A(a,b);if(W4(d)){c=$APP.od(c)?new $APP.H(null,2,5,$APP.I,[d,c],null):new $APP.H(null,2,5,$APP.I,[Ssc(d),new $APP.H(null,1,5,$APP.I,[c],null)],null);d=$APP.x.B(c,0,null);var g=$APP.x.B(c,1,null),l=V4(d);c=l?new $APP.H(null,2,5,$APP.I,[$APP.Dy.j(d),$APP.dm.j(d)],null):new $APP.H(null,2,5,$APP.I,[d,!1],null);var n=$APP.x.B(c,0,null),p=$APP.x.B(c,1,null);
c=$APP.Nj.J();var v=$APP.aV.A(a,!1);g=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(n,p,g,new $APP.f(null,4,[$APP.fq,$APP.qE,$APP.vYb,l,$APP.aV,v,$APP.vQ,$APP.xQ],null)),l?$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,Buc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Fm,null,1,null),new $APP.D(null,$APP.Px,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.CX,null,
1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.iy,null,1,null),new $APP.D(null,$APP.nv.j(d),null,1,null)))),null,1,null),$APP.y([new $APP.D(null,p,null,1,null)])))),null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,Cuc,null,1,null),new $APP.D(null,Duc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
c,null,1,null),new $APP.D(null,Cuc,null,1,null),$APP.y([new $APP.D(null,Duc,null,1,null),new $APP.D(null,Buc,null,1,null)])))),null,1,null)])))),null,1,null)])))):$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,Huc,null,1,null),new $APP.D(null,Iuc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,c,null,1,null),new $APP.D(null,Huc,null,1,null),$APP.y([new $APP.D(null,Iuc,null,
1,null),new $APP.D(null,null,null,1,null)])))),null,1,null)]))))],null);d=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[c,$APP.Kn.A(b5,d)],null),$APP.rg.B(a,b,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},bvc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,R5);b=L5(a,T5,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Juc,b],null))},dvc=function(a){a=$APP.qe(a);
var b=$APP.C.A(a,R5),c=L5(a,T5,b);a=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);c=L5(c,U5,b);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[Muc,c],null)),P5)},evc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,W5);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.PQ,c)}):$APP.PQ.j(b);return dvc($APP.rg.B($APP.Oi.A(a,W5),T5,b))},fvc=function(a){return function(){function b(d){var g=null;if(0<arguments.length){g=0;for(var l=
Array(arguments.length-0);g<l.length;)l[g]=arguments[g+0],++g;g=new $APP.Bc(l,0,null)}return c.call(this,g)}function c(d){return $APP.Hl.A($APP.i9a(1),$APP.VQ($APP.Hl.A($APP.Je.A(a,d),$APP.LQ)))}b.G=0;b.K=function(d){d=$APP.r(d);return c(d)};b.C=c;return b}()},gvc=function(a){return fvc(function(){return a})()},ivc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,R5);b=L5(a,T5,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Nuc,
b],null)),P5)},kvc=function(a){return $APP.Uc.A(jvc,$APP.Ti.j(a))},mvc=function(a){return $APP.Bd(lvc,$APP.Ti.j(a))},ovc=function(a){return $APP.Bd(a,Ouc)},qvc=function(a){return $APP.k(pvc(a))?a:$APP.eu.C(a,$APP.y([$APP.fu,!0]))},svc=function(a){return $APP.k(a)?function(b){return function(c){var d=a.state;c=qvc(c);return $APP.qg.A(c,$APP.C.B(d,b,Puc))?$APP.lh.M(a,$APP.rg,b,c):null}}:function(){return function(){return null}}},tvc=function(a,b,c,d){d=$APP.rg.B($APP.md(b)?$APP.Ni.C($APP.y([c,b])):
$APP.rg.B(c,$APP.fw,b),Y5,d);b=$APP.md(b)?$APP.Lf.A(new $APP.ug(null,new $APP.f(null,1,[Y5,null],null),null),$APP.ng(b)):new $APP.ug(null,new $APP.f(null,2,[$APP.fw,null,Y5,null],null),null);c=$APP.ng($APP.sg(c,b));$APP.k(c)&&console.warn("Schema entry for ",a," matches an entry in the `:atom`. ","The following keys are being evicted: ",c);return $APP.Bs(d)},uvc=function(a,b){var c=$APP.Bd(b,Y5)?$APP.Fj.B(b,Y5,function(d){return function(g){g=qvc(g);return d.j?d.j(g):d.call(null,g)}}):function(){console.warn(["no `:onChange` for uncontrolled ",
$APP.m.j(a),"! Swapping in a no-op `:onChange`."].join(""));return $APP.rg.B(b,Y5,function(){return null})}();return $APP.Bs(c)},vvc=function(a,b,c){$APP.Jd(function(d,g,l){d[$APP.Ag(g)]=tvc(g,l,$APP.F,c.j?c.j(g):c.call(null,g));return d},a,b)},wvc=function(a){if(null==a)a=$APP.F;else if($APP.fb(a))a=qvc(a);else{var b=pvc(a);a=$APP.k($APP.k(b)?b:$APP.od(a))?new $APP.f(null,1,[$APP.fw,a],null):a}return a},yvc=function(a,b,c){function d(p,v,t){$APP.lh.B(l,$APP.Vd,v);p[$APP.Ag(v)]=t;return p}function g(p,
v,t){$APP.lh.B(l,$APP.Vd,p);return console.warn(["ignoring ",$APP.m.j(p),", ",$APP.m.j(v)," in  atom; ",$APP.m.j(t)].join(""))}var l=$APP.kh.j($APP.vg);a=function t(v){return $APP.Jd(function(A,B,G){G=wvc(G);if($APP.Uc.A("",$APP.Ag(B)))return console.error(["Ignoring empty key: ",$APP.m.j(B),". Keys can not be empty! If you want to hide a label, use whitespace."].join("")),A;if($APP.k(function(){var Q=$APP.Fb(l);return Q.j?Q.j(B):Q.call(null,B)}()))return console.error(["Duplicate key: ",$APP.m.j(B),
", ignoring appearance with value: ",$APP.m.j(G)].join("")),A;if(kvc(G)){var J=$APP.C.A(b,B);$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a folder in the schema."].join(""));return d(A,B,S5.folder(t(Z5.j(G)),$APP.Bs($5.j(G))))}if(ovc(G))return J=$APP.C.A(b,B),$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a custom input in the schema."].join("")),G=$APP.Fj.B(G,Ouc,function(Q){return uvc(B,wvc(Q))}),d(A,B,$APP.Bs(G));if(mvc(G))return J=$APP.C.A(b,B),$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a special input in the schema."].join("")),
d(A,B,$APP.Bs(G));if($APP.md(G)){if($APP.Bd(b,B)){J=c.j?c.j(B):c.call(null,B);var O=$APP.C.A(b,B);return d(A,B,tvc(B,O,G,J))}return d(A,B,uvc(B,G))}console.error(["Unknown type ",$APP.m.j(B),", ",$APP.jh.C($APP.y([G])),"; ignoring."].join(""));return A},{},v)}(a);var n=$APP.Je.B($APP.Oi,b,$APP.Fb(l));vvc(a,n,c);return a},Avc=function(a){function b(){return yvc(g,n,l)}var c=$APP.qe(a),d=$APP.C.A(c,jAc),g=$APP.C.A(c,Z5);a=$APP.C.A(c,$APP.nv);c=$APP.C.A(c,a6);var l=svc(a),n=$APP.k(a)?a.state:$APP.F;
a=$APP.k(c)?{store:c}:{};c=$APP.R.j(d);return $APP.k(c)?new $APP.H(null,4,5,$APP.I,[c,b,function(){var p=$5.j(d);return $APP.k(p)?$APP.Bs(p):{}}(),a],null):new $APP.H(null,2,5,$APP.I,[b,a],null)},Bvc=function(a){if(!$APP.k(function(){var n=$APP.nv.j(a);return $APP.k(n)?n:Z5.j(a)}()))throw Error("Error: we currently require either an `:atom` or `:schema` option (or both!)");var b=$APP.vs.useState($APP.m.j($APP.Gh())),c=$APP.x.B(b,0,null),d=$APP.nv.j(a),g=$APP.ng($APP.k(d)?d.state:$APP.F);b=$APP.Fj.B(a,
a6,function(n){return $APP.k(n)?n:S5.useStoreContext()});b=$APP.Je.A(S5.useControls,Avc(b));$APP.x.B(b,0,null);var l=$APP.x.B(b,1,null);$APP.vs.useEffect(function(){if($APP.k(d))return $APP.ada(d,c,function(n,p,v,t){n=$APP.Bs($APP.sg(t,g));return l.j?l.j(n):l.call(null,n)}),function(){return $APP.bda(d,c)}});return null},V5=function(a){var b=l5.j(a);if($APP.k(b)&&b instanceof $APP.E){var c=$APP.rg.B,d=$APP.Ag(b);b=Cvc.A?Cvc.A(b,d):Cvc.call(null,b,d);a=c.call($APP.rg,a,l5,b)}return a},Dvc=function(a){return new $APP.H(null,
3,5,$APP.I,[b6,X5.Ellipse,V5(a)],null)},Evc=function(a,b){switch(a){case "horizontal":return function(c){var d=$APP.x.B(c,0,null);$APP.x.B(c,1,null);return[d,$APP.x.A(b,1)]};case "vertical":return function(c){$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return[$APP.x.A(b,0),c]};default:throw $APP.Zi.A("Invalid constraint name: ",new $APP.f(null,1,[c6,a],null));}},Fvc=function(a){return function(b){b=a.j?a.j(b):a.call(null,b);return $APP.od(b)?$APP.Je.A($APP.Gaa,b):b}},Gvc=function(a,b){if(null==a)return null;
if($APP.cd(a))return Fvc(a);if(a instanceof $APP.E||"string"===typeof a)return Evc($APP.Ag(a),b);throw $APP.Zi.A("Invalid constraint!",new $APP.f(null,1,[c6,a],null));},Hvc=function(a){return null==a?$APP.Oc:$APP.od(a)?function(b){return $APP.Zl.A($APP.Fb(b),a)}:function(b){return $APP.C.A($APP.Fb(b),a)}},Ivc=function(a){return null==a?$APP.Ne:$APP.od(a)?function(b,c){return $APP.lh.M(b,$APP.am,a,c)}:function(b,c){return $APP.lh.M(b,$APP.rg,a,c)}},Jvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,
1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[c+d,a+b],null)},Kvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[c-d,a-b],null)},Lvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return c*d+a*b},Mvc=function(a){return Math.sqrt(Lvc(a,a))},Nvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return new $APP.H(null,
2,5,$APP.I,[c*b,a*b],null)},Ovc=function(a,b){return Nvc(a,b/Mvc(a))},Pvc=function(a,b,c){b=Kvc(b,a);var d=Mvc(b);return Jvc(a,Ovc(b,c*d))},Qvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=Math.cos(b);b=Math.sin(b);return new $APP.H(null,2,5,$APP.I,[d*c-b*a,b*c+d*a],null)},Rvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return Math.pow(d-c,2)+Math.pow(b-a,2)},Svc=function(a){a=a.expression;return $APP.k(a)?$APP.eu.j(a.json):
null};$APP.pa(Rsc,$APP.qp);$APP.e=Rsc.prototype;$APP.e.enabled=!1;$APP.e.Xc=null;$APP.e.setInterval=function(a){this.Gf=a;this.Xc&&this.enabled?(this.stop(),this.start()):this.Xc&&this.stop()};$APP.e.Zk=function(){if(this.enabled){var a=Date.now()-this.hi;0<a&&a<.8*this.Gf?this.Xc=this.jf.setTimeout(this.Fh,this.Gf-a):(this.Xc&&(this.jf.clearTimeout(this.Xc),this.Xc=null),this.dispatchEvent("tick"),this.enabled&&(this.stop(),this.start()))}};
$APP.e.start=function(){this.enabled=!0;this.Xc||(this.Xc=this.jf.setTimeout(this.Fh,this.Gf),this.hi=Date.now())};$APP.e.stop=function(){this.enabled=!1;this.Xc&&(this.jf.clearTimeout(this.Xc),this.Xc=null)};$APP.e.Qd=function(){Rsc.Ae.Qd.call(this);this.stop();delete this.jf};
var Quc=new $APP.q(null,"Spherical","Spherical",1316206718,null),Ruc=new $APP.q("emmy.mathbox","cartesian","emmy.mathbox/cartesian",-1584293216,null),i5=new $APP.E(null,"axis","axis",-1215390822),Suc=new $APP.q("mathbox.primitives.view","View","mathbox.primitives.view/View",825807052,null),Tuc=new $APP.q("mathbox.primitives","Resample","mathbox.primitives/Resample",-1111983593,null),ntc=new $APP.E(null,"outline","outline",793464534),Wuc=new $APP.q(null,"evolve-lagrangian","evolve-lagrangian",-1243036206,
null),Xuc=new $APP.E(null,"foreground","foreground",499022036),Yuc=new $APP.q("mafs.vec","rotate-about","mafs.vec/rotate-about",887889058,null),Zuc=new $APP.q(null,"rotate","rotate",1793236542,null),$uc=new $APP.q("emmy.mathlive","mathfield","emmy.mathlive/mathfield",-1468252379,null),avc=new $APP.q("mathbox.primitives","Scale","mathbox.primitives/Scale",570368639,null),cvc=new $APP.q(null,"stereographic4","stereographic4",-2061489156,null),hvc=new $APP.q(null,"camera","camera",450182942,null),nvc=
new $APP.q(null,"config","config",-1659574354,null),rvc=new $APP.q("emmy.mathbox.plot","grid","emmy.mathbox.plot/grid",1495397365,null),xvc=new $APP.q("emmy.mafs","of-x","emmy.mafs/of-x",-101417371,null),zvc=new $APP.q("emmy.mafs","of-y","emmy.mafs/of-y",-1318996933,null),Tvc=new $APP.q("emmy.mathbox","swizzle","emmy.mathbox/swizzle",1175847286,null),Iuc=new $APP.q(null,"out__67031__auto__","out__67031__auto__",652148620,null),Uvc=new $APP.q(null,"Evolve","Evolve",-1058242995,null),fuc=new $APP.E(null,
"shaded?","shaded?",1184617038),Vvc=new $APP.q("mafs.vec","sub","mafs.vec/sub",-519407947,null),Wvc=new $APP.q("emmy.mathbox.components.plot","Ticks","emmy.mathbox.components.plot/Ticks",98683654,null),Xvc=new $APP.q(null,"viewer-or-xform","viewer-or-xform",-228607199,null),Yvc=new $APP.q(null,"Lerp","Lerp",-1702516612,null),Zvc=new $APP.q(null,"face","face",284050810,null),$vc=new $APP.q("emmy.mathbox","cartesian4","emmy.mathbox/cartesian4",-1048030439,null),awc=new $APP.q("mafs.vec","dist","mafs.vec/dist",
27267176,null),d6=new $APP.E(null,"points","points",-1486596883),bwc=new $APP.q("emmy.mathbox.plot","parametric-curve","emmy.mathbox.plot/parametric-curve",-748990892,null),cwc=new $APP.q(null,"Parametric","Parametric",1178317409,null),dwc=new $APP.q("mathbox.primitives.present","Reveal","mathbox.primitives.present/Reveal",-2020668457,null),ewc=new $APP.q(null,"Controls","Controls",-1527939495,null),I5=new $APP.E(null,"height","height",1025178622),fwc=new $APP.q(null,"Shader","Shader",1685374417,
null),A5=new $APP.E(null,"channels","channels",1132759174),gwc=new $APP.q(null,"emmy.mathlive","emmy.mathlive",-1149564965,null),hwc=new $APP.q("mathbox.primitives.present","Move","mathbox.primitives.present/Move",1480445077,null),iwc=new $APP.q("leva.types","FolderType","leva.types/FolderType",-39801598,null),jwc=new $APP.q(null,"surface","surface",-1954520123,null),kwc=new $APP.q("leva.types","folder?","leva.types/folder?",-365505941,null),lwc=new $APP.q(null,"volume","volume",-754104970,null),
mwc=new $APP.q("mafs.core","Transform","mafs.core/Transform",344714171,null),nwc=new $APP.q(null,"Axis","Axis",1020368522,null),owc=new $APP.q("emmy.viewer.physics","evolve","emmy.viewer.physics/evolve",1783055540,null),pwc=new $APP.q("mathbox.primitives.operator","Join","mathbox.primitives.operator/Join",1208870310,null),e5=new $APP.E(null,"camera","camera",-1190348585),qwc=new $APP.q("mafs.vec","add","mafs.vec/add",1789175451,null),rwc=new $APP.q("mathbox.primitives.draw","Grid","mathbox.primitives.draw/Grid",
-1684351597,null),swc=new $APP.q(null,"hamiltonian-phase-vectors","hamiltonian-phase-vectors",1808262642,null),twc=new $APP.q(null,"routhian-phase-vectors","routhian-phase-vectors",444705724,null),vwc=new $APP.q("emmy.mathbox.components.plot","threestrap-defaults","emmy.mathbox.components.plot/threestrap-defaults",-922766372,null),uwc=new $APP.q(null,"mathbox.primitives.rtt","mathbox.primitives.rtt",39724351,null),Lwc=new $APP.q(null,"LabeledAxis","LabeledAxis",491162808,null),wwc=new $APP.q(null,
"lagrangian-curve","lagrangian-curve",-1293888805,null),xwc=new $APP.q("emmy.mathbox","lerp","emmy.mathbox/lerp",1243434620,null),ywc=new $APP.q("emmy.mathbox.physics","comet","emmy.mathbox.physics/comet",-304126115,null),zwc=new $APP.q(null,"folder?","folder?",-636107142,null),Awc=new $APP.q(null,"mathbox.primitives.view","mathbox.primitives.view",-1285160772,null),Bwc=new $APP.q("emmy.mathbox","rtt","emmy.mathbox/rtt",-1030603983,null),Cwc=new $APP.q("emmy.mafs","polyline","emmy.mafs/polyline",
-436967170,null),Dwc=new $APP.q(null,"v-idx","v-idx",417165568,null),Ewc=new $APP.q("mafs.plot","OfY","mafs.plot/OfY",-1683890768,null),Fwc=new $APP.q("mafs.plot","OfX","mafs.plot/OfX",-327580043,null),Gwc=new $APP.q("mathbox.primitives","Swizzle","mathbox.primitives/Swizzle",324393110,null),Ouc=new $APP.E(null,"__customInput","__customInput",-1271664812),Hwc=new $APP.q("mathbox.primitives.view","Cartesian","mathbox.primitives.view/Cartesian",-53440896,null),Iwc=new $APP.q("mathbox.core","Rawbox",
"mathbox.core/Rawbox",-893924239,null),Jwc=new $APP.q("mathlive.core","cdn-sounds","mathlive.core/cdn-sounds",-181389519,null),Kwc=new $APP.q("mafs.plot","Parametric","mafs.plot/Parametric",-506550509,null),e6=new $APP.E("nextjournal.clerk","viewer","nextjournal.clerk/viewer",484555418),Mwc=new $APP.q("emmy.mathbox","interval","emmy.mathbox/interval",555966137,null),Nwc=new $APP.q("emmy.mathbox","format","emmy.mathbox/format",2090804550,null),Owc=new $APP.q(null,"ticks","ticks",1234341214,null),Pwc=
new $APP.q("emmy.mathbox.physics","lagrangian-curve","emmy.mathbox.physics/lagrangian-curve",1206015321,null),Qwc=new $APP.q(null,"unit","unit",2015706702,null),Rwc=new $APP.q("emmy.mafs","mafs-meta","emmy.mafs/mafs-meta",1175815518,null),Swc=new $APP.q("mathbox.primitives","Line","mathbox.primitives/Line",-1270459063,null),Twc=new $APP.q("mathbox.primitives.view","Cartesian4","mathbox.primitives.view/Cartesian4",-182773992,null),Uwc=new $APP.q("mathbox.primitives.operator","Slice","mathbox.primitives.operator/Slice",
-1850239959,null),Vwc=new $APP.q(null,"TransformWidget","TransformWidget",-1331648879,null),Wwc=new $APP.q("mathbox.primitives.text","Format","mathbox.primitives.text/Format",-1063808060,null),Xwc=new $APP.q("mathbox.primitives","Rtt","mathbox.primitives/Rtt",-358152424,null),Ywc=new $APP.q(null,"points-or-opts","points-or-opts",-1649658469,null),Cuc=new $APP.q(null,"in__67028__auto__","in__67028__auto__",857294691,null),Zwc=new $APP.q("emmy.mafs","movable-point","emmy.mafs/movable-point",-983254052,
null),Wtc=new $APP.E(null,"niceX","niceX",-63711665),Ztc=new $APP.E(null,"niceY","niceY",-1644839342),$wc=new $APP.q(null,"fragment","fragment",-1827660081,null),axc=new $APP.E(null,"steps","steps",-128433302),bxc=new $APP.q("leva.core","SubPanel","leva.core/SubPanel",282217306,null),cxc=new $APP.q(null,"Point","Point",-2145220521,null),dxc=new $APP.q("mafs.line","PointAngle","mafs.line/PointAngle",-1972612361,null),exc=new $APP.q(null,"now","now",-9994004,null),fxc=new $APP.q("emmy.mathbox.components.plot",
"OfY","emmy.mathbox.components.plot/OfY",-977479654,null),gxc=new $APP.q("emmy.mathbox.components.plot","OfZ","emmy.mathbox.components.plot/OfZ",-302664651,null),hxc=new $APP.q("emmy.mathbox","array","emmy.mathbox/array",-2111957204,null),ixc=new $APP.q(null,"Layer","Layer",-1498190011,null),jxc=new $APP.q("emmy.mathbox.components.plot","OfX","emmy.mathbox.components.plot/OfX",974553099,null),kxc=new $APP.q(null,"through-points","through-points",-1921469650,null),lxc=new $APP.q(null,"emit","emit",
313352509,null),mxc=new $APP.q(null,"mathbox.primitives","mathbox.primitives",1541076194,null),nxc=new $APP.q("emmy.viewer","with-state","emmy.viewer/with-state",1799742772,null),oxc=new $APP.q("mathbox.primitives.data","Interval","mathbox.primitives.data/Interval",-1791884929,null),pxc=new $APP.q("mathbox.primitives.data","Matrix","mathbox.primitives.data/Matrix",94802590,null),qxc=new $APP.q("emmy.mathbox.physics","phase-vectors","emmy.mathbox.physics/phase-vectors",-807323420,null),Ntc=new $APP.E(null,
"ticks","ticks",-406190313),rxc=new $APP.q(null,"Stereographic4","Stereographic4",-287163216,null),sxc=new $APP.q("mafs.vec","transform","mafs.vec/transform",-1163156796,null),txc=new $APP.q(null,"Voxel","Voxel",1540726319,null),uxc=new $APP.q(null,"ViewportInfo","ViewportInfo",940471056,null),vxc=new $APP.q(null,"interval","interval",-945940352,null),wxc=new $APP.q(null,"Split","Split",-1276645785,null),xxc=new $APP.q(null,"Subdivide","Subdivide",-462061977,null),yxc=new $APP.q(null,"area","area",
2112538783,null),zxc=new $APP.q("emmy.mathbox.components.plot","ParametricSurface","emmy.mathbox.components.plot/ParametricSurface",-738442357,null),Axc=new $APP.q(null,"labeled-axis","labeled-axis",1395888373,null),Bxc=new $APP.E(null,"v-idx","v-idx",-1223365959),Cxc=new $APP.q(null,"Join","Join",767879419,null),Dxc=new $APP.q("mathbox.primitives","Inherit","mathbox.primitives/Inherit",-191332945,null),Exc=new $APP.q("emmy.mathbox","join","emmy.mathbox/join",1508376046,null),f6=new $APP.q(null,"z-order",
"z-order",1047374313,null),Puc=new $APP.E("leva.schema","not-found","leva.schema/not-found",191828335),Fxc=new $APP.q("mathbox.primitives.data","Volume","mathbox.primitives.data/Volume",740872246,null),Gxc=new $APP.q(null,"format-number","format-number",-311013897,null),Hxc=new $APP.q(null,"rotate-about","rotate-about",846870821,null),Ixc=new $APP.q("mathbox.primitives.draw","Surface","mathbox.primitives.draw/Surface",449717938,null),Jxc=new $APP.q(null,"Scene","Scene",2002462969,null),Wsc=new $APP.E(null,
"max-steps","max-steps",1553604741),Kxc=new $APP.q(null,"dist","dist",238694383,null),Lxc=new $APP.q(null,"Unit","Unit",1086897223,null),Mxc=new $APP.q(null,"inequality","inequality",-1013398811,null),Nxc=new $APP.q(null,"Inherit","Inherit",-1912525274,null),Oxc=new $APP.q("emmy.mathbox","subdivide","emmy.mathbox/subdivide",-265492185,null),g6=new $APP.q(null,"width","width",1256460050,null),Pxc=new $APP.q(null,"make-solver","make-solver",1498924341,null),Qxc=new $APP.q("emmy.mathbox.plot","polar-surface",
"emmy.mathbox.plot/polar-surface",94802201,null),Rxc=new $APP.q("mathbox.primitives.data","Array","mathbox.primitives.data/Array",533243882,null),Sxc=new $APP.q(null,"z-samples","z-samples",169034361,null),Txc=new $APP.q(null,"clamp","clamp",-850620829,null),Uxc=new $APP.q(null,"math-json-\x3etex","math-json-\x3etex",-1901246416,null),Vxc=new $APP.q(null,"Retext","Retext",571350357,null),Wxc=new $APP.q("mafs.vec","dot","mafs.vec/dot",-1300718741,null),Xxc=new $APP.q(null,"matrix","matrix",-1851298569,
null),Yxc=new $APP.E(null,"yellow","yellow",-881035449),Zxc=new $APP.q("mathbox.primitives.overlay","Dom","mathbox.primitives.overlay/Dom",1941676717,null),$xc=new $APP.q(null,"Resample","Resample",-1271815010,null),ayc=new $APP.q("emmy.viewer","fragment","emmy.viewer/fragment",651632603,null),byc=new $APP.q("emmy.mafs","inequality","emmy.mafs/inequality",-759316704,null),cyc=new $APP.q("mathbox.primitives.operator","Repeat","mathbox.primitives.operator/Repeat",1207261937,null),dyc=new $APP.q(null,
"items","items",-1622480831,null),h6=new $APP.q(null,"color","color",-1642760596,null),eyc=new $APP.q("mathbox.primitives","Retext","mathbox.primitives/Retext",750297308,null),ltc=new $APP.E(null,"zoom","zoom",-1827487038),fyc=new $APP.q("mathbox.primitives","Surface","mathbox.primitives/Surface",1749844142,null),gyc=new $APP.q("mathbox.primitives.operator","Memo","mathbox.primitives.operator/Memo",-2137179599,null),hyc=new $APP.q(null,"Polar","Polar",-382168682,null),iyc=new $APP.q(null,"OfZ","OfZ",
-1751405767,null),jyc=new $APP.q(null,"OfY","OfY",1670833926,null),kyc=new $APP.q(null,"Polyline","Polyline",923753280,null),lyc=new $APP.q(null,"OfX","OfX",1412207367,null),myc=new $APP.E(null,"r-samples","r-samples",-572927645),nyc=new $APP.q("mathbox.primitives","Point","mathbox.primitives/Point",-2035787060,null),oyc=new $APP.q("mathbox.primitives","Layer","mathbox.primitives/Layer",-1606831668,null),Muc=new $APP.q("emmy.mathbox.components.physics","ODECurve","emmy.mathbox.components.physics/ODECurve",
-828855542,null),pyc=new $APP.q("mathbox.primitives.shader","Shader","mathbox.primitives.shader/Shader",1517416725,null),qyc=new $APP.q(null,"SceneGrids","SceneGrids",-1717853859,null),ryc=new $APP.q("emmy.mathbox","unit","emmy.mathbox/unit",-1655511945,null),k5=new $APP.E(null,"z-order","z-order",-593157214),syc=new $APP.q(null,"Clock","Clock",-1252752132,null),tyc=new $APP.q(null,"memo","memo",-288084572,null),uyc=new $APP.E(null,"grids","grids",44187194),vyc=new $APP.q("emmy.mathbox.plot","point",
"emmy.mathbox.plot/point",-302626207,null),wyc=new $APP.q("mathlive.core","math-json-\x3etex","mathlive.core/math-json-\x3etex",363536331,null),xyc=new $APP.q("mathbox.primitives.transform","Layer","mathbox.primitives.transform/Layer",763104014,null),yyc=new $APP.q("mathbox.primitives.draw","Strip","mathbox.primitives.draw/Strip",205196524,null),zyc=new $APP.q(null,"inherit","inherit",-200283895,null),Ayc=new $APP.q("emmy.mathbox","face","emmy.mathbox/face",1935246241,null),Byc=new $APP.q(null,"Now",
"Now",1010719241,null),Cyc=new $APP.q("mathbox.primitives","Format","mathbox.primitives/Format",-1307425389,null),Dyc=new $APP.q(null,"constrain","constrain",473235074,null),Eyc=new $APP.q("emmy.mathbox","clamp","emmy.mathbox/clamp",-1365134264,null),Fyc=new $APP.q("emmy.mathbox.plot","scene","emmy.mathbox.plot/scene",-1665707736,null),Gyc=new $APP.q("mathbox.primitives.present","Step","mathbox.primitives.present/Step",1973023950,null),Hyc=new $APP.q("emmy.viewer.physics","evolve-hamiltonian","emmy.viewer.physics/evolve-hamiltonian",
797815081,null),btc=new $APP.E(null,"max-distance","max-distance",848042358),i6=new $APP.q(null,"end?","end?",217139918,null),Iyc=new $APP.q("emmy.viewer","with-params","emmy.viewer/with-params",137203082,null),Kyc=new $APP.q(null,"routhian-curve","routhian-curve",-1765938025,null),Lyc=new $APP.q("emmy.mathbox","readback","emmy.mathbox/readback",-733005934,null),j6=new $APP.E(null,"threestrap","threestrap",791250519),Myc=new $APP.q("emmy.viewer.plot","label-pi","emmy.viewer.plot/label-pi",-310687165,
null),g5=new $APP.E(null,"\x3c\x3e","\x3c\x3e",1280186386),Atc=new $APP.E(null,"label-fn","label-fn",-860923263),Nyc=new $APP.q("mathbox.primitives.operator","Readback","mathbox.primitives.operator/Readback",-1401706720,null),D5=new $APP.E(null,"axes","axes",1970866440),Jyc=new $APP.q("mafs.vec","rotate","mafs.vec/rotate",1863892153,null),Pyc=new $APP.q(null,"Transform","Transform",-881921137,null),Qyc=new $APP.q("mathbox.primitives","Cartesian","mathbox.primitives/Cartesian",-1354081315,null),Ryc=
new $APP.q("mathbox.primitives","Unit","mathbox.primitives/Unit",2058437326,null),x5=new $APP.E(null,"zBias","zBias",-659044836),Syc=new $APP.q(null,"html","html",641734630,null),Oyc=new $APP.q("mafs.vec","scale","mafs.vec/scale",1251629545,null),vtc=new $APP.E(null,"snap?","snap?",1489197534),Uyc=new $APP.q("mathbox.primitives.view","Spherical","mathbox.primitives.view/Spherical",-1757367494,null),Vyc=new $APP.q("emmy.viewer","get-in","emmy.viewer/get-in",1024698819,null),Wyc=new $APP.q(null,"max-steps",
"max-steps",-1100831028,null),Xyc=new $APP.q(null,"stereographic","stereographic",82994319,null),Yyc=new $APP.q(null,"Stopwatch*","Stopwatch*",-335692954,null),Zyc=new $APP.q("emmy.mathbox","surface","emmy.mathbox/surface",-162154084,null),$yc=new $APP.E(null,"proxy","proxy",-117453614),azc=new $APP.q("emmy.mathbox.plot","vector-field","emmy.mathbox.plot/vector-field",747085366,null),bzc=new $APP.q("emmy.mafs","transform-widget","emmy.mafs/transform-widget",-823116937,null),czc=new $APP.q("emmy.mathbox.plot",
"polar-curve","emmy.mathbox.plot/polar-curve",198079256,null),dzc=new $APP.q("emmy.mathbox.plot","cartesian","emmy.mathbox.plot/cartesian",795364877,null),ezc=new $APP.q(null,"button-group","button-group",108385979,null),fzc=new $APP.q("emmy.mathbox.components.plot","Point","emmy.mathbox.components.plot/Point",1513944899,null),Nqc=new $APP.E("portal.viewer","mafs?","portal.viewer/mafs?",594519235),gzc=new $APP.q(null,"PolarSurface","PolarSurface",-654690714,null),hzc=new $APP.q("mathbox.primitives.time",
"Now","mathbox.primitives.time/Now",-450861779,null),izc=new $APP.q("emmy.mathbox.physics","hamiltonian-phase-vectors","emmy.mathbox.physics/hamiltonian-phase-vectors",-658087568,null),jzc=new $APP.q("mathbox.primitives.draw","Face","mathbox.primitives.draw/Face",-427381933,null),kzc=new $APP.q(null,"Memo","Memo",-56475788,null),lzc=new $APP.E(null,"scale","scale",-230427353),mzc=new $APP.q("emmy.mathbox","memo","emmy.mathbox/memo",325153917,null),nzc=new $APP.q(null,"Strip","Strip",1159860619,null),
ozc=new $APP.q("mathlive.core","cdn-fonts","mathlive.core/cdn-fonts",433243609,null),pzc=new $APP.q("emmy.mathbox","inherit","emmy.mathbox/inherit",313569104,null),zuc=new $APP.q(null,"emit__66995__auto__","emit__66995__auto__",573869736,null),qzc=new $APP.q("emmy.mafs","point-slope","emmy.mafs/point-slope",-397748041,null),rzc=new $APP.q("leva.core","folder","leva.core/folder",722555942,null),szc=new $APP.q(null,"layer","layer",38710938,null),tzc=new $APP.q("emmy.mathbox","polar","emmy.mathbox/polar",
1222626E3,null),uzc=new $APP.q("mathbox.primitives","Transform","mathbox.primitives/Transform",-1243339258,null),vzc=new $APP.q("mafs.plot","VectorField","mafs.plot/VectorField",-1424063142,null),wzc=new $APP.q("emmy.mathbox.physics","ode-curve","emmy.mathbox.physics/ode-curve",28007661,null),xzc=new $APP.q("emmy.mathbox","dom","emmy.mathbox/dom",-2056278564,null),yzc=new $APP.q("emmy.mathbox","matrix","emmy.mathbox/matrix",2094573278,null),zzc=new $APP.q(null,"emmy.viewer.components.stopwatch","emmy.viewer.components.stopwatch",
-2049565900,null),Azc=new $APP.q(null,"vertex","vertex",-1092289418,null),Bzc=new $APP.q("emmy.mathbox.components.plot","VectorField","emmy.mathbox.components.plot/VectorField",354648892,null),Czc=new $APP.q(null,"parametric-curve","parametric-curve",-1284030502,null),Dzc=new $APP.q("p","format-number","p/format-number",-311014073,null),Ezc=new $APP.q("mathbox.primitives.present","Play","mathbox.primitives.present/Play",-1955667828,null),Fzc=new $APP.E(null,"button-group","button-group",-1532145548),
Gzc=new $APP.q("mafs.coordinates","Polar","mafs.coordinates/Polar",-450854268,null),Hzc=new $APP.q(null,"MathBox","MathBox",1267820069,null),tuc=new $APP.E(null,"param-f","param-f",1898396613),Izc=new $APP.q("mathbox.primitives","Join","mathbox.primitives/Join",660585058,null),Jzc=new $APP.q(null,"mask","mask",1054783080,null),Kzc=new $APP.q("emmy.mathbox.components.plot","Vector","emmy.mathbox.components.plot/Vector",-286182717,null),Lzc=new $APP.E(null,"violet","violet",-1351470549),Mzc=new $APP.q("emmy.mathbox",
"retext","emmy.mathbox/retext",1175086644,null),Nzc=new $APP.q("mafs.core","MovablePoint","mafs.core/MovablePoint",839588757,null),Ozc=new $APP.q(null,"mathbox.primitives.present","mathbox.primitives.present",1519994238,null),Pzc=new $APP.q("emmy.mathbox","area","emmy.mathbox/area",-526633240,null),c6=new $APP.E(null,"constrain","constrain",-1167296453),Qzc=new $APP.q(null,"readback","readback",987820521,null),k6=new $APP.q(null,"opacity","opacity",2037685307,null),Rzc=new $APP.q(null,"label-fn",
"label-fn",779608264,null),Szc=new $APP.E(null,"indigo","indigo",-280252374),Tzc=new $APP.q(null,"folder","folder",-1138554033,null),Uzc=new $APP.q(null,"x-idx","x-idx",-1904247457,null),Vzc=new $APP.q(null,"grow","grow",1116412632,null),Wzc=new $APP.q("mathbox.primitives","Slide","mathbox.primitives/Slide",1353572641,null),Xzc=new $APP.q("mathbox.primitives","Slice","mathbox.primitives/Slice",-1294348699,null),Yzc=new $APP.q(null,"label-pi","label-pi",403361252,null),Zzc=new $APP.q(null,"SubPanel",
"SubPanel",-1545576243,null),guc=new $APP.E(null,"rangeX","rangeX",1415483689),kuc=new $APP.E(null,"rangeY","rangeY",777743115),$zc=new $APP.E(null,"rangeZ","rangeZ",-2051483245),aAc=new $APP.q("emmy.mathlive","style","emmy.mathlive/style",-1180905403,null),bAc=new $APP.q("mathbox.primitives.base","Inherit","mathbox.primitives.base/Inherit",-1055136450,null),cAc=new $APP.q("emmy.mathbox.components.plot","SceneAxes","emmy.mathbox.components.plot/SceneAxes",433952718,null),dAc=new $APP.q("emmy.viewer.stopwatch",
"stopwatch","emmy.viewer.stopwatch/stopwatch",-1220943008,null),eAc=new $APP.q("emmy.mafs","polar","emmy.mafs/polar",514444866,null),l6=new $APP.q(null,"start?","start?",-1213721563,null),fAc=new $APP.q(null,"primitive?","primitive?",1698587076,null),gAc=new $APP.q("color","default","color/default",-236637214,null),hAc=new $APP.q(null,"MovablePoint","MovablePoint",1517564801,null),iAc=new $APP.q("mathlive.core","mathlive-version","mathlive.core/mathlive-version",1928995355,null),kAc=new $APP.q(null,
"point-slope","point-slope",-110551558,null),lAc=new $APP.q(null,"emmy.viewer.components.physics","emmy.viewer.components.physics",21508193,null),mAc=new $APP.q("emmy.mathbox.components.plot","PolarSurface","emmy.mathbox.components.plot/PolarSurface",1994441586,null),nAc=new $APP.E("portal.viewer","reagent?","portal.viewer/reagent?",-970045774),oAc=new $APP.q(null,"Cartesian4","Cartesian4",208408284,null),m6=new $APP.q(null,"object-or-fn","object-or-fn",-1175784007,null),pAc=new $APP.E(null,"theta-range",
"theta-range",-1173890964),qAc=new $APP.q("emmy.mathbox","ticks","emmy.mathbox/ticks",-1392945307,null),utc=new $APP.E(null,"text-size","text-size",-945618309),rAc=new $APP.q("emmy.mathbox.plot","of-x","emmy.mathbox.plot/of-x",180136104,null),sAc=new $APP.q("emmy.mathbox.plot","of-y","emmy.mathbox.plot/of-y",-2086017778,null),tAc=new $APP.q("emmy.mathbox.plot","of-z","emmy.mathbox.plot/of-z",965388449,null),uAc=new $APP.q("mathbox.primitives.time","Clock","mathbox.primitives.time/Clock",-26544704,
null),R5=new $APP.E(null,"initial-state","initial-state",-2021616806),vAc=new $APP.q(null,"steps","steps",1512098225,null),wAc=new $APP.E(null,"math-field","math-field",1762395342),xAc=new $APP.q("emmy.mathbox.physics","routhian-phase-vectors","emmy.mathbox.physics/routhian-phase-vectors",-1350553798,null),yAc=new $APP.q(null,"Face","Face",1066942710,null),zAc=new $APP.q(null,"mathbox","mathbox",1440126842,null),AAc=new $APP.q("mathbox.primitives.operator","Grow","mathbox.primitives.operator/Grow",
-89640683,null),suc=new $APP.E(null,"dimensions","dimensions",-254818097),BAc=new $APP.q("emmy.mathbox.components.plot","Grid","emmy.mathbox.components.plot/Grid",2056645928,null),CAc=new $APP.E(null,"radius","radius",-2073122258),DAc=new $APP.q("mathbox.primitives","Transform4","mathbox.primitives/Transform4",-1869959749,null),EAc=new $APP.q(null,"grid","grid",2043510127,null),FAc=new $APP.q(null,"play","play",1060113505,null),GAc=new $APP.q("emmy.mafs","segment","emmy.mafs/segment",958905628,null),
HAc=new $APP.q(null,"mathlive-version","mathlive-version",192975026,null),IAc=new $APP.q(null,"cdn-sounds","cdn-sounds",1814922458,null),JAc=new $APP.q("mathbox.primitives","Lerp","mathbox.primitives/Lerp",-1827866933,null),KAc=new $APP.q(null,"background","background",776578898,null),LAc=new $APP.q(null,"expand","expand",-2059187612,null),MAc=new $APP.q(null,"mathbox.primitives.draw","mathbox.primitives.draw",-1469249774,null),NAc=new $APP.q(null,"mafs.plot","mafs.plot",-529505551,null),OAc=new $APP.q("emmy.mafs",
"transform","emmy.mafs/transform",-2093922E3,null),PAc=new $APP.E(null,"xy-opacity","xy-opacity",1175155784),QAc=new $APP.q("emmy.mathbox","grow","emmy.mathbox/grow",-547434319,null),RAc=new $APP.E(null,"centeredY","centeredY",-477741349),SAc=new $APP.E(null,"centeredX","centeredX",-638621558),TAc=new $APP.q(null,"Matrix","Matrix",2091502681,null),UAc=new $APP.q(null,"Grow","Grow",508637906,null),C5=new $APP.E(null,"opacity","opacity",397153780),VAc=new $APP.q("mafs.core","Theme","mafs.core/Theme",
-2144957676,null),WAc=new $APP.q(null,"emmy.mathbox.components.plot","emmy.mathbox.components.plot",-113347915,null),XAc=new $APP.q(null,"mathbox.primitives.shader","mathbox.primitives.shader",-1004583391,null),YAc=new $APP.E(null,"xform","xform",-1725711008),ZAc=new $APP.q("mathbox.primitives.transform","Mask","mathbox.primitives.transform/Mask",1615933E3,null),$Ac=new $APP.q("leva.types","SpecialInputTypes","leva.types/SpecialInputTypes",-55327891,null),aBc=new $APP.q(null,"monotonic-integrator",
"monotonic-integrator",382694747,null),bBc=new $APP.q(null,"pair-or-opts","pair-or-opts",771908995,null),cBc=new $APP.q("emmy.leva","config","emmy.leva/config",-2080946580,null),dBc=new $APP.q(null,"ellipse","ellipse",-1518544067,null),eBc=new $APP.q(null,"retext","retext",-658727441,null),fBc=new $APP.q(null,"Surface","Surface",1673998871,null),gBc=new $APP.q("leva.core","monitor","leva.core/monitor",-499367467,null),hBc=new $APP.q("emmy.viewer.components.physics","monotonic-integrator","emmy.viewer.components.physics/monotonic-integrator",
-1904105078,null),buc=new $APP.E(null,"grid-opacity","grid-opacity",-430688464),auc=new $APP.E(null,"samples","samples",635504833),iBc=new $APP.q(null,"SceneAxes","SceneAxes",1138992346,null),jBc=new $APP.q("emmy.mathbox.components.physics","Comet","emmy.mathbox.components.physics/Comet",1930311718,null),kBc=new $APP.q("emmy.mathbox","point","emmy.mathbox/point",1653400964,null),lBc=new $APP.E(null,"x-idx","x-idx",750188312),mBc=new $APP.q("leva.types","SpecialInputs","leva.types/SpecialInputs",115324385,
null),Huc=new $APP.q(null,"in__67030__auto__","in__67030__auto__",2110743334,null),nBc=new $APP.E(null,"tick","tick",-835886976),oBc=new $APP.q(null,"Polygon","Polygon",1492273221,null),pBc=new $APP.q(null,"mathbox.primitives.data","mathbox.primitives.data",-780802081,null),qBc=new $APP.q(null,"style","style",1143888791,null),rBc=new $APP.E(null,"container","container",-1736937707),sBc=new $APP.E(null,"green","green",-945526839),puc=new $APP.E(null,"lineY","lineY",-800534367),nuc=new $APP.E(null,
"lineX","lineX",-269253760),tBc=new $APP.q("emmy.mafs","through-points","emmy.mafs/through-points",-1134791573,null),uBc=new $APP.E(null,"orange","orange",73816386),vBc=new $APP.q("mafs.core","Circle","mafs.core/Circle",-262104303,null),wBc=new $APP.q(null,"resample","resample",1595961711,null),n5=new $APP.E(null,"end?","end?",-1423391609),xBc=new $APP.q(null,"Scale","Scale",662043888,null),yBc=new $APP.q(null,"Play","Play",3494344,null),zBc=new $APP.q(null,"Grid","Grid",-593239492,null),ABc=new $APP.q(null,
"polar","polar",-276493177,null),BBc=new $APP.q("emmy.mathbox","play","emmy.mathbox/play",-1701131746,null),CBc=new $APP.q(null,"mathbox.primitives.operator","mathbox.primitives.operator",288362110,null),DBc=new $APP.q("mathbox.primitives.camera","Camera","mathbox.primitives.camera/Camera",-1885074025,null),EBc=new $APP.q("emmy.mathbox","grid","emmy.mathbox/grid",-730454250,null),FBc=new $APP.q("emmy.mathbox","layer","emmy.mathbox/layer",-1399069579,null),GBc=new $APP.q("mathbox.primitives","Label",
"mathbox.primitives/Label",-1901552196,null),HBc=new $APP.q("mathbox.primitives.text","Label","mathbox.primitives.text/Label",1496262211,null),IBc=new $APP.q(null,"PointAngle","PointAngle",-476665200,null),JBc=new $APP.q("emmy.mathbox.physics","geodesic","emmy.mathbox.physics/geodesic",1892205410,null),KBc=new $APP.q("mathbox.primitives","Dom","mathbox.primitives/Dom",-2079934705,null),LBc=new $APP.q("emmy.mathbox.components.plot","Scene","emmy.mathbox.components.plot/Scene",493952493,null),MBc=new $APP.q(null,
"ParametricCurve","ParametricCurve",238151722,null),NBc=new $APP.q(null,"Transpose","Transpose",213658457,null),OBc=new $APP.q("mafs.core","useStopwatch","mafs.core/useStopwatch",738997829,null),Ytc=new $APP.E(null,"divideX","divideX",-1782633104),Vtc=new $APP.E(null,"divideY","divideY",1569462060),PBc=new $APP.q(null,"-\x3eplaceholders","-\x3eplaceholders",-1520176434,null),QBc=new $APP.q("emmy.mathbox.plot","line","emmy.mathbox.plot/line",1334128720,null),RBc=new $APP.E(null,"theta-samples","theta-samples",
1183176136),SBc=new $APP.q(null,"Ellipse","Ellipse",-1588330007,null),TBc=new $APP.q(null,"emmy.mafs","emmy.mafs",-569612220,null),UBc=new $APP.q("emmy.mathbox","clock","emmy.mathbox/clock",-1881683783,null),VBc=new $APP.q(null,"Area","Area",1860906700,null),WBc=new $APP.q(null,"evolve-routhian","evolve-routhian",-2111734427,null),XBc=new $APP.q("mathbox.primitives.view","Polar","mathbox.primitives.view/Polar",-1609986358,null),YBc=new $APP.q(null,"scene","scene",-1130635354,null),ZBc=new $APP.q(null,
"midpoint","midpoint",1604262002,null),$Bc=new $APP.q(null,"mafs","mafs",-1623257583,null),aCc=new $APP.q(null,"grids","grids",1684718721,null),bCc=new $APP.q("emmy.mathbox.components.plot","PolarCurve","emmy.mathbox.components.plot/PolarCurve",1396582784,null),cCc=new $APP.q(null,"text","text",-150030170,null),dCc=new $APP.q(null,"tex?","tex?",1935379838,null),eCc=new $APP.q(null,"mathbox.core","mathbox.core",-1346776612,null),fCc=new $APP.q("emmy.mathbox","split","emmy.mathbox/split",-660545354,
null),gCc=new $APP.q("emmy.mathbox.physics","lagrangian-phase-vectors","emmy.mathbox.physics/lagrangian-phase-vectors",-39926449,null),hCc=new $APP.q("emmy.viewer.components.stopwatch","Stopwatch","emmy.viewer.components.stopwatch/Stopwatch",-807821978,null),iCc=new $APP.q("emmy.mathbox","step","emmy.mathbox/step",208413546,null),jCc=new $APP.q("mathbox.primitives","Axis","mathbox.primitives/Axis",917185793,null),kCc=new $APP.E(null,"depth","depth",1768663640),lCc=new $APP.q(null,"useStopwatch","useStopwatch",
-1003921839,null),mCc=new $APP.q(null,"voxel","voxel",619791257,null),nCc=new $APP.q(null,"parametric","parametric",1366961796,null),oCc=new $APP.q("emmy.mathbox","voxel","emmy.mathbox/voxel",-2019124874,null),pCc=new $APP.q("emmy.mathbox.components.plot","DomLabel","emmy.mathbox.components.plot/DomLabel",1907913132,null),qCc=new $APP.q("emmy.mafs","parametric","emmy.mafs/parametric",576679375,null),rCc=new $APP.E(null,"x-range","x-range",1820649693),sCc=new $APP.q("emmy.mafs","cartesian","emmy.mafs/cartesian",
271032274,null),tCc=new $APP.q("mathbox.primitives.overlay","Html","mathbox.primitives.overlay/Html",1309689304,null),uCc=new $APP.E(null,"colors","colors",1157174732),vCc=new $APP.q("emmy.mathbox","html","emmy.mathbox/html",-2062066241,null),wCc=new $APP.q(null,"clock","clock",746230400,null),xCc=new $APP.q(null,"x-range","x-range",-833786076,null),yCc=new $APP.q("mafs.core","Vector","mafs.core/Vector",-1663035429,null),zCc=new $APP.q("emmy.leva","controls","emmy.leva/controls",-1487494767,null),
ACc=new $APP.q("mathbox.primitives","Strip","mathbox.primitives/Strip",2075766272,null),Ltc=new $APP.E(null,"nice","nice",1404040504),Etc=new $APP.E(null,"divide","divide",2108946657),BCc=new $APP.q("emmy.mathbox","mask","emmy.mathbox/mask",-579732303,null),CCc=new $APP.q(null,"SpecialInputTypes","SpecialInputTypes",-1936271588,null),DCc=new $APP.q("mathbox.primitives.operator","Split","mathbox.primitives.operator/Split",1603851096,null),ECc=new $APP.q("emmy.mathbox","present","emmy.mathbox/present",
-1080283975,null),FCc=new $APP.q(null,"subdivide","subdivide",390538012,null),GCc=new $APP.q("mathbox.primitives.draw","Axis","mathbox.primitives.draw/Axis",-483884051,null),HCc=new $APP.q("emmy.mathbox","repeat","emmy.mathbox/repeat",1971797897,null),ICc=new $APP.q("leva.types","custom-input?","leva.types/custom-input?",90573430,null),JCc=new $APP.q(null,"f-or-opts","f-or-opts",1592782798,null),KCc=new $APP.E(null,"onClick","onClick",-1991238530),LCc=new $APP.q("mafs.debug","TransformWidget","mafs.debug/TransformWidget",
1697375019,null),MCc=new $APP.q("mathbox.primitives.data","Scale","mathbox.primitives.data/Scale",1853637297,null),NCc=new $APP.q(null,"set-math-json!","set-math-json!",259585856,null),OCc=new $APP.q("mathbox.primitives","Clamp","mathbox.primitives/Clamp",1137063655,null),PCc=new $APP.q(null,"useTransformContext","useTransformContext",-1804085489,null),QCc=new $APP.q(null,"with-state","with-state",-670637024,null),RCc=new $APP.q("leva.core","button","leva.core/button",763904309,null),Qqc=new $APP.q("mafs.core",
"Mafs","mafs.core/Mafs",1392133491,null),SCc=new $APP.q(null,"viewport-info","viewport-info",-919776196,null),TCc=new $APP.q("mafs.core","Text","mafs.core/Text",-302615776,null),a6=new $APP.E(null,"store","store",1512230022),UCc=new $APP.q(null,"position","position",-371200385,null),VCc=new $APP.q("mathbox.primitives.operator","Subdivide","mathbox.primitives.operator/Subdivide",-2135264478,null),WCc=new $APP.E(null,"red","red",-969428204),Zsc=new $APP.E(null,"ref","ref",1289896967),XCc=new $APP.q(null,
"precision","precision",464824049,null),YCc=new $APP.q("emmy.mathbox","text","emmy.mathbox/text",1423295119,null),ZCc=new $APP.q("mathbox.core","threestrap-defaults","mathbox.core/threestrap-defaults",1294638534,null),$Cc=new $APP.q(null,"Text","Text",-2054460644,null),aDc=new $APP.q(null,"divisions","divisions",197998737,null),bDc=new $APP.q(null,"Vector","Vector",872890327,null),Tsc=new $APP.E(null,"running?","running?",-257884763),F5=new $APP.E(null,"range","range",1639692286),cDc=new $APP.q("mathbox.primitives",
"Play","mathbox.primitives/Play",180224833,null),Oqc=new $APP.E("portal.viewer","default","portal.viewer/default",-1985169620),dDc=new $APP.q("mathbox.primitives","Grid","mathbox.primitives/Grid",-988235849,null),eDc=new $APP.q("mathbox.primitives.draw","Point","mathbox.primitives.draw/Point",2033057E3,null),fDc=new $APP.q("emmy.mathbox","resample","emmy.mathbox/resample",-1180715208,null),gDc=new $APP.q("mathbox.primitives","Grow","mathbox.primitives/Grow",400222057,null),hDc=new $APP.q("mathbox.primitives",
"Reveal","mathbox.primitives/Reveal",132115850,null),iDc=new $APP.q(null,"emmy.viewer","emmy.viewer",831782198,null),jDc=new $APP.q(null,"Circle","Circle",1481634597,null),kDc=new $APP.q("emmy.mathbox","transform","emmy.mathbox/transform",1388793250,null),lDc=new $APP.q("emmy.mathbox.components.plot","ParametricCurve","emmy.mathbox.components.plot/ParametricCurve",-1596196130,null),mDc=new $APP.q("emmy.mathbox","vertex","emmy.mathbox/vertex",420021853,null),nDc=new $APP.q(null,"of-yz","of-yz",4385622,
null),oDc=new $APP.q("mathbox.primitives.operator","Swizzle","mathbox.primitives.operator/Swizzle",2122810962,null),pDc=new $APP.q(null,"polar-curve","polar-curve",-336412258,null),qDc=new $APP.q(null,"controls","controls",-1313734317,null),rDc=new $APP.q(null,"sub-panel","sub-panel",-78079499,null),sDc=new $APP.q("emmy.mafs","ellipse","emmy.mafs/ellipse",-1235641870,null),tDc=new $APP.q(null,"cdn-fonts","cdn-fonts",-1562955646,null),uDc=new $APP.q(null,"of-xz","of-xz",615559934,null),vDc=new $APP.q(null,
"of-xy","of-xy",-1427639438,null),wDc=new $APP.q("mathbox.primitives","Fragment","mathbox.primitives/Fragment",429273026,null),Tyc=new $APP.E(null,"with-let47452","with-let47452",262941370),xDc=new $APP.q(null,"Comet","Comet",-2130340406,null),yDc=new $APP.q(null,"monitor","monitor",2100140924,null),n6=new $APP.q(null,"on-click","on-click",-1021609226,null),zDc=new $APP.q(null,"ParametricSurface","ParametricSurface",-1111075193,null),ADc=new $APP.q(null,"Config","Config",1298536523,null),BDc=new $APP.q(null,
"!state","!state",-1343022837,null),CDc=new $APP.q(null,"Html","Html",-1695147201,null),DDc=new $APP.q(null,"Camera","Camera",-1408338669,null),EDc=new $APP.q(null,"move","move",-470352782,null),cuc=new $APP.E(null,"grid-width","grid-width",837583106),FDc=new $APP.q(null,"state-\x3exyz","state-\x3exyz",1895439279,null),GDc=new $APP.q(null,"emmy.mathbox.components.physics","emmy.mathbox.components.physics",1590001094,null),HDc=new $APP.q("emmy.mathbox.components.plot","LabeledAxis","emmy.mathbox.components.plot/LabeledAxis",
-950222940,null),$tc=new $APP.E(null,"coords","coords",-599429112),IDc=new $APP.q("emmy.leva","monitor","emmy.leva/monitor",1812069250,null),Ddc=new $APP.q(null,"xy__66617__auto__","xy__66617__auto__",136186911,null),JDc=new $APP.q(null,"with-mag","with-mag",998812937,null),KDc=new $APP.q(null,"mathlive.core","mathlive.core",-261257314,null),LDc=new $APP.E(null,"x-samples","x-samples",811100229),MDc=new $APP.q(null,"Group","Group",-1810497176,null),NDc=new $APP.q("mafs.line","ThroughPoints","mafs.line/ThroughPoints",
-528185843,null),Pqc=new $APP.E("emmy.portal","mafs","emmy.portal/mafs",-95412080),ODc=new $APP.q("mathbox.primitives","Interval","mathbox.primitives/Interval",1202840225,null),PDc=new $APP.q(null,"Theme","Theme",-663121152,null),QDc=new $APP.q("emmy.leva","button-group","emmy.leva/button-group",391280505,null),RDc=new $APP.q(null,"PhaseVectors","PhaseVectors",498723951,null),SDc=new $APP.q("mafs.line","PointSlope","mafs.line/PointSlope",1090654636,null),TDc=new $APP.q(null,"special-input?","special-input?",
-721514811,null),o6=new $APP.q(null,"settings","settings",-1098290894,null),w5=new $APP.E(null,"zOrder","zOrder",444084817),Xsc=new $APP.E(null,"background-color","background-color",570434026),UDc=new $APP.q("mathbox.primitives","Present","mathbox.primitives/Present",15337402,null),VDc=new $APP.q("mathbox.primitives.transform","Vertex","mathbox.primitives.transform/Vertex",1597941124,null),Y5=new $APP.E(null,"onChange","onChange",-312891301),WDc=new $APP.q("mathbox.primitives","Stereographic","mathbox.primitives/Stereographic",
1764922406,null),j5=new $APP.E(null,"start?","start?",1440714206),XDc=new $APP.q("mathbox.primitives","Matrix","mathbox.primitives/Matrix",1981821632,null),YDc=new $APP.q(null,"Dom","Dom",-1903068682,null),ZDc=new $APP.q(null,"shader","shader",-1161602748,null),$Dc=new $APP.q(null,"button","button",-1197855826,null),p6=new $APP.q(null,"z-bias","z-bias",935641424,null),aEc=new $APP.q(null,"ThroughPoints","ThroughPoints",-2001887572,null),bEc=new $APP.q("mathbox.primitives","Spherical","mathbox.primitives/Spherical",
1157296007,null),cEc=new $APP.q("mathbox.primitives","Volume","mathbox.primitives/Volume",1655402604,null),dEc=new $APP.q("mathbox.primitives","Transpose","mathbox.primitives/Transpose",104160466,null),eEc=new $APP.q(null,"Mafs","Mafs",-1970184833,null),fEc=new $APP.q(null,"lagrangian-phase-vectors","lagrangian-phase-vectors",-2002958643,null),gEc=new $APP.q("mathbox.primitives.base","Unit","mathbox.primitives.base/Unit",-2009925281,null),hEc=new $APP.q(null,"of-y","of-y",-1551534224,null),iEc=new $APP.q(null,
"of-z","of-z",430389543,null),jEc=new $APP.q(null,"of-x","of-x",-359449822,null),kEc=new $APP.q(null,"strip","strip",-2021807809,null),lEc=new $APP.q("emmy.mathbox.plot","vector","emmy.mathbox.plot/vector",857328211,null),mEc=new $APP.q("mathbox.primitives","Area","mathbox.primitives/Area",1617026373,null),nEc=new $APP.q("emmy.mathbox","rawbox","emmy.mathbox/rawbox",-1636308662,null),Dtc=new $APP.E(null,"labels?","labels?",810138259),d5=new $APP.E(null,"controls","controls",1340701452),oEc=new $APP.q(null,
"view","view",-1406440955,null),pEc=new $APP.q(null,"leva.core","leva.core",935271055,null),qEc=new $APP.q("emmy.mathbox","spread","emmy.mathbox/spread",811102517,null),rEc=new $APP.E(null,"history","history",-247395220),sEc=new $APP.q(null,"Mask","Mask",-375651427,null),tEc=new $APP.E(null,"button","button",1456579943),y5=new $APP.E(null,"position","position",-2011731912),uEc=new $APP.q(null,"Step","Step",-816692470,null),vEc=new $APP.q(null,"emmy.mathbox","emmy.mathbox",987581295,null),wEc=new $APP.q("emmy.viewer.components.stopwatch",
"Stopwatch*","emmy.viewer.components.stopwatch/Stopwatch*",-226447233,null),xEc=new $APP.q(null,"snap","snap",1588816623,null),yEc=new $APP.q("mafs.core","Ellipse","mafs.core/Ellipse",155130365,null),zEc=new $APP.q("emmy.mathbox","shader","emmy.mathbox/shader",429490973,null),Cdc=new $APP.q(null,"psym__66616__auto__","psym__66616__auto__",49390669,null),q6=new $APP.q(null,"mf","mf",420183542,null),r6=new $APP.q(null,"schema","schema",58529736,null),AEc=new $APP.q(null,"-\x3emath-json","-\x3emath-json",
1319582900,null),BEc=new $APP.q("emmy.viewer.components.physics","make-solver","emmy.viewer.components.physics/make-solver",-1316415356,null),Duc=new $APP.q(null,"out__67029__auto__","out__67029__auto__",1920604102,null),CEc=new $APP.q(null,"Move","Move",-687448615,null),DEc=new $APP.q(null,"normal","normal",121407669,null),EEc=new $APP.q(null,"sc","sc",-1506412737,null),euc=new $APP.E(null,"grid-color","grid-color",1621475545),FEc=new $APP.q("mathbox.primitives","Array","mathbox.primitives/Array",
-313915872,null),GEc=new $APP.q("mathbox.primitives.base","Group","mathbox.primitives.base/Group",1595001856,null),HEc=new $APP.q("leva.core","Controls","leva.core/Controls",-652258110,null),IEc=new $APP.q(null,"post-fn","post-fn",614222804,null),JEc=new $APP.q(null,"v0","v0",744594066,null),KEc=new $APP.q(null,"tx","tx",2107161945,null),LEc=new $APP.q(null,"ty","ty",1798822352,null),MEc=new $APP.q(null,"Present","Present",-111102675,null),NEc=new $APP.q(null,"Compose","Compose",-248875139,null),
s6=new $APP.q(null,"arrow-size","arrow-size",-494078721,null),OEc=new $APP.q(null,"Interval","Interval",1278783288,null),PEc=new $APP.E(null,"tip","tip",1221810860),QEc=new $APP.q("mafs.core","Polygon","mafs.core/Polygon",-258494391,null),t6=new $APP.q(null,"x2","x2",278018052,null),REc=new $APP.E(null,"pink","pink",393815864),u6=new $APP.q(null,"y1","y1",-2065312303,null),v6=new $APP.q(null,"y2","y2",921840226,null),SEc=new $APP.q(null,"mathbox.primitives.transform","mathbox.primitives.transform",
894479896,null),TEc=new $APP.q("emmy.mathbox","stereographic4","emmy.mathbox/stereographic4",670392779,null),UEc=new $APP.q(null,"mafs-meta","mafs-meta",1999685657,null),VEc=new $APP.q("emmy.mathbox","view","emmy.mathbox/view",268350428,null),WEc=new $APP.q(null,"box-defaults","box-defaults",999920430,null),XEc=new $APP.q(null,"polygon","polygon",-1817382010,null),Juc=new $APP.q("emmy.viewer.components.physics","Evolve","emmy.viewer.components.physics/Evolve",-1197323746,null),YEc=new $APP.q(null,
"length","length",-2065447907,null),ZEc=new $APP.q(null,"DomLabel","DomLabel",-808483696,null),$Ec=new $APP.E(null,"containerClass","containerClass",-101509595),aFc=new $APP.q("mathbox.primitives.rtt","Rtt","mathbox.primitives.rtt/Rtt",-1276373228,null),bFc=new $APP.E(null,"disabled","disabled",-1529784218),rdc=new $APP.q(null,"x__66599__auto__","x__66599__auto__",1420927907,null),cFc=new $APP.q("mathbox.primitives","Vector","mathbox.primitives/Vector",1032645708,null),dFc=new $APP.q("mafs.core",
"Polyline","mafs.core/Polyline",1867793228,null),w6=new $APP.q(null,"entry","entry",2145700350,null),eFc=new $APP.q("mafs.vec","mag","mafs.vec/mag",1774485878,null),fFc=new $APP.q("emmy.mathbox","move","emmy.mathbox/move",1277802073,null),gFc=new $APP.q(null,"View","View",-131475192,null),hFc=new $APP.q("emmy.mathbox.components.plot","OfXY","emmy.mathbox.components.plot/OfXY",952712565,null),iFc=new $APP.q("emmy.mathbox.components.plot","OfXZ","emmy.mathbox.components.plot/OfXZ",886951684,null),jFc=
new $APP.q(null,"cp","cp",962092215,null),kFc=new $APP.q(null,"x-samples","x-samples",-1843335540,null),lFc=new $APP.E(null,"monitor","monitor",459609397),mFc=new $APP.q("mathbox.primitives","Memo","mathbox.primitives/Memo",-500462083,null),nFc=new $APP.q("mathbox.primitives","Camera","mathbox.primitives/Camera",-1433074788,null),oFc=new $APP.q("emmy.mathbox.components.plot","OfYZ","emmy.mathbox.components.plot/OfYZ",-1847449497,null),$5=new $APP.E(null,"settings","settings",1556144875),pFc=new $APP.q("emmy.mathbox",
"mathbox","emmy.mathbox/mathbox",-161227359,null),qFc=new $APP.q(null,"y-range","y-range",1845768624,null),rFc=new $APP.q("mathbox.primitives","Group","mathbox.primitives/Group",-1836231535,null),sFc=new $APP.q("emmy.viewer.components.physics","point-integrator","emmy.viewer.components.physics/point-integrator",-1018720086,null),tFc=new $APP.q("mafs.vec","square-dist","mafs.vec/square-dist",2140157725,null),uFc=new $APP.q("mathbox.primitives","Face","mathbox.primitives/Face",956501375,null),vFc=new $APP.q(null,
"Slide","Slide",1579331222,null),wFc=new $APP.q("emmy.mafs","vector-field","emmy.mafs/vector-field",1574907875,null),xFc=new $APP.q("mafs.vec","normalize","mafs.vec/normalize",-18090961,null),jtc=new $APP.E(null,"tex?","tex?",294848311),yFc=new $APP.q(null,"FolderType","FolderType",763730221,null),zFc=new $APP.q(null,"Label","Label",-2133777657,null),AFc=new $APP.q(null,"Mathfield","Mathfield",-737908086,null),BFc=new $APP.q("mafs.core","labelPi","mafs.core/labelPi",2041711407,null),CFc=new $APP.q("mafs.vec",
"midpoint","mafs.vec/midpoint",1357250041,null),DFc=new $APP.q("emmy.viewer.physics","evolve-lagrangian","emmy.viewer.physics/evolve-lagrangian",1162547247,null),EFc=new $APP.q("emmy.mathbox.components.plot","box-defaults","emmy.mathbox.components.plot/box-defaults",-776763846,null),Z5=new $APP.E(null,"schema","schema",-1582001791),FFc=new $APP.E(null,"grid-theta","grid-theta",1194846022),Btc=new $APP.E(null,"divisions","divisions",-1442532790),GFc=new $APP.q("emmy.mathbox.components.plot","SceneGrids",
"emmy.mathbox.components.plot/SceneGrids",846572641,null),uuc=new $APP.q("js","Array.","js/Array.",1235645307,null),HFc=new $APP.E(null,"post-fn","post-fn",-1026308723),IFc=new $APP.q(null,"SpecialInputs","SpecialInputs",918346126,null),JFc=new $APP.q(null,"parametric-surface","parametric-surface",-341367013,null),KFc=new $APP.q(null,"Cartesian","Cartesian",-1514043068,null),LFc=new $APP.q("emmy.mathbox","transform4","emmy.mathbox/transform4",-2061775981,null),MFc=new $APP.q("Math","PI","Math/PI",
-11278713,null),NFc=new $APP.q("emmy.mathbox.plot","parametric-surface","emmy.mathbox.plot/parametric-surface",-875374975,null),OFc=new $APP.q("emmy.mafs","point","emmy.mafs/point",1010759994,null),PFc=new $APP.q("mafs.debug","ViewportInfo","mafs.debug/ViewportInfo",-1936279634,null),QFc=new $APP.q(null,"mathbox.primitives.camera","mathbox.primitives.camera",-736965619,null),RFc=new $APP.q("leva.core","Config","leva.core/Config",-569871568,null),SFc=new $APP.q("emmy.mathbox.physics","hamiltonian-curve",
"emmy.mathbox.physics/hamiltonian-curve",-996972516,null),TFc=new $APP.q(null,"snap?","snap?",-1165238235,null),O5=new $APP.E(null,"u-range","u-range",910531313),s5=new $APP.E(null,"z-index","z-index",1892827090),x6=new $APP.q(null,"z-index","z-index",-761608679,null),UFc=new $APP.q("mathbox.primitives.draw","Ticks","mathbox.primitives.draw/Ticks",619757729,null),VFc=new $APP.q(null,"Slice","Slice",-1270834964,null),WFc=new $APP.E("emmy.portal","reagent","emmy.portal/reagent",1080943232),XFc=new $APP.q(null,
"polar-surface","polar-surface",628752531,null),YFc=new $APP.q(null,"emmy.viewer.physics","emmy.viewer.physics",1760168458,null),ZFc=new $APP.q(null,"rawbox","rawbox",1016636259,null),$Fc=new $APP.q(null,"leva.types","leva.types",-1535108225,null),aGc=new $APP.q("mathbox.primitives","Subdivide","mathbox.primitives/Subdivide",-470832642,null),bGc=new $APP.q(null,"emmy.viewer.stopwatch","emmy.viewer.stopwatch",-1852034379,null),cGc=new $APP.q(null,"spread","spread",-1792098578,null),dGc=new $APP.q(null,
"Fragment","Fragment",388889675,null),eGc=new $APP.q(null,"y-samples","y-samples",175313031,null),fGc=new $APP.q(null,"OfYZ","OfYZ",1073732987,null),gGc=new $APP.q(null,"emmy.mathbox.physics","emmy.mathbox.physics",-1520312101,null),hGc=new $APP.q(null,"transform4","transform4",665915972,null),iGc=new $APP.q("emmy.viewer","with-let","emmy.viewer/with-let",78267028,null),jGc=new $APP.q(null,"OfXZ","OfXZ",-1832664560,null),sGc=new $APP.q(null,"OfXY","OfXY",-1832967615,null),kGc=new $APP.q("emmy.mathbox",
"scale","emmy.mathbox/scale",-219766521,null),lGc=new $APP.q("mathbox.primitives.rtt","Compose","mathbox.primitives.rtt/Compose",552342008,null),mGc=new $APP.q(null,"Ticks","Ticks",-469763046,null),nGc=new $APP.E(null,"y-range","y-range",205237097),oGc=new $APP.q(null,"mathbox.primitives.text","mathbox.primitives.text",423875049,null),pGc=new $APP.q("mafs.core","useTransformContext","mafs.core/useTransformContext",2085679355,null),qGc=new $APP.q(null,"format","format",333606761,null),rGc=new $APP.q("mathbox.primitives",
"Stereographic4","mathbox.primitives/Stereographic4",-462845377,null),xGc=new $APP.q(null,"tip","tip",-1432624909,null),tGc=new $APP.q("mathbox.primitives.view","Stereographic","mathbox.primitives.view/Stereographic",-1128717827,null),Usc=new $APP.E(null,"onTick","onTick",390443084),uGc=new $APP.q(null,"Stereographic","Stereographic",1739074233,null),vGc=new $APP.q("emmy.mathbox","camera","emmy.mathbox/camera",-2060551831,null),wGc=new $APP.q(null,"phase-vectors","phase-vectors",2028184674,null),
yGc=new $APP.q("mathbox.primitives.data","Voxel","mathbox.primitives.data/Voxel",581585006,null),Ctc=new $APP.E(null,"background","background",-863952629),zGc=new $APP.q("mathbox.primitives","View","mathbox.primitives/View",-5042301,null),AGc=new $APP.q(null,"Stopwatch","Stopwatch",-690056083,null),BGc=new $APP.q(null,"Reveal","Reveal",1011391251,null),CGc=new $APP.q(null,"emmy.mathbox.plot","emmy.mathbox.plot",1997640408,null),DGc=new $APP.q("emmy.mathbox","label","emmy.mathbox/label",731882144,
null),atc=new $APP.E(null,"renderer","renderer",336841071),EGc=new $APP.q(null,"mathbox.primitives.base","mathbox.primitives.base",-566974481,null),FGc=new $APP.q(null,"comet","comet",-1327701293,null),GGc=new $APP.q("emmy.mathbox","spherical","emmy.mathbox/spherical",1612245184,null),HGc=new $APP.q(null,"VectorField","VectorField",-214667256,null),IGc=new $APP.q(null,"Transform4","Transform4",-1726980308,null),JGc=new $APP.q("emmy.mathbox","volume","emmy.mathbox/volume",911608655,null),KGc=new $APP.q(null,
"Vertex","Vertex",-512523831,null),LGc=new $APP.E(null,"containerId","containerId",545549578),MGc=new $APP.q("mathbox.primitives","Move","mathbox.primitives/Move",-661788090,null),NGc=new $APP.q("emmy.viewer","expand","emmy.viewer/expand",1451248496,null),OGc=new $APP.q("emmy.mathbox","slide","emmy.mathbox/slide",261994770,null),PGc=new $APP.q(null,"point-integrator","point-integrator",2022286565,null),QGc=new $APP.q("emmy.mathbox","slice","emmy.mathbox/slice",1948433876,null),RGc=new $APP.q("mathbox.primitives",
"Compose","mathbox.primitives/Compose",-2940428,null),SGc=new $APP.q("emmy.mathbox","compose","emmy.mathbox/compose",-426367234,null),TGc=new $APP.q("mathbox.primitives.operator","Clamp","mathbox.primitives.operator/Clamp",1719394459,null),UGc=new $APP.q("mathbox.primitives","Readback","mathbox.primitives/Readback",-897225244,null),Q5=new $APP.q(null,"out__66993__auto__","out__66993__auto__",1621550311,null),VGc=new $APP.q("emmy.mafs","vector","emmy.mafs/vector",-531225442,null),WGc=new $APP.E(null,
"z-samples","z-samples",-1471497166),jAc=new $APP.E(null,"folder","folder",1515881736),XGc=new $APP.q("emmy.mafs","point-angle","emmy.mafs/point-angle",-430017069,null),YGc=new $APP.q("mafs.plot","Inequality","mafs.plot/Inequality",-1871249265,null),ZGc=new $APP.q("mathbox.primitives.operator","Resample","mathbox.primitives.operator/Resample",1349427291,null),$Gc=new $APP.q("mafs.vec","with-mag","mafs.vec/with-mag",23153586,null),aHc=new $APP.q("mathbox.primitives","Shader","mathbox.primitives/Shader",
-1697795990,null),Rqc=new $APP.q("mafs.coordinates","Cartesian","mafs.coordinates/Cartesian",-1187399086,null),bHc=new $APP.q("emmy.mathbox","vector","emmy.mathbox/vector",-1310711508,null),cHc=new $APP.q(null,"mafs.debug","mafs.debug",-1603070117,null),dHc=new $APP.q(null,"custom-input?","custom-input?",-176480767,null),eHc=new $APP.q(null,"axes","axes",-683569329,null),fHc=new $APP.q("leva.types","special-input?","leva.types/special-input?",80974548,null),gHc=new $APP.E(null,"alignHeight","alignHeight",
301268438),hHc=new $APP.q(null,"reveal","reveal",1509157325,null),iHc=new $APP.q(null,"hamiltonian-curve","hamiltonian-curve",1907201946,null),jHc=new $APP.q("emmy.mathbox","now","emmy.mathbox/now",1368218261,null),kHc=new $APP.q("mathbox.primitives.transform","Fragment","mathbox.primitives.transform/Fragment",-1932344836,null),ftc=new $APP.E(null,"klass","klass",-1386752349),lHc=new $APP.q("emmy.viewer.plot","format-number","emmy.viewer.plot/format-number",579323146,null),c5=new $APP.E(null,"f\x3e",
"f\x3e",1484564198),mHc=new $APP.q("mathbox.primitives.present","Slide","mathbox.primitives.present/Slide",-788774958,null),nHc=new $APP.q("mathbox.primitives.operator","Transpose","mathbox.primitives.operator/Transpose",1760237086,null),oHc=new $APP.q("mafs.vec","normal","mafs.vec/normal",948663870,null),pHc=new $APP.q(null,"evolve-hamiltonian","evolve-hamiltonian",1072497772,null),qHc=new $APP.q("emmy.mathbox","stereographic","emmy.mathbox/stereographic",-1490592168,null),rHc=new $APP.q("clojure.core",
"get","clojure.core/get",-198953213,null),T5=new $APP.E(null,"f'","f'",30804968),sHc=new $APP.q("mathbox.primitives.data","Area","mathbox.primitives.data/Area",-1746633585,null),tHc=new $APP.q("mathbox.primitives.text","Retext","mathbox.primitives.text/Retext",423369225,null),xHc=new $APP.q(null,"AxisLabel","AxisLabel",-15384489,null),uHc=new $APP.q(null,"polyline","polyline",-91019517,null),xuc=new $APP.q(null,"psym__66994__auto__","psym__66994__auto__",-507817928,null),vHc=new $APP.q(null,"mathfield",
"mathfield",-1769036837,null),M5=new $APP.E(null,"u-samples","u-samples",2078476587),wHc=new $APP.q("emmy.mathbox","line","emmy.mathbox/line",-861168203,null),GHc=new $APP.q(null,"labels?","labels?",-1844297510,null),ruc=new $APP.E(null,"shaded","shaded",561405058),yHc=new $APP.q(null,"Format","Format",-1182429160,null),etc=new $APP.E(null,"on","on",173873944),zHc=new $APP.q("mathbox.primitives.view","Stereographic4","mathbox.primitives.view/Stereographic4",835925364,null),AHc=new $APP.q(null,"cartesian4",
"cartesian4",-1556637390,null),BHc=new $APP.q(null,"square-dist","square-dist",1896485526,null),CHc=new $APP.q("emmy.mathbox.components.plot","Cartesian","emmy.mathbox.components.plot/Cartesian",64455768,null),DHc=new $APP.q("mathbox.primitives.operator","Spread","mathbox.primitives.operator/Spread",1211068744,null),EHc=new $APP.q("emmy.mathbox","strip","emmy.mathbox/strip",2043213670,null),q5=new $APP.E(null,"z-bias","z-bias",-704890103),FHc=new $APP.q("mathbox.primitives.draw","Vector","mathbox.primitives.draw/Vector",
252594792,null),HHc=new $APP.q(null,"threestrap-defaults","threestrap-defaults",1862651176,null),y6=new $APP.E(null,"xy","xy",-696978232),IHc=new $APP.q(null,"rtt","rtt",1680827112,null),JHc=new $APP.E(null,"xz","xz",426487154),itc=new $APP.E(null,"up","up",-269712113),KHc=new $APP.q(null,"with-params","with-params",1172475110,null),LHc=new $APP.E(null,"x0","x0",410843387),MHc=new $APP.q("emmy.leva","folder","emmy.leva/folder",-1391662575,null),NHc=new $APP.q(null,"transform-widget","transform-widget",
-539690614,null),OHc=new $APP.q("mathbox.primitives","Clock","mathbox.primitives/Clock",-1930546827,null),Buc=new $APP.q(null,"psym__67027__auto__","psym__67027__auto__",754646E3,null),PHc=new $APP.q("mathbox.primitives","Now","mathbox.primitives/Now",933701808,null),QHc=new $APP.q(null,"point-angle","point-angle",-144527332,null),RHc=new $APP.q("emmy.mathbox","transpose","emmy.mathbox/transpose",-502693178,null),SHc=new $APP.E(null,"v0","v0",-895937461),THc=new $APP.E(null,"objectOrFn","objectOrFn",
-2146548127),Ysc=new $APP.E(null,"background-opacity","background-opacity",-1073748756),UHc=new $APP.q("mathbox.primitives.transform","Transform4","mathbox.primitives.transform/Transform4",592264057,null),VHc=new $APP.q("emmy.mafs","colors","emmy.mafs/colors",-1247454754,null),WHc=new $APP.E(null,"containerStyle","containerStyle",-1828381609),XHc=new $APP.E(null,"plugins","plugins",1900073717),YHc=new $APP.q("mathbox.primitives","Voxel","mathbox.primitives/Voxel",1345267876,null),ZHc=new $APP.q(null,
"radius","radius",-432590731,null),Mqc=new $APP.q("reagent.core","with-let","reagent.core/with-let",-1625899993,null),$Hc=new $APP.q("mathbox.primitives","Split","mathbox.primitives/Split",-1183933028,null),Ftc=new $APP.E(null,"zero","zero",-858964576),Nuc=new $APP.q("emmy.mathbox.components.physics","PhaseVectors","emmy.mathbox.components.physics/PhaseVectors",-1820177605,null),aIc=new $APP.E(null,"yx","yx",1696579752),bIc=new $APP.E(null,"yz","yz",679015029),cIc=new $APP.q(null,"cartesian","cartesian",
256171159,null),dIc=new $APP.E(null,"zy","zy",-1975963090),eIc=new $APP.E(null,"zx","zx",-933582998),fIc=new $APP.E(null,"y-samples","y-samples",-1465218496),gIc=new $APP.q("mathbox.primitives.transform","Transform","mathbox.primitives.transform/Transform",1118031936,null),hIc=new $APP.q("emmy.mathbox.components.plot","Line","emmy.mathbox.components.plot/Line",1639119054,null),iIc=new $APP.q("mathbox.primitives","Ticks","mathbox.primitives/Ticks",-361320827,null),jIc=new $APP.q("mathbox.primitives.draw",
"Line","mathbox.primitives.draw/Line",-2033847467,null),kIc=new $APP.q("mafs.core","Point","mafs.core/Point",-401633189,null),Qtc=new $APP.E(null,"snap","snap",-51714904),lIc=new $APP.q("mathbox.primitives","Repeat","mathbox.primitives/Repeat",-1574268723,null),mIc=new $APP.q(null,"transform","transform",-1273134005,null),nIc=new $APP.q("mathlive.core","Mathfield","mathlive.core/Mathfield",989961683,null),oIc=new $APP.E(null,"blue","blue",-622100620),pIc=new $APP.q(null,"labelPi","labelPi",-778759405,
null),qIc=new $APP.q("mafs.line","Segment","mafs.line/Segment",-579584513,null),rIc=new $APP.E(null,"grid-r","grid-r",1146284528),sIc=new $APP.q(null,"Clamp","Clamp",976282718,null),G5=new $APP.E(null,"grid-u","grid-u",-765765613),H5=new $APP.E(null,"grid-v","grid-v",-1991151708),tIc=new $APP.E(null,"grid-x","grid-x",1935903622),uIc=new $APP.E(null,"grid-y","grid-y",1140315474),vIc=new $APP.E(null,"grid-z","grid-z",855482282),wIc=new $APP.q("mathbox.primitives.present","Present","mathbox.primitives.present/Present",
-2141575703,null),h5=new $APP.E(null,"live","live",-1610148039),xIc=new $APP.q("mathbox.primitives.operator","Lerp","mathbox.primitives.operator/Lerp",-1101353849,null),yIc=new $APP.q(null,"geodesic","geodesic",-2083895316,null),zIc=new $APP.q(null,"ODECurve","ODECurve",1552111318,null),AIc=new $APP.q("clojure.core","get-in","clojure.core/get-in",-1204155834,null),mdc=new $APP.q(null,"psym__66598__auto__","psym__66598__auto__",894984320,null),BIc=new $APP.q("emmy.mafs","circle","emmy.mafs/circle",
-1025705780,null),CIc=new $APP.q("emmy.viewer.physics","evolve-routhian","emmy.viewer.physics/evolve-routhian",-1304376672,null),DIc=new $APP.q("mathlive.core","-\x3eplaceholders","mathlive.core/-\x3eplaceholders",-597062363,null),EIc=new $APP.E("emmy.portal","mathlive","emmy.portal/mathlive",-879079692),Mtc=new $APP.E(null,"weight","weight",-1262796205),FIc=new $APP.E(null,"on-move","on-move",-1779179710),GIc=new $APP.q("emmy.mafs","mafs","emmy.mafs/mafs",-1369683636,null),HIc=new $APP.q(null,"Spread",
"Spread",-1805618163,null),IIc=new $APP.q("emmy.mathbox","reveal","emmy.mathbox/reveal",-195153130,null),JIc=new $APP.q(null,"slice","slice",-353076229,null),KIc=new $APP.q("mathbox.primitives","Vertex","mathbox.primitives/Vertex",-335881150,null),LIc=new $APP.q(null,"slide","slide",1783023419,null),MIc=new $APP.q(null,"mafs.coordinates","mafs.coordinates",-1797555390,null),NIc=new $APP.q(null,"emmy.viewer.plot","emmy.viewer.plot",-1008175511,null),OIc=new $APP.q("emmy.mafs","viewport-info","emmy.mafs/viewport-info",
939626873,null),l5=new $APP.E(null,"color","color",1011675173),PIc=new $APP.q("emmy.mafs","text","emmy.mafs/text",-429130471,null),QIc=new $APP.q(null,"Swizzle","Swizzle",450790761,null),v5=new $APP.E(null,"zIndex","zIndex",-1588341609),RIc=new $APP.q("mathbox.core","MathBox","mathbox.core/MathBox",-1451256013,null),SIc=new $APP.q("emmy.mathbox","group","emmy.mathbox/group",671054352,null),TIc=new $APP.q("mathbox.primitives","Polar","mathbox.primitives/Polar",-1749556723,null),UIc=new $APP.q(null,
"Segment","Segment",1964856604,null),VIc=new $APP.q("emmy.leva","sub-panel","emmy.leva/sub-panel",-2005075661,null),WIc=new $APP.q("emmy.mathbox.plot","labeled-axis","emmy.mathbox.plot/labeled-axis",1930953343,null),XIc=new $APP.q("mathbox.primitives","Text","mathbox.primitives/Text",-1961772649,null),YIc=new $APP.q("mathlive.core","set-math-json!","mathlive.core/set-math-json!",-1501658725,null),b5=new $APP.q("js","Function.","js/Function.",-1454475354,null),ZIc=new $APP.q(null,"PointSlope","PointSlope",
-1721955891,null),$Ic=new $APP.q(null,"ode-curve","ode-curve",1386791275,null),aJc=new $APP.q("mathbox.primitives.text","Text","mathbox.primitives.text/Text",1553818712,null),bJc=new $APP.q(null,"mathbox.primitives.overlay","mathbox.primitives.overlay",-48495376,null),cJc=new $APP.q(null,"Inequality","Inequality",1210714689,null),r5=new $APP.E(null,"width","width",-384071477),dJc=new $APP.q("mathbox.primitives","Cartesian4","mathbox.primitives/Cartesian4",115701845,null),eJc=new $APP.q(null,"Readback",
"Readback",-1069768581,null),fJc=new $APP.q("emmy.viewer","get","emmy.viewer/get",2069814174,null),gJc=new $APP.q("emmy.mathbox.plot","of-xy","emmy.mathbox.plot/of-xy",-902602504,null),hJc=new $APP.q("emmy.leva","button","emmy.leva/button",-1414084376,null),iJc=new $APP.q("emmy.mathbox.plot","of-xz","emmy.mathbox.plot/of-xz",-992214176,null),jJc=new $APP.E(null,"tail","tail",-1146023564),kJc=new $APP.q("emmy.mathbox.plot","of-yz","emmy.mathbox.plot/of-yz",538342604,null),lJc=new $APP.q(null,"Line",
"Line",-1076951502,null),mJc=new $APP.q(null,"text-size","text-size",694913218,null),nJc=new $APP.q("emmy.mathbox.physics","routhian-curve","emmy.mathbox.physics/routhian-curve",-373399279,null),oJc=new $APP.q(null,"tip-or-opts","tip-or-opts",996329507,null),K5=new $APP.E(null,"v-range","v-range",1529354041),pJc=new $APP.q(null,"dom","dom",403993605,null),qJc=new $APP.q("leva.types","primitive?","leva.types/primitive?",895055317,null),rJc=new $APP.q(null,"dot","dot",-1211726368,null),sJc=new $APP.q(null,
"movable-point","movable-point",-364804453,null),tJc=new $APP.q("mathbox.primitives","Step","mathbox.primitives/Step",-181856637,null),uJc=new $APP.q("mathbox.primitives","Mask","mathbox.primitives/Mask",-149597162,null),vJc=new $APP.q(null,"mathbox.primitives.time","mathbox.primitives.time",-1216371197,null),wJc=new $APP.E(null,"r-range","r-range",351524662),ctc=new $APP.E(null,"rotate-speed","rotate-speed",-564390296),xJc=new $APP.q(null,"on-move","on-move",-138648183,null),yJc=new $APP.q(null,
"swizzle","swizzle",683888479,null),zJc=new $APP.q(null,"PolarCurve","PolarCurve",180889332,null),AJc=new $APP.q("leva.core","button-group","leva.core/button-group",-1452806910,null),BJc=new $APP.q(null,"Rtt","Rtt",-483528305,null),t5=new $APP.E(null,"z","z",-789527183),CJc=new $APP.q(null,"z-range","z-range",924911468,null),z6=new $APP.E(null,"y","y",-1757859776),A6=new $APP.E(null,"x","x",2099068185),DJc=new $APP.q(null,"in-\x3eout","in-\x3eout",552839758,null),EJc=new $APP.E(null,"u","u",-1156634785),
FJc=new $APP.E("portal.viewer","mathlive?","portal.viewer/mathlive?",-1076221527),N5=new $APP.E(null,"v-samples","v-samples",938837869),GJc=new $APP.q("mathbox.primitives","Html","mathbox.primitives/Html",-1603447226,null),HJc=new $APP.q("mathbox.primitives","Spread","mathbox.primitives/Spread",1809426052,null),B6=new $APP.E(null,"R","R",-936662523),IJc=new $APP.q("emmy.mathbox.components.plot","AxisLabel","emmy.mathbox.components.plot/AxisLabel",1496012651,null),JJc=new $APP.q(null,"lerp","lerp",
796102679,null),KJc=new $APP.E(null,"z-range","z-range",-715620059),W5=new $APP.E(null,"L","L",-1038307519),C6=new $APP.E(null,"H","H",-938148327),b6=new $APP.E(null,"\x3e","\x3e",-555517146),E5=new $APP.E(null,"arrow-size","arrow-size",-2134610248),LJc=new $APP.q("mafs.vec","lerp","mafs.vec/lerp",568964766,null),MJc=new $APP.q("mathlive.core","-\x3emath-json","mathlive.core/-\x3emath-json",-442381841,null),NJc=new $APP.q("emmy.mathbox","axis","emmy.mathbox/axis",1946347466,null),OJc=new $APP.q(null,
"colors","colors",-1497261037,null),PJc=new $APP.q("emmy.mafs","polygon","emmy.mafs/polygon",1656753529,null),QJc=new $APP.q(null,"mafs.core","mafs.core",-1459488166,null),RJc=new $APP.q(null,"Volume","Volume",1797394167,null),SJc=new $APP.q(null,"Repeat","Repeat",-1413718092,null),U5=new $APP.E(null,"state-\x3exyz","state-\x3exyz",254907752),TJc=new $APP.q(null,"mafs.line","mafs.line",-5685442,null),UJc=new $APP.q(null,"emmy.leva","emmy.leva",-279932196,null),VJc=new $APP.q(null,"mafs.vec","mafs.vec",
-267198157,null),WJc=new $APP.q(null,"circle","circle",-751223407,null),XJc=new $APP.q("emmy.mathbox","fragment","emmy.mathbox/fragment",818865172,null);var $4=function $4(a){switch(arguments.length){case 1:return $4.j(arguments[0]);case 2:return $4.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};$4.j=function(a){return $4.A(a,null)};$4.A=function(a,b){return $APP.Xj.C(a,$APP.rg,nAc,!0,Oqc,WFc,$APP.y([e6,$APP.k(b)?b:null]))};$4.G=2;$APP.e=U4.prototype;$APP.e.Ka=function(a,b){return this.fa(null,b,null)};
$APP.e.fa=function(a,b,c){switch(b instanceof $APP.E?b.ga:null){case "f":return this.f;case "atom":return this.atom;case "params":return this.params;default:return $APP.C.B(this.N,b,c)}};$APP.e.lb=function(a,b,c){return $APP.Id.B(function(d,g){var l=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return b.B?b.B(d,l,g):b.call(null,d,l,g)},c,this)};
$APP.e.ea=function(a,b,c){return $APP.Rg(b,function(d){return $APP.Rg(b,$APP.Ug,""," ","",c,d)},"#emmy.viewer.ParamF{",", ","}",c,$APP.N.A(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Dy,this.f],null),new $APP.H(null,2,5,$APP.I,[$APP.nv,this.atom],null),new $APP.H(null,2,5,$APP.I,[$APP.dm,this.params],null)],null),this.N))};$APP.e.Qa=function(){return new $APP.Ff(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Dy,$APP.nv,$APP.dm],null),$APP.k(this.N)?$APP.qc(this.N):$APP.we())};
$APP.e.ba=function(){return this.R};$APP.e.qa=function(){return new U4(this.f,this.atom,this.params,this.R,this.N,this.P)};$APP.e.ta=function(){return 3+$APP.Tc(this.N)};$APP.e.ka=function(){var a=this.P;return null!=a?a:this.P=a=-1988479610^$APP.Kc(this)};$APP.e.Y=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.Uc.A(this.f,b.f)&&$APP.Uc.A(this.atom,b.atom)&&$APP.Uc.A(this.params,b.params)&&$APP.Uc.A(this.N,b.N)};
$APP.e.Ib=function(a,b){return $APP.Bd(new $APP.ug(null,new $APP.f(null,3,[$APP.dm,null,$APP.Dy,null,$APP.nv,null],null),null),b)?$APP.Oi.A($APP.Ib($APP.Lf.A($APP.F,this),this.R),b):new U4(this.f,this.atom,this.params,this.R,$APP.re($APP.Oi.A(this.N,b)),null)};$APP.e.Va=function(a,b){switch(b instanceof $APP.E?b.ga:null){case "f":case "atom":case "params":return!0;default:return $APP.Bd(this.N,b)}};
$APP.e.sa=function(a,b,c){return $APP.k($APP.$d.A?$APP.$d.A($APP.Dy,b):$APP.$d.call(null,$APP.Dy,b))?new U4(c,this.atom,this.params,this.R,this.N,null):$APP.k($APP.$d.A?$APP.$d.A($APP.nv,b):$APP.$d.call(null,$APP.nv,b))?new U4(this.f,c,this.params,this.R,this.N,null):$APP.k($APP.$d.A?$APP.$d.A($APP.dm,b):$APP.$d.call(null,$APP.dm,b))?new U4(this.f,this.atom,c,this.R,this.N,null):new U4(this.f,this.atom,this.params,this.R,$APP.rg.B(this.N,b,c),null)};
$APP.e.ma=function(){return $APP.r($APP.N.A(new $APP.H(null,3,5,$APP.I,[new $APP.Cd($APP.Dy,this.f,null),new $APP.Cd($APP.nv,this.atom,null),new $APP.Cd($APP.dm,this.params,null)],null),this.N))};$APP.e.da=function(a,b){return new U4(this.f,this.atom,this.params,b,this.N,this.P)};$APP.e.ua=function(a,b){return $APP.od(b)?this.sa(null,$APP.bd(b,0),$APP.bd(b,1)):$APP.Id.B($APP.nb,this,b)};var D6=function D6(a){switch(arguments.length){case 1:return D6.j(arguments[0]);case 2:return D6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};D6.j=function(a){return D6.A(a,$APP.F)};D6.A=function(a,b){return new $APP.D(null,RCc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};D6.G=2;
var E6=function E6(a){switch(arguments.length){case 1:return E6.j(arguments[0]);case 2:return E6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};E6.j=function(a){return new $APP.D(null,AJc,new $APP.D(null,a,null,1,null),2,null)};E6.A=function(a,b){return new $APP.D(null,AJc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};E6.G=2;
var F6=function F6(a){switch(arguments.length){case 1:return F6.j(arguments[0]);case 2:return F6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};F6.j=function(a){return new $APP.D(null,gBc,new $APP.D(null,a,null,1,null),2,null)};F6.A=function(a,b){return new $APP.D(null,gBc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};F6.G=2;
var G6=function G6(a){switch(arguments.length){case 1:return G6.j(arguments[0]);case 2:return G6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};G6.j=function(a){return new $APP.D(null,rzc,new $APP.D(null,a,null,1,null),2,null)};G6.A=function(a,b){return new $APP.D(null,rzc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};G6.G=2;
var H6=function H6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return H6.C(arguments[0],c)};H6.C=function(a,b){return $4.j($APP.Lf.A(new $APP.H(null,2,5,$APP.I,[RFc,a],null),b))};H6.G=1;H6.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var I6=function I6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return I6.C(arguments[0],c)};I6.C=function(a,b){return $4.j($APP.Lf.A(new $APP.H(null,2,5,$APP.I,[bxc,a],null),b))};I6.G=1;I6.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var hKc=new $APP.ug(null,new $APP.f(null,10,[uBc,null,Yxc,null,sBc,null,Szc,null,Ctc,null,Lzc,null,Xuc,null,WCc,null,oIc,null,REc,null],null),null),J6=function J6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return J6.C(c)};J6.C=function(a){return dtc($4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Qqc],null),a)))};J6.G=0;J6.K=function(a){return this.C($APP.r(a))};
var K6=function K6(a){switch(arguments.length){case 2:return K6.A(arguments[0],arguments[1]);case 1:return K6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};K6.A=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return K6.j($APP.rg.C(b,A6,c,$APP.y([z6,a])))};K6.j=function(a){return $APP.od(a)?K6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[kIc,a],null))};K6.G=2;
var L6=function L6(a){switch(arguments.length){case 2:return L6.A(arguments[0],arguments[1]);case 1:return L6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};L6.A=function(a,b){return L6.j($APP.rg.B(b,d6,a))};L6.j=function(a){return $APP.od(a)?L6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[QEc,a],null))};L6.G=2;
var M6=function M6(a){switch(arguments.length){case 2:return M6.A(arguments[0],arguments[1]);case 1:return M6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};M6.A=function(a,b){return M6.j($APP.rg.B(b,d6,a))};M6.j=function(a){return $APP.od(a)?M6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[dFc,a],null))};M6.G=2;
var N6=function N6(a){switch(arguments.length){case 1:return N6.j(arguments[0]);case 2:return N6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};N6.j=function(a){return N6.A(a,$APP.F)};N6.A=function(a,b){b=$APP.rg.C(b,A6,A6.A(b,0),$APP.y([z6,z6.A(b,0)]));return a5(new $APP.H(null,3,5,$APP.I,[TCc,b,a],null))};N6.G=2;
var O6=function O6(a){switch(arguments.length){case 2:return O6.A(arguments[0],arguments[1]);case 1:return O6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};O6.A=function(a,b){return O6.j($APP.rg.B(b,PEc,a))};O6.j=function(a){return $APP.od(a)?O6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[yCc,a],null))};O6.G=2;
var P6=function P6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return P6.C(c)};P6.C=function(a){return a5($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[mwc],null),a))};P6.G=0;P6.K=function(a){return this.C($APP.r(a))};var Q6=function Q6(a){switch(arguments.length){case 0:return Q6.J();case 1:return Q6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};Q6.J=function(){return Q6.j($APP.F)};
Q6.j=function(a){return htc(new $APP.H(null,2,5,$APP.I,[Rqc,a],null),J6)};Q6.G=1;var R6=function R6(a){switch(arguments.length){case 0:return R6.J();case 1:return R6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};R6.J=function(){return R6.j($APP.F)};R6.j=function(a){return htc(new $APP.H(null,2,5,$APP.I,[Gzc,a],null),J6)};R6.G=1;
var S6=function S6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return S6.C(c)};S6.C=function(a){return a5($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[LCc],null),a))};S6.G=0;S6.K=function(a){return this.C($APP.r(a))};var T6=function T6(a){switch(arguments.length){case 0:return T6.J();case 1:return T6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};T6.J=function(){return T6.j($APP.F)};
T6.j=function(a){return a5(new $APP.H(null,2,5,$APP.I,[PFc,a],null))};T6.G=1;var U6=function U6(a){switch(arguments.length){case 2:return U6.A(arguments[0],arguments[1]);case 1:return U6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};U6.A=function(a,b){return U6.j($APP.rg.B(b,z6,a))};
U6.j=function(a){if($APP.md(a)&&!V4(a)){var b=X4(a,z6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return a5(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Fwc,b],null)))}return U6.A(a,$APP.F)};U6.G=2;var V6=function V6(a){switch(arguments.length){case 2:return V6.A(arguments[0],arguments[1]);case 1:return V6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};V6.A=function(a,b){return V6.j($APP.rg.B(b,A6,a))};
V6.j=function(a){if($APP.md(a)&&!V4(a)){var b=X4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return a5(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Ewc,b],null)))}return V6.A(a,$APP.F)};V6.G=2;var W6=function W6(a){switch(arguments.length){case 2:return W6.A(arguments[0],arguments[1]);case 1:return W6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};W6.A=function(a,b){return W6.j($APP.rg.B(b,y6,a))};
W6.j=function(a){if($APP.md(a)&&!V4(a)){var b=Y4(a,y6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=Y4(b,PAc);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return a5(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[vzc,c],null)))}return W6.A(a,$APP.F)};W6.G=2;var X6=function X6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return X6.C(c)};X6.C=function(a){return $4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Iwc],null),a))};X6.G=0;X6.K=function(a){return this.C($APP.r(a))};var Y6=function Y6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return Y6.C(c)};
Y6.C=function(a){return $4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[RIc],null),a))};Y6.G=0;Y6.K=function(a){return this.C($APP.r(a))};var Z6=function Z6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return Z6.C(c)};Z6.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[GEc],null),a)};Z6.G=0;Z6.K=function(a){return this.C($APP.r(a))};
var $6=function $6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return $6.C(c)};$6.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[bAc],null),a)};$6.G=0;$6.K=function(a){return this.C($APP.r(a))};var a7=function a7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return a7.C(c)};
a7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[gEc],null),a)};a7.G=0;a7.K=function(a){return this.C($APP.r(a))};var b7=function b7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return b7.C(c)};b7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[hwc],null),a)};b7.G=0;b7.K=function(a){return this.C($APP.r(a))};
var c7=function c7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return c7.C(c)};c7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[wIc],null),a)};c7.G=0;c7.K=function(a){return this.C($APP.r(a))};var d7=function d7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return d7.C(c)};
d7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[dwc],null),a)};d7.G=0;d7.K=function(a){return this.C($APP.r(a))};var e7=function e7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return e7.C(c)};e7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[mHc],null),a)};e7.G=0;e7.K=function(a){return this.C($APP.r(a))};
var f7=function f7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return f7.C(c)};f7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[aFc],null),a)};f7.G=0;f7.K=function(a){return this.C($APP.r(a))};var g7=function g7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return g7.C(c)};
g7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[uAc],null),a)};g7.G=0;g7.K=function(a){return this.C($APP.r(a))};var h7=function h7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return h7.C(c)};h7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[hzc],null),a)};h7.G=0;h7.K=function(a){return this.C($APP.r(a))};
var i7=function i7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return i7.C(c)};i7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[kHc],null),a)};i7.G=0;i7.K=function(a){return this.C($APP.r(a))};var j7=function j7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return j7.C(c)};
j7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[xyc],null),a)};j7.G=0;j7.K=function(a){return this.C($APP.r(a))};var k7=function k7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return k7.C(c)};k7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[ZAc],null),a)};k7.G=0;k7.K=function(a){return this.C($APP.r(a))};
var l7=function l7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return l7.C(c)};l7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[gIc],null),a)};l7.G=0;l7.K=function(a){return this.C($APP.r(a))};var m7=function m7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return m7.C(c)};
m7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[UHc],null),a)};m7.G=0;m7.K=function(a){return this.C($APP.r(a))};var n7=function n7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return n7.C(c)};n7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[VDc],null),a)};n7.G=0;n7.K=function(a){return this.C($APP.r(a))};
var o7=function o7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return o7.C(c)};o7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Hwc],null),a),Y6)};o7.G=0;o7.K=function(a){return this.C($APP.r(a))};var p7=function p7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return p7.C(c)};
p7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Twc],null),a),Y6)};p7.G=0;p7.K=function(a){return this.C($APP.r(a))};var q7=function q7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return q7.C(c)};q7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[XBc],null),a),Y6)};q7.G=0;q7.K=function(a){return this.C($APP.r(a))};
var r7=function r7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return r7.C(c)};r7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Uyc],null),a),Y6)};r7.G=0;r7.K=function(a){return this.C($APP.r(a))};var s7=function s7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return s7.C(c)};
s7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[tGc],null),a),Y6)};s7.G=0;s7.K=function(a){return this.C($APP.r(a))};var t7=function t7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return t7.C(c)};t7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[zHc],null),a),Y6)};t7.G=0;t7.K=function(a){return this.C($APP.r(a))};
var u7=function u7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return u7.C(c)};u7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Suc],null),a)};u7.G=0;u7.K=function(a){return this.C($APP.r(a))};var v7=function v7(a){switch(arguments.length){case 2:return v7.A(arguments[0],arguments[1]);case 3:return v7.B(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};v7.A=function(a,b){return v7.B(a,b,$APP.F)};v7.B=function(a,b,c){var d=otc(a,b,c);return function(g,l,n,p){return d.solve(0,g,l*n,d.grid(n,function(v,t){return p.j?p.j(t):p.call(null,t)}))}};v7.G=3;
var w7=function w7(a){switch(arguments.length){case 2:return w7.A(arguments[0],arguments[1]);case 3:return w7.B(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};w7.A=function(a,b){return w7.B(a,b,$APP.F)};w7.B=function(a,b,c){b=ptc(b);return otc(a,$APP.Tc(b),c).integrate(0,b)};w7.G=3;var wtc=$APP.Vr(99);var iKc=$APP.Vr(533);var x7=$APP.Vr(537);var jKc=$APP.zs(x7.Group),kKc=$APP.zs(x7.Inherit),lKc=$APP.zs(x7.Unit);var mKc=$APP.zs(x7.Camera);var Kuc=$APP.zs(x7.Area),u5=$APP.zs(x7.Array),Auc=$APP.zs(x7.Interval),nKc=$APP.zs(x7.Matrix),duc=$APP.zs(x7.Scale),oKc=$APP.zs(x7.Volume),pKc=$APP.zs(x7.Voxel);var muc=$APP.zs(x7.Axis),qKc=$APP.zs(x7.Face),quc=$APP.zs(x7.Grid),z5=$APP.zs(x7.Line),rKc=$APP.zs(x7.Point),sKc=$APP.zs(x7.Strip),Luc=$APP.zs(x7.Surface),huc=$APP.zs(x7.Ticks),y7=$APP.zs(x7.Vector);var tKc=$APP.zs(x7.Clamp),uKc=$APP.zs(x7.Grow),vKc=$APP.zs(x7.Join),wKc=$APP.zs(x7.Lerp),xKc=$APP.zs(x7.Memo),yKc=$APP.zs(x7.Readback),zKc=$APP.zs(x7.Repeat),Euc=$APP.zs(x7.Resample),AKc=$APP.zs(x7.Slice),BKc=$APP.zs(x7.Split),CKc=$APP.zs(x7.Spread),DKc=$APP.zs(x7.Subdivide),EKc=$APP.zs(x7.Swizzle),Fuc=$APP.zs(x7.Transpose);var Utc=$APP.zs(x7.Dom),Rtc=$APP.zs(x7.Html);var FKc=$APP.zs(x7.Move),GKc=$APP.zs(x7.Play),HKc=$APP.zs(x7.Present),IKc=$APP.zs(x7.Reveal),JKc=$APP.zs(x7.Slide),KKc=$APP.zs(x7.Step);var LKc=$APP.zs(x7.Compose),MKc=$APP.zs(x7.Rtt);var NKc=$APP.zs(x7.Shader);var o5=$APP.zs(x7.Format),p5=$APP.zs(x7.Label),OKc=$APP.zs(x7.Retext),juc=$APP.zs(x7.Text);var PKc=$APP.zs(x7.Clock),QKc=$APP.zs(x7.Now);var RKc=$APP.zs(x7.Fragment),SKc=$APP.zs(x7.Layer),TKc=$APP.zs(x7.Mask),UKc=$APP.zs(x7.Transform),VKc=$APP.zs(x7.Transform4),WKc=$APP.zs(x7.Vertex);var XKc=$APP.zs(x7.Cartesian),YKc=$APP.zs(x7.Cartesian4),ZKc=$APP.zs(x7.Polar),$Kc=$APP.zs(x7.Spherical),aLc=$APP.zs(x7.Stereographic),bLc=$APP.zs(x7.Stereographic4),cLc=$APP.zs(x7.View);var f5=function f5(a){switch(arguments.length){case 1:return f5.j(arguments[0]);case 2:return f5.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};f5.j=function(a){return f5.A(a,2)};f5.A=function(a,b){return a.toFixed(b).replace(/\.0+$/,"")};f5.G=2;
var z7=function z7(a){switch(arguments.length){case 1:return z7.j(arguments[0]);case 2:return z7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};z7.j=function(a){return z7.A(a,5)};z7.A=function(a,b){if(0===a)return"0";if(.001>Math.abs(Math.PI-a))return"π";if(.001>Math.abs(-Math.PI-a))return"-π";a=f5.A(a/Math.PI,b);switch(a){case "1":return"π";case "-1":return"-π";default:return[$APP.m.j(a),"π"].join("")}};z7.G=2;var Itc=$APP.Vr(538);var Jtc=$APP.Vr(539);var rtc=new $APP.H(null,4,5,$APP.I,[atc,d5,etc,Zsc],null);var dLc=new $APP.f(null,2,[XHc,new $APP.H(null,3,5,$APP.I,["core","controls","cursor"],null),d5,new $APP.f(null,1,[ftc,Itc.OrbitControls],null)],null),A7=function A7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return A7.C(arguments[0],c)};
A7.C=function(a,b){var c=$APP.qe(a);a=$APP.C.A(c,rBc);var d=$APP.C.A(c,j6);c=$APP.rg.B($APP.Oi.C(c,rBc,$APP.y([j6])),$APP.OD,d);if(null==a)return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[b6,x7.ContainedMathbox,c],null),b);if($APP.md(a))return a=$APP.rg.C(c,LGc,$APP.Wl.j(a),$APP.y([WHc,$APP.Kra.j(a),$Ec,$APP.Tm.j(a)])),$APP.Lf.A(new $APP.H(null,3,5,$APP.I,[b6,x7.ContainedMathbox,a],null),b);if(a instanceof HTMLElement)return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[b6,x7.Mathbox,c],null),b);throw $APP.Zi.A("Unsupported container : ",
new $APP.f(null,1,[rBc,a],null));};A7.G=1;A7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var B7=function B7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return B7.C(arguments[0],c)};
B7.C=function(a,b){var c=$APP.vs.useState(null),d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);var g=stc(a);a=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);c=$APP.Fj.B($APP.rg.B(g,Zsc,c),j6,function(l){return $APP.k(l)?$APP.Ni.C($APP.y([dLc,Otc(l)])):dLc});Gtc(d,a);return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[A7,c],null),b)};B7.G=1;B7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var C7=function C7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return C7.C(arguments[0],c)};C7.C=function(a,b){return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[c5,B7,a],null),b)};C7.G=1;C7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var eLc=$APP.Vr(540);var m5=$APP.fg([z6,aIc,y6,eIc,dIc,t5,JHc,bIc,A6],[2,new $APP.H(null,2,5,$APP.I,[2,1],null),new $APP.H(null,2,5,$APP.I,[1,2],null),new $APP.H(null,2,5,$APP.I,[3,1],null),new $APP.H(null,2,5,$APP.I,[3,2],null),3,new $APP.H(null,2,5,$APP.I,[1,3],null),new $APP.H(null,2,5,$APP.I,[2,3],null),1]),Stc=iKc.DOM.createClass({render:function(a,b,c){b={innerHTML:eLc.renderToString(c)};return a.A?a.A("span",b):a.call(null,"span",b)}}),Ttc=iKc.DOM.createClass({render:function(a,b,c){b={style:{color:"gray"}};return a.B?
a.B("b",b,c):a.call(null,"b",b,c)}}),D7=function D7(a){switch(arguments.length){case 1:return D7.j(arguments[0]);case 2:return D7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};D7.j=function(a){return new $APP.H(null,3,5,$APP.I,[D7,a,null],null)};
D7.A=function(a,b){a=$APP.od(a)?$APP.Bg(a,$APP.Uj.j(!0)):a;return $APP.Lf.B(new $APP.H(null,1,5,$APP.I,[g5],null),$APP.Vg.j(function(c){var d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);if($APP.k(c)){var g=m5.j?m5.j(d):m5.call(null,d);return new $APP.H(null,2,5,$APP.I,[ouc,$APP.rg.C($APP.md(c)?c:$APP.F,i5,d,$APP.y([$APP.Cp,$APP.Zl.A(b,new $APP.H(null,2,5,$APP.I,[g-1,1],null))]))],null)}return null}),a)};D7.G=2;
var E7=function E7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return E7.C(c)};
E7.C=function(a){a=Ptc(a);var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var c=$APP.qe(b);b=$APP.C.B(c,e5,new $APP.H(null,3,5,$APP.I,[.5,-2,.6],null));var d=$APP.C.B(c,F5,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[-5,5],null),new $APP.H(null,2,5,$APP.I,[-5,5],null),new $APP.H(null,2,5,$APP.I,[-5,5],null)],null)),g=$APP.C.B(c,lzc,new $APP.H(null,3,5,$APP.I,[1,1,1],null)),l=$APP.C.B(c,y5,new $APP.H(null,3,5,$APP.I,[0,0,0],null)),n=$APP.C.B(c,D5,new $APP.H(null,3,5,$APP.I,[A6,z6,t5],null));
c=$APP.C.B(c,uyc,new $APP.H(null,1,5,$APP.I,[y6],null));return new $APP.H(null,6,5,$APP.I,[XKc,new $APP.f(null,3,[F5,d,lzc,g,y5,l],null),new $APP.H(null,2,5,$APP.I,[mKc,new $APP.f(null,2,[$yc,!0,y5,b],null)],null),$APP.Lf.A(new $APP.H(null,1,5,$APP.I,[g5],null),a),new $APP.H(null,3,5,$APP.I,[D7,n,d],null),new $APP.H(null,2,5,$APP.I,[wuc,c],null)],null)};E7.G=0;E7.K=function(a){return this.C($APP.r(a))};
var fLc=new $APP.f(null,1,[e5,new $APP.f(null,1,[itc,new $APP.H(null,3,5,$APP.I,[0,0,1],null)],null)],null),gLc=new $APP.f(null,3,[rBc,new $APP.f(null,1,[$APP.Kra,new $APP.f(null,2,[I5,"400px",r5,"100%"],null)],null),atc,new $APP.f(null,1,[Ysc,0],null),j6,fLc],null),hLc=new $APP.H(null,6,5,$APP.I,[F5,lzc,y5,e5,D5,uyc],null),F7=function F7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return F7.C(c)};
F7.C=function(a){a=Ptc(a);var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var c=$APP.sg(b,hLc);b=$APP.Je.B($APP.Oi,b,hLc);var d=j6.j(b);b=$APP.k(d)?$APP.rg.B(b,j6,$APP.Ni.C($APP.y([fLc,d]))):b;return new $APP.H(null,3,5,$APP.I,[C7,$APP.Ni.C($APP.y([gLc,b])),$APP.Lf.A(new $APP.H(null,2,5,$APP.I,[E7,c],null),a)],null)};F7.G=0;F7.K=function(a){return this.C($APP.r(a))};var G7=function G7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return G7.C(c)};G7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[CHc],null),a),function(b){return Y6.C($APP.y([EFc,b]))})};G7.G=0;G7.K=function(a){return this.C($APP.r(a))};var P5=function P5(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return P5.C(c)};
P5.C=function(a){return $4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[LBc],null),a))};P5.G=0;P5.K=function(a){return this.C($APP.r(a))};var iLc=$4.j(new $APP.H(null,2,5,$APP.I,[$APP.Kra,"\nmath-field {\n  width: 100%;\n  font-size: 24px;\n  border-radius: 4px;\n  border: 1px solid;\n  padding: 8px;\n}\nmath-field:focus-within {\n  outline: none;\n  border: 1px solid blue;\n}"],null)),H7=function H7(a){switch(arguments.length){case 0:return H7.J();case 1:return H7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};H7.J=function(){return H7.j($APP.F)};
H7.j=function(a){return $APP.Xj.la($4.j(new $APP.H(null,2,5,$APP.I,[nIc,a],null)),$APP.rg,FJc,!0,Oqc,EIc)};H7.G=1;var S5=$APP.Vr(623);var jvc=S5.folder({},{}).type,I7=new $APP.f(null,3,[tEc,S5.button(function(){return null},{}).type,Fzc,S5.buttonGroup(null).type,lFc,S5.monitor(function(){return null},{}).type],null),lvc=$APP.Lf.A($APP.vg,$APP.pg(I7)),pvc=$APP.wt.B($APP.Baa,$APP.sd,$APP.Daa);var jLc=new $APP.f(null,1,[bFc,!1],null),J7=function J7(a){switch(arguments.length){case 1:return J7.j(arguments[0]);case 2:return J7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};J7.j=function(a){return J7.A(a,$APP.F)};
J7.A=function(a,b){var c=$APP.sg(b,new $APP.H(null,1,5,$APP.I,[bFc],null));c=$APP.Ni.C($APP.y([jLc,c]));return $APP.Ni.C($APP.y([new $APP.f(null,3,[$APP.Ti,tEc.j(I7),KCc,a,$5,c],null),$APP.Oi.C(b,$APP.Ti,$APP.y([KCc,bFc,$5]))]))};J7.G=2;var K7=function K7(a){switch(arguments.length){case 1:return K7.j(arguments[0]);case 2:return K7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};
K7.j=function(a){return new $APP.f(null,2,[$APP.Ti,Fzc.j(I7),$APP.qn,a],null)};K7.A=function(a,b){return new $APP.f(null,2,[$APP.Ti,Fzc.j(I7),$APP.qn,new $APP.f(null,2,[$APP.TW,a,$APP.qn,b],null)],null)};K7.G=2;var L7=function L7(a){switch(arguments.length){case 1:return L7.j(arguments[0]);case 2:return L7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};L7.j=function(a){return L7.A(a,$APP.F)};
L7.A=function(a,b){return new $APP.f(null,3,[$APP.Ti,lFc.j(I7),THc,a,$5,b],null)};L7.G=2;var M7=function M7(a){switch(arguments.length){case 1:return M7.j(arguments[0]);case 2:return M7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};M7.j=function(a){return M7.A(a,$APP.F)};M7.A=function(a,b){return new $APP.f(null,3,[$APP.Ti,jvc,Z5,a,$5,b],null)};M7.G=2;
var N7=function N7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return N7.C(arguments[0],c)};
N7.C=function(a,b){var c=a6.j(a);return $APP.k(c)?new $APP.H(null,3,5,$APP.I,[g5,new $APP.H(null,3,5,$APP.I,[b6,S5.LevaPanel,$APP.rg.B(a,a6,c)],null),$APP.Lf.A(new $APP.H(null,3,5,$APP.I,[b6,S5.LevaStoreProvider,new $APP.f(null,1,[a6,c],null)],null),b)],null):$APP.Lf.A(new $APP.H(null,2,5,$APP.I,[g5,new $APP.H(null,3,5,$APP.I,[b6,S5.Leva,a],null)],null),b)};N7.G=1;N7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var O7=function O7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return O7.C(arguments[0],c)};O7.C=function(a,b){var c=S5.useCreateStore();return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[N7,$APP.rg.B(a,a6,c)],null),b)};O7.G=1;O7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var P7=function P7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return P7.C(arguments[0],c)};P7.C=function(a,b){return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[c5,O7,a],null),b)};P7.G=1;P7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var kLc=$APP.ap(new $APP.f(null,7,[$APP.z(ADc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null))),$APP.P,"Component that configures a Leva panel with the supplied map of `opts` without\n  explicitly rendering any inputs into it. If `:store` is not provided,\n  configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[Controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[SubPanel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Lx,$APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,RFc,$APP.X,N7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null)),$APP.P,"Component that configures a Leva panel with the supplied map of `opts` without\n  explicitly rendering any inputs into it. If `:store` is not provided,\n  configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[Controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[SubPanel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!"],
null)],null),$APP.z(Zzc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null))),$APP.P,"Component that configures a non-global, standalone Leva panel with the supplied\n  map of `opts`.\n\n  Any instance of [[Controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Lx,$APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,bxc,$APP.X,P7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null)),$APP.P,"Component that configures a non-global, standalone Leva panel with the supplied\n  map of `opts`.\n\n  Any instance of [[Controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each."],
null)],null),$APP.z($Dc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[n6],null),new $APP.H(null,2,5,$APP.I,[n6,$APP.Lx],null))),$APP.P,"Returns a schema entry that defines a button, given a function `on-click` and a\n  map `opt` of options.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[n6],null),new $APP.H(null,2,5,$APP.I,[n6,$APP.Lx],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[n6],null),new $APP.H(null,2,5,$APP.I,[n6,$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,RCc,$APP.X,J7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[n6],null),new $APP.H(null,2,5,$APP.I,[n6,$APP.Lx],null)),$APP.P,"Returns a schema entry that defines a button, given a function `on-click` and a\n  map `opt` of options.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). "],
null)],null),$APP.z(Tzc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[r6],null),new $APP.H(null,2,5,$APP.I,[r6,o6],null))),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  schema entry that wraps `schema` in a subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed` if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render` (fn [get] \x3cboolean\x3e), providing dynamic control or whether or not\n    the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color` color string, sets the color of the folder title.\n\n  - `:order` number, sets the order of this folder relative to other components\n    at the same level.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[r6],null),new $APP.H(null,2,5,$APP.I,[r6,o6],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[r6],null),new $APP.H(null,2,5,$APP.I,[r6,o6],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,rzc,$APP.X,M7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[r6],null),new $APP.H(null,2,5,$APP.I,[r6,o6],null)),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  schema entry that wraps `schema` in a subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed` if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render` (fn [get] \x3cboolean\x3e), providing dynamic control or whether or not\n    the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color` color string, sets the color of the folder title.\n\n  - `:order` number, sets the order of this folder relative to other components\n    at the same level."],
null)],null),$APP.z(ewc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that renders inputs into a global or local Leva control panel,\n  possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[SubPanel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: atom of key \x3d\x3e initial value for schema entries. Any entry found in\n     both `:atom` and in `:schema` will remain synchronized between the panel and\n     the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options.\n\n  - `:store`: this is an advanced option that you probably won't need. If you\n    _do_ need this, pass a store created via leva's `useCreateStore`."],
null)),new $APP.f(null,3,[$APP.R,HEc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[c5,Bvc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that renders inputs into a global or local Leva control panel,\n  possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[SubPanel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: atom of key \x3d\x3e initial value for schema entries. Any entry found in\n     both `:atom` and in `:schema` will remain synchronized between the panel and\n     the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options.\n\n  - `:store`: this is an advanced option that you probably won't need. If you\n    _do_ need this, pass a store created via leva's `useCreateStore`."],
null)],null),$APP.z(ezc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.HY,$APP.Lx],null))),$APP.P,"Returns a schema entry that defines a button group, given either\n\n  - a label and a map of `{\x3cstring\x3e (fn [get] ,,,)}`\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[Controls]] instance from the value function.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.HY,$APP.Lx],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.HY,$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,AJc,$APP.X,K7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.HY,
$APP.Lx],null)),$APP.P,"Returns a schema entry that defines a button group, given either\n\n  - a label and a map of `{\x3cstring\x3e (fn [get] ,,,)}`\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[Controls]] instance from the value function."],null)],null),$APP.z(yDc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,
[m6],null),new $APP.H(null,2,5,$APP.I,[m6,o6],null))),$APP.P,'Returns a schema entry that defines a "monitor", given as a first argument\n  either\n\n  - a no-arg function that returns a number, or\n  - a react `MutableRefObject` returned by `useRef`, where `(.-current ref)`\n    returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,o6],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,o6],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,gBc,$APP.X,L7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,o6],null)),$APP.P,'Returns a schema entry that defines a "monitor", given as a first argument\n  either\n\n  - a no-arg function that returns a number, or\n  - a react `MutableRefObject` returned by `useRef`, where `(.-current ref)`\n    returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.'],
null)],null)],null),$APP.Zo(pEc)),lLc=$APP.ap(new $APP.f(null,7,[$APP.z(yFc,new $APP.f(null,1,[$APP.P,"Internal type string used by Leva to tag folders."],null)),new $APP.f(null,3,[$APP.R,iwc,$APP.X,jvc,$APP.h,new $APP.f(null,1,[$APP.P,"Internal type string used by Leva to tag folders."],null)],null),$APP.z(IFc,new $APP.f(null,1,[$APP.P,"Map of keyword to the internal type string used to declare each\n  special input type."],null)),new $APP.f(null,3,[$APP.R,mBc,$APP.X,I7,$APP.h,new $APP.f(null,1,
[$APP.P,"Map of keyword to the internal type string used to declare each\n  special input type."],null)],null),$APP.z(CCc,new $APP.f(null,1,[$APP.P,"Set of types"],null)),new $APP.f(null,3,[$APP.R,$Ac,$APP.X,lvc,$APP.h,new $APP.f(null,1,[$APP.P,"Set of types"],null)],null),fAc,new $APP.f(null,3,[$APP.R,qJc,$APP.X,pvc,$APP.h,$APP.F],null),$APP.z(zwc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[w6],null)))],null)),new $APP.f(null,3,[$APP.R,kwc,$APP.X,kvc,$APP.h,new $APP.f(null,
1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[w6],null))],null)],null),$APP.z(TDc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[w6],null)))],null)),new $APP.f(null,3,[$APP.R,fHc,$APP.X,mvc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[w6],null))],null)],null),$APP.z(dHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[w6],null))),$APP.P,"Returns true if we have a custom input, false otherwise."],null)),new $APP.f(null,3,[$APP.R,
ICc,$APP.X,ovc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[w6],null)),$APP.P,"Returns true if we have a custom input, false otherwise."],null)],null)],null),$APP.Zo($Fc)),mLc=new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,new $APP.f(null,2,[pEc,kLc,$Fc,lLc],null)],null);var X5=$APP.Vr(626);var Q7=function Q7(a){switch(arguments.length){case 0:return Q7.J();case 1:return Q7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};Q7.J=function(){return new $APP.H(null,2,5,$APP.I,[b6,X5.Coordinates.Cartesian],null)};Q7.j=function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Coordinates.Cartesian,a],null)};Q7.G=1;
var R7=function R7(a){switch(arguments.length){case 0:return R7.J();case 1:return R7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};R7.J=function(){return new $APP.H(null,2,5,$APP.I,[b6,X5.Coordinates.Polar],null)};R7.j=function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Coordinates.Polar,a],null)};R7.G=1;var nLc=X5.labelPi,oLc=X5.useTransformContext,pLc=X5.useStopwatch,Cvc=$APP.eu.C(X5.Theme,$APP.y([$APP.fu,!0])),S7=function S7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return S7.C(c)};S7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[b6,X5.Mafs],null),a)};S7.G=0;S7.K=function(a){return this.C($APP.r(a))};
var T7=function T7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return T7.C(c)};T7.C=function(a){var b=$APP.md($APP.u(a))?new $APP.H(null,2,5,$APP.I,[$APP.u(a),$APP.Fc(a)],null):new $APP.H(null,2,5,$APP.I,[$APP.F,a],null);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[b6,X5.Text,V5(a)],null),b)};T7.G=0;T7.K=function(a){return this.C($APP.r(a))};
var U7=function U7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return U7.C(c)};U7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[b6,X5.Transform],null),a)};U7.G=0;U7.K=function(a){return this.C($APP.r(a))};var V7=function V7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return V7.C(c)};V7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[b6,X5.Debug.TransformWidget],null),a)};V7.G=0;V7.K=function(a){return this.C($APP.r(a))};var W7=function W7(a){switch(arguments.length){case 0:return W7.J();case 1:return W7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};
W7.J=function(){return new $APP.H(null,2,5,$APP.I,[b6,X5.Debug.ViewportInfo],null)};W7.j=function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Debug.ViewportInfo,a],null)};W7.G=1;var qLc=$APP.ap($APP.fg([PDc,$APP.z(Pyc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Takes an options map and any number of children and transforms the children as\n  specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(hAc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[BDc,$APP.nv,$APP.zu,new $APP.H(null,4,5,$APP.I,[$APP.fU,$APP.zy,Dyc,xJc],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,'Takes an options map and renders a movable point onto a Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: atom into which the movable point should synchronize its current\n    coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s the atom. Use `:path` to\n    synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (reagent.core/with-let [!xy (reagent.core/atom [0 0])]\n    (movable-point {:atom !xy}))\n\n  (reagent.core/with-let [!state (reagent.core/atom {:coords [0 0]})]\n    (movable-point {:atom !state :path :coords}))\n\n  (reagent.core/with-let\n    [!state (reagent.core/atom {:nested {:coords [0 0]}})]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function, it will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain (fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)),$APP.z(cxc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes a map with `:x` and `:y` entries required and renders a dot onto a Mafs\n  scene at location $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)),$APP.z(kyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)),$APP.z(jDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[ZHc],null),$APP.ck,$APP.Bx],null)],null))),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],
null)),pIc,$APP.z($Cc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,'Takes an options map with `:x` and `:y` required and any number of string\n  children and renders the concatenated string children onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(oBc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes a map with `:point` entry required and renders a polygon onto a Mafs\n  scene bounded by the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)),$APP.z(bDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes a map with `:tip` entry required and renders a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)),lCc,$APP.z(SBc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes a map with `:center` and `:radius` entries required and renders the\n  specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)),PCc,$APP.z(eEc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,'Given an optional map of options and any number of children, renders a Mafs 2D\n  scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, ∞)`).\n\n  - `:view-box`: (optional) A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad.\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: `(fn [point, mouse-event] ...)`, called when the view is\n    clicked on, and passed the point where it was clicked.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null))],[new $APP.f(null,3,[$APP.R,VAc,$APP.X,Cvc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,mwc,$APP.X,U7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an options map and any number of children and transforms the children as\n  specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`."],
null)],null),new $APP.f(null,3,[$APP.R,Nzc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,$APP.nv),c=$APP.C.A(a,$APP.PO),d=$APP.C.A(a,$APP.Zm),g=$APP.C.A(a,c6),l=$APP.C.A(a,FIc);$APP.k($APP.k(b)?c:b)&&console.warn(["`:point` ",$APP.m.j(c)," will be ignored in favor of the entry in the\n     supplied `:atom`."].join(""));$APP.eb(b)&&($APP.eb(c)&&console.warn("`:atom` and `:point` are both missing! Please supply one or the\n     other to initialize the point's position. Using default of `[0 0]`."),
$APP.eb(l)&&console.warn("`:atom` and `:on-move` are both missing! Please supply one or the\n     other to capture state changes."));var n=Hvc(d),p=Ivc(d),v=$APP.k(b)?n.j?n.j(b):n.call(null,b):$APP.k(c)?c:new $APP.H(null,2,5,$APP.I,[0,0],null);b=Gvc(g,v);var t=$APP.k(b)?$APP.rg.B(a,c6,b):$APP.Oi.A(a,c6);return function(A){var B=$APP.qe(A);A=$APP.C.A(B,$APP.nv);var G=$APP.C.A(B,FIc);B=$APP.hs(Tyc);var J=0===B.length||$APP.eb(B.hasOwnProperty(0))?B[0]=$APP.k(A)?A:$APP.hB.j(v):B[0];return new $APP.H(null,
3,5,$APP.I,[b6,X5.MovablePoint,$APP.rg.C(V5(t),$APP.PO,n.j?n.j(J):n.call(null,J),$APP.y([FIc,function(O){O=new $APP.H(null,2,5,$APP.I,[O[0],O[1]],null);p.A?p.A(J,O):p.call(null,J,O);return $APP.k(G)?G.j?G.j(O):G.call(null,O):null}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[BDc,$APP.nv,$APP.zu,new $APP.H(null,4,5,$APP.I,[$APP.fU,$APP.zy,Dyc,xJc],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,'Takes an options map and renders a movable point onto a Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: atom into which the movable point should synchronize its current\n    coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s the atom. Use `:path` to\n    synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (reagent.core/with-let [!xy (reagent.core/atom [0 0])]\n    (movable-point {:atom !xy}))\n\n  (reagent.core/with-let [!state (reagent.core/atom {:coords [0 0]})]\n    (movable-point {:atom !state :path :coords}))\n\n  (reagent.core/with-let\n    [!state (reagent.core/atom {:nested {:coords [0 0]}})]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function, it will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain (fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)],null),new $APP.f(null,3,[$APP.R,kIc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Point,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes a map with `:x` and `:y` entries required and renders a dot onto a Mafs\n  scene at location $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.R,dFc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Polyline,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)],null),new $APP.f(null,3,[$APP.R,vBc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,CAc);return new $APP.H(null,2,5,$APP.I,[Dvc,$APP.rg.B(a,CAc,new $APP.H(null,
2,5,$APP.I,[b,b],null))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[ZHc],null),$APP.ck,$APP.Bx],null)],null)),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],null)],null),new $APP.f(null,3,[$APP.R,BFc,$APP.X,nLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,TCc,$APP.X,T7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,
2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Takes an options map with `:x` and `:y` required and any number of string\n  children and renders the concatenated string children onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,QEc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Polygon,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:point` entry required and renders a polygon onto a Mafs\n  scene bounded by the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,yCc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Vector,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:tip` entry required and renders a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,OBc,$APP.X,pLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,yEc,$APP.X,Dvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:center` and `:radius` entries required and renders the\n  specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,pGc,$APP.X,oLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Qqc,$APP.X,S7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Given an optional map of options and any number of children, renders a Mafs 2D\n  scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, ∞)`).\n\n  - `:view-box`: (optional) A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad.\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: `(fn [point, mouse-event] ...)`, called when the view is\n    clicked on, and passed the point where it was clicked.'],
null)],null)]),$APP.Zo(QJc)),rLc=$APP.ap(new $APP.f(null,2,[$APP.z(KFc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes an (optional) options map `opts` and renders a cartesian coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,Rqc,$APP.X,Q7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and renders a cartesian coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. "],
null)],null),$APP.z(hyc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes an (optional) options map `opts` and renders a polar coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,Gzc,$APP.X,R7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and renders a polar coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. "],
null)],null)],null),$APP.Zo(MIc)),sLc=$APP.ap(new $APP.f(null,5,[$APP.z(lyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),new $APP.f(null,3,[$APP.R,Fwc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Plot.OfX,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),$APP.z(jyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R`  and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),new $APP.f(null,3,[$APP.R,Ewc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Plot.OfY,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R`  and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),$APP.z(cJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R`\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)),new $APP.f(null,3,[$APP.R,YGc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Plot.Inequality,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R`\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)],null),$APP.z(cwc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])`.\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),new $APP.f(null,3,[$APP.R,Kwc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Plot.Parametric,$APP.Fj.B(V5(a),y6,Fvc)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])`.\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),$APP.z(HGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, plots a vector at every point in a grid on a coordinate\n  plane by calling a function `:xy` that receives the vector\'s tail and returns\n  its tip.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])`.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,vzc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Plot.VectorField,$APP.Fj.B(V5(a),y6,Fvc)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, plots a vector at every point in a grid on a coordinate\n  plane by calling a function `:xy` that receives the vector\'s tail and returns\n  its tip.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])`.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)],null),$APP.Zo(NAc)),tLc=$APP.ap(new $APP.f(null,4,[$APP.z(UIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line segment between points `:point1` and\n  `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,qIc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Line.Segment,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line segment between points `:point1` and\n  `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),$APP.z(aEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line between points `:point1` and `:point2` into\n  a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,NDc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Line.ThroughPoints,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line between points `:point1` and `:point2` into\n  a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),$APP.z(ZIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with slope\n  `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,SDc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Line.PointSlope,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with slope\n  `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),$APP.z(IBc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with angle\n  `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,dxc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[b6,X5.Line.PointAngle,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with angle\n  `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)],null),$APP.Zo(TJc)),uLc=$APP.ap(new $APP.f(null,2,[$APP.z(Vwc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Component that wraps any supplied children in an interactive transformation\n  widget that lets you rotate, scale and translate all children.",$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],
null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,LCc,$APP.X,V7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Component that wraps any supplied children in an interactive transformation\n  widget that lets you rotate, scale and translate all children."],null)],null),$APP.z(uxc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that mounts a `ViewportInfo` component into the Mafs scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,PFc,$APP.X,W7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that mounts a `ViewportInfo` component into the Mafs scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3."],
null)],null)],null),$APP.Zo(cHc)),vLc=$APP.ap($APP.fg([$APP.Lac,ZBc,$APP.JX,JJc,JDc,$APP.JGb,Zuc,Kxc,Hxc,rJc,$APP.gT,DEc,BHc,$APP.iX,mIc],[new $APP.f(null,3,[$APP.R,xFc,$APP.X,function(a){return Ovc(a,1)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null)),$APP.P,"Return a normalized version of a vector"],null)],null),new $APP.f(null,3,[$APP.R,CFc,$APP.X,function(a,b){return Pvc(a,b,.5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.LW,$APP.MW],
null)),$APP.P,"Gets the midpoint of two vectors"],null)],null),new $APP.f(null,3,[$APP.R,Vvc,$APP.X,Kvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.OW,u6],null),new $APP.H(null,2,5,$APP.I,[t6,v6],null)],null)),$APP.P,"Subtract one vector from another"],null)],null),new $APP.f(null,3,[$APP.R,LJc,$APP.X,Pvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.LW,$APP.MW,$APP.Rv],null)),$APP.P,"Linear interpolation between two vectors"],
null)],null),new $APP.f(null,3,[$APP.R,$Gc,$APP.X,Ovc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Tv,$APP.Or],null))],null)],null),new $APP.f(null,3,[$APP.R,eFc,$APP.X,Mvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null)),$APP.P,"Get the magnitude of a vector"],null)],null),new $APP.f(null,3,[$APP.R,Jyc,$APP.X,Qvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.SP],null),$APP.Iv],
null)),$APP.P,"Rotates a vector around the origin. Shorthand for a rotation matrix."],null)],null),new $APP.f(null,3,[$APP.R,awc,$APP.X,function(a,b){return Math.sqrt(Rvc(a,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.LW,$APP.MW],null)),$APP.P,"Gets the distance between two vectors"],null)],null),new $APP.f(null,3,[$APP.R,Yuc,$APP.X,function(a,b,c){return Jvc(Qvc(Kvc(a,b),c),b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Tv,jFc,$APP.Iv],
null)),$APP.P,"Rotates a vector around a given point."],null)],null),new $APP.f(null,3,[$APP.R,Wxc,$APP.X,Lvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.OW,u6],null),new $APP.H(null,2,5,$APP.I,[t6,v6],null)],null)),$APP.P,"Dot product of two vectors"],null)],null),new $APP.f(null,3,[$APP.R,qwc,$APP.X,Jvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.OW,u6],null),new $APP.H(null,2,5,$APP.I,
[t6,v6],null)],null)),$APP.P,"Add two vectors"],null)],null),new $APP.f(null,3,[$APP.R,oHc,$APP.X,function(a){var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return new $APP.H(null,2,5,$APP.I,[-a,b],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.SP],null)],null)),$APP.P,"Get the normal vector of a vector"],null)],null),new $APP.f(null,3,[$APP.R,tFc,$APP.X,Rvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,
2,5,$APP.I,[$APP.OW,u6],null),new $APP.H(null,2,5,$APP.I,[t6,v6],null)],null)),$APP.P,"Get the square distance between two vectors"],null)],null),new $APP.f(null,3,[$APP.R,Oyc,$APP.X,Nvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.SP],null),EEc],null)),$APP.P,"Scale a vector by a scalar"],null)],null),new $APP.f(null,3,[$APP.R,sxc,$APP.X,function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null),g=$APP.x.B(b,
1,null),l=$APP.x.B(b,2,null),n=$APP.x.B(b,3,null),p=$APP.x.B(b,4,null);b=$APP.x.B(b,5,null);return new $APP.H(null,2,5,$APP.I,[d*c+g*a+l,n*c+p*a+b],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.SP],null),new $APP.H(null,6,5,$APP.I,[$APP.Iv,$APP.Jv,KEc,$APP.qU,$APP.jP,LEc],null)],null)),$APP.P,"Apply a matrix transformation to a vector. This is a 3x3 matrix applied to a 2d\n  vector, like M*v."],null)],null)]),$APP.Zo(VJc)),wLc=
new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,new $APP.f(null,6,[QJc,qLc,MIc,rLc,NAc,sLc,TJc,tLc,cHc,uLc,VJc,vLc],null)],null);var xLc=$APP.ap(new $APP.f(null,2,[HHc,new $APP.f(null,3,[$APP.R,ZCc,$APP.X,dLc,$APP.h,$APP.F],null),$APP.z(Hzc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Bx,$APP.Lh,$APP.fv],null))),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed',
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Bx,$APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Bx,$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,RIc,$APP.X,C7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Bx,$APP.Lh,$APP.fv],null)),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed'],
null)],null)],null),$APP.Zo(eCc)),yLc=$APP.ap($APP.fg([QIc,HIc,BJc,$APP.TMb,yAc,VBc,Pyc,Vxc,cxc,xxc,RJc,vFc,TAc,yBc,IGc,fBc,KFc,zFc,lJc,sEc,hyc,sIc,mGc,Nxc,CDc,UAc,$Cc,nzc,oAc,MEc,txc,fwc,xBc,gFc,yHc,DDc,uGc,wxc,CEc,nwc,zBc,Lxc,bDc,Cxc,NBc,SJc,eJc,OEc,KGc,rxc,BGc,Yvc,kzc,dGc,ixc,NEc,YDc,Byc,$xc,VFc,MDc,uEc,syc,Quc],[new $APP.f(null,3,[$APP.R,Gwc,$APP.X,EKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,HJc,$APP.X,CKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Xwc,$APP.X,MKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.R,FEc,$APP.X,u5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,uFc,$APP.X,qKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,mEc,$APP.X,Kuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,uzc,$APP.X,UKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,eyc,$APP.X,OKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,nyc,$APP.X,rKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,aGc,$APP.X,DKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,cEc,$APP.X,oKc,$APP.h,$APP.F],null),new $APP.f(null,
3,[$APP.R,Wzc,$APP.X,JKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,XDc,$APP.X,nKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,cDc,$APP.X,GKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,DAc,$APP.X,VKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,fyc,$APP.X,Luc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Qyc,$APP.X,XKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,GBc,$APP.X,p5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Swc,$APP.X,z5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,
uJc,$APP.X,TKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,TIc,$APP.X,ZKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,OCc,$APP.X,tKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,iIc,$APP.X,huc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Dxc,$APP.X,kKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,GJc,$APP.X,Rtc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,gDc,$APP.X,uKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,XIc,$APP.X,juc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,ACc,$APP.X,
sKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,dJc,$APP.X,YKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,UDc,$APP.X,HKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,YHc,$APP.X,pKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,aHc,$APP.X,NKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,avc,$APP.X,duc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,zGc,$APP.X,cLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Cyc,$APP.X,o5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,nFc,$APP.X,mKc,$APP.h,
$APP.F],null),new $APP.f(null,3,[$APP.R,WDc,$APP.X,aLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,$Hc,$APP.X,BKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,MGc,$APP.X,FKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,jCc,$APP.X,muc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,dDc,$APP.X,quc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Ryc,$APP.X,lKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,cFc,$APP.X,y7,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Izc,$APP.X,vKc,$APP.h,$APP.F],
null),new $APP.f(null,3,[$APP.R,dEc,$APP.X,Fuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,lIc,$APP.X,zKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,UGc,$APP.X,yKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,ODc,$APP.X,Auc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,KIc,$APP.X,WKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,rGc,$APP.X,bLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,hDc,$APP.X,IKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,JAc,$APP.X,wKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.R,mFc,$APP.X,xKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,wDc,$APP.X,RKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,oyc,$APP.X,SKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,RGc,$APP.X,LKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,KBc,$APP.X,Utc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,PHc,$APP.X,QKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Tuc,$APP.X,Euc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Xzc,$APP.X,AKc,$APP.h,$APP.F],null),new $APP.f(null,
3,[$APP.R,rFc,$APP.X,jKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,tJc,$APP.X,KKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,OHc,$APP.X,PKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,bEc,$APP.X,$Kc,$APP.h,$APP.F],null)]),$APP.Zo(mxc)),zLc=$APP.ap(new $APP.f(null,3,[MDc,new $APP.f(null,3,[$APP.R,GEc,$APP.X,jKc,$APP.h,$APP.F],null),Nxc,new $APP.f(null,3,[$APP.R,bAc,$APP.X,kKc,$APP.h,$APP.F],null),Lxc,new $APP.f(null,3,[$APP.R,gEc,$APP.X,lKc,$APP.h,$APP.F],null)],null),$APP.Zo(EGc)),ALc=
$APP.ap(new $APP.f(null,1,[DDc,new $APP.f(null,3,[$APP.R,DBc,$APP.X,mKc,$APP.h,$APP.F],null)],null),$APP.Zo(QFc)),BLc=$APP.ap(new $APP.f(null,7,[VBc,new $APP.f(null,3,[$APP.R,sHc,$APP.X,Kuc,$APP.h,$APP.F],null),$APP.TMb,new $APP.f(null,3,[$APP.R,Rxc,$APP.X,u5,$APP.h,$APP.F],null),OEc,new $APP.f(null,3,[$APP.R,oxc,$APP.X,Auc,$APP.h,$APP.F],null),TAc,new $APP.f(null,3,[$APP.R,pxc,$APP.X,nKc,$APP.h,$APP.F],null),xBc,new $APP.f(null,3,[$APP.R,MCc,$APP.X,duc,$APP.h,$APP.F],null),RJc,new $APP.f(null,3,
[$APP.R,Fxc,$APP.X,oKc,$APP.h,$APP.F],null),txc,new $APP.f(null,3,[$APP.R,yGc,$APP.X,pKc,$APP.h,$APP.F],null)],null),$APP.Zo(pBc)),CLc=$APP.ap($APP.fg([yAc,cxc,fBc,lJc,mGc,nzc,nwc,zBc,bDc],[new $APP.f(null,3,[$APP.R,jzc,$APP.X,qKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,eDc,$APP.X,rKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Ixc,$APP.X,Luc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,jIc,$APP.X,z5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,UFc,$APP.X,huc,$APP.h,$APP.F],null),new $APP.f(null,
3,[$APP.R,yyc,$APP.X,sKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,GCc,$APP.X,muc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,rwc,$APP.X,quc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,FHc,$APP.X,y7,$APP.h,$APP.F],null)]),$APP.Zo(MAc)),DLc=$APP.ap($APP.fg([QIc,HIc,xxc,sIc,UAc,wxc,Cxc,NBc,SJc,eJc,Yvc,kzc,$xc,VFc],[new $APP.f(null,3,[$APP.R,oDc,$APP.X,EKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,DHc,$APP.X,CKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,VCc,$APP.X,DKc,$APP.h,$APP.F],
null),new $APP.f(null,3,[$APP.R,TGc,$APP.X,tKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,AAc,$APP.X,uKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,DCc,$APP.X,BKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,pwc,$APP.X,vKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,nHc,$APP.X,Fuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,cyc,$APP.X,zKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Nyc,$APP.X,yKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,xIc,$APP.X,wKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.R,gyc,$APP.X,xKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,ZGc,$APP.X,Euc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,Uwc,$APP.X,AKc,$APP.h,$APP.F],null)]),$APP.Zo(CBc)),ELc=$APP.ap(new $APP.f(null,2,[YDc,new $APP.f(null,3,[$APP.R,Zxc,$APP.X,Utc,$APP.h,$APP.F],null),CDc,new $APP.f(null,3,[$APP.R,tCc,$APP.X,Rtc,$APP.h,$APP.F],null)],null),$APP.Zo(bJc)),FLc=$APP.ap(new $APP.f(null,6,[CEc,new $APP.f(null,3,[$APP.R,hwc,$APP.X,FKc,$APP.h,$APP.F],null),yBc,new $APP.f(null,
3,[$APP.R,Ezc,$APP.X,GKc,$APP.h,$APP.F],null),MEc,new $APP.f(null,3,[$APP.R,wIc,$APP.X,HKc,$APP.h,$APP.F],null),BGc,new $APP.f(null,3,[$APP.R,dwc,$APP.X,IKc,$APP.h,$APP.F],null),vFc,new $APP.f(null,3,[$APP.R,mHc,$APP.X,JKc,$APP.h,$APP.F],null),uEc,new $APP.f(null,3,[$APP.R,Gyc,$APP.X,KKc,$APP.h,$APP.F],null)],null),$APP.Zo(Ozc)),GLc=$APP.ap(new $APP.f(null,2,[NEc,new $APP.f(null,3,[$APP.R,lGc,$APP.X,LKc,$APP.h,$APP.F],null),BJc,new $APP.f(null,3,[$APP.R,aFc,$APP.X,MKc,$APP.h,$APP.F],null)],null),
$APP.Zo(uwc)),HLc=$APP.ap(new $APP.f(null,1,[fwc,new $APP.f(null,3,[$APP.R,pyc,$APP.X,NKc,$APP.h,$APP.F],null)],null),$APP.Zo(XAc)),ILc=$APP.ap(new $APP.f(null,4,[yHc,new $APP.f(null,3,[$APP.R,Wwc,$APP.X,o5,$APP.h,$APP.F],null),zFc,new $APP.f(null,3,[$APP.R,HBc,$APP.X,p5,$APP.h,$APP.F],null),Vxc,new $APP.f(null,3,[$APP.R,tHc,$APP.X,OKc,$APP.h,$APP.F],null),$Cc,new $APP.f(null,3,[$APP.R,aJc,$APP.X,juc,$APP.h,$APP.F],null)],null),$APP.Zo(oGc)),JLc=$APP.ap(new $APP.f(null,2,[syc,new $APP.f(null,3,[$APP.R,
uAc,$APP.X,PKc,$APP.h,$APP.F],null),Byc,new $APP.f(null,3,[$APP.R,hzc,$APP.X,QKc,$APP.h,$APP.F],null)],null),$APP.Zo(vJc)),KLc=$APP.ap(new $APP.f(null,6,[dGc,new $APP.f(null,3,[$APP.R,kHc,$APP.X,RKc,$APP.h,$APP.F],null),ixc,new $APP.f(null,3,[$APP.R,xyc,$APP.X,SKc,$APP.h,$APP.F],null),sEc,new $APP.f(null,3,[$APP.R,ZAc,$APP.X,TKc,$APP.h,$APP.F],null),Pyc,new $APP.f(null,3,[$APP.R,gIc,$APP.X,UKc,$APP.h,$APP.F],null),IGc,new $APP.f(null,3,[$APP.R,UHc,$APP.X,VKc,$APP.h,$APP.F],null),KGc,new $APP.f(null,
3,[$APP.R,VDc,$APP.X,WKc,$APP.h,$APP.F],null)],null),$APP.Zo(SEc)),LLc=$APP.ap(new $APP.f(null,7,[KFc,new $APP.f(null,3,[$APP.R,Hwc,$APP.X,XKc,$APP.h,$APP.F],null),oAc,new $APP.f(null,3,[$APP.R,Twc,$APP.X,YKc,$APP.h,$APP.F],null),hyc,new $APP.f(null,3,[$APP.R,XBc,$APP.X,ZKc,$APP.h,$APP.F],null),Quc,new $APP.f(null,3,[$APP.R,Uyc,$APP.X,$Kc,$APP.h,$APP.F],null),uGc,new $APP.f(null,3,[$APP.R,tGc,$APP.X,aLc,$APP.h,$APP.F],null),rxc,new $APP.f(null,3,[$APP.R,zHc,$APP.X,bLc,$APP.h,$APP.F],null),gFc,new $APP.f(null,
3,[$APP.R,Suc,$APP.X,cLc,$APP.h,$APP.F],null)],null),$APP.Zo(Awc)),MLc=$APP.fg([XAc,EGc,QFc,oGc,mxc,Ozc,pBc,Awc,uwc,bJc,vJc,SEc,CBc,MAc,eCc],[HLc,zLc,ALc,ILc,yLc,FLc,BLc,LLc,GLc,ELc,JLc,KLc,DLc,CLc,xLc]),NLc=new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,MLc],null);var OLc=$APP.Vr(627);var PLc=OLc.version.mathlive,QLc=["https://unpkg.com/mathlive@",$APP.m.j(PLc),"/dist/sounds/"].join(""),RLc=["https://unpkg.com/mathlive@",$APP.m.j(PLc),"/dist/fonts/"].join(""),X7=function X7(a){switch(arguments.length){case 1:return X7.j(arguments[0]);case 2:return X7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};X7.j=function(a){return X7.A(a,$APP.F)};
X7.A=function(a,b){b=$APP.qe(b);var c=$APP.C.B(b,$APP.Ti,"latex"),d=a.placeholders;return $APP.Id.B(function(g,l){var n=d[l];n=$APP.Uc.A(c,"math-json")?Svc(n):a.getPromptValue(c);return $APP.rg.B(g,$APP.Wg.j(l),n)},$APP.F,$APP.Ma(d))};X7.G=2;
var SLc=$APP.zs($APP.vs.forwardRef(function(a,b){var c=$APP.vs.useState(null),d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);a=$APP.eu.j(a);a=$APP.qe(a);var g=$APP.C.A(a,"children"),l=$APP.C.A(a,"value"),n=$APP.C.A(a,"options"),p=$APP.C.A(a,"defaultValue"),v=$APP.C.A(a,"onChange"),t=$APP.C.A(a,"onPlaceholderChange");$APP.vs.useEffect(function(){$APP.k(g)&&console.error("Warning: use the `:default-value` or `:value` props instead of setting children on `Mathfield`.");$APP.k($APP.k(p)?l:p)&&console.error("Warning: don't set both `:value` and `:default-value` props. `Mathfield`s must be either controlled or uncontrolled (specify either the `:value` prop, or the `:default-value` prop, but not both). Decide between using a controlled or uncontrolled `Mathfield` and remove one of these props.")},
[]);var A=$APP.vs.useRef(n);$APP.qg.A(A.current,n)&&(A.current=n);$APP.vs.useEffect(function(){if($APP.k($APP.k(d)?n:d)){if($APP.cd(n)){var B=$APP.eu.C($APP.Uka(d),$APP.y([$APP.fu,!0]));B=n.j?n.j(B):n.call(null,B)}else if($APP.md(n))B=n;else throw Error("Invalid option for :options. must be fn or map.");d.setOptions($APP.Bs(B))}},[A.current,d]);$APP.vs.useEffect(function(){$APP.k($APP.k(d)?$APP.k(l)?$APP.qg.A(d.getValue(),l):l:d)&&d.setValue(l)},[d,l]);$APP.vs.useEffect(function(){$APP.k($APP.k(d)?
t:d)&&d.addEventListener("placeholder-change",t);return function(){return $APP.k($APP.k(d)?t:d)?d.removeEventListener("placeholder-change",t):null}},[d,t]);$APP.vs.useEffect(function(){if($APP.k(d)){var B=d.getValue().endsWith("?");B=$APP.k(B)?$APP.Uc.A(2,d.position):B}else B=d;$APP.k(B)&&d.executeCommand("moveToPreviousWord")});$APP.vs.useImperativeHandle(b,function(){return d},[d]);return $APP.gB.j(new $APP.H(null,2,5,$APP.I,[wAc,$APP.rg.C($APP.Oi.C(a,"onPlaceholderChange",$APP.y(["onChange","defaultValue",
"value","options"])),"children",$APP.k(l)?l:$APP.k(p)?p:"",$APP.y(["ref",c,"onInput",v]))],null))}));var TLc=$APP.ap(new $APP.f(null,8,[$APP.z(NCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[q6,$APP.Tw],null))),$APP.P,"Given\n\n  - a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass)) `mf` and\n  - a Clojure data structure `expr` representing a [MathJSON](https://cortexjs.io/math-json/) expression,\n\n  sets the value of `mf` to the TeX version of `expr`.\n\n  Equivalent to `(.setValue mf (math-json-\x3etex expr))`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  this command has no effect."],
null)),new $APP.f(null,3,[$APP.R,YIc,$APP.X,function(a,b){return $APP.k(a.expression)?a.expression=$APP.Bs(b):null},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[q6,$APP.Tw],null)),$APP.P,"Given\n\n  - a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass)) `mf` and\n  - a Clojure data structure `expr` representing a [MathJSON](https://cortexjs.io/math-json/) expression,\n\n  sets the value of `mf` to the TeX version of `expr`.\n\n  Equivalent to `(.setValue mf (math-json-\x3etex expr))`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  this command has no effect."],
null)],null),$APP.z(tDc,new $APP.f(null,1,[$APP.P,"Location of the `fonts` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)),new $APP.f(null,3,[$APP.R,ozc,$APP.X,RLc,$APP.h,new $APP.f(null,1,[$APP.P,"Location of the `fonts` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)],null),AFc,new $APP.f(null,3,[$APP.R,nIc,$APP.X,SLc,$APP.h,$APP.F],null),$APP.z(PBc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,
$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],null)],null)],null))),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a map of (string) placeholder name \x3d\x3e current value of the\n  placeholder.\n\n  NOTE that for `{:type \"math-json\"}` to work you'll need to `(require\n  '[@cortex-js/compute-engine])`. If this option is specified and the package\n  isn't loaded, returns `nil` for each placeholder value.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],null)],null)],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],
null)],null)],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,DIc,$APP.X,X7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],null)],null)],null)),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a map of (string) placeholder name \x3d\x3e current value of the\n  placeholder.\n\n  NOTE that for `{:type \"math-json\"}` to work you'll need to `(require\n  '[@cortex-js/compute-engine])`. If this option is specified and the package\n  isn't loaded, returns `nil` for each placeholder value."],
null)],null),$APP.z(Uxc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tw],null))),$APP.P,"Given a Clojure data structure `expr` representing\n  a [MathJSON](https://cortexjs.io/math-json/) expression, returns a string of\n  LaTeX representing `expr`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],null)),new $APP.f(null,3,[$APP.R,wyc,$APP.X,function(a){return OLc.serializeMathJsonToLatex($APP.Bs(a))},
$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tw],null)),$APP.P,"Given a Clojure data structure `expr` representing\n  a [MathJSON](https://cortexjs.io/math-json/) expression, returns a string of\n  LaTeX representing `expr`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],null)],null),$APP.z(HAc,new $APP.f(null,1,[$APP.P,"Currently loaded version of\nthe [mathlive](https://www.npmjs.com/package/mathlive) npm package."],
null)),new $APP.f(null,3,[$APP.R,iAc,$APP.X,PLc,$APP.h,new $APP.f(null,1,[$APP.P,"Currently loaded version of\nthe [mathlive](https://www.npmjs.com/package/mathlive) npm package."],null)],null),$APP.z(AEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null))),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a [MathJSON](https://cortexjs.io/math-json/)\n  representation (parsed into Clojure) of the currently displayed expression.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],
null)),new $APP.f(null,3,[$APP.R,MJc,$APP.X,Svc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null)),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a [MathJSON](https://cortexjs.io/math-json/)\n  representation (parsed into Clojure) of the currently displayed expression.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],
null)],null),$APP.z(IAc,new $APP.f(null,1,[$APP.P,"Location of the `sounds` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)),new $APP.f(null,3,[$APP.R,Jwc,$APP.X,QLc,$APP.h,new $APP.f(null,1,[$APP.P,"Location of the `sounds` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)],null)],null),$APP.Zo(KDc)),ULc=new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,new $APP.f(null,
1,[KDc,TLc],null)],null);var VLc=$APP.z(function(){function a(c,d,g,l){var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new $APP.Bc(p,0,null)}return b.call(this,c,d,g,n)}function b(c,d,g,l){d=$APP.r(g);c=$APP.u(d);g=$APP.w(d);d=$APP.u(g);g=$APP.w(g);return $APP.r(g)?$APP.T.j($APP.r($APP.N.C(new $APP.D(null,iGc,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,c,null,1,null),new $APP.D(null,d,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,iGc,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(g)))),null,1,null),$APP.y([l])))),null,1,null)])))):$APP.T.j($APP.r($APP.N.C(new $APP.D(null,nxc,null,1,null),new $APP.D(null,d,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,c,null,1,null))))),null,1,null),$APP.y([l])))),null,1,null)]))))}a.G=3;a.K=function(c){var d=$APP.u(c);
c=$APP.w(c);var g=$APP.u(c);c=$APP.w(c);var l=$APP.u(c);c=$APP.Fc(c);return b(d,g,l,c)};a.C=b;return a}(),new $APP.f(null,1,[$APP.Rl,!0],null));$APP.cp($APP.Yo,$APP.y([mLc]));$APP.cp($APP.Yo,$APP.y([wLc]));$APP.cp($APP.Yo,$APP.y([NLc]));$APP.cp($APP.Yo,$APP.y([ULc]));$APP.cp($APP.Yo,$APP.y([$APP.Qsc]));
$APP.cp($APP.Yo,$APP.y([new $APP.f(null,1,[$APP.$l,$APP.fg([iDc,GDc,gGc,bGc,WAc,CGc,UJc,zzc,NIc,TBc,vEc,gwc,YFc,lAc],[$APP.rg.B($APP.ap(new $APP.f(null,6,[QCc,new $APP.f(null,3,[$APP.R,nxc,$APP.X,function(a,b){var c=$APP.Nj.J();b=b.j?b.j(c):b.call(null,c);return $4.A(new $APP.D(null,Mqc,new $APP.D(null,new $APP.H(null,2,5,$APP.I,[c,new $APP.D(null,$APP.Exa,new $APP.D(null,a,null,1,null),2,null)],null),new $APP.D(null,$APP.Xj.B(b,$APP.Oi,e6),null,1,null),2,null),3,null),e6.j($APP.ed(b)))},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Cy,$APP.Kv],null)),$APP.P,'This function takes\n\n  - an initial value `init` for a client-side `reagent.core/atom`\n  - a function `f` of type `\x3csymbol\x3e \x3d\x3e \x3creagent fragment\x3e`\n\n  And returns a new reagent fragment that allows for stateful, reactive\n  interaction with `init` via the `\x3csymbol\x3e`.\n\n  All metadata from the return value of `f` is transferred over to the returned\n  form.\n\n  For example:\n  ```clojure\n  (with-state {:k "v"}\n    (fn [sym] [:pre (get sym :k)]))\n\n  ;;\x3d\x3e (reagent.core/with-let\n  ;;     [G__95940 (reagent.core/atom {:k "v"})]\n  ;;     [:pre (clojure.core/get @G__95940 :k)])\n  ```'],
null)],null),LAc,new $APP.f(null,3,[$APP.R,NGc,$APP.X,function WLc(a){var c=e6.j($APP.ed(a));return $APP.cd(c)?(a=c.j?c.j(a):c.call(null,a),WLc.j?WLc.j(a):WLc.call(null,a)):a},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null)),$APP.P,"If `v` has a `fn?` (say, `f`) registered as Clerk viewer metadata, recurses\n  with the expanded value `(f v)`. Else, returns `v` unchanged."],null)],null),KHc,new $APP.f(null,3,[$APP.R,Iyc,$APP.X,function(a,b){var c=$APP.qe(a);a=$APP.C.A(c,
$APP.dm);c=$APP.C.A(c,$APP.nv);return new U4(b,c,a,null,null,null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.f(null,1,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Fw,$APP.ou],null)],null),$APP.Kv],null)),$APP.P,"Takes:\n\n  - A map of the form\n\n  ```clojure\n  {:atom \x3csymbol representing a reagent.core/atom\x3e\n   :params \x3csequence of keys from the dereferenced atom\x3e}\n  ```\n\n  - a function `f` that takes `(count params)` parameters and returns a new\n    function\n\n  and returns an instance of [[ParamF]] that the various viewer plugins will\n  know how to interpret, based on where the return value of [[with-params]] is\n  being used."],
null)],null),$APP.Lw,new $APP.f(null,3,[$APP.R,fJc,$APP.X,function Y7(a,b){if(a instanceof $APP.q)return new $APP.D(null,rHc,new $APP.D(null,new $APP.D(null,$APP.Lk,new $APP.D(null,a,null,1,null),2,null),new $APP.D(null,b,null,1,null),2,null),3,null);if($APP.md(a))return Y7.A?Y7.A(a,b):Y7.call(null,a,b);a=$APP.Fb(a);return Y7.A?Y7.A(a,b):Y7.call(null,a,b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Vx,$APP.tU],null)),$APP.P,"Given some symbol `sym` representing an atom and a key for the value inside the\n  atom, returns a client-side fragment of the form `(get @sym k)`.\n\n  If `sym` is a `map?`, acts like `clojure.core/get`.\n\n  If `sym` is anything else, [[get]] treats it as an `IDeref` and\n  returns `(clojure.core/get @sym k)`."],
null)],null),$wc,new $APP.f(null,3,[$APP.R,ayc,$APP.X,$4,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null),new $APP.H(null,2,5,$APP.I,[$APP.Tv,Xvc],null)),$APP.P,"Given some quoted form `v`, adds metadata that allows the libraries supported\n  by Emmy-Viewers to eval and render `v` as a Reagent component.\n\n  Optionally takes a Clerk viewer or transforming function `viewer-or-xform` to\n  be applied at render-time and adds that into the metadata instead of the\n  default [[reagent-viewer]]."],
null)],null),$APP.Wv,new $APP.f(null,3,[$APP.R,Vyc,$APP.X,function Z7(a,b){if(a instanceof $APP.q)return new $APP.D(null,AIc,new $APP.D(null,new $APP.D(null,$APP.Lk,new $APP.D(null,a,null,1,null),2,null),new $APP.D(null,b,null,1,null),2,null),3,null);if($APP.md(a))return Z7.A?Z7.A(a,b):Z7.call(null,a,b);a=$APP.Fb(a);return Z7.A?Z7.A(a,b):Z7.call(null,a,b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Vx,$APP.zy],null)),$APP.P,"Given some symbol `sym` representing an atom and an accessor path into the\n  value inside the atom, returns a client-side fragment of the form `(get-in @sym\n  path)`.\n\n  If `sym` is a `map?`, acts like `clojure.core/get-in`.\n\n  If `sym` is anything else, [[get]] treats it as an `IDeref` and\n  returns `(clojure.core/get-in @sym path)`."],
null)],null)],null),$APP.Zo(iDc)),$APP.wxa,VLc),$APP.ap(new $APP.f(null,3,[$APP.z(zIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots a curve by integrating a system of ordinary differential\n  equations represented by `f'` forward from the initial input state\n  `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),new $APP.f(null,3,[$APP.R,Muc,$APP.X,function(){var a=[0,0,0];return function(b){var c=$APP.qe(b),d=$APP.C.A(c,R5);b=$APP.C.A(c,j5);var g=$APP.C.A(c,k5),l=$APP.C.B(c,l5,16724112),n=$APP.C.A(c,n5),p=$APP.C.A(c,T5),v=$APP.C.B(c,U5,qtc),t=$APP.C.B(c,$APP.J3b,.03),A=$APP.C.B(c,q5,0),B=$APP.C.B(c,axc,1E3),G=$APP.C.B(c,r5,4),J=$APP.C.B(c,s5,0),O=$APP.C.B(c,C5,1),Q=$APP.C.B(c,$APP.JR,1E-5);c=$APP.C.B(c,E5,6);d=$APP.ef(d);var W=$APP.Tc(d),Z=v7.B(p,W,new $APP.f(null,1,[$APP.JR,Q],null)),fa=$APP.Bs(d);
return new $APP.H(null,3,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,5,[A5,3,$APP.qF,B,h5,!1,r5,1,$APP.Bk,function(ha){return Z(fa,B,t,function(ja){v.A?v.A(ja,a):v.call(null,ja,a);ja=a[0];var ta=a[1],ua=a[2];return ha.B?ha.B(ja,ta,ua):ha.call(null,ja,ta,ua)})}],null)],null),new $APP.H(null,2,5,$APP.I,[y7,$APP.fg([l5,r5,$APP.nq,$APP.cT,w5,C5,v5,$APP.qq,x5],[l,G,b,c,g,O,J,n,A])],null)],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null)),$APP.P,
"Component that plots a curve by integrating a system of ordinary differential\n  equations represented by `f'` forward from the initial input state\n  `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),$APP.z(RDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,5,$APP.I,[$APP.ZW,$APP.SU,Uzc,Dwc,vAc,$APP.aX,$APP.XU,s6,g6,l6,i6,k6,h6,f6,x6,p6],null),$APP.Kl,$APP.fg([Dwc,l6,h6,i6,$APP.aX,p6,vAc,g6,x6,k6,$APP.XU,s6,Uzc],[2,!1,3182847,!0,.03,0,10,2,0,1,1E-5,5,1])],null)],null))),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  [[PhaseVectors]] plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)),new $APP.f(null,3,[$APP.R,Nuc,$APP.X,function(a){var b=$APP.qe(a),c=$APP.C.B(b,Bxc,2),d=$APP.C.A(b,R5);a=$APP.C.B(b,j5,!1);var g=$APP.C.A(b,k5),l=$APP.C.B(b,l5,3182847),n=$APP.C.B(b,n5,!0),p=$APP.C.A(b,T5),v=$APP.C.B(b,$APP.J3b,.03),t=$APP.C.B(b,q5,0),A=$APP.C.B(b,axc,10),B=$APP.C.B(b,r5,2),G=$APP.C.B(b,s5,0),J=$APP.C.B(b,C5,1),O=$APP.C.B(b,$APP.JR,1E-5),Q=$APP.C.B(b,E5,5),W=$APP.C.B(b,lBc,1);b=$APP.ef(d);d=$APP.Tc(b);var Z=v7.B(p,d,new $APP.f(null,1,[$APP.JR,O],null)),fa=$APP.Bs(b);return new $APP.H(null,
3,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[Kuc,new $APP.f(null,8,[r5,16,I5,16,A5,2,$APP.qF,A,SAc,!0,RAc,!0,h5,!1,$APP.Bk,function(ha,ja,ta){fa[W]=ja;fa[c]=ta;return Z(fa,A,v,function(ua){var ca=ua[W];ua=ua[c];return ha.A?ha.A(ca,ua):ha.call(null,ca,ua)})}],null)],null),new $APP.H(null,2,5,$APP.I,[y7,$APP.fg([l5,r5,$APP.nq,$APP.cT,w5,C5,v5,$APP.qq,x5],[l,B,a,Q,g,J,G,n,t])],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,
5,$APP.I,[$APP.ZW,$APP.SU,Uzc,Dwc,vAc,$APP.aX,$APP.XU,s6,g6,l6,i6,k6,h6,f6,x6,p6],null),$APP.Kl,$APP.fg([Dwc,l6,h6,i6,$APP.aX,p6,vAc,g6,x6,k6,$APP.XU,s6,Uzc],[2,!1,3182847,!0,.03,0,10,2,0,1,1E-5,5,1])],null)],null)),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  [[PhaseVectors]] plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)],null),$APP.z(xDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.ou,FDc,IEc,YEc,dyc,$APP.wY,k6,h6,f6,x6,p6],null),$APP.Kl,new $APP.f(null,8,[$APP.wY,10,k6,1,FDc,DJc,h6,3182847,YEc,16,x6,0,p6,0,IEc,$APP.M($APP.mx,new $APP.H(null,4,5,$APP.I,[lxc,$APP.Vv,$APP.SP,$APP.TP],null),$APP.M(lxc,$APP.Vv,$APP.SP,$APP.TP))],null)],null)],null))),$APP.P,"Point that trails its historical positions out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)),new $APP.f(null,3,[$APP.R,jBc,$APP.X,function(a){var b=$APP.qe(a);a=$APP.C.A(b,$APP.qF);var c=$APP.C.A(b,$APP.nv),d=$APP.C.A(b,k5),g=$APP.C.B(b,l5,3182847),l=$APP.C.B(b,U5,qtc),n=$APP.C.B(b,q5,0),p=$APP.C.B(b,HFc,function(B,G,J,O){return B.B?B.B(G,J,O):B.call(null,G,J,O)}),v=$APP.C.B(b,$APP.cT,10),t=$APP.C.B(b,s5,0),A=$APP.C.B(b,C5,1);b=$APP.C.B(b,$APP.vxa,16);return new $APP.H(null,4,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,4,[rEc,b,$APP.qF,a,A5,3,$APP.Bk,function(){var B=
[0,0,0];return function(G){var J=$APP.KU.j(c.state);l.A?l.A(J,B):l.call(null,J,B);J=B[0];var O=B[1],Q=B[2];return p.M?p.M(G,J,O,Q):p.call(null,G,J,O,Q)}}()],null)],null),1<b?new $APP.H(null,4,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[CKc,new $APP.f(null,2,[I5,new $APP.H(null,3,5,$APP.I,[0,0,-.02],null),gHc,-1],null)],null),new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,3,[r5,b,A5,4,$APP.Bk,function(B,G){G=1-G/16;return B.M?B.M(1,1,1,G):B.call(null,1,1,1,G)}],null)],null),new $APP.H(null,2,5,$APP.I,
[Fuc,new $APP.f(null,1,[$APP.WD,"zxy"],null)],null)],null):null,new $APP.H(null,2,5,$APP.I,[rKc,$APP.Ni.C($APP.y([1<b?new $APP.f(null,2,[d6,"\x3c\x3c\x3c",uCc,"\x3c"],null):new $APP.f(null,1,[d6,"\x3c"],null),new $APP.f(null,6,[$APP.cT,v,C5,A,l5,g,v5,t,x5,n,w5,d],null)]))],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.ou,FDc,IEc,YEc,dyc,$APP.wY,k6,h6,f6,x6,p6],null),$APP.Kl,new $APP.f(null,8,[$APP.wY,
10,k6,1,FDc,DJc,h6,3182847,YEc,16,x6,0,p6,0,IEc,$APP.M($APP.mx,new $APP.H(null,4,5,$APP.I,[lxc,$APP.Vv,$APP.SP,$APP.TP],null),$APP.M(lxc,$APP.Vv,$APP.SP,$APP.TP))],null)],null)],null)),$APP.P,"Point that trails its historical positions out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)],null)],null),$APP.Zo(GDc)),$APP.ap($APP.fg([FGc,$Ic,wGc,iHc,fEc,Kyc,twc,swc,yIc,wwc],[new $APP.f(null,3,[$APP.R,ywc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,R5);b=L5(a,U5,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[jBc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.SU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,
"Returns a fragment that renders a point that trails its historical positions\n  out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:initial-state`: structure in the shape of the state required by\n    `:state-\x3exyz'`, used if `:state-\x3exyz'` is a function that needs to be\n    compiled (ie not a quoted literal function).\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,wzc,$APP.X,dvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.SU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations represented by `f'` forward from the initial input\n  state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:simplify?` if `true`, the compiler will attempt to simplify the body of\n    `:state-\x3exyz` and `:f'`. `false` by default.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,qxc,$APP.X,ivc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.SU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `:initial-state` for `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,SFc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,C6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.YQ,c)}):$APP.YQ(b);return dvc($APP.rg.B($APP.Oi.A(a,C6),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.BU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Hamiltonian passed via `:H` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,gCc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,W5);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.PQ,c)}):$APP.PQ.j(b);return ivc($APP.rg.B($APP.Oi.A(a,W5),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.DU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Lagrangian passed\n  via `:L` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,nJc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,B6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.F4,c)}):$APP.F4.j(b);return dvc($APP.rg.B($APP.Oi.A(a,B6),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.GU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Routhian passed via `:R` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,xAc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,B6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.F4,c)}):$APP.F4.j(b);return ivc($APP.rg.B($APP.Oi.A(a,B6),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.GU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Routhian passed\n  via `:R` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,izc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,C6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.YQ,c)}):$APP.YQ(b);return ivc($APP.rg.B($APP.Oi.A(a,C6),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.BU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Hamiltonian\n  passed via `:H` forward from the initial input state `:initial-state` for\n  `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,JBc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,YAc),c=$APP.C.A(a,LHc),d=$APP.C.A(a,SHc),g=V4(b)?$APP.Fj.B(b,$APP.Dy,fvc):gvc(b);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(l){return function(){function n(v){var t=null;if(0<arguments.length){t=0;for(var A=Array(arguments.length-0);t<A.length;)A[t]=arguments[t+0],++t;t=new $APP.Bc(A,0,null)}return p.call(this,t)}function p(v){return $APP.Hl.A($APP.Je.A(l,v),$APP.LQ)}n.G=0;n.K=function(v){v=$APP.r(v);return p(v)};
n.C=p;return n}()}):$APP.Hl.A(b,$APP.LQ);return evc($APP.rg.C($APP.Oi.C(a,YAc,$APP.y([LHc,SHc])),W5,g,$APP.y([R5,new $APP.H(null,3,5,$APP.I,[0,c,d],null),U5,b])))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,3,5,$APP.I,[$APP.Uta,$APP.NW,JEc],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a geodesic curve over the parametric surface\n  defined by `:xform`, starting from initial position `:x0` with initial\n  velocity `:v0`. The geodesic curve is generated by integrating a system of\n  ordinary differential equations forward for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:xform`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`\n\n  - `:x0`: starting position of the geodesic in `[u v]` coordinates.\n\n  - `:v0`: starting velocity of the geodesic in `[udot vdot]`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,Pwc,$APP.X,evc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.DU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Lagrangian passed via `:L` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null)]),$APP.Zo(gGc)),$APP.ap(new $APP.f(null,1,[$APP.pJb,new $APP.f(null,3,[$APP.R,dAc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[hCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a reagent fragment that renders a Clock component into the scene."],null)],null)],null),$APP.Zo(bGc)),$APP.ap($APP.fg([$APP.z(zDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that plots a parametric surface defined by `f` into the scene along\n  the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(qyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[aCc],null))),$APP.P,"Component that renders multiple [[Grid]] objects into a scene.\n\n  `grids` can be either\n\n  - a vector like `[:xy :yz]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n  Any plane entries missing from `grids` won't be rendered."],null)),$APP.z(cxc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,
8,5,$APP.I,[$APP.HY,$APP.wY,$APP.nW,k6,h6,f6,x6,p6],null),$APP.Kl,new $APP.f(null,5,[$APP.wY,16,x6,0,p6,0,k6,1,h6,gAc],null)],null)],null))),$APP.P,"Component that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(KFc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:position`: `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` world position of this cartesian. Defaults to\n     `[0 0 0]`.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[LabeledAxis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[Grid]] for more detail on allowed configuration values.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(lJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.nW,s6,g6,l6,i6,$APP.HY,k6,h6,f6,x6,p6],null),$APP.Kl,new $APP.f(null,6,[x6,0,p6,0,k6,1,s6,6,g6,4,h6,"#3498db"],null)],null)],null))),$APP.P,
"Component that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?`: if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(ZEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,4,5,$APP.I,[dCc,$APP.HY,$APP.wY,$APP.Qx],null),$APP.Kl,new $APP.f(null,1,[dCc,!0],null)],null)],null))),$APP.P,"Component that _quite indulgently_ mounts a DOM element into the current MathBox scene.\n\n  NOTE that this is quite expensive and will slow down your updates! But when\n  you need to show LaTeX this is where you should turn.\n\n  Required arguments:\n\n  - `:label`: string with the label you'd like to mount.\n\n  Optional arguments:\n\n  - `:tex?`: when `true` (default), mounts the label into the dom after\n    processing it with [katex](https://katex.org/).\n\n  - `:size`: size of the label. Defaults to 12, or 18 if `:tex?` is true.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for this label on the DOM. Defaults to\n    `[0 20]`."],
null)),$APP.z(Lwc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,10,5,$APP.I,[$APP.BX,g6,k6,h6,f6,x6,p6,$APP.rw,l6,i6],null),$APP.Kl,new $APP.f(null,7,[p6,0,x6,0,k6,1,g6,1,l6,!1,i6,!1,h6,"#808080"],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",t5,"null",A6,"null"],null),null),$APP.BX)],null)],null)))),$APP.P,"Component that takes an `:axis` option equal to `:x`, `:y` or `:z` and renders\n  the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label and ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:start?`: if `true`, renders an arrow at the start of the axis. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)),$APP.z(gzc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots a polar surface defined by `:f` into the scene along the\n  area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(Jxc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[mathbox.core/MathBox]] is removed and passed along\n  to that component, after merging with [[box-defaults]].\n\n  See [[Cartesian]] for all other supported options.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(mGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,5,$APP.I,[$APP.BX,aDc,g6,TFc,$APP.zv,l6,i6,GHc,Rzc,h6,KAc,mJc,$APP.Qx,f6,x6,p6],null),$APP.Kl,$APP.fg([mJc,l6,TFc,Rzc,i6,p6,aDc,$APP.zv,g6,x6,GHc],
[16,!0,!1,Dzc,!0,0,10,!1,2,0,!0])],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",t5,"null",A6,"null"],null),null),$APP.BX)],null)],null)))),$APP.P,'Component that renders tick marks onto a scene, lined up with an axis.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:divisions`: the number of divisions (ticks) to generate. Defaults to 10.\n\n  - `:width`: width of each tick. Defaults to 2.\n\n  - `:snap?` if `true`, the ticks will snap to "nice" values. `false` by default.\n\n  - `:start?` if `true` (default), renders the starting tick.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:zero?` if `true`, renders the tick at 0. `false` by default.\n\n  - `:size`: size of the label. Defaults to 12.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for the label on each tick. Defaults to\n    `[20 0]` if `:axis` equals `:z`, else `[0 -20]`.\n\n  - `:labels?`: if `true` (default), renders a printed label underneath each\n    tick for the `:x` and `:y` axes, or alongside the axis for `:z`.\n\n  - `:label-fn`: `(fn [x] \x3cstring\x3e)` for generating the printed representation\n    of each tick mark\'s value. Defaults to [[emmy.viewer.plot/format-number]]. You\n    might also enjoy [[emmy.viewer.plot/label-pi]].\n\n  - `:z-order`: z-order of the labeled axis.\n\n  - `:z-index`: zIndex of the labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the labeled axis. Defaults to 0.'],
null)),$APP.z(jGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(xHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,3,5,$APP.I,[$APP.BX,UCc,$APP.wY],null),$APP.Kl,new $APP.f(null,2,[$APP.wY,16,UCc,5],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",t5,"null",A6,"null"],null),null),$APP.BX)],null)],null)))),$APP.P,'Component that renders an axis label above the referenced `axis`.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:label`: the label to show. If `label` is falsey or equal to `""`, this\n    component won\'t render.\n\n  - `:position`: the distance along the axis to place the label. Defaults to 5.\n\n    NOTE: Ideally we would figure out the parent `Cartesian` and pick the top of\n    the range for the axis specified as the default.\n\n  - `:size`: size of the label. Defaults to 16.'],
null)),HHc,$APP.z(zBc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,9,5,$APP.I,[eHc,g6,k6,h6,f6,x6,p6,xEc,aDc],null),$APP.Kl,new $APP.f(null,5,[p6,0,x6,0,g6,.5,k6,1,h6,"#808080"],null)],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,6,[aIc,"null",y6,"null",eIc,"null",dIc,"null",JHc,"null",bIc,"null"],null),null),eHc)],null)],null)))),$APP.P,'Component that takes an `:axes` option equal to `:xy`, `:yz` or `:xz` and\n  renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either a single number or a 2-vector of numbers of the form\n    `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A non-vector value becomes\n    a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)),$APP.z(bDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,$APP.I,[xGc,$APP.yx],null),$APP.Kl,new $APP.f(null,1,[$APP.yx,new $APP.H(null,3,5,$APP.I,[0,0,0],null)],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that renders a vector into the scene with the specified `tip` and\n  `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[Line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)),$APP.z(fGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots an explicit surface defined by `:x` into the scene along the\n  area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(iyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.SP],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a function in either the `x` or `y` directions as a\n  function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(jyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.TP],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a function in either the `x` or `z` directions as a\n  function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(sGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),WEc,$APP.z(MBc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that plots a parametric curve `f` into the scene along the range\n  specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(zJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.mO,$APP.By],null),$APP.Kl,new $APP.f(null,1,[$APP.By,new $APP.H(null,2,5,$APP.I,[0,$APP.M($APP.Ev,2,MFc)],null)],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a polar curve, ie, radius as a function of theta.\n\n  Required arguments:\n\n  - `:r`: function of the form `(fn [theta] \x3cr\x3e)`, valid within the range of\n    theta values specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying the\n    range to feed into `:r`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(lyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.SP,$APP.TP],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a function in either the `y` or `z` directions as a\n  function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(HGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,17,5,$APP.I,[$APP.Kv,$APP.iX,kFc,eGc,Sxc,xCc,qFc,CJc,s6,g6,l6,i6,k6,h6,f6,x6,p6],null),$APP.Kl,$APP.fg([l6,eGc,h6,kFc,i6,$APP.iX,p6,g6,x6,Sxc,k6,s6],[!1,10,"#3090ff",10,!0,1,0,2,0,10,1,6])],null)],null))),$APP.P,"Component that plots a vector field defined by `:f` into the scene along the\n  volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)),$APP.z(iBc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[eHc],null),new $APP.H(null,2,5,$APP.I,[eHc,$APP.By],null))),$APP.P,"Component that renders multiple [[LabeledAxis]] components into a scene.\n\n  `axes` can be either\n\n  - a vector like `[:x :y]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n  `range` (optional) is a 3-vector with the rendered ranges in the `x`, `y` and\n  `z` directions.\n\n  Any axis entries missing from `axes` won't be rendered.\n\n  NOTE: This argument is only used to fill in the `:max` argument\n  to [[LabeledAxis]] for default label positioning. It should go away once we\n  get a better strategy!",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[eHc],null),new $APP.H(null,2,5,$APP.I,[eHc,$APP.By],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[eHc],null),new $APP.H(null,2,5,$APP.I,[eHc,$APP.By],null)),$APP.zx,$APP.M(null,null)],null)],null))],[new $APP.f(null,3,[$APP.R,zxc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[J5,$APP.xo(a,new $APP.f(null,3,[$APP.Dy,$APP.Bk,EJc,O5,$APP.$cc,K5],null))],null)},$APP.h,
new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that plots a parametric surface defined by `f` into the scene along\n  the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,GFc,$APP.X,wuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[aCc],null)),$APP.P,"Component that renders multiple [[Grid]] objects into a scene.\n\n  `grids` can be either\n\n  - a vector like `[:xy :yz]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n  Any plane entries missing from `grids` won't be rendered."],null)],null),new $APP.f(null,3,[$APP.R,fzc,$APP.X,function(a){var b=$APP.qe(a),c=$APP.C.A(b,$APP.TW);
a=$APP.C.B(b,$APP.cT,16);var d=$APP.C.A(b,$tc),g=$APP.C.B(b,C5,1),l=$APP.C.B(b,l5,"rgb(128, 128, 128)"),n=$APP.C.A(b,k5),p=$APP.C.B(b,s5,0),v=$APP.C.B(b,q5,0);b=$APP.I;d=new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,4,[$APP.qF,1,h5,!1,A5,3,$APP.ly,new $APP.H(null,1,5,$APP.I,[d],null)],null)],null);g=new $APP.H(null,2,5,$APP.I,[rKc,new $APP.f(null,6,[$APP.cT,a,C5,g,l5,l,v5,p,x5,v,w5,n],null)],null);$APP.k(c)?(c=$APP.md(c)?c:new $APP.f(null,1,[$APP.TW,c],null),a=$APP.k(jtc.j(c))?new $APP.H(null,2,
5,$APP.I,[Xtc,$APP.rg.B(c,$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,a/2+10],null))],null):new $APP.H(null,3,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[o5,new $APP.f(null,2,[Mtc,"bold",$APP.ly,new $APP.H(null,1,5,$APP.I,[$APP.TW.j(c)],null)],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,1,[$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,a/2+40],null)],null)],null)],null)):a=null;return new $APP.H(null,4,5,b,[g5,d,g,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,
2,[$APP.zu,new $APP.H(null,8,5,$APP.I,[$APP.HY,$APP.wY,$APP.nW,k6,h6,f6,x6,p6],null),$APP.Kl,new $APP.f(null,5,[$APP.wY,16,x6,0,p6,0,k6,1,h6,gAc],null)],null)],null)),$APP.P,"Component that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,CHc,$APP.X,E7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:position`: `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` world position of this cartesian. Defaults to\n     `[0 0 0]`.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[LabeledAxis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[Grid]] for more detail on allowed configuration values."],
null)],null),new $APP.f(null,3,[$APP.R,hIc,$APP.X,yuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.nW,s6,g6,l6,i6,$APP.HY,k6,h6,f6,x6,p6],null),$APP.Kl,new $APP.f(null,6,[x6,0,p6,0,k6,1,s6,6,g6,4,h6,"#3498db"],null)],null)],null)),$APP.P,"Component that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?`: if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,pCc,$APP.X,Xtc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,4,5,$APP.I,[dCc,$APP.HY,$APP.wY,$APP.Qx],null),$APP.Kl,new $APP.f(null,1,[dCc,!0],null)],null)],null)),$APP.P,"Component that _quite indulgently_ mounts a DOM element into the current MathBox scene.\n\n  NOTE that this is quite expensive and will slow down your updates! But when\n  you need to show LaTeX this is where you should turn.\n\n  Required arguments:\n\n  - `:label`: string with the label you'd like to mount.\n\n  Optional arguments:\n\n  - `:tex?`: when `true` (default), mounts the label into the dom after\n    processing it with [katex](https://katex.org/).\n\n  - `:size`: size of the label. Defaults to 12, or 18 if `:tex?` is true.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for this label on the DOM. Defaults to\n    `[0 20]`."],
null)],null),new $APP.f(null,3,[$APP.R,HDc,$APP.X,ouc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,10,5,$APP.I,[$APP.BX,g6,k6,h6,f6,x6,p6,$APP.rw,l6,i6],null),$APP.Kl,new $APP.f(null,7,[p6,0,x6,0,k6,1,g6,1,l6,!1,i6,!1,h6,"#808080"],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",t5,"null",A6,"null"],null),null),$APP.BX)],null)],null))),
$APP.P,"Component that takes an `:axis` option equal to `:x`, `:y` or `:z` and renders\n  the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label and ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:start?`: if `true`, renders an arrow at the start of the axis. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)],null),new $APP.f(null,3,[$APP.R,mAc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,t5),d=$APP.C.B(b,wJc,new $APP.H(null,2,5,$APP.I,[0,3],null)),g=$APP.C.B(b,pAc,new $APP.H(null,2,5,$APP.I,[0,2*Math.PI],null));return new $APP.H(null,2,5,$APP.I,[J5,$APP.xo($APP.rg.C($APP.Oi.A(b,t5),D5,new $APP.H(null,2,5,$APP.I,[1,3],null),$APP.y([$APP.Bk,function(l,n,p){a[0]=n;a[1]=p;var v=n*Math.cos(p);n*=Math.sin(p);p=c.j?c.j(a):c.call(null,a);return l.B?l.B(v,n,p):l.call(null,
v,n,p)},wJc,d,pAc,g])),new $APP.f(null,6,[wJc,O5,pAc,K5,myc,M5,RBc,N5,rIc,G5,FFc,H5],null))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null)),$APP.P,"Component that plots a polar surface defined by `:f` into the scene along the\n  area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,LBc,$APP.X,F7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[mathbox.core/MathBox]] is removed and passed along\n  to that component, after merging with [[box-defaults]].\n\n  See [[Cartesian]] for all other supported options."],
null)],null),new $APP.f(null,3,[$APP.R,Wvc,$APP.X,iuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,5,$APP.I,[$APP.BX,aDc,g6,TFc,$APP.zv,l6,i6,GHc,Rzc,h6,KAc,mJc,$APP.Qx,f6,x6,p6],null),$APP.Kl,$APP.fg([mJc,l6,TFc,Rzc,i6,p6,aDc,$APP.zv,g6,x6,GHc],[16,!0,!1,Dzc,!0,0,10,!1,2,0,!0])],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",t5,"null",A6,"null"],null),
null),$APP.BX)],null)],null))),$APP.P,'Component that renders tick marks onto a scene, lined up with an axis.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:divisions`: the number of divisions (ticks) to generate. Defaults to 10.\n\n  - `:width`: width of each tick. Defaults to 2.\n\n  - `:snap?` if `true`, the ticks will snap to "nice" values. `false` by default.\n\n  - `:start?` if `true` (default), renders the starting tick.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:zero?` if `true`, renders the tick at 0. `false` by default.\n\n  - `:size`: size of the label. Defaults to 12.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for the label on each tick. Defaults to\n    `[20 0]` if `:axis` equals `:z`, else `[0 -20]`.\n\n  - `:labels?`: if `true` (default), renders a printed label underneath each\n    tick for the `:x` and `:y` axes, or alongside the axis for `:z`.\n\n  - `:label-fn`: `(fn [x] \x3cstring\x3e)` for generating the printed representation\n    of each tick mark\'s value. Defaults to [[emmy.viewer.plot/format-number]]. You\n    might also enjoy [[emmy.viewer.plot/label-pi]].\n\n  - `:z-order`: z-order of the labeled axis.\n\n  - `:z-index`: zIndex of the labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the labeled axis. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.R,iFc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,z6);return new $APP.H(null,2,5,$APP.I,[J5,$APP.rg.C($APP.xo($APP.Oi.A(b,z6),new $APP.f(null,6,[rCc,O5,KJc,K5,LDc,M5,WGc,N5,tIc,G5,vIc,H5],null)),D5,m5.j?m5.j(JHc):m5.call(null,JHc),$APP.y([$APP.Bk,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(g,n,l):d.call(null,g,n,l)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,
[$APP.Hv],null)),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,IJc,$APP.X,luc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,3,5,$APP.I,[$APP.BX,UCc,$APP.wY],null),$APP.Kl,new $APP.f(null,2,[$APP.wY,16,UCc,5],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",t5,"null",A6,"null"],null),null),$APP.BX)],null)],null))),$APP.P,'Component that renders an axis label above the referenced `axis`.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:label`: the label to show. If `label` is falsey or equal to `""`, this\n    component won\'t render.\n\n  - `:position`: the distance along the axis to place the label. Defaults to 5.\n\n    NOTE: Ideally we would figure out the parent `Cartesian` and pick the top of\n    the range for the axis specified as the default.\n\n  - `:size`: size of the label. Defaults to 16.'],
null)],null),new $APP.f(null,3,[$APP.R,vwc,$APP.X,fLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,BAc,$APP.X,vuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,9,5,$APP.I,[eHc,g6,k6,h6,f6,x6,p6,xEc,aDc],null),$APP.Kl,new $APP.f(null,5,[p6,0,x6,0,g6,.5,k6,1,h6,"#808080"],null)],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,6,[aIc,"null",y6,"null",eIc,"null",dIc,"null",
JHc,"null",bIc,"null"],null),null),eHc)],null)],null))),$APP.P,'Component that takes an `:axes` option equal to `:xy`, `:yz` or `:xz` and\n  renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either a single number or a 2-vector of numbers of the form\n    `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A non-vector value becomes\n    a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.R,Kzc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,PEc),c=$APP.C.B(a,jJc,new $APP.H(null,3,5,$APP.I,[0,0,0],null));return new $APP.H(null,2,5,$APP.I,[yuc,$APP.rg.C($APP.Oi.C(a,PEc,$APP.y([jJc])),$tc,new $APP.H(null,2,5,$APP.I,[c,b],null),$APP.y([n5,n5.A(a,!0)]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,$APP.I,[xGc,$APP.yx],null),$APP.Kl,new $APP.f(null,1,[$APP.yx,new $APP.H(null,
3,5,$APP.I,[0,0,0],null)],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that renders a vector into the scene with the specified `tip` and\n  `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[Line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)],null),new $APP.f(null,3,[$APP.R,oFc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,A6);return new $APP.H(null,2,5,$APP.I,[J5,$APP.rg.C($APP.xo($APP.Oi.A(b,A6),new $APP.f(null,6,[nGc,O5,KJc,K5,fIc,M5,WGc,N5,uIc,G5,vIc,H5],null)),D5,m5.j?m5.j(bIc):m5.call(null,bIc),$APP.y([$APP.Bk,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(n,g,l):d.call(null,n,g,l)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,
[$APP.Hv],null)),$APP.P,"Component that plots an explicit surface defined by `:x` into the scene along the\n  area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,gxc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,A6),c=$APP.C.A(a,z6);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:x` or `:y`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(n,0,l):g.call(null,n,0,l)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(0,n,l):g.call(null,0,n,l)};else throw Error("Error: you must specify either `:x` or `:y`.");return new $APP.H(null,
2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.C(a,A6,$APP.y([z6])),$APP.Bk,d,$APP.y([i5,2]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.SP],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a function in either the `x` or `y` directions as a\n  function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,fxc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,A6),c=$APP.C.A(a,t5);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:x` or `:z`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(n,l,0):g.call(null,n,l,0)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(0,l,n):g.call(null,0,l,n)};else throw Error("Error: you must specify either `:x` or `:z`.");return new $APP.H(null,
2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.C(a,A6,$APP.y([t5])),$APP.Bk,d,$APP.y([i5,3]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.TP],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a function in either the `x` or `z` directions as a\n  function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,hFc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,t5);return new $APP.H(null,2,5,$APP.I,[J5,$APP.rg.C($APP.xo($APP.Oi.A(b,t5),new $APP.f(null,6,[rCc,O5,nGc,K5,LDc,M5,fIc,N5,tIc,G5,uIc,H5],null)),D5,m5.j?m5.j(y6):m5.call(null,y6),$APP.y([$APP.Bk,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(g,l,n):d.call(null,g,l,n)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],
null)),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,EFc,$APP.X,gLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,lDc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[B5,$APP.xo(a,new $APP.f(null,2,[$APP.Dy,$APP.Bk,$APP.gRa,F5],null))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that plots a parametric curve `f` into the scene along the range\n  specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,bCc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,$APP.ZP),c=$APP.C.B(a,F5,new $APP.H(null,2,5,$APP.I,[0,2*Math.PI],null));return new $APP.H(null,2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.A(a,$APP.ZP),$APP.Bk,function(d,g){var l=b.j?b.j(g):b.call(null,g),n=l*Math.cos(g);g=l*Math.sin(g);return d.B?d.B(n,g,0):d.call(null,n,g,0)},$APP.y([F5,c]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,
$APP.I,[$APP.mO,$APP.By],null),$APP.Kl,new $APP.f(null,1,[$APP.By,new $APP.H(null,2,5,$APP.I,[0,$APP.M($APP.Ev,2,MFc)],null)],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a polar curve, ie, radius as a function of theta.\n\n  Required arguments:\n\n  - `:r`: function of the form `(fn [theta] \x3cr\x3e)`, valid within the range of\n    theta values specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying the\n    range to feed into `:r`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,jxc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,z6),c=$APP.C.A(a,t5);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:y` or `:z`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(l,n,0):g.call(null,l,n,0)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(l,0,n):g.call(null,l,0,n)};else throw Error("Error: you must specify either `:y` or `:z`.");return new $APP.H(null,
2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.C(a,z6,$APP.y([t5])),$APP.Bk,d,$APP.y([i5,1]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.SP,$APP.TP],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a function in either the `y` or `z` directions as a\n  function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,Bzc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,rCc),c=$APP.C.B(a,j5,!1),d=$APP.C.B(a,fIc,10),g=$APP.C.A(a,k5),l=$APP.C.B(a,l5,"#3090ff"),n=$APP.C.B(a,LDc,10),p=$APP.C.A(a,KJc),v=$APP.C.B(a,n5,!0),t=$APP.C.B(a,lzc,1),A=$APP.C.B(a,q5,0),B=$APP.C.A(a,nGc),G=$APP.C.B(a,r5,2),J=$APP.C.B(a,s5,0),O=$APP.C.B(a,WGc,10),Q=$APP.C.B(a,C5,1),W=$APP.C.B(a,E5,6),Z=$APP.C.A(a,$APP.Dy),fa=$APP.k(b)?b:$APP.Uc.A(1,n)?new $APP.H(null,2,5,$APP.I,[0,0],null):null,ha=$APP.k(B)?
B:$APP.Uc.A(1,d)?new $APP.H(null,2,5,$APP.I,[0,0],null):null,ja=$APP.k(p)?p:$APP.Uc.A(1,O)?new $APP.H(null,2,5,$APP.I,[0,0],null):null;return new $APP.H(null,3,5,$APP.I,[g5,new $APP.H(null,2,5,$APP.I,[oKc,function(){var ta=new $APP.f(null,7,[$APP.Bk,function(ua,ca,V,da){function Y(ea,ya,wa){ea=ca+t*ea;ya=V+t*ya;wa=da+t*wa;return ua.B?ua.B(ea,ya,wa):ua.call(null,ea,ya,wa)}ua.B?ua.B(ca,V,da):ua.call(null,ca,V,da);return Z.M?Z.M(Y,ca,V,da):Z.call(null,Y,ca,V,da)},$APP.qF,2,A5,3,h5,!1,r5,n,I5,d,kCc,O],
null);ta=$APP.k(fa)?$APP.rg.B(ta,guc,fa):ta;ta=$APP.k(ha)?$APP.rg.B(ta,kuc,ha):ta;return $APP.k(ja)?$APP.rg.B(ta,$zc,ja):ta}()],null),new $APP.H(null,2,5,$APP.I,[y7,$APP.fg([l5,r5,$APP.nq,$APP.cT,w5,C5,v5,$APP.qq,x5],[l,G,c,W,g,Q,J,v,A])],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,17,5,$APP.I,[$APP.Kv,$APP.iX,kFc,eGc,Sxc,xCc,qFc,CJc,s6,g6,l6,i6,k6,h6,f6,x6,p6],null),$APP.Kl,$APP.fg([l6,eGc,h6,kFc,i6,$APP.iX,p6,g6,x6,
Sxc,k6,s6],[!1,10,"#3090ff",10,!0,1,0,2,0,10,1,6])],null)],null)),$APP.P,"Component that plots a vector field defined by `:f` into the scene along the\n  volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,cAc,$APP.X,D7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[eHc],null),new $APP.H(null,2,5,$APP.I,[eHc,$APP.By],null)),$APP.P,"Component that renders multiple [[LabeledAxis]] components into a scene.\n\n  `axes` can be either\n\n  - a vector like `[:x :y]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n  `range` (optional) is a 3-vector with the rendered ranges in the `x`, `y` and\n  `z` directions.\n\n  Any axis entries missing from `axes` won't be rendered.\n\n  NOTE: This argument is only used to fill in the `:max` argument\n  to [[LabeledAxis]] for default label positioning. It should go away once we\n  get a better strategy!"],
null)],null)]),$APP.Zo(WAc)),$APP.ap($APP.fg([pDc,hEc,iEc,Czc,$APP.fU,JFc,YBc,Axc,cIc,vDc,XFc,uDc,$APP.su,EAc,$APP.Jya,nDc,jEc,$APP.zeb],[new $APP.f(null,3,[$APP.R,czc,$APP.X,function(a){var b=X4(a,$APP.ZP);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[bCc,b],null)),P5)},$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))],null)],null),new $APP.f(null,3,[$APP.R,sAc,$APP.X,function(a){var b=
X4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=X4(b,t5);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[fxc,c],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a function in either the `x` or `z` directions as\n  a function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,tAc,$APP.X,function(a){var b=X4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=X4(b,z6);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[gxc,c],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a function in either the `x` or `y` directions as\n  a function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,bwc,$APP.X,function(a){a=$APP.Fj.B(a,$APP.Dy,Ssc);var b=Vuc(a,1);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[lDc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a parametric curve `f` into the scene along the\n  range specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,vyc,$APP.X,function(a){return $4.A(new $APP.H(null,2,5,$APP.I,[fzc,a],null),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,NFc,$APP.X,function(a){var b=Vuc(a,2);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[zxc,$APP.Oi.A(b,$APP.aV)],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a parametric surface defined by `f` into the\n  scene along the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,Fyc,$APP.X,P5,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[emmy.mathbox/mathbox]] is removed and passed along\n  to that function.\n\n  See [[cartesian]] for all other supported options."],
null)],null),new $APP.f(null,3,[$APP.R,WIc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[HDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that takes an `:axis` option equal to `:x`, `:y` or `:z` and\n  renders the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label, ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)],null),new $APP.f(null,3,[$APP.R,dzc,$APP.X,G7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[labeled-axis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[grid]] for more detail on allowed configuration values."],
null)],null),new $APP.f(null,3,[$APP.R,gJc,$APP.X,function(a){var b=Y4(a,t5);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[hFc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,Qxc,$APP.X,function(a){var b=Y4(a,t5);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[mAc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a polar surface defined by `:f` into the scene\n  along the area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,iJc,$APP.X,function(a){var b=Y4(a,z6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[iFc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,lEc,$APP.X,function(a){return $4.A(new $APP.H(null,2,5,$APP.I,[Kzc,a],null),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that renders a vector into the scene with the specified\n  `tip` and `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)],null),new $APP.f(null,3,[$APP.R,rvc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[BAc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Returns a fragment that takes an `:axes` option equal to `:xy`, `:yz` or `:xz`\n  and renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either `true`, `false`, a single number or a 2-vector of\n    numbers of the form `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A\n    non-vector value becomes a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.R,QBc,$APP.X,function(a){return $4.A(new $APP.H(null,2,5,$APP.I,[hIc,a],null),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,kJc,$APP.X,function(a){var b=Y4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[oFc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:x` into the\n  scene along the area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,rAc,$APP.X,function(a){var b=X4(a,z6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=X4(b,t5);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[jxc,c],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a function in either the `y` or `z` directions as\n  a function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,azc,$APP.X,function(a){var b=Vuc(a,3);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Bzc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a vector field defined by `:f` into the scene\n  along the volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)],null)]),$APP.Zo(CGc)),$APP.ap(new $APP.f(null,7,[$Dc,new $APP.f(null,3,[$APP.R,hJc,$APP.X,D6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[n6],null),new $APP.H(null,2,5,$APP.I,[n6,$APP.Lx],null)),$APP.P,"Given a quoted ClojureScript function `on-click` and a map `opt` of options,\n  returns a client-side fragment that generates a schema entry defining a\n  button.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). "],
null)],null),ezc,new $APP.f(null,3,[$APP.R,QDc,$APP.X,E6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.HY,$APP.Lx],null)),$APP.P,"Returns a client-side fragment that generates a schema entry defining a button group,\n  given either\n\n  - a label and a map of `{\x3cstring\x3e '(fn [get] ,,,)}` where the `fn` is a quoted\n    ClojureScript function\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[controls]] instance from the value function."],
null)],null),yDc,new $APP.f(null,3,[$APP.R,IDc,$APP.X,F6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,o6],null)),$APP.P,'Returns a client-side fragment that generates a schema entry defining a\n  "monitor", given as a first argument either\n\n  - a no-arg (quoted ClojureScript) function that returns a number, or\n  - a symol referencing a react `MutableRefObject` returned by `useRef`,\n    where `(.-current ref)` returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.'],
null)],null),Tzc,new $APP.f(null,3,[$APP.R,MHc,$APP.X,G6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[r6],null),new $APP.H(null,2,5,$APP.I,[r6,o6],null)),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  client-side fragment that generates a schema entry wrapping `schema` in a\n  subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed`: if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render`: quoted ClojureScript function of hte form `(fn [get] \x3cboolean\x3e)`,\n    providing dynamic control or whether or not the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color`: color string, sets the color of the folder title.\n\n  - `:order`: number, sets the order of this folder relative to other components\n    at the same level."],
null)],null),nvc,new $APP.f(null,3,[$APP.R,cBc,$APP.X,H6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null)),$APP.P,"Returns a fragment that configures a Leva panel with the supplied map of `opts`\n  without explicitly rendering any inputs into it.\n\n  If `:store` is not provided, configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[sub-panel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!"],
null)],null),rDc,new $APP.f(null,3,[$APP.R,VIc,$APP.X,I6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.fv],null)),$APP.P,"Returns a fragment that will configure a non-global, standalone Leva panel with\n  the supplied map of `opts`.\n\n  Any instance of [[controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each."],
null)],null),qDc,new $APP.f(null,3,[$APP.R,zCc,$APP.X,function(a){return $4.j(new $APP.H(null,2,5,$APP.I,[HEc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that will render inputs into a global or local Leva control\n  panel, possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[sub-panel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: symbol referencing an atom of key \x3d\x3e initial value for schema\n    entries. Any entry found in both `:atom` and in `:schema` will remain\n    synchronized between the panel and the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options."],
null)],null)],null),$APP.Zo(UJc)),$APP.ap(new $APP.f(null,2,[Yyc,new $APP.f(null,3,[$APP.R,wEc,$APP.X,ktc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null)),$APP.P,"Function component for a relative clock. `onTick` is called with a single arg\n  for seconds."],null)],null),AGc,new $APP.f(null,3,[$APP.R,hCc,$APP.X,mtc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Wrapper around the function component [[Stopwatch*]]."],null)],
null)],null),$APP.Zo(zzc)),$APP.ap(new $APP.f(null,2,[Gxc,new $APP.f(null,3,[$APP.R,lHc,$APP.X,f5,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.uU],null)),$APP.P,"Given a number `x`, returns a string truncating `x` to have at most `n` decimal\n  places.\n\n  `n` defaults to 2."],null)],null),Yzc,new $APP.f(null,3,[$APP.R,Myc,$APP.X,z7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,
2,5,$APP.I,[$APP.Vv,XCc],null)),$APP.P,"Given a numeric value `x`, returns a string formatting `x` as a multiple of\n  `π`.\n\n  Values close to `π` will receive no prefix; any other number will print with\n  at most `precision` decimal places."],null)],null)],null),$APP.Zo(NIc)),$APP.ap($APP.fg([hEc,uHc,XEc,$APP.fU,kxc,cCc,OJc,kAc,cIc,WJc,QHc,$APP.sdc,ABc,nCc,SCc,Mxc,$APP.su,UEc,$Bc,sJc,dBc,NHc,mIc,jEc,$APP.zeb],[new $APP.f(null,3,[$APP.R,zvc,$APP.X,V6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,
2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[JCc],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-y]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,Cwc,$APP.X,M6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.sS,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[Ywc],null)),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)],null),new $APP.f(null,3,[$APP.R,PJc,$APP.X,L6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.sS,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[Ywc],null)),$APP.P,
'Takes either\n\n  - a sequence of 2-vectors `[\x3cx\x3e \x3cy\x3e]` specifying the polygon\'s vertices\n    and (optionally) a map of options\n  - a map with `:point` entry required\n\n  and returns a fragment that will render a polygon onto a Mafs scene bounded by\n  the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    acceptedr\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,OFc,$APP.X,K6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.SP],null),$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[bBc],null)),$APP.P,"Takes either\n\n  - a 2-vector of `[\x3cx\x3e \x3cy\x3e]` and (optionally) a map of options\n  - a map with `:x` and `:y` entries required\n\n  and returns a fragment that will render a dot onto a Mafs scene at location\n  $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.R,tBc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[NDc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,PIc,$APP.X,N6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Sv],null),new $APP.H(null,2,5,$APP.I,[$APP.Sv,$APP.Lx],null)),$APP.P,'Takes some string `s` (and optionally a map `opts` of options) and returns a\n  fragment that will render `s` onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,VHc,$APP.X,hKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,qzc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[SDc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with slope `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,sCc,$APP.X,Q6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a cartesian coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. "],
null)],null),new $APP.f(null,3,[$APP.R,BIc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[vBc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],null)],null),new $APP.f(null,3,[$APP.R,XGc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[dxc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,
1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with angle `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,GAc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[qIc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line segment\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,eAc,$APP.X,R6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a polar coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. "],
null)],null),new $APP.f(null,3,[$APP.R,qCc,$APP.X,function(a){var b=X4(a,y6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return a5(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Kwc,b],null)))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])` defined either using Emmy primitives,\n    or written in ClojureScript and quoted\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,OIc,$APP.X,T6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a Reagent fragment that mounts a `ViewportInfo` component into the Mafs\n  scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3."],
null)],null),new $APP.f(null,3,[$APP.R,byc,$APP.X,function(a){var b=$sc(A6.j(a)),c=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var d=$sc(z6.j(a)),g=$APP.x.B(d,0,null);d=$APP.x.B(d,1,null);c=$APP.Lf.A(c,g);g=$APP.I;a=$APP.k(b)?$APP.rg.B(a,A6,b):a;a=$APP.k(d)?$APP.rg.B(a,z6,d):a;return a5(Z4(c,new $APP.H(null,2,5,g,[YGc,a],null)))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  If any function in `:x` or `:y` is built out of Emmy\n  primitives, [[inequality]] will compile these into fast native JS functions.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted.\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.R,VGc,$APP.X,O6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[xGc,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[oJc],null)),$APP.P,'Takes either:\n\n  - a 2-vector of the `[\x3cx\x3e \x3cy\x3e]` coordinates of the vector tip and a map of\n    options\n  - a map with `:tip` entry required\n\n  and returns a fragment that will render a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,Rwc,$APP.X,dtc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null))],null)],null),new $APP.f(null,3,[$APP.R,GIc,$APP.X,J6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Given an optional map of options and any number of children, returns a fragment\n  that will render as a Mafs 2D scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, ∞)`).\n\n  - `:view-box`: (optional)A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: Quoted ClojureScript `\'(fn [point, mouse-event] ...)`, called\n      when the view is clicked on, and passed the point where it was clicked.'],
null)],null),new $APP.f(null,3,[$APP.R,Zwc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[Nzc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes an options map and returns a fragment that renders a movable point onto a\n  Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: symbol referencing a client-side atom into which the movable point\n    should synchronize its current coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s\n    the atom. Use `:path` to synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (emmy.viewer/with-let [!xy [0 0]]\n    (movable-point {:atom !xy}))\n\n  (emmy.viewer/with-let [!state {:coords [0 0]}]\n    (movable-point {:atom !state :path :coords}))\n\n  (emmy.viewer/with-let [!state {:nested {:coords [0 0]}}]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function you\'ll need to quote the function so it makes it\n    over to the client. This function will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain \'(fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)],null),new $APP.f(null,3,[$APP.R,sDc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[yEc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:center` and `:radius` entries required and returns a\n  fragment that will render the specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,bzc,$APP.X,S6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Returns a Reagent fragment that wraps any supplied children in an interactive\n  transformation widget that lets you rotate, scale and translate all children."],null)],null),new $APP.f(null,3,[$APP.R,OAc,$APP.X,P6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an options map and any number of (Reagent-fragment) children and returns\n  a fragment that will transform the children as specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`."],
null)],null),new $APP.f(null,3,[$APP.R,xvc,$APP.X,U6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[JCc],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-x]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,wFc,$APP.X,W6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[JCc],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot a vector at every point\n  in a grid on a coordinate plane by calling a function `:xy` that receives the\n  vector\'s tail and returns its tip.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])` defined\n    either using Emmy primitives, or written in ClojureScript and quoted.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive, defined either using Emmy primitives or written in\n    ClojureScript and quoted.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)]),$APP.Zo(TBc)),$APP.ap($APP.fg([$APP.swa,Jzc,Zvc,FCc,vxc,Xyc,$APP.fU,ZDc,yJc,wBc,cCc,$APP.BX,ZFc,JJc,$APP.R3b,LIc,tyc,pJc,oEc,$APP.wu,AHc,$APP.d8b,Qwc,lwc,$APP.HY,eBc,kEc,zyc,cIc,EDc,hvc,szc,Azc,jwc,Qzc,FAc,yxc,qGc,Xxc,Owc,Vzc,JIc,$APP.HT,hHc,ABc,exc,zAc,$APP.OBa,$APP.su,EAc,Txc,cGc,$APP.Jya,hGc,$wc,Syc,$APP.iX,IHc,$APP.VX,mCc,wCc,$APP.KK,$APP.Px,mIc,$APP.tv,cvc],[new $APP.f(null,3,[$APP.R,fCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[DCc,a],null)},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Split one array dimension into two by splitting rows/columns/etc*\n\n  - `:axis`: `null` (nullable axis) - Axis to split, e.g. `x`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:length`: `1` (number) - Tuple length\n  - `:order`: `"wxyz"` (transpose) - Axis order\n  - `:overlap`: `1` (number) - Tuple overlap\n  - `:source`: `"\x3c"` (select) - Input source'],
null)],null),new $APP.f(null,3,[$APP.R,BCc,$APP.X,k7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply custom mask pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:shader`: `"\x3c"` (select) - Shader to use'],null)],null),new $APP.f(null,3,[$APP.R,Ayc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[jzc,a],null)},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw polygon faces*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:line`: `false` (bool) - Draw line\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,Oxc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[VCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Subdivide data points evenly or with a bevel*\n\n  - `:bevel`: `1` (number) - Fraction to end outward from vertices\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable positive int) - Divisions of depth, e.g. `5`\n  - `:height`: `null` (nullable positive int) - Divisions of height, e.g. `5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable positive int) - Divisions of items, e.g. `5`\n  - `:lerp`: `true` (boolean) - Interpolate values with computed indices\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable positive int) - Divisions of width, e.g. `5`'],
null)],null),new $APP.f(null,3,[$APP.R,Mwc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[oxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*1D sampled array*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axis`: `1` (axis) - Axis\n  - `:bufferWidth`: `1` (number) - Array buffer width\n  - `:centered`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, i, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:history`: `1` (number) - Array history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:padding`: `0` (number) - Number of samples padding\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Array width'],
null)],null),new $APP.f(null,3,[$APP.R,qHc,$APP.X,s7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply stereographic projection*\n\n  - `:bend`: `1` (number) - Amount of stereographic bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,kBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[eDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw points*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill shape\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:optical`: `true` (bool) - Optical or exact sizing\n  - `:points`: `\x3c` (select) - Points data source\n  - `:shape`: `"circle"` (shape) - Point shape (circle, square, diamond, up, down, left, right)\n  - `:size`: `4` (positive number) - Point size\n  - `:sizes`: `null` (nullable select) - Point sizes data source, e.g. `"#sizes"`\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,zEc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[pyc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Custom shader snippet*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:code`: `""` (string) - Shader code\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:language`: `"glsl"` (string) - Shader language\n  - `:sources`: `null` (nullable select) - Sampler sources, e.g. `["#pressure", "#divergence"]`\n  - `:uniforms`: `null` (nullable object) - Shader uniform objects (three.js style), e.g. `{ time: { type: \'f\', value: 3 }}`'],
null)],null),new $APP.f(null,3,[$APP.R,Tvc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[oDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Swizzle data values*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `xyzw` (swizzle) - Swizzle order\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,3,[$APP.R,
fDc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[ZGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Resample data to new dimensions with a shader*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Resample channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Resample factor depth, e.g. `10`\n  - `:height`: `null` (nullable number) - Resample factor height, e.g. `10`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:indices`: `4` (number) - Resample indices\n  - `:items`: `null` (nullable number) - Resample factor items, e.g. `10`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:sample`: `"relative"` (mapping) - Source sampling (relative, absolute)\n  - `:shader`: `"\x3c"` (select) - Shader to use\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Resample factor width, e.g. `10`'],
null)],null),new $APP.f(null,3,[$APP.R,YCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[aJc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*GL text source*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:detail`: `24` (number) - Font detail\n  - `:expr`: `null` (nullable emitter) - Data emitter expression\n  - `:font`: `"sans-serif"` (font) - Font family\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:sdf`: `5` (number) - Signed distance field range\n  - `:style`: `""` (string) - Font style, e.g. `"italic"`\n  - `:type`: `"float"` (type) - Texture data type\n  - `:variant`: `""` (string) - Font variant, e.g. `"small-caps"`\n  - `:weight`: `""` (string) - Font weight, e.g. `"bold"`\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,NJc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[GCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw an axis*\n\n  - `:axis`: `1` (axis) - Axis\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:crossed`: `true` (bool) - UVWO map on matching axis\n  - `:depth`: `1` (number) - Depth scaling\n  - `:detail`: `1` (number) - Geometric detail\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `-1` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,nEc,$APP.X,X6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Light wrapper around the `ContainedMathbox` and `MathBox` components exposed by\n  `mathbox-react.`\n\n  The main differences are:\n\n  - This component calls `ContainedMathbox` if the `:container` option is a\n    config map (or not present), and `Mathbox` if `:container` references an\n    actual `HTMLElement`. Any other value currently errors.\n\n  - This component takes a `:threestrap` option instead of `:options`, as the\n  `mathbox-react` components do.\n\n  See [[mathbox]] for a version that installs hooks to allow configuration of\n  the renderer, camera and other settings."],
null)],null),new $APP.f(null,3,[$APP.R,xwc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[xIc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Linear interpolation of data*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Lerp to depth, e.g. `5`\n  - `:height`: `null` (nullable number) - Lerp to height, e.g. `5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable number) - Lerp to items, e.g. `5`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Lerp to width, e.g. `5`'],
null)],null),new $APP.f(null,3,[$APP.R,SIc,$APP.X,Z6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Group elements for visibility and activity*\n\n  - `:active`: `true` (bool) - Updates continuously\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:visible`: `true` (bool) - Visibility for rendering'],null)],null),new $APP.f(null,3,[$APP.R,OGc,$APP.X,e7,
$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Presentation slide*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:early`: `0` (number) - Appear early steps\n  - `:from`: `null` (nullable number) - Appear from step, e.g. `2`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:late`: `0` (number) - Stay late steps\n  - `:order`: `0` (nullable number) - Slide order\n  - `:steps`: `1` (number) - Slide steps\n  - `:to`: `null` (nullable number) - Disappear on step, e.g. `4`'],
null)],null),new $APP.f(null,3,[$APP.R,mzc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[gyc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Memoize data to an array/texture*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:type`: `"float"` (type) - Texture data type'],
null)],null),new $APP.f(null,3,[$APP.R,xzc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Zxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*HTML DOM injector*\n\n  - `:attributes`: `null` (nullable object) - HTML attributes, e.g. `{"style": {"color": "red"}}`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(255, 255, 255)"` (color) - Color\n  - `:depth`: `0` (number) - Depth scaling\n  - `:html`: `"\x3c"` (select) - HTML data source\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:offset`: `[0, -20]` (vec2) - 2D offset\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:outline`: `2` (number) - Outline size\n  - `:pointerEvents`: `false` (bool) - Allow pointer events\n  - `:points`: `"\x3c"` (select) - Points data source\n  - `:size`: `16` (number) - Text size\n  - `:snap`: `false` (bool) - Snap to pixel\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zoom`: `1` (number) - HTML zoom'],
null)],null),new $APP.f(null,3,[$APP.R,VEc,$APP.X,u7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Adjust view range*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,Exc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[pwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Join two array dimensions into one by concatenating rows/columns/stacks*\n\n  - `:axis`: `null` (nullable axis) - Axis to join, e.g. `x`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `"wxyz"` (transpose) - Axis order\n  - `:overlap`: `1` (number) - Tuple overlap\n  - `:source`: `"\x3c"` (select) - Input source'],
null)],null),new $APP.f(null,3,[$APP.R,$vc,$APP.X,p7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply 4D cartesian view*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,GGc,$APP.X,r7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply spherical view*\n\n  - `:bend`: `1` (number) - Amount of spherical bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,ryc,$APP.X,a7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Change unit sizing for drawing ops*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`'],
null)],null),new $APP.f(null,3,[$APP.R,JGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Fxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*3D sampled voxels*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axes`: `[1, 2, 3]` (swizzle(3) axis) - Axis triplet\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, y, z, i, j, k, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeZ`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,DGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[HBc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw GL labels*\n\n  - `:background`: `"rgb(255, 255, 255)"` (color) - Outline background\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `0` (number) - Depth scaling\n  - `:expand`: `0` (number) - Expand glyphs\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:offset`: `[0, -20]` (vec2) - 2D offset\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:outline`: `2` (number) - Outline size\n  - `:points`: `\x3c` (select) - Points data source\n  - `:size`: `16` (number) - Text size\n  - `:snap`: `false` (bool) - Snap to pixel\n  - `:text`: `"\x3c"` (select) - Text source\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,Mzc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[tHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Text atlas resampler*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Resample channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Resample factor depth, e.g. `10`\n  - `:height`: `null` (nullable number) - Resample factor height, e.g. `10`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:indices`: `4` (number) - Resample indices\n  - `:items`: `null` (nullable number) - Resample factor items, e.g. `10`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:sample`: `"relative"` (mapping) - Source sampling (relative, absolute)\n  - `:shader`: `"\x3c"` (select) - Shader to use\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Resample factor width, e.g. `10`'],
null)],null),new $APP.f(null,3,[$APP.R,EHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[yyc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw triangle strips*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:line`: `false` (bool) - Draw line\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,pzc,$APP.X,$6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Inherit and inject a trait from another element*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`'],null)],null),new $APP.f(null,3,[$APP.R,Ruc,$APP.X,o7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply cartesian view*\n\n  * *classes* \x3d `[]` (string array) - Custom classes, e.g. `["big"]`\n  * *eulerOrder* \x3d `xyz` (swizzle) - Euler order\n  * *id* \x3d `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  * *pass* \x3d `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  * *position* \x3d `[0, 0, 0]` (vec3) - 3D Position\n  * *quaternion* \x3d `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  * *range* \x3d `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  * *rotation* \x3d `[0, 0, 0]` (vec3) - 3D Euler rotation\n  * *scale* \x3d `[1, 1, 1]` (vec3) - 3D Scale\n  * *visible* \x3d `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,fFc,$APP.X,b7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Move elements in/out on transition*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Transition delay\n  - `:delayEnter`: `null` (nullable number) - Transition enter delay, e.g. `0.3`\n  - `:delayExit`: `null` (nullable number) - Transition exit delay, e.g. `0.3`\n  - `:duration`: `0.3` (number) - Transition duration\n  - `:durationEnter`: `0.3` (number) - Transition enter duration\n  - `:durationExit`: `0.3` (number) - Transition exit duration\n  - `:enter`: `null` (nullable number) - Enter state, e.g. `0.5`\n  - `:exit`: `null` (nullable number) - Exit state, e.g. `0.5`\n  - `:from`: `[0, 0, 0, 0]` (vec4) - Enter from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:stagger`: `[0, 0, 0, 0]` (vec4) - Stagger dimensions, e.g. `[2, 1, 0, 0]`\n  - `:to`: `[0, 0, 0, 0]` (vec4) - Exit to'],
null)],null),new $APP.f(null,3,[$APP.R,vGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[DBc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Camera instance or proxy*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `"xyz"` (swizzle) - 3D Euler order\n  - `:fov`: `null` (nullable number) - Field-of-view (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lookAt`: `null` (nullable vec3) - 3D Look at, e.g. `[2, 3, 4]`\n  - `:position`: `null` (nullable vec3) - 3D Position, e.g. `[1, 2, 3]`\n  - `:proxy`: `false` (bool) - Re-use existing camera\n  - `:quaternion`: `null` (nullable quat) - 3D Quaternion, e.g. `[0.707, 0, 0, 0.707]`\n  - `:rotation`: `null` (nullable vec3) - 3D Euler rotation, e.g. `[π/2, 0, 0]`\n  - `:up`: `null` (nullable vec3) - 3D Up, e.g. `[0, 1, 0]`'],
null)],null),new $APP.f(null,3,[$APP.R,FBc,$APP.X,j7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Independent 2D layer/overlay*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `1` (number) - 3D Depth\n  - `:fit`: `y` (fit) - Fit to (contain, cover, x, y)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)'],null)],
null),new $APP.f(null,3,[$APP.R,mDc,$APP.X,n7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply custom vertex shader pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:shader`: `"\x3c"` (select) - Shader to use'],null)],null),new $APP.f(null,3,[$APP.R,Zyc,$APP.X,function(a){return new $APP.H(null,
2,5,$APP.I,[Ixc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw surfaces*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:closedX`: `false` (bool) - Close X lines\n  - `:closedY`: `false` (bool) - Close Y lines\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:crossed`: `true` (bool) - UVWO map on matching axes\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:lineX`: `false` (bool) - Draw X lines\n  - `:lineY`: `false` (bool) - Draw Y lines\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,Lyc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Nyc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Read data back to a binary JavaScript array*\n\n  - `:active`: `true` (bool) - Updates continuously\n  - `:channels`: `4` (number) - Readback channels (read only)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `[]` (data) - Readback data buffer (read only)\n  - `:depth`: `1` (nullable number) - Readback depth (read only)\n  - `:expr`: `null` (nullable function) - Readback consume expression, e.g. `function (x, y, z, w, i, j, k, l) { ... }`\n  - `:height`: `1` (nullable number) - Readback height (read only)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `1` (nullable number) - Readback items (read only)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:type`: `"float"` (float) - Readback data type (float, unsignedByte)\n  - `:width`: `1` (nullable number) - Readback width (read only)'],
null)],null),new $APP.f(null,3,[$APP.R,BBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Ezc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Play a sequenced animation*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Play delay\n  - `:ease`: `"cosine"` (ease) - Animation ease (linear, cosine, binary, hold)\n  - `:from`: `0` (number) - Play from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:loop`: `false` (bool) - Loop\n  - `:pace`: `1` (number) - Play pace\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:script`: `{}` (object) - Animation script, e.g. `{ "0": { props: { color: "red" }, expr: { size: function (t) { return Math.sin(t) + 1; }}}, "1": ...}`\n  - `:speed`: `1` (number) - Play speed\n  - `:target`: `"\x3c"` (select) - Animation target\n  - `:to`: `Infinity` (number) - Play until\n  - `:trigger`: `1` (nullable number) - Trigger on step'],
null)],null),new $APP.f(null,3,[$APP.R,Pzc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[sHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*2D sampled matrix*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axes`: `[1, 2]` (swizzle(2) axis) - Axis pair\n  - `:bufferHeight`: `1` (number) - Matrix buffer height\n  - `:bufferWidth`: `1` (number) - Matrix buffer width\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, y, i, j, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Matrix height\n  - `:history`: `1` (number) - Matrix history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Matrix width'],
null)],null),new $APP.f(null,3,[$APP.R,Nwc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Wwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Text formatter*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable array) - Array of labels, e.g. `["Grumpy", "Sleepy", "Sneezy"]`\n  - `:detail`: `24` (number) - Font detail\n  - `:digits`: `null` (nullable positive number) - Digits of precision, e.g. `2`\n  - `:expr`: `null` (nullable function) - Label formatter expression, e.g. `function (x, y, z, w, i, j, k, l, time, delta) { ... }`\n  - `:font`: `"sans-serif"` (font) - Font family\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:sdf`: `5` (number) - Signed distance field range\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:style`: `""` (string) - Font style, e.g. `"italic"`\n  - `:type`: `"float"` (type) - Texture data type\n  - `:variant`: `""` (string) - Font variant, e.g. `"small-caps"`\n  - `:weight`: `""` (string) - Font weight, e.g. `"bold"`'],
null)],null),new $APP.f(null,3,[$APP.R,yzc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[pxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*2D matrix*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferHeight`: `1` (number) - Matrix buffer height\n  - `:bufferWidth`: `1` (number) - Matrix buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, j, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Matrix height\n  - `:history`: `1` (number) - Matrix history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Matrix width'],
null)],null),new $APP.f(null,3,[$APP.R,qAc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[UFc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw ticks*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:epsilon`: `0.0001` (number) - Tick epsilon\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:normal`: `true` (bool) - Normal for reference plane\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `10` (number) - Tick size\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,QAc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[AAc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Scale data relative to reference data point*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable anchor) - Depth alignment\n  - `:height`: `null` (nullable anchor) - Height alignment\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable anchor) - Items alignment\n  - `:scale`: `1` (number) - Scale factor\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable anchor) - Width alignment'],
null)],null),new $APP.f(null,3,[$APP.R,QGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Uwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Select one or more rows/columns/stacks*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable vec2) - Slice from, to depth (excluding to), e.g. `[2, 4]`\n  - `:height`: `null` (nullable vec2) - Slice from, to height (excluding to), e.g. `[2, 4]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable vec2) - Slice from, to items (excluding to), e.g. `[2, 4]`\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable vec2) - Slice from, to width (excluding to), e.g. `[2, 4]`'],
null)],null),new $APP.f(null,3,[$APP.R,ECc,$APP.X,c7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Present a tree of slides*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:directed`: `true` (bool) - Apply directional transitions\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:index`: `1` (number) - Present slide number\n  - `:length`: `0` (number) - Presentation length (computed)'],null)],
null),new $APP.f(null,3,[$APP.R,IIc,$APP.X,d7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Reveal/hide elements on transition*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Transition delay\n  - `:delayEnter`: `null` (nullable number) - Transition enter delay, e.g. `0.3`\n  - `:delayExit`: `null` (nullable number) - Transition exit delay, e.g. `0.3`\n  - `:duration`: `0.3` (number) - Transition duration\n  - `:durationEnter`: `0.3` (number) - Transition enter duration\n  - `:durationExit`: `0.3` (number) - Transition exit duration\n  - `:enter`: `null` (nullable number) - Enter state, e.g. `0.5`\n  - `:exit`: `null` (nullable number) - Exit state, e.g. `0.5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:stagger`: `[0, 0, 0, 0]` (vec4) - Stagger dimensions, e.g. `[2, 1, 0, 0]`'],
null)],null),new $APP.f(null,3,[$APP.R,tzc,$APP.X,q7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply polar view*\n\n  - `:bend`: `1` (number) - Amount of polar bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:helix`: `0` (number) - Expand into helix\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,jHc,$APP.X,h7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Absolute UNIX time in seconds since 01/01/1970*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:now`: `null` (nullable timestamp) - Current moment, e.g. `1444094929.619`\n  - `:pace`: `1` (number) - Time pace\n  - `:seek`: `null` (nullable number) - Seek to time\n  - `:speed`: `1` (number) - Time speed'],
null)],null),new $APP.f(null,3,[$APP.R,pFc,$APP.X,Y6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed'],
null)],null),new $APP.f(null,3,[$APP.R,HCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[cyc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Repeat data in one or more dimensions*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `1` (number) - Repeat depth\n  - `:height`: `1` (number) - Repeat height\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `1` (number) - Repeat items\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `1` (number) - Repeat width'],
null)],null),new $APP.f(null,3,[$APP.R,bHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[FHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw vectors*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,EBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[rwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw a 2D line grid*\n\n  - `:axes`: `[1, 2]` (swizzle(2) axis) - Axis pair\n  - `:baseX`: `10` (number) - Power base for sub/super units\n  - `:baseY`: `10` (number) - Power base for sub/super units\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:closedX`: `false` (bool) - Close X lines\n  - `:closedY`: `false` (bool) - Close Y lines\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:crossed`: `true` (bool) - UVWO map on matching axes\n  - `:crossedX`: `true` (bool) - UVWO map on matching axis\n  - `:crossedY`: `true` (bool) - UVWO map on matching axis\n  - `:depth`: `1` (number) - Depth scaling\n  - `:detailX`: `1` (number) - Geometric detail\n  - `:detailY`: `1` (number) - Geometric detail\n  - `:divideX`: `10` (number) - Number of divisions\n  - `:divideY`: `10` (number) - Number of divisions\n  - `:endX`: `true` (bool) - Include end\n  - `:endY`: `true` (bool) - Include end\n  - `:factorX`: `1` (positive number) - Scale factor\n  - `:factorY`: `1` (positive number) - Scale factor\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lineX`: `true` (bool) - Draw X lines\n  - `:lineY`: `true` (bool) - Draw Y lines\n  - `:modeX`: `"linear"` (scale) - Scale type\n  - `:modeY`: `"linear"` (scale) - Scale type\n  - `:niceX`: `true` (bool) - Snap to nice numbers\n  - `:niceY`: `true` (bool) - Snap to nice numbers\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:startX`: `true` (bool) - Include start\n  - `:startY`: `true` (bool) - Include start\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:unitX`: `1` (number) - Reference unit\n  - `:unitY`: `1` (number) - Reference unit\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `1` (positive number) - Line width\n  - `:zBias`: `-2` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer\n  - `:zeroX`: `true` (bool) - Include zero\n  - `:zeroY`: `true` (bool) - Include zero'],
null)],null),new $APP.f(null,3,[$APP.R,Eyc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[TGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Clamp out-of-bounds samples to the nearest data point*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,3,[$APP.R,qEc,$APP.X,function(a){return new $APP.H(null,
2,5,$APP.I,[DHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Spread data values according to array indices*\n\n  - `:alignDepth`: `0` (anchor) - Depth alignment\n  - `:alignHeight`: `0` (anchor) - Height alignment\n  - `:alignItems`: `0` (anchor) - Items alignment\n  - `:alignWidth`: `0` (anchor) - Width alignment\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable vec4) - Depth offset, e.g. `[1.5, 0, 0, 0]`\n  - `:height`: `null` (nullable vec4) - Height offset, e.g. `[1.5, 0, 0, 0]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable vec4) - Items offset, e.g. `[1.5, 0, 0, 0]`\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:unit`: `"relative"` (mapping) - Spread per item (absolute) or array (relative)\n  - `:width`: `null` (nullable vec4) - Width offset, e.g. `[1.5, 0, 0, 0]`'],
null)],null),new $APP.f(null,3,[$APP.R,wHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[jIc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw lines*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,LFc,$APP.X,m7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Transform geometry in 4D*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:matrix`: `[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]` (mat4) - 4D Affine Matrix\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale'],
null)],null),new $APP.f(null,3,[$APP.R,XJc,$APP.X,i7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply custom fragment shader pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:gamma`: `false` (boolean) - Pass RGBA values in sRGB instead of linear RGB\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"light"` (fragmentPass) - Fragment pass (color, light, rgba)\n  - `:shader`: `"\x3c"` (select) - Shader to use'],
null)],null),new $APP.f(null,3,[$APP.R,vCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[tCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*HTML element source*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,kGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[MCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Human-friendly divisions on an axis, subdivided as needed*\n\n  - `:axis`: `1` (axis) - Axis\n  - `:base`: `10` (number) - Power base for sub/super units\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:divide`: `10` (number) - Number of divisions\n  - `:end`: `true` (bool) - Include end\n  - `:factor`: `1` (positive number) - Scale factor\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:mode`: `"linear"` (scale) - Scale type\n  - `:nice`: `true` (bool) - Snap to nice numbers\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:start`: `true` (bool) - Include start\n  - `:unit`: `1` (number) - Reference unit\n  - `:zero`: `true` (bool) - Include zero'],
null)],null),new $APP.f(null,3,[$APP.R,Bwc,$APP.X,f7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Render objects to a texture*\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:height`: `null` (nullable number) - RTT height, e.g. `360`\n  - `:history`: `1` (number) - RTT history\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:speed`: `1` (number) - Global speed\n  - `:type`: `"unsignedByte"` (type) - Texture data type\n  - `:width`: `null` (nullable number) - RTT width, e.g. `640`'],
null)],null),new $APP.f(null,3,[$APP.R,RHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[nHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Transpose array dimensions*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `xyzw` (transpose) - Transpose order\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,
3,[$APP.R,oCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[yGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*3D voxels*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, j, k, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,UBc,$APP.X,g7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Relative clock that starts from zero.*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Play delay\n  - `:from`: `0` (number) - Play from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:loop`: `false` (bool) - Loop\n  - `:pace`: `1` (number) - Play pace\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:seek`: `null` (nullable number) - Seek to time, e.g. `4`\n  - `:speed`: `1` (number) - Play speed\n  - `:to`: `Infinity` (number) - Play until'],
null)],null),new $APP.f(null,3,[$APP.R,SGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[lGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Full-screen render pass*\n\n  - `:alpha`: `false` (bool) - Compose with alpha transparency\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"white"` (color) - Color\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `false` (bool) - Test Z buffer\n  - `:zWrite`: `false` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,hxc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Rxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*1D array*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferWidth`: `1` (number) - Array buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:history`: `1` (number) - Array history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Array width'],
null)],null),new $APP.f(null,3,[$APP.R,kDc,$APP.X,l7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Transform geometry in 3D*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - 3D Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:matrix`: `[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]` (mat4) - 3D Projective Matrix\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale'],
null)],null),new $APP.f(null,3,[$APP.R,iCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Gyc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Step through a sequenced animation*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Step delay\n  - `:duration`: `0.3` (number) - Step duration\n  - `:ease`: `"cosine"` (ease) - Animation ease (linear, cosine, binary, hold)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pace`: `0` (number) - Step pace\n  - `:playback`: `"linear"` (ease) - Playhead ease (linear, cosine, binary, hold)\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:rewind`: `2` (number) - Step rewind factor\n  - `:script`: `{}` (object) - Animation script, e.g. `{ "0": { props: { color: "red" }, expr: { size: function (t) { return Math.sin(t) + 1; }}}, "1": ...}`\n  - `:skip`: `true` (bool) - Speed up through skips\n  - `:speed`: `1` (number) - Step speed\n  - `:stops`: `null` (nullable number array) - Playhead stops, e.g. `[0, 1, 3, 5]`\n  - `:target`: `"\x3c"` (select) - Animation target\n  - `:trigger`: `1` (nullable number) - Trigger on step'],
null)],null),new $APP.f(null,3,[$APP.R,TEc,$APP.X,t7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply 4D stereographic projection*\n\n  - `:bend`: `1` (number) - Amount of stereographic bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null)]),$APP.Zo(vEc)),$APP.ap(new $APP.f(null,2,[qBc,new $APP.f(null,3,[$APP.R,aAc,$APP.X,iLc,$APP.h,$APP.F],null),vHc,new $APP.f(null,3,[$APP.R,$uc,$APP.X,H7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Given a map of options `opts`, returns a Reagent fragment that mounts an\n  instance of the [MathLive](https://github.com/arnog/mathlive) equation editor.\n\n  NOTE: Following React's convention, `:on-change` binds a listener to to the\n  `input` event. See https://reactjs.org/docs/dom-elements.html#onchange"],
null)],null)],null),$APP.Zo(gwc)),$APP.ap(new $APP.f(null,4,[$APP.mNb,new $APP.f(null,3,[$APP.R,owc,$APP.X,bvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.SU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied derivative function `:f'` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:f'`: a function of a single argument `state` that returns the derivative\n    of `state`.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:f'`,\n    used if `:f'` is a function that needs to be compiled (ie not a quoted literal\n    function).\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)],null),Wuc,new $APP.f(null,3,[$APP.R,DFc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,W5);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.PQ,c)}):$APP.PQ.j(b);return bvc($APP.rg.B($APP.Oi.A(a,W5),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.DU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Lagrangian `:L` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:L`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:L`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null),pHc,new $APP.f(null,3,[$APP.R,Hyc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,C6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.YQ,c)}):$APP.YQ(b);return bvc($APP.rg.B($APP.Oi.A(a,C6),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.BU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Hamiltonian `:H` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:H`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:H`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null),WBc,new $APP.f(null,3,[$APP.R,CIc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,B6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.F4,c)}):$APP.F4.j(b);return bvc($APP.rg.B($APP.Oi.A(a,B6),T5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.GU],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Routhian `:R` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:R`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:R`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null)],null),$APP.Zo(YFc)),$APP.ap(new $APP.f(null,4,[Pxc,new $APP.f(null,3,[$APP.R,BEc,$APP.X,otc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.ZW,$APP.AY,new $APP.f(null,1,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.XU,Wyc],null)],null)],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns an instance of\n  an [odex-js](https://github.com/littleredcomputer/odex-js) [Solver](https://github.com/littleredcomputer/odex-js/blob/master/src/odex.ts#L41)."],
null)],null),PGc,new $APP.f(null,3,[$APP.R,sFc,$APP.X,v7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.ZW,$APP.AY],null),new $APP.H(null,3,5,$APP.I,[$APP.ZW,$APP.AY,$APP.Lx],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of:\n\n  - `initial-state`\n  - `n-steps`, the number of steps to integrate\n  - `step-size`, the distance for each step\n  - `emit`, a callback called with a JS array representing the updated state for\n    each integration step of size `step-size`.\n\n  This function can be used multiple times."],
null)],null),aBc,new $APP.f(null,3,[$APP.R,hBc,$APP.X,w7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.ZW,$APP.SU],null),new $APP.H(null,3,5,$APP.I,[$APP.ZW,$APP.SU,$APP.Lx],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `initial-state`, the (potentially structured, unflattened) initial value for\n    `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of `t` that returns the state evolved up from `0` to `t` at\n  each call. Successive calls to `t` must monotonically increase.\n\n  Call the returned function with no arguments when you're done to shut it down\n  and reclaim stored resources."],
null)],null),Uvc,new $APP.f(null,3,[$APP.R,Juc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,T5),c=$APP.C.A(a,$APP.nv),d=ptc($APP.KU.j(c.state)),g=w7.B(b,d,$APP.sg(a,new $APP.H(null,2,5,$APP.I,[$APP.JR,Wsc],null)));return new $APP.H(null,2,5,$APP.I,[mtc,new $APP.f(null,1,[Usc,function(){var l=Array($APP.Tc(d));return function(n){return $APP.lh.C(c,$APP.rg,$APP.KU,g.A?g.A(n,l):g.call(null,n,l),$APP.y([nBc,n]))}}()],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,
[new $APP.f(null,3,[$APP.ZW,T5,BDc,$APP.nv,$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that uses the supplied derivative function `:f'` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key and update a `:tick`\n  entry with the new timestamp.\n\n  Required arguments:\n\n  - `:f'`: a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)],null)],null),$APP.Zo(lAc))])],null)]));
}).call(this);