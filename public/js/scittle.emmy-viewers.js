(function(){
shadow$provide[5]=function(G,B,X,p){p.__esModule=!0;p.useThreestrap=void 0;var w=B(0),r=(0,w.createContext)(null);p["default"]=r;p.useThreestrap=function(){var m=(0,w.useContext)(r);if(!m)throw Error("Threestrap context is not available");return m}};
shadow$provide[6]=function(G,B,X,p){p.__esModule=!0;var w=B(0),r=B(5);p["default"]=function(m){var d=(0,r.useThreestrap)();(0,w.useEffect)(function(){m.clearColor&&d.renderer.setClearColor(m.clearColor)});return null}};
shadow$provide[7]=function(G,B,X,p){p.__esModule=!0;var w=B(0),r=B(5),m=["orbit"],d=function(c,g){var h=g.type,l=g.enablePan,k=g.enableRotate,t=g.enableZoom,x=g.onStart,A=g.onEnd;(0,w.useEffect)(function(){if("orbit"===h&&c.controls){var y=c.controls;void 0!==l&&(y.enablePan=l);void 0!==t&&(y.enableZoom=t);void 0!==k&&(y.enableRotate=k)}},[h,l,k,t,c.controls]);(0,w.useEffect)(function(){if("orbit"!==h||!c.controls)return function(){};var y=c.controls;x&&y.addEventListener("start",x);return function(){x&&
y.removeEventListener("start",x)}},[h,x,c.controls]);(0,w.useEffect)(function(){if("orbit"!==h||!c.controls)return function(){};var y=c.controls;A&&y.addEventListener("end",A);return function(){A&&y.removeEventListener("end",A)}},[h,A,c.controls])};p["default"]=function(c){if(!m.includes(c.type))throw Error("Invalid control type ".concat(c.type));var g=(0,r.useThreestrap)();d(g,c);return null}};
shadow$provide[8]=function(G,B,X,p){G=this&&this.__createBinding||(Object.create?function(w,r,m,d){void 0===d&&(d=m);var c=Object.getOwnPropertyDescriptor(r,m);if(!c||("get"in c?!r.__esModule:c.writable||c.configurable))c={enumerable:!0,get:function(){return r[m]}};Object.defineProperty(w,d,c)}:function(w,r,m,d){void 0===d&&(d=m);w[d]=r[m]});p.__esModule=!0;p.useThreestrap=p.Controls=p.Renderer=void 0;X=B(6);G(p,X,"default","Renderer");X=B(7);G(p,X,"default","Controls");B=B(5);G(p,B,"useThreestrap")};
shadow$provide[9]=function(G,B,X,p){p.__esModule=!0;p.useMathbox=void 0;var w=B(0),r=(0,w.createContext)(null);p.useMathbox=function(){var m=(0,w.useContext)(r);if(!m)throw Error("useMathbox must be used within Mathbox or ContainedMathbox");return m};p["default"]=r};
shadow$provide[10]=function(G,B,X,p){X.exports=function(){this.__data__=[];this.size=0}};
shadow$provide[11]=function(G,B,X,p){X.exports=function(w,r){return w===r||w!==w&&r!==r}};
shadow$provide[12]=function(G,B,X,p){var w=B(11);X.exports=function(r,m){for(var d=r.length;d--;)if(w(r[d][0],m))return d;return-1}};
shadow$provide[13]=function(G,B,X,p){var w=B(12),r=Array.prototype.splice;X.exports=function(m){var d=this.__data__;m=w(d,m);if(0>m)return!1;m==d.length-1?d.pop():r.call(d,m,1);--this.size;return!0}};
shadow$provide[14]=function(G,B,X,p){var w=B(12);X.exports=function(r){var m=this.__data__;r=w(m,r);return 0>r?void 0:m[r][1]}};
shadow$provide[15]=function(G,B,X,p){var w=B(12);X.exports=function(r){return-1<w(this.__data__,r)}};
shadow$provide[16]=function(G,B,X,p){var w=B(12);X.exports=function(r,m){var d=this.__data__,c=w(d,r);0>c?(++this.size,d.push([r,m])):d[c][1]=m;return this}};
shadow$provide[17]=function(G,B,X,p){function w(d){var c=-1,g=null==d?0:d.length;for(this.clear();++c<g;){var h=d[c];this.set(h[0],h[1])}}G=B(10);p=B(13);var r=B(14),m=B(15);B=B(16);w.prototype.clear=G;w.prototype["delete"]=p;w.prototype.get=r;w.prototype.has=m;w.prototype.set=B;X.exports=w};
shadow$provide[18]=function(G,B,X,p){var w=B(17);X.exports=function(){this.__data__=new w;this.size=0}};
shadow$provide[19]=function(G,B,X,p){X.exports=function(w){var r=this.__data__;w=r["delete"](w);this.size=r.size;return w}};
shadow$provide[20]=function(G,B,X,p){X.exports=function(w){return this.__data__.get(w)}};
shadow$provide[21]=function(G,B,X,p){X.exports=function(w){return this.__data__.has(w)}};
shadow$provide[22]=function(G,B,X,p){X.exports="object"==typeof G&&G&&G.Object===Object&&G};
shadow$provide[23]=function(G,B,X,p){G=B(22);B="object"==typeof self&&self&&self.Object===Object&&self;G=G||B||Function("return this")();X.exports=G};
shadow$provide[24]=function(G,B,X,p){G=B(23).Symbol;X.exports=G};
shadow$provide[25]=function(G,B,X,p){G=B(24);B=Object.prototype;var w=B.hasOwnProperty,r=B.toString,m=G?G.toStringTag:void 0;X.exports=function(d){var c=w.call(d,m),g=d[m];try{d[m]=void 0;var h=!0}catch(k){}var l=r.call(d);h&&(c?d[m]=g:delete d[m]);return l}};
shadow$provide[26]=function(G,B,X,p){var w=Object.prototype.toString;X.exports=function(r){return w.call(r)}};
shadow$provide[27]=function(G,B,X,p){G=B(24);var w=B(25),r=B(26),m=G?G.toStringTag:void 0;X.exports=function(d){return null==d?void 0===d?"[object Undefined]":"[object Null]":m&&m in Object(d)?w(d):r(d)}};
shadow$provide[28]=function(G,B,X,p){X.exports=function(w){var r=typeof w;return null!=w&&("object"==r||"function"==r)}};
shadow$provide[29]=function(G,B,X,p){var w=B(27),r=B(28);X.exports=function(m){if(!r(m))return!1;m=w(m);return"[object Function]"==m||"[object GeneratorFunction]"==m||"[object AsyncFunction]"==m||"[object Proxy]"==m}};
shadow$provide[30]=function(G,B,X,p){G=B(23)["__core-js_shared__"];X.exports=G};
shadow$provide[31]=function(G,B,X,p){var w=B(30),r=function(){var m=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}();X.exports=function(m){return!!r&&r in m}};
shadow$provide[32]=function(G,B,X,p){var w=Function.prototype.toString;X.exports=function(r){if(null!=r){try{return w.call(r)}catch(m){}return r+""}return""}};
shadow$provide[33]=function(G,B,X,p){var w=B(29),r=B(31),m=B(28),d=B(32),c=/^\[object .+?Constructor\]$/,g=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");X.exports=function(h){return!m(h)||r(h)?!1:(w(h)?g:c).test(d(h))}};
shadow$provide[34]=function(G,B,X,p){X.exports=function(w,r){return null==w?void 0:w[r]}};
shadow$provide[35]=function(G,B,X,p){var w=B(33),r=B(34);X.exports=function(m,d){m=r(m,d);return w(m)?m:void 0}};
shadow$provide[36]=function(G,B,X,p){G=B(35);B=B(23);B=G(B,"Map");X.exports=B};
shadow$provide[37]=function(G,B,X,p){G=B(35)(Object,"create");X.exports=G};
shadow$provide[38]=function(G,B,X,p){var w=B(37);X.exports=function(){this.__data__=w?w(null):{};this.size=0}};
shadow$provide[39]=function(G,B,X,p){X.exports=function(w){w=this.has(w)&&delete this.__data__[w];this.size-=w?1:0;return w}};
shadow$provide[40]=function(G,B,X,p){var w=B(37),r=Object.prototype.hasOwnProperty;X.exports=function(m){var d=this.__data__;return w?(m=d[m],"__lodash_hash_undefined__"===m?void 0:m):r.call(d,m)?d[m]:void 0}};
shadow$provide[41]=function(G,B,X,p){var w=B(37),r=Object.prototype.hasOwnProperty;X.exports=function(m){var d=this.__data__;return w?void 0!==d[m]:r.call(d,m)}};
shadow$provide[42]=function(G,B,X,p){var w=B(37);X.exports=function(r,m){var d=this.__data__;this.size+=this.has(r)?0:1;d[r]=w&&void 0===m?"__lodash_hash_undefined__":m;return this}};
shadow$provide[43]=function(G,B,X,p){function w(d){var c=-1,g=null==d?0:d.length;for(this.clear();++c<g;){var h=d[c];this.set(h[0],h[1])}}G=B(38);p=B(39);var r=B(40),m=B(41);B=B(42);w.prototype.clear=G;w.prototype["delete"]=p;w.prototype.get=r;w.prototype.has=m;w.prototype.set=B;X.exports=w};
shadow$provide[44]=function(G,B,X,p){var w=B(43),r=B(17),m=B(36);X.exports=function(){this.size=0;this.__data__={hash:new w,map:new (m||r),string:new w}}};
shadow$provide[45]=function(G,B,X,p){X.exports=function(w){var r=typeof w;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==w:null===w}};
shadow$provide[46]=function(G,B,X,p){var w=B(45);X.exports=function(r,m){r=r.__data__;return w(m)?r["string"==typeof m?"string":"hash"]:r.map}};
shadow$provide[47]=function(G,B,X,p){var w=B(46);X.exports=function(r){r=w(this,r)["delete"](r);this.size-=r?1:0;return r}};
shadow$provide[48]=function(G,B,X,p){var w=B(46);X.exports=function(r){return w(this,r).get(r)}};
shadow$provide[49]=function(G,B,X,p){var w=B(46);X.exports=function(r){return w(this,r).has(r)}};
shadow$provide[50]=function(G,B,X,p){var w=B(46);X.exports=function(r,m){var d=w(this,r),c=d.size;d.set(r,m);this.size+=d.size==c?0:1;return this}};
shadow$provide[51]=function(G,B,X,p){function w(d){var c=-1,g=null==d?0:d.length;for(this.clear();++c<g;){var h=d[c];this.set(h[0],h[1])}}G=B(44);p=B(47);var r=B(48),m=B(49);B=B(50);w.prototype.clear=G;w.prototype["delete"]=p;w.prototype.get=r;w.prototype.has=m;w.prototype.set=B;X.exports=w};
shadow$provide[52]=function(G,B,X,p){var w=B(17),r=B(36),m=B(51);X.exports=function(d,c){var g=this.__data__;if(g instanceof w){var h=g.__data__;if(!r||199>h.length)return h.push([d,c]),this.size=++g.size,this;g=this.__data__=new m(h)}g.set(d,c);this.size=g.size;return this}};
shadow$provide[53]=function(G,B,X,p){function w(c){this.size=(this.__data__=new r(c)).size}var r=B(17);G=B(18);p=B(19);var m=B(20),d=B(21);B=B(52);w.prototype.clear=G;w.prototype["delete"]=p;w.prototype.get=m;w.prototype.has=d;w.prototype.set=B;X.exports=w};
shadow$provide[54]=function(G,B,X,p){X.exports=function(w){this.__data__.set(w,"__lodash_hash_undefined__");return this}};
shadow$provide[55]=function(G,B,X,p){X.exports=function(w){return this.__data__.has(w)}};
shadow$provide[56]=function(G,B,X,p){function w(m){var d=-1,c=null==m?0:m.length;for(this.__data__=new r;++d<c;)this.add(m[d])}var r=B(51);G=B(54);B=B(55);w.prototype.add=w.prototype.push=G;w.prototype.has=B;X.exports=w};
shadow$provide[57]=function(G,B,X,p){X.exports=function(w,r){for(var m=-1,d=null==w?0:w.length;++m<d;)if(r(w[m],m,w))return!0;return!1}};
shadow$provide[58]=function(G,B,X,p){X.exports=function(w,r){return w.has(r)}};
shadow$provide[59]=function(G,B,X,p){var w=B(56),r=B(57),m=B(58);X.exports=function(d,c,g,h,l,k){var t=g&1,x=d.length,A=c.length;if(x!=A&&!(t&&A>x))return!1;A=k.get(d);var y=k.get(c);if(A&&y)return A==c&&y==d;A=-1;y=!0;var E=g&2?new w:void 0;k.set(d,c);for(k.set(c,d);++A<x;){var F=d[A],H=c[A];if(h)var P=t?h(H,F,A,c,d,k):h(F,H,A,d,c,k);if(void 0!==P){if(P)continue;y=!1;break}if(E){if(!r(c,function(K,T){if(!m(E,T)&&(F===K||l(F,K,g,h,k)))return E.push(T)})){y=!1;break}}else if(F!==H&&!l(F,H,g,h,k)){y=
!1;break}}k["delete"](d);k["delete"](c);return y}};
shadow$provide[60]=function(G,B,X,p){G=B(23).Uint8Array;X.exports=G};
shadow$provide[61]=function(G,B,X,p){X.exports=function(w){var r=-1,m=Array(w.size);w.forEach(function(d,c){m[++r]=[c,d]});return m}};
shadow$provide[62]=function(G,B,X,p){X.exports=function(w){var r=-1,m=Array(w.size);w.forEach(function(d){m[++r]=d});return m}};
shadow$provide[63]=function(G,B,X,p){G=B(24);var w=B(60),r=B(11),m=B(59),d=B(61),c=B(62),g=(B=G?G.prototype:void 0)?B.valueOf:void 0;X.exports=function(h,l,k,t,x,A,y){switch(k){case "[object DataView]":if(h.byteLength!=l.byteLength||h.byteOffset!=l.byteOffset)break;h=h.buffer;l=l.buffer;case "[object ArrayBuffer]":if(h.byteLength!=l.byteLength||!A(new w(h),new w(l)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return r(+h,+l);case "[object Error]":return h.name==
l.name&&h.message==l.message;case "[object RegExp]":case "[object String]":return h==l+"";case "[object Map]":var E=d;case "[object Set]":E||(E=c);if(h.size!=l.size&&!(t&1))break;if(k=y.get(h))return k==l;t|=2;y.set(h,l);l=m(E(h),E(l),t,x,A,y);y["delete"](h);return l;case "[object Symbol]":if(g)return g.call(h)==g.call(l)}return!1}};
shadow$provide[64]=function(G,B,X,p){X.exports=function(w,r){for(var m=-1,d=r.length,c=w.length;++m<d;)w[c+m]=r[m];return w}};
shadow$provide[65]=function(G,B,X,p){X.exports=Array.isArray};
shadow$provide[66]=function(G,B,X,p){var w=B(64),r=B(65);X.exports=function(m,d,c){d=d(m);return r(m)?d:w(d,c(m))}};
shadow$provide[67]=function(G,B,X,p){X.exports=function(w,r){for(var m=-1,d=null==w?0:w.length,c=0,g=[];++m<d;){var h=w[m];r(h,m,w)&&(g[c++]=h)}return g}};
shadow$provide[68]=function(G,B,X,p){X.exports=function(){return[]}};
shadow$provide[69]=function(G,B,X,p){var w=B(67);G=B(68);var r=Object.prototype.propertyIsEnumerable,m=Object.getOwnPropertySymbols;X.exports=m?function(d){if(null==d)return[];d=Object(d);return w(m(d),function(c){return r.call(d,c)})}:G};
shadow$provide[70]=function(G,B,X,p){X.exports=function(w,r){for(var m=-1,d=Array(w);++m<w;)d[m]=r(m);return d}};
shadow$provide[71]=function(G,B,X,p){X.exports=function(w){return null!=w&&"object"==typeof w}};
shadow$provide[72]=function(G,B,X,p){var w=B(27),r=B(71);X.exports=function(m){return r(m)&&"[object Arguments]"==w(m)}};
shadow$provide[73]=function(G,B,X,p){G=B(72);var w=B(71);B=Object.prototype;var r=B.hasOwnProperty,m=B.propertyIsEnumerable;B=G(function(){return arguments}())?G:function(d){return w(d)&&r.call(d,"callee")&&!m.call(d,"callee")};X.exports=B};
shadow$provide[74]=function(G,B,X,p){X.exports=function(){return!1}};
shadow$provide[75]=function(G,B,X,p){G=B(23);B=B(74);var w=(p="object"==typeof p&&p&&!p.nodeType&&p)&&"object"==typeof X&&X&&!X.nodeType&&X;G=w&&w.exports===p?G.Buffer:void 0;X.exports=(G?G.isBuffer:void 0)||B};
shadow$provide[76]=function(G,B,X,p){var w=/^(?:0|[1-9]\d*)$/;X.exports=function(r,m){var d=typeof r;m=null==m?9007199254740991:m;return!!m&&("number"==d||"symbol"!=d&&w.test(r))&&-1<r&&0==r%1&&r<m}};
shadow$provide[77]=function(G,B,X,p){X.exports=function(w){return"number"==typeof w&&-1<w&&0==w%1&&9007199254740991>=w}};
shadow$provide[78]=function(G,B,X,p){var w=B(27),r=B(77),m=B(71),d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0;d["[object Arguments]"]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d["[object Map]"]=
d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1;X.exports=function(c){return m(c)&&r(c.length)&&!!d[w(c)]}};
shadow$provide[79]=function(G,B,X,p){X.exports=function(w){return function(r){return w(r)}}};
shadow$provide[80]=function(G,B,X,p){G=B(22);G=(p=(B="object"==typeof p&&p&&!p.nodeType&&p)&&"object"==typeof X&&X&&!X.nodeType&&X)&&p.exports===B&&G.process;a:{try{var w=p&&p.require&&p.require("util").types;if(w){var r=w;break a}r=G&&G.binding&&G.binding("util");break a}catch(m){}r=void 0}X.exports=r};
shadow$provide[81]=function(G,B,X,p){G=B(78);p=B(79);B=(B=(B=B(80))&&B.isTypedArray)?p(B):G;X.exports=B};
shadow$provide[82]=function(G,B,X,p){var w=B(70),r=B(73),m=B(65),d=B(75),c=B(76),g=B(81),h=Object.prototype.hasOwnProperty;X.exports=function(l,k){var t=m(l),x=!t&&r(l),A=!t&&!x&&d(l),y=!t&&!x&&!A&&g(l);x=(t=t||x||A||y)?w(l.length,String):[];var E=x.length,F;for(F in l)!k&&!h.call(l,F)||t&&("length"==F||A&&("offset"==F||"parent"==F)||y&&("buffer"==F||"byteLength"==F||"byteOffset"==F)||c(F,E))||x.push(F);return x}};
shadow$provide[83]=function(G,B,X,p){var w=Object.prototype;X.exports=function(r){var m=r&&r.constructor;return r===("function"==typeof m&&m.prototype||w)}};
shadow$provide[84]=function(G,B,X,p){X.exports=function(w,r){return function(m){return w(r(m))}}};
shadow$provide[85]=function(G,B,X,p){G=B(84)(Object.keys,Object);X.exports=G};
shadow$provide[86]=function(G,B,X,p){var w=B(83),r=B(85),m=Object.prototype.hasOwnProperty;X.exports=function(d){if(!w(d))return r(d);var c=[],g;for(g in Object(d))m.call(d,g)&&"constructor"!=g&&c.push(g);return c}};
shadow$provide[87]=function(G,B,X,p){var w=B(29),r=B(77);X.exports=function(m){return null!=m&&r(m.length)&&!w(m)}};
shadow$provide[88]=function(G,B,X,p){var w=B(82),r=B(86),m=B(87);X.exports=function(d){return m(d)?w(d):r(d)}};
shadow$provide[89]=function(G,B,X,p){var w=B(66),r=B(69),m=B(88);X.exports=function(d){return w(d,m,r)}};
shadow$provide[90]=function(G,B,X,p){var w=B(89),r=Object.prototype.hasOwnProperty;X.exports=function(m,d,c,g,h,l){var k=c&1,t=w(m),x=t.length,A=w(d).length;if(x!=A&&!k)return!1;for(A=x;A--;){var y=t[A];if(!(k?y in d:r.call(d,y)))return!1}var E=l.get(m);y=l.get(d);if(E&&y)return E==d&&y==m;E=!0;l.set(m,d);l.set(d,m);for(var F=k;++A<x;){y=t[A];var H=m[y],P=d[y];if(g)var K=k?g(P,H,y,d,m,l):g(H,P,y,m,d,l);if(void 0===K?H!==P&&!h(H,P,c,g,l):!K){E=!1;break}F||(F="constructor"==y)}E&&!F&&(c=m.constructor,
g=d.constructor,c!=g&&"constructor"in m&&"constructor"in d&&!("function"==typeof c&&c instanceof c&&"function"==typeof g&&g instanceof g)&&(E=!1));l["delete"](m);l["delete"](d);return E}};
shadow$provide[91]=function(G,B,X,p){G=B(35);B=B(23);B=G(B,"DataView");X.exports=B};
shadow$provide[92]=function(G,B,X,p){G=B(35);B=B(23);B=G(B,"Promise");X.exports=B};
shadow$provide[93]=function(G,B,X,p){G=B(35);B=B(23);B=G(B,"Set");X.exports=B};
shadow$provide[94]=function(G,B,X,p){G=B(35);B=B(23);B=G(B,"WeakMap");X.exports=B};
shadow$provide[95]=function(G,B,X,p){G=B(91);p=B(36);var w=B(92),r=B(93),m=B(94),d=B(27),c=B(32),g=c(G),h=c(p),l=c(w),k=c(r),t=c(m);B=d;if(G&&"[object DataView]"!=B(new G(new ArrayBuffer(1)))||p&&"[object Map]"!=B(new p)||w&&"[object Promise]"!=B(w.resolve())||r&&"[object Set]"!=B(new r)||m&&"[object WeakMap]"!=B(new m))B=function(x){var A=d(x);if(x=(x="[object Object]"==A?x.constructor:void 0)?c(x):"")switch(x){case g:return"[object DataView]";case h:return"[object Map]";case l:return"[object Promise]";
case k:return"[object Set]";case t:return"[object WeakMap]"}return A};X.exports=B};
shadow$provide[96]=function(G,B,X,p){var w=B(53),r=B(59),m=B(63),d=B(90),c=B(95),g=B(65),h=B(75),l=B(81),k=Object.prototype.hasOwnProperty;X.exports=function(t,x,A,y,E,F){var H=g(t),P=g(x),K=H?"[object Array]":c(t),T=P?"[object Array]":c(x);K="[object Arguments]"==K?"[object Object]":K;T="[object Arguments]"==T?"[object Object]":T;var aa="[object Object]"==K;P="[object Object]"==T;if((T=K==T)&&h(t)){if(!h(x))return!1;H=!0;aa=!1}if(T&&!aa)return F||(F=new w),H||l(t)?r(t,x,A,y,E,F):m(t,x,K,A,y,E,F);
if(!(A&1)&&(H=aa&&k.call(t,"__wrapped__"),K=P&&k.call(x,"__wrapped__"),H||K))return t=H?t.value():t,x=K?x.value():x,F||(F=new w),E(t,x,A,y,F);if(!T)return!1;F||(F=new w);return d(t,x,A,y,E,F)}};
shadow$provide[97]=function(G,B,X,p){function w(d,c,g,h,l){return d===c?!0:null==d||null==c||!m(d)&&!m(c)?d!==d&&c!==c:r(d,c,g,h,w,l)}var r=B(96),m=B(71);X.exports=w};
shadow$provide[98]=function(G,B,X,p){var w=B(97);X.exports=function(r,m){return w(r,m)}};
shadow$provide[99]=function(G,B,X,p){G=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{"default":d}};p.__esModule=!0;p.useDeepCompareMemo=p.capitalize=p.canNodeHaveChildren=p.isSelectionParent=p.isRootDestroyed=void 0;var w=G(B(98)),r=B(0);p.isRootDestroyed=function(d){for(;d._up;)d=d._up;return void 0===d.three};p.isSelectionParent=function(d,c){var g;return(null===(g=d._up)||void 0===g?void 0:g[0])===c[0]};var m="view cartesian cartesian4 polar spherical stereographic stereographic4 transform transform4 vertex fragment layer mask group inherit root unit rtt clock now move present reveal slide".split(" ");
p.canNodeHaveChildren=function(d){return m.includes(d)};p.capitalize=function(d){return d?d[0].toLocaleUpperCase()+d.slice(1):""};p.useDeepCompareMemo=function(d,c){var g=(0,r.useRef)(c);return(0,r.useMemo)(function(){return(0,w["default"])(d,g.current)?g.current:g.current=d},[d])}};
shadow$provide[100]=function(G,B,X,p){var w=this&&this.__createBinding||(Object.create?function(h,l,k,t){void 0===t&&(t=k);var x=Object.getOwnPropertyDescriptor(l,k);if(!x||("get"in x?!l.__esModule:x.writable||x.configurable))x={enumerable:!0,get:function(){return l[k]}};Object.defineProperty(h,t,x)}:function(h,l,k,t){void 0===t&&(t=k);h[t]=l[k]}),r=this&&this.__setModuleDefault||(Object.create?function(h,l){Object.defineProperty(h,"default",{enumerable:!0,value:l})}:function(h,l){h["default"]=l});
G=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var l={};if(null!=h)for(var k in h)"default"!==k&&Object.prototype.hasOwnProperty.call(h,k)&&w(l,h,k);r(l,h);return l};var m=this&&this.__rest||function(h,l){var k={},t;for(t in h)Object.prototype.hasOwnProperty.call(h,t)&&0>l.indexOf(t)&&(k[t]=h[t]);if(null!=h&&"function"===typeof Object.getOwnPropertySymbols){var x=0;for(t=Object.getOwnPropertySymbols(h);x<t.length;x++)0>l.indexOf(t[x])&&Object.prototype.propertyIsEnumerable.call(h,
t[x])&&(k[t[x]]=h[t[x]])}return k};X=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{"default":h}};p.__esModule=!0;p.Strip=p.Stereographic4=p.Stereographic=p.Step=p.Spread=p.Split=p.Spherical=p.Slide=p.Slice=p.Shader=p.Scale=p.Rtt=p.Reveal=p.Retext=p.Resample=p.Repeat=p.Readback=p.Present=p.Polar=p.Point=p.Play=p.Now=p.Move=p.Memo=p.Matrix=p.Mask=p.Line=p.Lerp=p.Layer=p.Label=p.Join=p.Interval=p.Inherit=p.Html=p.Grow=p.Group=p.Grid=p.Fragment=p.Format=p.Face=p.Dom=p.Compose=p.Clock=
p.Clamp=p.Cartesian4=p.Cartesian=p.Camera=p.Axis=p.Array=p.Area=void 0;p.Voxel=p.Volume=p.View=p.Vertex=p.Vector=p.Unit=p.Transpose=p.Transform4=p.Transform=p.Ticks=p.Text=p.Swizzle=p.Surface=p.Subdivide=void 0;var d=G(B(0)),c=X(B(9)),g=B(99);B=function(h){var l=(0,g.canNodeHaveChildren)(h),k=(0,g.capitalize)(h);return(0,d.forwardRef)(function(t,x){var A=(0,d.useReducer)(function(K){return K+1},0)[1],y=(0,d.useContext)(c["default"]),E=(0,d.useRef)(null),F=(0,d.useRef)(void 0);(0,d.useEffect)(function(){return function(){E.current&&
(E.current.remove(),E.current=null)}},[]);(0,d.useImperativeHandle)(x,function(){return E.current});var H=t.liveProps,P=m(t,["children","liveProps"]);(0,d.useEffect)(function(){y&&((0,g.isRootDestroyed)(y)?A():(E.current&&!(0,g.isSelectionParent)(E.current,y)&&(E.current.remove(),E.current=null,A()),E.current?(F.current&&H!==F.current&&Object.keys(F.current).forEach(function(K){E.current.unbind(K)}),H&&H!==F.current&&E.current.bind(H),E.current.set(P)):(E.current=y[h](P,H),A()),F.current=H))},[y,
P,H]);if(!l){if(t.children)throw Error("Component \x3c".concat(k," /\x3e cannot have children."));return null}return d["default"].createElement(c["default"].Provider,{value:E.current},t.children)})};p.Area=B("area");G=B("array");p.Array=G;p.Axis=B("axis");p.Camera=B("camera");p.Cartesian=B("cartesian");p.Cartesian4=B("cartesian4");p.Clamp=B("clamp");p.Clock=B("clock");p.Compose=B("compose");p.Dom=B("dom");p.Face=B("face");p.Format=B("format");p.Fragment=B("fragment");p.Grid=B("grid");p.Group=B("group");
p.Grow=B("grow");p.Html=B("html");p.Inherit=B("inherit");p.Interval=B("interval");p.Join=B("join");p.Label=B("label");p.Layer=B("layer");p.Lerp=B("lerp");p.Line=B("line");p.Mask=B("mask");p.Matrix=B("matrix");p.Memo=B("memo");p.Move=B("move");p.Now=B("now");p.Play=B("play");p.Point=B("point");p.Polar=B("polar");p.Present=B("present");p.Readback=B("readback");p.Repeat=B("repeat");p.Resample=B("resample");p.Retext=B("retext");p.Reveal=B("reveal");p.Rtt=B("rtt");p.Scale=B("scale");p.Shader=B("shader");
p.Slice=B("slice");p.Slide=B("slide");p.Spherical=B("spherical");p.Split=B("split");p.Spread=B("spread");p.Step=B("step");p.Stereographic=B("stereographic");p.Stereographic4=B("stereographic4");p.Strip=B("strip");p.Subdivide=B("subdivide");p.Surface=B("surface");p.Swizzle=B("swizzle");p.Text=B("text");p.Ticks=B("ticks");p.Transform=B("transform");p.Transform4=B("transform4");p.Transpose=B("transpose");p.Unit=B("unit");p.Vector=B("vector");p.Vertex=B("vertex");p.View=B("view");p.Volume=B("volume");
p.Voxel=B("voxel")};
shadow$provide[101]=function(G,B,X,p){console.warn('Scripts "build/three.js" and "build/three.min.js" are deprecated with r150+, and will be removed with r160. Please use ES Modules or alternatives: https://threejs.org/docs/index.html#manual/en/introduction/Installation');(function(w,r){"object"===typeof p&&"undefined"!==typeof X?r(p):"function"===typeof define&&define.amd?define(["exports"],r):(w="undefined"!==typeof globalThis?globalThis:w||self,r(w.THREE={}))})(this,function(w){function r(){const a=
4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,v=4294967295*Math.random()|0;return(ve[a&255]+ve[a>>8&255]+ve[a>>16&255]+ve[a>>24&255]+"-"+ve[e&255]+ve[e>>8&255]+"-"+ve[e>>16&15|64]+ve[e>>24&255]+"-"+ve[n&63|128]+ve[n>>8&255]+"-"+ve[n>>16&255]+ve[n>>24&255]+ve[v&255]+ve[v>>8&255]+ve[v>>16&255]+ve[v>>24&255]).toLowerCase()}function m(a,e,n){return Math.max(e,Math.min(n,a))}function d(a,e){return(a%e+e)%e}function c(a,e,n){return(1-n)*a+n*e}function g(a){return 0===
(a&a-1)&&0!==a}function h(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function l(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function k(a,e){switch(e.constructor){case Float32Array:return a;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw Error("Invalid component type.");}}function t(a,e){switch(e.constructor){case Float32Array:return a;case Uint16Array:return Math.round(65535*
a);case Uint8Array:return Math.round(255*a);case Int16Array:return Math.round(32767*a);case Int8Array:return Math.round(127*a);default:throw Error("Invalid component type.");}}function x(a){for(let e=a.length-1;0<=e;--e)if(65535<=a[e])return!0;return!1}function A(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function y(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function E(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}function F(a){if("undefined"!==
typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap)return Hf.getDataURL(a);if(a.data)return{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name};console.warn("THREE.Texture: Unable to serialize Texture.");return{}}function H(a,e,n,v,z){for(let I=0,L=a.length-3;I<=L;I+=3){Jc.fromArray(a,I);const R=z.x*Math.abs(Jc.x)+z.y*Math.abs(Jc.y)+
z.z*Math.abs(Jc.z),V=e.dot(Jc),Y=n.dot(Jc),ja=v.dot(Jc);if(Math.max(-Math.max(V,Y,ja),Math.min(V,Y,ja))>R)return!1}return!0}function P(a,e,n){0>n&&(n+=1);1<n&&--n;return n<1/6?a+6*(e-a)*n:.5>n?e:n<2/3?a+6*(e-a)*(2/3-n):a}function K(a,e,n,v,z,I,L,R,V){a.getVertexPosition(L,Wh);a.getVertexPosition(R,If);a.getVertexPosition(V,lf);var Y=Wh,ja=If,ka=lf,qa=Xh;null===(1===e.side?v.intersectTriangle(ka,ja,Y,!0,qa):v.intersectTriangle(Y,ja,ka,0===e.side,qa))?a=null:(Gg.copy(qa),Gg.applyMatrix4(a.matrixWorld),
e=n.ray.origin.distanceTo(Gg),a=e<n.near||e>n.far?null:{distance:e,point:Gg.clone(),object:a});a&&(z&&(Vg.fromBufferAttribute(z,L),We.fromBufferAttribute(z,R),Fh.fromBufferAttribute(z,V),a.uv=Wd.getUV(Xh,Wh,If,lf,Vg,We,Fh,new Cc)),I&&(Vg.fromBufferAttribute(I,L),We.fromBufferAttribute(I,R),Fh.fromBufferAttribute(I,V),a.uv2=Wd.getUV(Xh,Wh,If,lf,Vg,We,Fh,new Cc)),z={a:L,b:R,c:V,normal:new jb,materialIndex:0},Wd.getNormal(Wh,If,lf,z.normal),a.face=z);return a}function T(a){const e={};for(const n in a){e[n]=
{};for(const v in a[n]){const z=a[n][v];z&&(z.isColor||z.isMatrix3||z.isMatrix4||z.isVector2||z.isVector3||z.isVector4||z.isTexture||z.isQuaternion)?e[n][v]=z.clone():Array.isArray(z)?e[n][v]=z.slice():e[n][v]=z}}return e}function aa(a){const e={};for(let n=0;n<a.length;n++){const v=T(a[n]);for(const z in v)e[z]=v[z]}return e}function Q(a){return null===a.getRenderTarget()?3001===a.outputEncoding?"srgb":"srgb-linear":"srgb-linear"}function O(){function a(I,L){v(I,L);z=e.requestAnimationFrame(a)}let e=
null,n=!1,v=null,z=null;return{start:function(){!0!==n&&null!==v&&(z=e.requestAnimationFrame(a),n=!0)},stop:function(){e.cancelAnimationFrame(z);n=!1},setAnimationLoop:function(I){v=I},setContext:function(I){e=I}}}function da(a,e){const n=e.isWebGL2,v=new WeakMap;return{get:function(z){z.isInterleavedBufferAttribute&&(z=z.data);return v.get(z)},remove:function(z){z.isInterleavedBufferAttribute&&(z=z.data);const I=v.get(z);I&&(a.deleteBuffer(I.buffer),v.delete(z))},update:function(z,I){if(z.isGLBufferAttribute)I=
v.get(z),(!I||I.version<z.version)&&v.set(z,{buffer:z.buffer,type:z.type,bytesPerElement:z.elementSize,version:z.version});else{z.isInterleavedBufferAttribute&&(z=z.data);var L=v.get(z);if(void 0===L){L=v.set;var R=z,V=z.array;const ja=z.usage;var Y=a.createBuffer();a.bindBuffer(I,Y);a.bufferData(I,V,ja);z.onUploadCallback();if(V instanceof Float32Array)I=a.FLOAT;else if(V instanceof Uint16Array)if(z.isFloat16BufferAttribute)if(n)I=a.HALF_FLOAT;else throw Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");
else I=a.UNSIGNED_SHORT;else if(V instanceof Int16Array)I=a.SHORT;else if(V instanceof Uint32Array)I=a.UNSIGNED_INT;else if(V instanceof Int32Array)I=a.INT;else if(V instanceof Int8Array)I=a.BYTE;else if(V instanceof Uint8Array)I=a.UNSIGNED_BYTE;else if(V instanceof Uint8ClampedArray)I=a.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+V);L.call(v,R,{buffer:Y,type:I,bytesPerElement:V.BYTES_PER_ELEMENT,version:z.version})}else L.version<z.version&&(R=z,V=R.array,
Y=R.updateRange,a.bindBuffer(I,L.buffer),-1===Y.count?a.bufferSubData(I,0,V):(n?a.bufferSubData(I,Y.offset*V.BYTES_PER_ELEMENT,V,Y.offset,Y.count):a.bufferSubData(I,Y.offset*V.BYTES_PER_ELEMENT,V.subarray(Y.offset,Y.offset+Y.count)),Y.count=-1),R.onUploadCallback(),L.version=z.version)}}}}function ea(a,e,n,v,z,I,L){function R(ia,La){ia.getRGB(Yh,Q(a));v.buffers.color.setClear(Yh.r,Yh.g,Yh.b,La,L)}const V=new rd(0);let Y=!0===I?0:1,ja,ka,qa=null,Ga=0,Fa=null;return{getClearColor:function(){return V},
setClearColor:function(ia,La=1){V.set(ia);Y=La;R(V,Y)},getClearAlpha:function(){return Y},setClearAlpha:function(ia){Y=ia;R(V,Y)},render:function(ia,La){let zb=!1,bb=!0===La.isScene?La.background:null;bb&&bb.isTexture&&(bb=(0<La.backgroundBlurriness?n:e).get(bb));var Gb=a.xr;(Gb=Gb.getSession&&Gb.getSession())&&"additive"===Gb.environmentBlendMode&&(bb=null);null===bb?R(V,Y):bb&&bb.isColor&&(R(bb,1),zb=!0);(a.autoClear||zb)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(bb&&(bb.isCubeTexture||
306===bb.mapping)){void 0===ka&&(ka=new vf(new Xf(1,1,1),new eg({name:"BackgroundCubeMaterial",uniforms:T(fg.backgroundCube.uniforms),vertexShader:fg.backgroundCube.vertexShader,fragmentShader:fg.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),ka.geometry.deleteAttribute("normal"),ka.geometry.deleteAttribute("uv"),ka.onBeforeRender=function(Tb,xb,oc){this.matrixWorld.copyPosition(oc.matrixWorld)},Object.defineProperty(ka.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),
z.update(ka));ka.material.uniforms.envMap.value=bb;ka.material.uniforms.flipEnvMap.value=bb.isCubeTexture&&!1===bb.isRenderTargetTexture?-1:1;ka.material.uniforms.backgroundBlurriness.value=La.backgroundBlurriness;ka.material.uniforms.backgroundIntensity.value=La.backgroundIntensity;ka.material.toneMapped=3001===bb.encoding?!1:!0;if(qa!==bb||Ga!==bb.version||Fa!==a.toneMapping)ka.material.needsUpdate=!0,qa=bb,Ga=bb.version,Fa=a.toneMapping;ka.layers.enableAll();ia.unshift(ka,ka.geometry,ka.material,
0,0,null)}else if(bb&&bb.isTexture){void 0===ja&&(ja=new vf(new kg(2,2),new eg({name:"BackgroundMaterial",uniforms:T(fg.background.uniforms),vertexShader:fg.background.vertexShader,fragmentShader:fg.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),ja.geometry.deleteAttribute("normal"),Object.defineProperty(ja.material,"map",{get:function(){return this.uniforms.t2D.value}}),z.update(ja));ja.material.uniforms.t2D.value=bb;ja.material.uniforms.backgroundIntensity.value=La.backgroundIntensity;
ja.material.toneMapped=3001===bb.encoding?!1:!0;!0===bb.matrixAutoUpdate&&bb.updateMatrix();ja.material.uniforms.uvTransform.value.copy(bb.matrix);if(qa!==bb||Ga!==bb.version||Fa!==a.toneMapping)ja.material.needsUpdate=!0,qa=bb,Ga=bb.version,Fa=a.toneMapping;ja.layers.enableAll();ia.unshift(ja,ja.geometry,ja.material,0,0,null)}}}}function za(a,e,n,v){function z(xb){return v.isWebGL2?a.bindVertexArray(xb):ia.bindVertexArrayOES(xb)}function I(xb){return v.isWebGL2?a.deleteVertexArray(xb):ia.deleteVertexArrayOES(xb)}
function L(xb){const oc=[],Ib=[],$b=[];for(let bc=0;bc<Fa;bc++)oc[bc]=0,Ib[bc]=0,$b[bc]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:oc,enabledAttributes:Ib,attributeDivisors:$b,object:xb,attributes:{},index:null}}function R(){const xb=Gb.newAttributes;for(let oc=0,Ib=xb.length;oc<Ib;oc++)xb[oc]=0}function V(xb){Y(xb,0)}function Y(xb,oc){const Ib=Gb.enabledAttributes,$b=Gb.attributeDivisors;Gb.newAttributes[xb]=1;0===Ib[xb]&&(a.enableVertexAttribArray(xb),Ib[xb]=1);$b[xb]!==oc&&
((v.isWebGL2?a:e.get("ANGLE_instanced_arrays"))[v.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](xb,oc),$b[xb]=oc)}function ja(){const xb=Gb.newAttributes,oc=Gb.enabledAttributes;for(let Ib=0,$b=oc.length;Ib<$b;Ib++)oc[Ib]!==xb[Ib]&&(a.disableVertexAttribArray(Ib),oc[Ib]=0)}function ka(xb,oc,Ib,$b,bc,ac){!0!==v.isWebGL2||Ib!==a.INT&&Ib!==a.UNSIGNED_INT?a.vertexAttribPointer(xb,oc,Ib,$b,bc,ac):a.vertexAttribIPointer(xb,oc,Ib,bc,ac)}function qa(){Ga();Tb=!0;Gb!==bb&&(Gb=bb,z(Gb.object))}
function Ga(){bb.geometry=null;bb.program=null;bb.wireframe=!1}const Fa=a.getParameter(a.MAX_VERTEX_ATTRIBS),ia=v.isWebGL2?null:e.get("OES_vertex_array_object"),La=v.isWebGL2||null!==ia,zb={},bb=L(null);let Gb=bb,Tb=!1;return{setup:function(xb,oc,Ib,$b,bc){var ac=!1;if(La){ac=!0===oc.wireframe;var Pc=zb[$b.id];void 0===Pc&&(Pc={},zb[$b.id]=Pc);var Gc=Pc[Ib.id];void 0===Gc&&(Gc={},Pc[Ib.id]=Gc);Pc=Gc[ac];void 0===Pc&&(Pc=L(v.isWebGL2?a.createVertexArray():ia.createVertexArrayOES()),Gc[ac]=Pc);ac=Pc;
Gb!==ac&&(Gb=ac,z(Gb.object));a:{ac=Gb.attributes;Gc=$b.attributes;Pc=0;var Kc=Ib.getAttributes();for(var Ic in Kc)if(0<=Kc[Ic].location){var td=ac[Ic],Fd=Gc[Ic];void 0===Fd&&("instanceMatrix"===Ic&&xb.instanceMatrix&&(Fd=xb.instanceMatrix),"instanceColor"===Ic&&xb.instanceColor&&(Fd=xb.instanceColor));if(void 0===td||td.attribute!==Fd||Fd&&td.data!==Fd.data){ac=!0;break a}Pc++}ac=Gb.attributesNum!==Pc||Gb.index!==bc?!0:!1}if(ac){Ic={};Gc=$b.attributes;Pc=0;Kc=Ib.getAttributes();for(var Sd in Kc)0<=
Kc[Sd].location&&(td=Gc[Sd],void 0===td&&("instanceMatrix"===Sd&&xb.instanceMatrix&&(td=xb.instanceMatrix),"instanceColor"===Sd&&xb.instanceColor&&(td=xb.instanceColor)),Fd={},(Fd.attribute=td)&&td.data&&(Fd.data=td.data),Ic[Sd]=Fd,Pc++);Gb.attributes=Ic;Gb.attributesNum=Pc;Gb.index=bc}}else if(Sd=!0===oc.wireframe,Gb.geometry!==$b.id||Gb.program!==Ib.id||Gb.wireframe!==Sd)Gb.geometry=$b.id,Gb.program=Ib.id,Gb.wireframe=Sd,ac=!0;null!==bc&&n.update(bc,a.ELEMENT_ARRAY_BUFFER);if(ac||Tb){Tb=!1;if(!1!==
v.isWebGL2||!xb.isInstancedMesh&&!$b.isInstancedBufferGeometry||null!==e.get("ANGLE_instanced_arrays")){R();Sd=$b.attributes;Ib=Ib.getAttributes();oc=oc.defaultAttributeValues;for(const ld in Ib)if(Ic=Ib[ld],0<=Ic.location){var ce=Sd[ld];void 0===ce&&("instanceMatrix"===ld&&xb.instanceMatrix&&(ce=xb.instanceMatrix),"instanceColor"===ld&&xb.instanceColor&&(ce=xb.instanceColor));if(void 0!==ce){if(ac=ce.normalized,Gc=ce.itemSize,Kc=n.get(ce),void 0!==Kc)if(td=Kc.buffer,Pc=Kc.type,Kc=Kc.bytesPerElement,
ce.isInterleavedBufferAttribute){var Mc=ce.data;Fd=Mc.stride;ce=ce.offset;if(Mc.isInstancedInterleavedBuffer){for(let pd=0;pd<Ic.locationSize;pd++)Y(Ic.location+pd,Mc.meshPerAttribute);!0!==xb.isInstancedMesh&&void 0===$b._maxInstanceCount&&($b._maxInstanceCount=Mc.meshPerAttribute*Mc.count)}else for(Mc=0;Mc<Ic.locationSize;Mc++)V(Ic.location+Mc);a.bindBuffer(a.ARRAY_BUFFER,td);for(td=0;td<Ic.locationSize;td++)ka(Ic.location+td,Gc/Ic.locationSize,Pc,ac,Fd*Kc,(ce+Gc/Ic.locationSize*td)*Kc)}else{if(ce.isInstancedBufferAttribute){for(Fd=
0;Fd<Ic.locationSize;Fd++)Y(Ic.location+Fd,ce.meshPerAttribute);!0!==xb.isInstancedMesh&&void 0===$b._maxInstanceCount&&($b._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(Fd=0;Fd<Ic.locationSize;Fd++)V(Ic.location+Fd);a.bindBuffer(a.ARRAY_BUFFER,td);for(td=0;td<Ic.locationSize;td++)ka(Ic.location+td,Gc/Ic.locationSize,Pc,ac,Gc*Kc,Gc/Ic.locationSize*td*Kc)}}else if(void 0!==oc&&(ac=oc[ld],void 0!==ac))switch(ac.length){case 2:a.vertexAttrib2fv(Ic.location,ac);break;case 3:a.vertexAttrib3fv(Ic.location,
ac);break;case 4:a.vertexAttrib4fv(Ic.location,ac);break;default:a.vertexAttrib1fv(Ic.location,ac)}}ja()}null!==bc&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,n.get(bc).buffer)}},reset:qa,resetDefaultState:Ga,dispose:function(){qa();for(const xb in zb){const oc=zb[xb];for(const Ib in oc){const $b=oc[Ib];for(const bc in $b)I($b[bc].object),delete $b[bc];delete oc[Ib]}delete zb[xb]}},releaseStatesOfGeometry:function(xb){if(void 0!==zb[xb.id]){var oc=zb[xb.id];for(const Ib in oc){const $b=oc[Ib];for(const bc in $b)I($b[bc].object),
delete $b[bc];delete oc[Ib]}delete zb[xb.id]}},releaseStatesOfProgram:function(xb){for(const oc in zb){const Ib=zb[oc];if(void 0===Ib[xb.id])continue;const $b=Ib[xb.id];for(const bc in $b)I($b[bc].object),delete $b[bc];delete Ib[xb.id]}},initAttributes:R,enableAttribute:V,disableUnusedAttributes:ja}}function Ea(a,e,n,v){const z=v.isWebGL2;let I;this.setMode=function(L){I=L};this.render=function(L,R){a.drawArrays(I,L,R);n.update(R,I,1)};this.renderInstances=function(L,R,V){if(0!==V){if(z){var Y=a;
var ja="drawArraysInstanced"}else if(Y=e.get("ANGLE_instanced_arrays"),ja="drawArraysInstancedANGLE",null===Y){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Y[ja](I,L,R,V);n.update(R,I,V)}}}function sa(a,e,n){function v(Tb){if("highp"===Tb){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";
Tb="mediump"}return"mediump"===Tb&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}let z;const I="undefined"!==typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext;let L=void 0!==n.precision?n.precision:"highp";var R=v(L);R!==L&&(console.warn("THREE.WebGLRenderer:",L,"not supported, using",R,"instead."),L=R);R=I||e.has("WEBGL_draw_buffers");n=!0===n.logarithmicDepthBuffer;
const V=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Y=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ja=a.getParameter(a.MAX_TEXTURE_SIZE),ka=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),qa=a.getParameter(a.MAX_VERTEX_ATTRIBS),Ga=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),Fa=a.getParameter(a.MAX_VARYING_VECTORS),ia=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),La=0<Y,zb=I||e.has("OES_texture_float"),bb=La&&zb,Gb=I?a.getParameter(a.MAX_SAMPLES):0;return{isWebGL2:I,drawBuffers:R,getMaxAnisotropy:function(){if(void 0!==
z)return z;if(!0===e.has("EXT_texture_filter_anisotropic")){const Tb=e.get("EXT_texture_filter_anisotropic");z=a.getParameter(Tb.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else z=0;return z},getMaxPrecision:v,precision:L,logarithmicDepthBuffer:n,maxTextures:V,maxVertexTextures:Y,maxTextureSize:ja,maxCubemapSize:ka,maxAttributes:qa,maxVertexUniforms:Ga,maxVaryings:Fa,maxFragmentUniforms:ia,vertexTextures:La,floatFragmentTextures:zb,floatVertexTextures:bb,maxSamples:Gb}}function gb(a){function e(ja,ka,qa,Ga){const Fa=
null!==ja?ja.length:0;let ia=null;if(0!==Fa){ia=Y.value;if(!0!==Ga||null===ia){Ga=qa+4*Fa;ka=ka.matrixWorldInverse;V.getNormalMatrix(ka);if(null===ia||ia.length<Ga)ia=new Float32Array(Ga);for(let La=0,zb=qa;La!==Fa;++La,zb+=4)R.copy(ja[La]).applyMatrix4(ka,V),R.normal.toArray(ia,zb),ia[zb+3]=R.constant}Y.value=ia;Y.needsUpdate=!0}n.numPlanes=Fa;n.numIntersection=0;return ia}const n=this;let v=null,z=0,I=!1,L=!1;const R=new Of,V=new ef,Y={value:null,needsUpdate:!1};this.uniform=Y;this.numIntersection=
this.numPlanes=0;this.init=function(ja,ka){const qa=0!==ja.length||ka||0!==z||I;I=ka;z=ja.length;return qa};this.beginShadows=function(){L=!0;e(null)};this.endShadows=function(){L=!1};this.setGlobalState=function(ja,ka){v=e(ja,ka,0)};this.setState=function(ja,ka,qa){const Ga=ja.clippingPlanes,Fa=ja.clipIntersection;var ia=ja.clipShadows;ja=a.get(ja);if(!I||null===Ga||0===Ga.length||L&&!ia)L?e(null):(Y.value!==v&&(Y.value=v,Y.needsUpdate=0<z),n.numPlanes=z,n.numIntersection=0);else{ia=L?0:z;const La=
4*ia;let zb=ja.clippingState||null;Y.value=zb;zb=e(Ga,ka,La,qa);for(ka=0;ka!==La;++ka)zb[ka]=v[ka];ja.clippingState=zb;this.numIntersection=Fa?this.numPlanes:0;this.numPlanes+=ia}}}function wa(a){function e(z,I){303===I?z.mapping=301:304===I&&(z.mapping=302);return z}function n(z){z=z.target;z.removeEventListener("dispose",n);const I=v.get(z);void 0!==I&&(v.delete(z),I.dispose())}let v=new WeakMap;return{get:function(z){if(z&&z.isTexture&&!1===z.isRenderTargetTexture){var I=z.mapping;if(303===I||
304===I)return v.has(z)?(I=v.get(z).texture,e(I,z.mapping)):(I=z.image)&&0<I.height?(I=new ti(I.height/2),I.fromEquirectangularTexture(a,z),v.set(z,I),z.addEventListener("dispose",n),e(I.texture,z.mapping)):null}return z},dispose:function(){v=new WeakMap}}}function Ba(a,e,n){a=new Pf(a,e,n);a.texture.mapping=306;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}function Da(a,e,n,v,z){a.viewport.set(e,n,v,z);a.scissor.set(e,n,v,z)}function pa(){return new eg({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},
vertexShader:$a(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include \x3ccommon\x3e\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection \x3d normalize( vOutputDirection );\n\t\t\t\tvec2 uv \x3d equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor \x3d vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function ib(){return new eg({name:"CubemapToCubeUV",
uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:$a(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor \x3d textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function $a(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv \x3d 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction \x3d vec3( uv, 1.0 );\n\n\t\t\tif ( face \x3d\x3d 0.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face \x3d\x3d 1.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face \x3d\x3d 2.0 ) {\n\n\t\t\t\tdirection.x *\x3d -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face \x3d\x3d 3.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face \x3d\x3d 4.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xy *\x3d -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face \x3d\x3d 5.0 ) {\n\n\t\t\t\tdirection.z *\x3d -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection \x3d getDirection( uv, faceIndex );\n\t\t\tgl_Position \x3d vec4( position, 1.0 );\n\n\t\t}\n\t"}
function eb(a){function e(z){z=z.target;z.removeEventListener("dispose",e);const I=n.get(z);void 0!==I&&(n.delete(z),I.dispose())}let n=new WeakMap,v=null;return{get:function(z){if(z&&z.isTexture){var I=z.mapping,L=303===I||304===I,R=301===I||302===I;if(L||R){if(z.isRenderTargetTexture&&!0===z.needsPMREMUpdate)return z.needsPMREMUpdate=!1,I=n.get(z),null===v&&(v=new ui(a)),I=L?v.fromEquirectangular(z,I):v.fromCubemap(z,I),n.set(z,I),I.texture;if(n.has(z))return n.get(z).texture;I=z.image;var V;if(!(V=
L&&I&&0<I.height)&&(V=R&&I)){V=0;for(R=0;6>R;R++)void 0!==I[R]&&V++;V=6===V}return V?(null===v&&(v=new ui(a)),L=L?v.fromEquirectangular(z):v.fromCubemap(z),n.set(z,L),z.addEventListener("dispose",e),L.texture):null}}return z},dispose:function(){n=new WeakMap;null!==v&&(v.dispose(),v=null)}}}function Ja(a){function e(v){if(void 0!==n[v])return n[v];let z;switch(v){case "WEBGL_depth_texture":z=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");
break;case "EXT_texture_filter_anisotropic":z=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":z=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":z=a.getExtension("WEBGL_compressed_texture_pvrtc")||
a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:z=a.getExtension(v)}return n[v]=z}const n={};return{has:function(v){return null!==e(v)},init:function(v){v.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays"));e("OES_texture_float_linear");e("EXT_color_buffer_half_float");
e("WEBGL_multisampled_render_to_texture")},get:function(v){const z=e(v);null===z&&console.warn("THREE.WebGLRenderer: "+v+" extension not supported.");return z}}}function Fb(a,e,n,v){function z(V){V=V.target;null!==V.index&&e.remove(V.index);for(var Y in V.attributes)e.remove(V.attributes[Y]);V.removeEventListener("dispose",z);delete L[V.id];if(Y=R.get(V))e.remove(Y),R.delete(V);v.releaseStatesOfGeometry(V);!0===V.isInstancedBufferGeometry&&delete V._maxInstanceCount;n.memory.geometries--}function I(V){var Y=
[],ja=V.index,ka=V.attributes.position;if(null!==ja){ka=ja.array;ja=ja.version;for(let Fa=0,ia=ka.length;Fa<ia;Fa+=3){var qa=ka[Fa+0],Ga=ka[Fa+1];const La=ka[Fa+2];Y.push(qa,Ga,Ga,La,La,qa)}}else{qa=ka.array;ja=ka.version;for(let Fa=0,ia=qa.length/3-1;Fa<ia;Fa+=3)ka=Fa+0,qa=Fa+1,Ga=Fa+2,Y.push(ka,qa,qa,Ga,Ga,ka)}Y=new (x(Y)?Ri:Vc)(Y,1);Y.version=ja;(ja=R.get(V))&&e.remove(ja);R.set(V,Y)}const L={},R=new WeakMap;return{get:function(V,Y){if(!0===L[Y.id])return Y;Y.addEventListener("dispose",z);L[Y.id]=
!0;n.memory.geometries++;return Y},update:function(V){var Y=V.attributes;for(const ja in Y)e.update(Y[ja],a.ARRAY_BUFFER);V=V.morphAttributes;for(const ja in V){Y=V[ja];for(let ka=0,qa=Y.length;ka<qa;ka++)e.update(Y[ka],a.ARRAY_BUFFER)}},getWireframeAttribute:function(V){const Y=R.get(V);if(Y){const ja=V.index;null!==ja&&Y.version<ja.version&&I(V)}else I(V);return R.get(V)}}}function Kb(a,e,n,v){const z=v.isWebGL2;let I,L,R;this.setMode=function(V){I=V};this.setIndex=function(V){L=V.type;R=V.bytesPerElement};
this.render=function(V,Y){a.drawElements(I,Y,L,V*R);n.update(Y,I,1)};this.renderInstances=function(V,Y,ja){if(0!==ja){if(z){var ka=a;var qa="drawElementsInstanced"}else if(ka=e.get("ANGLE_instanced_arrays"),qa="drawElementsInstancedANGLE",null===ka){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ka[qa](I,Y,L,V*R,ja);n.update(Y,I,ja)}}}function rb(a){const e={frame:0,calls:0,triangles:0,points:0,
lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++;e.calls=0;e.triangles=0;e.points=0;e.lines=0},update:function(n,v,z){e.calls++;switch(v){case a.TRIANGLES:e.triangles+=n/3*z;break;case a.LINES:e.lines+=n/2*z;break;case a.LINE_STRIP:e.lines+=z*(n-1);break;case a.LINE_LOOP:e.lines+=z*n;break;case a.POINTS:e.points+=z*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",v)}}}}function Pb(a,e){return a[0]-e[0]}function N(a,
e){return Math.abs(e[1])-Math.abs(a[1])}function Z(a,e,n){const v={},z=new Float32Array(8),I=new WeakMap,L=new Be,R=[];for(let V=0;8>V;V++)R[V]=[V,0];return{update:function(V,Y,ja){V=V.morphTargetInfluences;if(!0===e.isWebGL2){var ka=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color;ka=void 0!==ka?ka.length:0;var qa=I.get(Y);if(void 0===qa||qa.count!==ka){void 0!==qa&&qa.texture.dispose();qa=void 0!==Y.morphAttributes.position;var Ga=void 0!==Y.morphAttributes.normal,Fa=
void 0!==Y.morphAttributes.color,ia=Y.morphAttributes.position||[];const zb=Y.morphAttributes.normal||[],bb=Y.morphAttributes.color||[];var La=0;!0===qa&&(La=1);!0===Ga&&(La=2);!0===Fa&&(La=3);let Gb=Y.attributes.position.count*La,Tb=1;Gb>e.maxTextureSize&&(Tb=Math.ceil(Gb/e.maxTextureSize),Gb=e.maxTextureSize);const xb=new Float32Array(Gb*Tb*4*ka),oc=new kh(xb,Gb,Tb,ka);oc.type=1015;oc.needsUpdate=!0;La*=4;for(let $b=0;$b<ka;$b++){const bc=ia[$b],ac=zb[$b],Pc=bb[$b],Gc=Gb*Tb*4*$b;for(let Kc=0;Kc<
bc.count;Kc++){const Ic=Kc*La;!0===qa&&(L.fromBufferAttribute(bc,Kc),xb[Gc+Ic+0]=L.x,xb[Gc+Ic+1]=L.y,xb[Gc+Ic+2]=L.z,xb[Gc+Ic+3]=0);!0===Ga&&(L.fromBufferAttribute(ac,Kc),xb[Gc+Ic+4]=L.x,xb[Gc+Ic+5]=L.y,xb[Gc+Ic+6]=L.z,xb[Gc+Ic+7]=0);!0===Fa&&(L.fromBufferAttribute(Pc,Kc),xb[Gc+Ic+8]=L.x,xb[Gc+Ic+9]=L.y,xb[Gc+Ic+10]=L.z,xb[Gc+Ic+11]=4===Pc.itemSize?L.w:1)}}qa={count:ka,texture:oc,size:new Cc(Gb,Tb)};I.set(Y,qa);function Ib(){oc.dispose();I.delete(Y);Y.removeEventListener("dispose",Ib)}Y.addEventListener("dispose",
Ib)}ka=0;for(Ga=0;Ga<V.length;Ga++)ka+=V[Ga];ka=Y.morphTargetsRelative?1:1-ka;ja.getUniforms().setValue(a,"morphTargetBaseInfluence",ka);ja.getUniforms().setValue(a,"morphTargetInfluences",V);ja.getUniforms().setValue(a,"morphTargetsTexture",qa.texture,n);ja.getUniforms().setValue(a,"morphTargetsTextureSize",qa.size)}else{ka=void 0===V?0:V.length;qa=v[Y.id];if(void 0===qa||qa.length!==ka){qa=[];for(Ga=0;Ga<ka;Ga++)qa[Ga]=[Ga,0];v[Y.id]=qa}for(Ga=0;Ga<ka;Ga++)Fa=qa[Ga],Fa[0]=Ga,Fa[1]=V[Ga];qa.sort(N);
for(V=0;8>V;V++)V<ka&&qa[V][1]?(R[V][0]=qa[V][0],R[V][1]=qa[V][1]):(R[V][0]=Number.MAX_SAFE_INTEGER,R[V][1]=0);R.sort(Pb);V=Y.morphAttributes.position;ka=Y.morphAttributes.normal;qa=0;for(Ga=0;8>Ga;Ga++)ia=R[Ga],Fa=ia[0],ia=ia[1],Fa!==Number.MAX_SAFE_INTEGER&&ia?(V&&Y.getAttribute("morphTarget"+Ga)!==V[Fa]&&Y.setAttribute("morphTarget"+Ga,V[Fa]),ka&&Y.getAttribute("morphNormal"+Ga)!==ka[Fa]&&Y.setAttribute("morphNormal"+Ga,ka[Fa]),z[Ga]=ia,qa+=ia):(V&&!0===Y.hasAttribute("morphTarget"+Ga)&&Y.deleteAttribute("morphTarget"+
Ga),ka&&!0===Y.hasAttribute("morphNormal"+Ga)&&Y.deleteAttribute("morphNormal"+Ga),z[Ga]=0);V=Y.morphTargetsRelative?1:1-qa;ja.getUniforms().setValue(a,"morphTargetBaseInfluence",V);ja.getUniforms().setValue(a,"morphTargetInfluences",z)}}}}function va(a,e,n,v){function z(L){L=L.target;L.removeEventListener("dispose",z);n.remove(L.instanceMatrix);null!==L.instanceColor&&n.remove(L.instanceColor)}let I=new WeakMap;return{update:function(L){const R=v.render.frame,V=e.get(L,L.geometry);I.get(V)!==R&&
(e.update(V),I.set(V,R));L.isInstancedMesh&&(!1===L.hasEventListener("dispose",z)&&L.addEventListener("dispose",z),n.update(L.instanceMatrix,a.ARRAY_BUFFER),null!==L.instanceColor&&n.update(L.instanceColor,a.ARRAY_BUFFER));return V},dispose:function(){I=new WeakMap}}}function ab(a,e,n){const v=a[0];if(0>=v||0<v)return a;const z=e*n;let I=lh[z];void 0===I&&(I=new Float32Array(z),lh[z]=I);if(0!==e){v.toArray(I,0);for(let L=1,R=0;L!==e;++L)R+=n,a[L].toArray(I,R)}return I}function Ha(a,e){if(a.length!==
e.length)return!1;for(let n=0,v=a.length;n<v;n++)if(a[n]!==e[n])return!1;return!0}function Qa(a,e){for(let n=0,v=e.length;n<v;n++)a[n]=e[n]}function cb(a,e){let n=tj[e];void 0===n&&(n=new Int32Array(e),tj[e]=n);for(let v=0;v!==e;++v)n[v]=a.allocateTextureUnit();return n}function Ab(a,e){const n=this.cache;n[0]!==e&&(a.uniform1f(this.addr,e),n[0]=e)}function ma(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y)a.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y}else Ha(n,e)||(a.uniform2fv(this.addr,
e),Qa(n,e))}function la(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)a.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z}else if(void 0!==e.r){if(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)a.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b}else Ha(n,e)||(a.uniform3fv(this.addr,e),Qa(n,e))}function Ra(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)a.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=
e.z,n[3]=e.w}else Ha(n,e)||(a.uniform4fv(this.addr,e),Qa(n,e))}function Sa(a,e){const n=this.cache,v=e.elements;void 0===v?Ha(n,e)||(a.uniformMatrix2fv(this.addr,!1,e),Qa(n,e)):Ha(n,v)||(uj.set(v),a.uniformMatrix2fv(this.addr,!1,uj),Qa(n,v))}function ob(a,e){const n=this.cache,v=e.elements;void 0===v?Ha(n,e)||(a.uniformMatrix3fv(this.addr,!1,e),Qa(n,e)):Ha(n,v)||(Si.set(v),a.uniformMatrix3fv(this.addr,!1,Si),Qa(n,v))}function oa(a,e){const n=this.cache,v=e.elements;void 0===v?Ha(n,e)||(a.uniformMatrix4fv(this.addr,
!1,e),Qa(n,e)):Ha(n,v)||(Ti.set(v),a.uniformMatrix4fv(this.addr,!1,Ti),Qa(n,v))}function Va(a,e){const n=this.cache;n[0]!==e&&(a.uniform1i(this.addr,e),n[0]=e)}function Ua(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y)a.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y}else Ha(n,e)||(a.uniform2iv(this.addr,e),Qa(n,e))}function ua(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)a.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z}else Ha(n,
e)||(a.uniform3iv(this.addr,e),Qa(n,e))}function Ta(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)a.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w}else Ha(n,e)||(a.uniform4iv(this.addr,e),Qa(n,e))}function hb(a,e){const n=this.cache;n[0]!==e&&(a.uniform1ui(this.addr,e),n[0]=e)}function Bb(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y)a.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y}else Ha(n,e)||(a.uniform2uiv(this.addr,
e),Qa(n,e))}function Db(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)a.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z}else Ha(n,e)||(a.uniform3uiv(this.addr,e),Qa(n,e))}function Sb(a,e){const n=this.cache;if(void 0!==e.x){if(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)a.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w}else Ha(n,e)||(a.uniform4uiv(this.addr,e),Qa(n,e))}function tc(a,e,n){const v=this.cache,z=n.allocateTextureUnit();
v[0]!==z&&(a.uniform1i(this.addr,z),v[0]=z);n.setTexture2D(e||Ui,z)}function dc(a,e,n){const v=this.cache,z=n.allocateTextureUnit();v[0]!==z&&(a.uniform1i(this.addr,z),v[0]=z);n.setTexture3D(e||Qe,z)}function Yc(a,e,n){const v=this.cache,z=n.allocateTextureUnit();v[0]!==z&&(a.uniform1i(this.addr,z),v[0]=z);n.setTextureCube(e||Sf,z)}function ed(a,e,n){const v=this.cache,z=n.allocateTextureUnit();v[0]!==z&&(a.uniform1i(this.addr,z),v[0]=z);n.setTexture2DArray(e||vj,z)}function bd(a){switch(a){case 5126:return Ab;
case 35664:return ma;case 35665:return la;case 35666:return Ra;case 35674:return Sa;case 35675:return ob;case 35676:return oa;case 5124:case 35670:return Va;case 35667:case 35671:return Ua;case 35668:case 35672:return ua;case 35669:case 35673:return Ta;case 5125:return hb;case 36294:return Bb;case 36295:return Db;case 36296:return Sb;case 35678:case 36198:case 36298:case 36306:case 35682:return tc;case 35679:case 36299:case 36307:return dc;case 35680:case 36300:case 36308:case 36293:return Yc;case 36289:case 36303:case 36311:case 36292:return ed}}
function hd(a,e){a.uniform1fv(this.addr,e)}function fc(a,e){e=ab(e,this.size,2);a.uniform2fv(this.addr,e)}function cd(a,e){e=ab(e,this.size,3);a.uniform3fv(this.addr,e)}function zd(a,e){e=ab(e,this.size,4);a.uniform4fv(this.addr,e)}function Gd(a,e){e=ab(e,this.size,4);a.uniformMatrix2fv(this.addr,!1,e)}function sc(a,e){e=ab(e,this.size,9);a.uniformMatrix3fv(this.addr,!1,e)}function de(a,e){e=ab(e,this.size,16);a.uniformMatrix4fv(this.addr,!1,e)}function ge(a,e){a.uniform1iv(this.addr,e)}function Ce(a,
e){a.uniform2iv(this.addr,e)}function Jb(a,e){a.uniform3iv(this.addr,e)}function ke(a,e){a.uniform4iv(this.addr,e)}function nd(a,e){a.uniform1uiv(this.addr,e)}function od(a,e){a.uniform2uiv(this.addr,e)}function te(a,e){a.uniform3uiv(this.addr,e)}function pe(a,e){a.uniform4uiv(this.addr,e)}function vc(a,e,n){const v=this.cache,z=e.length,I=cb(n,z);Ha(v,I)||(a.uniform1iv(this.addr,I),Qa(v,I));for(a=0;a!==z;++a)n.setTexture2D(e[a]||Ui,I[a])}function Od(a,e,n){const v=this.cache,z=e.length,I=cb(n,z);
Ha(v,I)||(a.uniform1iv(this.addr,I),Qa(v,I));for(a=0;a!==z;++a)n.setTexture3D(e[a]||Qe,I[a])}function gc(a,e,n){const v=this.cache,z=e.length,I=cb(n,z);Ha(v,I)||(a.uniform1iv(this.addr,I),Qa(v,I));for(a=0;a!==z;++a)n.setTextureCube(e[a]||Sf,I[a])}function Rc(a,e,n){const v=this.cache,z=e.length,I=cb(n,z);Ha(v,I)||(a.uniform1iv(this.addr,I),Qa(v,I));for(a=0;a!==z;++a)n.setTexture2DArray(e[a]||vj,I[a])}function Tc(a){switch(a){case 5126:return hd;case 35664:return fc;case 35665:return cd;case 35666:return zd;
case 35674:return Gd;case 35675:return sc;case 35676:return de;case 5124:case 35670:return ge;case 35667:case 35671:return Ce;case 35668:case 35672:return Jb;case 35669:case 35673:return ke;case 5125:return nd;case 36294:return od;case 36295:return te;case 36296:return pe;case 35678:case 36198:case 36298:case 36306:case 35682:return vc;case 35679:case 36299:case 36307:return Od;case 35680:case 36300:case 36308:case 36293:return gc;case 36289:case 36303:case 36311:case 36292:return Rc}}function xd(a,
e,n){e=a.createShader(e);a.shaderSource(e,n);a.compileShader(e);return e}function Dc(a,e,n){var v=a.getShaderParameter(e,a.COMPILE_STATUS),z=a.getShaderInfoLog(e).trim();if(v&&""===z)return"";if(v=/ERROR: 0:(\d+)/.exec(z)){v=parseInt(v[1]);n=n.toUpperCase()+"\n\n"+z+"\n\n";e=a.getShaderSource(e);a=v;e=e.split("\n");z=[];var I=Math.max(a-6,0);for(v=Math.min(a+6,e.length);I<v;I++){const L=I+1;z.push(`${L===a?"\x3e":" "} ${L}: ${e[I]}`)}a=z.join("\n");return n+a}return z}function yf(a,e){a:switch(e){case 3E3:e=
["Linear","( value )"];break a;case 3001:e=["sRGB","( value )"];break a;default:console.warn("THREE.WebGLProgram: Unsupported encoding:",e),e=["Linear","( value )"]}return"vec4 "+a+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function He(a,e){switch(e){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),e="Linear"}return"vec3 "+a+"( vec3 color ) { return "+
e+"ToneMapping( color ); }"}function we(a){const e=[];for(const n in a){const v=a[n];!1!==v&&e.push("#define "+n+" "+v)}return e.join("\n")}function Ne(a){return""!==a}function Pe(a,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,
e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ie(a,e){return a.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function cf(a,e){a=le[e];if(void 0===a)throw Error("Can not resolve #include \x3c"+
e+"\x3e");return a.replace(Vi,cf)}function rf(a,e,n,v){a="";for(e=parseInt(e);e<parseInt(n);e++)a+=v.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return a}function ff(a){let e="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision?e+="\n#define HIGH_PRECISION":"mediump"===a.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(e+="\n#define LOW_PRECISION");return e}function gf(a){let e="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?
e="SHADOWMAP_TYPE_PCF":2===a.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===a.shadowMapType&&(e="SHADOWMAP_TYPE_VSM");return e}function ee(a){let e="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}function Nb(a){let e="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:e="ENVMAP_MODE_REFRACTION"}return e}function Yd(a){let e="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";
break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}function De(a){a=a.envMapCubeUVHeight;if(null===a)return null;const e=Math.log2(a)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:1/a,maxMip:e}}function me(a,e,n,v){const z=a.getContext();var I=n.defines,L=n.vertexShader,R=n.fragmentShader,V=gf(n),Y=ee(n),ja=Nb(n),ka=Yd(n),qa=De(n),Ga=n.isWebGL2?"":[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||
n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ne).join("\n");const Fa=we(I),ia=z.createProgram();
var La=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(I=[Fa].filter(Ne).join("\n"),0<I.length&&(I+="\n"),V=[Ga,Fa].filter(Ne).join("\n"),0<V.length&&(V+="\n")):(I=[ff(n),"#define SHADER_NAME "+n.shaderName,Fa,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":
"",n.envMap?"#define "+ja:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":
"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":
"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":
"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",0<n.morphTargetsCount&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",0<n.morphTargetsCount&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",0<n.morphTargetsCount&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?
"#define "+V:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR",
"\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) \x26\x26 ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;",
"\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ne).join("\n"),V=[Ga,ff(n),"#define SHADER_NAME "+n.shaderName,
Fa,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+Y:"",n.envMap?"#define "+ja:"",n.envMap?"#define "+ka:"",qa?"#define CUBEUV_TEXEL_WIDTH "+qa.texelWidth:"",qa?"#define CUBEUV_TEXEL_HEIGHT "+qa.texelHeight:"",qa?"#define CUBEUV_MAX_MIP "+qa.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":
"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":
"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":
"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",
n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+V:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?
"#define TONE_MAPPING":"",0!==n.toneMapping?le.tonemapping_pars_fragment:"",0!==n.toneMapping?He("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",le.encodings_pars_fragment,yf("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ne).join("\n"));L=L.replace(Vi,cf);L=Pe(L,n);L=ie(L,n);R=R.replace(Vi,cf);R=Pe(R,n);R=ie(R,n);L=L.replace(vi,rf);R=R.replace(vi,rf);n.isWebGL2&&!0!==n.isRawShaderMaterial&&
(La="#version 300 es\n",I="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+I,V=["#define varying in","300 es"===n.glslVersion?"":"layout(location \x3d 0) out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+V);R=La+V+R;L=xd(z,z.VERTEX_SHADER,La+I+L);R=xd(z,z.FRAGMENT_SHADER,R);z.attachShader(ia,L);z.attachShader(ia,R);void 0!==n.index0AttributeName?z.bindAttribLocation(ia,0,n.index0AttributeName):!0===n.morphTargets&&z.bindAttribLocation(ia,0,"position");z.linkProgram(ia);if(a.debug.checkShaderErrors){a=z.getProgramInfoLog(ia).trim();La=z.getShaderInfoLog(L).trim();Y=z.getShaderInfoLog(R).trim();ka=ja=!0;if(!1===z.getProgramParameter(ia,z.LINK_STATUS))ja=!1,qa=Dc(z,L,"vertex"),Ga=Dc(z,R,"fragment"),
console.error("THREE.WebGLProgram: Shader Error "+z.getError()+" - VALIDATE_STATUS "+z.getProgramParameter(ia,z.VALIDATE_STATUS)+"\n\nProgram Info Log: "+a+"\n"+qa+"\n"+Ga);else if(""!==a)console.warn("THREE.WebGLProgram: Program Info Log:",a);else if(""===La||""===Y)ka=!1;ka&&(this.diagnostics={runnable:ja,programLog:a,vertexShader:{log:La,prefix:I},fragmentShader:{log:Y,prefix:V}})}z.deleteShader(L);z.deleteShader(R);let zb;this.getUniforms=function(){void 0===zb&&(zb=new lg(z,ia));return zb};let bb;
this.getAttributes=function(){if(void 0===bb){const Gb={},Tb=z.getProgramParameter(ia,z.ACTIVE_ATTRIBUTES);for(let xb=0;xb<Tb;xb++){const oc=z.getActiveAttrib(ia,xb),Ib=oc.name;let $b=1;oc.type===z.FLOAT_MAT2&&($b=2);oc.type===z.FLOAT_MAT3&&($b=3);oc.type===z.FLOAT_MAT4&&($b=4);Gb[Ib]={type:oc.type,location:z.getAttribLocation(ia,Ib),locationSize:$b}}bb=Gb}return bb};this.destroy=function(){v.releaseStatesOfProgram(this);z.deleteProgram(ia);this.program=void 0};this.name=n.shaderName;this.id=wj++;
this.cacheKey=e;this.usedTimes=1;this.program=ia;this.vertexShader=L;this.fragmentShader=R;return this}function Lc(a,e,n,v,z,I,L){const R=new Hg,V=new Wi,Y=[],ja=z.isWebGL2,ka=z.logarithmicDepthBuffer,qa=z.vertexTextures;let Ga=z.precision;const Fa={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",
MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(ia,La,zb,bb,Gb){const Tb=bb.fog,xb=Gb.geometry;bb=ia.isMeshStandardMaterial?bb.environment:null;const oc=(bb=(ia.isMeshStandardMaterial?n:e).get(ia.envMap||bb))&&306===bb.mapping?bb.image.height:null,Ib=Fa[ia.type];null!==ia.precision&&(Ga=z.getMaxPrecision(ia.precision),Ga!==ia.precision&&console.warn("THREE.WebGLProgram.getParameters:",
ia.precision,"not supported, using",Ga,"instead."));var $b=xb.morphAttributes.position||xb.morphAttributes.normal||xb.morphAttributes.color;$b=void 0!==$b?$b.length:0;let bc=0;void 0!==xb.morphAttributes.position&&(bc=1);void 0!==xb.morphAttributes.normal&&(bc=2);void 0!==xb.morphAttributes.color&&(bc=3);let ac;let Pc,Gc;if(Ib){var Kc=fg[Ib];ac=Kc.vertexShader;Kc=Kc.fragmentShader}else ac=ia.vertexShader,Kc=ia.fragmentShader,V.update(ia),Pc=V.getVertexShaderID(ia),Gc=V.getFragmentShaderID(ia);const Ic=
a.getRenderTarget(),td=0<ia.clearcoat,Fd=0<ia.iridescence;return{isWebGL2:ja,shaderID:Ib,shaderName:ia.type,vertexShader:ac,fragmentShader:Kc,defines:ia.defines,customVertexShaderID:Pc,customFragmentShaderID:Gc,isRawShaderMaterial:!0===ia.isRawShaderMaterial,glslVersion:ia.glslVersion,precision:Ga,instancing:!0===Gb.isInstancedMesh,instancingColor:!0===Gb.isInstancedMesh&&null!==Gb.instanceColor,supportsVertexTextures:qa,outputEncoding:null===Ic?a.outputEncoding:!0===Ic.isXRRenderTarget?Ic.texture.encoding:
3E3,map:!!ia.map,matcap:!!ia.matcap,envMap:!!bb,envMapMode:bb&&bb.mapping,envMapCubeUVHeight:oc,lightMap:!!ia.lightMap,aoMap:!!ia.aoMap,emissiveMap:!!ia.emissiveMap,bumpMap:!!ia.bumpMap,normalMap:!!ia.normalMap,objectSpaceNormalMap:1===ia.normalMapType,tangentSpaceNormalMap:0===ia.normalMapType,decodeVideoTexture:!!ia.map&&!0===ia.map.isVideoTexture&&3001===ia.map.encoding,clearcoat:td,clearcoatMap:td&&!!ia.clearcoatMap,clearcoatRoughnessMap:td&&!!ia.clearcoatRoughnessMap,clearcoatNormalMap:td&&!!ia.clearcoatNormalMap,
iridescence:Fd,iridescenceMap:Fd&&!!ia.iridescenceMap,iridescenceThicknessMap:Fd&&!!ia.iridescenceThicknessMap,displacementMap:!!ia.displacementMap,roughnessMap:!!ia.roughnessMap,metalnessMap:!!ia.metalnessMap,specularMap:!!ia.specularMap,specularIntensityMap:!!ia.specularIntensityMap,specularColorMap:!!ia.specularColorMap,opaque:!1===ia.transparent&&1===ia.blending,alphaMap:!!ia.alphaMap,alphaTest:0<ia.alphaTest,gradientMap:!!ia.gradientMap,sheen:0<ia.sheen,sheenColorMap:!!ia.sheenColorMap,sheenRoughnessMap:!!ia.sheenRoughnessMap,
transmission:0<ia.transmission,transmissionMap:!!ia.transmissionMap,thicknessMap:!!ia.thicknessMap,combine:ia.combine,vertexTangents:!!ia.normalMap&&!!xb.attributes.tangent,vertexColors:ia.vertexColors,vertexAlphas:!0===ia.vertexColors&&!!xb.attributes.color&&4===xb.attributes.color.itemSize,vertexUvs:!!ia.map||!!ia.bumpMap||!!ia.normalMap||!!ia.specularMap||!!ia.alphaMap||!!ia.emissiveMap||!!ia.roughnessMap||!!ia.metalnessMap||!!ia.clearcoatMap||!!ia.clearcoatRoughnessMap||!!ia.clearcoatNormalMap||
!!ia.iridescenceMap||!!ia.iridescenceThicknessMap||!!ia.displacementMap||!!ia.transmissionMap||!!ia.thicknessMap||!!ia.specularIntensityMap||!!ia.specularColorMap||!!ia.sheenColorMap||!!ia.sheenRoughnessMap,uvsVertexOnly:!(ia.map||ia.bumpMap||ia.normalMap||ia.specularMap||ia.alphaMap||ia.emissiveMap||ia.roughnessMap||ia.metalnessMap||ia.clearcoatNormalMap||ia.iridescenceMap||ia.iridescenceThicknessMap||0<ia.transmission||ia.transmissionMap||ia.thicknessMap||ia.specularIntensityMap||ia.specularColorMap||
0<ia.sheen||ia.sheenColorMap||ia.sheenRoughnessMap)&&!!ia.displacementMap,fog:!!Tb,useFog:!0===ia.fog,fogExp2:Tb&&Tb.isFogExp2,flatShading:!!ia.flatShading,sizeAttenuation:ia.sizeAttenuation,logarithmicDepthBuffer:ka,skinning:!0===Gb.isSkinnedMesh,morphTargets:void 0!==xb.morphAttributes.position,morphNormals:void 0!==xb.morphAttributes.normal,morphColors:void 0!==xb.morphAttributes.color,morphTargetsCount:$b,morphTextureStride:bc,numDirLights:La.directional.length,numPointLights:La.point.length,
numSpotLights:La.spot.length,numSpotLightMaps:La.spotLightMap.length,numRectAreaLights:La.rectArea.length,numHemiLights:La.hemi.length,numDirLightShadows:La.directionalShadowMap.length,numPointLightShadows:La.pointShadowMap.length,numSpotLightShadows:La.spotShadowMap.length,numSpotLightShadowsWithMaps:La.numSpotLightShadowsWithMaps,numClippingPlanes:L.numPlanes,numClipIntersection:L.numIntersection,dithering:ia.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<zb.length,shadowMapType:a.shadowMap.type,
toneMapping:ia.toneMapped?a.toneMapping:0,useLegacyLights:a.useLegacyLights,premultipliedAlpha:ia.premultipliedAlpha,doubleSided:2===ia.side,flipSided:1===ia.side,useDepthPacking:!!ia.depthPacking,depthPacking:ia.depthPacking||0,index0AttributeName:ia.index0AttributeName,extensionDerivatives:ia.extensions&&ia.extensions.derivatives,extensionFragDepth:ia.extensions&&ia.extensions.fragDepth,extensionDrawBuffers:ia.extensions&&ia.extensions.drawBuffers,extensionShaderTextureLOD:ia.extensions&&ia.extensions.shaderTextureLOD,
rendererExtensionFragDepth:ja||v.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ja||v.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ja||v.has("EXT_shader_texture_lod"),customProgramCacheKey:ia.customProgramCacheKey()}},getProgramCacheKey:function(ia){const La=[];ia.shaderID?La.push(ia.shaderID):(La.push(ia.customVertexShaderID),La.push(ia.customFragmentShaderID));if(void 0!==ia.defines)for(const zb in ia.defines)La.push(zb),La.push(ia.defines[zb]);!1===ia.isRawShaderMaterial&&(La.push(ia.precision),
La.push(ia.outputEncoding),La.push(ia.envMapMode),La.push(ia.envMapCubeUVHeight),La.push(ia.combine),La.push(ia.vertexUvs),La.push(ia.fogExp2),La.push(ia.sizeAttenuation),La.push(ia.morphTargetsCount),La.push(ia.morphAttributeCount),La.push(ia.numDirLights),La.push(ia.numPointLights),La.push(ia.numSpotLights),La.push(ia.numSpotLightMaps),La.push(ia.numHemiLights),La.push(ia.numRectAreaLights),La.push(ia.numDirLightShadows),La.push(ia.numPointLightShadows),La.push(ia.numSpotLightShadows),La.push(ia.numSpotLightShadowsWithMaps),
La.push(ia.shadowMapType),La.push(ia.toneMapping),La.push(ia.numClippingPlanes),La.push(ia.numClipIntersection),La.push(ia.depthPacking),R.disableAll(),ia.isWebGL2&&R.enable(0),ia.supportsVertexTextures&&R.enable(1),ia.instancing&&R.enable(2),ia.instancingColor&&R.enable(3),ia.map&&R.enable(4),ia.matcap&&R.enable(5),ia.envMap&&R.enable(6),ia.lightMap&&R.enable(7),ia.aoMap&&R.enable(8),ia.emissiveMap&&R.enable(9),ia.bumpMap&&R.enable(10),ia.normalMap&&R.enable(11),ia.objectSpaceNormalMap&&R.enable(12),
ia.tangentSpaceNormalMap&&R.enable(13),ia.clearcoat&&R.enable(14),ia.clearcoatMap&&R.enable(15),ia.clearcoatRoughnessMap&&R.enable(16),ia.clearcoatNormalMap&&R.enable(17),ia.iridescence&&R.enable(18),ia.iridescenceMap&&R.enable(19),ia.iridescenceThicknessMap&&R.enable(20),ia.displacementMap&&R.enable(21),ia.specularMap&&R.enable(22),ia.roughnessMap&&R.enable(23),ia.metalnessMap&&R.enable(24),ia.gradientMap&&R.enable(25),ia.alphaMap&&R.enable(26),ia.alphaTest&&R.enable(27),ia.vertexColors&&R.enable(28),
ia.vertexAlphas&&R.enable(29),ia.vertexUvs&&R.enable(30),ia.vertexTangents&&R.enable(31),ia.uvsVertexOnly&&R.enable(32),La.push(R.mask),R.disableAll(),ia.fog&&R.enable(0),ia.useFog&&R.enable(1),ia.flatShading&&R.enable(2),ia.logarithmicDepthBuffer&&R.enable(3),ia.skinning&&R.enable(4),ia.morphTargets&&R.enable(5),ia.morphNormals&&R.enable(6),ia.morphColors&&R.enable(7),ia.premultipliedAlpha&&R.enable(8),ia.shadowMapEnabled&&R.enable(9),ia.useLegacyLights&&R.enable(10),ia.doubleSided&&R.enable(11),
ia.flipSided&&R.enable(12),ia.useDepthPacking&&R.enable(13),ia.dithering&&R.enable(14),ia.specularIntensityMap&&R.enable(15),ia.specularColorMap&&R.enable(16),ia.transmission&&R.enable(17),ia.transmissionMap&&R.enable(18),ia.thicknessMap&&R.enable(19),ia.sheen&&R.enable(20),ia.sheenColorMap&&R.enable(21),ia.sheenRoughnessMap&&R.enable(22),ia.decodeVideoTexture&&R.enable(23),ia.opaque&&R.enable(24),La.push(R.mask),La.push(a.outputEncoding));La.push(ia.customProgramCacheKey);return La.join()},getUniforms:function(ia){const La=
Fa[ia.type];return La?Xe.clone(fg[La].uniforms):ia.uniforms},acquireProgram:function(ia,La){let zb;for(let bb=0,Gb=Y.length;bb<Gb;bb++){const Tb=Y[bb];if(Tb.cacheKey===La){zb=Tb;++zb.usedTimes;break}}void 0===zb&&(zb=new me(a,La,ia,I),Y.push(zb));return zb},releaseProgram:function(ia){if(0===--ia.usedTimes){const La=Y.indexOf(ia);Y[La]=Y[Y.length-1];Y.pop();ia.destroy()}},releaseShaderCache:function(ia){V.remove(ia)},programs:Y,dispose:function(){V.dispose()}}}function Hd(){let a=new WeakMap;return{get:function(e){let n=
a.get(e);void 0===n&&(n={},a.set(e,n));return n},remove:function(e){a.delete(e)},update:function(e,n,v){a.get(e)[n]=v},dispose:function(){a=new WeakMap}}}function ya(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.material.id!==e.material.id?a.material.id-e.material.id:a.z!==e.z?a.z-e.z:a.id-e.id}function Ia(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:
a.z!==e.z?e.z-a.z:a.id-e.id}function fb(){function a(L,R,V,Y,ja,ka){let qa=e[n];void 0===qa?(qa={id:L.id,object:L,geometry:R,material:V,groupOrder:Y,renderOrder:L.renderOrder,z:ja,group:ka},e[n]=qa):(qa.id=L.id,qa.object=L,qa.geometry=R,qa.material=V,qa.groupOrder=Y,qa.renderOrder=L.renderOrder,qa.z=ja,qa.group=ka);n++;return qa}const e=[];let n=0;const v=[],z=[],I=[];return{opaque:v,transmissive:z,transparent:I,init:function(){n=0;v.length=0;z.length=0;I.length=0},push:function(L,R,V,Y,ja,ka){L=
a(L,R,V,Y,ja,ka);0<V.transmission?z.push(L):!0===V.transparent?I.push(L):v.push(L)},unshift:function(L,R,V,Y,ja,ka){L=a(L,R,V,Y,ja,ka);0<V.transmission?z.unshift(L):!0===V.transparent?I.unshift(L):v.unshift(L)},finish:function(){for(let L=n,R=e.length;L<R;L++){const V=e[L];if(null===V.id)break;V.id=null;V.object=null;V.geometry=null;V.material=null;V.group=null}},sort:function(L,R){1<v.length&&v.sort(L||ya);1<z.length&&z.sort(R||Ia);1<I.length&&I.sort(R||Ia)}}}function lb(){let a=new WeakMap;return{get:function(e,
n){const v=a.get(e);void 0===v?(n=new fb,a.set(e,[n])):n>=v.length?(n=new fb,v.push(n)):n=v[n];return n},dispose:function(){a=new WeakMap}}}function yb(){const a={};return{get:function(e){if(void 0!==a[e.id])return a[e.id];let n;switch(e.type){case "DirectionalLight":n={direction:new jb,color:new rd};break;case "SpotLight":n={position:new jb,direction:new jb,color:new rd,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case "PointLight":n={position:new jb,color:new rd,distance:0,decay:0};break;case "HemisphereLight":n=
{direction:new jb,skyColor:new rd,groundColor:new rd};break;case "RectAreaLight":n={color:new rd,position:new jb,halfWidth:new jb,halfHeight:new jb}}return a[e.id]=n}}}function kb(){const a={};return{get:function(e){if(void 0!==a[e.id])return a[e.id];let n;switch(e.type){case "DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Cc};break;case "SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Cc};break;case "PointLight":n={shadowBias:0,
shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Cc,shadowCameraNear:1,shadowCameraFar:1E3}}return a[e.id]=n}}}function tb(a,e){return(e.castShadow?2:0)-(a.castShadow?2:0)+(e.map?1:0)-(a.map?1:0)}function Eb(a,e){const n=new yb,v=kb(),z={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],
directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let V=0;9>V;V++)z.probe.push(new jb);const I=new jb,L=new fe,R=new fe;return{setup:function(V,Y){let ja=0,ka=0,qa=0;for(var Ga=0;9>Ga;Ga++)z.probe[Ga].set(0,0,0);let Fa=Ga=0,ia=0,La=0,zb=0,bb=0,Gb=0,Tb=0,xb=0,oc=0;V.sort(tb);Y=!0===Y?Math.PI:1;for(let Gc=
0,Kc=V.length;Gc<Kc;Gc++){var Ib=V[Gc],$b=Ib.color,bc=Ib.intensity,ac=Ib.distance,Pc=Ib.shadow&&Ib.shadow.map?Ib.shadow.map.texture:null;if(Ib.isAmbientLight)ja+=$b.r*bc*Y,ka+=$b.g*bc*Y,qa+=$b.b*bc*Y;else if(Ib.isLightProbe)for(Pc=0;9>Pc;Pc++)z.probe[Pc].addScaledVector(Ib.sh.coefficients[Pc],bc);else if(Ib.isDirectionalLight)bc=n.get(Ib),bc.color.copy(Ib.color).multiplyScalar(Ib.intensity*Y),Ib.castShadow&&($b=Ib.shadow,ac=v.get(Ib),ac.shadowBias=$b.bias,ac.shadowNormalBias=$b.normalBias,ac.shadowRadius=
$b.radius,ac.shadowMapSize=$b.mapSize,z.directionalShadow[Ga]=ac,z.directionalShadowMap[Ga]=Pc,z.directionalShadowMatrix[Ga]=Ib.shadow.matrix,bb++),z.directional[Ga]=bc,Ga++;else if(Ib.isSpotLight){const Ic=n.get(Ib);Ic.position.setFromMatrixPosition(Ib.matrixWorld);Ic.color.copy($b).multiplyScalar(bc*Y);Ic.distance=ac;Ic.coneCos=Math.cos(Ib.angle);Ic.penumbraCos=Math.cos(Ib.angle*(1-Ib.penumbra));Ic.decay=Ib.decay;z.spot[ia]=Ic;bc=Ib.shadow;Ib.map&&(z.spotLightMap[xb]=Ib.map,xb++,bc.updateMatrices(Ib),
Ib.castShadow&&oc++);z.spotLightMatrix[ia]=bc.matrix;Ib.castShadow&&(Ib=v.get(Ib),Ib.shadowBias=bc.bias,Ib.shadowNormalBias=bc.normalBias,Ib.shadowRadius=bc.radius,Ib.shadowMapSize=bc.mapSize,z.spotShadow[ia]=Ib,z.spotShadowMap[ia]=Pc,Tb++);ia++}else Ib.isRectAreaLight?(Pc=n.get(Ib),Pc.color.copy($b).multiplyScalar(bc),Pc.halfWidth.set(.5*Ib.width,0,0),Pc.halfHeight.set(0,.5*Ib.height,0),z.rectArea[La]=Pc,La++):Ib.isPointLight?(bc=n.get(Ib),bc.color.copy(Ib.color).multiplyScalar(Ib.intensity*Y),bc.distance=
Ib.distance,bc.decay=Ib.decay,Ib.castShadow&&($b=Ib.shadow,ac=v.get(Ib),ac.shadowBias=$b.bias,ac.shadowNormalBias=$b.normalBias,ac.shadowRadius=$b.radius,ac.shadowMapSize=$b.mapSize,ac.shadowCameraNear=$b.camera.near,ac.shadowCameraFar=$b.camera.far,z.pointShadow[Fa]=ac,z.pointShadowMap[Fa]=Pc,z.pointShadowMatrix[Fa]=Ib.shadow.matrix,Gb++),z.point[Fa]=bc,Fa++):Ib.isHemisphereLight&&(Pc=n.get(Ib),Pc.skyColor.copy(Ib.color).multiplyScalar(bc*Y),Pc.groundColor.copy(Ib.groundColor).multiplyScalar(bc*
Y),z.hemi[zb]=Pc,zb++)}0<La&&(e.isWebGL2?(z.rectAreaLTC1=jd.LTC_FLOAT_1,z.rectAreaLTC2=jd.LTC_FLOAT_2):!0===a.has("OES_texture_float_linear")?(z.rectAreaLTC1=jd.LTC_FLOAT_1,z.rectAreaLTC2=jd.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(z.rectAreaLTC1=jd.LTC_HALF_1,z.rectAreaLTC2=jd.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions."));z.ambient[0]=ja;z.ambient[1]=ka;z.ambient[2]=qa;V=z.hash;if(V.directionalLength!==Ga||V.pointLength!==
Fa||V.spotLength!==ia||V.rectAreaLength!==La||V.hemiLength!==zb||V.numDirectionalShadows!==bb||V.numPointShadows!==Gb||V.numSpotShadows!==Tb||V.numSpotMaps!==xb)z.directional.length=Ga,z.spot.length=ia,z.rectArea.length=La,z.point.length=Fa,z.hemi.length=zb,z.directionalShadow.length=bb,z.directionalShadowMap.length=bb,z.pointShadow.length=Gb,z.pointShadowMap.length=Gb,z.spotShadow.length=Tb,z.spotShadowMap.length=Tb,z.directionalShadowMatrix.length=bb,z.pointShadowMatrix.length=Gb,z.spotLightMatrix.length=
Tb+xb-oc,z.spotLightMap.length=xb,z.numSpotLightShadowsWithMaps=oc,V.directionalLength=Ga,V.pointLength=Fa,V.spotLength=ia,V.rectAreaLength=La,V.hemiLength=zb,V.numDirectionalShadows=bb,V.numPointShadows=Gb,V.numSpotShadows=Tb,V.numSpotMaps=xb,z.version=Xi++},setupView:function(V,Y){let ja=0,ka=0,qa=0,Ga=0,Fa=0;Y=Y.matrixWorldInverse;for(let La=0,zb=V.length;La<zb;La++){const bb=V[La];if(bb.isDirectionalLight){var ia=z.directional[ja];ia.direction.setFromMatrixPosition(bb.matrixWorld);I.setFromMatrixPosition(bb.target.matrixWorld);
ia.direction.sub(I);ia.direction.transformDirection(Y);ja++}else bb.isSpotLight?(ia=z.spot[qa],ia.position.setFromMatrixPosition(bb.matrixWorld),ia.position.applyMatrix4(Y),ia.direction.setFromMatrixPosition(bb.matrixWorld),I.setFromMatrixPosition(bb.target.matrixWorld),ia.direction.sub(I),ia.direction.transformDirection(Y),qa++):bb.isRectAreaLight?(ia=z.rectArea[Ga],ia.position.setFromMatrixPosition(bb.matrixWorld),ia.position.applyMatrix4(Y),R.identity(),L.copy(bb.matrixWorld),L.premultiply(Y),
R.extractRotation(L),ia.halfWidth.set(.5*bb.width,0,0),ia.halfHeight.set(0,.5*bb.height,0),ia.halfWidth.applyMatrix4(R),ia.halfHeight.applyMatrix4(R),Ga++):bb.isPointLight?(ia=z.point[ka],ia.position.setFromMatrixPosition(bb.matrixWorld),ia.position.applyMatrix4(Y),ka++):bb.isHemisphereLight&&(ia=z.hemi[Fa],ia.direction.setFromMatrixPosition(bb.matrixWorld),ia.direction.transformDirection(Y),Fa++)}},state:z}}function Hb(a,e){const n=new Eb(a,e),v=[],z=[];return{init:function(){v.length=0;z.length=
0},state:{lightsArray:v,shadowsArray:z,lights:n},setupLights:function(I){n.setup(v,I)},setupLightsView:function(I){n.setupView(v,I)},pushLight:function(I){v.push(I)},pushShadow:function(I){z.push(I)}}}function Ub(a,e){let n=new WeakMap;return{get:function(v,z=0){const I=n.get(v);void 0===I?(z=new Hb(a,e),n.set(v,[z])):z>=I.length?(z=new Hb(a,e),I.push(z)):z=I[z];return z},dispose:function(){n=new WeakMap}}}function Wb(a,e,n){function v(bb,Gb,Tb,xb,oc,Ib){bb=!0===Tb.isPointLight?bb.customDistanceMaterial:
bb.customDepthMaterial;if(void 0===bb&&(bb=!0===Tb.isPointLight?ja:Y,a.localClippingEnabled&&!0===Gb.clipShadows&&Array.isArray(Gb.clippingPlanes)&&0!==Gb.clippingPlanes.length||Gb.displacementMap&&0!==Gb.displacementScale||Gb.alphaMap&&0<Gb.alphaTest||Gb.map&&0<Gb.alphaTest)){var $b=bb.uuid;const bc=Gb.uuid;let ac=ka[$b];void 0===ac&&(ac={},ka[$b]=ac);$b=ac[bc];void 0===$b&&($b=bb.clone(),ac[bc]=$b);bb=$b}bb.visible=Gb.visible;bb.wireframe=Gb.wireframe;bb.side=3===Ib?null!==Gb.shadowSide?Gb.shadowSide:
Gb.side:null!==Gb.shadowSide?Gb.shadowSide:Ga[Gb.side];bb.alphaMap=Gb.alphaMap;bb.alphaTest=Gb.alphaTest;bb.map=Gb.map;bb.clipShadows=Gb.clipShadows;bb.clippingPlanes=Gb.clippingPlanes;bb.clipIntersection=Gb.clipIntersection;bb.displacementMap=Gb.displacementMap;bb.displacementScale=Gb.displacementScale;bb.displacementBias=Gb.displacementBias;bb.wireframeLinewidth=Gb.wireframeLinewidth;bb.linewidth=Gb.linewidth;!0===Tb.isPointLight&&!0===bb.isMeshDistanceMaterial&&(bb.referencePosition.setFromMatrixPosition(Tb.matrixWorld),
bb.nearDistance=xb,bb.farDistance=oc);return bb}function z(bb,Gb,Tb,xb,oc){if(!1!==bb.visible){if(bb.layers.test(Gb.layers)&&(bb.isMesh||bb.isLine||bb.isPoints)&&(bb.castShadow||bb.receiveShadow&&3===oc)&&(!bb.frustumCulled||I.intersectsObject(bb))){bb.modelViewMatrix.multiplyMatrices(Tb.matrixWorldInverse,bb.matrixWorld);const bc=e.update(bb);var Ib=bb.material;if(Array.isArray(Ib)){const ac=bc.groups;for(let Pc=0,Gc=ac.length;Pc<Gc;Pc++){const Kc=ac[Pc];var $b=Ib[Kc.materialIndex];$b&&$b.visible&&
($b=v(bb,$b,xb,Tb.near,Tb.far,oc),a.renderBufferDirect(Tb,null,bc,$b,bb,Kc))}}else Ib.visible&&(Ib=v(bb,Ib,xb,Tb.near,Tb.far,oc),a.renderBufferDirect(Tb,null,bc,Ib,bb,null))}bb=bb.children;for(let bc=0,ac=bb.length;bc<ac;bc++)z(bb[bc],Gb,Tb,xb,oc)}}let I=new mg;const L=new Cc,R=new Cc,V=new Be,Y=new Zh({depthPacking:3201}),ja=new Gh,ka={},qa=n.maxTextureSize,Ga={[0]:1,[1]:0,[2]:2},Fa=new eg({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Cc},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position \x3d vec4( position, 1.0 );\n}",
fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include \x3cpacking\x3e\nvoid main() {\n\tconst float samples \x3d float( VSM_SAMPLES );\n\tfloat mean \x3d 0.0;\n\tfloat squared_mean \x3d 0.0;\n\tfloat uvStride \x3d samples \x3c\x3d 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart \x3d samples \x3c\x3d 1.0 ? 0.0 : - 1.0;\n\tfor ( float i \x3d 0.0; i \x3c samples; i ++ ) {\n\t\tfloat uvOffset \x3d uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution \x3d unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean +\x3d distribution.x;\n\t\t\tsquared_mean +\x3d distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth \x3d unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean +\x3d depth;\n\t\t\tsquared_mean +\x3d depth * depth;\n\t\t#endif\n\t}\n\tmean \x3d mean / samples;\n\tsquared_mean \x3d squared_mean / samples;\n\tfloat std_dev \x3d sqrt( squared_mean - mean * mean );\n\tgl_FragColor \x3d pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),
ia=Fa.clone();ia.defines.HORIZONTAL_PASS=1;n=new ue;n.setAttribute("position",new Re(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const La=new vf(n,Fa),zb=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(bb,Gb,Tb){if(!1!==zb.enabled&&(!1!==zb.autoUpdate||!1!==zb.needsUpdate)&&0!==bb.length){var xb=a.getRenderTarget(),oc=a.getActiveCubeFace(),Ib=a.getActiveMipmapLevel(),$b=a.state;$b.setBlending(0);$b.buffers.color.setClear(1,1,1,1);$b.buffers.depth.setTest(!0);
$b.setScissorTest(!1);for(let Gc=0,Kc=bb.length;Gc<Kc;Gc++){var bc=bb[Gc];const Ic=bc.shadow;if(void 0===Ic)console.warn("THREE.WebGLShadowMap:",bc,"has no shadow.");else if(!1!==Ic.autoUpdate||!1!==Ic.needsUpdate){L.copy(Ic.mapSize);var ac=Ic.getFrameExtents();L.multiply(ac);R.copy(Ic.mapSize);if(L.x>qa||L.y>qa)L.x>qa&&(R.x=Math.floor(qa/ac.x),L.x=R.x*ac.x,Ic.mapSize.x=R.x),L.y>qa&&(R.y=Math.floor(qa/ac.y),L.y=R.y*ac.y,Ic.mapSize.y=R.y);null===Ic.map&&(Ic.map=new Pf(L.x,L.y,3!==this.type?{minFilter:1003,
magFilter:1003}:{}),Ic.map.texture.name=bc.name+".shadowMap",Ic.camera.updateProjectionMatrix());a.setRenderTarget(Ic.map);a.clear();ac=Ic.getViewportCount();for(var Pc=0;Pc<ac;Pc++){const td=Ic.getViewport(Pc);V.set(R.x*td.x,R.y*td.y,R.x*td.z,R.y*td.w);$b.viewport(V);Ic.updateMatrices(bc,Pc);I=Ic.getFrustum();z(Gb,Tb,Ic.camera,bc,this.type)}!0!==Ic.isPointLightShadow&&3===this.type&&(bc=Ic,ac=Tb,Pc=e.update(La),Fa.defines.VSM_SAMPLES!==bc.blurSamples&&(Fa.defines.VSM_SAMPLES=bc.blurSamples,ia.defines.VSM_SAMPLES=
bc.blurSamples,Fa.needsUpdate=!0,ia.needsUpdate=!0),null===bc.mapPass&&(bc.mapPass=new Pf(L.x,L.y)),Fa.uniforms.shadow_pass.value=bc.map.texture,Fa.uniforms.resolution.value=bc.mapSize,Fa.uniforms.radius.value=bc.radius,a.setRenderTarget(bc.mapPass),a.clear(),a.renderBufferDirect(ac,null,Pc,Fa,La,null),ia.uniforms.shadow_pass.value=bc.mapPass.texture,ia.uniforms.resolution.value=bc.mapSize,ia.uniforms.radius.value=bc.radius,a.setRenderTarget(bc.map),a.clear(),a.renderBufferDirect(ac,null,Pc,ia,La,
null));Ic.needsUpdate=!1}}zb.needsUpdate=!1;a.setRenderTarget(xb,oc,Ib)}}}function mc(a,e,n){function v(ub,ec,wc){const Ec=new Uint8Array(4),Nc=a.createTexture();a.bindTexture(ub,Nc);a.texParameteri(ub,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(ub,a.TEXTURE_MAG_FILTER,a.NEAREST);for(ub=0;ub<wc;ub++)a.texImage2D(ec+ub,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,Ec);return Nc}function z(ub){!0!==La[ub]&&(a.enable(ub),La[ub]=!0)}function I(ub){!1!==La[ub]&&(a.disable(ub),La[ub]=!1)}function L(ub,ec,wc,
Ec,Nc,wd,Bd,Ae){if(0===ub)!0===xb&&(I(a.BLEND),xb=!1);else if(!1===xb&&(z(a.BLEND),xb=!0),5!==ub){if(ub!==oc||Ae!==Kc){if(100!==Ib||100!==ac)a.blendEquation(a.FUNC_ADD),ac=Ib=100;if(Ae)switch(ub){case 1:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.ONE,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",
ub)}else switch(ub){case 1:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ub)}Gc=Pc=bc=$b=null;oc=ub;Kc=Ae}}else{Nc=Nc||ec;wd=wd||wc;Bd=Bd||Ec;if(ec!==Ib||Nc!==ac)a.blendEquationSeparate(Ob[ec],Ob[Nc]),Ib=ec,ac=Nc;if(wc!==$b||Ec!==bc||
wd!==Pc||Bd!==Gc)a.blendFuncSeparate(dd[wc],dd[Ec],dd[wd],dd[Bd]),$b=wc,bc=Ec,Pc=wd,Gc=Bd;oc=ub;Kc=!1}}function R(ub){Ic!==ub&&(ub?a.frontFace(a.CW):a.frontFace(a.CCW),Ic=ub)}function V(ub){0!==ub?(z(a.CULL_FACE),ub!==td&&(1===ub?a.cullFace(a.BACK):2===ub?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):I(a.CULL_FACE);td=ub}function Y(ub,ec,wc){if(ub){if(z(a.POLYGON_OFFSET_FILL),Sd!==ec||ce!==wc)a.polygonOffset(ec,wc),Sd=ec,ce=wc}else I(a.POLYGON_OFFSET_FILL)}const ja=n.isWebGL2,ka=new function(){let ub=
!1;const ec=new Be;let wc=null;const Ec=new Be(0,0,0,0);return{setMask:function(Nc){wc===Nc||ub||(a.colorMask(Nc,Nc,Nc,Nc),wc=Nc)},setLocked:function(Nc){ub=Nc},setClear:function(Nc,wd,Bd,Ae,Zb){!0===Zb&&(Nc*=Ae,wd*=Ae,Bd*=Ae);ec.set(Nc,wd,Bd,Ae);!1===Ec.equals(ec)&&(a.clearColor(Nc,wd,Bd,Ae),Ec.copy(ec))},reset:function(){ub=!1;wc=null;Ec.set(-1,0,0,0)}}},qa=new function(){let ub=!1,ec=null,wc=null,Ec=null;return{setTest:function(Nc){Nc?z(a.DEPTH_TEST):I(a.DEPTH_TEST)},setMask:function(Nc){ec===
Nc||ub||(a.depthMask(Nc),ec=Nc)},setFunc:function(Nc){if(wc!==Nc){switch(Nc){case 0:a.depthFunc(a.NEVER);break;case 1:a.depthFunc(a.ALWAYS);break;case 2:a.depthFunc(a.LESS);break;case 3:a.depthFunc(a.LEQUAL);break;case 4:a.depthFunc(a.EQUAL);break;case 5:a.depthFunc(a.GEQUAL);break;case 6:a.depthFunc(a.GREATER);break;case 7:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}wc=Nc}},setLocked:function(Nc){ub=Nc},setClear:function(Nc){Ec!==Nc&&(a.clearDepth(Nc),Ec=Nc)},reset:function(){ub=
!1;Ec=wc=ec=null}}},Ga=new function(){let ub=!1,ec=null,wc=null,Ec=null,Nc=null,wd=null,Bd=null,Ae=null,Zb=null;return{setTest:function(ae){ub||(ae?z(a.STENCIL_TEST):I(a.STENCIL_TEST))},setMask:function(ae){ec===ae||ub||(a.stencilMask(ae),ec=ae)},setFunc:function(ae,Je,xe){if(wc!==ae||Ec!==Je||Nc!==xe)a.stencilFunc(ae,Je,xe),wc=ae,Ec=Je,Nc=xe},setOp:function(ae,Je,xe){if(wd!==ae||Bd!==Je||Ae!==xe)a.stencilOp(ae,Je,xe),wd=ae,Bd=Je,Ae=xe},setLocked:function(ae){ub=ae},setClear:function(ae){Zb!==ae&&
(a.clearStencil(ae),Zb=ae)},reset:function(){ub=!1;Zb=Ae=Bd=wd=Nc=Ec=wc=ec=null}}},Fa=new WeakMap,ia=new WeakMap;let La={},zb={},bb=new WeakMap,Gb=[],Tb=null,xb=!1,oc=null,Ib=null,$b=null,bc=null,ac=null,Pc=null,Gc=null,Kc=!1,Ic=null,td=null,Fd=null,Sd=null,ce=null;const Mc=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ld=!1;var pd=0;pd=a.getParameter(a.VERSION);-1!==pd.indexOf("WebGL")?(pd=parseFloat(/^WebGL (\d)/.exec(pd)[1]),ld=1<=pd):-1!==pd.indexOf("OpenGL ES")&&(pd=parseFloat(/^OpenGL ES (\d)/.exec(pd)[1]),
ld=2<=pd);let Pd=null,Ed={};pd=a.getParameter(a.SCISSOR_BOX);const Xa=a.getParameter(a.VIEWPORT),Oa=(new Be).fromArray(pd),qb=(new Be).fromArray(Xa),vb={};vb[a.TEXTURE_2D]=v(a.TEXTURE_2D,a.TEXTURE_2D,1);vb[a.TEXTURE_CUBE_MAP]=v(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);ka.setClear(0,0,0,1);qa.setClear(1);Ga.setClear(0);z(a.DEPTH_TEST);qa.setFunc(3);R(!1);V(1);z(a.CULL_FACE);L(0);const Ob={[100]:a.FUNC_ADD,[101]:a.FUNC_SUBTRACT,[102]:a.FUNC_REVERSE_SUBTRACT};ja?(Ob[103]=a.MIN,Ob[104]=a.MAX):
(pd=e.get("EXT_blend_minmax"),null!==pd&&(Ob[103]=pd.MIN_EXT,Ob[104]=pd.MAX_EXT));const dd={[200]:a.ZERO,[201]:a.ONE,[202]:a.SRC_COLOR,[204]:a.SRC_ALPHA,[210]:a.SRC_ALPHA_SATURATE,[208]:a.DST_COLOR,[206]:a.DST_ALPHA,[203]:a.ONE_MINUS_SRC_COLOR,[205]:a.ONE_MINUS_SRC_ALPHA,[209]:a.ONE_MINUS_DST_COLOR,[207]:a.ONE_MINUS_DST_ALPHA};return{buffers:{color:ka,depth:qa,stencil:Ga},enable:z,disable:I,bindFramebuffer:function(ub,ec){return zb[ub]!==ec?(a.bindFramebuffer(ub,ec),zb[ub]=ec,ja&&(ub===a.DRAW_FRAMEBUFFER&&
(zb[a.FRAMEBUFFER]=ec),ub===a.FRAMEBUFFER&&(zb[a.DRAW_FRAMEBUFFER]=ec)),!0):!1},drawBuffers:function(ub,ec){let wc=Gb,Ec=!1;if(ub)if(wc=bb.get(ec),void 0===wc&&(wc=[],bb.set(ec,wc)),ub.isWebGLMultipleRenderTargets){if(ub=ub.texture,wc.length!==ub.length||wc[0]!==a.COLOR_ATTACHMENT0){for(let Nc=0,wd=ub.length;Nc<wd;Nc++)wc[Nc]=a.COLOR_ATTACHMENT0+Nc;wc.length=ub.length;Ec=!0}}else wc[0]!==a.COLOR_ATTACHMENT0&&(wc[0]=a.COLOR_ATTACHMENT0,Ec=!0);else wc[0]!==a.BACK&&(wc[0]=a.BACK,Ec=!0);Ec&&(n.isWebGL2?
a.drawBuffers(wc):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(wc))},useProgram:function(ub){return Tb!==ub?(a.useProgram(ub),Tb=ub,!0):!1},setBlending:L,setMaterial:function(ub,ec){2===ub.side?I(a.CULL_FACE):z(a.CULL_FACE);let wc=1===ub.side;ec&&(wc=!wc);R(wc);1===ub.blending&&!1===ub.transparent?L(0):L(ub.blending,ub.blendEquation,ub.blendSrc,ub.blendDst,ub.blendEquationAlpha,ub.blendSrcAlpha,ub.blendDstAlpha,ub.premultipliedAlpha);qa.setFunc(ub.depthFunc);qa.setTest(ub.depthTest);qa.setMask(ub.depthWrite);
ka.setMask(ub.colorWrite);ec=ub.stencilWrite;Ga.setTest(ec);ec&&(Ga.setMask(ub.stencilWriteMask),Ga.setFunc(ub.stencilFunc,ub.stencilRef,ub.stencilFuncMask),Ga.setOp(ub.stencilFail,ub.stencilZFail,ub.stencilZPass));Y(ub.polygonOffset,ub.polygonOffsetFactor,ub.polygonOffsetUnits);!0===ub.alphaToCoverage?z(a.SAMPLE_ALPHA_TO_COVERAGE):I(a.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:R,setCullFace:V,setLineWidth:function(ub){ub!==Fd&&(ld&&a.lineWidth(ub),Fd=ub)},setPolygonOffset:Y,setScissorTest:function(ub){ub?
z(a.SCISSOR_TEST):I(a.SCISSOR_TEST)},activeTexture:function(ub){void 0===ub&&(ub=a.TEXTURE0+Mc-1);Pd!==ub&&(a.activeTexture(ub),Pd=ub)},bindTexture:function(ub,ec,wc){void 0===wc&&(wc=null===Pd?a.TEXTURE0+Mc-1:Pd);let Ec=Ed[wc];void 0===Ec&&(Ec={type:void 0,texture:void 0},Ed[wc]=Ec);if(Ec.type!==ub||Ec.texture!==ec)Pd!==wc&&(a.activeTexture(wc),Pd=wc),a.bindTexture(ub,ec||vb[ub]),Ec.type=ub,Ec.texture=ec},unbindTexture:function(){const ub=Ed[Pd];void 0!==ub&&void 0!==ub.type&&(a.bindTexture(ub.type,
null),ub.type=void 0,ub.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},compressedTexImage3D:function(){try{a.compressedTexImage3D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",
ub)}},updateUBOMapping:function(ub,ec){let wc=ia.get(ec);void 0===wc&&(wc=new WeakMap,ia.set(ec,wc));let Ec=wc.get(ub);void 0===Ec&&(Ec=a.getUniformBlockIndex(ec,ub.name),wc.set(ub,Ec))},uniformBlockBinding:function(ub,ec){const wc=ia.get(ec).get(ub);Fa.get(ec)!==wc&&(a.uniformBlockBinding(ec,wc,ub.__bindingPointIndex),Fa.set(ec,wc))},texStorage2D:function(){try{a.texStorage2D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},texStorage3D:function(){try{a.texStorage3D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",
ub)}},texSubImage2D:function(){try{a.texSubImage2D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},texSubImage3D:function(){try{a.texSubImage3D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},compressedTexSubImage2D:function(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},compressedTexSubImage3D:function(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(ub){console.error("THREE.WebGLState:",ub)}},
scissor:function(ub){!1===Oa.equals(ub)&&(a.scissor(ub.x,ub.y,ub.z,ub.w),Oa.copy(ub))},viewport:function(ub){!1===qb.equals(ub)&&(a.viewport(ub.x,ub.y,ub.z,ub.w),qb.copy(ub))},reset:function(){a.disable(a.BLEND);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);a.disable(a.POLYGON_OFFSET_FILL);a.disable(a.SCISSOR_TEST);a.disable(a.STENCIL_TEST);a.disable(a.SAMPLE_ALPHA_TO_COVERAGE);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.ONE,a.ZERO);a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO);a.colorMask(!0,!0,
!0,!0);a.clearColor(0,0,0,0);a.depthMask(!0);a.depthFunc(a.LESS);a.clearDepth(1);a.stencilMask(4294967295);a.stencilFunc(a.ALWAYS,0,4294967295);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.clearStencil(0);a.cullFace(a.BACK);a.frontFace(a.CCW);a.polygonOffset(0,0);a.activeTexture(a.TEXTURE0);a.bindFramebuffer(a.FRAMEBUFFER,null);!0===ja&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null));a.useProgram(null);a.lineWidth(1);a.scissor(0,0,a.canvas.width,a.canvas.height);a.viewport(0,
0,a.canvas.width,a.canvas.height);La={};Pd=null;Ed={};zb={};bb=new WeakMap;Gb=[];Tb=null;xb=!1;Gc=Pc=ac=bc=$b=Ib=oc=null;Kc=!1;ce=Sd=Fd=td=Ic=null;Oa.set(0,0,a.canvas.width,a.canvas.height);qb.set(0,0,a.canvas.width,a.canvas.height);ka.reset();qa.reset();Ga.reset()}}}function Zc(a,e,n,v,z,I,L){function R(Xa,Oa,qb,vb){var Ob=1;if(Xa.width>vb||Xa.height>vb)Ob=vb/Math.max(Xa.width,Xa.height);if(1>Ob||!0===Oa){if("undefined"!==typeof HTMLImageElement&&Xa instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&
Xa instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&Xa instanceof ImageBitmap)return vb=Oa?l:Math.floor,Oa=vb(Ob*Xa.width),Ob=vb(Ob*Xa.height),void 0===ce&&(ce=ld?new OffscreenCanvas(Oa,Ob):A("canvas")),qb=qb?ld?new OffscreenCanvas(Oa,Ob):A("canvas"):ce,qb.width=Oa,qb.height=Ob,qb.getContext("2d").drawImage(Xa,0,0,Oa,Ob),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Xa.width+"x"+Xa.height+") to ("+Oa+"x"+Ob+")."),qb;"data"in Xa&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+
Xa.width+"x"+Xa.height+").")}return Xa}function V(Xa){return g(Xa.width)&&g(Xa.height)}function Y(Xa,Oa){return Xa.generateMipmaps&&Oa&&1003!==Xa.minFilter&&1006!==Xa.minFilter}function ja(Xa,Oa,qb,vb,Ob=!1){if(!1===ac)return Oa;if(null!==Xa){if(void 0!==a[Xa])return a[Xa];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Xa+"'")}Xa=Oa;Oa===a.RED&&(qb===a.FLOAT&&(Xa=a.R32F),qb===a.HALF_FLOAT&&(Xa=a.R16F),qb===a.UNSIGNED_BYTE&&(Xa=a.R8));Oa===a.RG&&(qb===a.FLOAT&&
(Xa=a.RG32F),qb===a.HALF_FLOAT&&(Xa=a.RG16F),qb===a.UNSIGNED_BYTE&&(Xa=a.RG8));Oa===a.RGBA&&(qb===a.FLOAT&&(Xa=a.RGBA32F),qb===a.HALF_FLOAT&&(Xa=a.RGBA16F),qb===a.UNSIGNED_BYTE&&(Xa=3001===vb&&!1===Ob?a.SRGB8_ALPHA8:a.RGBA8),qb===a.UNSIGNED_SHORT_4_4_4_4&&(Xa=a.RGBA4),qb===a.UNSIGNED_SHORT_5_5_5_1&&(Xa=a.RGB5_A1));Xa!==a.R16F&&Xa!==a.R32F&&Xa!==a.RG16F&&Xa!==a.RG32F&&Xa!==a.RGBA16F&&Xa!==a.RGBA32F||e.get("EXT_color_buffer_float");return Xa}function ka(Xa,Oa,qb){return!0===Y(Xa,qb)||Xa.isFramebufferTexture&&
1003!==Xa.minFilter&&1006!==Xa.minFilter?Math.log2(Math.max(Oa.width,Oa.height))+1:void 0!==Xa.mipmaps&&0<Xa.mipmaps.length?Xa.mipmaps.length:Xa.isCompressedTexture&&Array.isArray(Xa.image)?Oa.mipmaps.length:1}function qa(Xa){return 1003===Xa||1004===Xa||1005===Xa?a.NEAREST:a.LINEAR}function Ga(Xa){Xa=Xa.target;Xa.removeEventListener("dispose",Ga);var Oa=v.get(Xa);if(void 0!==Oa.__webglInit){var qb=Xa.source,vb=Mc.get(qb);vb&&(Oa=vb[Oa.__cacheKey],Oa.usedTimes--,0===Oa.usedTimes&&ia(Xa),0===Object.keys(vb).length&&
Mc.delete(qb));v.remove(Xa)}Xa.isVideoTexture&&Sd.delete(Xa)}function Fa(Xa){Xa=Xa.target;Xa.removeEventListener("dispose",Fa);const Oa=Xa.texture;var qb=v.get(Xa),vb=v.get(Oa);void 0!==vb.__webglTexture&&(a.deleteTexture(vb.__webglTexture),L.memory.textures--);Xa.depthTexture&&Xa.depthTexture.dispose();if(Xa.isWebGLCubeRenderTarget)for(vb=0;6>vb;vb++)a.deleteFramebuffer(qb.__webglFramebuffer[vb]),qb.__webglDepthbuffer&&a.deleteRenderbuffer(qb.__webglDepthbuffer[vb]);else{a.deleteFramebuffer(qb.__webglFramebuffer);
qb.__webglDepthbuffer&&a.deleteRenderbuffer(qb.__webglDepthbuffer);qb.__webglMultisampledFramebuffer&&a.deleteFramebuffer(qb.__webglMultisampledFramebuffer);if(qb.__webglColorRenderbuffer)for(vb=0;vb<qb.__webglColorRenderbuffer.length;vb++)qb.__webglColorRenderbuffer[vb]&&a.deleteRenderbuffer(qb.__webglColorRenderbuffer[vb]);qb.__webglDepthRenderbuffer&&a.deleteRenderbuffer(qb.__webglDepthRenderbuffer)}if(Xa.isWebGLMultipleRenderTargets)for(let Ob=0,dd=Oa.length;Ob<dd;Ob++)qb=v.get(Oa[Ob]),qb.__webglTexture&&
(a.deleteTexture(qb.__webglTexture),L.memory.textures--),v.remove(Oa[Ob]);v.remove(Oa);v.remove(Xa)}function ia(Xa){const Oa=v.get(Xa);a.deleteTexture(Oa.__webglTexture);delete Mc.get(Xa.source)[Oa.__cacheKey];L.memory.textures--}function La(Xa,Oa){const qb=v.get(Xa);if(Xa.isVideoTexture){var vb=L.render.frame;Sd.get(Xa)!==vb&&(Sd.set(Xa,vb),Xa.update())}if(!1===Xa.isRenderTargetTexture&&0<Xa.version&&qb.__version!==Xa.version)if(vb=Xa.image,null===vb)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");
else if(!1===vb.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Gb(qb,Xa,Oa);return}n.bindTexture(a.TEXTURE_2D,qb.__webglTexture,a.TEXTURE0+Oa)}function zb(Xa,Oa,qb){qb?(a.texParameteri(Xa,a.TEXTURE_WRAP_S,Pd[Oa.wrapS]),a.texParameteri(Xa,a.TEXTURE_WRAP_T,Pd[Oa.wrapT]),Xa!==a.TEXTURE_3D&&Xa!==a.TEXTURE_2D_ARRAY||a.texParameteri(Xa,a.TEXTURE_WRAP_R,Pd[Oa.wrapR]),a.texParameteri(Xa,a.TEXTURE_MAG_FILTER,Ed[Oa.magFilter]),a.texParameteri(Xa,a.TEXTURE_MIN_FILTER,
Ed[Oa.minFilter])):(a.texParameteri(Xa,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(Xa,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),Xa!==a.TEXTURE_3D&&Xa!==a.TEXTURE_2D_ARRAY||a.texParameteri(Xa,a.TEXTURE_WRAP_R,a.CLAMP_TO_EDGE),1001===Oa.wrapS&&1001===Oa.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(Xa,a.TEXTURE_MAG_FILTER,qa(Oa.magFilter)),a.texParameteri(Xa,a.TEXTURE_MIN_FILTER,qa(Oa.minFilter)),
1003!==Oa.minFilter&&1006!==Oa.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));!0===e.has("EXT_texture_filter_anisotropic")&&(qb=e.get("EXT_texture_filter_anisotropic"),1003===Oa.magFilter||1005!==Oa.minFilter&&1008!==Oa.minFilter||1015===Oa.type&&!1===e.has("OES_texture_float_linear")||!1===ac&&1016===Oa.type&&!1===e.has("OES_texture_half_float_linear")||!(1<Oa.anisotropy||v.get(Oa).__currentAnisotropy)||
(a.texParameterf(Xa,qb.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Oa.anisotropy,z.getMaxAnisotropy())),v.get(Oa).__currentAnisotropy=Oa.anisotropy))}function bb(Xa,Oa){let qb=!1;void 0===Xa.__webglInit&&(Xa.__webglInit=!0,Oa.addEventListener("dispose",Ga));var vb=Oa.source;let Ob=Mc.get(vb);void 0===Ob&&(Ob={},Mc.set(vb,Ob));vb=[];vb.push(Oa.wrapS);vb.push(Oa.wrapT);vb.push(Oa.wrapR||0);vb.push(Oa.magFilter);vb.push(Oa.minFilter);vb.push(Oa.anisotropy);vb.push(Oa.internalFormat);vb.push(Oa.format);vb.push(Oa.type);
vb.push(Oa.generateMipmaps);vb.push(Oa.premultiplyAlpha);vb.push(Oa.flipY);vb.push(Oa.unpackAlignment);vb.push(Oa.encoding);vb=vb.join();if(vb!==Xa.__cacheKey){void 0===Ob[vb]&&(Ob[vb]={texture:a.createTexture(),usedTimes:0},L.memory.textures++,qb=!0);Ob[vb].usedTimes++;const dd=Ob[Xa.__cacheKey];void 0!==dd&&(Ob[Xa.__cacheKey].usedTimes--,0===dd.usedTimes&&ia(Oa));Xa.__cacheKey=vb;Xa.__webglTexture=Ob[vb].texture}return qb}function Gb(Xa,Oa,qb){let vb=a.TEXTURE_2D;if(Oa.isDataArrayTexture||Oa.isCompressedArrayTexture)vb=
a.TEXTURE_2D_ARRAY;Oa.isData3DTexture&&(vb=a.TEXTURE_3D);var Ob=bb(Xa,Oa);const dd=Oa.source;n.bindTexture(vb,Xa.__webglTexture,a.TEXTURE0+qb);const ub=v.get(dd);if(dd.version!==ub.__version||!0===Ob){n.activeTexture(a.TEXTURE0+qb);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,Oa.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Oa.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,Oa.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);qb=ac?!1:1001!==Oa.wrapS||1001!==Oa.wrapT||
1003!==Oa.minFilter&&1006!==Oa.minFilter;qb=qb&&!1===V(Oa.image);var ec=R(Oa.image,qb,!1,Kc);ec=bc(Oa,ec);qb=V(ec)||ac;const Nc=I.convert(Oa.format,Oa.encoding);let wd=I.convert(Oa.type),Bd=ja(Oa.internalFormat,Nc,wd,Oa.encoding,Oa.isVideoTexture);zb(vb,Oa,qb);var wc=Oa.mipmaps,Ec=ac&&!0!==Oa.isVideoTexture;const Ae=void 0===ub.__version||!0===Ob;Ob=ka(Oa,ec,qb);if(Oa.isDepthTexture)Bd=a.DEPTH_COMPONENT,ac?Bd=1015===Oa.type?a.DEPTH_COMPONENT32F:1014===Oa.type?a.DEPTH_COMPONENT24:1020===Oa.type?a.DEPTH24_STENCIL8:
a.DEPTH_COMPONENT16:1015===Oa.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===Oa.format&&Bd===a.DEPTH_COMPONENT&&1012!==Oa.type&&1014!==Oa.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Oa.type=1014,wd=I.convert(Oa.type)),1027===Oa.format&&Bd===a.DEPTH_COMPONENT&&(Bd=a.DEPTH_STENCIL,1020!==Oa.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),
Oa.type=1020,wd=I.convert(Oa.type))),Ae&&(Ec?n.texStorage2D(a.TEXTURE_2D,1,Bd,ec.width,ec.height):n.texImage2D(a.TEXTURE_2D,0,Bd,ec.width,ec.height,0,Nc,wd,null));else if(Oa.isDataTexture)if(0<wc.length&&qb){Ec&&Ae&&n.texStorage2D(a.TEXTURE_2D,Ob,Bd,wc[0].width,wc[0].height);for(let Zb=0,ae=wc.length;Zb<ae;Zb++)Ob=wc[Zb],Ec?n.texSubImage2D(a.TEXTURE_2D,Zb,0,0,Ob.width,Ob.height,Nc,wd,Ob.data):n.texImage2D(a.TEXTURE_2D,Zb,Bd,Ob.width,Ob.height,0,Nc,wd,Ob.data);Oa.generateMipmaps=!1}else Ec?(Ae&&n.texStorage2D(a.TEXTURE_2D,
Ob,Bd,ec.width,ec.height),n.texSubImage2D(a.TEXTURE_2D,0,0,0,ec.width,ec.height,Nc,wd,ec.data)):n.texImage2D(a.TEXTURE_2D,0,Bd,ec.width,ec.height,0,Nc,wd,ec.data);else if(Oa.isCompressedTexture)if(Oa.isCompressedArrayTexture){Ec&&Ae&&n.texStorage3D(a.TEXTURE_2D_ARRAY,Ob,Bd,wc[0].width,wc[0].height,ec.depth);for(let Zb=0,ae=wc.length;Zb<ae;Zb++)Ob=wc[Zb],1023!==Oa.format?null!==Nc?Ec?n.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,Zb,0,0,0,Ob.width,Ob.height,ec.depth,Nc,Ob.data,0,0):n.compressedTexImage3D(a.TEXTURE_2D_ARRAY,
Zb,Bd,Ob.width,Ob.height,ec.depth,0,Ob.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ec?n.texSubImage3D(a.TEXTURE_2D_ARRAY,Zb,0,0,0,Ob.width,Ob.height,ec.depth,Nc,wd,Ob.data):n.texImage3D(a.TEXTURE_2D_ARRAY,Zb,Bd,Ob.width,Ob.height,ec.depth,0,Nc,wd,Ob.data)}else{Ec&&Ae&&n.texStorage2D(a.TEXTURE_2D,Ob,Bd,wc[0].width,wc[0].height);for(let Zb=0,ae=wc.length;Zb<ae;Zb++)Ob=wc[Zb],1023!==Oa.format?null!==Nc?Ec?n.compressedTexSubImage2D(a.TEXTURE_2D,
Zb,0,0,Ob.width,Ob.height,Nc,Ob.data):n.compressedTexImage2D(a.TEXTURE_2D,Zb,Bd,Ob.width,Ob.height,0,Ob.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ec?n.texSubImage2D(a.TEXTURE_2D,Zb,0,0,Ob.width,Ob.height,Nc,wd,Ob.data):n.texImage2D(a.TEXTURE_2D,Zb,Bd,Ob.width,Ob.height,0,Nc,wd,Ob.data)}else if(Oa.isDataArrayTexture)Ec?(Ae&&n.texStorage3D(a.TEXTURE_2D_ARRAY,Ob,Bd,ec.width,ec.height,ec.depth),n.texSubImage3D(a.TEXTURE_2D_ARRAY,
0,0,0,0,ec.width,ec.height,ec.depth,Nc,wd,ec.data)):n.texImage3D(a.TEXTURE_2D_ARRAY,0,Bd,ec.width,ec.height,ec.depth,0,Nc,wd,ec.data);else if(Oa.isData3DTexture)Ec?(Ae&&n.texStorage3D(a.TEXTURE_3D,Ob,Bd,ec.width,ec.height,ec.depth),n.texSubImage3D(a.TEXTURE_3D,0,0,0,0,ec.width,ec.height,ec.depth,Nc,wd,ec.data)):n.texImage3D(a.TEXTURE_3D,0,Bd,ec.width,ec.height,ec.depth,0,Nc,wd,ec.data);else if(Oa.isFramebufferTexture){if(Ae)if(Ec)n.texStorage2D(a.TEXTURE_2D,Ob,Bd,ec.width,ec.height);else for(wc=ec.width,
ec=ec.height,Ec=0;Ec<Ob;Ec++)n.texImage2D(a.TEXTURE_2D,Ec,Bd,wc,ec,0,Nc,wd,null),wc>>=1,ec>>=1}else if(0<wc.length&&qb){Ec&&Ae&&n.texStorage2D(a.TEXTURE_2D,Ob,Bd,wc[0].width,wc[0].height);for(let Zb=0,ae=wc.length;Zb<ae;Zb++)Ob=wc[Zb],Ec?n.texSubImage2D(a.TEXTURE_2D,Zb,0,0,Nc,wd,Ob):n.texImage2D(a.TEXTURE_2D,Zb,Bd,Nc,wd,Ob);Oa.generateMipmaps=!1}else Ec?(Ae&&n.texStorage2D(a.TEXTURE_2D,Ob,Bd,ec.width,ec.height),n.texSubImage2D(a.TEXTURE_2D,0,0,0,Nc,wd,ec)):n.texImage2D(a.TEXTURE_2D,0,Bd,Nc,wd,ec);
Y(Oa,qb)&&a.generateMipmap(vb);ub.__version=dd.version;if(Oa.onUpdate)Oa.onUpdate(Oa)}Xa.__version=Oa.version}function Tb(Xa,Oa,qb,vb,Ob){const dd=I.convert(qb.format,qb.encoding),ub=I.convert(qb.type),ec=ja(qb.internalFormat,dd,ub,qb.encoding);v.get(Oa).__hasExternalTextures||(Ob===a.TEXTURE_3D||Ob===a.TEXTURE_2D_ARRAY?n.texImage3D(Ob,0,ec,Oa.width,Oa.height,Oa.depth,0,dd,ub,null):n.texImage2D(Ob,0,ec,Oa.width,Oa.height,0,dd,ub,null));n.bindFramebuffer(a.FRAMEBUFFER,Xa);$b(Oa)?td.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,
vb,Ob,v.get(qb).__webglTexture,0,Ib(Oa)):(Ob===a.TEXTURE_2D||Ob>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&Ob<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,vb,Ob,v.get(qb).__webglTexture,0);n.bindFramebuffer(a.FRAMEBUFFER,null)}function xb(Xa,Oa,qb){a.bindRenderbuffer(a.RENDERBUFFER,Xa);if(Oa.depthBuffer&&!Oa.stencilBuffer){var vb=a.DEPTH_COMPONENT16;qb||$b(Oa)?((qb=Oa.depthTexture)&&qb.isDepthTexture&&(1015===qb.type?vb=a.DEPTH_COMPONENT32F:1014===qb.type&&(vb=a.DEPTH_COMPONENT24)),
qb=Ib(Oa),$b(Oa)?td.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,qb,vb,Oa.width,Oa.height):a.renderbufferStorageMultisample(a.RENDERBUFFER,qb,vb,Oa.width,Oa.height)):a.renderbufferStorage(a.RENDERBUFFER,vb,Oa.width,Oa.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,Xa)}else if(Oa.depthBuffer&&Oa.stencilBuffer)vb=Ib(Oa),qb&&!1===$b(Oa)?a.renderbufferStorageMultisample(a.RENDERBUFFER,vb,a.DEPTH24_STENCIL8,Oa.width,Oa.height):$b(Oa)?td.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,
vb,a.DEPTH24_STENCIL8,Oa.width,Oa.height):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,Oa.width,Oa.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,Xa);else for(Xa=!0===Oa.isWebGLMultipleRenderTargets?Oa.texture:[Oa.texture],vb=0;vb<Xa.length;vb++){var Ob=Xa[vb],dd=I.convert(Ob.format,Ob.encoding);const ub=I.convert(Ob.type);Ob=ja(Ob.internalFormat,dd,ub,Ob.encoding);dd=Ib(Oa);qb&&!1===$b(Oa)?a.renderbufferStorageMultisample(a.RENDERBUFFER,dd,Ob,Oa.width,
Oa.height):$b(Oa)?td.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,dd,Ob,Oa.width,Oa.height):a.renderbufferStorage(a.RENDERBUFFER,Ob,Oa.width,Oa.height)}a.bindRenderbuffer(a.RENDERBUFFER,null)}function oc(Xa){var Oa=v.get(Xa),qb=!0===Xa.isWebGLCubeRenderTarget;if(Xa.depthTexture&&!Oa.__autoAllocateDepthBuffer){if(qb)throw Error("target.depthTexture not supported in Cube render targets");if(Xa&&Xa.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");n.bindFramebuffer(a.FRAMEBUFFER,
Oa.__webglFramebuffer);if(!Xa.depthTexture||!Xa.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");v.get(Xa.depthTexture).__webglTexture&&Xa.depthTexture.image.width===Xa.width&&Xa.depthTexture.image.height===Xa.height||(Xa.depthTexture.image.width=Xa.width,Xa.depthTexture.image.height=Xa.height,Xa.depthTexture.needsUpdate=!0);La(Xa.depthTexture,0);Oa=v.get(Xa.depthTexture).__webglTexture;qb=Ib(Xa);if(1026===Xa.depthTexture.format)$b(Xa)?
td.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Oa,0,qb):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Oa,0);else if(1027===Xa.depthTexture.format)$b(Xa)?td.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Oa,0,qb):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Oa,0);else throw Error("Unknown depthTexture format");}else if(qb)for(Oa.__webglDepthbuffer=[],qb=0;6>qb;qb++)n.bindFramebuffer(a.FRAMEBUFFER,
Oa.__webglFramebuffer[qb]),Oa.__webglDepthbuffer[qb]=a.createRenderbuffer(),xb(Oa.__webglDepthbuffer[qb],Xa,!1);else n.bindFramebuffer(a.FRAMEBUFFER,Oa.__webglFramebuffer),Oa.__webglDepthbuffer=a.createRenderbuffer(),xb(Oa.__webglDepthbuffer,Xa,!1);n.bindFramebuffer(a.FRAMEBUFFER,null)}function Ib(Xa){return Math.min(Ic,Xa.samples)}function $b(Xa){const Oa=v.get(Xa);return ac&&0<Xa.samples&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Oa.__useRenderToTexture}function bc(Xa,Oa){const qb=
Xa.encoding,vb=Xa.format,Ob=Xa.type;if(!0===Xa.isCompressedTexture||!0===Xa.isVideoTexture||1035===Xa.format)return Oa;3E3!==qb&&(3001===qb?!1===ac?!0===e.has("EXT_sRGB")&&1023===vb?(Xa.format=1035,Xa.minFilter=1006,Xa.generateMipmaps=!1):Oa=Hf.sRGBToLinear(Oa):1023===vb&&1009===Ob||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",qb));return Oa}const ac=z.isWebGL2,Pc=z.maxTextures,
Gc=z.maxCubemapSize,Kc=z.maxTextureSize,Ic=z.maxSamples,td=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,Fd="undefined"===typeof navigator?!1:/OculusBrowser/g.test(navigator.userAgent),Sd=new WeakMap;let ce;const Mc=new WeakMap;let ld=!1;try{ld="undefined"!==typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(Xa){}let pd=0;const Pd={[1E3]:a.REPEAT,[1001]:a.CLAMP_TO_EDGE,[1002]:a.MIRRORED_REPEAT},Ed={[1003]:a.NEAREST,[1004]:a.NEAREST_MIPMAP_NEAREST,
[1005]:a.NEAREST_MIPMAP_LINEAR,[1006]:a.LINEAR,[1007]:a.LINEAR_MIPMAP_NEAREST,[1008]:a.LINEAR_MIPMAP_LINEAR};this.allocateTextureUnit=function(){const Xa=pd;Xa>=Pc&&console.warn("THREE.WebGLTextures: Trying to use "+Xa+" texture units while this GPU supports only "+Pc);pd+=1;return Xa};this.resetTextureUnits=function(){pd=0};this.setTexture2D=La;this.setTexture2DArray=function(Xa,Oa){const qb=v.get(Xa);0<Xa.version&&qb.__version!==Xa.version?Gb(qb,Xa,Oa):n.bindTexture(a.TEXTURE_2D_ARRAY,qb.__webglTexture,
a.TEXTURE0+Oa)};this.setTexture3D=function(Xa,Oa){const qb=v.get(Xa);0<Xa.version&&qb.__version!==Xa.version?Gb(qb,Xa,Oa):n.bindTexture(a.TEXTURE_3D,qb.__webglTexture,a.TEXTURE0+Oa)};this.setTextureCube=function(Xa,Oa){const qb=v.get(Xa);if(0<Xa.version&&qb.__version!==Xa.version){if(6===Xa.image.length){var vb=bb(qb,Xa),Ob=Xa.source;n.bindTexture(a.TEXTURE_CUBE_MAP,qb.__webglTexture,a.TEXTURE0+Oa);var dd=v.get(Ob);if(Ob.version!==dd.__version||!0===vb){n.activeTexture(a.TEXTURE0+Oa);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,
Xa.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xa.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,Xa.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE);var ub=Xa.isCompressedTexture||Xa.image[0].isCompressedTexture,ec=Xa.image[0]&&Xa.image[0].isDataTexture;Oa=[];for(var wc=0;6>wc;wc++)Oa[wc]=ub||ec?ec?Xa.image[wc].image:Xa.image[wc]:R(Xa.image[wc],!1,!0,Gc),Oa[wc]=bc(Xa,Oa[wc]);var Ec=Oa[0];wc=V(Ec)||ac;const wd=I.convert(Xa.format,Xa.encoding),Bd=I.convert(Xa.type),
Ae=ja(Xa.internalFormat,wd,Bd,Xa.encoding),Zb=ac&&!0!==Xa.isVideoTexture;vb=void 0===dd.__version||!0===vb;var Nc=ka(Xa,Ec,wc);zb(a.TEXTURE_CUBE_MAP,Xa,wc);if(ub)for(Zb&&vb&&n.texStorage2D(a.TEXTURE_CUBE_MAP,Nc,Ae,Ec.width,Ec.height),ec=0;6>ec;ec++)for(ub=Oa[ec].mipmaps,vb=0;vb<ub.length;vb++)Ec=ub[vb],1023!==Xa.format?null!==wd?Zb?n.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ec,vb,0,0,Ec.width,Ec.height,wd,Ec.data):n.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ec,vb,Ae,Ec.width,
Ec.height,0,Ec.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Zb?n.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ec,vb,0,0,Ec.width,Ec.height,wd,Bd,Ec.data):n.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ec,vb,Ae,Ec.width,Ec.height,0,wd,Bd,Ec.data);else for(ub=Xa.mipmaps,Zb&&vb&&(0<ub.length&&Nc++,n.texStorage2D(a.TEXTURE_CUBE_MAP,Nc,Ae,Oa[0].width,Oa[0].height)),vb=0;6>vb;vb++)if(ec)for(Zb?n.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
vb,0,0,0,Oa[vb].width,Oa[vb].height,wd,Bd,Oa[vb].data):n.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+vb,0,Ae,Oa[vb].width,Oa[vb].height,0,wd,Bd,Oa[vb].data),Ec=0;Ec<ub.length;Ec++)Nc=ub[Ec].image[vb].image,Zb?n.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+vb,Ec+1,0,0,Nc.width,Nc.height,wd,Bd,Nc.data):n.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+vb,Ec+1,Ae,Nc.width,Nc.height,0,wd,Bd,Nc.data);else for(Zb?n.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+vb,0,0,0,wd,Bd,Oa[vb]):n.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
vb,0,Ae,wd,Bd,Oa[vb]),Ec=0;Ec<ub.length;Ec++)Nc=ub[Ec],Zb?n.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+vb,Ec+1,0,0,wd,Bd,Nc.image[vb]):n.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+vb,Ec+1,Ae,wd,Bd,Nc.image[vb]);Y(Xa,wc)&&a.generateMipmap(a.TEXTURE_CUBE_MAP);dd.__version=Ob.version;if(Xa.onUpdate)Xa.onUpdate(Xa)}qb.__version=Xa.version}}else n.bindTexture(a.TEXTURE_CUBE_MAP,qb.__webglTexture,a.TEXTURE0+Oa)};this.rebindTextures=function(Xa,Oa,qb){const vb=v.get(Xa);void 0!==Oa&&Tb(vb.__webglFramebuffer,
Xa,Xa.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D);void 0!==qb&&oc(Xa)};this.setupRenderTarget=function(Xa){var Oa=Xa.texture;const qb=v.get(Xa);var vb=v.get(Oa);Xa.addEventListener("dispose",Fa);!0!==Xa.isWebGLMultipleRenderTargets&&(void 0===vb.__webglTexture&&(vb.__webglTexture=a.createTexture()),vb.__version=Oa.version,L.memory.textures++);var Ob=!0===Xa.isWebGLCubeRenderTarget;const dd=!0===Xa.isWebGLMultipleRenderTargets,ub=V(Xa)||ac;if(Ob){qb.__webglFramebuffer=[];for(var ec=0;6>ec;ec++)qb.__webglFramebuffer[ec]=
a.createFramebuffer()}else{qb.__webglFramebuffer=a.createFramebuffer();if(dd)if(z.drawBuffers){ec=Xa.texture;for(let wd=0,Bd=ec.length;wd<Bd;wd++){var wc=v.get(ec[wd]);void 0===wc.__webglTexture&&(wc.__webglTexture=a.createTexture(),L.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(ac&&0<Xa.samples&&!1===$b(Xa)){ec=dd?Oa:[Oa];qb.__webglMultisampledFramebuffer=a.createFramebuffer();qb.__webglColorRenderbuffer=
[];n.bindFramebuffer(a.FRAMEBUFFER,qb.__webglMultisampledFramebuffer);for(wc=0;wc<ec.length;wc++){var Ec=ec[wc];qb.__webglColorRenderbuffer[wc]=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,qb.__webglColorRenderbuffer[wc]);var Nc=I.convert(Ec.format,Ec.encoding);const wd=I.convert(Ec.type);Ec=ja(Ec.internalFormat,Nc,wd,Ec.encoding,!0===Xa.isXRRenderTarget);Nc=Ib(Xa);a.renderbufferStorageMultisample(a.RENDERBUFFER,Nc,Ec,Xa.width,Xa.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+
wc,a.RENDERBUFFER,qb.__webglColorRenderbuffer[wc])}a.bindRenderbuffer(a.RENDERBUFFER,null);Xa.depthBuffer&&(qb.__webglDepthRenderbuffer=a.createRenderbuffer(),xb(qb.__webglDepthRenderbuffer,Xa,!0));n.bindFramebuffer(a.FRAMEBUFFER,null)}}if(Ob){n.bindTexture(a.TEXTURE_CUBE_MAP,vb.__webglTexture);zb(a.TEXTURE_CUBE_MAP,Oa,ub);for(vb=0;6>vb;vb++)Tb(qb.__webglFramebuffer[vb],Xa,Oa,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+vb);Y(Oa,ub)&&a.generateMipmap(a.TEXTURE_CUBE_MAP)}else if(dd){Oa=Xa.texture;
for(let wd=0,Bd=Oa.length;wd<Bd;wd++)vb=Oa[wd],Ob=v.get(vb),n.bindTexture(a.TEXTURE_2D,Ob.__webglTexture),zb(a.TEXTURE_2D,vb,ub),Tb(qb.__webglFramebuffer,Xa,vb,a.COLOR_ATTACHMENT0+wd,a.TEXTURE_2D),Y(vb,ub)&&a.generateMipmap(a.TEXTURE_2D)}else{Ob=a.TEXTURE_2D;if(Xa.isWebGL3DRenderTarget||Xa.isWebGLArrayRenderTarget)ac?Ob=Xa.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.");n.bindTexture(Ob,
vb.__webglTexture);zb(Ob,Oa,ub);Tb(qb.__webglFramebuffer,Xa,Oa,a.COLOR_ATTACHMENT0,Ob);Y(Oa,ub)&&a.generateMipmap(Ob)}n.unbindTexture();Xa.depthBuffer&&oc(Xa)};this.updateRenderTargetMipmap=function(Xa){const Oa=V(Xa)||ac,qb=!0===Xa.isWebGLMultipleRenderTargets?Xa.texture:[Xa.texture];for(let Ob=0,dd=qb.length;Ob<dd;Ob++){var vb=qb[Ob];if(Y(vb,Oa)){const ub=Xa.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D;vb=v.get(vb).__webglTexture;n.bindTexture(ub,vb);a.generateMipmap(ub);n.unbindTexture()}}};
this.updateMultisampleRenderTarget=function(Xa){if(ac&&0<Xa.samples&&!1===$b(Xa)){const Ob=Xa.isWebGLMultipleRenderTargets?Xa.texture:[Xa.texture];var Oa=Xa.width;const dd=Xa.height;let ub=a.COLOR_BUFFER_BIT;const ec=[],wc=Xa.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,Ec=v.get(Xa),Nc=!0===Xa.isWebGLMultipleRenderTargets;if(Nc)for(var qb=0;qb<Ob.length;qb++)n.bindFramebuffer(a.FRAMEBUFFER,Ec.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+
qb,a.RENDERBUFFER,null),n.bindFramebuffer(a.FRAMEBUFFER,Ec.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+qb,a.TEXTURE_2D,null,0);n.bindFramebuffer(a.READ_FRAMEBUFFER,Ec.__webglMultisampledFramebuffer);n.bindFramebuffer(a.DRAW_FRAMEBUFFER,Ec.__webglFramebuffer);for(qb=0;qb<Ob.length;qb++){ec.push(a.COLOR_ATTACHMENT0+qb);Xa.depthBuffer&&ec.push(wc);var vb=void 0!==Ec.__ignoreDepthValues?Ec.__ignoreDepthValues:!1;!1===vb&&(Xa.depthBuffer&&(ub|=a.DEPTH_BUFFER_BIT),
Xa.stencilBuffer&&(ub|=a.STENCIL_BUFFER_BIT));Nc&&a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,Ec.__webglColorRenderbuffer[qb]);!0===vb&&(a.invalidateFramebuffer(a.READ_FRAMEBUFFER,[wc]),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[wc]));Nc&&(vb=v.get(Ob[qb]).__webglTexture,a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,vb,0));a.blitFramebuffer(0,0,Oa,dd,0,0,Oa,dd,ub,a.NEAREST);Fd&&a.invalidateFramebuffer(a.READ_FRAMEBUFFER,ec)}n.bindFramebuffer(a.READ_FRAMEBUFFER,
null);n.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);if(Nc)for(Xa=0;Xa<Ob.length;Xa++)n.bindFramebuffer(a.FRAMEBUFFER,Ec.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Xa,a.RENDERBUFFER,Ec.__webglColorRenderbuffer[Xa]),Oa=v.get(Ob[Xa]).__webglTexture,n.bindFramebuffer(a.FRAMEBUFFER,Ec.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Xa,a.TEXTURE_2D,Oa,0);n.bindFramebuffer(a.DRAW_FRAMEBUFFER,Ec.__webglMultisampledFramebuffer)}};
this.setupDepthRenderbuffer=oc;this.setupFrameBufferTexture=Tb;this.useMultisampledRTT=$b}function Bc(a,e,n){const v=n.isWebGL2;return{convert:function(z,I=null){let L;if(1009===z)return a.UNSIGNED_BYTE;if(1017===z)return a.UNSIGNED_SHORT_4_4_4_4;if(1018===z)return a.UNSIGNED_SHORT_5_5_5_1;if(1010===z)return a.BYTE;if(1011===z)return a.SHORT;if(1012===z)return a.UNSIGNED_SHORT;if(1013===z)return a.INT;if(1014===z)return a.UNSIGNED_INT;if(1015===z)return a.FLOAT;if(1016===z){if(v)return a.HALF_FLOAT;
L=e.get("OES_texture_half_float");return null!==L?L.HALF_FLOAT_OES:null}if(1021===z)return a.ALPHA;if(1023===z)return a.RGBA;if(1024===z)return a.LUMINANCE;if(1025===z)return a.LUMINANCE_ALPHA;if(1026===z)return a.DEPTH_COMPONENT;if(1027===z)return a.DEPTH_STENCIL;if(1035===z)return L=e.get("EXT_sRGB"),null!==L?L.SRGB_ALPHA_EXT:null;if(1028===z)return a.RED;if(1029===z)return a.RED_INTEGER;if(1030===z)return a.RG;if(1031===z)return a.RG_INTEGER;if(1033===z)return a.RGBA_INTEGER;if(33776===z||33777===
z||33778===z||33779===z)if(3001===I)if(L=e.get("WEBGL_compressed_texture_s3tc_srgb"),null!==L){if(33776===z)return L.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===z)return L.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===z)return L.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===z)return L.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(L=e.get("WEBGL_compressed_texture_s3tc"),null!==L){if(33776===z)return L.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===z)return L.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===
z)return L.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===z)return L.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(35840===z||35841===z||35842===z||35843===z)if(L=e.get("WEBGL_compressed_texture_pvrtc"),null!==L){if(35840===z)return L.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===z)return L.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===z)return L.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===z)return L.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(36196===z)return L=e.get("WEBGL_compressed_texture_etc1"),
null!==L?L.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===z||37496===z)if(L=e.get("WEBGL_compressed_texture_etc"),null!==L){if(37492===z)return 3001===I?L.COMPRESSED_SRGB8_ETC2:L.COMPRESSED_RGB8_ETC2;if(37496===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:L.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(37808===z||37809===z||37810===z||37811===z||37812===z||37813===z||37814===z||37815===z||37816===z||37817===z||37818===z||37819===z||37820===z||37821===z)if(L=e.get("WEBGL_compressed_texture_astc"),
null!==L){if(37808===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:L.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:L.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:L.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:L.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:L.COMPRESSED_RGBA_ASTC_6x6_KHR;
if(37813===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:L.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:L.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:L.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:L.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:L.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===
z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:L.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:L.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:L.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===z)return 3001===I?L.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:L.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(36492===z)if(L=e.get("EXT_texture_compression_bptc"),null!==L){if(36492===z)return 3001===
I?L.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:L.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(36283===z||36284===z||36285===z||36286===z)if(L=e.get("EXT_texture_compression_rgtc"),null!==L){if(36492===z)return L.COMPRESSED_RED_RGTC1_EXT;if(36284===z)return L.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===z)return L.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===z)return L.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;if(1020===z){if(v)return a.UNSIGNED_INT_24_8;L=e.get("WEBGL_depth_texture");return null!==
L?L.UNSIGNED_INT_24_8_WEBGL:null}return void 0!==a[z]?a[z]:null}}}function yc(a,e){function n(v,z){v.opacity.value=z.opacity;z.color&&v.diffuse.value.copy(z.color);z.emissive&&v.emissive.value.copy(z.emissive).multiplyScalar(z.emissiveIntensity);z.map&&(v.map.value=z.map);z.alphaMap&&(v.alphaMap.value=z.alphaMap);z.bumpMap&&(v.bumpMap.value=z.bumpMap,v.bumpScale.value=z.bumpScale,1===z.side&&(v.bumpScale.value*=-1));z.displacementMap&&(v.displacementMap.value=z.displacementMap,v.displacementScale.value=
z.displacementScale,v.displacementBias.value=z.displacementBias);z.emissiveMap&&(v.emissiveMap.value=z.emissiveMap);z.normalMap&&(v.normalMap.value=z.normalMap,v.normalScale.value.copy(z.normalScale),1===z.side&&v.normalScale.value.negate());z.specularMap&&(v.specularMap.value=z.specularMap);0<z.alphaTest&&(v.alphaTest.value=z.alphaTest);const I=e.get(z).envMap;I&&(v.envMap.value=I,v.flipEnvMap.value=I.isCubeTexture&&!1===I.isRenderTargetTexture?-1:1,v.reflectivity.value=z.reflectivity,v.ior.value=
z.ior,v.refractionRatio.value=z.refractionRatio);z.lightMap&&(v.lightMap.value=z.lightMap,v.lightMapIntensity.value=z.lightMapIntensity*(!0===a.useLegacyLights?Math.PI:1));z.aoMap&&(v.aoMap.value=z.aoMap,v.aoMapIntensity.value=z.aoMapIntensity);let L;z.map?L=z.map:z.specularMap?L=z.specularMap:z.displacementMap?L=z.displacementMap:z.normalMap?L=z.normalMap:z.bumpMap?L=z.bumpMap:z.roughnessMap?L=z.roughnessMap:z.metalnessMap?L=z.metalnessMap:z.alphaMap?L=z.alphaMap:z.emissiveMap?L=z.emissiveMap:z.clearcoatMap?
L=z.clearcoatMap:z.clearcoatNormalMap?L=z.clearcoatNormalMap:z.clearcoatRoughnessMap?L=z.clearcoatRoughnessMap:z.iridescenceMap?L=z.iridescenceMap:z.iridescenceThicknessMap?L=z.iridescenceThicknessMap:z.specularIntensityMap?L=z.specularIntensityMap:z.specularColorMap?L=z.specularColorMap:z.transmissionMap?L=z.transmissionMap:z.thicknessMap?L=z.thicknessMap:z.sheenColorMap?L=z.sheenColorMap:z.sheenRoughnessMap&&(L=z.sheenRoughnessMap);void 0!==L&&(L.isWebGLRenderTarget&&(L=L.texture),!0===L.matrixAutoUpdate&&
L.updateMatrix(),v.uvTransform.value.copy(L.matrix));let R;z.aoMap?R=z.aoMap:z.lightMap&&(R=z.lightMap);void 0!==R&&(R.isWebGLRenderTarget&&(R=R.texture),!0===R.matrixAutoUpdate&&R.updateMatrix(),v.uv2Transform.value.copy(R.matrix))}return{refreshFogUniforms:function(v,z){z.color.getRGB(v.fogColor.value,Q(a));z.isFog?(v.fogNear.value=z.near,v.fogFar.value=z.far):z.isFogExp2&&(v.fogDensity.value=z.density)},refreshMaterialUniforms:function(v,z,I,L,R){if(z.isMeshBasicMaterial)n(v,z);else if(z.isMeshLambertMaterial)n(v,
z);else if(z.isMeshToonMaterial)n(v,z),z.gradientMap&&(v.gradientMap.value=z.gradientMap);else if(z.isMeshPhongMaterial)n(v,z),v.specular.value.copy(z.specular),v.shininess.value=Math.max(z.shininess,1E-4);else if(z.isMeshStandardMaterial)n(v,z),v.roughness.value=z.roughness,v.metalness.value=z.metalness,z.roughnessMap&&(v.roughnessMap.value=z.roughnessMap),z.metalnessMap&&(v.metalnessMap.value=z.metalnessMap),e.get(z).envMap&&(v.envMapIntensity.value=z.envMapIntensity),z.isMeshPhysicalMaterial&&
(v.ior.value=z.ior,0<z.sheen&&(v.sheenColor.value.copy(z.sheenColor).multiplyScalar(z.sheen),v.sheenRoughness.value=z.sheenRoughness,z.sheenColorMap&&(v.sheenColorMap.value=z.sheenColorMap),z.sheenRoughnessMap&&(v.sheenRoughnessMap.value=z.sheenRoughnessMap)),0<z.clearcoat&&(v.clearcoat.value=z.clearcoat,v.clearcoatRoughness.value=z.clearcoatRoughness,z.clearcoatMap&&(v.clearcoatMap.value=z.clearcoatMap),z.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=z.clearcoatRoughnessMap),z.clearcoatNormalMap&&
(v.clearcoatNormalScale.value.copy(z.clearcoatNormalScale),v.clearcoatNormalMap.value=z.clearcoatNormalMap,1===z.side&&v.clearcoatNormalScale.value.negate())),0<z.iridescence&&(v.iridescence.value=z.iridescence,v.iridescenceIOR.value=z.iridescenceIOR,v.iridescenceThicknessMinimum.value=z.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=z.iridescenceThicknessRange[1],z.iridescenceMap&&(v.iridescenceMap.value=z.iridescenceMap),z.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=
z.iridescenceThicknessMap)),0<z.transmission&&(v.transmission.value=z.transmission,v.transmissionSamplerMap.value=R.texture,v.transmissionSamplerSize.value.set(R.width,R.height),z.transmissionMap&&(v.transmissionMap.value=z.transmissionMap),v.thickness.value=z.thickness,z.thicknessMap&&(v.thicknessMap.value=z.thicknessMap),v.attenuationDistance.value=z.attenuationDistance,v.attenuationColor.value.copy(z.attenuationColor)),v.specularIntensity.value=z.specularIntensity,v.specularColor.value.copy(z.specularColor),
z.specularIntensityMap&&(v.specularIntensityMap.value=z.specularIntensityMap),z.specularColorMap&&(v.specularColorMap.value=z.specularColorMap));else if(z.isMeshMatcapMaterial)n(v,z),z.matcap&&(v.matcap.value=z.matcap);else if(z.isMeshDepthMaterial)n(v,z);else if(z.isMeshDistanceMaterial)n(v,z),v.referencePosition.value.copy(z.referencePosition),v.nearDistance.value=z.nearDistance,v.farDistance.value=z.farDistance;else if(z.isMeshNormalMaterial)n(v,z);else if(z.isLineBasicMaterial)v.diffuse.value.copy(z.color),
v.opacity.value=z.opacity,z.isLineDashedMaterial&&(v.dashSize.value=z.dashSize,v.totalSize.value=z.dashSize+z.gapSize,v.scale.value=z.scale);else if(z.isPointsMaterial){v.diffuse.value.copy(z.color);v.opacity.value=z.opacity;v.size.value=z.size*I;v.scale.value=.5*L;z.map&&(v.map.value=z.map);z.alphaMap&&(v.alphaMap.value=z.alphaMap);0<z.alphaTest&&(v.alphaTest.value=z.alphaTest);let V;z.map?V=z.map:z.alphaMap&&(V=z.alphaMap);void 0!==V&&(!0===V.matrixAutoUpdate&&V.updateMatrix(),v.uvTransform.value.copy(V.matrix))}else if(z.isSpriteMaterial){v.diffuse.value.copy(z.color);
v.opacity.value=z.opacity;v.rotation.value=z.rotation;z.map&&(v.map.value=z.map);z.alphaMap&&(v.alphaMap.value=z.alphaMap);0<z.alphaTest&&(v.alphaTest.value=z.alphaTest);let V;z.map?V=z.map:z.alphaMap&&(V=z.alphaMap);void 0!==V&&(!0===V.matrixAutoUpdate&&V.updateMatrix(),v.uvTransform.value.copy(V.matrix))}else z.isShadowMaterial?(v.color.value.copy(z.color),v.opacity.value=z.opacity):z.isShaderMaterial&&(z.uniformsNeedUpdate=!1)}}}function zc(a,e,n,v){function z(ka){const qa=ka.uniforms;let Ga=0;
for(let bb=0,Gb=qa.length;bb<Gb;bb++){const Tb=qa[bb];var Fa=0,ia=0;var La=Array.isArray(Tb.value)?Tb.value:[Tb.value];for(let xb=0,oc=La.length;xb<oc;xb++){var zb=I(La[xb]);Fa+=zb.boundary;ia+=zb.storage}Tb.__data=new Float32Array(ia/Float32Array.BYTES_PER_ELEMENT);Tb.__offset=Ga;0<bb&&(La=Ga%16,zb=16-La,0!==La&&0>zb-Fa&&(Ga+=16-La,Tb.__offset=Ga));Ga+=ia}La=Ga%16;0<La&&(Ga+=16-La);ka.__size=Ga;ka.__cache={};return this}function I(ka){const qa={boundary:0,storage:0};"number"===typeof ka?(qa.boundary=
4,qa.storage=4):ka.isVector2?(qa.boundary=8,qa.storage=8):ka.isVector3||ka.isColor?(qa.boundary=16,qa.storage=12):ka.isVector4?(qa.boundary=16,qa.storage=16):ka.isMatrix3?(qa.boundary=48,qa.storage=48):ka.isMatrix4?(qa.boundary=64,qa.storage=64):ka.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ka);return qa}function L(ka){ka=ka.target;ka.removeEventListener("dispose",L);const qa=
Y.indexOf(ka.__bindingPointIndex);Y.splice(qa,1);a.deleteBuffer(R[ka.id]);delete R[ka.id];delete V[ka.id]}let R={},V={},Y=[];const ja=n.isWebGL2?a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS):0;return{bind:function(ka,qa){v.uniformBlockBinding(ka,qa.program)},update:function(ka,qa){var Ga=R[ka.id];if(void 0===Ga){z(ka);a:{for(Ga=0;Ga<ja;Ga++)if(-1===Y.indexOf(Ga)){Y.push(Ga);break a}console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.");Ga=0}ka.__bindingPointIndex=
Ga;var Fa=a.createBuffer(),ia=ka.__size,La=ka.usage;a.bindBuffer(a.UNIFORM_BUFFER,Fa);a.bufferData(a.UNIFORM_BUFFER,ia,La);a.bindBuffer(a.UNIFORM_BUFFER,null);a.bindBufferBase(a.UNIFORM_BUFFER,Ga,Fa);Ga=Fa;R[ka.id]=Ga;ka.addEventListener("dispose",L)}v.updateUBOMapping(ka,qa.program);qa=e.render.frame;if(V[ka.id]!==qa){Ga=ka.uniforms;Fa=ka.__cache;a.bindBuffer(a.UNIFORM_BUFFER,R[ka.id]);for(let xb=0,oc=Ga.length;xb<oc;xb++){ia=Ga[xb];a:{La=xb;var zb=Fa,bb=ia.value;if(void 0===zb[La]){if("number"===
typeof bb)zb[La]=bb;else{bb=Array.isArray(bb)?bb:[bb];var Gb=[];for(var Tb=0;Tb<bb.length;Tb++)Gb.push(bb[Tb].clone());zb[La]=Gb}La=!0}else{if("number"===typeof bb){if(zb[La]!==bb){zb[La]=bb;La=!0;break a}}else for(La=Array.isArray(zb[La])?zb[La]:[zb[La]],zb=Array.isArray(bb)?bb:[bb],bb=0;bb<La.length;bb++)if(Gb=La[bb],!1===Gb.equals(zb[bb])){Gb.copy(zb[bb]);La=!0;break a}La=!1}}if(!0===La){La=ia.__offset;zb=Array.isArray(ia.value)?ia.value:[ia.value];bb=0;for(Gb=0;Gb<zb.length;Gb++){Tb=zb[Gb];const Ib=
I(Tb);"number"===typeof Tb?(ia.__data[0]=Tb,a.bufferSubData(a.UNIFORM_BUFFER,La+bb,ia.__data)):Tb.isMatrix3?(ia.__data[0]=Tb.elements[0],ia.__data[1]=Tb.elements[1],ia.__data[2]=Tb.elements[2],ia.__data[3]=Tb.elements[0],ia.__data[4]=Tb.elements[3],ia.__data[5]=Tb.elements[4],ia.__data[6]=Tb.elements[5],ia.__data[7]=Tb.elements[0],ia.__data[8]=Tb.elements[6],ia.__data[9]=Tb.elements[7],ia.__data[10]=Tb.elements[8],ia.__data[11]=Tb.elements[0]):(Tb.toArray(ia.__data,bb),bb+=Ib.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,
La,ia.__data)}}a.bindBuffer(a.UNIFORM_BUFFER,null);V[ka.id]=qa}},dispose:function(){for(const ka in R)a.deleteBuffer(R[ka]);Y=[];R={};V={}}}}function Oc(){const a=A("canvas");a.style.display="block";return a}function Uc(a={}){function e(Za,lc){for(let Fc=0;Fc<Za.length;Fc++){const jc=ia.getContext(Za[Fc],lc);if(null!==jc)return jc}return null}function n(){ae=new Ja(Zb);Je=new sa(Zb,ae,a);ae.init(Je);Wg=new Bc(Zb,ae,Je);xe=new mc(Zb,ae,Je);ng=new rb(Zb);nf=new Hd;zf=new Zc(Zb,ae,xe,nf,Je,Wg,ng);wi=
new wa(Kc);xi=new eb(Kc);Yi=new da(Zb,Je);$h=new za(Zb,ae,Yi,Je);jk=new Fb(Zb,Yi,ng,$h);yi=new va(Zb,jk,Yi,ng);Kk=new Z(Zb,Je,zf);Xg=new gb(nf);mh=new Lc(Kc,wi,xi,ae,Je,$h,Xg);kk=new yc(Kc,nf);xj=new lb;yj=new Ub(ae,Je);Hh=new ea(Kc,wi,xi,xe,yi,$b,Tb);Ig=new Wb(Kc,yi,Je);zj=new zc(Zb,ng,Je,xe);Lk=new Ea(Zb,ae,ng,Je);Mk=new Kb(Zb,ae,ng,Je);ng.programs=mh.programs;Kc.capabilities=Je;Kc.extensions=ae;Kc.properties=nf;Kc.renderLists=xj;Kc.shadowMap=Ig;Kc.state=xe;Kc.info=ng}function v(Za){Za.preventDefault();
console.log("THREE.WebGLRenderer: Context Lost.");Ic=!0}function z(){console.log("THREE.WebGLRenderer: Context Restored.");Ic=!1;const Za=ng.autoReset,lc=Ig.enabled,Fc=Ig.autoUpdate,jc=Ig.needsUpdate,Hc=Ig.type;n();ng.autoReset=Za;Ig.enabled=lc;Ig.autoUpdate=Fc;Ig.needsUpdate=jc;Ig.type=Hc}function I(Za){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Za.statusMessage)}function L(Za){Za=Za.target;Za.removeEventListener("dispose",L);R(Za);nf.remove(Za)}function R(Za){const lc=
nf.get(Za).programs;void 0!==lc&&(lc.forEach(function(Fc){mh.releaseProgram(Fc)}),Za.isShaderMaterial&&mh.releaseShaderCache(Za))}function V(){ai.stop()}function Y(){ai.start()}function ja(Za,lc,Fc,jc){if(!1!==Za.visible){if(Za.layers.test(lc.layers))if(Za.isGroup)Fc=Za.renderOrder;else if(Za.isLOD)!0===Za.autoUpdate&&Za.update(lc);else if(Za.isLight)ac.pushLight(Za),Za.castShadow&&ac.pushShadow(Za);else if(Za.isSprite){if(!Za.frustumCulled||ec.intersectsSprite(Za)){jc&&Bd.setFromMatrixPosition(Za.matrixWorld).applyMatrix4(wd);
var Hc=yi.update(Za),Kd=Za.material;Kd.visible&&bc.push(Za,Hc,Kd,Fc,Bd.z,null)}}else if(Za.isMesh||Za.isLine||Za.isPoints)if(Za.isSkinnedMesh&&Za.skeleton.frame!==ng.render.frame&&(Za.skeleton.update(),Za.skeleton.frame=ng.render.frame),!Za.frustumCulled||ec.intersectsObject(Za))if(jc&&Bd.setFromMatrixPosition(Za.matrixWorld).applyMatrix4(wd),Hc=yi.update(Za),Kd=Za.material,Array.isArray(Kd)){const Td=Hc.groups;for(let vd=0,Ke=Td.length;vd<Ke;vd++){const hf=Td[vd],Ee=Kd[hf.materialIndex];Ee&&Ee.visible&&
bc.push(Za,Hc,Ee,Fc,Bd.z,hf)}}else Kd.visible&&bc.push(Za,Hc,Kd,Fc,Bd.z,null);Za=Za.children;for(let Td=0,vd=Za.length;Td<vd;Td++)ja(Za[Td],lc,Fc,jc)}}function ka(Za,lc,Fc,jc){const Hc=Za.opaque,Kd=Za.transmissive;Za=Za.transparent;ac.setupLightsView(Fc);!0===wc&&Xg.setGlobalState(Kc.clippingPlanes,Fc);if(0<Kd.length){var Td=Je.isWebGL2;null===Nc&&(Nc=new Pf(1024,1024,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:Td&&!0===Gb?4:0}));Td=Kc.getRenderTarget();
Kc.setRenderTarget(Nc);Kc.clear();const vd=Kc.toneMapping;Kc.toneMapping=0;qa(Hc,lc,Fc);Kc.toneMapping=vd;zf.updateMultisampleRenderTarget(Nc);zf.updateRenderTargetMipmap(Nc);Kc.setRenderTarget(Td)}jc&&xe.viewport(ld.copy(jc));0<Hc.length&&qa(Hc,lc,Fc);0<Kd.length&&qa(Kd,lc,Fc);0<Za.length&&qa(Za,lc,Fc);xe.buffers.depth.setTest(!0);xe.buffers.depth.setMask(!0);xe.buffers.color.setMask(!0);xe.setPolygonOffset(!1)}function qa(Za,lc,Fc){const jc=!0===lc.isScene?lc.overrideMaterial:null;for(let Ee=0,
Qf=Za.length;Ee<Qf;Ee++){var Hc=Za[Ee],Kd=Hc.object,Td=Hc.geometry,vd=null===jc?Hc.material:jc,Ke=Hc.group;if(Kd.layers.test(Fc.layers)){Hc=lc;var hf=Fc;Kd.onBeforeRender(Kc,Hc,hf,Td,vd,Ke);Kd.modelViewMatrix.multiplyMatrices(hf.matrixWorldInverse,Kd.matrixWorld);Kd.normalMatrix.getNormalMatrix(Kd.modelViewMatrix);vd.onBeforeRender(Kc,Hc,hf,Td,Kd,Ke);!0===vd.transparent&&2===vd.side&&!1===vd.forceSinglePass?(vd.side=1,vd.needsUpdate=!0,Kc.renderBufferDirect(hf,Hc,Td,vd,Kd,Ke),vd.side=0,vd.needsUpdate=
!0,Kc.renderBufferDirect(hf,Hc,Td,vd,Kd,Ke),vd.side=2):Kc.renderBufferDirect(hf,Hc,Td,vd,Kd,Ke);Kd.onAfterRender(Kc,Hc,hf,Td,vd,Ke)}}}function Ga(Za,lc,Fc){!0!==lc.isScene&&(lc=Ae);const jc=nf.get(Za),Hc=ac.state.lights,Kd=Hc.state.version,Td=mh.getParameters(Za,Hc.state,ac.state.shadowsArray,lc,Fc),vd=mh.getProgramCacheKey(Td);let Ke=jc.programs;jc.environment=Za.isMeshStandardMaterial?lc.environment:null;jc.fog=lc.fog;jc.envMap=(Za.isMeshStandardMaterial?xi:wi).get(Za.envMap||jc.environment);void 0===
Ke&&(Za.addEventListener("dispose",L),Ke=new Map,jc.programs=Ke);lc=Ke.get(vd);if(void 0!==lc){if(jc.currentProgram===lc&&jc.lightsStateVersion===Kd)return Fa(Za,Td),lc}else Td.uniforms=mh.getUniforms(Za),Za.onBuild(Fc,Td,Kc),Za.onBeforeCompile(Td,Kc),lc=mh.acquireProgram(Td,vd),Ke.set(vd,lc),jc.uniforms=Td.uniforms;Fc=jc.uniforms;if(!Za.isShaderMaterial&&!Za.isRawShaderMaterial||!0===Za.clipping)Fc.clippingPlanes=Xg.uniform;Fa(Za,Td);jc.needsLights=Za.isMeshLambertMaterial||Za.isMeshToonMaterial||
Za.isMeshPhongMaterial||Za.isMeshStandardMaterial||Za.isShadowMaterial||Za.isShaderMaterial&&!0===Za.lights;jc.lightsStateVersion=Kd;jc.needsLights&&(Fc.ambientLightColor.value=Hc.state.ambient,Fc.lightProbe.value=Hc.state.probe,Fc.directionalLights.value=Hc.state.directional,Fc.directionalLightShadows.value=Hc.state.directionalShadow,Fc.spotLights.value=Hc.state.spot,Fc.spotLightShadows.value=Hc.state.spotShadow,Fc.rectAreaLights.value=Hc.state.rectArea,Fc.ltc_1.value=Hc.state.rectAreaLTC1,Fc.ltc_2.value=
Hc.state.rectAreaLTC2,Fc.pointLights.value=Hc.state.point,Fc.pointLightShadows.value=Hc.state.pointShadow,Fc.hemisphereLights.value=Hc.state.hemi,Fc.directionalShadowMap.value=Hc.state.directionalShadowMap,Fc.directionalShadowMatrix.value=Hc.state.directionalShadowMatrix,Fc.spotShadowMap.value=Hc.state.spotShadowMap,Fc.spotLightMatrix.value=Hc.state.spotLightMatrix,Fc.spotLightMap.value=Hc.state.spotLightMap,Fc.pointShadowMap.value=Hc.state.pointShadowMap,Fc.pointShadowMatrix.value=Hc.state.pointShadowMatrix);
Za=lc.getUniforms();Za=lg.seqWithValue(Za.seq,Fc);jc.currentProgram=lc;jc.uniformsList=Za;return lc}function Fa(Za,lc){Za=nf.get(Za);Za.outputEncoding=lc.outputEncoding;Za.instancing=lc.instancing;Za.skinning=lc.skinning;Za.morphTargets=lc.morphTargets;Za.morphNormals=lc.morphNormals;Za.morphColors=lc.morphColors;Za.morphTargetsCount=lc.morphTargetsCount;Za.numClippingPlanes=lc.numClippingPlanes;Za.numIntersection=lc.numClipIntersection;Za.vertexAlphas=lc.vertexAlphas;Za.vertexTangents=lc.vertexTangents;
Za.toneMapping=lc.toneMapping}this.isWebGLRenderer=!0;const ia=void 0!==a.canvas?a.canvas:Oc();var La=void 0!==a.context?a.context:null,zb=void 0!==a.depth?a.depth:!0;const bb=void 0!==a.stencil?a.stencil:!0,Gb=void 0!==a.antialias?a.antialias:!1,Tb=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,xb=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,oc=void 0!==a.powerPreference?a.powerPreference:"default",Ib=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1;
let $b;$b=null!==La?La.getContextAttributes().alpha:void 0!==a.alpha?a.alpha:!1;let bc=null,ac=null;const Pc=[],Gc=[];this.domElement=ia;this.debug={checkShaderErrors:!0};this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.outputEncoding=3E3;this.useLegacyLights=!0;this.toneMapping=0;this.toneMappingExposure=1;const Kc=this;let Ic=!1,td=0,Fd=0,Sd=null,ce=-1,Mc=null;const ld=new Be,pd=new Be;let Pd=
null,Ed=ia.width,Xa=ia.height,Oa=1,qb=null,vb=null;const Ob=new Be(0,0,Ed,Xa),dd=new Be(0,0,Ed,Xa);let ub=!1;const ec=new mg;let wc=!1,Ec=!1,Nc=null;const wd=new fe,Bd=new jb,Ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Zb=La;try{La={alpha:!0,depth:zb,stencil:bb,antialias:Gb,premultipliedAlpha:Tb,preserveDrawingBuffer:xb,powerPreference:oc,failIfMajorPerformanceCaveat:Ib};"setAttribute"in ia&&ia.setAttribute("data-engine","three.js r150");ia.addEventListener("webglcontextlost",
v,!1);ia.addEventListener("webglcontextrestored",z,!1);ia.addEventListener("webglcontextcreationerror",I,!1);if(null===Zb&&(zb=["webgl2","webgl","experimental-webgl"],!0===Kc.isWebGL1Renderer&&zb.shift(),Zb=e(zb,La),null===Zb)){if(e(zb))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.");}void 0===Zb.getShaderPrecisionFormat&&(Zb.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Za){throw console.error("THREE.WebGLRenderer: "+
Za.message),Za;}let ae,Je,xe,ng,nf,zf,wi,xi,Yi,jk,yi,mh,kk,xj,yj,Xg,Ig,Hh,Kk,Lk,Mk,Wg,$h,zj;n();const og=new lk(Kc,Zb);this.xr=og;this.getContext=function(){return Zb};this.getContextAttributes=function(){return Zb.getContextAttributes()};this.forceContextLoss=function(){const Za=ae.get("WEBGL_lose_context");Za&&Za.loseContext()};this.forceContextRestore=function(){const Za=ae.get("WEBGL_lose_context");Za&&Za.restoreContext()};this.getPixelRatio=function(){return Oa};this.setPixelRatio=function(Za){void 0!==
Za&&(Oa=Za,this.setSize(Ed,Xa,!1))};this.getSize=function(Za){return Za.set(Ed,Xa)};this.setSize=function(Za,lc,Fc=!0){og.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Ed=Za,Xa=lc,ia.width=Math.floor(Za*Oa),ia.height=Math.floor(lc*Oa),!0===Fc&&(ia.style.width=Za+"px",ia.style.height=lc+"px"),this.setViewport(0,0,Za,lc))};this.getDrawingBufferSize=function(Za){return Za.set(Ed*Oa,Xa*Oa).floor()};this.setDrawingBufferSize=function(Za,lc,Fc){Ed=Za;
Xa=lc;Oa=Fc;ia.width=Math.floor(Za*Fc);ia.height=Math.floor(lc*Fc);this.setViewport(0,0,Za,lc)};this.getCurrentViewport=function(Za){return Za.copy(ld)};this.getViewport=function(Za){return Za.copy(Ob)};this.setViewport=function(Za,lc,Fc,jc){Za.isVector4?Ob.set(Za.x,Za.y,Za.z,Za.w):Ob.set(Za,lc,Fc,jc);xe.viewport(ld.copy(Ob).multiplyScalar(Oa).floor())};this.getScissor=function(Za){return Za.copy(dd)};this.setScissor=function(Za,lc,Fc,jc){Za.isVector4?dd.set(Za.x,Za.y,Za.z,Za.w):dd.set(Za,lc,Fc,jc);
xe.scissor(pd.copy(dd).multiplyScalar(Oa).floor())};this.getScissorTest=function(){return ub};this.setScissorTest=function(Za){xe.setScissorTest(ub=Za)};this.setOpaqueSort=function(Za){qb=Za};this.setTransparentSort=function(Za){vb=Za};this.getClearColor=function(Za){return Za.copy(Hh.getClearColor())};this.setClearColor=function(){Hh.setClearColor.apply(Hh,arguments)};this.getClearAlpha=function(){return Hh.getClearAlpha()};this.setClearAlpha=function(){Hh.setClearAlpha.apply(Hh,arguments)};this.clear=
function(Za=!0,lc=!0,Fc=!0){let jc=0;Za&&(jc|=Zb.COLOR_BUFFER_BIT);lc&&(jc|=Zb.DEPTH_BUFFER_BIT);Fc&&(jc|=Zb.STENCIL_BUFFER_BIT);Zb.clear(jc)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){ia.removeEventListener("webglcontextlost",v,!1);ia.removeEventListener("webglcontextrestored",z,!1);ia.removeEventListener("webglcontextcreationerror",I,!1);xj.dispose();yj.dispose();nf.dispose();
wi.dispose();xi.dispose();yi.dispose();$h.dispose();zj.dispose();mh.dispose();og.dispose();og.removeEventListener("sessionstart",V);og.removeEventListener("sessionend",Y);Nc&&(Nc.dispose(),Nc=null);ai.stop()};this.renderBufferDirect=function(Za,lc,Fc,jc,Hc,Kd){null===lc&&(lc=Ae);var Td=Hc.isMesh&&0>Hc.matrixWorld.determinant(),vd=lc;!0!==vd.isScene&&(vd=Ae);zf.resetTextureUnits();lc=vd.fog;var Ke=jc.isMeshStandardMaterial?vd.environment:null,hf=null===Sd?Kc.outputEncoding:!0===Sd.isXRRenderTarget?
Sd.texture.encoding:3E3;Ke=(jc.isMeshStandardMaterial?xi:wi).get(jc.envMap||Ke);var Ee=!0===jc.vertexColors&&!!Fc.attributes.color&&4===Fc.attributes.color.itemSize,Qf=!!jc.normalMap&&!!Fc.attributes.tangent,bi=!!Fc.morphAttributes.position,nh=!!Fc.morphAttributes.normal;const mk=!!Fc.morphAttributes.color,nk=jc.toneMapped?Kc.toneMapping:0;var qe=Fc.morphAttributes.position||Fc.morphAttributes.normal||Fc.morphAttributes.color;const Gl=void 0!==qe?qe.length:0;qe=nf.get(jc);const Hl=ac.state.lights;
!0!==wc||!0!==Ec&&Za===Mc||Xg.setState(jc,Za,Za===Mc&&jc.id===ce);let Lf=!1;jc.version===qe.__version?qe.needsLights&&qe.lightsStateVersion!==Hl.state.version?Lf=!0:qe.outputEncoding!==hf?Lf=!0:Hc.isInstancedMesh&&!1===qe.instancing?Lf=!0:Hc.isInstancedMesh||!0!==qe.instancing?Hc.isSkinnedMesh&&!1===qe.skinning?Lf=!0:Hc.isSkinnedMesh||!0!==qe.skinning?qe.envMap!==Ke?Lf=!0:!0===jc.fog&&qe.fog!==lc?Lf=!0:void 0===qe.numClippingPlanes||qe.numClippingPlanes===Xg.numPlanes&&qe.numIntersection===Xg.numIntersection?
qe.vertexAlphas!==Ee?Lf=!0:qe.vertexTangents!==Qf?Lf=!0:qe.morphTargets!==bi?Lf=!0:qe.morphNormals!==nh?Lf=!0:qe.morphColors!==mk?Lf=!0:qe.toneMapping!==nk?Lf=!0:!0===Je.isWebGL2&&qe.morphTargetsCount!==Gl&&(Lf=!0):Lf=!0:Lf=!0:Lf=!0:(Lf=!0,qe.__version=jc.version);hf=qe.currentProgram;!0===Lf&&(hf=Ga(jc,vd,Hc));bi=Qf=nh=!1;vd=hf.getUniforms();Ee=qe.uniforms;xe.useProgram(hf.program)&&(bi=Qf=nh=!0);jc.id!==ce&&(ce=jc.id,Qf=!0);if(nh||Mc!==Za){vd.setValue(Zb,"projectionMatrix",Za.projectionMatrix);
Je.logarithmicDepthBuffer&&vd.setValue(Zb,"logDepthBufFC",2/(Math.log(Za.far+1)/Math.LN2));Mc!==Za&&(Mc=Za,bi=Qf=!0);if(jc.isShaderMaterial||jc.isMeshPhongMaterial||jc.isMeshToonMaterial||jc.isMeshStandardMaterial||jc.envMap)nh=vd.map.cameraPosition,void 0!==nh&&nh.setValue(Zb,Bd.setFromMatrixPosition(Za.matrixWorld));(jc.isMeshPhongMaterial||jc.isMeshToonMaterial||jc.isMeshLambertMaterial||jc.isMeshBasicMaterial||jc.isMeshStandardMaterial||jc.isShaderMaterial)&&vd.setValue(Zb,"isOrthographic",!0===
Za.isOrthographicCamera);(jc.isMeshPhongMaterial||jc.isMeshToonMaterial||jc.isMeshLambertMaterial||jc.isMeshBasicMaterial||jc.isMeshStandardMaterial||jc.isShaderMaterial||jc.isShadowMaterial||Hc.isSkinnedMesh)&&vd.setValue(Zb,"viewMatrix",Za.matrixWorldInverse)}Hc.isSkinnedMesh&&(vd.setOptional(Zb,Hc,"bindMatrix"),vd.setOptional(Zb,Hc,"bindMatrixInverse"),Za=Hc.skeleton)&&(Je.floatVertexTextures?(null===Za.boneTexture&&Za.computeBoneTexture(),vd.setValue(Zb,"boneTexture",Za.boneTexture,zf),vd.setValue(Zb,
"boneTextureSize",Za.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."));Za=Fc.morphAttributes;(void 0!==Za.position||void 0!==Za.normal||void 0!==Za.color&&!0===Je.isWebGL2)&&Kk.update(Hc,Fc,hf);if(Qf||qe.receiveShadow!==Hc.receiveShadow)qe.receiveShadow=Hc.receiveShadow,vd.setValue(Zb,"receiveShadow",Hc.receiveShadow);jc.isMeshGouraudMaterial&&null!==jc.envMap&&(Ee.envMap.value=
Ke,Ee.flipEnvMap.value=Ke.isCubeTexture&&!1===Ke.isRenderTargetTexture?-1:1);Qf&&(vd.setValue(Zb,"toneMappingExposure",Kc.toneMappingExposure),qe.needsLights&&(Za=bi,Ee.ambientLightColor.needsUpdate=Za,Ee.lightProbe.needsUpdate=Za,Ee.directionalLights.needsUpdate=Za,Ee.directionalLightShadows.needsUpdate=Za,Ee.pointLights.needsUpdate=Za,Ee.pointLightShadows.needsUpdate=Za,Ee.spotLights.needsUpdate=Za,Ee.spotLightShadows.needsUpdate=Za,Ee.rectAreaLights.needsUpdate=Za,Ee.hemisphereLights.needsUpdate=
Za),lc&&!0===jc.fog&&kk.refreshFogUniforms(Ee,lc),kk.refreshMaterialUniforms(Ee,jc,Oa,Xa,Nc),lg.upload(Zb,qe.uniformsList,Ee,zf));jc.isShaderMaterial&&!0===jc.uniformsNeedUpdate&&(lg.upload(Zb,qe.uniformsList,Ee,zf),jc.uniformsNeedUpdate=!1);jc.isSpriteMaterial&&vd.setValue(Zb,"center",Hc.center);vd.setValue(Zb,"modelViewMatrix",Hc.modelViewMatrix);vd.setValue(Zb,"normalMatrix",Hc.normalMatrix);vd.setValue(Zb,"modelMatrix",Hc.matrixWorld);if(jc.isShaderMaterial||jc.isRawShaderMaterial){lc=jc.uniformsGroups;
for(let ok=0,Il=lc.length;ok<Il;ok++)Je.isWebGL2?(Za=lc[ok],zj.update(Za,hf),zj.bind(Za,hf)):console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}lc=hf;xe.setMaterial(jc,Td);Za=Fc.index;Ke=1;!0===jc.wireframe&&(Za=jk.getWireframeAttribute(Fc),Ke=2);vd=Fc.drawRange;qe=Fc.attributes.position;Td=vd.start*Ke;vd=(vd.start+vd.count)*Ke;null!==Kd&&(Td=Math.max(Td,Kd.start*Ke),vd=Math.min(vd,(Kd.start+Kd.count)*Ke));null!==Za?(Td=Math.max(Td,0),vd=Math.min(vd,Za.count)):
void 0!==qe&&null!==qe&&(Td=Math.max(Td,0),vd=Math.min(vd,qe.count));Kd=vd-Td;0>Kd||Infinity===Kd||($h.setup(Hc,jc,lc,Fc,Za),lc=Lk,null!==Za&&(Za=Yi.get(Za),lc=Mk,lc.setIndex(Za)),Hc.isMesh?!0===jc.wireframe?(xe.setLineWidth(jc.wireframeLinewidth*(null===Sd?Oa:1)),lc.setMode(Zb.LINES)):lc.setMode(Zb.TRIANGLES):Hc.isLine?(jc=jc.linewidth,void 0===jc&&(jc=1),xe.setLineWidth(jc*(null===Sd?Oa:1)),Hc.isLineSegments?lc.setMode(Zb.LINES):Hc.isLineLoop?lc.setMode(Zb.LINE_LOOP):lc.setMode(Zb.LINE_STRIP)):
Hc.isPoints?lc.setMode(Zb.POINTS):Hc.isSprite&&lc.setMode(Zb.TRIANGLES),Hc.isInstancedMesh?lc.renderInstances(Td,Kd,Hc.count):Fc.isInstancedBufferGeometry?lc.renderInstances(Td,Kd,Math.min(Fc.instanceCount,void 0!==Fc._maxInstanceCount?Fc._maxInstanceCount:Infinity)):lc.render(Td,Kd))};this.compile=function(Za,lc){function Fc(jc,Hc,Kd){!0===jc.transparent&&2===jc.side&&!1===jc.forceSinglePass?(jc.side=1,jc.needsUpdate=!0,Ga(jc,Hc,Kd),jc.side=0,jc.needsUpdate=!0,Ga(jc,Hc,Kd),jc.side=2):Ga(jc,Hc,Kd)}
ac=yj.get(Za);ac.init();Gc.push(ac);Za.traverseVisible(function(jc){jc.isLight&&jc.layers.test(lc.layers)&&(ac.pushLight(jc),jc.castShadow&&ac.pushShadow(jc))});ac.setupLights(Kc.useLegacyLights);Za.traverse(function(jc){const Hc=jc.material;if(Hc)if(Array.isArray(Hc))for(let Kd=0;Kd<Hc.length;Kd++)Fc(Hc[Kd],Za,jc);else Fc(Hc,Za,jc)});Gc.pop();ac=null};let pk=null;const ai=new O;ai.setAnimationLoop(function(Za){pk&&pk(Za)});"undefined"!==typeof self&&ai.setContext(self);this.setAnimationLoop=function(Za){pk=
Za;og.setAnimationLoop(Za);null===Za?ai.stop():ai.start()};og.addEventListener("sessionstart",V);og.addEventListener("sessionend",Y);this.render=function(Za,lc){if(void 0!==lc&&!0!==lc.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!0!==Ic){!0===Za.matrixWorldAutoUpdate&&Za.updateMatrixWorld();null===lc.parent&&!0===lc.matrixWorldAutoUpdate&&lc.updateMatrixWorld();!0===og.enabled&&!0===og.isPresenting&&(!0===og.cameraAutoUpdate&&og.updateCamera(lc),
lc=og.getCamera());if(!0===Za.isScene)Za.onBeforeRender(Kc,Za,lc,Sd);ac=yj.get(Za,Gc.length);ac.init();Gc.push(ac);wd.multiplyMatrices(lc.projectionMatrix,lc.matrixWorldInverse);ec.setFromProjectionMatrix(wd);Ec=this.localClippingEnabled;wc=Xg.init(this.clippingPlanes,Ec);bc=xj.get(Za,Pc.length);bc.init();Pc.push(bc);ja(Za,lc,0,Kc.sortObjects);bc.finish();!0===Kc.sortObjects&&bc.sort(qb,vb);!0===wc&&Xg.beginShadows();Ig.render(ac.state.shadowsArray,Za,lc);!0===wc&&Xg.endShadows();!0===this.info.autoReset&&
this.info.reset();Hh.render(bc,Za);ac.setupLights(Kc.useLegacyLights);if(lc.isArrayCamera){const Fc=lc.cameras;for(let jc=0,Hc=Fc.length;jc<Hc;jc++){const Kd=Fc[jc];ka(bc,Za,Kd,Kd.viewport)}}else ka(bc,Za,lc);null!==Sd&&(zf.updateMultisampleRenderTarget(Sd),zf.updateRenderTargetMipmap(Sd));if(!0===Za.isScene)Za.onAfterRender(Kc,Za,lc);$h.resetDefaultState();ce=-1;Mc=null;Gc.pop();ac=0<Gc.length?Gc[Gc.length-1]:null;Pc.pop();bc=0<Pc.length?Pc[Pc.length-1]:null}};this.getActiveCubeFace=function(){return td};
this.getActiveMipmapLevel=function(){return Fd};this.getRenderTarget=function(){return Sd};this.setRenderTargetTextures=function(Za,lc,Fc){nf.get(Za.texture).__webglTexture=lc;nf.get(Za.depthTexture).__webglTexture=Fc;Za=nf.get(Za);Za.__hasExternalTextures=!0;Za.__hasExternalTextures&&(Za.__autoAllocateDepthBuffer=void 0===Fc,Za.__autoAllocateDepthBuffer||!0!==ae.has("WEBGL_multisampled_render_to_texture")||(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),
Za.__useRenderToTexture=!1))};this.setRenderTargetFramebuffer=function(Za,lc){Za=nf.get(Za);Za.__webglFramebuffer=lc;Za.__useDefaultFramebuffer=void 0===lc};this.setRenderTarget=function(Za,lc=0,Fc=0){Sd=Za;td=lc;Fd=Fc;let jc=!0;var Hc=null;let Kd=!1,Td=!1;if(Za){Hc=nf.get(Za);void 0!==Hc.__useDefaultFramebuffer?(xe.bindFramebuffer(Zb.FRAMEBUFFER,null),jc=!1):void 0===Hc.__webglFramebuffer?zf.setupRenderTarget(Za):Hc.__hasExternalTextures&&zf.rebindTextures(Za,nf.get(Za.texture).__webglTexture,nf.get(Za.depthTexture).__webglTexture);
Hc=Za.texture;if(Hc.isData3DTexture||Hc.isDataArrayTexture||Hc.isCompressedArrayTexture)Td=!0;Hc=nf.get(Za).__webglFramebuffer;Za.isWebGLCubeRenderTarget?(Hc=Hc[lc],Kd=!0):Hc=Je.isWebGL2&&0<Za.samples&&!1===zf.useMultisampledRTT(Za)?nf.get(Za).__webglMultisampledFramebuffer:Hc;ld.copy(Za.viewport);pd.copy(Za.scissor);Pd=Za.scissorTest}else ld.copy(Ob).multiplyScalar(Oa).floor(),pd.copy(dd).multiplyScalar(Oa).floor(),Pd=ub;xe.bindFramebuffer(Zb.FRAMEBUFFER,Hc)&&Je.drawBuffers&&jc&&xe.drawBuffers(Za,
Hc);xe.viewport(ld);xe.scissor(pd);xe.setScissorTest(Pd);Kd?(Za=nf.get(Za.texture),Zb.framebufferTexture2D(Zb.FRAMEBUFFER,Zb.COLOR_ATTACHMENT0,Zb.TEXTURE_CUBE_MAP_POSITIVE_X+lc,Za.__webglTexture,Fc)):Td&&(Za=nf.get(Za.texture),Zb.framebufferTextureLayer(Zb.FRAMEBUFFER,Zb.COLOR_ATTACHMENT0,Za.__webglTexture,Fc||0,lc||0));ce=-1};this.readRenderTargetPixels=function(Za,lc,Fc,jc,Hc,Kd,Td){if(Za&&Za.isWebGLRenderTarget){var vd=nf.get(Za).__webglFramebuffer;Za.isWebGLCubeRenderTarget&&void 0!==Td&&(vd=
vd[Td]);if(vd){xe.bindFramebuffer(Zb.FRAMEBUFFER,vd);try{const hf=Za.texture,Ee=hf.format,Qf=hf.type;if(1023!==Ee&&Wg.convert(Ee)!==Zb.getParameter(Zb.IMPLEMENTATION_COLOR_READ_FORMAT))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");else{var Ke=1016===Qf&&(ae.has("EXT_color_buffer_half_float")||Je.isWebGL2&&ae.has("EXT_color_buffer_float"));1009===Qf||Wg.convert(Qf)===Zb.getParameter(Zb.IMPLEMENTATION_COLOR_READ_TYPE)||1015===
Qf&&(Je.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float"))||Ke?0<=lc&&lc<=Za.width-jc&&0<=Fc&&Fc<=Za.height-Hc&&Zb.readPixels(lc,Fc,jc,Hc,Wg.convert(Ee),Wg.convert(Qf),Kd):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}}finally{Za=null!==Sd?nf.get(Sd).__webglFramebuffer:null,xe.bindFramebuffer(Zb.FRAMEBUFFER,Za)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};
this.copyFramebufferToTexture=function(Za,lc,Fc=0){var jc=Math.pow(2,-Fc);const Hc=Math.floor(lc.image.width*jc);jc=Math.floor(lc.image.height*jc);zf.setTexture2D(lc,0);Zb.copyTexSubImage2D(Zb.TEXTURE_2D,Fc,0,0,Za.x,Za.y,Hc,jc);xe.unbindTexture()};this.copyTextureToTexture=function(Za,lc,Fc,jc=0){const Hc=lc.image.width,Kd=lc.image.height,Td=Wg.convert(Fc.format),vd=Wg.convert(Fc.type);zf.setTexture2D(Fc,0);Zb.pixelStorei(Zb.UNPACK_FLIP_Y_WEBGL,Fc.flipY);Zb.pixelStorei(Zb.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
Fc.premultiplyAlpha);Zb.pixelStorei(Zb.UNPACK_ALIGNMENT,Fc.unpackAlignment);lc.isDataTexture?Zb.texSubImage2D(Zb.TEXTURE_2D,jc,Za.x,Za.y,Hc,Kd,Td,vd,lc.image.data):lc.isCompressedTexture?Zb.compressedTexSubImage2D(Zb.TEXTURE_2D,jc,Za.x,Za.y,lc.mipmaps[0].width,lc.mipmaps[0].height,Td,lc.mipmaps[0].data):Zb.texSubImage2D(Zb.TEXTURE_2D,jc,Za.x,Za.y,Td,vd,lc.image);0===jc&&Fc.generateMipmaps&&Zb.generateMipmap(Zb.TEXTURE_2D);xe.unbindTexture()};this.copyTextureToTexture3D=function(Za,lc,Fc,jc,Hc=0){if(Kc.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");
else{var Kd=Za.max.x-Za.min.x+1,Td=Za.max.y-Za.min.y+1,vd=Za.max.z-Za.min.z+1,Ke=Wg.convert(jc.format),hf=Wg.convert(jc.type);if(jc.isData3DTexture){zf.setTexture3D(jc,0);var Ee=Zb.TEXTURE_3D}else if(jc.isDataArrayTexture)zf.setTexture2DArray(jc,0),Ee=Zb.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Zb.pixelStorei(Zb.UNPACK_FLIP_Y_WEBGL,jc.flipY);Zb.pixelStorei(Zb.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
jc.premultiplyAlpha);Zb.pixelStorei(Zb.UNPACK_ALIGNMENT,jc.unpackAlignment);var Qf=Zb.getParameter(Zb.UNPACK_ROW_LENGTH),bi=Zb.getParameter(Zb.UNPACK_IMAGE_HEIGHT),nh=Zb.getParameter(Zb.UNPACK_SKIP_PIXELS),mk=Zb.getParameter(Zb.UNPACK_SKIP_ROWS),nk=Zb.getParameter(Zb.UNPACK_SKIP_IMAGES),qe=Fc.isCompressedTexture?Fc.mipmaps[0]:Fc.image;Zb.pixelStorei(Zb.UNPACK_ROW_LENGTH,qe.width);Zb.pixelStorei(Zb.UNPACK_IMAGE_HEIGHT,qe.height);Zb.pixelStorei(Zb.UNPACK_SKIP_PIXELS,Za.min.x);Zb.pixelStorei(Zb.UNPACK_SKIP_ROWS,
Za.min.y);Zb.pixelStorei(Zb.UNPACK_SKIP_IMAGES,Za.min.z);Fc.isDataTexture||Fc.isData3DTexture?Zb.texSubImage3D(Ee,Hc,lc.x,lc.y,lc.z,Kd,Td,vd,Ke,hf,qe.data):Fc.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Zb.compressedTexSubImage3D(Ee,Hc,lc.x,lc.y,lc.z,Kd,Td,vd,Ke,qe.data)):Zb.texSubImage3D(Ee,Hc,lc.x,lc.y,lc.z,Kd,Td,vd,Ke,hf,qe);Zb.pixelStorei(Zb.UNPACK_ROW_LENGTH,Qf);Zb.pixelStorei(Zb.UNPACK_IMAGE_HEIGHT,bi);Zb.pixelStorei(Zb.UNPACK_SKIP_PIXELS,
nh);Zb.pixelStorei(Zb.UNPACK_SKIP_ROWS,mk);Zb.pixelStorei(Zb.UNPACK_SKIP_IMAGES,nk);0===Hc&&jc.generateMipmaps&&Zb.generateMipmap(Ee);xe.unbindTexture()}};this.initTexture=function(Za){Za.isCubeTexture?zf.setTextureCube(Za,0):Za.isData3DTexture?zf.setTexture3D(Za,0):Za.isDataArrayTexture||Za.isCompressedArrayTexture?zf.setTexture2DArray(Za,0):zf.setTexture2D(Za,0);xe.unbindTexture()};this.resetState=function(){Fd=td=0;Sd=null;xe.reset();$h.reset()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",
{detail:this}))}function Ad(a,e,n,v,z,I){yg.subVectors(a,n).addScalar(.5).multiply(v);void 0!==z?(ci.x=I*yg.x-z*yg.y,ci.y=z*yg.x+I*yg.y):ci.copy(yg);a.copy(e);a.x+=ci.x;a.y+=ci.y;a.applyMatrix4(Zi)}function Ld(a,e,n,v,z,I,L){const R=of.distanceSqToPoint(a);R<n&&(n=new jb,of.closestPointToPoint(a,n),n.applyMatrix4(v),a=z.ray.origin.distanceTo(n),a<z.near||a>z.far||I.push({distance:a,distanceToRay:Math.sqrt(R),point:n,index:e,face:null,object:L}))}function Xb(){let a=0,e=0,n=0,v=0;return{initCatmullRom:function(z,
I,L,R,V){z=V*(L-z);R=V*(R-I);a=I;e=z;n=-3*I+3*L-2*z-R;v=2*I-2*L+z+R},initNonuniformCatmullRom:function(z,I,L,R,V,Y,ja){z=((I-z)/V-(L-z)/(V+Y)+(L-I)/Y)*Y;R=((L-I)/Y-(R-I)/(Y+ja)+(R-L)/ja)*Y;a=I;e=z;n=-3*I+3*L-2*z-R;v=2*I-2*L+z+R},calc:function(z){const I=z*z;return a+e*z+n*I+v*I*z}}}function Xd(a,e,n,v,z){e=.5*(v-e);z=.5*(z-n);const I=a*a;return(2*n-2*v+e+z)*a*I+(-3*n+3*v-2*e-z)*I+e*a+n}function id(a,e,n,v){const z=1-a;return z*z*e+2*(1-a)*a*n+a*a*v}function $c(a,e,n,v,z){const I=1-a,L=1-a;return I*
I*I*e+3*L*L*a*n+3*(1-a)*a*a*v+a*a*a*z}function ad(a,e,n,v,z){let I,L=0;for(let R=e,V=n-v;R<n;R+=v)L+=(a[V]-a[R])*(a[R+1]+a[V+1]),V=R;if(z===0<L)for(z=e;z<n;z+=v)I=qc(z,a[z],a[z+1],I);else for(z=n-v;z>=e;z-=v)I=qc(z,a[z],a[z+1],I);I&&mb(I,I.next)&&(xc(I),I=I.next);return I}function ud(a,e){if(!a)return a;e||(e=a);let n;do if(n=!1,a.steiner||!mb(a,a.next)&&0!==Id(a.prev,a,a.next))a=a.next;else{xc(a);a=e=a.prev;if(a===a.next)break;n=!0}while(n||a!==e);return e}function md(a,e,n,v,z,I,L){if(a){if(!L&&
I){var R=a,V=R;do 0===V.z&&(V.z=Ye(V.x,V.y,v,z,I)),V.prevZ=V.prev,V=V.nextZ=V.next;while(V!==R);V.prevZ.nextZ=null;V.prevZ=null;R=V;var Y,ja,ka,qa,Ga=1;do{V=R;var Fa=R=null;for(ja=0;V;){ja++;var ia=V;for(Y=ka=0;Y<Ga&&(ka++,ia=ia.nextZ,ia);Y++);for(qa=Ga;0<ka||0<qa&&ia;)0!==ka&&(0===qa||!ia||V.z<=ia.z)?(Y=V,V=V.nextZ,ka--):(Y=ia,ia=ia.nextZ,qa--),Fa?Fa.nextZ=Y:R=Y,Y.prevZ=Fa,Fa=Y;V=ia}Fa.nextZ=null;Ga*=2}while(1<ja)}for(R=a;a.prev!==a.next;){V=a.prev;ia=a.next;if(I)Fa=Qd(a,v,z,I);else a:{Fa=a.prev;
var La=a;qa=a.next;if(0<=Id(Fa,La,qa)){Fa=!1;break a}ja=Fa.x;ka=La.x;Ga=qa.x;Y=Fa.y;La=La.y;const zb=qa.y,bb=ja<ka?ja<Ga?ja:Ga:ka<Ga?ka:Ga,Gb=Y<La?Y<zb?Y:zb:La<zb?La:zb,Tb=ja>ka?ja>Ga?ja:Ga:ka>Ga?ka:Ga,xb=Y>La?Y>zb?Y:zb:La>zb?La:zb;for(qa=qa.next;qa!==Fa;){if(qa.x>=bb&&qa.x<=Tb&&qa.y>=Gb&&qa.y<=xb&&he(ja,Y,ka,La,Ga,zb,qa.x,qa.y)&&0<=Id(qa.prev,qa,qa.next)){Fa=!1;break a}qa=qa.next}Fa=!0}if(Fa)e.push(V.i/n|0),e.push(a.i/n|0),e.push(ia.i/n|0),xc(a),R=a=ia.next;else if(a=ia,a===R){if(!L)md(ud(a),e,n,
v,z,I,1);else if(1===L){a=ud(a);L=e;R=n;V=a;do ia=V.prev,Fa=V.next.next,!mb(ia,Fa)&&Lb(ia,V,V.next,Fa)&&ic(ia,Fa)&&ic(Fa,ia)&&(L.push(ia.i/R|0),L.push(V.i/R|0),L.push(Fa.i/R|0),xc(V),xc(V.next),V=a=Fa),V=V.next;while(V!==a);a=ud(V);md(a,e,n,v,z,I,2)}else if(2===L)a:{L=a;do{for(R=L.next.next;R!==L.prev;){if(V=L.i!==R.i){V=L;ia=R;if(Fa=V.next.i!==ia.i&&V.prev.i!==ia.i){b:{Fa=V;do{if(Fa.i!==V.i&&Fa.next.i!==V.i&&Fa.i!==ia.i&&Fa.next.i!==ia.i&&Lb(Fa,Fa.next,V,ia)){Fa=!0;break b}Fa=Fa.next}while(Fa!==
V);Fa=!1}Fa=!Fa}if(Fa){if(Fa=ic(V,ia)&&ic(ia,V)){Fa=V;ja=!1;ka=(V.x+ia.x)/2;Ga=(V.y+ia.y)/2;do Fa.y>Ga!==Fa.next.y>Ga&&Fa.next.y!==Fa.y&&ka<(Fa.next.x-Fa.x)*(Ga-Fa.y)/(Fa.next.y-Fa.y)+Fa.x&&(ja=!ja),Fa=Fa.next;while(Fa!==V);Fa=ja}Fa=Fa&&(Id(V.prev,V,ia.prev)||Id(V,ia.prev,ia))||mb(V,ia)&&0<Id(V.prev,V,V.next)&&0<Id(ia.prev,ia,ia.next)}V=Fa}if(V){a=Ac(L,R);L=ud(L,L.next);a=ud(a,a.next);md(L,e,n,v,z,I,0);md(a,e,n,v,z,I,0);break a}R=R.next}L=L.next}while(L!==a)}break}}}}function Qd(a,e,n,v){const z=
a.prev,I=a.next;if(0<=Id(z,a,I))return!1;const L=z.x,R=a.x,V=I.x,Y=z.y,ja=a.y,ka=I.y,qa=L<R?L<V?L:V:R<V?R:V,Ga=Y<ja?Y<ka?Y:ka:ja<ka?ja:ka,Fa=L>R?L>V?L:V:R>V?R:V,ia=Y>ja?Y>ka?Y:ka:ja>ka?ja:ka,La=Ye(qa,Ga,e,n,v);e=Ye(Fa,ia,e,n,v);n=a.prevZ;for(a=a.nextZ;n&&n.z>=La&&a&&a.z<=e;){if(n.x>=qa&&n.x<=Fa&&n.y>=Ga&&n.y<=ia&&n!==z&&n!==I&&he(L,Y,R,ja,V,ka,n.x,n.y)&&0<=Id(n.prev,n,n.next))return!1;n=n.prevZ;if(a.x>=qa&&a.x<=Fa&&a.y>=Ga&&a.y<=ia&&a!==z&&a!==I&&he(L,Y,R,ja,V,ka,a.x,a.y)&&0<=Id(a.prev,a,a.next))return!1;
a=a.nextZ}for(;n&&n.z>=La;){if(n.x>=qa&&n.x<=Fa&&n.y>=Ga&&n.y<=ia&&n!==z&&n!==I&&he(L,Y,R,ja,V,ka,n.x,n.y)&&0<=Id(n.prev,n,n.next))return!1;n=n.prevZ}for(;a&&a.z<=e;){if(a.x>=qa&&a.x<=Fa&&a.y>=Ga&&a.y<=ia&&a!==z&&a!==I&&he(L,Y,R,ja,V,ka,a.x,a.y)&&0<=Id(a.prev,a,a.next))return!1;a=a.nextZ}return!0}function Le(a,e){return a.x-e.x}function Ye(a,e,n,v,z){a=(a-n)*z|0;e=(e-v)*z|0;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;
return(a|a<<1)&1431655765|((e|e<<1)&1431655765)<<1}function he(a,e,n,v,z,I,L,R){return(z-L)*(e-R)>=(a-L)*(I-R)&&(a-L)*(v-R)>=(n-L)*(e-R)&&(n-L)*(I-R)>=(z-L)*(v-R)}function Id(a,e,n){return(e.y-a.y)*(n.x-e.x)-(e.x-a.x)*(n.y-e.y)}function mb(a,e){return a.x===e.x&&a.y===e.y}function Lb(a,e,n,v){const z=kc(Id(a,e,n)),I=kc(Id(a,e,v)),L=kc(Id(n,v,a)),R=kc(Id(n,v,e));return z!==I&&L!==R||0===z&&cc(a,n,e)||0===I&&cc(a,v,e)||0===L&&cc(n,a,v)||0===R&&cc(n,e,v)?!0:!1}function cc(a,e,n){return e.x<=Math.max(a.x,
n.x)&&e.x>=Math.min(a.x,n.x)&&e.y<=Math.max(a.y,n.y)&&e.y>=Math.min(a.y,n.y)}function kc(a){return 0<a?1:0>a?-1:0}function ic(a,e){return 0>Id(a.prev,a,a.next)?0<=Id(a,e,a.next)&&0<=Id(a,a.prev,e):0>Id(a,e,a.prev)||0>Id(a,a.next,e)}function Ac(a,e){const n=new U(a.i,a.x,a.y),v=new U(e.i,e.x,e.y),z=a.next,I=e.prev;a.next=e;e.prev=a;n.next=z;z.prev=n;v.next=n;n.prev=v;I.next=v;v.prev=I;return v}function qc(a,e,n,v){a=new U(a,e,n);v?(a.next=v.next,a.prev=v,v.next.prev=a,v.next=a):(a.prev=a,a.next=a);
return a}function xc(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function U(a,e,n){this.i=a;this.x=e;this.y=n;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function ha(a){const e=a.length;2<e&&a[e-1].equals(a[0])&&a.pop()}function na(a,e){for(let n=0;n<e.length;n++)a.push(e[n].x),a.push(e[n].y)}function Aa(a,e,n){const v=`${a.x},${a.y},${a.z}-${e.x},${e.y},${e.z}`;a=`${e.x},${e.y},${e.z}-${a.x},${a.y},${a.z}`;
if(!0===n.has(v)||!0===n.has(a))return!1;n.add(v);n.add(a);return!0}function Ca(a,e,n){return sb(a)?new a.constructor(a.subarray(e,void 0!==n?n:a.length)):a.slice(e,n)}function Ya(a,e,n){return!a||!n&&a.constructor===e?a:"number"===typeof e.BYTES_PER_ELEMENT?new e(a):Array.prototype.slice.call(a)}function sb(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Qb(a){const e=a.length,n=Array(e);for(let v=0;v!==e;++v)n[v]=v;n.sort(function(v,z){return a[v]-a[z]});return n}function Vb(a,
e,n){const v=a.length,z=new a.constructor(v);for(let I=0,L=0;L!==v;++I){const R=n[I]*e;for(let V=0;V!==e;++V)z[L++]=a[R+V]}return z}function nc(a,e,n,v){let z=1,I=a[0];for(;void 0!==I&&void 0===I[v];)I=a[z++];if(void 0!==I){var L=I[v];if(void 0!==L)if(Array.isArray(L)){do L=I[v],void 0!==L&&(e.push(I.time),n.push.apply(n,L)),I=a[z++];while(void 0!==I)}else if(void 0!==L.toArray){do L=I[v],void 0!==L&&(e.push(I.time),L.toArray(n,n.length)),I=a[z++];while(void 0!==I)}else{do L=I[v],void 0!==L&&(e.push(I.time),
n.push(L)),I=a[z++];while(void 0!==I)}}}function Wc(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return $i;case "vector":case "vector2":case "vector3":case "vector4":return aj;case "color":return qk;case "quaternion":return zi;case "bool":case "boolean":return di;case "string":return ei}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a);}function sd(){return("undefined"===typeof performance?Date:performance).now()}function Rd(a,e){return a.distance-
e.distance}function ye(a,e,n,v){a.layers.test(e.layers)&&a.raycast(e,n);if(!0===v){a=a.children;for(let z=0,I=a.length;z<I;z++)ye(a[z],e,n,!0)}}function re(a){const e=[];!0===a.isBone&&e.push(a);for(let n=0;n<a.children.length;n++)e.push.apply(e,re(a.children[n]));return e}function Cd(a,e,n,v,z,I,L){Aj.set(z,I,L).unproject(v);a=e[a];if(void 0!==a){n=n.getAttribute("position");for(let R=0,V=a.length;R<V;R++)n.setXYZ(a[R],Aj.x,Aj.y,Aj.z)}}class Md{addEventListener(a,e){void 0===this._listeners&&(this._listeners=
{});const n=this._listeners;void 0===n[a]&&(n[a]=[]);-1===n[a].indexOf(e)&&n[a].push(e)}hasEventListener(a,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[a]&&-1!==n[a].indexOf(e)}removeEventListener(a,e){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(e=a.indexOf(e),-1!==e&&a.splice(e,1)))}dispatchEvent(a){if(void 0!==this._listeners){var e=this._listeners[a.type];if(void 0!==e){a.target=this;e=e.slice(0);for(let n=0,v=e.length;n<v;n++)e[n].call(this,
a);a.target=null}}}}const ve="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let Ze=1234567;const Zd=Math.PI/180,Jd=180/Math.PI,$e={DEG2RAD:Zd,RAD2DEG:Jd,generateUUID:r,clamp:m,euclideanModulo:d,mapLinear:function(a,e,n,v,z){return v+(a-e)*(z-v)/(n-e)},inverseLerp:function(a,e,n){return a!==e?(n-a)/(e-a):0},lerp:c,damp:function(a,e,n,v){return c(a,e,1-Math.exp(-n*v))},pingpong:function(a,e=1){return e-Math.abs(d(a,2*e)-e)},smoothstep:function(a,e,n){if(a<=e)return 0;if(a>=n)return 1;a=(a-e)/(n-e);return a*a*(3-2*a)},smootherstep:function(a,e,n){if(a<=e)return 0;if(a>=n)return 1;
a=(a-e)/(n-e);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,e){return a+Math.floor(Math.random()*(e-a+1))},randFloat:function(a,e){return a+Math.random()*(e-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){void 0!==a&&(Ze=a);a=Ze+=1831565813;a=Math.imul(a^a>>>15,a|1);a^=a+Math.imul(a^a>>>7,a|61);return((a^a>>>14)>>>0)/4294967296},degToRad:function(a){return a*Zd},radToDeg:function(a){return a*Jd},isPowerOfTwo:g,ceilPowerOfTwo:h,floorPowerOfTwo:l,setQuaternionFromProperEuler:function(a,
e,n,v,z){var I=Math.cos;const L=Math.sin,R=I(n/2);n=L(n/2);const V=I((e+v)/2),Y=L((e+v)/2),ja=I((e-v)/2),ka=L((e-v)/2);I=I((v-e)/2);e=L((v-e)/2);switch(z){case "XYX":a.set(R*Y,n*ja,n*ka,R*V);break;case "YZY":a.set(n*ka,R*Y,n*ja,R*V);break;case "ZXZ":a.set(n*ja,n*ka,R*Y,R*V);break;case "XZX":a.set(R*Y,n*e,n*I,R*V);break;case "YXY":a.set(n*I,R*Y,n*e,R*V);break;case "ZYZ":a.set(n*e,n*I,R*Y,R*V);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+
z)}},normalize:t,denormalize:k};class Cc{constructor(a=0,e=0){Cc.prototype.isVector2=!0;this.x=a;this.y=e}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,e){this.x=a;this.y=e;return this}setScalar(a){this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setComponent(a,e){switch(a){case 0:this.x=e;break;case 1:this.y=e;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y)}copy(a){this.x=a.x;this.y=a.y;return this}add(a){this.x+=a.x;this.y+=a.y;return this}addScalar(a){this.x+=a;this.y+=a;return this}addVectors(a,e){this.x=a.x+e.x;this.y=a.y+e.y;return this}addScaledVector(a,e){this.x+=a.x*e;this.y+=a.y*e;return this}sub(a){this.x-=a.x;this.y-=a.y;return this}subScalar(a){this.x-=a;this.y-=a;return this}subVectors(a,e){this.x=a.x-e.x;this.y=a.y-
e.y;return this}multiply(a){this.x*=a.x;this.y*=a.y;return this}multiplyScalar(a){this.x*=a;this.y*=a;return this}divide(a){this.x/=a.x;this.y/=a.y;return this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const e=this.x,n=this.y;a=a.elements;this.x=a[0]*e+a[3]*n+a[6];this.y=a[1]*e+a[4]*n+a[7];return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this}clamp(a,e){this.x=Math.max(a.x,
Math.min(e.x,this.x));this.y=Math.max(a.y,Math.min(e.y,this.y));return this}clampScalar(a,e){this.x=Math.max(a,Math.min(e,this.x));this.y=Math.max(a,Math.min(e,this.y));return this}clampLength(a,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(a,Math.min(e,n)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=
0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const e=
this.x-a.x;a=this.y-a.y;return e*e+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,e){this.x+=(a.x-this.x)*e;this.y+=(a.y-this.y)*e;return this}lerpVectors(a,e,n){this.x=a.x+(e.x-a.x)*n;this.y=a.y+(e.y-a.y)*n;return this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,e=0){this.x=a[e];this.y=a[e+1];return this}toArray(a=[],e=0){a[e]=this.x;a[e+1]=this.y;return a}fromBufferAttribute(a,e){this.x=a.getX(e);
this.y=a.getY(e);return this}rotateAround(a,e){const n=Math.cos(e);e=Math.sin(e);const v=this.x-a.x,z=this.y-a.y;this.x=v*n-z*e+a.x;this.y=v*e+z*n+a.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}class ef{constructor(){ef.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1]}set(a,e,n,v,z,I,L,R,V){const Y=this.elements;Y[0]=a;Y[1]=v;Y[2]=L;Y[3]=e;Y[4]=z;Y[5]=R;Y[6]=n;Y[7]=I;Y[8]=V;return this}identity(){this.set(1,0,
0,0,1,0,0,0,1);return this}copy(a){const e=this.elements;a=a.elements;e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=a[3];e[4]=a[4];e[5]=a[5];e[6]=a[6];e[7]=a[7];e[8]=a[8];return this}extractBasis(a,e,n){a.setFromMatrix3Column(this,0);e.setFromMatrix3Column(this,1);n.setFromMatrix3Column(this,2);return this}setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,
e){var n=a.elements,v=e.elements;e=this.elements;a=n[0];const z=n[3],I=n[6],L=n[1],R=n[4],V=n[7],Y=n[2],ja=n[5];n=n[8];const ka=v[0],qa=v[3],Ga=v[6],Fa=v[1],ia=v[4],La=v[7],zb=v[2],bb=v[5];v=v[8];e[0]=a*ka+z*Fa+I*zb;e[3]=a*qa+z*ia+I*bb;e[6]=a*Ga+z*La+I*v;e[1]=L*ka+R*Fa+V*zb;e[4]=L*qa+R*ia+V*bb;e[7]=L*Ga+R*La+V*v;e[2]=Y*ka+ja*Fa+n*zb;e[5]=Y*qa+ja*ia+n*bb;e[8]=Y*Ga+ja*La+n*v;return this}multiplyScalar(a){const e=this.elements;e[0]*=a;e[3]*=a;e[6]*=a;e[1]*=a;e[4]*=a;e[7]*=a;e[2]*=a;e[5]*=a;e[8]*=a;return this}determinant(){var a=
this.elements;const e=a[0],n=a[1],v=a[2],z=a[3],I=a[4],L=a[5],R=a[6],V=a[7];a=a[8];return e*I*a-e*L*V-n*z*a+n*L*R+v*z*V-v*I*R}invert(){const a=this.elements,e=a[0],n=a[1],v=a[2],z=a[3],I=a[4],L=a[5],R=a[6],V=a[7],Y=a[8],ja=Y*I-L*V,ka=L*R-Y*z,qa=V*z-I*R;var Ga=e*ja+n*ka+v*qa;if(0===Ga)return this.set(0,0,0,0,0,0,0,0,0);Ga=1/Ga;a[0]=ja*Ga;a[1]=(v*V-Y*n)*Ga;a[2]=(L*n-v*I)*Ga;a[3]=ka*Ga;a[4]=(Y*e-v*R)*Ga;a[5]=(v*z-L*e)*Ga;a[6]=qa*Ga;a[7]=(n*R-V*e)*Ga;a[8]=(I*e-n*z)*Ga;return this}transpose(){let a;const e=
this.elements;a=e[1];e[1]=e[3];e[3]=a;a=e[2];e[2]=e[6];e[6]=a;a=e[5];e[5]=e[7];e[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const e=this.elements;a[0]=e[0];a[1]=e[3];a[2]=e[6];a[3]=e[1];a[4]=e[4];a[5]=e[7];a[6]=e[2];a[7]=e[5];a[8]=e[8];return this}setUvTransform(a,e,n,v,z,I,L){const R=Math.cos(z);z=Math.sin(z);this.set(n*R,n*z,-n*(R*I+z*L)+I+a,-v*z,v*R,-v*(-z*I+R*L)+L+e,0,0,1);return this}scale(a,e){this.premultiply(pg.makeScale(a,
e));return this}rotate(a){this.premultiply(pg.makeRotation(-a));return this}translate(a,e){this.premultiply(pg.makeTranslation(a,e));return this}makeTranslation(a,e){this.set(1,0,a,0,1,e,0,0,1);return this}makeRotation(a){const e=Math.cos(a);a=Math.sin(a);this.set(e,-a,0,a,e,0,0,0,1);return this}makeScale(a,e){this.set(a,0,0,0,e,0,0,0,1);return this}equals(a){const e=this.elements;a=a.elements;for(let n=0;9>n;n++)if(e[n]!==a[n])return!1;return!0}fromArray(a,e=0){for(let n=0;9>n;n++)this.elements[n]=
a[n+e];return this}toArray(a=[],e=0){const n=this.elements;a[e]=n[0];a[e+1]=n[1];a[e+2]=n[2];a[e+3]=n[3];a[e+4]=n[4];a[e+5]=n[5];a[e+6]=n[6];a[e+7]=n[7];a[e+8]=n[8];return a}clone(){return(new this.constructor).fromArray(this.elements)}}const pg=new ef,sf={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};class pf{constructor(a=0,e=0,n=0,v=1){this.isQuaternion=!0;this._x=a;this._y=e;this._z=n;this._w=v}static slerpFlat(a,e,n,v,z,I,L){let R=
n[v+0],V=n[v+1],Y=n[v+2];n=n[v+3];v=z[I+0];const ja=z[I+1],ka=z[I+2];z=z[I+3];if(0===L)a[e+0]=R,a[e+1]=V,a[e+2]=Y,a[e+3]=n;else if(1===L)a[e+0]=v,a[e+1]=ja,a[e+2]=ka,a[e+3]=z;else{if(n!==z||R!==v||V!==ja||Y!==ka){I=1-L;var qa=R*v+V*ja+Y*ka+n*z,Ga=0<=qa?1:-1,Fa=1-qa*qa;Fa>Number.EPSILON&&(Fa=Math.sqrt(Fa),qa=Math.atan2(Fa,qa*Ga),I=Math.sin(I*qa)/Fa,L=Math.sin(L*qa)/Fa);Ga*=L;R=R*I+v*Ga;V=V*I+ja*Ga;Y=Y*I+ka*Ga;n=n*I+z*Ga;I===1-L&&(L=1/Math.sqrt(R*R+V*V+Y*Y+n*n),R*=L,V*=L,Y*=L,n*=L)}a[e]=R;a[e+1]=V;
a[e+2]=Y;a[e+3]=n}}static multiplyQuaternionsFlat(a,e,n,v,z,I){const L=n[v],R=n[v+1],V=n[v+2];n=n[v+3];v=z[I];const Y=z[I+1],ja=z[I+2];z=z[I+3];a[e]=L*z+n*v+R*ja-V*Y;a[e+1]=R*z+n*Y+V*v-L*ja;a[e+2]=V*z+n*ja+L*Y-R*v;a[e+3]=n*z-L*v-R*Y-V*ja;return a}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a;this._onChangeCallback()}set(a,
e,n,v){this._x=a;this._y=e;this._z=n;this._w=v;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this}setFromEuler(a,e){var n=a._x,v=a._y,z=a._z;a=a._order;var I=Math.cos;const L=Math.sin,R=I(n/2),V=I(v/2);I=I(z/2);n=L(n/2);v=L(v/2);z=L(z/2);switch(a){case "XYZ":this._x=n*V*I+R*v*z;this._y=R*v*I-n*V*z;this._z=R*V*z+n*v*I;this._w=R*V*I-n*v*z;break;case "YXZ":this._x=
n*V*I+R*v*z;this._y=R*v*I-n*V*z;this._z=R*V*z-n*v*I;this._w=R*V*I+n*v*z;break;case "ZXY":this._x=n*V*I-R*v*z;this._y=R*v*I+n*V*z;this._z=R*V*z+n*v*I;this._w=R*V*I-n*v*z;break;case "ZYX":this._x=n*V*I-R*v*z;this._y=R*v*I+n*V*z;this._z=R*V*z-n*v*I;this._w=R*V*I+n*v*z;break;case "YZX":this._x=n*V*I+R*v*z;this._y=R*v*I+n*V*z;this._z=R*V*z-n*v*I;this._w=R*V*I-n*v*z;break;case "XZY":this._x=n*V*I-R*v*z;this._y=R*v*I-n*V*z;this._z=R*V*z+n*v*I;this._w=R*V*I+n*v*z;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+
a)}!1!==e&&this._onChangeCallback();return this}setFromAxisAngle(a,e){e/=2;const n=Math.sin(e);this._x=a.x*n;this._y=a.y*n;this._z=a.z*n;this._w=Math.cos(e);this._onChangeCallback();return this}setFromRotationMatrix(a){var e=a.elements,n=e[0];a=e[4];const v=e[8],z=e[1],I=e[5],L=e[9],R=e[2],V=e[6];e=e[10];const Y=n+I+e;0<Y?(n=.5/Math.sqrt(Y+1),this._w=.25/n,this._x=(V-L)*n,this._y=(v-R)*n,this._z=(z-a)*n):n>I&&n>e?(n=2*Math.sqrt(1+n-I-e),this._w=(V-L)/n,this._x=.25*n,this._y=(a+z)/n,this._z=(v+R)/
n):I>e?(n=2*Math.sqrt(1+I-n-e),this._w=(v-R)/n,this._x=(a+z)/n,this._y=.25*n,this._z=(L+V)/n):(n=2*Math.sqrt(1+e-n-I),this._w=(z-a)/n,this._x=(v+R)/n,this._y=(L+V)/n,this._z=.25*n);this._onChangeCallback();return this}setFromUnitVectors(a,e){let n=a.dot(e)+1;n<Number.EPSILON?(n=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*e.z-a.z*e.y,this._y=a.z*e.x-a.x*e.z,this._z=a.x*e.y-a.y*e.x);this._w=n;return this.normalize()}angleTo(a){return 2*
Math.acos(Math.abs(m(this.dot(a),-1,1)))}rotateTowards(a,e){const n=this.angleTo(a);if(0===n)return this;this.slerp(a,Math.min(1,e/n));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+
this._z*this._z+this._w*this._w)}normalize(){let a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();return this}multiply(a){return this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,e){const n=a._x,v=a._y,z=a._z;a=a._w;const I=e._x,L=e._y,R=e._z;e=e._w;this._x=n*e+a*I+v*R-z*L;this._y=v*e+a*L+z*I-n*R;this._z=z*e+a*R+n*L-v*I;this._w=a*e-n*I-v*L-z*R;this._onChangeCallback();
return this}slerp(a,e){if(0===e)return this;if(1===e)return this.copy(a);const n=this._x,v=this._y,z=this._z,I=this._w;var L=I*a._w+n*a._x+v*a._y+z*a._z;0>L?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,L=-L):this.copy(a);if(1<=L)return this._w=I,this._x=n,this._y=v,this._z=z,this;a=1-L*L;if(a<=Number.EPSILON)return L=1-e,this._w=L*I+e*this._w,this._x=L*n+e*this._x,this._y=L*v+e*this._y,this._z=L*z+e*this._z,this.normalize(),this._onChangeCallback(),this;a=Math.sqrt(a);const R=Math.atan2(a,
L);L=Math.sin((1-e)*R)/a;e=Math.sin(e*R)/a;this._w=I*L+this._w*e;this._x=n*L+this._x*e;this._y=v*L+this._y*e;this._z=z*L+this._z*e;this._onChangeCallback();return this}slerpQuaternions(a,e,n){return this.copy(a).slerp(e,n)}random(){var a=Math.random();const e=Math.sqrt(1-a);a=Math.sqrt(a);const n=2*Math.PI*Math.random(),v=2*Math.PI*Math.random();return this.set(e*Math.cos(n),a*Math.sin(v),a*Math.cos(v),e*Math.sin(n))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,
e=0){this._x=a[e];this._y=a[e+1];this._z=a[e+2];this._w=a[e+3];this._onChangeCallback();return this}toArray(a=[],e=0){a[e]=this._x;a[e+1]=this._y;a[e+2]=this._z;a[e+3]=this._w;return a}fromBufferAttribute(a,e){this._x=a.getX(e);this._y=a.getY(e);this._z=a.getZ(e);this._w=a.getW(e);return this}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}class jb{constructor(a=0,e=0,n=0){jb.prototype.isVector3=!0;
this.x=a;this.y=e;this.z=n}set(a,e,n){void 0===n&&(n=this.z);this.x=a;this.y=e;this.z=n;return this}setScalar(a){this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setComponent(a,e){switch(a){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+
a);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this}addVectors(a,e){this.x=a.x+e.x;this.y=a.y+e.y;this.z=a.z+e.z;return this}addScaledVector(a,e){this.x+=a.x*e;this.y+=a.y*e;this.z+=a.z*e;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this}subVectors(a,e){this.x=
a.x-e.x;this.y=a.y-e.y;this.z=a.z-e.z;return this}multiply(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}multiplyVectors(a,e){this.x=a.x*e.x;this.y=a.y*e.y;this.z=a.z*e.z;return this}applyEuler(a){return this.applyQuaternion(Ih.setFromEuler(a))}applyAxisAngle(a,e){return this.applyQuaternion(Ih.setFromAxisAngle(a,e))}applyMatrix3(a){const e=this.x,n=this.y,v=this.z;a=a.elements;this.x=a[0]*e+a[3]*n+a[6]*v;this.y=a[1]*e+a[4]*n+a[7]*v;
this.z=a[2]*e+a[5]*n+a[8]*v;return this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const e=this.x,n=this.y,v=this.z;a=a.elements;const z=1/(a[3]*e+a[7]*n+a[11]*v+a[15]);this.x=(a[0]*e+a[4]*n+a[8]*v+a[12])*z;this.y=(a[1]*e+a[5]*n+a[9]*v+a[13])*z;this.z=(a[2]*e+a[6]*n+a[10]*v+a[14])*z;return this}applyQuaternion(a){var e=this.x;const n=this.y,v=this.z,z=a.x,I=a.y,L=a.z;a=a.w;const R=a*e+I*v-L*n,V=a*n+L*e-z*v,Y=a*v+z*n-I*e;e=-z*e-I*n-L*v;this.x=R*a+e*-z+V*-L-Y*-I;this.y=
V*a+e*-I+Y*-z-R*-L;this.z=Y*a+e*-L+R*-I-V*-z;return this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const e=this.x,n=this.y,v=this.z;a=a.elements;this.x=a[0]*e+a[4]*n+a[8]*v;this.y=a[1]*e+a[5]*n+a[9]*v;this.z=a[2]*e+a[6]*n+a[10]*v;return this.normalize()}divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this}divideScalar(a){return this.multiplyScalar(1/
a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}clamp(a,e){this.x=Math.max(a.x,Math.min(e.x,this.x));this.y=Math.max(a.y,Math.min(e.y,this.y));this.z=Math.max(a.z,Math.min(e.z,this.z));return this}clampScalar(a,e){this.x=Math.max(a,Math.min(e,this.x));this.y=Math.max(a,Math.min(e,this.y));this.z=Math.max(a,Math.min(e,this.z));return this}clampLength(a,
e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(a,Math.min(e,n)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);
this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,e){this.x+=
(a.x-this.x)*e;this.y+=(a.y-this.y)*e;this.z+=(a.z-this.z)*e;return this}lerpVectors(a,e,n){this.x=a.x+(e.x-a.x)*n;this.y=a.y+(e.y-a.y)*n;this.z=a.z+(e.z-a.z)*n;return this}cross(a){return this.crossVectors(this,a)}crossVectors(a,e){const n=a.x,v=a.y;a=a.z;const z=e.x,I=e.y;e=e.z;this.x=v*e-a*I;this.y=a*z-n*e;this.z=n*I-v*z;return this}projectOnVector(a){var e=a.lengthSq();if(0===e)return this.set(0,0,0);e=a.dot(this)/e;return this.copy(a).multiplyScalar(e)}projectOnPlane(a){Yg.copy(this).projectOnVector(a);
return this.sub(Yg)}reflect(a){return this.sub(Yg.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const e=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===e)return Math.PI/2;a=this.dot(a)/e;return Math.acos(m(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const e=this.x-a.x,n=this.y-a.y;a=this.z-a.z;return e*e+n*n+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,
a.phi,a.theta)}setFromSphericalCoords(a,e,n){const v=Math.sin(e)*a;this.x=v*Math.sin(n);this.y=Math.cos(e)*a;this.z=v*Math.cos(n);return this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,e,n){this.x=a*Math.sin(e);this.y=n;this.z=a*Math.cos(e);return this}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}setFromMatrixScale(a){const e=this.setFromMatrixColumn(a,0).length(),n=this.setFromMatrixColumn(a,
1).length();a=this.setFromMatrixColumn(a,2).length();this.x=e;this.y=n;this.z=a;return this}setFromMatrixColumn(a,e){return this.fromArray(a.elements,4*e)}setFromMatrix3Column(a,e){return this.fromArray(a.elements,3*e)}setFromEuler(a){this.x=a._x;this.y=a._y;this.z=a._z;return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z}fromArray(a,e=0){this.x=a[e];this.y=a[e+1];this.z=a[e+2];return this}toArray(a=[],e=0){a[e]=this.x;a[e+1]=this.y;a[e+2]=this.z;return a}fromBufferAttribute(a,e){this.x=
a.getX(e);this.y=a.getY(e);this.z=a.getZ(e);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const a=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-a**2);this.x=n*Math.cos(e);this.y=n*Math.sin(e);this.z=a;return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z}}const Yg=new jb,Ih=new pf,fi=(new ef).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1E-7,1E-7,.9105199]),Wa=(new ef).fromArray([1.2249401,
-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1E-7,0,1.0982735]),jf=new jb,Yf={["srgb-linear"]:a=>a,srgb:a=>a.convertSRGBToLinear(),["display-p3"]:function(a){a.convertSRGBToLinear();jf.set(a.r,a.g,a.b).applyMatrix3(Wa);return a.setRGB(jf.x,jf.y,jf.z)}},oh={["srgb-linear"]:a=>a,srgb:a=>a.convertLinearToSRGB(),["display-p3"]:function(a){jf.set(a.r,a.g,a.b).applyMatrix3(fi);return a.setRGB(jf.x,jf.y,jf.z).convertLinearToSRGB()}},Me={enabled:!1,get legacyMode(){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");
return!this.enabled},set legacyMode(a){console.warn("THREE.ColorManagement: .legacyMode\x3dfalse renamed to .enabled\x3dtrue in r150.");this.enabled=!a},get workingColorSpace(){return"srgb-linear"},set workingColorSpace(a){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(a,e,n){if(!1===this.enabled||e===n||!e||!n)return a;const v=Yf[e],z=oh[n];if(void 0===v||void 0===z)throw Error(`Unsupported color space conversion, "${e}" to "${n}".`);return z(v(a))},fromWorkingColorSpace:function(a,
e){return this.convert(a,this.workingColorSpace,e)},toWorkingColorSpace:function(a,e){return this.convert(a,e,this.workingColorSpace)}};let zg;class Hf{static getDataURL(a){if(/^data:/i.test(a.src)||"undefined"==typeof HTMLCanvasElement)return a.src;if(a instanceof HTMLCanvasElement)var e=a;else void 0===zg&&(zg=A("canvas")),zg.width=a.width,zg.height=a.height,e=zg.getContext("2d"),a instanceof ImageData?e.putImageData(a,0,0):e.drawImage(a,0,0,a.width,a.height),e=zg;return 2048<e.width||2048<e.height?
(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",a),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(a){if("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap){var e=A("canvas");e.width=a.width;e.height=a.height;var n=e.getContext("2d");n.drawImage(a,0,0,a.width,a.height);a=n.getImageData(0,
0,a.width,a.height);const v=a.data;for(let z=0;z<v.length;z++)v[z]=255*y(v[z]/255);n.putImageData(a,0,0);return e}if(a.data){e=a.data.slice(0);for(n=0;n<e.length;n++)e[n]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*y(e[n]/255)):y(e[n]);return{data:e,width:a.width,height:a.height}}console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.");return a}}class Tf{constructor(a=null){this.isSource=!0;this.uuid=r();this.data=a;this.version=
0}set needsUpdate(a){!0===a&&this.version++}toJSON(a){const e=void 0===a||"string"===typeof a;if(!e&&void 0!==a.images[this.uuid])return a.images[this.uuid];const n={uuid:this.uuid,url:""},v=this.data;if(null!==v){let z;if(Array.isArray(v)){z=[];for(let I=0,L=v.length;I<L;I++)v[I].isDataTexture?z.push(F(v[I].image)):z.push(F(v[I]))}else z=F(v);n.url=z}e||(a.images[this.uuid]=n);return n}}let Jh=0;class kf extends Md{constructor(a=kf.DEFAULT_IMAGE,e=kf.DEFAULT_MAPPING,n=1001,v=1001,z=1006,I=1008,L=
1023,R=1009,V=kf.DEFAULT_ANISOTROPY,Y=3E3){super();this.isTexture=!0;Object.defineProperty(this,"id",{value:Jh++});this.uuid=r();this.name="";this.source=new Tf(a);this.mipmaps=[];this.mapping=e;this.wrapS=n;this.wrapT=v;this.magFilter=z;this.minFilter=I;this.anisotropy=V;this.format=L;this.internalFormat=null;this.type=R;this.offset=new Cc(0,0);this.repeat=new Cc(1,1);this.center=new Cc(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new ef;this.generateMipmaps=!0;this.premultiplyAlpha=
!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=Y;this.userData={};this.version=0;this.onUpdate=null;this.needsPMREMUpdate=this.isRenderTargetTexture=!1}get image(){return this.source.data}set image(a=null){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(a){this.name=a.name;this.source=a.source;this.mipmaps=a.mipmaps.slice(0);this.mapping=
a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;
this.encoding=a.encoding;this.userData=JSON.parse(JSON.stringify(a.userData));this.needsUpdate=!0;return this}toJSON(a){const e=void 0===a||"string"===typeof a;if(!e&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,
wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};0<Object.keys(this.userData).length&&(n.userData=this.userData);e||(a.textures[this.uuid]=n);return n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(300!==
this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}set needsUpdate(a){!0===a&&(this.version++,this.source.needsUpdate=
!0)}}kf.DEFAULT_IMAGE=null;kf.DEFAULT_MAPPING=300;kf.DEFAULT_ANISOTROPY=1;class Be{constructor(a=0,e=0,n=0,v=1){Be.prototype.isVector4=!0;this.x=a;this.y=e;this.z=n;this.w=v}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,e,n,v){this.x=a;this.y=e;this.z=n;this.w=v;return this}setScalar(a){this.w=this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setW(a){this.w=a;return this}setComponent(a,
e){switch(a){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=
a.z;this.w+=a.w;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this}addVectors(a,e){this.x=a.x+e.x;this.y=a.y+e.y;this.z=a.z+e.z;this.w=a.w+e.w;return this}addScaledVector(a,e){this.x+=a.x*e;this.y+=a.y*e;this.z+=a.z*e;this.w+=a.w*e;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this}subVectors(a,e){this.x=a.x-e.x;this.y=a.y-e.y;this.z=a.z-e.z;this.w=a.w-e.w;return this}multiply(a){this.x*=
a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this}applyMatrix4(a){const e=this.x,n=this.y,v=this.z,z=this.w;a=a.elements;this.x=a[0]*e+a[4]*n+a[8]*v+a[12]*z;this.y=a[1]*e+a[5]*n+a[9]*v+a[13]*z;this.z=a[2]*e+a[6]*n+a[10]*v+a[14]*z;this.w=a[3]*e+a[7]*n+a[11]*v+a[15]*z;return this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const e=Math.sqrt(1-a.w*a.w);1E-4>e?(this.x=1,this.z=
this.y=0):(this.x=a.x/e,this.y=a.y/e,this.z=a.z/e);return this}setAxisAngleFromRotationMatrix(a){a=a.elements;var e=a[0];var n=a[4];var v=a[8];const z=a[1];var I=a[5],L=a[9];var R=a[2];var V=a[6];var Y=a[10];if(.01>Math.abs(n-z)&&.01>Math.abs(v-R)&&.01>Math.abs(L-V)){if(.1>Math.abs(n+z)&&.1>Math.abs(v+R)&&.1>Math.abs(L+V)&&.1>Math.abs(e+I+Y-3))return this.set(1,0,0,0),this;a=Math.PI;e=(e+1)/2;I=(I+1)/2;Y=(Y+1)/2;n=(n+z)/4;v=(v+R)/4;L=(L+V)/4;e>I&&e>Y?.01>e?(V=0,n=R=.707106781):(V=Math.sqrt(e),R=n/
V,n=v/V):I>Y?.01>I?(V=.707106781,R=0,n=.707106781):(R=Math.sqrt(I),V=n/R,n=L/R):.01>Y?(R=V=.707106781,n=0):(n=Math.sqrt(Y),V=v/n,R=L/n);this.set(V,R,n,a);return this}a=Math.sqrt((V-L)*(V-L)+(v-R)*(v-R)+(z-n)*(z-n));.001>Math.abs(a)&&(a=1);this.x=(V-L)/a;this.y=(v-R)/a;this.z=(z-n)/a;this.w=Math.acos((e+I+Y-1)/2);return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,
a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this}clamp(a,e){this.x=Math.max(a.x,Math.min(e.x,this.x));this.y=Math.max(a.y,Math.min(e.y,this.y));this.z=Math.max(a.z,Math.min(e.z,this.z));this.w=Math.max(a.w,Math.min(e.w,this.w));return this}clampScalar(a,e){this.x=Math.max(a,Math.min(e,this.x));this.y=Math.max(a,Math.min(e,this.y));this.z=Math.max(a,Math.min(e,this.z));this.w=Math.max(a,Math.min(e,this.w));return this}clampLength(a,e){const n=this.length();return this.divideScalar(n||
1).multiplyScalar(Math.max(a,Math.min(e,n)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):
Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+
Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,e){this.x+=(a.x-this.x)*e;this.y+=(a.y-this.y)*e;this.z+=(a.z-this.z)*e;this.w+=(a.w-this.w)*e;return this}lerpVectors(a,e,n){this.x=a.x+(e.x-a.x)*n;this.y=a.y+(e.y-a.y)*n;this.z=a.z+(e.z-a.z)*n;this.w=a.w+(e.w-a.w)*n;return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,e=0){this.x=a[e];this.y=a[e+1];this.z=a[e+2];this.w=a[e+
3];return this}toArray(a=[],e=0){a[e]=this.x;a[e+1]=this.y;a[e+2]=this.z;a[e+3]=this.w;return a}fromBufferAttribute(a,e){this.x=a.getX(e);this.y=a.getY(e);this.z=a.getZ(e);this.w=a.getW(e);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}class Pf extends Md{constructor(a=1,e=1,n={}){super();this.isWebGLRenderTarget=!0;this.width=a;this.height=e;this.depth=1;
this.scissor=new Be(0,0,a,e);this.scissorTest=!1;this.viewport=new Be(0,0,a,e);this.texture=new kf({width:a,height:e,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding);this.texture.isRenderTargetTexture=!0;this.texture.flipY=!1;this.texture.generateMipmaps=void 0!==n.generateMipmaps?n.generateMipmaps:!1;this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null;this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006;this.depthBuffer=
void 0!==n.depthBuffer?n.depthBuffer:!0;this.stencilBuffer=void 0!==n.stencilBuffer?n.stencilBuffer:!1;this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null;this.samples=void 0!==n.samples?n.samples:0}setSize(a,e,n=1){if(this.width!==a||this.height!==e||this.depth!==n)this.width=a,this.height=e,this.depth=n,this.texture.image.width=a,this.texture.image.height=e,this.texture.image.depth=n,this.dispose();this.viewport.set(0,0,a,e);this.scissor.set(0,0,a,e)}clone(){return(new this.constructor).copy(this)}copy(a){this.width=
a.width;this.height=a.height;this.depth=a.depth;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.texture.isRenderTargetTexture=!0;const e=Object.assign({},a.texture.image);this.texture.source=new Tf(e);this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.samples=a.samples;return this}dispose(){this.dispatchEvent({type:"dispose"})}}class kh extends kf{constructor(a=null,e=1,n=1,v=1){super(null);this.isDataArrayTexture=
!0;this.image={data:a,width:e,height:n,depth:v};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class ph extends Pf{constructor(a=1,e=1,n=1){super(a,e);this.isWebGLArrayRenderTarget=!0;this.depth=n;this.texture=new kh(null,a,e,n);this.texture.isRenderTargetTexture=!0}}class Zg extends kf{constructor(a=null,e=1,n=1,v=1){super(null);this.isData3DTexture=!0;this.image={data:a,width:e,height:n,depth:v};this.minFilter=this.magFilter=1003;this.wrapR=
1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class Kh extends Pf{constructor(a=1,e=1,n=1){super(a,e);this.isWebGL3DRenderTarget=!0;this.depth=n;this.texture=new Zg(null,a,e,n);this.texture.isRenderTargetTexture=!0}}class Ai extends Pf{constructor(a=1,e=1,n=1,v={}){super(a,e,v);this.isWebGLMultipleRenderTargets=!0;a=this.texture;this.texture=[];for(e=0;e<n;e++)this.texture[e]=a.clone(),this.texture[e].isRenderTargetTexture=!0}setSize(a,e,n=1){if(this.width!==a||this.height!==e||
this.depth!==n){this.width=a;this.height=e;this.depth=n;for(let v=0,z=this.texture.length;v<z;v++)this.texture[v].image.width=a,this.texture[v].image.height=e,this.texture[v].image.depth=n;this.dispose()}this.viewport.set(0,0,a,e);this.scissor.set(0,0,a,e);return this}copy(a){this.dispose();this.width=a.width;this.height=a.height;this.depth=a.depth;this.viewport.set(0,0,this.width,this.height);this.scissor.set(0,0,this.width,this.height);this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;
null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.texture.length=0;for(let e=0,n=a.texture.length;e<n;e++)this.texture[e]=a.texture[e].clone(),this.texture[e].isRenderTargetTexture=!0;return this}}class qg{constructor(a=new jb(Infinity,Infinity,Infinity),e=new jb(-Infinity,-Infinity,-Infinity)){this.isBox3=!0;this.min=a;this.max=e}set(a,e){this.min.copy(a);this.max.copy(e);return this}setFromArray(a){let e=Infinity,n=Infinity,v=Infinity,z=-Infinity,I=-Infinity,L=-Infinity;for(let R=
0,V=a.length;R<V;R+=3){const Y=a[R],ja=a[R+1],ka=a[R+2];Y<e&&(e=Y);ja<n&&(n=ja);ka<v&&(v=ka);Y>z&&(z=Y);ja>I&&(I=ja);ka>L&&(L=ka)}this.min.set(e,n,v);this.max.set(z,I,L);return this}setFromBufferAttribute(a){let e=Infinity,n=Infinity,v=Infinity,z=-Infinity,I=-Infinity,L=-Infinity;for(let R=0,V=a.count;R<V;R++){const Y=a.getX(R),ja=a.getY(R),ka=a.getZ(R);Y<e&&(e=Y);ja<n&&(n=ja);ka<v&&(v=ka);Y>z&&(z=Y);ja>I&&(I=ja);ka>L&&(L=ka)}this.min.set(e,n,v);this.max.set(z,I,L);return this}setFromPoints(a){this.makeEmpty();
for(let e=0,n=a.length;e<n;e++)this.expandByPoint(a[e]);return this}setFromCenterAndSize(a,e){e=rg.copy(e).multiplyScalar(.5);this.min.copy(a).sub(e);this.max.copy(a).add(e);return this}setFromObject(a,e=!1){this.makeEmpty();return this.expandByObject(a,e)}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<
this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}expandByObject(a,e=!1){a.updateWorldMatrix(!1,!1);var n=a.geometry;if(void 0!==
n)if(e&&void 0!=n.attributes&&void 0!==n.attributes.position){n=n.attributes.position;for(let v=0,z=n.count;v<z;v++)rg.fromBufferAttribute(n,v).applyMatrix4(a.matrixWorld),this.expandByPoint(rg)}else null===n.boundingBox&&n.computeBoundingBox(),qh.copy(n.boundingBox),qh.applyMatrix4(a.matrixWorld),this.union(qh);a=a.children;for(let v=0,z=a.length;v<z;v++)this.expandByObject(a[v],e);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||
a.z>this.max.z?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,e){return e.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0}intersectsSphere(a){this.clampPoint(a.center,
rg);return rg.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let e,n;0<a.normal.x?(e=a.normal.x*this.min.x,n=a.normal.x*this.max.x):(e=a.normal.x*this.max.x,n=a.normal.x*this.min.x);0<a.normal.y?(e+=a.normal.y*this.min.y,n+=a.normal.y*this.max.y):(e+=a.normal.y*this.max.y,n+=a.normal.y*this.min.y);0<a.normal.z?(e+=a.normal.z*this.min.z,n+=a.normal.z*this.max.z):(e+=a.normal.z*this.max.z,n+=a.normal.z*this.min.z);return e<=-a.constant&&n>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;
this.getCenter(Zf);$g.subVectors(this.max,Zf);Uf.subVectors(a.a,Zf);Jf.subVectors(a.b,Zf);Af.subVectors(a.c,Zf);$f.subVectors(Jf,Uf);ag.subVectors(Af,Jf);sg.subVectors(Uf,Af);a=[0,-$f.z,$f.y,0,-ag.z,ag.y,0,-sg.z,sg.y,$f.z,0,-$f.x,ag.z,0,-ag.x,sg.z,0,-sg.x,-$f.y,$f.x,0,-ag.y,ag.x,0,-sg.y,sg.x,0];if(!H(a,Uf,Jf,Af,$g))return!1;a=[1,0,0,0,1,0,0,0,1];if(!H(a,Uf,Jf,Af,$g))return!1;ah.crossVectors($f,ag);a=[ah.x,ah.y,ah.z];return H(a,Uf,Jf,Af,$g)}clampPoint(a,e){return e.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,
rg).distanceTo(a)}getBoundingSphere(a){this.isEmpty()?a.makeEmpty():(this.getCenter(a.center),a.radius=.5*this.getSize(rg).length());return a}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}applyMatrix4(a){if(this.isEmpty())return this;Df[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);Df[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a);Df[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);
Df[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);Df[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a);Df[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);Df[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);Df[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a);this.setFromPoints(Df);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const Df=[new jb,new jb,new jb,new jb,new jb,
new jb,new jb,new jb],rg=new jb,qh=new qg,Uf=new jb,Jf=new jb,Af=new jb,$f=new jb,ag=new jb,sg=new jb,Zf=new jb,$g=new jb,ah=new jb,Jc=new jb,df=new qg,Jg=new jb,rh=new jb;class tg{constructor(a=new jb,e=-1){this.center=a;this.radius=e}set(a,e){this.center.copy(a);this.radius=e;return this}setFromPoints(a,e){const n=this.center;void 0!==e?n.copy(e):df.setFromPoints(a).getCenter(n);e=0;for(let v=0,z=a.length;v<z;v++)e=Math.max(e,n.distanceToSquared(a[v]));this.radius=Math.sqrt(e);return this}copy(a){this.center.copy(a.center);
this.radius=a.radius;return this}isEmpty(){return 0>this.radius}makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const e=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=e*e}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,
e){const n=this.center.distanceToSquared(a);e.copy(a);n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center));return e}getBoundingBox(a){if(this.isEmpty())return a.makeEmpty(),a;a.set(this.center,this.center);a.expandByScalar(this.radius);return a}applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this}translate(a){this.center.add(a);return this}expandByPoint(a){if(this.isEmpty())return this.center.copy(a),this.radius=
0,this;Jg.subVectors(a,this.center);a=Jg.lengthSq();if(a>this.radius*this.radius){a=Math.sqrt(a);const e=.5*(a-this.radius);this.center.addScaledVector(Jg,e/a);this.radius+=e}return this}union(a){if(a.isEmpty())return this;if(this.isEmpty())return this.copy(a),this;!0===this.center.equals(a.center)?this.radius=Math.max(this.radius,a.radius):(rh.subVectors(a.center,this.center).setLength(a.radius),this.expandByPoint(Jg.copy(a.center).add(rh)),this.expandByPoint(Jg.copy(a.center).sub(rh)));return this}equals(a){return a.center.equals(this.center)&&
a.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const gg=new jb,sh=new jb,se=new jb,Ag=new jb,Lh=new jb,Kg=new jb,bh=new jb;class Lg{constructor(a=new jb,e=new jb(0,0,-1)){this.origin=a;this.direction=e}set(a,e){this.origin.copy(a);this.direction.copy(e);return this}copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this}at(a,e){return e.copy(this.origin).addScaledVector(this.direction,a)}lookAt(a){this.direction.copy(a).sub(this.origin).normalize();
return this}recast(a){this.origin.copy(this.at(a,gg));return this}closestPointToPoint(a,e){e.subVectors(a,this.origin);a=e.dot(this.direction);return 0>a?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,a)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const e=gg.subVectors(a,this.origin).dot(this.direction);if(0>e)return this.origin.distanceToSquared(a);gg.copy(this.origin).addScaledVector(this.direction,e);return gg.distanceToSquared(a)}distanceSqToSegment(a,
e,n,v){sh.copy(a).add(e).multiplyScalar(.5);se.copy(e).sub(a).normalize();Ag.copy(this.origin).sub(sh);var z=.5*a.distanceTo(e),I=-this.direction.dot(se);const L=Ag.dot(this.direction),R=-Ag.dot(se),V=Ag.lengthSq(),Y=Math.abs(1-I*I);let ja;0<Y?(a=I*R-L,e=I*L-R,ja=z*Y,0<=a?e>=-ja?e<=ja?(z=1/Y,a*=z,e*=z,I=a*(a+I*e+2*L)+e*(I*a+e+2*R)+V):(e=z,a=Math.max(0,-(I*e+L)),I=-a*a+e*(e+2*R)+V):(e=-z,a=Math.max(0,-(I*e+L)),I=-a*a+e*(e+2*R)+V):e<=-ja?(a=Math.max(0,-(-I*z+L)),e=0<a?-z:Math.min(Math.max(-z,-R),z),
I=-a*a+e*(e+2*R)+V):e<=ja?(a=0,e=Math.min(Math.max(-z,-R),z),I=e*(e+2*R)+V):(a=Math.max(0,-(I*z+L)),e=0<a?z:Math.min(Math.max(-z,-R),z),I=-a*a+e*(e+2*R)+V)):(e=0<I?-z:z,a=Math.max(0,-(I*e+L)),I=-a*a+e*(e+2*R)+V);n&&n.copy(this.origin).addScaledVector(this.direction,a);v&&v.copy(sh).addScaledVector(se,e);return I}intersectSphere(a,e){gg.subVectors(a.center,this.origin);var n=gg.dot(this.direction),v=gg.dot(gg)-n*n;a=a.radius*a.radius;if(v>a)return null;a=Math.sqrt(a-v);v=n-a;n+=a;return 0>n?null:0>
v?this.at(n,e):this.at(v,e)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const e=a.normal.dot(this.direction);if(0===e)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/e;return 0<=a?a:null}intersectPlane(a,e){a=this.distanceToPlane(a);return null===a?null:this.at(a,e)}intersectsPlane(a){const e=a.distanceToPoint(this.origin);return 0===e||0>a.normal.dot(this.direction)*e?!0:!1}intersectBox(a,e){let n;var v=
1/this.direction.x;var z=1/this.direction.y;const I=1/this.direction.z,L=this.origin;0<=v?(n=(a.min.x-L.x)*v,v*=a.max.x-L.x):(n=(a.max.x-L.x)*v,v*=a.min.x-L.x);if(0<=z){var R=(a.min.y-L.y)*z;z*=a.max.y-L.y}else R=(a.max.y-L.y)*z,z*=a.min.y-L.y;if(n>z||R>v)return null;if(R>n||isNaN(n))n=R;if(z<v||isNaN(v))v=z;0<=I?(R=(a.min.z-L.z)*I,a=(a.max.z-L.z)*I):(R=(a.max.z-L.z)*I,a=(a.min.z-L.z)*I);if(n>a||R>v)return null;if(R>n||n!==n)n=R;if(a<v||v!==v)v=a;return 0>v?null:this.at(0<=n?n:v,e)}intersectsBox(a){return null!==
this.intersectBox(a,gg)}intersectTriangle(a,e,n,v,z){Lh.subVectors(e,a);Kg.subVectors(n,a);bh.crossVectors(Lh,Kg);e=this.direction.dot(bh);if(0<e){if(v)return null;v=1}else if(0>e)v=-1,e=-e;else return null;Ag.subVectors(this.origin,a);a=v*this.direction.dot(Kg.crossVectors(Ag,Kg));if(0>a)return null;n=v*this.direction.dot(Lh.cross(Ag));if(0>n||a+n>e)return null;a=-v*Ag.dot(bh);return 0>a?null:this.at(a/e,z)}applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this}equals(a){return a.origin.equals(this.origin)&&
a.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class fe{constructor(){fe.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(a,e,n,v,z,I,L,R,V,Y,ja,ka,qa,Ga,Fa,ia){const La=this.elements;La[0]=a;La[4]=e;La[8]=n;La[12]=v;La[1]=z;La[5]=I;La[9]=L;La[13]=R;La[2]=V;La[6]=Y;La[10]=ja;La[14]=ka;La[3]=qa;La[7]=Ga;La[11]=Fa;La[15]=ia;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new fe).fromArray(this.elements)}copy(a){const e=
this.elements;a=a.elements;e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=a[3];e[4]=a[4];e[5]=a[5];e[6]=a[6];e[7]=a[7];e[8]=a[8];e[9]=a[9];e[10]=a[10];e[11]=a[11];e[12]=a[12];e[13]=a[13];e[14]=a[14];e[15]=a[15];return this}copyPosition(a){const e=this.elements;a=a.elements;e[12]=a[12];e[13]=a[13];e[14]=a[14];return this}setFromMatrix3(a){a=a.elements;this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1);return this}extractBasis(a,e,n){a.setFromMatrixColumn(this,0);e.setFromMatrixColumn(this,1);
n.setFromMatrixColumn(this,2);return this}makeBasis(a,e,n){this.set(a.x,e.x,n.x,0,a.y,e.y,n.y,0,a.z,e.z,n.z,0,0,0,0,1);return this}extractRotation(a){const e=this.elements,n=a.elements,v=1/Ef.setFromMatrixColumn(a,0).length(),z=1/Ef.setFromMatrixColumn(a,1).length();a=1/Ef.setFromMatrixColumn(a,2).length();e[0]=n[0]*v;e[1]=n[1]*v;e[2]=n[2]*v;e[3]=0;e[4]=n[4]*z;e[5]=n[5]*z;e[6]=n[6]*z;e[7]=0;e[8]=n[8]*a;e[9]=n[9]*a;e[10]=n[10]*a;e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return this}makeRotationFromEuler(a){const e=
this.elements;var n=a.x,v=a.y,z=a.z;const I=Math.cos(n);n=Math.sin(n);const L=Math.cos(v);v=Math.sin(v);const R=Math.cos(z);z=Math.sin(z);if("XYZ"===a.order){a=I*R;var V=I*z,Y=n*R,ja=n*z;e[0]=L*R;e[4]=-L*z;e[8]=v;e[1]=V+Y*v;e[5]=a-ja*v;e[9]=-n*L;e[2]=ja-a*v;e[6]=Y+V*v;e[10]=I*L}else"YXZ"===a.order?(a=L*R,V=L*z,Y=v*R,ja=v*z,e[0]=a+ja*n,e[4]=Y*n-V,e[8]=I*v,e[1]=I*z,e[5]=I*R,e[9]=-n,e[2]=V*n-Y,e[6]=ja+a*n,e[10]=I*L):"ZXY"===a.order?(a=L*R,V=L*z,Y=v*R,ja=v*z,e[0]=a-ja*n,e[4]=-I*z,e[8]=Y+V*n,e[1]=V+Y*
n,e[5]=I*R,e[9]=ja-a*n,e[2]=-I*v,e[6]=n,e[10]=I*L):"ZYX"===a.order?(a=I*R,V=I*z,Y=n*R,ja=n*z,e[0]=L*R,e[4]=Y*v-V,e[8]=a*v+ja,e[1]=L*z,e[5]=ja*v+a,e[9]=V*v-Y,e[2]=-v,e[6]=n*L,e[10]=I*L):"YZX"===a.order?(a=I*L,V=I*v,Y=n*L,ja=n*v,e[0]=L*R,e[4]=ja-a*z,e[8]=Y*z+V,e[1]=z,e[5]=I*R,e[9]=-n*R,e[2]=-v*R,e[6]=V*z+Y,e[10]=a-ja*z):"XZY"===a.order&&(a=I*L,V=I*v,Y=n*L,ja=n*v,e[0]=L*R,e[4]=-z,e[8]=v*R,e[1]=a*z+ja,e[5]=I*R,e[9]=V*z-Y,e[2]=Y*z-V,e[6]=n*R,e[10]=ja*z+a);e[3]=0;e[7]=0;e[11]=0;e[12]=0;e[13]=0;e[14]=0;
e[15]=1;return this}makeRotationFromQuaternion(a){return this.compose(bg,a,Mh)}lookAt(a,e,n){const v=this.elements;Ff.subVectors(a,e);0===Ff.lengthSq()&&(Ff.z=1);Ff.normalize();ug.crossVectors(n,Ff);0===ug.lengthSq()&&(1===Math.abs(n.z)?Ff.x+=1E-4:Ff.z+=1E-4,Ff.normalize(),ug.crossVectors(n,Ff));ug.normalize();Vf.crossVectors(Ff,ug);v[0]=ug.x;v[4]=Vf.x;v[8]=Ff.x;v[1]=ug.y;v[5]=Vf.y;v[9]=Ff.y;v[2]=ug.z;v[6]=Vf.z;v[10]=Ff.z;return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,
this)}multiplyMatrices(a,e){var n=a.elements,v=e.elements;e=this.elements;a=n[0];const z=n[4],I=n[8],L=n[12],R=n[1],V=n[5],Y=n[9],ja=n[13],ka=n[2],qa=n[6],Ga=n[10],Fa=n[14],ia=n[3],La=n[7],zb=n[11];n=n[15];const bb=v[0],Gb=v[4],Tb=v[8],xb=v[12],oc=v[1],Ib=v[5],$b=v[9],bc=v[13],ac=v[2],Pc=v[6],Gc=v[10],Kc=v[14],Ic=v[3],td=v[7],Fd=v[11];v=v[15];e[0]=a*bb+z*oc+I*ac+L*Ic;e[4]=a*Gb+z*Ib+I*Pc+L*td;e[8]=a*Tb+z*$b+I*Gc+L*Fd;e[12]=a*xb+z*bc+I*Kc+L*v;e[1]=R*bb+V*oc+Y*ac+ja*Ic;e[5]=R*Gb+V*Ib+Y*Pc+ja*td;e[9]=
R*Tb+V*$b+Y*Gc+ja*Fd;e[13]=R*xb+V*bc+Y*Kc+ja*v;e[2]=ka*bb+qa*oc+Ga*ac+Fa*Ic;e[6]=ka*Gb+qa*Ib+Ga*Pc+Fa*td;e[10]=ka*Tb+qa*$b+Ga*Gc+Fa*Fd;e[14]=ka*xb+qa*bc+Ga*Kc+Fa*v;e[3]=ia*bb+La*oc+zb*ac+n*Ic;e[7]=ia*Gb+La*Ib+zb*Pc+n*td;e[11]=ia*Tb+La*$b+zb*Gc+n*Fd;e[15]=ia*xb+La*bc+zb*Kc+n*v;return this}multiplyScalar(a){const e=this.elements;e[0]*=a;e[4]*=a;e[8]*=a;e[12]*=a;e[1]*=a;e[5]*=a;e[9]*=a;e[13]*=a;e[2]*=a;e[6]*=a;e[10]*=a;e[14]*=a;e[3]*=a;e[7]*=a;e[11]*=a;e[15]*=a;return this}determinant(){const a=this.elements,
e=a[0],n=a[4],v=a[8],z=a[12],I=a[1],L=a[5],R=a[9],V=a[13],Y=a[2],ja=a[6],ka=a[10],qa=a[14];return a[3]*(+z*R*ja-v*V*ja-z*L*ka+n*V*ka+v*L*qa-n*R*qa)+a[7]*(+e*R*qa-e*V*ka+z*I*ka-v*I*qa+v*V*Y-z*R*Y)+a[11]*(+e*V*ja-e*L*qa-z*I*ja+n*I*qa+z*L*Y-n*V*Y)+a[15]*(-v*L*Y-e*R*ja+e*L*ka+v*I*ja-n*I*ka+n*R*Y)}transpose(){const a=this.elements;let e;e=a[1];a[1]=a[4];a[4]=e;e=a[2];a[2]=a[8];a[8]=e;e=a[6];a[6]=a[9];a[9]=e;e=a[3];a[3]=a[12];a[12]=e;e=a[7];a[7]=a[13];a[13]=e;e=a[11];a[11]=a[14];a[14]=e;return this}setPosition(a,
e,n){const v=this.elements;a.isVector3?(v[12]=a.x,v[13]=a.y,v[14]=a.z):(v[12]=a,v[13]=e,v[14]=n);return this}invert(){const a=this.elements,e=a[0],n=a[1],v=a[2],z=a[3],I=a[4],L=a[5],R=a[6],V=a[7],Y=a[8],ja=a[9],ka=a[10],qa=a[11],Ga=a[12],Fa=a[13],ia=a[14],La=a[15],zb=ja*ia*V-Fa*ka*V+Fa*R*qa-L*ia*qa-ja*R*La+L*ka*La,bb=Ga*ka*V-Y*ia*V-Ga*R*qa+I*ia*qa+Y*R*La-I*ka*La,Gb=Y*Fa*V-Ga*ja*V+Ga*L*qa-I*Fa*qa-Y*L*La+I*ja*La,Tb=Ga*ja*R-Y*Fa*R-Ga*L*ka+I*Fa*ka+Y*L*ia-I*ja*ia;var xb=e*zb+n*bb+v*Gb+z*Tb;if(0===xb)return this.set(0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);xb=1/xb;a[0]=zb*xb;a[1]=(Fa*ka*z-ja*ia*z-Fa*v*qa+n*ia*qa+ja*v*La-n*ka*La)*xb;a[2]=(L*ia*z-Fa*R*z+Fa*v*V-n*ia*V-L*v*La+n*R*La)*xb;a[3]=(ja*R*z-L*ka*z-ja*v*V+n*ka*V+L*v*qa-n*R*qa)*xb;a[4]=bb*xb;a[5]=(Y*ia*z-Ga*ka*z+Ga*v*qa-e*ia*qa-Y*v*La+e*ka*La)*xb;a[6]=(Ga*R*z-I*ia*z-Ga*v*V+e*ia*V+I*v*La-e*R*La)*xb;a[7]=(I*ka*z-Y*R*z+Y*v*V-e*ka*V-I*v*qa+e*R*qa)*xb;a[8]=Gb*xb;a[9]=(Ga*ja*z-Y*Fa*z-Ga*n*qa+e*Fa*qa+Y*n*La-e*ja*La)*xb;a[10]=(I*Fa*z-Ga*L*z+Ga*n*V-e*Fa*V-I*n*La+e*L*La)*xb;
a[11]=(Y*L*z-I*ja*z-Y*n*V+e*ja*V+I*n*qa-e*L*qa)*xb;a[12]=Tb*xb;a[13]=(Y*Fa*v-Ga*ja*v+Ga*n*ka-e*Fa*ka-Y*n*ia+e*ja*ia)*xb;a[14]=(Ga*L*v-I*Fa*v-Ga*n*R+e*Fa*R+I*n*ia-e*L*ia)*xb;a[15]=(I*ja*v-Y*L*v+Y*n*R-e*ja*R-I*n*ka+e*L*ka)*xb;return this}scale(a){const e=this.elements,n=a.x,v=a.y;a=a.z;e[0]*=n;e[4]*=v;e[8]*=a;e[1]*=n;e[5]*=v;e[9]*=a;e[2]*=n;e[6]*=v;e[10]*=a;e[3]*=n;e[7]*=v;e[11]*=a;return this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+
a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,e,n){this.set(1,0,0,a,0,1,0,e,0,0,1,n,0,0,0,1);return this}makeRotationX(a){const e=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,e,-a,0,0,a,e,0,0,0,0,1);return this}makeRotationY(a){const e=Math.cos(a);a=Math.sin(a);this.set(e,0,a,0,0,1,0,0,-a,0,e,0,0,0,0,1);return this}makeRotationZ(a){const e=Math.cos(a);a=Math.sin(a);this.set(e,-a,0,0,a,e,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(a,e){const n=Math.cos(e);e=Math.sin(e);
const v=1-n,z=a.x,I=a.y;a=a.z;const L=v*z,R=v*I;this.set(L*z+n,L*I-e*a,L*a+e*I,0,L*I+e*a,R*I+n,R*a-e*z,0,L*a-e*I,R*a+e*z,v*a*a+n,0,0,0,0,1);return this}makeScale(a,e,n){this.set(a,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1);return this}makeShear(a,e,n,v,z,I){this.set(1,n,z,0,a,1,I,0,e,v,1,0,0,0,0,1);return this}compose(a,e,n){const v=this.elements;var z=e._x,I=e._y,L=e._z,R=e._w,V=z+z,Y=I+I,ja=L+L;e=z*V;const ka=z*Y;z*=ja;const qa=I*Y;I*=ja;L*=ja;V*=R;Y*=R;R*=ja;ja=n.x;const Ga=n.y;n=n.z;v[0]=(1-(qa+L))*ja;v[1]=
(ka+R)*ja;v[2]=(z-Y)*ja;v[3]=0;v[4]=(ka-R)*Ga;v[5]=(1-(e+L))*Ga;v[6]=(I+V)*Ga;v[7]=0;v[8]=(z+Y)*n;v[9]=(I-V)*n;v[10]=(1-(e+qa))*n;v[11]=0;v[12]=a.x;v[13]=a.y;v[14]=a.z;v[15]=1;return this}decompose(a,e,n){var v=this.elements;let z=Ef.set(v[0],v[1],v[2]).length();const I=Ef.set(v[4],v[5],v[6]).length(),L=Ef.set(v[8],v[9],v[10]).length();0>this.determinant()&&(z=-z);a.x=v[12];a.y=v[13];a.z=v[14];Te.copy(this);a=1/z;v=1/I;const R=1/L;Te.elements[0]*=a;Te.elements[1]*=a;Te.elements[2]*=a;Te.elements[4]*=
v;Te.elements[5]*=v;Te.elements[6]*=v;Te.elements[8]*=R;Te.elements[9]*=R;Te.elements[10]*=R;e.setFromRotationMatrix(Te);n.x=z;n.y=I;n.z=L;return this}makePerspective(a,e,n,v,z,I){const L=this.elements;L[0]=2*z/(e-a);L[4]=0;L[8]=(e+a)/(e-a);L[12]=0;L[1]=0;L[5]=2*z/(n-v);L[9]=(n+v)/(n-v);L[13]=0;L[2]=0;L[6]=0;L[10]=-(I+z)/(I-z);L[14]=-2*I*z/(I-z);L[3]=0;L[7]=0;L[11]=-1;L[15]=0;return this}makeOrthographic(a,e,n,v,z,I){const L=this.elements,R=1/(e-a),V=1/(n-v),Y=1/(I-z);L[0]=2*R;L[4]=0;L[8]=0;L[12]=
-((e+a)*R);L[1]=0;L[5]=2*V;L[9]=0;L[13]=-((n+v)*V);L[2]=0;L[6]=0;L[10]=-2*Y;L[14]=-((I+z)*Y);L[3]=0;L[7]=0;L[11]=0;L[15]=1;return this}equals(a){const e=this.elements;a=a.elements;for(let n=0;16>n;n++)if(e[n]!==a[n])return!1;return!0}fromArray(a,e=0){for(let n=0;16>n;n++)this.elements[n]=a[n+e];return this}toArray(a=[],e=0){const n=this.elements;a[e]=n[0];a[e+1]=n[1];a[e+2]=n[2];a[e+3]=n[3];a[e+4]=n[4];a[e+5]=n[5];a[e+6]=n[6];a[e+7]=n[7];a[e+8]=n[8];a[e+9]=n[9];a[e+10]=n[10];a[e+11]=n[11];a[e+12]=
n[12];a[e+13]=n[13];a[e+14]=n[14];a[e+15]=n[15];return a}}const Ef=new jb,Te=new fe,bg=new jb(0,0,0),Mh=new jb(1,1,1),ug=new jb,Vf=new jb,Ff=new jb,th=new fe,Mg=new pf;class Ng{constructor(a=0,e=0,n=0,v=Ng.DEFAULT_ORDER){this.isEuler=!0;this._x=a;this._y=e;this._z=n;this._order=v}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get order(){return this._order}set order(a){this._order=
a;this._onChangeCallback()}set(a,e,n,v=this._order){this._x=a;this._y=e;this._z=n;this._order=v;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();return this}setFromRotationMatrix(a,e=this._order,n=!0){var v=a.elements;a=v[0];const z=v[4],I=v[8],L=v[1],R=v[5],V=v[9],Y=v[2],ja=v[6];v=v[10];switch(e){case "XYZ":this._y=Math.asin(m(I,-1,1));.9999999>
Math.abs(I)?(this._x=Math.atan2(-V,v),this._z=Math.atan2(-z,a)):(this._x=Math.atan2(ja,R),this._z=0);break;case "YXZ":this._x=Math.asin(-m(V,-1,1));.9999999>Math.abs(V)?(this._y=Math.atan2(I,v),this._z=Math.atan2(L,R)):(this._y=Math.atan2(-Y,a),this._z=0);break;case "ZXY":this._x=Math.asin(m(ja,-1,1));.9999999>Math.abs(ja)?(this._y=Math.atan2(-Y,v),this._z=Math.atan2(-z,R)):(this._y=0,this._z=Math.atan2(L,a));break;case "ZYX":this._y=Math.asin(-m(Y,-1,1));.9999999>Math.abs(Y)?(this._x=Math.atan2(ja,
v),this._z=Math.atan2(L,a)):(this._x=0,this._z=Math.atan2(-z,R));break;case "YZX":this._z=Math.asin(m(L,-1,1));.9999999>Math.abs(L)?(this._x=Math.atan2(-V,R),this._y=Math.atan2(-Y,a)):(this._x=0,this._y=Math.atan2(I,v));break;case "XZY":this._z=Math.asin(-m(z,-1,1));.9999999>Math.abs(z)?(this._x=Math.atan2(ja,R),this._y=Math.atan2(I,a)):(this._x=Math.atan2(-V,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}this._order=e;!0===n&&this._onChangeCallback();
return this}setFromQuaternion(a,e,n){th.makeRotationFromQuaternion(a);return this.setFromRotationMatrix(th,e,n)}setFromVector3(a,e=this._order){return this.set(a.x,a.y,a.z,e)}reorder(a){Mg.setFromEuler(this);return this.setFromQuaternion(Mg,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this}toArray(a=[],e=0){a[e]=this._x;a[e+1]=this._y;
a[e+2]=this._z;a[e+3]=this._order;return a}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._order}}Ng.DEFAULT_ORDER="XYZ";class Hg{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask=this.mask|1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!==(this.mask&a.mask)}isEnabled(a){return 0!==(this.mask&
(1<<a|0))}}let ch=0;const wb=new jb,fd=new pf,yd=new fe,Nd=new jb,u=new jb,C=new jb,S=new pf,ba=new jb(1,0,0),ra=new jb(0,1,0),Ka=new jb(0,0,1),Na={type:"added"},nb={type:"removed"};class Cb extends Md{constructor(){super();this.isObject3D=!0;Object.defineProperty(this,"id",{value:ch++});this.uuid=r();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Cb.DEFAULT_UP.clone();const a=new jb,e=new Ng,n=new pf,v=new jb(1,1,1);e._onChange(function(){n.setFromEuler(e,!1)});n._onChange(function(){e.setFromQuaternion(n,
void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:v},modelViewMatrix:{value:new fe},normalMatrix:{value:new ef}});this.matrix=new fe;this.matrixWorld=new fe;this.matrixAutoUpdate=Cb.DEFAULT_MATRIX_AUTO_UPDATE;this.matrixWorldNeedsUpdate=!1;this.matrixWorldAutoUpdate=Cb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE;this.layers=new Hg;
this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.animations=[];this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(a){this.quaternion.premultiply(a);return this}setRotationFromAxisAngle(a,e){this.quaternion.setFromAxisAngle(a,e)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,
!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,e){fd.setFromAxisAngle(a,e);this.quaternion.multiply(fd);return this}rotateOnWorldAxis(a,e){fd.setFromAxisAngle(a,e);this.quaternion.premultiply(fd);return this}rotateX(a){return this.rotateOnAxis(ba,a)}rotateY(a){return this.rotateOnAxis(ra,a)}rotateZ(a){return this.rotateOnAxis(Ka,a)}translateOnAxis(a,e){wb.copy(a).applyQuaternion(this.quaternion);this.position.add(wb.multiplyScalar(e));
return this}translateX(a){return this.translateOnAxis(ba,a)}translateY(a){return this.translateOnAxis(ra,a)}translateZ(a){return this.translateOnAxis(Ka,a)}localToWorld(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(yd.copy(this.matrixWorld).invert())}lookAt(a,e,n){a.isVector3?Nd.copy(a):Nd.set(a,e,n);a=this.parent;this.updateWorldMatrix(!0,!1);u.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?
yd.lookAt(u,Nd,this.up):yd.lookAt(Nd,u,this.up);this.quaternion.setFromRotationMatrix(yd);a&&(yd.extractRotation(a.matrixWorld),fd.setFromRotationMatrix(yd),this.quaternion.premultiply(fd.invert()))}add(a){if(1<arguments.length){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(Na)):
console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this}remove(a){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}e=this.children.indexOf(a);-1!==e&&(a.parent=null,this.children.splice(e,1),a.dispatchEvent(nb));return this}removeFromParent(){const a=this.parent;null!==a&&a.remove(this);return this}clear(){for(let a=0;a<this.children.length;a++){const e=this.children[a];e.parent=null;e.dispatchEvent(nb)}this.children.length=
0;return this}attach(a){this.updateWorldMatrix(!0,!1);yd.copy(this.matrixWorld).invert();null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),yd.multiply(a.parent.matrixWorld));a.applyMatrix4(yd);this.add(a);a.updateWorldMatrix(!1,!0);return this}getObjectById(a){return this.getObjectByProperty("id",a)}getObjectByName(a){return this.getObjectByProperty("name",a)}getObjectByProperty(a,e){if(this[a]===e)return this;for(let n=0,v=this.children.length;n<v;n++){const z=this.children[n].getObjectByProperty(a,
e);if(void 0!==z)return z}}getObjectsByProperty(a,e){let n=[];this[a]===e&&n.push(this);for(let v=0,z=this.children.length;v<z;v++){const I=this.children[v].getObjectsByProperty(a,e);0<I.length&&(n=n.concat(I))}return n}getWorldPosition(a){this.updateWorldMatrix(!0,!1);return a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(u,a,C);return a}getWorldScale(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(u,S,a);return a}getWorldDirection(a){this.updateWorldMatrix(!0,
!1);const e=this.matrixWorld.elements;return a.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(a){a(this);const e=this.children;for(let n=0,v=e.length;n<v;n++)e[n].traverse(a)}traverseVisible(a){if(!1!==this.visible){a(this);var e=this.children;for(let n=0,v=e.length;n<v;n++)e[n].traverseVisible(a)}}traverseAncestors(a){const e=this.parent;null!==e&&(a(e),e.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&
this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;const e=this.children;for(let n=0,v=e.length;n<v;n++){const z=e[n];!0!==z.matrixWorldAutoUpdate&&!0!==a||z.updateMatrixWorld(a)}}updateWorldMatrix(a,e){const n=this.parent;!0===a&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();
null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===e){a=this.children;for(let v=0,z=a.length;v<z;v++)e=a[v],!0===e.matrixWorldAutoUpdate&&e.updateWorldMatrix(!1,!0)}}toJSON(a){function e(R,V){void 0===R[V.uuid]&&(R[V.uuid]=V.toJSON(a));return V.uuid}function n(R){const V=[];for(const Y in R){const ja=R[Y];delete ja.metadata;V.push(ja)}return V}var v=void 0===a||"string"===typeof a;const z={};v&&(a={geometries:{},materials:{},
textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},z.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const I={};I.uuid=this.uuid;I.type=this.type;""!==this.name&&(I.name=this.name);!0===this.castShadow&&(I.castShadow=!0);!0===this.receiveShadow&&(I.receiveShadow=!0);!1===this.visible&&(I.visible=!1);!1===this.frustumCulled&&(I.frustumCulled=!1);0!==this.renderOrder&&(I.renderOrder=this.renderOrder);0<Object.keys(this.userData).length&&(I.userData=this.userData);
I.layers=this.layers.mask;I.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(I.matrixAutoUpdate=!1);this.isInstancedMesh&&(I.type="InstancedMesh",I.count=this.count,I.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(I.instanceColor=this.instanceColor.toJSON()));if(this.isScene)this.background&&(this.background.isColor?I.background=this.background.toJSON():this.background.isTexture&&(I.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&
!0!==this.environment.isRenderTargetTexture&&(I.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){I.geometry=e(a.geometries,this.geometry);var L=this.geometry.parameters;if(void 0!==L&&void 0!==L.shapes)if(L=L.shapes,Array.isArray(L))for(let R=0,V=L.length;R<V;R++)e(a.shapes,L[R]);else e(a.shapes,L)}this.isSkinnedMesh&&(I.bindMode=this.bindMode,I.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(e(a.skeletons,this.skeleton),I.skeleton=this.skeleton.uuid));
if(void 0!==this.material)if(Array.isArray(this.material)){L=[];for(let R=0,V=this.material.length;R<V;R++)L.push(e(a.materials,this.material[R]));I.material=L}else I.material=e(a.materials,this.material);if(0<this.children.length)for(I.children=[],L=0;L<this.children.length;L++)I.children.push(this.children[L].toJSON(a).object);if(0<this.animations.length)for(I.animations=[],L=0;L<this.animations.length;L++)I.animations.push(e(a.animations,this.animations[L]));if(v){v=n(a.geometries);L=n(a.materials);
const R=n(a.textures),V=n(a.images),Y=n(a.shapes),ja=n(a.skeletons),ka=n(a.animations),qa=n(a.nodes);0<v.length&&(z.geometries=v);0<L.length&&(z.materials=L);0<R.length&&(z.textures=R);0<V.length&&(z.images=V);0<Y.length&&(z.shapes=Y);0<ja.length&&(z.skeletons=ja);0<ka.length&&(z.animations=ka);0<qa.length&&(z.nodes=qa)}z.object=I;return z}clone(a){return(new this.constructor).copy(this,a)}copy(a,e=!0){this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.rotation.order=a.rotation.order;
this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.matrixWorldAutoUpdate=a.matrixWorldAutoUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));
if(!0===e)for(e=0;e<a.children.length;e++)this.add(a.children[e].clone());return this}}Cb.DEFAULT_UP=new jb(0,1,0);Cb.DEFAULT_MATRIX_AUTO_UPDATE=!0;Cb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yb=new jb,Qc=new jb,Sc=new jb,qd=new jb,Ud=new jb,$d=new jb,je=new jb,ne=new jb,ze=new jb,oe=new jb;class Wd{constructor(a=new jb,e=new jb,n=new jb){this.a=a;this.b=e;this.c=n}static getNormal(a,e,n,v){v.subVectors(n,e);Yb.subVectors(a,e);v.cross(Yb);a=v.lengthSq();return 0<a?v.multiplyScalar(1/Math.sqrt(a)):
v.set(0,0,0)}static getBarycoord(a,e,n,v,z){Yb.subVectors(v,e);Qc.subVectors(n,e);Sc.subVectors(a,e);a=Yb.dot(Yb);e=Yb.dot(Qc);n=Yb.dot(Sc);var I=Qc.dot(Qc);v=Qc.dot(Sc);var L=a*I-e*e;if(0===L)return z.set(-2,-1,-1);L=1/L;I=(I*n-e*v)*L;a=(a*v-e*n)*L;return z.set(1-I-a,a,I)}static containsPoint(a,e,n,v){this.getBarycoord(a,e,n,v,qd);return 0<=qd.x&&0<=qd.y&&1>=qd.x+qd.y}static getUV(a,e,n,v,z,I,L,R){this.getBarycoord(a,e,n,v,qd);R.set(0,0);R.addScaledVector(z,qd.x);R.addScaledVector(I,qd.y);R.addScaledVector(L,
qd.z);return R}static isFrontFacing(a,e,n,v){Yb.subVectors(n,e);Qc.subVectors(a,e);return 0>Yb.cross(Qc).dot(v)?!0:!1}set(a,e,n){this.a.copy(a);this.b.copy(e);this.c.copy(n);return this}setFromPointsAndIndices(a,e,n,v){this.a.copy(a[e]);this.b.copy(a[n]);this.c.copy(a[v]);return this}setFromAttributeAndIndices(a,e,n,v){this.a.fromBufferAttribute(a,e);this.b.fromBufferAttribute(a,n);this.c.fromBufferAttribute(a,v);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.a.copy(a.a);
this.b.copy(a.b);this.c.copy(a.c);return this}getArea(){Yb.subVectors(this.c,this.b);Qc.subVectors(this.a,this.b);return.5*Yb.cross(Qc).length()}getMidpoint(a){return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return Wd.getNormal(this.a,this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,e){return Wd.getBarycoord(a,this.a,this.b,this.c,e)}getUV(a,e,n,v,z){return Wd.getUV(a,this.a,this.b,this.c,e,n,v,z)}containsPoint(a){return Wd.containsPoint(a,
this.a,this.b,this.c)}isFrontFacing(a){return Wd.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,e){const n=this.a;var v=this.b,z=this.c;Ud.subVectors(v,n);$d.subVectors(z,n);ne.subVectors(a,n);var I=Ud.dot(ne),L=$d.dot(ne);if(0>=I&&0>=L)return e.copy(n);ze.subVectors(a,v);const R=Ud.dot(ze),V=$d.dot(ze);if(0<=R&&V<=R)return e.copy(v);var Y=I*V-R*L;if(0>=Y&&0<=I&&0>=R)return v=I/(I-R),e.copy(n).addScaledVector(Ud,v);oe.subVectors(a,z);
a=Ud.dot(oe);const ja=$d.dot(oe);if(0<=ja&&a<=ja)return e.copy(z);I=a*L-I*ja;if(0>=I&&0<=L&&0>=ja)return Y=L/(L-ja),e.copy(n).addScaledVector($d,Y);L=R*ja-a*V;if(0>=L&&0<=V-R&&0<=a-ja)return je.subVectors(z,v),Y=(V-R)/(V-R+(a-ja)),e.copy(v).addScaledVector(je,Y);z=1/(L+I+Y);v=I*z;Y*=z;return e.copy(n).addScaledVector(Ud,v).addScaledVector($d,Y)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}let Mf=0;class Ue extends Md{constructor(){super();this.isMaterial=!0;Object.defineProperty(this,
"id",{value:Mf++});this.uuid=r();this.name="";this.type="Material";this.blending=1;this.side=0;this.vertexColors=!1;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=519;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=7680;this.stencilWrite=!1;this.clippingPlanes=
null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.forceSinglePass=this.premultipliedAlpha=this.alphaToCoverage=this.dithering=!1;this.toneMapped=this.visible=!0;this.userData={};this._alphaTest=this.version=0}get alphaTest(){return this._alphaTest}set alphaTest(a){0<this._alphaTest!==0<a&&this.version++;this._alphaTest=a}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(void 0!==
a)for(const e in a){const n=a[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}const v=this[e];void 0===v?console.warn("THREE."+this.type+": '"+e+"' is not a property of this material."):v&&v.isColor?v.set(n):v&&v.isVector3&&n&&n.isVector3?v.copy(n):this[e]=n}}toJSON(a){function e(z){const I=[];for(const L in z){const R=z[L];delete R.metadata;I.push(R)}return I}var n=void 0===a||"string"===typeof a;n&&(a={textures:{},images:{}});const v={metadata:{version:4.5,
type:"Material",generator:"Material.toJSON"}};v.uuid=this.uuid;v.type=this.type;""!==this.name&&(v.name=this.name);this.color&&this.color.isColor&&(v.color=this.color.getHex());void 0!==this.roughness&&(v.roughness=this.roughness);void 0!==this.metalness&&(v.metalness=this.metalness);void 0!==this.sheen&&(v.sheen=this.sheen);this.sheenColor&&this.sheenColor.isColor&&(v.sheenColor=this.sheenColor.getHex());void 0!==this.sheenRoughness&&(v.sheenRoughness=this.sheenRoughness);this.emissive&&this.emissive.isColor&&
(v.emissive=this.emissive.getHex());this.emissiveIntensity&&1!==this.emissiveIntensity&&(v.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(v.specular=this.specular.getHex());void 0!==this.specularIntensity&&(v.specularIntensity=this.specularIntensity);this.specularColor&&this.specularColor.isColor&&(v.specularColor=this.specularColor.getHex());void 0!==this.shininess&&(v.shininess=this.shininess);void 0!==this.clearcoat&&(v.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&
(v.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&(v.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(v.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid);this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(v.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,v.clearcoatNormalScale=this.clearcoatNormalScale.toArray());void 0!==this.iridescence&&(v.iridescence=
this.iridescence);void 0!==this.iridescenceIOR&&(v.iridescenceIOR=this.iridescenceIOR);void 0!==this.iridescenceThicknessRange&&(v.iridescenceThicknessRange=this.iridescenceThicknessRange);this.iridescenceMap&&this.iridescenceMap.isTexture&&(v.iridescenceMap=this.iridescenceMap.toJSON(a).uuid);this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(v.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid);this.map&&this.map.isTexture&&(v.map=this.map.toJSON(a).uuid);this.matcap&&
this.matcap.isTexture&&(v.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(v.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(v.lightMap=this.lightMap.toJSON(a).uuid,v.lightMapIntensity=this.lightMapIntensity);this.aoMap&&this.aoMap.isTexture&&(v.aoMap=this.aoMap.toJSON(a).uuid,v.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(v.bumpMap=this.bumpMap.toJSON(a).uuid,v.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&
(v.normalMap=this.normalMap.toJSON(a).uuid,v.normalMapType=this.normalMapType,v.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(v.displacementMap=this.displacementMap.toJSON(a).uuid,v.displacementScale=this.displacementScale,v.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(v.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(v.metalnessMap=this.metalnessMap.toJSON(a).uuid);
this.emissiveMap&&this.emissiveMap.isTexture&&(v.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(v.specularMap=this.specularMap.toJSON(a).uuid);this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(v.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid);this.specularColorMap&&this.specularColorMap.isTexture&&(v.specularColorMap=this.specularColorMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(v.envMap=this.envMap.toJSON(a).uuid,
void 0!==this.combine&&(v.combine=this.combine));void 0!==this.envMapIntensity&&(v.envMapIntensity=this.envMapIntensity);void 0!==this.reflectivity&&(v.reflectivity=this.reflectivity);void 0!==this.refractionRatio&&(v.refractionRatio=this.refractionRatio);this.gradientMap&&this.gradientMap.isTexture&&(v.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.transmission&&(v.transmission=this.transmission);this.transmissionMap&&this.transmissionMap.isTexture&&(v.transmissionMap=this.transmissionMap.toJSON(a).uuid);
void 0!==this.thickness&&(v.thickness=this.thickness);this.thicknessMap&&this.thicknessMap.isTexture&&(v.thicknessMap=this.thicknessMap.toJSON(a).uuid);void 0!==this.attenuationDistance&&Infinity!==this.attenuationDistance&&(v.attenuationDistance=this.attenuationDistance);void 0!==this.attenuationColor&&(v.attenuationColor=this.attenuationColor.getHex());void 0!==this.size&&(v.size=this.size);null!==this.shadowSide&&(v.shadowSide=this.shadowSide);void 0!==this.sizeAttenuation&&(v.sizeAttenuation=
this.sizeAttenuation);1!==this.blending&&(v.blending=this.blending);0!==this.side&&(v.side=this.side);this.vertexColors&&(v.vertexColors=!0);1>this.opacity&&(v.opacity=this.opacity);!0===this.transparent&&(v.transparent=this.transparent);v.depthFunc=this.depthFunc;v.depthTest=this.depthTest;v.depthWrite=this.depthWrite;v.colorWrite=this.colorWrite;v.stencilWrite=this.stencilWrite;v.stencilWriteMask=this.stencilWriteMask;v.stencilFunc=this.stencilFunc;v.stencilRef=this.stencilRef;v.stencilFuncMask=
this.stencilFuncMask;v.stencilFail=this.stencilFail;v.stencilZFail=this.stencilZFail;v.stencilZPass=this.stencilZPass;void 0!==this.rotation&&0!==this.rotation&&(v.rotation=this.rotation);!0===this.polygonOffset&&(v.polygonOffset=!0);0!==this.polygonOffsetFactor&&(v.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(v.polygonOffsetUnits=this.polygonOffsetUnits);void 0!==this.linewidth&&1!==this.linewidth&&(v.linewidth=this.linewidth);void 0!==this.dashSize&&(v.dashSize=this.dashSize);
void 0!==this.gapSize&&(v.gapSize=this.gapSize);void 0!==this.scale&&(v.scale=this.scale);!0===this.dithering&&(v.dithering=!0);0<this.alphaTest&&(v.alphaTest=this.alphaTest);!0===this.alphaToCoverage&&(v.alphaToCoverage=this.alphaToCoverage);!0===this.premultipliedAlpha&&(v.premultipliedAlpha=this.premultipliedAlpha);!0===this.forceSinglePass&&(v.forceSinglePass=this.forceSinglePass);!0===this.wireframe&&(v.wireframe=this.wireframe);1<this.wireframeLinewidth&&(v.wireframeLinewidth=this.wireframeLinewidth);
"round"!==this.wireframeLinecap&&(v.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(v.wireframeLinejoin=this.wireframeLinejoin);!0===this.flatShading&&(v.flatShading=this.flatShading);!1===this.visible&&(v.visible=!1);!1===this.toneMapped&&(v.toneMapped=!1);!1===this.fog&&(v.fog=!1);0<Object.keys(this.userData).length&&(v.userData=this.userData);n&&(n=e(a.textures),a=e(a.images),0<n.length&&(v.textures=n),0<a.length&&(v.images=a));return v}clone(){return(new this.constructor).copy(this)}copy(a){this.name=
a.name;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=
a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;const e=a.clippingPlanes;let n=null;if(null!==e){const v=e.length;n=Array(v);for(let z=0;z!==v;++z)n[z]=e[z].clone()}this.clippingPlanes=n;this.clipIntersection=a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;
this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.alphaToCoverage=a.alphaToCoverage;this.premultipliedAlpha=a.premultipliedAlpha;this.forceSinglePass=a.forceSinglePass;this.visible=a.visible;this.toneMapped=a.toneMapped;this.userData=JSON.parse(JSON.stringify(a.userData));return this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){!0===a&&this.version++}}const dh={aliceblue:15792383,
antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,
darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,
indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,
magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nf={h:0,s:0,l:0},gi={h:0,s:0,l:0};class rd{constructor(a,e,n){this.isColor=!0;this.b=this.g=this.r=1;return void 0===e&&void 0===n?this.set(a):this.setRGB(a,e,n)}set(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this}setScalar(a){this.b=this.g=this.r=a;return this}setHex(a,e="srgb"){a=Math.floor(a);this.r=(a>>16&255)/
255;this.g=(a>>8&255)/255;this.b=(a&255)/255;Me.toWorkingColorSpace(this,e);return this}setRGB(a,e,n,v=Me.workingColorSpace){this.r=a;this.g=e;this.b=n;Me.toWorkingColorSpace(this,v);return this}setHSL(a,e,n,v=Me.workingColorSpace){a=d(a,1);e=m(e,0,1);n=m(n,0,1);0===e?this.r=this.g=this.b=n:(e=.5>=n?n*(1+e):n+e-n*e,n=2*n-e,this.r=P(n,e,a+1/3),this.g=P(n,e,a),this.b=P(n,e,a-1/3));Me.toWorkingColorSpace(this,v);return this}setStyle(a,e="srgb"){function n(I){void 0!==I&&1>parseFloat(I)&&console.warn("THREE.Color: Alpha component of "+
a+" will be ignored.")}var v;if(v=/^(\w+)\(([^\)]*)\)/.exec(a)){var z=v[2];switch(v[1]){case "rgb":case "rgba":if(v=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(z)){this.r=Math.min(255,parseInt(v[1],10))/255;this.g=Math.min(255,parseInt(v[2],10))/255;this.b=Math.min(255,parseInt(v[3],10))/255;Me.toWorkingColorSpace(this,e);n(v[4]);break}if(v=/^\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(z))this.r=Math.min(100,parseInt(v[1],10))/100,this.g=Math.min(100,
parseInt(v[2],10))/100,this.b=Math.min(100,parseInt(v[3],10))/100,Me.toWorkingColorSpace(this,e),n(v[4]);break;case "hsl":case "hsla":if(v=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(z)){z=parseFloat(v[1])/360;const I=parseFloat(v[2])/100,L=parseFloat(v[3])/100;n(v[4]);return this.setHSL(z,I,L,e)}break;default:console.warn("THREE.Color: Unknown color model "+a)}}else if(v=/^#([A-Fa-f\d]+)$/.exec(a))v=v[1],z=v.length,3===z?(this.r=parseInt(v.charAt(0)+v.charAt(0),
16)/255,this.g=parseInt(v.charAt(1)+v.charAt(1),16)/255,this.b=parseInt(v.charAt(2)+v.charAt(2),16)/255,Me.toWorkingColorSpace(this,e)):6===z?(this.r=parseInt(v.charAt(0)+v.charAt(1),16)/255,this.g=parseInt(v.charAt(2)+v.charAt(3),16)/255,this.b=parseInt(v.charAt(4)+v.charAt(5),16)/255,Me.toWorkingColorSpace(this,e)):console.warn("THREE.Color: Invalid hex color "+a);else if(a&&0<a.length)return this.setColorName(a,e);return this}setColorName(a,e="srgb"){const n=dh[a.toLowerCase()];void 0!==n?this.setHex(n,
e):console.warn("THREE.Color: Unknown color "+a);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}copySRGBToLinear(a){this.r=y(a.r);this.g=y(a.g);this.b=y(a.b);return this}copyLinearToSRGB(a){this.r=E(a.r);this.g=E(a.g);this.b=E(a.b);return this}convertSRGBToLinear(){this.copySRGBToLinear(this);return this}convertLinearToSRGB(){this.copyLinearToSRGB(this);return this}getHex(a="srgb"){Me.fromWorkingColorSpace(Ie.copy(this),a);
return m(255*Ie.r,0,255)<<16^m(255*Ie.g,0,255)<<8^m(255*Ie.b,0,255)<<0}getHexString(a="srgb"){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,e=Me.workingColorSpace){Me.fromWorkingColorSpace(Ie.copy(this),e);e=Ie.r;const n=Ie.g,v=Ie.b,z=Math.max(e,n,v);var I=Math.min(e,n,v);let L;const R=(I+z)/2;if(I===z)I=L=0;else{const V=z-I;I=.5>=R?V/(z+I):V/(2-z-I);switch(z){case e:L=(n-v)/V+(n<v?6:0);break;case n:L=(v-e)/V+2;break;case v:L=(e-n)/V+4}L/=6}a.h=L;a.s=I;a.l=R;return a}getRGB(a,e=
Me.workingColorSpace){Me.fromWorkingColorSpace(Ie.copy(this),e);a.r=Ie.r;a.g=Ie.g;a.b=Ie.b;return a}getStyle(a="srgb"){Me.fromWorkingColorSpace(Ie.copy(this),a);const e=Ie.r,n=Ie.g,v=Ie.b;return"srgb"!==a?`color(${a} ${e.toFixed(3)} ${n.toFixed(3)} ${v.toFixed(3)})`:`rgb(${255*e|0},${255*n|0},${255*v|0})`}offsetHSL(a,e,n){this.getHSL(Nf);Nf.h+=a;Nf.s+=e;Nf.l+=n;this.setHSL(Nf.h,Nf.s,Nf.l);return this}add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this}addColors(a,e){this.r=a.r+e.r;this.g=a.g+e.g;
this.b=a.b+e.b;return this}addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this}sub(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this}multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this}multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this}lerp(a,e){this.r+=(a.r-this.r)*e;this.g+=(a.g-this.g)*e;this.b+=(a.b-this.b)*e;return this}lerpColors(a,e,n){this.r=a.r+(e.r-a.r)*n;this.g=a.g+(e.g-a.g)*n;this.b=a.b+(e.b-a.b)*n;return this}lerpHSL(a,
e){this.getHSL(Nf);a.getHSL(gi);a=c(Nf.h,gi.h,e);const n=c(Nf.s,gi.s,e);e=c(Nf.l,gi.l,e);this.setHSL(a,n,e);return this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,e=0){this.r=a[e];this.g=a[e+1];this.b=a[e+2];return this}toArray(a=[],e=0){a[e]=this.r;a[e+1]=this.g;a[e+2]=this.b;return a}fromBufferAttribute(a,e){this.r=a.getX(e);this.g=a.getY(e);this.b=a.getZ(e);return this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r;yield this.g;yield this.b}}const Ie=
new rd;rd.NAMES=dh;class be extends Ue{constructor(a){super();this.isMeshBasicMaterial=!0;this.type="MeshBasicMaterial";this.color=new rd(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);
this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}const qf=
new jb,Nh=new Cc;class Re{constructor(a,e,n=!1){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0;this.name="";this.array=a;this.itemSize=e;this.count=void 0!==a?a.length/e:0;this.normalized=n;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.name=a.name;this.array=new a.array.constructor(a.array);
this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;return this}copyAt(a,e,n){a*=this.itemSize;n*=e.itemSize;for(let v=0,z=this.itemSize;v<z;v++)this.array[a+v]=e.array[n+v];return this}copyArray(a){this.array.set(a);return this}applyMatrix3(a){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Nh.fromBufferAttribute(this,e),Nh.applyMatrix3(a),this.setXY(e,Nh.x,Nh.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)qf.fromBufferAttribute(this,e),
qf.applyMatrix3(a),this.setXYZ(e,qf.x,qf.y,qf.z);return this}applyMatrix4(a){for(let e=0,n=this.count;e<n;e++)qf.fromBufferAttribute(this,e),qf.applyMatrix4(a),this.setXYZ(e,qf.x,qf.y,qf.z);return this}applyNormalMatrix(a){for(let e=0,n=this.count;e<n;e++)qf.fromBufferAttribute(this,e),qf.applyNormalMatrix(a),this.setXYZ(e,qf.x,qf.y,qf.z);return this}transformDirection(a){for(let e=0,n=this.count;e<n;e++)qf.fromBufferAttribute(this,e),qf.transformDirection(a),this.setXYZ(e,qf.x,qf.y,qf.z);return this}set(a,
e=0){this.array.set(a,e);return this}getX(a){a=this.array[a*this.itemSize];this.normalized&&(a=k(a,this.array));return a}setX(a,e){this.normalized&&(e=t(e,this.array));this.array[a*this.itemSize]=e;return this}getY(a){a=this.array[a*this.itemSize+1];this.normalized&&(a=k(a,this.array));return a}setY(a,e){this.normalized&&(e=t(e,this.array));this.array[a*this.itemSize+1]=e;return this}getZ(a){a=this.array[a*this.itemSize+2];this.normalized&&(a=k(a,this.array));return a}setZ(a,e){this.normalized&&(e=
t(e,this.array));this.array[a*this.itemSize+2]=e;return this}getW(a){a=this.array[a*this.itemSize+3];this.normalized&&(a=k(a,this.array));return a}setW(a,e){this.normalized&&(e=t(e,this.array));this.array[a*this.itemSize+3]=e;return this}setXY(a,e,n){a*=this.itemSize;this.normalized&&(e=t(e,this.array),n=t(n,this.array));this.array[a+0]=e;this.array[a+1]=n;return this}setXYZ(a,e,n,v){a*=this.itemSize;this.normalized&&(e=t(e,this.array),n=t(n,this.array),v=t(v,this.array));this.array[a+0]=e;this.array[a+
1]=n;this.array[a+2]=v;return this}setXYZW(a,e,n,v,z){a*=this.itemSize;this.normalized&&(e=t(e,this.array),n=t(n,this.array),v=t(v,this.array),z=t(z,this.array));this.array[a+0]=e;this.array[a+1]=n;this.array[a+2]=v;this.array[a+3]=z;return this}onUpload(a){this.onUploadCallback=a;return this}clone(){return(new this.constructor(this.array,this.itemSize)).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};""!==
this.name&&(a.name=this.name);35044!==this.usage&&(a.usage=this.usage);if(0!==this.updateRange.offset||-1!==this.updateRange.count)a.updateRange=this.updateRange;return a}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}
class hg extends Re{constructor(a,e,n){super(new Int8Array(a),e,n)}}class rk extends Re{constructor(a,e,n){super(new Uint8Array(a),e,n)}}class sk extends Re{constructor(a,e,n){super(new Uint8ClampedArray(a),e,n)}}class tk extends Re{constructor(a,e,n){super(new Int16Array(a),e,n)}}class Vc extends Re{constructor(a,e,n){super(new Uint16Array(a),e,n)}}class tf extends Re{constructor(a,e,n){super(new Int32Array(a),e,n)}}class Ri extends Re{constructor(a,e,n){super(new Uint32Array(a),e,n)}}class Bi extends Re{constructor(a,
e,n){super(new Uint16Array(a),e,n);this.isFloat16BufferAttribute=!0}}class Dd extends Re{constructor(a,e,n){super(new Float32Array(a),e,n)}}class uk extends Re{constructor(a,e,n){super(new Float64Array(a),e,n)}}let vk=0;const Gf=new fe,rc=new Cb,Bg=new jb,Kf=new qg,hi=new qg,Bf=new jb;class ue extends Md{constructor(){super();this.isBufferGeometry=!0;Object.defineProperty(this,"id",{value:vk++});this.uuid=r();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes=
{};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}getIndex(){return this.index}setIndex(a){Array.isArray(a)?this.index=new (x(a)?Ri:Vc)(a,1):this.index=a;return this}getAttribute(a){return this.attributes[a]}setAttribute(a,e){this.attributes[a]=e;return this}deleteAttribute(a){delete this.attributes[a];return this}hasAttribute(a){return void 0!==this.attributes[a]}addGroup(a,e,n=0){this.groups.push({start:a,
count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(a,e){this.drawRange.start=a;this.drawRange.count=e}applyMatrix4(a){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(a),e.needsUpdate=!0);e=this.attributes.normal;if(void 0!==e){const n=(new ef).getNormalMatrix(a);e.applyNormalMatrix(n);e.needsUpdate=!0}e=this.attributes.tangent;void 0!==e&&(e.transformDirection(a),e.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();
return this}applyQuaternion(a){Gf.makeRotationFromQuaternion(a);this.applyMatrix4(Gf);return this}rotateX(a){Gf.makeRotationX(a);this.applyMatrix4(Gf);return this}rotateY(a){Gf.makeRotationY(a);this.applyMatrix4(Gf);return this}rotateZ(a){Gf.makeRotationZ(a);this.applyMatrix4(Gf);return this}translate(a,e,n){Gf.makeTranslation(a,e,n);this.applyMatrix4(Gf);return this}scale(a,e,n){Gf.makeScale(a,e,n);this.applyMatrix4(Gf);return this}lookAt(a){rc.lookAt(a);rc.updateMatrix();this.applyMatrix4(rc.matrix);
return this}center(){this.computeBoundingBox();this.boundingBox.getCenter(Bg).negate();this.translate(Bg.x,Bg.y,Bg.z);return this}setFromPoints(a){const e=[];for(let n=0,v=a.length;n<v;n++){const z=a[n];e.push(z.x,z.y,z.z||0)}this.setAttribute("position",new Dd(e,3));return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new qg);const a=this.attributes.position,e=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingBox.set(new jb(-Infinity,-Infinity,-Infinity),new jb(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),e)for(let n=0,v=e.length;n<v;n++)Kf.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(Bf.addVectors(this.boundingBox.min,Kf.min),this.boundingBox.expandByPoint(Bf),Bf.addVectors(this.boundingBox.max,Kf.max),this.boundingBox.expandByPoint(Bf)):(this.boundingBox.expandByPoint(Kf.min),this.boundingBox.expandByPoint(Kf.max))}else this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new tg);const a=this.attributes.position,e=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingSphere.set(new jb,Infinity);else if(a){const n=this.boundingSphere.center;Kf.setFromBufferAttribute(a);if(e)for(let z=0,I=e.length;z<I;z++)hi.setFromBufferAttribute(e[z]),this.morphTargetsRelative?(Bf.addVectors(Kf.min,hi.min),Kf.expandByPoint(Bf),Bf.addVectors(Kf.max,hi.max),Kf.expandByPoint(Bf)):(Kf.expandByPoint(hi.min),Kf.expandByPoint(hi.max));Kf.getCenter(n);let v=0;for(let z=0,I=a.count;z<I;z++)Bf.fromBufferAttribute(a,z),v=Math.max(v,n.distanceToSquared(Bf));if(e)for(let z=
0,I=e.length;z<I;z++){const L=e[z],R=this.morphTargetsRelative;for(let V=0,Y=L.count;V<Y;V++)Bf.fromBufferAttribute(L,V),R&&(Bg.fromBufferAttribute(a,V),Bf.add(Bg)),v=Math.max(v,n.distanceToSquared(Bf))}this.boundingSphere.radius=Math.sqrt(v);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){function a($b,bc,ac){ka.fromArray(z,3*$b);qa.fromArray(z,
3*bc);Ga.fromArray(z,3*ac);Fa.fromArray(L,2*$b);ia.fromArray(L,2*bc);La.fromArray(L,2*ac);qa.sub(ka);Ga.sub(ka);ia.sub(Fa);La.sub(Fa);const Pc=1/(ia.x*La.y-La.x*ia.y);isFinite(Pc)&&(zb.copy(qa).multiplyScalar(La.y).addScaledVector(Ga,-ia.y).multiplyScalar(Pc),bb.copy(Ga).multiplyScalar(ia.x).addScaledVector(qa,-La.x).multiplyScalar(Pc),V[$b].add(zb),V[bc].add(zb),V[ac].add(zb),Y[$b].add(bb),Y[bc].add(bb),Y[ac].add(bb))}function e($b){oc.fromArray(I,3*$b);Ib.copy(oc);var bc=V[$b];Tb.copy(bc);Tb.sub(oc.multiplyScalar(oc.dot(bc))).normalize();
xb.crossVectors(Ib,bc);bc=xb.dot(Y[$b]);R[4*$b]=Tb.x;R[4*$b+1]=Tb.y;R[4*$b+2]=Tb.z;R[4*$b+3]=0>bc?-1:1}var n=this.index,v=this.attributes;if(null===n||void 0===v.position||void 0===v.normal||void 0===v.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{n=n.array;var z=v.position.array,I=v.normal.array,L=v.uv.array;v=z.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Re(new Float32Array(4*
v),4));var R=this.getAttribute("tangent").array,V=[],Y=[];for(var ja=0;ja<v;ja++)V[ja]=new jb,Y[ja]=new jb;var ka=new jb,qa=new jb,Ga=new jb,Fa=new Cc,ia=new Cc,La=new Cc,zb=new jb,bb=new jb;v=this.groups;0===v.length&&(v=[{start:0,count:n.length}]);for(let $b=0,bc=v.length;$b<bc;++$b){var Gb=v[$b];ja=Gb.start;Gb=Gb.count;for(let ac=ja,Pc=ja+Gb;ac<Pc;ac+=3)a(n[ac+0],n[ac+1],n[ac+2])}var Tb=new jb,xb=new jb,oc=new jb,Ib=new jb;for(let $b=0,bc=v.length;$b<bc;++$b){Gb=v[$b];ja=Gb.start;Gb=Gb.count;for(let ac=
ja,Pc=ja+Gb;ac<Pc;ac+=3)e(n[ac+0]),e(n[ac+1]),e(n[ac+2])}}}computeVertexNormals(){const a=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Re(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let ka=0,qa=n.count;ka<qa;ka++)n.setXYZ(ka,0,0,0);const v=new jb,z=new jb,I=new jb,L=new jb,R=new jb,V=new jb,Y=new jb,ja=new jb;if(a)for(let ka=0,qa=a.count;ka<qa;ka+=3){const Ga=a.getX(ka+0),Fa=a.getX(ka+1),ia=a.getX(ka+2);v.fromBufferAttribute(e,
Ga);z.fromBufferAttribute(e,Fa);I.fromBufferAttribute(e,ia);Y.subVectors(I,z);ja.subVectors(v,z);Y.cross(ja);L.fromBufferAttribute(n,Ga);R.fromBufferAttribute(n,Fa);V.fromBufferAttribute(n,ia);L.add(Y);R.add(Y);V.add(Y);n.setXYZ(Ga,L.x,L.y,L.z);n.setXYZ(Fa,R.x,R.y,R.z);n.setXYZ(ia,V.x,V.y,V.z)}else for(let ka=0,qa=e.count;ka<qa;ka+=3)v.fromBufferAttribute(e,ka+0),z.fromBufferAttribute(e,ka+1),I.fromBufferAttribute(e,ka+2),Y.subVectors(I,z),ja.subVectors(v,z),Y.cross(ja),n.setXYZ(ka+0,Y.x,Y.y,Y.z),
n.setXYZ(ka+1,Y.x,Y.y,Y.z),n.setXYZ(ka+2,Y.x,Y.y,Y.z);this.normalizeNormals();n.needsUpdate=!0}}merge(){console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead.");return this}normalizeNormals(){const a=this.attributes.normal;for(let e=0,n=a.count;e<n;e++)Bf.fromBufferAttribute(a,e),Bf.normalize(),a.setXYZ(e,Bf.x,Bf.y,Bf.z)}toNonIndexed(){function a(R,V){const Y=R.array,ja=R.itemSize,ka=R.normalized,qa=new Y.constructor(V.length*ja);
let Ga,Fa=0;for(let ia=0,La=V.length;ia<La;ia++){Ga=R.isInterleavedBufferAttribute?V[ia]*R.data.stride+R.offset:V[ia]*ja;for(let zb=0;zb<ja;zb++)qa[Fa++]=Y[Ga++]}return new Re(qa,ja,ka)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new ue;var n=this.index.array,v=this.attributes;for(var z in v){var I=a(v[z],n);e.setAttribute(z,I)}v=this.morphAttributes;for(var L in v){z=[];I=v[L];for(let R=0,V=I.length;R<V;R++){const Y=
a(I[R],n);z.push(Y)}e.morphAttributes[L]=z}e.morphTargetsRelative=this.morphTargetsRelative;n=this.groups;for(let R=0,V=n.length;R<V;R++)L=n[R],e.addGroup(L.start,L.count,L.materialIndex);return e}toJSON(){const a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==
e[n]&&(a[n]=e[n]);return a}a.data={attributes:{}};n=this.index;null!==n&&(a.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});n=this.attributes;for(var v in n)a.data.attributes[v]=n[v].toJSON(a.data);v={};n=!1;for(e in this.morphAttributes){const z=this.morphAttributes[e],I=[];for(let L=0,R=z.length;L<R;L++)I.push(z[L].toJSON(a.data));0<I.length&&(v[e]=I,n=!0)}n&&(a.data.morphAttributes=v,a.data.morphTargetsRelative=this.morphTargetsRelative);e=this.groups;0<e.length&&
(a.data.groups=JSON.parse(JSON.stringify(e)));e=this.boundingSphere;null!==e&&(a.data.boundingSphere={center:e.center.toArray(),radius:e.radius});return a}clone(){return(new this.constructor).copy(this)}copy(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;var e={};this.name=a.name;var n=a.index;null!==n&&this.setIndex(n.clone(e));n=a.attributes;for(var v in n)this.setAttribute(v,n[v].clone(e));v=a.morphAttributes;for(var z in v){n=
[];const I=v[z];for(let L=0,R=I.length;L<R;L++)n.push(I[L].clone(e));this.morphAttributes[z]=n}this.morphTargetsRelative=a.morphTargetsRelative;e=a.groups;for(let I=0,L=e.length;I<L;I++)z=e[I],this.addGroup(z.start,z.count,z.materialIndex);e=a.boundingBox;null!==e&&(this.boundingBox=e.clone());e=a.boundingSphere;null!==e&&(this.boundingSphere=e.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this}dispose(){this.dispatchEvent({type:"dispose"})}}
const bj=new fe,Cg=new Lg,Ci=new tg,Bj=new jb,Wh=new jb,If=new jb,lf=new jb,Og=new jb,wf=new jb,Vg=new Cc,We=new Cc,Fh=new Cc,Xh=new jb,Gg=new jb;class vf extends Cb{constructor(a=new ue,e=new be){super();this.isMesh=!0;this.type="Mesh";this.geometry=a;this.material=e;this.updateMorphTargets()}copy(a,e){super.copy(a,e);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));
this.material=a.material;this.geometry=a.geometry;return this}updateMorphTargets(){var a=this.geometry.morphAttributes,e=Object.keys(a);if(0<e.length&&(a=a[e[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let n=0,v=a.length;n<v;n++)e=a[n].name||String(n),this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=n}}getVertexPosition(a,e){var n=this.geometry;const v=n.morphAttributes.position,z=n.morphTargetsRelative;e.fromBufferAttribute(n.attributes.position,
a);n=this.morphTargetInfluences;if(v&&n){wf.set(0,0,0);for(let I=0,L=v.length;I<L;I++){const R=n[I];0!==R&&(Og.fromBufferAttribute(v[I],a),z?wf.addScaledVector(Og,R):wf.addScaledVector(Og.sub(e),R))}e.add(wf)}this.isSkinnedMesh&&this.boneTransform(a,e);return e}raycast(a,e){var n=this.geometry;const v=this.material;var z=this.matrixWorld;if(void 0!==v&&(null===n.boundingSphere&&n.computeBoundingSphere(),Ci.copy(n.boundingSphere),Ci.applyMatrix4(z),Cg.copy(a.ray).recast(a.near),!1!==Ci.containsPoint(Cg.origin)||
!(null===Cg.intersectSphere(Ci,Bj)||Cg.origin.distanceToSquared(Bj)>(a.far-a.near)**2))&&(bj.copy(z).invert(),Cg.copy(a.ray).applyMatrix4(bj),null===n.boundingBox||!1!==Cg.intersectsBox(n.boundingBox))){var I=n.index,L=n.attributes.position;z=n.attributes.uv;var R=n.attributes.uv2,V=n.groups;n=n.drawRange;if(null!==I)if(Array.isArray(v))for(let qa=0,Ga=V.length;qa<Ga;qa++){L=V[qa];var Y=v[L.materialIndex];var ja=Math.max(L.start,n.start);var ka=Math.min(I.count,Math.min(L.start+L.count,n.start+n.count));
for(let Fa=ja,ia=ka;Fa<ia;Fa+=3){ja=I.getX(Fa);ka=I.getX(Fa+1);const La=I.getX(Fa+2);if(ja=K(this,Y,a,Cg,z,R,ja,ka,La))ja.faceIndex=Math.floor(Fa/3),ja.face.materialIndex=L.materialIndex,e.push(ja)}}else{V=Math.max(0,n.start);n=Math.min(I.count,n.start+n.count);for(let qa=V,Ga=n;qa<Ga;qa+=3)if(n=I.getX(qa),V=I.getX(qa+1),L=I.getX(qa+2),ja=K(this,v,a,Cg,z,R,n,V,L))ja.faceIndex=Math.floor(qa/3),e.push(ja)}else if(void 0!==L)if(Array.isArray(v))for(let qa=0,Ga=V.length;qa<Ga;qa++){I=V[qa];Y=v[I.materialIndex];
ja=Math.max(I.start,n.start);ka=Math.min(L.count,Math.min(I.start+I.count,n.start+n.count));for(let Fa=ja,ia=ka;Fa<ia;Fa+=3)if(ja=K(this,Y,a,Cg,z,R,Fa,Fa+1,Fa+2))ja.faceIndex=Math.floor(Fa/3),ja.face.materialIndex=I.materialIndex,e.push(ja)}else{I=Math.max(0,n.start);n=Math.min(L.count,n.start+n.count);for(let qa=I,Ga=n;qa<Ga;qa+=3)if(ja=K(this,v,a,Cg,z,R,qa,qa+1,qa+2))ja.faceIndex=Math.floor(qa/3),e.push(ja)}}}}class Xf extends ue{constructor(a=1,e=1,n=1,v=1,z=1,I=1){function L(Fa,ia,La,zb,bb,Gb,
Tb,xb,oc,Ib,$b){const bc=Gb/oc,ac=Tb/Ib,Pc=Gb/2,Gc=Tb/2,Kc=xb/2;Tb=oc+1;const Ic=Ib+1;let td=Gb=0;const Fd=new jb;for(let Sd=0;Sd<Ic;Sd++){const ce=Sd*ac-Gc;for(let Mc=0;Mc<Tb;Mc++)Fd[Fa]=(Mc*bc-Pc)*zb,Fd[ia]=ce*bb,Fd[La]=Kc,Y.push(Fd.x,Fd.y,Fd.z),Fd[Fa]=0,Fd[ia]=0,Fd[La]=0<xb?1:-1,ja.push(Fd.x,Fd.y,Fd.z),ka.push(Mc/oc),ka.push(1-Sd/Ib),Gb+=1}for(Fa=0;Fa<Ib;Fa++)for(ia=0;ia<oc;ia++)La=qa+ia+Tb*(Fa+1),zb=qa+(ia+1)+Tb*(Fa+1),bb=qa+(ia+1)+Tb*Fa,V.push(qa+ia+Tb*Fa,La,bb),V.push(La,zb,bb),td+=6;R.addGroup(Ga,
td,$b);Ga+=td;qa+=Gb}super();this.type="BoxGeometry";this.parameters={width:a,height:e,depth:n,widthSegments:v,heightSegments:z,depthSegments:I};const R=this;v=Math.floor(v);z=Math.floor(z);I=Math.floor(I);const V=[],Y=[],ja=[],ka=[];let qa=0,Ga=0;L("z","y","x",-1,-1,n,e,a,I,z,0);L("z","y","x",1,-1,n,e,-a,I,z,1);L("x","z","y",1,1,a,n,e,v,I,2);L("x","z","y",1,-1,a,n,-e,v,I,3);L("x","y","z",1,-1,a,e,n,v,z,4);L("x","y","z",-1,-1,a,e,-n,v,z,5);this.setIndex(V);this.setAttribute("position",new Dd(Y,3));
this.setAttribute("normal",new Dd(ja,3));this.setAttribute("uv",new Dd(ka,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Xf(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}const Xe={clone:T,merge:aa};class eg extends Ue{constructor(a){super();this.isShaderMaterial=!0;this.type="ShaderMaterial";this.defines={};this.uniforms={};this.uniformsGroups=[];this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";
this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&this.setValues(a)}copy(a){super.copy(a);this.fragmentShader=a.fragmentShader;
this.vertexShader=a.vertexShader;this.uniforms=T(a.uniforms);var e=a.uniformsGroups;const n=[];for(let v=0;v<e.length;v++)n.push(e[v].clone());this.uniformsGroups=n;this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.fog=a.fog;this.lights=a.lights;this.clipping=a.clipping;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this}toJSON(a){const e=super.toJSON(a);e.glslVersion=this.glslVersion;e.uniforms=
{};for(const n in this.uniforms){const v=this.uniforms[n].value;e.uniforms[n]=v&&v.isTexture?{type:"t",value:v.toJSON(a).uuid}:v&&v.isColor?{type:"c",value:v.getHex()}:v&&v.isVector2?{type:"v2",value:v.toArray()}:v&&v.isVector3?{type:"v3",value:v.toArray()}:v&&v.isVector4?{type:"v4",value:v.toArray()}:v&&v.isMatrix3?{type:"m3",value:v.toArray()}:v&&v.isMatrix4?{type:"m4",value:v.toArray()}:{value:v}}0<Object.keys(this.defines).length&&(e.defines=this.defines);e.vertexShader=this.vertexShader;e.fragmentShader=
this.fragmentShader;a={};for(const n in this.extensions)!0===this.extensions[n]&&(a[n]=!0);0<Object.keys(a).length&&(e.extensions=a);return e}}class Oh extends Cb{constructor(){super();this.isCamera=!0;this.type="Camera";this.matrixWorldInverse=new fe;this.projectionMatrix=new fe;this.projectionMatrixInverse=new fe}copy(a,e){super.copy(a,e);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);
return this}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return a.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(a){super.updateMatrixWorld(a);this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,e){super.updateWorldMatrix(a,e);this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class uc extends Oh{constructor(a=50,e=1,n=.1,v=2E3){super();this.isPerspectiveCamera=!0;this.type=
"PerspectiveCamera";this.fov=a;this.zoom=1;this.near=n;this.far=v;this.focus=10;this.aspect=e;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}copy(a,e){super.copy(a,e);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this}setFocalLength(a){a=.5*this.getFilmHeight()/a;this.fov=2*Jd*Math.atan(a);this.updateProjectionMatrix()}getFocalLength(){const a=
Math.tan(.5*Zd*this.fov);return.5*this.getFilmHeight()/a}getEffectiveFOV(){return 2*Jd*Math.atan(Math.tan(.5*Zd*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(a,e,n,v,z,I){this.aspect=a/e;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=e;this.view.offsetX=n;this.view.offsetY=
v;this.view.width=z;this.view.height=I;this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){const a=this.near;let e=a*Math.tan(.5*Zd*this.fov)/this.zoom,n=2*e,v=this.aspect*n,z=-.5*v;var I=this.view;if(null!==this.view&&this.view.enabled){const L=I.fullWidth,R=I.fullHeight;z+=I.offsetX*v/L;e-=I.offsetY*n/R;v*=I.width/L;n*=I.height/R}I=this.filmOffset;0!==I&&(z+=a*I/this.getFilmWidth());this.projectionMatrix.makePerspective(z,
z+v,e,e-n,a,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}}class Se extends Cb{constructor(a,e,n){super();this.type="CubeCamera";this.renderTarget=n;n=new uc(-90,
1,a,e);n.layers=this.layers;n.up.set(0,1,0);n.lookAt(1,0,0);this.add(n);n=new uc(-90,1,a,e);n.layers=this.layers;n.up.set(0,1,0);n.lookAt(-1,0,0);this.add(n);n=new uc(-90,1,a,e);n.layers=this.layers;n.up.set(0,0,-1);n.lookAt(0,1,0);this.add(n);n=new uc(-90,1,a,e);n.layers=this.layers;n.up.set(0,0,1);n.lookAt(0,-1,0);this.add(n);n=new uc(-90,1,a,e);n.layers=this.layers;n.up.set(0,1,0);n.lookAt(0,0,1);this.add(n);a=new uc(-90,1,a,e);a.layers=this.layers;a.up.set(0,1,0);a.lookAt(0,0,-1);this.add(a)}update(a,
e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[v,z,I,L,R,V]=this.children,Y=a.getRenderTarget(),ja=a.toneMapping,ka=a.xr.enabled;a.toneMapping=0;a.xr.enabled=!1;const qa=n.texture.generateMipmaps;n.texture.generateMipmaps=!1;a.setRenderTarget(n,0);a.render(e,v);a.setRenderTarget(n,1);a.render(e,z);a.setRenderTarget(n,2);a.render(e,I);a.setRenderTarget(n,3);a.render(e,L);a.setRenderTarget(n,4);a.render(e,R);n.texture.generateMipmaps=qa;a.setRenderTarget(n,5);a.render(e,
V);a.setRenderTarget(Y);a.toneMapping=ja;a.xr.enabled=ka;n.texture.needsPMREMUpdate=!0}}class uh extends kf{constructor(a,e,n,v,z,I,L,R,V,Y){a=void 0!==a?a:[];super(a,void 0!==e?e:301,n,v,z,I,L,R,V,Y);this.isCubeTexture=!0;this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class ti extends Pf{constructor(a=1,e={}){super(a,a,e);this.isWebGLCubeRenderTarget=!0;a={width:a,height:a,depth:1};this.texture=new uh([a,a,a,a,a,a],e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,
e.type,e.anisotropy,e.encoding);this.texture.isRenderTargetTexture=!0;this.texture.generateMipmaps=void 0!==e.generateMipmaps?e.generateMipmaps:!1;this.texture.minFilter=void 0!==e.minFilter?e.minFilter:1006}fromEquirectangularTexture(a,e){this.texture.type=e.type;this.texture.encoding=e.encoding;this.texture.generateMipmaps=e.generateMipmaps;this.texture.minFilter=e.minFilter;this.texture.magFilter=e.magFilter;var n=new Xf(5,5,5),v=new eg({name:"CubemapFromEquirect",uniforms:T({tEquirect:{value:null}}),
vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include \x3cbegin_vertex\x3e\n\t\t\t\t\t#include \x3cproject_vertex\x3e\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include \x3ccommon\x3e\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction \x3d normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV \x3d equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",
side:1,blending:0});v.uniforms.tEquirect.value=e;n=new vf(n,v);v=e.minFilter;1008===e.minFilter&&(e.minFilter=1006);(new Se(1,10,this)).update(a,n);e.minFilter=v;n.geometry.dispose();n.material.dispose();return this}clear(a,e,n,v){const z=a.getRenderTarget();for(let I=0;6>I;I++)a.setRenderTarget(this,I),a.clear(e,n,v);a.setRenderTarget(z)}}const eh=new jb,vh=new jb,uf=new ef;class Of{constructor(a=new jb(1,0,0),e=0){this.isPlane=!0;this.normal=a;this.constant=e}set(a,e){this.normal.copy(a);this.constant=
e;return this}setComponents(a,e,n,v){this.normal.set(a,e,n);this.constant=v;return this}setFromNormalAndCoplanarPoint(a,e){this.normal.copy(a);this.constant=-e.dot(this.normal);return this}setFromCoplanarPoints(a,e,n){e=eh.subVectors(n,e).cross(vh.subVectors(a,e)).normalize();this.setFromNormalAndCoplanarPoint(e,a);return this}copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this}normalize(){const a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}negate(){this.constant*=
-1;this.normal.negate();return this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-a.radius}projectPoint(a,e){return e.copy(a).addScaledVector(this.normal,-this.distanceToPoint(a))}intersectLine(a,e){const n=a.delta(eh);var v=this.normal.dot(n);if(0===v)return 0===this.distanceToPoint(a.start)?e.copy(a.start):null;v=-(a.start.dot(this.normal)+this.constant)/v;return 0>v||1<v?null:e.copy(a.start).addScaledVector(n,v)}intersectsLine(a){const e=
this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>e&&0<a||0>a&&0<e}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,e){e=e||uf.getNormalMatrix(a);a=this.coplanarPoint(eh).applyMatrix4(a);e=this.normal.applyMatrix3(e).normalize();this.constant=-a.dot(e);return this}translate(a){this.constant-=a.dot(this.normal);return this}equals(a){return a.normal.equals(this.normal)&&
a.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Pg=new tg,Rf=new jb;class mg{constructor(a=new Of,e=new Of,n=new Of,v=new Of,z=new Of,I=new Of){this.planes=[a,e,n,v,z,I]}set(a,e,n,v,z,I){const L=this.planes;L[0].copy(a);L[1].copy(e);L[2].copy(n);L[3].copy(v);L[4].copy(z);L[5].copy(I);return this}copy(a){const e=this.planes;for(let n=0;6>n;n++)e[n].copy(a.planes[n]);return this}setFromProjectionMatrix(a){const e=this.planes;var n=a.elements;a=n[0];const v=n[1],z=n[2],
I=n[3],L=n[4],R=n[5],V=n[6],Y=n[7],ja=n[8],ka=n[9],qa=n[10],Ga=n[11],Fa=n[12],ia=n[13],La=n[14];n=n[15];e[0].setComponents(I-a,Y-L,Ga-ja,n-Fa).normalize();e[1].setComponents(I+a,Y+L,Ga+ja,n+Fa).normalize();e[2].setComponents(I+v,Y+R,Ga+ka,n+ia).normalize();e[3].setComponents(I-v,Y-R,Ga-ka,n-ia).normalize();e[4].setComponents(I-z,Y-V,Ga-qa,n-La).normalize();e[5].setComponents(I+z,Y+V,Ga+qa,n+La).normalize();return this}intersectsObject(a){const e=a.geometry;null===e.boundingSphere&&e.computeBoundingSphere();
Pg.copy(e.boundingSphere).applyMatrix4(a.matrixWorld);return this.intersectsSphere(Pg)}intersectsSprite(a){Pg.center.set(0,0,0);Pg.radius=.7071067811865476;Pg.applyMatrix4(a.matrixWorld);return this.intersectsSphere(Pg)}intersectsSphere(a){const e=this.planes,n=a.center;a=-a.radius;for(let v=0;6>v;v++)if(e[v].distanceToPoint(n)<a)return!1;return!0}intersectsBox(a){const e=this.planes;for(let n=0;6>n;n++){const v=e[n];Rf.x=0<v.normal.x?a.max.x:a.min.x;Rf.y=0<v.normal.y?a.max.y:a.min.y;Rf.z=0<v.normal.z?
a.max.z:a.min.z;if(0>v.distanceToPoint(Rf))return!1}return!0}containsPoint(a){const e=this.planes;for(let n=0;6>n;n++)if(0>e[n].distanceToPoint(a))return!1;return!0}clone(){return(new this.constructor).copy(this)}}class kg extends ue{constructor(a=1,e=1,n=1,v=1){super();this.type="PlaneGeometry";this.parameters={width:a,height:e,widthSegments:n,heightSegments:v};var z=a/2,I=e/2;n=Math.floor(n);v=Math.floor(v);const L=n+1;var R=v+1,V=a/n,Y=e/v;e=[];a=[];const ja=[],ka=[];for(let qa=0;qa<R;qa++){const Ga=
qa*Y-I;for(let Fa=0;Fa<L;Fa++)a.push(Fa*V-z,-Ga,0),ja.push(0,0,1),ka.push(Fa/n),ka.push(1-qa/v)}for(z=0;z<v;z++)for(I=0;I<n;I++)R=I+L*(z+1),V=I+1+L*(z+1),Y=I+1+L*z,e.push(I+L*z,R,Y),e.push(R,V,Y);this.setIndex(e);this.setAttribute("position",new Dd(a,3));this.setAttribute("normal",new Dd(ja,3));this.setAttribute("uv",new Dd(ka,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new kg(a.width,a.height,a.widthSegments,a.heightSegments)}}const le=
{alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a \x3c alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed \x3d vec3( position );",beginnormal_vertex:"vec3 objectNormal \x3d vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent \x3d vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x \x3d clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 \x3d x * x;\n    float x5 \x3d clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( f0, f90, dotVH );\n\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha \x3d pow2( roughness );\n\t\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\t\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F \x3d mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D \x3d D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE \x3d 64.0;\n\tconst float LUT_SCALE \x3d ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS \x3d 0.5 / LUT_SIZE;\n\tfloat dotNV \x3d saturate( dot( N, V ) );\n\tvec2 uv \x3d vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv \x3d uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l \x3d length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x \x3d dot( v1, v2 );\n\tfloat y \x3d abs( x );\n\tfloat a \x3d 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b \x3d 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v \x3d a / b;\n\tfloat theta_sintheta \x3d ( x \x3e 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 \x3d rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 \x3d rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal \x3d cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) \x3c 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 \x3d normalize( V - N * dot( V, N ) );\n\tT2 \x3d - cross( N, T1 );\n\tmat3 mat \x3d mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] \x3d mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] \x3d mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] \x3d mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] \x3d mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] \x3d normalize( coords[ 0 ] );\n\tcoords[ 1 ] \x3d normalize( coords[ 1 ] );\n\tcoords[ 2 ] \x3d normalize( coords[ 2 ] );\n\tcoords[ 3 ] \x3d normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor \x3d vec3( 0.0 );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result \x3d LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha \x3d pow2( roughness );\n\tfloat invAlpha \x3d 1.0 / alpha;\n\tfloat cos2h \x3d dotNH * dotNH;\n\tfloat sin2h \x3d max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat D \x3d D_Charlie( sheenRoughness, dotNH );\n\tfloat V \x3d V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",
iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 \x3d mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 \x3d sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase \x3d 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val \x3d vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos \x3d vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var \x3d vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz \x3d val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x +\x3d 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /\x3d 1.0685e-7;\n\t\tvec3 rgb \x3d XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR \x3d mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq \x3d pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq \x3d 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq \x3c 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 \x3d sqrt( cosTheta2Sq );\n\t\tfloat R0 \x3d IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 \x3d F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 \x3d R12;\n\t\tfloat T121 \x3d 1.0 - R12;\n\t\tfloat phi12 \x3d 0.0;\n\t\tif ( iridescenceIOR \x3c outsideIOR ) phi12 \x3d PI;\n\t\tfloat phi21 \x3d PI - phi12;\n\t\tvec3 baseIOR \x3d Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 \x3d IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 \x3d F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 \x3d vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] \x3c iridescenceIOR ) phi23[ 0 ] \x3d PI;\n\t\tif ( baseIOR[ 1 ] \x3c iridescenceIOR ) phi23[ 1 ] \x3d PI;\n\t\tif ( baseIOR[ 2 ] \x3c iridescenceIOR ) phi23[ 2 ] \x3d PI;\n\t\tfloat OPD \x3d 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi \x3d vec3( phi21 ) + phi23;\n\t\tvec3 R123 \x3d clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 \x3d sqrt( R123 );\n\t\tvec3 Rs \x3d pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 \x3d R12 + Rs;\n\t\tI \x3d C0;\n\t\tvec3 Cm \x3d Rs - T121;\n\t\tfor ( int m \x3d 1; m \x3c\x3d 2; ++ m ) {\n\t\t\tCm *\x3d r123;\n\t\t\tvec3 Sm \x3d 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI +\x3d Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos.xyz );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES \x3c NUM_CLIPPING_PLANES\n\t\tbool clipped \x3d true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d UNION_CLIPPING_PLANES; i \x3c NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\tclipped \x3d ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) \x26\x26 clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvClipPosition \x3d - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *\x3d vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *\x3d vColor;\n#endif",
color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor \x3d vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor \x3d vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *\x3d color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *\x3d instanceColor.xyz;\n#endif",
common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent \x3d max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] \x3d vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] \x3d vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] \x3d vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights \x3d vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] \x3d\x3d - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u \x3d atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v \x3d asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nfloat w0( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n}\nfloat w1( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n}\nfloat w2( float a ){\n    return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n}\nfloat w3( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n}\nfloat g0( float a ) {\n\treturn w0( a ) + w1( a );\n}\nfloat g1( float a ) {\n\treturn w2( a ) + w3( a );\n}\nfloat h0( float a ) {\n\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n}\nfloat h1( float a ) {\n    return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n}\nvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\tuv \x3d uv * texelSize.zw + 0.5;\n\tvec2 iuv \x3d floor( uv );\n    vec2 fuv \x3d fract( uv );\n    float g0x \x3d g0( fuv.x );\n    float g1x \x3d g1( fuv.x );\n    float h0x \x3d h0( fuv.x );\n    float h1x \x3d h1( fuv.x );\n    float h0y \x3d h0( fuv.y );\n    float h1y \x3d h1( fuv.y );\n    vec2 p0 \x3d ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p1 \x3d ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p2 \x3d ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    vec2 p3 \x3d ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n    vec2 lodFudge \x3d pow( 1.95, lod ) / fullSize;\n\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n}\nvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\tvec2 fLodSize \x3d vec2( textureSize( sampler, int( lod ) ) );\n\tvec2 cLodSize \x3d vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\tvec2 fLodSizeInv \x3d 1.0 / fLodSize;\n\tvec2 cLodSizeInv \x3d 1.0 / cLodSize;\n\tvec2 fullSize \x3d vec2( textureSize( sampler, 0 ) );\n\tvec4 fSample \x3d bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\tvec4 cSample \x3d bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\treturn mix( fSample, cSample, fract( lod ) );\n}",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection \x3d abs( direction );\n\t\tfloat face \x3d - 1.0;\n\t\tif ( absDirection.x \x3e absDirection.z ) {\n\t\t\tif ( absDirection.x \x3e absDirection.y )\n\t\t\t\tface \x3d direction.x \x3e 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z \x3e absDirection.y )\n\t\t\t\tface \x3d direction.z \x3e 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face \x3d\x3d 0.0 ) {\n\t\t\tuv \x3d vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 1.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face \x3d\x3d 2.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face \x3d\x3d 3.0 ) {\n\t\t\tuv \x3d vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 4.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv \x3d vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face \x3d getFace( direction );\n\t\tfloat filterInt \x3d max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt \x3d max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize \x3d exp2( mipInt );\n\t\thighp vec2 uv \x3d getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face \x3e 2.0 ) {\n\t\t\tuv.y +\x3d faceSize;\n\t\t\tface -\x3d 3.0;\n\t\t}\n\t\tuv.x +\x3d face * faceSize;\n\t\tuv.x +\x3d filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y +\x3d 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *\x3d CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *\x3d CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip \x3d 0.0;\n\t\tif ( roughness \x3e\x3d cubeUV_r1 ) {\n\t\t\tmip \x3d ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r4 ) {\n\t\t\tmip \x3d ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r5 ) {\n\t\t\tmip \x3d ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r6 ) {\n\t\t\tmip \x3d ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip \x3d - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip \x3d clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF \x3d fract( mip );\n\t\tfloat mipInt \x3d floor( mip );\n\t\tvec3 color0 \x3d bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF \x3d\x3d 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 \x3d bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex:"vec3 transformedNormal \x3d objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m \x3d mat3( instanceMatrix );\n\ttransformedNormal /\x3d vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal \x3d m * transformedNormal;\n#endif\ntransformedNormal \x3d normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal \x3d - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent \x3d ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent \x3d - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif",
emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor \x3d linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag \x3d normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor \x3d vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec \x3d reflect( - viewDir, normal );\n\t\t\treflectVec \x3d normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",
envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex:"#ifdef USE_FOG\n\tvFogDepth \x3d - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL \x3d dot( normal, lightDirection );\n\tvec2 coord \x3d vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw \x3d fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse +\x3d lightMapIrradiance;\n#endif",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularStrength \x3d specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",
lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x \x3d normal.x, y \x3d normal.y, z \x3d normal.z;\n\tvec3 result \x3d shCoefficients[ 0 ] * 0.886227;\n\tresult +\x3d shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult +\x3d shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult +\x3d shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult +\x3d shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult +\x3d shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult +\x3d shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult +\x3d shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult +\x3d shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance \x3d shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance \x3e 0.0 \x26\x26 decayExponent \x3e 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance \x3e 0.0 ) {\n\t\t\tdistanceFalloff *\x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color \x3d directionalLight.color;\n\t\tlight.direction \x3d directionalLight.direction;\n\t\tlight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tlight.color \x3d pointLight.color;\n\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat angleCos \x3d dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation \x3d getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation \x3e 0.0 ) {\n\t\t\tfloat lightDistance \x3d length( lVector );\n\t\t\tlight.color \x3d spotLight.color * spotAttenuation;\n\t\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color \x3d vec3( 0.0 );\n\t\t\tlight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL \x3d dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",
lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance \x3d getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy \x3d max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness \x3d max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness \x3d max( roughnessFactor, 0.0525 );material.roughness +\x3d geometryRoughness;\nmaterial.roughness \x3d min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior \x3d ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor \x3d specularIntensity;\n\t\tvec3 specularColorFactor \x3d specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *\x3d texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *\x3d texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 \x3d mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor \x3d 1.0;\n\t\tvec3 specularColorFactor \x3d vec3( 1.0 );\n\t\tmaterial.specularF90 \x3d 1.0;\n\t#endif\n\tmaterial.specularColor \x3d mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 \x3d 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat \x3d clearcoat;\n\tmaterial.clearcoatRoughness \x3d clearcoatRoughness;\n\tmaterial.clearcoatF0 \x3d vec3( 0.04 );\n\tmaterial.clearcoatF90 \x3d 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *\x3d texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *\x3d texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat \x3d saturate( material.clearcoat );\tmaterial.clearcoatRoughness \x3d max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness +\x3d geometryRoughness;\n\tmaterial.clearcoatRoughness \x3d min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence \x3d iridescence;\n\tmaterial.iridescenceIOR \x3d iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *\x3d texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness \x3d (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness \x3d iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor \x3d sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *\x3d texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness \x3d clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *\x3d texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular \x3d vec3( 0.0 );\nvec3 sheenSpecular \x3d vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat r2 \x3d roughness * roughness;\n\tfloat a \x3d roughness \x3c 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b \x3d roughness \x3c 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG \x3d exp( a * dotNV + b ) + ( roughness \x3c 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab \x3d vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr \x3d mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr \x3d specularColor;\n\t#endif\n\tvec3 FssEss \x3d Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess \x3d fab.x + fab.y;\n\tfloat Ems \x3d 1.0 - Ess;\n\tvec3 Favg \x3d Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms \x3d FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter +\x3d FssEss;\n\tmultiScatter +\x3d Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal \x3d geometry.normal;\n\t\tvec3 viewDir \x3d geometry.viewDir;\n\t\tvec3 position \x3d geometry.position;\n\t\tvec3 lightPos \x3d rectAreaLight.position;\n\t\tvec3 halfWidth \x3d rectAreaLight.halfWidth;\n\t\tvec3 halfHeight \x3d rectAreaLight.halfHeight;\n\t\tvec3 lightColor \x3d rectAreaLight.color;\n\t\tfloat roughness \x3d material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] \x3d lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] \x3d lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] \x3d lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] \x3d lightPos + halfWidth + halfHeight;\n\t\tvec2 uv \x3d LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 \x3d texture2D( ltc_1, uv );\n\t\tvec4 t2 \x3d texture2D( ltc_2, uv );\n\t\tmat3 mInv \x3d mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel \x3d ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular +\x3d lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse +\x3d lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc \x3d saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance \x3d dotNLcc * directLight.color;\n\t\tclearcoatSpecular +\x3d ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular +\x3d clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular +\x3d irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering \x3d vec3( 0.0 );\n\tvec3 multiScattering \x3d vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance \x3d irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering \x3d singleScattering + multiScattering;\n\tvec3 diffuse \x3d material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular +\x3d radiance * singleScattering;\n\treflectedLight.indirectSpecular +\x3d multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse +\x3d diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal \x3d clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi \x3d saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness \x3d\x3d 0.0 ) {\n\t\tmaterial.iridescence \x3d 0.0;\n\t} else {\n\t\tmaterial.iridescence \x3d saturate( material.iridescence );\n\t}\n\tif ( material.iridescence \x3e 0.0 ) {\n\t\tmaterial.iridescenceFresnel \x3d evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 \x3d Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow \x3d pointLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX \x3c NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord \x3d vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap \x3d all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor \x3d texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color \x3d inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow \x3d spotLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow \x3d directionalLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight \x3d rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance \x3d vec3( 0.0 );\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\tirradiance +\x3d getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d vec3( 0.0 );\n\tvec3 clearcoatRadiance \x3d vec3( 0.0 );\n#endif",
lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance +\x3d getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tradiance +\x3d getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance +\x3d getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",
lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT \x3d vIsPerspective \x3d\x3d 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) \x26\x26 defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t\tvIsPerspective \x3d float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z \x3d log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *\x3d gl_Position.w;\n\t\t}\n\t#endif\n#endif",
map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor \x3d texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor \x3d vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *\x3d sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv \x3d ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *\x3d texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
metalnessmap_fragment:"float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) \x26\x26 defined( MORPHTARGETS_TEXTURE )\n\tvColor *\x3d morphTargetBaseInfluence;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",
morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) objectNormal +\x3d getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal +\x3d morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal +\x3d morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal +\x3d morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal +\x3d morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex \x3d vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y \x3d texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x \x3d texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV \x3d ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",
morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *\x3d morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) transformed +\x3d getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed +\x3d morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed +\x3d morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed +\x3d morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed +\x3d morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed +\x3d morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed +\x3d morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed +\x3d morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed +\x3d morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",
normal_fragment_begin:"float faceDirection \x3d gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx \x3d dFdx( vViewPosition );\n\tvec3 fdy \x3d dFdy( vViewPosition );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent \x3d normalize( vTangent );\n\t\tvec3 bitangent \x3d normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent \x3d tangent * faceDirection;\n\t\t\tbitangent \x3d bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN \x3d mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal \x3d normal;",
normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal \x3d - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\tnormal \x3d normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *\x3d normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal \x3d normalize( vTBN * mapN );\n\t#else\n\t\tnormal \x3d perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",
normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent \x3d normalize( transformedTangent );\n\t\tvBitangent \x3d normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) \x26\x26 ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 N \x3d surf_norm;\n\t\tvec3 q1perp \x3d cross( q1, N );\n\t\tvec3 q0perp \x3d cross( N, q0 );\n\t\tvec3 T \x3d q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B \x3d q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det \x3d max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale \x3d ( det \x3d\x3d 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",
clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal \x3d geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN \x3d texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *\x3d clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal \x3d normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal \x3d perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",
clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a \x3d 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *\x3d material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r \x3d vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition \x3d vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition \x3d instanceMatrix * mvPosition;\n#endif\nmvPosition \x3d modelViewMatrix * mvPosition;\ngl_Position \x3d projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb \x3d dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position \x3d rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB \x3d vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB \x3d mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
roughnessmap_fragment:"float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS \x3e 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion \x3d 1.0;\n\t\tvec2 distribution \x3d texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow \x3d step( compare , distribution.x );\n\t\tif (hard_shadow !\x3d 1.0 ) {\n\t\t\tfloat distance \x3d compare - distribution.x ;\n\t\t\tfloat variance \x3d max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability \x3d variance / (variance + distance * distance );\t\t\tsoftness_probability \x3d clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion \x3d clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow \x3d 1.0;\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbool inFrustum \x3d shadowCoord.x \x3e\x3d 0.0 \x26\x26 shadowCoord.x \x3c\x3d 1.0 \x26\x26 shadowCoord.y \x3e\x3d 0.0 \x26\x26 shadowCoord.y \x3c\x3d 1.0;\n\t\tbool frustumTest \x3d inFrustum \x26\x26 shadowCoord.z \x3c\x3d 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 \x3d dx0 / 2.0;\n\t\t\tfloat dy2 \x3d dy0 / 2.0;\n\t\t\tfloat dx3 \x3d dx1 / 2.0;\n\t\t\tfloat dy3 \x3d dy1 / 2.0;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx \x3d texelSize.x;\n\t\t\tfloat dy \x3d texelSize.y;\n\t\t\tvec2 uv \x3d shadowCoord.xy;\n\t\t\tvec2 f \x3d fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -\x3d f * texelSize;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow \x3d VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow \x3d texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp +\x3d shadowBias;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) \x26\x26 ( NUM_DIR_LIGHT_SHADOWS \x3e 0 || NUM_POINT_LIGHT_SHADOWS \x3e 0 ) ) || ( NUM_SPOT_LIGHT_COORDS \x3e 0 )\n\tvec3 shadowWorldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition \x3d worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) \x26\x26 UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz +\x3d shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] \x3d spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight \x3d spotLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight \x3d pointLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j \x3d i * 4.0;\n\t\tfloat x \x3d mod( j, float( boneTextureSize ) );\n\t\tfloat y \x3d floor( j / float( boneTextureSize ) );\n\t\tfloat dx \x3d 1.0 / float( boneTextureSize );\n\t\tfloat dy \x3d 1.0 / float( boneTextureSize );\n\t\ty \x3d dy * ( y + 0.5 );\n\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\ttransformed \x3d ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent \x3d vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\tcolor \x3d max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a \x3d v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b \x3d v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat \x3d mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat \x3d mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *\x3d toneMappingExposure / 0.6;\n\tcolor \x3d ACESInputMat * color;\n\tcolor \x3d RRTAndODTFit( color );\n\tcolor \x3d ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission \x3d transmission;\n\tmaterial.transmissionAlpha \x3d 1.0;\n\tmaterial.thickness \x3d thickness;\n\tmaterial.attenuationDistance \x3d attenuationDistance;\n\tmaterial.attenuationColor \x3d attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *\x3d texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *\x3d texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos \x3d vWorldPosition;\n\tvec3 v \x3d normalize( cameraPosition - pos );\n\tvec3 n \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission \x3d getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha \x3d mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse \x3d mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",
transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector \x3d refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x \x3d length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y \x3d length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z \x3d length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod \x3d log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient \x3d -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance \x3d exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay \x3d getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit \x3d position + transmissionRay;\n\t\tvec4 ndcPos \x3d projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords \x3d ndcPos.xy / ndcPos.w;\n\t\trefractionCoords +\x3d 1.0;\n\t\trefractionCoords /\x3d 2.0;\n\t\tvec4 transmittedLight \x3d getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor \x3d applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F \x3d EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",
uv_pars_fragment:"#if ( defined( USE_UV ) \x26\x26 ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",
uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvec4 worldPosition \x3d vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition \x3d instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition \x3d modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position \x3d vec4( position.xy, 1.0, 1.0 );\n}",
background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor \x3d texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor \x3d vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
backgroundCube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include \x3ccube_uv_reflection_fragment\x3e\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor \x3d textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor \x3d textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
cube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor \x3d textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor \x3d texColor;\n\tgl_FragColor.a *\x3d opacity;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
depth_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvHighPrecisionZW \x3d gl_Position.zw;\n}",
depth_frag:"#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\tfloat fragCoordZ \x3d 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition.xyz;\n}",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\tfloat dist \x3d length( vWorldPosition - referencePosition );\n\tdist \x3d ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist \x3d saturate( dist );\n\tgl_FragColor \x3d packDepthToRGBA( dist );\n}",
equirect_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvec3 direction \x3d normalize( vWorldDirection );\n\tvec2 sampleUV \x3d equirectUv( direction );\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n}",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvLineDistance \x3d scale * lineDistance;\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
meshbasic_vert:"#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinbase_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse +\x3d lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse +\x3d vec3( 1.0 );\n\t#endif\n\t#include \x3caomap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d diffuseColor.rgb;\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_lambert_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_lambert_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n}",
meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tvec3 viewDir \x3d normalize( vViewPosition );\n\tvec3 x \x3d normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y \x3d cross( viewDir, x );\n\tvec2 uv \x3d vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor \x3d texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor \x3d vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight \x3d diffuseColor.rgb * matcapColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n}",
meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a \x3d 1.0;\n\t#endif\n}",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n#ifdef USE_TRANSMISSION\n\tvWorldPosition \x3d worldPosition.xyz;\n#endif\n}",
meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ciridescence_fragment\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_physical_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3ctransmission_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cclearcoat_pars_fragment\x3e\n#include \x3ciridescence_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cclearcoat_normal_fragment_begin\x3e\n\t#include \x3cclearcoat_normal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 totalDiffuse \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular \x3d reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include \x3ctransmission_fragment\x3e\n\tvec3 outgoingLight \x3d totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp \x3d 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight \x3d outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc \x3d saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc \x3d F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight \x3d outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cgradientmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_toon_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_toon_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
points_vert:"uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_PointSize \x3d size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *\x3d ( scale / - mvPosition.z );\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
shadow_vert:"#include \x3ccommon\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\t#include \x3clogdepthbuf_fragment\x3e\n\tgl_FragColor \x3d vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}",
sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x \x3d length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y \x3d length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *\x3d - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition \x3d ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy +\x3d rotatedPosition;\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3coutput_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}"},
jd={common:{diffuse:{value:new rd(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ef},uv2Transform:{value:new ef},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},
bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Cc(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new rd(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],
properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},
pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rd(16777215)},
opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ef}},sprite:{diffuse:{value:new rd(16777215)},opacity:{value:1},center:{value:new Cc(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ef}}},fg={basic:{uniforms:aa([jd.common,jd.specularmap,jd.envmap,jd.aomap,jd.lightmap,jd.fog]),vertexShader:le.meshbasic_vert,fragmentShader:le.meshbasic_frag},lambert:{uniforms:aa([jd.common,
jd.specularmap,jd.envmap,jd.aomap,jd.lightmap,jd.emissivemap,jd.bumpmap,jd.normalmap,jd.displacementmap,jd.fog,jd.lights,{emissive:{value:new rd(0)}}]),vertexShader:le.meshlambert_vert,fragmentShader:le.meshlambert_frag},phong:{uniforms:aa([jd.common,jd.specularmap,jd.envmap,jd.aomap,jd.lightmap,jd.emissivemap,jd.bumpmap,jd.normalmap,jd.displacementmap,jd.fog,jd.lights,{emissive:{value:new rd(0)},specular:{value:new rd(1118481)},shininess:{value:30}}]),vertexShader:le.meshphong_vert,fragmentShader:le.meshphong_frag},
standard:{uniforms:aa([jd.common,jd.envmap,jd.aomap,jd.lightmap,jd.emissivemap,jd.bumpmap,jd.normalmap,jd.displacementmap,jd.roughnessmap,jd.metalnessmap,jd.fog,jd.lights,{emissive:{value:new rd(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:le.meshphysical_vert,fragmentShader:le.meshphysical_frag},toon:{uniforms:aa([jd.common,jd.aomap,jd.lightmap,jd.emissivemap,jd.bumpmap,jd.normalmap,jd.displacementmap,jd.gradientmap,jd.fog,jd.lights,{emissive:{value:new rd(0)}}]),
vertexShader:le.meshtoon_vert,fragmentShader:le.meshtoon_frag},matcap:{uniforms:aa([jd.common,jd.bumpmap,jd.normalmap,jd.displacementmap,jd.fog,{matcap:{value:null}}]),vertexShader:le.meshmatcap_vert,fragmentShader:le.meshmatcap_frag},points:{uniforms:aa([jd.points,jd.fog]),vertexShader:le.points_vert,fragmentShader:le.points_frag},dashed:{uniforms:aa([jd.common,jd.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:le.linedashed_vert,fragmentShader:le.linedashed_frag},depth:{uniforms:aa([jd.common,
jd.displacementmap]),vertexShader:le.depth_vert,fragmentShader:le.depth_frag},normal:{uniforms:aa([jd.common,jd.bumpmap,jd.normalmap,jd.displacementmap,{opacity:{value:1}}]),vertexShader:le.meshnormal_vert,fragmentShader:le.meshnormal_frag},sprite:{uniforms:aa([jd.sprite,jd.fog]),vertexShader:le.sprite_vert,fragmentShader:le.sprite_frag},background:{uniforms:{uvTransform:{value:new ef},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:le.background_vert,fragmentShader:le.background_frag},
backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:le.backgroundCube_vert,fragmentShader:le.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:le.cube_vert,fragmentShader:le.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:le.equirect_vert,fragmentShader:le.equirect_frag},distanceRGBA:{uniforms:aa([jd.common,jd.displacementmap,{referencePosition:{value:new jb},
nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:le.distanceRGBA_vert,fragmentShader:le.distanceRGBA_frag},shadow:{uniforms:aa([jd.lights,jd.fog,{color:{value:new rd(0)},opacity:{value:1}}]),vertexShader:le.shadow_vert,fragmentShader:le.shadow_frag}};fg.physical={uniforms:aa([fg.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Cc(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},
iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new rd(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Cc},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},
attenuationColor:{value:new rd(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new rd(1,1,1)},specularColorMap:{value:null}}]),vertexShader:le.meshphysical_vert,fragmentShader:le.meshphysical_frag};const Yh={r:0,b:0,g:0};class Di extends Oh{constructor(a=-1,e=1,n=1,v=-1,z=.1,I=2E3){super();this.isOrthographicCamera=!0;this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=a;this.right=e;this.top=n;this.bottom=v;this.near=z;this.far=I;this.updateProjectionMatrix()}copy(a,
e){super.copy(a,e);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this}setViewOffset(a,e,n,v,z,I){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=e;this.view.offsetX=n;this.view.offsetY=v;this.view.width=z;this.view.height=I;this.updateProjectionMatrix()}clearViewOffset(){null!==
this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){var a=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,v=(this.top+this.bottom)/2;let z=n-a;n+=a;a=v+e;e=v-e;null!==this.view&&this.view.enabled&&(v=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,z+=v*this.view.offsetX,n=z+v*this.view.width,a-=e*this.view.offsetY,e=a-e*this.view.height);this.projectionMatrix.makeOrthographic(z,
n,a,e,this.near,this.far);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}}const Qg=[.125,.215,.35,.446,.526,.582],Ph=new Di,Ei=new rd;let Fi=null;const wh=(1+Math.sqrt(5))/2,xh=1/wh,Gi=[new jb(1,1,1),new jb(-1,1,1),
new jb(1,1,-1),new jb(-1,1,-1),new jb(0,wh,xh),new jb(0,wh,-xh),new jb(xh,0,wh),new jb(-xh,0,wh),new jb(wh,xh,0),new jb(-wh,xh,0)];class ui{constructor(a){this._renderer=a;this._pingPongRenderTarget=null;this._cubeSize=this._lodMax=0;this._lodPlanes=[];this._sizeLods=[];this._sigmas=[];this._equirectMaterial=this._cubemapMaterial=this._blurMaterial=null;this._compileMaterial(this._blurMaterial)}fromScene(a,e=0,n=.1,v=100){Fi=this._renderer.getRenderTarget();this._setSize(256);const z=this._allocateTargets();
z.depthBuffer=!0;this._sceneToCubeUV(a,n,v,z);0<e&&this._blur(z,0,0,e);this._applyPMREM(z);this._cleanup(z);return z}fromEquirectangular(a,e=null){return this._fromTexture(a,e)}fromCubemap(a,e=null){return this._fromTexture(a,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=ib(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=pa(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose();
null!==this._cubemapMaterial&&this._cubemapMaterial.dispose();null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a));this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose();null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(Fi);a.scissorTest=!1;Da(a,0,0,a.width,
a.height)}_fromTexture(a,e){301===a.mapping||302===a.mapping?this._setSize(0===a.image.length?16:a.image[0].width||a.image[0].image.width):this._setSize(a.image.width/4);Fi=this._renderer.getRenderTarget();e=e||this._allocateTargets();this._textureToCubeUV(a,e);this._applyPMREM(e);this._cleanup(e);return e}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),e=4*this._cubeSize;var n={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3E3,depthBuffer:!1};const v=Ba(a,
e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==a||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose();this._pingPongRenderTarget=Ba(a,e,n);var {_lodMax:z}=this;n=z;var I=[];const Y=[],ja=[];let ka=n;const qa=n-4+1+Qg.length;for(let Ga=0;Ga<qa;Ga++){var L=Math.pow(2,ka);Y.push(L);var R=1/L;Ga>n-4?R=Qg[Ga-n+4-1]:0===Ga&&(R=0);ja.push(R);R=1/(L-2);L=-R;R=1+R;var V=[L,L,R,L,R,R,L,L,R,R,L,R];L=new Float32Array(108);R=new Float32Array(72);
const Fa=new Float32Array(36);for(let ia=0;6>ia;ia++){const La=ia%3*2/3-1,zb=2<ia?0:-1;L.set([La,zb,0,La+2/3,zb,0,La+2/3,zb+1,0,La,zb,0,La+2/3,zb+1,0,La,zb+1,0],18*ia);R.set(V,12*ia);Fa.set([ia,ia,ia,ia,ia,ia],6*ia)}V=new ue;V.setAttribute("position",new Re(L,3));V.setAttribute("uv",new Re(R,2));V.setAttribute("faceIndex",new Re(Fa,1));I.push(V);4<ka&&ka--}({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}={lodPlanes:I,sizeLods:Y,sigmas:ja});n=z;z=new Float32Array(20);I=new jb(0,
1,0);this._blurMaterial=new eg({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:z},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:I}},vertexShader:$a(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include \x3ccube_uv_reflection_fragment\x3e\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta \x3d cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection \x3d vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis \x3d latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis \x3d vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis \x3d normalize( axis );\n\n\t\t\t\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb +\x3d weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i \x3d 1; i \x3c n; i++ ) {\n\n\t\t\t\t\tif ( i \x3e\x3d samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta \x3d dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}return v}_compileMaterial(a){a=new vf(this._lodPlanes[0],a);this._renderer.compile(a,Ph)}_sceneToCubeUV(a,e,n,v){e=new uc(90,1,e,n);n=[1,-1,1,1,1,1];const z=[1,1,1,-1,-1,-1],I=this._renderer,L=I.autoClear,R=I.toneMapping;I.getClearColor(Ei);I.toneMapping=0;I.autoClear=!1;var V=new be({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1});const Y=new vf(new Xf,V);let ja=!1;const ka=a.background;ka?ka.isColor&&(V.color.copy(ka),a.background=null,ja=!0):
(V.color.copy(Ei),ja=!0);for(V=0;6>V;V++){const qa=V%3;0===qa?(e.up.set(0,n[V],0),e.lookAt(z[V],0,0)):1===qa?(e.up.set(0,0,n[V]),e.lookAt(0,z[V],0)):(e.up.set(0,n[V],0),e.lookAt(0,0,z[V]));const Ga=this._cubeSize;Da(v,qa*Ga,2<V?Ga:0,Ga,Ga);I.setRenderTarget(v);ja&&I.render(Y,e);I.render(a,e)}Y.geometry.dispose();Y.material.dispose();I.toneMapping=R;I.autoClear=L;a.background=ka}_textureToCubeUV(a,e){const n=this._renderer;var v=301===a.mapping||302===a.mapping;v?(null===this._cubemapMaterial&&(this._cubemapMaterial=
ib()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===a.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=pa());const z=v?this._cubemapMaterial:this._equirectMaterial;v=new vf(this._lodPlanes[0],z);z.uniforms.envMap.value=a;a=this._cubeSize;Da(e,0,0,3*a,2*a);n.setRenderTarget(e);n.render(v,Ph)}_applyPMREM(a){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let v=1;v<this._lodPlanes.length;v++)this._blur(a,v-1,v,Math.sqrt(this._sigmas[v]*this._sigmas[v]-
this._sigmas[v-1]*this._sigmas[v-1]),Gi[(v-1)%Gi.length]);e.autoClear=n}_blur(a,e,n,v,z){const I=this._pingPongRenderTarget;this._halfBlur(a,I,e,n,v,"latitudinal",z);this._halfBlur(I,a,n,n,v,"longitudinal",z)}_halfBlur(a,e,n,v,z,I,L){const R=this._renderer;var V=this._blurMaterial;"latitudinal"!==I&&"longitudinal"!==I&&console.error("blur direction must be either latitudinal or longitudinal!");const Y=new vf(this._lodPlanes[v],V);V=V.uniforms;var ja=this._sizeLods[n]-1;ja=isFinite(z)?Math.PI/(2*ja):
2*Math.PI/39;var ka=z/ja;const qa=isFinite(z)?1+Math.floor(3*ka):20;20<qa&&console.warn(`sigmaRadians, ${z}, is too large and will clip, as it requested ${qa} samples when the maximum is set to ${20}`);z=[];let Ga=0;for(let ia=0;20>ia;++ia){var Fa=ia/ka;Fa=Math.exp(-Fa*Fa/2);z.push(Fa);0===ia?Ga+=Fa:ia<qa&&(Ga+=2*Fa)}for(ka=0;ka<z.length;ka++)z[ka]/=Ga;V.envMap.value=a.texture;V.samples.value=qa;V.weights.value=z;V.latitudinal.value="latitudinal"===I;L&&(V.poleAxis.value=L);({_lodMax:a}=this);V.dTheta.value=
ja;V.mipInt.value=a-n;n=this._sizeLods[v];Da(e,3*n*(v>a-4?v-a+4:0),4*(this._cubeSize-n),3*n,2*n);R.setRenderTarget(e);R.render(Y,Ph)}}const Ui=new kf,vj=new kh,Qe=new Zg,Sf=new uh,lh=[],tj=[],Ti=new Float32Array(16),Si=new Float32Array(9),uj=new Float32Array(4);class wk{constructor(a,e,n){this.id=a;this.addr=n;this.cache=[];this.setValue=bd(e.type)}}class Cj{constructor(a,e,n){this.id=a;this.addr=n;this.cache=[];this.size=e.size;this.setValue=Tc(e.type)}}class Dj{constructor(a){this.id=a;this.seq=
[];this.map={}}setValue(a,e,n){const v=this.seq;for(let z=0,I=v.length;z!==I;++z){const L=v[z];L.setValue(a,e[L.id],n)}}}const cj=/(\w+)(\])?(\[|\.)?/g;class lg{constructor(a,e){this.seq=[];this.map={};const n=a.getProgramParameter(e,a.ACTIVE_UNIFORMS);for(let Y=0;Y<n;++Y){var v=a.getActiveUniform(e,Y),z=a.getUniformLocation(e,v.name),I=this,L=v.name;const ja=L.length;for(cj.lastIndex=0;;){const ka=cj.exec(L),qa=cj.lastIndex;var R=ka[1],V=ka[3];"]"===ka[2]&&(R|=0);if(void 0===V||"["===V&&qa+2===ja){L=
I;v=void 0===V?new wk(R,v,z):new Cj(R,v,z);L.seq.push(v);L.map[v.id]=v;break}else V=I.map[R],void 0===V&&(V=new Dj(R),R=I,I=V,R.seq.push(I),R.map[I.id]=I),I=V}}}setValue(a,e,n,v){e=this.map[e];void 0!==e&&e.setValue(a,n,v)}setOptional(a,e,n){e=e[n];void 0!==e&&this.setValue(a,n,e)}static upload(a,e,n,v){for(let z=0,I=e.length;z!==I;++z){const L=e[z],R=n[L.id];!1!==R.needsUpdate&&L.setValue(a,R.value,v)}}static seqWithValue(a,e){const n=[];for(let v=0,z=a.length;v!==z;++v){const I=a[v];I.id in e&&
n.push(I)}return n}}let wj=0;const Vi=/^[ \t]*#include +<([\w\d./]+)>/gm,vi=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;let dj=0;class Wi{constructor(){this.shaderCache=new Map;this.materialCache=new Map}update(a){var e=a.fragmentShader;const n=this._getShaderStage(a.vertexShader);e=this._getShaderStage(e);a=this._getShaderCacheForMaterial(a);!1===a.has(n)&&(a.add(n),n.usedTimes++);!1===a.has(e)&&(a.add(e),
e.usedTimes++);return this}remove(a){const e=this.materialCache.get(a);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);this.materialCache.delete(a);return this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear();this.materialCache.clear()}_getShaderCacheForMaterial(a){const e=this.materialCache;let n=e.get(a);void 0===n&&(n=new Set,e.set(a,n));
return n}_getShaderStage(a){const e=this.shaderCache;let n=e.get(a);void 0===n&&(n=new fh(a),e.set(a,n));return n}}class fh{constructor(a){this.id=dj++;this.code=a;this.usedTimes=0}}let Xi=0;class Zh extends Ue{constructor(a){super();this.isMeshDepthMaterial=!0;this.type="MeshDepthMaterial";this.depthPacking=3200;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.setValues(a)}copy(a){super.copy(a);this.depthPacking=
a.depthPacking;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this}}class Gh extends Ue{constructor(a){super();this.isMeshDistanceMaterial=!0;this.type="MeshDistanceMaterial";this.referencePosition=new jb;this.nearDistance=1;this.farDistance=1E3;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=
1;this.displacementBias=0;this.setValues(a)}copy(a){super.copy(a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this}}class Ej extends uc{constructor(a=[]){super();this.isArrayCamera=!0;this.cameras=a}}class Dg extends Cb{constructor(){super();this.isGroup=!0;this.type=
"Group"}}const ej={type:"move"};class fj{constructor(){this._hand=this._grip=this._targetRay=null}getHandSpace(){null===this._hand&&(this._hand=new Dg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1});return this._hand}getTargetRaySpace(){null===this._targetRay&&(this._targetRay=new Dg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new jb,this._targetRay.hasAngularVelocity=
!1,this._targetRay.angularVelocity=new jb);return this._targetRay}getGripSpace(){null===this._grip&&(this._grip=new Dg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new jb,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new jb);return this._grip}dispatchEvent(a){null!==this._targetRay&&this._targetRay.dispatchEvent(a);null!==this._grip&&this._grip.dispatchEvent(a);null!==this._hand&&this._hand.dispatchEvent(a);return this}connect(a){if(a&&
a.hand){const e=this._hand;if(e)for(const n of a.hand.values())this._getHandJoint(e,n)}this.dispatchEvent({type:"connected",data:a});return this}disconnect(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);return this}update(a,e,n){let v=null,z=null,I=null;const L=this._targetRay,R=this._grip,V=this._hand;if(a&&"visible-blurred"!==e.session.visibilityState){if(V&&
a.hand){I=!0;for(var Y of a.hand.values()){const ja=e.getJointPose(Y,n),ka=this._getHandJoint(V,Y);null!==ja&&(ka.matrix.fromArray(ja.transform.matrix),ka.matrix.decompose(ka.position,ka.rotation,ka.scale),ka.jointRadius=ja.radius);ka.visible=null!==ja}Y=V.joints["index-finger-tip"].position.distanceTo(V.joints["thumb-tip"].position);V.inputState.pinching&&.025<Y?(V.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!V.inputState.pinching&&.015>=Y&&(V.inputState.pinching=
!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else null!==R&&a.gripSpace&&(z=e.getPose(a.gripSpace,n),null!==z&&(R.matrix.fromArray(z.transform.matrix),R.matrix.decompose(R.position,R.rotation,R.scale),z.linearVelocity?(R.hasLinearVelocity=!0,R.linearVelocity.copy(z.linearVelocity)):R.hasLinearVelocity=!1,z.angularVelocity?(R.hasAngularVelocity=!0,R.angularVelocity.copy(z.angularVelocity)):R.hasAngularVelocity=!1));null!==L&&(v=e.getPose(a.targetRaySpace,n),null===
v&&null!==z&&(v=z),null!==v&&(L.matrix.fromArray(v.transform.matrix),L.matrix.decompose(L.position,L.rotation,L.scale),v.linearVelocity?(L.hasLinearVelocity=!0,L.linearVelocity.copy(v.linearVelocity)):L.hasLinearVelocity=!1,v.angularVelocity?(L.hasAngularVelocity=!0,L.angularVelocity.copy(v.angularVelocity)):L.hasAngularVelocity=!1,this.dispatchEvent(ej)))}null!==L&&(L.visible=null!==v);null!==R&&(R.visible=null!==z);null!==V&&(V.visible=null!==I);return this}_getHandJoint(a,e){if(void 0===a.joints[e.jointName]){const n=
new Dg;n.matrixAutoUpdate=!1;n.visible=!1;a.joints[e.jointName]=n;a.add(n)}return a.joints[e.jointName]}}class yh extends kf{constructor(a,e,n,v,z,I,L,R,V,Y){Y=void 0!==Y?Y:1026;if(1026!==Y&&1027!==Y)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===Y&&(n=1014);void 0===n&&1027===Y&&(n=1020);super(null,v,z,I,L,R,Y,n,V);this.isDepthTexture=!0;this.image={width:a,height:e};this.magFilter=void 0!==L?L:1003;this.minFilter=void 0!==R?R:1003;
this.generateMipmaps=this.flipY=!1}}class lk extends Md{constructor(a,e){function n(Mc){var ld=oc.indexOf(Mc.inputSource);-1!==ld&&(ld=xb[ld],void 0!==ld&&ld.dispatchEvent({type:Mc.type,data:Mc.inputSource}))}function v(){R.removeEventListener("select",n);R.removeEventListener("selectstart",n);R.removeEventListener("selectend",n);R.removeEventListener("squeeze",n);R.removeEventListener("squeezestart",n);R.removeEventListener("squeezeend",n);R.removeEventListener("end",v);R.removeEventListener("inputsourceschange",
z);for(let Mc=0;Mc<xb.length;Mc++){const ld=oc[Mc];null!==ld&&(oc[Mc]=null,xb[Mc].disconnect(ld))}Ic=Kc=null;a.setRenderTarget(Gb);Tb=R=Fa=ia=La=null;ce.stop();L.isPresenting=!1;L.dispatchEvent({type:"sessionend"})}function z(Mc){for(var ld=0;ld<Mc.removed.length;ld++){var pd=Mc.removed[ld],Pd=oc.indexOf(pd);0<=Pd&&(oc[Pd]=null,xb[Pd].disconnect(pd))}for(ld=0;ld<Mc.added.length;ld++){pd=Mc.added[ld];Pd=oc.indexOf(pd);if(-1===Pd){for(let Ed=0;Ed<xb.length;Ed++)if(Ed>=oc.length){oc.push(pd);Pd=Ed;break}else if(null===
oc[Ed]){oc[Ed]=pd;Pd=Ed;break}if(-1===Pd)break}(Pd=xb[Pd])&&Pd.connect(pd)}}function I(Mc,ld){null===ld?Mc.matrixWorld.copy(Mc.matrix):Mc.matrixWorld.multiplyMatrices(ld.matrixWorld,Mc.matrix);Mc.matrixWorldInverse.copy(Mc.matrixWorld).invert()}super();const L=this;let R=null,V=1,Y=null,ja="local-floor",ka=1,qa=null,Ga=null,Fa=null,ia=null,La=null,zb=null;const bb=e.getContextAttributes();let Gb=null,Tb=null;const xb=[],oc=[],Ib=new Set,$b=new Map,bc=new uc;bc.layers.enable(1);bc.viewport=new Be;
const ac=new uc;ac.layers.enable(2);ac.viewport=new Be;const Pc=[bc,ac],Gc=new Ej;Gc.layers.enable(1);Gc.layers.enable(2);let Kc=null,Ic=null;this.cameraAutoUpdate=!0;this.isPresenting=this.enabled=!1;this.getController=function(Mc){let ld=xb[Mc];void 0===ld&&(ld=new fj,xb[Mc]=ld);return ld.getTargetRaySpace()};this.getControllerGrip=function(Mc){let ld=xb[Mc];void 0===ld&&(ld=new fj,xb[Mc]=ld);return ld.getGripSpace()};this.getHand=function(Mc){let ld=xb[Mc];void 0===ld&&(ld=new fj,xb[Mc]=ld);return ld.getHandSpace()};
this.setFramebufferScaleFactor=function(Mc){V=Mc;!0===L.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};this.setReferenceSpaceType=function(Mc){ja=Mc;!0===L.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=function(){return qa||Y};this.setReferenceSpace=function(Mc){qa=Mc};this.getBaseLayer=function(){return null!==ia?ia:La};this.getBinding=function(){return Fa};this.getFrame=
function(){return zb};this.getSession=function(){return R};this.setSession=async function(Mc){R=Mc;if(null!==R){Gb=a.getRenderTarget();R.addEventListener("select",n);R.addEventListener("selectstart",n);R.addEventListener("selectend",n);R.addEventListener("squeeze",n);R.addEventListener("squeezestart",n);R.addEventListener("squeezeend",n);R.addEventListener("end",v);R.addEventListener("inputsourceschange",z);!0!==bb.xrCompatible&&await e.makeXRCompatible();if(void 0===R.renderState.layers||!1===a.capabilities.isWebGL2)La=
new XRWebGLLayer(R,e,{antialias:void 0===R.renderState.layers?bb.antialias:!0,alpha:bb.alpha,depth:bb.depth,stencil:bb.stencil,framebufferScaleFactor:V}),R.updateRenderState({baseLayer:La}),Tb=new Pf(La.framebufferWidth,La.framebufferHeight,{format:1023,type:1009,encoding:a.outputEncoding,stencilBuffer:bb.stencil});else{let pd=Mc=null;var ld=null;bb.depth&&(ld=bb.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Mc=bb.stencil?1027:1026,pd=bb.stencil?1020:1014);ld={colorFormat:e.RGBA8,depthFormat:ld,
scaleFactor:V};Fa=new XRWebGLBinding(R,e);ia=Fa.createProjectionLayer(ld);R.updateRenderState({layers:[ia]});Tb=new Pf(ia.textureWidth,ia.textureHeight,{format:1023,type:1009,depthTexture:new yh(ia.textureWidth,ia.textureHeight,pd,void 0,void 0,void 0,void 0,void 0,void 0,Mc),stencilBuffer:bb.stencil,encoding:a.outputEncoding,samples:bb.antialias?4:0});a.properties.get(Tb).__ignoreDepthValues=ia.ignoreDepthValues}Tb.isXRRenderTarget=!0;this.setFoveation(ka);qa=null;Y=await R.requestReferenceSpace(ja);
ce.setContext(R);ce.start();L.isPresenting=!0;L.dispatchEvent({type:"sessionstart"})}};const td=new jb,Fd=new jb;this.updateCamera=function(Mc){if(null!==R){Gc.near=ac.near=bc.near=Mc.near;Gc.far=ac.far=bc.far=Mc.far;if(Kc!==Gc.near||Ic!==Gc.far)R.updateRenderState({depthNear:Gc.near,depthFar:Gc.far}),Kc=Gc.near,Ic=Gc.far;var ld=Mc.parent,pd=Gc.cameras;I(Gc,ld);for(var Pd=0;Pd<pd.length;Pd++)I(pd[Pd],ld);Gc.matrixWorld.decompose(Gc.position,Gc.quaternion,Gc.scale);Mc.matrix.copy(Gc.matrix);Mc.matrix.decompose(Mc.position,
Mc.quaternion,Mc.scale);Mc=Mc.children;for(let Ob=0,dd=Mc.length;Ob<dd;Ob++)Mc[Ob].updateMatrixWorld(!0);if(2===pd.length){td.setFromMatrixPosition(bc.matrixWorld);Fd.setFromMatrixPosition(ac.matrixWorld);pd=td.distanceTo(Fd);var Ed=bc.projectionMatrix.elements,Xa=ac.projectionMatrix.elements,Oa=Ed[14]/(Ed[10]-1);Mc=Ed[14]/(Ed[10]+1);ld=(Ed[9]+1)/Ed[5];Pd=(Ed[9]-1)/Ed[5];var qb=(Ed[8]-1)/Ed[0],vb=(Xa[8]+1)/Xa[0];Xa=Oa*qb;Ed=Oa*vb;vb=pd/(-qb+vb);qb=vb*-qb;bc.matrixWorld.decompose(Gc.position,Gc.quaternion,
Gc.scale);Gc.translateX(qb);Gc.translateZ(vb);Gc.matrixWorld.compose(Gc.position,Gc.quaternion,Gc.scale);Gc.matrixWorldInverse.copy(Gc.matrixWorld).invert();Oa+=vb;vb=Mc+vb;Gc.projectionMatrix.makePerspective(Xa-qb,Ed+(pd-qb),ld*Mc/vb*Oa,Pd*Mc/vb*Oa,Oa,vb)}else Gc.projectionMatrix.copy(bc.projectionMatrix)}};this.getCamera=function(){return Gc};this.getFoveation=function(){if(null!==ia||null!==La)return ka};this.setFoveation=function(Mc){ka=Mc;null!==ia&&(ia.fixedFoveation=Mc);null!==La&&void 0!==
La.fixedFoveation&&(La.fixedFoveation=Mc)};this.getPlanes=function(){return Ib};let Sd=null;const ce=new O;ce.setAnimationLoop(function(Mc,ld){Ga=ld.getViewerPose(qa||Y);zb=ld;if(null!==Ga){var pd=Ga.views;null!==La&&(a.setRenderTargetFramebuffer(Tb,La.framebuffer),a.setRenderTarget(Tb));var Pd=!1;pd.length!==Gc.cameras.length&&(Gc.cameras.length=0,Pd=!0);for(var Ed=0;Ed<pd.length;Ed++){const qb=pd[Ed];let vb;if(null!==La)vb=La.getViewport(qb);else{var Xa=Fa.getViewSubImage(ia,qb);vb=Xa.viewport;
0===Ed&&(a.setRenderTargetTextures(Tb,Xa.colorTexture,ia.ignoreDepthValues?void 0:Xa.depthStencilTexture),a.setRenderTarget(Tb))}Xa=Pc[Ed];void 0===Xa&&(Xa=new uc,Xa.layers.enable(Ed),Xa.viewport=new Be,Pc[Ed]=Xa);Xa.matrix.fromArray(qb.transform.matrix);Xa.projectionMatrix.fromArray(qb.projectionMatrix);Xa.viewport.set(vb.x,vb.y,vb.width,vb.height);0===Ed&&Gc.matrix.copy(Xa.matrix);!0===Pd&&Gc.cameras.push(Xa)}}for(pd=0;pd<xb.length;pd++)Pd=oc[pd],Ed=xb[pd],null!==Pd&&void 0!==Ed&&Ed.update(Pd,ld,
qa||Y);Sd&&Sd(Mc,ld);if(ld.detectedPlanes){L.dispatchEvent({type:"planesdetected",data:ld.detectedPlanes});Mc=null;for(var Oa of Ib)ld.detectedPlanes.has(Oa)||(null===Mc&&(Mc=[]),Mc.push(Oa));if(null!==Mc)for(const qb of Mc)Ib.delete(qb),$b.delete(qb),L.dispatchEvent({type:"planeremoved",data:qb});for(const qb of ld.detectedPlanes)Ib.has(qb)?(Oa=$b.get(qb),qb.lastChangedTime>Oa&&($b.set(qb,qb.lastChangedTime),L.dispatchEvent({type:"planechanged",data:qb}))):(Ib.add(qb),$b.set(qb,ld.lastChangedTime),
L.dispatchEvent({type:"planeadded",data:qb}))}zb=null});this.setAnimationLoop=function(Mc){Sd=Mc};this.dispose=function(){}}}Object.defineProperties(Uc.prototype,{physicallyCorrectLights:{get:function(){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");return!this.useLegacyLights},set:function(a){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead.");
this.useLegacyLights=!a}}});class Fj extends Uc{}Fj.prototype.isWebGL1Renderer=!0;class ii{constructor(a,e=2.5E-4){this.isFogExp2=!0;this.name="";this.color=new rd(a);this.density=e}clone(){return new ii(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Hi{constructor(a,e=1,n=1E3){this.isFog=!0;this.name="";this.color=new rd(a);this.near=e;this.far=n}clone(){return new Hi(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),
near:this.near,far:this.far}}}class gj extends Cb{constructor(){super();this.isScene=!0;this.type="Scene";this.fog=this.environment=this.background=null;this.backgroundBlurriness=0;this.backgroundIntensity=1;this.overrideMaterial=null;"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,e){super.copy(a,e);null!==a.background&&(this.background=a.background.clone());null!==a.environment&&(this.environment=a.environment.clone());null!==
a.fog&&(this.fog=a.fog.clone());this.backgroundBlurriness=a.backgroundBlurriness;this.backgroundIntensity=a.backgroundIntensity;null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.matrixAutoUpdate=a.matrixAutoUpdate;return this}toJSON(a){a=super.toJSON(a);null!==this.fog&&(a.object.fog=this.fog.toJSON());0<this.backgroundBlurriness&&(a.object.backgroundBlurriness=this.backgroundBlurriness);1!==this.backgroundIntensity&&(a.object.backgroundIntensity=this.backgroundIntensity);
return a}get autoUpdate(){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.");return this.matrixWorldAutoUpdate}set autoUpdate(a){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144.");this.matrixWorldAutoUpdate=a}}class Qh{constructor(a,e){this.isInterleavedBuffer=!0;this.array=a;this.stride=e;this.count=void 0!==a?a.length/e:0;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=r()}onUploadCallback(){}set needsUpdate(a){!0===
a&&this.version++}setUsage(a){this.usage=a;return this}copy(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this}copyAt(a,e,n){a*=this.stride;n*=e.stride;for(let v=0,z=this.stride;v<z;v++)this.array[a+v]=e.array[n+v];return this}set(a,e=0){this.array.set(a,e);return this}clone(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=r());void 0===a.arrayBuffers[this.array.buffer._uuid]&&
(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new this.constructor(a,this.stride);a.setUsage(this.usage);return a}onUpload(a){this.onUploadCallback=a;return this}toJSON(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=r());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer)));
return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Cf=new jb;class Ge{constructor(a,e,n,v=!1){this.isInterleavedBufferAttribute=!0;this.name="";this.data=a;this.itemSize=e;this.offset=n;this.normalized=v}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(a){this.data.needsUpdate=a}applyMatrix4(a){for(let e=0,n=this.data.count;e<n;e++)Cf.fromBufferAttribute(this,e),Cf.applyMatrix4(a),this.setXYZ(e,Cf.x,
Cf.y,Cf.z);return this}applyNormalMatrix(a){for(let e=0,n=this.count;e<n;e++)Cf.fromBufferAttribute(this,e),Cf.applyNormalMatrix(a),this.setXYZ(e,Cf.x,Cf.y,Cf.z);return this}transformDirection(a){for(let e=0,n=this.count;e<n;e++)Cf.fromBufferAttribute(this,e),Cf.transformDirection(a),this.setXYZ(e,Cf.x,Cf.y,Cf.z);return this}setX(a,e){this.normalized&&(e=t(e,this.array));this.data.array[a*this.data.stride+this.offset]=e;return this}setY(a,e){this.normalized&&(e=t(e,this.array));this.data.array[a*
this.data.stride+this.offset+1]=e;return this}setZ(a,e){this.normalized&&(e=t(e,this.array));this.data.array[a*this.data.stride+this.offset+2]=e;return this}setW(a,e){this.normalized&&(e=t(e,this.array));this.data.array[a*this.data.stride+this.offset+3]=e;return this}getX(a){a=this.data.array[a*this.data.stride+this.offset];this.normalized&&(a=k(a,this.array));return a}getY(a){a=this.data.array[a*this.data.stride+this.offset+1];this.normalized&&(a=k(a,this.array));return a}getZ(a){a=this.data.array[a*
this.data.stride+this.offset+2];this.normalized&&(a=k(a,this.array));return a}getW(a){a=this.data.array[a*this.data.stride+this.offset+3];this.normalized&&(a=k(a,this.array));return a}setXY(a,e,n){a=a*this.data.stride+this.offset;this.normalized&&(e=t(e,this.array),n=t(n,this.array));this.data.array[a+0]=e;this.data.array[a+1]=n;return this}setXYZ(a,e,n,v){a=a*this.data.stride+this.offset;this.normalized&&(e=t(e,this.array),n=t(n,this.array),v=t(v,this.array));this.data.array[a+0]=e;this.data.array[a+
1]=n;this.data.array[a+2]=v;return this}setXYZW(a,e,n,v,z){a=a*this.data.stride+this.offset;this.normalized&&(e=t(e,this.array),n=t(n,this.array),v=t(v,this.array),z=t(z,this.array));this.data.array[a+0]=e;this.data.array[a+1]=n;this.data.array[a+2]=v;this.data.array[a+3]=z;return this}clone(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");a=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+
this.offset;for(let v=0;v<this.itemSize;v++)a.push(this.data.array[n+v])}return new Re(new this.array.constructor(a),this.itemSize,this.normalized)}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a));return new Ge(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");
a=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let v=0;v<this.itemSize;v++)a.push(this.data.array[n+v])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}
class hj extends Ue{constructor(a){super();this.isSpriteMaterial=!0;this.type="SpriteMaterial";this.color=new rd(16777215);this.alphaMap=this.map=null;this.rotation=0;this.fog=this.transparent=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}let gh;const zh=new jb,hh=new jb,ig=new jb,yg=new Cc,ci=new Cc,Zi=new fe,Rh=new jb,Ah=new jb,
Ii=new jb,Ji=new Cc,Ki=new Cc,Li=new Cc;class ij extends Cb{constructor(a){super();this.isSprite=!0;this.type="Sprite";if(void 0===gh){gh=new ue;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);e=new Qh(e,5);gh.setIndex([0,1,2,0,2,3]);gh.setAttribute("position",new Ge(e,3,0,!1));gh.setAttribute("uv",new Ge(e,2,3,!1))}this.geometry=gh;this.material=void 0!==a?a:new hj;this.center=new Cc(.5,.5)}raycast(a,e){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');
hh.setFromMatrixScale(this.matrixWorld);Zi.copy(a.camera.matrixWorld);this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld);ig.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&hh.multiplyScalar(-ig.z);var n=this.material.rotation;let v;if(0!==n){v=Math.cos(n);var z=Math.sin(n)}n=this.center;Ad(Rh.set(-.5,-.5,0),ig,n,hh,z,v);Ad(Ah.set(.5,-.5,0),ig,n,hh,z,v);Ad(Ii.set(.5,.5,0),ig,n,hh,z,v);Ji.set(0,0);Ki.set(1,
0);Li.set(1,1);let I=a.ray.intersectTriangle(Rh,Ah,Ii,!1,zh);if(null===I&&(Ad(Ah.set(-.5,.5,0),ig,n,hh,z,v),Ki.set(0,1),I=a.ray.intersectTriangle(Rh,Ii,Ah,!1,zh),null===I))return;z=a.ray.origin.distanceTo(zh);z<a.near||z>a.far||e.push({distance:z,point:zh.clone(),uv:Wd.getUV(zh,Rh,Ah,Ii,Ji,Ki,Li,new Cc),face:null,object:this})}copy(a,e){super.copy(a,e);void 0!==a.center&&this.center.copy(a.center);this.material=a.material;return this}}const Sh=new jb,Fe=new jb;class Wf extends Cb{constructor(){super();
this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}});this.autoUpdate=!0}copy(a){super.copy(a,!1);const e=a.levels;for(let n=0,v=e.length;n<v;n++){const z=e[n];this.addLevel(z.object.clone(),z.distance,z.hysteresis)}this.autoUpdate=a.autoUpdate;return this}addLevel(a,e=0,n=0){e=Math.abs(e);const v=this.levels;let z;for(z=0;z<v.length&&!(e<v[z].distance);z++);v.splice(z,0,{distance:e,hysteresis:n,object:a});this.add(a);return this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(a){const e=
this.levels;if(0<e.length){let n,v;n=1;for(v=e.length;n<v;n++){let z=e[n].distance;e[n].object.visible&&(z-=z*e[n].hysteresis);if(a<z)break}return e[n-1].object}return null}raycast(a,e){if(0<this.levels.length){Sh.setFromMatrixPosition(this.matrixWorld);const n=a.ray.origin.distanceTo(Sh);this.getObjectForDistance(n).raycast(a,e)}}update(a){const e=this.levels;if(1<e.length){Sh.setFromMatrixPosition(a.matrixWorld);Fe.setFromMatrixPosition(this.matrixWorld);a=Sh.distanceTo(Fe)/a.zoom;e[0].object.visible=
!0;let n,v;n=1;for(v=e.length;n<v;n++){let z=e[n].distance;e[n].object.visible&&(z-=z*e[n].hysteresis);if(a>=z)e[n-1].object.visible=!1,e[n].object.visible=!0;else break}for(this._currentLevel=n-1;n<v;n++)e[n].object.visible=!1}}toJSON(a){a=super.toJSON(a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];const e=this.levels;for(let n=0,v=e.length;n<v;n++){const z=e[n];a.object.levels.push({object:z.object.uuid,distance:z.distance,hysteresis:z.hysteresis})}return a}}const Gj=new jb,
Hj=new Be,Ij=new Be,xk=new jb,Jj=new fe;class Kj extends vf{constructor(a,e){super(a,e);this.isSkinnedMesh=!0;this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new fe;this.bindMatrixInverse=new fe}copy(a,e){super.copy(a,e);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;return this}bind(a,e){this.skeleton=a;void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld);
this.bindMatrix.copy(e);this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const a=new Be,e=this.geometry.attributes.skinWeight;for(let n=0,v=e.count;n<v;n++){a.fromBufferAttribute(e,n);const z=1/a.manhattanLength();Infinity!==z?a.multiplyScalar(z):a.set(1,0,0,0);e.setXYZW(n,a.x,a.y,a.z,a.w)}}updateMatrixWorld(a){super.updateMatrixWorld(a);"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():
console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(a,e){const n=this.skeleton;var v=this.geometry;Hj.fromBufferAttribute(v.attributes.skinIndex,a);Ij.fromBufferAttribute(v.attributes.skinWeight,a);Gj.copy(e).applyMatrix4(this.bindMatrix);e.set(0,0,0);for(a=0;4>a;a++)if(v=Ij.getComponent(a),0!==v){const z=Hj.getComponent(a);Jj.multiplyMatrices(n.bones[z].matrixWorld,n.boneInverses[z]);e.addScaledVector(xk.copy(Gj).applyMatrix4(Jj),v)}return e.applyMatrix4(this.bindMatrixInverse)}}
class jj extends Cb{constructor(){super();this.isBone=!0;this.type="Bone"}}class Rg extends kf{constructor(a=null,e=1,n=1,v,z,I,L,R,V=1003,Y=1003,ja,ka){super(null,I,L,R,V,Y,v,z,ja,ka);this.isDataTexture=!0;this.image={data:a,width:e,height:n};this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}const Lj=new fe,b=new fe;class f{constructor(a=[],e=[]){this.uuid=r();this.bones=a.slice(0);this.boneInverses=e;this.boneTexture=this.boneMatrices=null;this.boneTextureSize=0;this.frame=-1;this.init()}init(){const a=
this.bones,e=this.boneInverses;this.boneMatrices=new Float32Array(16*a.length);if(0===e.length)this.calculateInverses();else if(a.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.");this.boneInverses=[];for(let n=0,v=this.bones.length;n<v;n++)this.boneInverses.push(new fe)}}calculateInverses(){this.boneInverses.length=0;for(let a=0,e=this.bones.length;a<e;a++){const n=new fe;this.bones[a]&&n.copy(this.bones[a].matrixWorld).invert();this.boneInverses.push(n)}}pose(){for(let e=
0,n=this.bones.length;e<n;e++){var a=this.bones[e];a&&a.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++)if(a=this.bones[e])a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}update(){const a=this.bones,e=this.boneInverses,n=this.boneMatrices,v=this.boneTexture;for(let z=0,I=a.length;z<I;z++)Lj.multiplyMatrices(a[z]?a[z].matrixWorld:
b,e[z]),Lj.toArray(n,16*z);null!==v&&(v.needsUpdate=!0)}clone(){return new f(this.bones,this.boneInverses)}computeBoneTexture(){let a=Math.sqrt(4*this.bones.length);a=h(a);a=Math.max(a,4);const e=new Float32Array(a*a*4);e.set(this.boneMatrices);const n=new Rg(e,a,a,1023,1015);n.needsUpdate=!0;this.boneMatrices=e;this.boneTexture=n;this.boneTextureSize=a;return this}getBoneByName(a){for(let e=0,n=this.bones.length;e<n;e++){const v=this.bones[e];if(v.name===a)return v}}dispose(){null!==this.boneTexture&&
(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(a,e){this.uuid=a.uuid;for(let n=0,v=a.bones.length;n<v;n++){const z=a.bones[n];let I=e[z];void 0===I&&(console.warn("THREE.Skeleton: No bone found with UUID:",z),I=new jj);this.bones.push(I);this.boneInverses.push((new fe).fromArray(a.boneInverses[n]))}this.init();return this}toJSON(){const a={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};a.uuid=this.uuid;const e=this.bones,n=this.boneInverses;
for(let v=0,z=e.length;v<z;v++)a.bones.push(e[v].uuid),a.boneInverses.push(n[v].toArray());return a}}class q extends Re{constructor(a,e,n,v=1){super(a,e,n);this.isInstancedBufferAttribute=!0;this.meshPerAttribute=v}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}toJSON(){const a=super.toJSON();a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}}const D=new fe,J=new fe,M=[],W=new fe,ca=new vf;class fa extends vf{constructor(a,e,n){super(a,e);
this.isInstancedMesh=!0;this.instanceMatrix=new q(new Float32Array(16*n),16);this.instanceColor=null;this.count=n;this.frustumCulled=!1;for(a=0;a<n;a++)this.setMatrixAt(a,W)}copy(a,e){super.copy(a,e);this.instanceMatrix.copy(a.instanceMatrix);null!==a.instanceColor&&(this.instanceColor=a.instanceColor.clone());this.count=a.count;return this}getColorAt(a,e){e.fromArray(this.instanceColor.array,3*a)}getMatrixAt(a,e){e.fromArray(this.instanceMatrix.array,16*a)}raycast(a,e){const n=this.matrixWorld,v=
this.count;ca.geometry=this.geometry;ca.material=this.material;if(void 0!==ca.material)for(let z=0;z<v;z++){this.getMatrixAt(z,D);J.multiplyMatrices(n,D);ca.matrixWorld=J;ca.raycast(a,M);for(let I=0,L=M.length;I<L;I++){const R=M[I];R.instanceId=z;R.object=this;e.push(R)}M.length=0}}setColorAt(a,e){null===this.instanceColor&&(this.instanceColor=new q(new Float32Array(3*this.instanceMatrix.count),3));e.toArray(this.instanceColor.array,3*a)}setMatrixAt(a,e){e.toArray(this.instanceMatrix.array,16*a)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}
class xa extends Ue{constructor(a){super();this.isLineBasicMaterial=!0;this.type="LineBasicMaterial";this.color=new rd(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.fog=a.fog;return this}}const ta=new jb,Ma=new jb,Pa=new fe,db=new Lg,pb=new tg;class Mb extends Cb{constructor(a=new ue,e=new xa){super();this.isLine=!0;this.type=
"Line";this.geometry=a;this.material=e;this.updateMorphTargets()}copy(a,e){super.copy(a,e);this.material=a.material;this.geometry=a.geometry;return this}computeLineDistances(){const a=this.geometry;if(null===a.index){const e=a.attributes.position,n=[0];for(let v=1,z=e.count;v<z;v++)ta.fromBufferAttribute(e,v-1),Ma.fromBufferAttribute(e,v),n[v]=n[v-1],n[v]+=ta.distanceTo(Ma);a.setAttribute("lineDistance",new Dd(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
return this}raycast(a,e){var n=this.geometry,v=this.matrixWorld,z=a.params.Line.threshold,I=n.drawRange;null===n.boundingSphere&&n.computeBoundingSphere();pb.copy(n.boundingSphere);pb.applyMatrix4(v);pb.radius+=z;if(!1!==a.ray.intersectsSphere(pb)){Pa.copy(v).invert();db.copy(a.ray).applyMatrix4(Pa);v=z/((this.scale.x+this.scale.y+this.scale.z)/3);v*=v;z=new jb;var L=new jb,R=new jb,V=new jb,Y=this.isLineSegments?2:1,ja=n.index;n=n.attributes.position;if(null!==ja){var ka=Math.max(0,I.start);I=Math.min(ja.count,
I.start+I.count);for(let qa=ka,Ga=I-1;qa<Ga;qa+=Y)I=ja.getX(qa),ka=ja.getX(qa+1),z.fromBufferAttribute(n,I),L.fromBufferAttribute(n,ka),db.distanceSqToSegment(z,L,V,R)>v||(V.applyMatrix4(this.matrixWorld),I=a.ray.origin.distanceTo(V),I<a.near||I>a.far||e.push({distance:I,point:R.clone().applyMatrix4(this.matrixWorld),index:qa,face:null,faceIndex:null,object:this}))}else{ja=Math.max(0,I.start);I=Math.min(n.count,I.start+I.count);for(let qa=ja,Ga=I-1;qa<Ga;qa+=Y)z.fromBufferAttribute(n,qa),L.fromBufferAttribute(n,
qa+1),db.distanceSqToSegment(z,L,V,R)>v||(V.applyMatrix4(this.matrixWorld),I=a.ray.origin.distanceTo(V),I<a.near||I>a.far||e.push({distance:I,point:R.clone().applyMatrix4(this.matrixWorld),index:qa,face:null,faceIndex:null,object:this}))}}}updateMorphTargets(){var a=this.geometry.morphAttributes,e=Object.keys(a);if(0<e.length&&(a=a[e[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let n=0,v=a.length;n<v;n++)e=a[n].name||String(n),this.morphTargetInfluences.push(0),
this.morphTargetDictionary[e]=n}}}const Rb=new jb,pc=new jb;class hc extends Mb{constructor(a,e){super(a,e);this.isLineSegments=!0;this.type="LineSegments"}computeLineDistances(){const a=this.geometry;if(null===a.index){const e=a.attributes.position,n=[];for(let v=0,z=e.count;v<z;v+=2)Rb.fromBufferAttribute(e,v),pc.fromBufferAttribute(e,v+1),n[v]=0===v?0:n[v-1],n[v+1]=n[v]+Rb.distanceTo(pc);a.setAttribute("lineDistance",new Dd(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
return this}}class kd extends Mb{constructor(a,e){super(a,e);this.isLineLoop=!0;this.type="LineLoop"}}class gd extends Ue{constructor(a){super();this.isPointsMaterial=!0;this.type="PointsMaterial";this.color=new rd(16777215);this.alphaMap=this.map=null;this.size=1;this.fog=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}const Vd=new fe,
of=new Lg,Ve=new tg,mf=new jb;class cg extends Cb{constructor(a=new ue,e=new gd){super();this.isPoints=!0;this.type="Points";this.geometry=a;this.material=e;this.updateMorphTargets()}copy(a,e){super.copy(a,e);this.material=a.material;this.geometry=a.geometry;return this}raycast(a,e){var n=this.geometry;const v=this.matrixWorld;var z=a.params.Points.threshold,I=n.drawRange;null===n.boundingSphere&&n.computeBoundingSphere();Ve.copy(n.boundingSphere);Ve.applyMatrix4(v);Ve.radius+=z;if(!1!==a.ray.intersectsSphere(Ve)){Vd.copy(v).invert();
of.copy(a.ray).applyMatrix4(Vd);z/=(this.scale.x+this.scale.y+this.scale.z)/3;z*=z;var L=n.index;n=n.attributes.position;if(null!==L){const R=Math.max(0,I.start);I=Math.min(L.count,I.start+I.count);for(let V=R,Y=I;V<Y;V++)I=L.getX(V),mf.fromBufferAttribute(n,I),Ld(mf,I,z,v,a,e,this)}else{L=Math.max(0,I.start);I=Math.min(n.count,I.start+I.count);for(let R=L,V=I;R<V;R++)mf.fromBufferAttribute(n,R),Ld(mf,R,z,v,a,e,this)}}}updateMorphTargets(){var a=this.geometry.morphAttributes,e=Object.keys(a);if(0<
e.length&&(a=a[e[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let n=0,v=a.length;n<v;n++)e=a[n].name||String(n),this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=n}}}class vg extends kf{constructor(a,e,n,v,z,I,L,R,V){function Y(){ja.needsUpdate=!0;a.requestVideoFrameCallback(Y)}super(a,e,n,v,z,I,L,R,V);this.isVideoTexture=!0;this.minFilter=void 0!==I?I:1006;this.magFilter=void 0!==z?z:1006;this.generateMipmaps=!1;const ja=this;"requestVideoFrameCallback"in
a&&a.requestVideoFrameCallback(Y)}clone(){return(new this.constructor(this.image)).copy(this)}update(){const a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class dg extends kf{constructor(a,e,n){super({width:a,height:e});this.isFramebufferTexture=!0;this.format=n;this.minFilter=this.magFilter=1003;this.generateMipmaps=!1;this.needsUpdate=!0}}class wg extends kf{constructor(a,e,n,v,z,I,L,R,V,Y,ja,ka){super(null,I,L,R,V,Y,v,z,ja,ka);this.isCompressedTexture=
!0;this.image={width:e,height:n};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}}class Eg extends wg{constructor(a,e,n,v,z,I){super(a,e,n,z,I);this.isCompressedArrayTexture=!0;this.image.depth=v;this.wrapR=1001}}class af extends kf{constructor(a,e,n,v,z,I,L,R,V){super(a,e,n,v,z,I,L,R,V);this.needsUpdate=this.isCanvasTexture=!0}}class bf{constructor(){this.type="Curve";this.arcLengthDivisions=200}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.");return null}getPointAt(a,e){a=
this.getUtoTmapping(a);return this.getPoint(a,e)}getPoints(a=5){const e=[];for(let n=0;n<=a;n++)e.push(this.getPoint(n/a));return e}getSpacedPoints(a=5){const e=[];for(let n=0;n<=a;n++)e.push(this.getPointAt(n/a));return e}getLength(){const a=this.getLengths();return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,v=this.getPoint(0),z=0;e.push(0);for(let I=
1;I<=a;I++)n=this.getPoint(I/a),z+=n.distanceTo(v),e.push(z),v=n;return this.cacheArcLengths=e}updateArcLengths(){this.needsUpdate=!0;this.getLengths()}getUtoTmapping(a,e){const n=this.getLengths(),v=n.length;e=e?e:a*n[v-1];var z=0;let I=v-1,L;for(;z<=I;)if(a=Math.floor(z+(I-z)/2),L=n[a]-e,0>L)z=a+1;else if(0<L)I=a-1;else{I=a;break}a=I;if(n[a]===e)return a/(v-1);z=n[a];return(a+(e-z)/(n[a+1]-z))/(v-1)}getTangent(a,e){var n=a-1E-4;a+=1E-4;0>n&&(n=0);1<a&&(a=1);n=this.getPoint(n);a=this.getPoint(a);
e=e||(n.isVector2?new Cc:new jb);e.copy(a).sub(n).normalize();return e}getTangentAt(a,e){a=this.getUtoTmapping(a);return this.getTangent(a,e)}computeFrenetFrames(a,e){var n=new jb;const v=[],z=[],I=[];var L=new jb;const R=new fe;for(var V=0;V<=a;V++)v[V]=this.getTangentAt(V/a,new jb);z[0]=new jb;I[0]=new jb;V=Number.MAX_VALUE;const Y=Math.abs(v[0].x),ja=Math.abs(v[0].y),ka=Math.abs(v[0].z);Y<=V&&(V=Y,n.set(1,0,0));ja<=V&&(V=ja,n.set(0,1,0));ka<=V&&n.set(0,0,1);L.crossVectors(v[0],n).normalize();z[0].crossVectors(v[0],
L);I[0].crossVectors(v[0],z[0]);for(n=1;n<=a;n++)z[n]=z[n-1].clone(),I[n]=I[n-1].clone(),L.crossVectors(v[n-1],v[n]),L.length()>Number.EPSILON&&(L.normalize(),V=Math.acos(m(v[n-1].dot(v[n]),-1,1)),z[n].applyMatrix4(R.makeRotationAxis(L,V))),I[n].crossVectors(v[n],z[n]);if(!0===e)for(e=Math.acos(m(z[0].dot(z[a]),-1,1)),e/=a,0<v[0].dot(L.crossVectors(z[0],z[a]))&&(e=-e),L=1;L<=a;L++)z[L].applyMatrix4(R.makeRotationAxis(v[L],e*L)),I[L].crossVectors(v[L],z[L]);return{tangents:v,normals:z,binormals:I}}clone(){return(new this.constructor).copy(this)}copy(a){this.arcLengthDivisions=
a.arcLengthDivisions;return this}toJSON(){const a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a}fromJSON(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}}class Xc extends bf{constructor(a=0,e=0,n=1,v=1,z=0,I=2*Math.PI,L=!1,R=0){super();this.isEllipseCurve=!0;this.type="EllipseCurve";this.aX=a;this.aY=e;this.xRadius=n;this.yRadius=v;this.aStartAngle=z;this.aEndAngle=I;this.aClockwise=L;this.aRotation=
R}getPoint(a,e){e=e||new Cc;for(var n=2*Math.PI,v=this.aEndAngle-this.aStartAngle,z=Math.abs(v)<Number.EPSILON;0>v;)v+=n;for(;v>n;)v-=n;v<Number.EPSILON&&(v=z?0:n);!0!==this.aClockwise||z||(v=v===n?-n:v-n);n=this.aStartAngle+a*v;a=this.aX+this.xRadius*Math.cos(n);var I=this.aY+this.yRadius*Math.sin(n);0!==this.aRotation&&(n=Math.cos(this.aRotation),v=Math.sin(this.aRotation),z=a-this.aX,I-=this.aY,a=z*n-I*v+this.aX,I=z*v+I*n+this.aY);return e.set(a,I)}copy(a){super.copy(a);this.aX=a.aX;this.aY=a.aY;
this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}toJSON(){const a=super.toJSON();a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a}fromJSON(a){super.fromJSON(a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;
this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}}class jg extends Xc{constructor(a,e,n,v,z,I){super(a,e,n,n,v,z,I);this.isArcCurve=!0;this.type="ArcCurve"}}const Fg=new jb,ji=new Xb,Mi=new Xb,Ni=new Xb;class Mj extends bf{constructor(a=[],e=!1,n="centripetal",v=.5){super();this.isCatmullRomCurve3=!0;this.type="CatmullRomCurve3";this.points=a;this.closed=e;this.curveType=n;this.tension=v}getPoint(a,e=new jb){var n=this.points,
v=n.length;a*=v-(this.closed?0:1);var z=Math.floor(a);a-=z;this.closed?z+=0<z?0:(Math.floor(Math.abs(z)/v)+1)*v:0===a&&z===v-1&&(z=v-2,a=1);let I;this.closed||0<z?I=n[(z-1)%v]:(Fg.subVectors(n[0],n[1]).add(n[0]),I=Fg);const L=n[z%v],R=n[(z+1)%v];this.closed||z+2<v?n=n[(z+2)%v]:(Fg.subVectors(n[v-1],n[v-2]).add(n[v-1]),n=Fg);if("centripetal"===this.curveType||"chordal"===this.curveType){var V="chordal"===this.curveType?.5:.25;v=Math.pow(I.distanceToSquared(L),V);z=Math.pow(L.distanceToSquared(R),V);
V=Math.pow(R.distanceToSquared(n),V);1E-4>z&&(z=1);1E-4>v&&(v=z);1E-4>V&&(V=z);ji.initNonuniformCatmullRom(I.x,L.x,R.x,n.x,v,z,V);Mi.initNonuniformCatmullRom(I.y,L.y,R.y,n.y,v,z,V);Ni.initNonuniformCatmullRom(I.z,L.z,R.z,n.z,v,z,V)}else"catmullrom"===this.curveType&&(ji.initCatmullRom(I.x,L.x,R.x,n.x,this.tension),Mi.initCatmullRom(I.y,L.y,R.y,n.y,this.tension),Ni.initCatmullRom(I.z,L.z,R.z,n.z,this.tension));e.set(ji.calc(a),Mi.calc(a),Ni.calc(a));return e}copy(a){super.copy(a);this.points=[];for(let e=
0,n=a.points.length;e<n;e++)this.points.push(a.points[e].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}toJSON(){const a=super.toJSON();a.points=[];for(let e=0,n=this.points.length;e<n;e++)a.points.push(this.points[e].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a}fromJSON(a){super.fromJSON(a);this.points=[];for(let e=0,n=a.points.length;e<n;e++){const v=a.points[e];this.points.push((new jb).fromArray(v))}this.closed=
a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}}class kj extends bf{constructor(a=new Cc,e=new Cc,n=new Cc,v=new Cc){super();this.isCubicBezierCurve=!0;this.type="CubicBezierCurve";this.v0=a;this.v1=e;this.v2=n;this.v3=v}getPoint(a,e=new Cc){const n=this.v0,v=this.v1,z=this.v2,I=this.v3;e.set($c(a,n.x,v.x,z.x,I.x),$c(a,n.y,v.y,z.y,I.y));return e}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();
a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class Sg extends bf{constructor(a=new jb,e=new jb,n=new jb,v=new jb){super();this.isCubicBezierCurve3=!0;this.type="CubicBezierCurve3";this.v0=a;this.v1=e;this.v2=n;this.v3=v}getPoint(a,e=new jb){const n=this.v0,v=this.v1,z=this.v2,I=this.v3;e.set($c(a,n.x,v.x,
z.x,I.x),$c(a,n.y,v.y,z.y,I.y),$c(a,n.z,v.z,z.z,I.z));return e}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class ih extends bf{constructor(a=new Cc,e=new Cc){super();
this.isLineCurve=!0;this.type="LineCurve";this.v1=a;this.v2=e}getPoint(a,e=new Cc){1===a?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(a).add(this.v1));return e}getPointAt(a,e){return this.getPoint(a,e)}getTangent(a,e=new Cc){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,e){return this.getTangent(a,e)}copy(a){super.copy(a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);
this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Nj extends bf{constructor(a=new jb,e=new jb){super();this.isLineCurve3=!0;this.type="LineCurve3";this.v1=a;this.v2=e}getPoint(a,e=new jb){1===a?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(a).add(this.v1));return e}getPointAt(a,e){return this.getPoint(a,e)}getTangent(a,e=new jb){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,e){return this.getTangent(a,e)}copy(a){super.copy(a);this.v1.copy(a.v1);
this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class lj extends bf{constructor(a=new Cc,e=new Cc,n=new Cc){super();this.isQuadraticBezierCurve=!0;this.type="QuadraticBezierCurve";this.v0=a;this.v1=e;this.v2=n}getPoint(a,e=new Cc){const n=this.v0,v=this.v1,z=this.v2;e.set(id(a,n.x,v.x,z.x),id(a,n.y,v.y,z.y));return e}copy(a){super.copy(a);
this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class mj extends bf{constructor(a=new jb,e=new jb,n=new jb){super();this.isQuadraticBezierCurve3=!0;this.type="QuadraticBezierCurve3";this.v0=a;this.v1=e;this.v2=n}getPoint(a,e=new jb){const n=this.v0,v=this.v1,
z=this.v2;e.set(id(a,n.x,v.x,z.x),id(a,n.y,v.y,z.y),id(a,n.z,v.z,z.z));return e}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class ki extends bf{constructor(a=[]){super();this.isSplineCurve=!0;this.type="SplineCurve";this.points=a}getPoint(a,
e=new Cc){var n=this.points,v=(n.length-1)*a;a=Math.floor(v);v-=a;const z=n[0===a?a:a-1],I=n[a],L=n[a>n.length-2?n.length-1:a+1];n=n[a>n.length-3?n.length-1:a+2];e.set(Xd(v,z.x,I.x,L.x,n.x),Xd(v,z.y,I.y,L.y,n.y));return e}copy(a){super.copy(a);this.points=[];for(let e=0,n=a.points.length;e<n;e++)this.points.push(a.points[e].clone());return this}toJSON(){const a=super.toJSON();a.points=[];for(let e=0,n=this.points.length;e<n;e++)a.points.push(this.points[e].toArray());return a}fromJSON(a){super.fromJSON(a);
this.points=[];for(let e=0,n=a.points.length;e<n;e++){const v=a.points[e];this.points.push((new Cc).fromArray(v))}return this}}var jh=Object.freeze({__proto__:null,ArcCurve:jg,CatmullRomCurve3:Mj,CubicBezierCurve:kj,CubicBezierCurve3:Sg,EllipseCurve:Xc,LineCurve:ih,LineCurve3:Nj,QuadraticBezierCurve:lj,QuadraticBezierCurve3:mj,SplineCurve:ki});class Oj extends bf{constructor(){super();this.type="CurvePath";this.curves=[];this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),
e=this.curves[this.curves.length-1].getPoint(1);a.equals(e)||this.curves.push(new ih(e,a))}getPoint(a,e){var n=a*this.getLength(),v=this.getCurveLengths();for(a=0;a<v.length;){if(v[a]>=n)return n=v[a]-n,a=this.curves[a],v=a.getLength(),a.getPointAt(0===v?0:1-n/v,e);a++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;
const a=[];let e=0;for(let n=0,v=this.curves.length;n<v;n++)e+=this.curves[n].getLength(),a.push(e);return this.cacheLengths=a}getSpacedPoints(a=40){const e=[];for(let n=0;n<=a;n++)e.push(this.getPoint(n/a));this.autoClose&&e.push(e[0]);return e}getPoints(a=12){const e=[];let n;for(let z=0,I=this.curves;z<I.length;z++){var v=I[z];v=v.getPoints(v.isEllipseCurve?2*a:v.isLineCurve||v.isLineCurve3?1:v.isSplineCurve?a*v.points.length:a);for(let L=0;L<v.length;L++){const R=v[L];n&&n.equals(R)||(e.push(R),
n=R)}}this.autoClose&&1<e.length&&!e[e.length-1].equals(e[0])&&e.push(e[0]);return e}copy(a){super.copy(a);this.curves=[];for(let e=0,n=a.curves.length;e<n;e++)this.curves.push(a.curves[e].clone());this.autoClose=a.autoClose;return this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose;a.curves=[];for(let e=0,n=this.curves.length;e<n;e++)a.curves.push(this.curves[e].toJSON());return a}fromJSON(a){super.fromJSON(a);this.autoClose=a.autoClose;this.curves=[];for(let e=0,n=a.curves.length;e<
n;e++){const v=a.curves[e];this.curves.push((new jh[v.type]).fromJSON(v))}return this}}class Tg extends Oj{constructor(a){super();this.type="Path";this.currentPoint=new Cc;a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(let e=1,n=a.length;e<n;e++)this.lineTo(a[e].x,a[e].y);return this}moveTo(a,e){this.currentPoint.set(a,e);return this}lineTo(a,e){const n=new ih(this.currentPoint.clone(),new Cc(a,e));this.curves.push(n);this.currentPoint.set(a,e);return this}quadraticCurveTo(a,
e,n,v){a=new lj(this.currentPoint.clone(),new Cc(a,e),new Cc(n,v));this.curves.push(a);this.currentPoint.set(n,v);return this}bezierCurveTo(a,e,n,v,z,I){a=new kj(this.currentPoint.clone(),new Cc(a,e),new Cc(n,v),new Cc(z,I));this.curves.push(a);this.currentPoint.set(z,I);return this}splineThru(a){var e=[this.currentPoint.clone()].concat(a);e=new ki(e);this.curves.push(e);this.currentPoint.copy(a[a.length-1]);return this}arc(a,e,n,v,z,I){this.absarc(a+this.currentPoint.x,e+this.currentPoint.y,n,v,
z,I);return this}absarc(a,e,n,v,z,I){this.absellipse(a,e,n,n,v,z,I);return this}ellipse(a,e,n,v,z,I,L,R){this.absellipse(a+this.currentPoint.x,e+this.currentPoint.y,n,v,z,I,L,R);return this}absellipse(a,e,n,v,z,I,L,R){a=new Xc(a,e,n,v,z,I,L,R);0<this.curves.length&&(e=a.getPoint(0),e.equals(this.currentPoint)||this.lineTo(e.x,e.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);return this}copy(a){super.copy(a);this.currentPoint.copy(a.currentPoint);return this}toJSON(){const a=super.toJSON();
a.currentPoint=this.currentPoint.toArray();return a}fromJSON(a){super.fromJSON(a);this.currentPoint.fromArray(a.currentPoint);return this}}class li extends ue{constructor(a=[new Cc(0,-.5),new Cc(.5,0),new Cc(0,.5)],e=12,n=0,v=2*Math.PI){super();this.type="LatheGeometry";this.parameters={points:a,segments:e,phiStart:n,phiLength:v};e=Math.floor(e);v=m(v,0,2*Math.PI);const z=[],I=[],L=[];var R=[];const V=[];var Y=1/e,ja=new jb,ka=new Cc,qa=new jb,Ga=new jb,Fa=new jb;let ia;for(let zb=0;zb<=a.length-
1;zb++)switch(zb){case 0:var La=a[zb+1].x-a[zb].x;ia=a[zb+1].y-a[zb].y;qa.x=1*ia;qa.y=-La;qa.z=0*ia;Fa.copy(qa);qa.normalize();R.push(qa.x,qa.y,qa.z);break;case a.length-1:R.push(Fa.x,Fa.y,Fa.z);break;default:La=a[zb+1].x-a[zb].x,ia=a[zb+1].y-a[zb].y,qa.x=1*ia,qa.y=-La,qa.z=0*ia,Ga.copy(qa),qa.x+=Fa.x,qa.y+=Fa.y,qa.z+=Fa.z,qa.normalize(),R.push(qa.x,qa.y,qa.z),Fa.copy(Ga)}for(qa=0;qa<=e;qa++)for(Fa=n+qa*Y*v,Ga=Math.sin(Fa),Fa=Math.cos(Fa),La=0;La<=a.length-1;La++)ja.x=a[La].x*Ga,ja.y=a[La].y,ja.z=
a[La].x*Fa,I.push(ja.x,ja.y,ja.z),ka.x=qa/e,ka.y=La/(a.length-1),L.push(ka.x,ka.y),V.push(R[3*La]*Ga,R[3*La+1],R[3*La]*Fa);for(n=0;n<e;n++)for(v=0;v<a.length-1;v++)R=v+n*a.length,Y=R+a.length,ja=R+a.length+1,ka=R+1,z.push(R,Y,ka),z.push(ja,ka,Y);this.setIndex(z);this.setAttribute("position",new Dd(I,3));this.setAttribute("uv",new Dd(L,2));this.setAttribute("normal",new Dd(V,3))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new li(a.points,
a.segments,a.phiStart,a.phiLength)}}class Oi extends li{constructor(a=1,e=1,n=4,v=8){const z=new Tg;z.absarc(0,-e/2,a,1.5*Math.PI,0);z.absarc(0,e/2,a,0,.5*Math.PI);super(z.getPoints(n),v);this.type="CapsuleGeometry";this.parameters={radius:a,height:e,capSegments:n,radialSegments:v}}static fromJSON(a){return new Oi(a.radius,a.length,a.capSegments,a.radialSegments)}}class Pi extends ue{constructor(a=1,e=32,n=0,v=2*Math.PI){super();this.type="CircleGeometry";this.parameters={radius:a,segments:e,thetaStart:n,
thetaLength:v};e=Math.max(3,e);const z=[],I=[],L=[],R=[],V=new jb,Y=new Cc;I.push(0,0,0);L.push(0,0,1);R.push(.5,.5);for(let ja=0,ka=3;ja<=e;ja++,ka+=3){const qa=n+ja/e*v;V.x=a*Math.cos(qa);V.y=a*Math.sin(qa);I.push(V.x,V.y,V.z);L.push(0,0,1);Y.x=(I[ka]/a+1)/2;Y.y=(I[ka+1]/a+1)/2;R.push(Y.x,Y.y)}for(a=1;a<=e;a++)z.push(a,a+1,0);this.setIndex(z);this.setAttribute("position",new Dd(I,3));this.setAttribute("normal",new Dd(L,3));this.setAttribute("uv",new Dd(R,2))}copy(a){super.copy(a);this.parameters=
Object.assign({},a.parameters);return this}static fromJSON(a){return new Pi(a.radius,a.segments,a.thetaStart,a.thetaLength)}}class Qi extends ue{constructor(a=1,e=1,n=1,v=32,z=1,I=!1,L=0,R=2*Math.PI){function V(bb){const Gb=Fa;var Tb=new Cc,xb=new jb;let oc=0;var Ib=!0===bb?a:e;const $b=!0===bb?1:-1;for(var bc=1;bc<=v;bc++)ka.push(0,La*$b,0),qa.push(0,$b,0),Ga.push(.5,.5),Fa++;bc=Fa;for(let Pc=0;Pc<=v;Pc++){var ac=Pc/v*R+L;const Gc=Math.cos(ac);ac=Math.sin(ac);xb.x=Ib*ac;xb.y=La*$b;xb.z=Ib*Gc;ka.push(xb.x,
xb.y,xb.z);qa.push(0,$b,0);Tb.x=.5*Gc+.5;Tb.y=.5*ac*$b+.5;Ga.push(Tb.x,Tb.y);Fa++}for(Tb=0;Tb<v;Tb++)xb=Gb+Tb,Ib=bc+Tb,!0===bb?ja.push(Ib,Ib+1,xb):ja.push(Ib+1,Ib,xb),oc+=3;Y.addGroup(zb,oc,!0===bb?1:2);zb+=oc}super();this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:e,height:n,radialSegments:v,heightSegments:z,openEnded:I,thetaStart:L,thetaLength:R};const Y=this;v=Math.floor(v);z=Math.floor(z);const ja=[],ka=[],qa=[],Ga=[];let Fa=0;const ia=[],La=n/2;let zb=0;(function(){var bb=
new jb,Gb=new jb;let Tb=0;var xb=(e-a)/n;for(var oc=0;oc<=z;oc++){var Ib=[];const bc=oc/z,ac=bc*(e-a)+a;for(let Pc=0;Pc<=v;Pc++){const Gc=Pc/v;var $b=Gc*R+L;const Kc=Math.sin($b);$b=Math.cos($b);Gb.x=ac*Kc;Gb.y=-bc*n+La;Gb.z=ac*$b;ka.push(Gb.x,Gb.y,Gb.z);bb.set(Kc,xb,$b).normalize();qa.push(bb.x,bb.y,bb.z);Ga.push(Gc,1-bc);Ib.push(Fa++)}ia.push(Ib)}for(bb=0;bb<v;bb++)for(Gb=0;Gb<z;Gb++)xb=ia[Gb+1][bb],oc=ia[Gb+1][bb+1],Ib=ia[Gb][bb+1],ja.push(ia[Gb][bb],xb,Ib),ja.push(xb,oc,Ib),Tb+=6;Y.addGroup(zb,
Tb,0);zb+=Tb})();!1===I&&(0<a&&V(!0),0<e&&V(!1));this.setIndex(ja);this.setAttribute("position",new Dd(ka,3));this.setAttribute("normal",new Dd(qa,3));this.setAttribute("uv",new Dd(Ga,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Qi(a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Pj extends Qi{constructor(a=1,e=1,n=32,v=1,z=!1,I=0,L=2*Math.PI){super(0,a,e,n,v,z,
I,L);this.type="ConeGeometry";this.parameters={radius:a,height:e,radialSegments:n,heightSegments:v,openEnded:z,thetaStart:I,thetaLength:L}}static fromJSON(a){return new Pj(a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Th extends ue{constructor(a=[],e=[],n=1,v=0){function z(Y){R.push(Y.x,Y.y,Y.z)}function I(Y,ja){Y*=3;ja.x=a[Y+0];ja.y=a[Y+1];ja.z=a[Y+2]}function L(Y,ja,ka,qa){0>qa&&1===Y.x&&(V[ja]=Y.x-1);0===ka.x&&0===ka.z&&(V[ja]=qa/2/Math.PI+.5)}
super();this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:e,radius:n,detail:v};const R=[],V=[];(function(Y){const ja=new jb,ka=new jb,qa=new jb;for(let La=0;La<e.length;La+=3){I(e[La+0],ja);I(e[La+1],ka);I(e[La+2],qa);var Ga=ja,Fa=ka,ia=qa;const zb=Y+1,bb=[];for(let Gb=0;Gb<=zb;Gb++){bb[Gb]=[];const Tb=Ga.clone().lerp(ia,Gb/zb),xb=Fa.clone().lerp(ia,Gb/zb),oc=zb-Gb;for(let Ib=0;Ib<=oc;Ib++)bb[Gb][Ib]=0===Ib&&Gb===zb?Tb:Tb.clone().lerp(xb,Ib/oc)}for(Ga=0;Ga<zb;Ga++)for(Fa=0;Fa<2*(zb-
Ga)-1;Fa++)ia=Math.floor(Fa/2),0===Fa%2?(z(bb[Ga][ia+1]),z(bb[Ga+1][ia]),z(bb[Ga][ia])):(z(bb[Ga][ia+1]),z(bb[Ga+1][ia+1]),z(bb[Ga+1][ia]))}})(v);(function(Y){const ja=new jb;for(let ka=0;ka<R.length;ka+=3)ja.x=R[ka+0],ja.y=R[ka+1],ja.z=R[ka+2],ja.normalize().multiplyScalar(Y),R[ka+0]=ja.x,R[ka+1]=ja.y,R[ka+2]=ja.z})(n);(function(){var Y=new jb;for(var ja=0;ja<R.length;ja+=3)Y.x=R[ja+0],Y.y=R[ja+1],Y.z=R[ja+2],V.push(Math.atan2(Y.z,-Y.x)/2/Math.PI+.5,1-(Math.atan2(-Y.y,Math.sqrt(Y.x*Y.x+Y.z*Y.z))/
Math.PI+.5));Y=new jb;ja=new jb;var ka=new jb,qa=new jb,Ga=new Cc;const Fa=new Cc,ia=new Cc;for(let La=0,zb=0;La<R.length;La+=9,zb+=6){Y.set(R[La+0],R[La+1],R[La+2]);ja.set(R[La+3],R[La+4],R[La+5]);ka.set(R[La+6],R[La+7],R[La+8]);Ga.set(V[zb+0],V[zb+1]);Fa.set(V[zb+2],V[zb+3]);ia.set(V[zb+4],V[zb+5]);qa.copy(Y).add(ja).add(ka).divideScalar(3);const bb=Math.atan2(qa.z,-qa.x);L(Ga,zb+0,Y,bb);L(Fa,zb+2,ja,bb);L(ia,zb+4,ka,bb)}for(Y=0;Y<V.length;Y+=6)ja=V[Y+0],ka=V[Y+2],qa=V[Y+4],Ga=Math.min(ja,ka,qa),
.9<Math.max(ja,ka,qa)&&.1>Ga&&(.2>ja&&(V[Y+0]+=1),.2>ka&&(V[Y+2]+=1),.2>qa&&(V[Y+4]+=1))})();this.setAttribute("position",new Dd(R,3));this.setAttribute("normal",new Dd(R.slice(),3));this.setAttribute("uv",new Dd(V,2));0===v?this.computeVertexNormals():this.normalizeNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Th(a.vertices,a.indices,a.radius,a.details)}}class Qj extends Th{constructor(a=1,e=0){const n=(1+Math.sqrt(5))/2,
v=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-v,-n,0,-v,n,0,v,-n,0,v,n,-v,-n,0,-v,n,0,v,-n,0,v,n,0,-n,0,-v,n,0,-v,-n,0,v,n,0,v],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,e);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:e}}static fromJSON(a){return new Qj(a.radius,
a.detail)}}const Rj=new jb,Sj=new jb,yk=new jb,Tj=new Wd;class Nk extends ue{constructor(a=null,e=1){super();this.type="EdgesGeometry";this.parameters={geometry:a,thresholdAngle:e};if(null!==a){const v=Math.pow(10,4);e=Math.cos(Zd*e);const z=a.getIndex();a=a.getAttribute("position");const I=z?z.count:a.count,L=[0,0,0],R=["a","b","c"],V=Array(3),Y={},ja=[];for(let ka=0;ka<I;ka+=3){z?(L[0]=z.getX(ka),L[1]=z.getX(ka+1),L[2]=z.getX(ka+2)):(L[0]=ka,L[1]=ka+1,L[2]=ka+2);const {a:qa,b:Ga,c:Fa}=Tj;qa.fromBufferAttribute(a,
L[0]);Ga.fromBufferAttribute(a,L[1]);Fa.fromBufferAttribute(a,L[2]);Tj.getNormal(yk);V[0]=`${Math.round(qa.x*v)},${Math.round(qa.y*v)},${Math.round(qa.z*v)}`;V[1]=`${Math.round(Ga.x*v)},${Math.round(Ga.y*v)},${Math.round(Ga.z*v)}`;V[2]=`${Math.round(Fa.x*v)},${Math.round(Fa.y*v)},${Math.round(Fa.z*v)}`;if(V[0]!==V[1]&&V[1]!==V[2]&&V[2]!==V[0])for(let ia=0;3>ia;ia++){const La=(ia+1)%3;var n=V[ia];const zb=V[La],bb=Tj[R[ia]],Gb=Tj[R[La]],Tb=`${n}_${zb}`;n=`${zb}_${n}`;n in Y&&Y[n]?(yk.dot(Y[n].normal)<=
e&&(ja.push(bb.x,bb.y,bb.z),ja.push(Gb.x,Gb.y,Gb.z)),Y[n]=null):Tb in Y||(Y[Tb]={index0:L[ia],index1:L[La],normal:yk.clone()})}}for(const ka in Y)if(Y[ka]){const {index0:qa,index1:Ga}=Y[ka];Rj.fromBufferAttribute(a,qa);Sj.fromBufferAttribute(a,Ga);ja.push(Rj.x,Rj.y,Rj.z);ja.push(Sj.x,Sj.y,Sj.z)}this.setAttribute("position",new Dd(ja,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}class mi extends Tg{constructor(a){super(a);this.uuid=r();this.type="Shape";this.holes=
[]}getPointsHoles(a){const e=[];for(let n=0,v=this.holes.length;n<v;n++)e[n]=this.holes[n].getPoints(a);return e}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a);this.holes=[];for(let e=0,n=a.holes.length;e<n;e++)this.holes.push(a.holes[e].clone());return this}toJSON(){const a=super.toJSON();a.uuid=this.uuid;a.holes=[];for(let e=0,n=this.holes.length;e<n;e++)a.holes.push(this.holes[e].toJSON());return a}fromJSON(a){super.fromJSON(a);this.uuid=a.uuid;
this.holes=[];for(let e=0,n=a.holes.length;e<n;e++){const v=a.holes[e];this.holes.push((new Tg).fromJSON(v))}return this}}const Jl={triangulate:function(a,e,n=2){var v=e&&e.length;const z=v?e[0]*n:a.length;var I=ad(a,0,z,n,!0);const L=[];if(!I||I.next===I.prev)return L;let R,V;var Y;if(v){var ja=I;I=[];var ka;v=0;for(ka=e.length;v<ka;v++){var qa=e[v]*n;var Ga=v<ka-1?e[v+1]*n:a.length;var Fa=ad(a,qa,Ga,n,!1);Fa===Fa.next&&(Fa.steiner=!0);qa=I;Ga=qa.push;var ia=Fa,La=Fa;do{if(ia.x<La.x||ia.x===La.x&&
ia.y<La.y)La=ia;ia=ia.next}while(ia!==Fa);Ga.call(qa,La)}I.sort(Le);for(v=0;v<I.length;v++){ka=void 0;e=I[v];b:{qa=ja;Ga=-Infinity;Fa=e.x;ia=e.y;do{if(ia<=qa.y&&ia>=qa.next.y&&qa.next.y!==qa.y&&(La=qa.x+(ia-qa.y)*(qa.next.x-qa.x)/(qa.next.y-qa.y),La<=Fa&&La>Ga&&(Ga=La,ka=qa.x<qa.next.x?qa:qa.next,La===Fa)))break b;qa=qa.next}while(qa!==ja);if(ka){var zb=ka,bb=ka.x,Gb=ka.y,Tb=Infinity;qa=ka;do{if(Fa>=qa.x&&qa.x>=bb&&Fa!==qa.x&&he(ia<Gb?Fa:Ga,ia,bb,Gb,ia<Gb?Ga:Fa,ia,qa.x,qa.y)){La=Math.abs(ia-qa.y)/
(Fa-qa.x);var xb;if((xb=ic(qa,e))&&!(xb=La<Tb)&&(xb=La===Tb)&&!(xb=qa.x>ka.x)&&(xb=qa.x===ka.x)){xb=ka;var oc=qa;xb=0>Id(xb.prev,xb,oc.prev)&&0>Id(oc.next,xb,xb.next)}xb&&(ka=qa,Tb=La)}qa=qa.next}while(qa!==zb)}else ka=null}ka&&(e=Ac(ka,e),ud(e,e.next),ja=ud(ka,ka.next))}I=ja}if(a.length>80*n){R=Y=a[0];V=v=a[1];for(ka=n;ka<z;ka+=n)e=a[ka],ja=a[ka+1],e<R&&(R=e),ja<V&&(V=ja),e>Y&&(Y=e),ja>v&&(v=ja);Y=Math.max(Y-R,v-V);Y=0!==Y?32767/Y:0}md(I,L,n,R,V,Y,0);return L}};class Bh{static area(a){const e=a.length;
let n=0;for(let v=e-1,z=0;z<e;v=z++)n+=a[v].x*a[z].y-a[z].x*a[v].y;return.5*n}static isClockWise(a){return 0>Bh.area(a)}static triangulateShape(a,e){var n=[];const v=[],z=[];ha(a);na(n,a);a=a.length;e.forEach(ha);for(let I=0;I<e.length;I++)v.push(a),a+=e[I].length,na(n,e[I]);e=Jl.triangulate(n,v);for(n=0;n<e.length;n+=3)z.push(e.slice(n,n+3));return z}}class Uj extends ue{constructor(a=new mi([new Cc(.5,.5),new Cc(-.5,.5),new Cc(-.5,-.5),new Cc(.5,-.5)]),e={}){function n(L){function R(Oa,qb,vb){qb||
console.error("THREE.ExtrudeGeometry: vec does not exist");return Oa.clone().addScaledVector(qb,vb)}function V(Oa,qb,vb){var Ob=Oa.x-qb.x;var dd=Oa.y-qb.y;var ub=vb.x-Oa.x;var ec=vb.y-Oa.y,wc=Ob*Ob+dd*dd;if(Math.abs(Ob*ec-dd*ub)>Number.EPSILON){const Ec=Math.sqrt(wc),Nc=Math.sqrt(ub*ub+ec*ec);wc=qb.x-dd/Ec;qb=qb.y+Ob/Ec;ec=((vb.x-ec/Nc-wc)*ec-(vb.y+ub/Nc-qb)*ub)/(Ob*ec-dd*ub);ub=wc+Ob*ec-Oa.x;Ob=qb+dd*ec-Oa.y;dd=ub*ub+Ob*Ob;if(2>=dd)return new Cc(ub,Ob);dd=Math.sqrt(dd/2)}else Oa=!1,Ob>Number.EPSILON?
ub>Number.EPSILON&&(Oa=!0):Ob<-Number.EPSILON?ub<-Number.EPSILON&&(Oa=!0):Math.sign(dd)===Math.sign(ec)&&(Oa=!0),Oa?(ub=-dd,dd=Math.sqrt(wc)):(ub=Ob,Ob=dd,dd=Math.sqrt(wc/2));return new Cc(ub/dd,Ob/dd)}function Y(Oa,qb){let vb=Oa.length;for(;0<=--vb;){const ec=vb;let wc=vb-1;0>wc&&(wc=Oa.length-1);for(let Ec=0,Nc=La+2*oc;Ec<Nc;Ec++){const wd=ce*Ec;var Ob=ce*(Ec+1),dd=qb+wc+wd,ub=qb+wc+Ob;Ob=qb+ec+Ob;qa(qb+ec+wd);qa(dd);qa(Ob);qa(dd);qa(ub);qa(Ob);dd=z.length/3;dd=$b.generateSideWallUV(v,z,dd-6,dd-
3,dd-2,dd-1);Ga(dd[0]);Ga(dd[1]);Ga(dd[3]);Ga(dd[1]);Ga(dd[2]);Ga(dd[3])}}}function ja(Oa,qb,vb){Fa.push(Oa);Fa.push(qb);Fa.push(vb)}function ka(Oa,qb,vb){qa(Oa);qa(qb);qa(vb);Oa=z.length/3;Oa=$b.generateTopUV(v,z,Oa-3,Oa-2,Oa-1);Ga(Oa[0]);Ga(Oa[1]);Ga(Oa[2])}function qa(Oa){z.push(Fa[3*Oa]);z.push(Fa[3*Oa+1]);z.push(Fa[3*Oa+2])}function Ga(Oa){I.push(Oa.x);I.push(Oa.y)}const Fa=[];var ia=void 0!==e.curveSegments?e.curveSegments:12;const La=void 0!==e.steps?e.steps:1,zb=void 0!==e.depth?e.depth:1;
let bb=void 0!==e.bevelEnabled?e.bevelEnabled:!0,Gb=void 0!==e.bevelThickness?e.bevelThickness:.2,Tb=void 0!==e.bevelSize?e.bevelSize:Gb-.1,xb=void 0!==e.bevelOffset?e.bevelOffset:0,oc=void 0!==e.bevelSegments?e.bevelSegments:3;var Ib=e.extrudePath;const $b=void 0!==e.UVGenerator?e.UVGenerator:Kl;let bc,ac=!1;if(Ib){bc=Ib.getSpacedPoints(La);ac=!0;bb=!1;var Pc=Ib.computeFrenetFrames(La,!1);var Gc=new jb;var Kc=new jb;var Ic=new jb}bb||(xb=Tb=Gb=oc=0);L=L.extractPoints(ia);Ib=L.shape;const td=L.holes;
if(!Bh.isClockWise(Ib)){Ib=Ib.reverse();for(let Oa=0,qb=td.length;Oa<qb;Oa++)L=td[Oa],Bh.isClockWise(L)&&(td[Oa]=L.reverse())}const Fd=Bh.triangulateShape(Ib,td),Sd=Ib;for(let Oa=0,qb=td.length;Oa<qb;Oa++)Ib=Ib.concat(td[Oa]);const ce=Ib.length,Mc=Fd.length;L=[];for(let Oa=0,qb=Sd.length,vb=qb-1,Ob=Oa+1;Oa<qb;Oa++,vb++,Ob++)vb===qb&&(vb=0),Ob===qb&&(Ob=0),L[Oa]=V(Sd[Oa],Sd[vb],Sd[Ob]);ia=[];let ld=L.concat();for(let Oa=0,qb=td.length;Oa<qb;Oa++){var pd=td[Oa];var Pd=[];for(let vb=0,Ob=pd.length,dd=
Ob-1,ub=vb+1;vb<Ob;vb++,dd++,ub++)dd===Ob&&(dd=0),ub===Ob&&(ub=0),Pd[vb]=V(pd[vb],pd[dd],pd[ub]);ia.push(Pd);ld=ld.concat(Pd)}for(pd=0;pd<oc;pd++){Pd=pd/oc;var Ed=Gb*Math.cos(Pd*Math.PI/2),Xa=Tb*Math.sin(Pd*Math.PI/2)+xb;for(let Oa=0,qb=Sd.length;Oa<qb;Oa++)Pd=R(Sd[Oa],L[Oa],Xa),ja(Pd.x,Pd.y,-Ed);for(let Oa=0,qb=td.length;Oa<qb;Oa++){const vb=td[Oa];Pd=ia[Oa];for(let Ob=0,dd=vb.length;Ob<dd;Ob++){const ub=R(vb[Ob],Pd[Ob],Xa);ja(ub.x,ub.y,-Ed)}}}Pd=Tb+xb;for(pd=0;pd<ce;pd++)Ed=bb?R(Ib[pd],ld[pd],Pd):
Ib[pd],ac?(Kc.copy(Pc.normals[0]).multiplyScalar(Ed.x),Gc.copy(Pc.binormals[0]).multiplyScalar(Ed.y),Ic.copy(bc[0]).add(Kc).add(Gc),ja(Ic.x,Ic.y,Ic.z)):ja(Ed.x,Ed.y,0);for(pd=1;pd<=La;pd++)for(Ed=0;Ed<ce;Ed++)Xa=bb?R(Ib[Ed],ld[Ed],Pd):Ib[Ed],ac?(Kc.copy(Pc.normals[pd]).multiplyScalar(Xa.x),Gc.copy(Pc.binormals[pd]).multiplyScalar(Xa.y),Ic.copy(bc[pd]).add(Kc).add(Gc),ja(Ic.x,Ic.y,Ic.z)):ja(Xa.x,Xa.y,zb/La*pd);for(Pc=oc-1;0<=Pc;Pc--){Kc=Pc/oc;Gc=Gb*Math.cos(Kc*Math.PI/2);Kc=Tb*Math.sin(Kc*Math.PI/
2)+xb;for(let Oa=0,qb=Sd.length;Oa<qb;Oa++)Ic=R(Sd[Oa],L[Oa],Kc),ja(Ic.x,Ic.y,zb+Gc);for(let Oa=0,qb=td.length;Oa<qb;Oa++){Ic=td[Oa];Pd=ia[Oa];for(let vb=0,Ob=Ic.length;vb<Ob;vb++)Ib=R(Ic[vb],Pd[vb],Kc),ac?ja(Ib.x,Ib.y+bc[La-1].y,bc[La-1].x+Gc):ja(Ib.x,Ib.y,zb+Gc)}}(function(){const Oa=z.length/3;if(bb){var qb=0*ce;for(var vb=0;vb<Mc;vb++){var Ob=Fd[vb];ka(Ob[2]+qb,Ob[1]+qb,Ob[0]+qb)}qb=ce*(La+2*oc);for(vb=0;vb<Mc;vb++)Ob=Fd[vb],ka(Ob[0]+qb,Ob[1]+qb,Ob[2]+qb)}else{for(qb=0;qb<Mc;qb++)vb=Fd[qb],ka(vb[2],
vb[1],vb[0]);for(qb=0;qb<Mc;qb++)vb=Fd[qb],ka(vb[0]+ce*La,vb[1]+ce*La,vb[2]+ce*La)}v.addGroup(Oa,z.length/3-Oa,0)})();(function(){const Oa=z.length/3;let qb=0;Y(Sd,qb);qb+=Sd.length;for(let vb=0,Ob=td.length;vb<Ob;vb++){const dd=td[vb];Y(dd,qb);qb+=dd.length}v.addGroup(Oa,z.length/3-Oa,1)})()}super();this.type="ExtrudeGeometry";this.parameters={shapes:a,options:e};a=Array.isArray(a)?a:[a];const v=this,z=[],I=[];for(let L=0,R=a.length;L<R;L++)n(a[L]);this.setAttribute("position",new Dd(z,3));this.setAttribute("uv",
new Dd(I,2));this.computeVertexNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var e=this.parameters.shapes,n=this.parameters.options;a.shapes=[];if(Array.isArray(e))for(let v=0,z=e.length;v<z;v++)a.shapes.push(e[v].uuid);else a.shapes.push(e.uuid);a.options=Object.assign({},n);void 0!==n.extrudePath&&(a.options.extrudePath=n.extrudePath.toJSON());return a}static fromJSON(a,e){const n=[];for(let v=0,z=a.shapes.length;v<z;v++)n.push(e[a.shapes[v]]);
e=a.options.extrudePath;void 0!==e&&(a.options.extrudePath=(new jh[e.type]).fromJSON(e));return new Uj(n,a.options)}}const Kl={generateTopUV:function(a,e,n,v,z){a=e[3*v];v=e[3*v+1];const I=e[3*z];z=e[3*z+1];return[new Cc(e[3*n],e[3*n+1]),new Cc(a,v),new Cc(I,z)]},generateSideWallUV:function(a,e,n,v,z,I){a=e[3*n];const L=e[3*n+1];n=e[3*n+2];const R=e[3*v],V=e[3*v+1];v=e[3*v+2];const Y=e[3*z],ja=e[3*z+1];z=e[3*z+2];const ka=e[3*I],qa=e[3*I+1];e=e[3*I+2];return Math.abs(L-V)<Math.abs(a-R)?[new Cc(a,
1-n),new Cc(R,1-v),new Cc(Y,1-z),new Cc(ka,1-e)]:[new Cc(L,1-n),new Cc(V,1-v),new Cc(ja,1-z),new Cc(qa,1-e)]}};class Vj extends Th{constructor(a=1,e=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,e);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:e}}static fromJSON(a){return new Vj(a.radius,
a.detail)}}class nj extends Th{constructor(a=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,e);this.type="OctahedronGeometry";this.parameters={radius:a,detail:e}}static fromJSON(a){return new nj(a.radius,a.detail)}}class Wj extends ue{constructor(a=.5,e=1,n=32,v=1,z=0,I=2*Math.PI){super();this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:e,thetaSegments:n,phiSegments:v,thetaStart:z,thetaLength:I};n=Math.max(3,n);v=Math.max(1,
v);const L=[],R=[],V=[],Y=[];var ja=a;a=(e-a)/v;var ka=new jb,qa=new Cc;for(let Ga=0;Ga<=v;Ga++){for(let Fa=0;Fa<=n;Fa++){const ia=z+Fa/n*I;ka.x=ja*Math.cos(ia);ka.y=ja*Math.sin(ia);R.push(ka.x,ka.y,ka.z);V.push(0,0,1);qa.x=(ka.x/e+1)/2;qa.y=(ka.y/e+1)/2;Y.push(qa.x,qa.y)}ja+=a}for(e=0;e<v;e++)for(z=e*(n+1),I=0;I<n;I++)ja=I+z,a=ja+n+1,ka=ja+n+2,qa=ja+1,L.push(ja,a,qa),L.push(a,ka,qa);this.setIndex(L);this.setAttribute("position",new Dd(R,3));this.setAttribute("normal",new Dd(V,3));this.setAttribute("uv",
new Dd(Y,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Wj(a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength)}}class Xj extends ue{constructor(a=new mi([new Cc(0,.5),new Cc(-.5,-.5),new Cc(.5,-.5)]),e=12){function n(Y){const ja=z.length/3;var ka=Y.extractPoints(e);Y=ka.shape;var qa=ka.holes;!1===Bh.isClockWise(Y)&&(Y=Y.reverse());for(let Ga=0,Fa=qa.length;Ga<Fa;Ga++)ka=qa[Ga],!0===Bh.isClockWise(ka)&&
(qa[Ga]=ka.reverse());ka=Bh.triangulateShape(Y,qa);for(let Ga=0,Fa=qa.length;Ga<Fa;Ga++)Y=Y.concat(qa[Ga]);for(let Ga=0,Fa=Y.length;Ga<Fa;Ga++)qa=Y[Ga],z.push(qa.x,qa.y,0),I.push(0,0,1),L.push(qa.x,qa.y);for(let Ga=0,Fa=ka.length;Ga<Fa;Ga++)Y=ka[Ga],v.push(Y[0]+ja,Y[1]+ja,Y[2]+ja),V+=3}super();this.type="ShapeGeometry";this.parameters={shapes:a,curveSegments:e};const v=[],z=[],I=[],L=[];let R=0,V=0;if(!1===Array.isArray(a))n(a);else for(let Y=0;Y<a.length;Y++)n(a[Y]),this.addGroup(R,V,Y),R+=V,V=0;
this.setIndex(v);this.setAttribute("position",new Dd(z,3));this.setAttribute("normal",new Dd(I,3));this.setAttribute("uv",new Dd(L,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var e=this.parameters.shapes;a.shapes=[];if(Array.isArray(e))for(let n=0,v=e.length;n<v;n++)a.shapes.push(e[n].uuid);else a.shapes.push(e.uuid);return a}static fromJSON(a,e){const n=[];for(let v=0,z=a.shapes.length;v<z;v++)n.push(e[a.shapes[v]]);return new Xj(n,
a.curveSegments)}}class oj extends ue{constructor(a=1,e=32,n=16,v=0,z=2*Math.PI,I=0,L=Math.PI){super();this.type="SphereGeometry";this.parameters={radius:a,widthSegments:e,heightSegments:n,phiStart:v,phiLength:z,thetaStart:I,thetaLength:L};e=Math.max(3,Math.floor(e));n=Math.max(2,Math.floor(n));const R=Math.min(I+L,Math.PI);var V=0;const Y=[];var ja=new jb;const ka=new jb,qa=[],Ga=[],Fa=[],ia=[];for(let La=0;La<=n;La++){const zb=[],bb=La/n;let Gb=0;0==La&&0==I?Gb=.5/e:La==n&&R==Math.PI&&(Gb=-.5/e);
for(let Tb=0;Tb<=e;Tb++){const xb=Tb/e;ja.x=-a*Math.cos(v+xb*z)*Math.sin(I+bb*L);ja.y=a*Math.cos(I+bb*L);ja.z=a*Math.sin(v+xb*z)*Math.sin(I+bb*L);Ga.push(ja.x,ja.y,ja.z);ka.copy(ja).normalize();Fa.push(ka.x,ka.y,ka.z);ia.push(xb+Gb,1-bb);zb.push(V++)}Y.push(zb)}for(a=0;a<n;a++)for(v=0;v<e;v++)z=Y[a][v+1],L=Y[a][v],V=Y[a+1][v],ja=Y[a+1][v+1],(0!==a||0<I)&&qa.push(z,L,ja),(a!==n-1||R<Math.PI)&&qa.push(L,V,ja);this.setIndex(qa);this.setAttribute("position",new Dd(Ga,3));this.setAttribute("normal",new Dd(Fa,
3));this.setAttribute("uv",new Dd(ia,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new oj(a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength)}}class Yj extends Th{constructor(a=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,e);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:e}}static fromJSON(a){return new Yj(a.radius,a.detail)}}class Zj extends ue{constructor(a=
1,e=.4,n=12,v=48,z=2*Math.PI){super();this.type="TorusGeometry";this.parameters={radius:a,tube:e,radialSegments:n,tubularSegments:v,arc:z};n=Math.floor(n);v=Math.floor(v);const I=[],L=[],R=[],V=[];var Y=new jb,ja=new jb;const ka=new jb;for(let qa=0;qa<=n;qa++)for(let Ga=0;Ga<=v;Ga++){const Fa=Ga/v*z,ia=qa/n*Math.PI*2;ja.x=(a+e*Math.cos(ia))*Math.cos(Fa);ja.y=(a+e*Math.cos(ia))*Math.sin(Fa);ja.z=e*Math.sin(ia);L.push(ja.x,ja.y,ja.z);Y.x=a*Math.cos(Fa);Y.y=a*Math.sin(Fa);ka.subVectors(ja,Y).normalize();
R.push(ka.x,ka.y,ka.z);V.push(Ga/v);V.push(qa/n)}for(a=1;a<=n;a++)for(e=1;e<=v;e++)z=(v+1)*(a-1)+e-1,Y=(v+1)*(a-1)+e,ja=(v+1)*a+e,I.push((v+1)*a+e-1,z,ja),I.push(z,Y,ja);this.setIndex(I);this.setAttribute("position",new Dd(L,3));this.setAttribute("normal",new Dd(R,3));this.setAttribute("uv",new Dd(V,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Zj(a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc)}}class ak extends ue{constructor(a=
1,e=.4,n=64,v=8,z=2,I=3){function L(Tb,xb,oc,Ib,$b){const bc=Math.sin(Tb);xb=oc/xb*Tb;oc=Math.cos(xb);$b.x=Ib*(2+oc)*.5*Math.cos(Tb);$b.y=Ib*(2+oc)*bc*.5;$b.z=Ib*Math.sin(xb)*.5}super();this.type="TorusKnotGeometry";this.parameters={radius:a,tube:e,tubularSegments:n,radialSegments:v,p:z,q:I};n=Math.floor(n);v=Math.floor(v);const R=[],V=[],Y=[],ja=[];var ka=new jb;const qa=new jb,Ga=new jb,Fa=new jb,ia=new jb,La=new jb,zb=new jb;for(let Tb=0;Tb<=n;++Tb){var bb=Tb/n*z*Math.PI*2;L(bb,z,I,a,Ga);L(bb+
.01,z,I,a,Fa);La.subVectors(Fa,Ga);zb.addVectors(Fa,Ga);ia.crossVectors(La,zb);zb.crossVectors(ia,La);ia.normalize();zb.normalize();for(bb=0;bb<=v;++bb){var Gb=bb/v*Math.PI*2;const xb=-e*Math.cos(Gb);Gb=e*Math.sin(Gb);ka.x=Ga.x+(xb*zb.x+Gb*ia.x);ka.y=Ga.y+(xb*zb.y+Gb*ia.y);ka.z=Ga.z+(xb*zb.z+Gb*ia.z);V.push(ka.x,ka.y,ka.z);qa.subVectors(ka,Ga).normalize();Y.push(qa.x,qa.y,qa.z);ja.push(Tb/n);ja.push(bb/v)}}for(a=1;a<=n;a++)for(e=1;e<=v;e++)z=(v+1)*a+(e-1),I=(v+1)*a+e,ka=(v+1)*(a-1)+e,R.push((v+1)*
(a-1)+(e-1),z,ka),R.push(z,I,ka);this.setIndex(R);this.setAttribute("position",new Dd(V,3));this.setAttribute("normal",new Dd(Y,3));this.setAttribute("uv",new Dd(ja,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new ak(a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q)}}class bk extends ue{constructor(a=new mj(new jb(-1,-1,0),new jb(-1,1,0),new jb(1,1,0)),e=64,n=1,v=8,z=!1){function I(ia){ja=a.getPointAt(ia/e,ja);const La=L.normals[ia];
ia=L.binormals[ia];for(let bb=0;bb<=v;bb++){var zb=bb/v*Math.PI*2;const Gb=Math.sin(zb);zb=-Math.cos(zb);V.x=zb*La.x+Gb*ia.x;V.y=zb*La.y+Gb*ia.y;V.z=zb*La.z+Gb*ia.z;V.normalize();qa.push(V.x,V.y,V.z);R.x=ja.x+n*V.x;R.y=ja.y+n*V.y;R.z=ja.z+n*V.z;ka.push(R.x,R.y,R.z)}}super();this.type="TubeGeometry";this.parameters={path:a,tubularSegments:e,radius:n,radialSegments:v,closed:z};const L=a.computeFrenetFrames(e,z);this.tangents=L.tangents;this.normals=L.normals;this.binormals=L.binormals;const R=new jb,
V=new jb,Y=new Cc;let ja=new jb;const ka=[],qa=[],Ga=[],Fa=[];(function(){for(var ia=0;ia<e;ia++)I(ia);I(!1===z?e:0);for(ia=0;ia<=e;ia++)for(var La=0;La<=v;La++)Y.x=ia/e,Y.y=La/v,Ga.push(Y.x,Y.y);for(ia=1;ia<=e;ia++)for(La=1;La<=v;La++){const zb=(v+1)*ia+(La-1),bb=(v+1)*ia+La,Gb=(v+1)*(ia-1)+La;Fa.push((v+1)*(ia-1)+(La-1),zb,Gb);Fa.push(zb,bb,Gb)}})();this.setIndex(Fa);this.setAttribute("position",new Dd(ka,3));this.setAttribute("normal",new Dd(qa,3));this.setAttribute("uv",new Dd(Ga,2))}copy(a){super.copy(a);
this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();a.path=this.parameters.path.toJSON();return a}static fromJSON(a){return new bk((new jh[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed)}}class Ok extends ue{constructor(a=null){super();this.type="WireframeGeometry";this.parameters={geometry:a};if(null!==a){const I=[],L=new Set,R=new jb,V=new jb;if(null!==a.index){var e=a.attributes.position,n=a.index;a=a.groups;0===a.length&&
(a=[{start:0,count:n.count,materialIndex:0}]);for(let Y=0,ja=a.length;Y<ja;++Y){var v=a[Y],z=v.start;v=v.count;for(let ka=z,qa=z+v;ka<qa;ka+=3)for(z=0;3>z;z++){v=n.getX(ka+z);const Ga=n.getX(ka+(z+1)%3);R.fromBufferAttribute(e,v);V.fromBufferAttribute(e,Ga);!0===Aa(R,V,L)&&(I.push(R.x,R.y,R.z),I.push(V.x,V.y,V.z))}}}else{e=a.attributes.position;for(let Y=0,ja=e.count/3;Y<ja;Y++)for(n=0;3>n;n++)a=3*Y+(n+1)%3,R.fromBufferAttribute(e,3*Y+n),V.fromBufferAttribute(e,a),!0===Aa(R,V,L)&&(I.push(R.x,R.y,
R.z),I.push(V.x,V.y,V.z))}this.setAttribute("position",new Dd(I,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}var Pk=Object.freeze({__proto__:null,BoxGeometry:Xf,CapsuleGeometry:Oi,CircleGeometry:Pi,ConeGeometry:Pj,CylinderGeometry:Qi,DodecahedronGeometry:Qj,EdgesGeometry:Nk,ExtrudeGeometry:Uj,IcosahedronGeometry:Vj,LatheGeometry:li,OctahedronGeometry:nj,PlaneGeometry:kg,PolyhedronGeometry:Th,RingGeometry:Wj,ShapeGeometry:Xj,SphereGeometry:oj,TetrahedronGeometry:Yj,
TorusGeometry:Zj,TorusKnotGeometry:ak,TubeGeometry:bk,WireframeGeometry:Ok});class Qk extends Ue{constructor(a){super();this.isShadowMaterial=!0;this.type="ShadowMaterial";this.color=new rd(0);this.fog=this.transparent=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.fog=a.fog;return this}}class Rk extends eg{constructor(a){super(a);this.isRawShaderMaterial=!0;this.type="RawShaderMaterial"}}class zk extends Ue{constructor(a){super();this.isMeshStandardMaterial=!0;this.defines=
{STANDARD:""};this.type="MeshStandardMaterial";this.color=new rd(16777215);this.roughness=1;this.metalness=0;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new rd(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Cc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=
null;this.envMapIntensity=1;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;
this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.wireframe=a.wireframe;this.wireframeLinewidth=
a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Sk extends zk{constructor(a){super();this.isMeshPhysicalMaterial=!0;this.defines={STANDARD:"",PHYSICAL:""};this.type="MeshPhysicalMaterial";this.clearcoatMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=null;this.clearcoatNormalScale=new Cc(1,1);this.clearcoatNormalMap=null;this.ior=1.5;Object.defineProperty(this,"reflectivity",
{get:function(){return m(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}});this.iridescenceMap=null;this.iridescenceIOR=1.3;this.iridescenceThicknessRange=[100,400];this.iridescenceThicknessMap=null;this.sheenColor=new rd(0);this.sheenColorMap=null;this.sheenRoughness=1;this.transmissionMap=this.sheenRoughnessMap=null;this.thickness=0;this.thicknessMap=null;this.attenuationDistance=Infinity;this.attenuationColor=new rd(1,1,1);this.specularIntensity=1;this.specularIntensityMap=
null;this.specularColor=new rd(1,1,1);this.specularColorMap=null;this._transmission=this._iridescence=this._clearcoat=this._sheen=0;this.setValues(a)}get sheen(){return this._sheen}set sheen(a){0<this._sheen!==0<a&&this.version++;this._sheen=a}get clearcoat(){return this._clearcoat}set clearcoat(a){0<this._clearcoat!==0<a&&this.version++;this._clearcoat=a}get iridescence(){return this._iridescence}set iridescence(a){0<this._iridescence!==0<a&&this.version++;this._iridescence=a}get transmission(){return this._transmission}set transmission(a){0<
this._transmission!==0<a&&this.version++;this._transmission=a}copy(a){super.copy(a);this.defines={STANDARD:"",PHYSICAL:""};this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);this.ior=a.ior;this.iridescence=a.iridescence;this.iridescenceMap=a.iridescenceMap;this.iridescenceIOR=a.iridescenceIOR;this.iridescenceThicknessRange=
[...a.iridescenceThicknessRange];this.iridescenceThicknessMap=a.iridescenceThicknessMap;this.sheen=a.sheen;this.sheenColor.copy(a.sheenColor);this.sheenColorMap=a.sheenColorMap;this.sheenRoughness=a.sheenRoughness;this.sheenRoughnessMap=a.sheenRoughnessMap;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;this.thickness=a.thickness;this.thicknessMap=a.thicknessMap;this.attenuationDistance=a.attenuationDistance;this.attenuationColor.copy(a.attenuationColor);this.specularIntensity=
a.specularIntensity;this.specularIntensityMap=a.specularIntensityMap;this.specularColor.copy(a.specularColor);this.specularColorMap=a.specularColorMap;return this}}class Tk extends Ue{constructor(a){super();this.isMeshPhongMaterial=!0;this.type="MeshPhongMaterial";this.color=new rd(16777215);this.specular=new rd(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new rd(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=
null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Cc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=
a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=
a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Uk extends Ue{constructor(a){super();this.isMeshToonMaterial=!0;this.defines={TOON:""};this.type=
"MeshToonMaterial";this.color=new rd(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new rd(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Cc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=
"round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}class Vk extends Ue{constructor(a){super();this.isMeshNormalMaterial=!0;this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=
0;this.normalScale=new Cc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.flatShading=!1;this.setValues(a)}copy(a){super.copy(a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;
this.wireframeLinewidth=a.wireframeLinewidth;this.flatShading=a.flatShading;return this}}class Wk extends Ue{constructor(a){super();this.isMeshLambertMaterial=!0;this.type="MeshLambertMaterial";this.color=new rd(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new rd(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Cc(1,1);this.displacementMap=
null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);
this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;
this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Xk extends Ue{constructor(a){super();this.isMeshMatcapMaterial=!0;this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new rd(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Cc(1,1);this.displacementMap=
null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;
this.alphaMap=a.alphaMap;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Yk extends xa{constructor(a){super();this.isLineDashedMaterial=!0;this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}copy(a){super.copy(a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this}}const Ll={arraySlice:Ca,convertArray:Ya,isTypedArray:sb,getKeyframeOrder:Qb,sortedArray:Vb,flattenJSON:nc,subclip:function(a,e,n,v,z=30){a=a.clone();a.name=
e;e=[];for(let L=0;L<a.tracks.length;++L){const R=a.tracks[L],V=R.getValueSize(),Y=[],ja=[];for(let ka=0;ka<R.times.length;++ka){var I=R.times[ka]*z;if(!(I<n||I>=v))for(Y.push(R.times[ka]),I=0;I<V;++I)ja.push(R.values[ka*V+I])}0!==Y.length&&(R.times=Ya(Y,R.times.constructor),R.values=Ya(ja,R.values.constructor),e.push(R))}a.tracks=e;n=Infinity;for(v=0;v<a.tracks.length;++v)n>a.tracks[v].times[0]&&(n=a.tracks[v].times[0]);for(v=0;v<a.tracks.length;++v)a.tracks[v].shift(-1*n);a.resetDuration();return a},
makeClipAdditive:function(a,e=0,n=a,v=30){0>=v&&(v=30);const z=n.tracks.length;e/=v;for(v=0;v<z;++v){const Y=n.tracks[v],ja=Y.ValueTypeName;if("bool"===ja||"string"===ja)continue;const ka=a.tracks.find(function(Fa){return Fa.name===Y.name&&Fa.ValueTypeName===ja});if(void 0===ka)continue;var I=0,L=Y.getValueSize();Y.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(I=L/3);let qa=0;const Ga=ka.getValueSize();ka.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(qa=Ga/3);var R=
Y.times.length-1;if(e<=Y.times[0])I=Ca(Y.values,I,L-I);else if(e>=Y.times[R])R=R*L+I,I=Ca(Y.values,R,R+L-I);else{R=Y.createInterpolant();var V=I;I=L-I;R.evaluate(e);I=Ca(R.resultBuffer,V,I)}"quaternion"===ja&&(new pf).fromArray(I).normalize().conjugate().toArray(I);L=ka.times.length;for(R=0;R<L;++R)if(V=R*Ga+qa,"quaternion"===ja)pf.multiplyQuaternionsFlat(ka.values,V,I,0,ka.values,V);else{const Fa=Ga-2*qa;for(let ia=0;ia<Fa;++ia)ka.values[V+ia]-=I[ia]}}a.blendMode=2501;return a}};class pj{constructor(a,
e,n,v){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==v?v:new e.constructor(n);this.sampleValues=e;this.valueSize=n;this.settings=null;this.DefaultSettings_={}}evaluate(a){const e=this.parameterPositions;let n=this._cachedIndex;var v=e[n],z=e[n-1];a:{b:{c:{d:if(!(a<v)){for(var I=n+2;;){if(void 0===v){if(a<z)break d;this._cachedIndex=n=e.length;return this.copySampleValue_(n-1)}if(n===I)break;z=v;v=e[++n];if(a<v)break b}z=e.length;break c}if(a>=z)break a;else{v=e[1];a<v&&
(n=2,z=v);for(I=n-2;;){if(void 0===z)return this._cachedIndex=0,this.copySampleValue_(0);if(n===I)break;v=z;z=e[--n-1];if(a>=z)break b}z=n;n=0}}for(;n<z;)v=n+z>>>1,a<e[v]?z=v:n=v+1;v=e[n];z=e[n-1];if(void 0===z)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===v)return this._cachedIndex=n=e.length,this.copySampleValue_(n-1)}this._cachedIndex=n;this.intervalChanged_(n,z,v)}return this.interpolate_(n,z,a,v)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const e=
this.resultBuffer,n=this.sampleValues,v=this.valueSize;a*=v;for(let z=0;z!==v;++z)e[z]=n[a+z];return e}interpolate_(){throw Error("call to abstract method");}intervalChanged_(){}}class Zk extends pj{constructor(a,e,n,v){super(a,e,n,v);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0;this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(a,e,n){var v=this.parameterPositions;let z=a-2,I=a+1,L=v[z],R=v[I];if(void 0===L)switch(this.getSettings_().endingStart){case 2401:z=
a;L=2*e-n;break;case 2402:z=v.length-2;L=e+v[z]-v[z+1];break;default:z=a,L=n}if(void 0===R)switch(this.getSettings_().endingEnd){case 2401:I=a;R=2*n-e;break;case 2402:I=1;R=n+v[1]-v[0];break;default:I=a-1,R=e}a=.5*(n-e);v=this.valueSize;this._weightPrev=a/(e-L);this._weightNext=a/(R-n);this._offsetPrev=z*v;this._offsetNext=I*v}interpolate_(a,e,n,v){const z=this.resultBuffer,I=this.sampleValues,L=this.valueSize;a*=L;const R=a-L,V=this._offsetPrev,Y=this._offsetNext;var ja=this._weightPrev,ka=this._weightNext,
qa=(n-e)/(v-e);n=qa*qa;v=n*qa;e=-ja*v+2*ja*n-ja*qa;ja=(1+ja)*v+(-1.5-2*ja)*n+(-.5+ja)*qa+1;qa=(-1-ka)*v+(1.5+ka)*n+.5*qa;ka=ka*v-ka*n;for(n=0;n!==L;++n)z[n]=e*I[V+n]+ja*I[R+n]+qa*I[a+n]+ka*I[Y+n];return z}}class Ak extends pj{constructor(a,e,n,v){super(a,e,n,v)}interpolate_(a,e,n,v){const z=this.resultBuffer,I=this.sampleValues,L=this.valueSize;a*=L;const R=a-L;e=(n-e)/(v-e);n=1-e;for(v=0;v!==L;++v)z[v]=I[R+v]*n+I[a+v]*e;return z}}class $k extends pj{constructor(a,e,n,v){super(a,e,n,v)}interpolate_(a){return this.copySampleValue_(a-
1)}}class Ug{constructor(a,e,n,v){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=Ya(e,this.TimeBufferType);this.values=Ya(n,this.ValueBufferType);this.setInterpolation(v||this.DefaultInterpolation)}static toJSON(a){var e=a.constructor;if(e.toJSON!==this.toJSON)e=e.toJSON(a);else{e={name:a.name,times:Ya(a.times,Array),values:Ya(a.values,Array)};const n=a.getInterpolation();
n!==a.DefaultInterpolation&&(e.interpolation=n)}e.type=a.ValueTypeName;return e}InterpolantFactoryMethodDiscrete(a){return new $k(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new Ak(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new Zk(this.times,this.values,this.getValueSize(),a)}setInterpolation(a){switch(a){case 2300:var e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;
break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(e);console.warn("THREE.KeyframeTrack:",e);return this}this.createInterpolant=e;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;
case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(a){if(0!==a){const e=this.times;for(let n=0,v=e.length;n!==v;++n)e[n]+=a}return this}scale(a){if(1!==a){const e=this.times;for(let n=0,v=e.length;n!==v;++n)e[n]*=a}return this}trim(a,e){const n=this.times,v=n.length;let z=0,I=v-1;for(;z!==v&&n[z]<a;)++z;for(;-1!==I&&n[I]>e;)--I;++I;if(0!==z||I!==v)z>=I&&(I=Math.max(I,1),z=I-1),a=this.getValueSize(),this.times=Ca(n,z,I),this.values=
Ca(this.values,z*a,I*a);return this}validate(){let a=!0;var e=this.getValueSize();0!==e-Math.floor(e)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var n=this.times;e=this.values;const v=n.length;0===v&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let z=null;for(let I=0;I!==v;I++){const L=n[I];if("number"===typeof L&&isNaN(L)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,I,L);a=!1;break}if(null!==z&&z>L){console.error("THREE.KeyframeTrack: Out of order keys.",
this,I,L,z);a=!1;break}z=L}if(void 0!==e&&sb(e))for(let I=0,L=e.length;I!==L;++I)if(n=e[I],isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,I,n);a=!1;break}return a}optimize(){const a=Ca(this.times),e=Ca(this.values),n=this.getValueSize(),v=2302===this.getInterpolation(),z=a.length-1;let I=1;for(let Y=1;Y<z;++Y){var L=!1,R=a[Y];if(R!==a[Y+1]&&(1!==Y||R!==a[0]))if(v)L=!0;else{R=Y*n;var V=R-n;const ja=R+n;for(let ka=0;ka!==n;++ka){const qa=e[R+ka];if(qa!==e[V+ka]||qa!==
e[ja+ka]){L=!0;break}}}if(L){if(Y!==I)for(a[I]=a[Y],L=Y*n,R=I*n,V=0;V!==n;++V)e[R+V]=e[L+V];++I}}if(0<z){a[I]=a[z];for(let Y=z*n,ja=I*n,ka=0;ka!==n;++ka)e[ja+ka]=e[Y+ka];++I}I!==a.length?(this.times=Ca(a,0,I),this.values=Ca(e,0,I*n)):(this.times=a,this.values=e);return this}clone(){var a=Ca(this.times,0);const e=Ca(this.values,0);a=new this.constructor(this.name,a,e);a.createInterpolant=this.createInterpolant;return a}}Ug.prototype.TimeBufferType=Float32Array;Ug.prototype.ValueBufferType=Float32Array;
Ug.prototype.DefaultInterpolation=2301;class di extends Ug{}di.prototype.ValueTypeName="bool";di.prototype.ValueBufferType=Array;di.prototype.DefaultInterpolation=2300;di.prototype.InterpolantFactoryMethodLinear=void 0;di.prototype.InterpolantFactoryMethodSmooth=void 0;class qk extends Ug{}qk.prototype.ValueTypeName="color";class $i extends Ug{}$i.prototype.ValueTypeName="number";class al extends pj{constructor(a,e,n,v){super(a,e,n,v)}interpolate_(a,e,n,v){const z=this.resultBuffer,I=this.sampleValues,
L=this.valueSize;e=(n-e)/(v-e);a*=L;for(n=a+L;a!==n;a+=4)pf.slerpFlat(z,0,I,a-L,I,a,e);return z}}class zi extends Ug{InterpolantFactoryMethodLinear(a){return new al(this.times,this.values,this.getValueSize(),a)}}zi.prototype.ValueTypeName="quaternion";zi.prototype.DefaultInterpolation=2301;zi.prototype.InterpolantFactoryMethodSmooth=void 0;class ei extends Ug{}ei.prototype.ValueTypeName="string";ei.prototype.ValueBufferType=Array;ei.prototype.DefaultInterpolation=2300;ei.prototype.InterpolantFactoryMethodLinear=
void 0;ei.prototype.InterpolantFactoryMethodSmooth=void 0;class aj extends Ug{}aj.prototype.ValueTypeName="vector";class qj{constructor(a,e=-1,n,v=2500){this.name=a;this.tracks=n;this.duration=e;this.blendMode=v;this.uuid=r();0>this.duration&&this.resetDuration()}static parse(a){var e=[];const n=a.tracks,v=1/(a.fps||1);for(let R=0,V=n.length;R!==V;++R){var z=e,I=z.push;{var L=n[R];if(void 0===L.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");const Y=Wc(L.type);if(void 0===
L.times){const ja=[],ka=[];nc(L.keys,ja,ka,"value");L.times=ja;L.values=ka}L=void 0!==Y.parse?Y.parse(L):new Y(L.name,L.times,L.values,L.interpolation)}I.call(z,L.scale(v))}e=new this(a.name,a.duration,e,a.blendMode);e.uuid=a.uuid;return e}static toJSON(a){const e=[],n=a.tracks;a={name:a.name,duration:a.duration,tracks:e,uuid:a.uuid,blendMode:a.blendMode};for(let v=0,z=n.length;v!==z;++v)e.push(Ug.toJSON(n[v]));return a}static CreateFromMorphTargetSequence(a,e,n,v){const z=e.length,I=[];for(let L=
0;L<z;L++){let R=[],V=[];R.push((L+z-1)%z,L,(L+1)%z);V.push(0,1,0);const Y=Qb(R);R=Vb(R,1,Y);V=Vb(V,1,Y);v||0!==R[0]||(R.push(z),V.push(V[0]));I.push((new $i(".morphTargetInfluences["+e[L].name+"]",R,V)).scale(1/n))}return new this(a,-1,I)}static findByName(a,e){let n=a;Array.isArray(a)||(n=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<n.length;a++)if(n[a].name===e)return n[a];return null}static CreateClipsFromMorphTargetSequences(a,e,n){const v={},z=/^([\w-]*?)([\d]+)$/;for(let L=0,
R=a.length;L<R;L++){const V=a[L];var I=V.name.match(z);if(I&&1<I.length){I=I[1];let Y=v[I];Y||(v[I]=Y=[]);Y.push(V)}}a=[];for(const L in v)a.push(this.CreateFromMorphTargetSequence(L,v[L],e,n));return a}static parseAnimation(a,e){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(ja,ka,qa,Ga,Fa){if(0!==qa.length){const ia=[],La=[];nc(qa,ia,La,Ga);0!==ia.length&&Fa.push(new ja(ka,ia,La))}},v=[],z=a.name||"default",I=a.fps||30,L=a.blendMode;var R=
a.length||-1;a=a.hierarchy||[];for(let ja=0;ja<a.length;ja++){const ka=a[ja].keys;if(ka&&0!==ka.length)if(ka[0].morphTargets){R={};var V=void 0;for(V=0;V<ka.length;V++)if(ka[V].morphTargets)for(var Y=0;Y<ka[V].morphTargets.length;Y++)R[ka[V].morphTargets[Y]]=-1;for(const qa in R){Y=[];const Ga=[];for(let Fa=0;Fa!==ka[V].morphTargets.length;++Fa){const ia=ka[V];Y.push(ia.time);Ga.push(ia.morphTarget===qa?1:0)}v.push(new $i(".morphTargetInfluence["+qa+"]",Y,Ga))}R=R.length*I}else V=".bones["+e[ja].name+
"]",n(aj,V+".position",ka,"pos",v),n(zi,V+".quaternion",ka,"rot",v),n(aj,V+".scale",ka,"scl",v)}return 0===v.length?null:new this(z,R,v,L)}resetDuration(){var a=this.tracks;let e=0;for(let n=0,v=a.length;n!==v;++n)a=this.tracks[n],e=Math.max(e,a.times[a.times.length-1]);this.duration=e;return this}trim(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this}validate(){let a=!0;for(let e=0;e<this.tracks.length;e++)a=a&&this.tracks[e].validate();return a}optimize(){for(let a=
0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}clone(){const a=[];for(let e=0;e<this.tracks.length;e++)a.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,a,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}const ni={enabled:!1,files:{},add:function(a,e){!1!==this.enabled&&(this.files[a]=e)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class Bk{constructor(a,
e,n){const v=this;let z=!1,I=0,L=0,R=void 0;const V=[];this.onStart=void 0;this.onLoad=a;this.onProgress=e;this.onError=n;this.itemStart=function(Y){L++;if(!1===z&&void 0!==v.onStart)v.onStart(Y,I,L);z=!0};this.itemEnd=function(Y){I++;if(void 0!==v.onProgress)v.onProgress(Y,I,L);if(I===L&&(z=!1,void 0!==v.onLoad))v.onLoad()};this.itemError=function(Y){if(void 0!==v.onError)v.onError(Y)};this.resolveURL=function(Y){return R?R(Y):Y};this.setURLModifier=function(Y){R=Y;return this};this.addHandler=function(Y,
ja){V.push(Y,ja);return this};this.removeHandler=function(Y){Y=V.indexOf(Y);-1!==Y&&V.splice(Y,2);return this};this.getHandler=function(Y){for(let ja=0,ka=V.length;ja<ka;ja+=2){const qa=V[ja],Ga=V[ja+1];qa.global&&(qa.lastIndex=0);if(qa.test(Y))return Ga}return null}}}const bl=new Bk;class xg{constructor(a){this.manager=void 0!==a?a:bl;this.crossOrigin="anonymous";this.withCredentials=!1;this.resourcePath=this.path="";this.requestHeader={}}load(){}loadAsync(a,e){const n=this;return new Promise(function(v,
z){n.load(a,v,e,z)})}parse(){}setCrossOrigin(a){this.crossOrigin=a;return this}setWithCredentials(a){this.withCredentials=a;return this}setPath(a){this.path=a;return this}setResourcePath(a){this.resourcePath=a;return this}setRequestHeader(a){this.requestHeader=a;return this}}const Ch={};class Ml extends Error{constructor(a,e){super(a);this.response=e}}class Dh extends xg{constructor(a){super(a)}load(a,e,n,v){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const z=
ni.get(a);if(void 0!==z)return this.manager.itemStart(a),setTimeout(()=>{e&&e(z);this.manager.itemEnd(a)},0),z;if(void 0!==Ch[a])Ch[a].push({onLoad:e,onProgress:n,onError:v});else{Ch[a]=[];Ch[a].push({onLoad:e,onProgress:n,onError:v});n=new Request(a,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});var I=this.mimeType,L=this.responseType;fetch(n).then(R=>{if(200===R.status||0===R.status){0===R.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");
if("undefined"===typeof ReadableStream||void 0===R.body||void 0===R.body.getReader)return R;const V=Ch[a],Y=R.body.getReader(),ja=(R=R.headers.get("Content-Length")||R.headers.get("X-File-Size"))?parseInt(R):0,ka=0!==ja;let qa=0;R=new ReadableStream({start(Ga){function Fa(){Y.read().then(({done:ia,value:La})=>{if(ia)Ga.close();else{qa+=La.byteLength;ia=new ProgressEvent("progress",{lengthComputable:ka,loaded:qa,total:ja});for(let zb=0,bb=V.length;zb<bb;zb++){const Gb=V[zb];if(Gb.onProgress)Gb.onProgress(ia)}Ga.enqueue(La);
Fa()}})}Fa()}});return new Response(R)}throw new Ml(`fetch for "${R.url}" responded with ${R.status}: ${R.statusText}`,R);}).then(R=>{switch(L){case "arraybuffer":return R.arrayBuffer();case "blob":return R.blob();case "document":return R.text().then(ja=>(new DOMParser).parseFromString(ja,I));case "json":return R.json();default:if(void 0===I)return R.text();var V=/charset="?([^;"\s]*)"?/i.exec(I);V=V&&V[1]?V[1].toLowerCase():void 0;const Y=new TextDecoder(V);return R.arrayBuffer().then(ja=>Y.decode(ja))}}).then(R=>
{ni.add(a,R);const V=Ch[a];delete Ch[a];for(let Y=0,ja=V.length;Y<ja;Y++){const ka=V[Y];if(ka.onLoad)ka.onLoad(R)}}).catch(R=>{const V=Ch[a];if(void 0===V)throw this.manager.itemError(a),R;delete Ch[a];for(let Y=0,ja=V.length;Y<ja;Y++){const ka=V[Y];if(ka.onError)ka.onError(R)}this.manager.itemError(a)}).finally(()=>{this.manager.itemEnd(a)});this.manager.itemStart(a)}}setResponseType(a){this.responseType=a;return this}setMimeType(a){this.mimeType=a;return this}}class Nl extends xg{constructor(a){super(a)}load(a,
e,n,v){const z=this,I=new Dh(this.manager);I.setPath(this.path);I.setRequestHeader(this.requestHeader);I.setWithCredentials(this.withCredentials);I.load(a,function(L){try{e(z.parse(JSON.parse(L)))}catch(R){v?v(R):console.error(R),z.manager.itemError(a)}},n,v)}parse(a){const e=[];for(let n=0;n<a.length;n++){const v=qj.parse(a[n]);e.push(v)}return e}}class Ol extends xg{constructor(a){super(a)}load(a,e,n,v){function z(ja){V.load(a[ja],function(ka){ka=I.parse(ka,!0);L[ja]={width:ka.width,height:ka.height,
format:ka.format,mipmaps:ka.mipmaps};Y+=1;6===Y&&(1===ka.mipmapCount&&(R.minFilter=1006),R.image=L,R.format=ka.format,R.needsUpdate=!0,e&&e(R))},n,v)}const I=this,L=[],R=new wg,V=new Dh(this.manager);V.setPath(this.path);V.setResponseType("arraybuffer");V.setRequestHeader(this.requestHeader);V.setWithCredentials(I.withCredentials);let Y=0;if(Array.isArray(a))for(let ja=0,ka=a.length;ja<ka;++ja)z(ja);else V.load(a,function(ja){ja=I.parse(ja,!0);if(ja.isCubemap){const ka=ja.mipmaps.length/ja.mipmapCount;
for(let qa=0;qa<ka;qa++){L[qa]={mipmaps:[]};for(let Ga=0;Ga<ja.mipmapCount;Ga++)L[qa].mipmaps.push(ja.mipmaps[qa*ja.mipmapCount+Ga]),L[qa].format=ja.format,L[qa].width=ja.width,L[qa].height=ja.height}R.image=L}else R.image.width=ja.width,R.image.height=ja.height,R.mipmaps=ja.mipmaps;1===ja.mipmapCount&&(R.minFilter=1006);R.format=ja.format;R.needsUpdate=!0;e&&e(R)},n,v);return R}}class rj extends xg{constructor(a){super(a)}load(a,e,n,v){function z(){L();ni.add(a,this);e&&e(this);R.manager.itemEnd(a)}
function I(ja){L();v&&v(ja);R.manager.itemError(a);R.manager.itemEnd(a)}function L(){Y.removeEventListener("load",z,!1);Y.removeEventListener("error",I,!1)}void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const R=this,V=ni.get(a);if(void 0!==V)return R.manager.itemStart(a),setTimeout(function(){e&&e(V);R.manager.itemEnd(a)},0),V;const Y=A("img");Y.addEventListener("load",z,!1);Y.addEventListener("error",I,!1);"data:"!==a.slice(0,5)&&void 0!==this.crossOrigin&&(Y.crossOrigin=this.crossOrigin);
R.manager.itemStart(a);Y.src=a;return Y}}class Pl extends xg{constructor(a){super(a)}load(a,e,n,v){function z(V){L.load(a[V],function(Y){I.images[V]=Y;R++;6===R&&(I.needsUpdate=!0,e&&e(I))},void 0,v)}const I=new uh,L=new rj(this.manager);L.setCrossOrigin(this.crossOrigin);L.setPath(this.path);let R=0;for(n=0;n<a.length;++n)z(n);return I}}class Ql extends xg{constructor(a){super(a)}load(a,e,n,v){const z=this,I=new Rg,L=new Dh(this.manager);L.setResponseType("arraybuffer");L.setRequestHeader(this.requestHeader);
L.setPath(this.path);L.setWithCredentials(z.withCredentials);L.load(a,function(R){if(R=z.parse(R))void 0!==R.image?I.image=R.image:void 0!==R.data&&(I.image.width=R.width,I.image.height=R.height,I.image.data=R.data),I.wrapS=void 0!==R.wrapS?R.wrapS:1001,I.wrapT=void 0!==R.wrapT?R.wrapT:1001,I.magFilter=void 0!==R.magFilter?R.magFilter:1006,I.minFilter=void 0!==R.minFilter?R.minFilter:1006,I.anisotropy=void 0!==R.anisotropy?R.anisotropy:1,void 0!==R.encoding&&(I.encoding=R.encoding),void 0!==R.flipY&&
(I.flipY=R.flipY),void 0!==R.format&&(I.format=R.format),void 0!==R.type&&(I.type=R.type),void 0!==R.mipmaps&&(I.mipmaps=R.mipmaps,I.minFilter=1008),1===R.mipmapCount&&(I.minFilter=1006),void 0!==R.generateMipmaps&&(I.generateMipmaps=R.generateMipmaps),I.needsUpdate=!0,e&&e(I,R)},n,v);return I}}class Rl extends xg{constructor(a){super(a)}load(a,e,n,v){const z=new kf,I=new rj(this.manager);I.setCrossOrigin(this.crossOrigin);I.setPath(this.path);I.load(a,function(L){z.image=L;z.needsUpdate=!0;void 0!==
e&&e(z)},n,v);return z}}class Uh extends Cb{constructor(a,e=1){super();this.isLight=!0;this.type="Light";this.color=new rd(a);this.intensity=e}dispose(){}copy(a,e){super.copy(a,e);this.color.copy(a.color);this.intensity=a.intensity;return this}toJSON(a){a=super.toJSON(a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=
this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}}class cl extends Uh{constructor(a,e,n){super(a,n);this.isHemisphereLight=!0;this.type="HemisphereLight";this.position.copy(Cb.DEFAULT_UP);this.updateMatrix();this.groundColor=new rd(e)}copy(a,e){super.copy(a,e);this.groundColor.copy(a.groundColor);return this}}const Ck=new fe,dl=new jb,el=new jb;class Dk{constructor(a){this.camera=
a;this.normalBias=this.bias=0;this.radius=1;this.blurSamples=8;this.mapSize=new Cc(512,512);this.mapPass=this.map=null;this.matrix=new fe;this.autoUpdate=!0;this.needsUpdate=!1;this._frustum=new mg;this._frameExtents=new Cc(1,1);this._viewportCount=1;this._viewports=[new Be(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const e=this.camera,n=this.matrix;dl.setFromMatrixPosition(a.matrixWorld);e.position.copy(dl);el.setFromMatrixPosition(a.target.matrixWorld);
e.lookAt(el);e.updateMatrixWorld();Ck.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);this._frustum.setFromProjectionMatrix(Ck);n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);n.multiply(Ck)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose();this.mapPass&&this.mapPass.dispose()}copy(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this}clone(){return(new this.constructor).copy(this)}toJSON(){const a=
{};0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}}class Sl extends Dk{constructor(){super(new uc(50,1,.5,500));this.isSpotLightShadow=!0;this.focus=1}updateMatrices(a){const e=this.camera,n=2*Jd*a.angle*this.focus,v=this.mapSize.width/this.mapSize.height,z=a.distance||e.far;
if(n!==e.fov||v!==e.aspect||z!==e.far)e.fov=n,e.aspect=v,e.far=z,e.updateProjectionMatrix();super.updateMatrices(a)}copy(a){super.copy(a);this.focus=a.focus;return this}}class fl extends Uh{constructor(a,e,n=0,v=Math.PI/3,z=0,I=2){super(a,e);this.isSpotLight=!0;this.type="SpotLight";this.position.copy(Cb.DEFAULT_UP);this.updateMatrix();this.target=new Cb;this.distance=n;this.angle=v;this.penumbra=z;this.decay=I;this.map=null;this.shadow=new Sl}get power(){return this.intensity*Math.PI}set power(a){this.intensity=
a/Math.PI}dispose(){this.shadow.dispose()}copy(a,e){super.copy(a,e);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}const gl=new fe,sj=new jb,Ek=new jb;class Tl extends Dk{constructor(){super(new uc(90,1,.5,500));this.isPointLightShadow=!0;this._frameExtents=new Cc(4,2);this._viewportCount=6;this._viewports=[new Be(2,1,1,1),new Be(0,1,1,1),new Be(3,1,1,1),new Be(1,1,1,1),new Be(3,0,1,1),
new Be(1,0,1,1)];this._cubeDirections=[new jb(1,0,0),new jb(-1,0,0),new jb(0,0,1),new jb(0,0,-1),new jb(0,1,0),new jb(0,-1,0)];this._cubeUps=[new jb(0,1,0),new jb(0,1,0),new jb(0,1,0),new jb(0,1,0),new jb(0,0,1),new jb(0,0,-1)]}updateMatrices(a,e=0){const n=this.camera,v=this.matrix,z=a.distance||n.far;z!==n.far&&(n.far=z,n.updateProjectionMatrix());sj.setFromMatrixPosition(a.matrixWorld);n.position.copy(sj);Ek.copy(n.position);Ek.add(this._cubeDirections[e]);n.up.copy(this._cubeUps[e]);n.lookAt(Ek);
n.updateMatrixWorld();v.makeTranslation(-sj.x,-sj.y,-sj.z);gl.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse);this._frustum.setFromProjectionMatrix(gl)}}class hl extends Uh{constructor(a,e,n=0,v=2){super(a,e);this.isPointLight=!0;this.type="PointLight";this.distance=n;this.decay=v;this.shadow=new Tl}get power(){return 4*this.intensity*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,e){super.copy(a,e);this.distance=a.distance;this.decay=a.decay;this.shadow=
a.shadow.clone();return this}}class Ul extends Dk{constructor(){super(new Di(-5,5,5,-5,.5,500));this.isDirectionalLightShadow=!0}}class il extends Uh{constructor(a,e){super(a,e);this.isDirectionalLight=!0;this.type="DirectionalLight";this.position.copy(Cb.DEFAULT_UP);this.updateMatrix();this.target=new Cb;this.shadow=new Ul}dispose(){this.shadow.dispose()}copy(a){super.copy(a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}class jl extends Uh{constructor(a,e){super(a,e);this.isAmbientLight=
!0;this.type="AmbientLight"}}class kl extends Uh{constructor(a,e,n=10,v=10){super(a,e);this.isRectAreaLight=!0;this.type="RectAreaLight";this.width=n;this.height=v}get power(){return this.intensity*this.width*this.height*Math.PI}set power(a){this.intensity=a/(this.width*this.height*Math.PI)}copy(a){super.copy(a);this.width=a.width;this.height=a.height;return this}toJSON(a){a=super.toJSON(a);a.object.width=this.width;a.object.height=this.height;return a}}class ll{constructor(){this.isSphericalHarmonics3=
!0;this.coefficients=[];for(let a=0;9>a;a++)this.coefficients.push(new jb)}set(a){for(let e=0;9>e;e++)this.coefficients[e].copy(a[e]);return this}zero(){for(let a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,e){const n=a.x,v=a.y;a=a.z;const z=this.coefficients;e.copy(z[0]).multiplyScalar(.282095);e.addScaledVector(z[1],.488603*v);e.addScaledVector(z[2],.488603*a);e.addScaledVector(z[3],.488603*n);e.addScaledVector(z[4],1.092548*n*v);e.addScaledVector(z[5],1.092548*v*a);e.addScaledVector(z[6],
.315392*(3*a*a-1));e.addScaledVector(z[7],1.092548*n*a);e.addScaledVector(z[8],.546274*(n*n-v*v));return e}getIrradianceAt(a,e){const n=a.x,v=a.y;a=a.z;const z=this.coefficients;e.copy(z[0]).multiplyScalar(.886227);e.addScaledVector(z[1],1.023328*v);e.addScaledVector(z[2],1.023328*a);e.addScaledVector(z[3],1.023328*n);e.addScaledVector(z[4],.858086*n*v);e.addScaledVector(z[5],.858086*v*a);e.addScaledVector(z[6],.743125*a*a-.247708);e.addScaledVector(z[7],.858086*n*a);e.addScaledVector(z[8],.429043*
(n*n-v*v));return e}add(a){for(let e=0;9>e;e++)this.coefficients[e].add(a.coefficients[e]);return this}addScaledSH(a,e){for(let n=0;9>n;n++)this.coefficients[n].addScaledVector(a.coefficients[n],e);return this}scale(a){for(let e=0;9>e;e++)this.coefficients[e].multiplyScalar(a);return this}lerp(a,e){for(let n=0;9>n;n++)this.coefficients[n].lerp(a.coefficients[n],e);return this}equals(a){for(let e=0;9>e;e++)if(!this.coefficients[e].equals(a.coefficients[e]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(a,
e=0){const n=this.coefficients;for(let v=0;9>v;v++)n[v].fromArray(a,e+3*v);return this}toArray(a=[],e=0){const n=this.coefficients;for(let v=0;9>v;v++)n[v].toArray(a,e+3*v);return a}static getBasisAt(a,e){const n=a.x,v=a.y;a=a.z;e[0]=.282095;e[1]=.488603*v;e[2]=.488603*a;e[3]=.488603*n;e[4]=1.092548*n*v;e[5]=1.092548*v*a;e[6]=.315392*(3*a*a-1);e[7]=1.092548*n*a;e[8]=.546274*(n*n-v*v)}}class ck extends Uh{constructor(a=new ll,e=1){super(void 0,e);this.isLightProbe=!0;this.sh=a}copy(a){super.copy(a);
this.sh.copy(a.sh);return this}fromJSON(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this}toJSON(a){a=super.toJSON(a);a.object.sh=this.sh.toArray();return a}}class Fk extends xg{constructor(a){super(a);this.textures={}}load(a,e,n,v){const z=this,I=new Dh(z.manager);I.setPath(z.path);I.setRequestHeader(z.requestHeader);I.setWithCredentials(z.withCredentials);I.load(a,function(L){try{e(z.parse(JSON.parse(L)))}catch(R){v?v(R):console.error(R),z.manager.itemError(a)}},n,v)}parse(a){function e(I){void 0===
n[I]&&console.warn("THREE.MaterialLoader: Undefined texture",I);return n[I]}const n=this.textures,v=Fk.createMaterialFromType(a.type);void 0!==a.uuid&&(v.uuid=a.uuid);void 0!==a.name&&(v.name=a.name);void 0!==a.color&&void 0!==v.color&&v.color.setHex(a.color);void 0!==a.roughness&&(v.roughness=a.roughness);void 0!==a.metalness&&(v.metalness=a.metalness);void 0!==a.sheen&&(v.sheen=a.sheen);void 0!==a.sheenColor&&(v.sheenColor=(new rd).setHex(a.sheenColor));void 0!==a.sheenRoughness&&(v.sheenRoughness=
a.sheenRoughness);void 0!==a.emissive&&void 0!==v.emissive&&v.emissive.setHex(a.emissive);void 0!==a.specular&&void 0!==v.specular&&v.specular.setHex(a.specular);void 0!==a.specularIntensity&&(v.specularIntensity=a.specularIntensity);void 0!==a.specularColor&&void 0!==v.specularColor&&v.specularColor.setHex(a.specularColor);void 0!==a.shininess&&(v.shininess=a.shininess);void 0!==a.clearcoat&&(v.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(v.clearcoatRoughness=a.clearcoatRoughness);void 0!==
a.iridescence&&(v.iridescence=a.iridescence);void 0!==a.iridescenceIOR&&(v.iridescenceIOR=a.iridescenceIOR);void 0!==a.iridescenceThicknessRange&&(v.iridescenceThicknessRange=a.iridescenceThicknessRange);void 0!==a.transmission&&(v.transmission=a.transmission);void 0!==a.thickness&&(v.thickness=a.thickness);void 0!==a.attenuationDistance&&(v.attenuationDistance=a.attenuationDistance);void 0!==a.attenuationColor&&void 0!==v.attenuationColor&&v.attenuationColor.setHex(a.attenuationColor);void 0!==a.fog&&
(v.fog=a.fog);void 0!==a.flatShading&&(v.flatShading=a.flatShading);void 0!==a.blending&&(v.blending=a.blending);void 0!==a.combine&&(v.combine=a.combine);void 0!==a.side&&(v.side=a.side);void 0!==a.shadowSide&&(v.shadowSide=a.shadowSide);void 0!==a.opacity&&(v.opacity=a.opacity);void 0!==a.transparent&&(v.transparent=a.transparent);void 0!==a.alphaTest&&(v.alphaTest=a.alphaTest);void 0!==a.depthTest&&(v.depthTest=a.depthTest);void 0!==a.depthWrite&&(v.depthWrite=a.depthWrite);void 0!==a.colorWrite&&
(v.colorWrite=a.colorWrite);void 0!==a.stencilWrite&&(v.stencilWrite=a.stencilWrite);void 0!==a.stencilWriteMask&&(v.stencilWriteMask=a.stencilWriteMask);void 0!==a.stencilFunc&&(v.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(v.stencilRef=a.stencilRef);void 0!==a.stencilFuncMask&&(v.stencilFuncMask=a.stencilFuncMask);void 0!==a.stencilFail&&(v.stencilFail=a.stencilFail);void 0!==a.stencilZFail&&(v.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(v.stencilZPass=a.stencilZPass);void 0!==
a.wireframe&&(v.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(v.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(v.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(v.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(v.rotation=a.rotation);1!==a.linewidth&&(v.linewidth=a.linewidth);void 0!==a.dashSize&&(v.dashSize=a.dashSize);void 0!==a.gapSize&&(v.gapSize=a.gapSize);void 0!==a.scale&&(v.scale=a.scale);void 0!==a.polygonOffset&&(v.polygonOffset=
a.polygonOffset);void 0!==a.polygonOffsetFactor&&(v.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(v.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.dithering&&(v.dithering=a.dithering);void 0!==a.alphaToCoverage&&(v.alphaToCoverage=a.alphaToCoverage);void 0!==a.premultipliedAlpha&&(v.premultipliedAlpha=a.premultipliedAlpha);void 0!==a.forceSinglePass&&(v.forceSinglePass=a.forceSinglePass);void 0!==a.visible&&(v.visible=a.visible);void 0!==a.toneMapped&&(v.toneMapped=
a.toneMapped);void 0!==a.userData&&(v.userData=a.userData);void 0!==a.vertexColors&&(v.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);if(void 0!==a.uniforms)for(var z in a.uniforms){const I=a.uniforms[z];v.uniforms[z]={};switch(I.type){case "t":v.uniforms[z].value=e(I.value);break;case "c":v.uniforms[z].value=(new rd).setHex(I.value);break;case "v2":v.uniforms[z].value=(new Cc).fromArray(I.value);break;case "v3":v.uniforms[z].value=(new jb).fromArray(I.value);
break;case "v4":v.uniforms[z].value=(new Be).fromArray(I.value);break;case "m3":v.uniforms[z].value=(new ef).fromArray(I.value);break;case "m4":v.uniforms[z].value=(new fe).fromArray(I.value);break;default:v.uniforms[z].value=I.value}}void 0!==a.defines&&(v.defines=a.defines);void 0!==a.vertexShader&&(v.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(v.fragmentShader=a.fragmentShader);void 0!==a.glslVersion&&(v.glslVersion=a.glslVersion);if(void 0!==a.extensions)for(const I in a.extensions)v.extensions[I]=
a.extensions[I];void 0!==a.size&&(v.size=a.size);void 0!==a.sizeAttenuation&&(v.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(v.map=e(a.map));void 0!==a.matcap&&(v.matcap=e(a.matcap));void 0!==a.alphaMap&&(v.alphaMap=e(a.alphaMap));void 0!==a.bumpMap&&(v.bumpMap=e(a.bumpMap));void 0!==a.bumpScale&&(v.bumpScale=a.bumpScale);void 0!==a.normalMap&&(v.normalMap=e(a.normalMap));void 0!==a.normalMapType&&(v.normalMapType=a.normalMapType);void 0!==a.normalScale&&(z=a.normalScale,!1===Array.isArray(z)&&
(z=[z,z]),v.normalScale=(new Cc).fromArray(z));void 0!==a.displacementMap&&(v.displacementMap=e(a.displacementMap));void 0!==a.displacementScale&&(v.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(v.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(v.roughnessMap=e(a.roughnessMap));void 0!==a.metalnessMap&&(v.metalnessMap=e(a.metalnessMap));void 0!==a.emissiveMap&&(v.emissiveMap=e(a.emissiveMap));void 0!==a.emissiveIntensity&&(v.emissiveIntensity=a.emissiveIntensity);
void 0!==a.specularMap&&(v.specularMap=e(a.specularMap));void 0!==a.specularIntensityMap&&(v.specularIntensityMap=e(a.specularIntensityMap));void 0!==a.specularColorMap&&(v.specularColorMap=e(a.specularColorMap));void 0!==a.envMap&&(v.envMap=e(a.envMap));void 0!==a.envMapIntensity&&(v.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(v.reflectivity=a.reflectivity);void 0!==a.refractionRatio&&(v.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(v.lightMap=e(a.lightMap));void 0!==
a.lightMapIntensity&&(v.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(v.aoMap=e(a.aoMap));void 0!==a.aoMapIntensity&&(v.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(v.gradientMap=e(a.gradientMap));void 0!==a.clearcoatMap&&(v.clearcoatMap=e(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap=e(a.clearcoatRoughnessMap));void 0!==a.clearcoatNormalMap&&(v.clearcoatNormalMap=e(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(v.clearcoatNormalScale=
(new Cc).fromArray(a.clearcoatNormalScale));void 0!==a.iridescenceMap&&(v.iridescenceMap=e(a.iridescenceMap));void 0!==a.iridescenceThicknessMap&&(v.iridescenceThicknessMap=e(a.iridescenceThicknessMap));void 0!==a.transmissionMap&&(v.transmissionMap=e(a.transmissionMap));void 0!==a.thicknessMap&&(v.thicknessMap=e(a.thicknessMap));void 0!==a.sheenColorMap&&(v.sheenColorMap=e(a.sheenColorMap));void 0!==a.sheenRoughnessMap&&(v.sheenRoughnessMap=e(a.sheenRoughnessMap));return v}setTextures(a){this.textures=
a;return this}static createMaterialFromType(a){return new {ShadowMaterial:Qk,SpriteMaterial:hj,RawShaderMaterial:Rk,ShaderMaterial:eg,PointsMaterial:gd,MeshPhysicalMaterial:Sk,MeshStandardMaterial:zk,MeshPhongMaterial:Tk,MeshToonMaterial:Uk,MeshNormalMaterial:Vk,MeshLambertMaterial:Wk,MeshDepthMaterial:Zh,MeshDistanceMaterial:Gh,MeshBasicMaterial:be,MeshMatcapMaterial:Xk,LineDashedMaterial:Yk,LineBasicMaterial:xa,Material:Ue}[a]}}class Gk{static decodeText(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);
let e="";for(let n=0,v=a.length;n<v;n++)e+=String.fromCharCode(a[n]);try{return decodeURIComponent(escape(e))}catch(n){return e}}static extractUrlBase(a){const e=a.lastIndexOf("/");return-1===e?"./":a.slice(0,e+1)}static resolveURL(a,e){if("string"!==typeof a||""===a)return"";/^https?:\/\//i.test(e)&&/^\//.test(a)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1"));return/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?a:e+a}}class ml extends ue{constructor(){super();this.isInstancedBufferGeometry=
!0;this.type="InstancedBufferGeometry";this.instanceCount=Infinity}copy(a){super.copy(a);this.instanceCount=a.instanceCount;return this}toJSON(){const a=super.toJSON();a.instanceCount=this.instanceCount;a.isInstancedBufferGeometry=!0;return a}}class nl extends xg{constructor(a){super(a)}load(a,e,n,v){const z=this,I=new Dh(z.manager);I.setPath(z.path);I.setRequestHeader(z.requestHeader);I.setWithCredentials(z.withCredentials);I.load(a,function(L){try{e(z.parse(JSON.parse(L)))}catch(R){v?v(R):console.error(R),
z.manager.itemError(a)}},n,v)}parse(a){function e(ka,qa){if(void 0!==n[qa])return n[qa];const Ga=ka.interleavedBuffers[qa];var Fa=Ga.buffer;void 0!==v[Fa]?Fa=v[Fa]:(ka=(new Uint32Array(ka.arrayBuffers[Fa])).buffer,Fa=v[Fa]=ka);Fa=new sf[Ga.type](Fa);Fa=new Qh(Fa,Ga.stride);Fa.uuid=Ga.uuid;return n[qa]=Fa}const n={},v={},z=a.isInstancedBufferGeometry?new ml:new ue;var I=a.data.index;void 0!==I&&(I=new sf[I.type](I.array),z.setIndex(new Re(I,1)));I=a.data.attributes;for(var L in I){var R=I[L],V=void 0;
R.isInterleavedBufferAttribute?(V=e(a.data,R.data),V=new Ge(V,R.itemSize,R.offset,R.normalized)):(V=new sf[R.type](R.array),V=new (R.isInstancedBufferAttribute?q:Re)(V,R.itemSize,R.normalized));void 0!==R.name&&(V.name=R.name);void 0!==R.usage&&V.setUsage(R.usage);void 0!==R.updateRange&&(V.updateRange.offset=R.updateRange.offset,V.updateRange.count=R.updateRange.count);z.setAttribute(L,V)}if(L=a.data.morphAttributes)for(var Y in L){I=L[Y];R=[];for(let ka=0,qa=I.length;ka<qa;ka++){V=I[ka];var ja=
void 0;V.isInterleavedBufferAttribute?(ja=e(a.data,V.data),ja=new Ge(ja,V.itemSize,V.offset,V.normalized)):(ja=new sf[V.type](V.array),ja=new Re(ja,V.itemSize,V.normalized));void 0!==V.name&&(ja.name=V.name);R.push(ja)}z.morphAttributes[Y]=R}a.data.morphTargetsRelative&&(z.morphTargetsRelative=!0);Y=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==Y)for(let ka=0,qa=Y.length;ka!==qa;++ka)L=Y[ka],z.addGroup(L.start,L.count,L.materialIndex);Y=a.data.boundingSphere;void 0!==Y&&(L=new jb,void 0!==
Y.center&&L.fromArray(Y.center),z.boundingSphere=new tg(L,Y.radius));a.name&&(z.name=a.name);a.userData&&(z.userData=a.userData);return z}}class Vl extends xg{constructor(a){super(a)}load(a,e,n,v){const z=this;var I=""===this.path?Gk.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||I;I=new Dh(this.manager);I.setPath(this.path);I.setRequestHeader(this.requestHeader);I.setWithCredentials(this.withCredentials);I.load(a,function(L){let R=null;try{R=JSON.parse(L)}catch(V){void 0!==v&&v(V);
console.error("THREE:ObjectLoader: Can't parse "+a+".",V.message);return}L=R.metadata;void 0===L||void 0===L.type||"geometry"===L.type.toLowerCase()?(void 0!==v&&v(Error("THREE.ObjectLoader: Can't load "+a)),console.error("THREE.ObjectLoader: Can't load "+a)):z.parse(R,e)},n,v)}async loadAsync(a,e){var n=""===this.path?Gk.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||n;n=new Dh(this.manager);n.setPath(this.path);n.setRequestHeader(this.requestHeader);n.setWithCredentials(this.withCredentials);
e=await n.loadAsync(a,e);e=JSON.parse(e);n=e.metadata;if(void 0===n||void 0===n.type||"geometry"===n.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+a);return await this.parseAsync(e)}parse(a,e){const n=this.parseAnimations(a.animations);var v=this.parseShapes(a.shapes);const z=this.parseGeometries(a.geometries,v);v=this.parseImages(a.images,function(){void 0!==e&&e(R)});const I=this.parseTextures(a.textures,v),L=this.parseMaterials(a.materials,I),R=this.parseObject(a.object,z,L,
I,n);a=this.parseSkeletons(a.skeletons,R);this.bindSkeletons(R,a);if(void 0!==e){a=!1;for(const V in v)if(v[V].data instanceof HTMLImageElement){a=!0;break}!1===a&&e(R)}return R}async parseAsync(a){var e=this.parseAnimations(a.animations),n=this.parseShapes(a.shapes);n=this.parseGeometries(a.geometries,n);var v=await this.parseImagesAsync(a.images);v=this.parseTextures(a.textures,v);const z=this.parseMaterials(a.materials,v);e=this.parseObject(a.object,n,z,v,e);a=this.parseSkeletons(a.skeletons,e);
this.bindSkeletons(e,a);return e}parseShapes(a){const e={};if(void 0!==a)for(let n=0,v=a.length;n<v;n++){const z=(new mi).fromJSON(a[n]);e[z.uuid]=z}return e}parseSkeletons(a,e){const n={},v={};e.traverse(function(z){z.isBone&&(v[z.uuid]=z)});if(void 0!==a)for(let z=0,I=a.length;z<I;z++)e=(new f).fromJSON(a[z],v),n[e.uuid]=e;return n}parseGeometries(a,e){const n={};if(void 0!==a){const v=new nl;for(let z=0,I=a.length;z<I;z++){let L;const R=a[z];switch(R.type){case "BufferGeometry":case "InstancedBufferGeometry":L=
v.parse(R);break;default:R.type in Pk?L=Pk[R.type].fromJSON(R,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${R.type}"`)}L.uuid=R.uuid;void 0!==R.name&&(L.name=R.name);void 0!==R.userData&&(L.userData=R.userData);n[R.uuid]=L}}return n}parseMaterials(a,e){const n={},v={};if(void 0!==a){const z=new Fk;z.setTextures(e);for(let I=0,L=a.length;I<L;I++)e=a[I],void 0===n[e.uuid]&&(n[e.uuid]=z.parse(e)),v[e.uuid]=n[e.uuid]}return v}parseAnimations(a){const e={};if(void 0!==a)for(let n=0;n<
a.length;n++){const v=qj.parse(a[n]);e[v.uuid]=v}return e}parseImages(a,e){function n(V){z.manager.itemStart(V);return L.load(V,function(){z.manager.itemEnd(V)},void 0,function(){z.manager.itemError(V);z.manager.itemEnd(V)})}function v(V){return"string"===typeof V?(V=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(V)?V:z.resourcePath+V,n(V)):V.data?{data:new sf[V.type](V.data),width:V.width,height:V.height}:null}const z=this,I={};let L;if(void 0!==a&&0<a.length){e=new Bk(e);L=new rj(e);L.setCrossOrigin(this.crossOrigin);
for(let V=0,Y=a.length;V<Y;V++){e=a[V];var R=e.url;if(Array.isArray(R)){const ja=[];for(let ka=0,qa=R.length;ka<qa;ka++){const Ga=v(R[ka]);null!==Ga&&(Ga instanceof HTMLImageElement?ja.push(Ga):ja.push(new Rg(Ga.data,Ga.width,Ga.height)))}I[e.uuid]=new Tf(ja)}else R=v(e.url),I[e.uuid]=new Tf(R)}}return I}async parseImagesAsync(a){async function e(L){return"string"===typeof L?(L=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(L)?L:n.resourcePath+L,await z.loadAsync(L)):L.data?{data:new sf[L.type](L.data),width:L.width,
height:L.height}:null}const n=this,v={};let z;if(void 0!==a&&0<a.length){z=new rj(this.manager);z.setCrossOrigin(this.crossOrigin);for(let L=0,R=a.length;L<R;L++){const V=a[L];var I=V.url;if(Array.isArray(I)){const Y=[];for(let ja=0,ka=I.length;ja<ka;ja++){const qa=await e(I[ja]);null!==qa&&(qa instanceof HTMLImageElement?Y.push(qa):Y.push(new Rg(qa.data,qa.width,qa.height)))}v[V.uuid]=new Tf(Y)}else I=await e(V.url),v[V.uuid]=new Tf(I)}}return v}parseTextures(a,e){function n(z,I){if("number"===typeof z)return z;
console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",z);return I[z]}const v={};if(void 0!==a)for(let z=0,I=a.length;z<I;z++){const L=a[z];void 0===L.image&&console.warn('THREE.ObjectLoader: No "image" specified for',L.uuid);void 0===e[L.image]&&console.warn("THREE.ObjectLoader: Undefined image",L.image);const R=e[L.image],V=R.data;let Y;Array.isArray(V)?(Y=new uh,6===V.length&&(Y.needsUpdate=!0)):(Y=V&&V.data?new Rg:new kf,V&&(Y.needsUpdate=!0));Y.source=R;Y.uuid=L.uuid;
void 0!==L.name&&(Y.name=L.name);void 0!==L.mapping&&(Y.mapping=n(L.mapping,Wl));void 0!==L.offset&&Y.offset.fromArray(L.offset);void 0!==L.repeat&&Y.repeat.fromArray(L.repeat);void 0!==L.center&&Y.center.fromArray(L.center);void 0!==L.rotation&&(Y.rotation=L.rotation);void 0!==L.wrap&&(Y.wrapS=n(L.wrap[0],ol),Y.wrapT=n(L.wrap[1],ol));void 0!==L.format&&(Y.format=L.format);void 0!==L.internalFormat&&(Y.internalFormat=L.internalFormat);void 0!==L.type&&(Y.type=L.type);void 0!==L.encoding&&(Y.encoding=
L.encoding);void 0!==L.minFilter&&(Y.minFilter=n(L.minFilter,pl));void 0!==L.magFilter&&(Y.magFilter=n(L.magFilter,pl));void 0!==L.anisotropy&&(Y.anisotropy=L.anisotropy);void 0!==L.flipY&&(Y.flipY=L.flipY);void 0!==L.generateMipmaps&&(Y.generateMipmaps=L.generateMipmaps);void 0!==L.premultiplyAlpha&&(Y.premultiplyAlpha=L.premultiplyAlpha);void 0!==L.unpackAlignment&&(Y.unpackAlignment=L.unpackAlignment);void 0!==L.userData&&(Y.userData=L.userData);v[L.uuid]=Y}return v}parseObject(a,e,n,v,z){function I(qa){void 0===
e[qa]&&console.warn("THREE.ObjectLoader: Undefined geometry",qa);return e[qa]}function L(qa){if(void 0!==qa){if(Array.isArray(qa)){const Ga=[];for(let Fa=0,ia=qa.length;Fa<ia;Fa++){const La=qa[Fa];void 0===n[La]&&console.warn("THREE.ObjectLoader: Undefined material",La);Ga.push(n[La])}return Ga}void 0===n[qa]&&console.warn("THREE.ObjectLoader: Undefined material",qa);return n[qa]}}function R(qa){void 0===v[qa]&&console.warn("THREE.ObjectLoader: Undefined texture",qa);return v[qa]}let V;switch(a.type){case "Scene":var Y=
new gj;void 0!==a.background&&(Number.isInteger(a.background)?Y.background=new rd(a.background):Y.background=R(a.background));void 0!==a.environment&&(Y.environment=R(a.environment));void 0!==a.fog&&("Fog"===a.fog.type?Y.fog=new Hi(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(Y.fog=new ii(a.fog.color,a.fog.density)));void 0!==a.backgroundBlurriness&&(Y.backgroundBlurriness=a.backgroundBlurriness);void 0!==a.backgroundIntensity&&(Y.backgroundIntensity=a.backgroundIntensity);break;case "PerspectiveCamera":Y=
new uc(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(Y.focus=a.focus);void 0!==a.zoom&&(Y.zoom=a.zoom);void 0!==a.filmGauge&&(Y.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(Y.filmOffset=a.filmOffset);void 0!==a.view&&(Y.view=Object.assign({},a.view));break;case "OrthographicCamera":Y=new Di(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(Y.zoom=a.zoom);void 0!==a.view&&(Y.view=Object.assign({},a.view));break;case "AmbientLight":Y=new jl(a.color,a.intensity);break;case "DirectionalLight":Y=
new il(a.color,a.intensity);break;case "PointLight":Y=new hl(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":Y=new kl(a.color,a.intensity,a.width,a.height);break;case "SpotLight":Y=new fl(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":Y=new cl(a.color,a.groundColor,a.intensity);break;case "LightProbe":Y=(new ck).fromJSON(a);break;case "SkinnedMesh":Y=I(a.geometry);V=L(a.material);Y=new Kj(Y,V);void 0!==a.bindMode&&(Y.bindMode=a.bindMode);
void 0!==a.bindMatrix&&Y.bindMatrix.fromArray(a.bindMatrix);void 0!==a.skeleton&&(Y.skeleton=a.skeleton);break;case "Mesh":Y=I(a.geometry);V=L(a.material);Y=new vf(Y,V);break;case "InstancedMesh":Y=I(a.geometry);V=L(a.material);var ja=a.instanceMatrix,ka=a.instanceColor;Y=new fa(Y,V,a.count);Y.instanceMatrix=new q(new Float32Array(ja.array),16);void 0!==ka&&(Y.instanceColor=new q(new Float32Array(ka.array),ka.itemSize));break;case "LOD":Y=new Wf;break;case "Line":Y=new Mb(I(a.geometry),L(a.material));
break;case "LineLoop":Y=new kd(I(a.geometry),L(a.material));break;case "LineSegments":Y=new hc(I(a.geometry),L(a.material));break;case "PointCloud":case "Points":Y=new cg(I(a.geometry),L(a.material));break;case "Sprite":Y=new ij(L(a.material));break;case "Group":Y=new Dg;break;case "Bone":Y=new jj;break;default:Y=new Cb}Y.uuid=a.uuid;void 0!==a.name&&(Y.name=a.name);void 0!==a.matrix?(Y.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(Y.matrixAutoUpdate=a.matrixAutoUpdate),Y.matrixAutoUpdate&&
Y.matrix.decompose(Y.position,Y.quaternion,Y.scale)):(void 0!==a.position&&Y.position.fromArray(a.position),void 0!==a.rotation&&Y.rotation.fromArray(a.rotation),void 0!==a.quaternion&&Y.quaternion.fromArray(a.quaternion),void 0!==a.scale&&Y.scale.fromArray(a.scale));void 0!==a.castShadow&&(Y.castShadow=a.castShadow);void 0!==a.receiveShadow&&(Y.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(Y.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(Y.shadow.normalBias=a.shadow.normalBias),
void 0!==a.shadow.radius&&(Y.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&Y.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(Y.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(Y.visible=a.visible);void 0!==a.frustumCulled&&(Y.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&(Y.renderOrder=a.renderOrder);void 0!==a.userData&&(Y.userData=a.userData);void 0!==a.layers&&(Y.layers.mask=a.layers);if(void 0!==a.children)for(ja=a.children,ka=0;ka<
ja.length;ka++)Y.add(this.parseObject(ja[ka],e,n,v,z));if(void 0!==a.animations)for(ja=a.animations,ka=0;ka<ja.length;ka++)Y.animations.push(z[ja[ka]]);if("LOD"===a.type)for(void 0!==a.autoUpdate&&(Y.autoUpdate=a.autoUpdate),a=a.levels,z=0;z<a.length;z++)ja=a[z],ka=Y.getObjectByProperty("uuid",ja.object),void 0!==ka&&Y.addLevel(ka,ja.distance,ja.hysteresis);return Y}bindSkeletons(a,e){0!==Object.keys(e).length&&a.traverse(function(n){if(!0===n.isSkinnedMesh&&void 0!==n.skeleton){const v=e[n.skeleton];
void 0===v?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(v,n.bindMatrix)}})}}const Wl={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},ol={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},pl={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,
LinearMipmapLinearFilter:1008};class Xl extends xg{constructor(a){super(a);this.isImageBitmapLoader=!0;"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.options={premultiplyAlpha:"none"}}setOptions(a){this.options=a;return this}load(a,e,n,v){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const z=this,
I=ni.get(a);if(void 0!==I)return z.manager.itemStart(a),setTimeout(function(){e&&e(I);z.manager.itemEnd(a)},0),I;n={};n.credentials="anonymous"===this.crossOrigin?"same-origin":"include";n.headers=this.requestHeader;fetch(a,n).then(function(L){return L.blob()}).then(function(L){return createImageBitmap(L,Object.assign(z.options,{colorSpaceConversion:"none"}))}).then(function(L){ni.add(a,L);e&&e(L);z.manager.itemEnd(a)}).catch(function(L){v&&v(L);z.manager.itemError(a);z.manager.itemEnd(a)});z.manager.itemStart(a)}}
let dk;class Hk{static getContext(){void 0===dk&&(dk=new (window.AudioContext||window.webkitAudioContext));return dk}static setContext(a){dk=a}}class Yl extends xg{constructor(a){super(a)}load(a,e,n,v){const z=this,I=new Dh(this.manager);I.setResponseType("arraybuffer");I.setPath(this.path);I.setRequestHeader(this.requestHeader);I.setWithCredentials(this.withCredentials);I.load(a,function(L){try{const R=L.slice(0);Hk.getContext().decodeAudioData(R,function(V){e(V)})}catch(R){v?v(R):console.error(R),
z.manager.itemError(a)}},n,v)}}class Zl extends ck{constructor(a,e,n=1){super(void 0,n);this.isHemisphereLightProbe=!0;a=(new rd).set(a);n=(new rd).set(e);e=new jb(a.r,a.g,a.b);a=new jb(n.r,n.g,n.b);n=Math.sqrt(Math.PI);const v=n*Math.sqrt(.75);this.sh.coefficients[0].copy(e).add(a).multiplyScalar(n);this.sh.coefficients[1].copy(e).sub(a).multiplyScalar(v)}}class $l extends ck{constructor(a,e=1){super(void 0,e);this.isAmbientLightProbe=!0;a=(new rd).set(a);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*
Math.sqrt(Math.PI))}}const ql=new fe,rl=new fe,oi=new fe;class am{constructor(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new uc;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new uc;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(a){const e=this._cache;if(e.focus!==a.focus||e.fov!==a.fov||e.aspect!==a.aspect*this.aspect||e.near!==a.near||
e.far!==a.far||e.zoom!==a.zoom||e.eyeSep!==this.eyeSep){e.focus=a.focus;e.fov=a.fov;e.aspect=a.aspect*this.aspect;e.near=a.near;e.far=a.far;e.zoom=a.zoom;e.eyeSep=this.eyeSep;oi.copy(a.projectionMatrix);var n=e.eyeSep/2;const v=n*e.near/e.focus,z=e.near*Math.tan(Zd*e.fov*.5)/e.zoom;let I;rl.elements[12]=-n;ql.elements[12]=n;n=-z*e.aspect+v;I=z*e.aspect+v;oi.elements[0]=2*e.near/(I-n);oi.elements[8]=(I+n)/(I-n);this.cameraL.projectionMatrix.copy(oi);n=-z*e.aspect-v;I=z*e.aspect-v;oi.elements[0]=2*
e.near/(I-n);oi.elements[8]=(I+n)/(I-n);this.cameraR.projectionMatrix.copy(oi)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(rl);this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(ql)}}class sl{constructor(a=!0){this.autoStart=a;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}start(){this.oldTime=this.startTime=sd();this.elapsedTime=0;this.running=!0}stop(){this.getElapsedTime();this.autoStart=this.running=!1}getElapsedTime(){this.getDelta();return this.elapsedTime}getDelta(){let a=
0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=sd();a=(e-this.oldTime)/1E3;this.oldTime=e;this.elapsedTime+=a}return a}}const pi=new jb,tl=new pf,bm=new jb,qi=new jb;class cm extends Cb{constructor(){super();this.type="AudioListener";this.context=Hk.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=0;this._clock=new sl}getInput(){return this.gain}removeFilter(){null!==this.filter&&(this.gain.disconnect(this.filter),
this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this}getFilter(){return this.filter}setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){this.gain.gain.setTargetAtTime(a,
this.context.currentTime,.01);return this}updateMatrixWorld(a){super.updateMatrixWorld(a);a=this.context.listener;const e=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(pi,tl,bm);qi.set(0,0,-1).applyQuaternion(tl);if(a.positionX){const n=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(pi.x,n);a.positionY.linearRampToValueAtTime(pi.y,n);a.positionZ.linearRampToValueAtTime(pi.z,n);a.forwardX.linearRampToValueAtTime(qi.x,n);a.forwardY.linearRampToValueAtTime(qi.y,
n);a.forwardZ.linearRampToValueAtTime(qi.z,n);a.upX.linearRampToValueAtTime(e.x,n);a.upY.linearRampToValueAtTime(e.y,n);a.upZ.linearRampToValueAtTime(e.z,n)}else a.setPosition(pi.x,pi.y,pi.z),a.setOrientation(qi.x,qi.y,qi.z,e.x,e.y,e.z)}}class ul extends Cb{constructor(a){super();this.type="Audio";this.listener=a;this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=
0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=this._startedAt=0;this._connected=!1;this.filters=[]}getOutput(){return this.gain}setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this}setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this}setMediaStreamSource(a){this.hasPlaybackControl=
!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();return this}setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this}play(a=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,
a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,
!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let a=1,e=this.filters.length;a<e;a++)this.filters[a-1].connect(this.filters[a]);
this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=!0;return this}disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let a=1,e=this.filters.length;a<e;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());this._connected=!1;return this}getFilters(){return this.filters}setFilters(a){a||(a=[]);
!0===this._connected?(this.disconnect(),this.filters=a.slice(),this.connect()):this.filters=a.slice();return this}setDetune(a){this.detune=a;if(void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?[a]:[])}setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=
this.loop),this}setLoopStart(a){this.loopStart=a;return this}setLoopEnd(a){this.loopEnd=a;return this}getVolume(){return this.gain.gain.value}setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}}const ri=new jb,vl=new pf,dm=new jb,si=new jb;class em extends ul{constructor(a){super(a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}disconnect(){super.disconnect();this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){this.panner.refDistance=
a;return this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){this.panner.rolloffFactor=a;return this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){this.panner.distanceModel=a;return this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){this.panner.maxDistance=a;return this}setDirectionalCone(a,e,n){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=e;this.panner.coneOuterGain=n;return this}updateMatrixWorld(a){super.updateMatrixWorld(a);
if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(ri,vl,dm),si.set(0,0,1).applyQuaternion(vl),a=this.panner,a.positionX){const e=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(ri.x,e);a.positionY.linearRampToValueAtTime(ri.y,e);a.positionZ.linearRampToValueAtTime(ri.z,e);a.orientationX.linearRampToValueAtTime(si.x,e);a.orientationY.linearRampToValueAtTime(si.y,e);a.orientationZ.linearRampToValueAtTime(si.z,e)}else a.setPosition(ri.x,
ri.y,ri.z),a.setOrientation(si.x,si.y,si.z)}}class fm{constructor(a,e=2048){this.analyser=a.context.createAnalyser();this.analyser.fftSize=e;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}getAverageFrequency(){let a=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)a+=e[n];return a/e.length}}class wl{constructor(a,e,n){this.binding=a;this.valueSize=n;let v;switch(e){case "quaternion":a=
this._slerp;e=this._slerpAdditive;v=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*n);this._workIndex=5;break;case "string":case "bool":e=a=this._select;v=this._setAdditiveIdentityOther;this.buffer=Array(5*n);break;default:a=this._lerp,e=this._lerpAdditive,v=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=a;this._mixBufferRegionAdditive=e;this._setIdentity=v;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=
this.cumulativeWeight=0}accumulate(a,e){const n=this.buffer,v=this.valueSize;a=a*v+v;var z=this.cumulativeWeight;if(0===z){for(z=0;z!==v;++z)n[a+z]=n[z];z=e}else z+=e,this._mixBufferRegion(n,a,0,e/z,v);this.cumulativeWeight=z}accumulateAdditive(a){const e=this.buffer,n=this.valueSize,v=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity();this._mixBufferRegionAdditive(e,v,0,a,n);this.cumulativeWeightAdditive+=a}apply(a){const e=this.valueSize,n=this.buffer;a=a*e+e;const v=this.cumulativeWeight,
z=this.cumulativeWeightAdditive,I=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>v&&this._mixBufferRegion(n,a,e*this._origIndex,1-v,e);0<z&&this._mixBufferRegionAdditive(n,a,this._addIndex*e,1,e);for(let L=e,R=e+e;L!==R;++L)if(n[L]!==n[L+e]){I.setValue(n,a);break}}saveOriginalState(){const a=this.buffer,e=this.valueSize,n=e*this._origIndex;this.binding.getValue(a,n);for(let v=e,z=n;v!==z;++v)a[v]=a[n+v%e];this._setIdentity();this.cumulativeWeightAdditive=this.cumulativeWeight=
0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){var a=this._addIndex*this.valueSize;const e=a+this.valueSize;for(;a<e;a++)this.buffer[a]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const a=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[a+n]}_select(a,e,n,v,z){if(.5<=
v)for(v=0;v!==z;++v)a[e+v]=a[n+v]}_slerp(a,e,n,v){pf.slerpFlat(a,e,a,e,a,n,v)}_slerpAdditive(a,e,n,v,z){z*=this._workIndex;pf.multiplyQuaternionsFlat(a,z,a,e,a,n);pf.slerpFlat(a,e,a,e,a,z,v)}_lerp(a,e,n,v,z){const I=1-v;for(let L=0;L!==z;++L){const R=e+L;a[R]=a[R]*I+a[n+L]*v}}_lerpAdditive(a,e,n,v,z){for(let I=0;I!==z;++I){const L=e+I;a[L]+=a[n+I]*v}}}const gm=RegExp("[\\[\\]\\.:\\/]","g"),hm=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),im=/(WCOD+)?/.source.replace("WCOD","[^\\[\\]:\\/]"),
jm=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),km=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),lm=new RegExp("^"+hm+im+jm+km+"$"),mm=["material","materials","bones","map"];class nm{constructor(a,e,n){n=n||Oe.parseTrackName(e);this._targetGroup=a;this._bindings=a.subscribe_(e,n)}getValue(a,e){this.bind();const n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(a,e)}setValue(a,e){const n=this._bindings;for(let v=this._targetGroup.nCachedObjects_,
z=n.length;v!==z;++v)n[v].setValue(a,e)}bind(){const a=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=a.length;e!==n;++e)a[e].bind()}unbind(){const a=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=a.length;e!==n;++e)a[e].unbind()}}class Oe{constructor(a,e,n){this.path=e;this.parsedPath=n||Oe.parseTrackName(e);this.node=Oe.findNode(a,this.parsedPath.nodeName);this.rootNode=a;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}static create(a,e,n){return a&&
a.isAnimationObjectGroup?new Oe.Composite(a,e,n):new Oe(a,e,n)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(gm,"")}static parseTrackName(a){var e=lm.exec(a);if(null===e)throw Error("PropertyBinding: Cannot parse trackName: "+a);e={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]};const n=e.nodeName&&e.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const v=e.nodeName.substring(n+1);-1!==mm.indexOf(v)&&(e.nodeName=e.nodeName.substring(0,n),e.objectName=
v)}if(null===e.propertyName||0===e.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return e}static findNode(a,e){if(void 0===e||""===e||"."===e||-1===e||e===a.name||e===a.uuid)return a;if(a.skeleton){const n=a.skeleton.getBoneByName(e);if(void 0!==n)return n}if(a.children){const n=function(v){for(let I=0;I<v.length;I++){var z=v[I];if(z.name===e||z.uuid===e||(z=n(z.children)))return z}return null};if(a=n(a.children))return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,
e){a[e]=this.targetObject[this.propertyName]}_getValue_array(a,e){const n=this.resolvedProperty;for(let v=0,z=n.length;v!==z;++v)a[e++]=n[v]}_getValue_arrayElement(a,e){a[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,e){this.resolvedProperty.toArray(a,e)}_setValue_direct(a,e){this.targetObject[this.propertyName]=a[e]}_setValue_direct_setNeedsUpdate(a,e){this.targetObject[this.propertyName]=a[e];this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,e){this.targetObject[this.propertyName]=
a[e];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,e){const n=this.resolvedProperty;for(let v=0,z=n.length;v!==z;++v)n[v]=a[e++]}_setValue_array_setNeedsUpdate(a,e){const n=this.resolvedProperty;for(let v=0,z=n.length;v!==z;++v)n[v]=a[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(a,e){const n=this.resolvedProperty;for(let v=0,z=n.length;v!==z;++v)n[v]=a[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,e){this.resolvedProperty[this.propertyIndex]=
a[e]}_setValue_arrayElement_setNeedsUpdate(a,e){this.resolvedProperty[this.propertyIndex]=a[e];this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,e){this.resolvedProperty[this.propertyIndex]=a[e];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(a,e){this.resolvedProperty.fromArray(a,e)}_setValue_fromArray_setNeedsUpdate(a,e){this.resolvedProperty.fromArray(a,e);this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,e){this.resolvedProperty.fromArray(a,
e);this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,e){this.bind();this.getValue(a,e)}_setValue_unbound(a,e){this.bind();this.setValue(a,e)}bind(){let a=this.node;var e=this.parsedPath,n=e.objectName;const v=e.propertyName;let z=e.propertyIndex;a||(this.node=a=Oe.findNode(this.rootNode,e.nodeName));this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(n){var I=e.objectIndex;switch(n){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",
this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(n=0;n<a.length;n++)if(a[n].name===I){I=n;break}break;case "map":if("map"in a){a=a.map;break}if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",
this);return}if(!a.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}a=a.material.map;break;default:if(void 0===a[n]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[n]}if(void 0!==I){if(void 0===a[I]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[I]}}I=a[v];if(void 0===I)console.error("THREE.PropertyBinding: Trying to update property for track: "+
e.nodeName+"."+v+" but it wasn't found.",a);else{e=this.Versioning.None;this.targetObject=a;void 0!==a.needsUpdate?e=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(e=this.Versioning.MatrixWorldNeedsUpdate);n=this.BindingType.Direct;if(void 0!==z){if("morphTargetInfluences"===v){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}void 0!==a.morphTargetDictionary[z]&&(z=a.morphTargetDictionary[z])}n=this.BindingType.ArrayElement;this.resolvedProperty=I;this.propertyIndex=z}else void 0!==I.fromArray&&void 0!==I.toArray?(n=this.BindingType.HasFromToArray,this.resolvedProperty=I):Array.isArray(I)?(n=this.BindingType.EntireArray,this.resolvedProperty=I):this.propertyName=v;this.getValue=this.GetterByBindingType[n];this.setValue=this.SetterByBindingTypeAndVersioning[n][e]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+
this.path+" but it wasn't found.")}unbind(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}}Oe.Composite=nm;Oe.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Oe.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Oe.prototype.GetterByBindingType=[Oe.prototype._getValue_direct,Oe.prototype._getValue_array,Oe.prototype._getValue_arrayElement,Oe.prototype._getValue_toArray];Oe.prototype.SetterByBindingTypeAndVersioning=
[[Oe.prototype._setValue_direct,Oe.prototype._setValue_direct_setNeedsUpdate,Oe.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Oe.prototype._setValue_array,Oe.prototype._setValue_array_setNeedsUpdate,Oe.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Oe.prototype._setValue_arrayElement,Oe.prototype._setValue_arrayElement_setNeedsUpdate,Oe.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Oe.prototype._setValue_fromArray,Oe.prototype._setValue_fromArray_setNeedsUpdate,Oe.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];
class om{constructor(){this.isAnimationObjectGroup=!0;this.uuid=r();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let n=0,v=arguments.length;n!==v;++n)a[arguments[n].uuid]=n;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const a=
this._objects,e=this._indicesByUUID,n=this._paths,v=this._parsedPaths,z=this._bindings,I=z.length;let L=void 0,R=a.length,V=this.nCachedObjects_;for(let ka=0,qa=arguments.length;ka!==qa;++ka){const Ga=arguments[ka];var Y=Ga.uuid;let Fa=e[Y];if(void 0===Fa){Fa=R++;e[Y]=Fa;a.push(Ga);for(let ia=0,La=I;ia!==La;++ia)z[ia].push(new Oe(Ga,n[ia],v[ia]))}else if(Fa<V){L=a[Fa];const ia=--V;var ja=a[ia];e[ja.uuid]=Fa;a[Fa]=ja;e[Y]=ia;a[ia]=Ga;for(let La=0,zb=I;La!==zb;++La)Y=z[La],ja=Y[Fa],Y[Fa]=Y[ia],void 0===
ja&&(ja=new Oe(Ga,n[La],v[La])),Y[ia]=ja}else a[Fa]!==L&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=V}remove(){const a=this._objects,e=this._indicesByUUID,n=this._bindings,v=n.length;let z=this.nCachedObjects_;for(let R=0,V=arguments.length;R!==V;++R){var I=arguments[R],L=I.uuid;const Y=e[L];if(void 0!==Y&&Y>=z){const ja=z++,ka=a[ja];e[ka.uuid]=Y;a[Y]=ka;e[L]=
ja;a[ja]=I;for(let qa=0,Ga=v;qa!==Ga;++qa)I=n[qa],L=I[Y],I[Y]=I[ja],I[ja]=L}}this.nCachedObjects_=z}uncache(){const a=this._objects,e=this._indicesByUUID,n=this._bindings,v=n.length;let z=this.nCachedObjects_,I=a.length;for(let ja=0,ka=arguments.length;ja!==ka;++ja){var L=arguments[ja].uuid;const qa=e[L];if(void 0!==qa)if(delete e[L],qa<z){L=--z;var R=a[L],V=--I,Y=a[V];e[R.uuid]=qa;a[qa]=R;e[Y.uuid]=L;a[L]=Y;a.pop();for(let Ga=0,Fa=v;Ga!==Fa;++Ga)R=n[Ga],Y=R[V],R[qa]=R[L],R[L]=Y,R.pop()}else{L=--I;
V=a[L];0<L&&(e[V.uuid]=qa);a[qa]=V;a.pop();for(let Ga=0,Fa=v;Ga!==Fa;++Ga)V=n[Ga],V[qa]=V[L],V.pop()}}this.nCachedObjects_=z}subscribe_(a,e){const n=this._bindingsIndicesByPath;let v=n[a];const z=this._bindings;if(void 0!==v)return z[v];const I=this._paths,L=this._parsedPaths,R=this._objects,V=this.nCachedObjects_,Y=Array(R.length);v=z.length;n[a]=v;I.push(a);L.push(e);z.push(Y);for(let ja=V,ka=R.length;ja!==ka;++ja)Y[ja]=new Oe(R[ja],a,e);return Y}unsubscribe_(a){const e=this._bindingsIndicesByPath,
n=e[a];if(void 0!==n){const v=this._paths,z=this._parsedPaths,I=this._bindings,L=I.length-1,R=I[L];e[a[L]]=n;I[n]=R;I.pop();z[n]=z[L];z.pop();v[n]=v[L];v.pop()}}}class pm{constructor(a,e,n=null,v=e.blendMode){this._mixer=a;this._clip=e;this._localRoot=n;this.blendMode=v;a=e.tracks;e=a.length;n=Array(e);v={endingStart:2400,endingEnd:2400};for(let z=0;z!==e;++z){const I=a[z].createInterpolant(null);n[z]=I;I.settings=v}this._interpolantSettings=v;this._interpolants=n;this._propertyBindings=Array(e);
this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}play(){this._mixer._activateAction(this);return this}stop(){this._mixer._deactivateAction(this);return this.reset()}reset(){this.paused=
!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){this._startTime=a;return this}setLoop(a,e){this.loop=a;this.repetitions=e;return this}setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,
0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,e,n){a.fadeOut(e);this.fadeIn(e);if(n){n=this._clip.duration;const v=a._clip.duration,z=n/v;a.warp(1,v/n,e);this.warp(z,1,e)}return this}crossFadeTo(a,e,n){return a.crossFadeFrom(this,e,n)}stopFading(){const a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){this.timeScale=
this._clip.duration/a;return this.stopWarping()}syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,e,n){var v=this._mixer;const z=v.time,I=this.timeScale;var L=this._timeScaleInterpolant;null===L&&(this._timeScaleInterpolant=L=v._lendControlInterpolant());v=L.parameterPositions;L=L.sampleValues;v[0]=z;v[1]=z+n;L[0]=a/I;L[1]=e/I;return this}stopWarping(){const a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,e,n,v){if(this.enabled){var z=this._startTime;null!==z&&(e=(a-z)*n,0>e||0===n?e=0:(this._startTime=null,e*=n));e*=this._updateTimeScale(a);n=this._updateTime(e);a=this._updateWeight(a);if(0<a)switch(e=this._interpolants,z=this._propertyBindings,this.blendMode){case 2501:for(let I=0,L=e.length;I!==L;++I)e[I].evaluate(n),
z[I].accumulateAdditive(a);break;default:for(let I=0,L=e.length;I!==L;++I)e[I].evaluate(n),z[I].accumulate(v,a)}}else this._updateWeight(a)}_updateWeight(a){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const v=n.evaluate(a)[0];e*=v;a>n.parameterPositions[1]&&(this.stopFading(),0===v&&(this.enabled=!1))}}return this._effectiveWeight=e}_updateTimeScale(a){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){const v=n.evaluate(a)[0];
e*=v;a>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e}_updateTime(a){const e=this._clip.duration;var n=this.loop;let v=this.time+a,z=this._loopCount;const I=2202===n;if(0===a)return-1===z?v:I&&1===(z&1)?e-v:v;if(2200===n)a:{if(-1===z&&(this._loopCount=0,this._setEndings(!0,!0,!1)),v>=e)v=e;else if(0>v)v=0;else{this.time=v;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=v;this._mixer.dispatchEvent({type:"finished",
action:this,direction:0>a?-1:1})}else{-1===z&&(0<=a?(z=0,this._setEndings(!0,0===this.repetitions,I)):this._setEndings(0===this.repetitions,!0,I));if(v>=e||0>v){n=Math.floor(v/e);v-=e*n;z+=Math.abs(n);const L=this.repetitions-z;0>=L?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=v=0<a?e:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===L?(a=0>a,this._setEndings(a,!a,I)):this._setEndings(!1,!1,I),this._loopCount=z,this.time=v,this._mixer.dispatchEvent({type:"loop",
action:this,loopDelta:n}))}else this.time=v;if(I&&1===(z&1))return e-v}return v}_setEndings(a,e,n){const v=this._interpolantSettings;n?(v.endingStart=2401,v.endingEnd=2401):(v.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,v.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(a,e,n){var v=this._mixer;const z=v.time;var I=this._weightInterpolant;null===I&&(this._weightInterpolant=I=v._lendControlInterpolant());v=I.parameterPositions;I=I.sampleValues;v[0]=z;I[0]=e;v[1]=z+a;I[1]=n;return this}}
const qm=new Float32Array(1);class rm extends Md{constructor(a){super();this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}_bindAction(a,e){const n=a._localRoot||this._root,v=a._clip.tracks,z=v.length,I=a._propertyBindings;a=a._interpolants;const L=n.uuid;var R=this._bindingsByRootAndName;let V=R[L];void 0===V&&(V={},R[L]=V);for(R=0;R!==z;++R){const Y=v[R],ja=Y.name;let ka=V[ja];if(void 0!==ka)++ka.referenceCount;else{ka=I[R];if(void 0!==ka){null===ka._cacheIndex&&
(++ka.referenceCount,this._addInactiveBinding(ka,L,ja));continue}ka=new wl(Oe.create(n,ja,e&&e._propertyBindings[R].binding.parsedPath),Y.ValueTypeName,Y.getValueSize());++ka.referenceCount;this._addInactiveBinding(ka,L,ja)}I[R]=ka;a[R].resultBuffer=ka.buffer}}_activateAction(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var e=(a._localRoot||this._root).uuid,n=a._clip.uuid;const v=this._actionsByClip[n];this._bindAction(a,v&&v.knownActions[0]);this._addInactiveAction(a,n,e)}e=a._propertyBindings;
for(let v=0,z=e.length;v!==z;++v)n=e[v],0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState());this._lendAction(a)}}_deactivateAction(a){if(this._isActiveAction(a)){const e=a._propertyBindings;for(let n=0,v=e.length;n!==v;++n){const z=e[n];0===--z.useCount&&(z.restoreOriginalState(),this._takeBackBinding(z))}this._takeBackAction(a)}}_initMemoryManager(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}}_isActiveAction(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions}_addInactiveAction(a,e,n){const v=this._actions,z=this._actionsByClip;
let I=z[e];void 0===I?(I={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,z[e]=I):(e=I.knownActions,a._byClipCacheIndex=e.length,e.push(a));a._cacheIndex=v.length;v.push(a);I.actionByRoot[n]=a}_removeInactiveAction(a){var e=this._actions,n=e[e.length-1],v=a._cacheIndex;n._cacheIndex=v;e[v]=n;e.pop();a._cacheIndex=null;e=a._clip.uuid;n=this._actionsByClip;v=n[e];const z=v.knownActions,I=z[z.length-1],L=a._byClipCacheIndex;I._byClipCacheIndex=L;z[L]=I;z.pop();a._byClipCacheIndex=null;delete v.actionByRoot[(a._localRoot||
this._root).uuid];0===z.length&&delete n[e];this._removeInactiveBindingsForAction(a)}_removeInactiveBindingsForAction(a){a=a._propertyBindings;for(let e=0,n=a.length;e!==n;++e){const v=a[e];0===--v.referenceCount&&this._removeInactiveBinding(v)}}_lendAction(a){const e=this._actions,n=a._cacheIndex,v=this._nActiveActions++,z=e[v];a._cacheIndex=v;e[v]=a;z._cacheIndex=n;e[n]=z}_takeBackAction(a){const e=this._actions,n=a._cacheIndex,v=--this._nActiveActions,z=e[v];a._cacheIndex=v;e[v]=a;z._cacheIndex=
n;e[n]=z}_addInactiveBinding(a,e,n){const v=this._bindingsByRootAndName,z=this._bindings;let I=v[e];void 0===I&&(I={},v[e]=I);I[n]=a;a._cacheIndex=z.length;z.push(a)}_removeInactiveBinding(a){const e=this._bindings;var n=a.binding;const v=n.rootNode.uuid;n=n.path;const z=this._bindingsByRootAndName,I=z[v],L=e[e.length-1];a=a._cacheIndex;L._cacheIndex=a;e[a]=L;e.pop();delete I[n];0===Object.keys(I).length&&delete z[v]}_lendBinding(a){const e=this._bindings,n=a._cacheIndex,v=this._nActiveBindings++,
z=e[v];a._cacheIndex=v;e[v]=a;z._cacheIndex=n;e[n]=z}_takeBackBinding(a){const e=this._bindings,n=a._cacheIndex,v=--this._nActiveBindings,z=e[v];a._cacheIndex=v;e[v]=a;z._cacheIndex=n;e[n]=z}_lendControlInterpolant(){const a=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=a[e];void 0===n&&(n=new Ak(new Float32Array(2),new Float32Array(2),1,qm),n.__cacheIndex=e,a[e]=n);return n}_takeBackControlInterpolant(a){const e=this._controlInterpolants,n=a.__cacheIndex,v=--this._nActiveControlInterpolants,
z=e[v];a.__cacheIndex=v;e[v]=a;z.__cacheIndex=n;e[n]=z}clipAction(a,e,n){var v=e||this._root;const z=v.uuid;v="string"===typeof a?qj.findByName(v,a):a;a=null!==v?v.uuid:a;const I=this._actionsByClip[a];var L=null;void 0===n&&(n=null!==v?v.blendMode:2500);if(void 0!==I){L=I.actionByRoot[z];if(void 0!==L&&L.blendMode===n)return L;L=I.knownActions[0];null===v&&(v=L._clip)}if(null===v)return null;e=new pm(this,v,e,n);this._bindAction(e,L);this._addInactiveAction(e,a,z);return e}existingAction(a,e){var n=
e||this._root;e=n.uuid;n="string"===typeof a?qj.findByName(n,a):a;a=this._actionsByClip[n?n.uuid:a];return void 0!==a?a.actionByRoot[e]||null:null}stopAllAction(){const a=this._actions;var e=this._nActiveActions;for(--e;0<=e;--e)a[e].stop();return this}update(a){a*=this.timeScale;var e=this._actions,n=this._nActiveActions;const v=this.time+=a,z=Math.sign(a),I=this._accuIndex^=1;for(let L=0;L!==n;++L)e[L]._update(v,a,z,I);a=this._bindings;e=this._nActiveBindings;for(n=0;n!==e;++n)a[n].apply(I);return this}setTime(a){this.time=
0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(a)}getRoot(){return this._root}uncacheClip(a){const e=this._actions;a=a.uuid;const n=this._actionsByClip;var v=n[a];if(void 0!==v){v=v.knownActions;for(let z=0,I=v.length;z!==I;++z){const L=v[z];this._deactivateAction(L);const R=L._cacheIndex,V=e[e.length-1];L._cacheIndex=null;L._byClipCacheIndex=null;V._cacheIndex=R;e[R]=V;e.pop();this._removeInactiveBindingsForAction(L)}delete n[a]}}uncacheRoot(a){a=a.uuid;const e=
this._actionsByClip;for(var n in e){const v=e[n].actionByRoot[a];void 0!==v&&(this._deactivateAction(v),this._removeInactiveAction(v))}n=this._bindingsByRootAndName[a];if(void 0!==n)for(const v in n)a=n[v],a.restoreOriginalState(),this._removeInactiveBinding(a)}uncacheAction(a,e){a=this.existingAction(a,e);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}}class xl{constructor(a){this.value=a}clone(){return new xl(void 0===this.value.clone?this.value:this.value.clone())}}let sm=
0;class tm extends Md{constructor(){super();this.isUniformsGroup=!0;Object.defineProperty(this,"id",{value:sm++});this.name="";this.usage=35044;this.uniforms=[]}add(a){this.uniforms.push(a);return this}remove(a){a=this.uniforms.indexOf(a);-1!==a&&this.uniforms.splice(a,1);return this}setName(a){this.name=a;return this}setUsage(a){this.usage=a;return this}dispose(){this.dispatchEvent({type:"dispose"});return this}copy(a){this.name=a.name;this.usage=a.usage;a=a.uniforms;this.uniforms.length=0;for(let e=
0,n=a.length;e<n;e++)this.uniforms.push(a[e].clone());return this}clone(){return(new this.constructor).copy(this)}}class um extends Qh{constructor(a,e,n=1){super(a,e);this.isInstancedInterleavedBuffer=!0;this.meshPerAttribute=n}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}clone(a){a=super.clone(a);a.meshPerAttribute=this.meshPerAttribute;return a}toJSON(a){a=super.toJSON(a);a.isInstancedInterleavedBuffer=!0;a.meshPerAttribute=this.meshPerAttribute;return a}}class vm{constructor(a,
e,n,v,z){this.isGLBufferAttribute=!0;this.name="";this.buffer=a;this.type=e;this.itemSize=n;this.elementSize=v;this.count=z;this.version=0}set needsUpdate(a){!0===a&&this.version++}setBuffer(a){this.buffer=a;return this}setType(a,e){this.type=a;this.elementSize=e;return this}setItemSize(a){this.itemSize=a;return this}setCount(a){this.count=a;return this}}class wm{constructor(a,e,n=0,v=Infinity){this.ray=new Lg(a,e);this.near=n;this.far=v;this.camera=null;this.layers=new Hg;this.params={Mesh:{},Line:{threshold:1},
LOD:{},Points:{threshold:1},Sprite:{}}}set(a,e){this.ray.set(a,e)}setFromCamera(a,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(a,
e=!0,n=[]){ye(a,this,n,e);n.sort(Rd);return n}intersectObjects(a,e=!0,n=[]){for(let v=0,z=a.length;v<z;v++)ye(a[v],this,n,e);n.sort(Rd);return n}}class xm{constructor(a=1,e=0,n=0){this.radius=a;this.phi=e;this.theta=n;return this}set(a,e,n){this.radius=a;this.phi=e;this.theta=n;return this}copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this}makeSafe(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,
a.y,a.z)}setFromCartesianCoords(a,e,n){this.radius=Math.sqrt(a*a+e*e+n*n);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,n),this.phi=Math.acos(m(e/this.radius,-1,1)));return this}clone(){return(new this.constructor).copy(this)}}class ym{constructor(a=1,e=0,n=0){this.radius=a;this.theta=e;this.y=n;return this}set(a,e,n){this.radius=a;this.theta=e;this.y=n;return this}copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,
a.y,a.z)}setFromCartesianCoords(a,e,n){this.radius=Math.sqrt(a*a+n*n);this.theta=Math.atan2(a,n);this.y=e;return this}clone(){return(new this.constructor).copy(this)}}const yl=new Cc;class zm{constructor(a=new Cc(Infinity,Infinity),e=new Cc(-Infinity,-Infinity)){this.isBox2=!0;this.min=a;this.max=e}set(a,e){this.min.copy(a);this.max.copy(e);return this}setFromPoints(a){this.makeEmpty();for(let e=0,n=a.length;e<n;e++)this.expandByPoint(a[e]);return this}setFromCenterAndSize(a,e){e=yl.copy(e).multiplyScalar(.5);
this.min.copy(a).sub(e);this.max.copy(a).add(e);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);
this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,e){return e.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return a.max.x<
this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0}clampPoint(a,e){return e.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,yl).distanceTo(a)}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const zl=new jb,ek=new jb;
class Am{constructor(a=new jb,e=new jb){this.start=a;this.end=e}set(a,e){this.start.copy(a);this.end.copy(e);return this}copy(a){this.start.copy(a.start);this.end.copy(a.end);return this}getCenter(a){return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,e){return this.delta(e).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,
e){zl.subVectors(a,this.start);ek.subVectors(this.end,this.start);a=ek.dot(ek);a=ek.dot(zl)/a;e&&(a=m(a,0,1));return a}closestPointToPoint(a,e,n){a=this.closestPointToPointParameter(a,e);return this.delta(n).multiplyScalar(a).add(this.start)}applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Al=new jb;class Bm extends Cb{constructor(a,e){super();this.light=
a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=e;this.type="SpotLightHelper";a=new ue;e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let n=0,v=1,z=32;n<z;n++,v++){const I=n/z*Math.PI*2,L=v/z*Math.PI*2;e.push(Math.cos(I),Math.sin(I),1,Math.cos(L),Math.sin(L),1)}a.setAttribute("position",new Dd(e,3));e=new xa({fog:!1,toneMapped:!1});this.cone=new hc(a,e);this.add(this.cone);this.update()}dispose(){this.cone.geometry.dispose();this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,
!1);this.light.target.updateWorldMatrix(!0,!1);const a=this.light.distance?this.light.distance:1E3,e=a*Math.tan(this.light.angle);this.cone.scale.set(e,e,a);Al.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(Al);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Vh=new jb,fk=new fe,Ik=new fe;class Cm extends hc{constructor(a){const e=re(a),n=new ue;var v=[];const z=[],I=new rd(0,0,1),L=new rd(0,1,0);for(let R=0;R<
e.length;R++){const V=e[R];V.parent&&V.parent.isBone&&(v.push(0,0,0),v.push(0,0,0),z.push(I.r,I.g,I.b),z.push(L.r,L.g,L.b))}n.setAttribute("position",new Dd(v,3));n.setAttribute("color",new Dd(z,3));v=new xa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,v);this.isSkeletonHelper=!0;this.type="SkeletonHelper";this.root=a;this.bones=e;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}updateMatrixWorld(a){const e=this.bones,n=this.geometry,v=n.getAttribute("position");
Ik.copy(this.root.matrixWorld).invert();for(let z=0,I=0;z<e.length;z++){const L=e[z];L.parent&&L.parent.isBone&&(fk.multiplyMatrices(Ik,L.matrixWorld),Vh.setFromMatrixPosition(fk),v.setXYZ(I,Vh.x,Vh.y,Vh.z),fk.multiplyMatrices(Ik,L.parent.matrixWorld),Vh.setFromMatrixPosition(fk),v.setXYZ(I+1,Vh.x,Vh.y,Vh.z),I+=2)}n.getAttribute("position").needsUpdate=!0;super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose()}}class Dm extends vf{constructor(a,e,n){e=new oj(e,4,2);const v=
new be({wireframe:!0,fog:!1,toneMapped:!1});super(e,v);this.light=a;this.color=n;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}dispose(){this.geometry.dispose();this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Em=new jb,Bl=new rd,Cl=new rd;class Fm extends Cb{constructor(a,e,n){super();this.light=a;this.matrix=a.matrixWorld;
this.matrixAutoUpdate=!1;this.color=n;this.type="HemisphereLightHelper";a=new nj(e);a.rotateY(.5*Math.PI);this.material=new be({wireframe:!0,fog:!1,toneMapped:!1});void 0===this.color&&(this.material.vertexColors=!0);e=a.getAttribute("position");e=new Float32Array(3*e.count);a.setAttribute("color",new Re(e,3));this.add(new vf(a,this.material));this.update()}dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose()}update(){const a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);
else{const e=a.geometry.getAttribute("color");Bl.copy(this.light.color);Cl.copy(this.light.groundColor);for(let n=0,v=e.count;n<v;n++){const z=n<v/2?Bl:Cl;e.setXYZ(n,z.r,z.g,z.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1);a.lookAt(Em.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Gm extends hc{constructor(a=10,e=10,n=4473924,v=8947848){n=new rd(n);v=new rd(v);const z=e/2,I=a/e,L=a/2;a=[];const R=[];for(let V=0,Y=0,ja=-L;V<=e;V++,ja+=I){a.push(-L,0,ja,L,0,ja);a.push(ja,0,
-L,ja,0,L);const ka=V===z?n:v;ka.toArray(R,Y);Y+=3;ka.toArray(R,Y);Y+=3;ka.toArray(R,Y);Y+=3;ka.toArray(R,Y);Y+=3}e=new ue;e.setAttribute("position",new Dd(a,3));e.setAttribute("color",new Dd(R,3));n=new xa({vertexColors:!0,toneMapped:!1});super(e,n);this.type="GridHelper"}dispose(){this.geometry.dispose();this.material.dispose()}}class Hm extends hc{constructor(a=10,e=16,n=8,v=64,z=4473924,I=8947848){z=new rd(z);I=new rd(I);var L=[];const R=[];if(1<e)for(var V=0;V<e;V++){var Y=V/e*2*Math.PI,ja=Math.sin(Y)*
a;Y=Math.cos(Y)*a;L.push(0,0,0);L.push(ja,0,Y);ja=V&1?z:I;R.push(ja.r,ja.g,ja.b);R.push(ja.r,ja.g,ja.b)}for(e=0;e<n;e++)for(V=e&1?z:I,ja=a-a/n*e,Y=0;Y<v;Y++){var ka=Y/v*2*Math.PI;let qa=Math.sin(ka)*ja;ka=Math.cos(ka)*ja;L.push(qa,0,ka);R.push(V.r,V.g,V.b);ka=(Y+1)/v*2*Math.PI;qa=Math.sin(ka)*ja;ka=Math.cos(ka)*ja;L.push(qa,0,ka);R.push(V.r,V.g,V.b)}a=new ue;a.setAttribute("position",new Dd(L,3));a.setAttribute("color",new Dd(R,3));L=new xa({vertexColors:!0,toneMapped:!1});super(a,L);this.type="PolarGridHelper"}dispose(){this.geometry.dispose();
this.material.dispose()}}const Dl=new jb,gk=new jb,El=new jb;class Im extends Cb{constructor(a,e,n){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=n;this.type="DirectionalLightHelper";void 0===e&&(e=1);a=new ue;a.setAttribute("position",new Dd([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));e=new xa({fog:!1,toneMapped:!1});this.lightPlane=new Mb(a,e);this.add(this.lightPlane);a=new ue;a.setAttribute("position",new Dd([0,0,0,0,0,1],3));this.targetLine=new Mb(a,e);this.add(this.targetLine);
this.update()}dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);this.light.target.updateWorldMatrix(!0,!1);Dl.setFromMatrixPosition(this.light.matrixWorld);gk.setFromMatrixPosition(this.light.target.matrixWorld);El.subVectors(gk,Dl);this.lightPlane.lookAt(gk);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):
(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(gk);this.targetLine.scale.z=El.length()}}const Aj=new jb,xf=new Oh;class Jm extends hc{constructor(a){function e(ja,ka){n(ja);n(ka)}function n(ja){I.push(0,0,0);L.push(0,0,0);void 0===R[ja]&&(R[ja]=[]);R[ja].push(I.length/3-1)}var v=new ue,z=new xa({color:16777215,vertexColors:!0,toneMapped:!1});const I=[],L=[],R={};e("n1","n2");e("n2","n4");e("n4","n3");e("n3","n1");
e("f1","f2");e("f2","f4");e("f4","f3");e("f3","f1");e("n1","f1");e("n2","f2");e("n3","f3");e("n4","f4");e("p","n1");e("p","n2");e("p","n3");e("p","n4");e("u1","u2");e("u2","u3");e("u3","u1");e("c","t");e("p","c");e("cn1","cn2");e("cn3","cn4");e("cf1","cf2");e("cf3","cf4");v.setAttribute("position",new Dd(I,3));v.setAttribute("color",new Dd(L,3));super(v,z);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=
!1;this.pointMap=R;this.update();a=new rd(16755200);v=new rd(16711680);z=new rd(43775);const V=new rd(16777215),Y=new rd(3355443);this.setColors(a,v,z,V,Y)}setColors(a,e,n,v,z){const I=this.geometry.getAttribute("color");I.setXYZ(0,a.r,a.g,a.b);I.setXYZ(1,a.r,a.g,a.b);I.setXYZ(2,a.r,a.g,a.b);I.setXYZ(3,a.r,a.g,a.b);I.setXYZ(4,a.r,a.g,a.b);I.setXYZ(5,a.r,a.g,a.b);I.setXYZ(6,a.r,a.g,a.b);I.setXYZ(7,a.r,a.g,a.b);I.setXYZ(8,a.r,a.g,a.b);I.setXYZ(9,a.r,a.g,a.b);I.setXYZ(10,a.r,a.g,a.b);I.setXYZ(11,a.r,
a.g,a.b);I.setXYZ(12,a.r,a.g,a.b);I.setXYZ(13,a.r,a.g,a.b);I.setXYZ(14,a.r,a.g,a.b);I.setXYZ(15,a.r,a.g,a.b);I.setXYZ(16,a.r,a.g,a.b);I.setXYZ(17,a.r,a.g,a.b);I.setXYZ(18,a.r,a.g,a.b);I.setXYZ(19,a.r,a.g,a.b);I.setXYZ(20,a.r,a.g,a.b);I.setXYZ(21,a.r,a.g,a.b);I.setXYZ(22,a.r,a.g,a.b);I.setXYZ(23,a.r,a.g,a.b);I.setXYZ(24,e.r,e.g,e.b);I.setXYZ(25,e.r,e.g,e.b);I.setXYZ(26,e.r,e.g,e.b);I.setXYZ(27,e.r,e.g,e.b);I.setXYZ(28,e.r,e.g,e.b);I.setXYZ(29,e.r,e.g,e.b);I.setXYZ(30,e.r,e.g,e.b);I.setXYZ(31,e.r,e.g,
e.b);I.setXYZ(32,n.r,n.g,n.b);I.setXYZ(33,n.r,n.g,n.b);I.setXYZ(34,n.r,n.g,n.b);I.setXYZ(35,n.r,n.g,n.b);I.setXYZ(36,n.r,n.g,n.b);I.setXYZ(37,n.r,n.g,n.b);I.setXYZ(38,v.r,v.g,v.b);I.setXYZ(39,v.r,v.g,v.b);I.setXYZ(40,z.r,z.g,z.b);I.setXYZ(41,z.r,z.g,z.b);I.setXYZ(42,z.r,z.g,z.b);I.setXYZ(43,z.r,z.g,z.b);I.setXYZ(44,z.r,z.g,z.b);I.setXYZ(45,z.r,z.g,z.b);I.setXYZ(46,z.r,z.g,z.b);I.setXYZ(47,z.r,z.g,z.b);I.setXYZ(48,z.r,z.g,z.b);I.setXYZ(49,z.r,z.g,z.b);I.needsUpdate=!0}update(){const a=this.geometry,
e=this.pointMap;xf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);Cd("c",e,a,xf,0,0,-1);Cd("t",e,a,xf,0,0,1);Cd("n1",e,a,xf,-1,-1,-1);Cd("n2",e,a,xf,1,-1,-1);Cd("n3",e,a,xf,-1,1,-1);Cd("n4",e,a,xf,1,1,-1);Cd("f1",e,a,xf,-1,-1,1);Cd("f2",e,a,xf,1,-1,1);Cd("f3",e,a,xf,-1,1,1);Cd("f4",e,a,xf,1,1,1);Cd("u1",e,a,xf,.7,1.1,-1);Cd("u2",e,a,xf,-.7,1.1,-1);Cd("u3",e,a,xf,0,2,-1);Cd("cf1",e,a,xf,-1,0,1);Cd("cf2",e,a,xf,1,0,1);Cd("cf3",e,a,xf,0,-1,1);Cd("cf4",e,a,xf,0,1,1);Cd("cn1",e,a,xf,
-1,0,-1);Cd("cn2",e,a,xf,1,0,-1);Cd("cn3",e,a,xf,0,-1,-1);Cd("cn4",e,a,xf,0,1,-1);a.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose();this.material.dispose()}}const hk=new qg;class Km extends hc{constructor(a,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),v=new Float32Array(24),z=new ue;z.setIndex(new Re(n,1));z.setAttribute("position",new Re(v,3));super(z,new xa({color:e,toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=
!1;this.update()}update(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&hk.setFromObject(this.object);if(!hk.isEmpty()){a=hk.min;var e=hk.max,n=this.geometry.attributes.position,v=n.array;v[0]=e.x;v[1]=e.y;v[2]=e.z;v[3]=a.x;v[4]=e.y;v[5]=e.z;v[6]=a.x;v[7]=a.y;v[8]=e.z;v[9]=e.x;v[10]=a.y;v[11]=e.z;v[12]=e.x;v[13]=e.y;v[14]=a.z;v[15]=a.x;v[16]=e.y;v[17]=a.z;v[18]=a.x;v[19]=a.y;v[20]=a.z;v[21]=e.x;v[22]=a.y;v[23]=a.z;n.needsUpdate=!0;this.geometry.computeBoundingSphere()}}setFromObject(a){this.object=
a;this.update();return this}copy(a,e){super.copy(a,e);this.object=a.object;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class Lm extends hc{constructor(a,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),v=new ue;v.setIndex(new Re(n,1));v.setAttribute("position",new Dd([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));super(v,new xa({color:e,toneMapped:!1}));this.box=a;this.type="Box3Helper";this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const e=
this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}dispose(){this.geometry.dispose();this.material.dispose()}}class Mm extends Mb{constructor(a,e=1,n=16776960){const v=new ue;v.setAttribute("position",new Dd([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3));v.computeBoundingSphere();super(v,new xa({color:n,toneMapped:!1}));this.type="PlaneHelper";this.plane=a;this.size=e;a=new ue;a.setAttribute("position",new Dd([1,
1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3));a.computeBoundingSphere();this.add(new vf(a,new be({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){this.position.set(0,0,0);this.scale.set(.5*this.size,.5*this.size,1);this.lookAt(this.plane.normal);this.translateZ(-this.plane.constant);super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose();this.children[0].geometry.dispose();this.children[0].material.dispose()}}const Fl=new jb;let ik,
Jk;class Nm extends Cb{constructor(a=new jb(0,0,1),e=new jb(0,0,0),n=1,v=16776960,z=.2*n,I=.2*z){super();this.type="ArrowHelper";void 0===ik&&(ik=new ue,ik.setAttribute("position",new Dd([0,0,0,0,1,0],3)),Jk=new Qi(0,.5,1,5,1),Jk.translate(0,-.5,0));this.position.copy(e);this.line=new Mb(ik,new xa({color:v,toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new vf(Jk,new be({color:v,toneMapped:!1}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(n,
z,I)}setDirection(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(Fl.set(a.z,0,-a.x).normalize(),this.quaternion.setFromAxisAngle(Fl,Math.acos(a.y)))}setLength(a,e=.2*a,n=.2*e){this.line.scale.set(1,Math.max(1E-4,a-e),1);this.line.updateMatrix();this.cone.scale.set(n,e,n);this.cone.position.y=a;this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a);this.cone.material.color.set(a)}copy(a){super.copy(a,!1);this.line.copy(a.line);this.cone.copy(a.cone);
return this}dispose(){this.line.geometry.dispose();this.line.material.dispose();this.cone.geometry.dispose();this.cone.material.dispose()}}class Om extends hc{constructor(a=1){var e=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new ue;a.setAttribute("position",new Dd(e,3));a.setAttribute("color",new Dd([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));e=new xa({vertexColors:!0,toneMapped:!1});super(a,e);this.type="AxesHelper"}setColors(a,e,n){const v=new rd,z=this.geometry.attributes.color.array;v.set(a);v.toArray(z,
0);v.toArray(z,3);v.set(e);v.toArray(z,6);v.toArray(z,9);v.set(n);v.toArray(z,12);v.toArray(z,15);this.geometry.attributes.color.needsUpdate=!0;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class Pm{constructor(){this.type="ShapePath";this.color=new rd;this.subPaths=[];this.currentPath=null}moveTo(a,e){this.currentPath=new Tg;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,e);return this}lineTo(a,e){this.currentPath.lineTo(a,e);return this}quadraticCurveTo(a,
e,n,v){this.currentPath.quadraticCurveTo(a,e,n,v);return this}bezierCurveTo(a,e,n,v,z,I){this.currentPath.bezierCurveTo(a,e,n,v,z,I);return this}splineThru(a){this.currentPath.splineThru(a);return this}toShapes(a){function e(Fa){const ia=[];for(let La=0,zb=Fa.length;La<zb;La++){const bb=Fa[La],Gb=new mi;Gb.curves=bb.curves;ia.push(Gb)}return ia}function n(Fa,ia){const La=ia.length;let zb=!1;for(let Gb=La-1,Tb=0;Tb<La;Gb=Tb++){var bb=ia[Gb];let xb=ia[Tb],oc=xb.x-bb.x,Ib=xb.y-bb.y;if(Math.abs(Ib)>Number.EPSILON){if(0>
Ib&&(bb=ia[Tb],oc=-oc,xb=ia[Gb],Ib=-Ib),!(Fa.y<bb.y||Fa.y>xb.y))if(Fa.y===bb.y){if(Fa.x===bb.x)return!0}else{bb=Ib*(Fa.x-bb.x)-oc*(Fa.y-bb.y);if(0===bb)return!0;0>bb||(zb=!zb)}}else if(Fa.y===bb.y&&(xb.x<=Fa.x&&Fa.x<=bb.x||bb.x<=Fa.x&&Fa.x<=xb.x))return!0}return zb}var v=Bh.isClockWise,z=this.subPaths;if(0===z.length)return[];const I=[];if(1===z.length){var L=z[0];var R=new mi;R.curves=L.curves;I.push(R);return I}var V=!v(z[0].getPoints());V=a?!V:V;R=[];const Y=[];let ja=[];var ka=0;let qa;Y[ka]=
void 0;ja[ka]=[];for(let Fa=0,ia=z.length;Fa<ia;Fa++){L=z[Fa];qa=L.getPoints();var Ga=v(qa);(Ga=a?!Ga:Ga)?(!V&&Y[ka]&&ka++,Y[ka]={s:new mi,p:qa},Y[ka].s.curves=L.curves,V&&ka++,ja[ka]=[]):ja[ka].push({h:L,p:qa[0]})}if(!Y[0])return e(z);if(1<Y.length){L=!1;a=0;for(let Fa=0,ia=Y.length;Fa<ia;Fa++)R[Fa]=[];for(let Fa=0,ia=Y.length;Fa<ia;Fa++)for(v=ja[Fa],z=0;z<v.length;z++){Ga=v[z];V=!0;for(ka=0;ka<Y.length;ka++)n(Ga.p,Y[ka].p)&&(Fa!==ka&&a++,V?(V=!1,R[ka].push(Ga)):L=!0);V&&R[Fa].push(Ga)}0<a&&!1===
L&&(ja=R)}for(let Fa=0,ia=Y.length;Fa<ia;Fa++){R=Y[Fa].s;I.push(R);L=ja[Fa];for(let La=0,zb=L.length;La<zb;La++)R.holes.push(L[La].h)}return I}}const Eh=function(){var a=new ArrayBuffer(4);const e=new Float32Array(a);a=new Uint32Array(a);const n=new Uint32Array(512),v=new Uint32Array(512);for(var z=0;256>z;++z){var I=z-127;-27>I?(n[z]=0,n[z|256]=32768,v[z]=24,v[z|256]=24):-14>I?(n[z]=1024>>-I-14,n[z|256]=1024>>-I-14|32768,v[z]=-I-1,v[z|256]=-I-1):15>=I?(n[z]=I+15<<10,n[z|256]=I+15<<10|32768,v[z]=
13,v[z|256]=13):128>I?(n[z]=31744,n[z|256]=64512,v[z]=24,v[z|256]=24):(n[z]=31744,n[z|256]=64512,v[z]=13,v[z|256]=13)}z=new Uint32Array(2048);I=new Uint32Array(64);const L=new Uint32Array(64);for(var R=1;1024>R;++R){let V=R<<13,Y=0;for(;0===(V&8388608);)V<<=1,Y-=8388608;V&=-8388609;Y+=947912704;z[R]=V|Y}for(R=1024;2048>R;++R)z[R]=939524096+(R-1024<<13);for(R=1;31>R;++R)I[R]=R<<23;I[31]=1199570944;I[32]=2147483648;for(R=33;63>R;++R)I[R]=2147483648+(R-32<<23);I[63]=3347054592;for(R=1;64>R;++R)32!==
R&&(L[R]=1024);return{floatView:e,uint32View:a,baseTable:n,shiftTable:v,mantissaTable:z,exponentTable:I,offsetTable:L}}();class Qm extends Xf{constructor(a,e,n,v,z,I){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry.");super(a,e,n,v,z,I)}}class Rm extends Oi{constructor(a,e,n,v){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry.");super(a,e,n,v)}}class Sm extends Pi{constructor(a,e,n,v){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry.");
super(a,e,n,v)}}class Tm extends Pj{constructor(a,e,n,v,z,I,L){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry.");super(a,e,n,v,z,I,L)}}class Um extends Qi{constructor(a,e,n,v,z,I,L,R){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry.");super(a,e,n,v,z,I,L,R)}}class Vm extends Qj{constructor(a,e){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry.");super(a,e)}}class Wm extends Uj{constructor(a,
e){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry.");super(a,e)}}class Xm extends Vj{constructor(a,e){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry.");super(a,e)}}class Ym extends li{constructor(a,e,n,v){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry.");super(a,e,n,v)}}class Zm extends nj{constructor(a,e){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry.");
super(a,e)}}class $m extends kg{constructor(a,e,n,v){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry.");super(a,e,n,v)}}class an extends Th{constructor(a,e,n,v){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry.");super(a,e,n,v)}}class bn extends Wj{constructor(a,e,n,v,z,I){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry.");super(a,e,n,v,z,I)}}class cn extends Xj{constructor(a,e){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry.");
super(a,e)}}class dn extends oj{constructor(a,e,n,v,z,I,L){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry.");super(a,e,n,v,z,I,L)}}class en extends Yj{constructor(a,e){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry.");super(a,e)}}class fn extends Zj{constructor(a,e,n,v,z){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry.");super(a,e,n,v,z)}}class gn extends ak{constructor(a,e,n,v,z,I){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry.");
super(a,e,n,v,z,I)}}class hn extends bk{constructor(a,e,n,v,z){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry.");super(a,e,n,v,z)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"150"}}));"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="150");w.ACESFilmicToneMapping=4;w.AddEquation=100;w.AddOperation=2;w.AdditiveAnimationBlendMode=
2501;w.AdditiveBlending=2;w.AlphaFormat=1021;w.AlwaysDepth=1;w.AlwaysStencilFunc=519;w.AmbientLight=jl;w.AmbientLightProbe=$l;w.AnimationClip=qj;w.AnimationLoader=Nl;w.AnimationMixer=rm;w.AnimationObjectGroup=om;w.AnimationUtils=Ll;w.ArcCurve=jg;w.ArrayCamera=Ej;w.ArrowHelper=Nm;w.Audio=ul;w.AudioAnalyser=fm;w.AudioContext=Hk;w.AudioListener=cm;w.AudioLoader=Yl;w.AxesHelper=Om;w.BackSide=1;w.BasicDepthPacking=3200;w.BasicShadowMap=0;w.Bone=jj;w.BooleanKeyframeTrack=di;w.Box2=zm;w.Box3=qg;w.Box3Helper=
Lm;w.BoxBufferGeometry=Qm;w.BoxGeometry=Xf;w.BoxHelper=Km;w.BufferAttribute=Re;w.BufferGeometry=ue;w.BufferGeometryLoader=nl;w.ByteType=1010;w.Cache=ni;w.Camera=Oh;w.CameraHelper=Jm;w.CanvasTexture=af;w.CapsuleBufferGeometry=Rm;w.CapsuleGeometry=Oi;w.CatmullRomCurve3=Mj;w.CineonToneMapping=3;w.CircleBufferGeometry=Sm;w.CircleGeometry=Pi;w.ClampToEdgeWrapping=1001;w.Clock=sl;w.Color=rd;w.ColorKeyframeTrack=qk;w.ColorManagement=Me;w.CompressedArrayTexture=Eg;w.CompressedTexture=wg;w.CompressedTextureLoader=
Ol;w.ConeBufferGeometry=Tm;w.ConeGeometry=Pj;w.CubeCamera=Se;w.CubeReflectionMapping=301;w.CubeRefractionMapping=302;w.CubeTexture=uh;w.CubeTextureLoader=Pl;w.CubeUVReflectionMapping=306;w.CubicBezierCurve=kj;w.CubicBezierCurve3=Sg;w.CubicInterpolant=Zk;w.CullFaceBack=1;w.CullFaceFront=2;w.CullFaceFrontBack=3;w.CullFaceNone=0;w.Curve=bf;w.CurvePath=Oj;w.CustomBlending=5;w.CustomToneMapping=5;w.CylinderBufferGeometry=Um;w.CylinderGeometry=Qi;w.Cylindrical=ym;w.Data3DTexture=Zg;w.DataArrayTexture=kh;
w.DataTexture=Rg;w.DataTextureLoader=Ql;w.DataUtils={toHalfFloat:function(a){65504<Math.abs(a)&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range.");a=m(a,-65504,65504);Eh.floatView[0]=a;a=Eh.uint32View[0];const e=a>>23&511;return Eh.baseTable[e]+((a&8388607)>>Eh.shiftTable[e])},fromHalfFloat:function(a){const e=a>>10;Eh.uint32View[0]=Eh.mantissaTable[Eh.offsetTable[e]+(a&1023)]+Eh.exponentTable[e];return Eh.floatView[0]}};w.DecrementStencilOp=7683;w.DecrementWrapStencilOp=34056;w.DefaultLoadingManager=
bl;w.DepthFormat=1026;w.DepthStencilFormat=1027;w.DepthTexture=yh;w.DirectionalLight=il;w.DirectionalLightHelper=Im;w.DiscreteInterpolant=$k;w.DisplayP3ColorSpace="display-p3";w.DodecahedronBufferGeometry=Vm;w.DodecahedronGeometry=Qj;w.DoubleSide=2;w.DstAlphaFactor=206;w.DstColorFactor=208;w.DynamicCopyUsage=35050;w.DynamicDrawUsage=35048;w.DynamicReadUsage=35049;w.EdgesGeometry=Nk;w.EllipseCurve=Xc;w.EqualDepth=4;w.EqualStencilFunc=514;w.EquirectangularReflectionMapping=303;w.EquirectangularRefractionMapping=
304;w.Euler=Ng;w.EventDispatcher=Md;w.ExtrudeBufferGeometry=Wm;w.ExtrudeGeometry=Uj;w.FileLoader=Dh;w.Float16BufferAttribute=Bi;w.Float32BufferAttribute=Dd;w.Float64BufferAttribute=uk;w.FloatType=1015;w.Fog=Hi;w.FogExp2=ii;w.FramebufferTexture=dg;w.FrontSide=0;w.Frustum=mg;w.GLBufferAttribute=vm;w.GLSL1="100";w.GLSL3="300 es";w.GreaterDepth=6;w.GreaterEqualDepth=5;w.GreaterEqualStencilFunc=518;w.GreaterStencilFunc=516;w.GridHelper=Gm;w.Group=Dg;w.HalfFloatType=1016;w.HemisphereLight=cl;w.HemisphereLightHelper=
Fm;w.HemisphereLightProbe=Zl;w.IcosahedronBufferGeometry=Xm;w.IcosahedronGeometry=Vj;w.ImageBitmapLoader=Xl;w.ImageLoader=rj;w.ImageUtils=Hf;w.IncrementStencilOp=7682;w.IncrementWrapStencilOp=34055;w.InstancedBufferAttribute=q;w.InstancedBufferGeometry=ml;w.InstancedInterleavedBuffer=um;w.InstancedMesh=fa;w.Int16BufferAttribute=tk;w.Int32BufferAttribute=tf;w.Int8BufferAttribute=hg;w.IntType=1013;w.InterleavedBuffer=Qh;w.InterleavedBufferAttribute=Ge;w.Interpolant=pj;w.InterpolateDiscrete=2300;w.InterpolateLinear=
2301;w.InterpolateSmooth=2302;w.InvertStencilOp=5386;w.KeepStencilOp=7680;w.KeyframeTrack=Ug;w.LOD=Wf;w.LatheBufferGeometry=Ym;w.LatheGeometry=li;w.Layers=Hg;w.LessDepth=2;w.LessEqualDepth=3;w.LessEqualStencilFunc=515;w.LessStencilFunc=513;w.Light=Uh;w.LightProbe=ck;w.Line=Mb;w.Line3=Am;w.LineBasicMaterial=xa;w.LineCurve=ih;w.LineCurve3=Nj;w.LineDashedMaterial=Yk;w.LineLoop=kd;w.LineSegments=hc;w.LinearEncoding=3E3;w.LinearFilter=1006;w.LinearInterpolant=Ak;w.LinearMipMapLinearFilter=1008;w.LinearMipMapNearestFilter=
1007;w.LinearMipmapLinearFilter=1008;w.LinearMipmapNearestFilter=1007;w.LinearSRGBColorSpace="srgb-linear";w.LinearToneMapping=1;w.Loader=xg;w.LoaderUtils=Gk;w.LoadingManager=Bk;w.LoopOnce=2200;w.LoopPingPong=2202;w.LoopRepeat=2201;w.LuminanceAlphaFormat=1025;w.LuminanceFormat=1024;w.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};w.Material=Ue;w.MaterialLoader=Fk;w.MathUtils=$e;w.Matrix3=ef;w.Matrix4=fe;w.MaxEquation=104;w.Mesh=vf;w.MeshBasicMaterial=be;w.MeshDepthMaterial=Zh;w.MeshDistanceMaterial=
Gh;w.MeshLambertMaterial=Wk;w.MeshMatcapMaterial=Xk;w.MeshNormalMaterial=Vk;w.MeshPhongMaterial=Tk;w.MeshPhysicalMaterial=Sk;w.MeshStandardMaterial=zk;w.MeshToonMaterial=Uk;w.MinEquation=103;w.MirroredRepeatWrapping=1002;w.MixOperation=1;w.MultiplyBlending=4;w.MultiplyOperation=0;w.NearestFilter=1003;w.NearestMipMapLinearFilter=1005;w.NearestMipMapNearestFilter=1004;w.NearestMipmapLinearFilter=1005;w.NearestMipmapNearestFilter=1004;w.NeverDepth=0;w.NeverStencilFunc=512;w.NoBlending=0;w.NoColorSpace=
"";w.NoToneMapping=0;w.NormalAnimationBlendMode=2500;w.NormalBlending=1;w.NotEqualDepth=7;w.NotEqualStencilFunc=517;w.NumberKeyframeTrack=$i;w.Object3D=Cb;w.ObjectLoader=Vl;w.ObjectSpaceNormalMap=1;w.OctahedronBufferGeometry=Zm;w.OctahedronGeometry=nj;w.OneFactor=201;w.OneMinusDstAlphaFactor=207;w.OneMinusDstColorFactor=209;w.OneMinusSrcAlphaFactor=205;w.OneMinusSrcColorFactor=203;w.OrthographicCamera=Di;w.PCFShadowMap=1;w.PCFSoftShadowMap=2;w.PMREMGenerator=ui;w.Path=Tg;w.PerspectiveCamera=uc;w.Plane=
Of;w.PlaneBufferGeometry=$m;w.PlaneGeometry=kg;w.PlaneHelper=Mm;w.PointLight=hl;w.PointLightHelper=Dm;w.Points=cg;w.PointsMaterial=gd;w.PolarGridHelper=Hm;w.PolyhedronBufferGeometry=an;w.PolyhedronGeometry=Th;w.PositionalAudio=em;w.PropertyBinding=Oe;w.PropertyMixer=wl;w.QuadraticBezierCurve=lj;w.QuadraticBezierCurve3=mj;w.Quaternion=pf;w.QuaternionKeyframeTrack=zi;w.QuaternionLinearInterpolant=al;w.RED_GREEN_RGTC2_Format=36285;w.RED_RGTC1_Format=36283;w.REVISION="150";w.RGBADepthPacking=3201;w.RGBAFormat=
1023;w.RGBAIntegerFormat=1033;w.RGBA_ASTC_10x10_Format=37819;w.RGBA_ASTC_10x5_Format=37816;w.RGBA_ASTC_10x6_Format=37817;w.RGBA_ASTC_10x8_Format=37818;w.RGBA_ASTC_12x10_Format=37820;w.RGBA_ASTC_12x12_Format=37821;w.RGBA_ASTC_4x4_Format=37808;w.RGBA_ASTC_5x4_Format=37809;w.RGBA_ASTC_5x5_Format=37810;w.RGBA_ASTC_6x5_Format=37811;w.RGBA_ASTC_6x6_Format=37812;w.RGBA_ASTC_8x5_Format=37813;w.RGBA_ASTC_8x6_Format=37814;w.RGBA_ASTC_8x8_Format=37815;w.RGBA_BPTC_Format=36492;w.RGBA_ETC2_EAC_Format=37496;w.RGBA_PVRTC_2BPPV1_Format=
35843;w.RGBA_PVRTC_4BPPV1_Format=35842;w.RGBA_S3TC_DXT1_Format=33777;w.RGBA_S3TC_DXT3_Format=33778;w.RGBA_S3TC_DXT5_Format=33779;w.RGB_ETC1_Format=36196;w.RGB_ETC2_Format=37492;w.RGB_PVRTC_2BPPV1_Format=35841;w.RGB_PVRTC_4BPPV1_Format=35840;w.RGB_S3TC_DXT1_Format=33776;w.RGFormat=1030;w.RGIntegerFormat=1031;w.RawShaderMaterial=Rk;w.Ray=Lg;w.Raycaster=wm;w.RectAreaLight=kl;w.RedFormat=1028;w.RedIntegerFormat=1029;w.ReinhardToneMapping=2;w.RepeatWrapping=1E3;w.ReplaceStencilOp=7681;w.ReverseSubtractEquation=
102;w.RingBufferGeometry=bn;w.RingGeometry=Wj;w.SIGNED_RED_GREEN_RGTC2_Format=36286;w.SIGNED_RED_RGTC1_Format=36284;w.SRGBColorSpace="srgb";w.Scene=gj;w.ShaderChunk=le;w.ShaderLib=fg;w.ShaderMaterial=eg;w.ShadowMaterial=Qk;w.Shape=mi;w.ShapeBufferGeometry=cn;w.ShapeGeometry=Xj;w.ShapePath=Pm;w.ShapeUtils=Bh;w.ShortType=1011;w.Skeleton=f;w.SkeletonHelper=Cm;w.SkinnedMesh=Kj;w.Source=Tf;w.Sphere=tg;w.SphereBufferGeometry=dn;w.SphereGeometry=oj;w.Spherical=xm;w.SphericalHarmonics3=ll;w.SplineCurve=ki;
w.SpotLight=fl;w.SpotLightHelper=Bm;w.Sprite=ij;w.SpriteMaterial=hj;w.SrcAlphaFactor=204;w.SrcAlphaSaturateFactor=210;w.SrcColorFactor=202;w.StaticCopyUsage=35046;w.StaticDrawUsage=35044;w.StaticReadUsage=35045;w.StereoCamera=am;w.StreamCopyUsage=35042;w.StreamDrawUsage=35040;w.StreamReadUsage=35041;w.StringKeyframeTrack=ei;w.SubtractEquation=101;w.SubtractiveBlending=3;w.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};w.TangentSpaceNormalMap=0;w.TetrahedronBufferGeometry=en;w.TetrahedronGeometry=
Yj;w.Texture=kf;w.TextureLoader=Rl;w.TorusBufferGeometry=fn;w.TorusGeometry=Zj;w.TorusKnotBufferGeometry=gn;w.TorusKnotGeometry=ak;w.Triangle=Wd;w.TriangleFanDrawMode=2;w.TriangleStripDrawMode=1;w.TrianglesDrawMode=0;w.TubeBufferGeometry=hn;w.TubeGeometry=bk;w.TwoPassDoubleSide=2;w.UVMapping=300;w.Uint16BufferAttribute=Vc;w.Uint32BufferAttribute=Ri;w.Uint8BufferAttribute=rk;w.Uint8ClampedBufferAttribute=sk;w.Uniform=xl;w.UniformsGroup=tm;w.UniformsLib=jd;w.UniformsUtils=Xe;w.UnsignedByteType=1009;
w.UnsignedInt248Type=1020;w.UnsignedIntType=1014;w.UnsignedShort4444Type=1017;w.UnsignedShort5551Type=1018;w.UnsignedShortType=1012;w.VSMShadowMap=3;w.Vector2=Cc;w.Vector3=jb;w.Vector4=Be;w.VectorKeyframeTrack=aj;w.VideoTexture=vg;w.WebGL1Renderer=Fj;w.WebGL3DRenderTarget=Kh;w.WebGLArrayRenderTarget=ph;w.WebGLCubeRenderTarget=ti;w.WebGLMultipleRenderTargets=Ai;w.WebGLRenderTarget=Pf;w.WebGLRenderer=Uc;w.WebGLUtils=Bc;w.WireframeGeometry=Ok;w.WrapAroundEnding=2402;w.ZeroCurvatureEnding=2400;w.ZeroFactor=
200;w.ZeroSlopeEnding=2401;w.ZeroStencilOp=0;w._SRGBAFormat=1035;w.sRGBEncoding=3001})};
shadow$provide[102]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Api=void 0;class w{static apply(r){r.set=function(m){const d=this.options||{},c=Object.entries(m).reduce(function(g,[h,l]){d[h]!==l&&(g[h]=l);return g},{});this.options=Object.assign(d,c);this.trigger({type:"change",options:m,changes:c})};r.get=function(){return this.options};r.api=function(m,d){m||(m={});d&&Object.entries(m).forEach(function([c,g]){"function"===typeof g&&(m[c]=(...h)=>g(...h,d))});m.set=this.set.bind(this);
m.get=this.get.bind(this);return m}}}p.Api=w};
shadow$provide[103]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Binder=void 0;var w=B(101);class r{static bind(m,d){return function(c,g){g.__binds||(g.__binds=[]);let h=m;Array.isArray(c)&&(h=c[0],c=c[1]);var l=/^([^.:]*(?:\.[^.:]+)*)?(?::(.*))?$/.exec(c);const k=l[1].split(/\./g),t=k.pop(),x=l[2]||t;l=k.shift();let A={this:g}[l]||d[l]||m[l]||h;for(;A&&(c=k.shift());)A=A[c];if(A&&(A.on||A.addEventListener)){const y=function(E){g[x]&&g[x](E,m)};r._polyfill(A,["addEventListener",
"on"],function(E){A[E](t,y)});g.__binds.push({target:A,name:t,callback:y});return y}throw"Cannot bind '"+c+"' in "+this.__name;}}static unbind(){return function(m){m.__binds&&(m.__binds.forEach(function(d){r._polyfill(d.target,["removeEventListener","off"],function(c){d.target[c](d.name,d.callback)})}.bind(this)),m.__binds=[])}}static apply(m){m.trigger=r._trigger;m.triggerOnce=r._triggerOnce;m.hasEventListener=w.EventDispatcher.prototype.hasEventListener;m.addEventListener=w.EventDispatcher.prototype.addEventListener;
m.removeEventListener=w.EventDispatcher.prototype.removeEventListener;m.on=m.addEventListener;m.off=m.removeEventListener;m.dispatchEvent=m.trigger}static _triggerOnce(m){this.trigger(m);this._listeners&&delete this._listeners[m.type]}static _trigger(m){if(void 0!==this._listeners){var d=this._listeners[m.type];if(void 0!==d){d=d.slice();const c=d.length;m.target=this;for(let g=0;g<c;g++)d[g].call(this,m,this)}}}static _polyfill(m,d,c){d.map(function(g){return m.method});d.length&&c(d[0])}}p.Binder=
r};
shadow$provide[104]=function(G,B,X,p){function w(d){return d&&"string"===typeof d.valueOf()}Object.defineProperty(p,"__esModule",{value:!0});p.Bootstrap=void 0;G=B(102);B=B(103);const r=(d,c)=>{let g=0;for(const h of d){if(!1===c(h,g,d))break;g++}};class m{static initClass(){this.Plugins={};this.Aliases={}}static registerPlugin(d,c){const g=function(h){m.Plugin.call(this,h);this.__name=d};g.prototype=Object.assign(new m.Plugin,c);this.Plugins[d]=g}static unregisterPlugin(d){delete this.Plugins[d]}static registerAlias(d,
c){this.Aliases[d]=c}static unregisterAlias(d){delete this.Aliases[d]}constructor(d){if(d){var c=[].slice.apply(arguments);d={};if(c[0]instanceof Node){const g=c[0];c=c.slice(1);d.element=g}w(c[0])?d.plugins=c:Array.isArray(c[0])?d.plugins=c[0]:c[0]&&(d=Object.assign({},c[0],d))}this.__options=Object.assign({},{init:!0,element:document.body,plugins:["core"],aliases:{},plugindb:m.Plugins||{},aliasdb:m.Aliases||{}},d||{});this.__destroyed=this.__inited=!1;this.__installed=[];c=this.__options.element;
c===""+c&&(c=document.querySelector(c));this.plugins={};this.element=c;this.trigger=this.trigger.bind(this);this.frame=this.frame.bind(this);this.events=["pre","update","render","post"].map(function(g){return{type:g}});this.__options.init&&this.init()}init(){this.__inited||(this.__inited=!0,this.install(this.__options.plugins))}destroy(){this.__inited&&!this.__destroyed&&(this.__destroyed=!0,this.trigger({type:"destroy"}),this.uninstall())}frame(){this.events.map(this.trigger)}resolve(d){function c(k,
t,x){if(256<=x)throw"Plug-in alias recursion detected.";k=k.filter(l);k.forEach(function(A){const y=h[A];y?t=t.concat(c(y,[],x+1)):t.push(A)});return t}d=Array.isArray(d)?d:[d];const g=this.__options,h=Object.assign({},g.aliasdb,g.aliases),l=function(k){k=k.split(":");if(!k[1])return!0;h[k[0]]=[k[1]];return!1};d=d.filter(l);Object.entries(h).forEach(function([k,t]){h[k]=Array.isArray(t)?t:[t]});return c(d,[],0)}install(d){d=Array.isArray(d)?d:[d];d=this.resolve(d);r(d,c=>this.__install(c));this.__ready()}uninstall(d){d&&
(d=Array.isArray(d)?d:[d],d=this.resolve(d));(d||this.__installed).reverse().forEach(c=>this.__uninstall(c))}__install(d){var c=this.__options.plugindb[d];if(!c)throw"[three.install] Cannot install. '"+d+"' is not registered.";if(this.plugins[d])return console.warn("[three.install] "+d+" is already installed.");c=new c(this.__options[d]||{},d);this.plugins[d]=c;d=c.install(this);this.__installed.push(c);this.trigger({type:"install",plugin:c});return d}__uninstall(d){const c=w(d)?this.plugins[d]:d;
c?(d=c.__name,c.uninstall(this),this.__installed=this.__installed.filter(g=>g!==c),delete this.plugins[d],this.trigger({type:"uninstall",plugin:c})):console.warn("[three.uninstall] "+d+"' is not installed.")}__ready(){this.triggerOnce({type:"ready"})}}p.Bootstrap=m;m.initClass();m.Plugin=function(d){this.options=Object.assign({},this.defaults,d||{})};m.Plugin.prototype={listen:[],defaults:{},install:function(d){},uninstall:function(d){}};B.Binder.apply(m.prototype);B.Binder.apply(m.Plugin.prototype);
G.Api.apply(m.Plugin.prototype)};
shadow$provide[105]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("splash",{defaults:{color:"mono",fancy:!0},listen:["ready","mathbox/init:init","mathbox/progress:progress","mathbox/destroy:destroy"],uninstall(){return this.destroy()},ready(w,r){if(r.MathBox&&!this.div)return this.init(w,r)},init(w,r){this.destroy();({color:w}=this.options);var m=`\
<div class="mathbox-loader mathbox-splash-${w}">
  <div class="mathbox-logo">
    <div> <div></div><div></div><div></div> </div>
    <div> <div></div><div></div><div></div> </div>
  </div>
  <div class="mathbox-progress"><div></div></div>
</div>\
`;this.div=w=document.createElement("div");w.innerHTML=m;r.element.appendChild(w);m=2*Math.random()-1;const d=2*Math.random()-1,c=2*Math.random()-1,g=1/Math.sqrt(m*m+d*d+c*c);this.loader=w.querySelector(".mathbox-loader");this.bar=w.querySelector(".mathbox-progress \x3e div");this.gyro=w.querySelectorAll(".mathbox-logo \x3e div");this.transforms=["rotateZ(22deg) rotateX(24deg) rotateY(30deg)","rotateZ(11deg) rotateX(12deg) rotateY(15deg) scale3d(.6, .6, .6)"];this.random=[m*g,d*g,c*g];this.start=
r.Time.now;return this.timer=null},progress(w,r){if(this.div){var {current:m,total:d}=w;w=m<d;clearTimeout(this.timer);w?(this.loader.classList.remove("mathbox-exit"),this.loader.style.display="block"):(this.loader.classList.add("mathbox-exit"),this.timer=setTimeout(()=>this.loader.style.display="none",150));this.bar.style.width=m<d?.1*Math.round(1E3*m/d)+"%":"100%";if(this.options.fancy){const c=this.random,g=Math.max(0,Math.min(1,r.Time.now-this.start)),h=function(l,k){null==k&&(k=0);return l.replace(/(-?[0-9.e]+)deg/g,
(t,x)=>+x+c[k++]*g*r.Time.step*60+"deg")};return(()=>{const l=[];for(let k=0;k<this.gyro.length;k++){let t;const x=this.gyro[k];this.transforms[k]=t=h(this.transforms[k]);l.push(x.style.transform=x.style.WebkitTransform=t)}return l})()}}},destroy(){null!=this.div&&this.div.remove();return this.div=null}})};
shadow$provide[106]=function(G,B,X,p){G=B(104);G.Bootstrap.registerAlias("empty","fallback bind renderer size fill loop time".split(" "));G.Bootstrap.registerAlias("core",["empty","scene","camera","render","warmup"]);G.Bootstrap.registerAlias("VR",["core","cursor","fullscreen","render:vr"])};
shadow$provide[107]=function(G,B,X,p){G=B(104);var w=B(103);G.Bootstrap.registerPlugin("bind",{install:function(r){r.bind=w.Binder.bind(r,{three:r,window});r.unbind=w.Binder.unbind(r);r.bind("install:bind",this);r.bind("uninstall:unbind",this)},uninstall:function(r){r.unbind(this);delete r.bind;delete r.unbind},bind:function(r,m){const d=r.plugin;(r=d.listen)&&r.forEach(function(c){m.bind(c,d)})},unbind:function(r,m){m.unbind(r.plugin)}})};
shadow$provide[108]=function(G,B,X,p){var w=B(101);B(104).Bootstrap.registerPlugin("camera",{defaults:{near:.01,far:1E4,type:"perspective",fov:60,aspect:null,left:-1,right:1,bottom:-1,top:1,klass:null,parameters:null},listen:["resize","this.change"],install:function(r){r.Camera=this.api();r.camera=null;this.aspect=1;this.change({},r)},uninstall:function(r){delete r.Camera;delete r.camera},change:function(r,m){const d=this.options,c=m.camera;if(!m.camera||r.changes.type||r.changes.klass)r=d.klass||
{perspective:w.PerspectiveCamera,orthographic:w.OrthographicCamera}[d.type]||w.Camera,m.camera=d.parameters?new r(d.parameters):new r;Object.entries(d).forEach(function([g]){Object.prototype.hasOwnProperty.call(m.camera,g)&&(m.camera[g]=d[g])}.bind(this));this.update(m);c===m.camera||m.trigger({type:"camera",camera:m.camera})},resize:function(r,m){this.aspect=r.viewWidth/Math.max(1,r.viewHeight);this.update(m)},update:function(r){r.camera.aspect=this.options.aspect||this.aspect;r.camera.updateProjectionMatrix()}})};
shadow$provide[109]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("fallback",{defaults:{force:!1,fill:!0,begin:'\x3cdiv class\x3d"threestrap-fallback" style\x3d"display: table; width: 100%; height: 100%;box-sizing: border-box; border: 1px dashed rgba(0, 0, 0, .25);"\x3e\x3cdiv style\x3d"display: table-cell; padding: 10px; vertical-align: middle; text-align: center;"\x3e',end:"\x3c/div\x3e\x3c/div\x3e",message:'\x3cbig\x3e\x3cstrong\x3eThis example requires WebGL\x3c/strong\x3e\x3c/big\x3e\x3cbr\x3eVisit \x3ca target\x3d"_blank" href\x3d"http://get.webgl.org/"\x3eget.webgl.org\x3c/a\x3e for more info\x3c/a\x3e'},
install:function(w){try{var r=document.createElement("canvas");var m=r.getContext("webgl")||r.getContext("experimental-webgl");if(!m||this.options.force)throw"WebGL unavailable.";w.fallback=!1}catch(d){r=this.options.message;m=this.options.begin;const c=this.options.end,g=this.options.fill,h=document.createElement("div");h.innerHTML=m+r+c;for(this.children=[];0<h.childNodes.length;)this.children.push(h.firstChild),w.element.appendChild(h.firstChild);g&&w.install("fill");this.div=h;w.fallback=!0;return!1}},
uninstall:function(w){this.children&&(this.children.forEach(function(r){r.parentNode.removeChild(r)}),this.children=null);delete w.fallback}})};
shadow$provide[110]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("fill",{defaults:{block:!0,body:!0,layout:!0},install:function(w){function r(d){d=d.style.height;return"auto"==d||""==d}function m(d){d.style.height="100%";d.style.margin=0;d.style.padding=0;return d}this.options.body&&w.element==document.body&&(this.applied=[w.element,document.documentElement].filter(r).map(m));this.options.block&&w.canvas&&(w.canvas.style.display="block",this.block=!0);this.options.layout&&w.element&&"static"==
window.getComputedStyle(w.element).position&&(w.element.style.position="relative",this.layout=!0)},uninstall:function(w){this.applied&&(this.applied.map(function(r){r.style.height="";r.style.margin="";r.style.padding="";return r}),delete this.applied);this.block&&w.canvas&&(w.canvas.style.display="",delete this.block);this.layout&&w.element&&(w.element.style.position="",delete this.layout)},change:function(w){this.uninstall(w);this.install(w)}})};
shadow$provide[111]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("loop",{defaults:{start:!0,each:1},listen:["ready"],install:function(w){this.running=!1;this.lastRequestId=null;w.Loop=this.api({start:this.start.bind(this),stop:this.stop.bind(this),running:!1,window},w);this.events=["pre","update","render","post"].map(function(r){return{type:r}})},uninstall:function(w){this.stop(w)},ready:function(w,r){this.options.start&&this.start(r)},start:function(w){if(!this.running){w.Loop.running=this.running=
!0;var r=w.trigger.bind(w),m=function(){this.running&&(this.lastRequestId=w.Loop.window.requestAnimationFrame(m),this.events.map(r))}.bind(this);this.lastRequestId=w.Loop.window.requestAnimationFrame(m);w.trigger({type:"start"})}},stop:function(w){this.running&&(w.Loop.running=this.running=!1,w.Loop.window.cancelAnimationFrame(this.lastRequestId),this.lastRequestId=null,w.trigger({type:"stop"}))}})};
shadow$provide[112]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("render",{listen:["render"],render:function(w,r){r.scene&&r.camera&&r.renderer.render(r.scene,r.camera)}})};
shadow$provide[113]=function(G,B,X,p){G=B(101);B(104).Bootstrap.registerPlugin("renderer",{defaults:{klass:G.WebGL1Renderer,parameters:{depth:!0,stencil:!0,preserveDrawingBuffer:!0,antialias:!0}},listen:["resize"],install:function(w){const r=w.renderer=new this.options.klass(this.options.parameters);w.canvas=r.domElement;w.element.appendChild(r.domElement)},uninstall:function(w){w.element.removeChild(w.renderer.domElement);delete w.renderer;delete w.canvas},resize:function(w,r){r=r.renderer;const m=
r.domElement;m&&"CANVAS"==m.tagName?r.setSize(w.renderWidth,w.renderHeight,!1):(r.setRenderSize&&r.setRenderSize(w.renderWidth,w.renderHeight),r.setSize(w.viewWidth,w.viewHeight,!1))}})};
shadow$provide[114]=function(G,B,X,p){var w=B(101);B(104).Bootstrap.registerPlugin("scene",{install:function(r){r.scene=new w.Scene},uninstall:function(r){delete r.scene}})};
shadow$provide[115]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("size",{defaults:{width:null,height:null,aspect:null,scale:1,maxRenderWidth:Infinity,maxRenderHeight:Infinity,devicePixelRatio:!0},listen:["window.resize:queue","element.resize:queue","this.change:queue","ready:resize","pre:pre"],install:function(w){w.Size=this.api({renderWidth:0,renderHeight:0,viewWidth:0,viewHeight:0});this.resized=!1},uninstall:function(w){delete w.Size},queue:function(w,r){this.resized=!0},pre:function(w,r){this.resized&&
(this.resized=!1,this.resize(w,r))},resize:function(w,r){var m=this.options,d=r.element,c=r.renderer,g,h;let l,k=0,t=0;w=g=void 0===m.width||null==m.width?d.offsetWidth||d.innerWidth||0:m.width;d=h=void 0===m.height||null==m.height?d.offsetHeight||d.innerHeight||0:m.height;l=w/d;m.aspect&&(m.aspect>l?(d=Math.round(w/m.aspect),t=Math.floor((h-d)/2)):(w=Math.round(d*m.aspect),k=Math.floor((g-w)/2)),l=w/d);h=1;m.devicePixelRatio&&"undefined"!=typeof window&&(h=window.devicePixelRatio||1);g=Math.round(Math.min(w*
h*m.scale,m.maxRenderWidth));m=Math.round(Math.min(d*h*m.scale,m.maxRenderHeight));g/m>l?g=Math.round(m*l):m=Math.round(g/l);h=m/d;c=c.domElement.style;c.width=w+"px";c.height=d+"px";c.marginLeft=k+"px";c.marginTop=t+"px";Object.assign(r.Size,{renderWidth:g,renderHeight:m,viewWidth:w,viewHeight:d,aspect:l,pixelRatio:h});r.trigger({type:"resize",renderWidth:g,renderHeight:m,viewWidth:w,viewHeight:d,aspect:l,pixelRatio:h})}})};
shadow$provide[116]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("time",{defaults:{speed:1,warmup:0,timeout:1},listen:["pre:tick","this.change"],now:function(){return+new Date/1E3},install:function(w){w.Time=this.api({now:this.now(),clock:0,step:1/60,frames:0,time:0,delta:1/60,average:0,fps:0});this.clock=this.time=this.last=0;this.wait=this.options.warmup;this.timeStart=this.clockStart=0},tick:function(w,r){w=this.options.speed;const m=this.options.timeout;r=r.Time;const d=r.now=this.now();
var c=this.last;let g=this.time,h=this.clock;if(c){c=r.delta=d-c;const l=r.average||c;c>m&&(c=0);w*=c;g+=c;h+=w;0<r.frames&&(r.average=l+.1*(c-l),r.fps=1/l);r.step=w;r.clock=h-this.clockStart;r.time=g-this.timeStart;r.frames++;0<this.wait--&&(this.clockStart=h,this.timeStart=g,r.clock=0,r.step=1E-100)}this.last=d;this.clock=h;this.time=g},uninstall:function(w){delete w.Time}})};
shadow$provide[117]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("warmup",{defaults:{delay:2},listen:["ready","post"],ready:function(w,r){r.renderer.domElement.style.visibility="hidden";this.frame=0;this.hidden=!0},post:function(w,r){this.hidden&&this.frame>=this.options.delay&&(r.renderer.domElement.style.visibility="visible",this.hidden=!1);this.frame++}})};
shadow$provide[118]=function(G,B,X,p){B(107);B(108);B(109);B(110);B(111);B(112);B(113);B(114);B(115);B(116);B(117)};
shadow$provide[119]=function(G,B,X,p){var w=B(101);B(104).Bootstrap.registerPlugin("controls",{listen:["update","resize","camera","this.change"],defaults:{klass:null,parameters:{}},install:function(r){if(!this.options.klass)throw"Must provide class for `controls.klass`";r.controls=null;this._camera=r.camera||new w.PerspectiveCamera;this.change(null,r)},uninstall:function(r){delete r.controls},change:function(r,m){if(this.options.klass){if(!r||r.changes.klass)m.controls=new this.options.klass(this._camera,
m.renderer.domElement);Object.assign(m.controls,this.options.parameters)}else m.controls=null},update:function(r,m){r=m.Time&&m.Time.delta||1/60;const d=m.VR&&m.VR.state;m.controls.vr&&m.controls.vr(d);m.controls.update(r)},camera:function(r,m){m.controls.object=this._camera=r.camera},resize:function(r,m){m.controls.handleResize&&m.controls.handleResize()}})};
shadow$provide[120]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("cursor",{listen:"update this.change install:change uninstall:change element.mousemove vr".split(" "),defaults:{cursor:null,hide:!1,timeout:3},install:function(w){this.timeout=this.options.timeout;this.element=w.element;this.change(null,w)},uninstall:function(w){delete w.controls},change:function(w,r){this.applyCursor(r)},mousemove:function(w,r){this.options.hide&&(this.applyCursor(r),this.timeout=+this.options.timeout||0)},update:function(w,
r){w=r.Time&&r.Time.delta||1/60;this.options.hide&&(this.timeout-=w,0>this.timeout&&this.applyCursor(r,"none"))},vr:function(w,r){this.hide=w.active&&!w.hmd.fake;this.applyCursor(r)},applyCursor:function(w,r){w=w.controls?"move":"";r=r||this.options.cursor||w;this.hide&&(r="none");this.cursor!=r&&(this.element.style.cursor=r)}})};
shadow$provide[121]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("fullscreen",{defaults:{key:"f"},listen:["ready","update"],install:function(w){w.Fullscreen=this.api({active:!1,toggle:this.toggle.bind(this)},w)},uninstall:function(w){delete w.Fullscreen},ready:function(w,r){document.body.addEventListener("keypress",function(m){this.options.key&&m.charCode==this.options.key.charCodeAt(0)&&this.toggle(r)}.bind(this));w=function(){const m=!!document.fullscreenElement||!!document.mozFullScreenElement||
!!document.webkitFullscreenElement||!!document.msFullscreenElement;r.Fullscreen.active=this.active=m;r.trigger({type:"fullscreen",active:m})}.bind(this);document.addEventListener("fullscreenchange",w,!1);document.addEventListener("webkitfullscreenchange",w,!1);document.addEventListener("mozfullscreenchange",w,!1)},toggle:function(w){const r=w.canvas;w=w.VR&&w.VR.active?{vrDisplay:w.VR.hmd}:{};this.active?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():
document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen():r.requestFullScreen?r.requestFullScreen(w):r.msRequestFullScreen?r.msRequestFullscreen(w):r.webkitRequestFullscreen?r.webkitRequestFullscreen(w):r.mozRequestFullScreen&&r.mozRequestFullScreen(w)}})};
shadow$provide[122]=function(G,B,X,p){(function(w,r){"object"===typeof p&&"undefined"!==typeof X?X.exports=r():"function"===typeof define&&define.amd?define(r):w.Stats=r()})(this,function(){var w=function(){function r(A){c.appendChild(A.dom);return A}function m(A){for(var y=0;y<c.children.length;y++)c.children[y].style.display=y===A?"block":"none";d=A}var d=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",
function(A){A.preventDefault();m(++d%c.children.length)},!1);var g=(performance||Date).now(),h=g,l=0,k=r(new w.Panel("FPS","#0ff","#002")),t=r(new w.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var x=r(new w.Panel("MB","#f08","#201"));m(0);return{REVISION:16,dom:c,addPanel:r,showPanel:m,begin:function(){g=(performance||Date).now()},end:function(){l++;var A=(performance||Date).now();t.update(A-g,200);if(A>h+1E3&&(k.update(1E3*l/(A-h),100),h=A,l=0,x)){var y=performance.memory;
x.update(y.usedJSHeapSize/1048576,y.jsHeapSizeLimit/1048576)}return A},update:function(){g=this.end()},domElement:c,setMode:m}};w.Panel=function(r,m,d){var c=Infinity,g=0,h=Math.round,l=h(window.devicePixelRatio||1),k=80*l,t=48*l,x=3*l,A=2*l,y=3*l,E=15*l,F=74*l,H=30*l,P=document.createElement("canvas");P.width=k;P.height=t;P.style.cssText="width:80px;height:48px";var K=P.getContext("2d");K.font="bold "+9*l+"px Helvetica,Arial,sans-serif";K.textBaseline="top";K.fillStyle=d;K.fillRect(0,0,k,t);K.fillStyle=
m;K.fillText(r,x,A);K.fillRect(y,E,F,H);K.fillStyle=d;K.globalAlpha=.9;K.fillRect(y,E,F,H);return{dom:P,update:function(T,aa){c=Math.min(c,T);g=Math.max(g,T);K.fillStyle=d;K.globalAlpha=1;K.fillRect(0,0,k,E);K.fillStyle=m;K.fillText(h(T)+" "+r+" ("+h(c)+"-"+h(g)+")",x,A);K.drawImage(P,y+l,E,F-l,H,y,E,F-l,H);K.fillRect(y+F-l,E,l,H);K.fillStyle=d;K.globalAlpha=.9;K.fillRect(y+F-l,E,l,h((1-T/aa)*H))}}};return w})};
shadow$provide[123]=function(G,B,X,p){var w=function(r){return r&&r.__esModule?r:{default:r}}(B(122));B(104).Bootstrap.registerPlugin("stats",{listen:["pre","post"],install:function(r){const m=this.stats=new w.default,d=m.domElement.style;d.position="absolute";d.top=d.left=0;r.element.appendChild(m.domElement);r.stats=m},uninstall:function(r){this.stats.domElement.remove();delete r.stats},pre:function(r,m){this.stats.begin()},post:function(r,m){this.stats.end()}})};
shadow$provide[124]=function(G,B,X,p){B(104).Bootstrap.registerPlugin("ui",{defaults:{theme:"white",style:".threestrap-ui { position: absolute; bottom: 5px; right: 5px; float: left; }.threestrap-ui button { border: 0; background: none;  vertical-align: middle; font-weight: bold; } .threestrap-ui .glyphicon { top: 2px; font-weight: bold; } @media (max-width: 640px) { .threestrap-ui button { font-size: 120% } }.threestrap-white button { color: #fff; text-shadow: 0 1px 1px rgba(0, 0, 0, 1), 0 1px 3px rgba(0, 0, 0, 1); }.threestrap-black button { color: #000; text-shadow: 0 0px 1px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1) }"},
listen:["fullscreen"],markup:function(w,r,m){let d="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css";location.href.match(/^file:\/\//)&&(d="http://"+d);const c=[];w.Fullscreen&&c.push('\x3cbutton class\x3d"fullscreen" title\x3d"Full Screen"\x3e\x3cspan class\x3d"glyphicon glyphicon-fullscreen"\x3e\x3c/span\x3e\x3c/button\x3e');w.VR&&c.push('\x3cbutton class\x3d"vr" title\x3d"VR Headset"\x3eVR\x3c/button\x3e');return'\x3cstyle type\x3d"text/css"\x3e@import url("'+d+'"); '+m+
'\x3c/style\x3e\x3cdiv class\x3d"threestrap-ui threestrap-'+r+'"\x3e'+c.join("\n")+"\x3c/div\x3e"},install:function(w){var r=this.ui=document.createElement("div");r.innerHTML=this.markup(w,this.options.theme,this.options.style);document.body.appendChild(r);const m=this.ui.fullscreen=r.querySelector("button.fullscreen");m&&w.bind([m,"click:goFullscreen"],this);(r=this.ui.vr=r.querySelector("button.vr"))&&w.VR&&(w.VR.set({mode:"2d"}),w.bind([r,"click:goVR"],this))},fullscreen:function(w,r){this.ui.style.display=
w.active?"none":"block";w.active||r.VR&&r.VR.set({mode:"2d"})},goFullscreen:function(w,r){r.Fullscreen&&r.Fullscreen.toggle()},goVR:function(w,r){r.VR&&(r.VR.set({mode:"auto"}),r.Fullscreen.toggle())},uninstall:function(w){document.body.removeChild(this.ui)}})};
shadow$provide[125]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.VRRenderer=void 0;var w=B(101);class r{constructor(m,d){this.renderer=m;this.right=new w.Vector3;this.cameraLeft=new w.PerspectiveCamera;this.cameraRight=new w.PerspectiveCamera;m=d.getEyeTranslation("left");this.halfIPD=(new w.Vector3(m.x,m.y,m.z)).length();this.fovLeft=d.getRecommendedEyeFieldOfView("left");this.fovRight=d.getRecommendedEyeFieldOfView("right")}FovToNDCScaleOffset(m){const d=2/(m.leftTan+m.rightTan),
c=2/(m.upTan+m.downTan);return{scale:[d,c],offset:[(m.leftTan-m.rightTan)*d*.5,(m.upTan-m.downTan)*c*.5]}}FovPortToProjection(m,d,c,g,h){g=void 0===g?.01:g;h=void 0===h?1E4:h;c=void 0===c||c?-1:1;const l=m.elements;d=this.FovToNDCScaleOffset(d);l[0]=d.scale[0];l[1]=0;l[2]=d.offset[0]*c;l[3]=0;l[4]=0;l[5]=d.scale[1];l[6]=-d.offset[1]*c;l[7]=0;l[8]=0;l[9]=0;l[10]=h/(g-h)*-c;l[11]=h*g/(g-h);l[12]=0;l[13]=0;l[14]=c;l[15]=0;m.transpose()}FovToProjection(m,d,c,g,h){return this.FovPortToProjection(m,{upTan:Math.tan(d.upDegrees*
Math.PI/180),downTan:Math.tan(d.downDegrees*Math.PI/180),leftTan:Math.tan(d.leftDegrees*Math.PI/180),rightTan:Math.tan(d.rightDegrees*Math.PI/180)},c,g,h)}render(m,d){this.FovToProjection(this.cameraLeft.projectionMatrix,this.fovLeft,!0,d.near,d.far);this.FovToProjection(this.cameraRight.projectionMatrix,this.fovRight,!0,d.near,d.far);this.right.set(this.halfIPD,0,0);this.right.applyQuaternion(d.quaternion);this.cameraLeft.position.copy(d.position).sub(this.right);this.cameraRight.position.copy(d.position).add(this.right);
this.cameraLeft.quaternion.copy(d.quaternion);this.cameraRight.quaternion.copy(d.quaternion);var c=this.renderer.devicePixelRatio||1;d=this.renderer.domElement.width/2/c;c=this.renderer.domElement.height/c;this.renderer.enableScissorTest(!0);this.renderer.setViewport(0,0,d,c);this.renderer.setScissor(0,0,d,c);this.renderer.render(m,this.cameraLeft);this.renderer.setViewport(d,0,d,c);this.renderer.setScissor(d,0,d,c);this.renderer.render(m,this.cameraRight)}}p.VRRenderer=r};
shadow$provide[126]=function(G,B,X,p){G=B(104);var w=B(125);G.Bootstrap.registerPlugin("vr",{defaults:{mode:"auto",device:null,fov:80},listen:["window.load","pre","render","resize","this.change"],install:function(r){r.VR=this.api({active:!1,devices:[],hmd:null,sensor:null,renderer:null,state:null},r)},uninstall:function(r){delete r.VR},mocks:function(r,m,d){return[{fake:!0,force:1,deviceId:"emu",deviceName:"Emulated",getEyeTranslation:function(c){return{left:{x:-.03,y:0,z:0},right:{x:.03,y:0,z:0}}[c]},
getRecommendedEyeFieldOfView:function(c){var g=r.camera;const h=(m||g&&g.fov||d)/2;g=180*Math.atan(Math.tan(h*Math.PI/180)*(g&&g.aspect||16/9)/2)/Math.PI;return{left:{rightDegrees:g,leftDegrees:g,downDegrees:h,upDegrees:h},right:{rightDegrees:g,leftDegrees:g,downDegrees:h,upDegrees:h}}[c]}},{force:2,getState:function(){return{}}}]},load:function(r,m){r=function(d){this.callback(d,m)}.bind(this);navigator.getVRDevices?navigator.getVRDevices().then(r):navigator.mozGetVRDevices?navigator.mozGetVRDevices(r):
(console.warn("No native VR support detected."),r(this.mocks(m,this.options.fov,this.defaults.fov),m))},callback:function(r,m){let d,c;var g=window.HMDVRDevice||function(){};const h=window.PositionSensorVRDevice||function(){};r=m.VR.devices=r||m.VR.devices;var l=this.options.device;let k;for(let t=0;t<r.length;++t)if(k=r[t],(1==k.force||k instanceof g)&&(!l||l==k.deviceId)){d=k;break}if(d){for(l=0;l<r.length;++l)if(g=r[l],2==g.force||g instanceof h&&g.hardwareUnitId==d.hardwareUnitId){c=g;break}this.hookup(d,
c,m)}},hookup:function(r,m,d){w.VRRenderer||console.log("VRRenderer not found");this.renderer=new (w.VRRenderer||function(){})(d.renderer,r);this.hmd=r;this.sensor=m;d.VR.renderer=this.renderer;d.VR.hmd=r;d.VR.sensor=m;console.log("VRRenderer",r.deviceName)},change:function(r,m){r.changes.device&&this.callback(null,m);this.pre(r,m)},pre:function(r,m){r=this.active;const d=this.active=this.renderer&&"2d"!=this.options.mode;if((m.VR.active=d)&&this.sensor){const c=this.sensor.getState();m.VR.state=
c}else m.VR.state=null;r!=this.active&&m.trigger({type:"vr",active:d,hmd:this.hmd,sensor:this.sensor})},resize:function(r,m){this.active&&this.renderer.initialize()},render:function(r,m){if(m.scene&&m.camera){r=this.active?this.renderer:m.renderer;if(this.last!=r&&r==m.renderer){var d=r.getPixelRatio();const c=r.domElement.width/d;d=r.domElement.height/d;r.setScissorTest(!1);r.setViewport(0,0,c,d)}this.last=r;r.render(m.scene,m.camera)}}})};
shadow$provide[127]=function(G,B,X,p){B(119);B(120);B(121);B(123);B(124);B(126)};
shadow$provide[128]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.VRControls=void 0;var w=B(101);class r{constructor(m,d){function c(g){this.vrDisplays=g;0<g.length?this.vrDisplay=g[0]:d&&d("VR input not available.")}this.object=m;this.standingMatrix=new w.Matrix4;this.frameData=null;"VRFrameData"in window&&(this.frameData=new VRFrameData);navigator.getVRDisplays&&navigator.getVRDisplays().then(c).catch(function(){console.warn("VRControls: Unable to get VR Displays")});this.scale=
1;this.standing=!1;this.userHeight=1.6}getVRDisplay(){return this.vrDisplay}setVRDisplay(m){this.vrDisplay=m}getVRDisplays(){console.warn("VRControls: getVRDisplays() is being deprecated.");return this.vrDisplays}getStandingMatrix(){return this.standingMatrix}update(){if(this.vrDisplay){let m;this.vrDisplay.getFrameData?(this.vrDisplay.getFrameData(this.frameData),m=this.frameData.pose):this.vrDisplay.getPose&&(m=this.vrDisplay.getPose());null!==m.orientation&&this.object.quaternion.fromArray(m.orientation);
null!==m.position?this.object.position.fromArray(m.position):this.object.position.set(0,0,0);this.standing&&(this.vrDisplay.stageParameters?(this.object.updateMatrix(),this.standingMatrix.fromArray(this.vrDisplay.stageParameters.sittingToStandingTransform),this.object.applyMatrix(this.standingMatrix)):this.object.position.setY(this.object.position.y+this.userHeight));this.object.position.multiplyScalar(this.scale)}}dispose(){this.vrDisplay=null}}p.VRControls=r};
shadow$provide[129]=function(G,B,X,p){B(128)};
shadow$provide[130]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.MultiRenderer=void 0;var w=B(101);class r{constructor(m){console.log("MultiRenderer",w.REVISION);this.domElement=document.createElement("div");this.domElement.style.position="relative";this.renderers=[];this._renderSizeSet=!1;const d=m.renderers||[];m=m.parameters||[];for(let c=0;c<d.length;c++){const g=new d[c](m[c]);g.domElement.style.position="absolute";g.domElement.style.top="0px";g.domElement.style.left=
"0px";this.domElement.appendChild(g.domElement);this.renderers.push(g)}}setSize(m,d){this.domElement.style.width=m+"px";this.domElement.style.height=d+"px";for(let c=0;c<this.renderers.length;c++){const g=this.renderers[c],h=g.domElement;(!this._renderSizeSet||h&&"CANVAS"!==h.tagName)&&g.setSize(m,d);h.style.width=m+"px";h.style.height=d+"px"}}setRenderSize(m,d){this._renderSizeSet=!0;for(let c=0;c<this.renderers.length;c++){const g=this.renderers[c],h=g.domElement;h&&"CANVAS"===h.tagName&&g.setSize(m,
d,!1)}}render(m,d){for(let c=0;c<this.renderers.length;c++)this.renderers[c].render(m,d)}}p.MultiRenderer=r};
shadow$provide[131]=function(G,B,X,p){B(130);B(125)};
shadow$provide[132]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});Object.defineProperty(p,"Api",{enumerable:!0,get:function(){return w.Api}});Object.defineProperty(p,"Binder",{enumerable:!0,get:function(){return r.Binder}});Object.defineProperty(p,"Bootstrap",{enumerable:!0,get:function(){return m.Bootstrap}});Object.defineProperty(p,"VRControls",{enumerable:!0,get:function(){return d.VRControls}});Object.defineProperty(p,"MultiRenderer",{enumerable:!0,get:function(){return c.MultiRenderer}});
Object.defineProperty(p,"VRRenderer",{enumerable:!0,get:function(){return g.VRRenderer}});B(106);B(103);B(104);B(118);B(127);B(129);B(131);var w=B(102),r=B(103),m=B(104),d=B(128),c=B(130),g=B(125)};
shadow$provide[133]=function(G,B,X,p){function w(c,g){return"undefined"!==typeof c&&null!==c?g(c):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Attributes=void 0;class r{constructor(c,g){this.context=g;this.traits=c.Traits;this.types=c.Types;this.pending=[];this.bound=[];this.last=null}make(c){return{enum:"function"===typeof c.enum?c.enum():void 0,type:"function"===typeof c.uniform?c.uniform():void 0,value:c.make()}}apply(c,g){return new d(c,g,this)}bind(c){return this.bound.push(c)}unbind(c){return this.bound=
Array.from(this.bound).filter(g=>g!==c)}queue(c,g,h,l){this.lastObject=g;this.lastKey=h;this.lastValue=l;return this.pending.push(c)}invoke(c){return c(this.context.time.clock,this.context.time.step)}compute(){if(this.bound.length)for(const c of Array.from(this.bound))this.invoke(c)}digest(){let c;if(!this.pending.length)return!1;[c,this.pending]=Array.from([this.pending,[]]);for(const g of Array.from(c))g();return!0}getTrait(c){return this.traits[c]}getLastTrigger(){return`${this.lastObject.toString()} - ${this.lastKey}=\`${this.lastValue}\``}}
p.Attributes=r;const m=function(c){const g={};for(const h in c)g[h]=c[h];return g};class d{constructor(c,g,h){let l;let k,t,x,A,y,{props:E}=g;const {traits:F,finals:H,freeform:P}=g,K=this;null!=c.props&&null!=c.expr&&null!=c.orig&&null!=c.computed&&null!=c.attributes&&(A=m(c.props),t=m(c.expr),x=c.orig(),k=c.computed(),null!=c.attributes&&c.attributes.dispose());const T={},aa={},Q={},O=ma=>null!=(null!=K[ma]?K[ma].value:void 0)?null!=K[ma]?K[ma].value:void 0:w(K[null!=Q[ma]?Q[ma]:ma],la=>la.value),
da=function(ma,la,Ra,Sa){let ob;ma=null!=Q[ma]?Q[ma]:ma;if(null==(ob=K[ma])){if(!P)throw Error(`${c.toString()} - Setting unknown property \`${ma}={${la}}\``);ob=K[ma]={short:ma,type:null,last:null,value:null};$a[ma]=Ua=>Ua}if(!Ra){if(sa[ma])throw Error(`${c.toString()} - Can't set bound property \`${ma}={${la}}\``);if(gb[ma])throw Error(`${c.toString()} - Can't set computed property \`${ma}={${la}}\``);if(wa[ma])throw Error(`${c.toString()} - Can't set final property \`${ma}={${la}}\``);}let oa=
!0;const Va=Ja(ma,la,ob.last,function(){oa=!1;return null});if(oa){[ob.value,ob.last]=Array.from([Va,ob.value]);const {short:Ua}=ob;T[Ua]=Va;Ra||(aa[Ua]=la);Sa||eb[ma](ob.value,ob.last)||Z(ma,la)}return oa};g=function(ma,la,Ra){ma=null!=Q[ma]?Q[ma]:ma;da(ma,la,!0,Ra);return wa[ma]=!0};const ea={},za={},Ea={},sa={},gb={},wa={},Ba=function(ma,la,Ra){null==Ra&&(Ra=!1);ma=null!=Q[ma]?Q[ma]:ma;if("function"!==typeof la)throw Error(`${c.toString()} - Expression \`${ma}=>{${ea}}\` is not a function`);if(sa[ma])throw Error(`${c.toString()} - Property \`${ma}=>{${ea}}\` is already bound`);
if(gb[ma])throw Error(`${c.toString()} - Property \`${ma}\` is computed`);if(wa[ma])throw Error(`${c.toString()} - Property \`${ma}\` is final`);(Ra?gb:sa)[ma]=la;const Sa=null!=K[ma]?K[ma].short:ma;Ra||(ea[Sa]=la);Ea[ma]=la;la=la.bind(c);za[ma]=function(ob,oa){let Va;if(Va=null!=c.clock?c.clock.getTime():void 0)ob=Va.clock,oa=Va.step;return c.set(ma,la(ob,oa),!0)};return h.bind(za[ma])},Da=function(ma,la){null==la&&(la=!1);ma=null!=Q[ma]?Q[ma]:ma;la=la?gb:sa;if(la[ma])return h.unbind(za[ma]),delete za[ma],
delete la[ma],null!=K[ma]&&(ma=K[ma].short),delete ea[ma]},pa=function(ma,la){let Ra;ma=null!=Q[ma]?Q[ma]:ma;return null!=(Ra="function"===typeof Ea[ma]?Ea[ma](la,0):void 0)?Ra:K[ma].value};c.expr=ea;c.props=T;c.evaluate=function(ma,la){if(null!=ma)return pa(ma,la);const Ra={};for(ma in E)Ra[ma]=pa(ma,la);return Ra};c.get=function(ma){return null!=ma?O(ma):T};c.set=function(ma,la,Ra,Sa){if("string"===typeof ma)da(ma,la,Ra,Sa);else{Sa=Ra;Ra=la;const ob=ma;for(ma in ob)la=ob[ma],da(ma,la,Ra,Sa)}};c.bind=
function(ma,la,Ra){if("string"===typeof ma)Ba(ma,la,Ra);else{Ra=la;const Sa=ma;for(ma in Sa)la=Sa[ma],Ba(ma,la,Ra)}};c.unbind=function(ma,la){if("string"===typeof ma)Da(ma,la);else{la=ea;const Ra=ma;for(ma in Ra)Da(ma,la)}};c.attribute=function(ma){return null!=ma?K[null!=Q[ma]?Q[ma]:ma]:K};c.orig=function(ma){return null!=ma?aa[null!=Q[ma]?Q[ma]:ma]:m(aa)};c.computed=function(ma){return null!=ma?gb[null!=Q[ma]?Q[ma]:ma]:m(gb)};const ib={},$a={},eb={},Ja=(ma,la,Ra,Sa)=>$a[ma](la,Ra,Sa);c.validate=
function(ma,la){let Ra;ma=null!=Q[ma]?Q[ma]:ma;const Sa=ib[ma];null!=Sa&&(Ra=Sa());return Ra=Ja(ma,la,Ra,function(){throw Error(`${c.toString()} - Invalid value \`${ma}={${la}}\``);})};let Fb=!1,Kb={},rb={},Pb={},N={};const Z=function(ma,la){Fb||(Fb=!0,h.queue(ab,c,ma,la));la=ma.split(".")[0];Kb[ma]=!0;return rb[la]=!0},va={type:"change",changed:null,touched:null},ab=function(){va.changed=Kb;va.touched=rb;Kb=Pb;rb=N;({changed:Pb}=va);({touched:N}=va);Fb=!1;for(ma in Kb)Kb[ma]=!1;for(ma in rb)rb[ma]=
!1;va.type="change";c.trigger(va);var ma=[];for(const la in va.touched)va.type=`change:${la}`,ma.push(c.trigger(va));return ma},Ha=function(ma){ma=ma.split(/\./g);const la=ma.pop();ma.pop();ma.unshift(la);return ma.reduce((Ra,Sa)=>Ra+Sa.charAt(0).toUpperCase()+Sa.substring(1))},Qa=(ma,la)=>(()=>{const Ra=[];for(let Sa in la){let ob;const oa=la[Sa];Sa=[ma,Sa].join(".");const Va=Ha(Sa);K[Sa]={T:oa,ns:ma,short:Va,enum:"function"===typeof oa.enum?oa.enum():void 0,type:"function"===typeof oa.uniform?oa.uniform():
void 0,last:oa.make(),value:ob=oa.make()};if(Q[Va])throw Error(`${c.toString()} - Duplicate property \`${Va}\``);Q[Va]=Sa;T[Va]=ob;ib[Sa]=oa.make;$a[Sa]=null!=oa.validate?oa.validate:Ua=>Ua;Ra.push(eb[Sa]=null!=oa.equals?oa.equals:(Ua,ua)=>Ua===ua)}return Ra})(),cb=[];for(let ma of Array.from(F)){[ma,Ab]=Array.from(ma.split(":"));const la=Ab?[Ab,ma].join("."):ma;y=h.getTrait(ma);cb.push(ma);null!=y&&Qa(la,y)}if(null!=E)for(Ab in E)y=E[Ab],Qa(Ab,y);var Ab=cb.filter((ma,la)=>cb.indexOf(ma)===la);c.traits=
Ab;null!=A&&c.set(A,!0,!0);if(null!=H)for(l in H)g(l,H[l],!0);null!=x&&c.set(x,!1,!0);null!=k&&c.bind(k,!0);null!=t&&c.bind(t,!1);this.dispose=function(){for(l in gb)Da(l,!0);for(l in sa)Da(l,!1);E={};delete c.attributes;delete c.get;return delete c.set};null}}};
shadow$provide[134]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.format=p.print=p.number=p.markup=p.JSX=void 0;const w=(t,x)=>1E-4>Math.abs(t/x-Math.round(t/x)),r=function(t,x,A,y){t=Math.round(t/x);return 1===t?`${A}`:-1===t?`-${A}`:"1"===A?`${t}`:y?`${t}${A}`:`${t}*${A}`},m=function(t,x,A,y){t=Math.round(t*x);1===Math.abs(t)?t=(0>t?"-":"")+A:"1"!==A&&(t+=y?`${A}`:`*${A}`);return`${t}/${x}`},d=[{1:1},{1:1,"τ":2*Math.PI},{1:1,"π":Math.PI},{1:1,"τ":2*Math.PI,"π":Math.PI},{1:1,
e:Math.E},{1:1,"τ":2*Math.PI,e:Math.E},{1:1,"π":Math.PI,e:Math.E},{1:1,"τ":2*Math.PI,"π":Math.PI,e:Math.E}],c=[[420,[2,3,5,7]],[88200,[2,3,5,7]],[60060,[2,3,5,7,11,13]],[861764,[2,17,19,23,29]],[65536,[2]],[1E6,[2,5]]],g=function(t){let x,A,y,E,F;t&&({cache:x,compact:A,tau:F,pi:E,e:y}=t);A=+!(null!=A&&!A);const H=+!(null!=F&&!F)+2*+!(null!=E&&!E)+4*+!(null!=y&&!y),P=+!(null!=x&&!x)?{}:null;return function(K){if(null!=P){var T;if(null!=(T=P[K]))return T;if(K===Math.round(K))return P[K]=`${K}`}let aa=
`${K}`,Q=aa.length+aa.indexOf(".")+2;T=function(O){const da=O.length;if(da<=Q)return aa=`${O}`,Q=da};for(const O in d[H]){const da=d[H][O];if(w(K/da,1))T(`${r(K/da,1,O,A)}`);else for(let [ea,za]of Array.from(c)){let Ea=K/da*ea;if(w(Ea,1)){for(const sa of Array.from(za)){let gb,wa;for(;w(wa=Ea/sa,1)&&w(gb=ea/sa,1);)Ea=wa,ea=gb}T(`${m(K/da,ea,O,A)}`);break}}}5<`${K}`.length&&T(`${K.toPrecision(5)}`);null!=P&&(P[K]=aa);return aa}};p.number=g;p.print=function(t,x){null==x&&(x="info");t=h(t);return console[x].apply(console,
t)};const h=function(t){let x=!1,A=0;const y=[];t=t.replace(/(\\[<={}> "'])|(=>|[<={}> "'])/g,function(E,F,H){return null!=F&&F.length?F:x&&!['"',"'"].includes(H)||A&&!['"',"'","{","}"].includes(H)?H:(()=>{switch(H){case "\x3c":return y.push("color:rgb(128,0,128)"),"%c\x3c";case "\x3e":return y.push("color:rgb(128,0,128)"),y.push("color:inherit"),"%c\x3e%c";case " ":return y.push("color:rgb(144,64,0)")," %c";case "\x3d":case "\x3d\x3e":return y.push("color:rgb(128,0,128)"),`%c${H}`;case '"':case "'":if(x=
!x)return y.push(A?"color:rgb(144,64,0)":"color:rgb(0,0,192)"),`${H}%c`;y.push(A?"color:rgb(0,70,156)":"color:rgb(128,0,128)");return`%c${H}`;case "{":return 0===A++?(y.push("color:rgb(0,70,156)"),`%c${H}`):H;case "}":return 0===--A?(y.push("color:rgb(128,0,128)"),`${H}%c`):H;default:return H}})()});return[t].concat(y)};p.markup=h;const l=function(){const t=g({compact:!1});return function(x,A,y){const E=function(F){if(F instanceof Array)return`[${F.map(E).join(", ")}]`;switch(typeof F){case "string":return F.match("\n")?
`"\n${F}"\n`:`"${F}"`;case "function":return F=`${F}`,F.match("\n")?`\n${F}\n`:`${F}`,F=F.replace(/^function (\([^)]*\))/,"$1 \x3d\x3e"),F=F.replace(/^(\([^)]*\)) =>\s*{\s*return\s*([^}]+)\s*;\s*}/,"$1 \x3d\x3e $2");case "number":return t(F);default:return null!=F&&F!==!!F?null!=F._up?E(F.map(H=>H)):F.toMarkup?F.toString():"{"+(()=>{const H=[];for(const aa in F){const Q=F[aa];if(Object.prototype.hasOwnProperty.call(F,aa)){var P=H,K=P.push;var T=aa;T=T===""+ +T||T.match(/^[A-Za-z_][A-Za-z0-9]*$/)?
T:JSON.stringify(T);K.call(P,`${T}: ${E(Q)}`)}}return H})().join(", ")+"}":`${JSON.stringify(F)}`}};return[x,y,function(F){return F.match('\n*"')?F:`{${F}}`}(E(A))].join("")}}(),k=function(t){t=t.replace(/&/g,"\x26amp;");t=t.replace(/</g,"\x26lt;");return t.replace(/"/g,"\x26quot;")};p.format=function(t){const x=[].slice.call(arguments);x.shift();let A="\x3cspan\x3e";t=k(t);for(const y of Array.from(x))t=t.replace(/%([a-z])/,function(E,F){E=x.shift();switch(F){case "c":return`</span><span style="${k(E)}">`;
default:return k(E)}});A+=t;return A+="\x3c/span\x3e"};p.JSX={prop:(t,x)=>l(t,x,"\x3d"),bind:(t,x)=>l(t,x,"\x3d\x3e")}};
shadow$provide[135]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});p.Node=void 0;var r=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(134));G=B(103);let m=0;class d{constructor(c,g,h,l,k,t){this.type=c;this._id=(++m).toString();this.configure(k,t);this.parent=this.root=this.path=this.index=null;this.set(g,!0,!0);this.set(h,!1,!0);this.bind(l,!1)}configure(c,g){let {traits:h,props:l,finals:k,freeform:t}=c;null==h&&(h=null!=(null!=this._config?this._config.traits:void 0)?null!=this._config?
this._config.traits:void 0:[]);null==l&&(l=null!=(null!=this._config?this._config.props:void 0)?null!=this._config?this._config.props:void 0:{});null==k&&(k=null!=(null!=this._config?this._config.finals:void 0)?null!=this._config?this._config.finals:void 0:{});null==t&&(t=null!=(null!=this._config?this._config.freeform:void 0)?null!=this._config?this._config.freeform:void 0:!1);this._config={traits:h,props:l,finals:k,freeform:t};return this.attributes=g.apply(this,this._config)}dispose(){this.attributes.dispose();
return this.attributes=null}_added(c){this.parent=c;this.root=c.root;c={type:"add",node:this,parent:this.parent};this.root&&this.root.trigger(c);c.type="added";return this.trigger(c)}_removed(){const c={type:"remove",node:this};this.root&&this.root.trigger(c);c.type="removed";this.trigger(c);return this.root=this.parent=null}_index(c,g){null==g&&({parent:g}=this);this.index=c;this.path=c=null!=c?(null!=(null!=g?g.path:void 0)?null!=g?g.path:void 0:[]).concat([c]):null;this.order=null!=c?this._encode(c):
Infinity;if(null!=this.root)return this.trigger({type:"reindex"})}_encode(c){let g=1+1/3,h=0;for(const l of Array.from(c))[g,h]=Array.from([h+3/(l+1+3)*(g-h),h+3/(l+2+3)*(g-h)]);return g}toString(){const c=null!=this.type?this.type:"node";let g;g=c+`#${null!=this.id?this.id:this._id}`;null!=this.classes&&this.classes.length&&(g+=`.${this.classes.join(".")}`);if(null!=this.children){let h;return(h=this.children.length)?`<${g}>…(${h})…</${c}>`:`<${g}></${c}>`}return`<${g} />`}toMarkup(c=null,g){let h,
l;null==g&&(g="");if(c&&"function"!==typeof c){var k;c=null!=(k=null!=this.root?this.root.model._matcher(c):void 0)?k:()=>!0}k=null!=this.type?this.type:"node";let {expr:t}=this;const x={id:this._id};var A="function"===typeof this.orig?this.orig():void 0;for(h in A)l=A[h],x[h]=l;A=(()=>{const F=[];for(h in x)l=x[h],this.expr[h]||F.push(r.JSX.prop(h,l));return F})();t=(()=>{const F=[];for(h in t)l=t[h],F.push(r.JSX.bind(h,l));return F})();var y=[""];A.length&&(y=y.concat(A));t.length&&(y=y.concat(t));
y=y.join(" ");let E=g;A=()=>null!=this.children&&this.children.length?this.children.map(F=>F.toMarkup(c,E)).filter(F=>null!=F&&F.length).join("\n"):"";return c&&!c(this)?A():null!=this.children?(y=`<${k}${y}>`,k=`</${k}>`,E=g+"  ",A=A(),A.length&&(A="\n"+A+"\n"+g),null==A&&(A=""),g+y+A+k):`${g}<${k}${y} />`}print(c,g){return r.print(this.toMarkup(c),g)}}p.Node=d;G.Binder.apply(d.prototype)};
shadow$provide[136]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Group=void 0;G=B(135);class w extends G.Node{constructor(r,m,d,c,g,h){super(r,m,d,c,g,h);this.children=[];this.on("reindex",l=>Array.from(this.children).map(k=>k.trigger(l)))}add(r){null!=r.parent&&r.parent.remove(r);r._index(this.children.length,this);this.children.push(r);return r._added(this)}remove(r){null!=r.children&&r.children.length&&r.empty();const m=this.children.indexOf(r);if(-1!==m){this.children.splice(m,
1);r._index(null);r._removed(this);for(let d=0;d<this.children.length;d++)r=this.children[d],d>=m&&r._index(d)}}empty(){const r=this.children.slice().reverse();for(const m of Array.from(r))this.remove(m)}}p.Group=w};
shadow$provide[137]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Guard=void 0;class w{constructor(r){null==r&&(r=10);this.limit=r}iterate(r){const {step:m,last:d}=r;for({limit:r}=this;m();)if(!--r)throw console.warn("Last iteration","function"===typeof d?d():void 0),Error("Exceeded iteration limit.");return null}}p.Guard=w};
shadow$provide[138]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Doctype=p.CDATA=p.Tag=p.Style=p.Script=p.Comment=p.Directive=p.Text=p.Root=p.isTag=p.ElementType=void 0;var w;(function(r){r.Root="root";r.Text="text";r.Directive="directive";r.Comment="comment";r.Script="script";r.Style="style";r.Tag="tag";r.CDATA="cdata";r.Doctype="doctype"})(w=p.ElementType||(p.ElementType={}));p.isTag=function(r){return r.type===w.Tag||r.type===w.Script||r.type===w.Style};p.Root=w.Root;p.Text=
w.Text;p.Directive=w.Directive;p.Comment=w.Comment;p.Script=w.Script;p.Style=w.Style;p.Tag=w.Tag;p.CDATA=w.CDATA;p.Doctype=w.Doctype};
shadow$provide[139]=function(G,B,X,p){function w(T){return(0,x.isTag)(T)}function r(T){return T.type===x.ElementType.CDATA}function m(T){return T.type===x.ElementType.Text}function d(T){return T.type===x.ElementType.Comment}function c(T){return T.type===x.ElementType.Directive}function g(T){return T.type===x.ElementType.Root}function h(T,aa){void 0===aa&&(aa=!1);if(m(T))aa=new y(T.data);else if(d(T))aa=new E(T.data);else if(w(T)){aa=aa?l(T.children):[];var Q=new K(T.name,t({},T.attribs),aa);aa.forEach(function(ea){return ea.parent=
Q});null!=T.namespace&&(Q.namespace=T.namespace);T["x-attribsNamespace"]&&(Q["x-attribsNamespace"]=t({},T["x-attribsNamespace"]));T["x-attribsPrefix"]&&(Q["x-attribsPrefix"]=t({},T["x-attribsPrefix"]));aa=Q}else if(r(T)){aa=aa?l(T.children):[];var O=new H(x.ElementType.CDATA,aa);aa.forEach(function(ea){return ea.parent=O});aa=O}else if(g(T)){aa=aa?l(T.children):[];var da=new P(aa);aa.forEach(function(ea){return ea.parent=da});T["x-mode"]&&(da["x-mode"]=T["x-mode"]);aa=da}else if(c(T))aa=new F(T.name,
T.data),null!=T["x-name"]&&(aa["x-name"]=T["x-name"],aa["x-publicId"]=T["x-publicId"],aa["x-systemId"]=T["x-systemId"]);else throw Error("Not implemented yet: ".concat(T.type));aa.startIndex=T.startIndex;aa.endIndex=T.endIndex;null!=T.sourceCodeLocation&&(aa.sourceCodeLocation=T.sourceCodeLocation);return aa}function l(T){T=T.map(function(Q){return h(Q,!0)});for(var aa=1;aa<T.length;aa++)T[aa].prev=T[aa-1],T[aa-1].next=T[aa];return T}var k=this&&this.__extends||function(){var T=function(aa,Q){T=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(O,da){O.__proto__=da}||function(O,da){for(var ea in da)Object.prototype.hasOwnProperty.call(da,ea)&&(O[ea]=da[ea])};return T(aa,Q)};return function(aa,Q){function O(){this.constructor=aa}if("function"!==typeof Q&&null!==Q)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");T(aa,Q);aa.prototype=null===Q?Object.create(Q):(O.prototype=Q.prototype,new O)}}(),t=this&&this.__assign||function(){t=Object.assign||function(T){for(var aa,
Q=1,O=arguments.length;Q<O;Q++){aa=arguments[Q];for(var da in aa)Object.prototype.hasOwnProperty.call(aa,da)&&(T[da]=aa[da])}return T};return t.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});p.cloneNode=p.hasChildren=p.isDocument=p.isDirective=p.isComment=p.isText=p.isCDATA=p.isTag=p.Element=p.Document=p.NodeWithChildren=p.ProcessingInstruction=p.Comment=p.Text=p.DataNode=p.Node=void 0;var x=B(138),A=new Map([[x.ElementType.Tag,1],[x.ElementType.Script,1],[x.ElementType.Style,
1],[x.ElementType.Directive,1],[x.ElementType.Text,3],[x.ElementType.CDATA,4],[x.ElementType.Comment,8],[x.ElementType.Root,9]]);G=function(){function T(aa){this.type=aa;this.endIndex=this.startIndex=this.next=this.prev=this.parent=null}Object.defineProperty(T.prototype,"nodeType",{get:function(){var aa;return null!==(aa=A.get(this.type))&&void 0!==aa?aa:1},enumerable:!1,configurable:!0});Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(aa){this.parent=
aa},enumerable:!1,configurable:!0});Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(aa){this.prev=aa},enumerable:!1,configurable:!0});Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(aa){this.next=aa},enumerable:!1,configurable:!0});T.prototype.cloneNode=function(aa){void 0===aa&&(aa=!1);return h(this,aa)};return T}();p.Node=G;B=function(T){function aa(Q,O){Q=T.call(this,Q)||this;Q.data=O;return Q}k(aa,
T);Object.defineProperty(aa.prototype,"nodeValue",{get:function(){return this.data},set:function(Q){this.data=Q},enumerable:!1,configurable:!0});return aa}(G);p.DataNode=B;var y=function(T){function aa(Q){return T.call(this,x.ElementType.Text,Q)||this}k(aa,T);return aa}(B);p.Text=y;var E=function(T){function aa(Q){return T.call(this,x.ElementType.Comment,Q)||this}k(aa,T);return aa}(B);p.Comment=E;var F=function(T){function aa(Q,O){O=T.call(this,x.ElementType.Directive,O)||this;O.name=Q;return O}k(aa,
T);return aa}(B);p.ProcessingInstruction=F;var H=function(T){function aa(Q,O){Q=T.call(this,Q)||this;Q.children=O;return Q}k(aa,T);Object.defineProperty(aa.prototype,"firstChild",{get:function(){var Q;return null!==(Q=this.children[0])&&void 0!==Q?Q:null},enumerable:!1,configurable:!0});Object.defineProperty(aa.prototype,"lastChild",{get:function(){return 0<this.children.length?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0});Object.defineProperty(aa.prototype,"childNodes",
{get:function(){return this.children},set:function(Q){this.children=Q},enumerable:!1,configurable:!0});return aa}(G);p.NodeWithChildren=H;var P=function(T){function aa(Q){return T.call(this,x.ElementType.Root,Q)||this}k(aa,T);return aa}(H);p.Document=P;var K=function(T){function aa(Q,O,da,ea){void 0===da&&(da=[]);void 0===ea&&(ea="script"===Q?x.ElementType.Script:"style"===Q?x.ElementType.Style:x.ElementType.Tag);da=T.call(this,ea,da)||this;da.name=Q;da.attribs=O;return da}k(aa,T);Object.defineProperty(aa.prototype,
"tagName",{get:function(){return this.name},set:function(Q){this.name=Q},enumerable:!1,configurable:!0});Object.defineProperty(aa.prototype,"attributes",{get:function(){var Q=this;return Object.keys(this.attribs).map(function(O){var da,ea;return{name:O,value:Q.attribs[O],namespace:null===(da=Q["x-attribsNamespace"])||void 0===da?void 0:da[O],prefix:null===(ea=Q["x-attribsPrefix"])||void 0===ea?void 0:ea[O]}})},enumerable:!1,configurable:!0});return aa}(H);p.Element=K;p.isTag=w;p.isCDATA=r;p.isText=
m;p.isComment=d;p.isDirective=c;p.isDocument=g;p.hasChildren=function(T){return Object.prototype.hasOwnProperty.call(T,"children")};p.cloneNode=h};
shadow$provide[140]=function(G,B,X,p){var w=this&&this.__createBinding||(Object.create?function(g,h,l,k){void 0===k&&(k=l);var t=Object.getOwnPropertyDescriptor(h,l);if(!t||("get"in t?!h.__esModule:t.writable||t.configurable))t={enumerable:!0,get:function(){return h[l]}};Object.defineProperty(g,k,t)}:function(g,h,l,k){void 0===k&&(k=l);g[k]=h[l]});G=this&&this.__exportStar||function(g,h){for(var l in g)"default"===l||Object.prototype.hasOwnProperty.call(h,l)||w(h,g,l)};Object.defineProperty(p,"__esModule",
{value:!0});p.DomHandler=void 0;var r=B(138),m=B(139);G(B(139),p);var d=/\s+/g,c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1};B=function(){function g(h,l,k){this.dom=[];this.root=new m.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null;"function"===typeof l&&(k=l,l=c);"object"===typeof h&&(l=h,h=void 0);this.callback=null!==h&&void 0!==h?h:null;this.options=null!==l&&void 0!==l?l:c;this.elementCB=null!==k&&void 0!==k?k:null}g.prototype.onparserinit=
function(h){this.parser=h};g.prototype.onreset=function(){this.dom=[];this.root=new m.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null};g.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))};g.prototype.onerror=function(h){this.handleCallback(h)};g.prototype.onclosetag=function(){this.lastNode=null;var h=this.tagStack.pop();this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);this.elementCB&&this.elementCB(h)};
g.prototype.onopentag=function(h,l){h=new m.Element(h,l,void 0,this.options.xmlMode?r.ElementType.Tag:void 0);this.addNode(h);this.tagStack.push(h)};g.prototype.ontext=function(h){var l=this.options.normalizeWhitespace,k=this.lastNode;k&&k.type===r.ElementType.Text?(k.data=l?(k.data+h).replace(d," "):k.data+h,this.options.withEndIndices&&(k.endIndex=this.parser.endIndex)):(l&&(h=h.replace(d," ")),h=new m.Text(h),this.addNode(h),this.lastNode=h)};g.prototype.oncomment=function(h){this.lastNode&&this.lastNode.type===
r.ElementType.Comment?this.lastNode.data+=h:(h=new m.Comment(h),this.addNode(h),this.lastNode=h)};g.prototype.oncommentend=function(){this.lastNode=null};g.prototype.oncdatastart=function(){var h=new m.Text(""),l=new m.NodeWithChildren(r.ElementType.CDATA,[h]);this.addNode(l);h.parent=l;this.lastNode=h};g.prototype.oncdataend=function(){this.lastNode=null};g.prototype.onprocessinginstruction=function(h,l){h=new m.ProcessingInstruction(h,l);this.addNode(h)};g.prototype.handleCallback=function(h){if("function"===
typeof this.callback)this.callback(h,this.dom);else if(h)throw h;};g.prototype.addNode=function(h){var l=this.tagStack[this.tagStack.length-1],k=l.children[l.children.length-1];this.options.withStartIndices&&(h.startIndex=this.parser.startIndex);this.options.withEndIndices&&(h.endIndex=this.parser.endIndex);l.children.push(h);k&&(h.prev=k,k.next=h);h.parent=l;this.lastNode=null};return g}();p.DomHandler=B;p.default=B};
shadow$provide[141]=function(G,B,X,p){X.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"\x26",AMP:"\x26",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",
angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",
Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",
blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"\x3d⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",
boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"\ud835\udcb7",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",
caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"\ud835\udd20",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",
cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"\ud835\udd54",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",
Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",
Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",
divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",
DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",
dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",
emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"\x3d",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",
exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",
frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"\ud835\udcbb",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",
gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"\ud835\udca2",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:"\x3e",GT:"\x3e",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",
HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"\ud835\udd25",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"\ud835\udd59",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"\ud835\udcbd",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",
icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"\ud835\udd26",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅","in":"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺","int":"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",
iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"\ud835\udcbe",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"ȷ",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",
Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",
lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",
leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",
lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",
lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",
lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"\ud835\udcc1",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"\x3c",LT:"\x3c",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",
mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"∓",mscr:"\ud835\udcc2",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",
natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",
nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"\ud835\udd5f",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",
NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",
NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",
NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",
nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:"\x3e⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"\x3c⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",
nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"⦷",
OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"\ud835\udcaa",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",
permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"\ud835\udd61",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",
PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"⨌",qopf:"\ud835\udd62",Qopf:"ℚ",qprime:"⁗",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"ℍ",
quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",
rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"\ud835\udd2f",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",
RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",
rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"\ud835\udd63",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"\ud835\udcc7",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",
scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",
sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",
SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",
subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",
supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",
TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"Ц",tscy:"ц",
TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",
UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"\ud835\udcb0",
uscr:"\ud835\udcca",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",
vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"∝",vrtri:"⊳",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",
wopf:"\ud835\udd68",wp:"℘",wr:"≀",wreath:"≀",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",
Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"Ї",yicy:"ї",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"\ud835\udd37",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"\ud835\udd6b",Zopf:"ℤ",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"‍",zwnj:"‌"}};
shadow$provide[142]=function(G,B,X,p){X.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"\x26",AMP:"\x26",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:"\x3e",GT:"\x3e",Iacute:"Í",iacute:"í",Icirc:"Î",
icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"\x3c",LT:"\x3c",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",
ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}};
shadow$provide[143]=function(G,B,X,p){X.exports={amp:"\x26",apos:"'",gt:"\x3e",lt:"\x3c",quot:'"'}};
shadow$provide[144]=function(G,B,X,p){X.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}};
shadow$provide[145]=function(G,B,X,p){G=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};Object.defineProperty(p,"__esModule",{value:!0});var w=G(B(144)),r=String.fromCodePoint||function(m){var d="";65535<m&&(m-=65536,d+=String.fromCharCode(m>>>10&1023|55296),m=56320|m&1023);return d+=String.fromCharCode(m)};p.default=function(m){if(55296<=m&&57343>=m||1114111<m)return"�";m in w.default&&(m=w.default[m]);return r(m)}};
shadow$provide[146]=function(G,B,X,p){function w(l){var k=r(l);return function(t){return String(t).replace(g,k)}}function r(l){return function(k){if("#"===k.charAt(1)){var t=k.charAt(2);return"X"===t||"x"===t?c.default(parseInt(k.substr(3),16)):c.default(parseInt(k.substr(2),10))}return l[k.slice(1,-1)]||k}}G=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{"default":l}};Object.defineProperty(p,"__esModule",{value:!0});p.decodeHTML=p.decodeHTMLStrict=p.decodeXML=void 0;var m=G(B(141)),
d=G(B(142));X=G(B(143));var c=G(B(145)),g=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;p.decodeXML=w(X.default);p.decodeHTMLStrict=w(m.default);var h=function(l,k){return l<k?1:-1};p.decodeHTML=function(){function l(F){";"!==F.substr(-1)&&(F+=";");return E(F)}for(var k=Object.keys(d.default).sort(h),t=Object.keys(m.default).sort(h),x=0,A=0;x<t.length;x++)k[A]===t[x]?(t[x]+=";?",A++):t[x]+=";";var y=new RegExp("\x26(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),E=r(m.default);return function(F){return String(F).replace(y,
l)}}()};
shadow$provide[147]=function(G,B,X,p){function w(k){return Object.keys(k).sort().reduce(function(t,x){t[k[x]]="\x26"+x+";";return t},{})}function r(k){var t=[],x=[],A=0;for(k=Object.keys(k);A<k.length;A++){var y=k[A];1===y.length?t.push("\\"+y):x.push(y)}t.sort();for(A=0;A<t.length-1;A++){for(k=A;k<t.length-1&&t[k].charCodeAt(1)+1===t[k+1].charCodeAt(1);)k+=1;y=1+k-A;3>y||t.splice(A,y,t[A]+"-"+t[k])}x.unshift("["+t.join("")+"]");return new RegExp(x.join("|"),"g")}function m(k){return"\x26#x"+(1<k.length?
h(k):k.charCodeAt(0)).toString(16).toUpperCase()+";"}function d(k){return function(t){return t.replace(l,function(x){return k[x]||m(x)})}}G=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(p,"__esModule",{value:!0});p.escapeUTF8=p.escape=p.encodeNonAsciiHTML=p.encodeHTML=p.encodeXML=void 0;X=G(B(143));X=w(X.default);var c=r(X);p.encodeXML=d(X);B=G(B(141));B=w(B.default);G=r(B);p.encodeHTML=function(k,t){return function(x){return x.replace(t,function(A){return k[A]}).replace(g,
m)}}(B,G);p.encodeNonAsciiHTML=d(B);var g=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,h=null!=String.prototype.codePointAt?function(k){return k.codePointAt(0)}:function(k){return 1024*(k.charCodeAt(0)-55296)+k.charCodeAt(1)-56320+65536},l=new RegExp(c.source+"|"+g.source,"g");p.escape=function(k){return k.replace(l,m)};p.escapeUTF8=function(k){return k.replace(c,m)}};
shadow$provide[148]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.decodeXMLStrict=p.decodeHTML5Strict=p.decodeHTML4Strict=p.decodeHTML5=p.decodeHTML4=p.decodeHTMLStrict=p.decodeHTML=p.decodeXML=p.encodeHTML5=p.encodeHTML4=p.escapeUTF8=p.escape=p.encodeNonAsciiHTML=p.encodeHTML=p.encodeXML=p.encode=p.decodeStrict=p.decode=void 0;var w=B(146),r=B(147);p.decode=function(c,g){return(!g||0>=g?w.decodeXML:w.decodeHTML)(c)};p.decodeStrict=function(c,g){return(!g||0>=g?w.decodeXML:
w.decodeHTMLStrict)(c)};p.encode=function(c,g){return(!g||0>=g?r.encodeXML:r.encodeHTML)(c)};var m=B(147);Object.defineProperty(p,"encodeXML",{enumerable:!0,get:function(){return m.encodeXML}});Object.defineProperty(p,"encodeHTML",{enumerable:!0,get:function(){return m.encodeHTML}});Object.defineProperty(p,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return m.encodeNonAsciiHTML}});Object.defineProperty(p,"escape",{enumerable:!0,get:function(){return m.escape}});Object.defineProperty(p,"escapeUTF8",
{enumerable:!0,get:function(){return m.escapeUTF8}});Object.defineProperty(p,"encodeHTML4",{enumerable:!0,get:function(){return m.encodeHTML}});Object.defineProperty(p,"encodeHTML5",{enumerable:!0,get:function(){return m.encodeHTML}});var d=B(146);Object.defineProperty(p,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}});Object.defineProperty(p,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}});Object.defineProperty(p,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}});
Object.defineProperty(p,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}});Object.defineProperty(p,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}});Object.defineProperty(p,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}});Object.defineProperty(p,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}});Object.defineProperty(p,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})};
shadow$provide[149]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.attributeNames=p.elementNames=void 0;p.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix",
"feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting",
"feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);p.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],
["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],
["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur",
"repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget",
"viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])};
shadow$provide[150]=function(G,B,X,p){function w(E,F){if(E)return Object.keys(E).map(function(H){var P,K,T=null!==(P=E[H])&&void 0!==P?P:"";"foreign"===F.xmlMode&&(H=null!==(K=k.attributeNames.get(H))&&void 0!==K?K:H);return F.emptyAttrs||F.xmlMode||""!==T?H+'\x3d"'+(!1!==F.decodeEntities?l.encodeXML(T):T.replace(/"/g,"\x26quot;"))+'"':H}).join(" ")}function r(E,F){void 0===F&&(F={});E="length"in E?E:[E];for(var H="",P=0;P<E.length;P++)H+=m(E[P],F);return H}function m(E,F){switch(E.type){case h.Root:return r(E.children,
F);case h.Directive:case h.Doctype:return"\x3c"+E.data+"\x3e";case h.Comment:return"\x3c!--"+E.data+"--\x3e";case h.CDATA:return"\x3c![CDATA["+E.children[0].data+"]]\x3e";case h.Script:case h.Style:case h.Tag:var H;"foreign"===F.xmlMode&&(E.name=null!==(H=k.elementNames.get(E.name))&&void 0!==H?H:E.name,E.parent&&A.has(E.parent.name)&&(F=d(d({},F),{xmlMode:!1})));!F.xmlMode&&y.has(E.name)&&(F=d(d({},F),{xmlMode:"foreign"}));H="\x3c"+E.name;var P=w(E.attribs,F);P&&(H+=" "+P);if(0===E.children.length&&
(F.xmlMode?!1!==F.selfClosingTags:F.selfClosingTags&&x.has(E.name)))F.xmlMode||(H+=" "),H+="/\x3e";else if(H+="\x3e",0<E.children.length&&(H+=r(E.children,F)),F.xmlMode||!x.has(E.name))H+="\x3c/"+E.name+"\x3e";return H;case h.Text:return H=E.data||"",!1===F.decodeEntities||!F.xmlMode&&E.parent&&t.has(E.parent.name)||(H=l.encodeXML(H)),H}}var d=this&&this.__assign||function(){d=Object.assign||function(E){for(var F,H=1,P=arguments.length;H<P;H++){F=arguments[H];for(var K in F)Object.prototype.hasOwnProperty.call(F,
K)&&(E[K]=F[K])}return E};return d.apply(this,arguments)},c=this&&this.__createBinding||(Object.create?function(E,F,H,P){void 0===P&&(P=H);Object.defineProperty(E,P,{enumerable:!0,get:function(){return F[H]}})}:function(E,F,H,P){void 0===P&&(P=H);E[P]=F[H]}),g=this&&this.__setModuleDefault||(Object.create?function(E,F){Object.defineProperty(E,"default",{enumerable:!0,value:F})}:function(E,F){E["default"]=F});G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var F={};if(null!=E)for(var H in E)"default"!==
H&&Object.prototype.hasOwnProperty.call(E,H)&&c(F,E,H);g(F,E);return F};Object.defineProperty(p,"__esModule",{value:!0});var h=G(B(138)),l=B(148),k=B(149),t=new Set("style script xmp iframe noembed noframes plaintext noscript".split(" ")),x=new Set("area base basefont br col command embed frame hr img input isindex keygen link meta param source track wbr".split(" "));p.default=r;var A=new Set("mi mo mn ms mtext annotation-xml foreignObject desc title".split(" ")),y=new Set(["svg","math"])};
shadow$provide[151]=function(G,B,X,p){function w(l,k){return(0,g.default)(l,k)}function r(l){return Array.isArray(l)?l.map(r).join(""):(0,c.isTag)(l)?"br"===l.name?"\n":r(l.children):(0,c.isCDATA)(l)?r(l.children):(0,c.isText)(l)?l.data:""}function m(l){return Array.isArray(l)?l.map(m).join(""):(0,c.hasChildren)(l)&&!(0,c.isComment)(l)?m(l.children):(0,c.isText)(l)?l.data:""}function d(l){return Array.isArray(l)?l.map(d).join(""):(0,c.hasChildren)(l)&&(l.type===h.ElementType.Tag||(0,c.isCDATA)(l))?
d(l.children):(0,c.isText)(l)?l.data:""}G=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{"default":l}};Object.defineProperty(p,"__esModule",{value:!0});p.innerText=p.textContent=p.getText=p.getInnerHTML=p.getOuterHTML=void 0;var c=B(140),g=G(B(150)),h=B(138);p.getOuterHTML=w;p.getInnerHTML=function(l,k){return(0,c.hasChildren)(l)?l.children.map(function(t){return w(t,k)}).join(""):""};p.getText=r;p.textContent=m;p.innerText=d};
shadow$provide[152]=function(G,B,X,p){function w(c){var g;return null!==(g=c.children)&&void 0!==g?g:d}function r(c){return c.parent||null}Object.defineProperty(p,"__esModule",{value:!0});p.prevElementSibling=p.nextElementSibling=p.getName=p.hasAttrib=p.getAttributeValue=p.getSiblings=p.getParent=p.getChildren=void 0;var m=B(140),d=[];p.getChildren=w;p.getParent=r;p.getSiblings=function(c){var g=r(c);if(null!=g)return w(g);g=[c];var h=c.prev;for(c=c.next;null!=h;)g.unshift(h),h=h.prev;for(;null!=
c;)g.push(c),c=c.next;return g};p.getAttributeValue=function(c,g){var h;return null===(h=c.attribs)||void 0===h?void 0:h[g]};p.hasAttrib=function(c,g){return null!=c.attribs&&Object.prototype.hasOwnProperty.call(c.attribs,g)&&null!=c.attribs[g]};p.getName=function(c){return c.name};p.nextElementSibling=function(c){for(c=c.next;null!==c&&!(0,m.isTag)(c);)c=c.next;return c};p.prevElementSibling=function(c){for(c=c.prev;null!==c&&!(0,m.isTag)(c);)c=c.prev;return c}};
shadow$provide[153]=function(G,B,X,p){function w(r){r.prev&&(r.prev.next=r.next);r.next&&(r.next.prev=r.prev);if(r.parent){var m=r.parent.children;m.splice(m.lastIndexOf(r),1)}}Object.defineProperty(p,"__esModule",{value:!0});p.prepend=p.prependChild=p.append=p.appendChild=p.replaceElement=p.removeElement=void 0;p.removeElement=w;p.replaceElement=function(r,m){var d=m.prev=r.prev;d&&(d.next=m);if(d=m.next=r.next)d.prev=m;if(d=m.parent=r.parent)d=d.children,d[d.lastIndexOf(r)]=m};p.appendChild=function(r,
m){w(m);m.next=null;m.parent=r;1<r.children.push(m)?(r=r.children[r.children.length-2],r.next=m,m.prev=r):m.prev=null};p.append=function(r,m){w(m);var d=r.parent,c=r.next;m.next=c;m.prev=r;r.next=m;m.parent=d;c?(c.prev=m,d&&(r=d.children,r.splice(r.lastIndexOf(c),0,m))):d&&d.children.push(m)};p.prependChild=function(r,m){w(m);m.parent=r;m.prev=null;1!==r.children.unshift(m)?(r=r.children[1],r.prev=m,m.next=r):m.next=null};p.prepend=function(r,m){w(m);var d=r.parent;if(d){var c=d.children;c.splice(c.indexOf(r),
0,m)}r.prev&&(r.prev.next=m);m.parent=d;m.prev=r.prev;m.next=r;r.prev=m}};
shadow$provide[154]=function(G,B,X,p){function w(c,g,h,l){for(var k=[],t=0;t<g.length;t++){var x=g[t];if(c(x)&&(k.push(x),0>=--l))break;if(h&&(0,d.hasChildren)(x)&&0<x.children.length&&(x=w(c,x.children,h,l),k.push.apply(k,x),l-=x.length,0>=l))break}return k}function r(c,g,h){void 0===h&&(h=!0);for(var l=null,k=0;k<g.length&&!l;k++){var t=g[k];(0,d.isTag)(t)&&(c(t)?l=t:h&&0<t.children.length&&(l=r(c,t.children)))}return l}function m(c,g){return g.some(function(h){return(0,d.isTag)(h)&&(c(h)||0<h.children.length&&
m(c,h.children))})}Object.defineProperty(p,"__esModule",{value:!0});p.findAll=p.existsOne=p.findOne=p.findOneChild=p.find=p.filter=void 0;var d=B(140);p.filter=function(c,g,h,l){void 0===h&&(h=!0);void 0===l&&(l=Infinity);Array.isArray(g)||(g=[g]);return w(c,g,h,l)};p.find=w;p.findOneChild=function(c,g){return g.find(c)};p.findOne=r;p.existsOne=m;p.findAll=function(c,g){var h,l=[];g=g.filter(d.isTag);for(var k;k=g.shift();){var t=null===(h=k.children)||void 0===h?void 0:h.filter(d.isTag);t&&0<t.length&&
g.unshift.apply(g,t);c(k)&&l.push(k)}return l}};
shadow$provide[155]=function(G,B,X,p){function w(h,l){return"function"===typeof l?function(k){return(0,d.isTag)(k)&&l(k.attribs[h])}:function(k){return(0,d.isTag)(k)&&k.attribs[h]===l}}function r(h,l){return function(k){return h(k)||l(k)}}function m(h){var l=Object.keys(h).map(function(k){var t=h[k];return Object.prototype.hasOwnProperty.call(g,k)?g[k](t):w(k,t)});return 0===l.length?null:l.reduce(r)}Object.defineProperty(p,"__esModule",{value:!0});p.getElementsByTagType=p.getElementsByTagName=p.getElementById=
p.getElements=p.testElement=void 0;var d=B(140),c=B(154),g={tag_name:function(h){return"function"===typeof h?function(l){return(0,d.isTag)(l)&&h(l.name)}:"*"===h?d.isTag:function(l){return(0,d.isTag)(l)&&l.name===h}},tag_type:function(h){return"function"===typeof h?function(l){return h(l.type)}:function(l){return l.type===h}},tag_contains:function(h){return"function"===typeof h?function(l){return(0,d.isText)(l)&&h(l.data)}:function(l){return(0,d.isText)(l)&&l.data===h}}};p.testElement=function(h,
l){return(h=m(h))?h(l):!0};p.getElements=function(h,l,k,t){void 0===t&&(t=Infinity);return(h=m(h))?(0,c.filter)(h,l,k,t):[]};p.getElementById=function(h,l,k){void 0===k&&(k=!0);Array.isArray(l)||(l=[l]);return(0,c.findOne)(w("id",h),l,k)};p.getElementsByTagName=function(h,l,k,t){void 0===k&&(k=!0);void 0===t&&(t=Infinity);return(0,c.filter)(g.tag_name(h),l,k,t)};p.getElementsByTagType=function(h,l,k,t){void 0===k&&(k=!0);void 0===t&&(t=Infinity);return(0,c.filter)(g.tag_type(h),l,k,t)}};
shadow$provide[156]=function(G,B,X,p){function w(m,d){var c=[],g=[];if(m===d)return 0;for(var h=(0,r.hasChildren)(m)?m:m.parent;h;)c.unshift(h),h=h.parent;for(h=(0,r.hasChildren)(d)?d:d.parent;h;)g.unshift(h),h=h.parent;var l=Math.min(c.length,g.length);for(h=0;h<l&&c[h]===g[h];)h++;if(0===h)return 1;l=c[h-1];var k=l.children;g=g[h];return k.indexOf(c[h])>k.indexOf(g)?l===d?20:4:l===m?10:2}Object.defineProperty(p,"__esModule",{value:!0});p.uniqueSort=p.compareDocumentPosition=p.removeSubsets=void 0;
var r=B(140);p.removeSubsets=function(m){for(var d=m.length;0<=--d;){var c=m[d];if(0<d&&0<=m.lastIndexOf(c,d-1))m.splice(d,1);else for(c=c.parent;c;c=c.parent)if(m.includes(c)){m.splice(d,1);break}}return m};p.compareDocumentPosition=w;p.uniqueSort=function(m){m=m.filter(function(d,c,g){return!g.includes(d,c+1)});m.sort(function(d,c){d=w(d,c);return d&2?-1:d&4?1:0});return m}};
shadow$provide[157]=function(G,B,X,p){function w(A){var y;A=A.children;var E={type:"atom",items:(0,k.getElementsByTagName)("entry",A).map(function(H){var P,K=H.children;H={media:m(K)};g(H,"id","id",K);g(H,"title","title",K);var T=null===(P=d("link",K))||void 0===P?void 0:P.attribs.href;T&&(H.link=T);if(P=c("summary",K)||c("content",K))H.description=P;if(P=c("updated",K))H.pubDate=new Date(P);return H})};g(E,"id","id",A);g(E,"title","title",A);var F=null===(y=d("link",A))||void 0===y?void 0:y.attribs.href;
F&&(E.link=F);g(E,"description","subtitle",A);if(y=c("updated",A))E.updated=new Date(y);g(E,"author","email",A,!0);return E}function r(A){var y,E,F=null!==(E=null===(y=d("channel",A.children))||void 0===y?void 0:y.children)&&void 0!==E?E:[];A={type:A.name.substr(0,3),id:"",items:(0,k.getElementsByTagName)("item",A.children).map(function(H){var P=H.children;H={media:m(P)};g(H,"id","guid",P);g(H,"title","title",P);g(H,"link","link",P);g(H,"description","description",P);if(P=c("pubDate",P))H.pubDate=
new Date(P);return H})};g(A,"title","title",F);g(A,"link","link",F);g(A,"description","description",F);if(y=c("lastBuildDate",F))A.updated=new Date(y);g(A,"author","managingEditor",F,!0);return A}function m(A){return(0,k.getElementsByTagName)("media:content",A).map(function(y){y=y.attribs;for(var E={medium:y.medium,isDefault:!!y.isDefault},F=0,H=t;F<H.length;F++){var P=H[F];y[P]&&(E[P]=y[P])}F=0;for(H=x;F<H.length;F++)P=H[F],y[P]&&(E[P]=parseInt(y[P],10));y.expression&&(E.expression=y.expression);
return E})}function d(A,y){return(0,k.getElementsByTagName)(A,y,!0,1)[0]}function c(A,y,E){void 0===E&&(E=!1);return(0,l.textContent)((0,k.getElementsByTagName)(A,y,E,1)).trim()}function g(A,y,E,F,H){void 0===H&&(H=!1);(E=c(E,F,H))&&(A[y]=E)}function h(A){return"rss"===A||"feed"===A||"rdf:RDF"===A}Object.defineProperty(p,"__esModule",{value:!0});p.getFeed=void 0;var l=B(151),k=B(155);p.getFeed=function(A){return(A=d(h,A))?"feed"===A.name?w(A):r(A):null};var t=["url","type","lang"],x="fileSize bitrate framerate samplingrate channels duration height width".split(" ")};
shadow$provide[158]=function(G,B,X,p){var w=this&&this.__createBinding||(Object.create?function(m,d,c,g){void 0===g&&(g=c);Object.defineProperty(m,g,{enumerable:!0,get:function(){return d[c]}})}:function(m,d,c,g){void 0===g&&(g=c);m[g]=d[c]});G=this&&this.__exportStar||function(m,d){for(var c in m)"default"===c||Object.prototype.hasOwnProperty.call(d,c)||w(d,m,c)};Object.defineProperty(p,"__esModule",{value:!0});p.hasChildren=p.isDocument=p.isComment=p.isText=p.isCDATA=p.isTag=void 0;G(B(151),p);
G(B(152),p);G(B(153),p);G(B(154),p);G(B(155),p);G(B(156),p);G(B(157),p);var r=B(140);Object.defineProperty(p,"isTag",{enumerable:!0,get:function(){return r.isTag}});Object.defineProperty(p,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}});Object.defineProperty(p,"isText",{enumerable:!0,get:function(){return r.isText}});Object.defineProperty(p,"isComment",{enumerable:!0,get:function(){return r.isComment}});Object.defineProperty(p,"isDocument",{enumerable:!0,get:function(){return r.isDocument}});
Object.defineProperty(p,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})};
shadow$provide[159]=function(G,B,X,p){X.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}};
shadow$provide[160]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.AttributeAction=p.IgnoreCaseMode=p.SelectorType=void 0;(function(w){w.Attribute="attribute";w.Pseudo="pseudo";w.PseudoElement="pseudo-element";w.Tag="tag";w.Universal="universal";w.Adjacent="adjacent";w.Child="child";w.Descendant="descendant";w.Parent="parent";w.Sibling="sibling";w.ColumnCombinator="column-combinator"})(p.SelectorType||(p.SelectorType={}));p.IgnoreCaseMode={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,
CaseSensitive:!1};(function(w){w.Any="any";w.Element="element";w.End="end";w.Equals="equals";w.Exists="exists";w.Hyphen="hyphen";w.Not="not";w.Start="start"})(p.AttributeAction||(p.AttributeAction={}))};
shadow$provide[161]=function(G,B,X,p){function w(A){switch(A.type){case g.SelectorType.Adjacent:case g.SelectorType.Child:case g.SelectorType.Descendant:case g.SelectorType.Parent:case g.SelectorType.Sibling:case g.SelectorType.ColumnCombinator:return!0;default:return!1}}function r(A,y,E){A=parseInt(y,16)-65536;return A!==A||E?y:0>A?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,A&1023|56320)}function m(A){return 39===A||34===A}function d(A){return 32===A||9===A||10===A||12===A||13===
A}function c(A,y,E){function F(Ba){var Da=y.slice(E+Ba).match(h);if(!Da)throw Error("Expected name, found ".concat(y.slice(E)));Da=Da[0];E+=Ba+Da.length;return Da.replace(l,r)}function H(Ba){for(E+=Ba;E<y.length&&d(y.charCodeAt(E));)E++}function P(){for(var Ba=E+=1,Da=1;0<Da&&E<y.length;E++)40!==y.charCodeAt(E)||K(E)?41!==y.charCodeAt(E)||K(E)||Da--:Da++;if(Da)throw Error("Parenthesis not matched");return y.slice(Ba,E-1).replace(l,r)}function K(Ba){for(var Da=0;92===y.charCodeAt(--Ba);)Da++;return 1===
(Da&1)}function T(){if(0<da.length&&w(da[da.length-1]))throw Error("Did not expect successive traversals.");}function aa(Ba){0<da.length&&da[da.length-1].type===g.SelectorType.Descendant?da[da.length-1].type=Ba:(T(),da.push({type:Ba}))}function Q(Ba,Da){da.push({type:g.SelectorType.Attribute,name:Ba,action:Da,value:F(1),namespace:null,ignoreCase:"quirks"})}function O(){da.length&&da[da.length-1].type===g.SelectorType.Descendant&&da.pop();if(0===da.length)throw Error("Empty sub-selector");A.push(da)}
var da=[];H(0);if(y.length===E)return E;a:for(;E<y.length;){var ea=y.charCodeAt(E);switch(ea){case 32:case 9:case 10:case 12:case 13:if(0===da.length||da[0].type!==g.SelectorType.Descendant)T(),da.push({type:g.SelectorType.Descendant});H(1);break;case 62:aa(g.SelectorType.Child);H(1);break;case 60:aa(g.SelectorType.Parent);H(1);break;case 126:aa(g.SelectorType.Sibling);H(1);break;case 43:aa(g.SelectorType.Adjacent);H(1);break;case 46:Q("class",g.AttributeAction.Element);break;case 35:Q("id",g.AttributeAction.Equals);
break;case 91:H(1);ea=void 0;var za=null;124===y.charCodeAt(E)?ea=F(1):y.startsWith("*|",E)?(za="*",ea=F(2)):(ea=F(0),124===y.charCodeAt(E)&&61!==y.charCodeAt(E+1)&&(za=ea,ea=F(1)));H(0);var Ea=g.AttributeAction.Exists,sa=k.get(y.charCodeAt(E));if(sa){Ea=sa;if(61!==y.charCodeAt(E+1))throw Error("Expected `\x3d`");H(2)}else 61===y.charCodeAt(E)&&(Ea=g.AttributeAction.Equals,H(1));var gb="";sa=null;if("exists"!==Ea){if(m(y.charCodeAt(E))){gb=y.charCodeAt(E);for(var wa=E+1;wa<y.length&&(y.charCodeAt(wa)!==
gb||K(wa));)wa+=1;if(y.charCodeAt(wa)!==gb)throw Error("Attribute value didn't end");gb=y.slice(E+1,wa).replace(l,r);E=wa+1}else{for(gb=E;E<y.length&&(!d(y.charCodeAt(E))&&93!==y.charCodeAt(E)||K(E));)E+=1;gb=y.slice(gb,E).replace(l,r)}H(0);wa=y.charCodeAt(E)|32;115===wa?(sa=!1,H(1)):105===wa&&(sa=!0,H(1))}if(93!==y.charCodeAt(E))throw Error("Attribute selector didn't terminate");E+=1;da.push({type:g.SelectorType.Attribute,name:ea,action:Ea,value:gb,namespace:za,ignoreCase:sa});break;case 58:if(58===
y.charCodeAt(E+1)){da.push({type:g.SelectorType.PseudoElement,name:F(2).toLowerCase(),data:40===y.charCodeAt(E)?P():null});continue}za=F(1).toLowerCase();ea=null;if(40===y.charCodeAt(E))if(t.has(za)){if(m(y.charCodeAt(E+1)))throw Error("Pseudo-selector ".concat(za," cannot be quoted"));ea=[];E=c(ea,y,E+1);if(41!==y.charCodeAt(E))throw Error("Missing closing parenthesis in :".concat(za," (").concat(y,")"));E+=1}else ea=P(),x.has(za)&&(Ea=ea.charCodeAt(0),Ea===ea.charCodeAt(ea.length-1)&&m(Ea)&&(ea=
ea.slice(1,-1))),ea=ea.replace(l,r);da.push({type:g.SelectorType.Pseudo,name:za,data:ea});break;case 44:O();da=[];H(1);break;default:if(y.startsWith("/*",E)){za=y.indexOf("*/",E+2);if(0>za)throw Error("Comment was not terminated");E=za+2;0===da.length&&H(0)}else{za=null;Ea=void 0;if(42===ea)E+=1,Ea="*";else if(124===ea){if(Ea="",124===y.charCodeAt(E+1)){aa(g.SelectorType.ColumnCombinator);H(2);break}}else if(h.test(y.slice(E)))Ea=F(0);else break a;124===y.charCodeAt(E)&&124!==y.charCodeAt(E+1)&&(za=
Ea,42===y.charCodeAt(E+1)?(Ea="*",E+=2):Ea=F(1));da.push("*"===Ea?{type:g.SelectorType.Universal,namespace:za}:{type:g.SelectorType.Tag,name:Ea,namespace:za})}}}O();return E}Object.defineProperty(p,"__esModule",{value:!0});p.parse=p.isTraversal=void 0;var g=B(160),h=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,l=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,k=new Map([[126,g.AttributeAction.Element],[94,g.AttributeAction.Start],[36,g.AttributeAction.End],[42,g.AttributeAction.Any],[33,g.AttributeAction.Not],
[124,g.AttributeAction.Hyphen]]),t=new Set("has not matches is where host host-context".split(" "));p.isTraversal=w;var x=new Set(["contains","icontains"]);p.parse=function(A){var y=[],E=c(y,"".concat(A),0);if(E<A.length)throw Error("Unmatched selector: ".concat(A.slice(E)));return y}};
shadow$provide[162]=function(G,B,X,p){function w(x){return x.map(function(A){return A.map(r).join("")}).join(", ")}function r(x,A,y){switch(x.type){case h.SelectorType.Child:return 0===A?"\x3e ":" \x3e ";case h.SelectorType.Parent:return 0===A?"\x3c ":" \x3c ";case h.SelectorType.Sibling:return 0===A?"~ ":" ~ ";case h.SelectorType.Adjacent:return 0===A?"+ ":" + ";case h.SelectorType.Descendant:return" ";case h.SelectorType.ColumnCombinator:return 0===A?"|| ":" || ";case h.SelectorType.Universal:return"*"===
x.namespace&&A+1<y.length&&"name"in y[A+1]?"":"".concat(c(x.namespace),"*");case h.SelectorType.Tag:return d(x);case h.SelectorType.PseudoElement:return"::".concat(g(x.name,t)).concat(null===x.data?"":"(".concat(g(x.data,k),")"));case h.SelectorType.Pseudo:return":".concat(g(x.name,t)).concat(null===x.data?"":"(".concat("string"===typeof x.data?g(x.data,k):w(x.data),")"));case h.SelectorType.Attribute:if("id"===x.name&&x.action===h.AttributeAction.Equals&&"quirks"===x.ignoreCase&&!x.namespace)return"#".concat(g(x.value,
t));if("class"===x.name&&x.action===h.AttributeAction.Element&&"quirks"===x.ignoreCase&&!x.namespace)return".".concat(g(x.value,t));A=d(x);return x.action===h.AttributeAction.Exists?"[".concat(A,"]"):"[".concat(A).concat(m(x.action),'\x3d"').concat(g(x.value,l),'"').concat(null===x.ignoreCase?"":x.ignoreCase?" i":" s","]")}}function m(x){switch(x){case h.AttributeAction.Equals:return"";case h.AttributeAction.Element:return"~";case h.AttributeAction.Start:return"^";case h.AttributeAction.End:return"$";
case h.AttributeAction.Any:return"*";case h.AttributeAction.Not:return"!";case h.AttributeAction.Hyphen:return"|";case h.AttributeAction.Exists:throw Error("Shouldn't be here");}}function d(x){return"".concat(c(x.namespace)).concat(g(x.name,t))}function c(x){return null!==x?"".concat("*"===x?"*":g(x,t),"|"):""}function g(x,A){for(var y=0,E="",F=0;F<x.length;F++)A.has(x.charCodeAt(F))&&(E+="".concat(x.slice(y,F),"\\").concat(x.charAt(F)),y=F+1);return 0<E.length?E+x.slice(y):x}G=this&&this.__spreadArray||
function(x,A,y){if(y||2===arguments.length)for(var E=0,F=A.length,H;E<F;E++)!H&&E in A||(H||(H=Array.prototype.slice.call(A,0,E)),H[E]=A[E]);return x.concat(H||Array.prototype.slice.call(A))};Object.defineProperty(p,"__esModule",{value:!0});p.stringify=void 0;var h=B(160);B=["\\",'"'];X=G(G([],B,!0),["(",")"],!1);var l=new Set(B.map(function(x){return x.charCodeAt(0)})),k=new Set(X.map(function(x){return x.charCodeAt(0)})),t=new Set(G(G([],X,!0),"~^$*+!|:[] .".split(""),!1).map(function(x){return x.charCodeAt(0)}));
p.stringify=w};
shadow$provide[163]=function(G,B,X,p){var w=this&&this.__createBinding||(Object.create?function(d,c,g,h){void 0===h&&(h=g);var l=Object.getOwnPropertyDescriptor(c,g);if(!l||("get"in l?!c.__esModule:l.writable||l.configurable))l={enumerable:!0,get:function(){return c[g]}};Object.defineProperty(d,h,l)}:function(d,c,g,h){void 0===h&&(h=g);d[h]=c[g]});G=this&&this.__exportStar||function(d,c){for(var g in d)"default"===g||Object.prototype.hasOwnProperty.call(c,g)||w(c,d,g)};Object.defineProperty(p,"__esModule",
{value:!0});p.stringify=p.parse=p.isTraversal=void 0;G(B(160),p);var r=B(161);Object.defineProperty(p,"isTraversal",{enumerable:!0,get:function(){return r.isTraversal}});Object.defineProperty(p,"parse",{enumerable:!0,get:function(){return r.parse}});var m=B(162);Object.defineProperty(p,"stringify",{enumerable:!0,get:function(){return m.stringify}})};
shadow$provide[164]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.isTraversal=p.procedure=void 0;p.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1};p.isTraversal=function(w){return 0>p.procedure[w.type]}};
shadow$provide[165]=function(G,B,X,p){function w(c){var g=m.procedure[c.type];if(c.type===r.SelectorType.Attribute)g=d[c.action],g===d.equals&&"id"===c.name&&(g=9),c.ignoreCase&&(g>>=1);else if(c.type===r.SelectorType.Pseudo)if(c.data)if("has"===c.name||"contains"===c.name)g=0;else if(Array.isArray(c.data)){for(var h=g=0;h<c.data.length;h++)if(1===c.data[h].length){var l=w(c.data[h][0]);if(0===l){g=0;break}l>g&&(g=l)}1<c.data.length&&0<g&&--g}else g=1;else g=3;return g}Object.defineProperty(p,"__esModule",
{value:!0});var r=B(163),m=B(164),d={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};p.default=function(c){for(var g=c.map(w),h=1;h<c.length;h++){var l=g[h];if(!(0>l))for(var k=h-1;0<=k&&l<g[k];k--){var t=c[k+1];c[k+1]=c[k];c[k]=t;g[k+1]=g[k];g[k]=l}}}};
shadow$provide[166]=function(G,B,X,p){function w(c,g){return"boolean"===typeof c.ignoreCase?c.ignoreCase:"quirks"===c.ignoreCase?!!g.quirksMode:!g.xmlMode&&d.has(c.name)}Object.defineProperty(p,"__esModule",{value:!0});p.attributeRules=void 0;var r=B(159),m=/[-[\]{}()*+?.,\\^$|#\s]/g,d=new Set("accept accept-charset align alink axis bgcolor charset checked clear codetype color compact declare defer dir direction disabled enctype face frame hreflang http-equiv lang language link media method multiple nohref noresize noshade nowrap readonly rel rev rules scope scrolling selected shape target text type valign valuetype vlink".split(" "));
p.attributeRules={equals:function(c,g,h){var l=h.adapter,k=g.name,t=g.value;return w(g,h)?(t=t.toLowerCase(),function(x){var A=l.getAttributeValue(x,k);return null!=A&&A.length===t.length&&A.toLowerCase()===t&&c(x)}):function(x){return l.getAttributeValue(x,k)===t&&c(x)}},hyphen:function(c,g,h){var l=h.adapter,k=g.name,t=g.value,x=t.length;return w(g,h)?(t=t.toLowerCase(),function(A){var y=l.getAttributeValue(A,k);return null!=y&&(y.length===x||"-"===y.charAt(x))&&y.substr(0,x).toLowerCase()===t&&
c(A)}):function(A){var y=l.getAttributeValue(A,k);return null!=y&&(y.length===x||"-"===y.charAt(x))&&y.substr(0,x)===t&&c(A)}},element:function(c,g,h){var l=h.adapter,k=g.name,t=g.value;if(/\s/.test(t))return r.falseFunc;var x=new RegExp("(?:^|\\s)".concat(t.replace(m,"\\$\x26"),"(?:$|\\s)"),w(g,h)?"i":"");return function(A){var y=l.getAttributeValue(A,k);return null!=y&&y.length>=t.length&&x.test(y)&&c(A)}},exists:function(c,g,h){var l=g.name,k=h.adapter;return function(t){return k.hasAttrib(t,l)&&
c(t)}},start:function(c,g,h){var l=h.adapter,k=g.name,t=g.value,x=t.length;return 0===x?r.falseFunc:w(g,h)?(t=t.toLowerCase(),function(A){var y=l.getAttributeValue(A,k);return null!=y&&y.length>=x&&y.substr(0,x).toLowerCase()===t&&c(A)}):function(A){var y;return!(null===(y=l.getAttributeValue(A,k))||void 0===y||!y.startsWith(t))&&c(A)}},end:function(c,g,h){var l=h.adapter,k=g.name,t=g.value,x=-t.length;return 0===x?r.falseFunc:w(g,h)?(t=t.toLowerCase(),function(A){var y;return(null===(y=l.getAttributeValue(A,
k))||void 0===y?void 0:y.substr(x).toLowerCase())===t&&c(A)}):function(A){var y;return!(null===(y=l.getAttributeValue(A,k))||void 0===y||!y.endsWith(t))&&c(A)}},any:function(c,g,h){var l=h.adapter,k=g.name,t=g.value;if(""===t)return r.falseFunc;if(w(g,h)){var x=new RegExp(t.replace(m,"\\$\x26"),"i");return function(A){var y=l.getAttributeValue(A,k);return null!=y&&y.length>=t.length&&x.test(y)&&c(A)}}return function(A){var y;return!(null===(y=l.getAttributeValue(A,k))||void 0===y||!y.includes(t))&&
c(A)}},not:function(c,g,h){var l=h.adapter,k=g.name,t=g.value;return""===t?function(x){return!!l.getAttributeValue(x,k)&&c(x)}:w(g,h)?(t=t.toLowerCase(),function(x){var A=l.getAttributeValue(x,k);return(null==A||A.length!==t.length||A.toLowerCase()!==t)&&c(x)}):function(x){return l.getAttributeValue(x,k)!==t&&c(x)}}}};
shadow$provide[167]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.parse=void 0;var w=new Set([9,10,12,13,32]);p.parse=function(r){function m(){if("-"===r.charAt(g))return g++,-1;"+"===r.charAt(g)&&g++;return 1}function d(){for(var t=g,x=0;g<r.length&&48<=r.charCodeAt(g)&&57>=r.charCodeAt(g);)x=10*x+(r.charCodeAt(g)-48),g++;return g===t?null:x}function c(){for(;g<r.length&&w.has(r.charCodeAt(g));)g++}r=r.trim().toLowerCase();if("even"===r)return[2,0];if("odd"===r)return[2,1];
var g=0,h=0,l=m(),k=d();g<r.length&&"n"===r.charAt(g)&&(g++,h=l*(null!==k&&void 0!==k?k:1),c(),g<r.length?(l=m(),c(),k=d()):l=k=0);if(null===k||g<r.length)throw Error("n-th rule couldn't be parsed ('".concat(r,"')"));return[h,l*k]}};
shadow$provide[168]=function(G,B,X,p){G=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{"default":r}};Object.defineProperty(p,"__esModule",{value:!0});p.generate=p.compile=void 0;var w=G(B(159));p.compile=function(r){var m=r[0],d=r[1]-1;if(0>d&&0>=m)return w.default.falseFunc;if(-1===m)return function(h){return h<=d};if(0===m)return function(h){return h===d};if(1===m)return 0>d?w.default.trueFunc:function(h){return h>=d};var c=Math.abs(m),g=(d%c+c)%c;return 1<m?function(h){return h>=
d&&h%c===g}:function(h){return h<=d&&h%c===g}};p.generate=function(r){var m=r[0],d=r[1]-1,c=0;if(0>m){var g=-m,h=(d%g+g)%g;return function(){var l=h+g*c++;return l>d?null:l}}if(0===m)return 0>d?function(){return null}:function(){return 0===c++?d:null};0>d&&(d+=m*Math.ceil(-d/m));return function(){return m*c++ +d}}};
shadow$provide[169]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.sequence=p.generate=p.compile=p.parse=void 0;var w=B(167);Object.defineProperty(p,"parse",{enumerable:!0,get:function(){return w.parse}});var r=B(168);Object.defineProperty(p,"compile",{enumerable:!0,get:function(){return r.compile}});Object.defineProperty(p,"generate",{enumerable:!0,get:function(){return r.generate}});p.default=function(m){return(0,r.compile)((0,w.parse)(m))};p.sequence=function(m){return(0,r.generate)((0,w.parse)(m))}};
shadow$provide[170]=function(G,B,X,p){function w(c,g){return function(h){var l=g.getParent(h);return null!=l&&g.isTag(l)&&c(h)}}function r(c){return function(g,h,l){var k=l.adapter[c];return"function"!==typeof k?d.falseFunc:function(t){return k(t)&&g(t)}}}G=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{"default":c}};Object.defineProperty(p,"__esModule",{value:!0});p.filters=void 0;var m=G(B(169)),d=B(159);p.filters={contains:function(c,g,h){var l=h.adapter;return function(k){return c(k)&&
l.getText(k).includes(g)}},icontains:function(c,g,h){var l=h.adapter,k=g.toLowerCase();return function(t){return c(t)&&l.getText(t).toLowerCase().includes(k)}},"nth-child":function(c,g,h){var l=h.adapter,k=h.equals,t=(0,m.default)(g);return t===d.falseFunc?d.falseFunc:t===d.trueFunc?w(c,l):function(x){for(var A=l.getSiblings(x),y=0,E=0;E<A.length&&!k(x,A[E]);E++)l.isTag(A[E])&&y++;return t(y)&&c(x)}},"nth-last-child":function(c,g,h){var l=h.adapter,k=h.equals,t=(0,m.default)(g);return t===d.falseFunc?
d.falseFunc:t===d.trueFunc?w(c,l):function(x){for(var A=l.getSiblings(x),y=0,E=A.length-1;0<=E&&!k(x,A[E]);E--)l.isTag(A[E])&&y++;return t(y)&&c(x)}},"nth-of-type":function(c,g,h){var l=h.adapter,k=h.equals,t=(0,m.default)(g);return t===d.falseFunc?d.falseFunc:t===d.trueFunc?w(c,l):function(x){for(var A=l.getSiblings(x),y=0,E=0;E<A.length;E++){var F=A[E];if(k(x,F))break;l.isTag(F)&&l.getName(F)===l.getName(x)&&y++}return t(y)&&c(x)}},"nth-last-of-type":function(c,g,h){var l=h.adapter,k=h.equals,t=
(0,m.default)(g);return t===d.falseFunc?d.falseFunc:t===d.trueFunc?w(c,l):function(x){for(var A=l.getSiblings(x),y=0,E=A.length-1;0<=E;E--){var F=A[E];if(k(x,F))break;l.isTag(F)&&l.getName(F)===l.getName(x)&&y++}return t(y)&&c(x)}},root:function(c,g,h){var l=h.adapter;return function(k){var t=l.getParent(k);return(null==t||!l.isTag(t))&&c(k)}},scope:function(c,g,h,l){var k=h.equals;return l&&0!==l.length?1===l.length?function(t){return k(l[0],t)&&c(t)}:function(t){return l.includes(t)&&c(t)}:p.filters.root(c,
g,h)},hover:r("isHovered"),visited:r("isVisited"),active:r("isActive")}};
shadow$provide[171]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.verifyPseudoArgs=p.pseudos=void 0;p.pseudos={empty:function(w,r){var m=r.adapter;return!m.getChildren(w).some(function(d){return m.isTag(d)||""!==m.getText(d)})},"first-child":function(w,r){var m=r.adapter;r=r.equals;var d=m.getSiblings(w).find(function(c){return m.isTag(c)});return null!=d&&r(w,d)},"last-child":function(w,r){var m=r.adapter;r=r.equals;for(var d=m.getSiblings(w),c=d.length-1;0<=c;c--){if(r(w,
d[c]))return!0;if(m.isTag(d[c]))break}return!1},"first-of-type":function(w,r){var m=r.adapter;r=r.equals;for(var d=m.getSiblings(w),c=m.getName(w),g=0;g<d.length;g++){var h=d[g];if(r(w,h))return!0;if(m.isTag(h)&&m.getName(h)===c)break}return!1},"last-of-type":function(w,r){var m=r.adapter;r=r.equals;for(var d=m.getSiblings(w),c=m.getName(w),g=d.length-1;0<=g;g--){var h=d[g];if(r(w,h))return!0;if(m.isTag(h)&&m.getName(h)===c)break}return!1},"only-of-type":function(w,r){var m=r.adapter,d=r.equals,c=
m.getName(w);return m.getSiblings(w).every(function(g){return d(w,g)||!m.isTag(g)||m.getName(g)!==c})},"only-child":function(w,r){var m=r.adapter,d=r.equals;return m.getSiblings(w).every(function(c){return d(w,c)||!m.isTag(c)})}};p.verifyPseudoArgs=function(w,r,m){if(null===m){if(2<w.length)throw Error("pseudo-selector :".concat(r," requires an argument"));}else if(2===w.length)throw Error("pseudo-selector :".concat(r," doesn't have any arguments"));}};
shadow$provide[172]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.aliases=void 0;p.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] \x3e option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type\x3dradio], input[type\x3dcheckbox])[checked], option:selected)",
required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(\x3e option[selected])) \x3e :first-of-type)",checkbox:"[type\x3dcheckbox]",file:"[type\x3dfile]",password:"[type\x3dpassword]",radio:"[type\x3dradio]",reset:"[type\x3dreset]",image:"[type\x3dimage]",submit:"[type\x3dsubmit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type\x3dbutton])",input:":is(input, textarea, select, button)",
text:"input:is(:not([type!\x3d'']), [type\x3dtext])"}};
shadow$provide[173]=function(G,B,X,p){function w(g,h){return g===d.falseFunc?d.falseFunc:function(l){return h.isTag(l)&&g(l)}}function r(g,h){var l=h.getSiblings(g);if(1>=l.length)return[];g=l.indexOf(g);return 0>g||g===l.length-1?[]:l.slice(g+1).filter(h.isTag)}var m=this&&this.__spreadArray||function(g,h,l){if(l||2===arguments.length)for(var k=0,t=h.length,x;k<t;k++)!x&&k in h||(x||(x=Array.prototype.slice.call(h,0,k)),x[k]=h[k]);return g.concat(x||Array.prototype.slice.call(h))};Object.defineProperty(p,
"__esModule",{value:!0});p.subselects=p.getNextSiblings=p.ensureIsTag=p.PLACEHOLDER_ELEMENT=void 0;var d=B(159),c=B(164);p.PLACEHOLDER_ELEMENT={};p.ensureIsTag=w;p.getNextSiblings=r;G=function(g,h,l,k,t){var x=t(h,{xmlMode:!!l.xmlMode,adapter:l.adapter,equals:l.equals},k);return function(A){return x(A)&&g(A)}};p.subselects={is:G,matches:G,where:G,not:function(g,h,l,k,t){var x=t(h,{xmlMode:!!l.xmlMode,adapter:l.adapter,equals:l.equals},k);return x===d.falseFunc?g:x===d.trueFunc?d.falseFunc:function(A){return!x(A)&&
g(A)}},has:function(g,h,l,k,t){var x=l.adapter;l={xmlMode:!!l.xmlMode,adapter:x,equals:l.equals};var A=h.some(function(F){return F.some(c.isTraversal)})?[p.PLACEHOLDER_ELEMENT]:void 0;h=t(h,l,A);if(h===d.falseFunc)return d.falseFunc;if(h===d.trueFunc)return function(F){return x.getChildren(F).some(x.isTag)&&g(F)};var y=w(h,x);h=h.shouldTestNextSiblings;var E=void 0===h?!1:h;return A?function(F){A[0]=F;var H=x.getChildren(F);H=E?m(m([],H,!0),r(F,x),!0):H;return g(F)&&x.existsOne(y,H)}:function(F){return g(F)&&
x.existsOne(y,x.getChildren(F))}}}};
shadow$provide[174]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.compilePseudoSelector=p.aliases=p.pseudos=p.filters=void 0;var w=B(159),r=B(163),m=B(170);Object.defineProperty(p,"filters",{enumerable:!0,get:function(){return m.filters}});var d=B(171);Object.defineProperty(p,"pseudos",{enumerable:!0,get:function(){return d.pseudos}});var c=B(172);Object.defineProperty(p,"aliases",{enumerable:!0,get:function(){return c.aliases}});var g=B(173);p.compilePseudoSelector=function(h,
l,k,t,x){var A=l.name,y=l.data;if(Array.isArray(y))return g.subselects[A](h,y,k,t,x);if(A in c.aliases){if(null!=y)throw Error("Pseudo ".concat(A," doesn't have any arguments"));l=(0,r.parse)(c.aliases[A]);return g.subselects.is(h,l,k,t,x)}if(A in m.filters)return m.filters[A](h,y,k,t);if(A in d.pseudos){var E=d.pseudos[A];(0,d.verifyPseudoArgs)(E,A,y);return E===w.falseFunc?w.falseFunc:h===w.trueFunc?function(F){return E(F,k,y)}:function(F){return E(F,k,y)&&h(F)}}throw Error("unmatched pseudo-class :".concat(A));
}};
shadow$provide[175]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.compileGeneralSelector=void 0;var w=B(166),r=B(174),m=B(163);p.compileGeneralSelector=function(d,c,g,h,l){var k=g.adapter,t=g.equals;switch(c.type){case m.SelectorType.PseudoElement:throw Error("Pseudo-elements are not supported by css-select");case m.SelectorType.ColumnCombinator:throw Error("Column combinators are not yet supported by css-select");case m.SelectorType.Attribute:if(null!=c.namespace)throw Error("Namespaced attributes are not yet supported by css-select");
if(!g.xmlMode||g.lowerCaseAttributeNames)c.name=c.name.toLowerCase();return w.attributeRules[c.action](d,c,g);case m.SelectorType.Pseudo:return(0,r.compilePseudoSelector)(d,c,g,h,l);case m.SelectorType.Tag:if(null!=c.namespace)throw Error("Namespaced tag names are not yet supported by css-select");var x=c.name;if(!g.xmlMode||g.lowerCaseTags)x=x.toLowerCase();return function(y){return k.getName(y)===x&&d(y)};case m.SelectorType.Descendant:if(!1===g.cacheResults||"undefined"===typeof WeakSet)return function(y){for(;y=
k.getParent(y);)if(k.isTag(y)&&d(y))return!0;return!1};var A=new WeakSet;return function(y){for(;y=k.getParent(y);)if(!A.has(y)){if(k.isTag(y)&&d(y))return!0;A.add(y)}return!1};case "_flexibleDescendant":return function(y){do if(k.isTag(y)&&d(y))return!0;while(y=k.getParent(y));return!1};case m.SelectorType.Parent:return function(y){return k.getChildren(y).some(function(E){return k.isTag(E)&&d(E)})};case m.SelectorType.Child:return function(y){y=k.getParent(y);return null!=y&&k.isTag(y)&&d(y)};case m.SelectorType.Sibling:return function(y){for(var E=
k.getSiblings(y),F=0;F<E.length;F++){var H=E[F];if(t(y,H))break;if(k.isTag(H)&&d(H))return!0}return!1};case m.SelectorType.Adjacent:return k.prevElementSibling?function(y){y=k.prevElementSibling(y);return null!=y&&d(y)}:function(y){for(var E=k.getSiblings(y),F,H=0;H<E.length;H++){var P=E[H];if(t(y,P))break;k.isTag(P)&&(F=P)}return!!F&&d(F)};case m.SelectorType.Universal:if(null!=c.namespace&&"*"!==c.namespace)throw Error("Namespaced universal selectors are not yet supported by css-select");return d}}};
shadow$provide[176]=function(G,B,X,p){function w(H,P,K){H="string"===typeof H?(0,h.parse)(H):H;return d(H,P,K)}function r(H){return"pseudo"===H.type&&("scope"===H.name||Array.isArray(H.data)&&H.data.some(function(P){return P.some(r)}))}function m(H,P,K){var T=P.adapter;P=!(null===K||void 0===K||!K.every(function(Q){var O=T.isTag(Q)&&T.getParent(Q);return Q===A.PLACEHOLDER_ELEMENT||O&&T.isTag(O)}));for(K=0;K<H.length;K++){var aa=H[K];if(!(0<aa.length&&(0,t.isTraversal)(aa[0])&&"descendant"!==aa[0].type))if(P&&
!aa.some(r))aa.unshift(y);else continue;aa.unshift(F)}}function d(H,P,K){var T;H=H.filter(function(da){return 0<da.length});H.forEach(k.default);K=null!==(T=P.context)&&void 0!==T?T:K;var aa=Array.isArray(K),Q=K&&(Array.isArray(K)?K:[K]);m(H,P,Q);var O=!1;H=H.map(function(da){if(2<=da.length){var ea=da[0],za=da[1];if("pseudo"===ea.type&&"scope"===ea.name)if(aa&&"descendant"===za.type)da[1]=E;else if("adjacent"===za.type||"sibling"===za.type)O=!0}return c(da,P,Q)}).reduce(g,l.falseFunc);H.shouldTestNextSiblings=
O;return H}function c(H,P,K){var T;return H.reduce(function(aa,Q){return aa===l.falseFunc?l.falseFunc:(0,x.compileGeneralSelector)(aa,Q,P,K,d)},null!==(T=P.rootFunc)&&void 0!==T?T:l.trueFunc)}function g(H,P){return P===l.falseFunc||H===l.trueFunc?H:H===l.falseFunc||P===l.trueFunc?P:function(K){return H(K)||P(K)}}G=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{"default":H}};Object.defineProperty(p,"__esModule",{value:!0});p.compileToken=p.compileUnsafe=p.compile=void 0;var h=B(163),
l=B(159),k=G(B(165)),t=B(164),x=B(175),A=B(173);p.compile=function(H,P,K){H=w(H,P,K);return(0,A.ensureIsTag)(H,P.adapter)};p.compileUnsafe=w;var y={type:h.SelectorType.Descendant},E={type:"_flexibleDescendant"},F={type:h.SelectorType.Pseudo,name:"scope",data:null};p.compileToken=d};
shadow$provide[177]=function(G,B,X,p){function w(E){var F,H,P,K;E=null!==E&&void 0!==E?E:A;null!==(F=E.adapter)&&void 0!==F?F:E.adapter=h;null!==(H=E.equals)&&void 0!==H?H:E.equals=null!==(K=null===(P=E.adapter)||void 0===P?void 0:P.equals)&&void 0!==K?K:x;return E}function r(E){return function(F,H,P){H=w(H);return E(F,H,P)}}function m(E){return function(F,H,P){P=w(P);"function"!==typeof F&&(F=(0,k.compileUnsafe)(F,P,H));H=d(H,P.adapter,F.shouldTestNextSiblings);return E(F,H,P)}}function d(E,F,H){void 0===
H&&(H=!1);if(H){E=Array.isArray(E)?E.slice(0):[E];H=E.length;for(var P=0;P<H;P++){var K=(0,t.getNextSiblings)(E[P],F);E.push.apply(E,K)}}return Array.isArray(E)?F.removeSubsets(E):F.getChildren(E)}var c=this&&this.__createBinding||(Object.create?function(E,F,H,P){void 0===P&&(P=H);var K=Object.getOwnPropertyDescriptor(F,H);if(!K||("get"in K?!F.__esModule:K.writable||K.configurable))K={enumerable:!0,get:function(){return F[H]}};Object.defineProperty(E,P,K)}:function(E,F,H,P){void 0===P&&(P=H);E[P]=
F[H]}),g=this&&this.__setModuleDefault||(Object.create?function(E,F){Object.defineProperty(E,"default",{enumerable:!0,value:F})}:function(E,F){E["default"]=F});G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var F={};if(null!=E)for(var H in E)"default"!==H&&Object.prototype.hasOwnProperty.call(E,H)&&c(F,E,H);g(F,E);return F};Object.defineProperty(p,"__esModule",{value:!0});p.aliases=p.pseudos=p.filters=p.is=p.selectOne=p.selectAll=p.prepareContext=p._compileToken=p._compileUnsafe=
p.compile=void 0;var h=G(B(158)),l=B(159),k=B(176),t=B(173),x=function(E,F){return E===F},A={adapter:h,equals:x};p.compile=r(k.compile);p._compileUnsafe=r(k.compileUnsafe);p._compileToken=r(k.compileToken);p.prepareContext=d;p.selectAll=m(function(E,F,H){return E!==l.falseFunc&&F&&0!==F.length?H.adapter.findAll(E,F):[]});p.selectOne=m(function(E,F,H){return E!==l.falseFunc&&F&&0!==F.length?H.adapter.findOne(E,F):null});p.is=function(E,F,H){H=w(H);return("function"===typeof F?F:(0,k.compile)(F,H))(E)};
p.default=p.selectAll;var y=B(174);Object.defineProperty(p,"filters",{enumerable:!0,get:function(){return y.filters}});Object.defineProperty(p,"pseudos",{enumerable:!0,get:function(){return y.pseudos}});Object.defineProperty(p,"aliases",{enumerable:!0,get:function(){return y.aliases}})};
shadow$provide[178]=function(G,B,X,p){function w(m){return m.children||[]}Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;const r={isTag:function(m){return!0},existsOne(m,d){return d.some(c=>m(c)||r.existsOne(m,w(c)))},getSiblings(m){const d=m.parent;return d?w(d):[m]},getChildren:w,getParent:function(m){return m.parent},getAttributeValue(m,d){return"class"===d?m.props.classes.join(" "):"id"===d?m.id:""},hasAttrib(m,d){return"id"===d?!!m.id:"class"===d?0<m.props.classes.length:m.traits.hash?
Object.prototype.hasOwnProperty.call(m.traits.hash,d):!1},removeSubsets:function(m){const d=new Set(m);d.forEach(c=>{let g=c.parent;for(;g;){if(d.has(g)){d.delete(c);break}g=g.parent}});return Array.from(d)},getName(m){var d;return null!==(d=m.type)&&void 0!==d?d:""},findOne:function g(d,c){for(const h of c){if(d(h))return h;if(c=g(d,w(h)))return c}return null},findAll:function h(c,g){const l=[];for(const k of g)c(k)&&l.push(k),l.push(...h(c,w(k)));return l},getText:function(c){return""}};p.default=
r};
shadow$provide[179]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.compile=p.selectAll=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==
l&&Object.prototype.hasOwnProperty.call(d,l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(177)),m=function(d){return d&&d.__esModule?d:{default:d}}(B(178));p.selectAll=(d,c)=>{try{r.compile(d)}catch(h){return[]}var g=Array.isArray(c);if(g&&0===c.length)return[];for(g=g?c[0]:c;null!==m.default.getParent(g);)g=m.default.getParent(g);g=r.selectAll(d,g,{adapter:m.default});if(c){d=[];c=Array.isArray(c)?
c:[c];c=new Set(c);for(const h of Array.from(g))for(g=h;null!=g;){if(c.has(g)){d.push(h);break}g=m.default.getParent(g)}return d}return g};p.compile=d=>{try{return r.compile(d,{adapter:m.default})}catch(c){return()=>!1}}};
shadow$provide[180]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Model=void 0;var w=B(179);const r=/^<([0-9]+|<*)$/;class m{constructor(d){this.root=d;this.root.model=this;this.root.root=this.root;this.ids={};this.classes={};this.traits={};this.types={};this.nodes=[];this.watchers=[];this.fire=!1;this.lastNode=null;this.event={type:"update"};this.root.on("add",da=>c(da.node));this.root.on("remove",da=>{da=da.node;K(da);aa(da);O(da);E(da.id,da);H(da.classes,da);da.off("change:node",
k);return l(da)});const c=da=>{P(da);T(da);Q(da);da.on("change:node",k);k(null,da,!0);return l(da)},g=da=>{for(const ea of Array.from(this.watchers))ea.match=ea.matcher(da);return null},h=da=>{for(const ea of Array.from(this.watchers)){const za=ea.fire||(ea.fire=ea.match!==ea.matcher(da));za&&(this.lastNode=da);this.fire||(this.fire=za)}return null},l=da=>{for(const ea of Array.from(this.watchers)){const za=ea.fire||(ea.fire=ea.matcher(da));za&&(this.lastNode=da);this.fire||(this.fire=za)}return null};
this.digest=()=>{if(!this.fire)return!1;for(const da of Array.from(this.watchers.slice()))da.fire&&(da.fire=!1,da.handler());this.fire=!1;return!0};const k=(da,ea,za)=>{var Ea=za||da.changed["node.classes"];let sa=!1;if(za||da.changed["node.id"])da=ea.get("node.id"),da!==ea.id&&(za||g(ea),sa=!0,null!=ea.id&&E(ea.id,ea),y(da,ea));if(Ea){var gb;Ea=null!=(gb=ea.get("node.classes"))?gb:[];gb=Ea.join(",");gb!==(null!=ea.classes?ea.classes.klass:void 0)&&(Ea=Ea.slice(),za||sa||g(ea),sa=!0,null!=ea.classes&&
H(ea.classes,ea),F(Ea,ea),ea.classes=Ea,ea.classes.klass=gb)}!za&&sa&&h(ea);return null},t=function(da,ea,za){if(null!=ea){for(const Ea of Array.from(ea))ea=null!=da[Ea]?da[Ea]:[],ea.push(za),da[Ea]=ea;return null}},x=function(da,ea,za){if(null!=ea){for(const Ea of Array.from(ea)){ea=da[Ea];const sa=ea.indexOf(za);0<=sa&&ea.splice(sa,1);0===ea.length&&delete da[Ea]}return null}},A=function(da){if(0<da.length){var ea=da.hash={};return Array.from(da).map(za=>ea[za]=!0)}},y=(da,ea)=>{if(this.ids[da])throw Error(`Duplicate node id \`${da}\``);
null!=da&&(this.ids[da]=[ea]);return ea.id=null!=da?da:ea._id},E=(da,ea)=>{null!=da&&delete this.ids[da];return ea.id=ea._id},F=(da,ea)=>{t(this.classes,da,ea);if(null!=da)return A(da)},H=(da,ea)=>{x(this.classes,da,ea);if(null!=da)return delete da.hash},P=da=>this.nodes.push(da),K=da=>this.nodes.splice(this.nodes.indexOf(da),1),T=da=>t(this.types,[da.type],da),aa=da=>x(this.types,[da.type],da),Q=da=>{t(this.traits,da.traits,da);return A(da.traits)},O=da=>{x(this.traits,da.traits,da);return delete da.traits.hash};
c(this.root);this.root.trigger({type:"added"})}select(d,c){return(0,w.selectAll)(d,c||this.getRoot())}watch(d,c){let g;c.unwatch=()=>this.unwatch(c);c.watcher=g={selector:d,handler:c,matcher:this._matcher(d),match:!1,fire:!1};this.watchers.push(g);return this.select(d)}unwatch(d){const {watcher:c}=d;if(null!=c)return this.watchers.splice(this.watchers.indexOf(c),1),delete d.unwatch,delete d.watcher}_matcher(d){if(r.test(d))throw Error("Auto-link matcher unsupported");return(0,w.compile)(d)}getRoot(){return this.root}getLastTrigger(){return this.lastNode.toString()}}
p.Model=m};
shadow$provide[181]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(133);Object.keys(w).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===w[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return w[g]}}))});var r=B(136);Object.keys(r).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===r[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return r[g]}}))});var m=B(137);Object.keys(m).forEach(function(g){"default"!==
g&&"__esModule"!==g&&(g in p&&p[g]===m[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return m[g]}}))});var d=B(180);Object.keys(d).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===d[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return d[g]}}))});var c=B(135);Object.keys(c).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===c[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return c[g]}}))})};
shadow$provide[182]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.OverlayFactory=void 0;class w{constructor(r,m){this.classes=r;this.canvas=m;r=document.createElement("div");r.classList.add("mathbox-overlays");this.div=r}inject(){const r=this.canvas.parentNode;if(!r)throw Error("Canvas not inserted into document.");return r.insertBefore(this.div,this.canvas)}unject(){return this.div.parentNode.removeChild(this.div)}getTypes(){return Object.keys(this.classes)}make(r,m){return new this.classes[r](this.div,
m)}}p.OverlayFactory=w};
shadow$provide[183]=function(G,B,X,p){function w(y,E,F){const H=[],P=y<E;for(E=F?P?E+1:E-1:E;P?y<E:y>E;P?y++:y--)H.push(y);return H}Object.defineProperty(p,"__esModule",{value:!0});p.createClass=p.apply=p.recycle=p.element=p.hint=p.Types=void 0;const r=[];let m=0;const d={};p.Types=d;const c=()=>({id:m++,type:null,props:null,children:null,rendered:null,instance:null});p.hint=function(y){y=Math.max(0,r.length-2*y);return w(0,y,!1).map(E=>r.push(c()))};const g=function(y,E,F){const H=r.length?r.pop():
c();H.type=null!=y?y:"div";H.props=null!=E?E:null;H.children=null!=F?F:null;return H};p.element=g;const h=function(y){if(y.type){var {children:E}=y;y.type=y.props=y.children=y.instance=null;r.push(y);if(null!=E)for(const F of Array.from(E))h(F)}};p.recycle=h;const l=function(y,E,F,H,P){if(null!=y){if(null==E)return k(y,H,P);var K;if(y instanceof Node){if(K=y===E)return}else K=typeof y===typeof E&&null!==E&&null!==y&&y.type===E.type;if(K){y.instance=E.instance;const ea=null!=y.type&&y.type.isComponentClass?
y.type:d[y.type],za=null!=E?E.props:void 0,Ea=y.props;K=null!=(null!=E?E.children:void 0)?null!=E?E.children:void 0:null;var T=y.children;null!=Ea&&(Ea.children=T);if(null!=ea){var aa=F._COMPONENT_DIRTY;null!=za!==(null!=Ea)&&(aa=!0);K!==T&&(aa=!0);if(null!=za&&null!=Ea){if(!aa)for(da in za)Object.prototype.hasOwnProperty.call(Ea,da)||(aa=!0);if(!aa)for(da in Ea){var Q=Ea[da];za[da]!==Q&&(aa=!0)}}if(aa){var O;K=E.instance;null==y.props&&(y.props={});for(const sa in K.defaultProps)T=K.defaultProps[sa],
null==y.props[sa]&&(y.props[sa]=T);y.props.children=y.children;"function"===typeof K.willReceiveProps&&K.willReceiveProps(y.props);if(T=F._COMPONENT_FORCE||(null!=(O="function"===typeof K.shouldUpdate?K.shouldUpdate(y.props):void 0)?O:!0)){var da=K.getNextState();"function"===typeof K.willUpdate&&K.willUpdate(y.props,da)}da=K.props;O=K.applyNextState();K.props=y.props;K.children=y.children;T&&(y=y.rendered="function"===typeof K.render?K.render(g,y.props,y.children):void 0,l(y,E.rendered,F,H,P),"function"===
typeof K.didUpdate&&K.didUpdate(da,O))}}else{if(null!=za)for(da in za)if(!Object.prototype.hasOwnProperty.call(Ea,da))if(y=F,E=da,H=za[da],"style"===E)for(Q in H)y.style[null!=x[Q]?x[Q]:Q]="";else null!=y[E]&&(y[E]=void 0),y instanceof Node&&y.removeAttribute(E);if(null!=Ea)for(da in Ea)Q=Ea[da],(aa=za[da])!==Q&&"children"!==da&&A(F,da,Q,aa);if(null!=T)if(["string","number"].includes(typeof T))T!==K&&(F.textContent=T);else if(null!=T.type)l(T,K,F.childNodes[0],F,0);else if({childNodes:H}=F,null!=
K)for(E=0;E<T.length;E++)y=T[E],l(y,K[E],H[E],F,E);else for(E=0;E<T.length;E++)y=T[E],l(y,null,H[E],F,E);else null!=K&&(t(null,F),F.innerHTML="")}return}t(E.instance,F);F.remove();return k(y,H,P)}if(null!=E)return t(E.instance,F),E.node.remove()};p.apply=l;const k=function(y,E,F){null==F&&(F=0);var H=null!=y.type&&y.type.isComponentClass?y.type:d[y.type];if(y instanceof Node)var P=y;else{if(null!=H){var K=null!=y.type&&y.type.isComponentClass?y.type:d[y.type];if(!K)return y=y.rendered=g("noscript"),
P=k(y,E,F);y.instance=K=new K(E);null==y.props&&(y.props={});for(P in K.defaultProps)H=K.defaultProps[P],null==y.props[P]&&(y.props[P]=H);y.props.children=y.children;K.props=y.props;K.children=y.children;K.setState("function"===typeof K.getInitialState?K.getInitialState():void 0);"function"===typeof K.willMount&&K.willMount();y=y.rendered="function"===typeof K.render?K.render(g,y.props,y.children):void 0;P=k(y,E,F);"function"===typeof K.didMount&&K.didMount(y);P._COMPONENT=K;return P}if(["string",
"number"].includes(typeof y))P=document.createTextNode(y);else for(K in P=document.createElement(y.type),y.props)A(P,K,y.props[K]);({children:y}=y);if(null!=y)if(["string","number"].includes(typeof y))P.textContent=y;else if(null!=y.type)k(y,P,0);else for(K=0;K<y.length;K++)k(y[K],P,K)}E.insertBefore(P,E.childNodes[F]);return P},t=function(y,E){if(y){"function"===typeof y.willUnmount&&y.willUnmount();for(const F in y)delete y[F]}y=[];for(const F of Array.from(E.childNodes))t(F._COMPONENT,F),y.push(delete F._COMPONENT);
return y};G=function(y){if("undefined"===typeof document)return!0;if(null!=document.documentElement.style[y])return y;y=y[0].toUpperCase()+y.slice(1);const E=["webkit","moz","ms","o"];for(const F of Array.from(E))if(null!=document.documentElement.style[F+y])return F+y};const x={};for(const y of["transform"])x[y]=G(y);const A=function(y,E,F,H){if("style"===E)for(const P in F)E=F[P],(null!=H?H[P]:void 0)!==E&&(y.style[null!=x[P]?x[P]:P]=E);else if(null!=y[E])try{y[E]=F}catch(P){console.log("failed setting "+
E)}else y instanceof Node&&y.setAttribute(E,F)};p.createClass=function(y){let E;const F={willMount:"componentWillMount",didMount:"componentDidMount",willReceiveProps:"componentWillReceiveProps",shouldUpdate:"shouldComponentUpdate",willUpdate:"componentWillUpdate",didUpdate:"componentDidUpdate",willUnmount:"componentWillUnmount"};for(const P in F){const K=F[P];null==y[P]&&(y[P]=y[K])}class H{constructor(P,K,T=null,aa=null){let Q,O;null==K&&(K={});this.props=K;this.state=T;this.children=aa;K=function(ea,
za){return"function"===typeof ea?ea.bind(za):ea};for(Q in y)O=y[Q],this[Q]=K(O,this);let da=null;this.setState=function(ea){null==da&&(da=ea?null!=da?da:{}:null);for(Q in ea)O=ea[Q],da[Q]=O;P._COMPONENT_DIRTY=!0};this.forceUpdate=function(){P._COMPONENT_FORCE=P._COMPONENT_DIRTY=!0;let ea=P;const za=[];for(;ea=ea.parentNode;)ea._COMPONENT?za.push(ea._COMPONENT_FORCE=!0):za.push(void 0);return za};this.getNextState=()=>da;this.applyNextState=function(){P._COMPONENT_FORCE=P._COMPONENT_DIRTY=!1;const ea=
this.state;[da,this.state]=Array.from([null,da]);return ea}}}H.isComponentClass=!0;H.prototype.defaultProps=null!=(E="function"===typeof y.getDefaultProps?y.getDefaultProps():void 0)?E:{};return H}};
shadow$provide[184]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Overlay=void 0;class w{constructor(r,m){this.element=r;"function"===typeof this.init&&this.init(m)}dispose(){}}p.Overlay=w};
shadow$provide[185]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.DOM=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(183));G=B(184);class m extends G.Overlay{static initClass(){this.prototype.el=r.element;this.prototype.hint=r.hint;this.prototype.apply=r.apply;this.prototype.recycle=r.recycle}init(d){return this.last=null}dispose(){this.unmount();return super.dispose()}mount(){const d=document.createElement("div");d.classList.add("mathbox-overlay");this.element.appendChild(d);
return this.overlay=d}unmount(d){this.overlay&&this.overlay.parentNode&&this.element.removeChild(this.overlay);return this.overlay=null}render(d){this.overlay||this.mount();["string","number"].includes(typeof d)&&(d=this.el("div",null,d));d instanceof Array&&(d=this.el("div",null,d));null==d&&(d=this.el("div"));var c="div"===d.type;let {last:g}=this;const {overlay:h}=this,l=c?h:h.childNodes[0];c=c?h.parentNode:h;!g&&l&&(g=this.el("div"));this.apply(d,g,l,c,0);this.last=d;null!=g&&this.recycle(g)}}
p.DOM=m;m.initClass()};
shadow$provide[186]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Classes=void 0;G={dom:B(185).DOM};p.Classes=G};
shadow$provide[187]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w={Factory:!0};Object.defineProperty(p,"Factory",{enumerable:!0,get:function(){return r.OverlayFactory}});var r=B(182),m=B(186);Object.keys(m).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(w,c)||c in p&&p[c]===m[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return m[c]}}))});var d=B(184);Object.keys(d).forEach(function(c){"default"!==c&&"__esModule"!==
c&&(Object.prototype.hasOwnProperty.call(w,c)||c in p&&p[c]===d[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return d[c]}}))})};
shadow$provide[188]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Primitive=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(181));G=B(103);class m{static initClass(){this.Node=r.Node;this.Group=r.Group;this.model=this.Node;this.finals=this.props=this.traits=this.defaults=null;this.freeform=!1}constructor(d,c,g){this.node=d;this._context=c;this._renderables=this._context.renderables;this._attributes=this._context.attributes;this._shaders=this._context.shaders;this._overlays=
this._context.overlays;this._animator=this._context.animator;this._types=this._attributes.types;this.node.controller=this;this.node.on("added",h=>this._added());this.node.on("removed",h=>this._removed());this.node.on("change",h=>{if(this._root)return this.change(h.changed,h.touched)});this.reconfigure();this._get=this.node.get.bind(this.node);this._helpers=g(this,this.node.traits);this._handlers={inherit:{},listen:[],watch:[],compute:[]};this._root=this._parent=null;this.init()}is(d){return this.traits.hash[d]}init(){}make(){}made(){}unmake(d){}unmade(){}change(d,
c,g){}refresh(){return this.change({},{},!0)}rebuild(){if(this._root)return this._removed(!0),this._added()}reconfigure(d){null!=d&&this.node.configure(d,this._attributes);this.traits=this.node.traits;return this.props=this.node.props}_added(){let d,c;this._parent=null!=this.node.parent?this.node.parent.controller:void 0;this._root=null!=this.node.root?this.node.root.controller:void 0;this.node.clock=null!=(c=this._inherit("clock"))?c:this._root;try{try{return this.make(),this.refresh(),this.made()}catch(g){throw d=
g,this.node.print("warn"),console.error(d),d;}}catch(g){try{return this._removed()}catch(h){}}}_removed(d){null==d&&(d=!1);this.unmake(d);this._unlisten();this._unattach();this._uncompute();this._parent=this._root=null;return this.unmade(d)}_listen(d,c,g,h){null==h&&(h=this);if(d instanceof Array)for(const l of Array.from(d))return this.__listen(l,c,g,h);return this.__listen(d,c,g,h)}__listen(d,c,g,h){null==h&&(h=this);"string"===typeof d&&(d=this._inherit(d));null!=d&&(g=g.bind(h),g.node=this.node,
d.on(c,g),this._handlers.listen.push([d,c,g]));return d}_unlisten(){if(this._handlers.listen.length){for(const [d,c,g]of Array.from(this._handlers.listen))d.off(c,g);return this._handlers.listen=[]}}_inherit(d){const c=this._handlers.inherit[d];return void 0!==c?c:this._handlers.inherit[d]=null!=this._parent?this._parent._find(null!=d?d:null):void 0}_find(d){return this.is(d)?this:null!=this._parent?this._parent._find(d):void 0}_uninherit(){return this._handlers.inherit={}}_attach(d,c,g,h,l,k,t){null==
h&&(h=this);null==l&&(l=this);null==k&&(k=!1);null==t&&(t=!1);const x=function(F){if(null!=F&&Array.from(F.traits).includes(c))return F},A=F=>null!=F?F.controller:void 0,y=function(F){if(null==F)return F;let H=[];for(const P of Array.from(F))P instanceof Array?H=H.concat(P):H.push(P);return H},E=F=>{let H;if("object"===typeof F){var P=F;if(null!=P&&P._up)return F=t?P._targets:[P[0]];if(P instanceof Array)return F=t?y(P.map(E)):E(P[0]);if(P instanceof r.Node)return[P]}else if("string"===typeof F&&
"\x3c"===F[0]){var K=0;if(P=F.match(/^<([0-9])+$/))K=+P[1]-1;F.match(/^<+$/)&&(K=+F.length-1);H=[];let T=l.node;for(;T;){({parent:P}=T);if(!P)break;(T=P.children[T.index-1])||H.length||(T=P);P=null;x(T)&&(P=T);null!=P&&0>=K--&&H.push(P);if(!t&&H.length)return H}if(t&&H.length)return H}else if("string"===typeof F)if(K=g.bind(h),this._handlers.watch.push(K),K=this._root.watch(F,K),t){if(H=K.filter(x),H.length)return H}else if(x(K[0])&&(P=K[0]),null!=P)return[P];if(!k)throw console.warn(this.node.toMarkup()),
Error(`${this.node.toString()} - Could not find ${c} \`${F}\``);return t?[]:null};d=y(E(d));return t?null!=d?d.map(A):null:null!=d?A(d[0]):null}_unattach(){if(this._handlers.watch.length){for(const d of Array.from(this._handlers.watch))null!=d&&d.unwatch();return this._handlers.watch=[]}}_compute(d,c){this._handlers.compute.push(d);return this.node.bind(d,c,!0)}_uncompute(){if(this._handlers.compute.length){for(const d of Array.from(this._handlers.compute))this.node.unbind(d,!0);return this._handlers.compute=
[]}}}p.Primitive=m;m.initClass();G.Binder.apply(m.prototype)};
shadow$provide[189]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Parent=void 0;var w=B(188);class r extends w.Primitive{static initClass(){this.model=w.Primitive.Group;this.traits=["node"]}}p.Parent=r;r.initClass()};
shadow$provide[190]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Group=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits=["node","object","entity","visible","active"]}make(){this._helpers.visible.make();return this._helpers.active.make()}unmake(){this._helpers.visible.unmake();return this._helpers.active.unmake()}}p.Group=w;w.initClass()};
shadow$provide[191]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Inherit=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits=["node","bind"]}make(){return this._helpers.bind.make([{to:"inherit.source",trait:"node"}])}unmake(){return this._helpers.bind.unmake()}_find(r){return this.bind.source&&Array.from(this.props.traits).includes(r)?this.bind.source._inherit(r):super._find()}}p.Inherit=w;w.initClass()};
shadow$provide[192]=function(G,B,X,p){function w(m,d){return"undefined"!==typeof m&&null!==m?d(m):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Root=void 0;G=B(189);class r extends G.Parent{static initClass(){this.traits="node root clock scene vertex unit".split(" ")}init(){this.size=null;this.cameraEvent={type:"root.camera"};this.preEvent={type:"root.pre"};this.updateEvent={type:"root.update"};this.renderEvent={type:"root.render"};this.postEvent={type:"root.post"};this.clockEvent={type:"clock.tick"};
return this.camera=null}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}change(m,d,c){if(m["root.camera"]||c)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(m){return Array.from(m.renders).map(d=>this._context.scene.add(d))}unadopt(m){return Array.from(m.renders).map(d=>this._context.scene.remove(d))}select(m){return this.node.model.select(m)}watch(m,d){return this.node.model.watch(m,d)}unwatch(m){return this.node.model.unwatch(m)}resize(m){this.size=
m;return this.trigger({type:"root.resize",size:m})}getSize(){return this.size}getSpeed(){return this.props.speed}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}pre(){this.getCamera().updateProjectionMatrix();this.trigger(this.clockEvent);return this.trigger(this.preEvent)}update(){return this.trigger(this.updateEvent)}render(){return this.trigger(this.renderEvent)}post(){return this.trigger(this.postEvent)}setCamera(){const m=w(this.select(this.props.camera)[0],
d=>d.controller);if(this.camera!==m)return this.camera=m,this.trigger({type:"root.camera"})}getCamera(){let m;return null!=(m=null!=this.camera?this.camera.getCamera():void 0)?m:this._context.defaultCamera}getTime(){return this._context.time}vertex(m,d){return 2===d?m.pipe("view.position"):3===d?m.pipe("root.position"):m}}p.Root=r;r.initClass()};
shadow$provide[193]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Unit=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits=["node","unit"]}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}}p.Unit=w;w.initClass()};
shadow$provide[194]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(190);Object.keys(w).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===w[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return w[c]}}))});var r=B(191);Object.keys(r).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===r[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return r[c]}}))});var m=B(192);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in p&&p[c]===m[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return m[c]}}))});var d=B(193);Object.keys(d).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===d[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return d[c]}}))})};
shadow$provide[195]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.transformComposer=p.swizzleToEulerOrder=p.paramToArrayStorage=p.paramToGL=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,
l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(101));p.paramToGL=function(d,c){return c===r.RepeatWrapping?d.REPEAT:c===r.ClampToEdgeWrapping?d.CLAMP_TO_EDGE:c===r.MirroredRepeatWrapping?d.MIRRORED_REPEAT:c===r.NearestFilter?d.NEAREST:c===r.NearestMipMapNearestFilter?d.NEAREST_MIPMAP_NEAREST:c===r.NearestMipMapLinearFilter?d.NEAREST_MIPMAP_LINEAR:
c===r.LinearFilter?d.LINEAR:c===r.LinearMipMapNearestFilter?d.LINEAR_MIPMAP_NEAREST:c===r.LinearMipMapLinearFilter?d.LINEAR_MIPMAP_LINEAR:c===r.UnsignedByteType?d.UNSIGNED_BYTE:c===r.UnsignedShort4444Type?d.UNSIGNED_SHORT_4_4_4_4:c===r.UnsignedShort5551Type?d.UNSIGNED_SHORT_5_5_5_1:c===r.ByteType?d.BYTE:c===r.ShortType?d.SHORT:c===r.UnsignedShortType?d.UNSIGNED_SHORT:c===r.IntType?d.INT:c===r.UnsignedIntType?d.UNSIGNED_INT:c===r.FloatType?d.FLOAT:c===r.AlphaFormat?d.ALPHA:c===r.RGBAFormat?d.RGBA:
c===r.LuminanceFormat?d.LUMINANCE:c===r.LuminanceAlphaFormat?d.LUMINANCE_ALPHA:c===r.AddEquation?d.FUNC_ADD:c===r.SubtractEquation?d.FUNC_SUBTRACT:c===r.ReverseSubtractEquation?d.FUNC_REVERSE_SUBTRACT:c===r.ZeroFactor?d.ZERO:c===r.OneFactor?d.ONE:c===r.SrcColorFactor?d.SRC_COLOR:c===r.OneMinusSrcColorFactor?d.ONE_MINUS_SRC_COLOR:c===r.SrcAlphaFactor?d.SRC_ALPHA:c===r.OneMinusSrcAlphaFactor?d.ONE_MINUS_SRC_ALPHA:c===r.DstAlphaFactor?d.DST_ALPHA:c===r.OneMinusDstAlphaFactor?d.ONE_MINUS_DST_ALPHA:c===
r.DstColorFactor?d.DST_COLOR:c===r.OneMinusDstColorFactor?d.ONE_MINUS_DST_COLOR:c===r.SrcAlphaSaturateFactor?d.SRC_ALPHA_SATURATE:0};p.paramToArrayStorage=function(d){switch(d){case r.UnsignedByteType:return Uint8Array;case r.ByteType:return Int8Array;case r.ShortType:return Int16Array;case r.UnsignedShortType:return Uint16Array;case r.IntType:return Int32Array;case r.UnsignedIntType:return Uint32Array;case r.FloatType:return Float32Array}};const m=d=>d.map(c=>["","X","Y","Z"][c]).join("");p.swizzleToEulerOrder=
m;p.transformComposer=function(){const d=new r.Euler,c=new r.Quaternion,g=new r.Vector3,h=new r.Vector3,l=new r.Matrix4;return function(k,t,x,A,y,E){null==E&&(E="XYZ");null!=t?(E instanceof Array&&(E=m(E)),d.setFromVector3(t,E),c.setFromEuler(d)):c.set(0,0,0,1);null!=x&&c.multiply(x);null!=k?g.copy(k):g.set(0,0,0);null!=A?h.copy(A):h.set(1,1,1);l.compose(g,c,h);null!=y&&l.multiplyMatrices(l,y);return l}}};
shadow$provide[196]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});p.Camera=void 0;var r=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(195)),m=B(101);G=B(188);class d extends G.Primitive{static initClass(){this.traits=["node","camera"]}init(){}make(){const c=this._context.defaultCamera;this.camera=this.props.proxy?c:c.clone();this.euler=new m.Euler;return this.quat=new m.Quaternion}unmake(){}getCamera(){return this.camera}change(c,g,h){if(c["camera.position"]||c["camera.quaternion"]||
c["camera.rotation"]||c["camera.lookAt"]||c["camera.up"]||c["camera.fov"]||h){const {position:l,quaternion:k,rotation:t,lookAt:x,up:A,fov:y}=this.props;null!=l&&this.camera.position.copy(l);if(null!=k||null!=t||null!=x)null!=x?this.camera.lookAt(x):this.camera.quaternion.set(0,0,0,1),null!=t&&(this.euler.setFromVector3(t,r.swizzleToEulerOrder(this.props.eulerOrder)),this.quat.setFromEuler(this.euler),this.camera.quaternion.multiply(this.quat)),null!=k&&this.camera.quaternion.multiply(k);null!=y&&
null!=this.camera.fov&&(this.camera.fov=y);null!=A&&this.camera.up.copy(A);return this.camera.updateMatrix()}}}p.Camera=d;d.initClass()};
shadow$provide[197]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(196);Object.keys(w).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in p&&p[r]===w[r]||Object.defineProperty(p,r,{enumerable:!0,get:function(){return w[r]}}))})};
shadow$provide[198]=function(G,B,X,p){function w(d,c,g){const h=[],l=d<c;for(c=g?l?c+1:c-1:c;l?d<c:d>c;l?d++:d--)h.push(d);return h}Object.defineProperty(p,"__esModule",{value:!0});p.getLerpThunk=p.getLerpEmitter=p.getStreamer=p.getThunk=p.makeEmitter=p.repeatCall=p.getDimensions=p.getSizes=void 0;const r=function(d){const c=[];for(;"string"!==typeof d&&null!=(null!=d?d.length:void 0);)c.push(d.length),d=d[0];return c};p.getSizes=r;p.getDimensions=function(d,c){let g;null==c&&(c={});const {items:h,
channels:l,width:k,height:t,depth:x}=c;c={};if(!d||!d.length)return{items:h,channels:l,width:null!=k?k:0,height:null!=t?t:0,depth:null!=x?x:0};d=r(d);var A=d.length;c.channels=1!==l&&1<d.length?d.pop():l;c.items=1!==h&&1<d.length?d.pop():h;c.width=1!==k&&1<d.length?d.pop():k;c.height=1!==t&&1<d.length?d.pop():t;c.depth=1!==x&&1<d.length?d.pop():x;1===l&&A++;1===h&&1<A&&A++;1===k&&2<A&&A++;1===t&&3<A&&A++;d=null!=(g=d.pop())?g:1;1>=A&&(d/=null!=c.channels?c.channels:1);2>=A&&(d/=null!=c.items?c.items:
1);3>=A&&(d/=null!=c.width?c.width:1);4>=A&&(d/=null!=c.height?c.height:1);d=Math.floor(d);null==c.width&&(c.width=d,d=1);null==c.height&&(c.height=d,d=1);null==c.depth&&(c.depth=d);return c};p.repeatCall=function(d,c){switch(c){case 0:return()=>!0;case 1:return()=>d();case 2:return function(){d();return d()};case 3:return function(){d();d();d();return d()};case 4:return function(){d();d();d();return d()};case 6:return function(){d();d();d();d();d();return d()};case 8:return function(){d();d();d();
d();d();return d()}}};p.makeEmitter=function(d,c,g){let h;const l=(()=>{switch(g){case 0:return()=>!0;case 1:return t=>t(d());case 2:return t=>t(d(),d());case 3:return t=>t(d(),d(),d());case 4:return t=>t(d(),d(),d(),d());case 6:return t=>t(d(),d(),d(),d(),d(),d());case 8:return t=>t(d(),d(),d(),d(),d(),d(),d(),d())}})();let k=null;for(;0<c;){const t=Math.min(c,8);h=(()=>{switch(t){case 1:return x=>l(x);case 2:return function(x){l(x);return l(x)};case 3:return function(x){l(x);l(x);return l(x)};case 4:return function(x){l(x);
l(x);l(x);return l(x)};case 5:return function(x){l(x);l(x);l(x);l(x);return l(x)};case 6:return function(x){l(x);l(x);l(x);l(x);l(x);return l(x)};case 7:return function(x){l(x);l(x);l(x);l(x);l(x);l(x);return l(x)};case 8:return function(x){l(x);l(x);l(x);l(x);l(x);l(x);l(x);return l(x)}}})();k=null!=k?((x,A)=>function(y){x(y);return A(y)})(h,k):h;c-=t}h=null!=k?k:()=>!0;h.reset=d.reset;h.rebind=d.rebind;return h};const m=function(d){let c,g,h,l,k,t=r(d);const x=t.length;let A=t.pop(),y=t.pop(),E=
t.pop();const F=t.pop();let H,P,K,T,aa;switch(x){case 0:c=()=>0;c.reset=function(){};break;case 1:H=0;c=()=>d[H++];c.reset=()=>H=0;break;case 2:H=g=0;P=null!=d[g]?d[g]:[];c=function(){const Q=P[H++];H===A&&(H=0,g++,P=null!=d[g]?d[g]:[]);return Q};c.reset=function(){H=g=0;P=null!=d[g]?d[g]:[]};break;case 3:H=g=h=0;K=null!=d[h]?d[h]:[];P=null!=K[g]?K[g]:[];c=function(){const Q=P[H++];H===A&&(H=0,g++,g===y&&(g=0,h++,K=null!=d[h]?d[h]:[]),P=null!=K[g]?K[g]:[]);return Q};c.reset=function(){H=g=h=0;K=null!=
d[h]?d[h]:[];P=null!=K[g]?K[g]:[]};break;case 4:H=g=h=l=0;T=null!=d[l]?d[l]:[];K=null!=T[h]?T[h]:[];P=null!=K[g]?K[g]:[];c=function(){const Q=P[H++];H===A&&(H=0,g++,g===y&&(g=0,h++,h===E&&(h=0,l++,T=null!=d[l]?d[l]:[]),K=null!=T[h]?T[h]:[]),P=null!=K[g]?K[g]:[]);return Q};c.reset=function(){H=g=h=l=0;T=null!=d[l]?d[l]:[];K=null!=T[h]?T[h]:[];P=null!=K[g]?K[g]:[]};break;case 5:H=g=h=l=k=0,aa=null!=d[k]?d[k]:[],T=null!=aa[l]?aa[l]:[],K=null!=T[h]?T[h]:[],P=null!=K[g]?K[g]:[],c=function(){const Q=P[H++];
H===A&&(H=0,g++,g===y&&(g=0,h++,h===E&&(h=0,l++,l===F&&(l=0,k++,aa=null!=d[k]?d[k]:[]),T=null!=aa[l]?aa[l]:[]),K=null!=T[h]?T[h]:[]),P=null!=K[g]?K[g]:[]);return Q},c.reset=function(){H=g=h=l=k=0;aa=null!=d[k]?d[k]:[];T=null!=aa[l]?aa[l]:[];K=null!=T[h]?T[h]:[];P=null!=K[g]?K[g]:[]}}c.rebind=function(Q){d=Q;t=r(d);t.length&&(A=t.pop());t.length&&(y=t.pop());t.length&&(E=t.pop());if(t.length)return t.pop()};return c};p.getThunk=m;p.getStreamer=function(d,c,g,h){let l,k,t=l=k=0;const x=function(){t=
c*g*h;return l=k=0},A=(()=>{switch(g){case 1:return function(F){l+=F;k+=F};case 2:return function(F){l+=2*F;k+=F};case 3:return function(F){l+=3*F;k+=F};case 4:return function(F){l+=4*F;k+=F}}})(),y=(()=>{switch(g){case 1:return function(F){F(d[l++]);++k};case 2:return function(F){F(d[l++],d[l++]);++k};case 3:return function(F){F(d[l++],d[l++],d[l++]);++k};case 4:return function(F){F(d[l++],d[l++],d[l++],d[l++]);++k}}})(),E=(()=>{switch(g){case 1:return function(F){d[l++]=F;++k};case 2:return function(F,
H){d[l++]=F;d[l++]=H;++k};case 3:return function(F,H,P){d[l++]=F;d[l++]=H;d[l++]=P;++k};case 4:return function(F,H,P,K){d[l++]=F;d[l++]=H;d[l++]=P;d[l++]=K;++k}}})();y.reset=x;E.reset=x;x();return{emit:E,consume:y,skip:A,count:()=>k,done:()=>0>=t-l,reset:x}};p.getLerpEmitter=function(d,c){let g,h,l,k;const t=new Float32Array(4096);let x=g=.5,A=h=l=k=0;const y=function(H,P,K,T){l++;t[A++]=H*x;t[A++]=P*x;t[A++]=K*x;return t[A++]=T*x},E=function(H,P,K,T){k++;t[h++]+=H*g;t[h++]+=P*g;t[h++]+=K*g;return t[h++]+=
T*g};var F=Math.max(d.length,c.length);F=3>=F?function(H,P,K){A=h=l=k=0;d(y,P,K);c(E,P,K);let T=0;return w(0,Math.min(l,k),!1).map(aa=>H(t[T++],t[T++],t[T++],t[T++]))}:5>=F?function(H,P,K,T,aa){A=h=l=k=0;d(y,P,K,T,aa);c(E,P,K,T,aa);let Q=0;return w(0,Math.min(l,k),!1).map(O=>H(t[Q++],t[Q++],t[Q++],t[Q++]))}:7>=F?function(H,P,K,T,aa,Q,O){A=h=l=k=0;d(y,P,K,T,aa,Q,O);c(E,P,K,T,aa,Q,O);P=Math.min(l,k);K=0;aa=[];O=0;for(T=0<=P;T?O<P:O>P;T?O++:O--)aa.push(H(t[K++],t[K++],t[K++],t[K++]));return aa}:9>=F?
function(H,P,K,T,aa,Q,O,da,ea){A=h=l=k=0;d(y,P,K,T,aa,Q,O,da,ea);c(E,P,K,T,aa,Q,O,da,ea);P=Math.min(l,k);ea=0;T=[];da=0;for(K=0<=P;K?da<P:da>P;K?da++:da--)T.push(H(t[ea++],t[ea++],t[ea++],t[ea++]));return T}:function(H,P,K,T,aa,Q,O,da,ea,za,Ea){A=h=0;d(y,P,K,T,aa,Q,O,da,ea,za,Ea);c(E,P,K,T,aa,Q,O,da,ea,za,Ea);P=Math.min(l,k);ea=0;T=[];da=0;for(K=0<=P;K?da<P:da>P;K?da++:da--)T.push(H(t[ea++],t[ea++],t[ea++],t[ea++]));return T};F.lerp=function(H){let P;return[x,g]=Array.from(P=[1-H,H]),P};return F};
p.getLerpThunk=function(d,c){const g=r(d).reduce((A,y)=>A*y),h=r(c).reduce((A,y)=>A*y),l=Math.min(g,h),k=m(d),t=m(c),x=new Float32Array(l);x.lerp=function(A){k.reset();t.reset();let y=0;const E=[];for(;y<l;){const F=k(),H=t();E.push(x[y++]=F+(H-F)*A)}return E};return x}};
shadow$provide[199]=function(G,B,X,p){function w(k,t,x){const A=[],y=k<t;for(t=x?y?t+1:t-1:t;y?k<t:k>t;y?k++:k--)A.push(k);return A}Object.defineProperty(p,"__esModule",{value:!0});p.constant=p.identity=p.invertSwizzleVec4=p.swizzleVec4=p.injectVec4=p.truncateVec=p.extendVec=p.binaryOperator=p.sample2DArray=p.mapByte2FloatOffset=p.toType=void 0;const r=["x","y","z","w"],m={0:-1,x:0,y:1,z:2,w:3},d=function(k){k===""+k&&(k=k.split(""));k===+k&&(k=[k]);return k},c=function(k){k===+k&&(k="vec"+k);"vec1"===
k&&(k="float");return k};p.toType=c;const g=function(k){k=""+k;if(0>k.indexOf("."))return k+".0"};p.mapByte2FloatOffset=function(k){null==k&&(k=4);k=g(k);return`\
vec4 float2ByteIndex(vec4 xyzw, out float channelIndex) {
  float relative = xyzw.w / ${k};
  float w = floor(relative);
  channelIndex = (relative - w) * ${k};
  return vec4(xyzw.xyz, w);
}\
`};p.sample2DArray=function(k){const t=function(A,y){if(A===y)A=`\
return texture2D(dataTextures[${A}], uv);\
`;else{const E=Math.ceil(A+(y-A)/2);A=`\
if (z < ${E-.5}) {
  ${t(A,E-1)}
}
else {
  ${t(E,y)}
}\
`}return A.replace(/\n/g,"\n  ")},x=t(0,k-1);return`\
uniform sampler2D dataTextures[${k}];

vec4 sample2DArray(vec2 uv, float z) {
  ${x}
}\
`};p.binaryOperator=function(k,t,x){k=c(k);return null!=x?`\
${k} binaryOperator(${k} a) {
  return a ${t} ${x};
}\
`:`\
${k} binaryOperator(${k} a, ${k} b) {
  return a ${t} b;
}\
`};const h=function(k,t,x){null==x&&(x=0);if(k>t)return l(k,t);var A=t-k;k=c(k);t=c(t);x=g(x);A=w(0,A,!0).map(function(y){return y?x:"v"}).join(",");return`\
${t} extendVec(${k} v) { return ${t}(${A}); }\
`};p.extendVec=h;const l=function(k,t){if(k<t)return h(k,t);const x="."+"xyzw".substr(0,t);k=c(k);t=c(t);return`\
${t} truncateVec(${k} v) { return v${x}; }\
`};p.truncateVec=l;p.injectVec4=function(k){var t=["0.0","0.0","0.0","0.0"];k=d(k);k=k.map(function(x){return x===""+x?m[x]:x});for(let x=0;x<k.length;x++)t[k[x]]=["a","b","c","d"][x];t=t.slice(0,4).join(", ");return`\
vec4 inject(${["float a","float b","float c","float d"].slice(0,k.length)}) {
  return vec4(${t});
}\
`};p.swizzleVec4=function(k,t=null){const x=["0.0","xyzw.x","xyzw.y","xyzw.z","xyzw.w"];null==t&&(t=k.length);k=d(k);for(k=k.map(function(A){Array.from([0,1,2,3,4]).includes(+A)&&(A=+A);A===""+A&&(A=m[A]+1);return x[A]});k.length<t;)k.push("0.0");k=k.join(", ");return`\
vec${t} swizzle(vec4 xyzw) {
  return vec${t}(${k});
}\
`.replace(/vec1/g,"float")};p.invertSwizzleVec4=function(k){const t=["0.0","0.0","0.0","0.0"];k=d(k);k=k.map(function(x){return x===+x?r[x-1]:x});for(let x=0;x<k.length;x++)t[m[k[x]]]=`xyzw.${r[x]}`;return`\
vec4 invertSwizzle(vec4 xyzw) {
  return vec4(${t.join(", ")});
}\
`};p.identity=function(k){let t=[].slice.call(arguments);return 1<t.length?(t=t.map((x,A)=>["inout",x,String.fromCharCode(97+A)].join(" ")),t=t.join(", "),`\
void identity(${t}) { }\
`):`\
${k} identity(${k} x) {
  return x;
}\
`};p.constant=(k,t)=>`\
${k} constant() {
return ${t};
}\
`};
shadow$provide[200]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Source=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(188);class m extends G.Primitive{static initClass(){this.traits=["node","source","index"]}made(){return this.trigger({type:"source.rebuild"})}indexShader(d){return d.pipe(r.identity("vec4"))}sourceShader(d){return d.pipe(r.identity("vec4"))}getDimensions(){return{items:1,width:1,height:1,depth:1}}getActiveDimensions(){return this.getDimensions()}getIndexDimensions(){return this.getActiveDimensions()}getFutureDimensions(){return this.getActiveDimensions()}}
p.Source=m;m.initClass()};
shadow$provide[201]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Data=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(200);class m extends G.Source{static initClass(){this.traits="node data source index entity active".split(" ")}init(){return this.dataSizes=this.dataEmitter=null}emitter(d,c){const {data:g,bind:h,expr:l}=this.props;if(null!=g){var k=this.dataSizes;var t=r.getSizes(g);k&&k.length===t.length||(k=r.getThunk(g),this.dataEmitter=this.callback(r.makeEmitter(k,
c,d)),this.dataSizes=t);d=this.dataEmitter}else null!=t?(t=this._inherit("resolve"),d=this.callback(t.callback(h))):d=null!=l?this.callback(l):this.callback(this.passthrough);return d}callback(d){return null!=d?d:function(){}}update(){}make(){this._helpers.active.make();this.first=!0;return this._listen("root","root.update",()=>{(this.isActive||this.first)&&this.update();return this.first=!1})}unmake(){this._helpers.active.unmake();return this.dataSizes=this.dataEmitter=null}}p.Data=m;m.initClass()};
shadow$provide[202]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Buffer=void 0;G=B(201);class w extends G.Data{static initClass(){this.traits="node buffer active data source index texture".split(" ")}init(){this.bufferStep=this.bufferClock=this.bufferDelta=this.bufferTime=this.bufferFrames=this.bufferSlack=0;super.init()}make(){super.make();this.clockParent=this._inherit("clock");this.latchParent=this._inherit("latch")}unmake(){return super.unmake()}rawBuffer(){return this.buffer}emitter(){const {channels:r,
items:m}=this.props;return super.emitter(r,m)}change(r,m,d){if(r["buffer.fps"]||d)return{fps:r}=this.props,this.bufferSlack=r?.5/r:0}syncBuffer(r){let m,d;if(this.buffer){var {live:c,fps:g,hurry:h,limit:l,realtime:k,observe:t}=this.props,x=this.buffer.getFilled();if(!x||c)if(!this.latchParent||this.latchParent.isDirty){var A=this.clockParent.getTime();if(null!=g){const y=this.bufferSlack,E=A.step/A.delta;m=k?A.delta:A.step;const F=1/g;d=k&&t?E*F:F;Math.abs(A.time-this.bufferTime)>A.step*l&&(this.bufferTime=
A.time,this.bufferClock=A.clock);this.bufferSlack=Math.min(l/g,y+m);this.bufferDelta=m;this.bufferStep=d;let H=Math.min(h,Math.floor(y*g));x||(H=Math.max(1,H));let P=!1;const K=()=>P=!0;return(()=>{const T=[];for(let aa=0,Q=H,O=0<=Q;O?aa<Q:aa>Q;O?aa++:aa--){this.bufferTime+=m;this.bufferClock+=d;if(P)break;r(K,this.bufferFrames++,aa,H);T.push(this.bufferSlack-=F)}return T})()}this.bufferTime=A.time;this.bufferDelta=A.delta;this.bufferClock=A.clock;this.bufferStep=A.step;return r(function(){},this.bufferFrames++,
0,1)}}}alignShader(r,m){const {minFilter:d,magFilter:c,aligned:g}=this.props;r=1<r.items&&1<r.width||1<r.height&&1<r.depth;if(!g&&r)return d===this.node.attributes["texture.minFilter"].enum.nearest&&c===this.node.attributes["texture.magFilter"].enum.nearest||console.warn(`${this.node.toString()} - Cannot use linear min/magFilter with 3D/4D sampling`),m.pipe("map.xyzw.align")}}p.Buffer=w;w.initClass()};
shadow$provide[203]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Array_=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(202);class m extends G.Buffer{static initClass(){this.traits="node buffer active data source index array texture raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,history:0};this.used={width:0};this.storage="arrayBuffer";this.passthrough=(d,c)=>d(c,0,0,0);return super.init()}sourceShader(d){const c=this.getDimensions();this.alignShader(c,
d);return this.buffer.shader(d)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.history,depth:1}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.buffer.getFilled(),depth:1}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.space.history,depth:1}}getRawDimensions(){return{items:this.items,width:this.space.width,height:1,depth:1}}make(){super.make();const d=null!=this.minFilter?this.minFilter:this.props.minFilter,
c=null!=this.magFilter?this.magFilter:this.props.magFilter,g=null!=this.type?this.type:this.props.type;var {width:h}=this.props;const {history:l}=this.props,k=this.props.bufferWidth,{channels:t}=this.props,{items:x}=this.props;h=this.spec={channels:t,items:x,width:h};this.items=h.items;this.channels=h.channels;var {data:A}=this.props;h=r.getDimensions(A,h);({space:A}=this);A.width=Math.max(k,h.width||1);A.history=l;return this.buffer=this._renderables.make(this.storage,{width:A.width,history:A.history,
channels:t,items:x,minFilter:d,magFilter:c,type:g})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(d,c,g){if(c.texture||d["history.history"]||d["buffer.channels"]||d["buffer.items"]||d["array.bufferWidth"])return this.rebuild();if(this.buffer){if(d["array.width"]){const {width:h,bufferWidth:l}=this.props;this.spec.width=h;if(h>l)return this.rebuild()}if(d["data.map"]||d["data.data"]||d["data.resolve"]||d["data.expr"]||g)return this.buffer.setCallback(this.emitter())}}callback(d){return 2>=
d.length?d:(c,g)=>d(c,g,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:d}=this.props,{width:c}=this.props,{space:g,used:h}=this,l=h.width,k=this.buffer.getFilled();this.syncBuffer(t=>{if(null!=d){const x=r.getDimensions(d,this.spec);if(x.width>g.width)return t(),this.rebuild();h.width=x.width;this.buffer.setActive(h.width);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(d);return this.buffer.update()}c=this.spec.width||1;this.buffer.setActive(c);
c=this.buffer.update();return h.width=c});if(h.width!==l||k!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}p.Array_=m;m.initClass()};
shadow$provide[204]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Interval=void 0;G=B(203);class w extends G.Array_{static initClass(){this.traits="node buffer active data source index texture array span interval sampler raw".split(" ")}updateSpan(){var r=this.props.axis;({width:c}=this.props);const {centered:m}=this.props,d=this.props.padding;r=this._helpers.span.get("",r);c+=2*d;this.a=r.x;r=r.y-r.x;if(m){var c=1/Math.max(1,c);this.a+=r*c/2}else c=1/Math.max(1,c-1);this.b=
r*c;return this.a+=d*this.b}callback(r){this.updateSpan();if(this.last===r)return this._callback;this.last=r;return 3>=r.length?this._callback=(m,d)=>r(m,this.a+this.b*d,d):this._callback=(m,d)=>r(m,this.a+this.b*d,d,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(r,m,d){super.change(r,m,d);m.span&&this.updateSpan()}}p.Interval=w;w.initClass()};
shadow$provide[205]=function(G,B,X,p){X.exports=function(w,r){for(var m=-1,d=null==w?0:w.length;++m<d&&!1!==r(w[m],m,w););return w}};
shadow$provide[206]=function(G,B,X,p){G=B(35);a:{try{var w=G(Object,"defineProperty");w({},"",{});var r=w;break a}catch(m){}r=void 0}X.exports=r};
shadow$provide[207]=function(G,B,X,p){var w=B(206);X.exports=function(r,m,d){"__proto__"==m&&w?w(r,m,{configurable:!0,enumerable:!0,value:d,writable:!0}):r[m]=d}};
shadow$provide[208]=function(G,B,X,p){var w=B(207),r=B(11),m=Object.prototype.hasOwnProperty;X.exports=function(d,c,g){var h=d[c];m.call(d,c)&&r(h,g)&&(void 0!==g||c in d)||w(d,c,g)}};
shadow$provide[209]=function(G,B,X,p){var w=B(208),r=B(207);X.exports=function(m,d,c,g){var h=!c;c||(c={});for(var l=-1,k=d.length;++l<k;){var t=d[l],x=g?g(c[t],m[t],t,c,m):void 0;void 0===x&&(x=m[t]);h?r(c,t,x):w(c,t,x)}return c}};
shadow$provide[210]=function(G,B,X,p){var w=B(209),r=B(88);X.exports=function(m,d){return m&&w(d,r(d),m)}};
shadow$provide[211]=function(G,B,X,p){X.exports=function(w){var r=[];if(null!=w)for(var m in Object(w))r.push(m);return r}};
shadow$provide[212]=function(G,B,X,p){var w=B(28),r=B(83),m=B(211),d=Object.prototype.hasOwnProperty;X.exports=function(c){if(!w(c))return m(c);var g=r(c),h=[],l;for(l in c)("constructor"!=l||!g&&d.call(c,l))&&h.push(l);return h}};
shadow$provide[213]=function(G,B,X,p){var w=B(82),r=B(212),m=B(87);X.exports=function(d){return m(d)?w(d,!0):r(d)}};
shadow$provide[214]=function(G,B,X,p){var w=B(209),r=B(213);X.exports=function(m,d){return m&&w(d,r(d),m)}};
shadow$provide[215]=function(G,B,X,p){G=B(23);var w=(p=(B=(p="object"==typeof p&&p&&!p.nodeType&&p)&&"object"==typeof X&&X&&!X.nodeType&&X)&&B.exports===p?G.Buffer:void 0)?p.allocUnsafe:void 0;X.exports=function(r,m){if(m)return r.slice();m=r.length;m=w?w(m):new r.constructor(m);r.copy(m);return m}};
shadow$provide[216]=function(G,B,X,p){X.exports=function(w,r){var m=-1,d=w.length;for(r||(r=Array(d));++m<d;)r[m]=w[m];return r}};
shadow$provide[217]=function(G,B,X,p){var w=B(209),r=B(69);X.exports=function(m,d){return w(m,r(m),d)}};
shadow$provide[218]=function(G,B,X,p){G=B(84)(Object.getPrototypeOf,Object);X.exports=G};
shadow$provide[219]=function(G,B,X,p){var w=B(64),r=B(218),m=B(69);G=B(68);X.exports=Object.getOwnPropertySymbols?function(d){for(var c=[];d;)w(c,m(d)),d=r(d);return c}:G};
shadow$provide[220]=function(G,B,X,p){var w=B(209),r=B(219);X.exports=function(m,d){return w(m,r(m),d)}};
shadow$provide[221]=function(G,B,X,p){var w=B(66),r=B(219),m=B(213);X.exports=function(d){return w(d,m,r)}};
shadow$provide[222]=function(G,B,X,p){var w=Object.prototype.hasOwnProperty;X.exports=function(r){var m=r.length,d=new r.constructor(m);m&&"string"==typeof r[0]&&w.call(r,"index")&&(d.index=r.index,d.input=r.input);return d}};
shadow$provide[223]=function(G,B,X,p){var w=B(60);X.exports=function(r){var m=new r.constructor(r.byteLength);(new w(m)).set(new w(r));return m}};
shadow$provide[224]=function(G,B,X,p){var w=B(223);X.exports=function(r,m){m=m?w(r.buffer):r.buffer;return new r.constructor(m,r.byteOffset,r.byteLength)}};
shadow$provide[225]=function(G,B,X,p){var w=/\w*$/;X.exports=function(r){var m=new r.constructor(r.source,w.exec(r));m.lastIndex=r.lastIndex;return m}};
shadow$provide[226]=function(G,B,X,p){var w=(G=(G=B(24))?G.prototype:void 0)?G.valueOf:void 0;X.exports=function(r){return w?Object(w.call(r)):{}}};
shadow$provide[227]=function(G,B,X,p){var w=B(223);X.exports=function(r,m){m=m?w(r.buffer):r.buffer;return new r.constructor(m,r.byteOffset,r.length)}};
shadow$provide[228]=function(G,B,X,p){var w=B(223),r=B(224),m=B(225),d=B(226),c=B(227);X.exports=function(g,h,l){var k=g.constructor;switch(h){case "[object ArrayBuffer]":return w(g);case "[object Boolean]":case "[object Date]":return new k(+g);case "[object DataView]":return r(g,l);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return c(g,
l);case "[object Map]":return new k;case "[object Number]":case "[object String]":return new k(g);case "[object RegExp]":return m(g);case "[object Set]":return new k;case "[object Symbol]":return d(g)}}};
shadow$provide[229]=function(G,B,X,p){var w=B(28),r=Object.create;G=function(){function m(){}return function(d){if(!w(d))return{};if(r)return r(d);m.prototype=d;d=new m;m.prototype=void 0;return d}}();X.exports=G};
shadow$provide[230]=function(G,B,X,p){var w=B(229),r=B(218),m=B(83);X.exports=function(d){return"function"!=typeof d.constructor||m(d)?{}:w(r(d))}};
shadow$provide[231]=function(G,B,X,p){var w=B(95),r=B(71);X.exports=function(m){return r(m)&&"[object Map]"==w(m)}};
shadow$provide[232]=function(G,B,X,p){G=B(231);p=B(79);B=(B=(B=B(80))&&B.isMap)?p(B):G;X.exports=B};
shadow$provide[233]=function(G,B,X,p){var w=B(95),r=B(71);X.exports=function(m){return r(m)&&"[object Set]"==w(m)}};
shadow$provide[234]=function(G,B,X,p){G=B(233);p=B(79);B=(B=(B=B(80))&&B.isSet)?p(B):G;X.exports=B};
shadow$provide[235]=function(G,B,X,p){function w(za,Ea,sa,gb,wa,Ba){var Da,pa=Ea&1,ib=Ea&2,$a=Ea&4;sa&&(Da=wa?sa(za,gb,wa,Ba):sa(za));if(void 0!==Da)return Da;if(!aa(za))return za;if(gb=P(za)){if(Da=E(za),!pa)return l(za,Da)}else{var eb=y(za),Ja="[object Function]"==eb||"[object GeneratorFunction]"==eb;if(K(za))return h(za,pa);if("[object Object]"==eb||"[object Arguments]"==eb||Ja&&!wa){if(Da=ib||Ja?{}:H(za),!pa)return ib?t(za,g(Da,za)):k(za,c(Da,za))}else{if(!ea[eb])return wa?za:{};Da=F(za,eb,pa)}}Ba||
(Ba=new r);if(wa=Ba.get(za))return wa;Ba.set(za,Da);Q(za)?za.forEach(function(Kb){Da.add(w(Kb,Ea,sa,Kb,za,Ba))}):T(za)&&za.forEach(function(Kb,rb){Da.set(rb,w(Kb,Ea,sa,rb,za,Ba))});ib=$a?ib?A:x:ib?da:O;var Fb=gb?void 0:ib(za);m(Fb||za,function(Kb,rb){Fb&&(rb=Kb,Kb=za[rb]);d(Da,rb,w(Kb,Ea,sa,rb,za,Ba))});return Da}var r=B(53),m=B(205),d=B(208),c=B(210),g=B(214),h=B(215),l=B(216),k=B(217),t=B(220),x=B(89),A=B(221),y=B(95),E=B(222),F=B(228),H=B(230),P=B(65),K=B(75),T=B(232),aa=B(28),Q=B(234),O=B(88),
da=B(213),ea={};ea["[object Arguments]"]=ea["[object Array]"]=ea["[object ArrayBuffer]"]=ea["[object DataView]"]=ea["[object Boolean]"]=ea["[object Date]"]=ea["[object Float32Array]"]=ea["[object Float64Array]"]=ea["[object Int8Array]"]=ea["[object Int16Array]"]=ea["[object Int32Array]"]=ea["[object Map]"]=ea["[object Number]"]=ea["[object Object]"]=ea["[object RegExp]"]=ea["[object Set]"]=ea["[object String]"]=ea["[object Symbol]"]=ea["[object Uint8Array]"]=ea["[object Uint8ClampedArray]"]=ea["[object Uint16Array]"]=
ea["[object Uint32Array]"]=!0;ea["[object Error]"]=ea["[object Function]"]=ea["[object WeakMap]"]=!1;X.exports=w};
shadow$provide[236]=function(G,B,X,p){var w=B(235);X.exports=function(r){return w(r,5)}};
shadow$provide[237]=function(G,B,X,p){function w(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(p,"__esModule",{value:!0});p.Latch=void 0;G=B(189);var r=w(B(236)),m=w(B(98));class d extends G.Parent{static initClass(){this.traits=["node","entity","active","latch"]}init(){this.data=void 0;this.isDirty=!0}make(){this._helpers.active.make();this._listen("root","root.update",function(){this.isActive&&this.update()})}unmake(){this._helpers.active.unmake();this.data=void 0}swap(){const {deep:c,
data:g}=this.props;(c?(0,m.default)(g,this.data):g==this.data)||(this.data=c?(0,r.default)(g):g)}update(){this.isDirty=this.swap()}}p.Latch=d;d.initClass()};
shadow$provide[238]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Matrix=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(202);class m extends G.Buffer{static initClass(){this.traits="node buffer active data source index texture matrix raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,history:0};this.used={width:0,height:0};this.storage="matrixBuffer";this.passthrough=(d,c,g)=>d(c,g,0,0);return super.init()}sourceShader(d){const c=
this.getDimensions();this.alignShader(c,d);return this.buffer.shader(d)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.history}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.buffer.getFilled()}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.space.history}}getRawDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,
depth:1}}make(){super.make();const d=null!=this.minFilter?this.minFilter:this.props.minFilter,c=null!=this.magFilter?this.magFilter:this.props.magFilter,g=null!=this.type?this.type:this.props.type;var {width:h}=this.props,{height:l}=this.props;const {history:k}=this.props,t=this.props.bufferWidth,x=this.props.bufferHeight,{channels:A}=this.props,{items:y}=this.props;h=this.spec={channels:A,items:y,width:h,height:l};this.items=h.items;this.channels=h.channels;({data:l}=this.props);h=r.getDimensions(l,
h);({space:l}=this);l.width=Math.max(t,h.width||1);l.height=Math.max(x,h.height||1);l.history=k;return this.buffer=this._renderables.make(this.storage,{width:l.width,height:l.height,history:l.history,channels:A,items:y,minFilter:d,magFilter:c,type:g})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(d,c,g){if(c.texture||d["matrix.history"]||d["buffer.channels"]||d["buffer.items"]||d["matrix.bufferWidth"]||d["matrix.bufferHeight"])return this.rebuild();
if(this.buffer){if(d["matrix.width"]){const {width:h,bufferWidth:l}=this.props;this.spec.width=h;if(h>l)return this.rebuild()}if(d["matrix.height"]){const {height:h,bufferHeight:l}=this.props;this.spec.height=h;if(h>l)return this.rebuild()}if(d["data.map"]||d["data.data"]||d["data.resolve"]||d["data.expr"]||g)return this.buffer.setCallback(this.emitter())}}callback(d){return 3>=d.length?d:(c,g,h)=>d(c,g,h,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:d}=this.props,{space:c,
used:g}=this,h=g.width,l=g.height,k=this.buffer.getFilled();this.syncBuffer(t=>{if(null!=d){var x=r.getDimensions(d,this.spec);if(x.width>c.width||x.height>c.height)return t(),this.rebuild();g.width=x.width;g.height=x.height;this.buffer.setActive(g.width,g.height);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(d);return this.buffer.update()}t=this.spec.width||1;x=this.spec.height||1;this.buffer.setActive(t,x);const A=this.buffer.update();g.width=t;g.height=Math.min(x,
Math.ceil(A/t));1===g.height&&(g.width=Math.min(t,A))});if(g.width!==h||g.height!==l||k!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}p.Matrix=m;m.initClass()};
shadow$provide[239]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Area=void 0;G=B(238);class w extends G.Matrix{static initClass(){this.traits="node buffer active data source index matrix texture raw span:x span:y area sampler:x sampler:y".split(" ")}updateSpan(){var r=this.props.axes;({width:l}=this.props);({height:k}=this.props);const {centeredX:m}=this.props,{centeredY:d}=this.props,c=this.props.paddingX,g=this.props.paddingY;var h=this._helpers.span.get("x.",r[0]);r=this._helpers.span.get("y.",
r[1]);this.aX=h.x;this.aY=r.x;h=h.y-h.x;r=r.y-r.x;l+=2*c;k+=2*g;if(m){var l=1/Math.max(1,l);this.aX+=h*l/2}else l=1/Math.max(1,l-1);if(d){var k=1/Math.max(1,k);this.aY+=r*k/2}else k=1/Math.max(1,k-1);this.bX=h*l;this.bY=r*k;this.aX+=c*this.bX;return this.aY+=g*this.bY}callback(r){this.updateSpan();if(this.last===r)return this._callback;this.last=r;return 5>=r.length?this._callback=(m,d,c)=>r(m,this.aX+this.bX*d,this.aY+this.bY*c,d,c):this._callback=(m,d,c)=>r(m,this.aX+this.bX*d,this.aY+this.bY*c,
d,c,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(r,m,d){super.change(r,m,d);(m.x||m.y)&&this.updateSpan()}}p.Area=w;w.initClass()};
shadow$provide[240]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Voxel=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(202);class m extends G.Buffer{constructor(...d){super(...d);this.update=this.update.bind(this)}static initClass(){this.traits="node buffer active data source index texture voxel raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,depth:0};this.used={width:0,height:0,depth:0};this.storage="voxelBuffer";this.passthrough=
(d,c,g,h)=>d(c,g,h,0);super.init()}sourceShader(d){const c=this.getDimensions();this.alignShader(c,d);return this.buffer.shader(d)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.depth}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.used.depth*this.buffer.getFilled()}}getRawDimensions(){return this.getDimensions()}make(){super.make();const d=null!=this.minFilter?this.minFilter:this.props.minFilter,
c=null!=this.magFilter?this.magFilter:this.props.magFilter,g=null!=this.type?this.type:this.props.type;var {width:h}=this.props,{height:l}=this.props;const {depth:k}=this.props,t=this.props.bufferWidth,x=this.props.bufferHeight,A=this.props.bufferDepth,{channels:y}=this.props,{items:E}=this.props;h=this.spec={channels:y,items:E,width:h,height:l,depth:k};this.items=h.items;this.channels=h.channels;({data:l}=this.props);h=r.getDimensions(l,h);({space:l}=this);l.width=Math.max(t,h.width||1);l.height=
Math.max(x,h.height||1);l.depth=Math.max(A,h.depth||1);return this.buffer=this._renderables.make(this.storage,{width:l.width,height:l.height,depth:l.depth,channels:y,items:E,minFilter:d,magFilter:c,type:g})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(d,c,g){if(c.texture||d["buffer.channels"]||d["buffer.items"]||d["voxel.bufferWidth"]||d["voxel.bufferHeight"]||d["voxel.bufferDepth"])return this.rebuild();if(this.buffer){if(d["voxel.width"]){const {width:h,
bufferWidth:l}=this.props;this.spec.width=h;if(h>l)return this.rebuild()}if(d["voxel.height"]){const {height:h,bufferHeight:l}=this.props;this.spec.height=h;if(h>l)return this.rebuild()}if(d["voxel.depth"]){const {depth:h,bufferDepth:l}=this.props;this.spec.depth=h;if(h>l)return this.rebuild()}if(d["data.map"]||d["data.data"]||d["data.resolve"]||d["data.expr"]||g)return this.buffer.setCallback(this.emitter())}}callback(d){return 4>=d.length?d:(c,g,h,l)=>d(c,g,h,l,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:d}=
this.props,{space:c,used:g}=this,h=g.width,l=g.height,k=g.depth,t=this.buffer.getFilled();this.syncBuffer(x=>{if(null!=d){var A=r.getDimensions(d,this.spec);if(A.width>c.width||A.height>c.height||A.depth>c.depth)return x(),this.rebuild();g.width=A.width;g.height=A.height;g.depth=A.depth;this.buffer.setActive(g.width,g.height,g.depth);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(d);return this.buffer.update()}x=this.spec.width||1;A=this.spec.height||1;const y=this.spec.depth||
1;this.buffer.setActive(x,A,y);const E=this.buffer.update();g.width=x;g.height=A;g.depth=Math.min(y,Math.ceil(E/x/A));1===g.depth&&(g.height=Math.min(A,Math.ceil(E/x)),1===g.height&&(g.width=Math.min(x,E)))});if(g.width!==h||g.height!==l||g.depth!==k||t!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}p.Voxel=m;m.initClass()};
shadow$provide[241]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Volume=void 0;G=B(240);class w extends G.Voxel{static initClass(){this.traits="node buffer active data source index texture voxel span:x span:y span:z volume sampler:x sampler:y sampler:z raw".split(" ")}updateSpan(){var r=this.props.axes;({width:x}=this.props);({height:A}=this.props);({depth:y}=this.props);const {centeredX:m}=this.props,{centeredY:d}=this.props,{centeredZ:c}=this.props,g=this.props.paddingX,
h=this.props.paddingY,l=this.props.paddingZ;var k=this._helpers.span.get("x.",r[0]),t=this._helpers.span.get("y.",r[1]);r=this._helpers.span.get("z.",r[2]);this.aX=k.x;this.aY=t.x;this.aZ=r.x;k=k.y-k.x;t=t.y-t.x;r=r.y-r.x;x+=2*g;A+=2*h;y+=2*l;if(m){var x=1/Math.max(1,x);this.aX+=k*x/2}else x=1/Math.max(1,x-1);if(d){var A=1/Math.max(1,A);this.aY+=t*A/2}else A=1/Math.max(1,A-1);if(c){var y=1/Math.max(1,y);this.aZ+=r*y/2}else y=1/Math.max(1,y-1);this.bX=k*x;this.bY=t*A;this.bZ=r*y;this.aX+=this.bX*g;
this.aY+=this.bY*h;return this.aZ+=this.bZ*h}callback(r){this.updateSpan();if(this.last===r)return this._callback;this.last=r;return 7>=r.length?this._callback=(m,d,c,g)=>r(m,this.aX+this.bX*d,this.aY+this.bY*c,this.aZ+this.bZ*g,d,c,g):this._callback=(m,d,c,g)=>r(m,this.aX+this.bX*d,this.aY+this.bY*c,this.aZ+this.bZ*g,d,c,g,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(r,
m,d){super.change(r,m,d);(m.x||m.y||m.z)&&this.updateSpan()}}p.Volume=w;w.initClass()};
shadow$provide[242]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.recenterAxis=p.setDimensionNormal=p.setDimension=p.addOrigin=p.setOrigin=void 0;var w=B(101);const r=function(m,d,c){+d===d&&(d=[d]);const g=Array.from(d).includes(1)?0:c.x,h=Array.from(d).includes(2)?0:c.y,l=Array.from(d).includes(3)?0:c.z;d=Array.from(d).includes(4)?0:c.w;return m.set(g,h,l,d)};p.setOrigin=r;G=function(){const m=new w.Vector4;return function(d,c,g){r(m,c,g);return d.add(m)}}();p.addOrigin=G;
p.setDimension=function(m,d){return m.set(1===d?1:0,2===d?1:0,3===d?1:0,4===d?1:0)};p.setDimensionNormal=function(m,d){return m.set(2===d?1:0,(3===d?1:0)+(1===d?1:0),4===d?1:0,0)};G=function(){const m=[0,0];return function(d,c,g,h){null==h&&(h=0);if(0<g){var l=d;d+=c;c=Math.max(Math.abs(l),Math.abs(d));h*=c;const k=Math.min(l,d);l=Math.max(l,d);d=k+(-c+h-k)*g;c=l+(c+h-l)*g-d}m[0]=d;m[1]=c;return m}}();p.recenterAxis=G};
shadow$provide[243]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Scale=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(242));G=B(200);class m extends G.Source{static initClass(){this.traits="node source index interval span scale raw origin".split(" ")}init(){return this.used=this.space=this.scaleAxis=this.sampler=null}rawBuffer(){return this.buffer}sourceShader(d){return d.pipe(this.sampler)}getDimensions(){return{items:1,width:this.space,height:1,depth:1}}getActiveDimensions(){return{items:1,
width:this.used,height:this.buffer.getFilled(),depth:1}}getRawDimensions(){return this.getDimensions()}make(){var d;this.space=d=this._helpers.scale.divide("");this.buffer=this._renderables.make("dataBuffer",{width:d,channels:1,items:1});d={scaleAxis:this._attributes.make(this._types.vec4()),scaleOffset:this._attributes.make(this._types.vec4())};this.scaleAxis=d.scaleAxis.value;this.scaleOffset=d.scaleOffset.value;const c=this.sampler=this._shaders.shader();c.require(this.buffer.shader(this._shaders.shader(),
1));c.pipe("scale.position",d);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this.scaleAxis=null;return this._helpers.span.unmake()}change(d,c,g){if(d["scale.divide"])return this.rebuild();if(c.view||c.interval||c.span||c.scale||c.origin||g)return this.updateRanges()}updateRanges(){const {used:d}=this,{axis:c,origin:g}=this.props;var h=this._helpers.span.get("",c);h=this._helpers.scale.generate("",this.buffer,h.x,h.y);r.setDimension(this.scaleAxis,c);
r.setOrigin(this.scaleOffset,c,g);this.used=h.length;if(this.used!==d)return this.trigger({type:"source.resize"})}}p.Scale=m;m.initClass()};
shadow$provide[244]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(203);Object.keys(w).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in p&&p[k]===w[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return w[k]}}))});var r=B(204);Object.keys(r).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in p&&p[k]===r[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return r[k]}}))});var m=B(237);Object.keys(m).forEach(function(k){"default"!==
k&&"__esModule"!==k&&(k in p&&p[k]===m[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return m[k]}}))});var d=B(238);Object.keys(d).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in p&&p[k]===d[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return d[k]}}))});var c=B(239);Object.keys(c).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in p&&p[k]===c[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return c[k]}}))});var g=B(240);Object.keys(g).forEach(function(k){"default"!==
k&&"__esModule"!==k&&(k in p&&p[k]===g[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return g[k]}}))});var h=B(241);Object.keys(h).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in p&&p[k]===h[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return h[k]}}))});var l=B(243);Object.keys(l).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in p&&p[k]===l[k]||Object.defineProperty(p,k,{enumerable:!0,get:function(){return l[k]}}))})};
shadow$provide[245]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.parseQuoted=p.clone=p.merge=void 0;p.merge=function(){const w={};for(const r of Array.from(arguments))for(const m in r)w[m]=r[m];return w};p.clone=w=>JSON.parse(JSON.serialize(w));p.parseQuoted=function(w){let r="";const m=function(g){if(r.length){var h=c,l=h.push;var k=r.replace(/\\/g,"");l.call(h,k)}return r=null!=g?g:""};w=w.split(/(?=(?:\\.|["' ,]))/g);let d=!1;const c=[];for(const g of Array.from(w)){const h=
g[0],l=g.slice(1);switch(h){case '"':case "'":if(d)d===h?(d=!1,m(l)):r+=g;else{if(""!==r)throw Error(`ParseError: String \`${w}\` does not contain comma-separated quoted tokens.`);d=h;r+=l}break;case " ":case ",":d?r+=g:m(l);break;default:r+=g}}m();return c}};
shadow$provide[246]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}function r(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,t)){var x=k?Object.getOwnPropertyDescriptor(g,
t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}Object.defineProperty(p,"__esModule",{value:!0});p.Axis=void 0;var m=r(B(242)),d=r(B(245));G=B(188);class c extends G.Primitive{static initClass(){this.traits="node object visible style line axis span interval arrow position origin shade".split(" ");this.defaults={end:!0,zBias:-1}}constructor(g,h,l){super(g,h,l);this.axisPosition=this.axisStep=this.resolution=this.line=this.arrows=null}make(){var g=
{axisPosition:this._attributes.make(this._types.vec4()),axisStep:this._attributes.make(this._types.vec4())};this.axisPosition=g.axisPosition.value;this.axisStep=g.axisStep.value;let h=this._shaders.shader();h.pipe("axis.position",g);h=this._helpers.position.pipeline(h);var l=this._helpers.style.uniforms();const k=this._helpers.line.uniforms(),t=this._helpers.arrow.uniforms(),x=this._inherit("unit").getUnitUniforms();var {detail:A}=this.props;g=A+1;this.resolution=1/A;const {start:y,end:E}=this.props,
{stroke:F,join:H}=this.props;A=this._helpers.object.mask();const P=this._helpers.shade.pipeline()||!1,{crossed:K,axis:T}=this.props;!K&&null!=A&&1<T&&(A=this._helpers.position.swizzle(A,["x000","y000","z000","w000"][T]));l=d.merge(t,k,l,x);this.line=this._renderables.make("line",{uniforms:l,samples:g,position:h,clip:y||E,stroke:F,join:H,mask:A,material:P});this.arrows=[];y&&this.arrows.push(this._renderables.make("arrow",{uniforms:l,flip:!0,samples:g,position:h,mask:A,material:P}));E&&this.arrows.push(this._renderables.make("arrow",
{uniforms:l,samples:g,position:h,mask:A,material:P}));this._helpers.visible.make();this._helpers.object.make(this.arrows.concat([this.line]));this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();return this._helpers.span.unmake()}change(g,h,l){if(g["axis.detail"]||g["line.stroke"]||g["line.join"]||g["axis.crossed"]||g["interval.axis"]&&this.props.crossed)return this.rebuild();if(h.interval||h.span||
h.view||h.origin||l)return this.updateRanges()}updateRanges(){const {axis:g,origin:h}=this.props;var l=this._helpers.span.get("",g);const k=l.x;l=l.y;m.setDimension(this.axisPosition,g).multiplyScalar(k);m.setDimension(this.axisStep,g).multiplyScalar((l-k)*this.resolution);return m.addOrigin(this.axisPosition,g,h)}}p.Axis=c;c.initClass()};
shadow$provide[247]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}function r(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,t)){var x=k?Object.getOwnPropertyDescriptor(g,
t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}Object.defineProperty(p,"__esModule",{value:!0});p.Face=void 0;var m=r(B(199)),d=r(B(245));G=B(188);class c extends G.Primitive{static initClass(){this.traits="node object visible style line mesh face geometry position bind shade".split(" ")}constructor(g,h,l){super(g,h,l);this.face=null}resize(){if(null!=this.bind.points){var g=this.bind.points.getActiveDimensions(),{items:h,width:l,height:k,depth:t}=
g;this.face&&this.face.geometry.clip(l,k,t,h);this.line&&this.line.geometry.clip(h,l,k,t);if(null!=this.bind.map&&(g=this.bind.map.getActiveDimensions(),this.face))return this.face.geometry.map(g.width,g.height,g.depth,g.items)}}make(){let g;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var h=this.bind.points.sourceShader(this._shaders.shader());h=this._helpers.position.pipeline(h);var l=
this._helpers.style.uniforms();var k=this._helpers.line.uniforms();var t=this._inherit("unit").getUnitUniforms(),x={};x.styleZBias=this._attributes.make(this._types.number());this.wireZBias=x.styleZBias;var A=this.bind.points.getDimensions(),{items:y,width:E,height:F,depth:H}=A,{line:P,shaded:K,fill:T,stroke:aa,join:Q}=this.props;this.bind.colors&&(g=this._shaders.shader(),this.bind.colors.sourceShader(g));A=this._helpers.object.mask();var O=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),da=this._helpers.shade.pipeline(),ea=da||K;da=da||!1;var za=[];if(P){const Ea=this._shaders.shader();Ea.pipe(m.swizzleVec4("yzwx"));Ea.pipe(h);k=d.merge(t,k,l,x);this.line=this._renderables.make("line",{uniforms:k,samples:y,strips:E,ribbons:F,layers:H,position:Ea,color:g,stroke:aa,join:Q,material:da,mask:A,closed:!0});za.push(this.line)}T&&(k=d.merge(t,l,{}),this.face=this._renderables.make("face",{uniforms:k,width:E,height:F,depth:H,items:y,position:h,color:g,material:ea,mask:A,map:O}),za.push(this.face));
this._helpers.visible.make();return this._helpers.object.make(za)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.face=this.line=null}change(g,h,l){if(g["geometry.points"]||h.mesh)return this.rebuild();if(g["style.zBias"]||g["mesh.lineBias"]||l){const {fill:k,zBias:t,lineBias:x}=this.props;return this.wireZBias.value=t+(k?x:0)}}}p.Face=c;c.initClass()};
shadow$provide[248]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}function r(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,t)){var x=k?Object.getOwnPropertyDescriptor(g,
t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}Object.defineProperty(p,"__esModule",{value:!0});p.Grid=void 0;var m=r(B(242)),d=r(B(245));G=B(188);class c extends G.Primitive{static initClass(){this.traits="node object visible style line grid area position origin shade axis:x axis:y scale:x scale:y span:x span:y".split(" ");this.defaults={width:1,zBias:-2}}constructor(g,h,l){super(g,h,l);this.axes=null}make(){let g,h=this._helpers.object.mask();
const l=this._helpers.shade.pipeline()||!1;g=(H,P,K)=>{var T,aa=this._get(H+"axis.detail");const Q=aa+1;aa=1/aa;const O=this._helpers.scale.divide(P),da=this._renderables.make("dataBuffer",{width:O,channels:1});var ea={gridPosition:this._attributes.make(this._types.vec4()),gridStep:this._attributes.make(this._types.vec4()),gridAxis:this._attributes.make(this._types.vec4())};const za={gridPosition:ea.gridPosition.value,gridStep:ea.gridStep.value,gridAxis:ea.gridAxis.value};var Ea=T=this._shaders.shader();
null!=K&&null!=h&&(h=this._helpers.position.swizzle(h,K));Ea.require(da.shader(this._shaders.shader(),2));Ea.pipe("grid.position",ea);T=this._helpers.position.pipeline(Ea);K=this._helpers.style.uniforms();ea=this._helpers.line.uniforms();Ea=this._inherit("unit").getUnitUniforms();K=d.merge(ea,K,Ea);T=this._renderables.make("line",{uniforms:K,samples:Q,strips:O,position:T,stroke:E,join:F,mask:h,material:l});return{first:H,second:P,resolution:aa,samples:Q,line:T,buffer:da,values:za}};const {lineX:k,
lineY:t,crossed:x,axes:A}=this.props;var y=["0000","x000","y000","z000","w000"][A[1]];const {stroke:E,join:F}=this.props;this.axes=[];k&&this.axes.push(g("x.","y.",null));t&&this.axes.push(g("y.","x.",x?null:y));y=(()=>{const H=[];for(g of this.axes)H.push(g.line);return H})();this._helpers.visible.make();this._helpers.object.make(y);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();this._helpers.span.unmake();
for(const g of this.axes)g.buffer.dispose();this.axes=null}change(g,h,l){if(g["x.axis.detail"]||g["y.axis.detail"]||g["x.axis.factor"]||g["y.axis.factor"]||g["grid.lineX"]||g["grid.lineY"]||g["line.stroke"]||g["line.join"]||g["grid.crossed"]||g["grid.axes"]&&this.props.crossed)return this.rebuild();if(h.x||h.y||h.area||h.grid||h.view||h.origin||l)return this.updateRanges()}updateRanges(){const g=(y,E,F,H,P)=>{const {second:K,resolution:T,samples:aa,line:Q,buffer:O,values:da}=P;P=F.x;F=F.y;m.setDimension(da.gridPosition,
y).multiplyScalar(P);m.setDimension(da.gridStep,y).multiplyScalar((F-P)*T);m.addOrigin(da.gridPosition,h,l);P=H.x;F=H.y;y=this._helpers.scale.generate(K,O,P,F);m.setDimension(da.gridAxis,E);return Q.geometry.clip(aa,y.length,1,1)},{axes:h,origin:l}=this.props,k=this._helpers.span.get("x.",h[0]),t=this._helpers.span.get("y.",h[1]),{lineX:x,lineY:A}=this.props;x&&g(h[0],h[1],k,t,this.axes[0]);A&&g(h[1],h[0],t,k,this.axes[+x]);window.cake1=this.axes[0].buffer;window.cake2=this.axes[1].buffer;window.cake3=
this.axes[0]}}p.Grid=c;c.initClass()};
shadow$provide[249]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Line=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(245));G=B(188);class m extends G.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(d,c,g){super(d,c,g);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var d=this.bind.points.getActiveDimensions(),c=d.width,g=d.height,h=d.depth,l=d.items;this.line.geometry.clip(c,
g,h,l);return Array.from(this.arrows).map(k=>k.geometry.clip(c,g,h,l))}}make(){let d;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._shaders.shader();c=this.bind.points.sourceShader(c);c=this._helpers.position.pipeline(c);var g=this._helpers.style.uniforms(),h=this._helpers.line.uniforms(),l=this._helpers.arrow.uniforms(),k=this._inherit("unit").getUnitUniforms(),{start:t,end:x}=this.props,{stroke:A,join:y,
proximity:E,closed:F}=this.props;this.proximity=E;var H=this.bind.points.getDimensions(),P=H.width,K=H.height,T=H.depth;H=H.items;this.bind.colors&&(d=this._shaders.shader(),this.bind.colors.sourceShader(d));var aa=this._helpers.object.mask(),Q=this._helpers.shade.pipeline()||!1;g=r.merge(l,h,g,k);this.line=this._renderables.make("line",{uniforms:g,samples:P,strips:K,ribbons:T,layers:H,position:c,color:d,clip:t||x,stroke:A,join:y,proximity:E,closed:F,mask:aa,material:Q});this.arrows=[];t&&this.arrows.push(this._renderables.make("arrow",
{uniforms:g,flip:!0,samples:P,strips:K,ribbons:T,layers:H,position:c,color:d,closed:F,mask:aa,material:Q}));x&&this.arrows.push(this._renderables.make("arrow",{uniforms:g,samples:P,strips:K,ribbons:T,layers:H,position:c,color:d,closed:F,mask:aa,material:Q}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=
null}change(d,c,g){if(d["geometry.points"]||d["line.stroke"]||d["line.join"]||d["arrow.start"]||d["arrow.end"]||d["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}p.Line=m;m.initClass()};
shadow$provide[250]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Point=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(245));G=B(188);class m extends G.Primitive{static initClass(){this.traits="node object visible style point geometry position bind shade".split(" ")}constructor(d,c,g){super(d,c,g);this.point=null}resize(){if(null!=this.bind.points){var d=this.bind.points.getActiveDimensions(),{items:c,width:g,height:h,depth:l}=d;return this.point.geometry.clip(g,h,l,
c)}}make(){let d,c;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"point.sizes",trait:"source"}]);if(null!=this.bind.points){var g=this._shaders.shader();g=this.bind.points.sourceShader(g);g=this._helpers.position.pipeline(g);var h=this.bind.points.getDimensions(),{items:l,width:k,height:t,depth:x}=h,A=this._helpers.style.uniforms(),y=this._helpers.point.uniforms(),E=this._inherit("unit").getUnitUniforms();this.bind.colors&&(d=this._shaders.shader(),
this.bind.colors.sourceShader(d));this.bind.sizes&&(c=this._shaders.shader(),this.bind.sizes.sourceShader(c));h=this._helpers.object.mask();var F=this._helpers.shade.pipeline()||!1,{shape:H}=this.props,{fill:P}=this.props,{optical:K}=this.props;A=r.merge(E,y,A);this.point=this._renderables.make("point",{uniforms:A,width:k,height:t,depth:x,items:l,position:g,color:d,size:c,shape:H,optical:K,fill:P,mask:h,material:F});this._helpers.visible.make();this._helpers.object.make([this.point])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();this.point=null}change(d,c,g){if(d["geometry.points"]||d["point.shape"]||d["point.fill"])return this.rebuild()}}p.Point=m;m.initClass()};
shadow$provide[251]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}function r(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,t)){var x=k?Object.getOwnPropertyDescriptor(g,
t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}Object.defineProperty(p,"__esModule",{value:!0});p.Strip=void 0;var m=r(B(199)),d=r(B(245));G=B(188);class c extends G.Primitive{static initClass(){this.traits="node object visible style line mesh strip geometry position bind shade".split(" ")}constructor(g,h,l){super(g,h,l);this.strip=null}resize(){if(null!=this.bind.points){var g=this.bind.points.getActiveDimensions(),{items:h,width:l,height:k,depth:t}=
g;this.strip&&this.strip.geometry.clip(l,k,t,h);this.line&&this.line.geometry.clip(h,l,k,t);if(null!=this.bind.map&&(g=this.bind.map.getActiveDimensions(),this.strip))return this.strip.geometry.map(g.width,g.height,g.depth,g.items)}}make(){let g;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var h=this._shaders.shader();h=this.bind.points.sourceShader(h);h=this._helpers.position.pipeline(h);
var l=this._helpers.style.uniforms();var k=this._helpers.line.uniforms();var t=this._inherit("unit").getUnitUniforms(),{line:x,shaded:A,fill:y,stroke:E,join:F}=this.props,H={};H.styleZBias=this._attributes.make(this._types.number());this.wireZBias=H.styleZBias;var P=this.bind.points.getDimensions(),{items:K,width:T,height:aa,depth:Q}=P;this.bind.colors&&(g=this._shaders.shader(),g=this.bind.colors.sourceShader(g));P=this._helpers.object.mask();this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0);var O=this._helpers.shade.pipeline(),da=O||A;O=O||!1;var ea=[];if(x){const za=this._shaders.shader();za.pipe(m.swizzleVec4("yzwx"));za.pipe(h);k=d.merge(t,k,l,H);this.line=this._renderables.make("line",{uniforms:k,samples:K,strips:T,ribbons:aa,layers:Q,position:za,color:g,stroke:E,join:F,mask:P,material:O});ea.push(this.line)}y&&(k=d.merge(l,{}),this.strip=this._renderables.make("strip",{uniforms:k,width:T,height:aa,depth:Q,items:K,position:h,color:g,material:da}),ea.push(this.strip));this._helpers.visible.make();
return this._helpers.object.make(ea)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.strip=null}change(g,h,l){if(g["geometry.points"]||h.mesh)return this.rebuild();if(g["style.zBias"]||g["mesh.lineBias"]||l){const {fill:k,zBias:t,lineBias:x}=this.props;return this.wireZBias.value=t+(k?x:0)}}}p.Strip=c;c.initClass()};
shadow$provide[252]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});p.Surface=void 0;var r=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(245)),m=B(101);G=B(188);class d extends G.Primitive{static initClass(){this.traits="node object visible style line mesh geometry surface position grid bind shade".split(" ");this.defaults={lineX:!1,lineY:!1}}constructor(c,g,h){super(c,g,h);this.lineX=this.lineY=this.surface=null}resize(){if(null!=this.bind.points){var c=this.bind.points.getActiveDimensions(),
{width:g,height:h,depth:l,items:k}=c;this.surface&&this.surface.geometry.clip(g,h,l,k);this.lineX&&this.lineX.geometry.clip(g,h,l,k);this.lineY&&this.lineY.geometry.clip(h,g,l,k);if(null!=this.bind.map&&(c=this.bind.map.getActiveDimensions(),this.surface))return this.surface.geometry.map(c.width,c.height,c.depth,c.items)}}make(){let c,g;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.normals",trait:"source"},{to:"mesh.map",trait:"source"}]);
if(null!=this.bind.points){var h=this._shaders.shader();h=this.bind.points.sourceShader(h);h=this._helpers.position.pipeline(h);var l=this._helpers.style.uniforms(),k=this._helpers.style.uniforms(),t=this._helpers.line.uniforms(),x=this._helpers.surface.uniforms(),A=this._inherit("unit").getUnitUniforms();k.styleColor=this._attributes.make(this._types.color());k.styleZBias=this._attributes.make(this._types.number());this.wireColor=k.styleColor.value;this.wireZBias=k.styleZBias;this.wireScratch=new m.Color;
var y=this.bind.points.getDimensions(),{width:E,height:F,depth:H,items:P}=y,{shaded:K,fill:T,lineX:aa,lineY:Q,closedX:O,closedY:da,stroke:ea,join:za,proximity:Ea,crossed:sa}=this.props;y=[];this.proximity=Ea;null!=this.bind.normals&&(g=this._shaders.shader(),this.bind.normals.sourceShader(g),this._helpers.shade.normal(g));null!=this.bind.colors&&(c=this._shaders.shader(),this.bind.colors.sourceShader(c));var gb=this._helpers.object.mask(),wa=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),Ba=this._helpers.shade.pipeline(),Da=Ba||K;Ba=Ba||!1;var {swizzle:pa,swizzle2:ib}=this._helpers.position;k=r.merge(A,t,l,k);t=aa||Q?-50:0;aa&&(this.lineX=this._renderables.make("line",{uniforms:k,samples:E,strips:F,ribbons:H,layers:P,position:h,color:c,normal:g,zUnits:-t,stroke:ea,join:za,mask:gb,material:Ba,proximity:Ea,closed:O||closed}),y.push(this.lineX));Q&&(this.lineY=this._renderables.make("line",{uniforms:k,samples:F,strips:E,ribbons:H,layers:P,position:ib(h,"yxzw","yxzw"),color:pa(c,
"yxzw"),zUnits:-t,stroke:ea,join:za,mask:pa(gb,sa?"xyzw":"yxzw"),material:Ba,proximity:Ea,closed:da||closed}),y.push(this.lineY));T&&(k=r.merge(A,x,l),this.surface=this._renderables.make("surface",{uniforms:k,width:E,height:F,surfaces:H,layers:P,position:h,color:c,zUnits:t,stroke:ea,material:Da,mask:gb,map:wa,intUV:!0,closedX:O||closed,closedY:da||closed}),y.push(this.surface));this._helpers.visible.make();return this._helpers.object.make(y)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.lineX=this.lineY=this.surface=null}_convertGammaToLinear(c,g=2){c.r=Math.pow(c.r,g);c.g=Math.pow(c.g,g);c.b=Math.pow(c.b,g);return c}_convertLinearToGamma(c,g=2){g=0<g?1/g:1;c.r=Math.pow(c.r,g);c.g=Math.pow(c.g,g);c.b=Math.pow(c.b,g);return c}change(c,g,h){if(c["geometry.points"]||c["mesh.shaded"]||c["mesh.fill"]||c["line.stroke"]||c["line.join"]||g.grid)return this.rebuild();if(c["style.color"]||c["style.zBias"]||c["mesh.fill"]||
c["mesh.lineBias"]||h){const {fill:l,color:k,zBias:t,lineBias:x}=this.props;this.wireZBias.value=t+(l?x:0);this.wireColor.copy(k);l&&(g=this.wireScratch,g.setRGB(k.r,k.g,k.b),this._convertLinearToGamma(this._convertGammaToLinear(g).multiplyScalar(.75)),this.wireColor.r=g.r,this.wireColor.g=g.g,this.wireColor.b=g.b)}if(c["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}p.Surface=d;d.initClass()};
shadow$provide[253]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Ticks=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(245));G=B(188);class m extends G.Primitive{static initClass(){this.traits="node object visible style line ticks geometry position bind shade".split(" ")}init(){return this.tickStrip=this.line=null}resize(){if(null!=this.bind.points){var d=this.bind.points.getActiveDimensions(),c=+(0<d.items),g=d.width*c;this.line.geometry.clip(2,g,d.height*c,d.depth*
c);return this.tickStrip.set(0,g-1)}}make(){let d;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._helpers.style.uniforms();var g=this._helpers.line.uniforms(),h=this._inherit("unit").getUnitUniforms();g=r.merge(g,c,h);h={tickEpsilon:this.node.attributes["ticks.epsilon"],tickSize:this.node.attributes["ticks.size"],tickNormal:this.node.attributes["ticks.normal"],tickStrip:this._attributes.make(this._types.vec2(0,
0)),worldUnit:g.worldUnit,focusDepth:g.focusDepth};this.tickStrip=h.tickStrip.value;var l=c=this._shaders.shader();l.require(this.bind.points.sourceShader(this._shaders.shader()));l.require(this._helpers.position.pipeline(this._shaders.shader()));l.pipe("ticks.position",h);var {stroke:k,join:t}=this.props,x=this.bind.points.getDimensions();h=x.width;l=x.height;x=x.depth;this.bind.colors&&(d=this._shaders.shader(),this.bind.colors.sourceShader(d));var A=this._helpers.object.mask(),y=this._helpers.shade.pipeline()||
!1,{swizzle:E}=this._helpers.position;this.line=this._renderables.make("line",{uniforms:g,samples:2,strips:h,ribbons:l,layers:x,position:c,color:d,stroke:k,join:t,mask:E(A,"yzwx"),material:y});this._helpers.visible.make();return this._helpers.object.make([this.line])}}made(){return this.resize()}unmake(){this.line=null;this._helpers.visible.unmake();return this._helpers.object.unmake()}change(d,c,g){if(d["geometry.points"]||d["line.stroke"]||d["line.join"])return this.rebuild()}}p.Ticks=m;m.initClass()};
shadow$provide[254]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Vector=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(245));G=B(188);class m extends G.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(d,c,g){super(d,c,g);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var d=this.bind.points.getActiveDimensions(),c=d.items,g=d.width,h=d.height,l=d.depth;this.line.geometry.clip(c,
g,h,l);return Array.from(this.arrows).map(k=>k.geometry.clip(c,g,h,l))}}make(){let d;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._shaders.shader();this.bind.points.sourceShader(c);this._helpers.position.pipeline(c);var g=this._helpers.style.uniforms(),h=this._helpers.line.uniforms(),l=this._helpers.arrow.uniforms(),k=this._inherit("unit").getUnitUniforms(),{start:t,end:x}=this.props,{stroke:A,join:y,proximity:E,
closed:F}=this.props;this.proximity=E;var H=this.bind.points.getDimensions(),P=H.items,K=H.width,T=H.height;H=H.depth;this.bind.colors&&(d=this._shaders.shader(),this.bind.colors.sourceShader(d));var aa=this._helpers.object.mask(),Q=this._helpers.shade.pipeline()||!1,{swizzle:O,swizzle2:da}=this._helpers.position;c=da(c,"yzwx","yzwx");d=O(d,"yzwx");aa=O(aa,"yzwx");Q=O(Q,"yzwx");g=r.merge(l,h,g,k);this.line=this._renderables.make("line",{uniforms:g,samples:P,ribbons:T,strips:K,layers:H,position:c,
color:d,clip:t||x,stroke:A,join:y,proximity:E,closed:F,mask:aa,material:Q});this.arrows=[];t&&this.arrows.push(this._renderables.make("arrow",{uniforms:g,flip:!0,samples:P,ribbons:T,strips:K,layers:H,position:c,color:d,closed:F,mask:aa,material:Q}));x&&this.arrows.push(this._renderables.make("arrow",{uniforms:g,samples:P,ribbons:T,strips:K,layers:H,position:c,color:d,closed:F,mask:aa,material:Q}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=null}change(d,c,g){if(d["geometry.points"]||d["line.stroke"]||d["line.join"]||d["arrow.start"]||d["arrow.end"]||d["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}p.Vector=m;m.initClass()};
shadow$provide[255]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(246);Object.keys(w).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in p&&p[t]===w[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return w[t]}}))});var r=B(247);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in p&&p[t]===r[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return r[t]}}))});var m=B(248);Object.keys(m).forEach(function(t){"default"!==
t&&"__esModule"!==t&&(t in p&&p[t]===m[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return m[t]}}))});var d=B(249);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in p&&p[t]===d[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return d[t]}}))});var c=B(250);Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in p&&p[t]===c[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return c[t]}}))});var g=B(251);Object.keys(g).forEach(function(t){"default"!==
t&&"__esModule"!==t&&(t in p&&p[t]===g[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return g[t]}}))});var h=B(252);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in p&&p[t]===h[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return h[t]}}))});var l=B(253);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in p&&p[t]===l[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return l[t]}}))});var k=B(254);Object.keys(k).forEach(function(t){"default"!==
t&&"__esModule"!==t&&(t in p&&p[t]===k[t]||Object.defineProperty(p,t,{enumerable:!0,get:function(){return k[t]}}))})};
shadow$provide[256]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.HTML=void 0;G=B(240);class w extends G.Voxel{static initClass(){this.traits="node buffer active data voxel html".split(" ");this.finals={channels:1}}init(){super.init();this.storage="pushBuffer"}make(){super.make();const {items:r,width:m,height:d,depth:c}=this.getDimensions();this.dom=this._overlays.make("dom");return this.dom.hint(r*m*d*c)}unmake(){super.unmake();if(null!=this.dom)return this.dom.dispose(),this.dom=
null}update(){return super.update()}change(r,m,d){return m.html?this.rebuild():super.change(r,m,d)}nodes(){return this.buffer.read()}callback(r){const {el:m}=this.dom;return 6>=r.length?(d,c,g,h,l)=>r(d,m,c,g,h,l):(d,c,g,h,l)=>r(d,m,c,g,h,l,this.bufferClock,this.bufferStep)}}p.HTML=w;w.initClass()};
shadow$provide[257]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.DOM=void 0;G=B(188);class w extends G.Primitive{static initClass(){this.traits="node bind object visible overlay dom attach position".split(" ")}init(){this.emitter=this.root=null;this.active={}}make(){super.make();this._helpers.bind.make([{to:"dom.html",trait:"html"},{to:"dom.points",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.html){this.root=this._inherit("root");this._listen("root","root.update",
this.update);this._listen("root","root.post",this.post);var r=this.bind.points.getDimensions(),m=this.bind.html.getDimensions(),d=Math.min(r.items,m.items),c=Math.min(r.width,m.width),g=Math.min(r.height,m.height);r=Math.min(r.depth,m.depth);m=this.bind.points.sourceShader(this._shaders.shader());m=this._helpers.position.pipeline(m);var h=this._shaders.shader({globals:["projectionMatrix"]});h.pipe("project.readback");m.pipe(h);h=this._shaders.shader();this.readback=this._renderables.make("readback",
{map:m,indexer:h,items:d,width:c,height:g,depth:r,channels:4,stpq:!0});this.dom=this._overlays.make("dom");this.dom.hint(d*c*g*r*2);this.emitter=this.callback(this.bind.html.nodes());this.readback.setCallback(this.emitter);this._helpers.visible.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.dom.dispose(),this.emitter=this.root=this.readback=this.dom=null,this.active={});this._helpers.bind.unmake();this._helpers.visible.unmake()}update(){null!=this.readback&&this.props.visible&&
(this.readback.update(null!=this.root?this.root.getCamera():void 0),this.readback.post(),this.readback.iterate())}post(){null!=this.readback&&this.dom.render(this.isVisible?this.emitter.nodes():null)}callback(r){let m,d;var c=this._inherit("unit").getUnitUniforms();const g=c.viewWidth,h=c.viewHeight,l=this.node.attributes["dom.attributes"],k=this.node.attributes["dom.size"],t=this.node.attributes["dom.zoom"],x=this.node.attributes["dom.color"],A=this.node.attributes["dom.outline"],y=this.node.attributes["dom.pointerEvents"],
E=this.node.attributes["overlay.opacity"],F=this.node.attributes["overlay.zIndex"],H=this.node.attributes["attach.offset"],P=this.node.attributes["attach.depth"],K=this.node.attributes["attach.snap"],{el:T}=this.dom;let aa=[],Q=null,O=null,da=m=d=0,ea="";c=function(za,Ea,sa,gb,wa,Ba,Da,pa){sa=r[pa+da*wa+m*Ba+d*Da];wa=0>gb;Ba=1+(1/gb-1)*P.value;Ba=wa?0:Ba;za=(za+1)*g.value*.5+ +H.value.x*Ba;Ea=(Ea-1)*h.value*.5+ +H.value.y*Ba;za/=t.value;Ea/=t.value;K.value&&(za=Math.round(za),Ea=Math.round(Ea));Ea=
{className:O,style:{transform:`translate3d(${za}px, ${-Ea}px, ${1-gb}px) translate(-50%, -50%) scale(${Ba},${Ba})`,opacity:Math.min(.999,wa?0:E.value)}};for(Da in Q)gb=Q[Da],Ea.style[Da]=gb;za=l.value;if(null!=za){wa=za.style;for(Da in za)gb=za[Da],["style","className"].includes(Da)||(Ea[Da]=gb);if(null!=wa)for(Da in wa)gb=wa[Da],Ea.style[Da]=gb}Ea.className+=" "+(null!=(null!=za?za.className:void 0)?null!=za?za.className:void 0:"mathbox-label");return aa.push(T("div",Ea,sa))};c.reset=()=>{aa=[];
[da,m,d]=Array.from([this.strideI,this.strideJ,this.strideK]);const za=x.value;ea=za?`rgb(${[Math.floor(255*za.x),Math.floor(255*za.y),Math.floor(255*za.z)]})`:"";O=`mathbox-outline-${Math.round(A.value)}`;Q={};za&&(Q.color=ea);Q.fontSize=`${k.value}px`;1!==t.value&&(Q.zoom=t.value);0<F.value&&(Q.zIndex=F.value);if(y.value)return Q.pointerEvents="auto"};c.nodes=()=>aa;return c}resize(){if(null!=this.readback){var r=this.bind.points.getActiveDimensions();var m=this.bind.html.getActiveDimensions();
this.readback.setActive(Math.min(r.items,m.items),Math.min(r.width,m.width),Math.min(r.height,m.height),Math.min(r.depth,m.depth));this.strideI=r=m.items;this.strideJ=r*=m.width;this.strideK=r*m.height}}change(r,m,d){if(r["dom.html"]||r["dom.points"])return this.rebuild()}}p.DOM=w;w.initClass()};
shadow$provide[258]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(256);Object.keys(w).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in p&&p[m]===w[m]||Object.defineProperty(p,m,{enumerable:!0,get:function(){return w[m]}}))});var r=B(257);Object.keys(r).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in p&&p[m]===r[m]||Object.defineProperty(p,m,{enumerable:!0,get:function(){return r[m]}}))})};
shadow$provide[259]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}Object.defineProperty(p,"__esModule",{value:!0});p.Text=void 0;var r=function(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,
t)){var x=k?Object.getOwnPropertyDescriptor(g,t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}(B(198)),m=B(101),d=B(202);G=B(240);class c extends G.Voxel{static initClass(){this.traits="node buffer active data texture voxel text font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"};this.finals={channels:1}}init(){super.init();return this.atlas=null}textShader(g){return this.atlas.shader(g)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){let {minFilter:g,
magFilter:h,type:l}=this.props;const {font:k,style:t,variant:x,weight:A,detail:y,sdf:E}=this.props;this.atlas=this._renderables.make("textAtlas",{font:k,size:y,style:t,variant:x,weight:A,outline:E,minFilter:g,magFilter:h,type:l});this.magFilter=this.minFilter=m.NearestFilter;this.type=m.FloatType;d.Buffer.prototype.make.call(this);g=null!=this.minFilter?this.minFilter:this.props.minFilter;h=null!=this.magFilter?this.magFilter:this.props.magFilter;l=null!=this.type?this.type:this.props.type;var {width:F}=
this.props,{height:H}=this.props;const {depth:P}=this.props,K=this.props.bufferWidth,T=this.props.bufferHeight,aa=this.props.bufferDepth,{channels:Q}=this.props,{items:O}=this.props;F=this.spec={channels:Q,items:O,width:F,height:H,depth:P};this.items=F.items;this.channels=F.channels;({data:H}=this.props);F=r.getDimensions(H,F);({space:H}=this);H.width=Math.max(K,F.width||1);H.height=Math.max(T,F.height||1);H.depth=Math.max(aa,F.depth||1);this.buffer=this._renderables.make(this.storage,{width:H.width,
height:H.height,depth:H.depth,channels:4,items:O,minFilter:g,magFilter:h,type:l});const {atlas:da}=this,{emit:ea}=this.buffer.streamer;return this.buffer.streamer.emit=za=>da.map(za,ea)}unmake(){super.unmake();if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){this.atlas.begin();super.update();return this.atlas.end()}change(g,h,l){return h.font?this.rebuild():super.change(g,h,l)}}p.Text=c;c.initClass()};
shadow$provide[260]=function(G,B,X,p){function w(m,d,c){if("undefined"!==typeof m&&null!==m&&"function"===typeof m[d])return c(m,d)}Object.defineProperty(p,"__esModule",{value:!0});p.Operator=void 0;G=B(200);class r extends G.Source{static initClass(){this.traits=["node","bind","operator","source","index"]}indexShader(m){return w(this.bind.source,"indexShader",d=>d.indexShader(m))}sourceShader(m){return w(this.bind.source,"sourceShader",d=>d.sourceShader(m))}getDimensions(){return this.bind.source.getDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}init(){return this.sourceSpec=
[{to:"operator.source",trait:"source",optional:!0}]}make(){super.make();return this._helpers.bind.make(this.sourceSpec)}made(){this.resize();return super.made()}unmake(){return this._helpers.bind.unmake()}resize(m){return this.trigger({type:"source.resize"})}}p.Operator=r;r.initClass()};
shadow$provide[261]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Format=void 0;var w=B(101);G=B(260);class r extends G.Operator{static initClass(){this.traits="node bind operator texture text format font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"}}init(){super.init();this.atlas=this.buffer=this.used=this.time=null;return this.filled=!1}sourceShader(m){return this.buffer.shader(m)}textShader(m){return this.atlas.shader(m)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){this._helpers.bind.make([{to:"operator.source",
trait:"raw"}]);let {minFilter:m,magFilter:d,type:c}=this.props;const {font:g,style:h,variant:l,weight:k,detail:t,sdf:x}=this.props;this.atlas=this._renderables.make("textAtlas",{font:g,size:t,style:h,variant:l,weight:k,outline:x,minFilter:m,magFilter:d,type:c});d=m=w.NearestFilter;c=w.FloatType;const A=this.bind.source.getDimensions(),{items:y,width:E,height:F,depth:H}=A;this.buffer=this._renderables.make("voxelBuffer",{width:E,height:F,depth:H,channels:4,items:y,minFilter:m,magFilter:d,type:c});
const {atlas:P}=this,{emit:K}=this.buffer.streamer;this.buffer.streamer.emit=T=>P.map(T,K);this.clockParent=this._inherit("clock");return this._listen("root","root.update",this.update)}made(){super.made();return this.resize()}unmake(){super.unmake();this.buffer&&(this.buffer.dispose(),this.buffer=null);if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){if((!this.filled||this.props.live)&&this.through){this.time=this.clockParent.getTime();var {used:m}=this;this.atlas.begin();this.used=
this.through();this.buffer.write(this.used);this.atlas.end();this.filled=!0;if(m!==this.used)return this.trigger({type:"source.resize"})}}change(m,d,c){if(d.font)return this.rebuild();if(m["format.expr"]||m["format.digits"]||m["format.data"]||c){let {expr:g}=this.props;const {digits:h,data:l}=this.props;null==g&&(g=null!=l?(k,t,x,A,y)=>l[y]:k=>k);({length:m}=g);null!=h&&(g=(k=>(t,x,A,y,E,F,H,P,K,T)=>+k(t,x,A,y,E,F,H,P,K,T).toPrecision(h))(g));m=8<m?(k,t,x,A,y,E,F,H,P,K,T)=>k(g(t,x,A,y,E,F,H,P,this.time.clock,
this.time.step)):(k,t,x,A,y,E,F,H,P)=>k(g(t,x,A,y,E,F,H,P));return this.through=this.bind.source.rawBuffer().through(m,this.buffer)}}}p.Format=r;r.initClass()};
shadow$provide[262]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Label=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(245));G=B(188);class m extends G.Primitive{static initClass(){this.traits="node bind object visible style label attach geometry position".split(" ")}make(){let d;super.make();this._helpers.bind.make([{to:"label.text",trait:"text"},{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.text){var c=
this.bind.points.getDimensions(),g=this.bind.text.getDimensions(),h=this.bind.text.textIsSDF(),l=Math.min(c.items,g.items),k=Math.min(c.width,g.width),t=Math.min(c.height,g.height);c=Math.min(c.depth,g.depth);g=this.bind.points.sourceShader(this._shaders.shader());g=this._helpers.position.pipeline(g);var x=this.bind.text.sourceShader(this._shaders.shader()),A=this._shaders.shader().pipe("label.map");A.pipe(this.bind.text.textShader(this._shaders.shader()));var y={spriteDepth:this.node.attributes["attach.depth"],
spriteOffset:this.node.attributes["attach.offset"],spriteSnap:this.node.attributes["attach.snap"],spriteScale:this._attributes.make(this._types.number()),outlineStep:this._attributes.make(this._types.number()),outlineExpand:this._attributes.make(this._types.number()),outlineColor:this.node.attributes["label.background"]};this.spriteScale=y.spriteScale;this.outlineStep=y.outlineStep;this.outlineExpand=y.outlineExpand;h=h?"label.outline":"label.alpha";h=this._shaders.shader().pipe(h,y);this.bind.colors&&
(d=this._shaders.shader(),this.bind.colors.sourceShader(d));var E=this._helpers.object.mask(),F=this._helpers.style.uniforms(),H=this._inherit("unit").getUnitUniforms();y=r.merge(H,F,y);this.sprite=this._renderables.make("sprite",{uniforms:y,width:k,height:t,depth:c,items:l,position:g,sprite:x,map:A,combine:h,color:d,mask:E,linear:!0});this._helpers.visible.make();return this._helpers.object.make([this.sprite])}}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();
return this.sprite=null}resize(){const d=this.bind.points.getActiveDimensions(),c=this.bind.text.getActiveDimensions();return this.sprite.geometry.clip(Math.min(d.width,c.width),Math.min(d.height,c.height),Math.min(d.depth,c.depth),Math.min(d.items,c.items))}change(d,c,g){if(c.geometry||d["label.text"])return this.rebuild();if(null!=this.bind.points){({size:g}=this.props);({outline:d}=this.props);({expand:c}=this.props);var h=this.bind.text.textHeight();g/=h;this.outlineExpand.value=c/g*16/255;this.outlineStep.value=
d/g*16/255;return this.spriteScale.value=g}}}p.Label=m;m.initClass()};
shadow$provide[263]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Resample=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(260);class m extends G.Operator{static initClass(){this.traits="node bind operator source index resample sampler:x sampler:y sampler:z sampler:w include".split(" ")}indexShader(d){d.pipe(this.indexer);return super.indexShader(d)}sourceShader(d){return d.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(d){const c=
this.resampled,g=this.centered,h=this.padding;this.relativeSize?(g.items||d.items--,g.width||d.width--,g.height||d.height--,g.depth||d.depth--,null!=c.items&&(d.items*=c.items),null!=c.width&&(d.width*=c.width),null!=c.height&&(d.height*=c.height),null!=c.depth&&(d.depth*=c.depth),g.items||d.items++,g.width||d.width++,g.height||d.height++,g.depth||d.depth++,d.items-=2*h.items,d.width-=2*h.width,d.height-=2*h.height,d.depth-=2*h.depth):(null!=c.items&&(d.items=c.items),null!=c.width&&(d.width=c.width),
null!=c.height&&(d.height=c.height),null!=c.depth&&(d.depth=c.depth));d.items=Math.max(0,Math.floor(d.items));d.width=Math.max(0,Math.floor(d.width));d.height=Math.max(0,Math.floor(d.height));d.depth=Math.max(0,Math.floor(d.depth));return d}make(){super.make();if(null!=this.bind.source){this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}]);var {indices:d,channels:c}=this.props,{shader:g}=this.bind,{sample:h,size:l,items:k,width:t,height:x,depth:A}=this.props,y=h===this.node.attributes["resample.sample"].enum.relative,
E=l===this.node.attributes["resample.size"].enum.relative;this.resampled={};null!=k&&(this.resampled.items=k);null!=t&&(this.resampled.width=t);null!=x&&(this.resampled.height=x);null!=A&&(this.resampled.depth=A);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=
this.props.paddingY;this.padding.depth=this.props.paddingZ;var F=this._shaders.shader(),H=this._shaders.shader(),P=[null,this._types.number,this._types.vec2,this._types.vec3,this._types.vec4][d];P={dataSize:this._attributes.make(P(0,0,0,0)),dataResolution:this._attributes.make(P(0,0,0,0)),targetSize:this._attributes.make(P(0,0,0,0)),targetResolution:this._attributes.make(P(0,0,0,0)),resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,
0,0,0))};this.dataResolution=P.dataResolution;this.dataSize=P.dataSize;this.targetResolution=P.targetResolution;this.targetSize=P.targetSize;this.resampleFactor=P.resampleFactor;this.resampleBias=P.resampleBias;var K=null!=k||null!=t||null!=x||null!=A;F.pipe("resample.padding",P);var T=[],aa=!1,Q=["width","height","depth","items"];for(let O=0;O<Q.length;O++){const da=this.centered[Q[O]];aa||(aa=da);T[O]=da?"0.5":"0.0"}aa&&(T=`vec4(${T})`,F.pipe(r.binaryOperator(4,"+",T)),K&&H.pipe(r.binaryOperator(4,
"+",T)));y&&(K?(F.pipe("resample.relative",P),H.pipe("resample.relative",P)):H.pipe(r.identity("vec4")));null!=g?(4!==d&&F.pipe(r.truncateVec(4,d)),F.callback(),4!==d&&F.pipe(r.extendVec(d,4)),aa&&F.pipe(r.binaryOperator(4,"-",T)),F.pipe(this.bind.source.sourceShader(this._shaders.shader())),4!==c&&F.pipe(r.truncateVec(4,c)),F.join(),null!=this.bind.shader&&F.pipe(this.bind.shader.shaderBind(P)),4!==c&&F.pipe(r.extendVec(c,4))):(aa&&F.pipe(r.binaryOperator(4,"-",T)),F.pipe(this.bind.source.sourceShader(this._shaders.shader())));
aa&&K&&H.pipe(r.binaryOperator(4,"-",T));this.operator=F;this.indexer=H;this.indices=d;this.relativeSample=y;return this.relativeSize=E}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var d=this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),g=F=>{const H=this.centered[F],P=this.padding[F];c[F]+=2*P;return[H?d[F]/Math.max(1,c[F]):Math.max(1,d[F]-1)/Math.max(1,c[F]-1),P]},[h,l]=Array.from(g("width")),[k,t]=Array.from(g("height")),[x,A]=Array.from(g("depth")),
[y,E]=Array.from(g("items"));1===this.indices?(this.dataResolution.value=1/d.width,this.targetResolution.value=1/c.width,this.dataSize.value=d.width,this.targetSize.value=c.width):(this.dataResolution.value.set(1/d.width,1/d.height,1/d.depth,1/d.items),this.targetResolution.value.set(1/c.width,1/c.height,1/c.depth,1/c.items),this.dataSize.value.set(d.width,d.height,d.depth,d.items),this.targetSize.value.set(c.width,c.height,c.depth,c.items));this.resampleFactor.value.set(h,k,x,y);this.resampleBias.value.set(l,
t,A,E);return super.resize()}}change(d,c,g){if(c.operator||c.resample||c.sampler||c.include)return this.rebuild()}}p.Resample=m;m.initClass()};
shadow$provide[264]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Retext=void 0;G=B(263);class w extends G.Resample{static initClass(){this.traits="node bind operator resample sampler:x sampler:y sampler:z sampler:w include text".split(" ")}init(){return this.sourceSpec=[{to:"operator.source",trait:"text"}]}textShader(r){return this.bind.source.textShader(r)}textIsSDF(){return 0<(null!=this.bind.source?this.bind.source.props.sdf:void 0)}textHeight(){return null!=this.bind.source?
this.bind.source.props.detail:void 0}}p.Retext=w;w.initClass()};
shadow$provide[265]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(259);Object.keys(w).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===w[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return w[c]}}))});var r=B(261);Object.keys(r).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===r[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return r[c]}}))});var m=B(262);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in p&&p[c]===m[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return m[c]}}))});var d=B(264);Object.keys(d).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===d[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return d[c]}}))})};
shadow$provide[266]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Clock=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits=["node","clock","seek","play"]}init(){this.last=this.skew=0;return this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}make(){return this._listen("clock","clock.tick",this.tick)}reset(){return this.skew=0}tick(r){const {from:m,to:d,speed:c,seek:g,pace:h,delay:l,realtime:k}=this.props,t=this._inherit("clock").getTime(),x=k?t.time:
t.clock,A=k?t.delta:t.step,y=c/h;this.skew+=A*(y-1);this.last>x&&(this.skew=0);this.time.now=t.now+this.skew;this.time.time=t.time;this.time.delta=t.delta;this.time.clock=Math.min(d,m+Math.max(0,(null!=g?g:t.clock+this.skew)-l*y));this.time.step=A*y;this.last=x;return this.trigger(r)}getTime(){return this.time}}p.Clock=w;w.initClass()};
shadow$provide[267]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Now=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits=["node","clock","now"]}init(){let r;this.now=r=+new Date/1E3;this.skew=0;return this.time={now:r,time:0,delta:0,clock:0,step:0}}make(){this.clockParent=this._inherit("clock");return this._listen("clock","clock.tick",this.tick)}unmake(){return this.clockParent=null}change(r,m,d){if(r["date.now"])return this.skew=0}tick(r){const {seek:m,
pace:d,speed:c}=this.props,g=this.clockParent.getTime();this.skew+=g.step*d/c;null!=m&&(this.skew=m);this.time.now=this.time.time=this.time.clock=(null!=this.props.now?this.props.now:this.now)+this.skew;this.time.delta=this.time.step=g.delta;return this.trigger(r)}getTime(){return this.time}}p.Now=w;w.initClass()};
shadow$provide[268]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(266);Object.keys(w).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in p&&p[m]===w[m]||Object.defineProperty(p,m,{enumerable:!0,get:function(){return w[m]}}))});var r=B(267);Object.keys(r).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in p&&p[m]===r[m]||Object.defineProperty(p,m,{enumerable:!0,get:function(){return r[m]}}))})};
shadow$provide[269]=function(G,B,X,p){function w(m,d){return"undefined"!==typeof m&&null!==m?d(m):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Transform=void 0;G=B(189);class r extends G.Parent{static initClass(){this.traits=["node","vertex","fragment"]}vertex(m,d){let c;return null!=(c=w(this._inherit("vertex"),g=>g.vertex(m,d)))?c:m}fragment(m,d){let c;return null!=(c=w(this._inherit("fragment"),g=>g.fragment(m,d)))?c:m}}p.Transform=r;r.initClass()};
shadow$provide[270]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Transform3=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(195));G=B(269);class m extends G.Transform{static initClass(){this.traits=["node","vertex","transform3"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4())};return this.composer=r.transformComposer()}unmake(){return delete this.uniforms}change(d,c,g){if(d["transform3.pass"])return this.rebuild();if(c.transform3||g)return this.uniforms.transformMatrix.value=
this.composer(this.props.position,this.props.rotation,this.props.quaternion,this.props.scale,this.props.matrix,this.props.eulerOrder)}vertex(d,c){c===this.props.pass&&d.pipe("transform3.position",this.uniforms);return super.vertex(d,c)}}p.Transform3=m;m.initClass()};
shadow$provide[271]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Transform4=void 0;G=B(269);class w extends G.Transform{static initClass(){this.traits=["node","vertex","transform4"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4()),transformOffset:this.node.attributes["transform4.position"]};return this.transformMatrix=this.uniforms.transformMatrix.value}unmake(){return delete this.uniforms}change(r,m,d){if(r["transform4.pass"])return this.rebuild();
if(m.transform4||d)return r=this.props.scale,m=this.transformMatrix,m.copy(this.props.matrix),m.scale(r)}vertex(r,m){m===this.props.pass&&r.pipe("transform4.position",this.uniforms);return super.vertex(r,m)}}p.Transform4=w;w.initClass()};
shadow$provide[272]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Vertex=void 0;G=B(269);class w extends G.Transform{static initClass(){this.traits=["node","include","vertex","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(r,m,d){if(m.include)return this.rebuild()}vertex(r,m){null!=this.bind.shader&&m===this.props.pass&&r.pipe(this.bind.shader.shaderBind());return super.vertex(r,
m)}}p.Vertex=w;w.initClass()};
shadow$provide[273]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Fragment=void 0;G=B(269);class w extends G.Transform{static initClass(){this.traits=["node","include","fragment","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(r,m,d){if(m.include||r["fragment.gamma"])return this.rebuild()}fragment(r,m){null!=this.bind.shader&&m===this.props.pass&&(this.props.gamma&&r.pipe("mesh.gamma.out"),
r.pipe(this.bind.shader.shaderBind()),r.split(),this.props.gamma&&r.pipe("mesh.gamma.in"),r.pass());return super.fragment(r,m)}}p.Fragment=w;w.initClass()};
shadow$provide[274]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Layer=void 0;G=B(269);class w extends G.Transform{static initClass(){this.traits=["node","vertex","layer"]}make(){this._listen("root","root.resize",this.update);return this.uniforms={layerScale:this._attributes.make(this._types.vec4()),layerBias:this._attributes.make(this._types.vec4())}}update(){var r=this._inherit("root").getCamera();const m=null!=r.aspect?r.aspect:1;r=Math.tan((null!=r.fov?r.fov:1)*Math.PI/
360);const d=this.node.attributes["layer.fit"].enum;let {fit:c}=this.props;const {depth:g}=this.props;switch(c){case d.contain:c=1<m?d.y:d.x;break;case d.cover:c=1<m?d.x:d.y}switch(c){case d.x:this.uniforms.layerScale.value.set(r*m,r*m,1,1);break;case d.y:this.uniforms.layerScale.value.set(r,r,1,1)}return this.uniforms.layerBias.value.set(0,0,-g,0)}change(r,m,d){if(r["layer.fit"]||r["layer.depth"]||d)return this.update()}vertex(r,m){return 2===m?r.pipe("layer.position",this.uniforms):3===m?r.pipe("root.position"):
r}}p.Layer=w;w.initClass()};
shadow$provide[275]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}function r(c,g){return"undefined"!==typeof c&&null!==c?g(c):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Mask=void 0;var m=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,
k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(199));G=B(189);class d extends G.Parent{static initClass(){this.traits=["node","include","mask","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(c,g,h){if(g.include)return this.rebuild()}mask(c){let g,
h;null!=this.bind.shader?c?(h=this._shaders.shader(),h.pipe(m.identity("vec4")),h.fan(),h.pipe(c),h.next(),h.pipe(this.bind.shader.shaderBind()),h.end(),h.pipe("float combine(float a, float b) { return min(a, b); }")):(h=this._shaders.shader(),h.pipe(this.bind.shader.shaderBind())):h=c;return null!=(g=r(this._inherit("mask"),l=>l.mask(h)))?g:h}}p.Mask=d;d.initClass()};
shadow$provide[276]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(269);Object.keys(w).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===w[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return w[l]}}))});var r=B(270);Object.keys(r).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===r[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return r[l]}}))});var m=B(271);Object.keys(m).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in p&&p[l]===m[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return m[l]}}))});var d=B(272);Object.keys(d).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===d[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return d[l]}}))});var c=B(273);Object.keys(c).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===c[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return c[l]}}))});var g=B(274);Object.keys(g).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in p&&p[l]===g[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return g[l]}}))});var h=B(275);Object.keys(h).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===h[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return h[l]}}))})};
shadow$provide[277]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Clamp=void 0;G=B(260);class w extends G.Operator{static initClass(){this.traits="node bind operator source index clamp".split(" ")}indexShader(r){r.pipe(this.operator);return super.indexShader(r)}sourceShader(r){r.pipe(this.operator);return super.sourceShader(r)}make(){super.make();if(null!=this.bind.source){var r={clampLimit:this._attributes.make(this._types.vec4())};this.clampLimit=r.clampLimit;var m=this._shaders.shader();
m.pipe("clamp.position",r);return this.operator=m}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const r=this.bind.source.getActiveDimensions();this.clampLimit.value.set(r.width-1,r.height-1,r.depth-1,r.items-1)}return super.resize()}change(r,m,d){if(m.operator||m.clamp)return this.rebuild()}}p.Clamp=w;w.initClass()};
shadow$provide[278]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Grow=void 0;G=B(260);class w extends G.Operator{static initClass(){this.traits="node bind operator source index grow".split(" ")}sourceShader(r){return r.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var r={growScale:this.node.attributes["grow.scale"],growMask:this._attributes.make(this._types.vec4()),growAnchor:this._attributes.make(this._types.vec4())};this.growMask=r.growMask.value;this.growAnchor=
r.growAnchor.value;var m=this._shaders.shader();m.require(this.bind.source.sourceShader(this._shaders.shader()));m.pipe("grow.position",r);return this.operator=m}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){const r=this.bind.source.getFutureDimensions(),m=["width","height","depth","items"];return(()=>{const d=[];for(let c=0;c<m.length;c++){const g=m[c],h=this.props[g];this.growMask.setComponent(c,+(null==h));d.push(this.growAnchor.setComponent(c,null!=h?((r[g]||
1)-1)*(.5-.5*h):0))}return d})()}change(r,m,d){if(m.operator)return this.rebuild();if(m.grow)return this.update()}}p.Grow=w;w.initClass()};
shadow$provide[279]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Join=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(260);class m extends G.Operator{static initClass(){this.traits="node bind operator source index join".split(" ")}indexShader(d){d.pipe(this.operator);return super.indexShader(d)}sourceShader(d){d.pipe(this.operator);return super.sourceShader(d)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(d){var c;
let g;const {order:h,axis:l,stride:k}=this,t=["width","height","depth","items"],x=h.map(F=>t[F-1]);var A=h.indexOf(l);let y=(()=>{const F=[];for(g of Array.from(x))F.push(d[g]);return F})();const E=(null!=(c=y[A+1])?c:1)*k;y.splice(A,2,E);y=y.slice(0,3);y.push(1);c={};for(A=0;A<x.length;A++)g=x[A],c[g]=y[A];return c}make(){super.make();if(null!=this.bind.source){var {order:d}=this.props,{axis:c}=this.props,{overlap:g}=this.props,h=d.join("");null==c&&(c=d[0]);var l=h.indexOf(c);h=h.replace(c,"00").substring(0,
4);var k=[null,"width","height","depth","items"][c];k=this.bind.source.getDimensions()[k];g=Math.min(k-1,g);var t=k-g,x={joinStride:this._attributes.make(this._types.number(t)),joinStrideInv:this._attributes.make(this._types.number(1/t))},A=this._shaders.shader();A.require(r.swizzleVec4(c,1));A.require(r.swizzleVec4(h,4));A.require(r.injectVec4([l,l+1]));A.pipe("join.position",x);A.pipe(r.invertSwizzleVec4(d));this.operator=A;this.order=d;this.axis=c;this.overlap=g;this.length=k;return this.stride=
t}}unmake(){return super.unmake()}change(d,c,g){if(c.join||c.operator)return this.rebuild()}}p.Join=m;m.initClass()};
shadow$provide[280]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Lerp=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(260);class m extends G.Operator{static initClass(){this.traits="node bind operator source index lerp sampler:x sampler:y sampler:z sampler:w".split(" ")}indexShader(d){d.pipe(this.indexer);return super.indexShader(d)}sourceShader(d){return d.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(d){const c=
this.resampled,g=this.centered,h=this.padding;this.relativeSize?(g.items||d.items--,g.width||d.width--,g.height||d.height--,g.depth||d.depth--,null!=c.items&&(d.items*=c.items),null!=c.width&&(d.width*=c.width),null!=c.height&&(d.height*=c.height),null!=c.depth&&(d.depth*=c.depth),g.items||d.items++,g.width||d.width++,g.height||d.height++,g.depth||d.depth++,d.items-=2*h.items,d.width-=2*h.width,d.height-=2*h.height,d.depth-=2*h.depth):(null!=c.items&&(d.items=c.items),null!=c.width&&(d.width=c.width),
null!=c.height&&(d.height=c.height),null!=c.depth&&(d.depth=c.depth));d.items=Math.max(0,Math.floor(d.items));d.width=Math.max(0,Math.floor(d.width));d.height=Math.max(0,Math.floor(d.height));d.depth=Math.max(0,Math.floor(d.depth));return d}make(){let d;super.make();if(null!=this.bind.source){var {size:c,items:g,width:h,height:l,depth:k}=this.props,t=c===this.node.attributes["lerp.size"].enum.relative;this.resampled={};null!=g&&(this.resampled.items=g);null!=h&&(this.resampled.width=h);null!=l&&(this.resampled.height=
l);null!=k&&(this.resampled.depth=k);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=this.props.paddingY;this.padding.depth=this.props.paddingZ;var x=this._shaders.shader(),A=this._shaders.shader(),y={resampleFactor:this._attributes.make(this._types.vec4(0,
0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,0,0,0))};this.resampleFactor=y.resampleFactor;this.resampleBias=y.resampleBias;var E=null!=g||null!=h||null!=l||null!=k;x.pipe("resample.padding",y);var F=[],H=!1,P=["width","height","depth","items"];for(d=0;d<P.length;d++){var K=P[d];K=this.centered[K];H||(H=K);F[d]=K?"0.5":"0.0"}if(H&&E){var T=`vec4(${F})`;x.pipe(r.binaryOperator(4,"+",T));A.pipe(r.binaryOperator(4,"+",T))}E?(x.pipe("resample.relative",y),A.pipe("resample.relative",y)):
(x.pipe(r.identity("vec4")),A.pipe(r.identity("vec4")));H&&E&&(x.pipe(r.binaryOperator(4,"-",T)),A.pipe(r.binaryOperator(4,"-",T)));E=this.bind.source.sourceShader(this._shaders.shader());F=["width","height","depth","items"];for(d=0;d<F.length;d++)K=F[d],H=`lerp.${K}`,null!=this.props[K]&&(E=this._shaders.shader().require(E),E.pipe(H,y));x.pipe(E);this.operator=x;this.indexer=A;return this.relativeSize=t}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var d=
this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),g=F=>{const H=this.centered[F],P=this.padding[F];c[F]+=2*P;return[H?d[F]/Math.max(1,c[F]):Math.max(1,d[F]-1)/Math.max(1,c[F]-1),P]},[h,l]=Array.from(g("width")),[k,t]=Array.from(g("height")),[x,A]=Array.from(g("depth")),[y,E]=Array.from(g("items"));this.resampleFactor.value.set(h,k,x,y);this.resampleBias.value.set(l,t,A,E);return super.resize()}}change(d,c,g){if(c.operator||c.lerp||c.sampler)return this.rebuild()}}p.Lerp=m;m.initClass()};
shadow$provide[281]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Memo=void 0;G=B(260);class w extends G.Operator{static initClass(){this.traits="node bind active operator source index texture memo".split(" ")}sourceShader(r){return this.memo.shaderAbsolute(r,1)}make(){super.make();if(null!=this.bind.source){this._helpers.active.make();this._listen("root","root.update",()=>{if(this.isActive)return this.update()});var {minFilter:r,magFilter:m,type:d}=this.props,c=this.bind.source.getDimensions(),
{items:g,width:h,height:l,depth:k}=c;this.memo=this._renderables.make("memo",{items:g,width:h,height:l,depth:k,minFilter:r,magFilter:m,type:d});c=this._shaders.shader();this.bind.source.sourceShader(c);this.compose=this._renderables.make("memoScreen",{map:c,items:g,width:h,height:l,depth:k});this.memo.adopt(this.compose);this.objects=[this.compose];return this.renders=this.compose.renders}}unmake(){this._helpers.active.unmake();null!=this.bind.source&&(this.memo.unadopt(this.compose),this.memo.dispose(),
this.memo=this.compose=null,super.unmake())}update(){return null!=this.memo?this.memo.render():void 0}resize(){if(null!=this.bind.source){var r=this.bind.source.getActiveDimensions(),{width:m,height:d,depth:c}=r;this.compose.cover(m,d,c);return super.resize()}}change(r,m,d){if(m.texture||m.operator)return this.rebuild()}}p.Memo=w;w.initClass()};
shadow$provide[282]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Readback=void 0;G=B(188);class w extends G.Primitive{static initClass(){this.traits="node bind operator readback entity active".split(" ");this.finals={channels:4}}init(){this.emitter=this.root=null;return this.active={}}make(){super.make();this._compute("readback.data",()=>null!=this.readback?this.readback.data:void 0);this._compute("readback.items",()=>null!=this.readback?this.readback.items:void 0);this._compute("readback.width",
()=>null!=this.readback?this.readback.width:void 0);this._compute("readback.height",()=>null!=this.readback?this.readback.height:void 0);this._compute("readback.depth",()=>null!=this.readback?this.readback.depth:void 0);this._helpers.bind.make([{to:"operator.source",trait:"source"}]);if(null!=this.bind.source){var {type:r,channels:m,expr:d}=this.props;this.root=this._inherit("root");this._listen("root","root.update",this.update);var {items:c,width:g,height:h,depth:l}=this.bind.source.getDimensions(),
k=this.bind.source.sourceShader(this._shaders.shader());this.readback=this._renderables.make("readback",{map:k,items:c,width:g,height:h,depth:l,channels:m,type:r});null!=d&&this.readback.setCallback(d);this._helpers.active.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.emitter=this.root=this.readback=null,this.active={});this._helpers.active.unmake();return this._helpers.bind.unmake()}update(){null!=this.readback&&this.isActive&&(this.readback.update(null!=this.root?this.root.getCamera():
void 0),this.readback.post(),null!=this.props.expr&&this.readback.iterate())}resize(){let r;if(null!=this.readback){var {items:m,width:d,height:c,depth:g}=this.bind.source.getActiveDimensions();this.readback.setActive(m,d,c,g);this.strideI=m;this.strideJ=r=m*d;return this.strideK=r*c}}change(r,m,d){if(r["readback.type"])return this.rebuild();if(r["readback.expr"]&&this.readback)return this.readback.setCallback(this.props.expr)}}p.Readback=w;w.initClass()};
shadow$provide[283]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Repeat=void 0;G=B(260);class w extends G.Operator{static initClass(){this.traits="node bind operator source index repeat".split(" ")}indexShader(r){r.pipe(this.operator);return super.indexShader(r)}sourceShader(r){r.pipe(this.operator);return super.sourceShader(r)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(r){const m=
this.resample;return{items:m.items*r.items,width:m.width*r.width,height:m.height*r.height,depth:m.depth*r.depth}}make(){super.make();if(null!=this.bind.source){this.resample={};var r={repeatModulus:this._attributes.make(this._types.vec4())};this.repeatModulus=r.repeatModulus;var m=this._shaders.shader();m.pipe("repeat.position",r);return this.operator=m}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const r=this.bind.source.getActiveDimensions();this.repeatModulus.value.set(r.width,
r.height,r.depth,r.items)}return super.resize()}change(r,m,d){if(m.operator||m.repeat)return this.rebuild();if(d)return["items","width","height","depth"].map(c=>this.resample[c]=this.props[c])}}p.Repeat=w;w.initClass()};
shadow$provide[284]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Reverse=void 0;G=B(260);class w extends G.Operator{static initClass(){this.traits="node bind operator source index reverse".split(" ")}getDimensions(){return this.bind.source.getDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}sourceShader(r){r.pipe("reverse.position",
this.uniforms);return this.bind.source.sourceShader(r)}_resolveScale(r,m){return this.props[r]?-1:1}_resolveOffset(r,m){m=m[r];return this.props[r]?m-1:0}make(){super.make();if(null!=this.bind.source)return this.uniforms={reverseScale:this._attributes.make(this._types.vec4()),reverseOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){var r=this.bind.source.getActiveDimensions();this.uniforms.reverseScale.value.set(this._resolveScale("width",
r),this._resolveScale("height",r),this._resolveScale("depth",r),this._resolveScale("items",r));this.uniforms.reverseOffset.value.set(this._resolveOffset("width",r),this._resolveOffset("height",r),this._resolveOffset("depth",r),this._resolveOffset("items",r));return super.resize()}}change(r,m,d){if(m.operator)return this.rebuild();if(m.reverse)return this.resize()}}p.Reverse=w;w.initClass()};
shadow$provide[285]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Swizzle=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(260);class m extends G.Operator{static initClass(){this.traits="node bind operator source index swizzle".split(" ")}sourceShader(d){d=super.sourceShader(d);this.swizzler&&d.pipe(this.swizzler);return d}make(){super.make();if(null!=this.bind.source){var {order:d}=this.props;if("1234"!==d.join())return this.swizzler=r.swizzleVec4(d,4)}}unmake(){super.unmake();
return this.swizzler=null}change(d,c,g){if(c.swizzle||c.operator)return this.rebuild()}}p.Swizzle=m;m.initClass()};
shadow$provide[286]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Spread=void 0;G=B(260);class w extends G.Operator{static initClass(){this.traits="node bind operator source index spread".split(" ")}sourceShader(r){return r.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var r={spreadMatrix:this._attributes.make(this._types.mat4()),spreadOffset:this._attributes.make(this._types.vec4())};this.spreadMatrix=r.spreadMatrix;this.spreadOffset=r.spreadOffset;var m=
this._shaders.shader();m.require(this.bind.source.sourceShader(this._shaders.shader()));m.pipe("spread.position",r);return this.operator=m}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){let r,m,d,c;const g=this.bind.source.getFutureDimensions(),h=this.spreadMatrix.value.elements,l=["width","height","depth","items"],k=["alignWidth","alignHeight","alignDepth","alignItems"],{unit:t}=this.props,x=this.node.attributes["spread.unit"].enum,A=(()=>{switch(t){case x.relative:return(y,
E,F,H)=>h[4*E+F]=H/Math.max(1,g[y]-1);case x.absolute:return(y,E,F,H)=>h[4*E+F]=H}})();return(()=>{const y=[];for(m=0;m<l.length;m++){r=l[m];const H=this.props[r];var E=this.props[k[m]];this.spreadOffset.value.setComponent(m,null!=H?-((null!=g[r]?g[r]:1)-1)*(.5-.5*E):0);E=y;var F=E.push;const P=[];for(d=0;3>=d;d++){let K;c=null!=(K=null!=H?H.getComponent(d):void 0)?K:0;P.push(h[4*m+d]=A(r,m,d,c))}F.call(E,P)}return y})()}change(r,m,d){if(m.operator)return this.rebuild();if(m.spread)return this.update()}}
p.Spread=w;w.initClass()};
shadow$provide[287]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Split=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(260);class m extends G.Operator{static initClass(){this.traits="node bind operator source index split".split(" ")}indexShader(d){d.pipe(this.operator);return super.indexShader(d)}sourceShader(d){d.pipe(this.operator);return super.sourceShader(d)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(d){let c;
var {order:g}=this,{axis:h}=this,{overlap:l}=this,{length:k}=this;const {stride:t}=this,x=["width","height","depth","items"],A=g.map(y=>x[y-1]);h=g.indexOf(h);g=(()=>{const y=[];for(c of Array.from(A))y.push(d[c]);return y})();g.splice(h,1,k,Math.floor((g[h]-l)/t));g=g.slice(0,4);l={};for(k=0;k<A.length;k++)c=A[k],l[c]=g[k];return l}make(){var d;super.make();if(null!=this.bind.source){var {order:c}=this.props,{axis:g}=this.props,{overlap:h}=this.props,{length:l}=this.props,k=c.join("");null==g&&(g=
c[0]);var t=k.indexOf(g),x=k[t]+(null!=(d=k[t+1])?d:0);d=k.replace(x[1],"").replace(x[0],"0")+"0";h=Math.min(l-1,h);k=l-h;var A={splitStride:this._attributes.make(this._types.number(k))},y=this._shaders.shader();y.require(r.swizzleVec4(x,2));y.require(r.swizzleVec4(d,4));y.require(r.injectVec4(t));y.pipe("split.position",A);y.pipe(r.invertSwizzleVec4(c));this.operator=y;this.order=c;this.axis=g;this.overlap=h;this.length=l;return this.stride=k}}unmake(){return super.unmake()}change(d,c,g){if(d["split.axis"]||
d["split.order"]||c.operator)return this.rebuild()}}p.Split=m;m.initClass()};
shadow$provide[288]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Slice=void 0;G=B(260);class w extends G.Operator{static initClass(){this.traits="node bind operator source index slice".split(" ")}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}sourceShader(r){r.pipe("slice.position",
this.uniforms);return this.bind.source.sourceShader(r)}_resolve(r,m){var d=this.props[r];r=m[r];if(null==d)return[0,r];m=Math.round(d.x);m=0>m?r+m:m;d=Math.round(d.y);d=Math.max(m,0>d?r+d:d);return[m,d-m]}_resample(r){r.width=this._resolve("width",r)[1];r.height=this._resolve("height",r)[1];r.depth=this._resolve("depth",r)[1];r.items=this._resolve("items",r)[1];return r}make(){super.make();if(null!=this.bind.source)return this.uniforms={sliceOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=
this.bind.source){var r=this.bind.source.getActiveDimensions();this.uniforms.sliceOffset.value.set(this._resolve("width",r)[0],this._resolve("height",r)[0],this._resolve("depth",r)[0],this._resolve("items",r)[0]);return super.resize()}}change(r,m,d){if(m.operator)return this.rebuild();if(m.slice)return this.resize()}}p.Slice=w;w.initClass()};
shadow$provide[289]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Subdivide=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(260);class m extends G.Operator{static initClass(){this.traits="node bind operator source index subdivide".split(" ")}indexShader(d){d.pipe(this.indexer);return super.indexShader(d)}sourceShader(d){return d.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(d){const c=
this.resampled;d.items--;d.width--;d.height--;d.depth--;null!=c.items&&(d.items*=c.items);null!=c.width&&(d.width*=c.width);null!=c.height&&(d.height*=c.height);null!=c.depth&&(d.depth*=c.depth);d.items++;d.width++;d.height++;d.depth++;return d}make(){super.make();if(null!=this.bind.source){var {lerp:d}=this.props,{items:c,width:g,height:h,depth:l}=this.props;this.resampled={};null!=c&&(this.resampled.items=c);null!=g&&(this.resampled.width=g);null!=h&&(this.resampled.height=h);null!=l&&(this.resampled.depth=
l);var k=this._shaders.shader(),t=this._shaders.shader(),x={resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),subdivideBevel:this.node.attributes["subdivide.bevel"]};this.resampleFactor=x.resampleFactor;this.resampleBias=x.resampleBias;null!=c||null!=g||null!=h||null!=l?(k.pipe("resample.relative",x),t.pipe("resample.relative",x)):(k.pipe(r.identity("vec4")),t.pipe(r.identity("vec4")));var A=this.bind.source.sourceShader(this._shaders.shader());d=d?".lerp":"";var y=["width","height",
"depth","items"];for(let E=0;E<y.length;E++){const F=y[E],H=`subdivide.${F}${d}`;null!=this.props[F]&&(A=this._shaders.shader().require(A),A.pipe(H,x))}k.pipe(A);this.operator=k;return this.indexer=t}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var d=this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),g=t=>Math.max(1,d[t]-1)/Math.max(1,c[t]-1),h=g("width"),l=g("height"),k=g("depth");g=g("items");this.resampleFactor.value.set(h,l,k,g);return super.resize()}}change(d,
c,g){if(c.operator||c.subdivide)return this.rebuild()}}p.Subdivide=m;m.initClass()};
shadow$provide[290]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});p.Transpose=void 0;var r=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(199));G=B(260);const m={1:"width",2:"height",3:"depth",4:"items"};class d extends G.Operator{static initClass(){this.traits="node bind operator source index transpose".split(" ")}indexShader(c){this.swizzler&&c.pipe(this.swizzler);return super.indexShader(c)}sourceShader(c){this.swizzler&&c.pipe(this.swizzler);return super.sourceShader(c)}getDimensions(){return this._remap(this.transpose,
this.bind.source.getDimensions())}getActiveDimensions(){return this._remap(this.transpose,this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._remap(this.transpose,this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._remap(this.transpose,this.bind.source.getIndexDimensions())}_remap(c,g){const h={};for(let l=0;3>=l;l++){const k=m[c[l]];h[m[l+1]]=null!=g[k]?g[k]:1}return h}make(){super.make();if(null!=this.bind.source){var {order:c}=this.props;"1234"!==c.join()&&
(this.swizzler=r.invertSwizzleVec4(c));this.transpose=c;return this.trigger({type:"source.rebuild"})}}unmake(){super.unmake();return this.swizzler=null}change(c,g,h){if(g.transpose||g.operator)return this.rebuild()}}p.Transpose=d;d.initClass()};
shadow$provide[291]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(277);Object.keys(w).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===w[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return w[H]}}))});var r=B(278);Object.keys(r).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===r[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return r[H]}}))});var m=B(279);Object.keys(m).forEach(function(H){"default"!==
H&&"__esModule"!==H&&(H in p&&p[H]===m[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return m[H]}}))});var d=B(280);Object.keys(d).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===d[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return d[H]}}))});var c=B(281);Object.keys(c).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===c[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return c[H]}}))});var g=B(282);Object.keys(g).forEach(function(H){"default"!==
H&&"__esModule"!==H&&(H in p&&p[H]===g[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return g[H]}}))});var h=B(263);Object.keys(h).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===h[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return h[H]}}))});var l=B(283);Object.keys(l).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===l[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return l[H]}}))});var k=B(284);Object.keys(k).forEach(function(H){"default"!==
H&&"__esModule"!==H&&(H in p&&p[H]===k[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return k[H]}}))});var t=B(285);Object.keys(t).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===t[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return t[H]}}))});var x=B(286);Object.keys(x).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===x[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return x[H]}}))});var A=B(287);Object.keys(A).forEach(function(H){"default"!==
H&&"__esModule"!==H&&(H in p&&p[H]===A[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return A[H]}}))});var y=B(288);Object.keys(y).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===y[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return y[H]}}))});var E=B(289);Object.keys(E).forEach(function(H){"default"!==H&&"__esModule"!==H&&(H in p&&p[H]===E[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return E[H]}}))});var F=B(290);Object.keys(F).forEach(function(H){"default"!==
H&&"__esModule"!==H&&(H in p&&p[H]===F[H]||Object.defineProperty(p,H,{enumerable:!0,get:function(){return F[H]}}))})};
shadow$provide[292]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Transition=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits="node transition transform mask visible active".split(" ")}init(){this.uniforms=this.animate=null;this.state={isVisible:!0,isActive:!0,enter:1,exit:1};return this.locked=this.latched=null}make(){this.uniforms={transitionFrom:this._attributes.make(this._types.vec4()),transitionTo:this._attributes.make(this._types.vec4()),transitionActive:this._attributes.make(this._types.bool()),
transitionScale:this._attributes.make(this._types.vec4()),transitionBias:this._attributes.make(this._types.vec4()),transitionEnter:this._attributes.make(this._types.number()),transitionExit:this._attributes.make(this._types.number()),transitionSkew:this._attributes.make(this._types.number())};const r=this._inherit("slide"),m=this._inherit("visible"),d=this._inherit("active");this._listen(r,"transition.latch",c=>this.latch(c.step));this._listen(r,"transition.release",()=>this.release());this._listen(m,
"visible.change",()=>this.update(this.state.isVisible=m.isVisible));this._listen(d,"active.change",()=>this.update(this.state.isActive=d.isActive));this.animate=this._animator.make(this._types.vec2(1,1),{step:c=>{this.state.enter=c.x;this.state.exit=c.y;return this.update()},complete:c=>this.complete(c)});return this.move=null!=this.props.from||null!=this.props.to}unmake(){return this.animate.dispose()}latch(r){this.locked=null;this.latched=r={isVisible:this.state.isVisible,isActive:this.state.isActive,
step:r};if(!this.isVisible){const [m,d]=Array.from(0<=r.step?[0,1]:[1,0]);return this.animate.set(m,d)}}release(){const {latched:r}=this,{state:m}=this;this.latched=null;if(r.isVisible!==m.isVisible){const d=0<=r.step,c=m.isVisible,[g,h]=Array.from(c?[1,1]:d?[1,0]:[0,1]);let {duration:l,durationEnter:k,durationExit:t}=this.props;null==k&&(k=l);null==t&&(t=l);let {delay:x,delayEnter:A,delayExit:y}=this.props;null==A&&(A=x);null==y&&(y=x);this.animate.immediate({x:g,y:h},{duration:c*k+!c*t,delay:c*
A+!c*y,ease:"linear"});this.locked={isVisible:!0,isActive:r.isActive||m.isActive}}return this.update()}complete(r){if(r)return this.locked=null,this.update()}update(){if(null==this.latched){var {enter:r,exit:m}=this.props;null==r&&({enter:r}=this.state);null==m&&({exit:m}=this.state);var d=r*m,c=0<d;this.uniforms.transitionEnter.value=r;this.uniforms.transitionExit.value=m;this.uniforms.transitionActive.value=1>d;c&&(c=!!this.state.isVisible);null!=this.locked&&(c=this.locked.isVisible);this.isVisible!==
c&&(this.isVisible=c,this.trigger({type:"visible.change"}));d=!!(this.state.isActive||null!=this.locked&&this.locked.isActive);if(this.isActive!==d)return this.isActive=d,this.trigger({type:"active.change"})}}change(r,m,d){(r["transition.enter"]||r["transition.exit"]||d)&&this.update();if(r["transition.stagger"]||d){var {stagger:c}=this.props;r=0>c.x;m=0>c.y;d=0>c.z;const g=0>c.w,h=Math.abs(c.x),l=Math.abs(c.y),k=Math.abs(c.z);c=Math.abs(c.w);this.uniforms.transitionSkew.value=h+l+k+c;this.uniforms.transitionScale.value.set((1-
2*r)*h,(1-2*m)*l,(1-2*d)*k,(1-2*g)*c);return this.uniforms.transitionBias.value.set(r*h,m*l,d*k,g*c)}}}p.Transition=w;w.initClass()};
shadow$provide[293]=function(G,B,X,p){function w(m,d){return"undefined"!==typeof m&&null!==m?d(m):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Move=void 0;G=B(292);class r extends G.Transition{static initClass(){this.traits="node transition vertex move visible active".split(" ")}make(){super.make();const m={moveFrom:this.node.attributes["move.from"],moveTo:this.node.attributes["move.to"]};for(const d in m)this.uniforms[d]=m[d]}vertex(m,d){let c;d===this.props.pass&&m.pipe("move.position",
this.uniforms);return null!=(c=w(this._inherit("vertex"),g=>g.vertex(m,d)))?c:m}}p.Move=r;r.initClass()};
shadow$provide[294]=function(G,B,X,p){function w(r,m,d){return Math.max(m,Math.min(d,r))}Object.defineProperty(p,"__esModule",{value:!0});p.clamp=w;p.cosine=function(r){return.5-.5*Math.cos(w(r,0,1)*Math.PI)};p.binary=function(r){return+(.5<=r)};p.hold=function(r){return+(1<=r)}};
shadow$provide[295]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});p.Track=void 0;var r=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(294));G=B(188);const m=function(c){const g={};for(const h in c){const l=c[h];g[h]=l instanceof Array?l.slice():null!=l&&"object"===typeof l?m(l):l}return g};class d extends G.Primitive{static initClass(){this.traits=["node","track","seek","bind"]}init(){this.handlers={};this.values=this.script=null;this.playhead=0;return this.expr=this.section=this.velocity=
null}make(){let c;this._helpers.bind.make([{to:"track.target",trait:"node",callback:null}]);const {script:g}=this.props,{node:h}=this.bind.target;this.targetNode=h;return[this.script,this.values,this.start,this.end]=Array.from(c=this._process(h,g)),c}unmake(){this.unbindExpr();this._helpers.bind.unmake();this.script=this.values=this.start=this.end=this.section=this.expr=null;return this.playhead=0}bindExpr(c){this.unbindExpr();this.expr=c;this.targetNode.bind(c,!0);const {clock:g}=this.targetNode,
h=this;return this._attributes.bind(this.measure=function(){let l=null;return()=>{const {step:k}=g.getTime();null!=l&&(h.velocity=(h.playhead-l)/k);return l=h.playhead}}())}unbindExpr(){null!=this.expr&&this.targetNode.unbind(this.expr,!0);null!=this.measure&&this._attributes.unbind(this.measure);return this.expr=this.measure=null}_process(c,g){let h;let l;if(g instanceof Array){var k={};for(var t=0;t<g.length;t++)l=g[t],k[t]=l;g=k}k=[];for(E in g)l=g[E],null==l&&(l=[]),l instanceof Array?l={key:+E,
props:null!=l[0]?m(l[0]):{},bind:null!=l[1]?m(l[1]):{}}:(l=null!=l.key||l.props||l.bind?m(l):{props:m(l)},l.key=null!=l.key?+l.key:+E,null==l.props&&(l.props={}),null==l.bind&&(l.bind={})),k.push(l);g=k;if(!g.length)return[[],{},0,0];g.sort((F,H)=>F.key-H.key);t=g[0].key;const x=g[g.length-1].key;for(E in g){l=g[E];null!=A&&(A.next=l);var A=l}A.next=A;g=k;k={};const y={};for(E in g)for(h in l=g[E],l.props)A=l.props[h],k[h]=!0;for(E in g)for(h in l=g[E],l.bind)A=l.bind[h],k[h]=!0;for(h in k)k[h]=c.get(h);
try{for(h in k)y[h]=[c.attribute(h).T.make(),c.attribute(h).T.make(),c.attribute(h).T.make()]}catch(F){throw console.warn(this.node.toMarkup()),c=`${this.node.toString()} - Target ${c} has no \`${h}\` property`,Error(c);}var E=[];for(l of Array.from(g)){for(h in k)if(A=k[h],A=c.validate(h,null!=l.props[h]?l.props[h]:A),k[h]=l.props[h]=A,null!=l.bind[h]&&"function"!==typeof l.bind[h])throw console.warn(this.node.toMarkup()),c=`${this.node.toString()} - Bind expression \`${l.bind[h]}\` on property \`${h}\` is not a function`,
Error(c);E.push(l)}return[E,y,t,x]}update(){let {playhead:c}=this;const {script:g}=this,{ease:h,seek:l}=this.props,k=this.targetNode;null!=l&&(c=l);if(g.length){let aa;var t=function(){let Q=g[0];for(let O=0;O<g.length;O++){const da=g[O];if(da.key>c)break;Q=da}return Q},{section:x}=this;if(!x||c<x.key||c>x.next.key)x=t(g,c);if(x!==this.section){var A=this.section=x,y=x.next,E=A.key,F=y.key,H=(()=>{switch(h){case "linear":case 0:return r.clamp;case "cosine":case 1:return r.cosine;case "binary":case 2:return r.binary;
case "hold":case 3:return r.hold;default:return r.cosine}})(),{clock:P}=k,K=Q=>{if(null==this.velocity)return this.playhead;const O=P.getTime();return this.playhead+this.velocity*(Q-O.time)},T=function(){const Q=1/Math.max(1E-4,F-E);return O=>H((K(O)-E)*Q,0,1)}();t=Q=>{const O=A.bind[Q],da=y.bind[Q],ea=A.props[Q],za=y.props[Q],Ea=function(){console.warn(k.toMarkup());throw Error(`${this.node.toString()} - Invalid expression result on track \`${Q}\``);},sa=k.attribute(Q),gb=this.values[Q],wa=this._animator;
return O&&da?((Ba,Da,pa)=>function(ib,$a){let eb;Ba[0]=eb=sa.T.validate(O(ib,$a),Ba[0],Ea);Ba[1]=$a=sa.T.validate(da(ib,$a),Ba[1],Ea);return Ba[2]=wa.lerp(sa.T,eb,$a,T(ib),Ba[2])})(gb,A,y):O?((Ba,Da,pa)=>function(ib,$a){Ba[0]=$a=sa.T.validate(O(ib,$a),Ba[0],Ea);return Ba[1]=wa.lerp(sa.T,$a,za,T(ib),Ba[1])})(gb,A,y):da?((Ba,Da,pa)=>function(ib,$a){Ba[0]=$a=sa.T.validate(da(ib,$a),Ba[0],Ea);return Ba[1]=wa.lerp(sa.T,ea,$a,T(ib),Ba[1])})(gb,A,y):((Ba,Da,pa)=>(ib,$a)=>Ba[0]=wa.lerp(sa.T,ea,za,T(ib),Ba[0]))(gb,
A,y)};x={};for(aa in A.bind)null==x[aa]&&(x[aa]=t(aa));for(aa in y.bind)null==x[aa]&&(x[aa]=t(aa));for(aa in A.props)null==x[aa]&&(x[aa]=t(aa));for(aa in y.props)null==x[aa]&&(x[aa]=t(aa));return this.bindExpr(x)}}}change(c,g,h){if(c["track.target"]||c["track.script"]||c["track.mode"])return this.rebuild();if(c["seek.seek"]||h)return this.update()}}p.Track=d;d.initClass()};
shadow$provide[296]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Play=void 0;G=B(295);class w extends G.Track{static initClass(){this.traits=["node","track","trigger","play","bind"]}init(){super.init();return this.start=this.skew=null}reset(r){null==r&&(r=!0);this.skew=r?0:null;return this.start=null}make(){super.make();this._listen("slide","slide.step",m=>{const {trigger:d}=this.props;if(null!=d&&m.index===d)return this.reset();if(null!=d&&0===m.index)return this.reset(!1)});
this.props.trigger&&null!=this._inherit("slide")||this.reset();const r=this._inherit("clock");return this._listen(r,"clock.tick",()=>{const {from:m,to:d,speed:c,pace:g,delay:h,realtime:l}=this.props;var k=r.getTime();if(null!=this.skew){var t=l?k.time:k.clock;k=l?k.delta:k.step;const x=c/g;null==this.start&&(this.start=t);this.skew+=k*(x-1);t=Math.max(0,t-this.start+this.skew-h*x);this.props.loop&&(t%=d-m);this.playhead=Math.min(d,m+t)}else this.playhead=0;return this.update()})}update(){return super.update()}change(r,
m,d){return r["trigger.trigger"]||r["play.realtime"]?this.rebuild():super.change(r,m,d)}}p.Play=w;w.initClass()};
shadow$provide[297]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Present=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits=["node","present"]}init(){}make(){this.nodes=[];this.steps=[];this.length=0;this.last=[];this.index=0;this.dirty=[];this._listen("root","root.update",this.update);return this._compute("present.length",()=>this.length)}adopt(r){const {node:m}=r;0>this.nodes.indexOf(r)&&this.nodes.push(m);return this.dirty.push(r)}unadopt(r){this.nodes=
this.nodes.filter(m=>m!==r);return this.dirty.push(r)}update(){if(this.dirty.length){for(const r of Array.from(this.dirty))this.slideReset(r);[this.steps,this.indices]=Array.from(this.process(this.nodes));this.length=this.steps.length;this.index=null;this.go(this.props.index);return this.dirty=[]}}slideLatch(r,m,d){return r.slideLatch(m,d)}slideStep(r,m,d){return r.slideStep(this.mapIndex(r,m),d)}slideRelease(r,m){return r.slideRelease()}slideReset(r){return r.slideReset()}mapIndex(r,m){return m-
this.indices[r.node._id]}process(r){const m=(g=>h=>{let l,k;const t=[];for(;h&&([h,l]=Array.from(k=[g(h),h]),k);)t.push(l);return t})(function(g){return g.parent.traits.hash.present?null:g.parent}),d=g=>0<=r.indexOf(g),c=g=>g.sort((h,l)=>h.order-l.order);return function(g){let h;const [l,k]=Array.from(g),t={};let x=[];g=function(y,E){let F;const {props:H}=F=y[0];var P=y[1];const K=null!=P?t[P._id]:0;P=null!=H.from?K+H.from:E-H.early;E=null!=H.to?K+H.to:E+H.steps+H.late;P=Math.max(0,P);E=Math.min(100,
E);null==t[F._id]&&(t[F._id]=P);for(let T=P,aa=E,Q=P<=aa;Q?T<aa:T>aa;Q?T++:T--)x[T]=(null!=x[T]?x[T]:x[T]=[]).concat(y);return H.steps};let A=0;for(h of Array.from(l))A+=g(h,A);for(h of Array.from(k))g(h,0);x=(()=>{const y=[];for(h of Array.from(x)){var E=y,F=E.push,H;if(H=h){const P=[];for(let K=0;K<H.length;K++){const T=H[K];H.indexOf(T)===K&&P.push(T)}H=P}else H=[];F.call(E,c(H))}return y})();return[x,t]}(function(g){const h=[],l=[];for(const k of Array.from(g))(null!=k[0].props.steps?h:l).push(k);
return[h,l]}((g=>g.sort(function(h,l){const k=h.length,t=l.length;let x=Math.min(k,t);for(let A=1,y=x,E=1<=y;E?A<=y:A>=y;E?A++:A--){const F=h[k-A],H=l[t-A],P=F.props.order,K=H.props.order;if(null!=P||null!=K){if(null!=P&&null!=K&&0!==(x=P-K))return x;if(null!=P)return-1;if(null!=K)return 1}if(H.order!==F.order)return H.order-F.order}x=k-t;return 0!==x?x:0}))((g=>Array.from(g).map(h=>m(h).filter(d)))(r))))}go(r){var m;let d;r=Math.max(0,Math.min(this.length+1,+r||0));const c=null!=(m=this.steps[r-
1])?m:[];m=this.props.directed?r-this.index:1;this.index=r;const g=(()=>{const x=[];for(d of Array.from(c))0>this.last.indexOf(d)&&x.push(d);return x})(),h=(()=>{const x=[];for(d of Array.from(this.last))0>c.indexOf(d)&&x.push(d);return x})(),l=(()=>{const x=[];for(d of Array.from(c))0>g.indexOf(d)&&0>h.indexOf(d)&&x.push(d);return x})(),k=x=>x.sort((A,y)=>A.order-y.order),t=x=>x.sort((A,y)=>y.order-A.order);for(d of Array.from(k(g)))this.slideLatch(d.controller,!0,m);for(d of Array.from(k(l)))this.slideLatch(d.controller,
null,m);for(d of Array.from(k(h)))this.slideLatch(d.controller,!1,m);for(d of Array.from(g))this.slideStep(d.controller,r,m);for(d of Array.from(l))this.slideStep(d.controller,r,m);for(d of Array.from(h))this.slideStep(d.controller,r,m);for(d of Array.from(t(g)))this.slideRelease(d.controller);for(d of Array.from(t(l)))this.slideRelease(d.controller);for(d of Array.from(t(h)))this.slideRelease(d.controller);this.last=c}change(r,m,d){if(r["present.index"]||d)return this.go(this.props.index)}}p.Present=
w;w.initClass()};
shadow$provide[298]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}function r(c,g){return"undefined"!==typeof c&&null!==c?g(c):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Reveal=void 0;var m=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,
k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(199));G=B(292);class d extends G.Transition{static initClass(){this.traits=["node","transition","mask","visible","active"]}mask(c){let g,h;c?(h=this._shaders.shader(),h.pipe(m.identity("vec4")),h.fan(),h.pipe(c,this.uniforms),h.next(),h.pipe("reveal.mask",this.uniforms),h.end(),h.pipe("float combine(float a, float b) { return min(a, b); }")):
(h=this._shaders.shader(),h.pipe("reveal.mask",this.uniforms));return null!=(g=r(this._inherit("mask"),l=>l.mask(h)))?g:h}}p.Reveal=d;d.initClass()};
shadow$provide[299]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Slide=void 0;G=B(189);class w extends G.Parent{static initClass(){this.traits=["node","slide","visible","active"]}make(){this._helpers.visible.make();this._helpers.active.make();if(!this._inherit("present"))throw Error(`${this.node.toString()} must be placed inside <present></present>`);return this._inherit("present").adopt(this)}unmake(){this._helpers.visible.unmake();this._helpers.active.unmake();return this._inherit("present").unadopt(this)}change(r,
m,d){if(r["slide.early"]||r["slide.late"]||r["slide.steps"]||r["slide.from"]||r["slide.to"])return this.rebuild()}slideLatch(r,m){this.trigger({type:"transition.latch",step:m});if(null!=r)return this._instant(r)}slideStep(r,m){return this.trigger({type:"slide.step",index:r,step:m})}slideRelease(){return this.trigger({type:"transition.release"})}slideReset(){this._instant(!1);return this.trigger({type:"slide.reset"})}_instant(r){this.setVisible(r);return this.setActive(r)}}p.Slide=w;w.initClass()};
shadow$provide[300]=function(G,B,X,p){function w(m,d,c){const g=[],h=m<d;for(d=c?h?d+1:d-1:d;h?m<d:m>d;h?m++:m--)g.push(m);return g}Object.defineProperty(p,"__esModule",{value:!0});p.Step=void 0;G=B(295);class r extends G.Track{static initClass(){this.traits=["node","track","step","trigger","bind"]}make(){super.make();const m=this._inherit("clock");null==this.actualIndex&&(this.actualIndex=null);this.animateIndex=this._animator.make(this._types.number(0),{clock:m,realtime:this.props.realtime,step:d=>
this.actualIndex=d});null==this.lastIndex&&(this.lastIndex=null);this.animateStep=this._animator.make(this._types.number(0),{clock:m,realtime:this.props.realtime,step:d=>{this.playhead=d;return this.update()}});this.stops=null!=this.props.stops?this.props.stops:w(0,this.script.length,!1);this._listen("slide","slide.reset",d=>this.lastIndex=null);return this._listen("slide","slide.step",d=>{var c;let {duration:g}=this.props;const {delay:h,pace:l,speed:k,playback:t,rewind:x,skip:A,trigger:y}=this.props,
E=Math.max(0,Math.min(this.stops.length-1,d.index-y)),F=this.playhead,H=this.stops[E];if(null==this.lastIndex&&y)this.lastIndex=E,this.animateStep.set(H),this.animateIndex.set(E);else{var P=null!=(c=null!=this.actualIndex?this.actualIndex:this.lastIndex)?c:0;c=E-P;var K=this.stops.slice(Math.min(P,E),Math.max(P,E)),T=0;P=K.shift();for(const aa of Array.from(K))P===aa&&T++,P=aa;this.lastIndex=E;d=k*(0<=d.step?1:x);d*=A?Math.max(1,Math.abs(c)-T):1;g+=Math.abs(H-F)*l/d;if(F!==H)return this.animateIndex.immediate(E,
{delay:h,duration:g,ease:t}),this.animateStep.immediate(H,{delay:h,duration:g,ease:t})}})}made(){return this.update()}unmake(){this.animateIndex.dispose();this.animateStep.dispose();this.animateIndex=this.animateStep=null;return super.unmake()}change(m,d,c){return m["step.stops"]||m["step.realtime"]?this.rebuild():super.change(m,d,c)}}p.Step=r;r.initClass()};
shadow$provide[301]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(293);Object.keys(w).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===w[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return w[h]}}))});var r=B(296);Object.keys(r).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===r[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return r[h]}}))});var m=B(297);Object.keys(m).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in p&&p[h]===m[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return m[h]}}))});var d=B(298);Object.keys(d).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===d[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return d[h]}}))});var c=B(299);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===c[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return c[h]}}))});var g=B(300);Object.keys(g).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in p&&p[h]===g[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return g[h]}}))})};
shadow$provide[302]=function(G,B,X,p){function w(m,d){return"undefined"!==typeof m&&null!==m?d(m):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.RTT=void 0;G=B(189);class r extends G.Parent{static initClass(){this.traits="node root scene vertex texture rtt source index image".split(" ");this.defaults={minFilter:"linear",magFilter:"linear",type:"unsignedByte"}}init(){return this.rtt=this.scene=this.camera=this.width=this.height=this.history=this.rootSize=this.size=null}indexShader(m){return m}imageShader(m){return this.rtt.shaderRelative(m)}sourceShader(m){return this.rtt.shaderAbsolute(m,
this.history)}getDimensions(){return{items:1,width:this.width,height:this.height,depth:this.history}}getActiveDimensions(){return this.getDimensions()}make(){this.parentRoot=this._inherit("root");this.rootSize=this.parentRoot.getSize();this._listen(this.parentRoot,"root.pre",this.pre);this._listen(this.parentRoot,"root.update",this.update);this._listen(this.parentRoot,"root.render",this.render);this._listen(this.parentRoot,"root.post",this.post);this._listen(this.parentRoot,"root.camera",this.setCamera);
this._listen(this.parentRoot,"root.resize",function(A){return this.resize(A.size)});if(null!=this.rootSize){var {minFilter:m,magFilter:d,type:c}=this.props,{width:g,height:h,history:l,size:k}=this.props,t=k===this.node.attributes["rtt.size"].enum.relative;var x=t?this.rootSize.renderWidth:1;t=t?this.rootSize.renderHeight:1;this.width=Math.round(null!=g?g*x:this.rootSize.renderWidth);this.height=Math.round(null!=h?h*t:this.rootSize.renderHeight);this.history=l;this.aspect=x=this.width/this.height;
null==this.scene&&(this.scene=this._renderables.make("scene"));this.rtt=this._renderables.make("renderToTexture",{scene:this.scene,camera:this._context.defaultCamera,width:this.width,height:this.height,frames:this.history,minFilter:m,magFilter:d,type:c});x=g||h?x:this.rootSize.aspect;t=null!=h?h:this.rootSize.viewHeight;return this.size={renderWidth:this.width,renderHeight:this.height,aspect:x,viewWidth:null!=g?g:this.rootSize.viewWidth,viewHeight:t,pixelRatio:this.height/t}}}made(){this.trigger({type:"source.rebuild"});
if(this.size)return this.trigger({type:"root.resize",size:this.size})}unmake(m){if(null!=this.rtt)return this.rtt.dispose(),m||this.scene.dispose(),this.rtt=this.width=this.height=this.history=null}change(m,d,c){if(d.texture||m["rtt.width"]||m["rtt.height"])return this.rebuild();if(m["root.camera"]||c)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(m){return Array.from(m.renders).map(d=>this.scene.add(d))}unadopt(m){return Array.from(m.renders).map(d=>
this.scene.remove(d))}resize(m){let d,c;this.rootSize=m;({width:c,height:d,size:m}=this.props);m=m===this.node.attributes["rtt.size"].enum.relative;if(!this.rtt||null==c||null==d||m)return this.rebuild()}select(m){return this._root.node.model.select(m,[this.node])}watch(m,d){return this._root.node.model.watch(m,d)}unwatch(m){return this._root.node.model.unwatch(m)}pre(m){return this.trigger(m)}update(m){let d;null!=(d=this.getOwnCamera())&&(d.aspect=this.aspect||1,d.updateProjectionMatrix());return this.trigger(m)}render(m){this.trigger(m);
return null!=this.rtt?this.rtt.render(this.getCamera()):void 0}post(m){return this.trigger(m)}setCamera(){const m=w(this.select(this.props.camera)[0],d=>d.controller);if(this.camera!==m)return this.camera=m,this.rtt.camera=this.getCamera(),this.trigger({type:"root.camera"});if(!this.camera)return this.trigger({type:"root.camera"})}getOwnCamera(){return null!=this.camera?this.camera.getCamera():void 0}getCamera(){let m;return null!=(m=this.getOwnCamera())?m:this._inherit("root").getCamera()}vertex(m,
d){return 2===d?m.pipe("view.position"):3===d?m.pipe("root.position"):m}}p.RTT=r;r.initClass()};
shadow$provide[303]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Compose=void 0;G=B(188);class w extends G.Primitive{static initClass(){this.traits="node bind object visible operator style compose".split(" ");this.defaults={zWrite:!1,zTest:!1,color:"#ffffff"}}init(){return this.compose=null}resize(){if(this.compose&&this.bind.source){var r=this.bind.source.getActiveDimensions(),{width:m}=r;({height:r}=r);return this.remapUVScale.set(m,r)}}make(){this._helpers.bind.make([{to:"operator.source",
trait:"source"}]);if(null!=this.bind.source){var r={remapUVScale:this._attributes.make(this._types.vec2())};this.remapUVScale=r.remapUVScale.value;var m=this._shaders.shader(),{alpha:d}=this.props;this.bind.source.is("image")?(m.pipe("screen.pass.uv",r),m=this.bind.source.imageShader(m)):(m.pipe("screen.map.xy",r),m=this.bind.source.sourceShader(m));d||m.pipe("color.opaque");r=this._helpers.style.uniforms();this.compose=this._renderables.make("screen",{map:m,uniforms:r,linear:!0});this._helpers.visible.make();
return this._helpers.object.make([this.compose])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();return this._helpers.object.unmake()}change(r,m,d){if(r["operator.source"]||r["compose.alpha"])return this.rebuild()}}p.Compose=w;w.initClass()};
shadow$provide[304]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(302);Object.keys(w).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in p&&p[m]===w[m]||Object.defineProperty(p,m,{enumerable:!0,get:function(){return w[m]}}))});var r=B(303);Object.keys(r).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in p&&p[m]===r[m]||Object.defineProperty(p,m,{enumerable:!0,get:function(){return r[m]}}))})};
shadow$provide[305]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.View=void 0;G=B(269);class w extends G.Transform{static initClass(){this.traits=["node","object","visible","view","vertex"]}make(){return this._helpers.visible.make()}unmake(){return this._helpers.visible.unmake()}axis(r){return this.props.range[r-1]}}p.View=w;w.initClass()};
shadow$provide[306]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Cartesian=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(195));G=B(305);class m extends G.View{static initClass(){this.traits="node object visible view view3 vertex".split(" ")}make(){super.make();this.uniforms={viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=r.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;
delete this.uniforms}change(d,c,g){if(c.view||c.view3||g){c=this.props.position;g=this.props.scale;var h=this.props.quaternion,l=this.props.rotation,k=this.props.range,t=this.props.eulerOrder,{x}=k[0],A=k[1].x,y=k[2].x,E=k[0].y-x||1,F=k[1].y-A||1;k=k[2].y-y||1;this.viewMatrix.set(2/E,0,0,-(2*x+E)/E,0,2/F,0,-(2*A+F)/F,0,0,2/k,-(2*y+k)/k,0,0,0,1);c=this.composer(c,l,h,g,null,t);this.viewMatrix.multiplyMatrices(c,this.viewMatrix);d["view.range"]&&this.trigger({type:"view.range"})}}vertex(d,c){1===c&&
d.pipe("cartesian.position",this.uniforms);return super.vertex(d,c)}}p.Cartesian=m;m.initClass()};
shadow$provide[307]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Cartesian4=void 0;G=B(305);class w extends G.View{static initClass(){this.traits="node object visible view view4 vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4())};this.basisScale=this.uniforms.basisScale.value;return this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;
delete this.basisOffset;return delete this.uniforms}change(r,m,d){if(m.view||m.view4||d){m=this.props.position;d=this.props.scale;var c=this.props.range,{x:g}=c[0],h=c[1].x,l=c[2].x,k=c[3].x,t=c[0].y-g||1,x=c[1].y-h||1,A=c[2].y-l||1;c=c[3].y-k||1;var y=function(E,F){E.x*=F.x;E.y*=F.y;E.z*=F.z;return E.w*=F.w};this.basisScale.set(2/t,2/x,2/A,2/c);this.basisOffset.set(-(2*g+t)/t,-(2*h+x)/x,-(2*l+A)/A,-(2*k+c)/c);y(this.basisScale,d);y(this.basisOffset,d);this.basisOffset.add(m);if(r["view.range"])return this.trigger({type:"view.range"})}}vertex(r,
m){1===m&&r.pipe("cartesian4.position",this.uniforms);return super.vertex(r,m)}}p.Cartesian4=w;w.initClass()};
shadow$provide[308]=function(G,B,X,p){function w(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,k=new WeakMap;return(w=function(t){return t?k:l})(h)}function r(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=w(l))&&l.has(h))return l.get(h);var k={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in h)if("default"!==x&&Object.prototype.hasOwnProperty.call(h,x)){var A=t?Object.getOwnPropertyDescriptor(h,
x):null;A&&(A.get||A.set)?Object.defineProperty(k,x,A):k[x]=h[x]}k.default=h;l&&l.set(h,k);return k}Object.defineProperty(p,"__esModule",{value:!0});p.Polar=void 0;var m=r(B(242)),d=r(B(195)),c=B(101);G=B(305);class g extends G.View{static initClass(){this.traits="node object visible view view3 polar vertex".split(" ")}make(){super.make();const {types:h}=this._attributes;this.uniforms={polarBend:this.node.attributes["polar.bend"],polarHelix:this.node.attributes["polar.helix"],polarFocus:this._attributes.make(h.number()),
polarAspect:this._attributes.make(h.number()),viewMatrix:this._attributes.make(h.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=d.transformComposer();return this.aspect=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspect;return delete this.uniforms}change(h,l,k){var t;if(l.view||l.view3||l.polar||k){this.helix=this.props.helix;this.bend=t=this.props.bend;this.focus=k=0<t?1/t-1:0;var x=this.props.position,A=this.props.scale,y=this.props.quaternion,
E=this.props.rotation,F=this.props.range,H=this.props.eulerOrder,{x:P}=F[0],K=F[1].x,T=F[2].x,aa=F[0].y-P||1,Q=F[1].y-K||1;F=F[2].y-T||1;var O=A.x;var da=A.y,ea=0<aa?1:-1;[K,Q]=Array.from(m.recenterAxis(K,Q,t));t=aa+(Math.abs(Q)*ea-aa)*t;this.aspect=O=Math.abs(t/O/(Q/da));this.uniforms.polarFocus.value=k;this.uniforms.polarAspect.value=O;this.viewMatrix.set(2/t,0,0,-(2*P+aa)/aa,0,2/Q,0,-(2*K+Q)/Q,0,0,2/F,-(2*T+F)/F,0,0,0,1);k=this.composer(x,E,y,A,null,H);this.viewMatrix.multiplyMatrices(k,this.viewMatrix);
(h["view.range"]||l.polar)&&this.trigger({type:"view.range"})}}vertex(h,l){1===l&&h.pipe("polar.position",this.uniforms);return super.vertex(h,l)}axis(h){var l=this.props.range[h-1];let k=l.x;l=l.y;2===h&&0<this.bend&&(l=Math.max(Math.abs(l),Math.abs(k)),k=Math.max(-this.focus/this.aspect,k));return new c.Vector2(k,l)}}p.Polar=g;g.initClass()};
shadow$provide[309]=function(G,B,X,p){function w(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,k=new WeakMap;return(w=function(t){return t?k:l})(h)}function r(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=w(l))&&l.has(h))return l.get(h);var k={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in h)if("default"!==x&&Object.prototype.hasOwnProperty.call(h,x)){var A=t?Object.getOwnPropertyDescriptor(h,
x):null;A&&(A.get||A.set)?Object.defineProperty(k,x,A):k[x]=h[x]}k.default=h;l&&l.set(h,k);return k}Object.defineProperty(p,"__esModule",{value:!0});p.Spherical=void 0;var m=r(B(242)),d=r(B(195)),c=B(101);G=B(305);class g extends G.View{static initClass(){this.traits="node object visible view view3 spherical vertex".split(" ")}make(){super.make();this.uniforms={sphericalBend:this.node.attributes["spherical.bend"],sphericalFocus:this._attributes.make(this._types.number()),sphericalAspectX:this._attributes.make(this._types.number()),
sphericalAspectY:this._attributes.make(this._types.number()),sphericalScaleY:this._attributes.make(this._types.number()),viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=d.transformComposer();return this.aspectY=this.aspectX=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspectX;delete this.aspectY;return delete this.uniforms}change(h,l,k){let t;if(l.view||l.view3||l.spherical||k){this.bend=k=
this.props.bend;this.focus=t=0<k?1/k-1:0;var x=this.props.position,A=this.props.scale,y=this.props.quaternion,E=this.props.rotation,F=this.props.range,H=this.props.eulerOrder,{x:P}=F[0],K=F[1].x,T=F[2].x,aa=F[0].y-P||1,Q=F[1].y-K||1;F=F[2].y-T||1;var O=A.x;var da=A.y;var ea=A.z;[K,Q]=Array.from(m.recenterAxis(K,Q,k));[T,F]=Array.from(m.recenterAxis(T,F,k));var za=Math.abs(F),Ea=aa+(za*(0<aa?1:-1)-aa)*k;za=Q+(za*(0<Q?1:-1)-Q)*k;var sa=F/ea;this.aspectX=ea=Math.abs(Ea/O/sa);this.aspectY=sa=Math.abs(za/
da/sa/ea);this.scaleY=O=Math.min(sa/k,1+(Q/aa*O/da*2-1)*k);this.uniforms.sphericalBend.value=k;this.uniforms.sphericalFocus.value=t;this.uniforms.sphericalAspectX.value=ea;this.uniforms.sphericalAspectY.value=sa;this.uniforms.sphericalScaleY.value=O;this.viewMatrix.set(2/Ea,0,0,-(2*P+aa)/aa,0,2/za,0,-(2*K+Q)/Q,0,0,2/F,-(2*T+F)/F,0,0,0,1);k=this.composer(x,E,y,A,null,H);this.viewMatrix.multiplyMatrices(k,this.viewMatrix);if(h["view.range"]||l.spherical)return this.trigger({type:"view.range"})}}vertex(h,
l){1===l&&h.pipe("spherical.position",this.uniforms);return super.vertex(h,l)}axis(h){var l=this.props.range[h-1];let k=l.x;l=l.y;3===h&&0<this.bend&&(l=Math.max(Math.abs(l),Math.abs(k)),k=Math.max(-this.focus/this.aspectX+.001,k));return new c.Vector2(k,l)}}p.Spherical=g;g.initClass()};
shadow$provide[310]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}function r(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,t)){var x=k?Object.getOwnPropertyDescriptor(g,
t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}Object.defineProperty(p,"__esModule",{value:!0});p.Stereographic=void 0;var m=r(B(242)),d=r(B(195));G=B(305);class c extends G.View{static initClass(){this.traits="node object visible view view3 stereographic vertex".split(" ")}make(){super.make();this.uniforms={stereoBend:this.node.attributes["stereographic.bend"],viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;
return this.composer=d.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.rotationMatrix;return delete this.uniforms}change(g,h,l){if(h.view||h.view3||h.stereographic||l){this.bend=l=this.props.bend;var k=this.props.position,t=this.props.scale,x=this.props.quaternion,A=this.props.rotation,y=this.props.range,E=this.props.eulerOrder,{x:F}=y[0],H=y[1].x,P=y[2].x,K=y[0].y-F||1,T=y[1].y-H||1;y=y[2].y-P||1;[P,y]=Array.from(m.recenterAxis(P,y,l,1));this.uniforms.stereoBend.value=
l;this.viewMatrix.set(2/K,0,0,-(2*F+K)/K,0,2/T,0,-(2*H+T)/T,0,0,2/y,-(2*P+y)/y,0,0,0,1);l=this.composer(k,A,x,t,null,E);this.viewMatrix.multiplyMatrices(l,this.viewMatrix);if(g["view.range"]||h.stereographic)return this.trigger({type:"view.range"})}}vertex(g,h){1===h&&g.pipe("stereographic.position",this.uniforms);return super.vertex(g,h)}}p.Stereographic=c;c.initClass()};
shadow$provide[311]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Stereographic4=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(242));G=B(305);class m extends G.View{static initClass(){this.traits="node object visible view view4 stereographic vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4()),stereoBend:this.node.attributes["stereographic.bend"]};this.basisScale=this.uniforms.basisScale.value;
this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;delete this.basisOffset;delete this.uniforms}change(d,c,g){if(c.view||c.view4||c.stereographic||g){this.bend=g=this.props.bend;var h=this.props.position,l=this.props.scale,k=this.props.range,{x:t}=k[0],x=k[1].x,A=k[2].x,y=k[3].x,E=k[0].y-t||1,F=k[1].y-x||1,H=k[2].y-A||1;k=k[3].y-y||1;var P=function(K,T){K.x*=T.x;K.y*=T.y;K.z*=T.z;K.w*=T.w};[y,k]=Array.from(r.recenterAxis(y,k,g,1));this.basisScale.set(2/
E,2/F,2/H,2/k);this.basisOffset.set(-(2*t+E)/E,-(2*x+F)/F,-(2*A+H)/H,-(2*y+k)/k);P(this.basisScale,l);P(this.basisOffset,l);this.basisOffset.add(h);(d["view.range"]||c.stereographic)&&this.trigger({type:"view.range"})}}vertex(d,c){1===c&&d.pipe("stereographic4.position",this.uniforms);return super.vertex(d,c)}}p.Stereographic4=m;m.initClass()};
shadow$provide[312]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(305);Object.keys(w).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===w[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return w[l]}}))});var r=B(306);Object.keys(r).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===r[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return r[l]}}))});var m=B(307);Object.keys(m).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in p&&p[l]===m[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return m[l]}}))});var d=B(308);Object.keys(d).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===d[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return d[l]}}))});var c=B(309);Object.keys(c).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===c[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return c[l]}}))});var g=B(310);Object.keys(g).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in p&&p[l]===g[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return g[l]}}))});var h=B(311);Object.keys(h).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in p&&p[l]===h[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return h[l]}}))})};
shadow$provide[313]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Shader=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(199));G=B(188);class m extends G.Primitive{static initClass(){this.traits=["node","bind","shader"];this.freeform=!0}init(){return this.shader=null}make(){const {language:d,code:c}=this.props;if("glsl"!==d)throw Error("GLSL required");this._helpers.bind.make([{to:"shader.sources",trait:"source",multiple:!0}]);var g=this._shaders.fetch(c);const h=this._types,
l={},k=t=>{switch(t){case "i":return h.int();case "f":return h.number();case "v2":return h.vec2();case "v3":return h.vec3();case "v4":return h.vec4();case "m3":return h.mat3();case "m4":return h.mat4();case "t":return h.object();default:return t=t.split(""),"v"===t.pop()?h.array(k(t.join(""))):null}};for(const t of Array.from(g._signatures.uniform))if(g=k(t.type))l[t.name]=g;return this.reconfigure({props:{uniform:l}})}made(){return this.trigger({type:"source.rebuild"})}unmake(){return this.shader=
null}change(d,c,g){if(d["shader.uniforms"]||d["shader.code"]||d["shader.language"])return this.rebuild()}shaderBind(d){let c,g;null==d&&(d={});const {code:h,indices:l,channels:k}=this.props;for(t in this.node.attributes)g=this.node.attributes[t],null!=g.type&&null!=g.short&&"uniform"===g.ns&&null==d[g.short]&&(d[g.short]=g);if(null!=(c=this.props.uniforms))for(t in c)g=c[t],d[t]=g;var t=this._shaders.shader();if(null!=this.bind.sources)for(const x of Array.from(this.bind.sources))t.callback(),4!=
l&&t.pipe(r.extendVec(l,4)),t.pipe(x.sourceShader(this._shaders.shader())),4!=k&&t.pipe(r.truncateVec(4,k)),t.join();return t.pipe(h,d)}}p.Shader=m;m.initClass()};
shadow$provide[314]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(313);Object.keys(w).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in p&&p[r]===w[r]||Object.defineProperty(p,r,{enumerable:!0,get:function(){return w[r]}}))})};
shadow$provide[315]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Classes=void 0;G=B(194);X=B(197);var w=B(244),r=B(255),m=B(258),d=B(265),c=B(268),g=B(276),h=B(291),l=B(301),k=B(304),t=B(312);B=B(314);p.Classes={axis:r.Axis,face:r.Face,grid:r.Grid,line:r.Line,point:r.Point,strip:r.Strip,surface:r.Surface,ticks:r.Ticks,vector:r.Vector,view:t.View,cartesian:t.Cartesian,cartesian4:t.Cartesian4,polar:t.Polar,spherical:t.Spherical,stereographic:t.Stereographic,stereographic4:t.Stereographic4,
transform:g.Transform3,transform4:g.Transform4,vertex:g.Vertex,fragment:g.Fragment,layer:g.Layer,mask:g.Mask,array:w.Array_,interval:w.Interval,matrix:w.Matrix,area:w.Area,voxel:w.Voxel,volume:w.Volume,scale:w.Scale,latch:w.Latch,html:m.HTML,dom:m.DOM,text:d.Text,format:d.Format,label:d.Label,retext:d.Retext,clamp:h.Clamp,grow:h.Grow,join:h.Join,lerp:h.Lerp,memo:h.Memo,readback:h.Readback,resample:h.Resample,repeat:h.Repeat,reverse:h.Reverse,swizzle:h.Swizzle,spread:h.Spread,split:h.Split,slice:h.Slice,
subdivide:h.Subdivide,transpose:h.Transpose,group:G.Group,inherit:G.Inherit,root:G.Root,unit:G.Unit,shader:B.Shader,camera:X.Camera,rtt:k.RTT,compose:k.Compose,clock:c.Clock,now:c.Now,move:l.Move,play:l.Play,present:l.Present,reveal:l.Reveal,slide:l.Slide,step:l.Step}};
shadow$provide[316]=function(G,B,X,p){function w(k){if("function"!==typeof WeakMap)return null;var t=new WeakMap,x=new WeakMap;return(w=function(A){return A?x:t})(k)}function r(k,t){if(!t&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((t=w(t))&&t.has(k))return t.get(k);var x={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in k)if("default"!==y&&Object.prototype.hasOwnProperty.call(k,y)){var E=A?Object.getOwnPropertyDescriptor(k,
y):null;E&&(E.get||E.set)?Object.defineProperty(x,y,E):x[y]=k[y]}x.default=k;t&&t.set(k,x);return x}function m(k,t,x){const A=[],y=k<t;for(t=x?y?t+1:t-1:t;y?k<t:k>t;y?k++:k--)A.push(k);return A}function d(k,t,x){if("undefined"!==typeof k&&null!==k&&"function"===typeof k[t])return x(k,t)}Object.defineProperty(p,"__esModule",{value:!0});p.Types=void 0;var c=r(B(198)),g=r(B(245)),h=B(101);const l=function(k){for(const t in k)k[t]=(x=>function(){const A=x.apply(x,arguments);null==A.validate&&(A.validate=
y=>null!=y);null==A.equals&&(A.equals=(y,E)=>y===E);null==A.clone&&(A.clone=function(y){let E;return null!=(E=d(y,"clone",F=>F.clone()))?E:y});return A})(k[t]);return k}({array(k,t,x=null){const A=k.lerp?function(E,F,H,P){const K=Math.min(E.length,F.length);for(let T=0,aa=K,Q=0<=aa;Q?T<aa:T>aa;Q?T++:T--)H[T]=k.lerp(E[T],F[T],H[T],P);return H}:void 0,y=k.op?function(E,F,H,P){const K=Math.min(E.length,F.length);for(let T=0,aa=K,Q=0<=aa;Q?T<aa:T>aa;Q?T++:T--)H[T]=k.op(E[T],F[T],H[T],P);return H}:void 0;
null==x||x instanceof Array||(x=[x]);return{uniform(){if(k.uniform)return k.uniform()+"v"},make(){return null!=x?x.slice():t?m(0,t,!1).map(E=>k.make()):[]},validate(E,F,H){E instanceof Array||(E=[E]);var P=F.length=t?t:E.length;for(let K=0,T=P,aa=0<=T;aa?K<T:K>T;aa?K++:K--)P=null!=E[K]?E[K]:k.make(),F[K]=k.validate(P,F[K],H);return F},equals(E,F){var H=E.length;const P=F.length;if(H!==P)return!1;H=Math.min(H,P);for(let K=0,T=H,aa=0<=T;aa?K<T:K>T;aa?K++:K--)if("function"!==typeof k.equals||!k.equals(E[K],
F[K]))return!1;return!0},lerp:A,op:y,clone(E){return Array.from(E).map(F=>k.clone(F))}}},letters(k,t,x=null){if(null!=x){x===""+x&&(x=x.split(""));for(let y=0;y<x.length;y++){const E=x[y];x[y]=k.validate(E,E)}}const A=l.array(k,t,x);return{uniform(){return A.uniform()},make(){return A.make()},validate(y,E,F){y===""+y&&(y=y.split(""));return A.validate(y,E,F)},equals(y,E){return A.equals(y,E)},clone:A.clone}},nullable(k,t){null==t&&(t=!1);let x=t?k.make():null;return{make(){return x},validate(A,y,
E){if(null===A)return A;null===y&&(y=k.make());return k.validate(A,y,E)},uniform(){return"function"===typeof k.uniform?k.uniform():void 0},equals(A,y){let E;const F=null===A,H=null===y;return F&&H?!0:F^H?!1:null!=(E="function"===typeof k.equals?k.equals(A,y):void 0)?E:A===y},lerp:k.lerp?function(A,y,E,F){if(null===A||null===y)return.5>F?A:y;null==E&&(E=k.make());x=k.lerp(A,y,E,F);return E}:void 0,op:k.op?function(A,y,E,F){if(null===A||null===y)return null;null==E&&(E=k.make());return x=k.op(A,y,E,
F)}:void 0,emitter:k.emitter?function(A,y){return null==y?A:null==A?y:k.emitter(A,y)}:void 0}},enum(k,t,x){let A;null==t&&(t=[]);null==x&&(x={});let y=0;const E={};for(A of Array.from(t))A!==+A&&null==x[A]&&(x[A]=y++);for(A of Array.from(t))A===+A&&(E[A]=A);for(A in x)y=x[A],E[y]=!0;null==E[k]&&(k=x[k]);return{enum(){return x},make(){return k},validate(F,H,P){F=E[F]?F:x[F];return null!=F?F:P()}}},enumber(k,t,x){null==x&&(x={});const A=l.enum(k,t,x);return{enum:A.enum,uniform(){return"f"},make(){let y;
return null!=(y=A.make())?y:+k},validate(y,E,F){return y===+y?y:A.validate(y,E,F)},op(y,E,F,H){return H(y,E)}}},select(k){null==k&&(k="\x3c");k;return{make(){return k},validate(t,x,A){return"string"===typeof t||"object"===typeof t?t:A()}}},bool(k){k=!!k;return{uniform(){return"f"},make(){return k},validate(t,x,A){return!!t}}},int(k){null==k&&(k=0);k=+Math.round(k);return{uniform(){return"i"},make(){return k},validate(t,x,A){let y;return t!==(y=+t)?A():Math.round(y)||0},op(t,x,A,y){return y(t,x)}}},
round(k){null==k&&(k=0);k=+Math.round(k);return{uniform(){return"f"},make(){return k},validate(t,x,A){let y;return t!==(y=+t)?A():Math.round(y)||0},op(t,x,A,y){return y(t,x)}}},number(k){null==k&&(k=0);return{uniform(){return"f"},make(){return+k},validate(t,x,A){let y;return t!==(y=+t)?A():y||0},op(t,x,A,y){return y(t,x)}}},positive(k,t){null==t&&(t=!1);return{uniform:k.uniform,make:k.make,validate(x,A,y){x=k.validate(x,A,y);return 0>x||t&&0>=x?y():x},op(x,A,y,E){return E(x,A)}}},string(k){null==
k&&(k="");return{make(){return""+k},validate(t,x,A){let y;return t!==(y=""+t)?A():y}}},func(){return{make(){return function(){}},validate(k,t,x){return"function"===typeof k?k:x()}}},emitter(){return{make(){return k=>k(1,1,1,1)},validate(k,t,x){return"function"===typeof k?k:x()},emitter(k,t){return c.getLerpEmitter(k,t)}}},object(k){return{make(){return null!=k?k:{}},validate(t,x,A){return"object"===typeof t?t:A()},clone(t){return JSON.parse(JSON.stringify(t))}}},timestamp(k=null){"string"===typeof k&&
(k=Date.parse(k));return{uniform(){return"f"},make(){return null!=k?k:+new Date},validate(t,x,A){t=Date.parse(t);return t!==+t?A():t},op(t,x,A,y){return y(t,x)}}},vec2(k,t){null==k&&(k=0);null==t&&(t=0);const x=[k,t];return{uniform(){return"v2"},make(){return new h.Vector2(k,t)},validate(A,y,E){A===+A&&(A=[A]);if(null===A||void 0===A?0:A.isVector2)y.copy(A);else if(A instanceof Array)A=A.concat(x.slice(A.length)),y.set.apply(y,A);else if(null!=A)y.set(null!=A.x?A.x:k,null!=A.y?A.y:t);else return E();
return y},equals(A,y){return A.x===y.x&&A.y===y.y},op(A,y,E,F){E.x=F(A.x,y.x);E.y=F(A.y,y.y);return E}}},ivec2(k,t){null==k&&(k=0);null==t&&(t=0);k=l.vec2(k,t);const {validate:x}=k;k.validate=function(A,y,E){x(A,y,E);y.x=Math.round(y.x);y.y=Math.round(y.y);return y};return k},vec3(k,t,x){null==k&&(k=0);null==t&&(t=0);null==x&&(x=0);const A=[k,t,x];return{uniform(){return"v3"},make(){return new h.Vector3(k,t,x)},validate(y,E,F){y===+y&&(y=[y]);if(null===y||void 0===y?0:y.isVector3)E.copy(y);else if(y instanceof
Array)y=y.concat(A.slice(y.length)),E.set.apply(E,y);else if(null!=y)E.set(null!=y.x?y.x:k,null!=y.y?y.y:t,null!=y.z?y.z:x);else return F();return E},equals(y,E){return y.x===E.x&&y.y===E.y&&y.z===E.z},op(y,E,F,H){F.x=H(y.x,E.x);F.y=H(y.y,E.y);F.z=H(y.z,E.z);return F}}},ivec3(k,t,x){null==k&&(k=0);null==t&&(t=0);null==x&&(x=0);k=l.vec3(k,t,x);const {validate:A}=k;k.validate=function(y,E,F){A(y,E,F);E.x=Math.round(E.x);E.y=Math.round(E.y);E.z=Math.round(E.z);return E};return k},vec4(k,t,x,A){null==
k&&(k=0);null==t&&(t=0);null==x&&(x=0);null==A&&(A=0);const y=[k,t,x,A];return{uniform(){return"v4"},make(){return new h.Vector4(k,t,x,A)},validate(E,F,H){E===+E&&(E=[E]);if(null===E||void 0===E?0:E.isVector4)F.copy(E);else if(E instanceof Array)E=E.concat(y.slice(E.length)),F.set.apply(F,E);else if(null!=E)F.set(null!=E.x?E.x:k,null!=E.y?E.y:t,null!=E.z?E.z:x,null!=E.w?E.w:A);else return H();return F},equals(E,F){return E.x===F.x&&E.y===F.y&&E.z===F.z&&E.w===F.w},op(E,F,H,P){H.x=P(E.x,F.x);H.y=P(E.y,
F.y);H.z=P(E.z,F.z);H.w=P(E.w,F.w);return H}}},ivec4(k,t,x,A){null==k&&(k=0);null==t&&(t=0);null==x&&(x=0);null==A&&(A=0);k=l.vec4(k,t,x,A);const {validate:y}=k;k.validate=function(E,F,H){y(E,F,H);F.x=Math.round(F.x);F.y=Math.round(F.y);F.z=Math.round(F.z);F.w=Math.round(F.w);return F};return k},mat3(k,t,x,A,y,E,F,H,P){null==k&&(k=1);null==t&&(t=0);null==x&&(x=0);null==A&&(A=0);null==y&&(y=1);null==E&&(E=0);null==F&&(F=0);null==H&&(H=0);null==P&&(P=1);const K=[k,t,x,A,y,E,F,H,P];return{uniform(){return"m4"},
make(){const T=new h.Matrix3;T.set(k,t,x,A,y,E,F,H,P);return T},validate(T,aa,Q){if(null===T||void 0===T?0:T.isMatrix3)aa.copy(T);else if(T instanceof Array)T=T.concat(K.slice(T.length)),aa.set.apply(aa,T);else return Q();return aa}}},mat4(k,t,x,A,y,E,F,H,P,K,T,aa,Q,O,da,ea){null==k&&(k=1);null==t&&(t=0);null==x&&(x=0);null==A&&(A=0);null==y&&(y=0);null==E&&(E=1);null==F&&(F=0);null==H&&(H=0);null==P&&(P=0);null==K&&(K=0);null==T&&(T=1);null==aa&&(aa=0);null==Q&&(Q=0);null==O&&(O=0);null==da&&(da=
0);null==ea&&(ea=1);const za=[k,t,x,A,y,E,F,H,P,K,T,aa,Q,O,da,ea];return{uniform(){return"m4"},make(){const Ea=new h.Matrix4;Ea.set(k,t,x,A,y,E,F,H,P,K,T,aa,Q,O,da,ea);return Ea},validate(Ea,sa,gb){if(null===Ea||void 0===Ea?0:Ea.isMatrix4)sa.copy(Ea);else if(Ea instanceof Array)Ea=Ea.concat(za.slice(Ea.length)),sa.set.apply(sa,Ea);else return gb();return sa}}},quat(k,t,x,A){null==k&&(k=0);null==t&&(t=0);null==x&&(x=0);null==A&&(A=1);const y=l.vec4(k,t,x,A);return{uniform(){return"v4"},make(){return new h.Quaternion},
validate(E,F,H){(null===E||void 0===E?0:E.isQuaternion)?F.copy(E):F=y.validate(E,F,H);F.normalize();return F},equals(E,F){return E.x===F.x&&E.y===F.y&&E.z===F.z&&E.w===F.w},op(E,F,H,P){H.x=P(E.x,F.x);H.y=P(E.y,F.y);H.z=P(E.z,F.z);H.w=P(E.w,F.w);H.normalize();return H},lerp(E,F,H,P){H.slerpQuaternions?H.slerpQuaternions(E,F,P):h.Quaternion.slerp(E,F,H,P);return H}}},color(k,t,x){null==k&&(k=.5);null==t&&(t=.5);null==x&&(x=.5);const A=[k,t,x];return{uniform(){return"c"},make(){return new h.Color(k,
t,x)},validate(y,E,F){y===""+y?y=(new h.Color).setStyle(y):y===+y&&(y=new h.Color(y));if(null===y||void 0===y?0:y.isColor)E.copy(y);else if(y instanceof Array)y=y.concat(A.slice(y.length)),E.setRGB.apply(E,y);else if(null!=y)E.set(null!=y.r?y.r:k,null!=y.g?y.g:t,null!=y.b?y.b:x);else return F();return E},equals(y,E){return y.r===E.r&&y.g===E.g&&y.b===E.b},op(y,E,F,H){F.r=H(y.r,E.r);F.g=H(y.g,E.g);F.b=H(y.b,E.b);return F}}},axis(k,t){let x;null==k&&(k=1);null==t&&(t=!1);const A={x:1,y:2,z:3,w:4,W:1,
H:2,D:3,I:4,zero:0,null:0,width:1,height:2,depth:3,items:4},y=t?[0,1,2,3,4]:[1,2,3,4];null!=(x=A[k])&&(k=x);return{make(){return k},validate(E,F,H){let P;null!=(x=A[E])&&(E=x);E=null!=(P=Math.round(E))?P:0;return Array.from(y).includes(E)?E:H()}}},transpose(k){null==k&&(k=[1,2,3,4]);const t=l.letters(l.axis(null,!1),0,k),x=l.letters(l.axis(null,!1),4,k);return{make(){return x.make()},validate(A,y,E){let F=[1,2,3,4];t.validate(A,F,E);4>F.length&&(A=[1,2,3,4].filter(H=>-1===F.indexOf(H)),F=F.concat(A));
return 0>Array.from(F).map((H,P)=>F.indexOf(H)===P).indexOf(!1)?x.validate(F,y,E):E()},equals:x.equals,clone:x.clone}},swizzle(k,t=null){null==k&&(k=[1,2,3,4]);null==t&&(t=k.length);k=k.slice(0,t);const x=l.letters(l.axis(null,!1),0,k),A=l.letters(l.axis(null,!0),t,k);return{make(){return A.make()},validate(y,E,F){let H=k.slice();x.validate(y,H,F);H.length<t&&(H=H.concat([0,0,0,0]).slice(0,t));return A.validate(H,E,F)},equals:A.equals,clone:A.clone}},classes(){const k=l.array(l.string());return{make(){return k.make()},
validate(t,x,A){t===""+t&&(t=t.split(" "));t=t.filter(y=>!!y.length);return k.validate(t,x,A)},equals:k.equals,clone:k.clone}},blending(k){null==k&&(k="normal");return l.enum(k,"no normal add subtract multiply custom".split(" "))},filter(k){null==k&&(k="nearest");return l.enum(k,[],{nearest:h.NearestFilter,nearestMipMapNearest:h.NearestMipMapNearestFilter,nearestMipMapLinear:h.NearestMipMapLinearFilter,linear:h.LinearFilter,linearMipMapNearest:h.LinearMipMapNearestFilter,linearMipmapLinear:h.LinearMipMapLinearFilter})},
type(k){null==k&&(k="unsignedByte");return l.enum(k,[],{unsignedByte:h.UnsignedByteType,byte:h.ByteType,short:h.ShortType,unsignedShort:h.UnsignedShortType,int:h.IntType,unsignedInt:h.UnsignedIntType,float:h.FloatType})},scale(k){null==k&&(k="linear");return l.enum(k,["linear","log"])},mapping(k){null==k&&(k="relative");return l.enum(k,["relative","absolute"])},indexing(k){null==k&&(k="original");return l.enum(k,["original","final"])},shape(k){null==k&&(k="circle");return l.enum(k,"circle square diamond up down left right".split(" "))},
join(k){null==k&&(k="miter");return l.enum(k,["miter","round","bevel"])},stroke(k){null==k&&(k="solid");return l.enum(k,["solid","dotted","dashed"])},vertexPass(k){null==k&&(k="view");return l.enum(k,["data","view","world","eye"])},fragmentPass(k){null==k&&(k="light");return l.enum(k,["color","light","rgba"])},ease(k){null==k&&(k="linear");return l.enum(k,["linear","cosine","binary","hold"])},fit(k){null==k&&(k="contain");return l.enum(k,["x","y","contain","cover"])},anchor(k){null==k&&(k="middle");
return l.enumber(k,[],{first:1,middle:0,last:-1})},transitionState(k){null==k&&(k="enter");return l.enumber(k,[],{enter:-1,visible:0,exit:1})},font(k){null==k&&(k="sans-serif");const t=g.parseQuoted;k instanceof Array||(k=t(k));const x=l.array(l.string(),0,k);return{make(){return x.make()},validate(A,y,E){try{A instanceof Array||(A=t(A))}catch(F){return E()}A=A.filter(F=>!!F.length);return x.validate(A,y,E)},equals:x.equals,clone:x.clone}},data(k){null==k&&(k=[]);return{make(){return[]},validate(t,
x,A){return t instanceof Array?t:null!=(null!=t?t.length:void 0)?t:A()},emitter(t,x){return c.getLerpThunk(t,x)}}}});p.Types=l};
shadow$provide[317]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Types=void 0;G=B(316).Types;p.Types=G};
shadow$provide[318]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Traits=void 0;G=B(317);G={node:{id:G.Types.nullable(G.Types.string()),classes:G.Types.classes()},entity:{active:G.Types.bool(!0)},object:{visible:G.Types.bool(!0)},latch:{data:G.Types.nullable(G.Types.object()),deep:G.Types.nullable(G.Types.bool(!0))},unit:{scale:G.Types.nullable(G.Types.number()),fov:G.Types.nullable(G.Types.number()),focus:G.Types.nullable(G.Types.number(1),!0)},span:{range:G.Types.nullable(G.Types.vec2(-1,
1))},view:{range:G.Types.array(G.Types.vec2(-1,1),4)},view3:{position:G.Types.vec3(),quaternion:G.Types.quat(),rotation:G.Types.vec3(),scale:G.Types.vec3(1,1,1),eulerOrder:G.Types.swizzle("xyz")},view4:{position:G.Types.vec4(),scale:G.Types.vec4(1,1,1,1)},layer:{depth:G.Types.number(1),fit:G.Types.fit("y")},vertex:{pass:G.Types.vertexPass()},fragment:{pass:G.Types.fragmentPass(),gamma:G.Types.bool(!1)},transform3:{position:G.Types.vec3(),quaternion:G.Types.quat(),rotation:G.Types.vec3(),eulerOrder:G.Types.swizzle("xyz"),
scale:G.Types.vec3(1,1,1),matrix:G.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transform4:{position:G.Types.vec4(),scale:G.Types.vec4(1,1,1,1),matrix:G.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},camera:{proxy:G.Types.bool(!1),position:G.Types.nullable(G.Types.vec3()),quaternion:G.Types.nullable(G.Types.quat()),rotation:G.Types.nullable(G.Types.vec3()),lookAt:G.Types.nullable(G.Types.vec3()),up:G.Types.nullable(G.Types.vec3()),eulerOrder:G.Types.swizzle("xyz"),fov:G.Types.nullable(G.Types.number(1))},
polar:{bend:G.Types.number(1),helix:G.Types.number(0)},spherical:{bend:G.Types.number(1)},stereographic:{bend:G.Types.number(1)},interval:{axis:G.Types.axis()},area:{axes:G.Types.swizzle([1,2],2)},volume:{axes:G.Types.swizzle([1,2,3],3)},origin:{origin:G.Types.vec4()},scale:{divide:G.Types.number(10),unit:G.Types.number(1),base:G.Types.number(10),mode:G.Types.scale(),start:G.Types.bool(!0),end:G.Types.bool(!0),zero:G.Types.bool(!0),factor:G.Types.positive(G.Types.number(1)),nice:G.Types.bool(!0)},
grid:{lineX:G.Types.bool(!0),lineY:G.Types.bool(!0),crossed:G.Types.bool(!1),closedX:G.Types.bool(!1),closedY:G.Types.bool(!1)},axis:{detail:G.Types.int(1),crossed:G.Types.bool(!1)},data:{data:G.Types.nullable(G.Types.data()),expr:G.Types.nullable(G.Types.emitter()),bind:G.Types.nullable(G.Types.func()),live:G.Types.bool(!0)},buffer:{channels:G.Types.enum(4,[1,2,3,4]),items:G.Types.int(1),fps:G.Types.nullable(G.Types.int(60)),hurry:G.Types.int(5),limit:G.Types.int(60),realtime:G.Types.bool(!1),observe:G.Types.bool(!1),
aligned:G.Types.bool(!1)},sampler:{centered:G.Types.bool(!1),padding:G.Types.number(0)},array:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),bufferWidth:G.Types.int(1),history:G.Types.int(1)},matrix:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),history:G.Types.int(1),bufferWidth:G.Types.int(1),bufferHeight:G.Types.int(1)},voxel:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(1),
!0)),depth:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),bufferWidth:G.Types.int(1),bufferHeight:G.Types.int(1),bufferDepth:G.Types.int(1)},resolve:{expr:G.Types.nullable(G.Types.func()),items:G.Types.int(1)},style:{opacity:G.Types.positive(G.Types.number(1)),color:G.Types.color(),blending:G.Types.blending(),zWrite:G.Types.bool(!0),zTest:G.Types.bool(!0),zIndex:G.Types.positive(G.Types.round()),zBias:G.Types.number(0),zOrder:G.Types.nullable(G.Types.int())},geometry:{points:G.Types.select(),
colors:G.Types.nullable(G.Types.select())},point:{size:G.Types.positive(G.Types.number(4)),sizes:G.Types.nullable(G.Types.select()),shape:G.Types.shape(),optical:G.Types.bool(!0),fill:G.Types.bool(!0),depth:G.Types.number(1)},line:{width:G.Types.positive(G.Types.number(2)),depth:G.Types.positive(G.Types.number(1)),join:G.Types.join(),stroke:G.Types.stroke(),proximity:G.Types.nullable(G.Types.number(Infinity)),closed:G.Types.bool(!1)},mesh:{fill:G.Types.bool(!0),shaded:G.Types.bool(!1),normals:G.Types.nullable(G.Types.select()),
map:G.Types.nullable(G.Types.select()),lineBias:G.Types.number(5)},strip:{line:G.Types.bool(!1)},face:{line:G.Types.bool(!1)},arrow:{size:G.Types.number(3),start:G.Types.bool(!1),end:G.Types.bool(!1)},ticks:{normal:G.Types.vec3(0,0,1),size:G.Types.positive(G.Types.number(10)),epsilon:G.Types.positive(G.Types.number(.001))},attach:{offset:G.Types.vec2(0,-20),snap:G.Types.bool(!1),depth:G.Types.number(0)},format:{digits:G.Types.nullable(G.Types.positive(G.Types.number(3))),data:G.Types.nullable(G.Types.data()),
expr:G.Types.nullable(G.Types.func()),live:G.Types.bool(!0)},font:{font:G.Types.font("sans-serif"),style:G.Types.string(),variant:G.Types.string(),weight:G.Types.string(),detail:G.Types.number(24),sdf:G.Types.number(5)},label:{text:G.Types.select(),size:G.Types.number(16),outline:G.Types.number(2),expand:G.Types.number(0),background:G.Types.color(1,1,1)},overlay:{opacity:G.Types.number(1),zIndex:G.Types.positive(G.Types.round(0))},dom:{points:G.Types.select(),html:G.Types.select(),size:G.Types.number(16),
outline:G.Types.number(2),zoom:G.Types.number(1),color:G.Types.nullable(G.Types.color()),attributes:G.Types.nullable(G.Types.object()),pointerEvents:G.Types.bool(!1)},texture:{minFilter:G.Types.filter("nearest"),magFilter:G.Types.filter("nearest"),type:G.Types.type("float")},shader:{sources:G.Types.nullable(G.Types.select()),indices:G.Types.number(4),channels:G.Types.number(4),language:G.Types.string("glsl"),code:G.Types.string(),uniforms:G.Types.nullable(G.Types.object())},include:{shader:G.Types.select()},
operator:{source:G.Types.select()},spread:{unit:G.Types.mapping(),items:G.Types.nullable(G.Types.vec4()),width:G.Types.nullable(G.Types.vec4()),height:G.Types.nullable(G.Types.vec4()),depth:G.Types.nullable(G.Types.vec4()),alignItems:G.Types.anchor(),alignWidth:G.Types.anchor(),alignHeight:G.Types.anchor(),alignDepth:G.Types.anchor()},grow:{scale:G.Types.number(1),items:G.Types.nullable(G.Types.anchor()),width:G.Types.nullable(G.Types.anchor()),height:G.Types.nullable(G.Types.anchor()),depth:G.Types.nullable(G.Types.anchor())},
split:{order:G.Types.transpose("wxyz"),axis:G.Types.nullable(G.Types.axis()),length:G.Types.int(1),overlap:G.Types.int(0)},join:{order:G.Types.transpose("wxyz"),axis:G.Types.nullable(G.Types.axis()),overlap:G.Types.int(0)},swizzle:{order:G.Types.swizzle()},transpose:{order:G.Types.transpose()},repeat:{items:G.Types.number(1),width:G.Types.number(1),height:G.Types.number(1),depth:G.Types.number(1)},slice:{items:G.Types.nullable(G.Types.vec2()),width:G.Types.nullable(G.Types.vec2()),height:G.Types.nullable(G.Types.vec2()),
depth:G.Types.nullable(G.Types.vec2())},reverse:{items:G.Types.bool(!1),width:G.Types.bool(!1),height:G.Types.bool(!1),depth:G.Types.bool(!1)},lerp:{size:G.Types.mapping("absolute"),items:G.Types.nullable(G.Types.number()),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),depth:G.Types.nullable(G.Types.number())},subdivide:{items:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),width:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(),
!0)),depth:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),bevel:G.Types.number(1),lerp:G.Types.bool(!0)},resample:{indices:G.Types.number(4),channels:G.Types.number(4),sample:G.Types.mapping(),size:G.Types.mapping("absolute"),items:G.Types.nullable(G.Types.number()),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),depth:G.Types.nullable(G.Types.number())},readback:{type:G.Types.type("float"),expr:G.Types.nullable(G.Types.func()),data:G.Types.data(),channels:G.Types.enum(4,
[1,2,3,4]),items:G.Types.nullable(G.Types.int()),width:G.Types.nullable(G.Types.int()),height:G.Types.nullable(G.Types.int()),depth:G.Types.nullable(G.Types.int())},root:{speed:G.Types.number(1),camera:G.Types.select("[camera]")},inherit:{source:G.Types.select(),traits:G.Types.array(G.Types.string())},rtt:{size:G.Types.mapping("absolute"),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),history:G.Types.int(1)},compose:{alpha:G.Types.bool(!1)},present:{index:G.Types.int(1),
directed:G.Types.bool(!0),length:G.Types.number(0)},slide:{order:G.Types.nullable(G.Types.int(0)),steps:G.Types.number(1),early:G.Types.int(0),late:G.Types.int(0),from:G.Types.nullable(G.Types.int(0)),to:G.Types.nullable(G.Types.int(1))},transition:{stagger:G.Types.vec4(),enter:G.Types.nullable(G.Types.number(1)),exit:G.Types.nullable(G.Types.number(1)),delay:G.Types.number(0),delayEnter:G.Types.nullable(G.Types.number(0)),delayExit:G.Types.nullable(G.Types.number(0)),duration:G.Types.number(.3),
durationEnter:G.Types.nullable(G.Types.number(0)),durationExit:G.Types.nullable(G.Types.number(0))},move:{from:G.Types.vec4(),to:G.Types.vec4()},seek:{seek:G.Types.nullable(G.Types.number(0))},track:{target:G.Types.select(),script:G.Types.object({}),ease:G.Types.ease("cosine")},trigger:{trigger:G.Types.nullable(G.Types.int(1),!0)},step:{playback:G.Types.ease("linear"),stops:G.Types.nullable(G.Types.array(G.Types.number())),delay:G.Types.number(0),duration:G.Types.number(.3),pace:G.Types.number(0),
speed:G.Types.number(1),rewind:G.Types.number(2),skip:G.Types.bool(!0),realtime:G.Types.bool(!1)},play:{delay:G.Types.number(0),pace:G.Types.number(1),speed:G.Types.number(1),from:G.Types.number(0),to:G.Types.number(Infinity),realtime:G.Types.bool(!1),loop:G.Types.bool(!1)},now:{now:G.Types.nullable(G.Types.timestamp()),seek:G.Types.nullable(G.Types.number(0)),pace:G.Types.number(1),speed:G.Types.number(1)}};p.Traits=G};
shadow$provide[319]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.make=p.log=p.linear=void 0;const w=function(m,d,c,g,h,l,k,t,x,A){let y,E;null==A&&(A=!0);c||(c=10);g||(g=1);h||(h=10);l||(l=1);const F=(d-m)/c;if(!A)return d=(()=>{let aa,Q;const O=[];y=0;Q=c;for(aa=0<=Q;aa?y<=Q:y>=Q;aa?y++:y--)O.push(m+y*F);return O})(),k||d.shift(),t||d.pop(),x||(d=d.filter(aa=>0!==aa)),d;g||(g=1);h||(h=10);const H=g*Math.pow(h,Math.floor(Math.log(F/g)/Math.log(h))),P=0===h%2?[h/2,1,.5]:0===
h%3?[h/3,1,1/3]:[1];g=(()=>{const aa=[];for(E of Array.from(P))aa.push(H*E);return aa})();let K=Infinity,T=g.reduce(function(aa,Q){E=Q/F;const O=Math.max(E,1/E);return O<K?(K=O,Q):aa},H);T*=l;m=Math.ceil(m/T+ +!k)*T;d=(Math.floor(d/T)-+!t)*T;c=Math.ceil((d-m)/T);d=(()=>{let aa,Q;const O=[];y=0;Q=c;for(aa=0<=Q;aa?y<=Q:y>=Q;aa?y++:y--)O.push(m+y*T);return O})();x||(d=d.filter(aa=>0!==aa));return d};p.linear=w;const r=function(m,d,c,g,h,l,k,t,x,A){throw Error("Log ticks not yet implemented.");};p.log=
r;p.make=function(m,d,c,g,h,l,k,t,x,A,y){switch(m){case 0:return w(d,c,g,h,l,k,t,x,A,y);case 1:return r(d,c,g,h,l,k,t,x,A,y)}}};
shadow$provide[320]=function(G,B,X,p){function w(l){if("function"!==typeof WeakMap)return null;var k=new WeakMap,t=new WeakMap;return(w=function(x){return x?t:k})(l)}function r(l,k){if(!k&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((k=w(k))&&k.has(l))return k.get(l);var t={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in l)if("default"!==A&&Object.prototype.hasOwnProperty.call(l,A)){var y=x?Object.getOwnPropertyDescriptor(l,
A):null;y&&(y.get||y.set)?Object.defineProperty(t,A,y):t[A]=l[A]}t.default=l;k&&k.set(l,t);return t}function m(l,k){return"undefined"!==typeof l&&null!==l?k(l):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Helpers=void 0;var d=r(B(199)),c=r(B(319)),g=B(101);const h={bind:{make(l){null==this.bind&&(this.bind={});null==this.bound&&(this.bound=[]);for(const t of Array.from(l)){({callback:l}=t);const {to:x,trait:A,optional:y,unique:E,multiple:F}=t;null==l&&(l=this.rebuild);const H=x.split(/\./g).pop(),
P=this._get(x);let K=null;if(null!=P){let T=this;for(var k=!1;!k;)T=K=this._attach(P,A,l,this,T,y,F),k=E&&(null==K||0>this.bound.indexOf(K)),k=F||y||!E||k}if(null!=K)if(null!=this.resize&&this._listen(K,"source.resize",this.resize),l&&this._listen(K,"source.rebuild",l),F)for(const T of Array.from(K))this.bound.push(T);else this.bound.push(K);this.bind[H]=K}return null},unmake(){if(this.bind)return delete this.bind,delete this.bound}},span:{make(){this.spanView=this._inherit("view");return this._listen("view",
"view.range",()=>this.trigger({type:"span.range"}))},unmake(){return delete this.spanView},get:function(){const l=new g.Vector2(-1,1);return function(k,t){let x;k=this._get(k+"span.range");return null!=k?k:null!=(x=null!=this.spanView?this.spanView.axis(t):void 0)?x:l}}()},scale:{divide(l){const k=this._get(l+"scale.divide");l=this._get(l+"scale.factor");return Math.round(2.5*k/l)},generate(l,k,t,x){const A=this._get(l+"scale.mode"),y=this._get(l+"scale.divide"),E=this._get(l+"scale.unit"),F=this._get(l+
"scale.base"),H=this._get(l+"scale.factor"),P=this._get(l+"scale.start"),K=this._get(l+"scale.end"),T=this._get(l+"scale.zero");l=this._get(l+"scale.nice");t=c.make(A,t,x,y,E,F,H,P,K,T,l);k.copy(t);return t}},style:{uniforms(){return{styleColor:this.node.attributes["style.color"],styleOpacity:this.node.attributes["style.opacity"],styleZBias:this.node.attributes["style.zBias"],styleZIndex:this.node.attributes["style.zIndex"]}}},arrow:{uniforms(){var {start:l}=this.props,{end:k}=this.props;const t=
this._attributes.make(this._types.number(1.25/(l+k)));l=this._attributes.make(this._types.vec2(+l,+k));k=this.node.attributes["arrow.size"];return{clipStyle:l,clipRange:k,clipSpace:t,arrowSpace:t,arrowSize:k}}},point:{uniforms(){return{pointSize:this.node.attributes["point.size"],pointDepth:this.node.attributes["point.depth"]}}},line:{uniforms(){return{lineWidth:this.node.attributes["line.width"],lineDepth:this.node.attributes["line.depth"],lineProximity:this.node.attributes["line.proximity"]}}},
surface:{uniforms(){return{}}},shade:{pipeline(l){if(!this._inherit("fragment"))return l;null==l&&(l=this._shaders.shader());for(let k=0;2>=k;k++)l=m(this._inherit("fragment"),t=>t.fragment(l,k));l.pipe("fragment.map.rgba");return l},normal(l){l.pipe(d.swizzleVec4("xyz"));return l},map(l){return l?this._shaders.shader().pipe("mesh.map.uvwo").pipe(l):l}},position:{pipeline(l){if(!this._inherit("vertex"))return l;null==l&&(l=this._shaders.shader());for(let k=0;3>=k;k++)l=m(this._inherit("vertex"),t=>
t.vertex(l,k));return l},swizzle(l,k){if(l)return this._shaders.shader().pipe(d.swizzleVec4(k)).pipe(l)},swizzle2(l,k,t){if(l)return this._shaders.shader().split().pipe(d.swizzleVec4(k)).next().pipe(d.swizzleVec4(t)).join().pipe(l)}},visible:{make(){const l={type:"visible.change"};let k=null;this.setVisible=function(A){null!=A&&(k=A);return t()};const t=()=>{let A;const y=this.isVisible;let E=null!=(A=null!=k?k:this._get("object.visible"))?A:!0;null!=x&&E&&(E=x.isVisible);this.isVisible=E;if(y!==
this.isVisible)return this.trigger(l)},x=this._inherit("visible");x&&this._listen(x,"visible.change",t);this.is("object")&&this._listen(this.node,"change:object",t);return t()},unmake(){return delete this.isVisible}},active:{make(){const l={type:"active.change"};let k=null;this.setActive=function(A){null!=A&&(k=A);return t()};const t=()=>{let A;const y=this.isActive;let E=null!=(A=null!=k?k:this._get("entity.active"))?A:!0;null!=x&&E&&(E=x.isActive);this.isActive=E;if(y!==this.isActive)return this.trigger(l)},
x=this._inherit("active");x&&this._listen(x,"active.change",t);this.is("entity")&&this._listen(this.node,"change:entity",t);return t()},unmake(){return delete this.isActive}},object:{make(l){let k,t;null==l&&(l=[]);this.objects=l;this.renders=this.objects.reduce((H,P)=>H.concat(P.renders),[]);l=this._inherit("scene");let x=k=t=null;const A=Array.from(this.traits).includes("style");x=1;k=g.NormalBlending;let y=!0,E=!0;A&&({opacity:x}=this.props,{blending:k}=this.props,{zOrder:t}=this.props,{zWrite:y}=
this.props,{zTest:E}=this.props);const F=()=>{const H=null!=t?-t:this.node.order;return(null!=this.isVisible?this.isVisible:1)&&0<x?A?(()=>{const P=[];for(const K of Array.from(this.objects))K.show(1>x,k,H),P.push(K.depth(y,E));return P})():(()=>{const P=[];for(const K of Array.from(this.objects))P.push(K.show(!0,k,H));return P})():(()=>{const P=[];for(const K of Array.from(this.objects))P.push(K.hide());return P})()};this._listen(this.node,"change:style",H=>{({changed:H}=H);let P=null;H["style.opacity"]&&
(P=x=this.props.opacity);H["style.blending"]&&(P=k=this.props.blending);H["style.zOrder"]&&(P=t=this.props.zOrder);H["style.zWrite"]&&(P=y=this.props.zWrite);H["style.zTest"]&&(P=E=this.props.zTest);if(null!=P)return F()});this._listen(this.node,"reindex",F);this._listen(this,"visible.change",F);for(const H of Array.from(this.objects))l.adopt(H);return F()},unmake(l){let k;null==l&&(l=!0);if(this.objects){var t=this._inherit("scene");for(k of Array.from(this.objects))t.unadopt(k);if(l)return(()=>
{const x=[];for(k of Array.from(this.objects))x.push(k.dispose());return x})()}},mask(){let l;if(l=this._inherit("mask"))return l.mask(void 0)}},unit:{make(){let l,k,t,x,A,y,E,F,H,P,K,T,aa=Math.PI;this.unitUniforms={renderScaleInv:F=this._attributes.make(this._types.number(1)),renderScale:E=this._attributes.make(this._types.number(1)),renderAspect:x=this._attributes.make(this._types.number(1)),renderWidth:H=this._attributes.make(this._types.number(0)),renderHeight:A=this._attributes.make(this._types.number(0)),
viewWidth:K=this._attributes.make(this._types.number(0)),viewHeight:P=this._attributes.make(this._types.number(0)),pixelRatio:k=this._attributes.make(this._types.number(1)),pixelUnit:t=this._attributes.make(this._types.number(1)),worldUnit:T=this._attributes.make(this._types.number(1)),focusDepth:l=this._attributes.make(this._types.number(1)),renderOdd:y=this._attributes.make(this._types.vec2())};const Q=new g.Vector3,O=new g.Vector3,da=()=>{var za;let Ea;if(null!=(Ea=null!=ea?ea.getSize():void 0)){aa=
Math.PI;var {scale:sa}=this.props,{fov:gb}=this.props,wa=null!=this.props.focus?this.props.focus:this.inherit("unit").props.focus,Ba=null===sa,Da=1;if(za=null!=ea?ea.getCamera():void 0)Da=za.projectionMatrix,Q.set(0,-.5,1).applyMatrix4(Da),O.set(0,.5,1).applyMatrix4(Da),Q.sub(O),Da=Q.y;za=Ea.renderHeight/Ea.viewHeight;gb=null!=gb?Da*Math.tan(gb*aa/360):1;sa=Ba?za:Ea.renderHeight/sa*gb;Ba=Ea.renderHeight*Da/2;K.value=Ea.viewWidth;P.value=Ea.viewHeight;H.value=Ea.renderWidth;A.value=Ea.renderHeight;
x.value=Ea.aspect;E.value=Ba;F.value=1/Ba;k.value=za;t.value=sa;T.value=sa/Ba;l.value=wa;return y.value.set(Ea.renderWidth%2,Ea.renderHeight%2).multiplyScalar(.5)}},ea=this.is("root")?this:this._inherit("root");this._listen(ea,"root.update",da);return da()},unmake(){return delete this.unitUniforms},get(){const l={};for(const k in this.unitUniforms)l[k]=this.unitUniforms[k].value;return l},uniforms(){return this.unitUniforms}}};p.Helpers=function(l,k){const t={};for(const x of Array.from(k))if(k=h[x]){t[x]=
{};for(const A in k)t[x][A]=k[A].bind(l)}return t}};
shadow$provide[321]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w={Types:!0};Object.defineProperty(p,"Types",{enumerable:!0,get:function(){return m.Types}});var r=B(315);Object.keys(r).forEach(function(g){"default"!==g&&"__esModule"!==g&&(Object.prototype.hasOwnProperty.call(w,g)||g in p&&p[g]===r[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return r[g]}}))});var m=B(317),d=B(318);Object.keys(d).forEach(function(g){"default"!==g&&"__esModule"!==g&&(Object.prototype.hasOwnProperty.call(w,
g)||g in p&&p[g]===d[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return d[g]}}))});var c=B(320);Object.keys(c).forEach(function(g){"default"!==g&&"__esModule"!==g&&(Object.prototype.hasOwnProperty.call(w,g)||g in p&&p[g]===c[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return c[g]}}))})};
shadow$provide[322]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.PrimitiveFactory=void 0;class w{constructor(r,m){this.context=m;this.classes=r.Classes;this.helpers=r.Helpers}getTypes(){return Object.keys(this.classes)}make(r,m,d=null){null==m&&(m={});const c=this.classes[r];if(null==c)throw Error(`Unknown primitive class \`${r}\``);r=new c.model(r,c.defaults,m,d,c,this.context.attributes);new c(r,this.context,this.helpers);return r}}p.PrimitiveFactory=w};
shadow$provide[323]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});var r={Types:!0,Factory:!0};Object.defineProperty(p,"Factory",{enumerable:!0,get:function(){return m.PrimitiveFactory}});p.Types=void 0;G=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);
var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(321));var m=B(322),d=B(188);Object.keys(d).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(r,c)||c in p&&p[c]===d[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return d[c]}}))});
p.Types=G};
shadow$provide[324]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Renderable=void 0;class w{constructor(r,m){this.renderer=r;this.shaders=m;this.gl=this.renderer.getContext();null==this.uniforms&&(this.uniforms={})}dispose(){this.uniforms=null}_adopt(r){for(const m in r)this.uniforms[m]=r[m]}_set(r){for(const m in r){const d=r[m];null!=this.uniforms[m]&&(this.uniforms[m].value=d)}}}p.Renderable=w};
shadow$provide[325]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Scene=void 0;var w=B(101);G=B(324);class r extends w.Object3D{constructor(){super();this.matrixAutoUpdate=this.frustumCulled=this.rotationAutoUpdate=!1}}class m extends G.Renderable{constructor(d,c,g){super(d,c,g);this.root=new r;null!=(null!=g?g.scene:void 0)&&(this.scene=g.scene);null==this.scene&&(this.scene=new w.Scene);this.pending=[];this.async=0;this.scratch=new w.WebGLRenderTarget(1,1);this.camera=new w.PerspectiveCamera}inject(d){null!=
d&&(this.scene=d);return this.scene.add(this.root)}unject(){return null!=this.scene?this.scene.remove(this.root):void 0}add(d){return this.async?this.pending.push(d):this._add(d)}remove(d){this.pending=this.pending.filter(c=>c!==d);if(null!=d.parent)return this._remove(d)}_add(d){return this.root.add(d)}_remove(d){return this.root.remove(d)}dispose(){if(null!=this.root.parent)return this.unject()}warmup(d){return this.async=+d||0}render(){if(this.pending.length){var {children:d}=this.root,c=[];for(let l=
0,k=this.async,t=0<=k;t?l<k:l>k;t?l++:l--){var g=this.pending.shift();if(!g)break;this._add(g);c.push(c)}var h=d.map(function(l){return l.visible});d.map(l=>l.visible=!Array.from(c).includes(l));g=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.scratch);this.renderer.render(this.scene,this.camera);this.renderer.setRenderTarget(g);return d.map((l,k)=>l.visible=h[k])}}toJSON(){return this.root.toJSON()}}p.Scene=m};
shadow$provide[326]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.RenderFactory=void 0;class w{constructor(r,m,d){this.classes=r;this.renderer=m;this.shaders=d}getTypes(){return Object.keys(this.classes)}make(r,m){return new this.classes[r](this.renderer,this.shaders,m)}}p.RenderFactory=w};
shadow$provide[327]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Buffer=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(324);class m extends G.Renderable{constructor(d,c,g){super(d,c);null==this.items&&(this.items=g.items||1);null==this.samples&&(this.samples=g.samples||1);null==this.channels&&(this.channels=g.channels||4);null==this.callback&&(this.callback=g.callback||function(){})}dispose(){return super.dispose()}update(){const d=this.fill();this.write(d);
return d}setActive(d,c,g,h){}setCallback(d){this.callback=d}write(){}fill(){}generate(d){return r.getStreamer(d,this.samples,this.channels,this.items)}}p.Buffer=m};
shadow$provide[328]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}function r(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,t)){var x=k?Object.getOwnPropertyDescriptor(g,
t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}Object.defineProperty(p,"__esModule",{value:!0});p.DataTexture=void 0;var m=r(B(101)),d=r(B(195));class c{constructor(g,h,l,k,t){this.renderer=g;this.width=h;this.height=l;this.channels=k;this.n=this.width*this.height*this.channels;this.gl=g=this.renderer.getContext();h=null!=(null!=t?t.magFilter:void 0)?null!=t?t.magFilter:void 0:m.NearestFilter;l=null!=(null!=t?t.type:void 0)?null!=t?t.type:void 0:
m.FloatType;this.minFilter=d.paramToGL(g,null!=(null!=t?t.minFilter:void 0)?null!=t?t.minFilter:void 0:m.NearestFilter);this.magFilter=d.paramToGL(g,h);this.type=d.paramToGL(g,l);this.ctor=d.paramToArrayStorage(l);this.build(t)}build(g){const {gl:h}=this,l=this.renderer.state;this.texture=h.createTexture();this.format=[null,h.LUMINANCE,h.LUMINANCE_ALPHA,h.RGB,h.RGBA][this.channels];this.format3=[null,m.LuminanceFormat,m.LuminanceAlphaFormat,m.RGBFormat,m.RGBAFormat][this.channels];l.bindTexture(h.TEXTURE_2D,
this.texture);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter);this.data=new this.ctor(this.n);h.pixelStorei(h.UNPACK_ALIGNMENT,1);h.texImage2D(h.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,this.data);this.textureObject=new m.Texture(new Image,m.UVMapping,m.ClampToEdgeWrapping,
m.ClampToEdgeWrapping,null!=g?g.minFilter:void 0,null!=g?g.magFilter:void 0);this.textureProperties=this.renderer.properties.get(this.textureObject);this.textureProperties.__webglInit=!0;this.textureProperties.__webglTexture=this.texture;this.textureObject.format=this.format3;this.textureObject.type=m.FloatType;this.textureObject.unpackAlignment=1;this.textureObject.flipY=!1;this.textureObject.generateMipmaps=!1;this.uniforms={dataResolution:{type:"v2",value:new m.Vector2(1/this.width,1/this.height)},
dataTexture:{type:"t",value:this.textureObject}}}write(g,h,l,k,t){const {gl:x}=this;this.renderer.state.bindTexture(x.TEXTURE_2D,this.texture);x.pixelStorei(x.UNPACK_ALIGNMENT,1);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,!1);x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);return x.texSubImage2D(x.TEXTURE_2D,0,h,l,k,t,this.format,this.type,g)}dispose(){this.gl.deleteTexture(this.texture);this.textureProperties.__webglInit=!1;return this.textureObject=this.texture=this.textureProperties=this.textureProperties.__webglTexture=
null}}p.DataTexture=c};
shadow$provide[329]=function(G,B,X,p){function w(l){if("function"!==typeof WeakMap)return null;var k=new WeakMap,t=new WeakMap;return(w=function(x){return x?t:k})(l)}function r(l,k){if(!k&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((k=w(k))&&k.has(l))return k.get(l);var t={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in l)if("default"!==A&&Object.prototype.hasOwnProperty.call(l,A)){var y=x?Object.getOwnPropertyDescriptor(l,
A):null;y&&(y.get||y.set)?Object.defineProperty(t,A,y):t[A]=l[A]}t.default=l;k&&k.set(l,t);return t}Object.defineProperty(p,"__esModule",{value:!0});p.DataBuffer=void 0;var m=r(B(198)),d=r(B(199));G=B(327);var c=B(328),g=B(101);class h extends G.Buffer{constructor(l,k,t,x){null==x&&(x=!0);const A=t.width||1,y=t.height||1,E=t.depth||1,F=A*y*E;t.samples||(t.samples=F);super(l,k,t);this.width=A;this.height=y;this.depth=E;null==this.samples&&(this.samples=F);x&&this.build(t)}shader(l,k){null==k&&(k=4);
1<this.items||1<this.depth?(4!==k&&l.pipe(d.extendVec(k,4)),l.pipe("map.xyzw.texture",this.uniforms)):2!==k&&l.pipe(d.truncateVec(k,2));l.pipe(`map.2d.data${this.wrap?".wrap":""}`,this.uniforms);l.pipe("sample.2d",this.uniforms);4>this.channels&&l.pipe(d.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return l}build(l){this.data=new Float32Array(this.samples*this.channels*this.items);this.texture=new c.DataTexture(this.renderer,this.items*this.width,this.height*this.depth,this.channels,
l);this.used=this.filled=0;this._adopt(this.texture.uniforms);this._adopt({dataPointer:{type:"v2",value:new g.Vector2},textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}});this.dataPointer=this.uniforms.dataPointer.value;this.streamer=this.generate(this.data)}dispose(){this.data=null;this.texture.dispose();return super.dispose()}getFilled(){return this.filled}setCallback(l){this.callback=l;return this.filled=0}copy(l){const k=Math.min(l.length,this.samples*this.channels*
this.items),t=this.data;for(let x=0,A=k,y=0<=A;y?x<A:x>A;y?x++:x--)t[x]=l[x];this.write(Math.ceil(k/this.channels/this.items))}write(l){null==l&&(l=this.samples);let k=l/this.width;l*=this.items;const t=1>k?l:this.items*this.width;k=Math.ceil(k);this.texture.write(this.data,0,0,t,k);this.dataPointer.set(.5,.5);this.filled=1;this.used=l}through(l,k){let t,x;const {consume:A,done:y}=x=this.streamer,{emit:E}=t=k.streamer;let F=0,H=()=>A((P,K,T,aa)=>l(E,P,K,T,aa,F));H=m.repeatCall(H,this.items);return()=>
{x.reset();t.reset();const P=this.used;for(F=0;!y()&&F<P;)H(),F++;return x.count()}}}p.DataBuffer=h};
shadow$provide[330]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.ArrayBuffer_=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(329);class m extends G.DataBuffer{constructor(d,c,g){const h=g.width||1,l=g.history||1;g.width=h;g.height=l;g.depth=1;super(d,c,g,!1);this.width=h;this.history=l;this.samples=h;this.wrap=1<l;this.build(g)}build(d){super.build();this.pad=this.index=0;return this.streamer=this.generate(this.data)}setActive(d){return this.pad=Math.max(0,this.width-
d)}fill(){const {callback:d}=this;"function"===typeof d.reset&&d.reset();const {emit:c,count:g,done:h,reset:l}=this.streamer;l();const k=this.samples-this.pad;let t=0;for(;!h()&&t<k&&!1!==d(c,t++);)!0;return Math.floor(g()/this.items)}write(d){null==d&&(d=this.samples);d*=this.items;this.texture.write(this.data,0,this.index,d,1);this.dataPointer.set(.5,this.index+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(d,c){let g,h;const {consume:l,
done:k}=h=this.streamer,{emit:t}=g=c.streamer;let x=0,A=()=>l((y,E,F,H)=>d(t,y,E,F,H,x));A=r.repeatCall(A,this.items);return()=>{h.reset();g.reset();const y=this.samples-this.pad;for(x=0;!k()&&x<y;)A(),x++;return h.count()}}}p.ArrayBuffer_=m};
shadow$provide[331]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Geometry=void 0;var w=B(101);class r extends w.BufferGeometry{constructor(){super();new w.BufferGeometry(this);null==this.uniforms&&(this.uniforms={});null==this.groups&&(this.groups=[])}_reduce(m,d){let c=!1;for(let g=0;g<m.length;g++){const h=m[g],l=d[g];c&&(m[g]=l);1<h&&(c=!0)}return m.reduce((g,h)=>g*h)}_emitter(m){m="index"==m?this.getIndex():this.getAttribute(m);const d=m.itemSize,{array:c}=m;let g=0;return[null,
function(h){c[g++]=h},function(h,l){c[g++]=h;c[g++]=l},function(h,l,k){c[g++]=h;c[g++]=l;c[g++]=k},function(h,l,k,t){c[g++]=h;c[g++]=l;c[g++]=k;c[g++]=t}][d]}_finalize(){}_offsets(m){this.groups=m}}p.Geometry=r};
shadow$provide[332]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.ClipGeometry=void 0;G=B(331);var w=B(101);class r extends G.Geometry{_clipUniforms(){this.geometryClip=new w.Vector4(1E10,1E10,1E10,1E10);this.geometryResolution=new w.Vector4;this.mapSize=new w.Vector4;null==this.uniforms&&(this.uniforms={});this.uniforms.geometryClip={type:"v4",value:this.geometryClip};this.uniforms.geometryResolution={type:"v4",value:this.geometryResolution};return this.uniforms.mapSize={type:"v4",
value:this.mapSize}}_clipGeometry(m,d,c,g){this.geometryClip.set(Math.max(0,m-1),Math.max(0,d-1),Math.max(0,c-1),Math.max(0,g-1));return this.geometryResolution.set(1/Math.max(1,m-1),1/Math.max(1,d-1),1/Math.max(1,c-1),1/Math.max(1,g-1))}_clipMap(m,d,c,g){return this.mapSize.set(m,d,c,g)}_clipOffsets(m,d,c,g,h,l,k,t,x){d=this._reduce([g,c,d,h],[t,k,l,x]);return this._offsets([{start:0,count:d*m,materialIndex:0}])}}p.ClipGeometry=r};
shadow$provide[333]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.ArrowGeometry=void 0;var w=B(101);G=B(332);class r extends G.ClipGeometry{constructor(m){var d,c,g;let h;var l;let k,t;var x;super(m);this._clipUniforms();this.sides=k=+m.sides||12;this.samples=l=+m.samples||2;this.strips=t=+m.strips||1;this.ribbons=h=+m.ribbons||1;this.layers=g=+m.layers||1;this.flip=d=null!=m.flip?m.flip:!1;this.closed=c=null!=m.closed?m.closed:!1;this.anchor=m=null!=m.anchor?m.anchor:d||c?
0:l-1;var A=t*h*g;var y=(k+2)*A;this.setIndex(new w.BufferAttribute(new Uint32Array(2*k*A*3),1));this.setAttribute("position4",new w.BufferAttribute(new Float32Array(4*y),4));this.setAttribute("arrow",new w.BufferAttribute(new Float32Array(3*y),3));this.setAttribute("attach",new w.BufferAttribute(new Float32Array(2*y),2));var E=this._emitter("index");const F=this._emitter("position4"),H=this._emitter("arrow"),P=this._emitter("attach"),K=[];y=0;for(x=0<=k;x?y<k:y>k;x?y++:y--){var T=y/k*2*Math.PI;K.push([Math.cos(T),
Math.sin(T),1])}x=0;for(let aa=0,Q=A,O=0<=Q;O?aa<Q:aa>Q;O?aa++:aa--){const da=x++,ea=da+k+1;y=0;T=k;for(A=0<=T;A?y<T:y>T;A?y++:y--){const za=x+y%k,Ea=x+(y+1)%k;E(da);E(za);E(Ea);E(Ea);E(za);E(ea)}x+=k+1}E=d?1:c?l-1:-1;d=d&&!c?l-1:0;for(let aa=0,Q=g,O=0<=Q;O?aa<Q:aa>Q;O?aa++:aa--)for(let da=0,ea=h,za=0<=ea;za?da<ea:da>ea;za?da++:da--)for(let Ea=0,sa=t,gb=0<=sa;gb?Ea<sa:Ea>sa;gb?Ea++:Ea--){F(m,Ea,da,aa);H(0,0,0);P(E,d);y=0;c=k;for(g=0<=c;g?y<c:y>c;g?y++:y--)F(m,Ea,da,aa),l=K[y],H(l[0],l[1],l[2]),P(E,
d);F(m,Ea,da,aa);H(0,0,1);P(E,d)}this._finalize();this.clip()}clip(m,d,c,g){null==m&&({samples:m}=this);null==d&&({strips:d}=this);null==c&&({ribbons:c}=this);null==g&&({layers:g}=this);this._clipGeometry(m,d,c,g);m=0<m?this.sides*this._reduce([g,c,d],[this.layers,this.ribbons,this.strips]):0;return this._offsets([{start:0,count:6*m,materialIndex:0}])}}p.ArrowGeometry=r};
shadow$provide[334]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});p.Base=void 0;var r=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(199)),m=B(101);G=B(324);class d extends G.Renderable{constructor(c,g,h){super(c,g,h);this.zUnits=null!=h.zUnits?h.zUnits:0}raw(){for(const c of Array.from(this.renders))this._raw(c);return null}depth(c,g){for(const h of Array.from(this.renders))this._depth(h,c,g);return null}polygonOffset(c,g){for(const h of Array.from(this.renders))this._polygonOffset(h,
c,g);return null}show(c,g,h){return Array.from(this.renders).map(l=>this._show(l,c,g,h))}hide(){for(const c of Array.from(this.renders))this._hide(c);return null}_injectPreamble(c,g){c=c+"\n"+g;return g.match(/#extension/)?this._hoist(c):c}_hoist(c){c=c.split("\n");const g=[];for(const h of Array.from(c))h.match(/^\s*#extension/)?g.unshift(h):g.push(h);return g.join("\n")}_material(c){var g=this.renderer.capabilities.precision;const h=`\
    precision ${g} float;
    precision ${g} int;
uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 cameraPosition;\
`;g=`\
    precision ${g} float;
    precision ${g} int;
uniform mat4 viewMatrix;
uniform vec3 cameraPosition;\
`;const l={};Object.assign(l,c);delete l.attributes;delete l.varyings;delete l.inspect;delete l.vertexGraph;delete l.fragmentGraph;const k=new m.RawShaderMaterial(l);["vertexGraph","fragmentGraph","inspect"].forEach(t=>k[t]=c[t]);k.vertexShader=this._injectPreamble(h,k.vertexShader);k.fragmentShader=this._injectPreamble(g,k.fragmentShader);return k}_raw(c){c.rotationAutoUpdate=!1;c.frustumCulled=!1;c.matrixAutoUpdate=!1;c.material.defaultAttributeValues=void 0}_depth(c,g,h){c=c.material;c.depthWrite=
g;return c.depthTest=h}_polygonOffset(c,g,h){h-=this.zUnits;const l=0!==h;c=c.material;if(c.polygonOffset=l)return c.polygonOffsetFactor=g,c.polygonOffsetUnits=h}_show(c,g,h,l){g=c.material;c.renderOrder=-l;c.visible=!0;g.transparent=!0;g.blending=h;return null}_hide(c){return c.visible=!1}_vertexColor(c,g){if(c||g){var h=this.shaders.shader();c&&(h.require(c),h.pipe("mesh.vertex.color",this.uniforms));g&&(h.require(g),h.pipe("mesh.vertex.mask",this.uniforms));return h}}_vertexPosition(c,g,h,l,k){let t;
const x=this.shaders.shader();if(h||g&&!0!==g){t={};if(0<l||k)t.POSITION_MAP="";0<l&&(t[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][l-1]]="");k&&(t.POSITION_STPQ="")}x.require(c);return x.pipe("mesh.vertex.position",this.uniforms,t)}_fragmentColor(c,g,h,l,k,t,x,A,y){const E=this.shaders.shader();let F=!1,H=!1;const P={};0<t&&(P[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][t-1]]="");x&&(P.POSITION_STPQ="");c&&(E.pipe("style.color",this.uniforms),F=!0,h||k||g)&&(y&&!h||
E.pipe("mesh.gamma.in"),H=!0);h&&(E.isolate(),E.pipe("mesh.fragment.color",this.uniforms),y&&!F||E.pipe("mesh.gamma.in"),E.end(),F&&E.pipe(r.binaryOperator("vec4","*")),y&&F&&E.pipe("mesh.gamma.out"),H=F=!0);k&&(!F&&A&&E.pipe(r.constant("vec4","vec4(1.0)")),E.isolate(),E.require(k),E.pipe("mesh.fragment.map",this.uniforms,P),y||E.pipe("mesh.gamma.in"),E.end(),A?E.pipe(A):F&&E.pipe(r.binaryOperator("vec4","*")),H=F=!0);g&&(F||E.pipe(r.constant("vec4","vec4(1.0)")),!0===g?E.pipe("mesh.fragment.shaded",
this.uniforms):(E.require(g),E.pipe("mesh.fragment.material",this.uniforms,P)),H=!0);H&&!y&&E.pipe("mesh.gamma.out");l&&(E.pipe("mesh.fragment.mask",this.uniforms),F&&E.pipe(r.binaryOperator("vec4","*")));return E}}p.Base=d};
shadow$provide[335]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Arrow=void 0;var w=B(101),r=B(333);G=B(334);class m extends G.Base{constructor(d,c,g){super(d,c,g);var {uniforms:h}=g;const {material:l,position:k,color:t,mask:x,map:A,combine:y,stpq:E,linear:F}=g;null==h&&(h={});d=null!=h.styleColor;this.geometry=new r.ArrowGeometry({sides:g.sides,samples:g.samples,strips:g.strips,ribbons:g.ribbons,layers:g.layers,anchor:g.anchor,flip:g.flip,closed:g.closed});this._adopt(h);
this._adopt(this.geometry.uniforms);g={};closed&&(g.ARROW_CLOSED="");c=c.material();h=c.vertex;h.pipe(this._vertexColor(t,x));h.require(this._vertexPosition(k,l,A,1,E));h.pipe("arrow.position",this.uniforms,g);h.pipe("project.position",this.uniforms);c.fragment=d=this._fragmentColor(d,l,t,x,A,1,E,y,F);d.pipe("fragment.color",this.uniforms);d=c.link({side:w.DoubleSide});this.material=this._material(d);c=new w.Mesh(this.geometry,this.material);c.frustumCulled=!1;c.matrixAutoUpdate=!1;c.userData=d;this._raw(c);
this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}p.Arrow=m};
shadow$provide[336]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.BackedTexture=void 0;G=B(328);class w extends G.DataTexture{constructor(r,m,d,c,g){super(r,m,d,c,g);this.data=new this.ctor(this.n)}resize(r,m){const d=this.data,c=this.width,g=this.height;this.width=r;this.height=m;this.n=r*m*this.channels;this.data=new this.ctor(this.n);const {gl:h}=this;this.renderer.state.bindTexture(h.TEXTURE_2D,this.texture);h.pixelStorei(h.UNPACK_ALIGNMENT,1);h.texImage2D(h.TEXTURE_2D,
0,this.format,r,m,0,this.format,this.type,this.data);this.uniforms.dataResolution.value.set(1/r,1/m);return this.write(d,0,0,c,g)}write(r,m,d,c,g){({width:t}=this);const h=this.data;var {channels:l}=this;let k=0;if(t===c&&0===m){var t=d*c*l;for(var x=c*g*l;k<x;)h[t++]=r[k++]}else{x=t*l;const A=c*l;l*=m;let y=d;const E=d+g;for(;y<E;){let F=0;for(t=l+y*x;F++<A;)h[t++]=r[k++];y++}}return super.write(r,m,d,c,g)}dispose(){this.data=null;return super.dispose()}}p.BackedTexture=w};
shadow$provide[337]=function(G,B,X,p){function w(k){if("function"!==typeof WeakMap)return null;var t=new WeakMap,x=new WeakMap;return(w=function(A){return A?x:t})(k)}function r(k,t){return"undefined"!==typeof k&&null!==k?t(k):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Atlas=void 0;var m=function(k,t){if(!t&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((t=w(t))&&t.has(k))return t.get(k);var x={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor,
y;for(y in k)if("default"!==y&&Object.prototype.hasOwnProperty.call(k,y)){var E=A?Object.getOwnPropertyDescriptor(k,y):null;E&&(E.get||E.set)?Object.defineProperty(x,y,E):x[y]=k[y]}x.default=k;t&&t.set(k,x);return x}(B(199)),d=B(336),c=B(328);G=B(324);var g=B(101);class h extends G.Renderable{constructor(k,t,x,A){null==A&&(A=!0);super(k,t);null==this.width&&(this.width=x.width||512);null==this.height&&(this.height=x.height||512);null==this.channels&&(this.channels=x.channels||4);null==this.backed&&
(this.backed=x.backed||!1);this.samples=this.width*this.height;A&&this.build(x)}shader(k){k.pipe("map.2d.data",this.uniforms);k.pipe("sample.2d",this.uniforms);4>this.channels&&k.pipe(m.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return k}build(k){let t;this.klass=t=this.backed?d.BackedTexture:c.DataTexture;this.texture=new t(this.renderer,this.width,this.height,this.channels,k);this.uniforms={dataPointer:{type:"v2",value:new g.Vector2(0,0)}};this._adopt(this.texture.uniforms);return this.reset()}reset(){this.rows=
[];return this.bottom=0}resize(k,t){if(!this.backed)throw Error("Cannot resize unbacked texture atlas");2048<k&&2048<t?console.warn(`Giant text atlas ${k}x${t}.`):console.info(`Resizing text atlas ${k}x${t}.`);this.texture.resize(k,t);this.width=k;this.height=t;return this.samples=k*t}collapse(k){let t;const {rows:x}=this;x.splice(x.indexOf(k),1);this.bottom=null!=(t=r(x[x.length-1],A=>A.bottom))?t:0;if(this.last===k)return this.last=null}allocate(k,t,x,A){const y=this.width,E=this.height,F=2*x;if(t>
y)return this.resize(2*y,2*E),this.last=null,this.allocate(k,t,x,A);let H=this.last;if(null!=H&&H.height>=x&&H.height<F&&H.width+t<=y)H.append(k,t,x,A);else{var P=0,K=-1,T=0;for(let aa=0;aa<this.rows.length;aa++)if(H=this.rows[aa],H.top-P>=x&&0>K&&(K=aa,T=P),{bottom:P}=H,H.height>=x&&H.height<F&&H.width+t<=y){H.append(k,t,x,A);this.last=H;return}if(0<=K)H=new l(T,x),this.rows.splice(K,0,H);else{T=P;P+=x;if(P>=E)return this.resize(2*y,2*E),this.last=null,this.allocate(k,t,x,A);H=new l(T,x);this.rows.push(H);
this.bottom=P}H.append(k,t,x,A);this.last=H}}read(){return this.texture.textureObject}write(k,t,x,A,y){return this.texture.write(k,t,x,A,y)}dispose(){this.texture.dispose();this.data=null;return super.dispose()}}p.Atlas=h;class l{constructor(k,t){this.top=k;this.bottom=k+t;this.width=0;this.height=t;this.alive=0;this.keys=[]}append(k,t,x,A){x=this.width;const y=this.top;this.alive++;this.width+=t;this.keys.push(k);return A(this,x,y)}}};
shadow$provide[338]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Debug=void 0;var w=B(101);G=B(334);class r extends G.Base{constructor(m,d,c){super(m,d,c);this.geometry=new w.PlaneGeometry(1,1);this.material=new w.MeshBasicMaterial({map:c.map});this.material.side=w.DoubleSide;m=new w.Mesh(this.geometry,this.material);m.position.x+=c.x||0;m.position.y+=c.y||0;m.frustumCulled=!1;m.scale.set(2,2,2);m.__debug=!0;this.objects=[m]}dispose(){this.geometry.dispose();this.material.dispose();
this.objects=this.geometry=this.material=null;return super.dispose()}}p.Debug=r};
shadow$provide[339]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.FaceGeometry=void 0;var w=B(101);G=B(332);class r extends G.ClipGeometry{constructor(m){let d,c,g,h;super(m);this._clipUniforms();this.items=c=+m.items||2;this.width=h=+m.width||1;this.height=d=+m.height||1;this.depth=m=+m.depth||1;this.sides=g=Math.max(0,c-2);const l=h*d*m;var k=c*l;this.setIndex(new w.BufferAttribute(new Uint32Array(g*l*3),1));this.setAttribute("position4",new w.BufferAttribute(new Float32Array(4*
k),4));k=this._emitter("index");const t=this._emitter("position4");let x=0;for(let A=0,y=l,E=0<=y;E?A<y:A>y;E?A++:A--){for(let F=0,H=g,P=0<=H;P?F<H:F>H;P?F++:F--)k(x),k(x+F+1),k(x+F+2);x+=c}for(let A=0,y=m,E=0<=y;E?A<y:A>y;E?A++:A--)for(let F=0,H=d,P=0<=H;P?F<H:F>H;P?F++:F--)for(let K=0,T=h,aa=0<=T;aa?K<T:K>T;aa?K++:K--)for(let Q=0,O=c,da=0<=O;da?Q<O:Q>O;da?Q++:Q--)t(K,F,A,Q);this._finalize();this.clip()}clip(m,d,c,g){null==m&&({width:m}=this);null==d&&({height:d}=this);null==c&&({depth:c}=this);
null==g&&({items:g}=this);const h=Math.max(0,g-2);this._clipGeometry(m,d,c,g);return this._clipOffsets(3,m,d,c,h,this.width,this.height,this.depth,this.sides)}}p.FaceGeometry=r};
shadow$provide[340]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Face=void 0;var w=B(101);G=B(334);var r=B(339);class m extends G.Base{constructor(d,c,g){super(d,c,g);let {uniforms:h,material:l}=g;const {position:k,color:t,mask:x,map:A,combine:y,stpq:E,linear:F}=g;null==h&&(h={});null==l&&(l=!0);d=null!=h.styleColor;this.geometry=new r.FaceGeometry({items:g.items,width:g.width,height:g.height,depth:g.depth});this._adopt(h);this._adopt(this.geometry.uniforms);c=c.material();
g=c.vertex;g.pipe(this._vertexColor(t,x));g.require(this._vertexPosition(k,l,A,2,E));l||g.pipe("face.position",this.uniforms);l&&g.pipe("face.position.normal",this.uniforms);g.pipe("project.position",this.uniforms);c.fragment=d=this._fragmentColor(d,l,t,x,A,2,E,y,F);d.pipe("fragment.color",this.uniforms);d=c.link({side:w.DoubleSide});this.material=this._material(d);c=new w.Mesh(this.geometry,this.material);c.userData=d;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}p.Face=m};
shadow$provide[341]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.LineGeometry=void 0;var w=B(101);G=B(332);class r extends G.ClipGeometry{constructor(m){var d,c,g,h;let l,k,t;var x;let A;super(m);this._clipUniforms();this.closed=d=m.closed||!1;this.samples=t=(+m.samples||2)+(d?1:0);this.strips=A=+m.strips||1;this.ribbons=k=+m.ribbons||1;this.layers=l=+m.layers||1;this.detail=c=+m.detail||1;var y=t-1;this.joints=h=c-1;this.vertices=m=(y-(d?0:1))*h+t;this.segments=x=(y-(d?0:
1))*h+y;m=m*A*k*l*2;this.setIndex(new w.BufferAttribute(new Uint32Array(x*A*k*l*6),1));this.setAttribute("position4",new w.BufferAttribute(new Float32Array(4*m),4));this.setAttribute("line",new w.BufferAttribute(new Float32Array(1*m),1));1<c&&this.setAttribute("joint",new w.BufferAttribute(new Float32Array(m),1));var E=this._emitter("index");m=this._emitter("position4");y=this._emitter("line");1<c&&(g=this._emitter("joint"));var F=0;for(let Q=0,O=k*l,da=0<=O;da?Q<O:Q>O;da?Q++:Q--)for(let ea=0,za=
A,Ea=0<=za;Ea?ea<za:ea>za;Ea?ea++:ea--){for(let sa=0,gb=x,wa=0<=gb;wa?sa<gb:sa>gb;wa?sa++:sa--)E(F),E(F+1),E(F+2),E(F+2),E(F+1),E(F+3),F+=2;F+=2}var H=d?()=>0:function(Q){return 0===Q?-1:Q===t-1?1:0};if(1<c){var P;d=0;for(P=0<=l;P?d<l:d>l;P?d++:d--){var K=void 0,T=void 0;F=0;T=k;for(K=0<=T;K?F<T:F>T;K?F++:F--){let Q,O;E=0;O=A;for(Q=0<=O;Q?E<O:E>O;Q?E++:E--){let da,ea,za;x=za=0;ea=t;for(da=0<=ea;da?za<ea:za>ea;da?za++:za--,x=za){var aa=H(x);if(0!==aa)m(x,E,F,d),m(x,E,F,d),y(1),y(-1),g(.5),g(.5);else for(let Ea=
0,sa=c,gb=0<=sa;gb?Ea<sa:Ea>sa;gb?Ea++:Ea--)m(x,E,F,d),m(x,E,F,d),y(1),y(-1),g(Ea/h),g(Ea/h)}}}}}else for(d=0,g=0<=l;g?d<l:d>l;g?d++:d--)for(F=0,h=k,c=0<=h;c?F<h:F>h;c?F++:F--)for(E=0,H=A,aa=0<=H;aa?E<H:E>H;aa?E++:E--)for(x=T=0,K=t,P=0<=K;P?T<K:T>K;P?T++:T--,x=T)m(x,E,F,d),m(x,E,F,d),y(1),y(-1);this._finalize();this.clip()}clip(m,d,c,g){null==m&&(m=this.samples-this.closed);null==d&&({strips:d}=this);null==c&&({ribbons:c}=this);null==g&&({layers:g}=this);const h=m+(m-(this.closed?0:2))*this.joints-
(this.closed?0:1);m+=this.closed;this._clipGeometry(m,d,c,g);return this._clipOffsets(6,h,d,c,g,this.segments,this.strips,this.ribbons,this.layers)}}p.LineGeometry=r};
shadow$provide[342]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Line=void 0;var w=B(101);G=B(334);var r=B(341);class m extends G.Base{constructor(d,c,g){var h;super(d,c,g);let {uniforms:l,stroke:k,join:t}=g;const {material:x,position:A,color:y,mask:E,map:F,combine:H,stpq:P,linear:K,clip:T,proximity:aa,closed:Q}=g;null==l&&(l={});k=[null,"dotted","dashed"][k];d=null!=l.styleColor;t=null!=(h=["miter","round","bevel"][t])?h:"miter";h={miter:1,round:4,bevel:2}[t];this.geometry=
new r.LineGeometry({samples:g.samples,strips:g.strips,ribbons:g.ribbons,layers:g.layers,anchor:g.anchor,closed:g.closed,detail:h});this._adopt(l);this._adopt(this.geometry.uniforms);c=c.material();g={};k&&(g.LINE_STROKE="");T&&(g.LINE_CLIP="");null!=aa&&(g.LINE_PROXIMITY="");g["LINE_JOIN_"+t.toUpperCase()]="";1<h&&(g.LINE_JOIN_DETAIL=h);Q&&(g.LINE_CLOSED="");h=c.vertex;h.pipe(this._vertexColor(y,E));h.require(this._vertexPosition(A,x,F,2,P));h.pipe("line.position",this.uniforms,g);h.pipe("project.position",
this.uniforms);g=c.fragment;k&&g.pipe(`fragment.clip.${k}`,this.uniforms);T&&g.pipe("fragment.clip.ends",this.uniforms);null!=aa&&g.pipe("fragment.clip.proximity",this.uniforms);g.pipe(this._fragmentColor(d,x,y,E,F,2,P,H,K));g.pipe("fragment.color",this.uniforms);d=c.link({side:w.DoubleSide});this.material=this._material(d);c=new w.Mesh(this.geometry,this.material);c.userData=d;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=
null;return super.dispose()}}p.Line=m};
shadow$provide[343]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.MatrixBuffer=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(329);class m extends G.DataBuffer{constructor(d,c,g){const h=g.width||1,l=g.height||1,k=g.history||1;g.depth=k;super(d,c,g,!1);this.width=h;this.height=l;this.history=k;this.samples=h*l;this.wrap=1<k;this.build(g)}build(d){super.build();this.index=0;this.pad={x:0,y:0};return this.streamer=this.generate(this.data)}getFilled(){return this.filled}setActive(d,
c){let g;return[this.pad.x,this.pad.y]=Array.from(g=[Math.max(0,this.width-d),Math.max(0,this.height-c)]),g}fill(){let d,c,g;const {callback:h}=this;"function"===typeof h.reset&&h.reset();const {emit:l,skip:k,count:t,done:x,reset:A}=this.streamer;A();const y=this.width,E=this.pad.x,F=this.samples-this.pad.y*y;let H=d=c=0;if(E)for(;!x()&&c<F&&(c++,g=h(l,H,d),++H===y-E&&(k(E),c+=E,H=0,d++),!1!==g););else for(;!x()&&c<F&&(c++,g=h(l,H,d),++H===y&&(H=0,d++),!1!==g););return Math.floor(t()/this.items)}write(d){null==
d&&(d=this.samples);d*=this.items;const c=this.width*this.items;this.texture.write(this.data,0,this.index*this.height,c,Math.ceil(d/c));this.dataPointer.set(.5,this.index*this.height+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(d,c){let g,h,l;const {consume:k,skip:t,done:x}=l=this.streamer,{emit:A}=g=c.streamer;let y=h=0,E=()=>k((F,H,P,K)=>d(A,F,H,P,K,y,h));E=r.repeatCall(E,this.items);return()=>{let F;l.reset();g.reset();
const H=this.width,P=this.pad.x,K=this.samples-this.pad.y*H;y=h=F=0;if(P)for(;!x()&&F<K;)F++,E(),++y===H-P&&(t(P),y=0,h++);else for(;!x()&&F<K;)F++,E(),++y===H&&(y=0,h++);return l.count()}}}p.MatrixBuffer=m};
shadow$provide[344]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.RenderTarget=void 0;var w=B(101);class r{constructor(m,d,c,g,h){this.gl=m;null==h&&(h={});null==h.minFilter&&(h.minFilter=w.NearestFilter);null==h.magFilter&&(h.magFilter=w.NearestFilter);null==h.format&&(h.format=w.RGBAFormat);null==h.type&&(h.type=w.UnsignedByteType);this.options=h;this.width=d||1;this.height=c||1;this.frames=g||1;this.buffers=this.frames+1;this.build()}build(){let m;const d=()=>new w.WebGLRenderTarget(this.width,
this.height,this.options);this.targets=(()=>{let g,h;const l=[];m=0;h=this.buffers;for(g=0<=h;g?m<h:m>h;g?m++:m--)l.push(d());return l})();const c=[];this.targets.forEach(g=>c.push(g.texture));this.reads=c;this.write=this.targets[this.buffers-1];this.uniforms={dataResolution:{type:"v2",value:new w.Vector2(1/this.width,1/this.height)},dataTexture:{type:"t",value:this.reads[0]},dataTextures:{type:"tv",value:this.reads}}}cycle(){this.targets.unshift(this.targets.pop());this.write=this.targets[this.buffers-
1];this.reads.unshift(this.reads.pop());this.uniforms.dataTexture.value=this.reads[0]}warmup(m){return(()=>{const d=[];for(let c=0,g=this.buffers,h=0<=g;h?c<g:c>g;h?c++:c--)m(this.write),d.push(this.cycle());return d})()}dispose(){for(const m of Array.from(this.targets))m.dispose();return this.targets=this.reads=this.write=null}}p.RenderTarget=r};
shadow$provide[345]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}Object.defineProperty(p,"__esModule",{value:!0});p.RenderToTexture=void 0;var r=function(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&
Object.prototype.hasOwnProperty.call(g,t)){var x=k?Object.getOwnPropertyDescriptor(g,t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}(B(199)),m=B(101),d=B(344);G=B(324);class c extends G.Renderable{constructor(g,h,l){super(g,h);this.scene=null!=l.scene?l.scene:new m.Scene;this.camera=l.camera;this.build(l)}shaderRelative(g){null==g&&(g=this.shaders.shader());return g.pipe("sample.2d",this.uniforms)}shaderAbsolute(g,h,l){null==h&&(h=1);null==l&&(l=
4);null==g&&(g=this.shaders.shader());if(1>=h)return 2<l&&g.pipe(r.truncateVec(l,2)),g.pipe("map.2d.data",this.uniforms),g.pipe("sample.2d",this.uniforms);h=r.sample2DArray(Math.min(h,this.target.frames));4>l&&g.pipe(r.extendVec(l,4));g.pipe("map.xyzw.2dv");g.split();g.pipe("map.2d.data",this.uniforms);g.pass();return g.pipe(h,this.uniforms)}build(g){this.camera||(this.camera=new m.PerspectiveCamera,this.camera.position.set(0,0,3),this.camera.lookAt(new m.Vector3));"function"===typeof this.scene.inject&&
this.scene.inject();this.target=new d.RenderTarget(this.gl,g.width,g.height,g.frames,g);this.target.warmup(h=>this.renderer.setRenderTarget(h));this.renderer.setRenderTarget(null);this._adopt(this.target.uniforms);this._adopt({dataPointer:{type:"v2",value:new m.Vector2(.5,.5)}});return this.filled=0}adopt(g){return Array.from(g.renders).map(h=>this.scene.add(h))}unadopt(g){return Array.from(g.renders).map(h=>this.scene.remove(h))}render(g){null==g&&({camera:g}=this);const h=this.renderer.getRenderTarget();
this.renderer.setRenderTarget(this.target.write);this.renderer.render(null!=this.scene.scene?this.scene.scene:this.scene,g);this.renderer.setRenderTarget(h);this.target.cycle();if(this.filled<this.target.frames)return this.filled++}read(g){null==g&&(g=0);return this.target.reads[Math.abs(g)]}getFrames(){return this.target.frames}getFilled(){return this.filled}dispose(){"function"===typeof this.scene.unject&&this.scene.unject();this.scene=this.camera=null;this.target.dispose();return super.dispose()}}
p.RenderToTexture=c};
shadow$provide[346]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Memo=void 0;var w=B(101);G=B(345);class r extends G.RenderToTexture{constructor(m,d,c){let g,h;const l=c.items||1,k=c.channels||4,t=c.width||1,x=c.height||1,A=c.depth||1;c.format=w.RGBAFormat;c.width=h=l*t;c.height=g=x*A;c.frames=1;delete c.items;delete c.depth;delete c.channels;super(m,d,c);null==this.items&&(this.items=l);null==this.channels&&(this.channels=k);null==this.width&&(this.width=t);this._width=h;
null==this.height&&(this.height=x);this._height=g;null==this.depth&&(this.depth=A);this._adopt({textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}})}shaderAbsolute(m){null==m&&(m=this.shaders.shader());m.pipe("map.xyzw.texture",this.uniforms);return super.shaderAbsolute(m,1,2)}}p.Memo=r};
shadow$provide[347]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.SurfaceGeometry=void 0;var w=B(101);G=B(332);class r extends G.ClipGeometry{constructor(m,d){null==d&&(d=!0);super();d&&this.construct(m)}construct(m){var d,c;let g,h,l;this._clipUniforms();this.closedX=d=m.closedX||!1;this.closedY=c=m.closedY||!1;this.width=d=(+m.width||2)+(d?1:0);this.height=c=(+m.height||2)+(c?1:0);this.surfaces=l=+m.surfaces||1;this.layers=m=+m.layers||1;this.segmentsX=g=Math.max(0,d-1);this.segmentsY=
h=Math.max(0,c-1);var k=d*c*l*m;this.setIndex(new w.BufferAttribute(new Uint32Array(g*h*l*m*6),1));this.setAttribute("position4",new w.BufferAttribute(new Float32Array(4*k),4));this.setAttribute("surface",new w.BufferAttribute(new Float32Array(2*k),2));k=this._emitter("index");const t=this._emitter("position4");let x=0;for(let A=0,y=l*m,E=0<=y;E?A<y:A>y;E?A++:A--){for(let F=0,H=h,P=0<=H;P?F<H:F>H;P?F++:F--){for(let K=0,T=g,aa=0<=T;aa?K<T:K>T;aa?K++:K--)k(x),k(x+1),k(x+d),k(x+d),k(x+1),k(x+d+1),x++;
x++}x+=d}for(let A=0,y=m,E=0<=y;E?A<y:A>y;E?A++:A--)for(let F=0,H=l,P=0<=H;P?F<H:F>H;P?F++:F--)for(let K=0,T=K,aa=c,Q=0<=aa;Q?K<aa:K>aa;Q?K++:K--,T=K)for(let O=0,da=O,ea=d,za=0<=ea;za?O<ea:O>ea;za?O++:O--,da=O)t(da,T,F,A);this._finalize();this.clip()}clip(m,d,c,g){null==m&&(m=this.width-this.closedX);null==d&&(d=this.height-this.closedY);null==c&&({surfaces:c}=this);null==g&&({layers:g}=this);m+=this.closedX;d+=this.closedY;const h=Math.max(0,m-1),l=Math.max(0,d-1);this._clipGeometry(m,d,c,g);return this._clipOffsets(6,
h,l,c,g,this.segmentsX,this.segmentsY,this.surfaces,this.layers)}map(m,d,c,g){null==m&&({width:m}=this);null==d&&({height:d}=this);null==c&&({surfaces:c}=this);null==g&&({layers:g}=this);return this._clipMap(m,d,c,g)}}p.SurfaceGeometry=r};
shadow$provide[348]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.ScreenGeometry=void 0;G=B(347);var w=B(101);class r extends G.SurfaceGeometry{constructor(m){m.width=Math.max(2,+m.width);m.height=Math.max(2,+m.height);super(m,!1);null==this.uniforms&&(this.uniforms={});this.uniforms.geometryScale={type:"v4",value:new w.Vector4};this.cover();this.construct(m)}cover(m,d,c,g){null==m&&(m=1);this.scaleX=m;null==d&&(d=1);this.scaleY=d;null==c&&(c=1);this.scaleZ=c;null==g&&(g=1);
this.scaleW=g}clip(m,d,c,g){null==m&&({width:m}=this);null==d&&({height:d}=this);null==c&&({surfaces:c}=this);null==g&&({layers:g}=this);super.clip(m,d,c,g);return this.uniforms.geometryScale.value.set(1/Math.max(1,m-1)*this.scaleX,1/Math.max(1,d-1)*this.scaleY,1/Math.max(1,c-1)*this.scaleZ,1/Math.max(1,g-1)*this.scaleW)}}p.ScreenGeometry=r};
shadow$provide[349]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Screen=void 0;var w=B(101);G=B(334);var r=B(348);class m extends G.Base{constructor(d,c,g){super(d,c,g);let {uniforms:h}=g;const {map:l,combine:k,stpq:t,linear:x}=g;null==h&&(h={});d=null!=h.styleColor;this.geometry=new r.ScreenGeometry({width:g.width,height:g.height});this._adopt(h);this._adopt(this.geometry.uniforms);c=c.material();g=c.vertex;g.pipe("raw.position.scale",this.uniforms);g.fan();g.pipe("stpq.xyzw.2d",
this.uniforms);g.next();g.pipe("screen.position",this.uniforms);g.join();c.fragment=d=this._fragmentColor(d,!1,null,null,l,2,t,k,x);d.pipe("fragment.color",this.uniforms);d=c.link({side:w.DoubleSide});this.material=this._material(d);c=new w.Mesh(this.geometry,this.material);c.frustumCulled=!1;c.userData=d;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}p.Screen=m};
shadow$provide[350]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.MemoScreen=void 0;var w=B(101);G=B(349);class r extends G.Screen{constructor(m,d,c){const {items:g,width:h,height:l,depth:k,stpq:t}=c,x={remapUVScale:{type:"v2",value:new w.Vector2(g*h,l*k)},remapModulus:{type:"v2",value:new w.Vector2(g,l)},remapModulusInv:{type:"v2",value:new w.Vector2(1/Math.max(1,g),1/Math.max(1,l))},remapSTPQScale:{type:"v4",value:new w.Vector4(1/Math.max(1,h-1),1/Math.max(1,l-1),1/Math.max(1,
k-1),1/Math.max(1,g-1))}},A=d.shader();A.pipe("screen.map.xyzw",x);null!=c.map&&(t&&A.pipe("screen.map.stpq",x),A.pipe(c.map));super(m,d,{map:A,linear:!0});this.memo=c;this.uniforms=x;for(const y of Array.from(this.renders))y.transparent=!1}cover(m,d,c,g){null==m&&({width:m}=this.memo);null==d&&({height:d}=this.memo);null==c&&({depth:c}=this.memo);null==g&&({items:g}=this.memo);this.uniforms.remapSTPQScale.value.set(1/Math.max(1,m-1),1/Math.max(1,d-1),1/Math.max(1,c-1),1/Math.max(1,g-1));m/=this.memo.width;
c/=this.memo.depth;1===this.memo.depth&&(c=d/this.memo.height);return this.geometry.cover(m,c)}}p.MemoScreen=r};
shadow$provide[351]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.SpriteGeometry=void 0;var w=B(101);G=B(332);class r extends G.ClipGeometry{constructor(m){let d,c,g;super(m);this._clipUniforms();this.items=c=+m.items||2;this.width=g=+m.width||1;this.height=d=+m.height||1;this.depth=m=+m.depth||1;const h=c*g*d*m;var l=4*h;this.setIndex(new w.BufferAttribute(new Uint32Array(6*h),1));this.setAttribute("position4",new w.BufferAttribute(new Float32Array(4*l),4));this.setAttribute("sprite",
new w.BufferAttribute(new Float32Array(2*l),2));l=this._emitter("index");const k=this._emitter("position4"),t=this._emitter("sprite"),x=[[-1,-1],[-1,1],[1,-1],[1,1]];let A=0;for(let y=0,E=h,F=0<=E;F?y<E:y>E;F?y++:y--)l(A),l(A+1),l(A+2),l(A+1),l(A+2),l(A+3),A+=4;for(let y=0,E=m,F=0<=E;F?y<E:y>E;F?y++:y--)for(let H=0,P=d,K=0<=P;K?H<P:H>P;K?H++:H--)for(let T=0,aa=g,Q=0<=aa;Q?T<aa:T>aa;Q?T++:T--)for(let O=0,da=c,ea=0<=da;ea?O<da:O>da;ea?O++:O--)for(const za of Array.from(x))k(T,H,y,O),t(za[0],za[1]);
this._finalize();this.clip()}clip(m,d,c,g){null==m&&({width:m}=this);null==d&&({height:d}=this);null==c&&({depth:c}=this);null==g&&({items:g}=this);this._clipGeometry(m,d,c,g);return this._clipOffsets(6,m,d,c,g,this.width,this.height,this.depth,this.items)}}p.SpriteGeometry=r};
shadow$provide[352]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Point=void 0;var w=B(101);G=B(334);var r=B(351);class m extends G.Base{constructor(d,c,g){var h;super(d,c,g);let {uniforms:l,shape:k,fill:t}=g;const {material:x,position:A,color:y,size:E,mask:F,map:H,combine:P,linear:K,optical:T,stpq:aa}=g;null==l&&(l={});k=+k;null==t&&(t=!0);var Q=null!=l.styleColor;d="circle square diamond up down left right".split(" ");var O="circle generic generic generic generic generic generic".split(" ");
var da=[1.2,1,1.414,1.16,1.16,1.16,1.16];O=null!=O[k]?O[k]:O[0];d=null!=d[k]?d[k]:d[0];da=null!=(h=T&&da[k])?h:1;h=t?O:`${O}.hollow`;this.geometry=new r.SpriteGeometry({items:g.items,width:g.width,height:g.height,depth:g.depth});this._adopt(l);this._adopt(this.geometry.uniforms);O={POINT_SHAPE_SCALE:+(da+1E-5)};g=c.material();da=g.vertex;da.pipe(this._vertexColor(y,F));E?(da.isolate(),da.require(E),da.require("point.size.varying",this.uniforms),da.end()):da.require("point.size.uniform",this.uniforms);
da.require(this._vertexPosition(A,x,H,2,aa));da.pipe("point.position",this.uniforms,O);da.pipe("project.position",this.uniforms);g.fragment=this._fragmentColor(Q,x,y,F,H,2,aa,P,K);Q=c.material();Q.vertex.pipe(da);O=Q.fragment.pipe(g.fragment);O.require(`point.mask.${d}`,this.uniforms);O.require(`point.alpha.${h}`,this.uniforms);O.pipe("point.edge",this.uniforms);c=c.material();c.vertex.pipe(da);O=c.fragment.pipe(g.fragment);O.require(`point.mask.${d}`,this.uniforms);O.require(`point.alpha.${h}`,this.uniforms);
O.pipe("point.fill",this.uniforms);c=c.link({side:w.DoubleSide});this.fillMaterial=this._material(c);d=Q.link({side:w.DoubleSide});this.edgeMaterial=this._material(d);this.fillObject=new w.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new w.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=c;this._raw(this.edgeObject);this.edgeObject.userData=d;this.renders=[this.fillObject,this.edgeObject]}show(d,c,g,h){this._show(this.edgeObject,!0,c,g,h);return this._show(this.fillObject,
d,c,g,h)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();this.renders=this.edgeObject=this.fillObject=this.geometry=this.edgeMaterial=this.fillMaterial=null;return super.dispose()}}p.Point=m};
shadow$provide[353]=function(G,B,X,p){function w(m,d,c){const g=[],h=m<d;for(d=c?h?d+1:d-1:d;h?m<d:m>d;h?m++:m--)g.push(m);return g}Object.defineProperty(p,"__esModule",{value:!0});p.PushBuffer=void 0;G=B(327);class r extends G.Buffer{constructor(m,d,c){const g=c.width||1,h=c.height||1,l=c.depth||1,k=g*h*l;c.samples||(c.samples=k);super(m,d,c);this.width=g;this.height=h;this.depth=l;null==this.samples&&(this.samples=k);this.build(c)}build(m){this.data=[];this.data.length=this.samples;this.filled=
0;this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}dispose(){this.data=null;return super.dispose()}getFilled(){return this.filled}setActive(m,d,c){let g;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(g=[this.width-m,this.height-d,this.depth-c]),g}read(){return this.data}copy(m){const d=this.data;return w(0,Math.min(m.length,this.samples),!1).map(c=>d[c]=m[c])}fill(){let m,d,c,g;const {callback:h}=this;"function"===typeof h.reset&&h.reset();const {emit:l,skip:k,count:t,done:x,
reset:A}=this.streamer;A();const y=this.width,E=this.height,F=this.pad.x,H=this.pad.y,P=this.samples-this.pad.z*y*E;let K=m=d=c=0;if(0<F||0<H)for(;!x()&&c<P&&(c++,g=h(l,K,m,d),++K===y-F&&(k(F),K=0,++m===E-H&&(k(y*H),m=0,d++)),!1!==g););else for(;!x()&&c<P&&(c++,g=h(l,K,m,d),++K===y&&(K=0,++m===E&&(m=0,d++)),!1!==g););this.filled=1;return t()}}p.PushBuffer=r};
shadow$provide[354]=function(G,B,X,p){function w(k){if("function"!==typeof WeakMap)return null;var t=new WeakMap,x=new WeakMap;return(w=function(A){return A?x:t})(k)}function r(k,t){if(!t&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((t=w(t))&&t.has(k))return t.get(k);var x={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in k)if("default"!==y&&Object.prototype.hasOwnProperty.call(k,y)){var E=A?Object.getOwnPropertyDescriptor(k,
y):null;E&&(E.get||E.set)?Object.defineProperty(x,y,E):x[y]=k[y]}x.default=k;t&&t.set(k,x);return x}Object.defineProperty(p,"__esModule",{value:!0});p.Readback=void 0;var m=r(B(198)),d=r(B(199)),c=B(101),g=B(346),h=B(350);G=B(324);class l extends G.Renderable{constructor(k,t,x){super(k,t);null==this.items&&(this.items=x.items||1);null==this.channels&&(this.channels=x.channels||4);null==this.width&&(this.width=x.width||1);null==this.height&&(this.height=x.height||1);null==this.depth&&(this.depth=x.depth||
1);null==this.type&&(this.type=x.type||c.FloatType);null==this.stpq&&(this.stpq=x.stpq||!1);this.isFloat=this.type===c.FloatType;this.active=this.sampled=this.rect=this.pad=null;this.build(x)}build(k){let t;({map:P}=k);({indexer:K}=k);k=null!=K&&!K.empty();let {stpq:x}=this;const {items:A,width:y,height:E,depth:F}=this;let H=P;k&&(this._adopt({indexModulus:{type:"v4",value:new c.Vector4(A,A*y,A*y*E,1)}}),H=this.shaders.shader(),H.require(P),H.require(K),H.pipe("float.index.pack",this.uniforms));this.isFloat&&
1<this.channels&&(this.floatMemo=new g.Memo(this.renderer,this.shaders,{items:A,channels:4,width:y,height:E,depth:F,history:0,type:c.FloatType}),this.floatCompose=new h.MemoScreen(this.renderer,this.shaders,{map:H,items:A,width:y,height:E,depth:F,stpq:x}),this.floatMemo.adopt(this.floatCompose),x=!1,H=this.shaders.shader(),this.floatMemo.shaderAbsolute(H));if(this.isFloat){t=this.channels;var P=4}else t=1,P=this.channels;if(1<t){var K=this.shaders.shader();K.pipe(d.mapByte2FloatOffset(t));K.require(H);
K.pipe("float.stretch");K.pipe("float.encode");H=K}else this.isFloat&&(K=this.shaders.shader(),K.pipe(H),K.pipe(d.truncateVec(4,1)),K.pipe("float.encode"),H=K);this.byteMemo=new g.Memo(this.renderer,this.shaders,{items:A*t,channels:P,width:y,height:E,depth:F,history:0,type:c.UnsignedByteType});this.byteCompose=new h.MemoScreen(this.renderer,this.shaders,{map:H,items:A*t,width:y,height:E,depth:F,stpq:x});this.byteMemo.adopt(this.byteCompose);this.samples=this.width*this.height*this.depth;this.bytes=
new Uint8Array(A*y*t*E*F*4);this.isFloat&&(this.floats=new Float32Array(this.bytes.buffer));this.data=this.isFloat?this.floats:this.bytes;this.streamer=this.generate(this.data);this.active={items:0,width:0,height:0,depth:0};this.sampled={items:0,width:0,height:0,depth:0};this.rect={w:0,h:0};this.pad={x:0,y:0,z:0,w:0};this.stretch=t;this.isIndexed=k;return this.setActive(A,y,E,F)}generate(k){return m.getStreamer(k,this.samples,4,this.items)}setActive(k,t,x,A){let y;if(k!==this.active.items||t!==this.active.width||
x!==this.active.height||A!==this.active.depth){[this.active.items,this.active.width,this.active.height,this.active.depth]=Array.from([k,t,x,A]);null!=this.floatCompose&&this.floatCompose.cover(t,x,A);null!=this.byteCompose&&this.byteCompose.cover(t*this.stretch,x,A);({items:k}=this);({width:t}=this.active);x=1===this.depth?this.active.height:this.height;({depth:A}=this.active);var E=k*t*this.stretch,F=x*A;[this.sampled.items,this.sampled.width,this.sampled.height,this.sampled.depth]=Array.from([k,
t,x,A]);[this.rect.w,this.rect.h]=Array.from([E,F]);return[this.pad.x,this.pad.y,this.pad.z,this.pad.w]=Array.from(y=[this.sampled.width-this.active.width,this.sampled.height-this.active.height,this.sampled.depth-this.active.depth,this.sampled.items-this.active.items]),y}}update(k){null!=this.floatMemo&&this.floatMemo.render(k);return null!=this.byteMemo?this.byteMemo.render(k):void 0}post(){const k=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.byteMemo.target.targets[0]);this.gl.readPixels(0,
0,this.rect.w,this.rect.h,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.bytes);this.renderer.setRenderTarget(k)}readFloat(k){return null!=this.floatMemo?this.floatMemo.read(k):void 0}readByte(k){return null!=this.byteMemo?this.byteMemo.read(k):void 0}setCallback(k){this.emitter=this.callback(k)}callback(k){if(!this.isIndexed)return k;const t=this.width,x=this.height,A=this.items,y=function(E,F,H,P){let K=P;const T=K%A;K=(K-T)/A;const aa=K%t;K=(K-aa)/t;const Q=K%x;K=(K-Q)/x;return k(E,F,H,P,aa,Q,K,T)};y.reset=
()=>"function"===typeof k.reset?k.reset():void 0;return y}iterate(){let k,t,x,A=this.emitter;"function"===typeof A.reset&&A.reset();const {consume:y,skip:E,count:F,done:H,reset:P}=this.streamer;P();const K=this.sampled.width|0;let T=this.sampled.height|0;const aa=this.sampled.items|0,Q=this.pad.x|0,O=this.pad.y|0,da=this.pad.w|0,ea=K*T*aa*((this.sampled.depth|0)-(this.pad.z|0));if(!this.isIndexed){const Ea=A;A=(sa,gb,wa,Ba)=>Ea(sa,gb,wa,Ba,za,k,t,x)}let za=k=t=x=T=0;for(;!H()&&T<ea;){T++;const Ea=
y(A);++x===aa-da&&(E(Q),x=0,++za===K-Q&&(E(aa*Q),za=0,++k===T-O&&(E(aa*K*O),k=0,t++)));if(!1===Ea)break}return Math.floor(F()/aa)}dispose(){null!=this.floatMemo&&this.floatMemo.unadopt(this.floatCompose);null!=this.floatMemo&&this.floatMemo.dispose();null!=this.floatCompose&&this.floatCompose.dispose();null!=this.byteMemo&&this.byteMemo.unadopt(this.byteCompose);null!=this.byteMemo&&this.byteMemo.dispose();null!=this.byteCompose&&this.byteCompose.dispose();return this.floatMemo=this.byteMemo=this.floatCompose=
this.byteCompose=null}}p.Readback=l};
shadow$provide[355]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Sprite=void 0;var w=B(101);G=B(334);var r=B(351);class m extends G.Base{constructor(d,c,g){var h;super(d,c,g);({uniforms:h}=g);const {material:l,position:k,sprite:t,map:x,combine:A,linear:y,color:E,mask:F,stpq:H}=g;null==h&&(h={});d=null!=h.styleColor;this.geometry=new r.SpriteGeometry({items:g.items,width:g.width,height:g.height,depth:g.depth});this._adopt(h);this._adopt(this.geometry.uniforms);h=c.material();
g=h.vertex;g.pipe(this._vertexColor(E,F));g.require(this._vertexPosition(k,l,x,2,H));g.require(t);g.pipe("sprite.position",this.uniforms);g.pipe("project.position",this.uniforms);h.fragment=h=this._fragmentColor(d,l,E,F,x,2,H,A,y);d=c.material();d.vertex.pipe(g);d.fragment.pipe(h);d.fragment.pipe("fragment.transparent",this.uniforms);c=c.material();c.vertex.pipe(g);c.fragment.pipe(h);c.fragment.pipe("fragment.solid",this.uniforms);c=c.link({side:w.DoubleSide});this.fillMaterial=this._material(c);
g=d.link({side:w.DoubleSide});this.edgeMaterial=this._material(g);this.fillObject=new w.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new w.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=c;this._raw(this.edgeObject);this.edgeObject.userData=g;this.renders=[this.fillObject,this.edgeObject]}show(d,c,g,h){this._show(this.edgeObject,!0,c,g,h);return this._show(this.fillObject,d,c,g,h)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();
this.renders=this.geometry=this.edgeMaterial=this.fillMaterial=this.edgeObject=this.fillObject=null;return super.dispose()}}p.Sprite=m};
shadow$provide[356]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.StripGeometry=void 0;var w=B(101);G=B(332);class r extends G.ClipGeometry{constructor(m){let d;var c;let g,h;super(m);this._clipUniforms();this.items=c=+m.items||2;this.width=h=+m.width||1;this.height=d=+m.height||1;this.depth=m=+m.depth||1;this.sides=g=Math.max(0,c-2);var l=h*d*m,k=c*l;this.setIndex(new w.BufferAttribute(new Uint32Array(g*l*3),1));this.setAttribute("position4",new w.BufferAttribute(new Float32Array(4*
k),4));this.setAttribute("strip",new w.BufferAttribute(new Float32Array(3*k),3));const t=this._emitter("index");k=this._emitter("position4");const x=this._emitter("strip");let A=0;for(let y=0,E=l,F=0<=E;F?y<E:y>E;F?y++:y--){l=A;for(let H=0,P=g,K=0<=P;K?H<P:H>P;K?H++:H--)H&1?(t(l+1),t(l)):(t(l),t(l+1)),t(l+2),l++;A+=c}--c;for(let y=0,E=m,F=0<=E;F?y<E:y>E;F?y++:y--)for(let H=0,P=d,K=0<=P;K?H<P:H>P;K?H++:H--)for(let T=0,aa=h,Q=0<=aa;Q?T<aa:T>aa;Q?T++:T--){m=1;k(T,H,y,0);x(1,2,m);for(let O=1,da=c,ea=
1<=da;ea?O<da:O>da;ea?O++:O--)k(T,H,y,O),x(O-1,O+1,m=-m);k(T,H,y,c);x(c-2,c-1,-m)}this._finalize();this.clip()}clip(m,d,c,g){null==m&&({width:m}=this);null==d&&({height:d}=this);null==c&&({depth:c}=this);null==g&&({items:g}=this);const h=Math.max(0,g-2);this._clipGeometry(m,d,c,g);return this._clipOffsets(3,m,d,c,h,this.width,this.height,this.depth,this.sides)}}p.StripGeometry=r};
shadow$provide[357]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Strip=void 0;var w=B(101);G=B(334);var r=B(356);class m extends G.Base{constructor(d,c,g){super(d,c,g);let {uniforms:h,material:l}=g;const {position:k,color:t,mask:x,map:A,combine:y,linear:E,stpq:F}=g;null==h&&(h={});null==l&&(l=!0);d=null!=h.styleColor;this.geometry=new r.StripGeometry({items:g.items,width:g.width,height:g.height,depth:g.depth});this._adopt(h);this._adopt(this.geometry.uniforms);c=c.material();
g=c.vertex;g.pipe(this._vertexColor(t,x));g.require(this._vertexPosition(k,l,A,2,F));l||g.pipe("mesh.position",this.uniforms);l&&g.pipe("strip.position.normal",this.uniforms);g.pipe("project.position",this.uniforms);c.fragment=d=this._fragmentColor(d,l,t,x,A,2,F,y,E);d.pipe("fragment.color",this.uniforms);d=c.link({side:w.DoubleSide});this.material=this._material(d);c=new w.Mesh(this.geometry,this.material);c.userData=d;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}p.Strip=m};
shadow$provide[358]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Surface=void 0;var w=B(101);G=B(334);var r=B(347);class m extends G.Base{constructor(d,c,g){super(d,c,g);let {uniforms:h,material:l}=g;const {position:k,color:t,normal:x,mask:A,map:y,combine:E,linear:F,stpq:H,intUV:P}=g;null==h&&(h={});null==l&&(l=!0);d=null!=h.styleColor;this.geometry=new r.SurfaceGeometry({width:g.width,height:g.height,surfaces:g.surfaces,layers:g.layers,closedX:g.closedX,closedY:g.closedY});
this._adopt(h);this._adopt(this.geometry.uniforms);var K={};g.closedX&&(K.SURFACE_CLOSED_X="");g.closedY&&(K.SURFACE_CLOSED_Y="");P&&(K.POSITION_UV_INT="");c=c.material();g=c.vertex;g.pipe(this._vertexColor(t,A));g.require(this._vertexPosition(k,l,y,2,H));x?(g.require(x),g.pipe("surface.position.normal",this.uniforms,K)):(l||g.pipe("surface.position",this.uniforms,K),l&&g.pipe("surface.position.shaded",this.uniforms,K));g.pipe("project.position",this.uniforms);c.fragment=d=this._fragmentColor(d,l,
t,A,y,2,H,E,F);d.pipe("fragment.color",this.uniforms);d=c.link({side:w.DoubleSide});this.material=this._material(d);K=new w.Mesh(this.geometry,this.material);K.userData=d;this._raw(K);this.renders=[K]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}p.Surface=m};
shadow$provide[359]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.TextAtlas=void 0;G=B(337);var w=B(101);class r extends G.Atlas{constructor(m,d,c){let g;c.width||(c.width=256);c.height||(c.height=256);c.type=w.UnsignedByteType;c.channels=1;c.backed=!0;super(m,d,c,!1);this.font=null!=c.font?c.font:["sans-serif"];this.size=c.size||24;this.style=null!=c.style?c.style:"normal";this.variant=null!=c.variant?c.variant:"normal";this.weight=null!=c.weight?c.weight:"normal";this.outline=
null!=(g=+(null!=c.outline?c.outline:5))?g:0;this.gamma=1;"undefined"!==typeof navigator&&(m=navigator.userAgent,m.match(/Chrome/)&&m.match(/OS X/)&&(this.gamma=.5));this.scratchW=this.scratchH=0;this.build(c)}build(m){super.build(m);m=16;m=this.size;m+=4+2*Math.min(1,this.outline);const d=32*m,c=document.createElement("canvas");c.width=d;c.height=m;var g=this.font.map(k=>`${k.replace(/(['"\\])/g,"\\$1")}`).join(", ");const h=c.getContext("2d",{willReadFrequently:!0});h.font=`${this.style} ${this.variant} ${this.weight} ${this.size}px ${g}`;
h.fillStyle="#FF0000";h.textAlign="left";h.textBaseline="bottom";h.lineJoin="round";g=[];var l=3*this.outline;for(let k=0,t=l,x=0<=t;x?k<t:k>t;x?k++:k--)l=("00"+Math.max(0,8*-k+128-8*!k).toString(16)).slice(-2),g.push("#"+l+l+l);l=new Uint8Array(d*m*2);this.canvas=c;this.context=h;this.lineHeight=m;this.maxWidth=d;this.colors=g;this.scratch=l;this._allocate=this.allocate.bind(this);return this._write=this.write.bind(this)}reset(){super.reset();return this.mapped={}}begin(){return Array.from(this.rows).map(m=>
m.alive=0)}end(){const {mapped:m}=this;for(const d of Array.from(this.rows.slice()))if(0===d.alive){for(const c of Array.from(d.keys))delete m[c];this.collapse(d)}}map(m,d){const {mapped:c}=this;var g=c[m];if(null!=g)return g.row.alive++,d(g.x,g.y,g.w,g.h);this.draw(m);const h=this.scratch,l=this.scratchW,k=this.scratchH;g=this._allocate;const t=this._write;return g(m,l,k,function(x,A,y){c[m]={x:A,y,w:l,h:k,row:x};t(h,A,y,l,k);return d(A,y,l,k)})}draw(m){const d=this.lineHeight;var c=this.outline;
var g=this.context;const h=this.scratch;var l=this.maxWidth;var {colors:k}=this,t=c+1,x=Math.round(1.05*d-1);var A=g.measureText(m);l=Math.min(l,Math.ceil(A.width+2*t+1));g.clearRect(0,0,l,d);if(0===this.outline)for(g.fillText(m,t,x),{data:m}=g.getImageData(0,0,l,d),A=3,c=0,k=m.length/4,g=0<=k;g?c<k:c>k;g?c++:c--)h[c]=m[A],A+=4;else{var y;g.globalCompositeOperation="source-over";c=A=c+1;for(y=1>=A;y?1>=c:1<=c;y?c++:c--)A=1<c?2*c-2:c,g.strokeStyle=k[A-1],g.lineWidth=A,g.strokeText(m,t,x);g.globalCompositeOperation=
"multiply";g.fillText(m,t,x);({data:m}=g.getImageData(0,0,l,d));A=0;({gamma:t}=this);c=0;k=m.length/4;for(g=0<=k;g?c<k:c>k;g?c++:c--){y=(x=m[A])?m[A+1]/x:1;.5===t&&(y=Math.sqrt(y));y=Math.min(1,Math.max(0,y));const E=256-x;h[c]=Math.max(0,Math.min(255,E+(x-E)*y+2));A+=4}}this.scratchW=l;return this.scratchH=d}}p.TextAtlas=r};
shadow$provide[360]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.VoxelBuffer=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(198));G=B(329);class m extends G.DataBuffer{build(d){super.build();this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}setActive(d,c,g){let h;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(h=[Math.max(0,this.width-d),Math.max(0,this.height-c),Math.max(0,this.depth-g)]),h}fill(){let d,c,g,h;const {callback:l}=this;"function"===typeof l.reset&&
l.reset();const {emit:k,skip:t,count:x,done:A,reset:y}=this.streamer;y();const E=this.width,F=this.height,H=this.pad.x,P=this.pad.y,K=this.samples-this.pad.z*E*F;let T=d=c=g=0;if(0<H||0<P)for(;!A()&&g<K&&(g++,h=l(k,T,d,c),++T===E-H&&(t(H),g+=H,T=0,++d===F-P&&(t(E*P),g+=E*P,d=0,c++)),!1!==h););else for(;!A()&&g<K&&(g++,h=l(k,T,d,c),++T===E&&(T=0,++d===F&&(d=0,c++)),!1!==h););return Math.floor(x()/this.items)}through(d,c){let g,h,l,k;const {consume:t,done:x,skip:A}=k=this.streamer,{emit:y}=g=c.streamer;
let E=h=l=0,F=()=>t((H,P,K,T)=>d(y,H,P,K,T,E,h,l));F=r.repeatCall(F,this.items);return()=>{let H;k.reset();g.reset();const P=this.width,K=this.height,T=this.pad.x,aa=this.pad.y,Q=this.samples-this.pad.z*P*K;E=h=l=H=0;if(0<T||0<aa)for(;!x()&&H<Q;)H++,F(),++E===P-T&&(A(T),E=0,++h===K-aa&&(A(P*aa),h=0,l++));else for(;!x()&&H<Q;)H++,F(),++E===P&&(E=0,++h===K&&(h=0,l++));return k.count()}}}p.VoxelBuffer=m};
shadow$provide[361]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Classes=void 0;G=B(330);X=B(335);var w=B(337),r=B(329),m=B(338),d=B(340),c=B(342),g=B(343),h=B(346),l=B(350),k=B(352),t=B(353),x=B(354),A=B(345),y=B(325),E=B(349),F=B(355),H=B(357),P=B(358),K=B(359);B=B(360);p.Classes={sprite:F.Sprite,point:k.Point,line:c.Line,surface:P.Surface,face:d.Face,strip:H.Strip,arrow:X.Arrow,screen:E.Screen,memoScreen:l.MemoScreen,debug:m.Debug,dataBuffer:r.DataBuffer,arrayBuffer:G.ArrayBuffer_,
matrixBuffer:g.MatrixBuffer,voxelBuffer:B.VoxelBuffer,pushBuffer:t.PushBuffer,renderToTexture:A.RenderToTexture,memo:h.Memo,readback:x.Readback,atlas:w.Atlas,textAtlas:K.TextAtlas,scene:y.Scene}};
shadow$provide[362]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w={Factory:!0};Object.defineProperty(p,"Factory",{enumerable:!0,get:function(){return m.RenderFactory}});var r=B(325);Object.keys(r).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(w,c)||c in p&&p[c]===r[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return r[c]}}))});var m=B(326),d=B(361);Object.keys(d).forEach(function(c){"default"!==c&&"__esModule"!==
c&&(Object.prototype.hasOwnProperty.call(w,c)||c in p&&p[c]===d[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return d[c]}}))})};
shadow$provide[363]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float worldUnit;\nuniform float lineDepth;\nuniform float lineWidth;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nuniform float arrowSize;\nuniform float arrowSpace;\n\nattribute vec4 position4;\nattribute vec3 arrow;\nattribute vec2 attach;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvoid getArrowGeometry(vec4 xyzw, float near, float mid, float far, out vec3 left, out vec3 right, out vec3 middle, out vec3 start) {\n  right  \x3d getPosition(xyzw, 1.0);\n  left   \x3d getPosition(vec4(near, xyzw.yzw), 0.0);\n  middle \x3d getPosition(vec4(mid,  xyzw.yzw), 0.0);\n  start  \x3d getPosition(vec4(far,  xyzw.yzw), 0.0);\n}\n\nmat4 getArrowMatrix(vec3 left, vec3 right, vec3 middle, vec3 start) {\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -right.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n\n  vec3 diff \x3d left - right;\n  float l \x3d length(diff);\n  if (l \x3d\x3d 0.0) {\n    return mat4(1.0, 0.0, 0.0, 0.0,\n                0.0, 1.0, 0.0, 0.0,\n                0.0, 0.0, 1.0, 0.0,\n                0.0, 0.0, 0.0, 1.0);\n  }\n\n  // Construct TBN matrix around shaft\n  vec3 t \x3d normalize(diff);\n  vec3 n \x3d normalize(cross(t, t.yzx + vec3(.1, .2, .3)));\n  vec3 b \x3d cross(n, t);\n\n  // Shrink arrows when vector gets too small\n  // Approach linear scaling with cubic ease the smaller we get\n  float size \x3d arrowSize * lineWidth * worldUnit * depth * 1.25;\n  l \x3d max(length(right - middle), length(middle - start)) * 2.0 * arrowSpace;\n  float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n  float scale \x3d 1.0 - mini * mini * mini;\n  float range \x3d size * scale;\n\n  // Size to 2.5:1 ratio\n  float rangeNB \x3d range / 2.5;\n\n  // Anchor at end position\n  return mat4(vec4(n * rangeNB,  0),\n              vec4(b * rangeNB,  0),\n              vec4(t * range, 0),\n              vec4(right,  1.0));\n}\n\nvec3 getArrowPosition() {\n  vec3 left, right, middle, start;\n\n  // Clip arrow position and attachment anchors to data\n  vec4 p \x3d min(geometryClip, position4);\n  vec3 a \x3d vec3(min(geometryClip.x, p.x + attach.x), geometryClip.x / 2.0, min(geometryClip.x, attach.y));\n\n  getArrowGeometry(p, a.x, a.y, a.z, left, right, middle, start);\n  mat4 matrix \x3d getArrowMatrix(left, right, middle, start);\n\n  return (matrix * vec4(arrow.xyz, 1.0)).xyz;\n\n}\n"};
shadow$provide[364]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 axisStep;\nuniform vec4 axisPosition;\n\nvec4 getAxisPosition(vec4 xyzw, inout vec4 stpq) {\n  return axisStep * xyzw.x + axisPosition;\n}\n"};
shadow$provide[365]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform vec4 viewScale;\nuniform vec4 viewOffset;\n\nvec4 getCartesian4Position(vec4 position, inout vec4 stpq) {\n  return position * basisScale + basisOffset;\n}\n"};
shadow$provide[366]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform mat4 viewMatrix;\n\nvec4 getCartesianPosition(vec4 position, inout vec4 stpq) {\n  return viewMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[367]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 clampLimit;\n\nvec4 getClampXYZW(vec4 xyzw) {\n  return clamp(xyzw, vec4(0.0), clampLimit);\n}\n"};
shadow$provide[368]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 opaqueColor(vec4 color) {\n  return vec4(color.rgb, 1.0);\n}\n"};
shadow$provide[369]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getFacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[370]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="attribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getFaceGeometry(vec4 xyzw, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(vec4(xyzw.xyz, 0.0), 0.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, 1.0), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, 2.0), 0.0);\n\n  pos \x3d getPosition(xyzw, 1.0);\n  normal \x3d normalize(cross(c - a, b - a));\n}\n\nvec3 getFacePositionNormal() {\n  vec3 center, normal;\n\n  getFaceGeometry(position4, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[371]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="/*\nFloat encoding technique by\nCarlos Scheidegger\nhttps://github.com/cscheid/lux/blob/master/src/shade/bits/encode_float.js\n\nConversion to GLSL by:\nhttp://concord-consortium.github.io/lab/experiments/webgl-gpgpu/script.js\n*/\n\nfloat shift_right(float v, float amt) { \n  v \x3d floor(v) + 0.5; \n  return floor(v / exp2(amt)); \n}\n\nfloat shift_left(float v, float amt) { \n  return floor(v * exp2(amt) + 0.5); \n}\n\nfloat mask_last(float v, float bits) { \n  return mod(v, shift_left(1.0, bits)); \n}\n\nfloat extract_bits(float num, float from, float to) { \n  from \x3d floor(from + 0.5); to \x3d floor(to + 0.5); \n  return mask_last(shift_right(num, from), to - from); \n}\n\nvec4 encode_float(float val) { \n  if (val \x3d\x3d 0.0) return vec4(0, 0, 0, 0); \n  float valuesign \x3d val \x3e 0.0 ? 0.0 : 1.0; \n  val \x3d abs(val); \n  float exponent \x3d floor(log2(val)); \n  float biased_exponent \x3d exponent + 127.0; \n  float fraction \x3d ((val / exp2(exponent)) - 1.0) * 8388608.0; \n  float t \x3d biased_exponent / 2.0; \n  float last_bit_of_biased_exponent \x3d fract(t) * 2.0; \n  float remaining_bits_of_biased_exponent \x3d floor(t); \n  float byte4 \x3d extract_bits(fraction, 0.0, 8.0) / 255.0; \n  float byte3 \x3d extract_bits(fraction, 8.0, 16.0) / 255.0; \n  float byte2 \x3d (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; \n  float byte1 \x3d (valuesign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; \n  return vec4(byte4, byte3, byte2, byte1); \n}\n"};
shadow$provide[372]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 indexModulus;\n\nvec4 getSample(vec4 xyzw);\nvec4 getIndex(vec4 xyzw);\n\nvec4 floatPackIndex(vec4 xyzw) {\n  vec4 value \x3d getSample(xyzw);\n  vec4 index \x3d getIndex(xyzw);\n\n  vec4 offset \x3d floor(index + .5) * indexModulus;\n  vec2 sum2 \x3d offset.xy + offset.zw;\n  float sum \x3d sum2.x + sum2.y;\n  return vec4(value.xyz, sum);\n}"};
shadow$provide[373]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 getSample(vec4 xyzw);\n\nfloat floatStretch(vec4 xyzw, float channelIndex) {\n  vec4 sample \x3d getSample(xyzw);\n  vec2 xy \x3d channelIndex \x3e 1.5 ? sample.zw : sample.xy;\n  return mod(channelIndex, 2.0) \x3e .5 ? xy.y : xy.x;\n}"};
shadow$provide[374]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 16.0) \x3e 8.0) {\n    discard;\n  }\n}\n"};
shadow$provide[375]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 4.0) \x3e 2.0) {\n    discard;\n  }\n}\n"};
shadow$provide[376]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying vec2 vClipEnds;\n\nvoid clipEndsFragment() {\n  if (vClipEnds.x \x3c 0.0 || vClipEnds.y \x3c 0.0) discard;\n}\n"};
shadow$provide[377]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vClipProximity;\n\nvoid clipProximityFragment() {\n  if (vClipProximity \x3e\x3d 0.5) discard;\n}"};
shadow$provide[378]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="void setFragmentColor(vec4 color) {\n  gl_FragColor \x3d color;\n}"};
shadow$provide[379]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 fragmentRGBA(vec4 rgba, vec4 stpq) {\n  return rgba;\n}"};
shadow$provide[380]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3c 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[381]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3e\x3d 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[382]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 gridPosition;\nuniform vec4 gridStep;\nuniform vec4 gridAxis;\n\nvec4 sampleData(vec2 xy);\n\nvec4 getGridPosition(vec4 xyzw) {\n  vec4 onAxis  \x3d gridAxis * sampleData(vec2(xyzw.y, 0.0)).x;\n  vec4 offAxis \x3d gridStep * xyzw.x + gridPosition;\n  return onAxis + offAxis;\n}\n"};
shadow$provide[383]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float growScale;\nuniform vec4  growMask;\nuniform vec4  growAnchor;\n\nvec4 getSample(vec4 xyzw);\n\nvec4 getGrowSample(vec4 xyzw) {\n  vec4 anchor \x3d xyzw * growMask + growAnchor;\n\n  vec4 position \x3d getSample(xyzw);\n  vec4 center \x3d getSample(anchor);\n\n  return mix(center, position, growScale);\n}"};
shadow$provide[384]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float joinStride;\nuniform float joinStrideInv;\n\nfloat getIndex(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndices(float a, float b);\n\nvec4 getJoinXYZW(vec4 xyzw) {\n\n  float a \x3d getIndex(xyzw);\n  float b \x3d a * joinStrideInv;\n\n  float integer  \x3d floor(b);\n  float fraction \x3d b - integer;\n  \n  return injectIndices(fraction * joinStride, integer) + getRest(xyzw);\n}\n"};
shadow$provide[385]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nvec4 getLabelAlphaColor(vec4 color, vec4 sample) {\n  float mask \x3d clamp(sample.r * 1000.0, 0.0, 1.0);\n  float alpha \x3d (sample.r - .5) * vPixelSize + .5;\n  float a \x3d mask * alpha * color.a;\n  if (a \x3c\x3d 0.0) discard;\n  return vec4(color.xyz, a);\n}\n"};
shadow$provide[386]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec2 mapUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[387]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float outlineExpand;\nuniform float outlineStep;\nuniform vec3  outlineColor;\n\nvarying float vPixelSize;\n\nconst float PIXEL_STEP \x3d 255.0 / 16.0;\n\nvec4 getLabelOutlineColor(vec4 color, vec4 sample) {\n  float ps \x3d vPixelSize * PIXEL_STEP;\n  float os \x3d outlineStep;\n\n  float sdf \x3d sample.r - .5 + outlineExpand;\n  vec2  sdfs \x3d vec2(sdf, sdf + os);\n  vec2  alpha \x3d clamp(sdfs * ps + .5, 0.0, 1.0);\n\n  if (alpha.y \x3c\x3d 0.0) {\n    discard;\n  }\n\n  vec3 blend \x3d color.xyz;\n  if (alpha.y \x3e alpha.x) {\n    blend \x3d sqrt(mix(outlineColor * outlineColor, blend * blend, alpha.x));\n  }\n  \n  return vec4(blend, alpha.y * color.a);\n}\n"};
shadow$provide[388]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 layerScale;\nuniform vec4 layerBias;\n\n#define PROJECT_ORTHOGONAL\n\nvec4 layerPosition(vec4 position, inout vec4 stpq) {\n  return layerScale * position + layerBias;\n}\n"};
shadow$provide[389]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[390]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[391]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[392]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[393]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="// Units and calibration\nuniform float worldUnit;\nuniform float lineWidth;\nuniform float lineDepth;\nuniform float focusDepth;\n\n// General data index\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// (Top/bottom -1,1)\nattribute float line;\n\n// 0...1 for round or bevel joins\n#ifdef LINE_JOIN_DETAIL\nattribute float joint;\n#else\nconst float joint \x3d 0.0;\n#endif\n\n// Knock out excessively long line segments (e.g. for asymtpotes)\n#ifdef LINE_PROXIMITY\nuniform float lineProximity;\nvarying float vClipProximity;\n#endif\n\n// Ghetto line stroking (local only, not global)\n#ifdef LINE_STROKE\nvarying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\n// Clip line ends for arrows / decoration\n#ifdef LINE_CLIP\nuniform float clipRange;\nuniform vec2  clipStyle;\nuniform float clipSpace;\n\nattribute vec2 strip;\n\nvarying vec2 vClipEnds;\n\nvoid clipEnds(vec4 xyzw, vec3 center, vec3 pos) {\n\n  // Sample start of line strip\n  vec4 xyzwS \x3d vec4(0.0, xyzw.yzw);\n  vec3 start \x3d getPosition(xyzwS, 0.0);\n\n  // Sample middle of line strip\n  vec4 xyzwM \x3d vec4(geometryClip.x / 2.0, xyzw.yzw);\n  vec3 middle \x3d getPosition(xyzwM, 0.0);\n\n#ifdef LINE_CLOSED\n  vec3 end \x3d start;\n#else\n  // Sample other end of line strip\n  vec4 xyzwE \x3d vec4(geometryClip.x, xyzw.yzw);\n  vec3 end   \x3d getPosition(xyzwE, 0.0);\n#endif\n\n  // Measure length\n  float l \x3d max(length(end - middle), length(middle - start)) * clipSpace * 2.0;\n\n  // Arrow length (\x3d2.5x radius)\n  float arrowSize \x3d 1.25 * clipRange * lineWidth * worldUnit;\n\n#ifdef LINE_CLOSED\n  // Clip around start/end\n  end \x3d start;\n#endif\n\n  vClipEnds \x3d vec2(1.0);\n\n  if (clipStyle.y \x3e 0.0) {\n    // Depth blend end\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -end.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip end\n    vec3 diff \x3d end - center;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.x \x3d -1.0;\n    else {\n      diff \x3d normalize(end - center);\n      float d \x3d dot(end - pos, diff);\n      vClipEnds.x \x3d d * invrange - 1.0;\n    }\n  }\n\n  if (clipStyle.x \x3e 0.0) {\n    // Depth blend start\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -start.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip start\n    vec3 diff \x3d center - start;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.y \x3d -1.0;\n    else {\n      diff \x3d normalize(center - start);\n      float d \x3d dot(pos - start, diff);\n      vClipEnds.y \x3d d * invrange - 1.0;\n    }\n  }\n}\n#endif\n\n// Adjust left/center/right to be inside near/far z range\nconst float epsilon \x3d 1e-5;\nvoid fixCenter(inout vec3 left, inout vec3 center, inout vec3 right) {\n  if (center.z \x3e\x3d 0.0) {\n    if (left.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - left.z);\n      center \x3d mix(center, left, d);\n    }\n    else if (right.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - right.z);\n      center \x3d mix(center, right, d);\n    }\n  }\n\n  if (left.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (left.z + epsilon) / (left.z - center.z);\n      left \x3d mix(left, center, d);\n    }\n  }\n\n  if (right.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (right.z + epsilon) / (right.z - center.z);\n      right \x3d mix(right, center, d);\n    }\n  }\n}\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef LINE_CLOSED\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n  return xyzw;\n}\n\n// Sample the source data in an edge-aware manner\nvoid getLineGeometry(vec4 xyzw, float edge, out vec3 left, out vec3 center, out vec3 right) {\n  vec4 delta \x3d vec4(1.0, 0.0, 0.0, 0.0);\n\n  center \x3d getPosition(xyzw, 1.0);\n  left   \x3d (edge \x3e -0.5) ? getPosition(wrapAround(xyzw - delta), 0.0) : center;\n  right  \x3d (edge \x3c 0.5)  ? getPosition(wrapAround(xyzw + delta), 0.0) : center;\n}\n\n// Calculate the position for a vertex along the line, including joins\nvec3 getLineJoin(float edge, bool odd, vec3 left, vec3 center, vec3 right, float width, float offset, float joint) {\n  vec2 join \x3d vec2(1.0, 0.0);\n\n  fixCenter(left, center, right);\n\n  vec4 a \x3d vec4(left.xy, right.xy);\n  vec4 b \x3d a / vec4(left.zz, right.zz);\n\n  vec2 l \x3d b.xy;\n  vec2 r \x3d b.zw;\n  vec2 c \x3d center.xy / center.z;\n\n  vec4 d \x3d vec4(l, c) - vec4(c, r);\n  float l1 \x3d dot(d.xy, d.xy);\n  float l2 \x3d dot(d.zw, d.zw);\n\n  if (l1 + l2 \x3e 0.0) {\n\n    if (edge \x3e 0.5 || l2 \x3d\x3d 0.0) {\n      vec2 nl \x3d normalize(d.xy);\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(left - center);\n#endif\n      join \x3d tl;\n    }\n    else if (edge \x3c -0.5 || l1 \x3d\x3d 0.0) {\n      vec2 nr \x3d normalize(d.zw);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(center - right);\n#endif\n      join \x3d tr;\n    }\n    else {\n      // Limit join stretch for tiny segments\n      float lmin2 \x3d min(l1, l2) / (width * width);\n\n      // Hide line segment if ratio of leg lengths exceeds promixity threshold\n#ifdef LINE_PROXIMITY\n      float lr     \x3d l1 / l2;\n      float rl     \x3d l2 / l1;\n      float ratio  \x3d max(lr, rl);\n      float thresh \x3d lineProximity + 1.0;\n      vClipProximity \x3d (ratio \x3e thresh * thresh) ? 1.0 : 0.0;\n#endif\n\n      // Calculate normals/tangents\n      vec2 nl \x3d normalize(d.xy);\n      vec2 nr \x3d normalize(d.zw);\n\n      // Calculate tangents\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      // Mix tangents according to leg lengths\n      vec2 tc \x3d normalize(mix(tl, tr, l1/(l1+l2)));\n#else\n      // Average tangent\n      vec2 tc \x3d normalize(tl + tr);\n#endif\n\n      // Miter join\n      float cosA   \x3d dot(nl, tc);\n      float sinA   \x3d max(0.1, abs(dot(tl, tc)));\n      float factor \x3d cosA / sinA;\n      float scale  \x3d sqrt(1.0 + min(lmin2, factor * factor));\n\n      // Stroke normals\n#ifdef LINE_STROKE\n      vec3 stroke1 \x3d normalize(left - center);\n      vec3 stroke2 \x3d normalize(center - right);\n\n      if (odd) {\n        vClipStrokeEven \x3d stroke1;\n        vClipStrokeOdd  \x3d stroke2;\n      }\n      else {\n        vClipStrokeEven \x3d stroke2;\n        vClipStrokeOdd  \x3d stroke1;\n      }\n#endif\n\n#ifdef LINE_JOIN_MITER\n      // Apply straight up miter\n      join \x3d tc * scale;\n#endif\n\n#ifdef LINE_JOIN_ROUND\n      // Slerp bevel join into circular arc\n      float dotProduct \x3d dot(nl, nr);\n      float angle \x3d acos(dotProduct);\n      float sinT  \x3d sin(angle);\n      join \x3d (sin((1.0 - joint) * angle) * tl + sin(joint * angle) * tr) / sinT;\n#endif\n\n#ifdef LINE_JOIN_BEVEL\n      // Direct bevel join between two flat ends\n      float dotProduct \x3d dot(nl, nr);\n      join \x3d mix(tl, tr, joint);\n#endif\n\n#ifdef LINE_JOIN_DETAIL\n      // Check if on inside or outside of joint\n      float crossProduct \x3d nl.x * nr.y - nl.y * nr.x;\n      if (offset * crossProduct \x3c 0.0) {\n        // For near-180-degree bends, correct back to a miter to avoid discontinuities\n        float ratio \x3d clamp(-dotProduct * 2.0 - 1.0, 0.0, 1.0);\n        // Otherwise collapse the inside vertices into one.\n        join \x3d mix(tc * scale, join, ratio * ratio * ratio);\n      }\n#endif\n\n    }\n    return vec3(join, 0.0);\n  }\n  else {\n    return vec3(0.0);\n  }\n\n}\n\n// Calculate final line position\nvec3 getLinePosition() {\n  vec3 left, center, right, join;\n\n  // Up/down along segment\n  float offset \x3d line;\n\n  // Clip data\n  vec4 p \x3d min(geometryClip, position4);\n\n  // Left/center/right\n  float edge \x3d 0.0;\n#ifdef LINE_CLOSED\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) edge \x3d 1.0;\n  if (p.x \x3d\x3d 0.0) edge \x3d -1.0;\n#endif\n\n  // Get position + adjacent neighbours\n  getLineGeometry(p, edge, left, center, right);\n\n#ifdef LINE_STROKE\n  // Set parameters for line stroke fragment shader\n  vClipStrokePosition \x3d center;\n  vClipStrokeIndex \x3d p.x;\n  bool odd \x3d mod(p.x, 2.0) \x3e\x3d 1.0;\n#else\n  bool odd \x3d true;\n#endif\n\n  // Divide line width up/down\n  float width \x3d lineWidth * 0.5;\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -center.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n  width *\x3d depth;\n\n  // Convert to world units\n  width *\x3d worldUnit;\n\n  // Calculate line join\n#ifdef LINE_CLOSED\n  join \x3d getLineJoin(0.0, odd, left, center, right, width, offset, joint);\n#else\n  join \x3d getLineJoin(edge, odd, left, center, right, width, offset, joint);\n#endif\n  vec3 pos \x3d center + join * offset * width;\n\n#ifdef LINE_STROKE\n  vClipStrokeWidth \x3d width;\n#endif\n\n#ifdef LINE_CLIP\n  clipEnds(p, center, pos);\n#endif\n\n  return pos;\n}\n"};
shadow$provide[394]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return (xy + dataPointer) * dataResolution;\n}\n"};
shadow$provide[395]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return fract((xy + dataPointer) * dataResolution);\n}\n"};
shadow$provide[396]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="void mapXyzw2DV(vec4 xyzw, out vec2 xy, out float z) {\n  xy \x3d xyzw.xy;\n  z  \x3d xyzw.z;\n}\n\n"};
shadow$provide[397]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 alignXYZW(vec4 xyzw) {\n  return floor(xyzw + .5);\n}\n\n"};
shadow$provide[398]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float textureItems;\nuniform float textureHeight;\n\nvec2 mapXyzwTexture(vec4 xyzw) {\n  \n  float x \x3d xyzw.x;\n  float y \x3d xyzw.y;\n  float z \x3d xyzw.z;\n  float i \x3d xyzw.w;\n  \n  return vec2(i, y) + vec2(x, z) * vec2(textureItems, textureHeight);\n}\n\n"};
shadow$provide[399]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying vec4 vColor;\n\nvec4 getColor() {\n  if (vColor.a \x3c\x3d 0.0) discard;\n  return vColor;\n}\n"};
shadow$provide[400]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 uvwo, vec4 stpq);\n\nvec4 getMapColor() {\n  #ifdef POSITION_STPQ\n  vec4 stpq \x3d vSTPQ;\n  #else\n  vec4 stpq \x3d vec4(0.0);\n  #endif\n\n  #ifdef POSITION_U\n  vec4 uvwo \x3d vec4(vU, 0.0, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UV\n  vec4 uvwo \x3d vec4(vUV, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UVW\n  vec4 uvwo \x3d vec4(vUVW, 0.0);\n  #endif\n  #ifdef POSITION_UVWO\n  vec4 uvwo \x3d vec4(vUVWO);\n  #endif\n\n  return getSample(uvwo, stpq);\n}\n"};
shadow$provide[401]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vMask;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return t * t * (3.0 - 2.0 * t);\n}\n\nvec4 maskColor() {\n  if (vMask \x3c\x3d 0.0) discard;\n  return vec4(vec3(1.0), ease(vMask));\n}\n"};
shadow$provide[402]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 rgba, vec4 stpq);\n\nvec4 getMaterialColor(vec4 rgba) {\n  vec4 stpq \x3d vec4(0.0);\n\n  #ifdef POSITION_U\n  stpq.x \x3d vU;\n  #endif\n  #ifdef POSITION_UV\n  stpq.xy \x3d vUV;\n  #endif\n  #ifdef POSITION_UVW\n  stpq.xyz \x3d vUVW;\n  #endif\n  #ifdef POSITION_UVWO\n  stpq \x3d vUVWO;\n  #endif\n\n  #ifdef POSITION_STPQ\n  stpq \x3d vSTPQ;\n  #endif\n\n  return getSample(rgba, stpq);\n}\n"};
shadow$provide[403]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="\n#extension GL_OES_standard_derivatives : enable\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 offSpecular(vec3 color) {\n  vec3 c \x3d 1.0 - color;\n  return 1.0 - c * c;\n}\n\nvec4 getShadedColor(vec4 rgba) {\n  \n  vec3 color \x3d rgba.xyz;\n  vec3 color2 \x3d offSpecular(rgba.xyz);\n\n  vec3 normal \x3d normalize(vNormal);\n  vec3 light \x3d normalize(vLight);\n  vec3 position \x3d normalize(vPosition);\n  \n  // Workaround to avoid gl_FrontFacing. See https://github.com/unconed/mathbox/pull/26\n  vec3 pdx \x3d dFdx(vPosition);\n  vec3 pdy \x3d dFdy(vPosition);\n  bool frontFacting \x3d dot(vNormal, cross(pdx, pdy)) \x3e 0.0;\n\n  float side \x3d frontFacting ? 1.0 : -1.0;\n  float cosine  \x3d side * dot(normal, light);\n  float diffuse \x3d mix(max(0.0, cosine), .5 + .5 * cosine, .1);\n  \n  vec3  halfLight \x3d normalize(light + position);\n\tfloat cosineHalf \x3d max(0.0, side * dot(normal, halfLight));\n\tfloat specular \x3d pow(cosineHalf, 16.0);\n\t\n\treturn vec4(color * (diffuse * .9 + .05) + .25 * color2 * specular, rgba.a);\n}\n"};
shadow$provide[404]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default=""};
shadow$provide[405]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 getGammaInColor(vec4 rgba) {\n  return vec4(rgba.rgb * rgba.rgb, rgba.a);\n}\n"};
shadow$provide[406]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 getGammaOutColor(vec4 rgba) {\n  return vec4(sqrt(rgba.rgb), rgba.a);\n}\n"};
shadow$provide[407]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 mapUVWO(vec4 uvwo, vec4 stpq) {\n  return uvwo;\n}\n"};
shadow$provide[408]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getMeshPosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[409]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="attribute vec4 position4;\nuniform vec4 geometryClip;\nvarying vec4 vColor;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvoid vertexColor() {\n  vec4 p \x3d min(geometryClip, position4);\n  vColor \x3d getSample(p);\n}\n"};
shadow$provide[410]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="attribute vec4 position4;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nvarying float vMask;\n\n// External\nfloat getSample(vec4 xyzw);\n\nvoid maskLevel() {\n  vec4 p \x3d min(geometryClip, position4);\n  vMask \x3d getSample(p * geometryResolution);\n}\n"};
shadow$provide[411]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 geometryResolution;\n\n#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getMeshPosition(vec4 xyzw, float canonical) {\n  vec4 stpqOut, stpqIn \x3d xyzw * geometryResolution;\n  vec3 xyz \x3d getPosition(xyzw, stpqIn, stpqOut);\n\n  #ifdef POSITION_MAP\n  if (canonical \x3e 0.5) {\n    #ifdef POSITION_STPQ\n    vSTPQ \x3d stpqOut;\n    #endif\n    #ifdef POSITION_U\n    vU \x3d stpqOut.x;\n    #endif\n    #ifdef POSITION_UV\n    vUV \x3d stpqOut.xy;\n    #endif\n    #ifdef POSITION_UVW\n    vUVW \x3d stpqOut.xyz;\n    #endif\n    #ifdef POSITION_UVWO\n    vUVWO \x3d stpqOut;\n    #endif\n  }\n  #endif\n  return xyz;\n}\n"};
shadow$provide[412]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nuniform vec4  moveFrom;\nuniform vec4  moveTo;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return 1.0 - (2.0 - t) * t;\n}\n\nvec4 getTransitionPosition(vec4 xyzw, inout vec4 stpq) {\n  if (transitionActive \x3c 0.5) return xyzw;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  float a1 \x3d ease(enter * factor - offset);\n  float a2 \x3d ease(exit  * factor + offset - skew);\n\n  return xyzw + a1 * moveFrom + a2 * moveTo;\n}"};
shadow$provide[413]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec4 getMask(vec4 xyzw) {\n  return vec4(1.0);\n}"};
shadow$provide[414]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getDiscAlpha(float mask) {\n  // Approximation: 1 - x*x is approximately linear around x \x3d 1 with slope 2\n  return vPixelSize * (1.0 - mask);\n  //  return vPixelSize * 2.0 * (1.0 - sqrt(mask));\n}\n"};
shadow$provide[415]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getDiscHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(sqrt(mask) - .75));\n}\n"};
shadow$provide[416]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getGenericAlpha(float mask) {\n  return vPixelSize * 2.0 * (1.0 - mask);\n}\n"};
shadow$provide[417]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getGenericHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(mask - .75));\n}\n"};
shadow$provide[418]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3e\x3d 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d vec4(color.rgb, alpha * color.a);\n}\n"};
shadow$provide[419]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3c 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d color;\n}\n\n"};
shadow$provide[420]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getCircleMask(vec2 uv) {\n  return dot(uv, uv);\n}\n"};
shadow$provide[421]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getDiamondMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return a.x + a.y;\n}\n"};
shadow$provide[422]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getTriangleDownMask(vec2 uv) {\n  uv.y +\x3d .25;\n  return max(uv.y, abs(uv.x) * .866 - uv.y * .5 + .6);\n}\n"};
shadow$provide[423]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getTriangleLeftMask(vec2 uv) {\n  uv.x +\x3d .25;\n  return max(uv.x, abs(uv.y) * .866 - uv.x * .5 + .6);\n}\n"};
shadow$provide[424]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getTriangleRightMask(vec2 uv) {\n  uv.x -\x3d .25;\n  return max(-uv.x, abs(uv.y) * .866 + uv.x * .5 + .6);\n}\n"};
shadow$provide[425]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getSquareMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return max(a.x, a.y);\n}\n"};
shadow$provide[426]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying float vPixelSize;\n\nfloat getTriangleUpMask(vec2 uv) {\n  uv.y -\x3d .25;\n  return max(-uv.y, abs(uv.x) * .866 + uv.y * .5 + .6);\n}\n"};
shadow$provide[427]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float pointDepth;\n\nuniform float pixelUnit;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying vec2 vSprite;\nvarying float vPixelSize;\n\nconst float pointScale \x3d POINT_SHAPE_SCALE;\n\n// External\nfloat getPointSize(vec4 xyzw);\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getPointPosition() {\n  // Discard out-of-range points by generating degenerate face\n  if (\n    position4.x \x3e geometryClip.x ||\n    position4.y \x3e geometryClip.y ||\n    position4.z \x3e geometryClip.z ||\n    position4.w \x3e geometryClip.w\n  ) return vec3(0.0, 0.0, 0.0);\n  vec4 p \x3d position4;\n\n  vec3 center \x3d getPosition(p, 1.0);\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float z \x3d -center.z;\n  float depth \x3d mix(z, focusDepth, pointDepth);\n\n  // Match device/unit mapping\n  // Sprite goes from -1..1, width \x3d 2.\n  float pointSize \x3d getPointSize(p);\n  float size \x3d pointScale * pointSize * pixelUnit * .5;\n  float depthSize \x3d depth * size;\n\n  // Pad sprite by half a pixel to make the anti-aliasing straddle the pixel edge\n  // Note: pixelsize measures radius\n  float pixelSize \x3d .5 * (pointDepth \x3e 0.0 ? depthSize / z : size);\n  float paddedSize \x3d pixelSize + 0.5;\n  float padFactor \x3d paddedSize / pixelSize;\n\n  vPixelSize \x3d paddedSize;\n  vSprite    \x3d sprite;\n\n  return center + vec3(sprite * depthSize * renderScaleInv * padFactor, 0.0);\n}\n"};
shadow$provide[428]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float pointSize;\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize;\n}"};
shadow$provide[429]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float pointSize;\n\nvec4 getSample(vec4 xyzw);\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize * getSample(xyzw).x;\n}"};
shadow$provide[430]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float polarBend;\nuniform float polarFocus;\nuniform float polarAspect;\nuniform float polarHelix;\n\nuniform mat4 viewMatrix;\n\nvec4 getPolarPosition(vec4 position, inout vec4 stpq) {\n  if (polarBend \x3e 0.0) {\n\n    if (polarBend \x3c 0.001) {\n      // Factor out large addition/subtraction of polarFocus\n      // to avoid numerical error\n      // sin(x) ~ x\n      // cos(x) ~ 1 - x * x / 2\n      vec2 pb \x3d position.xy * polarBend;\n      float ppbbx \x3d pb.x * pb.x;\n      return viewMatrix * vec4(\n        position.x * (1.0 - polarBend + (pb.y * polarAspect)),\n        position.y * (1.0 - .5 * ppbbx) - (.5 * ppbbx) * polarFocus / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n    else {\n      vec2 xy \x3d position.xy * vec2(polarBend, polarAspect);\n      float radius \x3d polarFocus + xy.y;\n      return viewMatrix * vec4(\n        sin(xy.x) * radius,\n        (cos(xy.x) * radius - polarFocus) / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[431]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float styleZBias;\nuniform float styleZIndex;\n\nvoid setPosition(vec3 position) {\n\n  #ifdef PROJECT_ORTHOGONAL\n  // Orthogonal projection with depth preservation around z \x3d 1\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  pos.xy *\x3d -position.z;\n  #else\n  // Normal perspective projection\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  #endif\n\n  // Apply relative Z bias\n  float bias  \x3d (1.0 - styleZBias / 32768.0);\n  pos.z *\x3d bias;\n\n  // Apply large scale Z index changes\n  if (styleZIndex \x3e 0.0) {\n    float z \x3d pos.z / pos.w;\n    pos.z \x3d ((z + 1.0) / (styleZIndex + 1.0) - 1.0) * pos.w;\n  }\n\n  gl_Position \x3d pos;\n}"};
shadow$provide[432]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="// This is three.js' global uniform, missing from fragment shaders.\nuniform mat4 projectionMatrix;\n\nvec4 readbackPosition(vec3 position, vec4 stpq) {\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  vec3 final \x3d pos.xyz / pos.w;\n  if (final.z \x3c -1.0) {\n    return vec4(0.0, 0.0, 0.0, -1.0);\n  }\n  else {\n    return vec4(final, -position.z);\n  }\n}\n"};
shadow$provide[433]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 geometryScale;\nattribute vec4 position4;\n\nvec4 getRawPositionScale() {\n  return geometryScale * position4;\n}\n"};
shadow$provide[434]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 repeatModulus;\n\nvec4 getRepeatXYZW(vec4 xyzw) {\n  return mod(xyzw + .5, repeatModulus) - .5;\n}\n"};
shadow$provide[435]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 resampleBias;\n\nvec4 resamplePadding(vec4 xyzw) {\n  return xyzw + resampleBias;\n}"};
shadow$provide[436]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 resampleFactor;\n\nvec4 resampleRelative(vec4 xyzw) {\n  return xyzw * resampleFactor;\n}"};
shadow$provide[437]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nfloat getTransitionSDFMask(vec4 stpq) {\n  if (transitionActive \x3c 0.5) return 1.0;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  vec2 d \x3d vec2(enter, exit) * factor + vec2(-offset, offset - skew);\n  if (exit  \x3d\x3d 1.0) return d.x;\n  if (enter \x3d\x3d 1.0) return d.y;\n  return min(d.x, d.y);\n}"};
shadow$provide[438]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 reverseScale;\nuniform vec4 reverseOffset;\n\nvec4 getReverseOffset(vec4 xyzw) {\n  return xyzw * reverseScale + reverseOffset;\n}"};
shadow$provide[439]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec3 getRootPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut) {\n  stpqOut \x3d stpqIn; // avoid inout confusion\n  return position.xyz;\n}"};
shadow$provide[440]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform sampler2D dataTexture;\n\nvec4 sample2D(vec2 uv) {\n  return texture2D(dataTexture, uv);\n}\n"};
shadow$provide[441]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 scaleAxis;\nuniform vec4 scaleOffset;\n\nvec4 sampleData(float x);\n\nvec4 getScalePosition(vec4 xyzw) {\n  return scaleAxis * sampleData(xyzw.x).x + scaleOffset;\n}\n"};
shadow$provide[442]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 remapSTPQScale;\n\nvec4 screenMapSTPQ(vec4 xyzw, out vec4 stpq) {\n  stpq \x3d xyzw * remapSTPQScale;\n  return xyzw;\n}\n"};
shadow$provide[443]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec2 remapUVScale;\n\nvec4 screenMapXY(vec4 uvwo, vec4 stpq) {\n  return vec4(floor(remapUVScale * uvwo.xy), 0.0, 0.0);\n}\n"};
shadow$provide[444]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec2 remapUVScale;\nuniform vec2 remapModulus;\nuniform vec2 remapModulusInv;\n\nvec4 screenMapXYZW(vec4 uvwo, vec4 stpq) {\n  vec2 st \x3d floor(remapUVScale * uvwo.xy);\n  vec2 xy \x3d st * remapModulusInv;\n  vec2 ixy \x3d floor(xy);\n  vec2 fxy \x3d xy - ixy;\n  vec2 zw \x3d fxy * remapModulus;\n  return vec4(ixy.x, zw.y, ixy.y, zw.x);\n}\n"};
shadow$provide[445]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="vec2 screenPassUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[446]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="void setScreenPosition(vec4 position) {\n  gl_Position \x3d vec4(position.xy * 2.0 - 1.0, 0.5, 1.0);\n}\n"};
shadow$provide[447]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 sliceOffset;\n\nvec4 getSliceOffset(vec4 xyzw) {\n  return xyzw + sliceOffset;\n}\n"};
shadow$provide[448]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float sphericalBend;\nuniform float sphericalFocus;\nuniform float sphericalAspectX;\nuniform float sphericalAspectY;\nuniform float sphericalScaleY;\n\nuniform mat4 viewMatrix;\n\nvec4 getSphericalPosition(vec4 position, inout vec4 stpq) {\n  if (sphericalBend \x3e 0.0001) {\n\n    vec3 xyz \x3d position.xyz * vec3(sphericalBend, sphericalBend / sphericalAspectY * sphericalScaleY, sphericalAspectX);\n    float radius \x3d sphericalFocus + xyz.z;\n    float cosine \x3d cos(xyz.y) * radius;\n\n    return viewMatrix * vec4(\n      sin(xyz.x) * cosine,\n      sin(xyz.y) * radius * sphericalAspectY,\n      (cos(xyz.x) * cosine - sphericalFocus) / sphericalAspectX,\n      1.0\n    );\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[449]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float splitStride;\n\nvec2 getIndices(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndex(float v);\n\nvec4 getSplitXYZW(vec4 xyzw) {\n  vec2 uv \x3d getIndices(xyzw);\n  float offset \x3d uv.x + uv.y * splitStride;\n  return injectIndex(offset) + getRest(xyzw);\n}\n"};
shadow$provide[450]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 spreadOffset;\nuniform mat4 spreadMatrix;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvec4 getSpreadSample(vec4 xyzw) {\n  vec4 sample \x3d getSample(xyzw);\n  return sample + spreadMatrix * (spreadOffset + xyzw);\n}\n"};
shadow$provide[451]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying vec2 vSprite;\n\nvec4 getSample(vec2 xy);\n\nvec4 getSpriteColor() {\n  return getSample(vSprite);\n}"};
shadow$provide[452]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec2 spriteOffset;\nuniform float spriteScale;\nuniform float spriteDepth;\nuniform float spriteSnap;\n\nuniform vec2 renderOdd;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float pixelUnit;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying float vPixelSize;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec4 getSprite(vec4 xyzw);\n\nvec3 getSpritePosition() {\n  // Clip points\n  vec4 p \x3d min(geometryClip, position4);\n  float diff \x3d length(position4 - p);\n  if (diff \x3e 0.0) {\n    return vec3(0.0, 0.0, 1000.0);\n  }\n\n  // Make sprites\n  vec3 center \x3d getPosition(p, 1.0);\n  vec4 atlas \x3d getSprite(p);\n\n  // Sprite goes from -1..1, width \x3d 2.\n  // -1..1 -\x3e -0.5..0.5\n  vec2 halfSprite \x3d sprite * .5;\n  vec2 halfFlipSprite \x3d vec2(halfSprite.x, -halfSprite.y);\n\n#ifdef POSITION_UV\n  // Assign UVs\n  vUV \x3d atlas.xy + atlas.zw * (halfFlipSprite + .5);\n#endif\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float depth \x3d focusDepth, z;\n  z \x3d -center.z;\n  if (spriteDepth \x3c 1.0) {\n    depth \x3d mix(z, focusDepth, spriteDepth);\n  }\n  \n  // Match device/unit mapping \n  float size \x3d pixelUnit * spriteScale;\n  float depthSize \x3d depth * size;\n\n  // Calculate pixelSize for anti-aliasing\n  float pixelSize \x3d (spriteDepth \x3e 0.0 ? depthSize / z : size);\n  vPixelSize \x3d pixelSize;\n\n  // Position sprite\n  vec2 atlasOdd \x3d fract(atlas.zw / 2.0);\n  vec2 offset \x3d (spriteOffset + halfSprite * atlas.zw) * depthSize;\n  if (spriteSnap \x3e 0.5) {\n    // Snap to pixel (w/ epsilon shift to avoid jitter)\n    return vec3(((floor(center.xy / center.z * renderScale + 0.001) + renderOdd + atlasOdd) * center.z + offset) * renderScaleInv, center.z);\n  }\n  else {\n    // Place directly\n    return center + vec3(offset * renderScaleInv, 0.0);\n  }\n\n}\n"};
shadow$provide[453]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float stereoBend;\nuniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform mat4 viewMatrix;\nuniform vec2 view4D;\n\nvec4 getStereographic4Position(vec4 position, inout vec4 stpq) {\n  \n  vec4 transformed;\n  if (stereoBend \x3e 0.0001) {\n\n    float r \x3d length(position);\n    float w \x3d r + position.w;\n    vec4 project \x3d vec4(position.xyz / w, r);\n    \n    transformed \x3d mix(position, project, stereoBend);\n  }\n  else {\n    transformed \x3d position;\n  }\n\n  vec4 pos4 \x3d transformed * basisScale - basisOffset;\n  vec3 xyz \x3d (viewMatrix * vec4(pos4.xyz, 1.0)).xyz;\n  return vec4(xyz, pos4.w * view4D.y + view4D.x);\n}\n"};
shadow$provide[454]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float stereoBend;\n\nuniform mat4 viewMatrix;\n\nvec4 getStereoPosition(vec4 position, inout vec4 stpq) {\n  if (stereoBend \x3e 0.0001) {\n\n    vec3 pos \x3d position.xyz;\n    float r \x3d length(pos);\n    float z \x3d r + pos.z;\n    vec3 project \x3d vec3(pos.xy / z, r);\n    \n    vec3 lerped \x3d mix(pos, project, stereoBend);\n\n    return viewMatrix * vec4(lerped, 1.0);\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[455]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying vec2 vST;\n\nvec4 getSample(vec2 st);\n\nvec4 getSTSample() {\n  return getSample(vST);\n}\n"};
shadow$provide[456]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="varying vec2 vUV;\n\nvoid setRawUV(vec4 xyzw) {\n  vUV \x3d xyzw.xy;\n}\n"};
shadow$provide[457]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec3 strip;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getStripGeometry(vec4 xyzw, vec3 strip, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(xyzw, 1.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, strip.x), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, strip.y), 0.0);\n\n  normal \x3d normalize(cross(c - a, b - a)) * strip.z;\n  \n  pos \x3d a;\n}\n\nvec3 getStripPositionNormal() {\n  vec3 center, normal;\n\n  vec4 p \x3d min(geometryClip, position4);\n\n  getStripGeometry(p, strip, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[458]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec3 styleColor;\nuniform float styleOpacity;\n\nvec4 getStyleColor() {\n  return vec4(styleColor, styleOpacity);\n}\n"};
shadow$provide[459]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xy, i + g, xyzw.w));\n}\n"};
shadow$provide[460]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepthLerp(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[461]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.x, i + g, xyzw.zw));\n}\n"};
shadow$provide[462]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeightLerp(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[463]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xyz, i + g));\n}\n"};
shadow$provide[464]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItemsLerp(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[465]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(i + g, xyzw.yzw));\n}\n"};
shadow$provide[466]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidthLerp(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[467]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="attribute vec4 position4;\n\nfloat getSurfaceHollowMask(vec4 xyzw) {\n  vec4 df \x3d abs(fract(position4) - .5);\n  vec2 df2 \x3d min(df.xy, df.zw);\n  float df3 \x3d min(df2.x, df2.y);\n  return df3;\n}"};
shadow$provide[468]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 geometryClip;\nuniform vec4 geometryResolution;\nuniform vec4 mapSize;\n\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getSurfacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 xyz \x3d getPosition(p, 1.0);\n\n  // Overwrite UVs\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return xyz;\n}\n"};
shadow$provide[469]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec3 getNormal(vec4 xyzw);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionNormal() {\n\n  vec4 p \x3d min(geometryClip, position4);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 center \x3d getPosition(p, 1.0);\n  vNormal     \x3d normalMatrix * normalize(getNormal(p));\n  vLight      \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition   \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[470]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef SURFACE_CLOSED_X\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  float gy \x3d geometryClip.y;\n  if (xyzw.y \x3c 0.0) xyzw.y +\x3d gy;\n  if (xyzw.y \x3e\x3d gy) xyzw.y -\x3d gy;\n#endif\n  return xyzw;\n}\n\nvoid getSurfaceGeometry(vec4 xyzw, float edgeX, float edgeY, out vec3 left, out vec3 center, out vec3 right, out vec3 up, out vec3 down) {\n  vec4 deltaX \x3d vec4(1.0, 0.0, 0.0, 0.0);\n  vec4 deltaY \x3d vec4(0.0, 1.0, 0.0, 0.0);\n\n  center \x3d                  getPosition(xyzw, 1.0);\n  left   \x3d                  center;\n  down   \x3d                  center;\n  right  \x3d (edgeX \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaX), 0.0) : (2.0 * center - getPosition(xyzw - deltaX, 0.0));\n  up     \x3d (edgeY \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaY), 0.0) : (2.0 * center - getPosition(xyzw - deltaY, 0.0));\n}\n\nvec3 getSurfaceNormal(vec3 left, vec3 center, vec3 right, vec3 up, vec3 down) {\n  vec3 dx \x3d right - left;\n  vec3 dy \x3d up    - down;\n  vec3 n \x3d cross(dy, dx);\n  if (length(n) \x3e 0.0) {\n    return normalize(n);\n  }\n  return vec3(0.0, 1.0, 0.0);\n}\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionShaded() {\n  vec3 left, center, right, up, down;\n\n  vec4 p \x3d min(geometryClip, position4);\n  vec2 surface \x3d vec2(0.0);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) surface.x \x3d 1.0;\n  //if (p.x \x3d\x3d 0.0) surface.x \x3d -1.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#else\n  if (p.y \x3d\x3d geometryClip.y) surface.y \x3d 1.0;\n  //if (p.y \x3d\x3d 0.0) surface.y \x3d -1.0;\n#endif\n\n  getSurfaceGeometry(p, surface.x, surface.y, left, center, right, up, down);\n  vNormal   \x3d getSurfaceNormal(left, center, right, up, down);\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[471]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform float worldUnit;\nuniform float focusDepth;\nuniform float tickSize;\nuniform float tickEpsilon;\nuniform vec3  tickNormal;\nuniform vec2  tickStrip;\n\nvec4 getSample(vec4 xyzw);\n\nvec3 transformPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getTickPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut) {\n  float epsilon \x3d tickEpsilon;\n\n  // determine tick direction\n  float leftX  \x3d max(tickStrip.x, xyzw.y - 1.0);\n  float rightX \x3d min(tickStrip.y, xyzw.y + 1.0);\n  \n  vec4 left    \x3d getSample(vec4(leftX,  xyzw.zw, 0.0));\n  vec4 right   \x3d getSample(vec4(rightX, xyzw.zw, 0.0));\n  vec4 diff    \x3d right - left;\n\n  vec3 normal  \x3d cross(normalize(diff.xyz + vec3(diff.w)), tickNormal);\n  float bias   \x3d max(0.0, 1.0 - length(normal) * 2.0);\n       normal  \x3d mix(normal, tickNormal.yzx, bias * bias);\n  \n  // transform (point) and (point + delta)\n  vec4 center  \x3d getSample(vec4(xyzw.yzw, 0.0));\n  vec4 delta   \x3d vec4(normal, 0.0) * epsilon;\n\n  vec4 a \x3d center;\n  vec4 b \x3d center + delta;\n\n  vec4 _;\n  vec3 c \x3d transformPosition(a, stpqIn, stpqOut);\n  vec3 d \x3d transformPosition(b, stpqIn, _);\n  \n  // sample on either side to create line\n  float line \x3d xyzw.x - .5;\n  vec3  mid  \x3d c;\n  vec3  side \x3d normalize(d - c);\n\n  return mid + side * line * tickSize * worldUnit * focusDepth;\n}\n"};
shadow$provide[472]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform mat4 transformMatrix;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[473]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="uniform mat4 transformMatrix;\nuniform vec4 transformOffset;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * position + transformOffset;\n}\n"};
shadow$provide[474]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;p.default="// Implicit three.js uniform\n// uniform mat4 viewMatrix;\n\nvec4 getViewPosition(vec4 position, inout vec4 stpq) {\n  return (viewMatrix * vec4(position.xyz, 1.0));\n}\n"};
shadow$provide[475]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Graph=void 0;class w{static initClass(){this.IN=this.index=0;this.OUT=1}static id(r){return++w.index}constructor(r,m=null){this.parent=m;this.id=w.id();this.nodes=[];r&&this.add(r)}inputs(){const r=[];for(const m of Array.from(this.nodes))for(const d of Array.from(m.inputs))null===d.input&&r.push(d);return r}outputs(){const r=[];for(const m of Array.from(this.nodes))for(const d of Array.from(m.outputs))0===d.output.length&&
r.push(d);return r}getIn(r){return Array.from(this.inputs()).filter(m=>m.name===r)[0]}getOut(r){return Array.from(this.outputs()).filter(m=>m.name===r)[0]}add(r,m){if(r.length)for(const d of Array.from(r))this.add(d);else{if(r.graph&&!m)throw Error("Adding node to two graphs at once");r.graph=this;this.nodes.push(r)}}remove(r,m){if(r.length)for(const d of Array.from(r))this.remove(d);else{if(r.graph!==this)throw Error("Removing node from wrong graph.");m||r.disconnect();this.nodes.splice(this.nodes.indexOf(r),
1);r.graph=null}}adopt(r){if(r.length)for(const m of Array.from(r))this.adopt(m);else r.graph.remove(r,!0),this.add(r,!0)}}p.Graph=w;w.initClass()};
shadow$provide[476]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Outlet=void 0;var w=B(475);class r{static initClass(){this.index=0}static make(m,d){null==d&&(d={});if(null!=m.meta)for(const c in m.meta)d[c]=m.meta[c];return new r(m.inout,m.name,m.hint,m.type,d)}static id(m){return`_io_${++r.index}_${m}`}static hint(m){m=m.replace(/^_io_[0-9]+_/,"");m=m.replace(/_i_o$/,"");return m.replace(/(In|Out|Inout|InOut)$/,"")}constructor(m,d,c,g,h,l){this.inout=m;this.name=d;this.hint=
c;this.type=g;null==h&&(h={});this.meta=h;this.id=l;null==this.hint&&(this.hint=r.hint(this.name));this.input=this.node=null;this.output=[];null==this.id&&(this.id=r.id(this.hint))}morph(m){this.inout=m.inout;this.name=m.name;this.hint=m.hint;this.type=m.type;return this.meta=m.meta}dupe(m){null==m&&(m=this.id);const d=r.make(this);d.name=m;return d}connect(m){if(this.inout===w.Graph.IN&&m.inout===w.Graph.OUT)return m.connect(this);if(this.inout!==w.Graph.OUT||m.inout!==w.Graph.IN)throw Error("Can only connect out to in.");
if(m.input!==this)return m.disconnect(),m.input=this,this.output.push(m)}disconnect(m){this.input&&this.input.disconnect(this);if(this.output.length)if(m){const d=this.output.indexOf(m);if(0<=d)return this.output.splice(d,1),m.input=null}else{for(m of Array.from(this.output))m.input=null;return this.output=[]}}}p.Outlet=r;r.initClass()};
shadow$provide[477]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Node=void 0;var w=B(475),r=B(476);class m{static initClass(){this.index=0}static id(d){return++m.index}constructor(d,c){this.owner=d;this.graph=null;this.inputs=[];this.outputs=[];this.all=[];this.outlets=null;this.id=m.id();this.setOutlets(c)}getIn(d){return Array.from(this.inputs).filter(c=>c.name===d)[0]}getOut(d){return Array.from(this.outputs).filter(c=>c.name===d)[0]}get(d){return this.getIn(d)||this.getOut(d)}setOutlets(d){if(null!=
d){let c;if(null==this.outlets){this.outlets={};for(c of Array.from(d))c instanceof r.Outlet||(c=r.Outlet.make(c)),this._add(c);return}const g={};for(c of Array.from(d))g[[c.name,c.inout,c.type].join("-")]=!0;for(let h in this.outlets)c=this.outlets[h],h=[c.name,c.inout,c.type].join("-"),g[h]?g[h]=c:this._remove(c);for(c of Array.from(d))d=g[[c.name,c.inout,c.type].join("-")],d instanceof r.Outlet?this._morph(d,c):(c instanceof r.Outlet||(c=r.Outlet.make(c)),this._add(c));this}return this.outlets}connect(d,
c,g){let h;let l;const k={},t={};for(h of Array.from(d.inputs))if(g||!h.input)({type:x}=h),d=x+"/"+h.hint,t[d]||(t[d]=h),k[x]=d=k[x]||[],d.push(h);g=this.outputs;g=g.filter(A=>!(c&&A.output.length));for(l of Array.from(g.slice())){({type:x}=l);d=x+"/"+l.hint;var x=k[x];if(h=t[d])l.connect(h),delete t[d],x.splice(x.indexOf(h),1),g.splice(g.indexOf(l),1)}if(!g.length)return this;for(l of Array.from(g.slice()))({type:x}=l),(x=k[x])&&x.length&&l.connect(x.shift());return this}disconnect(d){let c;for(c of Array.from(this.inputs))c.disconnect();
for(c of Array.from(this.outputs))c.disconnect();return this}_key(d){return[d.name,d.inout].join("-")}_add(d){const c=this._key(d);if(d.node)throw Error("Adding outlet to two nodes at once.");if(this.outlets[c])throw Error(`Adding two identical outlets to same node. (${c})`);d.node=this;d.inout===w.Graph.IN&&this.inputs.push(d);d.inout===w.Graph.OUT&&this.outputs.push(d);this.all.push(d);return this.outlets[c]=d}_morph(d,c){let g=this._key(c);delete this.outlets[g];d.morph(c);g=this._key(c);return this.outlets[g]=
c}_remove(d){const c=this._key(d);if(d.node!==this)throw Error("Removing outlet from wrong node.");d.disconnect();d.node=null;delete this.outlets[c];d.inout===w.Graph.IN&&this.inputs.splice(this.inputs.indexOf(d),1);d.inout===w.Graph.OUT&&this.outputs.splice(this.outputs.indexOf(d),1);this.all.splice(this.all.indexOf(d),1);return this}}p.Node=m;m.initClass()};
shadow$provide[478]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w={IN:!0,OUT:!0};p.OUT=p.IN=void 0;var r=B(475);Object.keys(r).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(w,h)||h in p&&p[h]===r[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return r[h]}}))});var m=B(477);Object.keys(m).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(w,h)||h in p&&p[h]===m[h]||Object.defineProperty(p,
h,{enumerable:!0,get:function(){return m[h]}}))});var d=B(476);Object.keys(d).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(w,h)||h in p&&p[h]===d[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return d[h]}}))});const {IN:c,OUT:g}=r.Graph;p.OUT=g;p.IN=c};
shadow$provide[479]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Snippet=void 0;class w{static initClass(){this.index=0}static namespace(){return`_sn_${++w.index}_`}static load(r,m,d){const c=r.parse(m,d),[g,h]=Array.from(r.compile(c));return new w(r,g,h,m,d)}constructor(r,m,d,c,g){this.language=r;this._signatures=m;this._compiler=d;this._name=c;this._original=g;this.varyings=this.attributes=this.symbols=this.externals=this.uniforms=this.entry=this.main=this.code=this.namespace=
null;this.language||delete this.language;this._signatures||delete this._signatures;this._compiler||delete this._compiler;this._original||delete this._original;this._name||(this._name=null!=this._signatures?this._signatures.main.name:void 0)}clone(){return new w(this.language,this._signatures,this._compiler,this._name,this._original)}bind(r,m,d,c){let g;var h;let l;m===""+m?[d,m,c]=Array.from([m,null!=d?d:{},null!=c?c:{}]):d!==""+d&&([c,d]=Array.from([null!=d?d:{},void 0]));this.main=this._signatures.main;
this.namespace=null!=(h=null!=d?d:this.namespace)?h:w.namespace();this.entry=this.namespace+this.main.name;this.uniforms={};this.varyings={};this.attributes={};this.externals={};this.symbols=[];d={};const k={};h=function(H){k[H]=!0;return H};const t=H=>this.namespace+H;if(r.globals)for(var x of Array.from(r.globals))h(x);const A=r.globalUniforms?h:t,y=r.globalVaryings?h:t,E=r.globalAttributes?h:t;r=(H,P)=>this.uniforms[A(null!=P?P:H.name)]=H;l=H=>this.varyings[y(H.name)]=H;x=H=>this.attributes[E(H.name)]=
H;h=H=>{const P=t(H.name);this.externals[P]=H;return this.symbols.push(P)};const F=H=>({type:H.type,name:H.name,value:H.value});for(g of Array.from(this._signatures.uniform))d[g.name]=!0;for(g of Array.from(this._signatures.uniform))r(F(g));for(g of Array.from(this._signatures.varying))l(F(g));for(g of Array.from(this._signatures.external))h(g);for(g of Array.from(this._signatures.attribute))x(F(g));for(const H in m)g=m[H],d[H]&&r(g,H);this.body=this.code=this._compiler(this.namespace,k,c);c&&(m=
(()=>{const H=[];for(const P in c)l=c[P],H.push(`#define ${P} ${l}`);return H})().join("\n"),m.length&&(this._original=[m,"//----------------------------------------",this._original].join("\n")));return null}}p.Snippet=w;w.initClass()};
shadow$provide[480]=function(G,B,X,p){p.make=function(w){null==w&&(w=[]);w instanceof Array||(w=[+w]);return w};p.nest=(w,r)=>w.concat(r);p.compare=function(w,r){var m=Math.min(w.length,r.length);for(let d=0,c=m,g=0<=c;g?d<c:d>c;g?d++:d--){m=w[d];const h=r[d];if(m>h)return-1;if(m<h)return 1}w=w.length;r=r.length;return w>r?-1:w<r?1:0};p.max=function(w,r){return 0<p.compare(w,r)?r:w}};
shadow$provide[481]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}function r(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,k)){var t=l?Object.getOwnPropertyDescriptor(c,
k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}Object.defineProperty(p,"__esModule",{value:!0});p.assemble=void 0;var m=r(B(478)),d=r(B(480));p.assemble=function(c,g,h,l){const k={},t=[],x={},A={},y={},E={},F=Q=>{let O;Q=(()=>{const za=[];for(const Ea in Q)O=Q[Ea],za.push(O);return za})();Q.sort((za,Ea)=>Ea.priority-za.priority);const da=(za,Ea,sa)=>{P(za,Ea,sa);({main:sa}=Ea);({entry:Ea}=Ea);return c.call(gb=>aa(za,gb),gb=>T(za,gb),Ea,sa.signature,
ea)},ea=c.body();for(O of Array.from(Q))da(O.node,O.module,O.priority);return[ea,Q]},H=function(Q,O,da){const ea=E[Q];return null!=ea?ea.priority=d.max(ea.priority,da):E[Q]={code:O,priority:da}},P=function(Q,O,da){let ea;da=d.make(da);for(const za in O.library){const Ea=O.library[za];H(za,Ea.code,d.nest(da,Ea.priority))}H(O.namespace,O.body,da);for(ea in O.uniforms)da=O.uniforms[ea],x[ea]=da;for(ea in O.varyings)da=O.varyings[ea],A[ea]=da;for(ea in O.attributes)da=O.attributes[ea],y[ea]=da;return K(Q,
O)},K=(Q,O)=>{const da=[];for(const ea of Array.from(O.symbols)){const za=O.externals[ea];if(T(Q,za.name)){const Ea={};for(const sa in za)Ea[sa]=za[sa];Ea.name=aa(Q,za.name);k[ea]=Ea;da.push(t.push(ea))}else da.push(void 0)}return da},T=function(Q,O){Q=Q.get(O);if(Q.inout===m.IN)return null===Q.input;if(Q.inout===m.OUT)return 0===Q.output.length},aa=function(Q,O){Q=Q.get(O);if(!Q)return null;Q.input&&(Q=Q.input);({name:O}=Q);return Q.id};return function(){let Q;for(Q in l){var O=l[Q];K(O.node,O.module)}[O,
h]=Array.from(F(h));null!=g&&(O.entry=g);O=c.build(O,h);var da=(()=>{const ea=[];for(Q in E)ea.push(E[Q]);return ea})().sort((ea,za)=>d.compare(ea.priority,za.priority)).map(ea=>ea.code);da.push(O.code);da=c.lines(da);return{namespace:O.name,library:E,body:O.code,code:da,main:O,entry:O.name,symbols:t,externals:k,uniforms:x,varyings:A,attributes:y}}()}};
shadow$provide[482]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Program=void 0;var w=B(479),r=B(481);class m{static initClass(){this.index=0}static entry(){return`_pg_${++m.index}_`}constructor(d,c,g){this.language=d;this.namespace=c;this.graph=g;this.calls={};this.requires={}}call(d,c,g){let h;const l=c.namespace;(h=this.calls[l])?h.priority=Math.max(h.priority,g):this.calls[l]={node:d,module:c,priority:g};return this}require(d,c){return this.requires[c.namespace]={node:d,
module:c}}assemble(){const d=(0,r.assemble)(this.language,null!=this.namespace?this.namespace:m.entry,this.calls,this.requires),c=new w.Snippet;for(const g in d)c[g]=d[g];c.graph=this.graph;return c}}p.Program=m;m.initClass()};
shadow$provide[483]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}function r(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,k)){var t=l?Object.getOwnPropertyDescriptor(c,
k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}Object.defineProperty(p,"__esModule",{value:!0});p.link=void 0;var m=r(B(478)),d=r(B(480));p.link=function(c,g,h,l){let k=[];const t=[],x={},A={},y={},E={},F={},H=function(K,T,aa){const Q=F[K];return null!=Q?Q.priority=d.max(Q.priority,aa):F[K]={code:T,priority:aa}},P=function(K,T,aa){let Q;aa=d.make(aa);for(var O in T.library){var da=T.library[O];H(O,da.code,d.nest(aa,da.priority))}H(T.namespace,T.body,
aa);for(Q in T.uniforms)aa=T.uniforms[Q],A[Q]=aa;for(Q in T.varyings)aa=T.varyings[Q],E[Q]=aa;for(Q in T.attributes)aa=T.attributes[Q],y[Q]=aa;aa=[];for(Q of Array.from(T.symbols)){O=T.externals[Q];{da=K;var ea=O.name;const za=da.get(ea);if(!za)throw Error(`Unable to link program. Unlinked callback \`${ea}\` on \`${null!=(null!=da.owner.snippet?da.owner.snippet._name:void 0)?null!=da.owner.snippet?da.owner.snippet._name:void 0:da.owner.namespace}\``);da=za.inout===m.IN?null===za.input:za.inout===
m.OUT?0===za.output.length:void 0}da?(x[Q]=O,aa.push(t.push(Q))):aa.push(void 0)}return aa};return function(){var K=c.links(g);const T=[];null!=K.defs&&T.push(K.defs);null!=K.bodies&&T.push(K.bodies);for(const aa of Array.from(h))P(aa.node,aa.module,aa.priority);k=(()=>{const aa=[];for(const Q in F)aa.push(F[Q]);return aa})().sort((aa,Q)=>d.compare(aa.priority,Q.priority)).map(aa=>aa.code);K=c.lines(k);K=c.defuse(K);T.length&&(K=[c.lines(T),K].join("\n"));K=c.hoist(K);K=c.dedupe(K);return{namespace:l.main.name,
code:K,main:l.main,entry:l.main.name,externals:x,uniforms:A,attributes:y,varyings:E}}()}};
shadow$provide[484]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Layout=void 0;var w=B(479),r=B(483);class m{constructor(d,c){this.language=d;this.graph=c;this.links=[];this.includes=[];this.modules={};this.visits={}}callback(d,c,g,h,l){return this.links.push({node:d,module:c,priority:g,name:h,external:l})}include(d,c,g){let h;if(null!=(h=this.modules[c.namespace]))return h.priority=Math.max(g,h.priority);this.modules[c.namespace]=!0;return this.includes.push({node:d,module:c,
priority:g})}visit(d){return this.visits[d]?!1:this.visits[d]=!0}link(d){d=(0,r.link)(this.language,this.links,this.includes,d);const c=new w.Snippet;for(const g in d)c[g]=d[g];c.graph=this.graph;return c}}p.Layout=m};
shadow$provide[485]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w={load:!0};p.load=void 0;var r=B(479);Object.keys(r).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(w,l)||l in p&&p[l]===r[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return r[l]}}))});var m=B(482);Object.keys(m).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(w,l)||l in p&&p[l]===m[l]||Object.defineProperty(p,
l,{enumerable:!0,get:function(){return m[l]}}))});var d=B(484);Object.keys(d).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(w,l)||l in p&&p[l]===d[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return d[l]}}))});var c=B(481);Object.keys(c).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(w,l)||l in p&&p[l]===c[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return c[l]}}))});var g=B(483);
Object.keys(g).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(w,l)||l in p&&p[l]===g[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return g[l]}}))});var h=B(480);Object.keys(h).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(w,l)||l in p&&p[l]===h[l]||Object.defineProperty(p,l,{enumerable:!0,get:function(){return h[l]}}))});({load:G}=r.Snippet);p.load=G};
shadow$provide[486]=function(G,B,X,p){function w(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,k=new WeakMap;return(w=function(t){return t?k:l})(h)}function r(h,l){return"undefined"!==typeof h&&null!==h?l(h):void 0}Object.defineProperty(p,"__esModule",{value:!0});p.Block=void 0;var m=function(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=w(l))&&l.has(h))return l.get(h);var k={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in h)if("default"!==x&&Object.prototype.hasOwnProperty.call(h,x)){var A=t?Object.getOwnPropertyDescriptor(h,x):null;A&&(A.get||A.set)?Object.defineProperty(k,x,A):k[x]=h[x]}k.default=h;l&&l.set(h,k);return k}(B(478)),d=B(485);class c{static previous(h){return null!=h.input?h.input.node.owner:void 0}constructor(h){null==h&&(h=!1);h||this.construct()}construct(){let h;null==this.namespace&&(this.namespace=d.Program.entry());return this.node=new m.Node(this,null!=(h="function"===typeof this.makeOutlets?
this.makeOutlets():void 0)?h:{})}refresh(){let h;return this.node.setOutlets(null!=(h="function"===typeof this.makeOutlets?this.makeOutlets():void 0)?h:{})}clone(){return new c}compile(h,l){h=new d.Program(h,null!=l?l:d.Program.entry(),this.node.graph);this.call(h,0);return h.assemble()}link(h,l){l=this.compile(h,l);h=new d.Layout(h,this.node.graph);this._include(l,h,0);this.export(h,0);return h.link(l)}call(h,l){}callback(h,l,k,t,x){}export(h,l){}_info(h){let l=null!=(null!=this.node.owner.snippet?
this.node.owner.snippet._name:void 0)?null!=this.node.owner.snippet?this.node.owner.snippet._name:void 0:this.node.owner.namespace;if(null!=h)return l+("."+h)}_outlet(h,l){l=m.Outlet.make(h,l);l.meta.def=h;return l}_call(h,l,k){return l.call(this.node,h,k)}_require(h,l){return l.require(this.node,h)}_inputs(h,l,k){return(()=>{const t=[];for(const x of Array.from(h.main.signature)){const A=this.node.get(x.name);t.push(r(c.previous(A),y=>y.call(l,k+1)))}return t})()}_callback(h,l,k,t,x,A){return l.callback(this.node,
h,k,t,x,A)}_include(h,l,k){return l.include(this.node,h,k)}_link(h,l,k){return(()=>{const t=[];for(const x of Array.from(h.symbols)){const A=h.externals[x];let y=this.node.get(A.name);if(!y)throw new g(`External not found on ${this._info(A.name)}`);if(null!=y.meta.child)continue;let E=y,F;for(;!F&&E;)[E,y]=Array.from([y.meta.parent,E]);F=c.previous(y);if(!F)throw new g(`Missing connection on ${this._info(A.name)}`);F.callback(l,k+1,x,A,y.input);t.push(null!=F?F.export(l,k+1):void 0)}return t})()}_trace(h,
l,k){return(()=>{const t=[];for(const x of Array.from(h.main.signature)){const A=this.node.get(x.name);t.push(r(c.previous(A),y=>y.export(l,k+1)))}return t})()}}p.Block=c;const g=function(h){h=Error(h);h.name="OutletError";return h};g.prototype=Error()};
shadow$provide[487]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Call=void 0;G=B(486);class w extends G.Block{constructor(r){super(!0);this.snippet=r;this.namespace=r.namespace;this.construct()}clone(){return new w(this.snippet)}makeOutlets(){var r=this.snippet.main.signature;const {externals:m}=this.snippet;var {symbols:d}=this.snippet;r=Array.from(r).map(c=>this._outlet(c,{callback:!1}));d=Array.from(d).map(c=>this._outlet(m[c],{callback:!0}));return r.concat(d)}call(r,m){this._call(this.snippet,
r,m);return this._inputs(this.snippet,r,m)}export(r,m){if(r.visit(this.namespace,m))return this._link(this.snippet,r,m),this._trace(this.snippet,r,m)}}p.Call=w};
shadow$provide[488]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Callback=void 0;var w=B(478);G=B(486);class r extends G.Block{constructor(m){super(!0);this.graph=m;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new r(this.graph)}makeOutlets(){let m;this.make();const d=[];let c=[],g=[];const h=(l,k)=>{if(l.meta.callback){if(l.inout===w.Graph.IN)return k=l.dupe(),null==k.meta.child&&(k.meta.child=l),l.meta.parent=k,d.push(k)}else return k.push(l.type)};
for(m of Array.from(this.graph.inputs()))h(m,c);for(m of Array.from(this.graph.outputs()))h(m,g);c=c.join(",");g=g.join(",");d.push({name:"callback",type:`(${c})(${g})`,inout:w.Graph.OUT,meta:{callback:!0,def:this.subroutine.main}});return d}make(){return this.subroutine=this.graph.compile(this.namespace)}export(m,d){if(m.visit(this.namespace,d))return this._link(this.subroutine,m,d),this.graph.export(m,d)}call(m,d){return this._require(this.subroutine,m,d)}callback(m,d,c,g,h){this._include(this.subroutine,
m,d);return this._callback(this.subroutine,m,d,c,g,h)}}p.Callback=r};
shadow$provide[489]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Isolate=void 0;var w=B(478);G=B(486);class r extends G.Block{constructor(m){super(!0);this.graph=m;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new r(this.graph)}makeOutlets(){this.make();const m=[],d={};for(const c of["inputs","outputs"])for(const g of Array.from(this.graph[c]())){let h=void 0;["return","callback"].includes(g.hint)&&g.inout===w.Graph.OUT&&(h=g.hint);
null!=d[h]&&(h=void 0);const l=g.dupe(h);null==l.meta.child&&(l.meta.child=g);g.meta.parent=l;null!=h&&(d[h]=!0);m.push(l)}return m}make(){return this.subroutine=this.graph.compile(this.namespace)}call(m,d){this._call(this.subroutine,m,d);return this._inputs(this.subroutine,m,d)}export(m,d){if(m.visit(this.namespace,d))return this._link(this.subroutine,m,d),this._trace(this.subroutine,m,d),this.graph.export(m,d)}callback(m,d,c,g,h){h=h.meta.child;return h.node.owner.callback(m,d,c,g,h)}}p.Isolate=
r};
shadow$provide[490]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Join=void 0;G=B(486);class w extends G.Block{constructor(r){super(!0);this.nodes=r;this.construct()}clone(){return new w(this.nodes)}makeOutlets(){return[]}call(r,m){return(()=>{const d=[];for(const c of Array.from(this.nodes))d.push(c.owner.call(r,m));return d})()}export(r,m){return(()=>{const d=[];for(const c of Array.from(this.nodes))d.push(c.owner.export(r,m));return d})()}}p.Join=w};
shadow$provide[491]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(486);Object.keys(w).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===w[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return w[g]}}))});var r=B(487);Object.keys(r).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===r[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return r[g]}}))});var m=B(488);Object.keys(m).forEach(function(g){"default"!==
g&&"__esModule"!==g&&(g in p&&p[g]===m[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return m[g]}}))});var d=B(489);Object.keys(d).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===d[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return d[g]}}))});var c=B(490);Object.keys(c).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in p&&p[g]===c[g]||Object.defineProperty(p,g,{enumerable:!0,get:function(){return c[g]}}))})};
shadow$provide[492]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.serialize=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(491));const m=function(d){const c=[],g=[];for(const l of Array.from(d.nodes)){let k;var h={id:l.id,name:null,type:null,depth:null,graph:null,inputs:[],outputs:[]};c.push(h);({inputs:d}=h);const {outputs:t}=h,x=l.owner;x instanceof r.Call?(h.name=x.snippet._name,h.type="call",h.code=x.snippet._original):x instanceof r.Callback?(h.name="Callback",h.type=
"callback",h.graph=m(x.graph)):x instanceof r.Isolate?(h.name="Isolate",h.type="isolate",h.graph=m(x.graph)):x instanceof r.Join?(h.name="Join",h.type="join"):null!=x&&(null==h.name&&(h.name=null!=x.name?x.name:x.type),null==h.type&&(h.type=x.type),null==h.code&&(h.code=x.code),null!=x.graph&&(h.graph=m(x.graph)));h=function(A){A=A.replace(")(",")→(");return A.replace("()","")};for(k of Array.from(l.inputs))d.push({id:k.id,name:k.name,type:h(k.type),open:null==k.input});for(k of Array.from(l.outputs)){t.push({id:k.id,
name:k.name,type:h(k.type),open:!k.output.length});for(const A of Array.from(k.output))g.push({from:l.id,out:k.id,to:A.node.id,in:A.id,type:h(k.type)})}}return{nodes:c,links:g}};p.serialize=m};
shadow$provide[493]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.hash=void 0;let w=function(r,m){const d=r&65535,c=m&65535;return d*c+((r>>>16&65535)*c+d*(m>>>16&65535)<<16>>>0)|0};null!=Math.imul&&({imul:w}=Math);p.hash=function(r){let m;const d=r.length;let c=Math.floor(d/2),g=m=0;const h=function(l,k){l|=k<<16;l=w(l^l<<9,3432918353);l=w(l<<15|l>>>17,461845907);m^=l;m=m<<13|m>>>19;m=w(m,5);return m=m+3864292196|0};for(;c--;)h(r.charCodeAt(g++),r.charCodeAt(g++));d&1&&h(r.charCodeAt(g++),
0);m^=d;m^=m>>>16;m=w(m,2246822507);m^=m>>>13;m=w(m,3266489909);return m^=m>>>16}};
shadow$provide[494]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.merge=p.overlay=p.process=void 0;var w=B(493);const r=function(k,t){null==t&&(t=1);var x=(0,w.hash)(k)^1193046;k=x&255;let A=x>>>8&255;x=x>>>16&255;var y=Math.max(k,A,x);const E=140/y;y=Math.round(y/3);k=Math.min(255,Math.round(E*Math.max(k,y)));A=Math.min(255,Math.round(E*Math.max(A,y)));x=Math.min(255,Math.round(E*Math.max(x,y)));return"rgba("+[k,A,x,t].join(", ")+")"},m=function(k){return(null!=k?k:"").replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/'/g,"\x26#39;").replace(/"/g,"\x26quot;")};p.process=function(k){const t=[],x=g(k,t);x.update=()=>{if(null==x.parentNode)var A=void 0;else{var y=x.getBoundingClientRect();for(A of Array.from(t)){var E=A.out.getBoundingClientRect(),F=A.in.getBoundingClientRect();A.coords={x1:(E.left+E.right)/2-y.left,y1:(E.top+E.bottom)/2-y.top,x2:(F.left+F.right)/2-y.left,y2:(F.top+F.bottom)/2-y.top}}y=x.querySelector("svg");null!=y&&x.removeChild(y);
for(E=x;E.parentNode&&0===E.offsetHeight;)E=E.parentNode;y=h();y.setAttribute("width",E.offsetWidth);y.setAttribute("height",E.offsetHeight);for(A of Array.from(t)){var H=A.coords;const O=h("path");E=O;F=E.setAttribute;{var P=void 0;var K=H.x1;var T=H.y1,aa=H.x2;H=H.y2;P=aa-K;var Q=H-T;const da=Math.sqrt(P*P+Q*Q);if(Math.abs(Q)>Math.abs(P)){const ea=(K+aa)/2,za=(T+H)/2;Q=0<Q?.3:-.3;P=Math.min(Math.abs(P)/2,20+da/8);K=["M",K,T,"C",K+P,T+",",ea,za-da*Q,ea,za,"C",ea,za+da*Q,aa-P,H+",",aa,H].join(" ")}else P=
Math.min(Math.abs(P)/2.5,20+da/4),K=["M",K,T,"C",K+P,T+",",aa-P,H+",",aa,H].join(" ")}F.call(E,"d",K);O.setAttribute("stroke",A.color);O.setAttribute("stroke-width",3);O.setAttribute("fill","transparent");y.appendChild(O)}A=x.appendChild(y)}return A};d(x);return x};const d=function(k){k=k.querySelectorAll(".shadergraph-code");return Array.from(k).map(t=>function(){t.parentNode.classList.add("shadergraph-has-code");return t.parentNode.addEventListener("click",x=>t.style.display={block:"none",none:"block"}[t.style.display||
"none"])}())},c=function(k){let t,x;const A={},y={};for(x of Array.from(k.nodes))A[x.id]=x;for(t of Array.from(k.links))null==y[t.from]&&(y[t.from]=[]),y[t.from].push(t);const E=function(F,H){null==H&&(H=0);F.depth=Math.max(null!=F.depth?F.depth:0,H);if(F=y[F.id])for(t of Array.from(F))E(A[t.to],H+1);return null};for(x of Array.from(k.nodes))null==x.depth&&E(x);return null},g=function(k,t){c(k);const x=document.createElement("div");x.classList.add("shadergraph-graph");const A=[],y={};for(const F of Array.from(k.nodes)){let H;
const P=document.createElement("div");P.classList.add("shadergraph-node");P.classList.add(`shadergraph-node-${F.type}`);P.innerHTML=`\
<div class="shadergraph-header">${m(F.name)}</div>\
`;var E=function(K,T){const aa=r(K.type),Q=document.createElement("div");Q.classList.add("shadergraph-outlet");Q.classList.add(`shadergraph-outlet-${T}`);Q.innerHTML=`\
<div class="shadergraph-point" style="background: ${aa}"></div>
<div class="shadergraph-type" style="color: ${aa}">${m(K.type)}</div>
<div class="shadergraph-name">${m(K.name)}</div>\
`;P.appendChild(Q);return y[K.id]=Q.querySelector(".shadergraph-point")};for(H of Array.from(F.inputs))E(H,"in");for(H of Array.from(F.outputs))E(H,"out");null!=F.graph?P.appendChild(g(F.graph,t)):(E=document.createElement("div"),E.classList.add("shadergraph-clear"),P.appendChild(E));null!=F.code&&(E=document.createElement("div"),E.classList.add("shadergraph-code"),E.innerHTML=m((""+F.code).replace(/^\s+|\s+$/g,"")),P.appendChild(E));E=A[F.depth];null==E&&(E=document.createElement("div"),E.classList.add("shadergraph-column"),
A[F.depth]=E);E.appendChild(P)}for(E of Array.from(A))null!=E&&x.appendChild(E);for(const F of Array.from(k.links))k=r(F.type),t.push({color:k,out:y[F.out],in:y[F.in]});return x},h=function(k){null==k&&(k="svg");return document.createElementNS("http://www.w3.org/2000/svg",k)};p.overlay=function(k){const t=document.createElement("div");t.setAttribute("class","shadergraph-overlay");const x=document.createElement("div");x.setAttribute("class","shadergraph-close");x.innerHTML="\x26times;";const A=document.createElement("div");
A.setAttribute("class","shadergraph-view");const y=document.createElement("div");y.setAttribute("class","shadergraph-inside");y.appendChild(k);A.appendChild(y);t.appendChild(A);t.appendChild(x);x.addEventListener("click",()=>t.parentNode.removeChild(t));return t};const l=function(k){if(k instanceof Node)return k;const t=document.createElement("span");t.innerText=null!=k?k:"";return t};p.merge=function(k){if(1!==k.length){let t;const x=document.createElement("div");for(t of Array.from(k))x.appendChild(l(t));
x.update=()=>{const A=[];for(t of Array.from(k))A.push("function"===typeof t.update?t.update():void 0);return A};return x}return l(k[0])}};
shadow$provide[495]=function(G,B,X,p){function w(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,k=new WeakMap;return(w=function(t){return t?k:l})(h)}Object.defineProperty(p,"__esModule",{value:!0});p.inspect=p.visualize=p.markup=p.serialize=void 0;G=B(492);var r=function(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=w(l))&&l.has(h))return l.get(h);var k={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in h)if("default"!==x&&Object.prototype.hasOwnProperty.call(h,x)){var A=t?Object.getOwnPropertyDescriptor(h,x):null;A&&(A.get||A.set)?Object.defineProperty(k,x,A):k[x]=h[x]}k.default=h;l&&l.set(h,k);return k}(B(494));const m=G.serialize;p.serialize=m;p.markup=r;const d=function(h){return null==h?h:h instanceof Array?h.map(d):null!=h.vertex&&null!=h.fragment?[d(h.vertex,d(h.fragment))]:null!=h._graph?h._graph:null!=h.graph?h.graph:h},c=function(h){let l=[];for(const k of Array.from(h))k instanceof
Array?l=l.concat(c(k)):null!=k&&l.push(k);return l},g=function(){const h=c(d([].slice.call(arguments)));return r.merge(Array.from(h).filter(l=>l).map(l=>{l?l.nodes&&(l=m(l),l=r.process(l)):l=void 0;return l}))};p.visualize=g;p.inspect=function(){const h=g.apply(null,arguments),l=r.overlay(h);for(const k of Array.from(document.querySelectorAll(".shadergraph-overlay")))k.remove();document.body.appendChild(l);h.update();return l}};
shadow$provide[496]=function(G,B,X,p){function w(l){if("function"!==typeof WeakMap)return null;var k=new WeakMap,t=new WeakMap;return(w=function(x){return x?t:k})(l)}function r(l,k){if(!k&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((k=w(k))&&k.has(l))return k.get(l);var t={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in l)if("default"!==A&&Object.prototype.hasOwnProperty.call(l,A)){var y=x?Object.getOwnPropertyDescriptor(l,
A):null;y&&(y.get||y.set)?Object.defineProperty(t,A,y):t[A]=l[A]}t.default=l;k&&k.set(l,t);return t}Object.defineProperty(p,"__esModule",{value:!0});p.Factory=void 0;var m=B(478),d=r(B(491)),c=r(B(495));class g{constructor(l,k,t){this.language=l;this.fetch=k;this.config=t;this.graph()}pipe(l,k,t,x){l instanceof g?this._concat(l):null!=l&&this._call(l,k,t,x);return this}call(l,k,t,x){return this.pipe(l,k,t,x)}require(l,k,t,x){l instanceof g?this._import(l):null!=l&&(this.callback(),this._call(l,k,
t,x),this.end());return this}import(l,k,t,x){return this.require(l,k,t,x)}split(){this._group("_combine",!0);return this}fan(){this._group("_combine",!1);return this}isolate(){this._group("_isolate");return this}callback(){this._group("_callback");return this}next(){this._next();return this}pass(){const l=this._stack[2].end;this.end();this._state.end=this._state.end.concat(l);return this}end(){const [l,k]=Array.from(this._exit()),{op:t}=l;if(this[t])this[t](l,k);return this}join(){return this.end()}graph(){for(;1<
(null!=this._stack?this._stack.length:void 0);)this.end();this._graph&&this._tail(this._state,this._graph);const l=this._graph;this._graph=new m.Graph;this._state=new h;this._stack=[this._state];return l}compile(l){null==l&&(l="main");return this.graph().compile(l)}link(l){null==l&&(l="main");return this.graph().link(l)}serialize(){return c.serialize(this._graph)}empty(){return 0===this._graph.nodes.length}_concat(l){let k;if(0===l._state.nodes.length)return this;this._tail(l._state,l._graph);try{k=
new d.Isolate(l._graph)}catch(t){throw this.config.autoInspect&&c.inspect(t,this._graph,l),t;}this._auto(k);return this}_import(l){let k;if(0===l._state.nodes.length)throw"Can't import empty callback";this._tail(l._state,l._graph);try{k=new d.Callback(l._graph)}catch(t){throw this.config.autoInspect&&c.inspect(t,this._graph,l),t;}this._auto(k);return this}_combine(l,k){for(const t of Array.from(l.start))for(const x of Array.from(k.end))x.connect(t,l.multi);k.end=l.end;return k.nodes=k.nodes.concat(l.nodes)}_isolate(l,
k){if(l.nodes.length){let t;k=this._subgraph(l);this._tail(l,k);try{t=new d.Isolate(k)}catch(x){throw this.config.autoInspect&&c.inspect(x,this._graph,k),x;}return this._auto(t)}}_callback(l,k){if(l.nodes.length){let t;k=this._subgraph(l);this._tail(l,k);try{t=new d.Callback(k)}catch(x){throw this.config.autoInspect&&c.inspect(x,this._graph,k),x;}return this._auto(t)}}_call(l,k,t,x){l=this.fetch(l);l.bind(this.config,k,t,x);k=new d.Call(l);return this._auto(k)}_subgraph(l){const k=new m.Graph(null,
this._graph);k.adopt(l.nodes);return k}_tail(l,k){let t=l.end.concat(l.tail);t=t.filter((x,A)=>t.indexOf(x)===A);1<t.length&&(t=new d.Join(t),t=[t.node],this._graph.add(t));k.tail=t[0];l.end=t;l.tail=[];if(!k.tail)throw Error("Cannot finalize empty graph");k.compile=x=>{null==x&&(x="main");try{return k.tail.owner.compile(this.language,x)}catch(A){throw this.config.autoInspect&&k.inspect(A),A;}};k.link=x=>{null==x&&(x="main");try{return k.tail.owner.link(this.language,x)}catch(A){throw this.config.autoInspect&&
k.inspect(A),A;}};k.export=(x,A)=>k.tail.owner.export(x,A);return k.inspect=(x=null)=>c.inspect(x,k)}_group(l,k){this._push(l,k);this._push();return this}_next(){const l=this._pop();this._state.start=this._state.start.concat(l.start);this._state.end=this._state.end.concat(l.end);this._state.nodes=this._state.nodes.concat(l.nodes);this._state.tail=this._state.tail.concat(l.tail);return this._push()}_exit(){this._next();this._pop();return[this._pop(),this._state]}_push(l,k){this._stack.unshift(new h(l,
k));return this._state=this._stack[0]}_pop(){let l;this._state=this._stack[1];null==this._state&&(this._state=new h);return null!=(l=this._stack.shift())?l:new h}_auto(l){return l.node.inputs.length?this._append(l):this._insert(l)}_append(l){let k;({node:l}=l);this._graph.add(l);for(k of Array.from(this._state.end))k.connect(l);this._state.start.length||(this._state.start=[l]);this._state.end=[l];this._state.nodes.push(l);l.outputs.length||this._state.tail.push(l)}_prepend(l){let k;({node:l}=l);this._graph.add(l);
for(k of Array.from(this._state.start))l.connect(k);this._state.end.length||(this._state.end=[l]);this._state.start=[l];this._state.nodes.push(l);l.outputs.length||this._state.tail.push(l)}_insert(l){({node:l}=l);this._graph.add(l);this._state.start.push(l);this._state.end.push(l);this._state.nodes.push(l);if(!l.outputs.length)return this._state.tail.push(l)}}p.Factory=g;class h{constructor(l=null,k,t,x,A,y){this.op=l;null==k&&(k=!1);this.multi=k;null==t&&(t=[]);this.start=t;null==x&&(x=[]);this.end=
x;null==A&&(A=[]);this.nodes=A;null==y&&(y=[]);this.tail=y}}};
shadow$provide[497]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Material=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(495));class m{constructor(d,c){this.vertex=d;this.fragment=c}build(d){return this.link(d)}link(d){null==d&&(d={});const c={},g={},h={},l=this.vertex.link("main"),k=this.fragment.link("main");for(const t of[l,k]){for(const x in t.uniforms)c[x]=t.uniforms[x];for(const x in t.varyings)g[x]=t.varyings[x];for(const x in t.attributes)h[x]=t.attributes[x]}d.vertexShader=
l.code;d.vertexGraph=l.graph;d.fragmentShader=k.code;d.fragmentGraph=k.graph;d.attributes=h;d.uniforms=c;d.varyings=g;d.inspect=()=>r.inspect("Vertex Shader",l,"Fragment Shader",k.graph);return d}inspect(){return r.inspect("Vertex Shader",this.vertex,"Fragment Shader",this.fragment.graph)}}p.Material=m};
shadow$provide[498]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.library=void 0;p.library=function(w,r,m){let d=null,c={};null!=r&&("function"===typeof r?d=h=>m(w,h,r(h)):"object"===typeof r&&(d=function(h){if(null==r[h])throw Error(`Unknown snippet \`${h}\``);return m(w,h,r[h])}));var g=h=>m(w,"",h);if(null==d)return g;g=function(h){if(h.match(/[{;]/))return m(w,"",h);c[h]=!0;return d(h)};g.used=function(h){null==h&&(h=c);return c=h};return g}};
shadow$provide[499]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.queue=void 0;p.queue=function(w){null==w&&(w=100);const r={};let m=null,d=null,c=0;const g=function(l){l.prev=null;l.next=m;null!=m&&(m.prev=l);m=l;if(null==d)return d=l},h=function(l){const {prev:k}=l,{next:t}=l;null!=k&&(k.next=t);null!=t&&(t.prev=k);m===l&&(m=t);if(d===l)return d=k};return function(l){let k,t;(t=r[l])&&t!==m?(h(t),g(t)):(c===w?(k=d.key,h(d),delete r[k]):c++,t={next:m,prev:null,key:l},g(t),
r[l]=t);return k}}};
shadow$provide[500]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.cache=void 0;var w=B(499),r=B(493);p.cache=function(m){const d={},c=(0,w.queue)(100);return function(g){const h=32<g.length?"##"+(0,r.hash)(g).toString(16):g,l=c(h);null!=l&&delete d[l];null==d[h]&&(d[h]=m(g));return d[h].clone()}}};
shadow$provide[501]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(496);Object.keys(w).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===w[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return w[h]}}))});var r=B(497);Object.keys(r).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===r[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return r[h]}}))});var m=B(498);Object.keys(m).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in p&&p[h]===m[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return m[h]}}))});var d=B(500);Object.keys(d).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===d[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return d[h]}}))});var c=B(499);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in p&&p[h]===c[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return c[h]}}))});var g=B(493);Object.keys(g).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in p&&p[h]===g[h]||Object.defineProperty(p,h,{enumerable:!0,get:function(){return g[h]}}))})};
shadow$provide[502]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.compile=void 0;p.compile=function(r){const {code:m,signatures:d}=r;r={};r[d.main.name]=!0;for(var c of["external","internal","varying","uniform","attribute"])for(const g of d[c])r[g.name]=!0;c=w(m,r);return[d,c]};const w=function(r,m){let d;const c=new RegExp("\\b("+(()=>{const g=[];for(d in m)g.push(d);return g})().join("|")+")\\b","g");r=r.replace(/\/\/[^\n]*/g,"");r=r.replace(/\/\*([^*]|\*[^/])*\*\//g,"");
return function(g,h,l){let k;null==g&&(g="");null==h&&(h={});null==l&&(l={});const t={};for(k in m)t[k]=null!=h[k]?k:g+k;g=r.replace(c,x=>t[x]);h=(()=>{const x=[];for(k in l)x.push(`#define ${k} ${l[k]}`);return x})();h.length&&h.push("");return h.join("\n")+g}}};
shadow$provide[503]=function(G,B,X,p){X.exports="precision highp mediump lowp attribute const uniform varying break continue do for while if else in out inout float int uint void bool true false discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow struct asm class union enum typedef template this packed goto switch default inline noinline volatile public static extern external interface long short double half fixed unsigned input output hvec2 hvec3 hvec4 dvec2 dvec3 dvec4 fvec2 fvec3 fvec4 sampler2DRect sampler3DRect sampler2DRectShadow sizeof cast namespace using".split(" ")};
shadow$provide[504]=function(G,B,X,p){X.exports="\x3c\x3c\x3d \x3e\x3e\x3d ++ -- \x3c\x3c \x3e\x3e \x3c\x3d \x3e\x3d \x3d\x3d !\x3d \x26\x26 || +\x3d -\x3d *\x3d /\x3d %\x3d \x26\x3d ^^ ^\x3d |\x3d ( ) [ ] . ! ~ * / % + - \x3c \x3e \x26 ^ | ? : \x3d , ; { }".split(" ")};
shadow$provide[505]=function(G,B,X,p){X.exports="abs acos all any asin atan ceil clamp cos cross dFdx dFdy degrees distance dot equal exp exp2 faceforward floor fract gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_DepthRangeParameters gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FogParameters gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FragDepthEXT gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_LightModel gl_LightModelParameters gl_LightModelProducts gl_LightProducts gl_LightSource gl_LightSourceParameters gl_MaterialParameters gl_MaxClipPlanes gl_MaxCombinedTextureImageUnits gl_MaxDrawBuffers gl_MaxFragmentUniformComponents gl_MaxLights gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingFloats gl_MaxVertexAttribs gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_Point gl_PointCoord gl_PointParameters gl_PointSize gl_Position gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SecondaryColor gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex greaterThan greaterThanEqual inversesqrt length lessThan lessThanEqual log log2 matrixCompMult max min mix mod normalize not notEqual pow radians reflect refract sign sin smoothstep sqrt step tan texture2D texture2DLod texture2DProj texture2DProjLod textureCube textureCubeLod texture2DLodEXT texture2DProjLodEXT textureCubeLodEXT texture2DGradEXT texture2DProjGradEXT textureCubeGradEXT".split(" ")};
shadow$provide[506]=function(G,B,X,p){G=B(503);X.exports=G.slice().concat("layout centroid smooth case mat2x2 mat2x3 mat2x4 mat3x2 mat3x3 mat3x4 mat4x2 mat4x3 mat4x4 uvec2 uvec3 uvec4 samplerCubeShadow sampler2DArray sampler2DArrayShadow isampler2D isampler3D isamplerCube isampler2DArray usampler2D usampler3D usamplerCube usampler2DArray coherent restrict readonly writeonly resource atomic_uint noperspective patch sample subroutine common partition active filter image1D image2D image3D imageCube iimage1D iimage2D iimage3D iimageCube uimage1D uimage2D uimage3D uimageCube image1DArray image2DArray iimage1DArray iimage2DArray uimage1DArray uimage2DArray image1DShadow image2DShadow image1DArrayShadow image2DArrayShadow imageBuffer iimageBuffer uimageBuffer sampler1DArray sampler1DArrayShadow isampler1D isampler1DArray usampler1D usampler1DArray isampler2DRect usampler2DRect samplerBuffer isamplerBuffer usamplerBuffer sampler2DMS isampler2DMS usampler2DMS sampler2DMSArray isampler2DMSArray usampler2DMSArray".split(" "))};
shadow$provide[507]=function(G,B,X,p){G=B(505);G=G.slice().filter(function(w){return!/^(gl_|texture)/.test(w)});X.exports=G.concat("gl_VertexID gl_InstanceID gl_Position gl_PointSize gl_FragCoord gl_FrontFacing gl_FragDepth gl_PointCoord gl_MaxVertexAttribs gl_MaxVertexUniformVectors gl_MaxVertexOutputVectors gl_MaxFragmentInputVectors gl_MaxVertexTextureImageUnits gl_MaxCombinedTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformVectors gl_MaxDrawBuffers gl_MinProgramTexelOffset gl_MaxProgramTexelOffset gl_DepthRangeParameters gl_DepthRange trunc round roundEven isnan isinf floatBitsToInt floatBitsToUint intBitsToFloat uintBitsToFloat packSnorm2x16 unpackSnorm2x16 packUnorm2x16 unpackUnorm2x16 packHalf2x16 unpackHalf2x16 outerProduct transpose determinant inverse texture textureSize textureProj textureLod textureOffset texelFetch texelFetchOffset textureProjOffset textureLodOffset textureProjLod textureProjLodOffset textureGrad textureGradOffset textureProjGrad textureProjGradOffset".split(" "))};
shadow$provide[508]=function(G,B,X,p){X.exports=function(Q){function O(cb){cb.length&&eb.push({type:aa[Da],data:cb,position:Kb,line:Ja,column:Fb})}function da(){$a=$a.length?[]:$a;if("/"===ib&&"*"===pa)return Kb=Ba+wa-1,Da=l,ib=pa,wa+1;if("/"===ib&&"/"===pa)return Kb=Ba+wa-1,Da=k,ib=pa,wa+1;if("#"===pa)return Da=t,Kb=Ba+wa,wa;if(/\s/.test(pa))return Da=P,Kb=Ba+wa,wa;rb=/\d/.test(pa);Pb=/[^\w_]/.test(pa);Kb=Ba+wa;Da=rb?A:Pb?x:h;return wa}function ea(){if(("\r"===pa||"\n"===pa)&&"\\"!==ib)return O($a.join("")),
Da=g,wa;$a.push(pa);ib=pa;return wa+1}function za(){if("."===ib&&/\d/.test(pa))return Da=y,wa;if("/"===ib&&"*"===pa)return Da=l,wa;if("/"===ib&&"/"===pa)return Da=k,wa;if("."===pa&&$a.length){for(;Ea($a););Da=y;return wa}if(";"===pa||")"===pa||"("===pa){if($a.length)for(;Ea($a););O(pa);Da=g;return wa+1}var cb=2===$a.length&&"\x3d"!==pa;if(/[\w_\d\s]/.test(pa)||cb){for(;Ea($a););Da=g;return wa}$a.push(pa);ib=pa;return wa+1}function Ea(cb){var Ab=0;do{var ma=r.indexOf(cb.slice(0,cb.length+Ab).join(""));
var la=r[ma];if(-1===ma){if(0<Ab--+cb.length)continue;la=cb.slice(0,1).join("")}O(la);Kb+=la.length;$a=$a.slice(la.length);return $a.length}while(1)}function sa(){if("."===pa||/[eE]/.test(pa))return $a.push(pa),Da=y,ib=pa,wa+1;if("x"===pa&&1===$a.length&&"0"===$a[0])return Da=T,$a.push(pa),ib=pa,wa+1;if(/[^\d]/.test(pa))return O($a.join("")),Da=g,wa;$a.push(pa);ib=pa;return wa+1}function gb(){"f"===pa&&($a.push(pa),ib=pa,wa+=1);if(/[eE]/.test(pa)||("-"===pa||"+"===pa)&&/[eE]/.test(ib))return $a.push(pa),
ib=pa,wa+1;if(/[^\d]/.test(pa))return O($a.join("")),Da=g,wa;$a.push(pa);ib=pa;return wa+1}var wa=0,Ba=0,Da=g,pa,ib,$a=[],eb=[],Ja=1,Fb=0,Kb=0,rb=!1,Pb=!1,N="",Z;Q=Q||{};var va=m,ab=w;"300 es"===Q.version&&(va=c,ab=d);var Ha={},Qa={};for(wa=0;wa<va.length;wa++)Ha[va[wa]]=!0;for(wa=0;wa<ab.length;wa++)Qa[ab[wa]]=!0;return function(cb){eb=[];if(null!==cb){wa=0;cb.toString&&(cb=cb.toString());N+=cb.replace(/\r\n/g,"\n");for(Z=N.length;pa=N[wa],wa<Z;){cb=wa;switch(Da){case l:"/"===pa&&"*"===ib?($a.push(pa),
O($a.join("")),Da=g):($a.push(pa),ib=pa);wa+=1;break;case k:wa=ea();break;case t:wa=ea();break;case x:wa=za();break;case A:wa=sa();break;case T:/[^a-fA-F0-9]/.test(pa)?(O($a.join("")),Da=g):($a.push(pa),ib=pa,wa+=1);break;case y:wa=gb();break;case h:if(/[^\d\w_]/.test(pa)){var Ab=$a.join("");Da=Qa[Ab]?H:Ha[Ab]?F:E;O($a.join(""));Da=g}else $a.push(pa),ib=pa,wa+=1;break;case P:/[^\s]/g.test(pa)?(O($a.join("")),Da=g):($a.push(pa),ib=pa,wa+=1);break;case g:wa=da()}if(cb!==wa)switch(N[cb]){case "\n":Fb=
0;++Ja;break;default:++Fb}}Ba+=wa;N=N.slice(wa);return eb}$a.length&&O($a.join(""));Da=K;O("(eof)");return eb}};var w=B(503),r=B(504),m=B(505),d=B(506),c=B(507),g=999,h=9999,l=0,k=1,t=2,x=3,A=4,y=5,E=6,F=7,H=8,P=9,K=10,T=11,aa="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ")};
shadow$provide[509]=function(G,B,X,p){var w=B(508);X.exports=function(r,m){m=w(m);var d=[];d=d.concat(m(r));return d=d.concat(m(null))}};
shadow$provide[510]=function(G,B,X,p){function w(){return this}function r(P,K){let T=H[P];K=K||0;T?K>T.lbp&&(T.lbp=K):(T=Object.create(F),T.id=P,T.lbp=K,H[P]=T);return T}function m(P){let K,T=A;k();for(K=T.nud();P<A.lbp;)T=A,k(),K=T.led(K);return K}function d(P,K,T){r(P,K).led=T||function(aa){this.children=[aa,m(K)];this.type="binary";return this}}function c(P,K,T){P=r(P,K);P.led=T||function(aa){this.children=[aa,m(K-1)];this.type="binary";return this};return P}function g(P,K){P=r(P);P.nud=K||function(){this.children=
[m(70)];this.type="unary";return this};return P}function h(P){r(P,150).led=function(K){this.children=[K];this.type="suffix";return this}}function l(P){return c(P,10,function(K){this.children=[K,m(9)];this.assignment=!0;this.type="assign";return this})}function k(P){let K,T,aa;if(P&&A.data!==P)return x.unexpected("expected `"+P+"`, got `"+A.data+"`");if(E>=y.length)A=H["(end)"];else{P=y[E++];K=P.data;T=P.type;if("ident"===T)aa=x.scope.find(K)||x.create_node(),T=aa.type;else if("builtin"===T)aa=H["(builtin)"];
else if("keyword"===T)aa=H["(keyword)"];else if("operator"===T){if(aa=H[K],!aa)return x.unexpected("unknown operator `"+K+"`")}else if("float"===T||"integer"===T)T="literal",aa=H["(literal)"];else return x.unexpected("unexpected token.");aa&&(aa.nud||(aa.nud=w),aa.children||(aa.children=[]));aa=Object.create(aa);aa.token=P;aa.type=T;aa.data||(aa.data=K);return A=aa}}function t(P){return function(){return x.unexpected(P)}}let x,A,y,E;const F={nud:function(){return this.children&&this.children.length?
this:t("unexpected")()},led:t("missing operator")},H={};r("(ident)").nud=w;r("(keyword)").nud=w;r("(builtin)").nud=w;r("(literal)").nud=w;r("(end)");r(":");r(";");r(",");r(")");r("]");r("}");c("\x26\x26",30);c("||",30);d("|",43);d("^",44);d("\x26",45);d("\x3d\x3d",46);d("!\x3d",46);d("\x3c",47);d("\x3c\x3d",47);d("\x3e",47);d("\x3e\x3d",47);d("\x3e\x3e",48);d("\x3c\x3c",48);d("+",50);d("-",50);d("*",60);d("/",60);d("%",60);d("?",20,function(P){this.children=[P,m(0),(k(":"),m(0))];this.type="ternary";
return this});d(".",80,function(P){A.type="literal";x.fake(A);this.children=[P,A];k();return this});d("[",80,function(P){this.children=[P,m(0)];this.type="binary";k("]");return this});d("(",80,function(P){this.children=[P];this.type="call";if(")"!==A.data)for(;;){this.children.push(m(0));if(","!==A.data)break;k(",")}k(")");return this});g("-");g("+");g("!");g("~");g("defined");g("(",function(){this.type="group";this.children=[m(0)];k(")");return this});g("++");g("--");h("++");h("--");l("\x3d");l("+\x3d");
l("-\x3d");l("*\x3d");l("/\x3d");l("%\x3d");l("\x26\x3d");l("|\x3d");l("^\x3d");l("\x3e\x3e\x3d");l("\x3c\x3c\x3d");X.exports=function(P,K){function T(aa){x.unshift(aa,!1);for(let Q=0,O=aa.children.length;Q<O;++Q)T(aa.children[Q]);x.shift()}x=P;y=K;E=0;if(y.length){k();P=m(0);P.parent=x[0];T(P);if(E<y.length)throw Error("did not use all tokens");P.parent.children=[P]}}};
shadow$provide[511]=function(G,B,X,p){function w(r){if(this.constructor!==w)return new w(r);this.state=r;this.scopes=[];this.current=null}X.exports=w;G=w.prototype;G.enter=function(r){this.scopes.push(this.current=this.state[0].scope=r||{})};G.exit=function(){this.scopes.pop();this.current=this.scopes[this.scopes.length-1]};G.define=function(r){this.current[r]=this.state[0]};G.find=function(r,m){for(m=this.scopes.length-1;-1<m;--m)if(this.scopes[m].hasOwnProperty(r))return this.scopes[m][r];return null}};
shadow$provide[512]=function(G,B,X,p){function w(wa,Ba){return{mode:wa,token:Ba,children:[],type:gb[wa],id:(4294967295*Math.random()).toString(16)}}X.exports=function(){function wa(gc){if(null===gc)return Da(),pe;ke=[];Ba(gc);return ke}function Ba(gc){if("whitespace"===gc.type||"line-comment"===gc.type||"block-comment"===gc.type)od.push(gc);else for(nd.push(gc),(vc=vc||nd[0])&&od.length&&(vc.preceding=vc.preceding||[],vc.preceding=vc.preceding.concat(od),od=[]);te||!Jb.length?0:vc=nd[0];)switch(Jb[0].mode){case g:ib();
break;case h:pa();break;case x:$a();break;case A:eb();break;case H:Ja();break;case l:Yc(!0,!0);break;case P:ed();break;case c:"ident"!==vc.type&&"builtin"!==vc.type?Z("expected user-defined name, got "+vc.data):(Jb[0].data=vc.data,Jb.shift(),nd.shift());break;case K:"keyword"!==vc.type?Z("expected keyword, got "+vc.data):(Jb.shift(),nd.shift());break;case T:"keyword"===vc.type?(Jb[0].type="keyword",Jb[0].mode=K):"ident"===vc.type?(Jb[0].type="ident",Jb[0].mode=c):Z("expected keyword or user-defined name, got "+
vc.data);break;case k:sc();break;case t:de();break;case y:hd();break;case E:zd();break;case ea:Gd();break;case aa:cd();break;case F:fc();break;case Ea:bd()}}function Da(gc){arguments.length&&Ba(gc);1<Jb.length&&Z("unexpected EOF")}function pa(){return Ha(function(){Jb.scope.enter();return d},function(){if(vc.data===Jb[0].expecting)return Jb.scope.exit(),Jb.shift();switch(vc.type){case "preprocessor":Jb.fake(w(sa[vc.type],vc,Od));nd.shift();break;default:Jb.unshift(ob())}})()}function ib(){if(Jb[0].brace){if("}"!==
vc.data)return Z("expected `}`, got "+vc.data);Jb[0].brace=!1;return nd.shift(),Jb.shift()}switch(vc.type){case "eof":return Ce&&(te=!0),Ce=!0,Jb.shift();case "keyword":switch(vc.data){case "for":return Jb.unshift(hb());case "if":return Jb.unshift(Bb());case "while":return Jb.unshift(Db());case "do":return Jb.unshift(tc());case "break":return Jb.fake(w(Q,vc)),nd.shift();case "continue":return Jb.fake(w(O,vc)),nd.shift();case "discard":return Jb.fake(w(da,vc)),nd.shift();case "return":return Jb.unshift(Sb());
case "precision":return Jb.unshift(Va())}return Jb.unshift(Kb(255));case "ident":var gc;if(gc=Jb.scope.find(vc.data))return"struct"===gc.parent.type?Jb.unshift(Kb(255)):Jb.unshift(Pb(";"));case "operator":if("{"===vc.data)return Jb[0].brace=!0,gc=Sa(),gc.expecting="}",nd.shift(),Jb.unshift(gc);if(";"===vc.data)return nd.shift(),Jb.shift();default:return Jb.unshift(Pb(";"))}}function $a(){const gc=Jb[0];return Ha(function(){if("invariant"===vc.data)return gc.flags&8?(Jb.unshift(N()),d):Z("`invariant` is not allowed here");
Jb.fake(w(za,{data:"",position:vc.position}));return d},function(){if("const"===vc.data||"attribute"===vc.data||"uniform"===vc.data||"varying"===vc.data)return gc.flags&16?(Jb.unshift(N()),d):Z("storage is not allowed here");Jb.fake(w(za,{data:"",position:vc.position}));return d},function(){if("in"===vc.data||"inout"===vc.data||"out"===vc.data){if(gc.flags&32)return Z("parameter is not allowed here");Jb.unshift(N());return d}Jb.fake(w(za,{data:"",position:vc.position}));return d},function(){"highp"===
vc.data||"mediump"===vc.data||"lowp"===vc.data?Jb.unshift(N()):Jb.fake(w(za,{data:"",position:vc.position}));return d},function(){if("struct"===vc.data){if(!(gc.flags&64))return Z("cannot nest structs");Jb.unshift(rb());return d}if("keyword"===vc.type)return Jb.unshift(N()),d;const Rc=Jb.scope.find(vc.data);return Rc?(Jb.fake(Object.create(Rc)),nd.shift(),d):Z("expected user defined type, struct or keyword, got "+vc.data)},function(){if(","===vc.data&&!(gc.flags&2))return Jb.shift();if("["===vc.data)Jb.unshift(dc());
else{if(")"===vc.data)return Jb.shift();if(";"===vc.data)return gc.stage+3;if("ident"!==vc.type&&"builtin"!==vc.type)return Z("expected identifier, got "+vc.data);gc.collected_name=nd.shift();return d}},function(){return"("===vc.data?(nd.unshift(gc.collected_name),delete gc.collected_name,Jb.unshift(ua()),gc.stage+2):d},function(){nd.unshift(gc.collected_name);delete gc.collected_name;Jb.unshift(oa());return d},function(){return Jb.shift()})()}function eb(){if("ident"===vc.type||"builtin"===vc.type){const gc=
vc.data;Jb.unshift(Ua());Jb.scope.define(gc)}else{if("operator"===vc.type){if(","===vc.data)return Jb[1].flags&2?nd.shift():Jb.shift();if("\x3d"===vc.data){if(!(Jb[1].flags&1))return Z("`\x3d` is not allowed here.");nd.shift();Jb.unshift(Pb(",",";"));return}if("["===vc.data){Jb.unshift(dc());return}}return Jb.shift()}}function Ja(){const gc=Jb[0].expecting;Jb[0].tokens=Jb[0].tokens||[];void 0===Jb[0].parenlevel&&(Jb[0].parenlevel=0,Jb[0].bracelevel=0);if(1>Jb[0].parenlevel&&-1<gc.indexOf(vc.data)){try{r(Jb,
Jb[0].tokens)}catch(Rc){throw te=!0,Rc;}return Jb.shift()}"("===vc.data?++Jb[0].parenlevel:")"===vc.data&&--Jb[0].parenlevel;switch(vc.data){case "{":++Jb[0].bracelevel;break;case "}":--Jb[0].bracelevel;break;case "(":++Jb[0].parenlevel;break;case ")":--Jb[0].parenlevel}if(0>Jb[0].parenlevel)return Z("unexpected `)`");if(0>Jb[0].bracelevel)return Z("unexpected `}`");Jb[0].tokens.push(nd.shift())}function Fb(gc){return function(){return w(gc,vc)}}function Kb(gc){const Rc=w(x,vc,Od);Rc.flags=gc;return Rc}
function rb(gc,Rc){const Tc=w(l,vc,Od);Tc.allow_assign=void 0===gc?!0:gc;Tc.allow_comma=void 0===Rc?!0:Rc;return Tc}function Pb(){const gc=w(H,vc,Od);gc.expecting=[].slice.call(arguments);return gc}function N(gc){let Rc=vc;gc&&(Rc={type:"(implied)",data:"(default)",position:Rc.position});return w(K,Rc,Od)}function Z(gc){te=!0;throw Error((gc||"unexpected "+Jb)+" at line "+Jb[0].token.line);}function va(gc,Rc){return 1,ab(gc,vc.type)&&ab(Rc,vc.data)}function ab(gc,Rc){switch(typeof gc){case "string":return Rc!==
gc&&Z("expected `"+gc+"`, got "+Rc+"\n"+vc.data),!te;case "object":return gc&&-1===gc.indexOf(Rc)&&Z("expected one of `"+gc.join("`, `")+"`, got "+Rc),!te}return!0}function Ha(){let gc=[].slice.call(arguments),Rc,Tc;return function(){const xd=Jb[0];xd.stage||(xd.stage=0);Rc=gc[xd.stage];if(!Rc)return Z("parser in undefined state!");Tc=Rc();if(Tc===d)return++xd.stage;void 0!==Tc&&(xd.stage=Tc)}}function Qa(gc,Rc){Rc=Rc||"operator";return function(){if(va(Rc,gc)){var Tc=nd.shift(),xd=Jb[0].children;
(xd=xd[xd.length-1])&&xd.token&&Tc.preceding&&(xd.token.succeeding=xd.token.succeeding||[],xd.token.succeeding=xd.token.succeeding.concat(Tc.preceding));return d}}}function cb(gc){return function(){Jb.unshift(Pb(gc));return d}}function Ab(gc){return gc?function(){const Rc=vc.data;return va("ident")&&(Jb.unshift(Ua()),Jb.scope.define(Rc),d)}:function(){if(va("ident"))return Object.create(Jb.scope.find(vc.data)).token=vc,nd.shift(),d}}function ma(){return function(){const gc=Sa();gc.expecting="}";return Jb.unshift(gc),
d}}function la(gc){return function(){const Rc=Jb[0].stage;return"{"!==vc.data?(Jb.unshift(ob()),Rc+gc):(nd.shift(),d)}}function Ra(){return function(){return Jb.shift(),Jb.shift()}}const Sa=Fb(h),ob=Fb(g),oa=Fb(A),Va=Fb(P),Ua=Fb(c);Fb(T);const ua=Fb(k),Ta=Fb(t),hb=Fb(y),Bb=Fb(F),Db=Fb(E),Sb=Fb(aa),tc=Fb(ea),dc=Fb(Ea);let Yc,ed,bd,hd,fc,cd,zd,Gd,sc,de,ge=arguments.length?[].slice.call(arguments):[],Ce=!1,Jb=[],ke=[],nd=[],od=[],te=!1,pe,vc,Od;Jb.shift=function(){let gc=[].shift.call(this),Rc=ge[this.length],
Tc=!1;ge.length?"function"===typeof ge[0]?Tc=ge[0](gc):void 0!==Rc&&(Tc=Rc.test?Rc.test(gc.type):Rc===gc.type):Tc=!0;Tc&&!te&&ke.push(gc);Od=gc.parent;return gc};Jb.unshift=function(gc,Rc){gc.parent=Jb[0];const Tc=[].unshift.call(this,gc);(void 0===Rc||Rc)&&Od!==gc&&Od.children.push(gc);Od=gc;return Tc};Jb.fake=function(gc){Jb.unshift(gc);Jb.shift()};Jb.unexpected=Z;Jb.scope=new m(Jb);Jb.create_node=function(){const gc=w(c,vc);gc.parent=wa.program;return gc};(function(){Yc=Ha(Qa("struct","keyword"),
function(){return"{"===vc.data?(Jb.fake(w(c,{data:"",position:vc.position,type:"ident"})),d):Ab(!0)()},function(){Jb.scope.enter();return d},Qa("{"),function(){if("preprocessor"===vc.type)Jb.fake(w(sa[vc.type],vc,Od)),nd.shift();else{if("}"===vc.data)return Jb.scope.exit(),nd.shift(),Jb.shift();";"===vc.data?nd.shift():Jb.unshift(Kb(166))}});ed=Ha(function(){return nd.shift(),d},function(){return va("keyword",["lowp","mediump","highp"])&&(Jb.unshift(N()),d)},function(){return Jb.unshift(N()),d},function(){return Jb.shift()});
bd=Ha(Qa("["),cb("]"),Qa("]"),function(){return Jb.shift()});hd=Ha(Qa("for","keyword"),Qa("("),function(){let gc;if("ident"===vc.type){if((gc=Jb.scope.find(vc.data))||(gc=Jb.create_node()),"struct"===gc.parent.type)return Jb.unshift(Kb(255)),d}else if("builtin"===vc.type||"keyword"===vc.type)return Jb.unshift(Kb(255)),d;return cb(";")()},Qa(";"),cb(";"),Qa(";"),cb(")"),Qa(")"),la(3),ma(),Qa("}"),Ra());fc=Ha(Qa("if","keyword"),Qa("("),cb(")"),Qa(")"),la(3),ma(),Qa("}"),function(){return"else"===vc.data?
(nd.shift(),Jb.unshift(ob()),d):Ra()()},Ra());cd=Ha(Qa("return","keyword"),function(){return";"===vc.data?d:(Jb.unshift(Pb(";")),d)},function(){nd.shift();Ra()()});zd=Ha(Qa("while","keyword"),Qa("("),cb(")"),Qa(")"),la(3),ma(),Qa("}"),Ra());Gd=Ha(Qa("do","keyword"),la(3),ma(),Qa("}"),Qa("while","keyword"),Qa("("),cb(")"),Qa(")"),Ra());sc=Ha(function(){for(let gc=1,Rc=Jb.length;gc<Rc;++gc)if(Jb[gc].mode===k)return Z("function definition is not allowed within another function");return d},function(){if(va("ident")){var gc=
vc.data,Rc=Jb.scope.find(gc);Jb.unshift(Ua());Jb.scope.define(gc);Jb.scope.enter(Rc?Rc.scope:null);return d}},Qa("("),function(){return Jb.unshift(Ta()),d},Qa(")"),function(){return";"===vc.data?(Jb.scope.exit(),Jb.shift(),Jb.shift()):d},Qa("{"),ma(),Qa("}"),function(){Jb.scope.exit();return d},function(){return Jb.shift(),Jb.shift(),Jb.shift()});de=Ha(function(){if("void"===vc.data)return Jb.fake(N()),nd.shift(),d;if(")"===vc.data)Jb.shift();else{if("struct"===vc.data)return Jb.unshift(rb(!1,!1)),
d;Jb.unshift(Kb(208));return d}},function(){if(","===vc.data)return nd.shift(),0;")"===vc.data?Jb.shift():Z("expected one of `,` or `)`, got "+vc.data)})})();Od=Sa();Od.expecting="(eof)";Od.mode=h;Od.token={type:"(program)",data:"(program)"};pe=Od;wa.program=pe;wa.scope=function(gc){1===arguments.length&&(Jb.scope=gc);return Jb.scope};Jb.unshift(Od);return wa};const r=B(510),m=B(511),d={};G=0;let c=G++,g=G++,h=G++,l=G++,k=G++,t=G++,x=G++,A=G++,y=G++,E=G++,F=G++,H=G++,P=G++;B=G++;X=G++;let K=G++,T=
G++,aa=G++,Q=G++,O=G++,da=G++,ea=G++,za=G++,Ea=G++;const sa={"block-comment":B,"line-comment":B,preprocessor:X},gb=G="ident stmt stmtlist struct function functionargs decl decllist forloop whileloop if expr precision comment preprocessor keyword keyword_or_ident return break continue discard do-while placeholder quantifier".split(" ")};
shadow$provide[513]=function(G,B,X,p){var w=B(512);X.exports=function(r){for(var m=w(),d=0;d<r.length;d++)m(r[d]);return m(null)}};
shadow$provide[514]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Vector2=void 0;class w{constructor(r=0,m=0){w.prototype.isVector2=!0;this.x=r;this.y=m}get width(){return this.x}set width(r){this.x=r}get height(){return this.y}set height(r){this.y=r}set(r,m){this.x=r;this.y=m;return this}setScalar(r){this.y=this.x=r;return this}setX(r){this.x=r;return this}setY(r){this.y=r;return this}setComponent(r,m){switch(r){case 0:this.x=m;break;case 1:this.y=m;break;default:throw Error("index is out of range: "+
r);}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+r);}}clone(){return new this.constructor(this.x,this.y)}copy(r){this.x=r.x;this.y=r.y;return this}add(r){this.x+=r.x;this.y+=r.y;return this}addScalar(r){this.x+=r;this.y+=r;return this}addVectors(r,m){this.x=r.x+m.x;this.y=r.y+m.y;return this}addScaledVector(r,m){this.x+=r.x*m;this.y+=r.y*m;return this}sub(r){this.x-=r.x;this.y-=r.y;return this}subScalar(r){this.x-=r;
this.y-=r;return this}subVectors(r,m){this.x=r.x-m.x;this.y=r.y-m.y;return this}multiply(r){this.x*=r.x;this.y*=r.y;return this}multiplyScalar(r){this.x*=r;this.y*=r;return this}divide(r){this.x/=r.x;this.y/=r.y;return this}divideScalar(r){return this.multiplyScalar(1/r)}applyMatrix3(r){const m=this.x,d=this.y;r=r.elements;this.x=r[0]*m+r[3]*d+r[6];this.y=r[1]*m+r[4]*d+r[7];return this}min(r){this.x=Math.min(this.x,r.x);this.y=Math.min(this.y,r.y);return this}max(r){this.x=Math.max(this.x,r.x);this.y=
Math.max(this.y,r.y);return this}clamp(r,m){this.x=Math.max(r.x,Math.min(m.x,this.x));this.y=Math.max(r.y,Math.min(m.y,this.y));return this}clampScalar(r,m){this.x=Math.max(r,Math.min(m,this.x));this.y=Math.max(r,Math.min(m,this.y));return this}clampLength(r,m){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(r,Math.min(m,d)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=
Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(r){return this.x*r.x+this.y*r.y}cross(r){return this.x*r.y-this.y*r.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||
1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const m=this.x-r.x;r=this.y-r.y;return m*m+r*r}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,m){this.x+=(r.x-this.x)*m;this.y+=(r.y-this.y)*m;return this}lerpVectors(r,m,d){this.x=r.x+(m.x-r.x)*d;this.y=r.y+(m.y-r.y)*d;return this}equals(r){return r.x===this.x&&r.y===this.y}fromArray(r,
m=0){this.x=r[m];this.y=r[m+1];return this}toArray(r=[],m=0){r[m]=this.x;r[m+1]=this.y;return r}fromBufferAttribute(r,m){this.x=r.getX(m);this.y=r.getY(m);return this}rotateAround(r,m){const d=Math.cos(m);m=Math.sin(m);const c=this.x-r.x,g=this.y-r.y;this.x=c*d-g*m+r.x;this.y=c*m+g*d+r.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}p.Vector2=w};
shadow$provide[515]=function(G,B,X,p){function w(){const sa=4294967295*Math.random()|0,gb=4294967295*Math.random()|0,wa=4294967295*Math.random()|0,Ba=4294967295*Math.random()|0;return(da[sa&255]+da[sa>>8&255]+da[sa>>16&255]+da[sa>>24&255]+"-"+da[gb&255]+da[gb>>8&255]+"-"+da[gb>>16&15|64]+da[gb>>24&255]+"-"+da[wa&63|128]+da[wa>>8&255]+"-"+da[wa>>16&255]+da[wa>>24&255]+da[Ba&255]+da[Ba>>8&255]+da[Ba>>16&255]+da[Ba>>24&255]).toLowerCase()}function r(sa,gb,wa){return Math.max(gb,Math.min(wa,sa))}function m(sa,
gb){return(sa%gb+gb)%gb}function d(sa,gb,wa,Ba,Da){return Ba+(sa-gb)*(Da-Ba)/(wa-gb)}function c(sa,gb,wa){return sa!==gb?(wa-sa)/(gb-sa):0}function g(sa,gb,wa){return(1-wa)*sa+wa*gb}function h(sa,gb,wa,Ba){return g(sa,gb,1-Math.exp(-wa*Ba))}function l(sa,gb=1){return gb-Math.abs(m(sa,2*gb)-gb)}function k(sa,gb,wa){if(sa<=gb)return 0;if(sa>=wa)return 1;sa=(sa-gb)/(wa-gb);return sa*sa*(3-2*sa)}function t(sa,gb,wa){if(sa<=gb)return 0;if(sa>=wa)return 1;sa=(sa-gb)/(wa-gb);return sa*sa*sa*(sa*(6*sa-15)+
10)}function x(sa,gb){return sa+Math.floor(Math.random()*(gb-sa+1))}function A(sa,gb){return sa+Math.random()*(gb-sa)}function y(sa){return sa*(.5-Math.random())}function E(sa){void 0!==sa&&(ea=sa);sa=ea+=1831565813;sa=Math.imul(sa^sa>>>15,sa|1);sa^=sa+Math.imul(sa^sa>>>7,sa|61);return((sa^sa>>>14)>>>0)/4294967296}function F(sa){return sa*za}function H(sa){return sa*Ea}function P(sa){return 0===(sa&sa-1)&&0!==sa}function K(sa){return Math.pow(2,Math.ceil(Math.log(sa)/Math.LN2))}function T(sa){return Math.pow(2,
Math.floor(Math.log(sa)/Math.LN2))}function aa(sa,gb,wa,Ba,Da){var pa=Math.cos;const ib=Math.sin,$a=pa(wa/2);wa=ib(wa/2);const eb=pa((gb+Ba)/2),Ja=ib((gb+Ba)/2),Fb=pa((gb-Ba)/2),Kb=ib((gb-Ba)/2);pa=pa((Ba-gb)/2);gb=ib((Ba-gb)/2);switch(Da){case "XYX":sa.set($a*Ja,wa*Fb,wa*Kb,$a*eb);break;case "YZY":sa.set(wa*Kb,$a*Ja,wa*Fb,$a*eb);break;case "ZXZ":sa.set(wa*Fb,wa*Kb,$a*Ja,$a*eb);break;case "XZX":sa.set($a*Ja,wa*gb,wa*pa,$a*eb);break;case "YXY":sa.set(wa*pa,$a*Ja,wa*gb,$a*eb);break;case "ZYZ":sa.set(wa*
gb,wa*pa,$a*Ja,$a*eb);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+Da)}}function Q(sa,gb){switch(gb.constructor){case Float32Array:return sa;case Uint16Array:return sa/65535;case Uint8Array:return sa/255;case Int16Array:return Math.max(sa/32767,-1);case Int8Array:return Math.max(sa/127,-1);default:throw Error("Invalid component type.");}}function O(sa,gb){switch(gb.constructor){case Float32Array:return sa;case Uint16Array:return Math.round(65535*
sa);case Uint8Array:return Math.round(255*sa);case Int16Array:return Math.round(32767*sa);case Int8Array:return Math.round(127*sa);default:throw Error("Invalid component type.");}}Object.defineProperty(p,"__esModule",{value:!0});p.generateUUID=w;p.clamp=r;p.euclideanModulo=m;p.mapLinear=d;p.inverseLerp=c;p.lerp=g;p.damp=h;p.pingpong=l;p.smoothstep=k;p.smootherstep=t;p.randInt=x;p.randFloat=A;p.randFloatSpread=y;p.seededRandom=E;p.degToRad=F;p.radToDeg=H;p.isPowerOfTwo=P;p.ceilPowerOfTwo=K;p.floorPowerOfTwo=
T;p.setQuaternionFromProperEuler=aa;p.normalize=O;p.denormalize=Q;p.MathUtils=p.RAD2DEG=p.DEG2RAD=void 0;const da="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let ea=1234567;const za=Math.PI/180;p.DEG2RAD=za;const Ea=180/Math.PI;p.RAD2DEG=Ea;p.MathUtils={DEG2RAD:za,RAD2DEG:Ea,generateUUID:w,clamp:r,euclideanModulo:m,mapLinear:d,inverseLerp:c,lerp:g,damp:h,pingpong:l,smoothstep:k,smootherstep:t,randInt:x,randFloat:A,randFloatSpread:y,seededRandom:E,degToRad:F,radToDeg:H,isPowerOfTwo:P,ceilPowerOfTwo:K,floorPowerOfTwo:T,setQuaternionFromProperEuler:aa,normalize:O,denormalize:Q}};
shadow$provide[516]=function(G,B,X,p){function w(d){if("function"!==typeof WeakMap)return null;var c=new WeakMap,g=new WeakMap;return(w=function(h){return h?g:c})(d)}Object.defineProperty(p,"__esModule",{value:!0});p.Quaternion=void 0;var r=function(d,c){if(!c&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((c=w(c))&&c.has(d))return c.get(d);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in d)if("default"!==l&&Object.prototype.hasOwnProperty.call(d,
l)){var k=h?Object.getOwnPropertyDescriptor(d,l):null;k&&(k.get||k.set)?Object.defineProperty(g,l,k):g[l]=d[l]}g.default=d;c&&c.set(d,g);return g}(B(515));class m{constructor(d=0,c=0,g=0,h=1){this.isQuaternion=!0;this._x=d;this._y=c;this._z=g;this._w=h}static slerpFlat(d,c,g,h,l,k,t){let x=g[h+0],A=g[h+1],y=g[h+2];g=g[h+3];h=l[k+0];const E=l[k+1],F=l[k+2];l=l[k+3];if(0===t)d[c+0]=x,d[c+1]=A,d[c+2]=y,d[c+3]=g;else if(1===t)d[c+0]=h,d[c+1]=E,d[c+2]=F,d[c+3]=l;else{if(g!==l||x!==h||A!==E||y!==F){k=1-
t;var H=x*h+A*E+y*F+g*l,P=0<=H?1:-1,K=1-H*H;K>Number.EPSILON&&(K=Math.sqrt(K),H=Math.atan2(K,H*P),k=Math.sin(k*H)/K,t=Math.sin(t*H)/K);P*=t;x=x*k+h*P;A=A*k+E*P;y=y*k+F*P;g=g*k+l*P;k===1-t&&(t=1/Math.sqrt(x*x+A*A+y*y+g*g),x*=t,A*=t,y*=t,g*=t)}d[c]=x;d[c+1]=A;d[c+2]=y;d[c+3]=g}}static multiplyQuaternionsFlat(d,c,g,h,l,k){const t=g[h],x=g[h+1],A=g[h+2];g=g[h+3];h=l[k];const y=l[k+1],E=l[k+2];l=l[k+3];d[c]=t*l+g*h+x*E-A*y;d[c+1]=x*l+g*y+A*h-t*E;d[c+2]=A*l+g*E+t*y-x*h;d[c+3]=g*l-t*h-x*y-A*E;return d}get x(){return this._x}set x(d){this._x=
d;this._onChangeCallback()}get y(){return this._y}set y(d){this._y=d;this._onChangeCallback()}get z(){return this._z}set z(d){this._z=d;this._onChangeCallback()}get w(){return this._w}set w(d){this._w=d;this._onChangeCallback()}set(d,c,g,h){this._x=d;this._y=c;this._z=g;this._w=h;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(d){this._x=d.x;this._y=d.y;this._z=d.z;this._w=d.w;this._onChangeCallback();return this}setFromEuler(d,c){var g=
d._x,h=d._y,l=d._z;d=d._order;var k=Math.cos;const t=Math.sin,x=k(g/2),A=k(h/2);k=k(l/2);g=t(g/2);h=t(h/2);l=t(l/2);switch(d){case "XYZ":this._x=g*A*k+x*h*l;this._y=x*h*k-g*A*l;this._z=x*A*l+g*h*k;this._w=x*A*k-g*h*l;break;case "YXZ":this._x=g*A*k+x*h*l;this._y=x*h*k-g*A*l;this._z=x*A*l-g*h*k;this._w=x*A*k+g*h*l;break;case "ZXY":this._x=g*A*k-x*h*l;this._y=x*h*k+g*A*l;this._z=x*A*l+g*h*k;this._w=x*A*k-g*h*l;break;case "ZYX":this._x=g*A*k-x*h*l;this._y=x*h*k+g*A*l;this._z=x*A*l-g*h*k;this._w=x*A*k+
g*h*l;break;case "YZX":this._x=g*A*k+x*h*l;this._y=x*h*k+g*A*l;this._z=x*A*l-g*h*k;this._w=x*A*k-g*h*l;break;case "XZY":this._x=g*A*k-x*h*l;this._y=x*h*k-g*A*l;this._z=x*A*l+g*h*k;this._w=x*A*k+g*h*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+d)}!1!==c&&this._onChangeCallback();return this}setFromAxisAngle(d,c){c/=2;const g=Math.sin(c);this._x=d.x*g;this._y=d.y*g;this._z=d.z*g;this._w=Math.cos(c);this._onChangeCallback();return this}setFromRotationMatrix(d){var c=
d.elements,g=c[0];d=c[4];const h=c[8],l=c[1],k=c[5],t=c[9],x=c[2],A=c[6];c=c[10];const y=g+k+c;0<y?(g=.5/Math.sqrt(y+1),this._w=.25/g,this._x=(A-t)*g,this._y=(h-x)*g,this._z=(l-d)*g):g>k&&g>c?(g=2*Math.sqrt(1+g-k-c),this._w=(A-t)/g,this._x=.25*g,this._y=(d+l)/g,this._z=(h+x)/g):k>c?(g=2*Math.sqrt(1+k-g-c),this._w=(h-x)/g,this._x=(d+l)/g,this._y=.25*g,this._z=(t+A)/g):(g=2*Math.sqrt(1+c-g-k),this._w=(l-d)/g,this._x=(h+x)/g,this._y=(t+A)/g,this._z=.25*g);this._onChangeCallback();return this}setFromUnitVectors(d,
c){let g=d.dot(c)+1;g<Number.EPSILON?(g=0,Math.abs(d.x)>Math.abs(d.z)?(this._x=-d.y,this._y=d.x,this._z=0):(this._x=0,this._y=-d.z,this._z=d.y)):(this._x=d.y*c.z-d.z*c.y,this._y=d.z*c.x-d.x*c.z,this._z=d.x*c.y-d.y*c.x);this._w=g;return this.normalize()}angleTo(d){return 2*Math.acos(Math.abs(r.clamp(this.dot(d),-1,1)))}rotateTowards(d,c){const g=this.angleTo(d);if(0===g)return this;this.slerp(d,Math.min(1,c/g));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=
-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(d){return this._x*d._x+this._y*d._y+this._z*d._z+this._w*d._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let d=this.length();0===d?(this._z=this._y=this._x=0,this._w=1):(d=1/d,this._x*=d,this._y*=d,this._z*=d,this._w*=d);this._onChangeCallback();return this}multiply(d){return this.multiplyQuaternions(this,
d)}premultiply(d){return this.multiplyQuaternions(d,this)}multiplyQuaternions(d,c){const g=d._x,h=d._y,l=d._z;d=d._w;const k=c._x,t=c._y,x=c._z;c=c._w;this._x=g*c+d*k+h*x-l*t;this._y=h*c+d*t+l*k-g*x;this._z=l*c+d*x+g*t-h*k;this._w=d*c-g*k-h*t-l*x;this._onChangeCallback();return this}slerp(d,c){if(0===c)return this;if(1===c)return this.copy(d);const g=this._x,h=this._y,l=this._z,k=this._w;var t=k*d._w+g*d._x+h*d._y+l*d._z;0>t?(this._w=-d._w,this._x=-d._x,this._y=-d._y,this._z=-d._z,t=-t):this.copy(d);
if(1<=t)return this._w=k,this._x=g,this._y=h,this._z=l,this;d=1-t*t;if(d<=Number.EPSILON)return t=1-c,this._w=t*k+c*this._w,this._x=t*g+c*this._x,this._y=t*h+c*this._y,this._z=t*l+c*this._z,this.normalize(),this._onChangeCallback(),this;d=Math.sqrt(d);const x=Math.atan2(d,t);t=Math.sin((1-c)*x)/d;c=Math.sin(c*x)/d;this._w=k*t+this._w*c;this._x=g*t+this._x*c;this._y=h*t+this._y*c;this._z=l*t+this._z*c;this._onChangeCallback();return this}slerpQuaternions(d,c,g){return this.copy(d).slerp(c,g)}random(){var d=
Math.random();const c=Math.sqrt(1-d);d=Math.sqrt(d);const g=2*Math.PI*Math.random(),h=2*Math.PI*Math.random();return this.set(c*Math.cos(g),d*Math.sin(h),d*Math.cos(h),c*Math.sin(g))}equals(d){return d._x===this._x&&d._y===this._y&&d._z===this._z&&d._w===this._w}fromArray(d,c=0){this._x=d[c];this._y=d[c+1];this._z=d[c+2];this._w=d[c+3];this._onChangeCallback();return this}toArray(d=[],c=0){d[c]=this._x;d[c+1]=this._y;d[c+2]=this._z;d[c+3]=this._w;return d}fromBufferAttribute(d,c){this._x=d.getX(c);
this._y=d.getY(c);this._z=d.getZ(c);this._w=d.getW(c);return this}_onChange(d){this._onChangeCallback=d;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}p.Quaternion=m};
shadow$provide[517]=function(G,B,X,p){function w(g){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(w=function(k){return k?l:h})(g)}Object.defineProperty(p,"__esModule",{value:!0});p.Vector3=void 0;var r=function(g,h){if(!h&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((h=w(h))&&h.has(g))return h.get(g);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in g)if("default"!==t&&Object.prototype.hasOwnProperty.call(g,
t)){var x=k?Object.getOwnPropertyDescriptor(g,t):null;x&&(x.get||x.set)?Object.defineProperty(l,t,x):l[t]=g[t]}l.default=g;h&&h.set(g,l);return l}(B(515));G=B(516);class m{constructor(g=0,h=0,l=0){m.prototype.isVector3=!0;this.x=g;this.y=h;this.z=l}set(g,h,l){void 0===l&&(l=this.z);this.x=g;this.y=h;this.z=l;return this}setScalar(g){this.z=this.y=this.x=g;return this}setX(g){this.x=g;return this}setY(g){this.y=g;return this}setZ(g){this.z=g;return this}setComponent(g,h){switch(g){case 0:this.x=h;
break;case 1:this.y=h;break;case 2:this.z=h;break;default:throw Error("index is out of range: "+g);}return this}getComponent(g){switch(g){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+g);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(g){this.x=g.x;this.y=g.y;this.z=g.z;return this}add(g){this.x+=g.x;this.y+=g.y;this.z+=g.z;return this}addScalar(g){this.x+=g;this.y+=g;this.z+=g;return this}addVectors(g,h){this.x=g.x+h.x;
this.y=g.y+h.y;this.z=g.z+h.z;return this}addScaledVector(g,h){this.x+=g.x*h;this.y+=g.y*h;this.z+=g.z*h;return this}sub(g){this.x-=g.x;this.y-=g.y;this.z-=g.z;return this}subScalar(g){this.x-=g;this.y-=g;this.z-=g;return this}subVectors(g,h){this.x=g.x-h.x;this.y=g.y-h.y;this.z=g.z-h.z;return this}multiply(g){this.x*=g.x;this.y*=g.y;this.z*=g.z;return this}multiplyScalar(g){this.x*=g;this.y*=g;this.z*=g;return this}multiplyVectors(g,h){this.x=g.x*h.x;this.y=g.y*h.y;this.z=g.z*h.z;return this}applyEuler(g){return this.applyQuaternion(c.setFromEuler(g))}applyAxisAngle(g,
h){return this.applyQuaternion(c.setFromAxisAngle(g,h))}applyMatrix3(g){const h=this.x,l=this.y,k=this.z;g=g.elements;this.x=g[0]*h+g[3]*l+g[6]*k;this.y=g[1]*h+g[4]*l+g[7]*k;this.z=g[2]*h+g[5]*l+g[8]*k;return this}applyNormalMatrix(g){return this.applyMatrix3(g).normalize()}applyMatrix4(g){const h=this.x,l=this.y,k=this.z;g=g.elements;const t=1/(g[3]*h+g[7]*l+g[11]*k+g[15]);this.x=(g[0]*h+g[4]*l+g[8]*k+g[12])*t;this.y=(g[1]*h+g[5]*l+g[9]*k+g[13])*t;this.z=(g[2]*h+g[6]*l+g[10]*k+g[14])*t;return this}applyQuaternion(g){var h=
this.x;const l=this.y,k=this.z,t=g.x,x=g.y,A=g.z;g=g.w;const y=g*h+x*k-A*l,E=g*l+A*h-t*k,F=g*k+t*l-x*h;h=-t*h-x*l-A*k;this.x=y*g+h*-t+E*-A-F*-x;this.y=E*g+h*-x+F*-t-y*-A;this.z=F*g+h*-A+y*-x-E*-t;return this}project(g){return this.applyMatrix4(g.matrixWorldInverse).applyMatrix4(g.projectionMatrix)}unproject(g){return this.applyMatrix4(g.projectionMatrixInverse).applyMatrix4(g.matrixWorld)}transformDirection(g){const h=this.x,l=this.y,k=this.z;g=g.elements;this.x=g[0]*h+g[4]*l+g[8]*k;this.y=g[1]*h+
g[5]*l+g[9]*k;this.z=g[2]*h+g[6]*l+g[10]*k;return this.normalize()}divide(g){this.x/=g.x;this.y/=g.y;this.z/=g.z;return this}divideScalar(g){return this.multiplyScalar(1/g)}min(g){this.x=Math.min(this.x,g.x);this.y=Math.min(this.y,g.y);this.z=Math.min(this.z,g.z);return this}max(g){this.x=Math.max(this.x,g.x);this.y=Math.max(this.y,g.y);this.z=Math.max(this.z,g.z);return this}clamp(g,h){this.x=Math.max(g.x,Math.min(h.x,this.x));this.y=Math.max(g.y,Math.min(h.y,this.y));this.z=Math.max(g.z,Math.min(h.z,
this.z));return this}clampScalar(g,h){this.x=Math.max(g,Math.min(h,this.x));this.y=Math.max(g,Math.min(h,this.y));this.z=Math.max(g,Math.min(h,this.z));return this}clampLength(g,h){const l=this.length();return this.divideScalar(l||1).multiplyScalar(Math.max(g,Math.min(h,l)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(g){return this.x*g.x+this.y*g.y+this.z*g.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(g){return this.normalize().multiplyScalar(g)}lerp(g,h){this.x+=(g.x-this.x)*h;this.y+=(g.y-this.y)*h;this.z+=(g.z-this.z)*h;return this}lerpVectors(g,h,l){this.x=g.x+(h.x-g.x)*l;this.y=g.y+(h.y-g.y)*l;this.z=g.z+(h.z-g.z)*l;return this}cross(g){return this.crossVectors(this,g)}crossVectors(g,h){const l=g.x,k=g.y;g=g.z;const t=h.x,x=h.y;h=h.z;this.x=k*h-g*x;this.y=g*t-l*h;this.z=l*x-k*t;return this}projectOnVector(g){var h=
g.lengthSq();if(0===h)return this.set(0,0,0);h=g.dot(this)/h;return this.copy(g).multiplyScalar(h)}projectOnPlane(g){d.copy(this).projectOnVector(g);return this.sub(d)}reflect(g){return this.sub(d.copy(g).multiplyScalar(2*this.dot(g)))}angleTo(g){const h=Math.sqrt(this.lengthSq()*g.lengthSq());if(0===h)return Math.PI/2;g=this.dot(g)/h;return Math.acos(r.clamp(g,-1,1))}distanceTo(g){return Math.sqrt(this.distanceToSquared(g))}distanceToSquared(g){const h=this.x-g.x,l=this.y-g.y;g=this.z-g.z;return h*
h+l*l+g*g}manhattanDistanceTo(g){return Math.abs(this.x-g.x)+Math.abs(this.y-g.y)+Math.abs(this.z-g.z)}setFromSpherical(g){return this.setFromSphericalCoords(g.radius,g.phi,g.theta)}setFromSphericalCoords(g,h,l){const k=Math.sin(h)*g;this.x=k*Math.sin(l);this.y=Math.cos(h)*g;this.z=k*Math.cos(l);return this}setFromCylindrical(g){return this.setFromCylindricalCoords(g.radius,g.theta,g.y)}setFromCylindricalCoords(g,h,l){this.x=g*Math.sin(h);this.y=l;this.z=g*Math.cos(h);return this}setFromMatrixPosition(g){g=
g.elements;this.x=g[12];this.y=g[13];this.z=g[14];return this}setFromMatrixScale(g){const h=this.setFromMatrixColumn(g,0).length(),l=this.setFromMatrixColumn(g,1).length();g=this.setFromMatrixColumn(g,2).length();this.x=h;this.y=l;this.z=g;return this}setFromMatrixColumn(g,h){return this.fromArray(g.elements,4*h)}setFromMatrix3Column(g,h){return this.fromArray(g.elements,3*h)}setFromEuler(g){this.x=g._x;this.y=g._y;this.z=g._z;return this}equals(g){return g.x===this.x&&g.y===this.y&&g.z===this.z}fromArray(g,
h=0){this.x=g[h];this.y=g[h+1];this.z=g[h+2];return this}toArray(g=[],h=0){g[h]=this.x;g[h+1]=this.y;g[h+2]=this.z;return g}fromBufferAttribute(g,h){this.x=g.getX(h);this.y=g.getY(h);this.z=g.getZ(h);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const g=2*(Math.random()-.5),h=Math.random()*Math.PI*2,l=Math.sqrt(1-g**2);this.x=l*Math.cos(h);this.y=l*Math.sin(h);this.z=g;return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z}}
p.Vector3=m;const d=new m,c=new G.Quaternion};
shadow$provide[518]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Vector4=void 0;class w{constructor(r=0,m=0,d=0,c=1){w.prototype.isVector4=!0;this.x=r;this.y=m;this.z=d;this.w=c}get width(){return this.z}set width(r){this.z=r}get height(){return this.w}set height(r){this.w=r}set(r,m,d,c){this.x=r;this.y=m;this.z=d;this.w=c;return this}setScalar(r){this.w=this.z=this.y=this.x=r;return this}setX(r){this.x=r;return this}setY(r){this.y=r;return this}setZ(r){this.z=r;return this}setW(r){this.w=
r;return this}setComponent(r,m){switch(r){case 0:this.x=m;break;case 1:this.y=m;break;case 2:this.z=m;break;case 3:this.w=m;break;default:throw Error("index is out of range: "+r);}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+r);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(r){this.x=r.x;this.y=r.y;this.z=r.z;this.w=void 0!==r.w?r.w:1;return this}add(r){this.x+=
r.x;this.y+=r.y;this.z+=r.z;this.w+=r.w;return this}addScalar(r){this.x+=r;this.y+=r;this.z+=r;this.w+=r;return this}addVectors(r,m){this.x=r.x+m.x;this.y=r.y+m.y;this.z=r.z+m.z;this.w=r.w+m.w;return this}addScaledVector(r,m){this.x+=r.x*m;this.y+=r.y*m;this.z+=r.z*m;this.w+=r.w*m;return this}sub(r){this.x-=r.x;this.y-=r.y;this.z-=r.z;this.w-=r.w;return this}subScalar(r){this.x-=r;this.y-=r;this.z-=r;this.w-=r;return this}subVectors(r,m){this.x=r.x-m.x;this.y=r.y-m.y;this.z=r.z-m.z;this.w=r.w-m.w;
return this}multiply(r){this.x*=r.x;this.y*=r.y;this.z*=r.z;this.w*=r.w;return this}multiplyScalar(r){this.x*=r;this.y*=r;this.z*=r;this.w*=r;return this}applyMatrix4(r){const m=this.x,d=this.y,c=this.z,g=this.w;r=r.elements;this.x=r[0]*m+r[4]*d+r[8]*c+r[12]*g;this.y=r[1]*m+r[5]*d+r[9]*c+r[13]*g;this.z=r[2]*m+r[6]*d+r[10]*c+r[14]*g;this.w=r[3]*m+r[7]*d+r[11]*c+r[15]*g;return this}divideScalar(r){return this.multiplyScalar(1/r)}setAxisAngleFromQuaternion(r){this.w=2*Math.acos(r.w);const m=Math.sqrt(1-
r.w*r.w);1E-4>m?(this.x=1,this.z=this.y=0):(this.x=r.x/m,this.y=r.y/m,this.z=r.z/m);return this}setAxisAngleFromRotationMatrix(r){r=r.elements;var m=r[0];var d=r[4];var c=r[8];const g=r[1];var h=r[5],l=r[9];var k=r[2];var t=r[6];var x=r[10];if(.01>Math.abs(d-g)&&.01>Math.abs(c-k)&&.01>Math.abs(l-t)){if(.1>Math.abs(d+g)&&.1>Math.abs(c+k)&&.1>Math.abs(l+t)&&.1>Math.abs(m+h+x-3))return this.set(1,0,0,0),this;r=Math.PI;m=(m+1)/2;h=(h+1)/2;x=(x+1)/2;d=(d+g)/4;c=(c+k)/4;l=(l+t)/4;m>h&&m>x?.01>m?(t=0,d=
k=.707106781):(t=Math.sqrt(m),k=d/t,d=c/t):h>x?.01>h?(t=.707106781,k=0,d=.707106781):(k=Math.sqrt(h),t=d/k,d=l/k):.01>x?(k=t=.707106781,d=0):(d=Math.sqrt(x),t=c/d,k=l/d);this.set(t,k,d,r);return this}r=Math.sqrt((t-l)*(t-l)+(c-k)*(c-k)+(g-d)*(g-d));.001>Math.abs(r)&&(r=1);this.x=(t-l)/r;this.y=(c-k)/r;this.z=(g-d)/r;this.w=Math.acos((m+h+x-1)/2);return this}min(r){this.x=Math.min(this.x,r.x);this.y=Math.min(this.y,r.y);this.z=Math.min(this.z,r.z);this.w=Math.min(this.w,r.w);return this}max(r){this.x=
Math.max(this.x,r.x);this.y=Math.max(this.y,r.y);this.z=Math.max(this.z,r.z);this.w=Math.max(this.w,r.w);return this}clamp(r,m){this.x=Math.max(r.x,Math.min(m.x,this.x));this.y=Math.max(r.y,Math.min(m.y,this.y));this.z=Math.max(r.z,Math.min(m.z,this.z));this.w=Math.max(r.w,Math.min(m.w,this.w));return this}clampScalar(r,m){this.x=Math.max(r,Math.min(m,this.x));this.y=Math.max(r,Math.min(m,this.y));this.z=Math.max(r,Math.min(m,this.z));this.w=Math.max(r,Math.min(m,this.w));return this}clampLength(r,
m){const d=this.length();return this.divideScalar(d||1).multiplyScalar(Math.max(r,Math.min(m,d)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):
Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,m){this.x+=(r.x-this.x)*m;this.y+=(r.y-this.y)*m;this.z+=(r.z-this.z)*m;this.w+=(r.w-this.w)*m;return this}lerpVectors(r,m,d){this.x=r.x+(m.x-r.x)*d;this.y=r.y+(m.y-r.y)*d;this.z=r.z+(m.z-r.z)*d;this.w=r.w+(m.w-r.w)*d;return this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z&&r.w===this.w}fromArray(r,m=0){this.x=r[m];this.y=
r[m+1];this.z=r[m+2];this.w=r[m+3];return this}toArray(r=[],m=0){r[m]=this.x;r[m+1]=this.y;r[m+2]=this.z;r[m+3]=this.w;return r}fromBufferAttribute(r,m){this.x=r.getX(m);this.y=r.getY(m);this.z=r.getZ(m);this.w=r.getW(m);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}p.Vector4=w};
shadow$provide[519]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Matrix3=void 0;class w{constructor(){w.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1]}set(m,d,c,g,h,l,k,t,x){const A=this.elements;A[0]=m;A[1]=g;A[2]=k;A[3]=d;A[4]=h;A[5]=t;A[6]=c;A[7]=l;A[8]=x;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}copy(m){const d=this.elements;m=m.elements;d[0]=m[0];d[1]=m[1];d[2]=m[2];d[3]=m[3];d[4]=m[4];d[5]=m[5];d[6]=m[6];d[7]=m[7];d[8]=m[8];return this}extractBasis(m,
d,c){m.setFromMatrix3Column(this,0);d.setFromMatrix3Column(this,1);c.setFromMatrix3Column(this,2);return this}setFromMatrix4(m){m=m.elements;this.set(m[0],m[4],m[8],m[1],m[5],m[9],m[2],m[6],m[10]);return this}multiply(m){return this.multiplyMatrices(this,m)}premultiply(m){return this.multiplyMatrices(m,this)}multiplyMatrices(m,d){var c=m.elements,g=d.elements;d=this.elements;m=c[0];const h=c[3],l=c[6],k=c[1],t=c[4],x=c[7],A=c[2],y=c[5];c=c[8];const E=g[0],F=g[3],H=g[6],P=g[1],K=g[4],T=g[7],aa=g[2],
Q=g[5];g=g[8];d[0]=m*E+h*P+l*aa;d[3]=m*F+h*K+l*Q;d[6]=m*H+h*T+l*g;d[1]=k*E+t*P+x*aa;d[4]=k*F+t*K+x*Q;d[7]=k*H+t*T+x*g;d[2]=A*E+y*P+c*aa;d[5]=A*F+y*K+c*Q;d[8]=A*H+y*T+c*g;return this}multiplyScalar(m){const d=this.elements;d[0]*=m;d[3]*=m;d[6]*=m;d[1]*=m;d[4]*=m;d[7]*=m;d[2]*=m;d[5]*=m;d[8]*=m;return this}determinant(){var m=this.elements;const d=m[0],c=m[1],g=m[2],h=m[3],l=m[4],k=m[5],t=m[6],x=m[7];m=m[8];return d*l*m-d*k*x-c*h*m+c*k*t+g*h*x-g*l*t}invert(){const m=this.elements,d=m[0],c=m[1],g=m[2],
h=m[3],l=m[4],k=m[5],t=m[6],x=m[7],A=m[8],y=A*l-k*x,E=k*t-A*h,F=x*h-l*t;var H=d*y+c*E+g*F;if(0===H)return this.set(0,0,0,0,0,0,0,0,0);H=1/H;m[0]=y*H;m[1]=(g*x-A*c)*H;m[2]=(k*c-g*l)*H;m[3]=E*H;m[4]=(A*d-g*t)*H;m[5]=(g*h-k*d)*H;m[6]=F*H;m[7]=(c*t-x*d)*H;m[8]=(l*d-c*h)*H;return this}transpose(){let m;const d=this.elements;m=d[1];d[1]=d[3];d[3]=m;m=d[2];d[2]=d[6];d[6]=m;m=d[5];d[5]=d[7];d[7]=m;return this}getNormalMatrix(m){return this.setFromMatrix4(m).invert().transpose()}transposeIntoArray(m){const d=
this.elements;m[0]=d[0];m[1]=d[3];m[2]=d[6];m[3]=d[1];m[4]=d[4];m[5]=d[7];m[6]=d[2];m[7]=d[5];m[8]=d[8];return this}setUvTransform(m,d,c,g,h,l,k){const t=Math.cos(h);h=Math.sin(h);this.set(c*t,c*h,-c*(t*l+h*k)+l+m,-g*h,g*t,-g*(-h*l+t*k)+k+d,0,0,1);return this}scale(m,d){this.premultiply(r.makeScale(m,d));return this}rotate(m){this.premultiply(r.makeRotation(-m));return this}translate(m,d){this.premultiply(r.makeTranslation(m,d));return this}makeTranslation(m,d){this.set(1,0,m,0,1,d,0,0,1);return this}makeRotation(m){const d=
Math.cos(m);m=Math.sin(m);this.set(d,-m,0,m,d,0,0,0,1);return this}makeScale(m,d){this.set(m,0,0,0,d,0,0,0,1);return this}equals(m){const d=this.elements;m=m.elements;for(let c=0;9>c;c++)if(d[c]!==m[c])return!1;return!0}fromArray(m,d=0){for(let c=0;9>c;c++)this.elements[c]=m[c+d];return this}toArray(m=[],d=0){const c=this.elements;m[d]=c[0];m[d+1]=c[1];m[d+2]=c[2];m[d+3]=c[3];m[d+4]=c[4];m[d+5]=c[5];m[d+6]=c[6];m[d+7]=c[7];m[d+8]=c[8];return m}clone(){return(new this.constructor).fromArray(this.elements)}}
p.Matrix3=w;const r=new w};
shadow$provide[520]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Matrix4=void 0;G=B(517);class w{constructor(){w.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(k,t,x,A,y,E,F,H,P,K,T,aa,Q,O,da,ea){const za=this.elements;za[0]=k;za[4]=t;za[8]=x;za[12]=A;za[1]=y;za[5]=E;za[9]=F;za[13]=H;za[2]=P;za[6]=K;za[10]=T;za[14]=aa;za[3]=Q;za[7]=O;za[11]=da;za[15]=ea;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new w).fromArray(this.elements)}copy(k){const t=
this.elements;k=k.elements;t[0]=k[0];t[1]=k[1];t[2]=k[2];t[3]=k[3];t[4]=k[4];t[5]=k[5];t[6]=k[6];t[7]=k[7];t[8]=k[8];t[9]=k[9];t[10]=k[10];t[11]=k[11];t[12]=k[12];t[13]=k[13];t[14]=k[14];t[15]=k[15];return this}copyPosition(k){const t=this.elements;k=k.elements;t[12]=k[12];t[13]=k[13];t[14]=k[14];return this}setFromMatrix3(k){k=k.elements;this.set(k[0],k[3],k[6],0,k[1],k[4],k[7],0,k[2],k[5],k[8],0,0,0,0,1);return this}extractBasis(k,t,x){k.setFromMatrixColumn(this,0);t.setFromMatrixColumn(this,1);
x.setFromMatrixColumn(this,2);return this}makeBasis(k,t,x){this.set(k.x,t.x,x.x,0,k.y,t.y,x.y,0,k.z,t.z,x.z,0,0,0,0,1);return this}extractRotation(k){const t=this.elements,x=k.elements,A=1/r.setFromMatrixColumn(k,0).length(),y=1/r.setFromMatrixColumn(k,1).length();k=1/r.setFromMatrixColumn(k,2).length();t[0]=x[0]*A;t[1]=x[1]*A;t[2]=x[2]*A;t[3]=0;t[4]=x[4]*y;t[5]=x[5]*y;t[6]=x[6]*y;t[7]=0;t[8]=x[8]*k;t[9]=x[9]*k;t[10]=x[10]*k;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this}makeRotationFromEuler(k){const t=
this.elements;var x=k.x,A=k.y,y=k.z;const E=Math.cos(x);x=Math.sin(x);const F=Math.cos(A);A=Math.sin(A);const H=Math.cos(y);y=Math.sin(y);if("XYZ"===k.order){k=E*H;var P=E*y,K=x*H,T=x*y;t[0]=F*H;t[4]=-F*y;t[8]=A;t[1]=P+K*A;t[5]=k-T*A;t[9]=-x*F;t[2]=T-k*A;t[6]=K+P*A;t[10]=E*F}else"YXZ"===k.order?(k=F*H,P=F*y,K=A*H,T=A*y,t[0]=k+T*x,t[4]=K*x-P,t[8]=E*A,t[1]=E*y,t[5]=E*H,t[9]=-x,t[2]=P*x-K,t[6]=T+k*x,t[10]=E*F):"ZXY"===k.order?(k=F*H,P=F*y,K=A*H,T=A*y,t[0]=k-T*x,t[4]=-E*y,t[8]=K+P*x,t[1]=P+K*x,t[5]=E*
H,t[9]=T-k*x,t[2]=-E*A,t[6]=x,t[10]=E*F):"ZYX"===k.order?(k=E*H,P=E*y,K=x*H,T=x*y,t[0]=F*H,t[4]=K*A-P,t[8]=k*A+T,t[1]=F*y,t[5]=T*A+k,t[9]=P*A-K,t[2]=-A,t[6]=x*F,t[10]=E*F):"YZX"===k.order?(k=E*F,P=E*A,K=x*F,T=x*A,t[0]=F*H,t[4]=T-k*y,t[8]=K*y+P,t[1]=y,t[5]=E*H,t[9]=-x*H,t[2]=-A*H,t[6]=P*y+K,t[10]=k-T*y):"XZY"===k.order&&(k=E*F,P=E*A,K=x*F,T=x*A,t[0]=F*H,t[4]=-y,t[8]=A*H,t[1]=k*y+T,t[5]=E*H,t[9]=P*y-K,t[2]=K*y-P,t[6]=x*H,t[10]=T*y+k);t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this}makeRotationFromQuaternion(k){return this.compose(d,
k,c)}lookAt(k,t,x){const A=this.elements;l.subVectors(k,t);0===l.lengthSq()&&(l.z=1);l.normalize();g.crossVectors(x,l);0===g.lengthSq()&&(1===Math.abs(x.z)?l.x+=1E-4:l.z+=1E-4,l.normalize(),g.crossVectors(x,l));g.normalize();h.crossVectors(l,g);A[0]=g.x;A[4]=h.x;A[8]=l.x;A[1]=g.y;A[5]=h.y;A[9]=l.y;A[2]=g.z;A[6]=h.z;A[10]=l.z;return this}multiply(k){return this.multiplyMatrices(this,k)}premultiply(k){return this.multiplyMatrices(k,this)}multiplyMatrices(k,t){var x=k.elements,A=t.elements;t=this.elements;
k=x[0];const y=x[4],E=x[8],F=x[12],H=x[1],P=x[5],K=x[9],T=x[13],aa=x[2],Q=x[6],O=x[10],da=x[14],ea=x[3],za=x[7],Ea=x[11];x=x[15];const sa=A[0],gb=A[4],wa=A[8],Ba=A[12],Da=A[1],pa=A[5],ib=A[9],$a=A[13],eb=A[2],Ja=A[6],Fb=A[10],Kb=A[14],rb=A[3],Pb=A[7],N=A[11];A=A[15];t[0]=k*sa+y*Da+E*eb+F*rb;t[4]=k*gb+y*pa+E*Ja+F*Pb;t[8]=k*wa+y*ib+E*Fb+F*N;t[12]=k*Ba+y*$a+E*Kb+F*A;t[1]=H*sa+P*Da+K*eb+T*rb;t[5]=H*gb+P*pa+K*Ja+T*Pb;t[9]=H*wa+P*ib+K*Fb+T*N;t[13]=H*Ba+P*$a+K*Kb+T*A;t[2]=aa*sa+Q*Da+O*eb+da*rb;t[6]=aa*gb+
Q*pa+O*Ja+da*Pb;t[10]=aa*wa+Q*ib+O*Fb+da*N;t[14]=aa*Ba+Q*$a+O*Kb+da*A;t[3]=ea*sa+za*Da+Ea*eb+x*rb;t[7]=ea*gb+za*pa+Ea*Ja+x*Pb;t[11]=ea*wa+za*ib+Ea*Fb+x*N;t[15]=ea*Ba+za*$a+Ea*Kb+x*A;return this}multiplyScalar(k){const t=this.elements;t[0]*=k;t[4]*=k;t[8]*=k;t[12]*=k;t[1]*=k;t[5]*=k;t[9]*=k;t[13]*=k;t[2]*=k;t[6]*=k;t[10]*=k;t[14]*=k;t[3]*=k;t[7]*=k;t[11]*=k;t[15]*=k;return this}determinant(){const k=this.elements,t=k[0],x=k[4],A=k[8],y=k[12],E=k[1],F=k[5],H=k[9],P=k[13],K=k[2],T=k[6],aa=k[10],Q=k[14];
return k[3]*(+y*H*T-A*P*T-y*F*aa+x*P*aa+A*F*Q-x*H*Q)+k[7]*(+t*H*Q-t*P*aa+y*E*aa-A*E*Q+A*P*K-y*H*K)+k[11]*(+t*P*T-t*F*Q-y*E*T+x*E*Q+y*F*K-x*P*K)+k[15]*(-A*F*K-t*H*T+t*F*aa+A*E*T-x*E*aa+x*H*K)}transpose(){const k=this.elements;let t;t=k[1];k[1]=k[4];k[4]=t;t=k[2];k[2]=k[8];k[8]=t;t=k[6];k[6]=k[9];k[9]=t;t=k[3];k[3]=k[12];k[12]=t;t=k[7];k[7]=k[13];k[13]=t;t=k[11];k[11]=k[14];k[14]=t;return this}setPosition(k,t,x){const A=this.elements;k.isVector3?(A[12]=k.x,A[13]=k.y,A[14]=k.z):(A[12]=k,A[13]=t,A[14]=
x);return this}invert(){const k=this.elements,t=k[0],x=k[1],A=k[2],y=k[3],E=k[4],F=k[5],H=k[6],P=k[7],K=k[8],T=k[9],aa=k[10],Q=k[11],O=k[12],da=k[13],ea=k[14],za=k[15],Ea=T*ea*P-da*aa*P+da*H*Q-F*ea*Q-T*H*za+F*aa*za,sa=O*aa*P-K*ea*P-O*H*Q+E*ea*Q+K*H*za-E*aa*za,gb=K*da*P-O*T*P+O*F*Q-E*da*Q-K*F*za+E*T*za,wa=O*T*H-K*da*H-O*F*aa+E*da*aa+K*F*ea-E*T*ea;var Ba=t*Ea+x*sa+A*gb+y*wa;if(0===Ba)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);Ba=1/Ba;k[0]=Ea*Ba;k[1]=(da*aa*y-T*ea*y-da*A*Q+x*ea*Q+T*A*za-x*aa*za)*
Ba;k[2]=(F*ea*y-da*H*y+da*A*P-x*ea*P-F*A*za+x*H*za)*Ba;k[3]=(T*H*y-F*aa*y-T*A*P+x*aa*P+F*A*Q-x*H*Q)*Ba;k[4]=sa*Ba;k[5]=(K*ea*y-O*aa*y+O*A*Q-t*ea*Q-K*A*za+t*aa*za)*Ba;k[6]=(O*H*y-E*ea*y-O*A*P+t*ea*P+E*A*za-t*H*za)*Ba;k[7]=(E*aa*y-K*H*y+K*A*P-t*aa*P-E*A*Q+t*H*Q)*Ba;k[8]=gb*Ba;k[9]=(O*T*y-K*da*y-O*x*Q+t*da*Q+K*x*za-t*T*za)*Ba;k[10]=(E*da*y-O*F*y+O*x*P-t*da*P-E*x*za+t*F*za)*Ba;k[11]=(K*F*y-E*T*y-K*x*P+t*T*P+E*x*Q-t*F*Q)*Ba;k[12]=wa*Ba;k[13]=(K*da*A-O*T*A+O*x*aa-t*da*aa-K*x*ea+t*T*ea)*Ba;k[14]=(O*F*A-
E*da*A-O*x*H+t*da*H+E*x*ea-t*F*ea)*Ba;k[15]=(E*T*A-K*F*A+K*x*H-t*T*H-E*x*aa+t*F*aa)*Ba;return this}scale(k){const t=this.elements,x=k.x,A=k.y;k=k.z;t[0]*=x;t[4]*=A;t[8]*=k;t[1]*=x;t[5]*=A;t[9]*=k;t[2]*=x;t[6]*=A;t[10]*=k;t[3]*=x;t[7]*=A;t[11]*=k;return this}getMaxScaleOnAxis(){const k=this.elements;return Math.sqrt(Math.max(k[0]*k[0]+k[1]*k[1]+k[2]*k[2],k[4]*k[4]+k[5]*k[5]+k[6]*k[6],k[8]*k[8]+k[9]*k[9]+k[10]*k[10]))}makeTranslation(k,t,x){this.set(1,0,0,k,0,1,0,t,0,0,1,x,0,0,0,1);return this}makeRotationX(k){const t=
Math.cos(k);k=Math.sin(k);this.set(1,0,0,0,0,t,-k,0,0,k,t,0,0,0,0,1);return this}makeRotationY(k){const t=Math.cos(k);k=Math.sin(k);this.set(t,0,k,0,0,1,0,0,-k,0,t,0,0,0,0,1);return this}makeRotationZ(k){const t=Math.cos(k);k=Math.sin(k);this.set(t,-k,0,0,k,t,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(k,t){const x=Math.cos(t);t=Math.sin(t);const A=1-x,y=k.x,E=k.y;k=k.z;const F=A*y,H=A*E;this.set(F*y+x,F*E-t*k,F*k+t*E,0,F*E+t*k,H*E+x,H*k-t*y,0,F*k-t*E,H*k+t*y,A*k*k+x,0,0,0,0,1);return this}makeScale(k,
t,x){this.set(k,0,0,0,0,t,0,0,0,0,x,0,0,0,0,1);return this}makeShear(k,t,x,A,y,E){this.set(1,x,y,0,k,1,E,0,t,A,1,0,0,0,0,1);return this}compose(k,t,x){const A=this.elements;var y=t._x,E=t._y,F=t._z,H=t._w,P=y+y,K=E+E,T=F+F;t=y*P;const aa=y*K;y*=T;const Q=E*K;E*=T;F*=T;P*=H;K*=H;H*=T;T=x.x;const O=x.y;x=x.z;A[0]=(1-(Q+F))*T;A[1]=(aa+H)*T;A[2]=(y-K)*T;A[3]=0;A[4]=(aa-H)*O;A[5]=(1-(t+F))*O;A[6]=(E+P)*O;A[7]=0;A[8]=(y+K)*x;A[9]=(E-P)*x;A[10]=(1-(t+Q))*x;A[11]=0;A[12]=k.x;A[13]=k.y;A[14]=k.z;A[15]=1;return this}decompose(k,
t,x){var A=this.elements;let y=r.set(A[0],A[1],A[2]).length();const E=r.set(A[4],A[5],A[6]).length(),F=r.set(A[8],A[9],A[10]).length();0>this.determinant()&&(y=-y);k.x=A[12];k.y=A[13];k.z=A[14];m.copy(this);k=1/y;A=1/E;const H=1/F;m.elements[0]*=k;m.elements[1]*=k;m.elements[2]*=k;m.elements[4]*=A;m.elements[5]*=A;m.elements[6]*=A;m.elements[8]*=H;m.elements[9]*=H;m.elements[10]*=H;t.setFromRotationMatrix(m);x.x=y;x.y=E;x.z=F;return this}makePerspective(k,t,x,A,y,E){const F=this.elements;F[0]=2*y/
(t-k);F[4]=0;F[8]=(t+k)/(t-k);F[12]=0;F[1]=0;F[5]=2*y/(x-A);F[9]=(x+A)/(x-A);F[13]=0;F[2]=0;F[6]=0;F[10]=-(E+y)/(E-y);F[14]=-2*E*y/(E-y);F[3]=0;F[7]=0;F[11]=-1;F[15]=0;return this}makeOrthographic(k,t,x,A,y,E){const F=this.elements,H=1/(t-k),P=1/(x-A),K=1/(E-y);F[0]=2*H;F[4]=0;F[8]=0;F[12]=-((t+k)*H);F[1]=0;F[5]=2*P;F[9]=0;F[13]=-((x+A)*P);F[2]=0;F[6]=0;F[10]=-2*K;F[14]=-((E+y)*K);F[3]=0;F[7]=0;F[11]=0;F[15]=1;return this}equals(k){const t=this.elements;k=k.elements;for(let x=0;16>x;x++)if(t[x]!==
k[x])return!1;return!0}fromArray(k,t=0){for(let x=0;16>x;x++)this.elements[x]=k[x+t];return this}toArray(k=[],t=0){const x=this.elements;k[t]=x[0];k[t+1]=x[1];k[t+2]=x[2];k[t+3]=x[3];k[t+4]=x[4];k[t+5]=x[5];k[t+6]=x[6];k[t+7]=x[7];k[t+8]=x[8];k[t+9]=x[9];k[t+10]=x[10];k[t+11]=x[11];k[t+12]=x[12];k[t+13]=x[13];k[t+14]=x[14];k[t+15]=x[15];return k}}p.Matrix4=w;const r=new G.Vector3,m=new w,d=new G.Vector3(0,0,0),c=new G.Vector3(1,1,1),g=new G.Vector3,h=new G.Vector3,l=new G.Vector3};
shadow$provide[521]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.decl=void 0;G=B(514);X=B(517);var w=B(518),r=B(519);B=B(520);const m={};p.decl=m;m.in=0;m.out=1;m.inout=2;m.node=function(h){if("function"===(null!=h.children[5]?h.children[5].type:void 0))return m.function(h);if("keyword"===(null!=h.token?h.token.type:void 0))return m.external(h)};m.external=function(h){h=h.children;let l=h[1].token.data;const k=h[4].token.data,t=h[5];["attribute","uniform","varying"].includes(l)||
(l="global");const x=[];for(let y=0;y<t.children.length;y++)if(h=t.children[y],"ident"===h.type){var A=t.children[y+1];A="quantifier"===(null!=A?A.type:void 0);x.push({decl:"external",storage:l,type:k,ident:h.token.data,quant:!!A,count:A})}return x};m.function=function(h){var l=h.children;h=l[1].token.data;const k=l[4].token.data;var t=l[5];l=t.children[0].token.data;const x=t.children[2];t=Array.from(t.children[1].children).map(A=>m.argument(A));return[{decl:"function",storage:h,type:k,ident:l,body:!!x,
args:t}]};m.argument=function(h){h=h.children;const l=h[5],k=l.children[1];return{decl:"argument",storage:h[1].token.data,inout:h[2].token.data,type:h[4].token.data,ident:l.children[0].token.data,quant:!!k,count:k?k.children[0].token.data:void 0}};m.param=function(h,l,k,t,x){let A=[];null!=l&&A.push(l);null!=k&&A.push(k);A.push("");A=A.join(" ");const y=t?"["+x+"]":"";""!==h&&(h+=" ");const E=(F,H)=>(H?h:"")+`${A}${F}${y}`;E.split=F=>m.param(F,l,k,t,x);return E};p="undefined"!==typeof window&&!!window.THREE;
const d={int:0,float:0,vec2:p?G.Vector2:null,vec3:p?X.Vector3:null,vec4:p?w.Vector4:null,mat2:null,mat3:p?r.Matrix3:null,mat4:p?B.Matrix4:null,sampler2D:0,samplerCube:0},c={int:"i",float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat2:"m2",mat3:"m3",mat4:"m4",sampler2D:"t",samplerCube:"t"};m.type=function(h,l,k,t,x,A){var y={in:m.in,out:m.out,inout:m.inout};let E=c[l];k&&(E+="v");let F=d[l];null!=F&&F.call&&(F=new F);k&&(F=[F]);y=null!=y[x]?y[x]:y.in;A={const:"const"}[A];k=m.param(x,A,l,k,t);return new g(h,
E,l,k,F,y)};class g{constructor(h,l,k,t,x,A,y){this.name=h;this.type=l;this.spec=k;this.param=t;this.value=x;this.inout=A;this.meta=y}split(){var h=null!=this.meta.shadowed;const l=h?m.in:m.out;h=this.param.split(h?"in":"out");return new g(this.name,this.type,this.spec,h,this.value,l)}copy(h,l){return new g(null!=h?h:this.name,this.type,this.spec,this.param,this.value,this.inout,l)}}};
shadow$provide[522]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.SHADOW_ARG="_i_o";p.RETURN_ARG="return"};
shadow$provide[523]=function(G,B,X,p){function w(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(p,"__esModule",{value:!0});p.walk=p.parse=void 0;var r=w(B(509)),m=w(B(513)),d=B(521),c=B(522);let g=!1;p.parse=function(E,F){E=h(E,F);let H;g&&(H=y());var P=[];A(l,k(P),E,"");const [K,T,aa]=Array.from(t(P));P=x(K,T,aa);g&&H("GLSL AST");return{ast:E,code:F,signatures:P}};const h=function(E,F){let H;var P;let K=[];g&&(P=y());try{const T=(0,r.default)(F);H=(0,m.default)(T)}catch(T){K=[{message:T}]}g&&
P("GLSL Tokenize \x26 Parse");P=function(T){T=T.split("\n");const aa=(""+T.length).length;return T.map((Q,O)=>{var da=O+1;O=(da=""+da).length<aa?("       "+da).slice(-aa):da;return`${O}: ${Q}`}).join("\n")};if(!H||K.length){E||(E="(inline code)");console.warn(P(F));for(const T of K)console.error(`${E} -`,T.message);throw Error("GLSL parse error");}return H},l=function(E,F){switch(E.type){case "decl":return F(d.decl.node(E)),!1}return!0},k=E=>function(F){null!=F&&Array.from(F).map(H=>E.push(H))},t=
function(E){let F=null;const H=[];let P=[];const K={};let T=!1;for(const aa of Array.from(E))aa.body?(K[aa.ident]&&(P=Array.from(P).filter(Q=>Q.ident!==aa.ident),delete K[aa.ident]),H.push(aa),"main"===aa.ident?(F=aa,T=!0):T||(F=aa)):"global"===aa.storage?H.push(aa):(P.push(aa),K[aa.ident]=!0);return[F,H,P]},x=function(E,F,H){let P;const K={uniform:[],attribute:[],varying:[],external:[],internal:[],global:[],main:null},T=function(aa,Q){let O;const da=Array.from(aa.args).map(Ea=>d.decl.type(Ea.ident,
Ea.type,Ea.quant,Ea.count,Ea.inout,Ea.storage));for(O of Array.from(da))if(O.inout===d.decl.inout){var ea=O,za=O.copy();ea.inout=d.decl.in;za.inout=d.decl.out;za.meta={shadow:ea.name};za.name+=c.SHADOW_ARG;ea.meta={shadowed:za.name};da.push(za)}"void"!==aa.type&&da.unshift(d.decl.type(c.RETURN_ARG,aa.type,!1,"","out"));ea=(()=>{const Ea=[];for(O of Array.from(da))O.inout===d.decl.in&&Ea.push(O.type);return Ea})().join(",");za=(()=>{const Ea=[];for(O of Array.from(da))O.inout===d.decl.out&&Ea.push(O.type);
return Ea})().join(",");return{name:aa.ident,type:`(${ea})(${za})`,signature:da,inout:Q,spec:aa.type}};K.main=T(E,d.decl.out);for(P of Array.from(F))K.internal.push({name:P.ident});for(P of Array.from(H))switch(P.decl){case "external":E=d.decl.type(P.ident,P.type,P.quant,P.count,P.inout,P.storage);K[P.storage].push(E);break;case "function":E=T(P,d.decl.in),K.external.push(E)}return K};g=!1;const A=function(E,F,H,P){g&&console.log(P,H.type,null!=H.token?H.token.data:void 0,null!=H.token?H.token.type:
void 0);if(E(H,F))for(let K=0;K<H.children.length;K++)A(E,F,H.children[K],P+"  ",g);return null};p.walk=A;const y=function(){const E=+new Date;return function(F){const H=+new Date-E;console.log(F,H+" ms");return H}}};
shadow$provide[524]=function(G,B,X,p){function w(H){if("function"!==typeof WeakMap)return null;var P=new WeakMap,K=new WeakMap;return(w=function(T){return T?K:P})(H)}function r(H,P){if(!P&&H&&H.__esModule)return H;if(null===H||"object"!==typeof H&&"function"!==typeof H)return{default:H};if((P=w(P))&&P.has(H))return P.get(H);var K={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor,aa;for(aa in H)if("default"!==aa&&Object.prototype.hasOwnProperty.call(H,aa)){var Q=T?Object.getOwnPropertyDescriptor(H,
aa):null;Q&&(Q.get||Q.set)?Object.defineProperty(K,aa,Q):K[aa]=H[aa]}K.default=H;P&&P.set(H,K);return K}function m(H){return H.join("\n")}function d(H){return H.join(", ")}function c(H){return H.join(";\n")}function g(H){return{entry:H,type:"void",params:[],signature:[],return:"",vars:{},calls:[],post:[],chain:{}}}function h(H,P){return`#define ${H} ${P}`}function l(H,P,K,T,aa){return`${H} ${P}(${K}) {\n${T}${aa}}`}function k(H,P,K){H=H?`${H} = `:"";K=d(K);return`  ${H}${P}(${K})`}function t(H,P){for(let K=
0;K<H.length;K++){const T=H[K],aa=P[K];if(!aa||T.type!==aa.type||T.name===E.RETURN_ARG!==(aa.name===E.RETURN_ARG))return!1}return!0}function x(H,P,K,T,aa){const Q=[];let O="";for(let ea of Array.from(T)){var da=void 0;const {name:za}=ea;let Ea=T=H(za),sa=null,gb=null,wa=!1;const Ba=za===E.RETURN_ARG;if(da=null!=ea.meta?ea.meta.shadowed:void 0)if(sa=H(da))aa.vars[sa]="  "+ea.param(sa),aa.calls.push(`  ${sa} = ${T}`),P(da)?gb={shadowed:sa}:ea=ea.split();if(da=null!=ea.meta?ea.meta.shadow:void 0)if(sa=
H(da))if(P(da))continue;else ea=ea.split(),wa=!0;Ba?O=T:wa||Q.push(null!=sa?sa:T);P(za)?(da="push",Ba?""===aa.return?(da="unshift",Ea=za,aa.type=ea.spec,aa.return=`  return ${T}`,aa.vars[T]="  "+ea.param(T)):(aa.vars[T]="  "+ea.param(T),aa.params.push(ea.param(T,!0))):aa.params.push(ea.param(T,!0)),ea=ea.copy(Ea,gb),aa.signature[da](ea)):aa.vars[T]="  "+ea.param(T)}return aa.calls.push(k(O,K,Q))}function A(H,P){const {entry:K}=H;var T=null;P&&1===P.length&&"main"!==K&&(P=P[0].module,t(H.signature,
P.main.signature)&&(T=h(K,P.entry)));if(null==T){P=[];for(var aa in H.vars)P.push(H.vars[aa]);aa=P;({calls:P}=H);({post:T}=H);let {params:Q}=H;const {type:O}=H,da=H.return;P=P.concat(T);""!==da&&P.push(da);P.push("");aa.length?(aa.push(""),aa=c(aa)+"\n"):aa="";P=c(P);Q=d(Q);T=l(O,K,Q,aa,P)}return{signature:H.signature,code:T,name:K}}Object.defineProperty(p,"__esModule",{value:!0});p.unshadow=function(H){const P=H.replace(E.SHADOW_ARG,"");return P!==H?P:null};p.lines=m;p.list=d;p.statements=c;p.body=
g;p.define=h;p.fn=l;p.invoke=k;p.same=t;p.call=x;p.build=A;p.links=function(H){const P={defs:[],bodies:[]};for(const K of Array.from(H))F(K,P);P.defs=m(P.defs);P.bodies=c(P.bodies);""===P.defs&&delete P.defs;""===P.bodies&&delete P.bodies;return P};p.defuse=function(H){const P=/([A-Za-z0-9_]+\s+)?[A-Za-z0-9_]+\s+[A-Za-z0-9_]+\s*\([^)]*\)\s*;\s*/gm,K=O=>O.replace(P,da=>"");H=H.split(/(?=[{}])/g);let T=0;for(let O=0;O<H.length;O++){var aa=H[O];switch(aa[0]){case "{":T++;break;case "}":T--}if(0===T){aa=
aa.split(/^[ \t]*#/m);for(let da=0;da<aa.length;da++){var Q=aa[da];if(0<da){Q=Q.split(/\n/);const ea=Q.shift();Q=Q.join("\n");aa[da]=[ea,K(Q)].join("\n")}else aa[da]=K(Q)}H[O]=aa.join("#")}}return H=H.join("")};p.dedupe=function(H){const P={};return H.replace(/((attribute|uniform|varying)\s+)[A-Za-z0-9_]+\s+([A-Za-z0-9_]+)\s*(\[[^\]]*\]\s*)?;\s*/gm,function(K,T,aa,Q,O){if(P[Q])return"";P[Q]=!0;return K})};p.hoist=function(H){const P=function(K,T){const aa=[],Q=[];for(const O of Array.from(K))(O.match(T)?
aa:Q).push(O);return aa.concat(Q)};H=H.split("\n");H=P(H,/^#define ([^ ]+ _pg_[0-9]+_|_pg_[0-9]+_ [^ ]+)$/);H=P(H,/^#extension/);return H.join("\n")};p.link=void 0;var y=r(B(478)),E=r(B(522));const F=(H,P)=>{const {module:K,name:T,external:aa}=H;var {main:Q}=K;({entry:H}=K);if(t(Q.signature,aa.signature))return P.defs.push(h(T,H));var O=[],da=[];let ea={};const za=[K.namespace,E.RETURN_ARG].join("");for(sa of Array.from(aa.signature)){var Ea=sa.inout===y.IN?O:da;Ea.push(sa)}for(sa of Array.from(Q.signature))Ea=
sa.inout===y.IN?O:da,Ea=Ea.shift().name,Ea===E.RETURN_ARG&&(Ea=za),ea[sa.name]=Ea;var sa=gb=>ea[gb];O=()=>!0;da=g();x(sa,O,H,Q.signature,da);da.entry=H;ea={return:za};sa=gb=>null!=ea[gb]?ea[gb]:gb;Q=g();x(sa,O,H,aa.signature,Q);Q.calls=da.calls;Q.entry=T;P.bodies.push(A(da).code.split(" {")[0]);return P.bodies.push(A(Q).code)};p.link=F};
shadow$provide[525]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(502);Object.keys(w).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===w[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return w[c]}}))});var r=B(523);Object.keys(r).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===r[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return r[c]}}))});var m=B(524);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in p&&p[c]===m[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return m[c]}}))});var d=B(522);Object.keys(d).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in p&&p[c]===d[c]||Object.defineProperty(p,c,{enumerable:!0,get:function(){return d[c]}}))})};
shadow$provide[526]=function(G,B,X,p){function w(y){if("function"!==typeof WeakMap)return null;var E=new WeakMap,F=new WeakMap;return(w=function(H){return H?F:E})(y)}function r(y,E){if(!E&&y&&y.__esModule)return y;if(null===y||"object"!==typeof y&&"function"!==typeof y)return{default:y};if((E=w(E))&&E.has(y))return E.get(y);var F={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor,P;for(P in y)if("default"!==P&&Object.prototype.hasOwnProperty.call(y,P)){var K=H?Object.getOwnPropertyDescriptor(y,
P):null;K&&(K.get||K.set)?Object.defineProperty(F,P,K):F[P]=y[P]}F.default=y;E&&E.set(y,F);return F}Object.defineProperty(p,"__esModule",{value:!0});p.load=function(y,E={}){return new A(y,E)};p.ShaderGraph=p.inspect=p.visualize=void 0;G=B(491);var m=r(B(501)),d=r(B(525));X=r(B(478));var c=r(B(485));B=r(B(495));const {library:g,cache:h}=m,{visualize:l,inspect:k}=B;p.inspect=k;p.visualize=l;const {Snippet:t}=c,x=function(y,E={}){const F={};for(let H in y)F[H]=E[H]||y[H];return F};class A{constructor(y,
E){this.config=x({globalUniforms:!1,globalVaryings:!0,globalAttributes:!0,globals:[],autoInspect:!1},E);this.fetch=h(g(d,y,t.load))}shader(y){null==y&&(y={});y=x(this.config,y);return new m.Factory(d,this.fetch,y)}material(y){return new m.Material(this.shader(y),this.shader(y))}inspect(y){return A.inspect(y)}visualize(y){return A.visualize(y)}static inspect(y){return k(y)}static visualize(y){return l(y)}}p.ShaderGraph=A;A.Block=G.Block;A.Factory=m;A.GLSL=d;A.Graph=X;A.Linker=c;A.Visualize=B};
shadow$provide[527]=function(G,B,X,p){function w(m){if("function"!==typeof WeakMap)return null;var d=new WeakMap,c=new WeakMap;return(w=function(g){return g?c:d})(m)}Object.defineProperty(p,"__esModule",{value:!0});p.Factory=void 0;var r=function(m,d){if(!d&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((d=w(d))&&d.has(m))return d.get(m);var c={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,h;for(h in m)if("default"!==h&&Object.prototype.hasOwnProperty.call(m,
h)){var l=g?Object.getOwnPropertyDescriptor(m,h):null;l&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=m[h]}c.default=m;d&&d.set(m,c);return c}(B(526));p.Factory=function(m){return r.load(function(d){var c=m[d];if(null!=c)return c;c=["#",".",":","["].includes(d[0]);c=document.querySelector(c?d:`#${d}`);if(null!=c&&"SCRIPT"===c.tagName)return c.textContent||c.innerText;throw Error(`Unknown shader \`${d}\``);},{autoInspect:!0})}};
shadow$provide[528]=function(G,B,X,p){function w(Ub){return Ub&&Ub.__esModule?Ub:{default:Ub}}Object.defineProperty(p,"__esModule",{value:!0});var r={Snippets:!0};p.Snippets=void 0;var m=w(B(363)),d=w(B(364)),c=w(B(365)),g=w(B(366)),h=w(B(367)),l=w(B(368)),k=w(B(369)),t=w(B(370)),x=w(B(371)),A=w(B(372)),y=w(B(373)),E=w(B(374)),F=w(B(375)),H=w(B(376)),P=w(B(377)),K=w(B(378)),T=w(B(379)),aa=w(B(380)),Q=w(B(381)),O=w(B(382)),da=w(B(383)),ea=w(B(384)),za=w(B(385)),Ea=w(B(386)),sa=w(B(387)),gb=w(B(388)),
wa=w(B(389)),Ba=w(B(390)),Da=w(B(391)),pa=w(B(392)),ib=w(B(393)),$a=w(B(394)),eb=w(B(395)),Ja=w(B(396)),Fb=w(B(397)),Kb=w(B(398)),rb=w(B(399)),Pb=w(B(400)),N=w(B(401)),Z=w(B(402)),va=w(B(403)),ab=w(B(404)),Ha=w(B(405)),Qa=w(B(406)),cb=w(B(407)),Ab=w(B(408)),ma=w(B(409)),la=w(B(410)),Ra=w(B(411)),Sa=w(B(412)),ob=w(B(413)),oa=w(B(414)),Va=w(B(415)),Ua=w(B(416)),ua=w(B(417)),Ta=w(B(418)),hb=w(B(419)),Bb=w(B(420)),Db=w(B(421)),Sb=w(B(422)),tc=w(B(423)),dc=w(B(424)),Yc=w(B(425)),ed=w(B(426)),bd=w(B(427)),
hd=w(B(428)),fc=w(B(429)),cd=w(B(430)),zd=w(B(431)),Gd=w(B(432)),sc=w(B(433)),de=w(B(434)),ge=w(B(435)),Ce=w(B(436)),Jb=w(B(437)),ke=w(B(438)),nd=w(B(439)),od=w(B(440)),te=w(B(441)),pe=w(B(442)),vc=w(B(443)),Od=w(B(444)),gc=w(B(445)),Rc=w(B(446)),Tc=w(B(447)),xd=w(B(448)),Dc=w(B(449)),yf=w(B(450)),He=w(B(451)),we=w(B(452)),Ne=w(B(453)),Pe=w(B(454)),ie=w(B(455)),cf=w(B(456)),rf=w(B(457)),ff=w(B(458)),gf=w(B(459)),ee=w(B(460)),Nb=w(B(461)),Yd=w(B(462)),De=w(B(463)),me=w(B(464)),Lc=w(B(465)),Hd=w(B(466)),
ya=w(B(467)),Ia=w(B(468)),fb=w(B(469)),lb=w(B(470)),yb=w(B(471)),kb=w(B(472)),tb=w(B(473)),Eb=w(B(474)),Hb=B(527);Object.keys(Hb).forEach(function(Ub){"default"!==Ub&&"__esModule"!==Ub&&(Object.prototype.hasOwnProperty.call(r,Ub)||Ub in p&&p[Ub]===Hb[Ub]||Object.defineProperty(p,Ub,{enumerable:!0,get:function(){return Hb[Ub]}}))});p.Snippets={"arrow.position":m.default,"axis.position":d.default,"cartesian.position":g.default,"cartesian4.position":c.default,"clamp.position":h.default,"color.opaque":l.default,
"face.position":k.default,"face.position.normal":t.default,"float.encode":x.default,"float.index.pack":A.default,"float.stretch":y.default,"fragment.clip.dashed":E.default,"fragment.clip.dotted":F.default,"fragment.clip.ends":H.default,"fragment.clip.proximity":P.default,"fragment.color":K.default,"fragment.map.rgba":T.default,"fragment.solid":aa.default,"fragment.transparent":Q.default,"grid.position":O.default,"grow.position":da.default,"join.position":ea.default,"label.alpha":za.default,"label.map":Ea.default,
"label.outline":sa.default,"layer.position":gb.default,"lerp.depth":wa.default,"lerp.height":Ba.default,"lerp.items":Da.default,"lerp.width":pa.default,"line.position":ib.default,"map.2d.data":$a.default,"map.2d.data.wrap":eb.default,"map.xyzw.2dv":Ja.default,"map.xyzw.align":Fb.default,"map.xyzw.texture":Kb.default,"mesh.fragment.color":rb.default,"mesh.fragment.map":Pb.default,"mesh.fragment.mask":N.default,"mesh.fragment.material":Z.default,"mesh.fragment.shaded":va.default,"mesh.fragment.texture":ab.default,
"mesh.gamma.in":Ha.default,"mesh.gamma.out":Qa.default,"mesh.map.uvwo":cb.default,"mesh.position":Ab.default,"mesh.vertex.color":ma.default,"mesh.vertex.mask":la.default,"mesh.vertex.position":Ra.default,"move.position":Sa.default,"object.mask.default":ob.default,"point.alpha.circle":oa.default,"point.alpha.circle.hollow":Va.default,"point.alpha.generic":Ua.default,"point.alpha.generic.hollow":ua.default,"point.edge":Ta.default,"point.fill":hb.default,"point.mask.circle":Bb.default,"point.mask.diamond":Db.default,
"point.mask.down":Sb.default,"point.mask.left":tc.default,"point.mask.right":dc.default,"point.mask.square":Yc.default,"point.mask.up":ed.default,"point.position":bd.default,"point.size.uniform":hd.default,"point.size.varying":fc.default,"polar.position":cd.default,"project.position":zd.default,"project.readback":Gd.default,"raw.position.scale":sc.default,"repeat.position":de.default,"resample.padding":ge.default,"resample.relative":Ce.default,"reveal.mask":Jb.default,"reverse.position":ke.default,
"root.position":nd.default,"sample.2d":od.default,"scale.position":te.default,"screen.map.stpq":pe.default,"screen.map.xy":vc.default,"screen.map.xyzw":Od.default,"screen.pass.uv":gc.default,"screen.position":Rc.default,"slice.position":Tc.default,"spherical.position":xd.default,"split.position":Dc.default,"spread.position":yf.default,"sprite.fragment":He.default,"sprite.position":we.default,"stereographic.position":Pe.default,"stereographic4.position":Ne.default,"stpq.sample.2d":ie.default,"stpq.xyzw.2d":cf.default,
"strip.position.normal":rf.default,"style.color":ff.default,"subdivide.depth":gf.default,"subdivide.depth.lerp":ee.default,"subdivide.height":Nb.default,"subdivide.height.lerp":Yd.default,"subdivide.items":De.default,"subdivide.items.lerp":me.default,"subdivide.width":Lc.default,"subdivide.width.lerp":Hd.default,"surface.mask.hollow":ya.default,"surface.position":Ia.default,"surface.position.normal":fb.default,"surface.position.shaded":lb.default,"ticks.position":yb.default,"transform3.position":kb.default,
"transform4.position":tb.default,"view.position":Eb.default}};
shadow$provide[529]=function(G,B,X,p){function w(c){if("function"!==typeof WeakMap)return null;var g=new WeakMap,h=new WeakMap;return(w=function(l){return l?h:g})(c)}Object.defineProperty(p,"__esModule",{value:!0});p.Animator=void 0;var r=function(c,g){if(!g&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((g=w(g))&&g.has(c))return g.get(c);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in c)if("default"!==k&&Object.prototype.hasOwnProperty.call(c,
k)){var t=l?Object.getOwnPropertyDescriptor(c,k):null;t&&(t.get||t.set)?Object.defineProperty(h,k,t):h[k]=c[k]}h.default=c;g&&g.set(c,h);return h}(B(294));class m{constructor(c){this.context=c;this.anims=[]}make(c,g){c=new d(this,this.context.time,c,g);this.anims.push(c);return c}unmake(c){return this.anims=Array.from(this.anims).filter(g=>g!==c)}update(){const {time:c}=this.context;return this.anims=(()=>{const g=[];for(const h of Array.from(this.anims))!1!==h.update(c)&&g.push(h);return g})()}lerp(c,
g,h,l,k){null==k&&(k=c.make());if(c.lerp)k=c.lerp(g,h,k,l);else{if(c.emitter){k=g.emitterFrom;const t=h.emitterTo;if(null!=k&&null!=t&&k===t)return k.lerp(l),k;c=c.emitter(g,h);g.emitterFrom=c;h.emitterTo=c;c.lerp(l);return c}k=c.op?c.op(g,h,k,function(t,x){return t===+t&&x===+x?t+(x-t)*l:.5<l?x:t}):.5<l?h:g}return k}}p.Animator=m;class d{constructor(c,g,h,l){this.animator=c;this.time=g;this.type=h;this.options=l;this.value=this.type.make();this.target=this.type.make();this.queue=[]}dispose(){return this.animator.unmake(this)}set(){let {target:c}=
this,g=1<arguments.length?[].slice.call(arguments):arguments[0],h=!1;g=this.type.validate(g,c,()=>h=!0);h||(c=g);this.cancel();this.target=this.value;this.value=c;return this.notify()}getTime(){var {clock:c}=this.options;c=c?c.getTime():this.time;return this.options.realtime?c.time:c.clock}cancel(c){let g;null==c&&(c=this.getTime());const {queue:h}=this,l=(()=>{const k=[];for(g of Array.from(h))g.end>=c&&k.push(g);return k})();this.queue=(()=>{const k=[];for(g of Array.from(h))g.end<c&&k.push(g);
return k})();for(g of Array.from(l))"function"===typeof g.complete&&g.complete(!1);"function"===typeof this.options.complete&&this.options.complete(!1)}notify(){return"function"===typeof this.options.step?this.options.step(this.value):void 0}immediate(c,g){const {duration:h,delay:l,ease:k,step:t,complete:x}=g;g=this.getTime()+l;const A=g+h;let y=!1,E=this.type.make();c=this.type.validate(c,E,function(){y=!0;return null});void 0===c||y||(E=c);this.cancel(g);return this.queue.push({from:null,to:E,start:g,
end:A,ease:k,step:t,complete:x})}update(c){this.time=c;if(0===this.queue.length)return!0;c=this.getTime();let {value:g}=this;const {queue:h}=this;for(var l=!1;!l;){var k=h[0];let {from:t}=k;const {to:x,start:A,end:y,step:E,complete:F,ease:H}=k;null==t&&(t=k.from=this.type.clone(this.value));k=r.clamp((c-A)/Math.max(1E-5,y-A)||0,0,1);if(0===k)return;l=(()=>{switch(H){case "linear":case 0:return null;case "cosine":case 1:return r.cosine;case "binary":case 2:return r.binary;case "hold":case 3:return r.hold;
default:return r.cosine}})();null!=l&&(k=l(k));g=(l=1>k)?this.animator.lerp(this.type,t,x,k,g):x;"function"===typeof E&&E(g);if(!l&&("function"===typeof F&&F(!0),"function"===typeof this.options.complete&&this.options.complete(!0),h.shift(),0===h.length))break}this.value=g;return this.notify()}}};
shadow$provide[530]=function(G,B,X,p){function w(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,k=new WeakMap;return(w=function(t){return t?k:l})(h)}function r(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=w(l))&&l.has(h))return l.get(h);var k={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in h)if("default"!==x&&Object.prototype.hasOwnProperty.call(h,x)){var A=t?Object.getOwnPropertyDescriptor(h,
x):null;A&&(A.get||A.set)?Object.defineProperty(k,x,A):k[x]=h[x]}k.default=h;l&&l.set(h,k);return k}function m(h,l,k){const t=[],x=h<l;for(l=k?x?l+1:l-1:l;x?h<l:h>l;x?h++:h--)t.push(h);return t}Object.defineProperty(p,"__esModule",{value:!0});p.API=void 0;var d=r(B(134)),c=r(B(526));class g{v2(){return this}constructor(h,l,k){this._context=h;this._up=l;this._targets=k;h=this._context.controller.getRoot();null==this._targets&&(this._targets=[h]);this.isRoot=1===this._targets.length&&this._targets[0]===
h;this.isLeaf=1===this._targets.length&&null==this._targets[0].children;for(h=0;h<this._targets.length;h++)this[h]=this._targets[h];this.length=this._targets.length;for(const t of Array.from(this._context.controller.getTypes()))["root"].includes(t)||(this[t]=(x,A)=>this.add(t,x,A))}select(h){h=this._context.model.select(h,this.isRoot?null:this._targets);return this._push(h)}eq(h){return this._targets.length>h?this._push([this._targets[h]]):this._push([])}filter(h){if("string"===typeof h){const l=
this._context.model._matcher(h);h=k=>l(k)}return this._push(this._targets.filter(h))}map(h){return m(0,this.length,!1).map(l=>h(this[l],l,this))}each(h){for(let l=0,k=this.length,t=0<=k;t?l<k:l>k;t?l++:l--)h(this[l],l,this);return this}add(h,l,k){const {controller:t}=this._context;if(this.isLeaf)return this._pop().add(h,l,k);const x=[];for(const A of this._targets){const y=t.make(h,l,k);t.add(y,A);x.push(y)}return this._push(x)}remove(h){if(h)return this.select(h).remove();for(const l of Array.from(this._targets.slice().reverse()))this._context.controller.remove(l);
return this._pop()}set(h,l){for(const k of Array.from(this._targets))this._context.controller.set(k,h,l);return this}getAll(h){return Array.from(this._targets).map(l=>this._context.controller.get(l,h))}get(h){return null!=this._targets[0]?this._targets[0].get(h):void 0}evaluate(h,l){return null!=this._targets[0]?this._targets[0].evaluate(h,l):void 0}bind(h,l){for(const k of Array.from(this._targets))this._context.controller.bind(k,h,l);return this}unbind(h){for(const l of Array.from(this._targets))this._context.controller.unbind(l,
h);return this}end(){return(this.isLeaf?this._pop():this)._pop()}_push(h){return new g(this._context,this,h)}_pop(){return null!=this._up?this._up:this}_reset(){let h;return null!=(h=null!=this._up?this._up.reset():void 0)?h:this}map(h){return this._targets.map(h)}on(){const h=arguments;this._targets.map(l=>l.on.apply(l,h));return this}off(){const h=arguments;this._targets.map(l=>l.off.apply(l,h));return this}toString(){const h=this._targets.map(l=>l.toString());return 1<this._targets.length?`[${h.join(", ")}]`:
h[0]}toMarkup(){return this._targets.map(h=>h.toMarkup()).join("\n\n")}print(){d.print(this._targets.map(h=>h.toMarkup()).join("\n\n"));return this}debug(){var h=this.inspect();console.log("Renderables: ",h.renderables);console.log("Renders: ",h.renders);console.log("Shaders: ",h.shaders);const l=[];for(const k of Array.from(h.shaders))h=k.owner.constructor.name,l.push(`${h} - Vertex`),l.push(k.vertex),l.push(`${h} - Fragment`),l.push(k.fragment);return c.inspect(l)}inspect(h,l,k){let t;"boolean"===
typeof l&&(k=l,l=null);null==k&&(k=!0);const x=t=function(E,F){null==F&&(F=[]);l&&!E.traits.hash[l]||F.push(null!=(null!=E.controller?E.controller.objects:void 0)?null!=E.controller?E.controller.objects:void 0:[]);if(null!=E.children)for(const H of Array.from(E.children))t(H,F);return F},A=function(E){E=E.reduce((F,H)=>F.concat(H),[]);return E=E.filter((F,H)=>null!=F&&E.indexOf(F)===H)},y={nodes:this._targets.slice(),renderables:[],renders:[],shaders:[]};for(const E of Array.from(this._targets)){let F;
k&&E.print(h,"info");const H={renderables:F=A(x(E)),renders:A(F.map(P=>P.renders)),shaders:A(F.map(P=>null!=P.renders?P.renders.map(K=>{const T={};T.owner=P;T.geometry=K.geometry;T.material=K.material;T.vertex=K.userData.vertexGraph;T.fragment=K.userData.fragmentGraph;return T}):void 0))};for(const P in H)y[P]=y[P].concat(H[P])}return y}}p.API=g};
shadow$provide[531]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.Controller=void 0;class w{constructor(r,m){this.model=r;this.primitives=m}getRoot(){return this.model.getRoot()}getTypes(){return this.primitives.getTypes()}make(r,m,d){return this.primitives.make(r,m,d)}get(r,m){return r.get(m)}set(r,m,d){try{return r.set(m,d)}catch(c){return r.print(null,"warn"),console.error(c)}}bind(r,m,d){try{return r.bind(m,d)}catch(c){return r.print(null,"warn"),console.error(c)}}unbind(r,
m){try{return r.unbind(m)}catch(d){return r.print(null,"warn"),console.error(d)}}add(r,m){null==m&&(m=this.model.getRoot());return m.add(r)}remove(r){const m=r.parent;if(m)return m.remove(r)}}p.Controller=w};
shadow$provide[532]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w=B(529);Object.keys(w).forEach(function(d){"default"!==d&&"__esModule"!==d&&(d in p&&p[d]===w[d]||Object.defineProperty(p,d,{enumerable:!0,get:function(){return w[d]}}))});var r=B(530);Object.keys(r).forEach(function(d){"default"!==d&&"__esModule"!==d&&(d in p&&p[d]===r[d]||Object.defineProperty(p,d,{enumerable:!0,get:function(){return r[d]}}))});var m=B(531);Object.keys(m).forEach(function(d){"default"!==
d&&"__esModule"!==d&&(d in p&&p[d]===m[d]||Object.defineProperty(p,d,{enumerable:!0,get:function(){return m[d]}}))})};
shadow$provide[533]=function(G,B,X,p){function w(k){if("function"!==typeof WeakMap)return null;var t=new WeakMap,x=new WeakMap;return(w=function(A){return A?x:t})(k)}function r(k,t){if(!t&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((t=w(t))&&t.has(k))return t.get(k);var x={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in k)if("default"!==y&&Object.prototype.hasOwnProperty.call(k,y)){var E=A?Object.getOwnPropertyDescriptor(k,
y):null;E&&(E.get||E.set)?Object.defineProperty(x,y,E):x[y]=k[y]}x.default=k;t&&t.set(k,x);return x}Object.defineProperty(p,"__esModule",{value:!0});p.VDOM=p.Ticks=p.Three=p.Pretty=p.JS=p.GLSL=p.Ease=p.Data=p.Axis=void 0;G=r(B(242));X=r(B(198));var m=r(B(294)),d=r(B(199)),c=r(B(245)),g=r(B(134)),h=r(B(195)),l=r(B(319));B=r(B(183));p.Axis=G;p.Data=X;p.Ease=m;p.GLSL=d;p.JS=c;p.Pretty=g;p.Three=h;p.Ticks=l;p.VDOM=B};
shadow$provide[534]=function(G,B,X,p){function w(A){if("function"!==typeof WeakMap)return null;var y=new WeakMap,E=new WeakMap;return(w=function(F){return F?E:y})(A)}function r(A,y){if(!y&&A&&A.__esModule)return A;if(null===A||"object"!==typeof A&&"function"!==typeof A)return{default:A};if((y=w(y))&&y.has(A))return y.get(A);var E={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor,H;for(H in A)if("default"!==H&&Object.prototype.hasOwnProperty.call(A,H)){var P=F?Object.getOwnPropertyDescriptor(A,
H):null;P&&(P.get||P.set)?Object.defineProperty(E,H,P):E[H]=A[H]}E.default=A;y&&y.set(A,E);return E}Object.defineProperty(p,"__esModule",{value:!0});p.Context=void 0;var m=r(B(181)),d=r(B(187)),c=r(B(323)),g=r(B(362)),h=r(B(528)),l=r(B(532)),k=r(B(533)),t=B(101);class x{static initClass(){this.Namespace={Model:m,Overlay:d,Primitives:c,Render:g,Shaders:h,Stage:l,Util:k,DOM:k.VDOM};this.Version="2.3.1"}constructor(A,y=null,E=null){let F;this.canvas=F=A.domElement;this.element=null;this.shaders=h.Factory(h.Snippets);
this.renderables=new g.Factory(g.Classes,A,this.shaders);this.overlays=new d.Factory(d.Classes,F);this.scene=this.renderables.make("scene",{scene:y});this.camera=this.defaultCamera=null!=E?E:new t.PerspectiveCamera;this.attributes=new m.Attributes(c.Types,this);this.primitives=new c.Factory(c.Types,this);this.root=this.primitives.make("root");this.model=new m.Model(this.root);this.guard=new m.Guard;this.controller=new l.Controller(this.model,this.primitives);this.animator=new l.Animator(this);this.api=
new l.API(this);this.speed=1;this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}init(){this.scene.inject();this.overlays.inject();return this}destroy(){this.scene.unject();this.overlays.unject();return this}resize(A){null==A&&(A={});null==A.renderWidth&&(A.renderWidth=null!=A.viewWidth?A.viewWidth:A.viewWidth=1280);null==A.renderHeight&&(A.renderHeight=null!=A.viewHeight?A.viewHeight:A.viewHeight=720);null==A.pixelRatio&&(A.pixelRatio=A.renderWidth/Math.max(1E-6,A.viewWidth));null==A.aspect&&
(A.aspect=A.viewWidth/Math.max(1E-6,A.viewHeight));this.root.controller.resize(A);return this}frame(A){this.pre(A);this.update();this.render();this.post();return this}pre(A){A||(A={now:+new Date/1E3,time:0,delta:0,clock:0,step:0},A.delta=null!=this.time.now?A.now-this.time.now:0,1<A.delta&&(A.delta=1/60),A.step=A.delta*this.speed,A.time=this.time.time+A.delta,A.clock=this.time.clock+A.step);this.time=A;"function"===typeof this.root.controller.pre&&this.root.controller.pre();return this}update(){this.animator.update();
this.attributes.compute();this.guard.iterate({step:()=>this.attributes.digest()||this.model.digest(),last(){return{attribute:this.attributes.getLastTrigger(),model:this.model.getLastTrigger()}}});"function"===typeof this.root.controller.update&&this.root.controller.update();this.camera=this.root.controller.getCamera();this.speed=this.root.controller.getSpeed();return this}render(){"function"===typeof this.root.controller.render&&this.root.controller.render();this.scene.render();return this}post(){"function"===
typeof this.root.controller.post&&this.root.controller.post();return this}setWarmup(A){this.scene.warmup(A);return this}getPending(){return this.scene.pending.length}}p.Context=x;x.initClass()};
shadow$provide[535]=function(G,B,X,p){function w(A){if("function"!==typeof WeakMap)return null;var y=new WeakMap,E=new WeakMap;return(w=function(F){return F?E:y})(A)}function r(A,y){if(!y&&A&&A.__esModule)return A;if(null===A||"object"!==typeof A&&"function"!==typeof A)return{default:A};if((y=w(y))&&y.has(A))return y.get(A);var E={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor,H;for(H in A)if("default"!==H&&Object.prototype.hasOwnProperty.call(A,H)){var P=F?Object.getOwnPropertyDescriptor(A,
H):null;P&&(P.get||P.set)?Object.defineProperty(E,H,P):E[H]=A[H]}E.default=A;y&&y.set(A,E);return E}Object.defineProperty(p,"__esModule",{value:!0});p.mathBox=p.DOM=p.Util=p.Stage=p.Shaders=p.Render=p.Primitives=p.Overlay=p.Model=p.version=p.Context=p.e=p.\u03c4=p.\u03c0=void 0;B(105);B(132);G=r(B(181));X=r(B(187));var m=r(B(323)),d=r(B(362)),c=r(B(528)),g=r(B(532)),h=r(B(533)),l=B(104);B=B(534);const k=Math.PI;p.\u03c0=k;p.\u03c4=2*k;p.e=Math.E;const t=B.Context;p.Context=t;const x=B.Context.Version;
p.version=x;p.Model=G;p.Overlay=X;p.Primitives=m;p.Render=d;p.Shaders=c;p.Stage=g;p.Util=h;p.DOM=h.VDOM;p.mathBox=function(A){A=new l.Bootstrap(A);A.fallback||(A.Time||A.install("time"),A.MathBox||A.install(["mathbox","splash"]));return null!=A.mathbox?A.mathbox:A};l.Bootstrap.registerPlugin("mathbox",{defaults:{init:!0,warmup:2,inspect:!0,splash:!0},listen:["ready","pre","update","post","resize"],install(A){let y=!1;this.first=!0;return A.MathBox={init:E=>{y||(y=!0,this.context=new t(A.renderer,
(null!=E?E.scene:void 0)||this.options.scene||A.scene,(null!=E?E.camera:void 0)||this.options.camera||A.camera),this.context.api.three=A.three=A,this.context.api.mathbox=A.mathbox=this.context.api,this.context.api.start=()=>A.Loop.start(),this.context.api.stop=()=>A.Loop.stop(),this.context.init(),this.context.resize(A.Size),this.context.setWarmup(this.options.warmup),this.pending=0,this.warm=!this.options.warmup,console.log("MathBox²",x),A.trigger({type:"mathbox/init",version:x,context:this.context}))},
destroy:()=>{y&&(y=!1,A.trigger({type:"mathbox/destroy",context:this.context}),this.context.destroy(),delete A.mathbox,delete this.context.api.three,delete this.context)},object:()=>null!=this.context?this.context.scene.root:void 0}},uninstall(A){A.MathBox.destroy();delete A.MathBox},ready(A,y){if(this.options.init)return y.MathBox.init(),setTimeout(()=>{if(this.options.inspect&&y.MathBox)return this.inspect(y)})},inspect(A){this.context.api.inspect();if(!this.options.warmup)return this.info(A)},
info(A){const y=function(E){const F=[];for(;1E3<=E;)F.unshift(("000"+E%1E3).slice(-3)),E=Math.floor(E/1E3);F.unshift(E);return F.join(",")};A=A.renderer.info.render;console.log("Geometry  ",y(A.triangles)+" triangles  ",y(A.points)+" points  ",y(A.lines)+" lines  ",y(A.calls)+" draw calls  ")},resize(A,y){return null!=this.context?this.context.resize(y.Size):void 0},pre(A,y){return null!=this.context?this.context.pre(y.Time):void 0},update(A,y){let E;null!=this.context&&this.context.update();(E=null!=
this.context?this.context.camera:void 0)&&E!==y.camera&&(y.camera=E);y.Time.set({speed:this.context.speed});this.progress(this.context.getPending(),y);return null!=this.context?this.context.render():void 0},post(A,y){return null!=this.context?this.context.post():void 0},progress(A,y){if(A||this.pending){var E=Math.max(A+this.options.warmup,this.pending),F=E-A,H=E;y.trigger({type:"mathbox/progress",current:E-A,total:E});0===A&&(E=0);this.pending=E;F!==H||this.warm||(this.warm=!0,this.options.inspect&&
this.info(y))}}})};
shadow$provide[536]=function(G,B,X,p){var w=this&&this.__assign||function(){w=Object.assign||function(x){for(var A,y=1,E=arguments.length;y<E;y++){A=arguments[y];for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&(x[F]=A[F])}return x};return w.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(x,A,y,E){void 0===E&&(E=y);var F=Object.getOwnPropertyDescriptor(A,y);if(!F||("get"in F?!A.__esModule:F.writable||F.configurable))F={enumerable:!0,get:function(){return A[y]}};
Object.defineProperty(x,E,F)}:function(x,A,y,E){void 0===E&&(E=y);x[E]=A[y]}),m=this&&this.__setModuleDefault||(Object.create?function(x,A){Object.defineProperty(x,"default",{enumerable:!0,value:A})}:function(x,A){x["default"]=A});G=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var A={};if(null!=x)for(var y in x)"default"!==y&&Object.prototype.hasOwnProperty.call(x,y)&&r(A,x,y);m(A,x);return A};var d=this&&this.__rest||function(x,A){var y={},E;for(E in x)Object.prototype.hasOwnProperty.call(x,
E)&&0>A.indexOf(E)&&(y[E]=x[E]);if(null!=x&&"function"===typeof Object.getOwnPropertySymbols){var F=0;for(E=Object.getOwnPropertySymbols(x);F<E.length;F++)0>A.indexOf(E[F])&&Object.prototype.propertyIsEnumerable.call(x,E[F])&&(y[E[F]]=x[E[F]])}return y};X=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{"default":x}};p.__esModule=!0;var c=G(B(0)),g=B(101),h=B(535),l=X(B(9)),k=B(99),t=X(B(5));p["default"]=(0,c.forwardRef)(function(x,A){var y=x.container,E=x.children,F=x.options,H=
d(x,["container","children","options"]),P=(0,k.useDeepCompareMemo)(null!==F&&void 0!==F?F:{},{});x=(0,c.useState)(null);var K=x[0],T=x[1];(0,c.useEffect)(function(){if(!y)return function(){};var aa=(0,h.mathBox)(w(w({},P),{element:y}));T(aa);aa.three.renderer.setClearColor(new g.Color(16777215),1);aa.three.camera.position.set(1,1,2);return function(){aa.select("*").remove();aa.three.destroy();T(null)}},[y,P]);(0,c.useEffect)(function(){K&&K.set(H)},[K,H]);(0,c.useImperativeHandle)(A,function(){return K},
[K]);return K&&c["default"].createElement(l["default"].Provider,{value:K},c["default"].createElement(t["default"].Provider,{value:K.three},E))})};
shadow$provide[537]=function(G,B,X,p){var w=this&&this.__assign||function(){w=Object.assign||function(h){for(var l,k=1,t=arguments.length;k<t;k++){l=arguments[k];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(h[x]=l[x])}return h};return w.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(h,l,k,t){void 0===t&&(t=k);var x=Object.getOwnPropertyDescriptor(l,k);if(!x||("get"in x?!l.__esModule:x.writable||x.configurable))x={enumerable:!0,get:function(){return l[k]}};
Object.defineProperty(h,t,x)}:function(h,l,k,t){void 0===t&&(t=k);h[t]=l[k]}),m=this&&this.__setModuleDefault||(Object.create?function(h,l){Object.defineProperty(h,"default",{enumerable:!0,value:l})}:function(h,l){h["default"]=l});G=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var l={};if(null!=h)for(var k in h)"default"!==k&&Object.prototype.hasOwnProperty.call(h,k)&&r(l,h,k);m(l,h);return l};var d=this&&this.__rest||function(h,l){var k={},t;for(t in h)Object.prototype.hasOwnProperty.call(h,
t)&&0>l.indexOf(t)&&(k[t]=h[t]);if(null!=h&&"function"===typeof Object.getOwnPropertySymbols){var x=0;for(t=Object.getOwnPropertySymbols(h);x<t.length;x++)0>l.indexOf(t[x])&&Object.prototype.propertyIsEnumerable.call(h,t[x])&&(k[t[x]]=h[t[x]])}return k};X=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{"default":h}};p.__esModule=!0;var c=G(B(0)),g=X(B(536));p["default"]=(0,c.forwardRef)(function(h,l){var k=h.children,t=h.containerId,x=h.containerClass,A=h.containerStyle;h=d(h,["children",
"containerId","containerClass","containerStyle"]);var y=(0,c.useState)(null),E=y[0];return c["default"].createElement("div",{ref:y[1],id:t,className:x,style:A},E&&c["default"].createElement(g["default"],w({ref:l,container:E},h),k))})};
shadow$provide[538]=function(G,B,X,p){var w=this&&this.__createBinding||(Object.create?function(r,m,d,c){void 0===c&&(c=d);var g=Object.getOwnPropertyDescriptor(m,d);if(!g||("get"in g?!m.__esModule:g.writable||g.configurable))g={enumerable:!0,get:function(){return m[d]}};Object.defineProperty(r,c,g)}:function(r,m,d,c){void 0===c&&(c=d);r[c]=m[d]});G=this&&this.__exportStar||function(r,m){for(var d in r)"default"===d||Object.prototype.hasOwnProperty.call(m,d)||w(m,r,d)};p.__esModule=!0;p.useMathbox=
p.ContainedMathbox=p.Mathbox=void 0;G(B(100),p);G=B(536);w(p,G,"default","Mathbox");G=B(537);w(p,G,"default","ContainedMathbox");B=B(9);w(p,B,"useMathbox")};
shadow$provide[539]=function(G,B,X,p){var w=this&&this.__createBinding||(Object.create?function(m,d,c,g){void 0===g&&(g=c);var h=Object.getOwnPropertyDescriptor(d,c);if(!h||("get"in h?!d.__esModule:h.writable||h.configurable))h={enumerable:!0,get:function(){return d[c]}};Object.defineProperty(m,g,h)}:function(m,d,c,g){void 0===g&&(g=c);m[g]=d[c]}),r=this&&this.__setModuleDefault||(Object.create?function(m,d){Object.defineProperty(m,"default",{enumerable:!0,value:d})}:function(m,d){m["default"]=d});
X=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var d={};if(null!=m)for(var c in m)"default"!==c&&Object.prototype.hasOwnProperty.call(m,c)&&w(d,m,c);r(d,m);return d};G=this&&this.__exportStar||function(m,d){for(var c in m)"default"===c||Object.prototype.hasOwnProperty.call(d,c)||w(d,m,c)};p.__esModule=!0;p.Threestrap=void 0;X=X(B(8));p.Threestrap=X;G(B(538),p)};
shadow$provide[540]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.MapControls=p.OrbitControls=void 0;var w=B(101);const r={type:"change"},m={type:"start"},d={type:"end"};class c extends w.EventDispatcher{constructor(h,l){function k(){return Math.pow(.95,pa.zoomSpeed)}function t(oa){Ja.theta-=oa}function x(oa){Ja.phi-=oa}function A(oa){pa.object.isPerspectiveCamera?Fb/=oa:pa.object.isOrthographicCamera?(pa.object.zoom=Math.max(pa.minZoom,Math.min(pa.maxZoom,pa.object.zoom*oa)),
pa.object.updateProjectionMatrix(),rb=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),pa.enableZoom=!1)}function y(oa){pa.object.isPerspectiveCamera?Fb*=oa:pa.object.isOrthographicCamera?(pa.object.zoom=Math.max(pa.minZoom,Math.min(pa.maxZoom,pa.object.zoom/oa)),pa.object.updateProjectionMatrix(),rb=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),pa.enableZoom=!1)}function E(){1===ma.length?
Pb.set(ma[0].pageX,ma[0].pageY):Pb.set(.5*(ma[0].pageX+ma[1].pageX),.5*(ma[0].pageY+ma[1].pageY))}function F(){1===ma.length?va.set(ma[0].pageX,ma[0].pageY):va.set(.5*(ma[0].pageX+ma[1].pageX),.5*(ma[0].pageY+ma[1].pageY))}function H(){const oa=ma[0].pageX-ma[1].pageX,Va=ma[0].pageY-ma[1].pageY;Qa.set(0,Math.sqrt(oa*oa+Va*Va))}function P(oa){if(1==ma.length)N.set(oa.pageX,oa.pageY);else{const Va=Da(oa);N.set(.5*(oa.pageX+Va.x),.5*(oa.pageY+Va.y))}Z.subVectors(N,Pb).multiplyScalar(pa.rotateSpeed);
oa=pa.domElement;t(2*Math.PI*Z.x/oa.clientHeight);x(2*Math.PI*Z.y/oa.clientHeight);Pb.copy(N)}function K(oa){if(1===ma.length)ab.set(oa.pageX,oa.pageY);else{const Va=Da(oa);ab.set(.5*(oa.pageX+Va.x),.5*(oa.pageY+Va.y))}Ha.subVectors(ab,va).multiplyScalar(pa.panSpeed);ob(Ha.x,Ha.y);va.copy(ab)}function T(oa){const Va=Da(oa),Ua=oa.pageX-Va.x;oa=oa.pageY-Va.y;cb.set(0,Math.sqrt(Ua*Ua+oa*oa));Ab.set(0,Math.pow(cb.y/Qa.y,pa.zoomSpeed));A(Ab.y);Qa.copy(cb)}function aa(oa){!1!==pa.enabled&&(0===ma.length&&
(pa.domElement.setPointerCapture(oa.pointerId),pa.domElement.addEventListener("pointermove",Q),pa.domElement.addEventListener("pointerup",O)),ma.push(oa),"touch"===oa.pointerType?sa(oa):ea(oa))}function Q(oa){if(!1!==pa.enabled)if("touch"===oa.pointerType)switch(Ba(oa),$a){case ib.TOUCH_ROTATE:if(!1===pa.enableRotate)break;P(oa);pa.update();break;case ib.TOUCH_PAN:if(!1===pa.enablePan)break;K(oa);pa.update();break;case ib.TOUCH_DOLLY_PAN:if(!1===pa.enableZoom&&!1===pa.enablePan)break;pa.enableZoom&&
T(oa);pa.enablePan&&K(oa);pa.update();break;case ib.TOUCH_DOLLY_ROTATE:if(!1===pa.enableZoom&&!1===pa.enableRotate)break;pa.enableZoom&&T(oa);pa.enableRotate&&P(oa);pa.update();break;default:$a=ib.NONE}else a:switch($a){case ib.ROTATE:if(!1===pa.enableRotate)break a;N.set(oa.clientX,oa.clientY);Z.subVectors(N,Pb).multiplyScalar(pa.rotateSpeed);oa=pa.domElement;t(2*Math.PI*Z.x/oa.clientHeight);x(2*Math.PI*Z.y/oa.clientHeight);Pb.copy(N);pa.update();break;case ib.DOLLY:if(!1===pa.enableZoom)break a;
cb.set(oa.clientX,oa.clientY);Ab.subVectors(cb,Qa);0<Ab.y?A(k()):0>Ab.y&&y(k());Qa.copy(cb);pa.update();break;case ib.PAN:!1!==pa.enablePan&&(ab.set(oa.clientX,oa.clientY),Ha.subVectors(ab,va).multiplyScalar(pa.panSpeed),ob(Ha.x,Ha.y),va.copy(ab),pa.update())}}function O(oa){wa(oa);0===ma.length&&(pa.domElement.releasePointerCapture(oa.pointerId),pa.domElement.removeEventListener("pointermove",Q),pa.domElement.removeEventListener("pointerup",O));pa.dispatchEvent(d);$a=ib.NONE}function da(oa){wa(oa)}
function ea(oa){let Va;switch(oa.button){case 0:Va=pa.mouseButtons.LEFT;break;case 1:Va=pa.mouseButtons.MIDDLE;break;case 2:Va=pa.mouseButtons.RIGHT;break;default:Va=-1}switch(Va){case w.MOUSE.DOLLY:if(!1===pa.enableZoom)return;Qa.set(oa.clientX,oa.clientY);$a=ib.DOLLY;break;case w.MOUSE.ROTATE:if(oa.ctrlKey||oa.metaKey||oa.shiftKey){if(!1===pa.enablePan)return;va.set(oa.clientX,oa.clientY);$a=ib.PAN}else{if(!1===pa.enableRotate)return;Pb.set(oa.clientX,oa.clientY);$a=ib.ROTATE}break;case w.MOUSE.PAN:if(oa.ctrlKey||
oa.metaKey||oa.shiftKey){if(!1===pa.enableRotate)return;Pb.set(oa.clientX,oa.clientY);$a=ib.ROTATE}else{if(!1===pa.enablePan)return;va.set(oa.clientX,oa.clientY);$a=ib.PAN}break;default:$a=ib.NONE}$a!==ib.NONE&&pa.dispatchEvent(m)}function za(oa){!1!==pa.enabled&&!1!==pa.enableZoom&&$a===ib.NONE&&(oa.preventDefault(),pa.dispatchEvent(m),0>oa.deltaY?y(k()):0<oa.deltaY&&A(k()),pa.update(),pa.dispatchEvent(d))}function Ea(oa){if(!1!==pa.enabled&&!1!==pa.enablePan){var Va=!1;switch(oa.code){case pa.keys.UP:oa.ctrlKey||
oa.metaKey||oa.shiftKey?x(2*Math.PI*pa.rotateSpeed/pa.domElement.clientHeight):ob(0,pa.keyPanSpeed);Va=!0;break;case pa.keys.BOTTOM:oa.ctrlKey||oa.metaKey||oa.shiftKey?x(-2*Math.PI*pa.rotateSpeed/pa.domElement.clientHeight):ob(0,-pa.keyPanSpeed);Va=!0;break;case pa.keys.LEFT:oa.ctrlKey||oa.metaKey||oa.shiftKey?t(2*Math.PI*pa.rotateSpeed/pa.domElement.clientHeight):ob(pa.keyPanSpeed,0);Va=!0;break;case pa.keys.RIGHT:oa.ctrlKey||oa.metaKey||oa.shiftKey?t(-2*Math.PI*pa.rotateSpeed/pa.domElement.clientHeight):
ob(-pa.keyPanSpeed,0),Va=!0}Va&&(oa.preventDefault(),pa.update())}}function sa(oa){Ba(oa);switch(ma.length){case 1:switch(pa.touches.ONE){case w.TOUCH.ROTATE:if(!1===pa.enableRotate)return;E();$a=ib.TOUCH_ROTATE;break;case w.TOUCH.PAN:if(!1===pa.enablePan)return;F();$a=ib.TOUCH_PAN;break;default:$a=ib.NONE}break;case 2:switch(pa.touches.TWO){case w.TOUCH.DOLLY_PAN:if(!1===pa.enableZoom&&!1===pa.enablePan)return;pa.enableZoom&&H();pa.enablePan&&F();$a=ib.TOUCH_DOLLY_PAN;break;case w.TOUCH.DOLLY_ROTATE:if(!1===
pa.enableZoom&&!1===pa.enableRotate)return;pa.enableZoom&&H();pa.enableRotate&&E();$a=ib.TOUCH_DOLLY_ROTATE;break;default:$a=ib.NONE}break;default:$a=ib.NONE}$a!==ib.NONE&&pa.dispatchEvent(m)}function gb(oa){!1!==pa.enabled&&oa.preventDefault()}function wa(oa){delete la[oa.pointerId];for(let Va=0;Va<ma.length;Va++)if(ma[Va].pointerId==oa.pointerId){ma.splice(Va,1);break}}function Ba(oa){let Va=la[oa.pointerId];void 0===Va&&(Va=new w.Vector2,la[oa.pointerId]=Va);Va.set(oa.pageX,oa.pageY)}function Da(oa){return la[(oa.pointerId===
ma[0].pointerId?ma[1]:ma[0]).pointerId]}super();this.object=h;this.domElement=l;this.domElement.style.touchAction="none";this.enabled=!0;this.target=new w.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.05;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.panSpeed=
1;this.screenSpacePanning=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"};this.mouseButtons={LEFT:w.MOUSE.ROTATE,MIDDLE:w.MOUSE.DOLLY,RIGHT:w.MOUSE.PAN};this.touches={ONE:w.TOUCH.ROTATE,TWO:w.TOUCH.DOLLY_PAN};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this._domElementKeyEvents=null;this.getPolarAngle=function(){return eb.phi};this.getAzimuthalAngle=
function(){return eb.theta};this.getDistance=function(){return this.object.position.distanceTo(this.target)};this.listenToKeyEvents=function(oa){oa.addEventListener("keydown",Ea);this._domElementKeyEvents=oa};this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Ea);this._domElementKeyEvents=null};this.saveState=function(){pa.target0.copy(pa.target);pa.position0.copy(pa.object.position);pa.zoom0=pa.object.zoom};this.reset=function(){pa.target.copy(pa.target0);
pa.object.position.copy(pa.position0);pa.object.zoom=pa.zoom0;pa.object.updateProjectionMatrix();pa.dispatchEvent(r);pa.update();$a=ib.NONE};this.update=function(){const oa=new w.Vector3,Va=(new w.Quaternion).setFromUnitVectors(h.up,new w.Vector3(0,1,0)),Ua=Va.clone().invert(),ua=new w.Vector3,Ta=new w.Quaternion,hb=2*Math.PI;return function(){const Bb=pa.object.position;oa.copy(Bb).sub(pa.target);oa.applyQuaternion(Va);eb.setFromVector3(oa);pa.autoRotate&&$a===ib.NONE&&t(2*Math.PI/60/60*pa.autoRotateSpeed);
pa.enableDamping?(eb.theta+=Ja.theta*pa.dampingFactor,eb.phi+=Ja.phi*pa.dampingFactor):(eb.theta+=Ja.theta,eb.phi+=Ja.phi);let Db=pa.minAzimuthAngle,Sb=pa.maxAzimuthAngle;isFinite(Db)&&isFinite(Sb)&&(Db<-Math.PI?Db+=hb:Db>Math.PI&&(Db-=hb),Sb<-Math.PI?Sb+=hb:Sb>Math.PI&&(Sb-=hb),eb.theta=Db<=Sb?Math.max(Db,Math.min(Sb,eb.theta)):eb.theta>(Db+Sb)/2?Math.max(Db,eb.theta):Math.min(Sb,eb.theta));eb.phi=Math.max(pa.minPolarAngle,Math.min(pa.maxPolarAngle,eb.phi));eb.makeSafe();eb.radius*=Fb;eb.radius=
Math.max(pa.minDistance,Math.min(pa.maxDistance,eb.radius));!0===pa.enableDamping?pa.target.addScaledVector(Kb,pa.dampingFactor):pa.target.add(Kb);oa.setFromSpherical(eb);oa.applyQuaternion(Ua);Bb.copy(pa.target).add(oa);pa.object.lookAt(pa.target);!0===pa.enableDamping?(Ja.theta*=1-pa.dampingFactor,Ja.phi*=1-pa.dampingFactor,Kb.multiplyScalar(1-pa.dampingFactor)):(Ja.set(0,0,0),Kb.set(0,0,0));Fb=1;return rb||1E-6<ua.distanceToSquared(pa.object.position)||1E-6<8*(1-Ta.dot(pa.object.quaternion))?(pa.dispatchEvent(r),
ua.copy(pa.object.position),Ta.copy(pa.object.quaternion),rb=!1,!0):!1}}();this.dispose=function(){pa.domElement.removeEventListener("contextmenu",gb);pa.domElement.removeEventListener("pointerdown",aa);pa.domElement.removeEventListener("pointercancel",da);pa.domElement.removeEventListener("wheel",za);pa.domElement.removeEventListener("pointermove",Q);pa.domElement.removeEventListener("pointerup",O);null!==pa._domElementKeyEvents&&(pa._domElementKeyEvents.removeEventListener("keydown",Ea),pa._domElementKeyEvents=
null)};const pa=this,ib={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let $a=ib.NONE;const eb=new w.Spherical,Ja=new w.Spherical;let Fb=1;const Kb=new w.Vector3;let rb=!1;const Pb=new w.Vector2,N=new w.Vector2,Z=new w.Vector2,va=new w.Vector2,ab=new w.Vector2,Ha=new w.Vector2,Qa=new w.Vector2,cb=new w.Vector2,Ab=new w.Vector2,ma=[],la={},Ra=function(){const oa=new w.Vector3;return function(Va,Ua){oa.setFromMatrixColumn(Ua,0);oa.multiplyScalar(-Va);
Kb.add(oa)}}(),Sa=function(){const oa=new w.Vector3;return function(Va,Ua){!0===pa.screenSpacePanning?oa.setFromMatrixColumn(Ua,1):(oa.setFromMatrixColumn(Ua,0),oa.crossVectors(pa.object.up,oa));oa.multiplyScalar(Va);Kb.add(oa)}}(),ob=function(){const oa=new w.Vector3;return function(Va,Ua){const ua=pa.domElement;if(pa.object.isPerspectiveCamera){oa.copy(pa.object.position).sub(pa.target);let Ta=oa.length();Ta*=Math.tan(pa.object.fov/2*Math.PI/180);Ra(2*Va*Ta/ua.clientHeight,pa.object.matrix);Sa(2*
Ua*Ta/ua.clientHeight,pa.object.matrix)}else pa.object.isOrthographicCamera?(Ra(Va*(pa.object.right-pa.object.left)/pa.object.zoom/ua.clientWidth,pa.object.matrix),Sa(Ua*(pa.object.top-pa.object.bottom)/pa.object.zoom/ua.clientHeight,pa.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),pa.enablePan=!1)}}();pa.domElement.addEventListener("contextmenu",gb);pa.domElement.addEventListener("pointerdown",aa);pa.domElement.addEventListener("pointercancel",
da);pa.domElement.addEventListener("wheel",za,{passive:!1});this.update()}}p.OrbitControls=c;class g extends c{constructor(h,l){super(h,l);this.screenSpacePanning=!1;this.mouseButtons.LEFT=w.MOUSE.PAN;this.mouseButtons.RIGHT=w.MOUSE.ROTATE;this.touches.ONE=w.TOUCH.PAN;this.touches.TWO=w.TOUCH.DOLLY_ROTATE}}p.MapControls=g};
shadow$provide[541]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p.TrackballControls=void 0;var w=B(101);const r={type:"change"},m={type:"start"},d={type:"end"};class c extends w.EventDispatcher{constructor(g,h){function l(rb){if(!1!==K.enabled){0===eb.length&&(K.domElement.setPointerCapture(rb.pointerId),K.domElement.addEventListener("pointermove",k),K.domElement.addEventListener("pointerup",t));eb.push(rb);if("touch"===rb.pointerType)switch(P(rb),eb.length){case 1:O=T.TOUCH_ROTATE;
wa.copy(Kb(eb[0].pageX,eb[0].pageY));gb.copy(wa);break;default:O=T.TOUCH_ZOOM_PAN;rb=eb[0].pageX-eb[1].pageX;var Pb=eb[0].pageY-eb[1].pageY;za=ea=Math.sqrt(rb*rb+Pb*Pb);ib.copy(Fb((eb[0].pageX+eb[1].pageX)/2,(eb[0].pageY+eb[1].pageY)/2));$a.copy(ib)}else{if(O===T.NONE)switch(rb.button){case K.mouseButtons.LEFT:O=T.ROTATE;break;case K.mouseButtons.MIDDLE:O=T.ZOOM;break;case K.mouseButtons.RIGHT:O=T.PAN}Pb=da!==T.NONE?da:O;Pb!==T.ROTATE||K.noRotate?Pb!==T.ZOOM||K.noZoom?Pb!==T.PAN||K.noPan||(ib.copy(Fb(rb.pageX,
rb.pageY)),$a.copy(ib)):(Da.copy(Fb(rb.pageX,rb.pageY)),pa.copy(Da)):(wa.copy(Kb(rb.pageX,rb.pageY)),gb.copy(wa))}K.dispatchEvent(m)}}function k(rb){if(!1!==K.enabled)if("touch"===rb.pointerType)switch(P(rb),eb.length){case 1:gb.copy(wa);wa.copy(Kb(rb.pageX,rb.pageY));break;default:var Pb=Ja[(rb.pointerId===eb[0].pointerId?eb[1]:eb[0]).pointerId];const N=rb.pageX-Pb.x,Z=rb.pageY-Pb.y;za=Math.sqrt(N*N+Z*Z);$a.copy(Fb((rb.pageX+Pb.x)/2,(rb.pageY+Pb.y)/2))}else Pb=da!==T.NONE?da:O,Pb!==T.ROTATE||K.noRotate?
Pb!==T.ZOOM||K.noZoom?Pb!==T.PAN||K.noPan||$a.copy(Fb(rb.pageX,rb.pageY)):pa.copy(Fb(rb.pageX,rb.pageY)):(gb.copy(wa),wa.copy(Kb(rb.pageX,rb.pageY)))}function t(rb){if(!1!==K.enabled){if("touch"===rb.pointerType)switch(eb.length){case 0:O=T.NONE;break;case 1:O=T.TOUCH_ROTATE;wa.copy(Kb(rb.pageX,rb.pageY));gb.copy(wa);break;case 2:O=T.TOUCH_ZOOM_PAN;for(var Pb=0;Pb<eb.length;Pb++)if(eb[Pb].pointerId!==rb.pointerId){Pb=Ja[eb[Pb].pointerId];wa.copy(Kb(Pb.x,Pb.y));gb.copy(wa);break}}else O=T.NONE;K.dispatchEvent(d);
H(rb);0===eb.length&&(K.domElement.releasePointerCapture(rb.pointerId),K.domElement.removeEventListener("pointermove",k),K.domElement.removeEventListener("pointerup",t))}}function x(rb){H(rb)}function A(rb){!1!==K.enabled&&(window.removeEventListener("keydown",A),da===T.NONE)&&(rb.code!==K.keys[T.ROTATE]||K.noRotate?rb.code!==K.keys[T.ZOOM]||K.noZoom?rb.code!==K.keys[T.PAN]||K.noPan||(da=T.PAN):da=T.ZOOM:da=T.ROTATE)}function y(){!1!==K.enabled&&(da=T.NONE,window.addEventListener("keydown",A))}function E(rb){if(!1!==
K.enabled&&!0!==K.noZoom){rb.preventDefault();switch(rb.deltaMode){case 2:Da.y-=.025*rb.deltaY;break;case 1:Da.y-=.01*rb.deltaY;break;default:Da.y-=2.5E-4*rb.deltaY}K.dispatchEvent(m);K.dispatchEvent(d)}}function F(rb){!1!==K.enabled&&rb.preventDefault()}function H(rb){delete Ja[rb.pointerId];for(let Pb=0;Pb<eb.length;Pb++)if(eb[Pb].pointerId==rb.pointerId){eb.splice(Pb,1);break}}function P(rb){let Pb=Ja[rb.pointerId];void 0===Pb&&(Pb=new w.Vector2,Ja[rb.pointerId]=Pb);Pb.set(rb.pageX,rb.pageY)}super();
const K=this,T={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=g;this.domElement=h;this.domElement.style.touchAction="none";this.enabled=!0;this.screen={left:0,top:0,width:0,height:0};this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=.3;this.staticMoving=this.noPan=this.noZoom=this.noRotate=!1;this.dynamicDampingFactor=.2;this.minDistance=0;this.maxDistance=Infinity;this.keys=["KeyA","KeyS","KeyD"];this.mouseButtons={LEFT:w.MOUSE.ROTATE,MIDDLE:w.MOUSE.DOLLY,RIGHT:w.MOUSE.PAN};
this.target=new w.Vector3;const aa=new w.Vector3;let Q=1,O=T.NONE,da=T.NONE,ea=0,za=0,Ea=0;const sa=new w.Vector3,gb=new w.Vector2,wa=new w.Vector2,Ba=new w.Vector3,Da=new w.Vector2,pa=new w.Vector2,ib=new w.Vector2,$a=new w.Vector2,eb=[],Ja={};this.target0=this.target.clone();this.position0=this.object.position.clone();this.up0=this.object.up.clone();this.zoom0=this.object.zoom;this.handleResize=function(){const rb=K.domElement.getBoundingClientRect(),Pb=K.domElement.ownerDocument.documentElement;
K.screen.left=rb.left+window.pageXOffset-Pb.clientLeft;K.screen.top=rb.top+window.pageYOffset-Pb.clientTop;K.screen.width=rb.width;K.screen.height=rb.height};const Fb=function(){const rb=new w.Vector2;return function(Pb,N){rb.set((Pb-K.screen.left)/K.screen.width,(N-K.screen.top)/K.screen.height);return rb}}(),Kb=function(){const rb=new w.Vector2;return function(Pb,N){rb.set((Pb-.5*K.screen.width-K.screen.left)/(.5*K.screen.width),(K.screen.height+2*(K.screen.top-N))/K.screen.width);return rb}}();
this.rotateCamera=function(){const rb=new w.Vector3,Pb=new w.Quaternion,N=new w.Vector3,Z=new w.Vector3,va=new w.Vector3,ab=new w.Vector3;return function(){ab.set(wa.x-gb.x,wa.y-gb.y,0);let Ha=ab.length();Ha?(sa.copy(K.object.position).sub(K.target),N.copy(sa).normalize(),Z.copy(K.object.up).normalize(),va.crossVectors(Z,N).normalize(),Z.setLength(wa.y-gb.y),va.setLength(wa.x-gb.x),ab.copy(Z.add(va)),rb.crossVectors(ab,sa).normalize(),Ha*=K.rotateSpeed,Pb.setFromAxisAngle(rb,Ha),sa.applyQuaternion(Pb),
K.object.up.applyQuaternion(Pb),Ba.copy(rb),Ea=Ha):!K.staticMoving&&Ea&&(Ea*=Math.sqrt(1-K.dynamicDampingFactor),sa.copy(K.object.position).sub(K.target),Pb.setFromAxisAngle(Ba,Ea),sa.applyQuaternion(Pb),K.object.up.applyQuaternion(Pb));gb.copy(wa)}}();this.zoomCamera=function(){let rb;O===T.TOUCH_ZOOM_PAN?(rb=ea/za,ea=za,K.object.isPerspectiveCamera?sa.multiplyScalar(rb):K.object.isOrthographicCamera?(K.object.zoom/=rb,K.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):
(rb=1+(pa.y-Da.y)*K.zoomSpeed,1!==rb&&0<rb&&(K.object.isPerspectiveCamera?sa.multiplyScalar(rb):K.object.isOrthographicCamera?(K.object.zoom/=rb,K.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),K.staticMoving?Da.copy(pa):Da.y+=(pa.y-Da.y)*this.dynamicDampingFactor)};this.panCamera=function(){const rb=new w.Vector2,Pb=new w.Vector3,N=new w.Vector3;return function(){rb.copy($a).sub(ib);if(rb.lengthSq()){if(K.object.isOrthographicCamera){const Z=(K.object.top-
K.object.bottom)/K.object.zoom/K.domElement.clientWidth;rb.x*=(K.object.right-K.object.left)/K.object.zoom/K.domElement.clientWidth;rb.y*=Z}rb.multiplyScalar(sa.length()*K.panSpeed);N.copy(sa).cross(K.object.up).setLength(rb.x);N.add(Pb.copy(K.object.up).setLength(rb.y));K.object.position.add(N);K.target.add(N);K.staticMoving?ib.copy($a):ib.add(rb.subVectors($a,ib).multiplyScalar(K.dynamicDampingFactor))}}}();this.checkDistances=function(){K.noZoom&&K.noPan||(sa.lengthSq()>K.maxDistance*K.maxDistance&&
(K.object.position.addVectors(K.target,sa.setLength(K.maxDistance)),Da.copy(pa)),sa.lengthSq()<K.minDistance*K.minDistance&&(K.object.position.addVectors(K.target,sa.setLength(K.minDistance)),Da.copy(pa)))};this.update=function(){sa.subVectors(K.object.position,K.target);K.noRotate||K.rotateCamera();K.noZoom||K.zoomCamera();K.noPan||K.panCamera();K.object.position.addVectors(K.target,sa);if(K.object.isPerspectiveCamera)K.checkDistances(),K.object.lookAt(K.target),1E-6<aa.distanceToSquared(K.object.position)&&
(K.dispatchEvent(r),aa.copy(K.object.position));else if(K.object.isOrthographicCamera){if(K.object.lookAt(K.target),1E-6<aa.distanceToSquared(K.object.position)||Q!==K.object.zoom)K.dispatchEvent(r),aa.copy(K.object.position),Q=K.object.zoom}else console.warn("THREE.TrackballControls: Unsupported camera type")};this.reset=function(){da=O=T.NONE;K.target.copy(K.target0);K.object.position.copy(K.position0);K.object.up.copy(K.up0);K.object.zoom=K.zoom0;K.object.updateProjectionMatrix();sa.subVectors(K.object.position,
K.target);K.object.lookAt(K.target);K.dispatchEvent(r);aa.copy(K.object.position);Q=K.object.zoom};this.dispose=function(){K.domElement.removeEventListener("contextmenu",F);K.domElement.removeEventListener("pointerdown",l);K.domElement.removeEventListener("pointercancel",x);K.domElement.removeEventListener("wheel",E);K.domElement.removeEventListener("pointermove",k);K.domElement.removeEventListener("pointerup",t);window.removeEventListener("keydown",A);window.removeEventListener("keyup",y)};this.domElement.addEventListener("contextmenu",
F);this.domElement.addEventListener("pointerdown",l);this.domElement.addEventListener("pointercancel",x);this.domElement.addEventListener("wheel",E,{passive:!1});window.addEventListener("keydown",A);window.addEventListener("keyup",y);this.handleResize();this.update()}}p.TrackballControls=c};
shadow$provide[542]=function(G,B,X,p){(function(w,r){"object"===typeof p&&"object"===typeof X?X.exports=r():"function"===typeof define&&define.amd?define([],r):"object"===typeof p?p.katex=r():w.katex=r()})("undefined"!==typeof self?self:this,function(){return function(){function w(u){if(u.default)return u.default;u=u.type;u=Array.isArray(u)?u[0]:u;if("string"!==typeof u)return u.enum[0];switch(u){case "boolean":return!1;case "string":return"";case "number":return 0;case "object":return{}}}function r(u){for(let C=
0;C<Ra.length;C+=2)if(u>=Ra[C]&&u<=Ra[C+1])return!0;return!1}function m(u,C,S){if(!Ua[C])throw Error("Font metrics not found for font: "+C+".");let ba=u.charCodeAt(0),ra=Ua[C][ba];!ra&&u[0]in Ta&&(ba=Ta[u[0]].charCodeAt(0),ra=Ua[C][ba]);ra||"text"!==S||r(ba)&&(ra=Ua[C][77]);if(ra)return{depth:ra[0],height:ra[1],italic:ra[2],skew:ra[3],width:ra[4]}}function d(u){if(u instanceof ke)return u;throw Error("Expected symbolNode but got "+String(u)+".");}function c(u,C,S,ba,ra,Ka){Od[u][ra]={font:C,group:S,
replace:ba};Ka&&ba&&(Od[u][ba]=Od[u][ra])}function g(u){let {type:C,names:S,props:ba,handler:ra,htmlBuilder:Ka,mathmlBuilder:Na}=u;u={type:C,numArgs:ba.numArgs,argTypes:ba.argTypes,allowedInArgument:!!ba.allowedInArgument,allowedInText:!!ba.allowedInText,allowedInMath:void 0===ba.allowedInMath?!0:ba.allowedInMath,numOptionalArgs:ba.numOptionalArgs||0,infix:!!ba.infix,primitive:!!ba.primitive,handler:ra};for(let nb=0;nb<S.length;++nb)ya[S[nb]]=u;C&&(Ka&&(Ia[C]=Ka),Na&&(fb[C]=Na))}function h(u){let {type:C,
htmlBuilder:S,mathmlBuilder:ba}=u;g({type:C,names:[],props:{numArgs:0},handler(){throw Error("Should never be called.");},htmlBuilder:S,mathmlBuilder:ba})}function l(u,C){u=kb(["base"],u,C);C=kb(["strut"]);C.style.height=fc(u.height+u.depth);u.depth&&(C.style.verticalAlign=fc(-u.depth));u.children.unshift(C);return u}function k(u,C){let S=null;1===u.length&&"tag"===u[0].type&&(S=u[0].tag,u=u[0].body);u=Wb(u,C,"root");let ba;2===u.length&&u[1].hasClass("tag")&&(ba=u.pop());const ra=[];let Ka=[];for(let nb=
0;nb<u.length;nb++)if(Ka.push(u[nb]),u[nb].hasClass("mbin")||u[nb].hasClass("mrel")||u[nb].hasClass("allowbreak")){let Cb=!1;for(;nb<u.length-1&&u[nb+1].hasClass("mspace")&&!u[nb+1].hasClass("newline");)nb++,Ka.push(u[nb]),u[nb].hasClass("nobreak")&&(Cb=!0);Cb||(ra.push(l(Ka,C)),Ka=[])}else u[nb].hasClass("newline")&&(Ka.pop(),0<Ka.length&&(ra.push(l(Ka,C)),Ka=[]),ra.push(u[nb]));0<Ka.length&&ra.push(l(Ka,C));if(S){var Na=l(Wb(S,C,!0));Na.classes=["tag"];ra.push(Na)}else ba&&ra.push(ba);C=kb(["katex-html"],
ra);C.setAttribute("aria-hidden","true");Na&&(Na=Na.children[0],Na.style.height=fc(C.height+C.depth),C.depth&&(Na.style.verticalAlign=fc(-C.depth)));return C}function t(u){return new Va(u)}function x(u,C,S,ba,ra){u=ad(u,S);u=1===u.length&&u[0]instanceof Uc&&eb.contains(["mrow","mtable"],u[0].type)?u[0]:new Xb.MathNode("mrow",u);C=new Xb.MathNode("annotation",[new Xb.TextNode(C)]);C.setAttribute("encoding","application/x-tex");C=new Xb.MathNode("semantics",[u,C]);C=new Xb.MathNode("math",[C]);C.setAttribute("xmlns",
"http://www.w3.org/1998/Math/MathML");ba&&C.setAttribute("display","block");return Nb.makeSpan([ra?"katex":"katex-mathml"],[C])}function A(u,C){if(!u||u.type!==C)throw Error("Expected node of type "+C+", but got "+(u?"node of type "+u.type:String(u)));return u}function y(u){const C=E(u);if(!C)throw Error("Expected node of symbol group type, but got "+(u?"node of type "+u.type:String(u)));return C}function E(u){return u&&("atom"===u.type||vc.hasOwnProperty(u.type))?u:null}function F(u,C){const S=Wb(u.body,
C,!0);return kc([u.mclass],S,C)}function H(u,C){C=ad(u.body,C);"minner"===u.mclass?C=new Xb.MathNode("mpadded",C):"mord"===u.mclass?u.isCharacterBox?(C=C[0],C.type="mi"):C=new Xb.MathNode("mi",C):(u.isCharacterBox?(C=C[0],C.type="mo"):C=new Xb.MathNode("mo",C),"mbin"===u.mclass?(C.attributes.lspace="0.22em",C.attributes.rspace="0.22em"):"mpunct"===u.mclass?(C.attributes.lspace="0em",C.attributes.rspace="0.17em"):"mopen"===u.mclass||"mclose"===u.mclass?(C.attributes.lspace="0em",C.attributes.rspace=
"0em"):"minner"===u.mclass&&(C.attributes.lspace="0.0556em",C.attributes.width="+0.1111em"));return C}function P(u,C,S){var ba=Ac[u];switch(ba){case "\\\\cdrightarrow":case "\\\\cdleftarrow":return S.callFunction(ba,[C[0]],[C[1]]);case "\\uparrow":case "\\downarrow":return u=S.callFunction("\\\\cdleft",[C[0]],[]),ba=S.callFunction("\\Big",[{type:"atom",text:ba,mode:"math",family:"rel"}],[]),C=S.callFunction("\\\\cdright",[C[1]],[]),S.callFunction("\\\\cdparent",[{type:"ordgroup",mode:"math",body:[u,
ba,C]}],[]);case "\\\\cdlongequal":return S.callFunction("\\\\cdlongequal",[],[]);case "\\Vert":return S.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}function K(u,C){const S=E(u);if(S&&eb.contains(jb,S.text))return S;if(S)throw new Ba("Invalid delimiter '"+S.text+"' after '"+C.funcName+"'",u);throw new Ba("Invalid delimiter type '"+u.type+"'",u);}function T(u){if(!u.body)throw Error("Bug: The leftright ParseNode wasn't fully parsed.");
}function aa(u){let {type:C,names:S,props:ba,handler:ra,htmlBuilder:Ka,mathmlBuilder:Na}=u;u={type:C,numArgs:ba.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:ra};for(let nb=0;nb<S.length;++nb)fi[S[nb]]=u;Ka&&(Ia[C]=Ka);Na&&(fb[C]=Na)}function Q(u,C){Wa[u]=C}function O(u){const C=[];u.consumeSpaces();let S=u.fetch().text;"\\relax"===S&&(u.consume(),u.consumeSpaces(),S=u.fetch().text);for(;"\\hline"===S||"\\hdashline"===S;)u.consume(),C.push("\\hdashline"===S),u.consumeSpaces(),S=u.fetch().text;
return C}function da(u){if(-1===u.indexOf("ed"))return-1===u.indexOf("*")}function ea(u,C,S){function ba(){Qc&&u.gullet.macros.set("\\@eqnsw","1",!0)}function ra(){oe&&(u.gullet.macros.get("\\df@tag")?(oe.push(u.subparse([new Yf("\\df@tag")])),u.gullet.macros.set("\\df@tag",void 0,!0)):oe.push(!!Qc&&"1"===u.gullet.macros.get("\\@eqnsw")))}let {hskipBeforeAndAfter:Ka,addJot:Na,cols:nb,arraystretch:Cb,colSeparationType:Yb,autoTag:Qc,singleRow:Sc,emptySingleRow:qd,maxNumCols:Ud,leqno:$d}=C;u.gullet.beginGroup();
Sc||u.gullet.macros.set("\\cr","\\\\\\relax");if(!Cb)if(C=u.gullet.expandMacroAsText("\\arraystretch"),null==C)Cb=1;else if(Cb=parseFloat(C),!Cb||0>Cb)throw new Ba("Invalid \\arraystretch: "+C);u.gullet.beginGroup();C=[];const je=[C],ne=[],ze=[],oe=null!=Qc?[]:void 0;ba();for(ze.push(O(u));;){let Wd=u.parseExpression(!1,Sc?"\\end":"\\\\");u.gullet.endGroup();u.gullet.beginGroup();Wd={type:"ordgroup",mode:u.mode,body:Wd};S&&(Wd={type:"styling",mode:u.mode,style:S,body:[Wd]});C.push(Wd);const Mf=u.fetch().text;
if("\x26"===Mf){if(Ud&&C.length===Ud){if(Sc||Yb)throw new Ba("Too many tab characters: \x26",u.nextToken);u.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}u.consume()}else if("\\end"===Mf){ra();1===C.length&&"styling"===Wd.type&&0===Wd.body[0].body.length&&(1<je.length||!qd)&&je.pop();ze.length<je.length+1&&ze.push([]);break}else if("\\\\"===Mf){u.consume();let Ue;" "!==u.gullet.future().text&&(Ue=u.parseSizeGroup(!0));ne.push(Ue?Ue.value:null);ra();
ze.push(O(u));C=[];je.push(C);ba()}else throw new Ba("Expected \x26 or \\\\ or \\cr or \\end",u.nextToken);}u.gullet.endGroup();u.gullet.endGroup();return{type:"array",mode:u.mode,addJot:Na,arraystretch:Cb,body:je,cols:nb,rowGaps:ne,hskipBeforeAndAfter:Ka,hLinesBeforeRow:ze,colSeparationType:Yb,tags:oe,leqno:$d}}function za(u){return"d"===u.slice(0,1)?"display":"text"}function Ea(u,C,S){u=Wb(u,C,!1);const ba=C.sizeMultiplier/S.sizeMultiplier;for(let ra=0;ra<u.length;ra++){const Ka=u[ra].classes.indexOf("sizing");
0>Ka?Array.prototype.push.apply(u[ra].classes,C.sizingClasses(S)):u[ra].classes[Ka+1]==="reset-size"+C.size&&(u[ra].classes[Ka+1]="reset-size"+S.size);u[ra].height*=ba;u[ra].depth*=ba}return Nb.makeFragment(u)}var sa={};!function(){sa.d=function(u,C){for(var S in C)sa.o(C,S)&&!sa.o(u,S)&&Object.defineProperty(u,S,{enumerable:!0,get:C[S]})}}();!function(){sa.o=function(u,C){return Object.prototype.hasOwnProperty.call(u,C)}}();var gb={};sa.d(gb,{"default":function(){return Nd}});class wa{constructor(u,
C){this.rawMessage=this.length=this.position=this.name=void 0;var S="KaTeX parse error: "+u;let ba,ra;var Ka=C&&C.loc;if(Ka&&Ka.start<=Ka.end){C=Ka.lexer.input;ba=Ka.start;ra=Ka.end;S=ba===C.length?S+" at end of input: ":S+(" at position "+(ba+1)+": ");Ka=C.slice(ba,ra).replace(/[^]/g,"$\x26̲");let Na;Na=15<ba?"…"+C.slice(ba-15,ba):C.slice(0,ba);C=ra+15<C.length?C.slice(ra,ra+15)+"…":C.slice(ra);S+=Na+Ka+C}S=Error(S);S.name="ParseError";S.__proto__=wa.prototype;S.position=ba;null!=ba&&null!=ra&&(S.length=
ra-ba);S.rawMessage=u;return S}}wa.prototype.__proto__=Error.prototype;var Ba=wa;const Da=/([A-Z])/g,pa={"\x26":"\x26amp;","\x3e":"\x26gt;","\x3c":"\x26lt;",'"':"\x26quot;","'":"\x26#x27;"},ib=/[&><"']/g,$a=function(u){return"ordgroup"===u.type?1===u.body.length?$a(u.body[0]):u:"color"===u.type?1===u.body.length?$a(u.body[0]):u:"font"===u.type?$a(u.body):u};var eb={contains:function(u,C){return-1!==u.indexOf(C)},deflt:function(u,C){return void 0===u?C:u},escape:function(u){return String(u).replace(ib,
C=>pa[C])},hyphenate:function(u){return u.replace(Da,"-$1").toLowerCase()},getBaseElem:$a,isCharacterBox:function(u){u=$a(u);return"mathord"===u.type||"textord"===u.type||"atom"===u.type},protocolFromUrl:function(u){return(u=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(u))?":"===u[2]&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(u[1])?u[1].toLowerCase():null:"_relative"}};const Ja={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",
cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format \x3ctype\x3e"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},
errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color \x3ccolor\x3e",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:u=>"#"+u},macros:{type:"object",cli:"-m, --macro \x3cdef\x3e",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(u,C)=>{C.push(u);return C}},minRuleThickness:{type:"number",
description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:u=>Math.max(0,u),cli:"--min-rule-thickness \x3csize\x3e",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},
strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:Infinity,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",
processor:u=>Math.max(0,u),cli:"-s, --max-size \x3cn\x3e",cliProcessor:parseInt},maxExpand:{type:"number",default:1E3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:u=>Math.max(0,u),cli:"-e, --max-expand \x3cn\x3e",cliProcessor:u=>"Infinity"===u?Infinity:parseInt(u)},globalGroup:{type:"boolean",cli:!1}};class Fb{constructor(u){this.globalGroup=this.maxExpand=
this.maxSize=this.trust=this.strict=this.colorIsTextColor=this.minRuleThickness=this.macros=this.errorColor=this.throwOnError=this.fleqn=this.leqno=this.output=this.displayMode=void 0;u=u||{};for(const C in Ja)if(Ja.hasOwnProperty(C)){const S=Ja[C];this[C]=void 0!==u[C]?S.processor?S.processor(u[C]):u[C]:w(S)}}reportNonstrict(u,C,S){let ba=this.strict;"function"===typeof ba&&(ba=ba(u,C,S));if(ba&&"ignore"!==ba){if(!0===ba||"error"===ba)throw new Ba("LaTeX-incompatible input and strict mode is set to 'error': "+
(C+" ["+u+"]"),S);"warn"===ba?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(C+" ["+u+"]")):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+(ba+"': "+C+" ["+u+"]"))}}useStrictBehavior(u,C,S){let ba=this.strict;if("function"===typeof ba)try{ba=ba(u,C,S)}catch(ra){ba="error"}if(ba&&"ignore"!==ba){if(!0===ba||"error"===ba)return!0;"warn"===ba?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+
(C+" ["+u+"]")):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+(ba+"': "+C+" ["+u+"]"))}return!1}isTrusted(u){if(u.url&&!u.protocol){const C=eb.protocolFromUrl(u.url);if(null==C)return!1;u.protocol=C}return!("function"===typeof this.trust?!this.trust(u):!this.trust)}}class Kb{constructor(u,C,S){this.cramped=this.size=this.id=void 0;this.id=u;this.size=C;this.cramped=S}sup(){return rb[Pb[this.id]]}sub(){return rb[N[this.id]]}fracNum(){return rb[Z[this.id]]}fracDen(){return rb[va[this.id]]}cramp(){return rb[ab[this.id]]}text(){return rb[Ha[this.id]]}isTight(){return 2<=
this.size}}const rb=[new Kb(0,0,!1),new Kb(1,0,!0),new Kb(2,1,!1),new Kb(3,1,!0),new Kb(4,2,!1),new Kb(5,2,!0),new Kb(6,3,!1),new Kb(7,3,!0)],Pb=[4,5,4,5,6,7,6,7],N=[5,5,5,5,7,7,7,7],Z=[2,3,4,5,6,7,6,7],va=[3,3,5,5,7,7,7,7],ab=[1,1,3,3,5,5,7,7],Ha=[0,1,2,3,2,3,2,3];var Qa=rb[0],cb=rb[2],Ab=rb[4],ma=rb[6];const la=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,
4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],Ra=[];la.forEach(u=>u.blocks.forEach(C=>Ra.push(...C)));const Sa=function(u,C){switch(u){case "⎜":return"M291 0 H417 V"+C+" H291z M291 0 H417 V"+C+" H291z";case "∣":return"M145 0 H188 V"+C+" H145z M145 0 H188 V"+C+" H145z";case "∥":return"M145 0 H188 V"+C+" H145z M145 0 H188 V"+C+" H145zM367 0 H410 V"+(C+" H367z M367 0 H410 V"+C+" H367z");case "⎟":return"M457 0 H583 V"+C+" H457z M457 0 H583 V"+
C+" H457z";case "⎢":return"M319 0 H403 V"+C+" H319z M319 0 H403 V"+C+" H319z";case "⎥":return"M263 0 H347 V"+C+" H263z M263 0 H347 V"+C+" H263z";case "⎪":return"M384 0 H504 V"+C+" H384z M384 0 H504 V"+C+" H384z";case "⏐":return"M312 0 H355 V"+C+" H312z M312 0 H355 V"+C+" H312z";case "‖":return"M257 0 H300 V"+C+" H257z M257 0 H300 V"+C+" H257zM478 0 H521 V"+(C+" H478z M478 0 H521 V"+C+" H478z");default:return""}},ob={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",
doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",
leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",
leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",
leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",
leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",
lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",
longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",
oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",
oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",
rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",
rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",
rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",
rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",
rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",
twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",
tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",
tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",
widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",
widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",
baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",
rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",
baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",
shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},
oa=function(u,C){switch(u){case "lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+C+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+C+" v1759 h84z";case "rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+C+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+C+" v1759 h84z";case "vert":return"M145 15 v585 v"+C+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-C+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+C+" v585 h43z";case "doublevert":return"M145 15 v585 v"+
C+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-C+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+C+" v585 h43z\nM367 15 v585 v"+C+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-C+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+C+" v585 h43z";case "lfloor":return"M319 602 V0 H403 V602 v"+C+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+C+" v1715 H319z";case "rfloor":return"M319 602 V0 H403 V602 v"+
C+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+C+" v1715 H319z";case "lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+C+" v602 h84z\nM403 1759 V0 H319 V1759 v"+C+" v602 h84z";case "rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+C+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+C+" v602 h84z";case "lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(C+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+
(C+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case "rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(C+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+
(C+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw Error("Unknown stretchy delimiter.");}};class Va{constructor(u){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.children=void 0;this.children=u;this.classes=[];this.maxFontSize=this.depth=this.height=0;this.style={}}hasClass(u){return eb.contains(this.classes,u)}toNode(){const u=document.createDocumentFragment();for(let C=0;C<this.children.length;C++)u.appendChild(this.children[C].toNode());
return u}toMarkup(){let u="";for(let C=0;C<this.children.length;C++)u+=this.children[C].toMarkup();return u}toText(){return this.children.map(u=>u.toText()).join("")}}var Ua={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],
77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],
710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,
0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,
0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,
.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],
8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,
.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,
.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,
.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],
8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,
0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,
.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,
.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,
0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],
57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,
0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,
.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,
0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,
.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,
.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],
112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],
58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],
47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,
.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,
.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,
.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,
.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,
.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,
0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,
.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],
8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],
8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,
.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,
0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,
0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,
.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,
.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],
65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,
.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],
101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,
.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,
.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],
923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,
.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],
52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,
.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,
.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],
106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],
122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,
.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,
.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,
0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,
0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],
84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],
105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,
.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,
0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,
.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],
8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,
.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],
8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,
.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,
.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,
0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,
0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,
.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,
0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,
0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],
110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,
0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],
954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,
.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,
.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],
81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,
.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,
.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,
.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,
.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,
.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],
45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],
68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,
0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,
0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,
0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,
0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,
0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,
.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,
.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,
.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,
.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,
.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,
.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,
.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,
.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,
.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,
.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,
0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,
.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,
.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,
0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-9.9E-4,.601,0,0,.77778],8593:[1E-5,.6,0,0,.66667],8595:[1E-5,.6,0,0,.66667],8657:[1E-5,.6,0,
0,.77778],8659:[1E-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,
.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-9.9E-4,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,
1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,
0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],
91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,
0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,
0,0,.875],9116:[1E-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1E-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-9.9E-4,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-9.9E-4,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1E-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1E-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,
0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],
41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,
.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,
0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,
0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,
0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,
.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const ua={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,
.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,
10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ta={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n",
"м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"},hb={},Bb=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Db=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Sb=function(u,C){return 2>C.size?u:Bb[u-1][C.size-1]};class tc{constructor(u){this._fontMetrics=this.minRuleThickness=this.maxSize=this.sizeMultiplier=this.fontShape=this.fontWeight=this.fontFamily=
this.font=this.phantom=this.textSize=this.size=this.color=this.style=void 0;this.style=u.style;this.color=u.color;this.size=u.size||tc.BASESIZE;this.textSize=u.textSize||this.size;this.phantom=!!u.phantom;this.font=u.font||"";this.fontFamily=u.fontFamily||"";this.fontWeight=u.fontWeight||"";this.fontShape=u.fontShape||"";this.sizeMultiplier=Db[this.size-1];this.maxSize=u.maxSize;this.minRuleThickness=u.minRuleThickness;this._fontMetrics=void 0}extend(u){const C={style:this.style,size:this.size,textSize:this.textSize,
color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const S in u)u.hasOwnProperty(S)&&(C[S]=u[S]);return new tc(C)}havingStyle(u){return this.style===u?this:this.extend({style:u,size:Sb(this.textSize,u)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(u){return this.size===u&&this.textSize===u?this:this.extend({style:this.style.text(),
size:u,textSize:u,sizeMultiplier:Db[u-1]})}havingBaseStyle(u){u=u||this.style.text();const C=Sb(tc.BASESIZE,u);return this.size===C&&this.textSize===tc.BASESIZE&&this.style===u?this:this.extend({style:u,size:C})}havingBaseSizing(){let u;switch(this.style.id){case 4:case 5:u=3;break;case 6:case 7:u=1;break;default:u=6}return this.extend({style:this.style.text(),size:u})}withColor(u){return this.extend({color:u})}withPhantom(){return this.extend({phantom:!0})}withFont(u){return this.extend({font:u})}withTextFontFamily(u){return this.extend({fontFamily:u,
font:""})}withTextFontWeight(u){return this.extend({fontWeight:u,font:""})}withTextFontShape(u){return this.extend({fontShape:u,font:""})}sizingClasses(u){return u.size!==this.size?["sizing","reset-size"+u.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==tc.BASESIZE?["sizing","reset-size"+this.size,"size"+tc.BASESIZE]:[]}fontMetrics(){if(!this._fontMetrics){var u=this.size;u=5<=u?0:3<=u?1:2;if(!hb[u]){const C=hb[u]={cssEmPerMu:ua.quad[u]/18};for(const S in ua)ua.hasOwnProperty(S)&&
(C[S]=ua[S][u])}this._fontMetrics=hb[u]}return this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}tc.BASESIZE=6;var dc=tc;const Yc={pt:1,mm:7227/2540,cm:7227/254,"in":72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},ed={ex:!0,em:!0,mu:!0},bd=function(u){"string"!==typeof u&&(u=u.unit);return u in Yc||u in ed||"ex"===u},hd=function(u,C){let S;if(u.unit in Yc)S=Yc[u.unit]/C.fontMetrics().ptPerEm/C.sizeMultiplier;else if("mu"===u.unit)S=
C.fontMetrics().cssEmPerMu;else{let ba;ba=C.style.isTight()?C.havingStyle(C.style.text()):C;if("ex"===u.unit)S=ba.fontMetrics().xHeight;else if("em"===u.unit)S=ba.fontMetrics().quad;else throw new Ba("Invalid unit: '"+u.unit+"'");ba!==C&&(S*=ba.sizeMultiplier/C.sizeMultiplier)}return Math.min(u.number*S,C.maxSize)},fc=function(u){return+u.toFixed(4)+"em"},cd=function(u){return u.filter(C=>C).join(" ")},zd=function(u,C,S){this.classes=u||[];this.attributes={};this.maxFontSize=this.depth=this.height=
0;this.style=S||{};C&&(C.style.isTight()&&this.classes.push("mtight"),u=C.getColor())&&(this.style.color=u)},Gd=function(u){u=document.createElement(u);u.className=cd(this.classes);for(var C in this.style)this.style.hasOwnProperty(C)&&(u.style[C]=this.style[C]);for(const S in this.attributes)this.attributes.hasOwnProperty(S)&&u.setAttribute(S,this.attributes[S]);for(C=0;C<this.children.length;C++)u.appendChild(this.children[C].toNode());return u},sc=function(u){let C="\x3c"+u;this.classes.length&&
(C+=' class\x3d"'+eb.escape(cd(this.classes))+'"');var S="";for(const ba in this.style)this.style.hasOwnProperty(ba)&&(S+=eb.hyphenate(ba)+":"+this.style[ba]+";");S&&(C+=' style\x3d"'+eb.escape(S)+'"');for(const ba in this.attributes)this.attributes.hasOwnProperty(ba)&&(C+=" "+ba+'\x3d"'+eb.escape(this.attributes[ba])+'"');C+="\x3e";for(S=0;S<this.children.length;S++)C+=this.children[S].toMarkup();return C+("\x3c/"+u+"\x3e")};class de{constructor(u,C,S,ba){this.style=this.maxFontSize=this.width=this.depth=
this.height=this.classes=this.attributes=this.children=void 0;zd.call(this,u,S,ba);this.children=C||[]}setAttribute(u,C){this.attributes[u]=C}hasClass(u){return eb.contains(this.classes,u)}toNode(){return Gd.call(this,"span")}toMarkup(){return sc.call(this,"span")}}class ge{constructor(u,C,S,ba){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.attributes=this.children=void 0;zd.call(this,C,ba);this.children=S||[];this.setAttribute("href",u)}setAttribute(u,C){this.attributes[u]=
C}hasClass(u){return eb.contains(this.classes,u)}toNode(){return Gd.call(this,"a")}toMarkup(){return sc.call(this,"a")}}class Ce{constructor(u,C,S){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.alt=this.src=void 0;this.alt=C;this.src=u;this.classes=["mord"];this.style=S}hasClass(u){return eb.contains(this.classes,u)}toNode(){const u=document.createElement("img");u.src=this.src;u.alt=this.alt;u.className="mord";for(const C in this.style)this.style.hasOwnProperty(C)&&(u.style[C]=
this.style[C]);return u}toMarkup(){let u='\x3cimg src\x3d"'+eb.escape(this.src)+'" alt\x3d"'+(eb.escape(this.alt)+'"'),C="";for(const S in this.style)this.style.hasOwnProperty(S)&&(C+=eb.hyphenate(S)+":"+this.style[S]+";");C&&(u+=' style\x3d"'+eb.escape(C)+'"');return u+"'/\x3e"}}const Jb={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"};class ke{constructor(u,C,S,ba,ra,Ka,Na,nb){this.style=this.classes=this.maxFontSize=this.width=this.skew=this.italic=this.depth=this.height=this.text=void 0;this.text=u;this.height=
C||0;this.depth=S||0;this.italic=ba||0;this.skew=ra||0;this.width=Ka||0;this.classes=Na||[];this.style=nb||{};this.maxFontSize=0;a:{u=this.text.charCodeAt(0);for(C=0;C<la.length;C++)for(S=la[C],ba=0;ba<S.blocks.length;ba++)if(ra=S.blocks[ba],u>=ra[0]&&u<=ra[1]){u=S.name;break a}u=null}u&&this.classes.push(u+"_fallback");/[îïíì]/.test(this.text)&&(this.text=Jb[this.text])}hasClass(u){return eb.contains(this.classes,u)}toNode(){const u=document.createTextNode(this.text);let C=null;0<this.italic&&(C=
document.createElement("span"),C.style.marginRight=fc(this.italic));0<this.classes.length&&(C=C||document.createElement("span"),C.className=cd(this.classes));for(const S in this.style)this.style.hasOwnProperty(S)&&(C=C||document.createElement("span"),C.style[S]=this.style[S]);return C?(C.appendChild(u),C):u}toMarkup(){let u=!1,C="\x3cspan";this.classes.length&&(u=!0,C=C+' class\x3d"'+eb.escape(cd(this.classes)),C+='"');var S="";0<this.italic&&(S+="margin-right:"+this.italic+"em;");for(const ba in this.style)this.style.hasOwnProperty(ba)&&
(S+=eb.hyphenate(ba)+":"+this.style[ba]+";");S&&(u=!0,C+=' style\x3d"'+eb.escape(S)+'"');S=eb.escape(this.text);return u?C+"\x3e"+S+"\x3c/span\x3e":S}}class nd{constructor(u,C){this.attributes=this.children=void 0;this.children=u||[];this.attributes=C||{}}toNode(){const u=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&u.setAttribute(C,this.attributes[C]);for(C=0;C<this.children.length;C++)u.appendChild(this.children[C].toNode());
return u}toMarkup(){let u='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg"';for(var C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&(u+=" "+C+'\x3d"'+eb.escape(this.attributes[C])+'"');u+="\x3e";for(C=0;C<this.children.length;C++)u+=this.children[C].toMarkup();return u+"\x3c/svg\x3e"}}class od{constructor(u,C){this.alternate=this.pathName=void 0;this.pathName=u;this.alternate=C}toNode(){const u=document.createElementNS("http://www.w3.org/2000/svg","path");this.alternate?
u.setAttribute("d",this.alternate):u.setAttribute("d",ob[this.pathName]);return u}toMarkup(){return this.alternate?'\x3cpath d\x3d"'+eb.escape(this.alternate)+'"/\x3e':'\x3cpath d\x3d"'+eb.escape(ob[this.pathName])+'"/\x3e'}}class te{constructor(u){this.attributes=void 0;this.attributes=u||{}}toNode(){const u=document.createElementNS("http://www.w3.org/2000/svg","line");for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&u.setAttribute(C,this.attributes[C]);return u}toMarkup(){let u=
"\x3cline";for(const C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&(u+=" "+C+'\x3d"'+eb.escape(this.attributes[C])+'"');return u+"/\x3e"}}const pe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},vc={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Od={math:{},text:{}};var gc=Od;c("math","main","rel","≡","\\equiv",!0);c("math","main","rel","≺","\\prec",!0);c("math","main","rel","≻","\\succ",!0);c("math","main","rel","∼","\\sim",!0);c("math","main","rel","⊥",
"\\perp");c("math","main","rel","⪯","\\preceq",!0);c("math","main","rel","⪰","\\succeq",!0);c("math","main","rel","≃","\\simeq",!0);c("math","main","rel","∣","\\mid",!0);c("math","main","rel","≪","\\ll",!0);c("math","main","rel","≫","\\gg",!0);c("math","main","rel","≍","\\asymp",!0);c("math","main","rel","∥","\\parallel");c("math","main","rel","⋈","\\bowtie",!0);c("math","main","rel","⌣","\\smile",!0);c("math","main","rel","⊑","\\sqsubseteq",!0);c("math","main","rel","⊒","\\sqsupseteq",!0);c("math",
"main","rel","≐","\\doteq",!0);c("math","main","rel","⌢","\\frown",!0);c("math","main","rel","∋","\\ni",!0);c("math","main","rel","∝","\\propto",!0);c("math","main","rel","⊢","\\vdash",!0);c("math","main","rel","⊣","\\dashv",!0);c("math","main","rel","∋","\\owns");c("math","main","punct",".","\\ldotp");c("math","main","punct","⋅","\\cdotp");c("math","main","textord","#","\\#");c("text","main","textord","#","\\#");c("math","main","textord","\x26","\\\x26");c("text","main","textord","\x26","\\\x26");
c("math","main","textord","ℵ","\\aleph",!0);c("math","main","textord","∀","\\forall",!0);c("math","main","textord","ℏ","\\hbar",!0);c("math","main","textord","∃","\\exists",!0);c("math","main","textord","∇","\\nabla",!0);c("math","main","textord","♭","\\flat",!0);c("math","main","textord","ℓ","\\ell",!0);c("math","main","textord","♮","\\natural",!0);c("math","main","textord","♣","\\clubsuit",!0);c("math","main","textord","℘","\\wp",!0);c("math","main","textord","♯","\\sharp",!0);c("math","main","textord",
"♢","\\diamondsuit",!0);c("math","main","textord","ℜ","\\Re",!0);c("math","main","textord","♡","\\heartsuit",!0);c("math","main","textord","ℑ","\\Im",!0);c("math","main","textord","♠","\\spadesuit",!0);c("math","main","textord","§","\\S",!0);c("text","main","textord","§","\\S");c("math","main","textord","¶","\\P",!0);c("text","main","textord","¶","\\P");c("math","main","textord","†","\\dag");c("text","main","textord","†","\\dag");c("text","main","textord","†","\\textdagger");c("math","main","textord",
"‡","\\ddag");c("text","main","textord","‡","\\ddag");c("text","main","textord","‡","\\textdaggerdbl");c("math","main","close","⎱","\\rmoustache",!0);c("math","main","open","⎰","\\lmoustache",!0);c("math","main","close","⟯","\\rgroup",!0);c("math","main","open","⟮","\\lgroup",!0);c("math","main","bin","∓","\\mp",!0);c("math","main","bin","⊖","\\ominus",!0);c("math","main","bin","⊎","\\uplus",!0);c("math","main","bin","⊓","\\sqcap",!0);c("math","main","bin","∗","\\ast");c("math","main","bin","⊔","\\sqcup",
!0);c("math","main","bin","◯","\\bigcirc",!0);c("math","main","bin","∙","\\bullet",!0);c("math","main","bin","‡","\\ddagger");c("math","main","bin","≀","\\wr",!0);c("math","main","bin","⨿","\\amalg");c("math","main","bin","\x26","\\And");c("math","main","rel","⟵","\\longleftarrow",!0);c("math","main","rel","⇐","\\Leftarrow",!0);c("math","main","rel","⟸","\\Longleftarrow",!0);c("math","main","rel","⟶","\\longrightarrow",!0);c("math","main","rel","⇒","\\Rightarrow",!0);c("math","main","rel","⟹","\\Longrightarrow",
!0);c("math","main","rel","↔","\\leftrightarrow",!0);c("math","main","rel","⟷","\\longleftrightarrow",!0);c("math","main","rel","⇔","\\Leftrightarrow",!0);c("math","main","rel","⟺","\\Longleftrightarrow",!0);c("math","main","rel","↦","\\mapsto",!0);c("math","main","rel","⟼","\\longmapsto",!0);c("math","main","rel","↗","\\nearrow",!0);c("math","main","rel","↩","\\hookleftarrow",!0);c("math","main","rel","↪","\\hookrightarrow",!0);c("math","main","rel","↘","\\searrow",!0);c("math","main","rel","↼",
"\\leftharpoonup",!0);c("math","main","rel","⇀","\\rightharpoonup",!0);c("math","main","rel","↙","\\swarrow",!0);c("math","main","rel","↽","\\leftharpoondown",!0);c("math","main","rel","⇁","\\rightharpoondown",!0);c("math","main","rel","↖","\\nwarrow",!0);c("math","main","rel","⇌","\\rightleftharpoons",!0);c("math","ams","rel","≮","\\nless",!0);c("math","ams","rel","","\\@nleqslant");c("math","ams","rel","","\\@nleqq");c("math","ams","rel","⪇","\\lneq",!0);c("math","ams","rel","≨","\\lneqq",!0);
c("math","ams","rel","","\\@lvertneqq");c("math","ams","rel","⋦","\\lnsim",!0);c("math","ams","rel","⪉","\\lnapprox",!0);c("math","ams","rel","⊀","\\nprec",!0);c("math","ams","rel","⋠","\\npreceq",!0);c("math","ams","rel","⋨","\\precnsim",!0);c("math","ams","rel","⪹","\\precnapprox",!0);c("math","ams","rel","≁","\\nsim",!0);c("math","ams","rel","","\\@nshortmid");c("math","ams","rel","∤","\\nmid",!0);c("math","ams","rel","⊬","\\nvdash",!0);c("math","ams","rel","⊭","\\nvDash",!0);c("math","ams",
"rel","⋪","\\ntriangleleft");c("math","ams","rel","⋬","\\ntrianglelefteq",!0);c("math","ams","rel","⊊","\\subsetneq",!0);c("math","ams","rel","","\\@varsubsetneq");c("math","ams","rel","⫋","\\subsetneqq",!0);c("math","ams","rel","","\\@varsubsetneqq");c("math","ams","rel","≯","\\ngtr",!0);c("math","ams","rel","","\\@ngeqslant");c("math","ams","rel","","\\@ngeqq");c("math","ams","rel","⪈","\\gneq",!0);c("math","ams","rel","≩","\\gneqq",!0);c("math","ams","rel","","\\@gvertneqq");c("math","ams",
"rel","⋧","\\gnsim",!0);c("math","ams","rel","⪊","\\gnapprox",!0);c("math","ams","rel","⊁","\\nsucc",!0);c("math","ams","rel","⋡","\\nsucceq",!0);c("math","ams","rel","⋩","\\succnsim",!0);c("math","ams","rel","⪺","\\succnapprox",!0);c("math","ams","rel","≆","\\ncong",!0);c("math","ams","rel","","\\@nshortparallel");c("math","ams","rel","∦","\\nparallel",!0);c("math","ams","rel","⊯","\\nVDash",!0);c("math","ams","rel","⋫","\\ntriangleright");c("math","ams","rel","⋭","\\ntrianglerighteq",!0);c("math",
"ams","rel","","\\@nsupseteqq");c("math","ams","rel","⊋","\\supsetneq",!0);c("math","ams","rel","","\\@varsupsetneq");c("math","ams","rel","⫌","\\supsetneqq",!0);c("math","ams","rel","","\\@varsupsetneqq");c("math","ams","rel","⊮","\\nVdash",!0);c("math","ams","rel","⪵","\\precneqq",!0);c("math","ams","rel","⪶","\\succneqq",!0);c("math","ams","rel","","\\@nsubseteqq");c("math","ams","bin","⊴","\\unlhd");c("math","ams","bin","⊵","\\unrhd");c("math","ams","rel","↚","\\nleftarrow",!0);c("math","ams",
"rel","↛","\\nrightarrow",!0);c("math","ams","rel","⇍","\\nLeftarrow",!0);c("math","ams","rel","⇏","\\nRightarrow",!0);c("math","ams","rel","↮","\\nleftrightarrow",!0);c("math","ams","rel","⇎","\\nLeftrightarrow",!0);c("math","ams","rel","△","\\vartriangle");c("math","ams","textord","ℏ","\\hslash");c("math","ams","textord","▽","\\triangledown");c("math","ams","textord","◊","\\lozenge");c("math","ams","textord","Ⓢ","\\circledS");c("math","ams","textord","®","\\circledR");c("text","ams","textord","®",
"\\circledR");c("math","ams","textord","∡","\\measuredangle",!0);c("math","ams","textord","∄","\\nexists");c("math","ams","textord","℧","\\mho");c("math","ams","textord","Ⅎ","\\Finv",!0);c("math","ams","textord","⅁","\\Game",!0);c("math","ams","textord","‵","\\backprime");c("math","ams","textord","▲","\\blacktriangle");c("math","ams","textord","▼","\\blacktriangledown");c("math","ams","textord","■","\\blacksquare");c("math","ams","textord","⧫","\\blacklozenge");c("math","ams","textord","★","\\bigstar");
c("math","ams","textord","∢","\\sphericalangle",!0);c("math","ams","textord","∁","\\complement",!0);c("math","ams","textord","ð","\\eth",!0);c("text","main","textord","ð","ð");c("math","ams","textord","╱","\\diagup");c("math","ams","textord","╲","\\diagdown");c("math","ams","textord","□","\\square");c("math","ams","textord","□","\\Box");c("math","ams","textord","◊","\\Diamond");c("math","ams","textord","¥","\\yen",!0);c("text","ams","textord","¥","\\yen",!0);c("math","ams","textord","✓","\\checkmark",
!0);c("text","ams","textord","✓","\\checkmark");c("math","ams","textord","ℶ","\\beth",!0);c("math","ams","textord","ℸ","\\daleth",!0);c("math","ams","textord","ℷ","\\gimel",!0);c("math","ams","textord","ϝ","\\digamma",!0);c("math","ams","textord","ϰ","\\varkappa");c("math","ams","open","┌","\\@ulcorner",!0);c("math","ams","close","┐","\\@urcorner",!0);c("math","ams","open","└","\\@llcorner",!0);c("math","ams","close","┘","\\@lrcorner",!0);c("math","ams","rel","≦","\\leqq",!0);c("math","ams","rel",
"⩽","\\leqslant",!0);c("math","ams","rel","⪕","\\eqslantless",!0);c("math","ams","rel","≲","\\lesssim",!0);c("math","ams","rel","⪅","\\lessapprox",!0);c("math","ams","rel","≊","\\approxeq",!0);c("math","ams","bin","⋖","\\lessdot");c("math","ams","rel","⋘","\\lll",!0);c("math","ams","rel","≶","\\lessgtr",!0);c("math","ams","rel","⋚","\\lesseqgtr",!0);c("math","ams","rel","⪋","\\lesseqqgtr",!0);c("math","ams","rel","≑","\\doteqdot");c("math","ams","rel","≓","\\risingdotseq",!0);c("math","ams","rel",
"≒","\\fallingdotseq",!0);c("math","ams","rel","∽","\\backsim",!0);c("math","ams","rel","⋍","\\backsimeq",!0);c("math","ams","rel","⫅","\\subseteqq",!0);c("math","ams","rel","⋐","\\Subset",!0);c("math","ams","rel","⊏","\\sqsubset",!0);c("math","ams","rel","≼","\\preccurlyeq",!0);c("math","ams","rel","⋞","\\curlyeqprec",!0);c("math","ams","rel","≾","\\precsim",!0);c("math","ams","rel","⪷","\\precapprox",!0);c("math","ams","rel","⊲","\\vartriangleleft");c("math","ams","rel","⊴","\\trianglelefteq");
c("math","ams","rel","⊨","\\vDash",!0);c("math","ams","rel","⊪","\\Vvdash",!0);c("math","ams","rel","⌣","\\smallsmile");c("math","ams","rel","⌢","\\smallfrown");c("math","ams","rel","≏","\\bumpeq",!0);c("math","ams","rel","≎","\\Bumpeq",!0);c("math","ams","rel","≧","\\geqq",!0);c("math","ams","rel","⩾","\\geqslant",!0);c("math","ams","rel","⪖","\\eqslantgtr",!0);c("math","ams","rel","≳","\\gtrsim",!0);c("math","ams","rel","⪆","\\gtrapprox",!0);c("math","ams","bin","⋗","\\gtrdot");c("math","ams","rel",
"⋙","\\ggg",!0);c("math","ams","rel","≷","\\gtrless",!0);c("math","ams","rel","⋛","\\gtreqless",!0);c("math","ams","rel","⪌","\\gtreqqless",!0);c("math","ams","rel","≖","\\eqcirc",!0);c("math","ams","rel","≗","\\circeq",!0);c("math","ams","rel","≜","\\triangleq",!0);c("math","ams","rel","∼","\\thicksim");c("math","ams","rel","≈","\\thickapprox");c("math","ams","rel","⫆","\\supseteqq",!0);c("math","ams","rel","⋑","\\Supset",!0);c("math","ams","rel","⊐","\\sqsupset",!0);c("math","ams","rel","≽","\\succcurlyeq",
!0);c("math","ams","rel","⋟","\\curlyeqsucc",!0);c("math","ams","rel","≿","\\succsim",!0);c("math","ams","rel","⪸","\\succapprox",!0);c("math","ams","rel","⊳","\\vartriangleright");c("math","ams","rel","⊵","\\trianglerighteq");c("math","ams","rel","⊩","\\Vdash",!0);c("math","ams","rel","∣","\\shortmid");c("math","ams","rel","∥","\\shortparallel");c("math","ams","rel","≬","\\between",!0);c("math","ams","rel","⋔","\\pitchfork",!0);c("math","ams","rel","∝","\\varpropto");c("math","ams","rel","◀","\\blacktriangleleft");
c("math","ams","rel","∴","\\therefore",!0);c("math","ams","rel","∍","\\backepsilon");c("math","ams","rel","▶","\\blacktriangleright");c("math","ams","rel","∵","\\because",!0);c("math","ams","rel","⋘","\\llless");c("math","ams","rel","⋙","\\gggtr");c("math","ams","bin","⊲","\\lhd");c("math","ams","bin","⊳","\\rhd");c("math","ams","rel","≂","\\eqsim",!0);c("math","main","rel","⋈","\\Join");c("math","ams","rel","≑","\\Doteq",!0);c("math","ams","bin","∔","\\dotplus",!0);c("math","ams","bin","∖","\\smallsetminus");
c("math","ams","bin","⋒","\\Cap",!0);c("math","ams","bin","⋓","\\Cup",!0);c("math","ams","bin","⩞","\\doublebarwedge",!0);c("math","ams","bin","⊟","\\boxminus",!0);c("math","ams","bin","⊞","\\boxplus",!0);c("math","ams","bin","⋇","\\divideontimes",!0);c("math","ams","bin","⋉","\\ltimes",!0);c("math","ams","bin","⋊","\\rtimes",!0);c("math","ams","bin","⋋","\\leftthreetimes",!0);c("math","ams","bin","⋌","\\rightthreetimes",!0);c("math","ams","bin","⋏","\\curlywedge",!0);c("math","ams","bin","⋎","\\curlyvee",
!0);c("math","ams","bin","⊝","\\circleddash",!0);c("math","ams","bin","⊛","\\circledast",!0);c("math","ams","bin","⋅","\\centerdot");c("math","ams","bin","⊺","\\intercal",!0);c("math","ams","bin","⋒","\\doublecap");c("math","ams","bin","⋓","\\doublecup");c("math","ams","bin","⊠","\\boxtimes",!0);c("math","ams","rel","⇢","\\dashrightarrow",!0);c("math","ams","rel","⇠","\\dashleftarrow",!0);c("math","ams","rel","⇇","\\leftleftarrows",!0);c("math","ams","rel","⇆","\\leftrightarrows",!0);c("math","ams",
"rel","⇚","\\Lleftarrow",!0);c("math","ams","rel","↞","\\twoheadleftarrow",!0);c("math","ams","rel","↢","\\leftarrowtail",!0);c("math","ams","rel","↫","\\looparrowleft",!0);c("math","ams","rel","⇋","\\leftrightharpoons",!0);c("math","ams","rel","↶","\\curvearrowleft",!0);c("math","ams","rel","↺","\\circlearrowleft",!0);c("math","ams","rel","↰","\\Lsh",!0);c("math","ams","rel","⇈","\\upuparrows",!0);c("math","ams","rel","↿","\\upharpoonleft",!0);c("math","ams","rel","⇃","\\downharpoonleft",!0);c("math",
"main","rel","⊶","\\origof",!0);c("math","main","rel","⊷","\\imageof",!0);c("math","ams","rel","⊸","\\multimap",!0);c("math","ams","rel","↭","\\leftrightsquigarrow",!0);c("math","ams","rel","⇉","\\rightrightarrows",!0);c("math","ams","rel","⇄","\\rightleftarrows",!0);c("math","ams","rel","↠","\\twoheadrightarrow",!0);c("math","ams","rel","↣","\\rightarrowtail",!0);c("math","ams","rel","↬","\\looparrowright",!0);c("math","ams","rel","↷","\\curvearrowright",!0);c("math","ams","rel","↻","\\circlearrowright",
!0);c("math","ams","rel","↱","\\Rsh",!0);c("math","ams","rel","⇊","\\downdownarrows",!0);c("math","ams","rel","↾","\\upharpoonright",!0);c("math","ams","rel","⇂","\\downharpoonright",!0);c("math","ams","rel","⇝","\\rightsquigarrow",!0);c("math","ams","rel","⇝","\\leadsto");c("math","ams","rel","⇛","\\Rrightarrow",!0);c("math","ams","rel","↾","\\restriction");c("math","main","textord","‘","`");c("math","main","textord","$","\\$");c("text","main","textord","$","\\$");c("text","main","textord","$","\\textdollar");
c("math","main","textord","%","\\%");c("text","main","textord","%","\\%");c("math","main","textord","_","\\_");c("text","main","textord","_","\\_");c("text","main","textord","_","\\textunderscore");c("math","main","textord","∠","\\angle",!0);c("math","main","textord","∞","\\infty",!0);c("math","main","textord","′","\\prime");c("math","main","textord","△","\\triangle");c("math","main","textord","Γ","\\Gamma",!0);c("math","main","textord","Δ","\\Delta",!0);c("math","main","textord","Θ","\\Theta",!0);
c("math","main","textord","Λ","\\Lambda",!0);c("math","main","textord","Ξ","\\Xi",!0);c("math","main","textord","Π","\\Pi",!0);c("math","main","textord","Σ","\\Sigma",!0);c("math","main","textord","Υ","\\Upsilon",!0);c("math","main","textord","Φ","\\Phi",!0);c("math","main","textord","Ψ","\\Psi",!0);c("math","main","textord","Ω","\\Omega",!0);c("math","main","textord","A","Α");c("math","main","textord","B","Β");c("math","main","textord","E","Ε");c("math","main","textord","Z","Ζ");c("math","main",
"textord","H","Η");c("math","main","textord","I","Ι");c("math","main","textord","K","Κ");c("math","main","textord","M","Μ");c("math","main","textord","N","Ν");c("math","main","textord","O","Ο");c("math","main","textord","P","Ρ");c("math","main","textord","T","Τ");c("math","main","textord","X","Χ");c("math","main","textord","¬","\\neg",!0);c("math","main","textord","¬","\\lnot");c("math","main","textord","⊤","\\top");c("math","main","textord","⊥","\\bot");c("math","main","textord","∅","\\emptyset");
c("math","ams","textord","∅","\\varnothing");c("math","main","mathord","α","\\alpha",!0);c("math","main","mathord","β","\\beta",!0);c("math","main","mathord","γ","\\gamma",!0);c("math","main","mathord","δ","\\delta",!0);c("math","main","mathord","ϵ","\\epsilon",!0);c("math","main","mathord","ζ","\\zeta",!0);c("math","main","mathord","η","\\eta",!0);c("math","main","mathord","θ","\\theta",!0);c("math","main","mathord","ι","\\iota",!0);c("math","main","mathord","κ","\\kappa",!0);c("math","main","mathord",
"λ","\\lambda",!0);c("math","main","mathord","μ","\\mu",!0);c("math","main","mathord","ν","\\nu",!0);c("math","main","mathord","ξ","\\xi",!0);c("math","main","mathord","ο","\\omicron",!0);c("math","main","mathord","π","\\pi",!0);c("math","main","mathord","ρ","\\rho",!0);c("math","main","mathord","σ","\\sigma",!0);c("math","main","mathord","τ","\\tau",!0);c("math","main","mathord","υ","\\upsilon",!0);c("math","main","mathord","ϕ","\\phi",!0);c("math","main","mathord","χ","\\chi",!0);c("math","main",
"mathord","ψ","\\psi",!0);c("math","main","mathord","ω","\\omega",!0);c("math","main","mathord","ε","\\varepsilon",!0);c("math","main","mathord","ϑ","\\vartheta",!0);c("math","main","mathord","ϖ","\\varpi",!0);c("math","main","mathord","ϱ","\\varrho",!0);c("math","main","mathord","ς","\\varsigma",!0);c("math","main","mathord","φ","\\varphi",!0);c("math","main","bin","∗","*",!0);c("math","main","bin","+","+");c("math","main","bin","−","-",!0);c("math","main","bin","⋅","\\cdot",!0);c("math","main",
"bin","∘","\\circ",!0);c("math","main","bin","÷","\\div",!0);c("math","main","bin","±","\\pm",!0);c("math","main","bin","×","\\times",!0);c("math","main","bin","∩","\\cap",!0);c("math","main","bin","∪","\\cup",!0);c("math","main","bin","∖","\\setminus",!0);c("math","main","bin","∧","\\land");c("math","main","bin","∨","\\lor");c("math","main","bin","∧","\\wedge",!0);c("math","main","bin","∨","\\vee",!0);c("math","main","textord","√","\\surd");c("math","main","open","⟨","\\langle",!0);c("math","main",
"open","∣","\\lvert");c("math","main","open","∥","\\lVert");c("math","main","close","?","?");c("math","main","close","!","!");c("math","main","close","⟩","\\rangle",!0);c("math","main","close","∣","\\rvert");c("math","main","close","∥","\\rVert");c("math","main","rel","\x3d","\x3d");c("math","main","rel",":",":");c("math","main","rel","≈","\\approx",!0);c("math","main","rel","≅","\\cong",!0);c("math","main","rel","≥","\\ge");c("math","main","rel","≥","\\geq",!0);c("math","main","rel","←","\\gets");
c("math","main","rel","\x3e","\\gt",!0);c("math","main","rel","∈","\\in",!0);c("math","main","rel","","\\@not");c("math","main","rel","⊂","\\subset",!0);c("math","main","rel","⊃","\\supset",!0);c("math","main","rel","⊆","\\subseteq",!0);c("math","main","rel","⊇","\\supseteq",!0);c("math","ams","rel","⊈","\\nsubseteq",!0);c("math","ams","rel","⊉","\\nsupseteq",!0);c("math","main","rel","⊨","\\models");c("math","main","rel","←","\\leftarrow",!0);c("math","main","rel","≤","\\le");c("math","main","rel",
"≤","\\leq",!0);c("math","main","rel","\x3c","\\lt",!0);c("math","main","rel","→","\\rightarrow",!0);c("math","main","rel","→","\\to");c("math","ams","rel","≱","\\ngeq",!0);c("math","ams","rel","≰","\\nleq",!0);c("math","main","spacing"," ","\\ ");c("math","main","spacing"," ","\\space");c("math","main","spacing"," ","\\nobreakspace");c("text","main","spacing"," ","\\ ");c("text","main","spacing"," "," ");c("text","main","spacing"," ","\\space");c("text","main","spacing"," ","\\nobreakspace");c("math",
"main","spacing",null,"\\nobreak");c("math","main","spacing",null,"\\allowbreak");c("math","main","punct",",",",");c("math","main","punct",";",";");c("math","ams","bin","⊼","\\barwedge",!0);c("math","ams","bin","⊻","\\veebar",!0);c("math","main","bin","⊙","\\odot",!0);c("math","main","bin","⊕","\\oplus",!0);c("math","main","bin","⊗","\\otimes",!0);c("math","main","textord","∂","\\partial",!0);c("math","main","bin","⊘","\\oslash",!0);c("math","ams","bin","⊚","\\circledcirc",!0);c("math","ams","bin",
"⊡","\\boxdot",!0);c("math","main","bin","△","\\bigtriangleup");c("math","main","bin","▽","\\bigtriangledown");c("math","main","bin","†","\\dagger");c("math","main","bin","⋄","\\diamond");c("math","main","bin","⋆","\\star");c("math","main","bin","◃","\\triangleleft");c("math","main","bin","▹","\\triangleright");c("math","main","open","{","\\{");c("text","main","textord","{","\\{");c("text","main","textord","{","\\textbraceleft");c("math","main","close","}","\\}");c("text","main","textord","}","\\}");
c("text","main","textord","}","\\textbraceright");c("math","main","open","{","\\lbrace");c("math","main","close","}","\\rbrace");c("math","main","open","[","\\lbrack",!0);c("text","main","textord","[","\\lbrack",!0);c("math","main","close","]","\\rbrack",!0);c("text","main","textord","]","\\rbrack",!0);c("math","main","open","(","\\lparen",!0);c("math","main","close",")","\\rparen",!0);c("text","main","textord","\x3c","\\textless",!0);c("text","main","textord","\x3e","\\textgreater",!0);c("math",
"main","open","⌊","\\lfloor",!0);c("math","main","close","⌋","\\rfloor",!0);c("math","main","open","⌈","\\lceil",!0);c("math","main","close","⌉","\\rceil",!0);c("math","main","textord","\\","\\backslash");c("math","main","textord","∣","|");c("math","main","textord","∣","\\vert");c("text","main","textord","|","\\textbar",!0);c("math","main","textord","∥","\\|");c("math","main","textord","∥","\\Vert");c("text","main","textord","∥","\\textbardbl");c("text","main","textord","~","\\textasciitilde");c("text",
"main","textord","\\","\\textbackslash");c("text","main","textord","^","\\textasciicircum");c("math","main","rel","↑","\\uparrow",!0);c("math","main","rel","⇑","\\Uparrow",!0);c("math","main","rel","↓","\\downarrow",!0);c("math","main","rel","⇓","\\Downarrow",!0);c("math","main","rel","↕","\\updownarrow",!0);c("math","main","rel","⇕","\\Updownarrow",!0);c("math","main","op-token","∐","\\coprod");c("math","main","op-token","⋁","\\bigvee");c("math","main","op-token","⋀","\\bigwedge");c("math","main",
"op-token","⨄","\\biguplus");c("math","main","op-token","⋂","\\bigcap");c("math","main","op-token","⋃","\\bigcup");c("math","main","op-token","∫","\\int");c("math","main","op-token","∫","\\intop");c("math","main","op-token","∬","\\iint");c("math","main","op-token","∭","\\iiint");c("math","main","op-token","∏","\\prod");c("math","main","op-token","∑","\\sum");c("math","main","op-token","⨂","\\bigotimes");c("math","main","op-token","⨁","\\bigoplus");c("math","main","op-token","⨀","\\bigodot");c("math",
"main","op-token","∮","\\oint");c("math","main","op-token","∯","\\oiint");c("math","main","op-token","∰","\\oiiint");c("math","main","op-token","⨆","\\bigsqcup");c("math","main","op-token","∫","\\smallint");c("text","main","inner","…","\\textellipsis");c("math","main","inner","…","\\mathellipsis");c("text","main","inner","…","\\ldots",!0);c("math","main","inner","…","\\ldots",!0);c("math","main","inner","⋯","\\@cdots",!0);c("math","main","inner","⋱","\\ddots",!0);c("math","main","textord","⋮","\\varvdots");
c("math","main","accent-token","ˊ","\\acute");c("math","main","accent-token","ˋ","\\grave");c("math","main","accent-token","¨","\\ddot");c("math","main","accent-token","~","\\tilde");c("math","main","accent-token","ˉ","\\bar");c("math","main","accent-token","˘","\\breve");c("math","main","accent-token","ˇ","\\check");c("math","main","accent-token","^","\\hat");c("math","main","accent-token","⃗","\\vec");c("math","main","accent-token","˙","\\dot");c("math","main","accent-token","˚","\\mathring");c("math",
"main","mathord","","\\@imath");c("math","main","mathord","","\\@jmath");c("math","main","textord","ı","ı");c("math","main","textord","ȷ","ȷ");c("text","main","textord","ı","\\i",!0);c("text","main","textord","ȷ","\\j",!0);c("text","main","textord","ß","\\ss",!0);c("text","main","textord","æ","\\ae",!0);c("text","main","textord","œ","\\oe",!0);c("text","main","textord","ø","\\o",!0);c("text","main","textord","Æ","\\AE",!0);c("text","main","textord","Œ","\\OE",!0);c("text","main","textord","Ø","\\O",
!0);c("text","main","accent-token","ˊ","\\'");c("text","main","accent-token","ˋ","\\`");c("text","main","accent-token","ˆ","\\^");c("text","main","accent-token","˜","\\~");c("text","main","accent-token","ˉ","\\\x3d");c("text","main","accent-token","˘","\\u");c("text","main","accent-token","˙","\\.");c("text","main","accent-token","¸","\\c");c("text","main","accent-token","˚","\\r");c("text","main","accent-token","ˇ","\\v");c("text","main","accent-token","¨",'\\"');c("text","main","accent-token","˝",
"\\H");c("text","main","accent-token","◯","\\textcircled");const Rc={"--":!0,"---":!0,"``":!0,"''":!0};c("text","main","textord","–","--",!0);c("text","main","textord","–","\\textendash");c("text","main","textord","—","---",!0);c("text","main","textord","—","\\textemdash");c("text","main","textord","‘","`",!0);c("text","main","textord","‘","\\textquoteleft");c("text","main","textord","’","'",!0);c("text","main","textord","’","\\textquoteright");c("text","main","textord","“","``",!0);c("text","main",
"textord","“","\\textquotedblleft");c("text","main","textord","”","''",!0);c("text","main","textord","”","\\textquotedblright");c("math","main","textord","°","\\degree",!0);c("text","main","textord","°","\\degree");c("text","main","textord","°","\\textdegree",!0);c("math","main","textord","£","\\pounds");c("math","main","textord","£","\\mathsterling",!0);c("text","main","textord","£","\\pounds");c("text","main","textord","£","\\textsterling",!0);c("math","ams","textord","✠","\\maltese");c("text",
"ams","textord","✠","\\maltese");for(let u=0;14>u;u++){const C='0123456789/@."'.charAt(u);c("math","main","textord",C,C)}for(let u=0;25>u;u++){const C='0123456789!@*()-\x3d+";:?/.,'.charAt(u);c("text","main","textord",C,C)}for(let u=0;52>u;u++){const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(u);c("math","main","mathord",C,C);c("text","main","textord",C,C)}c("math","ams","textord","C","ℂ");c("text","ams","textord","C","ℂ");c("math","ams","textord","H","ℍ");c("text","ams","textord",
"H","ℍ");c("math","ams","textord","N","ℕ");c("text","ams","textord","N","ℕ");c("math","ams","textord","P","ℙ");c("text","ams","textord","P","ℙ");c("math","ams","textord","Q","ℚ");c("text","ams","textord","Q","ℚ");c("math","ams","textord","R","ℝ");c("text","ams","textord","R","ℝ");c("math","ams","textord","Z","ℤ");c("text","ams","textord","Z","ℤ");c("math","main","mathord","h","ℎ");c("text","main","mathord","h","ℎ");let Tc="";for(let u=0;52>u;u++){const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(u);
Tc=String.fromCharCode(55349,56320+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,56372+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,56424+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,56580+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,56684+u);c("math","main","mathord",C,Tc);c("text","main","textord",
C,Tc);Tc=String.fromCharCode(55349,56736+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,56788+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,56840+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,56944+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);26>u&&(Tc=String.fromCharCode(55349,56632+u),c("math","main","mathord",C,Tc),c("text","main",
"textord",C,Tc),Tc=String.fromCharCode(55349,56476+u),c("math","main","mathord",C,Tc),c("text","main","textord",C,Tc))}Tc=String.fromCharCode(55349,56668);c("math","main","mathord","k",Tc);c("text","main","textord","k",Tc);for(let u=0;10>u;u++){const C=u.toString();Tc=String.fromCharCode(55349,57294+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,57314+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,57324+
u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc);Tc=String.fromCharCode(55349,57334+u);c("math","main","mathord",C,Tc);c("text","main","textord",C,Tc)}for(let u=0;3>u;u++){const C="ÐÞþ".charAt(u);c("math","main","mathord",C,C);c("text","main","textord",C,C)}const xd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],
["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf",
"textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Dc=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],yf=function(u,C){var S=u.charCodeAt(0);const ba=u.charCodeAt(1);S=1024*(S-55296)+(ba-56320)+65536;C="math"===C?0:1;if(119808<=S&&120484>S)return u=Math.floor((S-
119808)/26),[xd[u][2],xd[u][C]];if(120782<=S&&120831>=S)return u=Math.floor((S-120782)/10),[Dc[u][2],Dc[u][C]];if(120485===S||120486===S)return[xd[0][2],xd[0][C]];if(120486<S&&120782>S)return["",""];throw new Ba("Unsupported character: "+u);},He=function(u,C,S){gc[S][u]&&gc[S][u].replace&&(u=gc[S][u].replace);return{value:u,metrics:m(u,C,S)}},we=function(u,C,S,ba,ra){u=He(u,C,S);const Ka=u.metrics;u=u.value;if(Ka){C=Ka.italic;if("text"===S||ba&&"mathit"===ba.font)C=0;S=new ke(u,Ka.height,Ka.depth,
C,Ka.skew,Ka.width,ra)}else"undefined"!==typeof console&&console.warn("No character metrics for '"+(u+"' in style '"+C+"' and mode '"+S+"'")),S=new ke(u,0,0,0,0,0,ra);ba&&(S.maxFontSize=ba.sizeMultiplier,ba.style.isTight()&&S.classes.push("mtight"),ba=ba.getColor())&&(S.style.color=ba);return S},Ne=(u,C)=>{if(cd(u.classes)!==cd(C.classes)||u.skew!==C.skew||u.maxFontSize!==C.maxFontSize)return!1;if(1===u.classes.length){const S=u.classes[0];if("mbin"===S||"mord"===S)return!1}for(const S in u.style)if(u.style.hasOwnProperty(S)&&
u.style[S]!==C.style[S])return!1;for(const S in C.style)if(C.style.hasOwnProperty(S)&&u.style[S]!==C.style[S])return!1;return!0},Pe=function(u){let C=0,S=0,ba=0;for(let ra=0;ra<u.children.length;ra++){const Ka=u.children[ra];Ka.height>C&&(C=Ka.height);Ka.depth>S&&(S=Ka.depth);Ka.maxFontSize>ba&&(ba=Ka.maxFontSize)}u.height=C;u.depth=S;u.maxFontSize=ba},ie=function(u,C,S,ba){u=new de(u,C,S,ba);Pe(u);return u},cf=(u,C,S,ba)=>new de(u,C,S,ba),rf=function(u){u=new Va(u);Pe(u);return u},ff=function(u,
C,S){switch(u){case "amsrm":u="AMS";break;case "textrm":u="Main";break;case "textsf":u="SansSerif";break;case "texttt":u="Typewriter"}return u+"-"+("textbf"===C&&"textit"===S?"BoldItalic":"textbf"===C?"Bold":"textit"===C?"Italic":"Regular")},gf={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",
fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ee={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Nb={fontMap:gf,
makeSymbol:we,mathsym:function(u,C,S,ba){void 0===ba&&(ba=[]);return"boldsymbol"===S.font&&He(u,"Main-Bold",C).metrics?we(u,"Main-Bold",C,S,ba.concat(["mathbf"])):"\\"===u||"main"===gc[C][u].font?we(u,"Main-Regular",C,S,ba):we(u,"AMS-Regular",C,S,ba.concat(["amsrm"]))},makeSpan:ie,makeSvgSpan:cf,makeLineSpan:function(u,C,S){u=ie([u],[],C);u.height=Math.max(S||C.fontMetrics().defaultRuleThickness,C.minRuleThickness);u.style.borderBottomWidth=fc(u.height);u.maxFontSize=1;return u},makeAnchor:function(u,
C,S,ba){u=new ge(u,C,S,ba);Pe(u);return u},makeFragment:rf,wrapFragment:function(u,C){return u instanceof Va?ie([],[u],C):u},makeVList:function(u,C){if("individualShift"===u.positionType){u=u.children;C=[u[0]];var S=-u[0].shift-u[0].elem.depth,ba=S;for(var ra=1;ra<u.length;ra++){var Ka=-u[ra].shift-ba-u[ra].elem.depth,Na=Ka-(u[ra-1].elem.height+u[ra-1].elem.depth);ba+=Ka;C.push({type:"kern",size:Na});C.push(u[ra])}u={children:C,depth:S}}else{if("top"===u.positionType)for(C=u.positionData,S=0;S<u.children.length;S++)ba=
u.children[S],C-="kern"===ba.type?ba.size:ba.elem.height+ba.elem.depth;else if("bottom"===u.positionType)C=-u.positionData;else{C=u.children[0];if("elem"!==C.type)throw Error('First child must have type "elem".');if("shift"===u.positionType)C=-C.elem.depth-u.positionData;else if("firstBaseline"===u.positionType)C=-C.elem.depth;else throw Error("Invalid positionType "+u.positionType+".");}u={children:u.children,depth:C}}const {children:nb,depth:Cb}=u;S=0;for(u=0;u<nb.length;u++)C=nb[u],"elem"===C.type&&
(C=C.elem,S=Math.max(S,C.maxFontSize,C.height));S+=2;ba=ie(["pstrut"],[]);ba.style.height=fc(S);ra=[];Ka=C=u=Cb;for(Na=0;Na<nb.length;Na++){const Yb=nb[Na];if("kern"===Yb.type)Ka+=Yb.size;else{const Qc=Yb.elem,Sc=ie(Yb.wrapperClasses||[],[ba,Qc],void 0,Yb.wrapperStyle||{});Sc.style.top=fc(-S-Ka-Qc.depth);Yb.marginLeft&&(Sc.style.marginLeft=Yb.marginLeft);Yb.marginRight&&(Sc.style.marginRight=Yb.marginRight);ra.push(Sc);Ka+=Qc.height+Qc.depth}u=Math.min(u,Ka);C=Math.max(C,Ka)}S=ie(["vlist"],ra);S.style.height=
fc(C);0>u?(ba=ie([],[]),ba=ie(["vlist"],[ba]),ba.style.height=fc(-u),ra=ie(["vlist-s"],[new ke("​")]),S=[ie(["vlist-r"],[S,ra]),ie(["vlist-r"],[ba])]):S=[ie(["vlist-r"],[S])];ba=ie(["vlist-t"],S);2===S.length&&ba.classes.push("vlist-t2");ba.height=C;ba.depth=-u;return ba},makeOrd:function(u,C,S){const ba=u.mode;u=u.text;const ra=["mord"];var Ka="math"===ba||"text"===ba&&C.font,Na=Ka?C.font:C.fontFamily,nb="";let Cb="";55349===u.charCodeAt(0)&&([nb,Cb]=yf(u,ba));if(0<nb.length)return we(u,nb,ba,C,
ra.concat(Cb));if(Na){"boldsymbol"===Na?(Na="textord"!==S&&He(u,"Math-BoldItalic",ba).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"},Ka=Na.fontName,Na=[Na.fontClass]):Ka?(Ka=gf[Na].fontName,Na=[Na]):(Ka=ff(Na,C.fontWeight,C.fontShape),Na=[Na,C.fontWeight,C.fontShape]);if(He(u,Ka,ba).metrics)return we(u,Ka,ba,C,ra.concat(Na));if(Rc.hasOwnProperty(u)&&"Typewriter"===Ka.slice(0,10)){S=[];for(nb=0;nb<u.length;nb++)S.push(we(u[nb],Ka,ba,C,ra.concat(Na)));
return rf(S)}}if("mathord"===S)return we(u,"Math-Italic",ba,C,ra.concat(["mathnormal"]));if("textord"===S){S=gc[ba][u]&&gc[ba][u].font;if("ams"===S)return S=ff("amsrm",C.fontWeight,C.fontShape),we(u,S,ba,C,ra.concat("amsrm",C.fontWeight,C.fontShape));if("main"!==S&&S)return S=ff(S,C.fontWeight,C.fontShape),we(u,S,ba,C,ra.concat(S,C.fontWeight,C.fontShape));S=ff("textrm",C.fontWeight,C.fontShape);return we(u,S,ba,C,ra.concat(C.fontWeight,C.fontShape))}throw Error("unexpected type: "+S+" in makeOrd");
},makeGlue:(u,C)=>{const S=ie(["mspace"],[],C);u=hd(u,C);S.style.marginRight=fc(u);return S},staticSvg:function(u,C){const [S,ba,ra]=ee[u];u=new od(S);u=new nd([u],{width:fc(ba),height:fc(ra),style:"width:"+fc(ba),viewBox:"0 0 "+1E3*ba+" "+1E3*ra,preserveAspectRatio:"xMinYMin"});C=cf(["overlay"],[u],C);C.height=ra;C.style.height=fc(ra);C.style.width=fc(ba);return C},svgData:ee,tryCombineChars:u=>{for(let C=0;C<u.length-1;C++){const S=u[C],ba=u[C+1];S instanceof ke&&ba instanceof ke&&Ne(S,ba)&&(S.text+=
ba.text,S.height=Math.max(S.height,ba.height),S.depth=Math.max(S.depth,ba.depth),S.italic=ba.italic,u.splice(C+1,1),C--)}return u}};const Yd={number:3,unit:"mu"},De={number:4,unit:"mu"},me={number:5,unit:"mu"},Lc={mord:{mop:Yd,mbin:De,mrel:me,minner:Yd},mop:{mord:Yd,mop:Yd,mrel:me,minner:Yd},mbin:{mord:De,mop:De,mopen:De,minner:De},mrel:{mord:me,mop:me,mopen:me,minner:me},mopen:{},mclose:{mop:Yd,mbin:De,mrel:me,minner:Yd},mpunct:{mord:Yd,mop:Yd,mrel:me,mopen:Yd,mclose:Yd,mpunct:Yd,minner:Yd},minner:{mord:Yd,
mop:Yd,mbin:De,mrel:me,mopen:Yd,mpunct:Yd,minner:Yd}},Hd={mord:{mop:Yd},mop:{mord:Yd,mop:Yd},mbin:{},mrel:{},mopen:{},mclose:{mop:Yd},mpunct:{},minner:{mop:Yd}},ya={},Ia={},fb={},lb=function(u){return"ordgroup"===u.type&&1===u.body.length?u.body[0]:u},yb=function(u){return"ordgroup"===u.type?u.body:[u]},kb=Nb.makeSpan,tb="leftmost mbin mopen mrel mop mpunct".split(" "),Eb=["rightmost","mrel","mclose","mpunct"],Hb={display:Qa,text:cb,script:Ab,scriptscript:ma},Ub={mord:"mord",mop:"mop",mbin:"mbin",
mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Wb=function(u,C,S,ba){void 0===ba&&(ba=[null,null]);const ra=[];for(let Na=0;Na<u.length;Na++){const nb=Oc(u[Na],C);nb instanceof Va?ra.push(...nb.children):ra.push(nb)}Nb.tryCombineChars(ra);if(!S)return ra;let Ka=C;1===u.length&&(u=u[0],"sizing"===u.type?Ka=C.havingSize(u.size):"styling"===u.type&&(Ka=C.havingStyle(Hb[u.style])));u=kb([ba[0]||"leftmost"],[],C);C=kb([ba[1]||"rightmost"],[],C);S="root"===S;mc(ra,(Na,nb)=>{const Cb=
nb.classes[0],Yb=Na.classes[0];"mbin"===Cb&&eb.contains(Eb,Yb)?nb.classes[0]="mord":"mbin"===Yb&&eb.contains(tb,Cb)&&(Na.classes[0]="mord")},{node:u},C,S);mc(ra,(Na,nb)=>{nb=yc(nb);const Cb=yc(Na);if(Na=nb&&Cb?Na.hasClass("mtight")?Hd[nb][Cb]:Lc[nb][Cb]:null)return Nb.makeGlue(Na,Ka)},{node:u},C,S);return ra},mc=function(u,C,S,ba,ra){ba&&u.push(ba);let Ka=0;for(;Ka<u.length;Ka++){const nb=u[Ka];var Na=Zc(nb);if(Na)mc(Na.children,C,S,null,ra);else{if(Na=!nb.hasClass("mspace")){const Cb=C(nb,S.node);
Cb&&(S.insertAfter?S.insertAfter(Cb):(u.unshift(Cb),Ka++))}Na?S.node=nb:ra&&nb.hasClass("newline")&&(S.node=kb(["leftmost"]));S.insertAfter=(Cb=>Yb=>{u.splice(Cb+1,0,Yb);Ka++})(Ka)}}ba&&u.pop()},Zc=function(u){return u instanceof Va||u instanceof ge||u instanceof de&&u.hasClass("enclosing")?u:null},Bc=function(u,C){var S=Zc(u);if(S&&(S=S.children,S.length)){if("right"===C)return Bc(S[S.length-1],"right");if("left"===C)return Bc(S[0],"left")}return u},yc=function(u,C){if(!u)return null;C&&(u=Bc(u,
C));return Ub[u.classes[0]]||null},zc=function(u,C){u=["nulldelimiter"].concat(u.baseSizingClasses());return kb(C.concat(u))},Oc=function(u,C,S){if(!u)return kb();if(Ia[u.type])return u=Ia[u.type](u,C),S&&C.size!==S.size&&(u=kb(C.sizingClasses(S),[u],C),C=C.sizeMultiplier/S.sizeMultiplier,u.height*=C,u.depth*=C),u;throw new Ba("Got group of unknown type: '"+u.type+"'");};class Uc{constructor(u,C,S){this.classes=this.children=this.attributes=this.type=void 0;this.type=u;this.attributes={};this.children=
C||[];this.classes=S||[]}setAttribute(u,C){this.attributes[u]=C}getAttribute(u){return this.attributes[u]}toNode(){const u=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,C)&&u.setAttribute(C,this.attributes[C]);0<this.classes.length&&(u.className=cd(this.classes));for(C=0;C<this.children.length;C++)u.appendChild(this.children[C].toNode());return u}toMarkup(){let u="\x3c"+this.type;for(var C in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,
C)&&(u+=" "+C+'\x3d"',u+=eb.escape(this.attributes[C]),u+='"');0<this.classes.length&&(u+=' class \x3d"'+eb.escape(cd(this.classes))+'"');u+="\x3e";for(C=0;C<this.children.length;C++)u+=this.children[C].toMarkup();return u+="\x3c/"+this.type+"\x3e"}toText(){return this.children.map(u=>u.toText()).join("")}}class Ad{constructor(u){this.text=void 0;this.text=u}toNode(){return document.createTextNode(this.text)}toMarkup(){return eb.escape(this.toText())}toText(){return this.text}}class Ld{constructor(u){this.character=
this.width=void 0;this.width=u;this.character=.05555<=u&&.05556>=u?" ":.1666<=u&&.1667>=u?" ":.2222<=u&&.2223>=u?" ":.2777<=u&&.2778>=u?"  ":-.05556<=u&&-.05555>=u?" ⁣":-.1667<=u&&-.1666>=u?" ⁣":-.2223<=u&&-.2222>=u?" ⁣":-.2778<=u&&-.2777>=u?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);const u=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");u.setAttribute("width",fc(this.width));return u}toMarkup(){return this.character?"\x3cmtext\x3e"+
this.character+"\x3c/mtext\x3e":'\x3cmspace width\x3d"'+fc(this.width)+'"/\x3e'}toText(){return this.character?this.character:" "}}var Xb={MathNode:Uc,TextNode:Ad,SpaceNode:Ld,newDocumentFragment:t};const Xd=function(u,C,S){!gc[C][u]||!gc[C][u].replace||55349===u.charCodeAt(0)||Rc.hasOwnProperty(u)&&S&&(S.fontFamily&&"tt"===S.fontFamily.slice(4,6)||S.font&&"tt"===S.font.slice(4,6))||(u=gc[C][u].replace);return new Xb.TextNode(u)},id=function(u){return 1===u.length?u[0]:new Xb.MathNode("mrow",u)},
$c=function(u,C){if("texttt"===C.fontFamily)return"monospace";if("textsf"===C.fontFamily)return"textit"===C.fontShape&&"textbf"===C.fontWeight?"sans-serif-bold-italic":"textit"===C.fontShape?"sans-serif-italic":"textbf"===C.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===C.fontShape&&"textbf"===C.fontWeight)return"bold-italic";if("textit"===C.fontShape)return"italic";if("textbf"===C.fontWeight)return"bold";C=C.font;if(!C||"mathnormal"===C)return null;const S=u.mode;if("mathit"===C)return"italic";
if("boldsymbol"===C)return"textord"===u.type?"bold":"bold-italic";if("mathbf"===C)return"bold";if("mathbb"===C)return"double-struck";if("mathfrak"===C)return"fraktur";if("mathscr"===C||"mathcal"===C)return"script";if("mathsf"===C)return"sans-serif";if("mathtt"===C)return"monospace";u=u.text;if(eb.contains(["\\imath","\\jmath"],u))return null;gc[S][u]&&gc[S][u].replace&&(u=gc[S][u].replace);return m(u,Nb.fontMap[C].fontName,S)?Nb.fontMap[C].variant:null},ad=function(u,C,S){if(1===u.length)return u=
ud(u[0],C),S&&u instanceof Uc&&"mo"===u.type&&(u.setAttribute("lspace","0em"),u.setAttribute("rspace","0em")),[u];S=[];for(let ra=0;ra<u.length;ra++){const Ka=ud(u[ra],C);if(Ka instanceof Uc&&ba instanceof Uc)if("mtext"===Ka.type&&"mtext"===ba.type&&Ka.getAttribute("mathvariant")===ba.getAttribute("mathvariant")){ba.children.push(...Ka.children);continue}else if("mn"===Ka.type&&"mn"===ba.type){ba.children.push(...Ka.children);continue}else if("mi"===Ka.type&&1===Ka.children.length&&"mn"===ba.type){const Na=
Ka.children[0];if(Na instanceof Ad&&"."===Na.text){ba.children.push(...Ka.children);continue}}else if("mi"===ba.type&&1===ba.children.length){var ba=ba.children[0];ba instanceof Ad&&"̸"===ba.text&&("mo"===Ka.type||"mi"===Ka.type||"mn"===Ka.type)&&(ba=Ka.children[0],ba instanceof Ad&&0<ba.text.length&&(ba.text=ba.text.slice(0,1)+"̸"+ba.text.slice(1),S.pop()))}S.push(Ka);ba=Ka}return S},ud=function(u,C){if(!u)return new Xb.MathNode("mrow");if(fb[u.type])return fb[u.type](u,C);throw new Ba("Got group of unknown type: '"+
u.type+"'");},md=function(u){return new dc({style:u.displayMode?Qa:cb,maxSize:u.maxSize,minRuleThickness:u.minRuleThickness})},Qd=function(u,C){if(C.displayMode){const S=["katex-display"];C.leqno&&S.push("leqno");C.fleqn&&S.push("fleqn");u=Nb.makeSpan(S,[u])}return u},Le={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",
underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"\x3d",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←",
"\\cdlongequal":"\x3d"},Ye={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],
1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],
xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus",
"rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom",
"rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]};var he={encloseSpan:function(u,C,S,ba,ra){u=u.height+u.depth+S+ba;if(/fbox|color|angl/.test(C)){if(S=Nb.makeSpan(["stretchy",C],[],ra),"fbox"===C&&(ra=ra.color&&ra.getColor()))S.style.borderColor=ra}else S=[],/^[bx]cancel$/.test(C)&&
S.push(new te({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(C)&&S.push(new te({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"})),C=new nd(S,{width:"100%",height:fc(u)}),S=Nb.makeSvgSpan([],[C],ra);S.height=u;S.style.height=fc(u);return S},mathMLnode:function(u){u=new Xb.MathNode("mo",[new Xb.TextNode(Le[u.replace(/^\\/,"")])]);u.setAttribute("stretchy","true");return u},svgSpan:function(u,C){const {span:S,minWidth:ba,height:ra}=function(){var Ka=4E5,
Na=u.label.slice(1);if(eb.contains(["widehat","widecheck","widetilde","utilde"],Na)){Ka=u.base;Ka="ordgroup"===Ka.type?Ka.body.length:1;if(5<Ka)if("widehat"===Na||"widecheck"===Na){var nb=420;Ka=2364;var Cb=.42;Na+="4"}else nb=312,Ka=2340,Cb=.34,Na="tilde4";else{var Yb=[1,1,2,2,3,3][Ka];"widehat"===Na||"widecheck"===Na?(Ka=[0,1062,2364,2364,2364][Yb],nb=[0,239,300,360,420][Yb],Cb=[0,.24,.3,.3,.36,.42][Yb],Na+=Yb):(Ka=[0,600,1033,2339,2340][Yb],nb=[0,260,286,306,312][Yb],Cb=[0,.26,.286,.3,.306,.34][Yb],
Na="tilde"+Yb)}Na=new od(Na);Ka=new nd([Na],{width:"100%",height:fc(Cb),viewBox:"0 0 "+Ka+" "+nb,preserveAspectRatio:"none"});return{span:Nb.makeSvgSpan([],[Ka],C),minWidth:0,height:Cb}}Cb=[];Yb=Ye[Na];const [Qc,Sc,qd]=Yb;Na=qd/1E3;nb=Qc.length;if(1===nb){var Ud=Yb[3];Yb=["hide-tail"];Ud=[Ud]}else if(2===nb)Yb=["halfarrow-left","halfarrow-right"],Ud=["xMinYMin","xMaxYMin"];else if(3===nb)Yb=["brace-left","brace-center","brace-right"],Ud=["xMinYMin","xMidYMin","xMaxYMin"];else throw Error("Correct katexImagesData or update code here to support\n                    "+
nb+" children.");for(let je=0;je<nb;je++){var $d=new od(Qc[je]);$d=new nd([$d],{width:"400em",height:fc(Na),viewBox:"0 0 "+Ka+" "+qd,preserveAspectRatio:Ud[je]+" slice"});$d=Nb.makeSvgSpan([Yb[je]],[$d],C);if(1===nb)return{span:$d,minWidth:Sc,height:Na};$d.style.height=fc(Na);Cb.push($d)}return{span:Nb.makeSpan(["stretchy"],Cb,C),minWidth:Sc,height:Na}}();S.height=ra;S.style.height=fc(ra);0<ba&&(S.style.minWidth=fc(ba));return S}};const Id=(u,C)=>{let S;if(u&&"supsub"===u.type){S=A(u.base,"accent");
var ba=S.base;u.base=ba;var ra=Oc(u,C);if(!(ra instanceof de))throw Error("Expected span\x3cHtmlDomNode\x3e but got "+String(ra)+".");u.base=S}else S=A(u,"accent"),ba=S.base;u=Oc(ba,C.havingCrampedStyle());var Ka=0;S.isShifty&&eb.isCharacterBox(ba)&&(Ka=eb.getBaseElem(ba),Ka=Oc(Ka,C.havingCrampedStyle()),Ka=d(Ka).skew);var Na="\\c"===S.label;ba=Na?u.height+u.depth:Math.min(u.height,C.fontMetrics().xHeight);if(S.isStretchy)Na=he.svgSpan(S,C),Na=Nb.makeVList({positionType:"firstBaseline",children:[{type:"elem",
elem:u},{type:"elem",elem:Na,wrapperClasses:["svg-align"],wrapperStyle:0<Ka?{width:"calc(100% - "+fc(2*Ka)+")",marginLeft:fc(2*Ka)}:void 0}]},C);else{let Cb;if("\\vec"===S.label){var nb=Nb.staticSvg("vec",C);Cb=Nb.svgData.vec[1]}else nb=Nb.makeOrd({mode:S.mode,text:S.label},C,"textord"),nb=d(nb),nb.italic=0,Cb=nb.width,Na&&(ba+=nb.depth);Na=Nb.makeSpan(["accent-body"],[nb]);if(nb="\\textcircled"===S.label)Na.classes.push("accent-full"),ba=u.height;nb||(Ka-=Cb/2);Na.style.left=fc(Ka);"\\textcircled"===
S.label&&(Na.style.top=".2em");Na=Nb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:-ba},{type:"elem",elem:Na}]},C)}C=Nb.makeSpan(["mord","accent"],[Na],C);return ra?(ra.children[0]=C,ra.height=Math.max(C.height,ra.height),ra.classes[0]="mord",ra):C},mb=(u,C)=>{const S=u.isStretchy?he.mathMLnode(u.label):new Xb.MathNode("mo",[Xd(u.label,u.mode)]);u=new Xb.MathNode("mover",[ud(u.base,C),S]);u.setAttribute("accent","true");return u},Lb=new RegExp("\\acute \\grave \\ddot \\tilde \\bar \\breve \\check \\hat \\vec \\dot \\mathring".split(" ").map(u=>
"\\"+u).join("|"));g({type:"accent",names:"\\acute \\grave \\ddot \\tilde \\bar \\breve \\check \\hat \\vec \\dot \\mathring \\widecheck \\widehat \\widetilde \\overrightarrow \\overleftarrow \\Overrightarrow \\overleftrightarrow \\overgroup \\overlinesegment \\overleftharpoon \\overrightharpoon".split(" "),props:{numArgs:1},handler:(u,C)=>{C=lb(C[0]);const S=!Lb.test(u.funcName);return{type:"accent",mode:u.parser.mode,label:u.funcName,isStretchy:S,isShifty:!S||"\\widehat"===u.funcName||"\\widetilde"===
u.funcName||"\\widecheck"===u.funcName,base:C}},htmlBuilder:Id,mathmlBuilder:mb});g({type:"accent",names:"\\' \\` \\^ \\~ \\\x3d \\u \\. \\\" \\c \\r \\H \\v \\textcircled".split(" "),props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(u,C)=>{C=C[0];let S=u.parser.mode;"math"===S&&(u.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+u.funcName+" works only in text mode"),S="text");return{type:"accent",mode:S,label:u.funcName,isStretchy:!1,isShifty:!0,
base:C}},htmlBuilder:Id,mathmlBuilder:mb});g({type:"accentUnder",names:"\\underleftarrow \\underrightarrow \\underleftrightarrow \\undergroup \\underlinesegment \\utilde".split(" "),props:{numArgs:1},handler:(u,C)=>{let {parser:S,funcName:ba}=u;return{type:"accentUnder",mode:S.mode,label:ba,base:C[0]}},htmlBuilder:(u,C)=>{const S=Oc(u.base,C),ba=he.svgSpan(u,C);u=Nb.makeVList({positionType:"top",positionData:S.height,children:[{type:"elem",elem:ba,wrapperClasses:["svg-align"]},{type:"kern",size:"\\utilde"===
u.label?.12:0},{type:"elem",elem:S}]},C);return Nb.makeSpan(["mord","accentunder"],[u],C)},mathmlBuilder:(u,C)=>{const S=he.mathMLnode(u.label);u=new Xb.MathNode("munder",[ud(u.base,C),S]);u.setAttribute("accentunder","true");return u}});const cc=u=>{u=new Xb.MathNode("mpadded",u?[u]:[]);u.setAttribute("width","+0.6em");u.setAttribute("lspace","0.3em");return u};g({type:"xArrow",names:"\\xleftarrow \\xrightarrow \\xLeftarrow \\xRightarrow \\xleftrightarrow \\xLeftrightarrow \\xhookleftarrow \\xhookrightarrow \\xmapsto \\xrightharpoondown \\xrightharpoonup \\xleftharpoondown \\xleftharpoonup \\xrightleftharpoons \\xleftrightharpoons \\xlongequal \\xtwoheadrightarrow \\xtwoheadleftarrow \\xtofrom \\xrightleftarrows \\xrightequilibrium \\xleftequilibrium \\\\cdrightarrow \\\\cdleftarrow \\\\cdlongequal".split(" "),
props:{numArgs:1,numOptionalArgs:1},handler(u,C,S){let {parser:ba,funcName:ra}=u;return{type:"xArrow",mode:ba.mode,label:ra,body:C[0],below:S[0]}},htmlBuilder(u,C){var S=C.style,ba=C.havingStyle(S.sup()),ra=Nb.wrapFragment(Oc(u.body,ba,C),C),Ka="\\x"===u.label.slice(0,2)?"x":"cd";ra.classes.push(Ka+"-arrow-pad");let Na;u.below&&(ba=C.havingStyle(S.sub()),Na=Nb.wrapFragment(Oc(u.below,ba,C),C),Na.classes.push(Ka+"-arrow-pad"));S=he.svgSpan(u,C);ba=-C.fontMetrics().axisHeight+.5*S.height;Ka=-C.fontMetrics().axisHeight-
.5*S.height-.111;if(.25<ra.depth||"\\xleftequilibrium"===u.label)Ka-=ra.depth;Na?(u=-C.fontMetrics().axisHeight+Na.height+.5*S.height+.111,ra=Nb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ra,shift:Ka},{type:"elem",elem:S,shift:ba},{type:"elem",elem:Na,shift:u}]},C)):ra=Nb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ra,shift:Ka},{type:"elem",elem:S,shift:ba}]},C);ra.children[0].children[0].children[1].classes.push("svg-align");return Nb.makeSpan(["mrel",
"x-arrow"],[ra],C)},mathmlBuilder(u,C){const S=he.mathMLnode(u.label);S.setAttribute("minsize","x"===u.label.charAt(0)?"1.75em":"3.0em");if(u.body){var ba=cc(ud(u.body,C));u.below?(u=cc(ud(u.below,C)),ba=new Xb.MathNode("munderover",[S,u,ba])):ba=new Xb.MathNode("mover",[S,ba])}else u.below?(ba=cc(ud(u.below,C)),ba=new Xb.MathNode("munder",[S,ba])):(ba=cc(),ba=new Xb.MathNode("mover",[S,ba]));return ba}});const kc=Nb.makeSpan;g({type:"mclass",names:"\\mathord \\mathbin \\mathrel \\mathopen \\mathclose \\mathpunct \\mathinner".split(" "),
props:{numArgs:1,primitive:!0},handler(u,C){let {parser:S,funcName:ba}=u;u=C[0];return{type:"mclass",mode:S.mode,mclass:"m"+ba.slice(5),body:yb(u),isCharacterBox:eb.isCharacterBox(u)}},htmlBuilder:F,mathmlBuilder:H});const ic=u=>{u="ordgroup"===u.type&&u.body.length?u.body[0]:u;return"atom"!==u.type||"bin"!==u.family&&"rel"!==u.family?"mord":"m"+u.family};g({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(u,C){({parser:u}=u);return{type:"mclass",mode:u.mode,mclass:ic(C[0]),body:yb(C[1]),
isCharacterBox:eb.isCharacterBox(C[1])}}});g({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(u,C){let {parser:S,funcName:ba}=u;u=C[1];const ra=C[0];C="\\stackrel"!==ba?ic(u):"mrel";u={type:"op",mode:u.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==ba,body:yb(u)};u={type:"supsub",mode:ra.mode,base:u,sup:"\\underset"===ba?null:ra,sub:"\\underset"===ba?ra:null};return{type:"mclass",mode:S.mode,mclass:C,body:[u],
isCharacterBox:eb.isCharacterBox(u)}},htmlBuilder:F,mathmlBuilder:H});g({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(u,C){({parser:u}=u);return{type:"pmb",mode:u.mode,mclass:ic(C[0]),body:yb(C[0])}},htmlBuilder(u,C){const S=Wb(u.body,C,!0);u=Nb.makeSpan([u.mclass],S,C);u.style.textShadow="0.02em 0.01em 0.04px";return u},mathmlBuilder(u,C){u=ad(u.body,C);u=new Xb.MathNode("mstyle",u);u.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px");return u}});const Ac={"\x3e":"\\\\cdrightarrow",
"\x3c":"\\\\cdleftarrow","\x3d":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},qc=()=>({type:"styling",body:[],mode:"math",style:"display"}),xc=u=>"textord"===u.type&&"@"===u.text;g({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(u,C){let {parser:S,funcName:ba}=u;return{type:"cdlabel",mode:S.mode,side:ba.slice(4),label:C[0]}},htmlBuilder(u,C){const S=C.havingStyle(C.style.sup());C=Nb.wrapFragment(Oc(u.label,S,C),C);C.classes.push("cd-label-"+
u.side);C.style.bottom=fc(.8-C.depth);C.height=0;C.depth=0;return C},mathmlBuilder(u,C){C=new Xb.MathNode("mrow",[ud(u.label,C)]);C=new Xb.MathNode("mpadded",[C]);C.setAttribute("width","0");"left"===u.side&&C.setAttribute("lspace","-1width");C.setAttribute("voffset","0.7em");C=new Xb.MathNode("mstyle",[C]);C.setAttribute("displaystyle","false");C.setAttribute("scriptlevel","1");return C}});g({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(u,C){({parser:u}=u);return{type:"cdlabelparent",
mode:u.mode,fragment:C[0]}},htmlBuilder(u,C){u=Nb.wrapFragment(Oc(u.fragment,C),C);u.classes.push("cd-vert-arrow");return u},mathmlBuilder(u,C){return new Xb.MathNode("mrow",[ud(u.fragment,C)])}});g({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(u,C){({parser:u}=u);var S=A(C[0],"ordgroup").body;C="";for(let ba=0;ba<S.length;ba++){const ra=A(S[ba],"textord");C+=ra.text}S=parseInt(C);if(isNaN(S))throw new Ba("\\@char has non-numeric argument "+C);if(0>S||1114111<=S)throw new Ba("\\@char with invalid code point "+
C);65535>=S?C=String.fromCharCode(S):(S-=65536,C=String.fromCharCode((S>>10)+55296,(S&1023)+56320));return{type:"textord",mode:u.mode,text:C}}});const U=(u,C)=>{u=Wb(u.body,C.withColor(u.color),!1);return Nb.makeFragment(u)},ha=(u,C)=>{C=ad(u.body,C.withColor(u.color));C=new Xb.MathNode("mstyle",C);C.setAttribute("mathcolor",u.color);return C};g({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(u,C){({parser:u}=u);const S=A(C[0],"color-token").color;
return{type:"color",mode:u.mode,color:S,body:yb(C[1])}},htmlBuilder:U,mathmlBuilder:ha});g({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(u,C){let {parser:S,breakOnTokenText:ba}=u;u=A(C[0],"color-token").color;S.gullet.macros.set("\\current@color",u);C=S.parseExpression(!0,ba);return{type:"color",mode:S.mode,color:u,body:C}},htmlBuilder:U,mathmlBuilder:ha});g({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(u,C,S){({parser:u}=
u);C="["===u.gullet.future().text?u.parseSizeGroup(!0):null;S=!u.settings.displayMode||!u.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:u.mode,newLine:S,size:C&&A(C,"size").value}},htmlBuilder(u,C){const S=Nb.makeSpan(["mspace"],[],C);u.newLine&&(S.classes.push("newline"),u.size&&(S.style.marginTop=fc(hd(u.size,C))));return S},mathmlBuilder(u,C){const S=new Xb.MathNode("mspace");u.newLine&&(S.setAttribute("linebreak",
"newline"),u.size&&S.setAttribute("height",fc(hd(u.size,C))));return S}});const na={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Aa=u=>{const C=u.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(C))throw new Ba("Expected a control sequence",u);return C},Ca=(u,C,S,ba)=>{let ra=u.gullet.macros.get(S.text);null==ra&&(S.noexpand=!0,ra={tokens:[S],numArgs:0,
unexpandable:!u.gullet.isExpandable(S.text)});u.gullet.macros.set(C,ra,ba)};g({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(u){let {parser:C,funcName:S}=u;C.consumeSpaces();u=C.fetch();if(na[u.text]){if("\\global"===S||"\\\\globallong"===S)u.text=na[u.text];return A(C.parseFunction(),"internal")}throw new Ba("Invalid token after macro prefix",u);}});g({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,
primitive:!0},handler(u){let {parser:C,funcName:S}=u;var ba=C.gullet.popToken();u=ba.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(u))throw new Ba("Expected a control sequence",ba);let ra=0,Ka;const Na=[[]];for(;"{"!==C.gullet.future().text;)if(ba=C.gullet.popToken(),"#"===ba.text){if("{"===C.gullet.future().text){Ka=C.gullet.future();Na[ra].push("{");break}ba=C.gullet.popToken();if(!/^[1-9]$/.test(ba.text))throw new Ba('Invalid argument number "'+ba.text+'"');if(parseInt(ba.text)!==ra+1)throw new Ba('Argument number "'+
ba.text+'" out of order');ra++;Na.push([])}else{if("EOF"===ba.text)throw new Ba("Expected a macro definition");Na[ra].push(ba.text)}({tokens:ba}=C.gullet.consumeArg());Ka&&ba.unshift(Ka);if("\\edef"===S||"\\xdef"===S)ba=C.gullet.expandTokens(ba),ba.reverse();C.gullet.macros.set(u,{tokens:ba,numArgs:ra,delimiters:Na},S===na[S]);return{type:"internal",mode:C.mode}}});g({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(u){let {parser:C,funcName:S}=
u;u=Aa(C.gullet.popToken());C.gullet.consumeSpaces();let ba=C.gullet.popToken();"\x3d"===ba.text&&(ba=C.gullet.popToken()," "===ba.text&&(ba=C.gullet.popToken()));Ca(C,u,ba,"\\\\globallet"===S);return{type:"internal",mode:C.mode}}});g({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(u){let {parser:C,funcName:S}=u;u=Aa(C.gullet.popToken());const ba=C.gullet.popToken(),ra=C.gullet.popToken();Ca(C,u,ra,"\\\\globalfuture"===S);C.gullet.pushToken(ra);
C.gullet.pushToken(ba);return{type:"internal",mode:C.mode}}});const Ya=function(u,C,S){S=m(gc.math[u]&&gc.math[u].replace||u,C,S);if(!S)throw Error("Unsupported symbol "+u+" and font size "+C+".");return S},sb=function(u,C,S,ba){C=S.havingBaseStyle(C);u=Nb.makeSpan(ba.concat(C.sizingClasses(S)),[u],S);S=C.sizeMultiplier/S.sizeMultiplier;u.height*=S;u.depth*=S;u.maxFontSize=C.sizeMultiplier;return u},Qb=function(u,C,S){S=C.havingBaseStyle(S);C=(1-C.sizeMultiplier/S.sizeMultiplier)*C.fontMetrics().axisHeight;
u.classes.push("delimcenter");u.style.top=fc(C);u.height-=C;u.depth+=C},Vb=function(u,C,S,ba,ra,Ka){u=Nb.makeSymbol(u,"Size"+C+"-Regular",ra,ba);C=sb(Nb.makeSpan(["delimsizing","size"+C],[u],ba),cb,ba,Ka);S&&Qb(C,ba,cb);return C},nc=function(u,C,S){return{type:"elem",elem:Nb.makeSpan(["delimsizinginner","Size1-Regular"===C?"delim-size1":"delim-size4"],[Nb.makeSpan([],[Nb.makeSymbol(u,C,S)])])}},Wc=function(u,C,S){const ba=Ua["Size4-Regular"][u.charCodeAt(0)]?Ua["Size4-Regular"][u.charCodeAt(0)][4]:
Ua["Size1-Regular"][u.charCodeAt(0)][4];u=new od("inner",Sa(u,Math.round(1E3*C)));u=new nd([u],{width:fc(ba),height:fc(C),style:"width:"+fc(ba),viewBox:"0 0 "+1E3*ba+" "+Math.round(1E3*C),preserveAspectRatio:"xMinYMin"});S=Nb.makeSvgSpan([],[u],S);S.height=C;S.style.height=fc(C);S.style.width=fc(ba);return{type:"elem",elem:S}},sd={type:"kern",size:-.008},Rd=["|","\\lvert","\\rvert","\\vert"],ye=["\\|","\\lVert","\\rVert","\\Vert"],re=function(u,C,S,ba,ra,Ka){let Na,nb;var Cb="",Yb=0;var Qc=Na=nb=
u;var Sc=null;let qd="Size1-Regular";if("\\uparrow"===u)Na=nb="⏐";else if("\\Uparrow"===u)Na=nb="‖";else if("\\downarrow"===u)Qc=Na="⏐";else if("\\Downarrow"===u)Qc=Na="‖";else if("\\updownarrow"===u)Qc="\\uparrow",Na="⏐",nb="\\downarrow";else if("\\Updownarrow"===u)Qc="\\Uparrow",Na="‖",nb="\\Downarrow";else if(eb.contains(Rd,u))Na="∣",Cb="vert",Yb=333;else if(eb.contains(ye,u))Na="∥",Cb="doublevert",Yb=556;else if("["===u||"\\lbrack"===u)Qc="⎡",Na="⎢",nb="⎣",qd="Size4-Regular",Cb="lbrack",Yb=667;
else if("]"===u||"\\rbrack"===u)Qc="⎤",Na="⎥",nb="⎦",qd="Size4-Regular",Cb="rbrack",Yb=667;else if("\\lfloor"===u||"⌊"===u)Na=Qc="⎢",nb="⎣",qd="Size4-Regular",Cb="lfloor",Yb=667;else if("\\lceil"===u||"⌈"===u)Qc="⎡",Na=nb="⎢",qd="Size4-Regular",Cb="lceil",Yb=667;else if("\\rfloor"===u||"⌋"===u)Na=Qc="⎥",nb="⎦",qd="Size4-Regular",Cb="rfloor",Yb=667;else if("\\rceil"===u||"⌉"===u)Qc="⎤",Na=nb="⎥",qd="Size4-Regular",Cb="rceil",Yb=667;else if("("===u||"\\lparen"===u)Qc="⎛",Na="⎜",nb="⎝",qd="Size4-Regular",
Cb="lparen",Yb=875;else if(")"===u||"\\rparen"===u)Qc="⎞",Na="⎟",nb="⎠",qd="Size4-Regular",Cb="rparen",Yb=875;else if("\\{"===u||"\\lbrace"===u)Qc="⎧",Sc="⎨",nb="⎩",Na="⎪",qd="Size4-Regular";else if("\\}"===u||"\\rbrace"===u)Qc="⎫",Sc="⎬",nb="⎭",Na="⎪",qd="Size4-Regular";else if("\\lgroup"===u||"⟮"===u)Qc="⎧",nb="⎩",Na="⎪",qd="Size4-Regular";else if("\\rgroup"===u||"⟯"===u)Qc="⎫",nb="⎭",Na="⎪",qd="Size4-Regular";else if("\\lmoustache"===u||"⎰"===u)Qc="⎧",nb="⎭",Na="⎪",qd="Size4-Regular";else if("\\rmoustache"===
u||"⎱"===u)Qc="⎫",nb="⎩",Na="⎪",qd="Size4-Regular";u=Ya(Qc,qd,ra);u=u.height+u.depth;var Ud=Ya(Na,qd,ra),$d=Ud.height+Ud.depth;Ud=Ya(nb,qd,ra);Ud=Ud.height+Ud.depth;var je=0;let ne=1;null!==Sc&&(je=Ya(Sc,qd,ra),je=je.height+je.depth,ne=2);const ze=u+Ud+je;$d=ze+Math.max(0,Math.ceil((C-ze)/(ne*$d)))*ne*$d;C=ba.fontMetrics().axisHeight;S&&(C*=ba.sizeMultiplier);S=$d/2-C;C=[];0<Cb.length?(ra=Math.round(1E3*$d),Qc=oa(Cb,Math.round(1E3*($d-u-Ud))),Sc=new od(Cb,Qc),Cb=(Yb/1E3).toFixed(3)+"em",Qc=(ra/1E3).toFixed(3)+
"em",Yb=new nd([Sc],{width:Cb,height:Qc,viewBox:"0 0 "+Yb+" "+ra}),Yb=Nb.makeSvgSpan([],[Yb],ba),Yb.height=ra/1E3,Yb.style.width=Cb,Yb.style.height=Qc,C.push({type:"elem",elem:Yb})):(C.push(nc(nb,qd,ra)),C.push(sd),null===Sc?C.push(Wc(Na,$d-u-Ud+.016,ba)):(Yb=($d-u-Ud-je)/2+.016,C.push(Wc(Na,Yb,ba)),C.push(sd),C.push(nc(Sc,qd,ra)),C.push(sd),C.push(Wc(Na,Yb,ba))),C.push(sd),C.push(nc(Qc,qd,ra)));Yb=ba.havingBaseStyle(cb);Cb=Nb.makeVList({positionType:"bottom",positionData:S,children:C},Yb);return sb(Nb.makeSpan(["delimsizing",
"mult"],[Cb],Yb),cb,ba,Ka)},Cd=function(u,C,S,ba,ra){ba*=1E3;let Ka="";switch(u){case "sqrtMain":Ka="M95,"+(622+ba+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+ba/2.075+" -"+ba+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+ba)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+
(834+ba)+" 80h400000v"+(40+ba)+"h-400000z";break;case "sqrtSize1":Ka="M263,"+(601+ba+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+ba/2.084+" -"+ba+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+ba)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+
(1001+ba)+" 80h400000v"+(40+ba)+"h-400000z";break;case "sqrtSize2":Ka="M983 "+(10+ba+80)+"\nl"+ba/3.13+" -"+ba+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+ba)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+
(1001+ba)+" 80h400000v"+(40+ba)+"h-400000z";break;case "sqrtSize3":Ka="M424,"+(2398+ba+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+ba/4.223+" -"+ba+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+ba)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+
(1001+ba)+" 80\nh400000v"+(40+ba)+"h-400000z";break;case "sqrtSize4":Ka="M473,"+(2713+ba+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+ba/5.298+" -"+ba+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+ba)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+
(1001+ba)+" 80h400000v"+(40+ba)+"H1017.7z";break;case "sqrtTall":Ka="M702 "+(ba+80)+"H400000"+(40+ba)+"\nH742v"+(S-54-80-ba)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+ba)+"H742z"}u=new od(u,Ka);C=new nd([u],{width:"400em",height:fc(C),viewBox:"0 0 400000 "+S,preserveAspectRatio:"xMinYMin slice"});return Nb.makeSvgSpan(["hide-tail"],
[C],ra)},Md="( \\lparen ) \\rparen [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor ⌊ ⌋ \\lceil \\rceil ⌈ ⌉ \\surd".split(" "),ve="\\uparrow \\downarrow \\updownarrow \\Uparrow \\Downarrow \\Updownarrow | \\| \\vert \\Vert \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup ⟮ ⟯ \\lmoustache \\rmoustache ⎰ ⎱".split(" "),Ze="\x3c \x3e \\langle \\rangle / \\backslash \\lt \\gt".split(" "),Zd=[0,1.2,1.8,2.4,3],Jd=[{type:"small",style:ma},{type:"small",style:Ab},{type:"small",style:cb},
{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],$e=[{type:"small",style:ma},{type:"small",style:Ab},{type:"small",style:cb},{type:"stack"}],Cc=[{type:"small",style:ma},{type:"small",style:Ab},{type:"small",style:cb},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],ef=function(u,C,S,ba){for(var ra=Math.min(2,3-ba.style.size);ra<S.length&&"stack"!==S[ra].type;ra++){var Ka=S[ra];if("small"===Ka.type)Ka="Main-Regular";
else if("large"===Ka.type)Ka="Size"+Ka.size+"-Regular";else if("stack"===Ka.type)Ka="Size4-Regular";else throw Error("Add support for delim type '"+Ka.type+"' here.");Ka=Ya(u,Ka,"math");Ka=Ka.height+Ka.depth;if("small"===S[ra].type){const Na=ba.havingBaseStyle(S[ra].style);Ka*=Na.sizeMultiplier}if(Ka>C)return S[ra]}return S[S.length-1]},pg=function(u,C,S,ba,ra,Ka){if("\x3c"===u||"\\lt"===u||"⟨"===u)u="\\langle";else if("\x3e"===u||"\\gt"===u||"⟩"===u)u="\\rangle";var Na=eb.contains(Ze,u)?Jd:eb.contains(Md,
u)?Cc:$e;Na=ef(u,C,Na,ba);return"small"===Na.type?(C=Na.style,u=Nb.makeSymbol(u,"Main-Regular",ra,ba),Ka=sb(u,C,ba,Ka),S&&Qb(Ka,ba,C),Ka):"large"===Na.type?Vb(u,Na.size,S,ba,ra,Ka):re(u,C,S,ba,ra,Ka)};var sf={sqrtImage:function(u,C){var S=C.havingBaseSizing(),ba=ef("\\surd",u*S.sizeMultiplier,Cc,S);S=S.sizeMultiplier;const ra=Math.max(0,C.minRuleThickness-C.fontMetrics().sqrtRuleThickness);let Ka,Na;"small"===ba.type?(1>u?S=1:1.4>u&&(S=.7),Ka=(1+ra+.08)/S,Na=(1+ra)/S,ba=Cd("sqrtMain",Ka,1E3*ra+1080,
ra,C),ba.style.minWidth="0.853em",u=.833/S):"large"===ba.type?(u=1080*Zd[ba.size],Na=(Zd[ba.size]+ra)/S,Ka=(Zd[ba.size]+ra+.08)/S,ba=Cd("sqrtSize"+ba.size,Ka,u,ra,C),ba.style.minWidth="1.02em",u=1/S):(Ka=u+ra+.08,Na=u+ra,u=Math.floor(1E3*u+ra)+80,ba=Cd("sqrtTall",Ka,u,ra,C),ba.style.minWidth="0.742em",u=1.056);ba.height=Na;ba.style.height=fc(Ka);return{span:ba,advanceWidth:u,ruleWidth:(C.fontMetrics().sqrtRuleThickness+ra)*S}},sizedDelim:function(u,C,S,ba,ra){if("\x3c"===u||"\\lt"===u||"⟨"===u)u=
"\\langle";else if("\x3e"===u||"\\gt"===u||"⟩"===u)u="\\rangle";if(eb.contains(Md,u)||eb.contains(Ze,u))return Vb(u,C,!1,S,ba,ra);if(eb.contains(ve,u))return re(u,Zd[C],!1,S,ba,ra);throw new Ba("Illegal delimiter: '"+u+"'");},sizeToMaxHeight:Zd,customSizedDelim:pg,leftRightDelim:function(u,C,S,ba,ra,Ka){const Na=ba.fontMetrics().axisHeight*ba.sizeMultiplier,nb=5/ba.fontMetrics().ptPerEm;C=Math.max(C-Na,S+Na);return pg(u,Math.max(C/500*901,2*C-nb),!0,ba,ra,Ka)}};const pf={"\\bigl":{mclass:"mopen",
size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},
jb="( \\lparen ) \\rparen [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor ⌊ ⌋ \\lceil \\rceil ⌈ ⌉ \x3c \x3e \\langle ⟨ \\rangle ⟩ \\lt \\gt \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup ⟮ ⟯ \\lmoustache \\rmoustache ⎰ ⎱ / \\backslash | \\vert \\| \\Vert \\uparrow \\Uparrow \\downarrow \\Downarrow \\updownarrow \\Updownarrow .".split(" ");g({type:"delimsizing",names:"\\bigl \\Bigl \\biggl \\Biggl \\bigr \\Bigr \\biggr \\Biggr \\bigm \\Bigm \\biggm \\Biggm \\big \\Big \\bigg \\Bigg".split(" "),
props:{numArgs:1,argTypes:["primitive"]},handler:(u,C)=>{C=K(C[0],u);return{type:"delimsizing",mode:u.parser.mode,size:pf[u.funcName].size,mclass:pf[u.funcName].mclass,delim:C.text}},htmlBuilder:(u,C)=>"."===u.delim?Nb.makeSpan([u.mclass]):sf.sizedDelim(u.delim,u.size,C,u.mode,[u.mclass]),mathmlBuilder:u=>{var C=[];"."!==u.delim&&C.push(Xd(u.delim,u.mode));C=new Xb.MathNode("mo",C);"mopen"===u.mclass||"mclose"===u.mclass?C.setAttribute("fence","true"):C.setAttribute("fence","false");C.setAttribute("stretchy",
"true");u=fc(sf.sizeToMaxHeight[u.size]);C.setAttribute("minsize",u);C.setAttribute("maxsize",u);return C}});g({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(u,C)=>{const S=u.parser.gullet.macros.get("\\current@color");if(S&&"string"!==typeof S)throw new Ba("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:u.parser.mode,delim:K(C[0],u).text,color:S}}});g({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(u,
C)=>{C=K(C[0],u);u=u.parser;++u.leftrightDepth;const S=u.parseExpression(!1);--u.leftrightDepth;u.expect("\\right",!1);const ba=A(u.parseFunction(),"leftright-right");return{type:"leftright",mode:u.mode,body:S,left:C.text,right:ba.delim,rightColor:ba.color}},htmlBuilder:(u,C)=>{T(u);const S=Wb(u.body,C,!0,["mopen","mclose"]);let ba=0,ra=0;var Ka=!1;for(var Na=0;Na<S.length;Na++)S[Na].isMiddle?Ka=!0:(ba=Math.max(S[Na].height,ba),ra=Math.max(S[Na].depth,ra));ba*=C.sizeMultiplier;ra*=C.sizeMultiplier;
Na="."===u.left?zc(C,["mopen"]):sf.leftRightDelim(u.left,ba,ra,C,u.mode,["mopen"]);S.unshift(Na);if(Ka)for(Ka=1;Ka<S.length;Ka++)(Na=S[Ka].isMiddle)&&(S[Ka]=sf.leftRightDelim(Na.delim,ba,ra,Na.options,u.mode,[]));"."===u.right?u=zc(C,["mclose"]):(Ka=u.rightColor?C.withColor(u.rightColor):C,u=sf.leftRightDelim(u.right,ba,ra,Ka,u.mode,["mclose"]));S.push(u);return Nb.makeSpan(["minner"],S,C)},mathmlBuilder:(u,C)=>{T(u);C=ad(u.body,C);if("."!==u.left){var S=new Xb.MathNode("mo",[Xd(u.left,u.mode)]);
S.setAttribute("fence","true");C.unshift(S)}"."!==u.right&&(S=new Xb.MathNode("mo",[Xd(u.right,u.mode)]),S.setAttribute("fence","true"),u.rightColor&&S.setAttribute("mathcolor",u.rightColor),C.push(S));return id(C)}});g({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(u,C)=>{C=K(C[0],u);if(!u.parser.leftrightDepth)throw new Ba("\\middle without preceding \\left",C);return{type:"middle",mode:u.parser.mode,delim:C.text}},htmlBuilder:(u,C)=>{let S;"."===u.delim?S=zc(C,[]):(S=
sf.sizedDelim(u.delim,1,C,u.mode,[]),S.isMiddle={delim:u.delim,options:C});return S},mathmlBuilder:(u,C)=>{u="\\vert"===u.delim||"|"===u.delim?Xd("|","text"):Xd(u.delim,u.mode);u=new Xb.MathNode("mo",[u]);u.setAttribute("fence","true");u.setAttribute("lspace","0.05em");u.setAttribute("rspace","0.05em");return u}});const Yg=(u,C)=>{const S=Nb.wrapFragment(Oc(u.body,C),C),ba=u.label.slice(1);let ra=C.sizeMultiplier;const Ka=eb.isCharacterBox(u.body);if("sout"===ba){var Na=Nb.makeSpan(["stretchy","sout"]);
Na.height=C.fontMetrics().defaultRuleThickness/ra;var nb=-.5*C.fontMetrics().xHeight}else if("phase"===ba){nb=hd({number:.6,unit:"pt"},C);var Cb=hd({number:.35,unit:"ex"},C);Na=C.havingBaseSizing();ra/=Na.sizeMultiplier;const Yb=S.height+S.depth+nb+Cb;S.style.paddingLeft=fc(Yb/2+nb);Na=Math.floor(1E3*Yb*ra);Na=new nd([new od("phase","M400000 "+Na+" H0 L"+Na/2+" 0 l65 45 L145 "+(Na-80)+" H400000z")],{width:"400em",height:fc(Na/1E3),viewBox:"0 0 400000 "+Na,preserveAspectRatio:"xMinYMin slice"});Na=
Nb.makeSvgSpan(["hide-tail"],[Na],C);Na.style.height=fc(Yb);nb=S.depth+nb+Cb}else/cancel/.test(ba)?Ka||S.classes.push("cancel-pad"):"angl"===ba?S.classes.push("anglpad"):S.classes.push("boxpad"),Cb=0,/box/.test(ba)?(Cb=Math.max(C.fontMetrics().fboxrule,C.minRuleThickness),nb=Na=C.fontMetrics().fboxsep+("colorbox"===ba?0:Cb)):"angl"===ba?(Cb=Math.max(C.fontMetrics().defaultRuleThickness,C.minRuleThickness),Na=4*Cb,nb=Math.max(0,.25-S.depth)):nb=Na=Ka?.2:0,Na=he.encloseSpan(S,ba,Na,nb,C),/fbox|boxed|fcolorbox/.test(ba)?
(Na.style.borderStyle="solid",Na.style.borderWidth=fc(Cb)):"angl"===ba&&.049!==Cb&&(Na.style.borderTopWidth=fc(Cb),Na.style.borderRightWidth=fc(Cb)),nb=S.depth+nb,u.backgroundColor&&(Na.style.backgroundColor=u.backgroundColor,u.borderColor&&(Na.style.borderColor=u.borderColor));u.backgroundColor?u=Nb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Na,shift:nb},{type:"elem",elem:S,shift:0}]},C):(u=/cancel|phase/.test(ba)?["svg-align"]:[],u=Nb.makeVList({positionType:"individualShift",
children:[{type:"elem",elem:S,shift:0},{type:"elem",elem:Na,shift:nb,wrapperClasses:u}]},C));/cancel/.test(ba)&&(u.height=S.height,u.depth=S.depth);return/cancel/.test(ba)&&!Ka?Nb.makeSpan(["mord","cancel-lap"],[u],C):Nb.makeSpan(["mord"],[u],C)},Ih=(u,C)=>{let S;const ba=new Xb.MathNode(-1<u.label.indexOf("colorbox")?"mpadded":"menclose",[ud(u.body,C)]);switch(u.label){case "\\cancel":ba.setAttribute("notation","updiagonalstrike");break;case "\\bcancel":ba.setAttribute("notation","downdiagonalstrike");
break;case "\\phase":ba.setAttribute("notation","phasorangle");break;case "\\sout":ba.setAttribute("notation","horizontalstrike");break;case "\\fbox":ba.setAttribute("notation","box");break;case "\\angl":ba.setAttribute("notation","actuarial");break;case "\\fcolorbox":case "\\colorbox":S=C.fontMetrics().fboxsep*C.fontMetrics().ptPerEm;ba.setAttribute("width","+"+2*S+"pt");ba.setAttribute("height","+"+2*S+"pt");ba.setAttribute("lspace",S+"pt");ba.setAttribute("voffset",S+"pt");"\\fcolorbox"===u.label&&
(C=Math.max(C.fontMetrics().fboxrule,C.minRuleThickness),ba.setAttribute("style","border: "+C+"em solid "+String(u.borderColor)));break;case "\\xcancel":ba.setAttribute("notation","updiagonalstrike downdiagonalstrike")}u.backgroundColor&&ba.setAttribute("mathbackground",u.backgroundColor);return ba};g({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(u,C,S){let {parser:ba,funcName:ra}=u;u=A(C[0],"color-token").color;return{type:"enclose",mode:ba.mode,
label:ra,backgroundColor:u,body:C[1]}},htmlBuilder:Yg,mathmlBuilder:Ih});g({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(u,C,S){let {parser:ba,funcName:ra}=u;u=A(C[0],"color-token").color;S=A(C[1],"color-token").color;return{type:"enclose",mode:ba.mode,label:ra,backgroundColor:S,borderColor:u,body:C[2]}},htmlBuilder:Yg,mathmlBuilder:Ih});g({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(u,
C){({parser:u}=u);return{type:"enclose",mode:u.mode,label:"\\fbox",body:C[0]}}});g({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(u,C){let {parser:S,funcName:ba}=u;return{type:"enclose",mode:S.mode,label:ba,body:C[0]}},htmlBuilder:Yg,mathmlBuilder:Ih});g({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(u,C){({parser:u}=u);return{type:"enclose",mode:u.mode,label:"\\angl",body:C[0]}}});const fi={},
Wa={};class jf{constructor(u,C,S){this.end=this.start=this.lexer=void 0;this.lexer=u;this.start=C;this.end=S}static range(u,C){return C?u&&u.loc&&C.loc&&u.loc.lexer===C.loc.lexer?new jf(u.loc.lexer,u.loc.start,C.loc.end):null:u&&u.loc}}class Yf{constructor(u,C){this.treatAsRelax=this.noexpand=this.loc=this.text=void 0;this.text=u;this.loc=C}range(u,C){return new Yf(C,jf.range(this,u))}}const oh=u=>{if(!u.parser.settings.displayMode)throw new Ba("{"+u.envName+"} can be used only in display mode.");
},Me=function(u,C){function S(Ue){for(let dh=0;dh<Ue.length;++dh)0<dh&&(je+=.25),nb.push({pos:je,isDashed:Ue[dh]})}var ba=u.body.length,ra=u.hLinesBeforeRow,Ka=0,Na=Array(ba);const nb=[];var Cb=Math.max(C.fontMetrics().arrayRuleWidth,C.minRuleThickness);var Yb=1/C.fontMetrics().ptPerEm;let Qc=5*Yb;u.colSeparationType&&"small"===u.colSeparationType&&(Qc=.2778*(C.havingStyle(Ab).sizeMultiplier/C.sizeMultiplier));var Sc="CD"===u.colSeparationType?hd({number:3,unit:"ex"},C):12*Yb;var qd=3*Yb;Sc*=u.arraystretch;
var Ud=.7*Sc,$d=.3*Sc;let je=0;S(ra[0]);for(Sc=0;Sc<u.body.length;++Sc){var ne=u.body[Sc],ze=Ud,oe=$d;Ka<ne.length&&(Ka=ne.length);var Wd=Array(ne.length);for(Yb=0;Yb<ne.length;++Yb){var Mf=Oc(ne[Yb],C);oe<Mf.depth&&(oe=Mf.depth);ze<Mf.height&&(ze=Mf.height);Wd[Yb]=Mf}Yb=u.rowGaps[Sc];ne=0;Yb&&(ne=hd(Yb,C),0<ne&&(ne+=$d,oe<ne&&(oe=ne),ne=0));u.addJot&&(oe+=qd);Wd.height=ze;Wd.depth=oe;je+=ze;Wd.pos=je;je+=oe+ne;Na[Sc]=Wd;S(ra[Sc+1])}ra=je/2+C.fontMetrics().axisHeight;Ud=u.cols||[];$d=[];qd=[];if(u.tags&&
u.tags.some(Ue=>Ue))for(Sc=0;Sc<ba;++Sc)Yb=Na[Sc],ze=Yb.pos-ra,oe=u.tags[Sc],oe=!0===oe?Nb.makeSpan(["eqn-num"],[],C):!1===oe?Nb.makeSpan([],[],C):Nb.makeSpan([],Wb(oe,C,!0),C),oe.depth=Yb.depth,oe.height=Yb.height,qd.push({type:"elem",elem:oe,shift:ze});for(ze=Yb=0;Yb<Ka||ze<Ud.length;++Yb,++ze){oe=Ud[ze]||{};for(Sc=!0;"separator"===oe.type;){Sc||(Sc=Nb.makeSpan(["arraycolsep"],[]),Sc.style.width=fc(C.fontMetrics().doubleRuleSep),$d.push(Sc));if("|"===oe.separator||":"===oe.separator){oe="|"===oe.separator?
"solid":"dashed";Sc=Nb.makeSpan(["vertical-separator"],[],C);Sc.style.height=fc(je);Sc.style.borderRightWidth=fc(Cb);Sc.style.borderRightStyle=oe;Sc.style.margin="0 "+fc(-Cb/2);if(oe=je-ra)Sc.style.verticalAlign=fc(-oe);$d.push(Sc)}else throw new Ba("Invalid separator type: "+oe.separator);ze++;oe=Ud[ze]||{};Sc=!1}if(!(Yb>=Ka)){if(0<Yb||u.hskipBeforeAndAfter)Wd=eb.deflt(oe.pregap,Qc),0!==Wd&&(Sc=Nb.makeSpan(["arraycolsep"],[]),Sc.style.width=fc(Wd),$d.push(Sc));Wd=[];for(Sc=0;Sc<ba;++Sc){ne=Na[Sc];
Mf=ne[Yb];if(!Mf)continue;const Ue=ne.pos-ra;Mf.depth=ne.depth;Mf.height=ne.height;Wd.push({type:"elem",elem:Mf,shift:Ue})}Wd=Nb.makeVList({positionType:"individualShift",children:Wd},C);Wd=Nb.makeSpan(["col-align-"+(oe.align||"c")],[Wd]);$d.push(Wd);if(Yb<Ka-1||u.hskipBeforeAndAfter)Wd=eb.deflt(oe.postgap,Qc),0!==Wd&&(Sc=Nb.makeSpan(["arraycolsep"],[]),Sc.style.width=fc(Wd),$d.push(Sc))}}Na=Nb.makeSpan(["mtable"],$d);if(0<nb.length){u=Nb.makeLineSpan("hline",C,Cb);Cb=Nb.makeLineSpan("hdashline",
C,Cb);for(Na=[{type:"elem",elem:Na,shift:0}];0<nb.length;)ba=nb.pop(),Ka=ba.pos-ra,ba.isDashed?Na.push({type:"elem",elem:Cb,shift:Ka}):Na.push({type:"elem",elem:u,shift:Ka});Na=Nb.makeVList({positionType:"individualShift",children:Na},C)}if(0===qd.length)return Nb.makeSpan(["mord"],[Na],C);Cb=Nb.makeVList({positionType:"individualShift",children:qd},C);Cb=Nb.makeSpan(["tag"],[Cb],C);return Nb.makeFragment([Na,Cb])},zg={c:"center ",l:"left ",r:"right "},Hf=function(u,C){var S=[],ba=new Xb.MathNode("mtd",
[],["mtr-glue"]),ra=new Xb.MathNode("mtd",[],["mml-eqn-num"]);for(var Ka=0;Ka<u.body.length;Ka++){var Na=u.body[Ka],nb=[];for(var Cb=0;Cb<Na.length;Cb++)nb.push(new Xb.MathNode("mtd",[ud(Na[Cb],C)]));u.tags&&u.tags[Ka]&&(nb.unshift(ba),nb.push(ba),u.leqno?nb.unshift(ra):nb.push(ra));S.push(new Xb.MathNode("mtr",nb))}C=new Xb.MathNode("mtable",S);C.setAttribute("rowspacing",fc(.5===u.arraystretch?.1:.16+u.arraystretch-1+(u.addJot?.09:0)));ba=S="";if(u.cols&&0<u.cols.length){ra=u.cols;Ka="";Na=!1;Cb=
0;nb=ra.length;"separator"===ra[0].type&&(S+="top ",Cb=1);"separator"===ra[ra.length-1].type&&(S+="bottom ",--nb);for(;Cb<nb;Cb++)"align"===ra[Cb].type?(ba+=zg[ra[Cb].align],Na&&(Ka+="none "),Na=!0):"separator"===ra[Cb].type&&Na&&(Ka+="|"===ra[Cb].separator?"solid ":"dashed ",Na=!1);C.setAttribute("columnalign",ba.trim());/[sd]/.test(Ka)&&C.setAttribute("columnlines",Ka.trim())}if("align"===u.colSeparationType){ba=u.cols||[];ra="";for(Ka=1;Ka<ba.length;Ka++)ra+=Ka%2?"0em ":"1em ";C.setAttribute("columnspacing",
ra.trim())}else"alignat"===u.colSeparationType||"gather"===u.colSeparationType?C.setAttribute("columnspacing","0em"):"small"===u.colSeparationType?C.setAttribute("columnspacing","0.2778em"):"CD"===u.colSeparationType?C.setAttribute("columnspacing","0.5em"):C.setAttribute("columnspacing","1em");ba="";ra=u.hLinesBeforeRow;S+=0<ra[0].length?"left ":"";S+=0<ra[ra.length-1].length?"right ":"";for(Ka=1;Ka<ra.length-1;Ka++)ba+=0===ra[Ka].length?"none ":ra[Ka][0]?"dashed ":"solid ";/[sd]/.test(ba)&&C.setAttribute("rowlines",
ba.trim());""!==S&&(C=new Xb.MathNode("menclose",[C]),C.setAttribute("notation",S.trim()));u.arraystretch&&1>u.arraystretch&&(C=new Xb.MathNode("mstyle",[C]),C.setAttribute("scriptlevel","1"));return C},Tf=function(u,C){-1===u.envName.indexOf("ed")&&oh(u);const S=[];var ba=-1<u.envName.indexOf("at")?"alignat":"align",ra="split"===u.envName;ba=ea(u.parser,{cols:S,addJot:!0,autoTag:ra?void 0:da(u.envName),emptySingleRow:!0,colSeparationType:ba,maxNumCols:ra?2:void 0,leqno:u.parser.settings.leqno},"display");
let Ka,Na=0;const nb={type:"ordgroup",mode:u.mode,body:[]};if(C[0]&&"ordgroup"===C[0].type){u="";for(ra=0;ra<C[0].body.length;ra++){const Yb=A(C[0].body[ra],"textord");u+=Yb.text}Ka=Number(u);Na=2*Ka}const Cb=!Na;ba.body.forEach(function(Yb){for(var Qc=1;Qc<Yb.length;Qc+=2){const Sc=A(Yb[Qc],"styling");A(Sc.body[0],"ordgroup").body.unshift(nb)}if(Cb)Na<Yb.length&&(Na=Yb.length);else if(Qc=Yb.length/2,Ka<Qc)throw new Ba("Too many math in a row: expected "+(Ka+", but got "+Qc),Yb[0]);});for(C=0;C<Na;++C)u=
"r",ra=0,1===C%2?u="l":0<C&&Cb&&(ra=1),S[C]={type:"align",align:u,pregap:ra,postgap:0};ba.colSeparationType=Cb?"align":"alignat";return ba};aa({type:"array",names:["array","darray"],props:{numArgs:1},handler(u,C){C=(E(C[0])?[C[0]]:A(C[0],"ordgroup").body).map(function(S){const ba=y(S).text;if(-1!=="lcr".indexOf(ba))return{type:"align",align:ba};if("|"===ba)return{type:"separator",separator:"|"};if(":"===ba)return{type:"separator",separator:":"};throw new Ba("Unknown column alignment: "+ba,S);});return ea(u.parser,
{cols:C,hskipBeforeAndAfter:!0,maxNumCols:C.length},za(u.envName))},htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:"matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix matrix* pmatrix* bmatrix* Bmatrix* vmatrix* Vmatrix*".split(" "),props:{numArgs:0},handler(u){const C={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[u.envName.replace("*","")];let S="c";var ba={hskipBeforeAndAfter:!1,cols:[{type:"align",align:S}]};if("*"===
u.envName.charAt(u.envName.length-1)){var ra=u.parser;ra.consumeSpaces();if("["===ra.fetch().text){ra.consume();ra.consumeSpaces();S=ra.fetch().text;if(-1==="lcr".indexOf(S))throw new Ba("Expected l or c or r",ra.nextToken);ra.consume();ra.consumeSpaces();ra.expect("]");ra.consume();ba.cols=[{type:"align",align:S}]}}ba=ea(u.parser,ba,za(u.envName));ra=Math.max(0,...ba.body.map(Ka=>Ka.length));ba.cols=Array(ra).fill({type:"align",align:S});return C?{type:"leftright",mode:u.mode,body:[ba],left:C[0],
right:C[1],rightColor:void 0}:ba},htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(u){u=ea(u.parser,{arraystretch:.5},"script");u.colSeparationType="small";return u},htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["subarray"],props:{numArgs:1},handler(u,C){C=(E(C[0])?[C[0]]:A(C[0],"ordgroup").body).map(function(S){const ba=y(S).text;if(-1!=="lc".indexOf(ba))return{type:"align",align:ba};throw new Ba("Unknown column alignment: "+ba,S);});
if(1<C.length)throw new Ba("{subarray} can contain only one column");C={cols:C,hskipBeforeAndAfter:!1,arraystretch:.5};C=ea(u.parser,C,"script");if(0<C.body.length&&1<C.body[0].length)throw new Ba("{subarray} can contain only one column");return C},htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(u){const C=ea(u.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},
za(u.envName));return{type:"leftright",mode:u.mode,body:[C],left:-1<u.envName.indexOf("r")?".":"\\{",right:-1<u.envName.indexOf("r")?"\\}":".",rightColor:void 0}},htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Tf,htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(u){eb.contains(["gather","gather*"],u.envName)&&oh(u);const C={cols:[{type:"align",align:"c"}],addJot:!0,
colSeparationType:"gather",autoTag:da(u.envName),emptySingleRow:!0,leqno:u.parser.settings.leqno};return ea(u.parser,C,"display")},htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Tf,htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(u){oh(u);const C={autoTag:da(u.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:u.parser.settings.leqno};return ea(u.parser,C,"display")},
htmlBuilder:Me,mathmlBuilder:Hf});aa({type:"array",names:["CD"],props:{numArgs:0},handler(u){oh(u);u=u.parser;const C=[];u.gullet.beginGroup();u.gullet.macros.set("\\cr","\\\\\\relax");for(u.gullet.beginGroup();;){C.push(u.parseExpression(!1,"\\\\"));u.gullet.endGroup();u.gullet.beginGroup();var S=u.fetch().text;if("\x26"===S||"\\\\"===S)u.consume();else if("\\end"===S){0===C[C.length-1].length&&C.pop();break}else throw new Ba("Expected \\\\ or \\cr or \\end",u.nextToken);}let ba=[];S=[ba];for(let Ka=
0;Ka<C.length;Ka++){const Na=C[Ka];var ra=qc();for(let nb=0;nb<Na.length;nb++)if(xc(Na[nb])){ba.push(ra);nb+=1;const Cb=y(Na[nb]).text,Yb=Array(2);Yb[0]={type:"ordgroup",mode:"math",body:[]};Yb[1]={type:"ordgroup",mode:"math",body:[]};if(!(-1<"\x3d|.".indexOf(Cb)))if(-1<"\x3c\x3eAV".indexOf(Cb))for(let Qc=0;2>Qc;Qc++){let Sc=!0;for(let qd=nb+1;qd<Na.length;qd++){ra=Na[qd];if(("mathord"===ra.type||"atom"===ra.type)&&ra.text===Cb){Sc=!1;nb=qd;break}if(xc(Na[qd]))throw new Ba("Missing a "+Cb+" character to complete a CD arrow.",
Na[qd]);Yb[Qc].body.push(Na[qd])}if(Sc)throw new Ba("Missing a "+Cb+" character to complete a CD arrow.",Na[nb]);}else throw new Ba('Expected one of "\x3c\x3eAV\x3d|." after @',Na[nb]);ra={type:"styling",body:[P(Cb,Yb,u)],mode:"math",style:"display"};ba.push(ra);ra=qc()}else ra.body.push(Na[nb]);0===Ka%2?ba.push(ra):ba.shift();ba=[];S.push(ba)}u.gullet.endGroup();u.gullet.endGroup();u=Array(S[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:S,arraystretch:1,
addJot:!0,rowGaps:[null],cols:u,colSeparationType:"CD",hLinesBeforeRow:Array(S.length+1).fill([])}},htmlBuilder:Me,mathmlBuilder:Hf});Wa["\\nonumber"]="\\gdef\\@eqnsw{0}";Wa["\\notag"]="\\nonumber";g({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(u,C){throw new Ba(u.funcName+" valid only within array environment");}});var Jh=fi;g({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(u,C){let {parser:S,funcName:ba}=
u;C=C[0];if("ordgroup"!==C.type)throw new Ba("Invalid environment name",C);u="";for(var ra=0;ra<C.body.length;++ra)u+=A(C.body[ra],"textord").text;if("\\begin"===ba){if(!Jh.hasOwnProperty(u))throw new Ba("No such environment: "+u,C);C=Jh[u];const {args:Ka,optArgs:Na}=S.parseArguments("\\begin{"+u+"}",C);C=C.handler({mode:S.mode,envName:u,parser:S},Ka,Na);S.expect("\\end",!1);ra=S.nextToken;const nb=A(S.parseFunction(),"environment");if(nb.name!==u)throw new Ba("Mismatch: \\begin{"+u+"} matched by \\end{"+
nb.name+"}",ra);return C}return{type:"environment",mode:S.mode,name:u,nameGroup:C}}});const kf=(u,C)=>{C=C.withFont(u.font);return Oc(u.body,C)},Be=(u,C)=>{C=C.withFont(u.font);return ud(u.body,C)},Pf={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};g({type:"font",names:"\\mathrm \\mathit \\mathbf \\mathnormal \\mathbb \\mathcal \\mathfrak \\mathscr \\mathsf \\mathtt \\Bbb \\bold \\frak".split(" "),props:{numArgs:1,allowedInArgument:!0},handler:(u,C)=>{let {parser:S,
funcName:ba}=u;u=lb(C[0]);C=ba;C in Pf&&(C=Pf[C]);return{type:"font",mode:S.mode,font:C.slice(1),body:u}},htmlBuilder:kf,mathmlBuilder:Be});g({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(u,C)=>{({parser:u}=u);C=C[0];const S=eb.isCharacterBox(C);return{type:"mclass",mode:u.mode,mclass:ic(C),body:[{type:"font",mode:u.mode,font:"boldsymbol",body:C}],isCharacterBox:S}}});g({type:"font",names:"\\rm \\sf \\tt \\bf \\it \\cal".split(" "),props:{numArgs:0,allowedInText:!0},handler:(u,
C)=>{let {parser:S,funcName:ba,breakOnTokenText:ra}=u;({mode:u}=S);C=S.parseExpression(!0,ra);const Ka="math"+ba.slice(1);return{type:"font",mode:u,font:Ka,body:{type:"ordgroup",mode:S.mode,body:C}}},htmlBuilder:kf,mathmlBuilder:Be});const kh=(u,C)=>{"display"===u?C=C.id>=Ab.id?C.text():Qa:"text"===u&&C.size===Qa.size?C=cb:"script"===u?C=Ab:"scriptscript"===u&&(C=ma);return C},ph=(u,C)=>{const S=kh(u.size,C.style);var ba=S.fracNum(),ra=S.fracDen();var Ka=C.havingStyle(ba);ba=Oc(u.numer,Ka,C);if(u.continued){Ka=
8.5/C.fontMetrics().ptPerEm;var Na=3.5/C.fontMetrics().ptPerEm;ba.height=ba.height<Ka?Ka:ba.height;ba.depth=ba.depth<Na?Na:ba.depth}Ka=C.havingStyle(ra);Ka=Oc(u.denom,Ka,C);let nb;if(u.hasBarLine){u.barSize?(nb=hd(u.barSize,C),Na=Nb.makeLineSpan("frac-line",C,nb)):Na=Nb.makeLineSpan("frac-line",C);var Cb=nb=Na.height}else Na=null,nb=0,Cb=C.fontMetrics().defaultRuleThickness;let Yb;S.size===Qa.size||"display"===u.size?(ra=C.fontMetrics().num1,Cb=0<nb?3*Cb:7*Cb,Yb=C.fontMetrics().denom1):(0<nb?ra=C.fontMetrics().num2:
(ra=C.fontMetrics().num3,Cb*=3),Yb=C.fontMetrics().denom2);if(Na){const Qc=C.fontMetrics().axisHeight;ra-ba.depth-(Qc+.5*nb)<Cb&&(ra+=Cb-(ra-ba.depth-(Qc+.5*nb)));Qc-.5*nb-(Ka.height-Yb)<Cb&&(Yb+=Cb-(Qc-.5*nb-(Ka.height-Yb)));ba=Nb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ka,shift:Yb},{type:"elem",elem:Na,shift:-(Qc-.5*nb)},{type:"elem",elem:ba,shift:-ra}]},C)}else Na=ra-ba.depth-(Ka.height-Yb),Na<Cb&&(ra+=.5*(Cb-Na),Yb+=.5*(Cb-Na)),ba=Nb.makeVList({positionType:"individualShift",
children:[{type:"elem",elem:Ka,shift:Yb},{type:"elem",elem:ba,shift:-ra}]},C);Ka=C.havingStyle(S);ba.height*=Ka.sizeMultiplier/C.sizeMultiplier;ba.depth*=Ka.sizeMultiplier/C.sizeMultiplier;Na=S.size===Qa.size?C.fontMetrics().delim1:S.size===ma.size?C.havingStyle(Ab).fontMetrics().delim2:C.fontMetrics().delim2;ra=null==u.leftDelim?zc(C,["mopen"]):sf.customSizedDelim(u.leftDelim,Na,!0,C.havingStyle(S),u.mode,["mopen"]);u=u.continued?Nb.makeSpan([]):null==u.rightDelim?zc(C,["mclose"]):sf.customSizedDelim(u.rightDelim,
Na,!0,C.havingStyle(S),u.mode,["mclose"]);return Nb.makeSpan(["mord"].concat(Ka.sizingClasses(C)),[ra,Nb.makeSpan(["mfrac"],[ba]),u],C)},Zg=(u,C)=>{let S=new Xb.MathNode("mfrac",[ud(u.numer,C),ud(u.denom,C)]);if(!u.hasBarLine)S.setAttribute("linethickness","0px");else if(u.barSize){var ba=hd(u.barSize,C);S.setAttribute("linethickness",fc(ba))}ba=kh(u.size,C.style);ba.size!==C.style.size&&(S=new Xb.MathNode("mstyle",[S]),S.setAttribute("displaystyle",ba.size===Qa.size?"true":"false"),S.setAttribute("scriptlevel",
"0"));return null!=u.leftDelim||null!=u.rightDelim?(C=[],null!=u.leftDelim&&(ba=new Xb.MathNode("mo",[new Xb.TextNode(u.leftDelim.replace("\\",""))]),ba.setAttribute("fence","true"),C.push(ba)),C.push(S),null!=u.rightDelim&&(u=new Xb.MathNode("mo",[new Xb.TextNode(u.rightDelim.replace("\\",""))]),u.setAttribute("fence","true"),C.push(u)),id(C)):S};g({type:"genfrac",names:"\\dfrac \\frac \\tfrac \\dbinom \\binom \\tbinom \\\\atopfrac \\\\bracefrac \\\\brackfrac".split(" "),props:{numArgs:2,allowedInArgument:!0},
handler:(u,C)=>{let {parser:S,funcName:ba}=u;u=C[0];C=C[1];let ra,Ka=null,Na=null,nb="auto";switch(ba){case "\\dfrac":case "\\frac":case "\\tfrac":ra=!0;break;case "\\\\atopfrac":ra=!1;break;case "\\dbinom":case "\\binom":case "\\tbinom":ra=!1;Ka="(";Na=")";break;case "\\\\bracefrac":ra=!1;Ka="\\{";Na="\\}";break;case "\\\\brackfrac":ra=!1;Ka="[";Na="]";break;default:throw Error("Unrecognized genfrac command");}switch(ba){case "\\dfrac":case "\\dbinom":nb="display";break;case "\\tfrac":case "\\tbinom":nb=
"text"}return{type:"genfrac",mode:S.mode,continued:!1,numer:u,denom:C,hasBarLine:ra,leftDelim:Ka,rightDelim:Na,size:nb,barSize:null}},htmlBuilder:ph,mathmlBuilder:Zg});g({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(u,C)=>{({parser:u}=u);return{type:"genfrac",mode:u.mode,continued:!0,numer:C[0],denom:C[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});g({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(u){let {parser:C,
funcName:S,token:ba}=u;switch(S){case "\\over":u="\\frac";break;case "\\choose":u="\\binom";break;case "\\atop":u="\\\\atopfrac";break;case "\\brace":u="\\\\bracefrac";break;case "\\brack":u="\\\\brackfrac";break;default:throw Error("Unrecognized infix genfrac command");}return{type:"infix",mode:C.mode,replaceWith:u,token:ba}}});const Kh=["display","text","script","scriptscript"],Ai=function(u){let C=null;0<u.length&&(C=u,C="."===C?null:C);return C};g({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,
allowedInArgument:!0,argTypes:"math math size text math math".split(" ")},handler(u,C){({parser:u}=u);const S=C[4],ba=C[5];var ra=lb(C[0]);ra="atom"===ra.type&&"open"===ra.family?Ai(ra.text):null;var Ka=lb(C[1]);Ka="atom"===Ka.type&&"close"===Ka.family?Ai(Ka.text):null;var Na=A(C[2],"size");let nb=null;Na.isBlank?Na=!0:(nb=Na.value,Na=0<nb.number);let Cb="auto";C=C[3];"ordgroup"===C.type?0<C.body.length&&(C=A(C.body[0],"textord"),Cb=Kh[Number(C.text)]):(C=A(C,"textord"),Cb=Kh[Number(C.text)]);return{type:"genfrac",
mode:u.mode,numer:S,denom:ba,continued:!1,hasBarLine:Na,barSize:nb,leftDelim:ra,rightDelim:Ka,size:Cb}},htmlBuilder:ph,mathmlBuilder:Zg});g({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(u,C){let {parser:S,token:ba}=u;return{type:"infix",mode:S.mode,replaceWith:"\\\\abovefrac",size:A(C[0],"size").value,token:ba}}});g({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(u,C)=>{({parser:u}=u);const S=C[0];var ba=A(C[1],
"infix").size;if(!ba)throw Error("Expected non-null, but got "+String(ba));return{type:"genfrac",mode:u.mode,numer:S,denom:C[2],continued:!1,hasBarLine:0<ba.number,barSize:ba,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ph,mathmlBuilder:Zg});const qg=(u,C)=>{var S=C.style;let ba;"supsub"===u.type?(ba=u.sup?Oc(u.sup,C.havingStyle(S.sup()),C):Oc(u.sub,C.havingStyle(S.sub()),C),u=A(u.base,"horizBrace")):u=A(u,"horizBrace");S=Oc(u.base,C.havingBaseStyle(Qa));const ra=he.svgSpan(u,C);u.isOver?
(S=Nb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S},{type:"kern",size:.1},{type:"elem",elem:ra}]},C),S.children[0].children[0].children[1].classes.push("svg-align")):(S=Nb.makeVList({positionType:"bottom",positionData:S.depth+.1+ra.height,children:[{type:"elem",elem:ra},{type:"kern",size:.1},{type:"elem",elem:S}]},C),S.children[0].children[0].children[0].classes.push("svg-align"));ba&&(S=Nb.makeSpan(["mord",u.isOver?"mover":"munder"],[S],C),S=u.isOver?Nb.makeVList({positionType:"firstBaseline",
children:[{type:"elem",elem:S},{type:"kern",size:.2},{type:"elem",elem:ba}]},C):Nb.makeVList({positionType:"bottom",positionData:S.depth+.2+ba.height+ba.depth,children:[{type:"elem",elem:ba},{type:"kern",size:.2},{type:"elem",elem:S}]},C));return Nb.makeSpan(["mord",u.isOver?"mover":"munder"],[S],C)};g({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(u,C){let {parser:S,funcName:ba}=u;return{type:"horizBrace",mode:S.mode,label:ba,isOver:/^\\over/.test(ba),base:C[0]}},
htmlBuilder:qg,mathmlBuilder:(u,C)=>{const S=he.mathMLnode(u.label);return new Xb.MathNode(u.isOver?"mover":"munder",[ud(u.base,C),S])}});g({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(u,C)=>{({parser:u}=u);const S=C[1];C=A(C[0],"url").url;return u.settings.isTrusted({command:"\\href",url:C})?{type:"href",mode:u.mode,href:C,body:yb(S)}:u.formatUnsupportedCmd("\\href")},htmlBuilder:(u,C)=>{const S=Wb(u.body,C,!1);return Nb.makeAnchor(u.href,
[],S,C)},mathmlBuilder:(u,C)=>{C=id(ad(u.body,C,void 0));C instanceof Uc||(C=new Uc("mrow",[C]));C.setAttribute("href",u.href);return C}});g({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(u,C)=>{({parser:u}=u);C=A(C[0],"url").url;if(!u.settings.isTrusted({command:"\\url",url:C}))return u.formatUnsupportedCmd("\\url");const S=[];for(let ba=0;ba<C.length;ba++){let ra=C[ba];"~"===ra&&(ra="\\textasciitilde");S.push({type:"textord",mode:"text",text:ra})}return{type:"href",
mode:u.mode,href:C,body:yb({type:"text",mode:u.mode,font:"\\texttt",body:S})}}});g({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(u,C){({parser:u}=u);return{type:"hbox",mode:u.mode,body:yb(C[0])}},htmlBuilder(u,C){u=Wb(u.body,C,!1);return Nb.makeFragment(u)},mathmlBuilder(u,C){return new Xb.MathNode("mrow",ad(u.body,C))}});g({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],
allowedInText:!0},handler:(u,C)=>{let {parser:S,funcName:ba}=u;var ra=A(C[0],"raw").string;C=C[1];S.settings.strict&&S.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");u={};switch(ba){case "\\htmlClass":u.class=ra;ra={command:"\\htmlClass",class:ra};break;case "\\htmlId":u.id=ra;ra={command:"\\htmlId",id:ra};break;case "\\htmlStyle":u.style=ra;ra={command:"\\htmlStyle",style:ra};break;case "\\htmlData":ra=ra.split(",");for(let Ka=0;Ka<ra.length;Ka++){const Na=
ra[Ka].split("\x3d");if(2!==Na.length)throw new Ba("Error parsing key-value for \\htmlData");u["data-"+Na[0].trim()]=Na[1].trim()}ra={command:"\\htmlData",attributes:u};break;default:throw Error("Unrecognized html command");}return S.settings.isTrusted(ra)?{type:"html",mode:S.mode,attributes:u,body:yb(C)}:S.formatUnsupportedCmd(ba)},htmlBuilder:(u,C)=>{const S=Wb(u.body,C,!1),ba=["enclosing"];u.attributes.class&&ba.push(...u.attributes.class.trim().split(/\s+/));C=Nb.makeSpan(ba,S,C);for(const ra in u.attributes)"class"!==
ra&&u.attributes.hasOwnProperty(ra)&&C.setAttribute(ra,u.attributes[ra]);return C},mathmlBuilder:(u,C)=>id(ad(u.body,C,void 0))});g({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(u,C)=>{({parser:u}=u);return{type:"htmlmathml",mode:u.mode,html:yb(C[0]),mathml:yb(C[1])}},htmlBuilder:(u,C)=>{u=Wb(u.html,C,!1);return Nb.makeFragment(u)},mathmlBuilder:(u,C)=>id(ad(u.mathml,C,void 0))});const Df=function(u){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(u))return{number:+u,
unit:"bp"};const C=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(u);if(!C)throw new Ba("Invalid size: '"+u+"' in \\includegraphics");u={number:+(C[1]+C[2]),unit:C[3]};if(!bd(u))throw new Ba("Invalid unit: '"+u.unit+"' in \\includegraphics.");return u};g({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(u,C,S)=>{({parser:u}=u);let ba={number:0,unit:"em"},ra={number:.9,unit:"em"},Ka={number:0,unit:"em"},Na="";
if(S[0]){S=A(S[0],"raw").string.split(",");for(let nb=0;nb<S.length;nb++){const Cb=S[nb].split("\x3d");if(2===Cb.length){const Yb=Cb[1].trim();switch(Cb[0].trim()){case "alt":Na=Yb;break;case "width":ba=Df(Yb);break;case "height":ra=Df(Yb);break;case "totalheight":Ka=Df(Yb);break;default:throw new Ba("Invalid key: '"+Cb[0]+"' in \\includegraphics.");}}}}C=A(C[0],"url").url;""===Na&&(Na=C.replace(/^.*[\\/]/,""),Na=Na.substring(0,Na.lastIndexOf(".")));return u.settings.isTrusted({command:"\\includegraphics",
url:C})?{type:"includegraphics",mode:u.mode,alt:Na,width:ba,height:ra,totalheight:Ka,src:C}:u.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(u,C)=>{const S=hd(u.height,C);let ba=0;0<u.totalheight.number&&(ba=hd(u.totalheight,C)-S);let ra=0;0<u.width.number&&(ra=hd(u.width,C));C={height:fc(S+ba)};0<ra&&(C.width=fc(ra));0<ba&&(C.verticalAlign=fc(-ba));u=new Ce(u.src,u.alt,C);u.height=S;u.depth=ba;return u},mathmlBuilder:(u,C)=>{const S=new Xb.MathNode("mglyph",[]);S.setAttribute("alt",u.alt);
const ba=hd(u.height,C);let ra=0;0<u.totalheight.number&&(ra=hd(u.totalheight,C)-ba,S.setAttribute("valign",fc(-ra)));S.setAttribute("height",fc(ba+ra));0<u.width.number&&(C=hd(u.width,C),S.setAttribute("width",fc(C)));S.setAttribute("src",u.src);return S}});g({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(u,C){let {parser:S,funcName:ba}=u;u=A(C[0],"size");S.settings.strict&&(C="mu"===u.value.unit,"m"===ba[1]?(C||
S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+ba+" supports only mu units, not "+(u.value.unit+" units")),"math"!==S.mode&&S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+ba+" works only in math mode")):C&&S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+ba+" doesn't support mu units"));return{type:"kern",mode:S.mode,dimension:u.value}},htmlBuilder(u,C){return Nb.makeGlue(u.dimension,C)},mathmlBuilder(u,C){u=hd(u.dimension,C);return new Xb.SpaceNode(u)}});g({type:"lap",names:["\\mathllap",
"\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(u,C)=>{let {parser:S,funcName:ba}=u;u=C[0];return{type:"lap",mode:S.mode,alignment:ba.slice(5),body:u}},htmlBuilder:(u,C)=>{if("clap"===u.alignment){var S=Nb.makeSpan([],[Oc(u.body,C)]);S=Nb.makeSpan(["inner"],[S],C)}else S=Nb.makeSpan(["inner"],[Oc(u.body,C)]);const ba=Nb.makeSpan(["fix"],[]);u=Nb.makeSpan([u.alignment],[S,ba],C);S=Nb.makeSpan(["strut"]);S.style.height=fc(u.height+u.depth);u.depth&&(S.style.verticalAlign=fc(-u.depth));
u.children.unshift(S);u=Nb.makeSpan(["thinbox"],[u],C);return Nb.makeSpan(["mord","vbox"],[u],C)},mathmlBuilder:(u,C)=>{C=new Xb.MathNode("mpadded",[ud(u.body,C)]);"rlap"!==u.alignment&&C.setAttribute("lspace",("llap"===u.alignment?"-1":"-0.5")+"width");C.setAttribute("width","0px");return C}});g({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(u,C){let {funcName:S,parser:ba}=u;u=ba.mode;ba.switchMode("math");C="\\("===S?"\\)":"$";const ra=ba.parseExpression(!1,
C);ba.expect(C);ba.switchMode(u);return{type:"styling",mode:ba.mode,style:"text",body:ra}}});g({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(u,C){throw new Ba("Mismatched "+u.funcName);}});const rg=(u,C)=>{switch(C.style.size){case Qa.size:return u.display;case cb.size:return u.text;case Ab.size:return u.script;case ma.size:return u.scriptscript;default:return u.text}};g({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(u,
C)=>{({parser:u}=u);return{type:"mathchoice",mode:u.mode,display:yb(C[0]),text:yb(C[1]),script:yb(C[2]),scriptscript:yb(C[3])}},htmlBuilder:(u,C)=>{u=rg(u,C);C=Wb(u,C,!1);return Nb.makeFragment(C)},mathmlBuilder:(u,C)=>{u=rg(u,C);return id(ad(u,C,void 0))}});const qh=(u,C,S,ba,ra,Ka,Na)=>{u=Nb.makeSpan([],[u]);var nb=S&&eb.isCharacterBox(S);if(C){var Cb=Oc(C,ba.havingStyle(ra.sup()),ba);Cb={elem:Cb,kern:Math.max(ba.fontMetrics().bigOpSpacing1,ba.fontMetrics().bigOpSpacing3-Cb.depth)}}if(S){var Yb=
Oc(S,ba.havingStyle(ra.sub()),ba);Yb={elem:Yb,kern:Math.max(ba.fontMetrics().bigOpSpacing2,ba.fontMetrics().bigOpSpacing4-Yb.height)}}if(Cb&&Yb)Na=ba.fontMetrics().bigOpSpacing5+Yb.elem.height+Yb.elem.depth+Yb.kern+u.depth+Na,u=Nb.makeVList({positionType:"bottom",positionData:Na,children:[{type:"kern",size:ba.fontMetrics().bigOpSpacing5},{type:"elem",elem:Yb.elem,marginLeft:fc(-Ka)},{type:"kern",size:Yb.kern},{type:"elem",elem:u},{type:"kern",size:Cb.kern},{type:"elem",elem:Cb.elem,marginLeft:fc(Ka)},
{type:"kern",size:ba.fontMetrics().bigOpSpacing5}]},ba);else if(Yb)u=Nb.makeVList({positionType:"top",positionData:u.height-Na,children:[{type:"kern",size:ba.fontMetrics().bigOpSpacing5},{type:"elem",elem:Yb.elem,marginLeft:fc(-Ka)},{type:"kern",size:Yb.kern},{type:"elem",elem:u}]},ba);else if(Cb)u=Nb.makeVList({positionType:"bottom",positionData:u.depth+Na,children:[{type:"elem",elem:u},{type:"kern",size:Cb.kern},{type:"elem",elem:Cb.elem,marginLeft:fc(Ka)},{type:"kern",size:ba.fontMetrics().bigOpSpacing5}]},
ba);else return u;u=[u];Yb&&0!==Ka&&!nb&&(nb=Nb.makeSpan(["mspace"],[],ba),nb.style.marginRight=fc(Ka),u.unshift(nb));return Nb.makeSpan(["mop","op-limits"],u,ba)},Uf=["\\smallint"],Jf=(u,C)=>{let S,ba,ra=!1;"supsub"===u.type?(S=u.sup,ba=u.sub,u=A(u.base,"op"),ra=!0):u=A(u,"op");const Ka=C.style;var Na=!1;Ka.size===Qa.size&&u.symbol&&!eb.contains(Uf,u.name)&&(Na=!0);if(u.symbol){var nb=Na?"Size2-Regular":"Size1-Regular";var Cb="";if("\\oiint"===u.name||"\\oiiint"===u.name)Cb=u.name.slice(1),u.name=
"oiint"===Cb?"\\iint":"\\iiint";nb=Nb.makeSymbol(u.name,nb,"math",C,["mop","op-symbol",Na?"large-op":"small-op"]);if(0<Cb.length){const Yb=nb.italic,Qc=Nb.staticSvg(Cb+"Size"+(Na?"2":"1"),C);nb=Nb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:nb,shift:0},{type:"elem",elem:Qc,shift:Na?.08:0}]},C);u.name="\\"+Cb;nb.classes.unshift("mop");nb.italic=Yb}}else if(u.body)nb=Wb(u.body,C,!0),1===nb.length&&nb[0]instanceof ke?(nb=nb[0],nb.classes[0]="mop"):nb=Nb.makeSpan(["mop"],nb,
C);else{nb=[];for(Na=1;Na<u.name.length;Na++)nb.push(Nb.mathsym(u.name[Na],u.mode,C));nb=Nb.makeSpan(["mop"],nb,C)}Cb=Na=0;(nb instanceof ke||"\\oiint"===u.name||"\\oiiint"===u.name)&&!u.suppressBaseShift&&(Na=(nb.height-nb.depth)/2-C.fontMetrics().axisHeight,Cb=nb.italic);if(ra)return qh(nb,S,ba,C,Ka,Cb,Na);Na&&(nb.style.position="relative",nb.style.top=fc(Na));return nb},Af=(u,C)=>{if(u.symbol)C=new Uc("mo",[Xd(u.name,u.mode)]),eb.contains(Uf,u.name)&&C.setAttribute("largeop","false");else if(u.body)C=
new Uc("mo",ad(u.body,C));else{C=new Uc("mi",[new Ad(u.name.slice(1))]);const S=new Uc("mo",[Xd("⁡","text")]);C=u.parentIsSupSub?new Uc("mrow",[C,S]):t([C,S])}return C},$f={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};g({type:"op",names:"\\coprod \\bigvee \\bigwedge \\biguplus \\bigcap \\bigcup \\intop \\prod \\sum \\bigotimes \\bigoplus \\bigodot \\bigsqcup \\smallint ∏ ∐ ∑ ⋀ ⋁ ⋂ ⋃ ⨀ ⨁ ⨂ ⨄ ⨆".split(" "),
props:{numArgs:0},handler:(u,C)=>{let {parser:S,funcName:ba}=u;u=ba;1===u.length&&(u=$f[u]);return{type:"op",mode:S.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:u}},htmlBuilder:Jf,mathmlBuilder:Af});g({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(u,C)=>{({parser:u}=u);return{type:"op",mode:u.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:yb(C[0])}},htmlBuilder:Jf,mathmlBuilder:Af});const ag={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};
g({type:"op",names:"\\arcsin \\arccos \\arctan \\arctg \\arcctg \\arg \\ch \\cos \\cosec \\cosh \\cot \\cotg \\coth \\csc \\ctg \\cth \\deg \\dim \\exp \\hom \\ker \\lg \\ln \\log \\sec \\sin \\sinh \\sh \\tan \\tanh \\tg \\th".split(" "),props:{numArgs:0},handler(u){let {parser:C,funcName:S}=u;return{type:"op",mode:C.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:S}},htmlBuilder:Jf,mathmlBuilder:Af});g({type:"op",names:"\\det \\gcd \\inf \\lim \\max \\min \\Pr \\sup".split(" "),props:{numArgs:0},
handler(u){let {parser:C,funcName:S}=u;return{type:"op",mode:C.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:S}},htmlBuilder:Jf,mathmlBuilder:Af});g({type:"op",names:"\\int \\iint \\iiint \\oint \\oiint \\oiiint ∫ ∬ ∭ ∮ ∯ ∰".split(" "),props:{numArgs:0},handler(u){let {parser:C,funcName:S}=u;u=S;1===u.length&&(u=ag[u]);return{type:"op",mode:C.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:u}},htmlBuilder:Jf,mathmlBuilder:Af});const sg=(u,C)=>{let S,ba,ra=!1;"supsub"===u.type?(S=u.sup,ba=u.sub,
u=A(u.base,"operatorname"),ra=!0):u=A(u,"operatorname");if(0<u.body.length){u=u.body.map(Ka=>{const Na=Ka.text;return"string"===typeof Na?{type:"textord",mode:Ka.mode,text:Na}:Ka});u=Wb(u,C.withFont("mathrm"),!0);for(let Ka=0;Ka<u.length;Ka++){const Na=u[Ka];Na instanceof ke&&(Na.text=Na.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}u=Nb.makeSpan(["mop"],u,C)}else u=Nb.makeSpan(["mop"],[],C);return ra?qh(u,S,ba,C,C.style,0,0):u};g({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],
props:{numArgs:1},handler:(u,C)=>{let {parser:S,funcName:ba}=u;return{type:"operatorname",mode:S.mode,body:yb(C[0]),alwaysHandleSupSub:"\\operatornamewithlimits"===ba,limits:!1,parentIsSupSub:!1}},htmlBuilder:sg,mathmlBuilder:(u,C)=>{C=ad(u.body,C.withFont("mathrm"));var S=!0;for(let ba=0;ba<C.length;ba++){const ra=C[ba];if(!(ra instanceof Xb.SpaceNode))if(ra instanceof Xb.MathNode)switch(ra.type){case "mi":case "mn":case "ms":case "mspace":case "mtext":break;case "mo":const Ka=ra.children[0];1===
ra.children.length&&Ka instanceof Xb.TextNode?Ka.text=Ka.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):S=!1;break;default:S=!1}else S=!1}S&&(C=C.map(ba=>ba.toText()).join(""),C=[new Xb.TextNode(C)]);C=new Xb.MathNode("mi",C);C.setAttribute("mathvariant","normal");S=new Xb.MathNode("mo",[Xd("⁡","text")]);return u.parentIsSupSub?new Xb.MathNode("mrow",[C,S]):Xb.newDocumentFragment([C,S])}});Wa["\\operatorname"]="\\@ifstar\\operatornamewithlimits\\operatorname@";h({type:"ordgroup",htmlBuilder(u,C){return u.semisimple?
Nb.makeFragment(Wb(u.body,C,!1)):Nb.makeSpan(["mord"],Wb(u.body,C,!0),C)},mathmlBuilder(u,C){return id(ad(u.body,C,!0))}});g({type:"overline",names:["\\overline"],props:{numArgs:1},handler(u,C){({parser:u}=u);return{type:"overline",mode:u.mode,body:C[0]}},htmlBuilder(u,C){u=Oc(u.body,C.havingCrampedStyle());const S=Nb.makeLineSpan("overline-line",C),ba=C.fontMetrics().defaultRuleThickness;u=Nb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:3*ba},{type:"elem",
elem:S},{type:"kern",size:ba}]},C);return Nb.makeSpan(["mord","overline"],[u],C)},mathmlBuilder(u,C){const S=new Xb.MathNode("mo",[new Xb.TextNode("‾")]);S.setAttribute("stretchy","true");u=new Xb.MathNode("mover",[ud(u.body,C),S]);u.setAttribute("accent","true");return u}});g({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(u,C)=>{({parser:u}=u);return{type:"phantom",mode:u.mode,body:yb(C[0])}},htmlBuilder:(u,C)=>{u=Wb(u.body,C.withPhantom(),!1);return Nb.makeFragment(u)},
mathmlBuilder:(u,C)=>{u=ad(u.body,C);return new Xb.MathNode("mphantom",u)}});g({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(u,C)=>{({parser:u}=u);return{type:"hphantom",mode:u.mode,body:C[0]}},htmlBuilder:(u,C)=>{u=Nb.makeSpan([],[Oc(u.body,C.withPhantom())]);u.height=0;u.depth=0;if(u.children)for(let S=0;S<u.children.length;S++)u.children[S].height=0,u.children[S].depth=0;u=Nb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u}]},C);return Nb.makeSpan(["mord"],
[u],C)},mathmlBuilder:(u,C)=>{u=ad(yb(u.body),C);u=new Xb.MathNode("mphantom",u);u=new Xb.MathNode("mpadded",[u]);u.setAttribute("height","0px");u.setAttribute("depth","0px");return u}});g({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(u,C)=>{({parser:u}=u);return{type:"vphantom",mode:u.mode,body:C[0]}},htmlBuilder:(u,C)=>{u=Nb.makeSpan(["inner"],[Oc(u.body,C.withPhantom())]);const S=Nb.makeSpan(["fix"],[]);return Nb.makeSpan(["mord","rlap"],[u,S],C)},mathmlBuilder:(u,
C)=>{u=ad(yb(u.body),C);u=new Xb.MathNode("mphantom",u);u=new Xb.MathNode("mpadded",[u]);u.setAttribute("width","0px");return u}});g({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(u,C){({parser:u}=u);const S=A(C[0],"size").value;return{type:"raisebox",mode:u.mode,dy:S,body:C[1]}},htmlBuilder(u,C){const S=Oc(u.body,C);u=hd(u.dy,C);return Nb.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:S}]},C)},mathmlBuilder(u,
C){C=new Xb.MathNode("mpadded",[ud(u.body,C)]);C.setAttribute("voffset",u.dy.number+u.dy.unit);return C}});g({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(u){({parser:u}=u);return{type:"internal",mode:u.mode}}});g({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(u,C,S){({parser:u}=u);S=S[0];const ba=A(C[0],"size");C=A(C[1],"size");return{type:"rule",mode:u.mode,shift:S&&A(S,"size").value,width:ba.value,height:C.value}},
htmlBuilder(u,C){const S=Nb.makeSpan(["mord","rule"],[],C),ba=hd(u.width,C),ra=hd(u.height,C);u=u.shift?hd(u.shift,C):0;S.style.borderRightWidth=fc(ba);S.style.borderTopWidth=fc(ra);S.style.bottom=fc(u);S.width=ba;S.height=ra+u;S.depth=-u;S.maxFontSize=1.125*ra*C.sizeMultiplier;return S},mathmlBuilder(u,C){var S=hd(u.width,C);const ba=hd(u.height,C);u=u.shift?hd(u.shift,C):0;C=C.color&&C.getColor()||"black";const ra=new Xb.MathNode("mspace");ra.setAttribute("mathbackground",C);ra.setAttribute("width",
fc(S));ra.setAttribute("height",fc(ba));S=new Xb.MathNode("mpadded",[ra]);0<=u?S.setAttribute("height",fc(u)):(S.setAttribute("height",fc(u)),S.setAttribute("depth",fc(-u)));S.setAttribute("voffset",fc(u));return S}});const Zf="\\tiny \\sixptsize \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" ");g({type:"sizing",names:Zf,props:{numArgs:0,allowedInText:!0},handler:(u,C)=>{let {breakOnTokenText:S,funcName:ba,parser:ra}=u;u=ra.parseExpression(!1,S);return{type:"sizing",
mode:ra.mode,size:Zf.indexOf(ba)+1,body:u}},htmlBuilder:(u,C)=>{const S=C.havingSize(u.size);return Ea(u.body,S,C)},mathmlBuilder:(u,C)=>{C=C.havingSize(u.size);u=ad(u.body,C);u=new Xb.MathNode("mstyle",u);u.setAttribute("mathsize",fc(C.sizeMultiplier));return u}});g({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(u,C,S)=>{({parser:u}=u);let ba=!1,ra=!1;if(S=S[0]&&A(S[0],"ordgroup")){let Ka;for(let Na=0;Na<S.body.length;++Na)if(Ka=S.body[Na].text,"t"===
Ka)ba=!0;else if("b"===Ka)ra=!0;else{ra=ba=!1;break}}else ra=ba=!0;return{type:"smash",mode:u.mode,body:C[0],smashHeight:ba,smashDepth:ra}},htmlBuilder:(u,C)=>{var S=Nb.makeSpan([],[Oc(u.body,C)]);if(!u.smashHeight&&!u.smashDepth)return S;if(u.smashHeight&&(S.height=0,S.children))for(let ba=0;ba<S.children.length;ba++)S.children[ba].height=0;if(u.smashDepth&&(S.depth=0,S.children))for(u=0;u<S.children.length;u++)S.children[u].depth=0;S=Nb.makeVList({positionType:"firstBaseline",children:[{type:"elem",
elem:S}]},C);return Nb.makeSpan(["mord"],[S],C)},mathmlBuilder:(u,C)=>{C=new Xb.MathNode("mpadded",[ud(u.body,C)]);u.smashHeight&&C.setAttribute("height","0px");u.smashDepth&&C.setAttribute("depth","0px");return C}});g({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(u,C,S){({parser:u}=u);return{type:"sqrt",mode:u.mode,body:C[0],index:S[0]}},htmlBuilder(u,C){var S=Oc(u.body,C.havingCrampedStyle());0===S.height&&(S.height=C.fontMetrics().xHeight);S=Nb.wrapFragment(S,C);var ba=
C.fontMetrics().defaultRuleThickness,ra=ba;C.style.id<cb.id&&(ra=C.fontMetrics().xHeight);ra=ba+ra/4;const {span:Ka,ruleWidth:Na,advanceWidth:nb}=sf.sqrtImage(S.height+S.depth+ra+ba,C);ba=Ka.height-Na;ba>S.height+S.depth+ra&&(ra=(ra+ba-S.height-S.depth)/2);ba=Ka.height-S.height-ra-Na;S.style.paddingLeft=fc(nb);S=Nb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:-(S.height+ba)},{type:"elem",elem:Ka},{type:"kern",size:Na}]},C);return u.index?
(ba=C.havingStyle(ma),u=Oc(u.index,ba,C),u=Nb.makeVList({positionType:"shift",positionData:-(.6*(S.height-S.depth)),children:[{type:"elem",elem:u}]},C),u=Nb.makeSpan(["root"],[u]),Nb.makeSpan(["mord","sqrt"],[u,S],C)):Nb.makeSpan(["mord","sqrt"],[S],C)},mathmlBuilder(u,C){const {body:S,index:ba}=u;return ba?new Xb.MathNode("mroot",[ud(S,C),ud(ba,C)]):new Xb.MathNode("msqrt",[ud(S,C)])}});const $g={display:Qa,text:cb,script:Ab,scriptscript:ma};g({type:"styling",names:["\\displaystyle","\\textstyle",
"\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(u,C){let {breakOnTokenText:S,funcName:ba,parser:ra}=u;u=ra.parseExpression(!0,S);C=ba.slice(1,ba.length-5);return{type:"styling",mode:ra.mode,style:C,body:u}},htmlBuilder(u,C){const S=C.havingStyle($g[u.style]).withFont("");return Ea(u.body,S,C)},mathmlBuilder(u,C){C=C.havingStyle($g[u.style]);C=ad(u.body,C);C=new Xb.MathNode("mstyle",C);u={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2",
"false"]}[u.style];C.setAttribute("scriptlevel",u[0]);C.setAttribute("displaystyle",u[1]);return C}});h({type:"supsub",htmlBuilder(u,C){var S;if(S=(S=u.base)?"op"===S.type?S.limits&&(C.style.size===Qa.size||S.alwaysHandleSupSub)?Jf:null:"operatorname"===S.type?S.alwaysHandleSupSub&&(C.style.size===Qa.size||S.limits)?sg:null:"accent"===S.type?eb.isCharacterBox(S.base)?Id:null:"horizBrace"===S.type?!u.sub===S.isOver?qg:null:null:null)return S(u,C);const {base:ba,sup:ra,sub:Ka}=u;S=Oc(ba,C);const Na=
C.fontMetrics();let nb=0,Cb=0;var Yb=ba&&eb.isCharacterBox(ba);if(ra){var Qc=C.havingStyle(C.style.sup());var Sc=Oc(ra,Qc,C);Yb||(nb=S.height-Qc.fontMetrics().supDrop*Qc.sizeMultiplier/C.sizeMultiplier)}if(Ka){Qc=C.havingStyle(C.style.sub());var qd=Oc(Ka,Qc,C);Yb||(Cb=S.depth+Qc.fontMetrics().subDrop*Qc.sizeMultiplier/C.sizeMultiplier)}let Ud;Ud=C.style===Qa?Na.sup1:C.style.cramped?Na.sup3:Na.sup2;Yb=fc(.5/Na.ptPerEm/C.sizeMultiplier);Qc=null;qd&&(u=u.base&&"op"===u.base.type&&u.base.name&&("\\oiint"===
u.base.name||"\\oiiint"===u.base.name),S instanceof ke||u)&&(Qc=fc(-S.italic));if(Sc&&qd)nb=Math.max(nb,Ud,Sc.depth+.25*Na.xHeight),Cb=Math.max(Cb,Na.sub2),u=4*Na.defaultRuleThickness,nb-Sc.depth-(qd.height-Cb)<u&&(Cb=u-(nb-Sc.depth)+qd.height,u=.8*Na.xHeight-(nb-Sc.depth),0<u&&(nb+=u,Cb-=u)),Sc=Nb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:qd,shift:Cb,marginRight:Yb,marginLeft:Qc},{type:"elem",elem:Sc,shift:-nb,marginRight:Yb}]},C);else if(qd)Cb=Math.max(Cb,Na.sub1,qd.height-
.8*Na.xHeight),Sc=Nb.makeVList({positionType:"shift",positionData:Cb,children:[{type:"elem",elem:qd,marginLeft:Qc,marginRight:Yb}]},C);else if(Sc)nb=Math.max(nb,Ud,Sc.depth+.25*Na.xHeight),Sc=Nb.makeVList({positionType:"shift",positionData:-nb,children:[{type:"elem",elem:Sc,marginRight:Yb}]},C);else throw Error("supsub must have either sup or sub.");qd=yc(S,"right")||"mord";return Nb.makeSpan([qd],[S,Nb.makeSpan(["msupsub"],[Sc])],C)},mathmlBuilder(u,C){let S=!1,ba;if(u.base&&"horizBrace"===u.base.type){var ra=
!!u.sup;ra===u.base.isOver&&(S=!0,ba=u.base.isOver)}!u.base||"op"!==u.base.type&&"operatorname"!==u.base.type||(u.base.parentIsSupSub=!0);ra=[ud(u.base,C)];u.sub&&ra.push(ud(u.sub,C));u.sup&&ra.push(ud(u.sup,C));C=S?ba?"mover":"munder":u.sub?u.sup?(u=u.base)&&"op"===u.type&&u.limits&&C.style===Qa?"munderover":u&&"operatorname"===u.type&&u.alwaysHandleSupSub&&(C.style===Qa||u.limits)?"munderover":"msubsup":(u=u.base)&&"op"===u.type&&u.limits&&(C.style===Qa||u.alwaysHandleSupSub)?"munder":u&&"operatorname"===
u.type&&u.alwaysHandleSupSub&&(u.limits||C.style===Qa)?"munder":"msub":(u=u.base)&&"op"===u.type&&u.limits&&(C.style===Qa||u.alwaysHandleSupSub)?"mover":u&&"operatorname"===u.type&&u.alwaysHandleSupSub&&(u.limits||C.style===Qa)?"mover":"msup";return new Xb.MathNode(C,ra)}});h({type:"atom",htmlBuilder(u,C){return Nb.mathsym(u.text,u.mode,C,["m"+u.family])},mathmlBuilder(u,C){const S=new Xb.MathNode("mo",[Xd(u.text,u.mode)]);"bin"===u.family?(u=$c(u,C),"bold-italic"===u&&S.setAttribute("mathvariant",
u)):"punct"===u.family?S.setAttribute("separator","true"):("open"===u.family||"close"===u.family)&&S.setAttribute("stretchy","false");return S}});const ah={mi:"italic",mn:"normal",mtext:"normal"};h({type:"mathord",htmlBuilder(u,C){return Nb.makeOrd(u,C,"mathord")},mathmlBuilder(u,C){const S=new Xb.MathNode("mi",[Xd(u.text,u.mode,C)]);u=$c(u,C)||"italic";u!==ah[S.type]&&S.setAttribute("mathvariant",u);return S}});h({type:"textord",htmlBuilder(u,C){return Nb.makeOrd(u,C,"textord")},mathmlBuilder(u,
C){const S=Xd(u.text,u.mode,C);C=$c(u,C)||"normal";u="text"===u.mode?new Xb.MathNode("mtext",[S]):/[0-9]/.test(u.text)?new Xb.MathNode("mn",[S]):"\\prime"===u.text?new Xb.MathNode("mo",[S]):new Xb.MathNode("mi",[S]);C!==ah[u.type]&&u.setAttribute("mathvariant",C);return u}});const Jc={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},df={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};h({type:"spacing",htmlBuilder(u,C){if(df.hasOwnProperty(u.text)){const S=
df[u.text].className||"";return"text"===u.mode?(u=Nb.makeOrd(u,C,"textord"),u.classes.push(S),u):Nb.makeSpan(["mspace",S],[Nb.mathsym(u.text,u.mode,C)],C)}if(Jc.hasOwnProperty(u.text))return Nb.makeSpan(["mspace",Jc[u.text]],[],C);throw new Ba('Unknown type of space "'+u.text+'"');},mathmlBuilder(u,C){if(df.hasOwnProperty(u.text))u=new Xb.MathNode("mtext",[new Xb.TextNode(" ")]);else{if(Jc.hasOwnProperty(u.text))return new Xb.MathNode("mspace");throw new Ba('Unknown type of space "'+u.text+'"');}return u}});
const Jg=()=>{const u=new Xb.MathNode("mtd",[]);u.setAttribute("width","50%");return u};h({type:"tag",mathmlBuilder(u,C){u=new Xb.MathNode("mtable",[new Xb.MathNode("mtr",[Jg(),new Xb.MathNode("mtd",[id(ad(u.body,C,void 0))]),Jg(),new Xb.MathNode("mtd",[id(ad(u.tag,C,void 0))])])]);u.setAttribute("width","100%");return u}});const rh={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},tg={"\\textbf":"textbf","\\textmd":"textmd"},gg={"\\textit":"textit",
"\\textup":"textup"},sh=(u,C)=>{if(u=u.font){if(rh[u])return C.withTextFontFamily(rh[u]);if(tg[u])return C.withTextFontWeight(tg[u]);if("\\emph"===u)return"textit"===C.fontShape?C.withTextFontShape("textup"):C.withTextFontShape("textit")}else return C;return C.withTextFontShape(gg[u])};g({type:"text",names:"\\text \\textrm \\textsf \\texttt \\textnormal \\textbf \\textmd \\textit \\textup \\emph".split(" "),props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(u,C){let {parser:S,
funcName:ba}=u;return{type:"text",mode:S.mode,body:yb(C[0]),font:ba}},htmlBuilder(u,C){C=sh(u,C);u=Wb(u.body,C,!0);return Nb.makeSpan(["mord","text"],u,C)},mathmlBuilder(u,C){C=sh(u,C);return id(ad(u.body,C,void 0))}});g({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(u,C){({parser:u}=u);return{type:"underline",mode:u.mode,body:C[0]}},htmlBuilder(u,C){u=Oc(u.body,C);const S=Nb.makeLineSpan("underline-line",C),ba=C.fontMetrics().defaultRuleThickness;u=Nb.makeVList({positionType:"top",
positionData:u.height,children:[{type:"kern",size:ba},{type:"elem",elem:S},{type:"kern",size:3*ba},{type:"elem",elem:u}]},C);return Nb.makeSpan(["mord","underline"],[u],C)},mathmlBuilder(u,C){const S=new Xb.MathNode("mo",[new Xb.TextNode("‾")]);S.setAttribute("stretchy","true");u=new Xb.MathNode("munder",[ud(u.body,C),S]);u.setAttribute("accentunder","true");return u}});g({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(u,C){({parser:u}=u);return{type:"vcenter",
mode:u.mode,body:C[0]}},htmlBuilder(u,C){u=Oc(u.body,C);const S=C.fontMetrics().axisHeight;return Nb.makeVList({positionType:"shift",positionData:.5*(u.height-S-(u.depth+S)),children:[{type:"elem",elem:u}]},C)},mathmlBuilder(u,C){return new Xb.MathNode("mpadded",[ud(u.body,C)],["vcenter"])}});g({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(u,C,S){throw new Ba("\\verb ended by end of line instead of matching delimiter");},htmlBuilder(u,C){const S=u.body.replace(/ /g,u.star?
"␣":" "),ba=[],ra=C.havingStyle(C.style.text());for(let Ka=0;Ka<S.length;Ka++){let Na=S[Ka];"~"===Na&&(Na="\\textasciitilde");ba.push(Nb.makeSymbol(Na,"Typewriter-Regular",u.mode,ra,["mord","texttt"]))}return Nb.makeSpan(["mord","text"].concat(ra.sizingClasses(C)),Nb.tryCombineChars(ba),ra)},mathmlBuilder(u,C){u=new Xb.TextNode(u.body.replace(/ /g,u.star?"␣":" "));u=new Xb.MathNode("mtext",[u]);u.setAttribute("mathvariant","monospace");return u}});var se=ya;const Ag=RegExp("[̀-ͯ]+$");class Lh{constructor(u,
C){this.catcodes=this.tokenRegex=this.settings=this.input=void 0;this.input=u;this.settings=C;this.tokenRegex=RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g");this.catcodes={"%":14,"~":13}}setCatcode(u,C){this.catcodes[u]=C}lex(){const u=this.input;var C=this.tokenRegex.lastIndex;if(C===u.length)return new Yf("EOF",new jf(this,C,C));
var S=this.tokenRegex.exec(u);if(null===S||S.index!==C)throw new Ba("Unexpected character: '"+u[C]+"'",new Yf(u[C],new jf(this,C,C+1)));S=S[6]||S[3]||(S[2]?"\\ ":" ");return 14===this.catcodes[S]?(C=u.indexOf("\n",this.tokenRegex.lastIndex),-1===C?(this.tokenRegex.lastIndex=u.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=C+1,this.lex()):new Yf(S,new jf(this,
C,this.tokenRegex.lastIndex))}}class Kg{constructor(u,C){void 0===u&&(u={});void 0===C&&(C={});this.undefStack=this.builtins=this.current=void 0;this.current=C;this.builtins=u;this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new Ba("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const u=this.undefStack.pop();for(const C in u)u.hasOwnProperty(C)&&(null==u[C]?delete this.current[C]:this.current[C]=
u[C])}endGroups(){for(;0<this.undefStack.length;)this.endGroup()}has(u){return this.current.hasOwnProperty(u)||this.builtins.hasOwnProperty(u)}get(u){return this.current.hasOwnProperty(u)?this.current[u]:this.builtins[u]}set(u,C,S){void 0===S&&(S=!1);if(S){for(S=0;S<this.undefStack.length;S++)delete this.undefStack[S][u];0<this.undefStack.length&&(this.undefStack[this.undefStack.length-1][u]=C)}else(S=this.undefStack[this.undefStack.length-1])&&!S.hasOwnProperty(u)&&(S[u]=this.current[u]);null==C?
delete this.current[u]:this.current[u]=C}}var bh=Wa;Q("\\noexpand",function(u){const C=u.popToken();u.isExpandable(C.text)&&(C.noexpand=!0,C.treatAsRelax=!0);return{tokens:[C],numArgs:0}});Q("\\expandafter",function(u){const C=u.popToken();u.expandOnce(!0);return{tokens:[C],numArgs:0}});Q("\\@firstoftwo",function(u){return{tokens:u.consumeArgs(2)[0],numArgs:0}});Q("\\@secondoftwo",function(u){return{tokens:u.consumeArgs(2)[1],numArgs:0}});Q("\\@ifnextchar",function(u){const C=u.consumeArgs(3);u.consumeSpaces();
u=u.future();return 1===C[0].length&&C[0][0].text===u.text?{tokens:C[1],numArgs:0}:{tokens:C[2],numArgs:0}});Wa["\\@ifstar"]="\\@ifnextchar *{\\@firstoftwo{#1}}";Q("\\TextOrMath",function(u){const C=u.consumeArgs(2);return"text"===u.mode?{tokens:C[0],numArgs:0}:{tokens:C[1],numArgs:0}});const Lg={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Q("\\char",function(u){let C=u.popToken(),S,ba="";if("'"===C.text)S=8,C=u.popToken();else if('"'===C.text)S=
16,C=u.popToken();else if("`"===C.text)if(C=u.popToken(),"\\"===C.text[0])ba=C.text.charCodeAt(1);else{if("EOF"===C.text)throw new Ba("\\char` missing argument");ba=C.text.charCodeAt(0)}else S=10;if(S){ba=Lg[C.text];if(null==ba||ba>=S)throw new Ba("Invalid base-"+S+" digit "+C.text);let ra;for(;null!=(ra=Lg[u.future().text])&&ra<S;)ba*=S,ba+=ra,u.popToken()}return"\\@char{"+ba+"}"});const fe=(u,C,S)=>{var ba=u.consumeArg().tokens;if(1!==ba.length)throw new Ba("\\newcommand's first argument must be a macro name");
const ra=ba[0].text;if((ba=u.isDefined(ra))&&!C)throw new Ba("\\newcommand{"+ra+"} attempting to redefine "+(ra+"; use \\renewcommand"));if(!ba&&!S)throw new Ba("\\renewcommand{"+ra+"} when command "+ra+" does not yet exist; use \\newcommand");C=0;ba=u.consumeArg().tokens;if(1===ba.length&&"["===ba[0].text){C="";for(S=u.expandNextToken();"]"!==S.text&&"EOF"!==S.text;)C+=S.text,S=u.expandNextToken();if(!C.match(/^\s*[0-9]+\s*$/))throw new Ba("Invalid number of arguments: "+C);C=parseInt(C);ba=u.consumeArg().tokens}u.macros.set(ra,
{tokens:ba,numArgs:C});return""};Q("\\newcommand",u=>fe(u,!1,!0));Q("\\renewcommand",u=>fe(u,!0,!1));Q("\\providecommand",u=>fe(u,!0,!0));Q("\\message",u=>{u=u.consumeArgs(1)[0];console.log(u.reverse().map(C=>C.text).join(""));return""});Q("\\errmessage",u=>{u=u.consumeArgs(1)[0];console.error(u.reverse().map(C=>C.text).join(""));return""});Q("\\show",u=>{const C=u.popToken(),S=C.text;console.log(C,u.macros.get(S),se[S],gc.math[S],gc.text[S]);return""});Wa["\\bgroup"]="{";Wa["\\egroup"]="}";Wa["~"]=
"\\nobreakspace";Wa["\\lq"]="`";Wa["\\rq"]="'";Wa["\\aa"]="\\r a";Wa["\\AA"]="\\r A";Wa["\\textcopyright"]="\\html@mathml{\\textcircled{c}}{\\char`©}";Wa["\\copyright"]="\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}";Wa["\\textregistered"]="\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}";Wa["ℬ"]="\\mathscr{B}";Wa["ℰ"]="\\mathscr{E}";Wa["ℱ"]="\\mathscr{F}";Wa["ℋ"]="\\mathscr{H}";Wa["ℐ"]="\\mathscr{I}";Wa["ℒ"]="\\mathscr{L}";Wa["ℳ"]="\\mathscr{M}";Wa["ℛ"]="\\mathscr{R}";Wa["ℭ"]="\\mathfrak{C}";
Wa["ℌ"]="\\mathfrak{H}";Wa["ℨ"]="\\mathfrak{Z}";Wa["\\Bbbk"]="\\Bbb{k}";Wa["·"]="\\cdotp";Wa["\\llap"]="\\mathllap{\\textrm{#1}}";Wa["\\rlap"]="\\mathrlap{\\textrm{#1}}";Wa["\\clap"]="\\mathclap{\\textrm{#1}}";Wa["\\mathstrut"]="\\vphantom{(}";Wa["\\underbar"]="\\underline{\\text{#1}}";Wa["\\not"]='\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}';Wa["\\neq"]="\\html@mathml{\\mathrel{\\not\x3d}}{\\mathrel{\\char`≠}}";Wa["\\ne"]="\\neq";Wa["≠"]="\\neq";Wa["\\notin"]="\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}";
Wa["∉"]="\\notin";Wa["≘"]="\\html@mathml{\\mathrel{\x3d\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}";Wa["≙"]="\\html@mathml{\\stackrel{\\tiny\\wedge}{\x3d}}{\\mathrel{\\char`≘}}";Wa["≚"]="\\html@mathml{\\stackrel{\\tiny\\vee}{\x3d}}{\\mathrel{\\char`≚}}";Wa["≛"]="\\html@mathml{\\stackrel{\\scriptsize\\star}{\x3d}}{\\mathrel{\\char`≛}}";Wa["≝"]="\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{\x3d}}{\\mathrel{\\char`≝}}";Wa["≞"]="\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{\x3d}}{\\mathrel{\\char`≞}}";
Wa["≟"]="\\html@mathml{\\stackrel{\\tiny?}{\x3d}}{\\mathrel{\\char`≟}}";Wa["⟂"]="\\perp";Wa["‼"]="\\mathclose{!\\mkern-0.8mu!}";Wa["∌"]="\\notni";Wa["⌜"]="\\ulcorner";Wa["⌝"]="\\urcorner";Wa["⌞"]="\\llcorner";Wa["⌟"]="\\lrcorner";Wa["©"]="\\copyright";Wa["®"]="\\textregistered";Wa["️"]="\\textregistered";Wa["\\ulcorner"]='\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}';Wa["\\urcorner"]='\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}';Wa["\\llcorner"]='\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}';
Wa["\\lrcorner"]='\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}';Wa["\\vdots"]="\\mathord{\\varvdots\\rule{0pt}{15pt}}";Wa["⋮"]="\\vdots";Wa["\\varGamma"]="\\mathit{\\Gamma}";Wa["\\varDelta"]="\\mathit{\\Delta}";Wa["\\varTheta"]="\\mathit{\\Theta}";Wa["\\varLambda"]="\\mathit{\\Lambda}";Wa["\\varXi"]="\\mathit{\\Xi}";Wa["\\varPi"]="\\mathit{\\Pi}";Wa["\\varSigma"]="\\mathit{\\Sigma}";Wa["\\varUpsilon"]="\\mathit{\\Upsilon}";Wa["\\varPhi"]="\\mathit{\\Phi}";Wa["\\varPsi"]="\\mathit{\\Psi}";Wa["\\varOmega"]=
"\\mathit{\\Omega}";Wa["\\substack"]="\\begin{subarray}{c}#1\\end{subarray}";Wa["\\colon"]="\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax";Wa["\\boxed"]="\\fbox{$\\displaystyle{#1}$}";Wa["\\iff"]="\\DOTSB\\;\\Longleftrightarrow\\;";Wa["\\implies"]="\\DOTSB\\;\\Longrightarrow\\;";Wa["\\impliedby"]="\\DOTSB\\;\\Longleftarrow\\;";const Ef={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","\x3d":"\\dotsb","\x3c":"\\dotsb","\x3e":"\\dotsb","-":"\\dotsb","*":"\\dotsb",
":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb",
"\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Q("\\dots",function(u){let C="\\dotso";u=u.expandAfterFuture().text;u in Ef?C=Ef[u]:"\\not"===u.slice(0,4)?C="\\dotsb":u in gc.math&&
eb.contains(["bin","rel"],gc.math[u].group)&&(C="\\dotsb");return C});const Te={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Q("\\dotso",function(u){return u.future().text in Te?"\\ldots\\,":"\\ldots"});Q("\\dotsc",function(u){u=u.future().text;return u in Te&&","!==u?"\\ldots\\,":"\\ldots"});Q("\\cdots",function(u){return u.future().text in
Te?"\\@cdots\\,":"\\@cdots"});Wa["\\dotsb"]="\\cdots";Wa["\\dotsm"]="\\cdots";Wa["\\dotsi"]="\\!\\cdots";Wa["\\dotsx"]="\\ldots\\,";Wa["\\DOTSI"]="\\relax";Wa["\\DOTSB"]="\\relax";Wa["\\DOTSX"]="\\relax";Wa["\\tmspace"]="\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax";Wa["\\,"]="\\tmspace+{3mu}{.1667em}";Wa["\\thinspace"]="\\,";Wa["\\\x3e"]="\\mskip{4mu}";Wa["\\:"]="\\tmspace+{4mu}{.2222em}";Wa["\\medspace"]="\\:";Wa["\\;"]="\\tmspace+{5mu}{.2777em}";Wa["\\thickspace"]="\\;";Wa["\\!"]="\\tmspace-{3mu}{.1667em}";
Wa["\\negthinspace"]="\\!";Wa["\\negmedspace"]="\\tmspace-{4mu}{.2222em}";Wa["\\negthickspace"]="\\tmspace-{5mu}{.277em}";Wa["\\enspace"]="\\kern.5em ";Wa["\\enskip"]="\\hskip.5em\\relax";Wa["\\quad"]="\\hskip1em\\relax";Wa["\\qquad"]="\\hskip2em\\relax";Wa["\\tag"]="\\@ifstar\\tag@literal\\tag@paren";Wa["\\tag@paren"]="\\tag@literal{({#1})}";Q("\\tag@literal",u=>{if(u.macros.get("\\df@tag"))throw new Ba("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Wa["\\bmod"]="\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}";
Wa["\\pod"]="\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)";Wa["\\pmod"]="\\pod{{\\rm mod}\\mkern6mu#1}";Wa["\\mod"]="\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1";Wa["\\newline"]="\\\\\\relax";Wa["\\TeX"]="\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}";const bg=fc(Ua["Main-Regular"][84][1]-.7*Ua["Main-Regular"][65][1]);Wa["\\LaTeX"]="\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+
(bg+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}");Wa["\\KaTeX"]="\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+(bg+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}");Wa["\\hspace"]="\\@ifstar\\@hspacer\\@hspace";Wa["\\@hspace"]="\\hskip #1\\relax";Wa["\\@hspacer"]="\\rule{0pt}{0pt}\\hskip #1\\relax";Wa["\\ordinarycolon"]=":";Wa["\\vcentcolon"]="\\mathrel{\\mathop\\ordinarycolon}";Wa["\\dblcolon"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}';
Wa["\\coloneqq"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\x3d}}{\\mathop{\\char"2254}}';Wa["\\Coloneqq"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\x3d}}{\\mathop{\\char"2237\\char"3d}}';Wa["\\coloneq"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}';Wa["\\Coloneq"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}';Wa["\\eqqcolon"]='\\html@mathml{\\mathrel{\x3d\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}';
Wa["\\Eqqcolon"]='\\html@mathml{\\mathrel{\x3d\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}';Wa["\\eqcolon"]='\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}';Wa["\\Eqcolon"]='\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}';Wa["\\colonapprox"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}';Wa["\\Colonapprox"]=
'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}';Wa["\\colonsim"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}';Wa["\\Colonsim"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}';Wa["∷"]="\\dblcolon";Wa["∹"]="\\eqcolon";Wa["≔"]="\\coloneqq";Wa["≕"]="\\eqqcolon";Wa["⩴"]="\\Coloneqq";Wa["\\ratio"]="\\vcentcolon";Wa["\\coloncolon"]="\\dblcolon";
Wa["\\colonequals"]="\\coloneqq";Wa["\\coloncolonequals"]="\\Coloneqq";Wa["\\equalscolon"]="\\eqqcolon";Wa["\\equalscoloncolon"]="\\Eqqcolon";Wa["\\colonminus"]="\\coloneq";Wa["\\coloncolonminus"]="\\Coloneq";Wa["\\minuscolon"]="\\eqcolon";Wa["\\minuscoloncolon"]="\\Eqcolon";Wa["\\coloncolonapprox"]="\\Colonapprox";Wa["\\coloncolonsim"]="\\Colonsim";Wa["\\simcolon"]="\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}";Wa["\\simcoloncolon"]="\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}";Wa["\\approxcolon"]=
"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}";Wa["\\approxcoloncolon"]="\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}";Wa["\\notni"]="\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}";Wa["\\limsup"]="\\DOTSB\\operatorname*{lim\\,sup}";Wa["\\liminf"]="\\DOTSB\\operatorname*{lim\\,inf}";Wa["\\injlim"]="\\DOTSB\\operatorname*{inj\\,lim}";Wa["\\projlim"]="\\DOTSB\\operatorname*{proj\\,lim}";Wa["\\varlimsup"]="\\DOTSB\\operatorname*{\\overline{lim}}";Wa["\\varliminf"]="\\DOTSB\\operatorname*{\\underline{lim}}";
Wa["\\varinjlim"]="\\DOTSB\\operatorname*{\\underrightarrow{lim}}";Wa["\\varprojlim"]="\\DOTSB\\operatorname*{\\underleftarrow{lim}}";Wa["\\gvertneqq"]="\\html@mathml{\\@gvertneqq}{≩}";Wa["\\lvertneqq"]="\\html@mathml{\\@lvertneqq}{≨}";Wa["\\ngeqq"]="\\html@mathml{\\@ngeqq}{≱}";Wa["\\ngeqslant"]="\\html@mathml{\\@ngeqslant}{≱}";Wa["\\nleqq"]="\\html@mathml{\\@nleqq}{≰}";Wa["\\nleqslant"]="\\html@mathml{\\@nleqslant}{≰}";Wa["\\nshortmid"]="\\html@mathml{\\@nshortmid}{∤}";Wa["\\nshortparallel"]="\\html@mathml{\\@nshortparallel}{∦}";
Wa["\\nsubseteqq"]="\\html@mathml{\\@nsubseteqq}{⊈}";Wa["\\nsupseteqq"]="\\html@mathml{\\@nsupseteqq}{⊉}";Wa["\\varsubsetneq"]="\\html@mathml{\\@varsubsetneq}{⊊}";Wa["\\varsubsetneqq"]="\\html@mathml{\\@varsubsetneqq}{⫋}";Wa["\\varsupsetneq"]="\\html@mathml{\\@varsupsetneq}{⊋}";Wa["\\varsupsetneqq"]="\\html@mathml{\\@varsupsetneqq}{⫌}";Wa["\\imath"]="\\html@mathml{\\@imath}{ı}";Wa["\\jmath"]="\\html@mathml{\\@jmath}{ȷ}";Wa["\\llbracket"]="\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}";
Wa["\\rrbracket"]="\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}";Wa["⟦"]="\\llbracket";Wa["⟧"]="\\rrbracket";Wa["\\lBrace"]="\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}";Wa["\\rBrace"]="\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}";Wa["⦃"]="\\lBrace";Wa["⦄"]="\\rBrace";Wa["\\minuso"]="\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}";Wa["⦵"]=
"\\minuso";Wa["\\darr"]="\\downarrow";Wa["\\dArr"]="\\Downarrow";Wa["\\Darr"]="\\Downarrow";Wa["\\lang"]="\\langle";Wa["\\rang"]="\\rangle";Wa["\\uarr"]="\\uparrow";Wa["\\uArr"]="\\Uparrow";Wa["\\Uarr"]="\\Uparrow";Wa["\\N"]="\\mathbb{N}";Wa["\\R"]="\\mathbb{R}";Wa["\\Z"]="\\mathbb{Z}";Wa["\\alef"]="\\aleph";Wa["\\alefsym"]="\\aleph";Wa["\\Alpha"]="\\mathrm{A}";Wa["\\Beta"]="\\mathrm{B}";Wa["\\bull"]="\\bullet";Wa["\\Chi"]="\\mathrm{X}";Wa["\\clubs"]="\\clubsuit";Wa["\\cnums"]="\\mathbb{C}";Wa["\\Complex"]=
"\\mathbb{C}";Wa["\\Dagger"]="\\ddagger";Wa["\\diamonds"]="\\diamondsuit";Wa["\\empty"]="\\emptyset";Wa["\\Epsilon"]="\\mathrm{E}";Wa["\\Eta"]="\\mathrm{H}";Wa["\\exist"]="\\exists";Wa["\\harr"]="\\leftrightarrow";Wa["\\hArr"]="\\Leftrightarrow";Wa["\\Harr"]="\\Leftrightarrow";Wa["\\hearts"]="\\heartsuit";Wa["\\image"]="\\Im";Wa["\\infin"]="\\infty";Wa["\\Iota"]="\\mathrm{I}";Wa["\\isin"]="\\in";Wa["\\Kappa"]="\\mathrm{K}";Wa["\\larr"]="\\leftarrow";Wa["\\lArr"]="\\Leftarrow";Wa["\\Larr"]="\\Leftarrow";
Wa["\\lrarr"]="\\leftrightarrow";Wa["\\lrArr"]="\\Leftrightarrow";Wa["\\Lrarr"]="\\Leftrightarrow";Wa["\\Mu"]="\\mathrm{M}";Wa["\\natnums"]="\\mathbb{N}";Wa["\\Nu"]="\\mathrm{N}";Wa["\\Omicron"]="\\mathrm{O}";Wa["\\plusmn"]="\\pm";Wa["\\rarr"]="\\rightarrow";Wa["\\rArr"]="\\Rightarrow";Wa["\\Rarr"]="\\Rightarrow";Wa["\\real"]="\\Re";Wa["\\reals"]="\\mathbb{R}";Wa["\\Reals"]="\\mathbb{R}";Wa["\\Rho"]="\\mathrm{P}";Wa["\\sdot"]="\\cdot";Wa["\\sect"]="\\S";Wa["\\spades"]="\\spadesuit";Wa["\\sub"]="\\subset";
Wa["\\sube"]="\\subseteq";Wa["\\supe"]="\\supseteq";Wa["\\Tau"]="\\mathrm{T}";Wa["\\thetasym"]="\\vartheta";Wa["\\weierp"]="\\wp";Wa["\\Zeta"]="\\mathrm{Z}";Wa["\\argmin"]="\\DOTSB\\operatorname*{arg\\,min}";Wa["\\argmax"]="\\DOTSB\\operatorname*{arg\\,max}";Wa["\\plim"]="\\DOTSB\\mathop{\\operatorname{plim}}\\limits";Wa["\\bra"]="\\mathinner{\\langle{#1}|}";Wa["\\ket"]="\\mathinner{|{#1}\\rangle}";Wa["\\braket"]="\\mathinner{\\langle{#1}\\rangle}";Wa["\\Bra"]="\\left\\langle#1\\right|";Wa["\\Ket"]=
"\\left|#1\\right\\rangle";const Mh=u=>C=>{var S=C.consumeArg().tokens;const ba=C.consumeArg().tokens,ra=C.consumeArg().tokens,Ka=C.consumeArg().tokens,Na=C.macros.get("|"),nb=C.macros.get("\\|");C.macros.beginGroup();var Cb=Yb=>Qc=>{u&&(Qc.macros.set("|",Na),ra.length&&Qc.macros.set("\\|",nb));let Sc=Yb;!Yb&&ra.length&&"|"===Qc.future().text&&(Qc.popToken(),Sc=!0);return{tokens:Sc?ra:ba,numArgs:0}};C.macros.set("|",Cb(!1));ra.length&&C.macros.set("\\|",Cb(!0));Cb=C.consumeArg().tokens;S=C.expandTokens([...Ka,
...Cb,...S]);C.macros.endGroup();return{tokens:S.reverse(),numArgs:0}};Q("\\bra@ket",Mh(!1));Q("\\bra@set",Mh(!0));Wa["\\Braket"]="\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}";Wa["\\Set"]="\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}";Wa["\\set"]="\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}";Wa["\\angln"]="{\\angl n}";Wa["\\blue"]="\\textcolor{##6495ed}{#1}";Wa["\\orange"]="\\textcolor{##ffa500}{#1}";Wa["\\pink"]="\\textcolor{##ff00af}{#1}";
Wa["\\red"]="\\textcolor{##df0030}{#1}";Wa["\\green"]="\\textcolor{##28ae7b}{#1}";Wa["\\gray"]="\\textcolor{gray}{#1}";Wa["\\purple"]="\\textcolor{##9d38bd}{#1}";Wa["\\blueA"]="\\textcolor{##ccfaff}{#1}";Wa["\\blueB"]="\\textcolor{##80f6ff}{#1}";Wa["\\blueC"]="\\textcolor{##63d9ea}{#1}";Wa["\\blueD"]="\\textcolor{##11accd}{#1}";Wa["\\blueE"]="\\textcolor{##0c7f99}{#1}";Wa["\\tealA"]="\\textcolor{##94fff5}{#1}";Wa["\\tealB"]="\\textcolor{##26edd5}{#1}";Wa["\\tealC"]="\\textcolor{##01d1c1}{#1}";Wa["\\tealD"]=
"\\textcolor{##01a995}{#1}";Wa["\\tealE"]="\\textcolor{##208170}{#1}";Wa["\\greenA"]="\\textcolor{##b6ffb0}{#1}";Wa["\\greenB"]="\\textcolor{##8af281}{#1}";Wa["\\greenC"]="\\textcolor{##74cf70}{#1}";Wa["\\greenD"]="\\textcolor{##1fab54}{#1}";Wa["\\greenE"]="\\textcolor{##0d923f}{#1}";Wa["\\goldA"]="\\textcolor{##ffd0a9}{#1}";Wa["\\goldB"]="\\textcolor{##ffbb71}{#1}";Wa["\\goldC"]="\\textcolor{##ff9c39}{#1}";Wa["\\goldD"]="\\textcolor{##e07d10}{#1}";Wa["\\goldE"]="\\textcolor{##a75a05}{#1}";Wa["\\redA"]=
"\\textcolor{##fca9a9}{#1}";Wa["\\redB"]="\\textcolor{##ff8482}{#1}";Wa["\\redC"]="\\textcolor{##f9685d}{#1}";Wa["\\redD"]="\\textcolor{##e84d39}{#1}";Wa["\\redE"]="\\textcolor{##bc2612}{#1}";Wa["\\maroonA"]="\\textcolor{##ffbde0}{#1}";Wa["\\maroonB"]="\\textcolor{##ff92c6}{#1}";Wa["\\maroonC"]="\\textcolor{##ed5fa6}{#1}";Wa["\\maroonD"]="\\textcolor{##ca337c}{#1}";Wa["\\maroonE"]="\\textcolor{##9e034e}{#1}";Wa["\\purpleA"]="\\textcolor{##ddd7ff}{#1}";Wa["\\purpleB"]="\\textcolor{##c6b9fc}{#1}";Wa["\\purpleC"]=
"\\textcolor{##aa87ff}{#1}";Wa["\\purpleD"]="\\textcolor{##7854ab}{#1}";Wa["\\purpleE"]="\\textcolor{##543b78}{#1}";Wa["\\mintA"]="\\textcolor{##f5f9e8}{#1}";Wa["\\mintB"]="\\textcolor{##edf2df}{#1}";Wa["\\mintC"]="\\textcolor{##e0e5cc}{#1}";Wa["\\grayA"]="\\textcolor{##f6f7f7}{#1}";Wa["\\grayB"]="\\textcolor{##f0f1f2}{#1}";Wa["\\grayC"]="\\textcolor{##e3e5e6}{#1}";Wa["\\grayD"]="\\textcolor{##d6d8da}{#1}";Wa["\\grayE"]="\\textcolor{##babec2}{#1}";Wa["\\grayF"]="\\textcolor{##888d93}{#1}";Wa["\\grayG"]=
"\\textcolor{##626569}{#1}";Wa["\\grayH"]="\\textcolor{##3b3e40}{#1}";Wa["\\grayI"]="\\textcolor{##21242c}{#1}";Wa["\\kaBlue"]="\\textcolor{##314453}{#1}";Wa["\\kaGreen"]="\\textcolor{##71B307}{#1}";const ug={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Vf{constructor(u,C,S){this.mode=this.stack=this.macros=this.lexer=this.expansionCount=this.settings=void 0;this.settings=C;this.expansionCount=0;this.feed(u);this.macros=new Kg(bh,C.macros);this.mode=S;this.stack=[]}feed(u){this.lexer=new Lh(u,
this.settings)}switchMode(u){this.mode=u}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){0===this.stack.length&&this.pushToken(this.lexer.lex());return this.stack[this.stack.length-1]}popToken(){this.future();return this.stack.pop()}pushToken(u){this.stack.push(u)}pushTokens(u){this.stack.push(...u)}scanArgument(u){let C,S;if(u){this.consumeSpaces();if("["!==this.future().text)return null;u=this.popToken();({tokens:S,end:C}=this.consumeArg(["]"]))}else({tokens:S,
start:u,end:C}=this.consumeArg());this.pushToken(new Yf("EOF",C.loc));this.pushTokens(S);return u.range(C,"")}consumeSpaces(){for(;;)if(" "===this.future().text)this.stack.pop();else break}consumeArg(u){const C=[],S=u&&0<u.length;S||this.consumeSpaces();const ba=this.future();let ra,Ka=0,Na=0;do{ra=this.popToken();C.push(ra);if("{"===ra.text)++Ka;else if("}"===ra.text){if(--Ka,-1===Ka)throw new Ba("Extra }",ra);}else if("EOF"===ra.text)throw new Ba("Unexpected end of input in a macro argument, expected '"+
(u&&S?u[Na]:"}")+"'",ra);if(u&&S)if((0===Ka||1===Ka&&"{"===u[Na])&&ra.text===u[Na]){if(++Na,Na===u.length){C.splice(-Na,Na);break}}else Na=0}while(0!==Ka||S);"{"===ba.text&&"}"===C[C.length-1].text&&(C.pop(),C.shift());C.reverse();return{tokens:C,start:ba,end:ra}}consumeArgs(u,C){if(C){if(C.length!==u+1)throw new Ba("The length of delimiters doesn't match the number of args!");var S=C[0];for(var ba=0;ba<S.length;ba++){const ra=this.popToken();if(S[ba]!==ra.text)throw new Ba("Use of the macro doesn't match its definition",
ra);}}S=[];for(ba=0;ba<u;ba++)S.push(this.consumeArg(C&&C[ba+1]).tokens);return S}countExpansion(u){this.expansionCount+=u;if(this.expansionCount>this.settings.maxExpand)throw new Ba("Too many expansions: infinite loop or need to increase maxExpand setting");}expandOnce(u){var C=this.popToken(),S=C.text,ba=C.noexpand?null:this._getExpansion(S);if(null==ba||u&&ba.unexpandable){if(u&&null==ba&&"\\"===S[0]&&!this.isDefined(S))throw new Ba("Undefined control sequence: "+S);this.pushToken(C);return!1}this.countExpansion(1);
u=ba.tokens;C=this.consumeArgs(ba.numArgs,ba.delimiters);if(ba.numArgs)for(u=u.slice(),ba=u.length-1;0<=ba;--ba)if(S=u[ba],"#"===S.text){if(0===ba)throw new Ba("Incomplete placeholder at end of macro body",S);S=u[--ba];if("#"===S.text)u.splice(ba+1,1);else if(/^[1-9]$/.test(S.text))u.splice(ba,2,...C[+S.text-1]);else throw new Ba("Not a valid argument number",S);}this.pushTokens(u);return u.length}expandAfterFuture(){this.expandOnce();return this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){const u=
this.stack.pop();u.treatAsRelax&&(u.text="\\relax");return u}throw Error();}expandMacro(u){return this.macros.has(u)?this.expandTokens([new Yf(u)]):void 0}expandTokens(u){const C=[],S=this.stack.length;for(this.pushTokens(u);this.stack.length>S;)!1===this.expandOnce(!0)&&(u=this.stack.pop(),u.treatAsRelax&&(u.noexpand=!1,u.treatAsRelax=!1),C.push(u));this.countExpansion(C.length);return C}expandMacroAsText(u){return(u=this.expandMacro(u))?u.map(C=>C.text).join(""):u}_getExpansion(u){var C=this.macros.get(u);
if(null==C)return C;if(1===u.length&&(u=this.lexer.catcodes[u],null!=u&&13!==u))return;u="function"===typeof C?C(this):C;if("string"===typeof u){C=0;if(-1!==u.indexOf("#"))for(var S=u.replace(/##/g,"");-1!==S.indexOf("#"+(C+1));)++C;u=new Lh(u,this.settings);S=[];let ba=u.lex();for(;"EOF"!==ba.text;)S.push(ba),ba=u.lex();S.reverse();return{tokens:S,numArgs:C}}return u}isDefined(u){return this.macros.has(u)||se.hasOwnProperty(u)||gc.math.hasOwnProperty(u)||gc.text.hasOwnProperty(u)||ug.hasOwnProperty(u)}isExpandable(u){const C=
this.macros.get(u);return null!=C?"string"===typeof C||"function"===typeof C||!C.unexpandable:se.hasOwnProperty(u)&&!se[u].primitive}}const Ff=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,th=Object.freeze({"₊":"+","₋":"-","₌":"\x3d","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ",
"⁺":"+","⁻":"-","⁼":"\x3d","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g","ʰ":"h","ⁱ":"i","ʲ":"j","ᵏ":"k","ˡ":"l","ᵐ":"m","ⁿ":"n","ᵒ":"o","ᵖ":"p","ʳ":"r","ˢ":"s","ᵗ":"t","ᵘ":"u","ᵛ":"v","ʷ":"w","ˣ":"x","ʸ":"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ",
"ᵡ":"χ","ᶿ":"θ"}),Mg={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\\x3d",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Ng={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ",
"ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ",
"ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü",
"ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ",
"Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ",
"Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū",
"Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ",
"Ώ":"Ώ","Ὼ":"Ὼ"};class Hg{constructor(u,C){this.nextToken=this.leftrightDepth=this.settings=this.gullet=this.mode=void 0;this.mode="math";this.gullet=new Vf(u,C,this.mode);this.settings=C;this.leftrightDepth=0}expect(u,C){void 0===C&&(C=!0);if(this.fetch().text!==u)throw new Ba("Expected '"+u+"', got '"+this.fetch().text+"'",this.fetch());C&&this.consume()}consume(){this.nextToken=null}fetch(){null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken());return this.nextToken}switchMode(u){this.mode=
u;this.gullet.switchMode(u)}parse(){this.settings.globalGroup||this.gullet.beginGroup();this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const u=this.parseExpression(!1);this.expect("EOF");this.settings.globalGroup||this.gullet.endGroup();return u}finally{this.gullet.endGroups()}}subparse(u){const C=this.nextToken;this.consume();this.gullet.pushToken(new Yf("}"));this.gullet.pushTokens(u);u=this.parseExpression(!1);this.expect("}");this.nextToken=C;return u}parseExpression(u,
C){const S=[];for(;;){"math"===this.mode&&this.consumeSpaces();var ba=this.fetch();if(-1!==Hg.endOfExpression.indexOf(ba.text))break;if(C&&ba.text===C)break;if(u&&se[ba.text]&&se[ba.text].infix)break;ba=this.parseAtom(C);if(!ba)break;else if("internal"===ba.type)continue;S.push(ba)}"text"===this.mode&&this.formLigatures(S);return this.handleInfixNodes(S)}handleInfixNodes(u){let C=-1,S;for(var ba=0;ba<u.length;ba++)if("infix"===u[ba].type){if(-1!==C)throw new Ba("only one infix operator per group",
u[ba].token);C=ba;S=u[ba].replaceWith}if(-1!==C&&S){ba=u.slice(0,C);var ra=u.slice(C+1);ba=1===ba.length&&"ordgroup"===ba[0].type?ba[0]:{type:"ordgroup",mode:this.mode,body:ba};ra=1===ra.length&&"ordgroup"===ra[0].type?ra[0]:{type:"ordgroup",mode:this.mode,body:ra};return["\\\\abovefrac"===S?this.callFunction(S,[ba,u[C],ra],[]):this.callFunction(S,[ba,ra],[])]}return u}handleSupSubscript(u){const C=this.fetch(),S=C.text;this.consume();this.consumeSpaces();u=this.parseGroup(u);if(!u)throw new Ba("Expected group after '"+
S+"'",C);return u}formatUnsupportedCmd(u){const C=[];for(let S=0;S<u.length;S++)C.push({type:"textord",mode:"text",text:u[S]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:C}]}}parseAtom(u){u=this.parseGroup("atom",u);if("text"===this.mode)return u;let C;for(;;){this.consumeSpaces();var S=this.fetch();if("\\limits"===S.text||"\\nolimits"===S.text){if(u&&"op"===u.type)u.limits="\\limits"===S.text,u.alwaysHandleSupSub=!0;else if(u&&"operatorname"===
u.type)u.alwaysHandleSupSub&&(u.limits="\\limits"===S.text);else throw new Ba("Limit controls must follow a math operator",S);this.consume()}else if("^"===S.text){if(ba)throw new Ba("Double superscript",S);var ba=this.handleSupSubscript("superscript")}else if("_"===S.text){if(C)throw new Ba("Double subscript",S);C=this.handleSupSubscript("subscript")}else if("'"===S.text){if(ba)throw new Ba("Double superscript",S);ba={type:"textord",mode:this.mode,text:"\\prime"};var ra=[ba];for(this.consume();"'"===
this.fetch().text;)ra.push(ba),this.consume();"^"===this.fetch().text&&ra.push(this.handleSupSubscript("superscript"));ba={type:"ordgroup",mode:this.mode,body:ra}}else if(th[S.text]){ra=Ff.test(S.text);var Ka=[];Ka.push(new Yf(th[S.text]));for(this.consume();;){S=this.fetch().text;if(!th[S])break;if(Ff.test(S)!==ra)break;Ka.unshift(new Yf(th[S]));this.consume()}Ka=this.subparse(Ka);ra?C={type:"ordgroup",mode:"math",body:Ka}:ba={type:"ordgroup",mode:"math",body:Ka}}else break}return ba||C?{type:"supsub",
mode:this.mode,base:u,sup:ba,sub:C}:u}parseFunction(u,C){const S=this.fetch(),ba=S.text,ra=se[ba];if(!ra)return null;this.consume();if(C&&"atom"!==C&&!ra.allowedInArgument)throw new Ba("Got function '"+ba+"' with no arguments"+(C?" as "+C:""),S);if("text"===this.mode&&!ra.allowedInText)throw new Ba("Can't use function '"+ba+"' in text mode",S);if("math"===this.mode&&!1===ra.allowedInMath)throw new Ba("Can't use function '"+ba+"' in math mode",S);const {args:Ka,optArgs:Na}=this.parseArguments(ba,ra);
return this.callFunction(ba,Ka,Na,S,u)}callFunction(u,C,S,ba,ra){ba={funcName:u,parser:this,token:ba,breakOnTokenText:ra};if((ra=se[u])&&ra.handler)return ra.handler(ba,C,S);throw new Ba("No function handler for "+u);}parseArguments(u,C){const S=C.numArgs+C.numOptionalArgs;if(0===S)return{args:[],optArgs:[]};const ba=[],ra=[];for(let Na=0;Na<S;Na++){var Ka=C.argTypes&&C.argTypes[Na];const nb=Na<C.numOptionalArgs;if(C.primitive&&null==Ka||"sqrt"===C.type&&1===Na&&null==ra[0])Ka="primitive";Ka=this.parseGroupOfType("argument to '"+
u+"'",Ka,nb);if(nb)ra.push(Ka);else if(null!=Ka)ba.push(Ka);else throw new Ba("Null argument, please report this as a bug");}return{args:ba,optArgs:ra}}parseGroupOfType(u,C,S){switch(C){case "color":return this.parseColorGroup(S);case "size":return this.parseSizeGroup(S);case "url":return this.parseUrlGroup(S);case "math":case "text":return this.parseArgumentGroup(S,C);case "hbox":return u=this.parseArgumentGroup(S,"text"),null!=u?{type:"styling",mode:u.mode,body:[u],style:"text"}:null;case "raw":return u=
this.parseStringGroup("raw",S),null!=u?{type:"raw",mode:"text",string:u.text}:null;case "primitive":if(S)throw new Ba("A primitive argument cannot be optional");C=this.parseGroup(u);if(null==C)throw new Ba("Expected group as "+u,this.fetch());return C;case "original":case null:case void 0:return this.parseArgumentGroup(S);default:throw new Ba("Unknown group type as "+u,this.fetch());}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(u,C){u=this.gullet.scanArgument(C);
if(null==u)return null;C="";let S;for(;"EOF"!==(S=this.fetch()).text;)C+=S.text,this.consume();this.consume();u.text=C;return u}parseRegexGroup(u,C){const S=this.fetch();let ba=S,ra="",Ka;for(;"EOF"!==(Ka=this.fetch()).text&&u.test(ra+Ka.text);)ba=Ka,ra+=ba.text,this.consume();if(""===ra)throw new Ba("Invalid "+C+": '"+S.text+"'",S);return S.range(ba,ra)}parseColorGroup(u){u=this.parseStringGroup("color",u);if(null==u)return null;const C=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(u.text);if(!C)throw new Ba("Invalid color: '"+
u.text+"'",u);u=C[0];/^[0-9a-f]{6}$/i.test(u)&&(u="#"+u);return{type:"color-token",mode:this.mode,color:u}}parseSizeGroup(u){let C,S=!1;this.gullet.consumeSpaces();C=u||"{"===this.gullet.future().text?this.parseStringGroup("size",u):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size");if(!C)return null;u||0!==C.text.length||(C.text="0pt",S=!0);u=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(C.text);if(!u)throw new Ba("Invalid size: '"+C.text+"'",C);u={number:+(u[1]+u[2]),
unit:u[3]};if(!bd(u))throw new Ba("Invalid unit: '"+u.unit+"'",C);return{type:"size",mode:this.mode,value:u,isBlank:S}}parseUrlGroup(u){this.gullet.lexer.setCatcode("%",13);this.gullet.lexer.setCatcode("~",12);u=this.parseStringGroup("url",u);this.gullet.lexer.setCatcode("%",14);this.gullet.lexer.setCatcode("~",13);if(null==u)return null;u=u.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:u}}parseArgumentGroup(u,C){var S=this.gullet.scanArgument(u);if(null==S)return null;
u=this.mode;C&&this.switchMode(C);this.gullet.beginGroup();const ba=this.parseExpression(!1,"EOF");this.expect("EOF");this.gullet.endGroup();S={type:"ordgroup",mode:this.mode,loc:S.loc,body:ba};C&&this.switchMode(u);return S}parseGroup(u,C){const S=this.fetch(),ba=S.text;if("{"===ba||"\\begingroup"===ba){this.consume();u="{"===ba?"}":"\\endgroup";this.gullet.beginGroup();C=this.parseExpression(!1,u);const ra=this.fetch();this.expect(u);this.gullet.endGroup();u={type:"ordgroup",mode:this.mode,loc:jf.range(S,
ra),body:C,semisimple:"\\begingroup"===ba||void 0}}else if(u=this.parseFunction(C,u)||this.parseSymbol(),null==u&&"\\"===ba[0]&&!ug.hasOwnProperty(ba)){if(this.settings.throwOnError)throw new Ba("Undefined control sequence: "+ba,S);u=this.formatUnsupportedCmd(ba);this.consume()}return u}formLigatures(u){let C=u.length-1;for(let S=0;S<C;++S){const ba=u[S],ra=ba.text;"-"===ra&&"-"===u[S+1].text&&(S+1<C&&"-"===u[S+2].text?(u.splice(S,3,{type:"textord",mode:"text",loc:jf.range(ba,u[S+2]),text:"---"}),
C-=2):(u.splice(S,2,{type:"textord",mode:"text",loc:jf.range(ba,u[S+1]),text:"--"}),--C));"'"!==ra&&"`"!==ra||u[S+1].text!==ra||(u.splice(S,2,{type:"textord",mode:"text",loc:jf.range(ba,u[S+1]),text:ra+ra}),--C)}}parseSymbol(){var u=this.fetch(),C=u.text;if(/^\\verb[^a-zA-Z]/.test(C)){this.consume();u=C.slice(5);var S="*"===u.charAt(0);S&&(u=u.slice(1));if(2>u.length||u.charAt(0)!==u.slice(-1))throw new Ba("\\verb assertion failed --\n                    please report what input caused this bug");
u=u.slice(1,-1);return{type:"verb",mode:"text",body:u,star:S}}Ng.hasOwnProperty(C[0])&&!gc[this.mode][C[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+C[0]+'" used in math mode',u),C=Ng[C[0]]+C.slice(1));if(S=Ag.exec(C))C=C.substring(0,S.index),"i"===C?C="ı":"j"===C&&(C="ȷ");if(gc[this.mode][C]){this.settings.strict&&"math"===this.mode&&0<="ÐÞþ".indexOf(C)&&this.settings.reportNonstrict("unicodeTextInMathMode",
'Latin-1/Unicode text character "'+C[0]+'" used in math mode',u);var ba=gc[this.mode][C].group,ra=jf.range(u);C=pe.hasOwnProperty(ba)?{type:"atom",mode:this.mode,family:ba,loc:ra,text:C}:{type:ba,mode:this.mode,loc:ra,text:C}}else if(128<=C.charCodeAt(0))this.settings.strict&&(r(C.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+C[0]+'" used in math mode',u):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+
C[0]+'" ('+(C.charCodeAt(0)+")"),u)),C={type:"textord",mode:"text",loc:jf.range(u),text:C};else return null;this.consume();if(S)for(ba=0;ba<S[0].length;ba++){ra=S[0][ba];if(!Mg[ra])throw new Ba("Unknown accent ' "+ra+"'",u);const Ka=Mg[ra][this.mode]||Mg[ra].text;if(!Ka)throw new Ba("Accent "+ra+" unsupported in "+this.mode+" mode",u);C={type:"accent",mode:this.mode,loc:jf.range(u),label:Ka,isStretchy:!1,isShifty:!0,base:C}}return C}}Hg.endOfExpression=["}","\\endgroup","\\end","\\right","\x26"];
var ch=function(u,C){if(!("string"===typeof u||u instanceof String))throw new TypeError("KaTeX can only parse string typed expression");u=new Hg(u,C);delete u.gullet.macros.current["\\df@tag"];let S=u.parse();delete u.gullet.macros.current["\\current@color"];delete u.gullet.macros.current["\\color"];if(u.gullet.macros.get("\\df@tag")){if(!C.displayMode)throw new Ba("\\tag works only in display equations");S=[{type:"tag",mode:"text",body:S,tag:u.subparse([new Yf("\\df@tag")])}]}return S};let wb=function(u,
C,S){C.textContent="";u=yd(u,S).toNode();C.appendChild(u)};"undefined"!==typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!==typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),wb=function(){throw new Ba("KaTeX doesn't work in quirks mode.");});const fd=function(u,C,S){if(S.throwOnError||!(u instanceof Ba))throw u;C=Nb.makeSpan(["katex-error"],[new ke(C)]);C.setAttribute("title",u.toString());C.setAttribute("style",
"color:"+S.errorColor);return C},yd=function(u,C){C=new Fb(C);try{{var S=ch(u,C);const ra=md(C);let Ka;if("mathml"===C.output)var ba=x(S,u,ra,C.displayMode,!0);else{if("html"===C.output){const Na=k(S,ra);Ka=Nb.makeSpan(["katex"],[Na])}else{const Na=x(S,u,ra,C.displayMode,!1),nb=k(S,ra);Ka=Nb.makeSpan(["katex"],[Na,nb])}ba=Qd(Ka,C)}}return ba}catch(ra){return fd(ra,u,C)}};var Nd={version:"0.16.11",render:wb,renderToString:function(u,C){return yd(u,C).toMarkup()},ParseError:Ba,SETTINGS_SCHEMA:Ja,__parse:function(u,
C){C=new Fb(C);return ch(u,C)},__renderToDomTree:yd,__renderToHTMLTree:function(u,C){C=new Fb(C);try{var S=ch(u,C);const ba=md(C),ra=k(S,ba),Ka=Nb.makeSpan(["katex"],[ra]);return Qd(Ka,C)}catch(ba){return fd(ba,u,C)}},__setFontMetrics:function(u,C){Ua[u]=C},__defineSymbol:c,__defineFunction:g,__defineMacro:Q,__domTree:{Span:de,Anchor:ge,SymbolNode:ke,SvgNode:nd,PathNode:od,LineNode:te}};return gb=gb["default"]}()})};
shadow$provide[543]=function(G,B,X,p){function w(...x){return A=>x.forEach(y=>{"function"===typeof y?y(A):null!==y&&void 0!==y&&(y.current=A)})}function r(...x){return t.useCallback(w(...x),x)}var m=Object.create,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,k=(x,A,y,E)=>{if(A&&"object"===typeof A||"function"===typeof A)for(let F of g(A))l.call(x,F)||F===y||d(x,F,{get:()=>A[F],enumerable:!(E=c(A,F))||
E.enumerable});return x};G={};((x,A)=>{for(var y in A)d(x,y,{get:A[y],enumerable:!0})})(G,{composeRefs:()=>w,useComposedRefs:()=>r});X.exports=(x=>k(d({},"__esModule",{value:!0}),x))(G);var t=((x,A,y)=>(y=null!=x?m(h(x)):{},k(!A&&x&&x.__esModule?y:d(y,"default",{value:x,enumerable:!0}),x)))(B(0))};
shadow$provide[544]=function(G,B,X,p){function w(g,h,l){var k,t={},x=null,A=null;void 0!==l&&(x=""+l);void 0!==h.key&&(x=""+h.key);void 0!==h.ref&&(A=h.ref);for(k in h)m.call(h,k)&&!c.hasOwnProperty(k)&&(t[k]=h[k]);if(g&&g.defaultProps)for(k in h=g.defaultProps,h)void 0===t[k]&&(t[k]=h[k]);return{$$typeof:r,type:g,key:x,ref:A,props:t,_owner:d.current}}G=B(0);var r=Symbol.for("react.element");B=Symbol.for("react.fragment");var m=Object.prototype.hasOwnProperty,d=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
c={key:!0,ref:!0,__self:!0,__source:!0};p.Fragment=B;p.jsx=w;p.jsxs=w};
shadow$provide[546]=function(G,B,X,p){X.exports=B(544)};
shadow$provide[547]=function(G,B,X,p){function w(P){return t.isValidElement(P)&&P.type===F}function r(P,K){const T={...K};for(const aa in K){const Q=P[aa],O=K[aa];/^on[A-Z]/.test(aa)?Q&&O?T[aa]=(...da)=>{O(...da);Q(...da)}:Q&&(T[aa]=Q):"style"===aa?T[aa]={...Q,...O}:"className"===aa&&(T[aa]=[Q,O].filter(Boolean).join(" "))}return{...P,...T}}var m=Object.create,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,
k=(P,K,T,aa)=>{if(K&&"object"===typeof K||"function"===typeof K)for(let Q of g(K))l.call(P,Q)||Q===T||d(P,Q,{get:()=>K[Q],enumerable:!(aa=c(K,Q))||aa.enumerable});return P};G={};((P,K)=>{for(var T in K)d(P,T,{get:K[T],enumerable:!0})})(G,{Root:()=>H,Slot:()=>y,Slottable:()=>F});X.exports=(P=>k(d({},"__esModule",{value:!0}),P))(G);var t=((P,K,T)=>(T=null!=P?m(h(P)):{},k(!K&&P&&P.__esModule?T:d(T,"default",{value:P,enumerable:!0}),P)))(B(0)),x=B(543),A=B(546),y=t.forwardRef((P,K)=>{const {children:T,
...aa}=P;P=t.Children.toArray(T);const Q=P.find(w);if(Q){const O=Q.props.children;P=P.map(da=>da===Q?1<t.Children.count(O)?t.Children.only(null):t.isValidElement(O)?O.props.children:null:da);return(0,A.jsx)(E,{...aa,ref:K,children:t.isValidElement(O)?t.cloneElement(O,void 0,P):null})}return(0,A.jsx)(E,{...aa,ref:K,children:T})});y.displayName="Slot";var E=t.forwardRef((P,K)=>{const {children:T,...aa}=P;return t.isValidElement(T)?(P=(P=(P=Object.getOwnPropertyDescriptor(T.props,"ref")?.get)&&"isReactWarning"in
P&&P.isReactWarning)?T.ref:(P=(P=Object.getOwnPropertyDescriptor(T,"ref")?.get)&&"isReactWarning"in P&&P.isReactWarning)?T.props.ref:T.props.ref||T.ref,t.cloneElement(T,{...r(aa,T.props),ref:K?(0,x.composeRefs)(K,P):P})):1<t.Children.count(T)?t.Children.only(null):null});E.displayName="SlotClone";var F=({children:P})=>(0,A.jsx)(A.Fragment,{children:P}),H=y};
shadow$provide[548]=function(G,B,X,p){function w(F,H){F&&t.flushSync(()=>F.dispatchEvent(H))}var r=Object.create,m=Object.defineProperty,d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,g=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(F,H,P,K)=>{if(H&&"object"===typeof H||"function"===typeof H)for(let T of c(H))h.call(F,T)||T===P||m(F,T,{get:()=>H[T],enumerable:!(K=d(H,T))||K.enumerable});return F};G=(F,H,P)=>(P=null!=F?r(g(F)):{},l(!H&&F&&F.__esModule?P:m(P,"default",{value:F,
enumerable:!0}),F));p={};((F,H)=>{for(var P in H)m(F,P,{get:H[P],enumerable:!0})})(p,{Primitive:()=>y,Root:()=>E,dispatchDiscreteCustomEvent:()=>w});X.exports=(F=>l(m({},"__esModule",{value:!0}),F))(p);var k=G(B(0)),t=G(B(1)),x=B(547),A=B(546),y="a button div form h2 h3 img input label li nav ol p span svg ul".split(" ").reduce((F,H)=>{const P=k.forwardRef((K,T)=>{const {asChild:aa,...Q}=K;K=aa?x.Slot:H;"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0);return(0,A.jsx)(K,{...Q,ref:T})});
P.displayName=`Primitive.${H}`;return{...F,[H]:P}},{}),E=y};
shadow$provide[549]=function(G,B,X,p){var w=Object.create,r=Object.defineProperty,m=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,h=(k,t,x,A)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let y of d(t))g.call(k,y)||y===x||r(k,y,{get:()=>t[y],enumerable:!(A=m(t,y))||A.enumerable});return k};G={};((k,t)=>{for(var x in t)r(k,x,{get:t[x],enumerable:!0})})(G,{useLayoutEffect:()=>l});X.exports=(k=>h(r({},"__esModule",{value:!0}),
k))(G);B=((k,t,x)=>(x=null!=k?w(c(k)):{},h(!t&&k&&k.__esModule?x:r(x,"default",{value:k,enumerable:!0}),k)))(B(0));var l=globalThis?.document?B.useLayoutEffect:()=>{}};
shadow$provide[550]=function(G,B,X,p){"use client";var w=Object.create,r=Object.defineProperty,m=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,h=(F,H,P,K)=>{if(H&&"object"===typeof H||"function"===typeof H)for(let T of d(H))g.call(F,T)||T===P||r(F,T,{get:()=>H[T],enumerable:!(K=m(H,T))||K.enumerable});return F};G=(F,H,P)=>(P=null!=F?w(c(F)):{},h(!H&&F&&F.__esModule?P:r(P,"default",{value:F,enumerable:!0}),F));p={};((F,H)=>{for(var P in H)r(F,
P,{get:H[P],enumerable:!0})})(p,{Portal:()=>y,Root:()=>E});X.exports=(F=>h(r({},"__esModule",{value:!0}),F))(p);var l=G(B(0)),k=G(B(1)),t=B(548),x=B(549),A=B(546),y=l.forwardRef((F,H)=>{const {container:P,...K}=F,[T,aa]=l.useState(!1);(0,x.useLayoutEffect)(()=>aa(!0),[]);return(F=P||T&&globalThis?.document?.body)?k.default.createPortal((0,A.jsx)(t.Primitive.div,{...K,ref:H}),F):null});y.displayName="Portal";var E=y};
shadow$provide[551]=function(G,B,X,p){function w(m,d){var c,g;if(m===d)return!0;if(m&&d&&(c=m.constructor)===d.constructor){if(c===Date)return m.getTime()===d.getTime();if(c===RegExp)return m.toString()===d.toString();if(c===Array){if((g=m.length)===d.length)for(;g--&&w(m[g],d[g]););return-1===g}if(!c||"object"===typeof m){g=0;for(c in m)if(r.call(m,c)&&++g&&!r.call(d,c)||!(c in d&&w(m[c],d[c])))return!1;return Object.keys(d).length===g}}return m!==m&&d!==d}var r=Object.prototype.hasOwnProperty;p.dequal=
w};
shadow$provide[552]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});p["default"]=function(w,r){if(Object.is(w,r))return!0;if("object"!==typeof w||null===w||"object"!==typeof r||null===r)return!1;var m=Object.keys(w);if(m.length!==Object.keys(r).length)return!1;for(var d=0;d<m.length;d++)if(!Object.prototype.hasOwnProperty.call(r,m[d])||!Object.is(w[m[d]],r[m[d]]))return!1;return!0}};
shadow$provide[553]=function(G,B,X,p){function w(Q,O){void 0===O&&(O="simple");return"object"===typeof Q?Q[O]:Q}function r(Q,O,da){if(Q.length){var ea=Q.shift();Q=r(Q,O,da);return ea.perform(Q,da)}return w(O)}function m(Q,O,da){if(Q.length){var ea=Q.shift();Q=m(Q,O,da);return ea.performAsync(Q,da)}return function(za){return Promise.resolve(w(O,"async")(za))}}function d(Q,O,da,ea){if(O.length){var za=O.shift();za._testAsync(Q).then(function(){d(Q,O,da,ea)},function(Ea){ea(new F(za,Q,Ea))})}else da(Q)}
function c(){return"undefined"!==typeof Proxy?g(new H):h(new H)}function g(Q){return new Proxy(Q,{get:function(O,da){if(da in O)return O[da];O=g(Q._clone());if(da in T)return O._applyModifier(T[da],da);if(da in K)return O._applyRule(K[da],da);if(da in aa)return O._applyRule(aa[da],da)}})}function h(Q){var O=function(ea,za){Object.keys(ea).forEach(function(Ea){za[Ea]=function(){for(var sa=[],gb=arguments.length;gb--;)sa[gb]=arguments[gb];return h(za._clone())._applyRule(ea[Ea],Ea).apply(void 0,sa)}});
return za};Q=O(aa,Q);var da=O(K,Q);Object.keys(T).forEach(function(ea){Object.defineProperty(da,ea,{get:function(){return h(da._clone())._applyModifier(T[ea],ea)}})});return da}function l(Q){return Q&&"schema"===Q.name&&0<Q.args.length&&"object"===typeof Q.args[0]}function k(Q){return"string"===typeof Q?Q.split(""):Q}function t(Q){return function(O){return Array.isArray(O)&&"array"===Q||null===O&&"null"===Q||typeof O===Q}}function x(Q){return"number"===typeof Q&&isFinite(Q)&&Math.floor(Q)===Q}function A(Q){return{simple:function(O){var da=
[];Object.keys(Q).forEach(function(ea){var za=Q[ea];try{za.check((O||{})[ea])}catch(Ea){Ea.target=ea,da.push(Ea)}});if(0<da.length)throw da;return!0},async:function(O){var da=[],ea=Object.keys(Q).map(function(za){return Q[za].testAsync((O||{})[za]).catch(function(Ea){Ea.target=za;da.push(Ea)})});return Promise.all(ea).then(function(){if(0<da.length)throw da;return!0})}}}var y=function(Q,O,da,ea){this.name=Q;this.fn=O;this.args=da;this.modifiers=ea};y.prototype._test=function(Q){var O=this.fn;try{r(this.modifiers.slice(),
O,this)(Q)}catch(da){O=function(){return!1}}try{return r(this.modifiers.slice(),O,this)(Q)}catch(da){return!1}};y.prototype._check=function(Q){try{r(this.modifiers.slice(),this.fn,this)(Q)}catch(O){if(r(this.modifiers.slice(),function(da){return da},this)(!1))return}if(!r(this.modifiers.slice(),this.fn,this)(Q))throw null;};y.prototype._testAsync=function(Q){var O=this;return new Promise(function(da,ea){m(O.modifiers.slice(),O.fn,O)(Q).then(function(za){za?da(Q):ea(null)}).catch(function(za){return ea(za)})})};
var E=function(Q,O,da){this.name=Q;this.perform=O;this.performAsync=da},F=function(Q){function O(da,ea,za,Ea){for(var sa=[],gb=arguments.length-4;0<gb--;)sa[gb]=arguments[gb+4];Q.call(this,sa);Q.captureStackTrace&&Q.captureStackTrace(this,O);this.rule=da;this.value=ea;this.cause=za;this.target=Ea}Q&&(O.__proto__=Q);O.prototype=Object.create(Q&&Q.prototype);return O.prototype.constructor=O}(Error),H=function(Q,O){void 0===Q&&(Q=[]);void 0===O&&(O=[]);this.chain=Q;this.nextRuleModifiers=O};H.prototype._applyRule=
function(Q,O){var da=this;return function(){for(var ea=[],za=arguments.length;za--;)ea[za]=arguments[za];da.chain.push(new y(O,Q.apply(da,ea),ea,da.nextRuleModifiers));da.nextRuleModifiers=[];return da}};H.prototype._applyModifier=function(Q,O){this.nextRuleModifiers.push(new E(O,Q.simple,Q.async));return this};H.prototype._clone=function(){return new H(this.chain.slice(),this.nextRuleModifiers.slice())};H.prototype.test=function(Q){return this.chain.every(function(O){return O._test(Q)})};H.prototype.testAll=
function(Q){var O=[];this.chain.forEach(function(da){try{da._check(Q)}catch(ea){O.push(new F(da,Q,ea))}});return O};H.prototype.check=function(Q){this.chain.forEach(function(O){try{O._check(Q)}catch(da){throw new F(O,Q,da);}})};H.prototype.testAsync=function(Q){var O=this;return new Promise(function(da,ea){d(Q,O.chain.slice(),da,ea)})};var P=function(Q,O){return O&&"string"===typeof Q&&0===Q.trim().length?!0:void 0===Q||null===Q},K={};c.extend=function(Q){Object.assign(K,Q)};c.clearCustomRules=function(){K=
{}};var T={not:{simple:function(Q){return function(O){return!Q(O)}},async:function(Q){return function(O){return Promise.resolve(Q(O)).then(function(da){return!da}).catch(function(){return!0})}}},some:{simple:function(Q){return function(O){return k(O).some(function(da){try{return Q(da)}catch(ea){return!1}})}},async:function(Q){return function(O){return Promise.all(k(O).map(function(da){try{return Q(da).catch(function(){return!1})}catch(ea){return!1}})).then(function(da){return da.some(Boolean)})}}},
every:{simple:function(Q){return function(O){return!1!==O&&k(O).every(Q)}},async:function(Q){return function(O){return Promise.all(k(O).map(Q)).then(function(da){return da.every(Boolean)})}}},strict:{simple:function(Q,O){return function(da){return l(O)&&da&&"object"===typeof da?Object.keys(O.args[0]).length===Object.keys(da).length&&Q(da):Q(da)}},async:function(Q,O){return function(da){return Promise.resolve(Q(da)).then(function(ea){return l(O)&&da&&"object"===typeof da?Object.keys(O.args[0]).length===
Object.keys(da).length&&ea:ea}).catch(function(){return!1})}}}},aa={equal:function(Q){return function(O){return O==Q}},exact:function(Q){return function(O){return O===Q}},number:function(Q){void 0===Q&&(Q=!0);return function(O){return"number"===typeof O&&(Q||isFinite(O))}},integer:function(){return function(Q){return(Number.isInteger||x)(Q)}},numeric:function(){return function(Q){return!isNaN(parseFloat(Q))&&isFinite(Q)}},string:function(){return t("string")},boolean:function(){return t("boolean")},
undefined:function(){return t("undefined")},null:function(){return t("null")},array:function(){return t("array")},object:function(){return t("object")},instanceOf:function(Q){return function(O){return O instanceof Q}},pattern:function(Q){return function(O){return Q.test(O)}},lowercase:function(){return function(Q){return"boolean"===typeof Q||Q===Q.toLowerCase()&&""!==Q.trim()}},uppercase:function(){return function(Q){return Q===Q.toUpperCase()&&""!==Q.trim()}},vowel:function(){return function(Q){return/^[aeiou]+$/i.test(Q)}},
consonant:function(){return function(Q){return/^(?=[^aeiou])([a-z]+)$/i.test(Q)}},first:function(Q){return function(O){return O[0]==Q}},last:function(Q){return function(O){return O[O.length-1]==Q}},empty:function(){return function(Q){return 0===Q.length}},length:function(Q,O){return function(da){return da.length>=Q&&da.length<=(O||Q)}},minLength:function(Q){return function(O){return O.length>=Q}},maxLength:function(Q){return function(O){return O.length<=Q}},negative:function(){return function(Q){return 0>
Q}},positive:function(){return function(Q){return 0<=Q}},between:function(Q,O){return function(da){return da>=Q&&da<=O}},range:function(Q,O){return function(da){return da>=Q&&da<=O}},lessThan:function(Q){return function(O){return O<Q}},lessThanOrEqual:function(Q){return function(O){return O<=Q}},greaterThan:function(Q){return function(O){return O>Q}},greaterThanOrEqual:function(Q){return function(O){return O>=Q}},even:function(){return function(Q){return 0===Q%2}},odd:function(){return function(Q){return 0!==
Q%2}},includes:function(Q){return function(O){return~O.indexOf(Q)}},schema:function(Q){return A(Q)},passesAnyOf:function(){for(var Q=[],O=arguments.length;O--;)Q[O]=arguments[O];return function(da){return Q.some(function(ea){return ea.test(da)})}},optional:function(Q,O){void 0===O&&(O=!1);return{simple:function(da){return P(da,O)||void 0===Q.check(da)},async:function(da){return P(da,O)||Q.testAsync(da)}}}};X.exports=c};
shadow$provide[554]=function(G,B,X,p){var w,r={gap:"space",gridGap:"space",columnGap:"space",gridColumnGap:"space",rowGap:"space",gridRowGap:"space",inset:"space",insetBlock:"space",insetBlockEnd:"space",insetBlockStart:"space",insetInline:"space",insetInlineEnd:"space",insetInlineStart:"space",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",
marginInlineStart:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",top:"space",right:"space",bottom:"space",left:"space",scrollMargin:"space",scrollMarginTop:"space",scrollMarginRight:"space",scrollMarginBottom:"space",scrollMarginLeft:"space",scrollMarginX:"space",scrollMarginY:"space",scrollMarginBlock:"space",
scrollMarginBlockEnd:"space",scrollMarginBlockStart:"space",scrollMarginInline:"space",scrollMarginInlineEnd:"space",scrollMarginInlineStart:"space",scrollPadding:"space",scrollPaddingTop:"space",scrollPaddingRight:"space",scrollPaddingBottom:"space",scrollPaddingLeft:"space",scrollPaddingX:"space",scrollPaddingY:"space",scrollPaddingBlock:"space",scrollPaddingBlockEnd:"space",scrollPaddingBlockStart:"space",scrollPaddingInline:"space",scrollPaddingInlineEnd:"space",scrollPaddingInlineStart:"space",
fontSize:"fontSizes",background:"colors",backgroundColor:"colors",backgroundImage:"colors",borderImage:"colors",border:"colors",borderBlock:"colors",borderBlockEnd:"colors",borderBlockStart:"colors",borderBottom:"colors",borderBottomColor:"colors",borderColor:"colors",borderInline:"colors",borderInlineEnd:"colors",borderInlineStart:"colors",borderLeft:"colors",borderLeftColor:"colors",borderRight:"colors",borderRightColor:"colors",borderTop:"colors",borderTopColor:"colors",caretColor:"colors",color:"colors",
columnRuleColor:"colors",fill:"colors",outline:"colors",outlineColor:"colors",stroke:"colors",textDecorationColor:"colors",fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:"sizes",minBlockSize:"sizes",maxBlockSize:"sizes",inlineSize:"sizes",minInlineSize:"sizes",maxInlineSize:"sizes",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",gridTemplateColumns:"sizes",gridTemplateRows:"sizes",
borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",
zIndex:"zIndices"},m=(Ha,Qa)=>"function"==typeof Qa?{"()":Function.prototype.toString.call(Qa)}:Qa;G=()=>{const Ha=Object.create(null);return(Qa,cb,...Ab)=>{const ma=JSON.stringify(Qa,m);return ma in Ha?Ha[ma]:Ha[ma]=cb(Qa,...Ab)}};var d=Symbol.for("sxs.internal"),c=(Ha,Qa)=>Object.defineProperties(Ha,Object.getOwnPropertyDescriptors(Qa)),g=Ha=>{for(const Qa in Ha)return!0;return!1},{hasOwnProperty:h}=Object.prototype,l=Ha=>Ha.includes("-")?Ha:Ha.replace(/[A-Z]/g,Qa=>"-"+Qa.toLowerCase()),k=/\s+(?![^()]*\))/;
p=Ha=>Qa=>Ha(...("string"==typeof Qa?String(Qa).split(k):[Qa]));var t={appearance:Ha=>({WebkitAppearance:Ha,appearance:Ha}),backfaceVisibility:Ha=>({WebkitBackfaceVisibility:Ha,backfaceVisibility:Ha}),backdropFilter:Ha=>({WebkitBackdropFilter:Ha,backdropFilter:Ha}),backgroundClip:Ha=>({WebkitBackgroundClip:Ha,backgroundClip:Ha}),boxDecorationBreak:Ha=>({WebkitBoxDecorationBreak:Ha,boxDecorationBreak:Ha}),clipPath:Ha=>({WebkitClipPath:Ha,clipPath:Ha}),content:Ha=>({content:Ha.includes('"')||Ha.includes("'")||
/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(Ha)?Ha:`"${Ha}"`}),hyphens:Ha=>({WebkitHyphens:Ha,hyphens:Ha}),maskImage:Ha=>({WebkitMaskImage:Ha,maskImage:Ha}),maskSize:Ha=>({WebkitMaskSize:Ha,maskSize:Ha}),tabSize:Ha=>({MozTabSize:Ha,tabSize:Ha}),textSizeAdjust:Ha=>({WebkitTextSizeAdjust:Ha,textSizeAdjust:Ha}),userSelect:Ha=>({WebkitUserSelect:Ha,userSelect:Ha}),marginBlock:p((Ha,Qa)=>({marginBlockStart:Ha,marginBlockEnd:Qa||Ha})),marginInline:p((Ha,Qa)=>({marginInlineStart:Ha,
marginInlineEnd:Qa||Ha})),maxSize:p((Ha,Qa)=>({maxBlockSize:Ha,maxInlineSize:Qa||Ha})),minSize:p((Ha,Qa)=>({minBlockSize:Ha,minInlineSize:Qa||Ha})),paddingBlock:p((Ha,Qa)=>({paddingBlockStart:Ha,paddingBlockEnd:Qa||Ha})),paddingInline:p((Ha,Qa)=>({paddingInlineStart:Ha,paddingInlineEnd:Qa||Ha}))},x=/([\d.]+)([^]*)/,A=(Ha,Qa)=>Ha.length?Ha.reduce((cb,Ab)=>(cb.push(...Qa.map(ma=>ma.includes("\x26")?ma.replace(/&/g,/[ +>|~]/.test(Ab)&&/&.*&/.test(ma)?`:is(${Ab})`:Ab):Ab+" "+ma)),cb),[]):Qa,y=(Ha,Qa)=>
Ha in E&&"string"==typeof Qa?Qa.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(cb,Ab,ma,la)=>Ab+("stretch"===ma?`-moz-available${la};${l(Ha)}:${Ab}-webkit-fill-available`:`-moz-fit-content${la};${l(Ha)}:${Ab}fit-content`)+la):String(Qa),E={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},F=Ha=>Ha?Ha+"-":"",H=(Ha,Qa,cb)=>Ha.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,
(Ab,ma,la,Ra,Sa)=>"$"==Ra==!!la?Ab:(ma||"--"==Ra?"calc(":"")+"var(--"+("$"===Ra?(Qa?Qa+"-":"")+(Sa.includes("$")?"":cb?cb+"-":"")+Sa.replace(/\$/g,"-"):Sa)+")"+(ma||"--"==Ra?"*"+(ma||"")+(la||"1")+")":"")),P=/\s*,\s*(?![^()]*\))/,K=Object.prototype.toString,T=(Ha,Qa,cb,Ab,ma)=>{let la,Ra,Sa;const ob=(oa,Va,Ua)=>{let ua,Ta;const hb=Bb=>{for(ua in Bb){const ed=64===ua.charCodeAt(0);var Db=ed&&Array.isArray(Bb[ua])?Bb[ua]:[Bb[ua]];for(Ta of Db){Db=/[A-Z]/.test(Yc=ua)?Yc:Yc.replace(/-[^]/g,bd=>bd[1].toUpperCase());
var Sb="object"==typeof Ta&&Ta&&Ta.toString===K&&(!Ab.utils[Db]||!Va.length);if(Db in Ab.utils&&!Sb){var tc=Ab.utils[Db];if(tc!==Ra){Ra=tc;hb(tc(Ta));Ra=null;continue}}else if(Db in t&&(tc=t[Db],tc!==Sa)){Sa=tc;hb(tc(Ta));Sa=null;continue}(ed&&(dc=ua.slice(1)in Ab.media?"@media "+Ab.media[ua.slice(1)]:ua,ua=dc.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(bd,hd,fc,cd,zd,Gd)=>{bd=x.test(hd);const sc=.0625*(bd?-1:1),[de,ge]=bd?[cd,hd]:[hd,cd];return"("+("\x3d"===
fc[0]?"":"\x3e"===fc[0]===bd?"max-":"min-")+de+":"+("\x3d"!==fc[0]&&1===fc.length?ge.replace(x,(Ce,Jb,ke)=>Number(Jb)+sc*("\x3e"===fc?1:-1)+ke):ge)+(zd?") and ("+("\x3e"===zd[0]?"min-":"max-")+de+":"+(1===zd.length?Gd.replace(x,(Ce,Jb,ke)=>Number(Jb)+sc*("\x3e"===zd?-1:1)+ke):Gd):"")+")"})),Sb)?(Db=ed?Ua.concat(ua):[...Ua],Sb=ed?[...Va]:A(Va,ua.split(P)),void 0!==la&&ma(aa(...la)),la=void 0,ob(Ta,Sb,Db)):(void 0===la&&(la=[[],Va,Ua]),ua=ed||36!==ua.charCodeAt(0)?ua:`--${F(Ab.prefix)}${ua.slice(1).replace(/\$/g,
"-")}`,Ta=Sb?Ta:"number"==typeof Ta?Ta&&Db in Q?String(Ta)+"px":String(Ta):H(y(Db,null==Ta?"":Ta),Ab.prefix,Ab.themeMap[Db]),la[0].push(`${ed?`${ua} `:`${l(ua)}:`}${Ta}`))}}var dc,Yc};hb(oa);void 0!==la&&ma(aa(...la));la=void 0};ob(Ha,Qa,cb)},aa=(Ha,Qa,cb)=>`${cb.map(Ab=>`${Ab}{`).join("")}${Qa.length?`${Qa.join(",")}{`:""}${Ha.join(";")}${Qa.length?"}":""}${Array(cb.length?cb.length+1:0).join("}")}`,Q={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,
borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,
borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,
marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,
scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,
transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},O=Ha=>(Qa=>{let cb="";for(Qa=Math.abs(Qa);52<Qa;Qa=Qa/52|0){var Ab=Qa%52;cb=String.fromCharCode(Ab+(25<Ab?39:97))+cb}Qa%=52;return String.fromCharCode(Qa+(25<Qa?39:97))+cb})(((Qa,cb)=>{let Ab=cb.length;for(;Ab;)Qa=33*Qa^cb.charCodeAt(--Ab);return Qa})(5381,JSON.stringify(Ha))>>>0),da="themed global styled onevar resonevar allvar inline".split(" "),ea=Ha=>{if(Ha.href&&!Ha.href.startsWith(location.origin))return!1;try{return!!Ha.cssRules}catch(Qa){return!1}},
za=Ha=>{let Qa;const cb=()=>{const {cssRules:ma}=Qa.sheet;return[].map.call(ma,(la,Ra)=>{const {cssText:Sa}=la;let ob="";if(Sa.startsWith("--sxs"))return"";if(ma[Ra-1]&&(ob=ma[Ra-1].cssText).startsWith("--sxs")){if(!la.cssRules.length)return"";for(const oa in Qa.rules)if(Qa.rules[oa].group===la)return`--sxs{--sxs:${[...Qa.rules[oa].cache].join(" ")}}${Sa}`;return la.cssRules.length?`${ob}${Sa}`:""}return Sa}).join("")},Ab=()=>{if(Qa){const {rules:oa,sheet:Va}=Qa;if(!Va.deleteRule){for(;3===Object(Object(Va.cssRules)[0]).type;)Va.cssRules.splice(0,
1);Va.cssRules=[]}for(var ma in oa)delete oa[ma]}ma=Object(Ha).styleSheets||[];for(var la of ma)if(ea(la)){for(let oa=0,Va=la.cssRules;Va[oa];++oa){var Ra=Object(Va[oa]);if(1!==Ra.type)continue;ma=Object(Va[oa+1]);if(4!==ma.type)continue;++oa;({cssText:Ra}=Ra);if(!Ra.startsWith("--sxs"))continue;Ra=Ra.slice(14,-3).trim().split(/\s+/);const Ua=da[Ra[0]];Ua&&(Qa||(Qa={sheet:la,reset:Ab,rules:{},toString:cb}),Qa.rules[Ua]={group:ma,index:oa,cache:new Set(Ra)})}if(Qa)break}if(!Qa){const oa=(Va,Ua)=>({type:Ua,
cssRules:[],insertRule(ua,Ta){this.cssRules.splice(Ta,0,oa(ua,{import:3,undefined:1}[(ua.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===Va?`@media{${[].map.call(this.cssRules,ua=>ua.cssText).join("")}}`:Va}});Qa={sheet:Ha?(Ha.head||Ha).appendChild(document.createElement("style")).sheet:oa("","text/css"),rules:{},reset:Ab,toString:cb}}const {sheet:Sa,rules:ob}=Qa;for(la=da.length-1;0<=la;--la)ma=da[la],ob[ma]||(Ra=da[la+1],Ra=ob[Ra]?ob[Ra].index:Sa.cssRules.length,
Sa.insertRule("@media{}",Ra),Sa.insertRule(`--sxs{--sxs:${la}}`,Ra),ob[ma]={group:Sa.cssRules[Ra+1],index:Ra,cache:new Set([la])}),Ea(ob[ma])};return Ab(),Qa},Ea=Ha=>{const Qa=Ha.group;let cb=Qa.cssRules.length;Ha.apply=Ab=>{try{Qa.insertRule(Ab,cb),++cb}catch(ma){}}},sa=Symbol(),gb=G(),wa=(Ha,Qa)=>gb(Ha,()=>(...cb)=>{let Ab={type:null,composers:new Set};for(const Sa of cb)if(null!=Sa)if(Sa[d]){null==Ab.type&&(Ab.type=Sa[d].type);for(const ob of Sa[d].composers)Ab.composers.add(ob)}else if(Sa.constructor!==
Object||Sa.$$typeof)null==Ab.type&&(Ab.type=Sa);else{cb=Ab.composers;var ma=cb.add;let {variants:ob,compoundVariants:oa,defaultVariants:Va,...Ua}=Sa;const ua=`${F(Ha.prefix)}c-${O(Ua)}`,Ta=[],hb=[],Bb=Object.create(null),Db=[];for(const Sb in Va)Bb[Sb]=String(Va[Sb]);if("object"==typeof ob&&ob)for(const Sb in ob){var la=Bb;var Ra=Sb;h.call(la,Ra)||(Bb[Sb]="undefined");Ra=ob[Sb];for(const tc in Ra){la={[Sb]:String(tc)};"undefined"===String(tc)&&Db.push(Sb);const dc=Ra[tc];la=[la,dc,!g(dc)];Ta.push(la)}}if("object"==
typeof oa&&oa)for(const Sb of oa){let {css:tc,...dc}=Sb;tc="object"==typeof tc&&tc||{};for(const Yc in dc)dc[Yc]=String(dc[Yc]);Ra=[dc,tc,!g(tc)];hb.push(Ra)}ma.call(cb,[ua,Ua,Ta,hb,Bb,Db])}return null==Ab.type&&(Ab.type="span"),Ab.composers.size||Ab.composers.add(["PJLV",{},[],[],{},[]]),Ba(Ha,Ab,Qa)}),Ba=(Ha,Qa,cb)=>{const [Ab,ma,la,Ra]=Da(Qa.composers),Sa="function"==typeof Qa.type||Qa.type.$$typeof?(Ua=>{function ua(){for(let Ta=0;Ta<ua[sa].length;Ta++){const [hb,Bb]=ua[sa][Ta];Ua.rules[hb].apply(Bb)}return ua[sa]=
[],null}return ua[sa]=[],ua.rules={},da.forEach(Ta=>ua.rules[Ta]={apply:hb=>ua[sa].push([Ta,hb])}),ua})(cb):null,ob=(Sa||cb).rules,oa=`.${Ab}${1<ma.length?`:where(.${ma.slice(1).join(".")})`:""}`,Va=Ua=>{Ua="object"==typeof Ua&&Ua||ib;const {css:ua,...Ta}=Ua;var hb={};for(var Bb in la)if(delete Ta[Bb],Bb in Ua){var Db=Ua[Bb];"object"==typeof Db&&Db?hb[Bb]={"@initial":la[Bb],...Db}:(Db=String(Db),hb[Bb]="undefined"!==Db||Ra.has(Bb)?Db:la[Bb])}else hb[Bb]=la[Bb];Bb=new Set([...ma]);for(const [dc,Yc,
ed,bd]of Qa.composers){cb.rules.styled.cache.has(dc)||(cb.rules.styled.cache.add(dc),T(Yc,[`.${dc}`],[],Ha,hd=>{ob.styled.apply(hd)}));var Sb=pa(ed,hb,Ha.media);Db=pa(bd,hb,Ha.media,!0);for(const hd of Sb)if(void 0!==hd)for(const [fc,cd,zd]of hd){Sb=`${dc}-${O(cd)}-${fc}`;Bb.add(Sb);const Gd=(zd?cb.rules.resonevar:cb.rules.onevar).cache,sc=zd?ob.resonevar:ob.onevar;Gd.has(Sb)||(Gd.add(Sb),T(cd,[`.${Sb}`],[],Ha,de=>{sc.apply(de)}))}for(const hd of Db)if(void 0!==hd)for(const [fc,cd]of hd)Db=`${dc}-${O(cd)}-${fc}`,
Bb.add(Db),cb.rules.allvar.cache.has(Db)||(cb.rules.allvar.cache.add(Db),T(cd,[`.${Db}`],[],Ha,zd=>{ob.allvar.apply(zd)}))}"object"==typeof ua&&ua&&(hb=`${Ab}-i${O(ua)}-css`,Bb.add(hb),cb.rules.inline.cache.has(hb)||(cb.rules.inline.cache.add(hb),T(ua,[`.${hb}`],[],Ha,dc=>{ob.inline.apply(dc)})));for(const dc of String(Ua.className||"").trim().split(/\s+/))dc&&Bb.add(dc);const tc=Ta.className=[...Bb].join(" ");return{type:Qa.type,className:tc,selector:oa,props:Ta,toString:()=>tc,deferredInjector:Sa}};
return c(Va,{className:Ab,selector:oa,[d]:Qa,toString:()=>(cb.rules.styled.cache.has(Ab)||Va(),Ab)})},Da=Ha=>{let Qa="";const cb=[],Ab={},ma=[];for(const [la,,,,Ra,Sa]of Ha){""===Qa&&(Qa=la);cb.push(la);ma.push(...Sa);for(const ob in Ra)Ha=Ra[ob],(void 0===Ab[ob]||"undefined"!==Ha||Sa.includes(Ha))&&(Ab[ob]=Ha)}return[Qa,cb,Ab,new Set(ma)]},pa=(Ha,Qa,cb,Ab)=>{const ma=[];a:for(let [Ra,Sa,ob]of Ha){if(ob)continue;let oa;Ha=0;let Va=!1;for(oa in Ra){const Ua=Ra[oa];let ua=Qa[oa];if(ua!==Ua){if("object"!=
typeof ua||!ua)continue a;var la=void 0;let Ta,hb=0;for(const Bb in ua)Ua===String(ua[Bb])&&("@initial"!==Bb&&(la=Bb.slice(1),(Ta=Ta||[]).push(la in cb?cb[la]:Bb.replace(/^@media ?/,"")),Va=!0),Ha+=hb,la=!0),++hb;if(Ta&&Ta.length&&(Sa={["@media "+Ta.join(", ")]:Sa}),!la)continue a}}(ma[Ha]=ma[Ha]||[]).push([Ab?"cv":`${oa}-${Ra[oa]}`,Sa,Va])}return ma},ib={},$a=G(),eb=(Ha,Qa)=>$a(Ha,()=>(...cb)=>{const Ab=()=>{for(let la of cb){la="object"==typeof la&&la||{};var ma=O(la);if(!Qa.rules.global.cache.has(ma)){if(Qa.rules.global.cache.add(ma),
"@import"in la){ma=[].indexOf.call(Qa.sheet.cssRules,Qa.rules.themed.group)-1;for(let Ra of[].concat(la["@import"]))Ra=Ra.includes('"')||Ra.includes("'")?Ra:`"${Ra}"`,Qa.sheet.insertRule(`@import ${Ra};`,ma++);delete la["@import"]}T(la,[],[],Ha,Ra=>{Qa.rules.global.apply(Ra)})}}return""};return c(Ab,{toString:Ab})}),Ja=G(),Fb=(Ha,Qa)=>Ja(Ha,()=>cb=>{const Ab=`${F(Ha.prefix)}k-${O(cb)}`,ma=()=>{if(!Qa.rules.global.cache.has(Ab)){Qa.rules.global.cache.add(Ab);const la=[];T(cb,[],[],Ha,Sa=>la.push(Sa));
const Ra=`@keyframes ${Ab}{${la.join("")}}`;Qa.rules.global.apply(Ra)}return Ab};return c(ma,{get name(){return ma()},toString:ma})}),Kb=class{constructor(Ha,Qa,cb,Ab){this.token=null==Ha?"":String(Ha);this.value=null==Qa?"":String(Qa);this.scale=null==cb?"":String(cb);this.prefix=null==Ab?"":String(Ab)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+F(this.prefix)+F(this.scale)+this.token}toString(){return this.computedValue}},rb=G(),Pb=(Ha,Qa)=>rb(Ha,()=>(cb,Ab)=>{Ab=
"object"==typeof cb&&cb||Object(Ab);const ma=`.${cb=(cb="string"==typeof cb?cb:"")||`${F(Ha.prefix)}t-${O(Ab)}`}`,la={},Ra=[];for(const ob in Ab){la[ob]={};for(const oa in Ab[ob]){const Va=`--${F(Ha.prefix)}${ob}-${oa}`,Ua=H(String(Ab[ob][oa]),Ha.prefix,ob);la[ob][oa]=new Kb(oa,Ua,ob,Ha.prefix);Ra.push(`${Va}:${Ua}`)}}const Sa=()=>{if(Ra.length&&!Qa.rules.themed.cache.has(cb)){Qa.rules.themed.cache.add(cb);const ob=`${Ab===Ha.theme?":root,":""}.${cb}{${Ra.join(";")}}`;Qa.rules.themed.apply(ob)}return cb};
return{...la,get className(){return Sa()},selector:ma,toString:Sa}}),N=G(),Z=B(0),va=G(),ab=Ha=>{Ha=(Qa=>{let cb=!1;Qa=N(Qa,Ab=>{cb=!0;const ma="prefix"in(Ab="object"==typeof Ab&&Ab||{})?String(Ab.prefix):"",la="object"==typeof Ab.theme&&Ab.theme||{},Ra={prefix:ma,media:"object"==typeof Ab.media&&Ab.media||{},theme:la,themeMap:"object"==typeof Ab.themeMap&&Ab.themeMap||{...r},utils:"object"==typeof Ab.utils&&Ab.utils||{}},Sa=za("object"==typeof Ab.root?Ab.root||null:globalThis.document||null),ob=
{css:wa(Ra,Sa),globalCss:eb(Ra,Sa),keyframes:Fb(Ra,Sa),createTheme:Pb(Ra,Sa),reset(){Sa.reset();ob.theme.toString()},theme:{},sheet:Sa,config:Ra,prefix:ma,getCssText:Sa.toString,toString:Sa.toString};return String(ob.theme=ob.createTheme(la)),ob});return cb||Qa.reset(),Qa})(Ha);return Ha.styled=(Qa=>{let {config:cb,sheet:Ab}=Qa;return va(cb,()=>{const ma=wa(cb,Ab);return(...la)=>{const Ra=ma(...la),Sa=Ra[d].type;la=Z.forwardRef((ob,oa)=>{const Va=ob&&ob.as||Sa,{props:Ua,deferredInjector:ua}=Ra(ob);
return delete Ua.as,Ua.ref=oa,ua?Z.createElement(Z.Fragment,null,Z.createElement(Va,Ua),Z.createElement(ua,null)):Z.createElement(Va,Ua)});return la.className=Ra.className,la.displayName=`Styled.${Sa.displayName||Sa.name||Sa}`,la.selector=Ra.selector,la.toString=()=>Ra.selector,la[d]=Ra[d],la}})})(Ha),Ha};X.exports={createStitches:ab,createTheme:(...Ha)=>(w||(w=ab())).createTheme(...Ha),css:(...Ha)=>(w||(w=ab())).css(...Ha),defaultThemeMap:r,globalCss:(...Ha)=>(w||(w=ab())).globalCss(...Ha),keyframes:(...Ha)=>
(w||(w=ab())).keyframes(...Ha),styled:(...Ha)=>(w||(w=ab())).styled(...Ha)}};
shadow$provide[555]=function(G,B,X,p){function w(m,d,c){return 0===d||Infinity===Math.abs(d)?Math.pow(m,5*c):m*d*c/(d+c*m)}function r(m,d,c,g=.15){return 0===g?Math.max(d,Math.min(m,c)):m<d?-w(d-m,c-d,g)+d:m>c?+w(m-c,c-d,g)+c:m}p.V={toVector(m,d){void 0===m&&(m=d);return Array.isArray(m)?m:[m,m]},add(m,d){return[m[0]+d[0],m[1]+d[1]]},sub(m,d){return[m[0]-d[0],m[1]-d[1]]},addTo(m,d){m[0]+=d[0];m[1]+=d[1]},subTo(m,d){m[0]-=d[0];m[1]-=d[1]}};p.computeRubberband=function(m,[d,c],[g,h]){const [[l,k],[t,
x]]=m;return[r(d,l,k,g),r(c,t,x,h)]};p.rubberbandIfOutOfBounds=r};
shadow$provide[556]=function(G,B,X,p){function w(N,Z,va){a:if("object"===typeof Z&&null!==Z){var ab=Z[Symbol.toPrimitive];if(void 0!==ab){Z=ab.call(Z,"string");if("object"!==typeof Z)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}Z=String(Z)}Z="symbol"===typeof Z?Z:String(Z);Z in N?Object.defineProperty(N,Z,{value:va,enumerable:!0,configurable:!0,writable:!0}):N[Z]=va;return N}function r(N,Z){var va=Object.keys(N);if(Object.getOwnPropertySymbols){var ab=Object.getOwnPropertySymbols(N);
Z&&(ab=ab.filter(function(Ha){return Object.getOwnPropertyDescriptor(N,Ha).enumerable}));va.push.apply(va,ab)}return va}function m(N){for(var Z=1;Z<arguments.length;Z++){var va=null!=arguments[Z]?arguments[Z]:{};Z%2?r(Object(va),!0).forEach(function(ab){w(N,ab,va[ab])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(va)):r(Object(va)).forEach(function(ab){Object.defineProperty(N,ab,Object.getOwnPropertyDescriptor(va,ab))})}return N}function d(N){return N?
N[0].toUpperCase()+N.slice(1):""}function c(N=!1,Z){return N&&!Q.includes(Z)}function g(N){return"touches"in N}function h(N){return g(N)?"touch":"pointerType"in N?N.pointerType:"mouse"}function l(N){return Array.from(N.touches).filter(Z=>{var va,ab;return Z.target===N.currentTarget||(null===(va=N.currentTarget)||void 0===va||null===(ab=va.contains)||void 0===ab?void 0:ab.call(va,Z.target))})}function k(N){return g(N)?("touchend"===N.type||"touchcancel"===N.type?N.changedTouches:N.targetTouches)[0]:
N}function t(N,Z){try{const va=Z.clientX-N.clientX,ab=Z.clientY-N.clientY;return{angle:-(180*Math.atan2(va,ab))/Math.PI,distance:Math.hypot(va,ab),origin:[(Z.clientX+N.clientX)/2,(Z.clientY+N.clientY)/2]}}catch(va){}return null}function x(N,Z){const [va,ab]=Array.from(N.touches).filter(Ha=>Z.includes(Ha.identifier));return t(va,ab)}function A(N){const Z=k(N);return g(N)?Z.identifier:Z.pointerId}function y(N){N=k(N);return[N.clientX,N.clientY]}function E(N){let {deltaX:Z,deltaY:va,deltaMode:ab}=N;
1===ab?(Z*=40,va*=40):2===ab&&(Z*=800,va*=800);return[Z,va]}function F(N,...Z){return"function"===typeof N?N(...Z):N}function H(){}function P([N,Z],va){N=Math.abs(N);Z=Math.abs(Z);if(N>Z&&N>va)return"x";if(Z>N&&Z>va)return"y"}function K(N){const [Z,va]=N.overflow,[ab,Ha]=N._delta,[Qa,cb]=N._direction;if(0>Z&&0<ab&&0>Qa||0<Z&&0>ab&&0<Qa)N._movement[0]=N._movementBound[0];if(0>va&&0<Ha&&0>cb||0<va&&0>Ha&&0<cb)N._movement[1]=N._movementBound[1]}var T=B(555);const aa={pointer:{start:"down",change:"move",
end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}},Q=["enter","leave"],O=["gotpointercapture","lostpointercapture"];class da{constructor(N,Z,va){this.ctrl=N;this.args=Z;this.key=va;this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(N){this.ctrl.state[this.key]=N}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const {state:N,
shared:Z,ingKey:va,args:ab}=this;Z[va]=N._active=N.active=N._blocked=N._force=!1;N._step=[!1,!1];N.intentional=!1;N._movement=[0,0];N._distance=[0,0];N._direction=[0,0];N._delta=[0,0];N._bounds=[[-Infinity,Infinity],[-Infinity,Infinity]];N.args=ab;N.axis=void 0;N.memo=void 0;N.elapsedTime=N.timeDelta=0;N.direction=[0,0];N.distance=[0,0];N.overflow=[0,0];N._movementBound=[!1,!1];N.velocity=[0,0];N.movement=[0,0];N.delta=[0,0];N.timeStamp=0}start(N){const Z=this.state,va=this.config;Z._active||(this.reset(),
this.computeInitial(),Z._active=!0,Z.target=N.target,Z.currentTarget=N.currentTarget,Z.lastOffset=va.from?F(va.from,Z):Z.offset,Z.offset=Z.lastOffset,Z.startTime=Z.timeStamp=N.timeStamp)}computeValues(N){const Z=this.state;Z._values=N;Z.values=this.config.transform(N)}computeInitial(){const N=this.state;N._initial=N._values;N.initial=N.values}compute(N){const {state:Z,config:va,shared:ab}=this;Z.args=this.args;var Ha=0;if(N){Z.event=N;va.preventDefault&&N.cancelable&&Z.event.preventDefault();Z.type=
N.type;ab.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size;ab.locked=!!document.pointerLockElement;Ha=Object;var Qa=Ha.assign,cb={};"buttons"in N&&(cb.buttons=N.buttons);if("shiftKey"in N){const {shiftKey:Db,altKey:Sb,metaKey:tc,ctrlKey:dc}=N;Object.assign(cb,{shiftKey:Db,altKey:Sb,metaKey:tc,ctrlKey:dc})}Qa.call(Ha,ab,cb);ab.down=ab.pressed=1===ab.buttons%2||0<ab.touches;Ha=N.timeStamp-Z.timeStamp;Z.timeStamp=N.timeStamp;Z.elapsedTime=Z.timeStamp-Z.startTime}Z._active&&(Qa=Z._delta.map(Math.abs),
T.V.addTo(Z._distance,Qa));this.axisIntent&&this.axisIntent(N);const [Ab,ma]=Z._movement,[la,Ra]=va.threshold,{_step:Sa,values:ob}=Z;va.hasCustomTransform?(!1===Sa[0]&&(Sa[0]=Math.abs(Ab)>=la&&ob[0]),!1===Sa[1]&&(Sa[1]=Math.abs(ma)>=Ra&&ob[1])):(!1===Sa[0]&&(Sa[0]=Math.abs(Ab)>=la&&Math.sign(Ab)*la),!1===Sa[1]&&(Sa[1]=Math.abs(ma)>=Ra&&Math.sign(ma)*Ra));Z.intentional=!1!==Sa[0]||!1!==Sa[1];if(Z.intentional){Qa=[0,0];if(va.hasCustomTransform){const [Db,Sb]=ob;Qa[0]=!1!==Sa[0]?Db-Sa[0]:0;Qa[1]=!1!==
Sa[1]?Sb-Sa[1]:0}else Qa[0]=!1!==Sa[0]?Ab-Sa[0]:0,Qa[1]=!1!==Sa[1]?ma-Sa[1]:0;this.restrictToAxis&&!Z._blocked&&this.restrictToAxis(Qa);cb=Z.offset;var oa=Z._active&&!Z._blocked||Z.active;oa&&(Z.first=Z._active&&!Z.active,Z.last=!Z._active&&Z.active,Z.active=ab[this.ingKey]=Z._active,N&&(Z.first&&("bounds"in va&&(Z._bounds=F(va.bounds,Z)),this.setup&&this.setup()),Z.movement=Qa,this.computeOffset()));var [Va,Ua]=Z.offset,[[ua,Ta],[hb,Bb]]=Z._bounds;Z.overflow=[Va<ua?-1:Va>Ta?1:0,Ua<hb?-1:Ua>Bb?1:
0];Z._movementBound[0]=Z.overflow[0]?!1===Z._movementBound[0]?Z._movement[0]:Z._movementBound[0]:!1;Z._movementBound[1]=Z.overflow[1]?!1===Z._movementBound[1]?Z._movement[1]:Z._movementBound[1]:!1;Z.offset=T.computeRubberband(Z._bounds,Z.offset,Z._active?va.rubberband||[0,0]:[0,0]);Z.delta=T.V.sub(Z.offset,cb);this.computeMovement();oa&&(!Z.last||32<Ha)&&(Z.delta=T.V.sub(Z.offset,cb),N=Z.delta.map(Math.abs),T.V.addTo(Z.distance,N),Z.direction=Z.delta.map(Math.sign),Z._direction=Z._delta.map(Math.sign),
!Z.first&&0<Ha&&(Z.velocity=[N[0]/Ha,N[1]/Ha],Z.timeDelta=Ha))}}emit(){const N=this.state;var Z=this.shared;const va=this.config;N._active||this.clean();if(!N._blocked&&N.intentional||N._force||va.triggerAllEvents)Z=this.handler(m(m(m({},Z),N),{},{[this.aliasKey]:N.values})),void 0!==Z&&(N.memo=Z)}clean(){this.eventStore.clean();this.timeoutStore.clean()}}class ea extends da{constructor(...N){super(...N);w(this,"aliasKey","xy")}reset(){super.reset();this.state.axis=void 0}init(){this.state.offset=
[0,0];this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=T.V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=T.V.sub(this.state.offset,this.state.lastOffset)}axisIntent(N){const Z=this.state,va=this.config;!Z.axis&&N&&(N="object"===typeof va.axisThreshold?va.axisThreshold[h(N)]:va.axisThreshold,Z.axis=P(Z._movement,N));Z._blocked=(va.lockDirection||!!va.axis)&&!Z.axis||!!va.axis&&va.axis!==Z.axis}restrictToAxis(N){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case "x":N[1]=
0;break;case "y":N[0]=0}}}const za=N=>N;B={enabled(N=!0){return N},eventOptions(N,Z,va){return m(m({},va.shared.eventOptions),N)},preventDefault(N=!1){return N},triggerAllEvents(N=!1){return N},rubberband(N=0){switch(N){case !0:return[.15,.15];case !1:return[0,0];default:return T.V.toVector(N)}},from(N){if("function"===typeof N)return N;if(null!=N)return T.V.toVector(N)},transform(N,Z,va){N=N||va.shared.transform;this.hasCustomTransform=!!N;return N||za},threshold(N){return T.V.toVector(N,0)}};const Ea=
m(m({},B),{},{axis(N,Z,{axis:va}){this.lockDirection="lock"===va;if(!this.lockDirection)return va},axisThreshold(N=0){return N},bounds(N={}){if("function"===typeof N)return Qa=>Ea.bounds(N(Qa));if("current"in N)return()=>N.current;if("function"===typeof HTMLElement&&N instanceof HTMLElement)return N;const {left:Z=-Infinity,right:va=Infinity,top:ab=-Infinity,bottom:Ha=Infinity}=N;return[[Z,va],[ab,Ha]]}}),sa={ArrowRight:(N,Z=1)=>[N*Z,0],ArrowLeft:(N,Z=1)=>[-1*N*Z,0],ArrowUp:(N,Z=1)=>[0,-1*N*Z],ArrowDown:(N,
Z=1)=>[0,N*Z]};class gb extends ea{constructor(...N){super(...N);w(this,"ingKey","dragging")}reset(){super.reset();const N=this.state;N._pointerId=void 0;N._pointerActive=!1;N._keyboardActive=!1;N._preventScroll=!1;N._delayed=!1;N.swipe=[0,0];N.tap=!1;N.canceled=!1;N.cancel=this.cancel.bind(this)}setup(){const N=this.state;if(N._bounds instanceof HTMLElement){const Z=N._bounds.getBoundingClientRect(),va=N.currentTarget.getBoundingClientRect();N._bounds=Ea.bounds({left:Z.left-va.left+N.offset[0],right:Z.right-
va.right+N.offset[0],top:Z.top-va.top+N.offset[1],bottom:Z.bottom-va.bottom+N.offset[1]})}}cancel(){const N=this.state;N.canceled||(N.canceled=!0,N._active=!1,setTimeout(()=>{this.compute();this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean();this.state._pointerActive=!1;this.state._keyboardActive=!1;super.clean()}pointerDown(N){const Z=this.config,va=this.state;if(null==N.buttons||(Array.isArray(Z.pointerButtons)?Z.pointerButtons.includes(N.buttons):
-1===Z.pointerButtons||Z.pointerButtons===N.buttons)){var ab=this.ctrl.setEventIds(N);Z.pointerCapture&&N.target.setPointerCapture(N.pointerId);ab&&1<ab.size&&va._pointerActive||(this.start(N),this.setupPointer(N),va._pointerId=A(N),va._pointerActive=!0,this.computeValues(y(N)),this.computeInitial(),Z.preventScrollAxis&&"mouse"!==h(N)?(va._active=!1,this.setupScrollPrevention(N)):0<Z.delay?(this.setupDelayTrigger(N),Z.triggerAllEvents&&(this.compute(N),this.emit())):this.startPointerDrag(N))}}startPointerDrag(N){const Z=
this.state;Z._active=!0;Z._preventScroll=!0;Z._delayed=!1;this.compute(N);this.emit()}pointerMove(N){const Z=this.state,va=this.config;if(Z._pointerActive){var ab=A(N);if(void 0===Z._pointerId||ab===Z._pointerId)ab=y(N),document.pointerLockElement===N.target?Z._delta=[N.movementX,N.movementY]:(Z._delta=T.V.sub(ab,Z._values),this.computeValues(ab)),T.V.addTo(Z._movement,Z._delta),this.compute(N),Z._delayed&&Z.intentional?(this.timeoutStore.remove("dragDelay"),Z.active=!1,this.startPointerDrag(N)):
va.preventScrollAxis&&!Z._preventScroll?Z.axis&&(Z.axis===va.preventScrollAxis||"xy"===va.preventScrollAxis?(Z._active=!1,this.clean()):(this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(N))):this.emit()}}pointerUp(N){this.ctrl.setEventIds(N);try{this.config.pointerCapture&&N.target.hasPointerCapture(N.pointerId)&&N.target.releasePointerCapture(N.pointerId)}catch(cb){}const Z=this.state,va=this.config;if(Z._active&&Z._pointerActive){var ab=A(N);if(void 0===Z._pointerId||ab===Z._pointerId){this.state._pointerActive=
!1;this.setActive();this.compute(N);var [Ha,Qa]=Z._distance;Z.tap=Ha<=va.tapsThreshold&&Qa<=va.tapsThreshold;if(Z.tap&&va.filterTaps)Z._force=!0;else{const [cb,Ab]=Z._delta,[ma,la]=Z._movement,[Ra,Sa]=va.swipe.velocity,[ob,oa]=va.swipe.distance;Z.elapsedTime<va.swipe.duration&&(N=Math.abs(Ab/Z.timeDelta),Math.abs(cb/Z.timeDelta)>Ra&&Math.abs(ma)>ob&&(Z.swipe[0]=Math.sign(cb)),N>Sa&&Math.abs(la)>oa&&(Z.swipe[1]=Math.sign(Ab)))}this.emit()}}}pointerClick(N){!this.state.tap&&0<N.detail&&(N.preventDefault(),
N.stopPropagation())}setupPointer(N){const Z=this.config,va=Z.device;Z.pointerLock&&N.currentTarget.requestPointerLock();Z.pointerCapture||(this.eventStore.add(this.sharedConfig.window,va,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,va,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,va,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(N){this.state._preventScroll&&
N.cancelable&&N.preventDefault()}setupScrollPrevention(N){this.state._preventScroll=!1;"persist"in N&&"function"===typeof N.persist&&N.persist();const Z=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",Z);this.eventStore.add(this.sharedConfig.window,"touch","cancel",Z);this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,N)}setupDelayTrigger(N){this.state._delayed=
!0;this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0];this.startPointerDrag(N)},this.config.delay)}keyDown(N){const Z=sa[N.key];if(Z){const va=this.state,ab=N.shiftKey?10:N.altKey?.1:1;this.start(N);va._delta=Z(this.config.keyboardDisplacement,ab);va._keyboardActive=!0;T.V.addTo(va._movement,va._delta);this.compute(N);this.emit()}}keyUp(N){N.key in sa&&(this.state._keyboardActive=!1,this.setActive(),this.compute(N),this.emit())}bind(N){const Z=this.config.device;N(Z,"start",this.pointerDown.bind(this));
this.config.pointerCapture&&(N(Z,"change",this.pointerMove.bind(this)),N(Z,"end",this.pointerUp.bind(this)),N(Z,"cancel",this.pointerUp.bind(this)),N("lostPointerCapture","",this.pointerUp.bind(this)));this.config.keys&&(N("key","down",this.keyDown.bind(this)),N("key","up",this.keyUp.bind(this)));this.config.filterTaps&&N("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}G="undefined"!==typeof window&&window.document&&window.document.createElement;try{var wa="constructor"in GestureEvent}catch(N){wa=
!1}const Ba={isBrowser:G,gesture:wa,touch:G&&"ontouchstart"in window,touchscreen:G&&"ontouchstart"in window||G&&1<window.navigator.maxTouchPoints,pointer:G&&"onpointerdown"in window,pointerLock:G&&"exitPointerLock"in window.document},Da={mouse:0,touch:0,pen:8};G=m(m({},Ea),{},{device(N,Z,{pointer:{touch:va=!1,lock:ab=!1,mouse:Ha=!1}={}}){this.pointerLock=ab&&Ba.pointerLock;return Ba.touch&&va?"touch":this.pointerLock?"mouse":Ba.pointer&&!Ha?"pointer":Ba.touch?"touch":"mouse"},preventScrollAxis(N,
Z,{preventScroll:va}){this.preventScrollDelay="number"===typeof va?va:va||void 0===va&&N?250:void 0;if(Ba.touchscreen&&!1!==va)return N?N:void 0!==va?"y":void 0},pointerCapture(N,Z,{pointer:{capture:va=!0,buttons:ab=1,keys:Ha=!0}={}}){this.pointerButtons=ab;this.keys=Ha;return!this.pointerLock&&"pointer"===this.device&&va},threshold(N,Z,{filterTaps:va=!1,tapsThreshold:ab=3,axis:Ha}){N=T.V.toVector(N,va?ab:Ha?1:0);this.filterTaps=va;this.tapsThreshold=ab;return N},swipe({velocity:N=.5,distance:Z=50,
duration:va=250}={}){return{velocity:this.transform(T.V.toVector(N)),distance:this.transform(T.V.toVector(Z)),duration:va}},delay(N=0){switch(N){case !0:return 180;case !1:return 0;default:return N}},axisThreshold(N){return N?m(m({},Da),N):Da},keyboardDisplacement(N=10){return N}});class pa extends da{constructor(...N){super(...N);w(this,"ingKey","pinching");w(this,"aliasKey","da")}init(){this.state.offset=[1,0];this.state.lastOffset=[1,0];this.state._pointerEvents=new Map}reset(){super.reset();const N=
this.state;N._touchIds=[];N.canceled=!1;N.cancel=this.cancel.bind(this);N.turns=0}computeOffset(){const {type:N,movement:Z,lastOffset:va}=this.state;this.state.offset="wheel"===N?T.V.add(Z,va):[(1+Z[0])*va[0],Z[1]+va[1]]}computeMovement(){const {offset:N,lastOffset:Z}=this.state;this.state.movement=[N[0]/Z[0],N[1]-Z[1]]}axisIntent(){const N=this.state,[Z,va]=N._movement;if(!N.axis){const ab=30*Math.abs(Z)-Math.abs(va);0>ab?N.axis="angle":0<ab&&(N.axis="scale")}}restrictToAxis(N){this.config.lockDirection&&
("scale"===this.state.axis?N[1]=0:"angle"===this.state.axis&&(N[0]=0))}cancel(){const N=this.state;N.canceled||setTimeout(()=>{N.canceled=!0;N._active=!1;this.compute();this.emit()},0)}touchStart(N){this.ctrl.setEventIds(N);var Z=this.state;const va=this.ctrl.touchIds;Z._active&&Z._touchIds.every(ab=>va.has(ab))||2>va.size||(this.start(N),Z._touchIds=Array.from(va).slice(0,2),(Z=x(N,Z._touchIds))&&this.pinchStart(N,Z))}pointerStart(N){if(null==N.buttons||1===N.buttons%2){this.ctrl.setEventIds(N);
N.target.setPointerCapture(N.pointerId);var Z=this.state,va=Z._pointerEvents,ab=this.ctrl.pointerIds;Z._active&&Array.from(va.keys()).every(Ha=>ab.has(Ha))||(2>va.size&&va.set(N.pointerId,N),2>Z._pointerEvents.size||(this.start(N),(Z=t(...Array.from(va.values())))&&this.pinchStart(N,Z)))}}pinchStart(N,Z){this.state.origin=Z.origin;this.computeValues([Z.distance,Z.angle]);this.computeInitial();this.compute(N);this.emit()}touchMove(N){if(this.state._active){var Z=x(N,this.state._touchIds);Z&&this.pinchMove(N,
Z)}}pointerMove(N){var Z=this.state._pointerEvents;Z.has(N.pointerId)&&Z.set(N.pointerId,N);this.state._active&&(Z=t(...Array.from(Z.values())))&&this.pinchMove(N,Z)}pinchMove(N,Z){const va=this.state,ab=Z.angle-va._values[1];let Ha=0;270<Math.abs(ab)&&(Ha+=Math.sign(ab));this.computeValues([Z.distance,Z.angle-360*Ha]);va.origin=Z.origin;va.turns=Ha;va._movement=[va._values[0]/va._initial[0]-1,va._values[1]-va._initial[1]];this.compute(N);this.emit()}touchEnd(N){this.ctrl.setEventIds(N);this.state._active&&
this.state._touchIds.some(Z=>!this.ctrl.touchIds.has(Z))&&(this.state._active=!1,this.compute(N),this.emit())}pointerEnd(N){const Z=this.state;this.ctrl.setEventIds(N);try{N.target.releasePointerCapture(N.pointerId)}catch(va){}Z._pointerEvents.has(N.pointerId)&&Z._pointerEvents.delete(N.pointerId);Z._active&&2>Z._pointerEvents.size&&(Z._active=!1,this.compute(N),this.emit())}gestureStart(N){N.cancelable&&N.preventDefault();const Z=this.state;Z._active||(this.start(N),this.computeValues([N.scale,N.rotation]),
Z.origin=[N.clientX,N.clientY],this.compute(N),this.emit())}gestureMove(N){N.cancelable&&N.preventDefault();if(this.state._active){var Z=this.state;this.computeValues([N.scale,N.rotation]);Z.origin=[N.clientX,N.clientY];var va=Z._movement;Z._movement=[N.scale-1,N.rotation];Z._delta=T.V.sub(Z._movement,va);this.compute(N);this.emit()}}gestureEnd(N){this.state._active&&(this.state._active=!1,this.compute(N),this.emit())}wheel(N){const Z=this.config.modifierKey;if(!Z||(Array.isArray(Z)?Z.find(va=>N[va]):
N[Z]))this.state._active?this.wheelChange(N):this.wheelStart(N),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelStart(N){this.start(N);this.wheelChange(N)}wheelChange(N){"uv"in N||N.cancelable&&N.preventDefault();const Z=this.state;Z._delta=[-E(N)[1]/100*Z.offset[0],0];T.V.addTo(Z._movement,Z._delta);K(Z);this.state.origin=[N.clientX,N.clientY];this.compute(N);this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(N){const Z=this.config.device;
Z&&(N(Z,"start",this[Z+"Start"].bind(this)),N(Z,"change",this[Z+"Move"].bind(this)),N(Z,"end",this[Z+"End"].bind(this)),N(Z,"cancel",this[Z+"End"].bind(this)),N("lostPointerCapture","",this[Z+"End"].bind(this)));this.config.pinchOnWheel&&N("wheel","",this.wheel.bind(this),{passive:!1})}}var ib=m(m({},B),{},{device(N,Z,{shared:va,pointer:{touch:ab=!1}={}}){if(va.target&&!Ba.touch&&Ba.gesture)return"gesture";if(Ba.touch&&ab)return"touch";if(Ba.touchscreen){if(Ba.pointer)return"pointer";if(Ba.touch)return"touch"}},
bounds(N,Z,{scaleBounds:va={},angleBounds:ab={}}){const Ha=cb=>{cb=F(va,cb);cb=Object.assign({},{min:-Infinity,max:Infinity},cb||{});return[cb.min,cb.max]},Qa=cb=>{cb=F(ab,cb);cb=Object.assign({},{min:-Infinity,max:Infinity},cb||{});return[cb.min,cb.max]};return"function"!==typeof va&&"function"!==typeof ab?[Ha(),Qa()]:cb=>[Ha(cb),Qa(cb)]},threshold(N,Z,va){this.lockDirection="lock"===va.axis;return T.V.toVector(N,this.lockDirection?[.1,3]:0)},modifierKey(N){return void 0===N?"ctrlKey":N},pinchOnWheel(N=
!0){return N}});class $a extends ea{constructor(...N){super(...N);w(this,"ingKey","moving")}move(N){this.config.mouseOnly&&"mouse"!==N.pointerType||(this.state._active?this.moveChange(N):this.moveStart(N),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(N){this.start(N);this.computeValues(y(N));this.compute(N);this.computeInitial();this.emit()}moveChange(N){if(this.state._active){var Z=y(N),va=this.state;va._delta=T.V.sub(Z,va._values);T.V.addTo(va._movement,va._delta);this.computeValues(Z);
this.compute(N);this.emit()}}moveEnd(N){this.state._active&&(this.state._active=!1,this.compute(N),this.emit())}bind(N){N("pointer","change",this.move.bind(this));N("pointer","leave",this.moveEnd.bind(this))}}var eb=m(m({},Ea),{},{mouseOnly:(N=!0)=>N});class Ja extends ea{constructor(...N){super(...N);w(this,"ingKey","scrolling")}scroll(N){this.state._active||this.start(N);this.scrollChange(N);this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(N){N.cancelable&&N.preventDefault();
const Z=this.state;var va,ab;const {scrollX:Ha,scrollY:Qa,scrollLeft:cb,scrollTop:Ab}=N.currentTarget;var ma=[null!==(va=null!==Ha&&void 0!==Ha?Ha:cb)&&void 0!==va?va:0,null!==(ab=null!==Qa&&void 0!==Qa?Qa:Ab)&&void 0!==ab?ab:0];Z._delta=T.V.sub(ma,Z._values);T.V.addTo(Z._movement,Z._delta);this.computeValues(ma);this.compute(N);this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(N){N("scroll","",this.scroll.bind(this))}}B=Ea;class Fb extends ea{constructor(...N){super(...N);
w(this,"ingKey","wheeling")}wheel(N){this.state._active||this.start(N);this.wheelChange(N);this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(N){const Z=this.state;Z._delta=E(N);T.V.addTo(Z._movement,Z._delta);K(Z);this.compute(N);this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(N){N("wheel","",this.wheel.bind(this))}}wa=Ea;class Kb extends ea{constructor(...N){super(...N);w(this,"ingKey","hovering")}enter(N){this.config.mouseOnly&&
"mouse"!==N.pointerType||(this.start(N),this.computeValues(y(N)),this.compute(N),this.emit())}leave(N){if(!this.config.mouseOnly||"mouse"===N.pointerType){var Z=this.state;if(Z._active){Z._active=!1;var va=y(N);Z._movement=Z._delta=T.V.sub(va,Z._values);this.computeValues(va);this.compute(N);Z.delta=Z.movement;this.emit()}}}bind(N){N("pointer","enter",this.enter.bind(this));N("pointer","leave",this.leave.bind(this))}}X=m(m({},Ea),{},{mouseOnly:(N=!0)=>N});const rb=new Map,Pb=new Map;G={key:"drag",
engine:gb,resolver:G};X={key:"hover",engine:Kb,resolver:X};eb={key:"move",engine:$a,resolver:eb};ib={key:"pinch",engine:pa,resolver:ib};B={key:"scroll",engine:Ja,resolver:B};wa={key:"wheel",engine:Fb,resolver:wa};p.ConfigResolverMap=Pb;p.EngineMap=rb;p.SUPPORT=Ba;p._defineProperty=w;p._objectSpread2=m;p.chain=function(...N){return 0===N.length?H:1===N.length?N[0]:function(){let Z;for(const va of N)Z=va.apply(this,arguments)||Z;return Z}};p.dragAction=G;p.hoverAction=X;p.isTouch=g;p.moveAction=eb;
p.parseProp=function(N){N=N.substring(2).toLowerCase();const Z=!!~N.indexOf("passive");Z&&(N=N.replace("passive",""));var va=O.includes(N)?"capturecapture":"capture";(va=!!~N.indexOf(va))&&(N=N.replace("capture",""));return{device:N,capture:va,passive:Z}};p.pinchAction=ib;p.registerAction=function(N){rb.set(N.key,N.engine);Pb.set(N.key,N.resolver)};p.scrollAction=B;p.toDomEventType=function(N,Z=""){const va=aa[N];return N+(va?va[Z]||Z:Z)};p.toHandlerProp=function(N,Z="",va=!1){const ab=aa[N];Z=ab?
ab[Z]||Z:Z;return"on"+d(N)+d(Z)+(c(va,Z)?"Capture":"")};p.touchIds=function(N){return l(N).map(Z=>Z.identifier)};p.wheelAction=wa};
shadow$provide[557]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});G=B(556);B(555);p.ConfigResolverMap=G.ConfigResolverMap;p.EngineMap=G.EngineMap;p.dragAction=G.dragAction;p.hoverAction=G.hoverAction;p.moveAction=G.moveAction;p.pinchAction=G.pinchAction;p.registerAction=G.registerAction;p.scrollAction=G.scrollAction;p.wheelAction=G.wheelAction};
shadow$provide[561]=function(G,B,X,p){X.exports=B(557)};
shadow$provide[562]=function(G,B,X,p){function w(y={},E){const F={};for(const [H,P]of Object.entries(E))switch(typeof P){case "function":F[H]=P.call(F,y[H],H,y);break;case "object":F[H]=w(y[H],P);break;case "boolean":P&&(F[H]=y[H])}return F}function r(y,E,F={}){const {target:H,eventOptions:P,window:K,enabled:T,transform:aa}=y;var Q=h;if(null==y)y={};else{if(null==y)var O={};else{O={};var da=Object.keys(y),ea;for(ea=0;ea<da.length;ea++){var za=da[ea];0<=Q.indexOf(za)||(O[za]=y[za])}}if(Object.getOwnPropertySymbols)for(ea=
Object.getOwnPropertySymbols(y),za=0;za<ea.length;za++)da=ea[za],0<=Q.indexOf(da)||Object.prototype.propertyIsEnumerable.call(y,da)&&(O[da]=y[da]);y=O}F.shared=w({target:H,eventOptions:P,window:K,enabled:T,transform:aa},g);if(E){var Ea=c.ConfigResolverMap.get(E);F[E]=w(c._objectSpread2({shared:F.shared},y),Ea)}else for(Ea in y)(E=c.ConfigResolverMap.get(Ea))&&(F[Ea]=w(c._objectSpread2({shared:F.shared},y[Ea]),E));return F}function m(y,E){y.gestures.add(E);y.gestureEventStores[E]=new l(y,E);y.gestureTimeoutStores[E]=
new k}function d(y,E,F,H,P,K){if(y.has(F)&&c.EngineMap.has(H)){var T=F+"Start",aa=F+"End";P[H]=Q=>{let O=void 0;if(Q.first&&T in E)E[T](Q);F in E&&(O=E[F](Q));if(Q.last&&aa in E)E[aa](Q);return O};K[H]=K[H]||{}}}Object.defineProperty(p,"__esModule",{value:!0});var c=B(556);B(555);const g={target(y){if(y)return()=>"current"in y?y.current:y},enabled(y=!0){return y},window(y=c.SUPPORT.isBrowser?window:void 0){return y},eventOptions({passive:y=!0,capture:E=!1}={}){return{passive:y,capture:E}},transform(y){return y}},
h=["target","eventOptions","window","enabled","transform"];class l{constructor(y,E){c._defineProperty(this,"_listeners",new Set);this._ctrl=y;this._gestureKey=E}add(y,E,F,H,P){const K=this._listeners,T=c.toDomEventType(E,F),aa=c._objectSpread2(c._objectSpread2({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),P);y.addEventListener(T,H,aa);const Q=()=>{y.removeEventListener(T,H,aa);K.delete(Q)};K.add(Q);return Q}clean(){this._listeners.forEach(y=>y());this._listeners.clear()}}
class k{constructor(){c._defineProperty(this,"_timeouts",new Map)}add(y,E,F=140,...H){this.remove(y);this._timeouts.set(y,window.setTimeout(E,F,...H))}remove(y){(y=this._timeouts.get(y))&&window.clearTimeout(y)}clean(){this._timeouts.forEach(y=>void window.clearTimeout(y));this._timeouts.clear()}}class t{constructor(y){c._defineProperty(this,"gestures",new Set);c._defineProperty(this,"_targetEventStore",new l(this));c._defineProperty(this,"gestureEventStores",{});c._defineProperty(this,"gestureTimeoutStores",
{});c._defineProperty(this,"handlers",{});c._defineProperty(this,"config",{});c._defineProperty(this,"pointerIds",new Set);c._defineProperty(this,"touchIds",new Set);c._defineProperty(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}});y.drag&&m(this,"drag");y.wheel&&m(this,"wheel");y.scroll&&m(this,"scroll");y.move&&m(this,"move");y.pinch&&m(this,"pinch");y.hover&&m(this,"hover")}setEventIds(y){if(c.isTouch(y))return this.touchIds=new Set(c.touchIds(y));if("pointerId"in y)return"pointerup"===
y.type||"pointercancel"===y.type?this.pointerIds.delete(y.pointerId):"pointerdown"===y.type&&this.pointerIds.add(y.pointerId),this.pointerIds}applyHandlers(y,E){this.handlers=y;this.nativeHandlers=E}applyConfig(y,E){this.config=r(y,E,this.config)}clean(){this._targetEventStore.clean();for(const y of this.gestures)this.gestureEventStores[y].clean(),this.gestureTimeoutStores[y].clean()}effect(){this.config.shared.target&&this.bind();return()=>this._targetEventStore.clean()}bind(...y){var E=this.config.shared;
const F={};let H;if(E.target&&(H=E.target(),!H))return;if(E.enabled){for(const P of this.gestures){const K=this.config[P],T=x(F,K.eventOptions,!!H);K.enabled&&(new (c.EngineMap.get(P))(this,y,P)).bind(T)}E=x(F,E.eventOptions,!!H);for(const P in this.nativeHandlers)E(P,"",K=>this.nativeHandlers[P](c._objectSpread2(c._objectSpread2({},this.state.shared),{},{event:K,args:y})),void 0,!0)}for(const P in F)F[P]=c.chain(...F[P]);if(!H)return F;for(const P in F){const {device:K,capture:T,passive:aa}=c.parseProp(P);
this._targetEventStore.add(H,K,"",F[P],{capture:T,passive:aa})}}}const x=(y,E,F)=>(H,P,K,T={},aa=!1)=>{var Q,O;const da=null!==(Q=T.capture)&&void 0!==Q?Q:E.capture;T=null!==(O=T.passive)&&void 0!==O?O:E.passive;H=aa?H:c.toHandlerProp(H,P,da);F&&T&&(H+="Passive");y[H]=y[H]||[];y[H].push(K)},A=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;p.Controller=t;p.parseMergedHandlers=function(y,E){const F={},H={},P=new Set;for(let Q in y)A.test(Q)?(P.add(RegExp.lastMatch),H[Q]=y[Q]):F[Q]=y[Q];const [K,T,aa]=[H,
F,P];y={};d(aa,K,"onDrag","drag",y,E);d(aa,K,"onWheel","wheel",y,E);d(aa,K,"onScroll","scroll",y,E);d(aa,K,"onPinch","pinch",y,E);d(aa,K,"onMove","move",y,E);d(aa,K,"onHover","hover",y,E);return{handlers:y,config:E,nativeHandlers:T}}};
shadow$provide[564]=function(G,B,X,p){X.exports=B(562)};
shadow$provide[565]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});G=B(555);p.rubberbandIfOutOfBounds=G.rubberbandIfOutOfBounds};
shadow$provide[567]=function(G,B,X,p){X.exports=B(565)};
shadow$provide[568]=function(G,B,X,p){};
shadow$provide[570]=function(G,B,X,p){X.exports=B(568)};
shadow$provide[571]=function(G,B,X,p){function w(l,k={},t,x){const A=h["default"].useMemo(()=>new d.Controller(l),[]);A.applyHandlers(l,x);A.applyConfig(k,t);h["default"].useEffect(A.effect.bind(A));h["default"].useEffect(()=>A.clean.bind(A),[]);if(void 0===k.target)return A.bind.bind(A)}function r(l){l.forEach(m.registerAction);return function(k,t){const {handlers:x,nativeHandlers:A,config:y}=d.parseMergedHandlers(k,t||{});return w(x,y,void 0,A)}}Object.defineProperty(p,"__esModule",{value:!0});
var m=B(561);G=B(0);var d=B(564),c=B(567),g=B(570),h=G&&G.__esModule?G:{"default":G};p.createUseGesture=r;p.useDrag=function(l,k){m.registerAction(m.dragAction);return w({drag:l},k||{},"drag")};p.useGesture=function(l,k){return r([m.dragAction,m.pinchAction,m.scrollAction,m.wheelAction,m.moveAction,m.hoverAction])(l,k||{})};p.useHover=function(l,k){m.registerAction(m.hoverAction);return w({hover:l},k||{},"hover")};p.useMove=function(l,k){m.registerAction(m.moveAction);return w({move:l},k||{},"move")};
p.usePinch=function(l,k){m.registerAction(m.pinchAction);return w({pinch:l},k||{},"pinch")};p.useScroll=function(l,k){m.registerAction(m.scrollAction);return w({scroll:l},k||{},"scroll")};p.useWheel=function(l,k){m.registerAction(m.wheelAction);return w({wheel:l},k||{},"wheel")};Object.keys(m).forEach(function(l){"default"===l||p.hasOwnProperty(l)||Object.defineProperty(p,l,{enumerable:!0,get:function(){return m[l]}})});Object.keys(c).forEach(function(l){"default"===l||p.hasOwnProperty(l)||Object.defineProperty(p,
l,{enumerable:!0,get:function(){return c[l]}})});Object.keys(g).forEach(function(l){"default"===l||p.hasOwnProperty(l)||Object.defineProperty(p,l,{enumerable:!0,get:function(){return g[l]}})})};
shadow$provide[573]=function(G,B,X,p){X.exports=B(571)};
shadow$provide[574]=function(G,B,X,p){function w(h,l,{checkForDefaultPrevented:k=!0}={}){return function(t){h?.(t);if(!1===k||!t.defaultPrevented)return l?.(t)}}var r=Object.defineProperty,m=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,g=(h,l,k,t)=>{if(l&&"object"===typeof l||"function"===typeof l)for(let x of d(l))c.call(h,x)||x===k||r(h,x,{get:()=>l[x],enumerable:!(t=m(l,x))||t.enumerable});return h};G={};((h,l)=>{for(var k in l)r(h,k,{get:l[k],
enumerable:!0})})(G,{composeEventHandlers:()=>w});X.exports=(h=>g(r({},"__esModule",{value:!0}),h))(G)};
shadow$provide[575]=function(G,B,X,p){function w(y,E){const F=x.createContext(E),H=P=>{const {children:K,...T}=P;P=x.useMemo(()=>T,Object.values(T));return(0,A.jsx)(F.Provider,{value:P,children:K})};H.displayName=y+"Provider";return[H,function(P){const K=x.useContext(F);if(K)return K;if(void 0!==E)return E;throw Error(`\`${P}\` must be used within \`${y}\``);}]}function r(y,E=[]){let F=[];const H=()=>{const P=F.map(K=>x.createContext(K));return function(K){const T=K?.[y]||P;return x.useMemo(()=>({[`__scope${y}`]:{...K,
[y]:T}}),[K,T])}};H.scopeName=y;return[function(P,K){const T=x.createContext(K),aa=F.length;F=[...F,K];const Q=O=>{const {scope:da,children:ea,...za}=O;O=da?.[y]?.[aa]||T;const Ea=x.useMemo(()=>za,Object.values(za));return(0,A.jsx)(O.Provider,{value:Ea,children:ea})};Q.displayName=P+"Provider";return[Q,function(O,da){if(da=x.useContext(da?.[y]?.[aa]||T))return da;if(void 0!==K)return K;throw Error(`\`${O}\` must be used within \`${P}\``);}]},m(H,...E)]}function m(...y){const E=y[0];if(1===y.length)return E;
const F=()=>{const H=y.map(P=>({useScope:P(),scopeName:P.scopeName}));return function(P){const K=H.reduce((T,{useScope:aa,scopeName:Q})=>{aa=aa(P)[`__scope${Q}`];return{...T,...aa}},{});return x.useMemo(()=>({[`__scope${E.scopeName}`]:K}),[K])}};F.scopeName=E.scopeName;return F}var d=Object.create,c=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,t=(y,E,F,H)=>{if(E&&"object"===typeof E||"function"===typeof E)for(let P of h(E))k.call(y,
P)||P===F||c(y,P,{get:()=>E[P],enumerable:!(H=g(E,P))||H.enumerable});return y};G={};((y,E)=>{for(var F in E)c(y,F,{get:E[F],enumerable:!0})})(G,{createContext:()=>w,createContextScope:()=>r});X.exports=(y=>t(c({},"__esModule",{value:!0}),y))(G);var x=((y,E,F)=>(F=null!=y?d(l(y)):{},t(!E&&y&&y.__esModule?F:c(F,"default",{value:y,enumerable:!0}),y)))(B(0)),A=B(546)};
shadow$provide[576]=function(G,B,X,p){function w(t){const x=k.useRef(t);k.useEffect(()=>{x.current=t});return k.useMemo(()=>(...A)=>x.current?.(...A),[])}var r=Object.create,m=Object.defineProperty,d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,g=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(t,x,A,y)=>{if(x&&"object"===typeof x||"function"===typeof x)for(let E of c(x))h.call(t,E)||E===A||m(t,E,{get:()=>x[E],enumerable:!(y=d(x,E))||y.enumerable});return t};G={};((t,x)=>
{for(var A in x)m(t,A,{get:x[A],enumerable:!0})})(G,{useCallbackRef:()=>w});X.exports=(t=>l(m({},"__esModule",{value:!0}),t))(G);var k=((t,x,A)=>(A=null!=t?r(g(t)):{},l(!x&&t&&t.__esModule?A:m(A,"default",{value:t,enumerable:!0}),t)))(B(0))};
shadow$provide[577]=function(G,B,X,p){function w(x,A=globalThis?.document){const y=(0,t.useCallbackRef)(x);k.useEffect(()=>{const E=F=>{"Escape"===F.key&&y(F)};A.addEventListener("keydown",E,{capture:!0});return()=>A.removeEventListener("keydown",E,{capture:!0})},[y,A])}var r=Object.create,m=Object.defineProperty,d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,g=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(x,A,y,E)=>{if(A&&"object"===typeof A||"function"===typeof A)for(let F of c(A))h.call(x,
F)||F===y||m(x,F,{get:()=>A[F],enumerable:!(E=d(A,F))||E.enumerable});return x};G={};((x,A)=>{for(var y in A)m(x,y,{get:A[y],enumerable:!0})})(G,{useEscapeKeydown:()=>w});X.exports=(x=>l(m({},"__esModule",{value:!0}),x))(G);var k=((x,A,y)=>(y=null!=x?r(g(x)):{},l(!A&&x&&x.__esModule?y:m(y,"default",{value:x,enumerable:!0}),x)))(B(0)),t=B(576)};
shadow$provide[578]=function(G,B,X,p){function w(za,Ea=globalThis?.document){const sa=(0,H.useCallbackRef)(za),gb=A.useRef(!1),wa=A.useRef(()=>{});A.useEffect(()=>{const Ba=pa=>{if(pa.target&&!gb.current){let ib=function(){d("dismissableLayer.pointerDownOutside",sa,$a,{discrete:!0})};const $a={originalEvent:pa};"touch"===pa.pointerType?(Ea.removeEventListener("click",wa.current),wa.current=ib,Ea.addEventListener("click",wa.current,{once:!0})):ib()}else Ea.removeEventListener("click",wa.current);gb.current=
!1},Da=window.setTimeout(()=>{Ea.addEventListener("pointerdown",Ba)},0);return()=>{window.clearTimeout(Da);Ea.removeEventListener("pointerdown",Ba);Ea.removeEventListener("click",wa.current)}},[Ea,sa]);return{onPointerDownCapture:()=>gb.current=!0}}function r(za,Ea=globalThis?.document){const sa=(0,H.useCallbackRef)(za),gb=A.useRef(!1);A.useEffect(()=>{const wa=Ba=>{Ba.target&&!gb.current&&d("dismissableLayer.focusOutside",sa,{originalEvent:Ba},{discrete:!1})};Ea.addEventListener("focusin",wa);return()=>
Ea.removeEventListener("focusin",wa)},[Ea,sa]);return{onFocusCapture:()=>gb.current=!0,onBlurCapture:()=>gb.current=!1}}function m(){const za=new CustomEvent("dismissableLayer.update");document.dispatchEvent(za)}function d(za,Ea,sa,{discrete:gb}){const wa=sa.originalEvent.target;sa=new CustomEvent(za,{bubbles:!1,cancelable:!0,detail:sa});Ea&&wa.addEventListener(za,Ea,{once:!0});gb?(0,E.dispatchDiscreteCustomEvent)(wa,sa):wa.dispatchEvent(sa)}"use client";var c=Object.create,g=Object.defineProperty,
h=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,k=Object.getPrototypeOf,t=Object.prototype.hasOwnProperty,x=(za,Ea,sa,gb)=>{if(Ea&&"object"===typeof Ea||"function"===typeof Ea)for(let wa of l(Ea))t.call(za,wa)||wa===sa||g(za,wa,{get:()=>Ea[wa],enumerable:!(gb=h(Ea,wa))||gb.enumerable});return za};G={};((za,Ea)=>{for(var sa in Ea)g(za,sa,{get:Ea[sa],enumerable:!0})})(G,{Branch:()=>ea,DismissableLayer:()=>Q,DismissableLayerBranch:()=>O,Root:()=>da});X.exports=(za=>x(g({},"__esModule",
{value:!0}),za))(G);var A=((za,Ea,sa)=>(sa=null!=za?c(k(za)):{},x(!Ea&&za&&za.__esModule?sa:g(sa,"default",{value:za,enumerable:!0}),za)))(B(0)),y=B(574),E=B(548),F=B(543),H=B(576),P=B(577),K=B(546),T,aa=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Q=A.forwardRef((za,Ea)=>{const {disableOutsidePointerEvents:sa=!1,onEscapeKeyDown:gb,onPointerDownOutside:wa,onFocusOutside:Ba,onInteractOutside:Da,onDismiss:pa,...ib}=za,$a=A.useContext(aa),[eb,Ja]=
A.useState(null),Fb=eb?.ownerDocument??globalThis?.document,[,Kb]=A.useState({});Ea=(0,F.useComposedRefs)(Ea,ab=>Ja(ab));var rb=Array.from($a.layers),[Pb]=[...$a.layersWithOutsidePointerEventsDisabled].slice(-1);Pb=rb.indexOf(Pb);const N=eb?rb.indexOf(eb):-1;rb=0<$a.layersWithOutsidePointerEventsDisabled.size;const Z=N>=Pb;Pb=w(ab=>{const Ha=ab.target,Qa=[...$a.branches].some(cb=>cb.contains(Ha));Z&&!Qa&&(wa?.(ab),Da?.(ab),ab.defaultPrevented||pa?.())},Fb);const va=r(ab=>{const Ha=ab.target;[...$a.branches].some(Qa=>
Qa.contains(Ha))||(Ba?.(ab),Da?.(ab),ab.defaultPrevented||pa?.())},Fb);(0,P.useEscapeKeydown)(ab=>{N===$a.layers.size-1&&(gb?.(ab),!ab.defaultPrevented&&pa&&(ab.preventDefault(),pa()))},Fb);A.useEffect(()=>{if(eb)return sa&&(0===$a.layersWithOutsidePointerEventsDisabled.size&&(T=Fb.body.style.pointerEvents,Fb.body.style.pointerEvents="none"),$a.layersWithOutsidePointerEventsDisabled.add(eb)),$a.layers.add(eb),m(),()=>{sa&&1===$a.layersWithOutsidePointerEventsDisabled.size&&(Fb.body.style.pointerEvents=
T)}},[eb,Fb,sa,$a]);A.useEffect(()=>()=>{eb&&($a.layers.delete(eb),$a.layersWithOutsidePointerEventsDisabled.delete(eb),m())},[eb,$a]);A.useEffect(()=>{const ab=()=>Kb({});document.addEventListener("dismissableLayer.update",ab);return()=>document.removeEventListener("dismissableLayer.update",ab)},[]);return(0,K.jsx)(E.Primitive.div,{...ib,ref:Ea,style:{pointerEvents:rb?Z?"auto":"none":void 0,...za.style},onFocusCapture:(0,y.composeEventHandlers)(za.onFocusCapture,va.onFocusCapture),onBlurCapture:(0,y.composeEventHandlers)(za.onBlurCapture,
va.onBlurCapture),onPointerDownCapture:(0,y.composeEventHandlers)(za.onPointerDownCapture,Pb.onPointerDownCapture)})});Q.displayName="DismissableLayer";var O=A.forwardRef((za,Ea)=>{const sa=A.useContext(aa),gb=A.useRef(null);Ea=(0,F.useComposedRefs)(Ea,gb);A.useEffect(()=>{const wa=gb.current;if(wa)return sa.branches.add(wa),()=>{sa.branches.delete(wa)}},[sa.branches]);return(0,K.jsx)(E.Primitive.div,{...za,ref:Ea})});O.displayName="DismissableLayerBranch";var da=Q,ea=O};
shadow$provide[579]=function(G,B,X,p){function w(y){const [E,F]=k.useState(x());(0,t.useLayoutEffect)(()=>{y||F(H=>H??String(A++))},[y]);return y||(E?`radix-${E}`:"")}var r=Object.create,m=Object.defineProperty,d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,g=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(y,E,F,H)=>{if(E&&"object"===typeof E||"function"===typeof E)for(let P of c(E))h.call(y,P)||P===F||m(y,P,{get:()=>E[P],enumerable:!(H=d(E,P))||H.enumerable});return y};
G={};((y,E)=>{for(var F in E)m(y,F,{get:E[F],enumerable:!0})})(G,{useId:()=>w});X.exports=(y=>l(m({},"__esModule",{value:!0}),y))(G);var k=((y,E,F)=>(F=null!=y?r(g(y)):{},l(!E&&y&&y.__esModule?F:m(F,"default",{value:y,enumerable:!0}),y)))(B(0)),t=B(549),x=k["useId".toString()]||(()=>{}),A=0};
shadow$provide[580]=function(G,B,X,p){(function(w,r){"object"===typeof p&&"undefined"!==typeof X?r(p):"function"===typeof define&&define.amd?define(["exports"],r):(w="undefined"!==typeof globalThis?globalThis:w||self,r(w.FloatingUICore={}))})(this,function(w){function r(Da,pa){return"function"===typeof Da?Da(pa):Da}function m(Da){return Da.split("-")[0]}function d(Da){return Da.split("-")[1]}function c(Da){return"x"===Da?"y":"x"}function g(Da){return"y"===Da?"height":"width"}function h(Da){return["top",
"bottom"].includes(m(Da))?"y":"x"}function l(Da,pa,ib){void 0===ib&&(ib=!1);const $a=d(Da),eb=c(h(Da));Da=g(eb);ib="x"===eb?$a===(ib?"end":"start")?"right":"left":"start"===$a?"bottom":"top";pa.reference[Da]>pa.floating[Da]&&(ib=y(ib));return[ib,y(ib)]}function k(Da){const pa=y(Da);return[t(Da),pa,t(pa)]}function t(Da){return Da.replace(/start|end/g,pa=>Ba[pa])}function x(Da,pa,ib){const $a=["left","right"],eb=["right","left"],Ja=["top","bottom"],Fb=["bottom","top"];switch(Da){case "top":case "bottom":return ib?
pa?eb:$a:pa?$a:eb;case "left":case "right":return pa?Ja:Fb;default:return[]}}function A(Da,pa,ib,$a){const eb=d(Da);Da=x(m(Da),"start"===ib,$a);eb&&(Da=Da.map(Ja=>Ja+"-"+eb),pa&&(Da=Da.concat(Da.map(t))));return Da}function y(Da){return Da.replace(/left|right|bottom|top/g,pa=>wa[pa])}function E(Da){return"number"!==typeof Da?{top:0,right:0,bottom:0,left:0,...Da}:{top:Da,right:Da,bottom:Da,left:Da}}function F(Da){const {x:pa,y:ib,width:$a,height:eb}=Da;return{width:$a,height:eb,top:ib,left:pa,right:pa+
$a,bottom:ib+eb,x:pa,y:ib}}function H(Da,pa,ib){let {reference:$a,floating:eb}=Da;var Ja=h(pa);Da=c(h(pa));var Fb=g(Da),Kb=m(pa);Ja="y"===Ja;const rb=$a.x+$a.width/2-eb.width/2,Pb=$a.y+$a.height/2-eb.height/2;Fb=$a[Fb]/2-eb[Fb]/2;switch(Kb){case "top":Kb={x:rb,y:$a.y-eb.height};break;case "bottom":Kb={x:rb,y:$a.y+$a.height};break;case "right":Kb={x:$a.x+$a.width,y:Pb};break;case "left":Kb={x:$a.x-eb.width,y:Pb};break;default:Kb={x:$a.x,y:$a.y}}switch(d(pa)){case "start":Kb[Da]-=Fb*(ib&&Ja?-1:1);break;
case "end":Kb[Da]+=Fb*(ib&&Ja?-1:1)}return Kb}async function P(Da,pa){var ib;void 0===pa&&(pa={});const {x:$a,y:eb,platform:Ja,rects:Fb,elements:Kb,strategy:rb}=Da,{boundary:Pb="clippingAncestors",rootBoundary:N="viewport",elementContext:Z="floating",altBoundary:va=!1,padding:ab=0}=r(pa,Da);Da=E(ab);var Ha=Kb[va?"floating"===Z?"reference":"floating":Z];pa=F(await Ja.getClippingRect({element:(null!=(ib=await (null==Ja.isElement?void 0:Ja.isElement(Ha)))?ib:1)?Ha:Ha.contextElement||await (null==Ja.getDocumentElement?
void 0:Ja.getDocumentElement(Kb.floating)),boundary:Pb,rootBoundary:N,strategy:rb}));Ha="floating"===Z?{x:$a,y:eb,width:Fb.floating.width,height:Fb.floating.height}:Fb.reference;const Qa=await (null==Ja.getOffsetParent?void 0:Ja.getOffsetParent(Kb.floating));ib=await (null==Ja.isElement?void 0:Ja.isElement(Qa))?await (null==Ja.getScale?void 0:Ja.getScale(Qa))||{x:1,y:1}:{x:1,y:1};Ha=F(Ja.convertOffsetParentRelativeRectToViewportRelativeRect?await Ja.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Kb,
rect:Ha,offsetParent:Qa,strategy:rb}):Ha);return{top:(pa.top-Ha.top+Da.top)/ib.y,bottom:(Ha.bottom-pa.bottom+Da.bottom)/ib.y,left:(pa.left-Ha.left+Da.left)/ib.x,right:(Ha.right-pa.right+Da.right)/ib.x}}function K(Da,pa,ib){return(Da?[...ib.filter($a=>d($a)===Da),...ib.filter($a=>d($a)!==Da)]:ib.filter($a=>m($a)===$a)).filter($a=>Da?d($a)===Da||(pa?t($a)!==$a:!1):!0)}function T(Da,pa){return{top:Da.top-pa.height,right:Da.right-pa.width,bottom:Da.bottom-pa.height,left:Da.left-pa.width}}function aa(Da){return ea.some(pa=>
0<=Da[pa])}function Q(Da){const pa=sa(...Da.map(eb=>eb.left)),ib=sa(...Da.map(eb=>eb.top)),$a=gb(...Da.map(eb=>eb.right));Da=gb(...Da.map(eb=>eb.bottom));return{x:pa,y:ib,width:$a-pa,height:Da-ib}}function O(Da){Da=Da.slice().sort(($a,eb)=>$a.y-eb.y);const pa=[];let ib=null;for(let $a=0;$a<Da.length;$a++){const eb=Da[$a];!ib||eb.y-ib.y>ib.height/2?pa.push([eb]):pa[pa.length-1].push(eb);ib=eb}return pa.map($a=>F(Q($a)))}async function da(Da,pa){const {placement:ib,platform:$a,elements:eb}=Da;var Ja=
await (null==$a.isRTL?void 0:$a.isRTL(eb.floating)),Fb=m(ib);const Kb=d(ib),rb="y"===h(ib);Fb=["left","top"].includes(Fb)?-1:1;Ja=Ja&&rb?-1:1;Da=r(pa,Da);let {mainAxis:Pb,crossAxis:N,alignmentAxis:Z}="number"===typeof Da?{mainAxis:Da,crossAxis:0,alignmentAxis:null}:{mainAxis:Da.mainAxis||0,crossAxis:Da.crossAxis||0,alignmentAxis:Da.alignmentAxis};Kb&&"number"===typeof Z&&(N="end"===Kb?-1*Z:Z);return rb?{x:N*Ja,y:Pb*Fb}:{x:Pb*Fb,y:N*Ja}}const ea=["top","right","bottom","left"],za=["start","end"],Ea=
ea.reduce((Da,pa)=>Da.concat(pa,pa+"-"+za[0],pa+"-"+za[1]),[]),sa=Math.min,gb=Math.max,wa={left:"right",right:"left",bottom:"top",top:"bottom"},Ba={start:"end",end:"start"};w.arrow=Da=>({name:"arrow",options:Da,async fn(pa){const {x:ib,y:$a,placement:eb,rects:Ja,platform:Fb,elements:Kb,middlewareData:rb}=pa,{element:Pb,padding:N=0}=r(Da,pa)||{};if(null==Pb)return{};var Z=E(N);pa={x:ib,y:$a};const va=c(h(eb));var ab=g(va),Ha=await Fb.getDimensions(Pb),Qa="y"===va,cb=Qa?"top":"left",Ab=Qa?"bottom":
"right",ma=Qa?"clientHeight":"clientWidth",la=Ja.reference[ab]+Ja.reference[va]-pa[va]-Ja.floating[ab];const Ra=pa[va]-Ja.reference[va],Sa=await (null==Fb.getOffsetParent?void 0:Fb.getOffsetParent(Pb));(Qa=Sa?Sa[ma]:0)&&await (null==Fb.isElement?void 0:Fb.isElement(Sa))||(Qa=Kb.floating[ma]||Ja.floating[ab]);ma=la/2-Ra/2;la=Qa/2-Ha[ab]/2-1;cb=sa(Z[cb],la);Ab=sa(Z[Ab],la);Z=Qa-Ha[ab]-Ab;Qa=Qa/2-Ha[ab]/2+ma;ma=gb(cb,sa(Qa,Z));Ha=(ab=!rb.arrow&&null!=d(eb)&&Qa!==ma&&0>Ja.reference[ab]/2-(Qa<cb?cb:Ab)-
Ha[ab]/2)?Qa<cb?Qa-cb:Qa-Z:0;return{[va]:pa[va]+Ha,data:{[va]:ma,centerOffset:Qa-ma-Ha,...(ab&&{alignmentOffset:Ha})},reset:ab}}});w.autoPlacement=function(Da){void 0===Da&&(Da={});return{name:"autoPlacement",options:Da,async fn(pa){var ib,$a,eb;const {rects:Ja,middlewareData:Fb,placement:Kb,platform:rb,elements:Pb}=pa,{crossAxis:N=!1,alignment:Z,allowedPlacements:va=Ea,autoAlignment:ab=!0,...Ha}=r(Da,pa);var Qa=void 0!==Z||va===Ea?K(Z||null,ab,va):va,cb=await P(pa,Ha);pa=(null==(ib=Fb.autoPlacement)?
void 0:ib.index)||0;ib=Qa[pa];if(null==ib)return{};var Ab=l(ib,Ja,await (null==rb.isRTL?void 0:rb.isRTL(Pb.floating)));if(Kb!==ib)return{reset:{placement:Qa[0]}};Ab=[cb[m(ib)],cb[Ab[0]],cb[Ab[1]]];cb=[...((null==($a=Fb.autoPlacement)?void 0:$a.overflows)||[]),{placement:ib,overflows:Ab}];if($a=Qa[pa+1])return{data:{index:pa+1,overflows:cb},reset:{placement:$a}};$a=cb.map(ma=>{const la=d(ma.placement);return[ma.placement,la&&N?ma.overflows.slice(0,2).reduce((Ra,Sa)=>Ra+Sa,0):ma.overflows[0],ma.overflows]}).sort((ma,
la)=>ma[1]-la[1]);Qa=(null==(eb=$a.filter(ma=>ma[2].slice(0,d(ma[0])?2:3).every(la=>0>=la))[0])?void 0:eb[0])||$a[0][0];return Qa!==Kb?{data:{index:pa+1,overflows:cb},reset:{placement:Qa}}:{}}}};w.computePosition=async(Da,pa,ib)=>{const {placement:$a="bottom",strategy:eb="absolute",middleware:Ja=[],platform:Fb}=ib;ib=Ja.filter(Boolean);const Kb=await (null==Fb.isRTL?void 0:Fb.isRTL(pa));let rb=await Fb.getElementRects({reference:Da,floating:pa,strategy:eb}),{x:Pb,y:N}=H(rb,$a,Kb),Z=$a,va={},ab=0;
for(let Ha=0;Ha<ib.length;Ha++){const {name:Qa,fn:cb}=ib[Ha],{x:Ab,y:ma,data:la,reset:Ra}=await cb({x:Pb,y:N,initialPlacement:$a,placement:Z,strategy:eb,middlewareData:va,rects:rb,platform:Fb,elements:{reference:Da,floating:pa}});Pb=null!=Ab?Ab:Pb;N=null!=ma?ma:N;va={...va,[Qa]:{...va[Qa],...la}};Ra&&50>=ab&&(ab++,"object"===typeof Ra&&(Ra.placement&&(Z=Ra.placement),Ra.rects&&(rb=!0===Ra.rects?await Fb.getElementRects({reference:Da,floating:pa,strategy:eb}):Ra.rects),{x:Pb,y:N}=H(rb,Z,Kb)),Ha=-1)}return{x:Pb,
y:N,placement:Z,strategy:eb,middlewareData:va}};w.detectOverflow=P;w.flip=function(Da){void 0===Da&&(Da={});return{name:"flip",options:Da,async fn(pa){var ib,$a;const {placement:eb,middlewareData:Ja,rects:Fb,initialPlacement:Kb,platform:rb,elements:Pb}=pa,{mainAxis:N=!0,crossAxis:Z=!0,fallbackPlacements:va,fallbackStrategy:ab="bestFit",fallbackAxisSideDirection:Ha="none",flipAlignment:Qa=!0,...cb}=r(Da,pa);if(null!=(ib=Ja.arrow)&&ib.alignmentOffset)return{};ib=m(eb);const Ab=h(Kb);var ma=m(Kb)===
Kb;const la=await (null==rb.isRTL?void 0:rb.isRTL(Pb.floating));ma=va||(ma||!Qa?[y(Kb)]:k(Kb));const Ra="none"!==Ha;!va&&Ra&&ma.push(...A(Kb,Qa,Ha,la));ma=[Kb,...ma];const Sa=await P(pa,cb),ob=[];pa=(null==($a=Ja.flip)?void 0:$a.overflows)||[];N&&ob.push(Sa[ib]);Z&&($a=l(eb,Fb,la),ob.push(Sa[$a[0]],Sa[$a[1]]));pa=[...pa,{placement:eb,overflows:ob}];if(!ob.every(ua=>0>=ua)){var oa,Va;$a=((null==(oa=Ja.flip)?void 0:oa.index)||0)+1;if(oa=ma[$a])return{data:{index:$a,overflows:pa},reset:{placement:oa}};
oa=null==(Va=pa.filter(ua=>0>=ua.overflows[0]).sort((ua,Ta)=>ua.overflows[1]-Ta.overflows[1])[0])?void 0:Va.placement;if(!oa)switch(ab){case "bestFit":var Ua;(Va=null==(Ua=pa.filter(ua=>Ra?(ua=h(ua.placement),ua===Ab||"y"===ua):!0).map(ua=>[ua.placement,ua.overflows.filter(Ta=>0<Ta).reduce((Ta,hb)=>Ta+hb,0)]).sort((ua,Ta)=>ua[1]-Ta[1])[0])?void 0:Ua[0])&&(oa=Va);break;case "initialPlacement":oa=Kb}if(eb!==oa)return{reset:{placement:oa}}}return{}}}};w.hide=function(Da){void 0===Da&&(Da={});return{name:"hide",
options:Da,async fn(pa){var {rects:ib}=pa;const {strategy:$a="referenceHidden",...eb}=r(Da,pa);switch($a){case "referenceHidden":return pa=await P(pa,{...eb,elementContext:"reference"}),ib=T(pa,ib.reference),{data:{referenceHiddenOffsets:ib,referenceHidden:aa(ib)}};case "escaped":return pa=await P(pa,{...eb,altBoundary:!0}),ib=T(pa,ib.floating),{data:{escapedOffsets:ib,escaped:aa(ib)}};default:return{}}}}};w.inline=function(Da){void 0===Da&&(Da={});return{name:"inline",options:Da,async fn(pa){const {placement:ib,
elements:$a,rects:eb,platform:Ja,strategy:Fb}=pa,{padding:Kb=2,x:rb,y:Pb}=r(Da,pa);pa=Array.from(await (null==Ja.getClientRects?void 0:Ja.getClientRects($a.reference))||[]);const N=O(pa),Z=F(Q(pa)),va=E(Kb);pa=await Ja.getElementRects({reference:{getBoundingClientRect:function(){if(2===N.length&&N[0].left>N[1].right&&null!=rb&&null!=Pb)return N.find(cb=>rb>cb.left-va.left&&rb<cb.right+va.right&&Pb>cb.top-va.top&&Pb<cb.bottom+va.bottom)||Z;if(2<=N.length){if("y"===h(ib)){var ab=N[0];const la=N[N.length-
1],Ra="top"===m(ib);var Ha=ab.top,Qa=la.bottom;const Sa=Ra?ab.left:la.left;ab=Ra?ab.right:la.right;return{top:Ha,bottom:Qa,left:Sa,right:ab,width:ab-Sa,height:Qa-Ha,x:Sa,y:Ha}}const cb="left"===m(ib),Ab=gb(...N.map(la=>la.right)),ma=sa(...N.map(la=>la.left));Qa=N.filter(la=>cb?la.left===ma:la.right===Ab);Ha=Qa[0].top;Qa=Qa[Qa.length-1].bottom;return{top:Ha,bottom:Qa,left:ma,right:Ab,width:Ab-ma,height:Qa-Ha,x:ma,y:Ha}}return Z}},floating:$a.floating,strategy:Fb});return eb.reference.x!==pa.reference.x||
eb.reference.y!==pa.reference.y||eb.reference.width!==pa.reference.width||eb.reference.height!==pa.reference.height?{reset:{rects:pa}}:{}}}};w.limitShift=function(Da){void 0===Da&&(Da={});return{options:Da,fn(pa){const {x:ib,y:$a,placement:eb,rects:Ja,middlewareData:Fb}=pa,{offset:Kb=0,mainAxis:rb=!0,crossAxis:Pb=!0}=r(Da,pa);var N={x:ib,y:$a};const Z=h(eb),va=c(Z);let ab=N[va];N=N[Z];pa=r(Kb,pa);pa="number"===typeof pa?{mainAxis:pa,crossAxis:0}:{mainAxis:0,crossAxis:0,...pa};if(rb){var Ha="y"===
va?"height":"width",Qa=Ja.reference[va]-Ja.floating[Ha]+pa.mainAxis;Ha=Ja.reference[va]+Ja.reference[Ha]-pa.mainAxis;ab<Qa?ab=Qa:ab>Ha&&(ab=Ha)}if(Pb){var cb,Ab;const ma="y"===va?"width":"height";Qa=["top","left"].includes(m(eb));Ha=Ja.reference[Z]-Ja.floating[ma]+(Qa?(null==(cb=Fb.offset)?void 0:cb[Z])||0:0)+(Qa?0:pa.crossAxis);cb=Ja.reference[Z]+Ja.reference[ma]+(Qa?0:(null==(Ab=Fb.offset)?void 0:Ab[Z])||0)-(Qa?pa.crossAxis:0);N<Ha?N=Ha:N>cb&&(N=cb)}return{[va]:ab,[Z]:N}}}};w.offset=function(Da){void 0===
Da&&(Da=0);return{name:"offset",options:Da,async fn(pa){var ib,$a;const {x:eb,y:Ja,placement:Fb,middlewareData:Kb}=pa;pa=await da(pa,Da);return Fb===(null==(ib=Kb.offset)?void 0:ib.placement)&&null!=($a=Kb.arrow)&&$a.alignmentOffset?{}:{x:eb+pa.x,y:Ja+pa.y,data:{...pa,placement:Fb}}}}};w.rectToClientRect=F;w.shift=function(Da){void 0===Da&&(Da={});return{name:"shift",options:Da,async fn(pa){const {x:ib,y:$a,placement:eb}=pa,{mainAxis:Ja=!0,crossAxis:Fb=!1,limiter:Kb={fn:Ha=>{let {x:Qa,y:cb}=Ha;return{x:Qa,
y:cb}}},...rb}=r(Da,pa);var Pb={x:ib,y:$a};const N=await P(pa,rb),Z=h(m(eb)),va=c(Z);let ab=Pb[va];Pb=Pb[Z];Ja&&(ab=gb(ab+N["y"===va?"top":"left"],sa(ab,ab-N["y"===va?"bottom":"right"])));Fb&&(Pb=gb(Pb+N["y"===Z?"top":"left"],sa(Pb,Pb-N["y"===Z?"bottom":"right"])));pa=Kb.fn({...pa,[va]:ab,[Z]:Pb});return{...pa,data:{x:pa.x-ib,y:pa.y-$a,enabled:{[va]:Ja,[Z]:Fb}}}}}};w.size=function(Da){void 0===Da&&(Da={});return{name:"size",options:Da,async fn(pa){var ib,$a;const {placement:eb,rects:Ja,platform:Fb,
elements:Kb}=pa,{apply:rb=()=>{},...Pb}=r(Da,pa),N=await P(pa,Pb);var Z=m(eb),va=d(eb);const ab="y"===h(eb),{width:Ha,height:Qa}=Ja.floating;if("top"===Z||"bottom"===Z)var cb=va===(await (null==Fb.isRTL?void 0:Fb.isRTL(Kb.floating))?"start":"end")?"left":"right";else cb=Z,Z="end"===va?"top":"bottom";var Ab=Qa-N.top-N.bottom;const ma=Ha-N.left-N.right;Z=sa(Qa-N[Z],Ab);cb=sa(Ha-N[cb],ma);const la=!pa.middlewareData.shift;null!=(ib=pa.middlewareData.shift)&&ib.enabled.x&&(cb=ma);null!=($a=pa.middlewareData.shift)&&
$a.enabled.y&&(Z=Ab);la&&!va&&(ib=gb(N.left,0),$a=gb(N.right,0),va=gb(N.top,0),Ab=gb(N.bottom,0),ab?cb=Ha-2*(0!==ib||0!==$a?ib+$a:gb(N.left,N.right)):Z=Qa-2*(0!==va||0!==Ab?va+Ab:gb(N.top,N.bottom)));await rb({...pa,availableWidth:cb,availableHeight:Z});pa=await Fb.getDimensions(Kb.floating);return Ha!==pa.width||Qa!==pa.height?{reset:{rects:!0}}:{}}}}})};
shadow$provide[581]=function(G,B,X,p){(function(w,r){"object"===typeof p&&"undefined"!==typeof X?r(p,B(580)):"function"===typeof define&&define.amd?define(["exports","@floating-ui/core"],r):(w="undefined"!==typeof globalThis?globalThis:w||self,r(w.FloatingUIDOM={},w.FloatingUICore))})(this,function(w,r){function m(){return"undefined"!==typeof window}function d(ma){return h(ma)?(ma.nodeName||"").toLowerCase():"#document"}function c(ma){var la;return(null==ma||null==(la=ma.ownerDocument)?void 0:la.defaultView)||
window}function g(ma){var la;return null==(la=(h(ma)?ma.ownerDocument:ma.document)||window.document)?void 0:la.documentElement}function h(ma){return m()?ma instanceof Node||ma instanceof c(ma).Node:!1}function l(ma){return m()?ma instanceof Element||ma instanceof c(ma).Element:!1}function k(ma){return m()?ma instanceof HTMLElement||ma instanceof c(ma).HTMLElement:!1}function t(ma){return m()&&"undefined"!==typeof ShadowRoot?ma instanceof ShadowRoot||ma instanceof c(ma).ShadowRoot:!1}function x(ma){const {overflow:la,
overflowX:Ra,overflowY:Sa,display:ob}=H(ma);return/auto|scroll|overlay|hidden|clip/.test(la+Sa+Ra)&&!["inline","contents"].includes(ob)}function A(ma){return[":popover-open",":modal"].some(la=>{try{return ma.matches(la)}catch(Ra){return!1}})}function y(ma){const la=E(),Ra=l(ma)?H(ma):ma;return"none"!==Ra.transform||"none"!==Ra.perspective||(Ra.containerType?"normal"!==Ra.containerType:!1)||!la&&(Ra.backdropFilter?"none"!==Ra.backdropFilter:!1)||!la&&(Ra.filter?"none"!==Ra.filter:!1)||["transform",
"perspective","filter"].some(Sa=>(Ra.willChange||"").includes(Sa))||["paint","layout","strict","content"].some(Sa=>(Ra.contain||"").includes(Sa))}function E(){return"undefined"!==typeof CSS&&CSS.supports?CSS.supports("-webkit-backdrop-filter","none"):!1}function F(ma){return["html","body","#document"].includes(d(ma))}function H(ma){return c(ma).getComputedStyle(ma)}function P(ma){return l(ma)?{scrollLeft:ma.scrollLeft,scrollTop:ma.scrollTop}:{scrollLeft:ma.scrollX,scrollTop:ma.scrollY}}function K(ma){if("html"===
d(ma))return ma;ma=ma.assignedSlot||ma.parentNode||t(ma)&&ma.host||g(ma);return t(ma)?ma.host:ma}function T(ma){const la=K(ma);return F(la)?ma.ownerDocument?ma.ownerDocument.body:ma.body:k(la)&&x(la)?la:T(la)}function aa(ma,la,Ra){var Sa;void 0===la&&(la=[]);void 0===Ra&&(Ra=!0);const ob=T(ma);ma=ob===(null==(Sa=ma.ownerDocument)?void 0:Sa.body);Sa=c(ob);return ma?(ma=Q(Sa),la.concat(Sa,Sa.visualViewport||[],x(ob)?ob:[],ma&&Ra?aa(ma):[])):la.concat(ob,aa(ob,[],Ra))}function Q(ma){return ma.parent&&
Object.getPrototypeOf(ma.parent)?ma.frameElement:null}function O(ma){var la=H(ma);let Ra=parseFloat(la.width)||0;la=parseFloat(la.height)||0;var Sa=k(ma);const ob=Sa?ma.offsetWidth:Ra;ma=Sa?ma.offsetHeight:la;if(Sa=Ja(Ra)!==ob||Ja(la)!==ma)Ra=ob,la=ma;return{width:Ra,height:la,$:Sa}}function da(ma){return l(ma)?ma:ma.contextElement}function ea(ma){var la=da(ma);if(!k(la))return{x:1,y:1};ma=la.getBoundingClientRect();const {width:Ra,height:Sa,$:ob}=O(la);la=(ob?Ja(ma.width):ma.width)/Ra;ma=(ob?Ja(ma.height):
ma.height)/Sa;la&&Number.isFinite(la)||(la=1);ma&&Number.isFinite(ma)||(ma=1);return{x:la,y:ma}}function za(ma){ma=c(ma);return E()&&ma.visualViewport?{x:ma.visualViewport.offsetLeft,y:ma.visualViewport.offsetTop}:Kb}function Ea(ma,la,Ra,Sa){void 0===la&&(la=!1);void 0===Ra&&(Ra=!1);var ob=ma.getBoundingClientRect(),oa=da(ma),Va={x:1,y:1};la&&(Sa?l(Sa)&&(Va=ea(Sa)):Va=ea(ma));ma=Ra;void 0===ma&&(ma=!1);ma=!Sa||ma&&Sa!==c(oa)?!1:ma;la=ma?za(oa):{x:0,y:0};ma=(ob.left+la.x)/Va.x;la=(ob.top+la.y)/Va.y;
Ra=ob.width/Va.x;ob=ob.height/Va.y;if(oa){Va=c(oa);oa=Sa&&l(Sa)?c(Sa):Sa;var Ua=Va;for(Va=Q(Ua);Va&&Sa&&oa!==Ua;){Ua=ea(Va);var ua=Va.getBoundingClientRect();const Ta=H(Va),hb=ua.left+(Va.clientLeft+parseFloat(Ta.paddingLeft))*Ua.x;ua=ua.top+(Va.clientTop+parseFloat(Ta.paddingTop))*Ua.y;ma*=Ua.x;la*=Ua.y;Ra*=Ua.x;ob*=Ua.y;ma+=hb;la+=ua;Ua=c(Va);Va=Q(Ua)}}return r.rectToClientRect({width:Ra,height:ob,x:ma,y:la})}function sa(ma,la){const Ra=P(ma).scrollLeft;return la?la.left+Ra:Ea(g(ma)).left+Ra}function gb(ma,
la,Ra){if("viewport"===la){la=c(ma);var Sa=g(ma);la=la.visualViewport;ma=Sa.clientWidth;Sa=Sa.clientHeight;var ob=0,oa=0;if(la){ma=la.width;Sa=la.height;const Va=E();if(!Va||Va&&"fixed"===Ra)ob=la.offsetLeft,oa=la.offsetTop}Ra={width:ma,height:Sa,x:ob,y:oa}}else"document"===la?(oa=g(ma),Ra=g(oa),ob=P(oa),la=oa.ownerDocument.body,ma=eb(Ra.scrollWidth,Ra.clientWidth,la.scrollWidth,la.clientWidth),Sa=eb(Ra.scrollHeight,Ra.clientHeight,la.scrollHeight,la.clientHeight),oa=-ob.scrollLeft+sa(oa),ob=-ob.scrollTop,
"rtl"===H(la).direction&&(oa+=eb(Ra.clientWidth,la.clientWidth)-ma),Ra={width:ma,height:Sa,x:oa,y:ob}):l(la)?(ma=Ea(la,!0,"fixed"===Ra),Ra=ma.top+la.clientTop,ma=ma.left+la.clientLeft,Sa=k(la)?ea(la):{x:1,y:1},Ra={width:la.clientWidth*Sa.x,height:la.clientHeight*Sa.y,x:ma*Sa.x,y:Ra*Sa.y}):(Ra=za(ma),Ra={...la,x:la.x-Ra.x,y:la.y-Ra.y});return r.rectToClientRect(Ra)}function wa(ma,la){ma=K(ma);return ma===la||!l(ma)||F(ma)?!1:"fixed"===H(ma).position||wa(ma,la)}function Ba(ma,la){var Ra=la.get(ma);
if(Ra)return Ra;Ra=aa(ma,[],!1).filter(Va=>l(Va)&&"body"!==d(Va));let Sa=null;const ob="fixed"===H(ma).position;let oa=ob?K(ma):ma;for(;l(oa)&&!F(oa);){const Va=H(oa),Ua=y(oa);Ua||"fixed"!==Va.position||(Sa=null);(ob?!Ua&&!Sa:!Ua&&"static"===Va.position&&Sa&&["absolute","fixed"].includes(Sa.position)||x(oa)&&!Ua&&wa(ma,oa))?Ra=Ra.filter(ua=>ua!==oa):Sa=Va;oa=K(oa)}la.set(ma,Ra);return Ra}function Da(ma,la){if(!k(ma)||"fixed"===H(ma).position)return null;if(la)return la(ma);la=ma.offsetParent;g(ma)===
la&&(la=la.ownerDocument.body);return la}function pa(ma,la){const Ra=c(ma);if(A(ma))return Ra;if(!k(ma)){for(ma=K(ma);ma&&!F(ma);){if(l(ma)&&"static"!==H(ma).position)return ma;ma=K(ma)}return Ra}let Sa=Da(ma,la);for(;Sa&&["table","td","th"].includes(d(Sa))&&"static"===H(Sa).position;)Sa=Da(Sa,la);if(Sa&&F(Sa)&&"static"===H(Sa).position&&!y(Sa))return Ra;if(!(la=Sa))a:{for(ma=K(ma);k(ma)&&!F(ma);){if(y(ma)){la=ma;break a}else if(A(ma)){la=null;break a}ma=K(ma)}la=null}return la||Ra}function ib(ma,
la){function Ra(){var Ua;clearTimeout(oa);null==(Ua=ob)||Ua.disconnect();ob=null}function Sa(Ua,ua){function Ta(bd){bd=bd[0].intersectionRatio;if(bd!==ua){if(!ed)return Sa();bd?Sa(!1,bd):oa=setTimeout(()=>{Sa(!1,1E-7)},1E3)}ed=!1}void 0===Ua&&(Ua=!1);void 0===ua&&(ua=1);Ra();const {left:hb,top:Bb,width:Db,height:Sb}=ma.getBoundingClientRect();Ua||la();if(Db&&Sb){Ua=Fb(Bb);var tc=Fb(Va.clientWidth-(hb+Db)),dc=Fb(Va.clientHeight-(Bb+Sb)),Yc=Fb(hb);Ua={rootMargin:-Ua+"px "+-tc+"px "+-dc+"px "+-Yc+"px",
threshold:eb(0,$a(1,ua))||1};var ed=!0;try{ob=new IntersectionObserver(Ta,{...Ua,root:Va.ownerDocument})}catch(bd){ob=new IntersectionObserver(Ta,Ua)}ob.observe(ma)}}let ob=null,oa;const Va=g(ma);Sa(!0);return Ra}const $a=Math.min,eb=Math.max,Ja=Math.round,Fb=Math.floor,Kb={x:0,y:0},rb={convertOffsetParentRelativeRectToViewportRelativeRect:function(ma){let {elements:la,rect:Ra,offsetParent:Sa,strategy:ob}=ma;ma="fixed"===ob;const oa=g(Sa);var Va=la?A(la.floating):!1;if(Sa===oa||Va&&ma)return Ra;Va=
{scrollLeft:0,scrollTop:0};let Ua={x:1,y:1};var ua=0,Ta=0;const hb=k(Sa);if(hb||!hb&&!ma){if("body"!==d(Sa)||x(oa))Va=P(Sa);k(Sa)&&(ma=Ea(Sa),Ua=ea(Sa),ua=ma.x+Sa.clientLeft,Ta=ma.y+Sa.clientTop)}return{width:Ra.width*Ua.x,height:Ra.height*Ua.y,x:Ra.x*Ua.x-Va.scrollLeft*Ua.x+ua,y:Ra.y*Ua.y-Va.scrollTop*Ua.y+Ta}},getDocumentElement:g,getClippingRect:function(ma){let {element:la,boundary:Ra,rootBoundary:Sa,strategy:ob}=ma;ma=[...("clippingAncestors"===Ra?A(la)?[]:Ba(la,this._c):[].concat(Ra)),Sa];ma=
ma.reduce((oa,Va)=>{Va=gb(la,Va,ob);oa.top=eb(Va.top,oa.top);oa.right=$a(Va.right,oa.right);oa.bottom=$a(Va.bottom,oa.bottom);oa.left=eb(Va.left,oa.left);return oa},gb(la,ma[0],ob));return{width:ma.right-ma.left,height:ma.bottom-ma.top,x:ma.left,y:ma.top}},getOffsetParent:pa,getElementRects:async function(ma){var la=this.getOffsetParent||pa,Ra=this.getDimensions;Ra=await Ra(ma.floating);var Sa=ma.reference,ob=await la(ma.floating),oa=ma.strategy;la=k(ob);ma=g(ob);oa="fixed"===oa;Sa=Ea(Sa,!0,oa,ob);
let Va={scrollLeft:0,scrollTop:0};var Ua=0,ua=0;if(la||!la&&!oa){if("body"!==d(ob)||x(ma))Va=P(ob);la?(ua=Ea(ob,!0,oa,ob),Ua=ua.x+ob.clientLeft,ua=ua.y+ob.clientTop):ma&&(Ua=sa(ma))}let Ta=0;ob=0;!ma||la||oa||(la=ma.getBoundingClientRect(),ob=la.top+Va.scrollTop,Ta=la.left+Va.scrollLeft-sa(ma,la));return{reference:{x:Sa.left+Va.scrollLeft-Ua-Ta,y:Sa.top+Va.scrollTop-ua-ob,width:Sa.width,height:Sa.height},floating:{x:0,y:0,width:Ra.width,height:Ra.height}}},getClientRects:function(ma){return Array.from(ma.getClientRects())},
getDimensions:function(ma){const {width:la,height:Ra}=O(ma);return{width:la,height:Ra}},getScale:ea,isElement:l,isRTL:function(ma){return"rtl"===H(ma).direction}},Pb=r.detectOverflow,N=r.offset,Z=r.autoPlacement,va=r.shift,ab=r.flip,Ha=r.size,Qa=r.hide,cb=r.inline,Ab=r.limitShift;w.arrow=r.arrow;w.autoPlacement=Z;w.autoUpdate=function(ma,la,Ra,Sa){function ob(){const ed=Ea(ma);!Yc||ed.x===Yc.x&&ed.y===Yc.y&&ed.width===Yc.width&&ed.height===Yc.height||Ra();Yc=ed;dc=requestAnimationFrame(ob)}void 0===
Sa&&(Sa={});const {ancestorScroll:oa=!0,ancestorResize:Va=!0,elementResize:Ua="function"===typeof ResizeObserver,layoutShift:ua="function"===typeof IntersectionObserver,animationFrame:Ta=!1}=Sa,hb=da(ma),Bb=oa||Va?[...(hb?aa(hb):[]),...aa(la)]:[];Bb.forEach(ed=>{oa&&ed.addEventListener("scroll",Ra,{passive:!0});Va&&ed.addEventListener("resize",Ra)});const Db=hb&&ua?ib(hb,Ra):null;let Sb=-1,tc=null;Ua&&(tc=new ResizeObserver(ed=>{[ed]=ed;ed&&ed.target===hb&&tc&&(tc.unobserve(la),cancelAnimationFrame(Sb),
Sb=requestAnimationFrame(()=>{var bd;null==(bd=tc)||bd.observe(la)}));Ra()}),hb&&!Ta&&tc.observe(hb),tc.observe(la));let dc,Yc=Ta?Ea(ma):null;Ta&&ob();Ra();return()=>{var ed;Bb.forEach(bd=>{oa&&bd.removeEventListener("scroll",Ra);Va&&bd.removeEventListener("resize",Ra)});null==Db||Db();null==(ed=tc)||ed.disconnect();tc=null;Ta&&cancelAnimationFrame(dc)}};w.computePosition=(ma,la,Ra)=>{const Sa=new Map;Ra={platform:rb,...Ra};return r.computePosition(ma,la,{...Ra,platform:{...Ra.platform,_c:Sa}})};
w.detectOverflow=Pb;w.flip=ab;w.getOverflowAncestors=aa;w.hide=Qa;w.inline=cb;w.limitShift=Ab;w.offset=N;w.platform=rb;w.shift=va;w.size=Ha})};
shadow$provide[582]=function(G,B,X,p){(function(w,r){"object"===typeof p&&"undefined"!==typeof X?r(p,B(581),B(0),B(1)):"function"===typeof define&&define.amd?define(["exports","@floating-ui/dom","react","react-dom"],r):(w="undefined"!==typeof globalThis?globalThis:w||self,r(w.FloatingUIReactDOM={},w.FloatingUIDOM,w.React,w.ReactDOM))})(this,function(w,r,m,d){function c(E){var F=Object.create(null);E&&Object.keys(E).forEach(function(H){if("default"!==H){var P=Object.getOwnPropertyDescriptor(E,H);Object.defineProperty(F,
H,P.get?P:{enumerable:!0,get:function(){return E[H]}})}});F.default=E;return Object.freeze(F)}function g(E,F){if(E===F)return!0;if(typeof E!==typeof F)return!1;if("function"===typeof E&&E.toString()===F.toString())return!0;let H,P;if(E&&F&&"object"===typeof E){if(Array.isArray(E)){var K=E.length;if(K!==F.length)return!1;for(H=K;0!==H--;)if(!g(E[H],F[H]))return!1;return!0}P=Object.keys(E);K=P.length;if(K!==Object.keys(F).length)return!1;for(H=K;0!==H--;)if(!{}.hasOwnProperty.call(F,P[H]))return!1;
for(H=K;0!==H--;)if(K=P[H],!("_owner"===K&&E.$$typeof||g(E[K],F[K])))return!1;return!0}return E!==E&&F!==F}function h(E){return"undefined"===typeof window?1:(E.ownerDocument.defaultView||window).devicePixelRatio||1}function l(E,F){E=h(E);return Math.round(F*E)/E}function k(E){const F=t.useRef(E);A(()=>{F.current=E});return F}var t=c(m),x=c(d),A="undefined"!==typeof document?m.useLayoutEffect:m.useEffect;const y=E=>({name:"arrow",options:E,fn(F){const {element:H,padding:P}="function"===typeof E?E(F):
E;return H&&{}.hasOwnProperty.call(H,"current")?null!=H.current?r.arrow({element:H.current,padding:P}).fn(F):{}:H?r.arrow({element:H,padding:P}).fn(F):{}}});Object.defineProperty(w,"autoUpdate",{enumerable:!0,get:function(){return r.autoUpdate}});Object.defineProperty(w,"computePosition",{enumerable:!0,get:function(){return r.computePosition}});Object.defineProperty(w,"detectOverflow",{enumerable:!0,get:function(){return r.detectOverflow}});Object.defineProperty(w,"getOverflowAncestors",{enumerable:!0,
get:function(){return r.getOverflowAncestors}});Object.defineProperty(w,"platform",{enumerable:!0,get:function(){return r.platform}});w.arrow=(E,F)=>({...y(E),options:[E,F]});w.autoPlacement=(E,F)=>({...r.autoPlacement(E),options:[E,F]});w.flip=(E,F)=>({...r.flip(E),options:[E,F]});w.hide=(E,F)=>({...r.hide(E),options:[E,F]});w.inline=(E,F)=>({...r.inline(E),options:[E,F]});w.limitShift=(E,F)=>({...r.limitShift(E),options:[E,F]});w.offset=(E,F)=>({...r.offset(E),options:[E,F]});w.shift=(E,F)=>({...r.shift(E),
options:[E,F]});w.size=(E,F)=>({...r.size(E),options:[E,F]});w.useFloating=function(E){void 0===E&&(E={});const {placement:F="bottom",strategy:H="absolute",middleware:P=[],platform:K,elements:{reference:T,floating:aa}={},transform:Q=!0,whileElementsMounted:O,open:da}=E,[ea,za]=t.useState({x:0,y:0,strategy:H,placement:F,middlewareData:{},isPositioned:!1}),[Ea,sa]=t.useState(P);g(Ea,P)||sa(P);const [gb,wa]=t.useState(null),[Ba,Da]=t.useState(null),pa=t.useCallback(cb=>{cb!==Ja.current&&(Ja.current=
cb,wa(cb))},[]),ib=t.useCallback(cb=>{cb!==Fb.current&&(Fb.current=cb,Da(cb))},[]),$a=T||gb,eb=aa||Ba,Ja=t.useRef(null),Fb=t.useRef(null),Kb=t.useRef(ea);E=null!=O;const rb=k(O),Pb=k(K),N=k(da),Z=t.useCallback(()=>{if(Ja.current&&Fb.current){var cb={placement:F,strategy:H,middleware:Ea};Pb.current&&(cb.platform=Pb.current);r.computePosition(Ja.current,Fb.current,cb).then(Ab=>{const ma={...Ab,isPositioned:!1!==N.current};va.current&&!g(Kb.current,ma)&&(Kb.current=ma,x.flushSync(()=>{za(ma)}))})}},
[Ea,F,H,Pb,N]);A(()=>{!1===da&&Kb.current.isPositioned&&(Kb.current.isPositioned=!1,za(cb=>({...cb,isPositioned:!1})))},[da]);const va=t.useRef(!1);A(()=>{va.current=!0;return()=>{va.current=!1}},[]);A(()=>{$a&&(Ja.current=$a);eb&&(Fb.current=eb);if($a&&eb){if(rb.current)return rb.current($a,eb,Z);Z()}},[$a,eb,Z,rb,E]);const ab=t.useMemo(()=>({reference:Ja,floating:Fb,setReference:pa,setFloating:ib}),[pa,ib]),Ha=t.useMemo(()=>({reference:$a,floating:eb}),[$a,eb]),Qa=t.useMemo(()=>{const cb={position:H,
left:0,top:0};if(!Ha.floating)return cb;const Ab=l(Ha.floating,ea.x),ma=l(Ha.floating,ea.y);return Q?{...cb,transform:"translate("+Ab+"px, "+ma+"px)",...(1.5<=h(Ha.floating)&&{willChange:"transform"})}:{position:H,left:Ab,top:ma}},[H,Q,Ha.floating,ea.x,ea.y]);return t.useMemo(()=>({...ea,update:Z,refs:ab,elements:Ha,floatingStyles:Qa}),[ea,Z,ab,Ha,Qa])}})};
shadow$provide[583]=function(G,B,X,p){var w=Object.create,r=Object.defineProperty,m=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,h=(A,y,E,F)=>{if(y&&"object"===typeof y||"function"===typeof y)for(let H of d(y))g.call(A,H)||H===E||r(A,H,{get:()=>y[H],enumerable:!(F=m(y,H))||F.enumerable});return A};G={};((A,y)=>{for(var E in y)r(A,E,{get:y[E],enumerable:!0})})(G,{Arrow:()=>t,Root:()=>x});X.exports=(A=>h(r({},"__esModule",{value:!0}),
A))(G);X=((A,y,E)=>(E=null!=A?w(c(A)):{},h(!y&&A&&A.__esModule?E:r(E,"default",{value:A,enumerable:!0}),A)))(B(0));var l=B(548),k=B(546),t=X.forwardRef((A,y)=>{const {children:E,width:F=10,height:H=5,...P}=A;return(0,k.jsx)(l.Primitive.svg,{...P,ref:y,width:F,height:H,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:A.asChild?E:(0,k.jsx)("polygon",{points:"0,0 30,0 15,10"})})});t.displayName="Arrow";var x=t};
shadow$provide[584]=function(G,B,X,p){function w(y,E){function F(P){const {children:K,...T}=P;P=x.useMemo(()=>T,Object.values(T));return(0,A.jsx)(H.Provider,{value:P,children:K})}const H=x.createContext(E);F.displayName=y+"Provider";return[F,function(P){const K=x.useContext(H);if(K)return K;if(void 0!==E)return E;throw Error(`\`${P}\` must be used within \`${y}\``);}]}function r(y,E=[]){let F=[];const H=()=>{const P=F.map(K=>x.createContext(K));return function(K){const T=K?.[y]||P;return x.useMemo(()=>
({[`__scope${y}`]:{...K,[y]:T}}),[K,T])}};H.scopeName=y;return[function(P,K){function T(O){const {scope:da,children:ea,...za}=O;O=da?.[y][Q]||aa;const Ea=x.useMemo(()=>za,Object.values(za));return(0,A.jsx)(O.Provider,{value:Ea,children:ea})}const aa=x.createContext(K),Q=F.length;F=[...F,K];T.displayName=P+"Provider";return[T,function(O,da){if(da=x.useContext(da?.[y][Q]||aa))return da;if(void 0!==K)return K;throw Error(`\`${O}\` must be used within \`${P}\``);}]},m(H,...E)]}function m(...y){const E=
y[0];if(1===y.length)return E;const F=()=>{const H=y.map(P=>({useScope:P(),scopeName:P.scopeName}));return function(P){const K=H.reduce((T,{useScope:aa,scopeName:Q})=>{aa=aa(P)[`__scope${Q}`];return{...T,...aa}},{});return x.useMemo(()=>({[`__scope${E.scopeName}`]:K}),[K])}};F.scopeName=E.scopeName;return F}var d=Object.create,c=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,t=(y,E,F,H)=>{if(E&&"object"===
typeof E||"function"===typeof E)for(let P of h(E))k.call(y,P)||P===F||c(y,P,{get:()=>E[P],enumerable:!(H=g(E,P))||H.enumerable});return y};G={};((y,E)=>{for(var F in E)c(y,F,{get:E[F],enumerable:!0})})(G,{createContext:()=>w,createContextScope:()=>r});X.exports=(y=>t(c({},"__esModule",{value:!0}),y))(G);var x=((y,E,F)=>(F=null!=y?d(l(y)):{},t(!E&&y&&y.__esModule?F:c(F,"default",{value:y,enumerable:!0}),y)))(B(0)),A=B(546)};
shadow$provide[585]=function(G,B,X,p){function w(x){const [A,y]=k.useState(void 0);(0,t.useLayoutEffect)(()=>{if(x){y({width:x.offsetWidth,height:x.offsetHeight});const E=new ResizeObserver(F=>{if(Array.isArray(F)&&F.length){F=F[0];if("borderBoxSize"in F){F=F.borderBoxSize;var H=Array.isArray(F)?F[0]:F;F=H.inlineSize;H=H.blockSize}else F=x.offsetWidth,H=x.offsetHeight;y({width:F,height:H})}});E.observe(x,{box:"border-box"});return()=>E.unobserve(x)}y(void 0)},[x]);return A}var r=Object.create,m=Object.defineProperty,
d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,g=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(x,A,y,E)=>{if(A&&"object"===typeof A||"function"===typeof A)for(let F of c(A))h.call(x,F)||F===y||m(x,F,{get:()=>A[F],enumerable:!(E=d(A,F))||E.enumerable});return x};G={};((x,A)=>{for(var y in A)m(x,y,{get:A[y],enumerable:!0})})(G,{useSize:()=>w});X.exports=(x=>l(m({},"__esModule",{value:!0}),x))(G);var k=((x,A,y)=>(y=null!=x?r(g(x)):{},l(!A&&x&&x.__esModule?y:m(y,"default",
{value:x,enumerable:!0}),x)))(B(0)),t=B(549)};
shadow$provide[586]=function(G,B,X,p){function w(Fb){return null!==Fb}function r(Fb){const [Kb,rb="center"]=Fb.split("-");return[Kb,rb]}"use client";var m=Object.create,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,k=(Fb,Kb,rb,Pb)=>{if(Kb&&"object"===typeof Kb||"function"===typeof Kb)for(let N of g(Kb))l.call(Fb,N)||N===rb||d(Fb,N,{get:()=>Kb[N],enumerable:!(Pb=c(Kb,N))||Pb.enumerable});return Fb};G=
(Fb,Kb,rb)=>(rb=null!=Fb?m(h(Fb)):{},k(!Kb&&Fb&&Fb.__esModule?rb:d(rb,"default",{value:Fb,enumerable:!0}),Fb));p={};((Fb,Kb)=>{for(var rb in Kb)d(Fb,rb,{get:Kb[rb],enumerable:!0})})(p,{ALIGN_OPTIONS:()=>aa,Anchor:()=>$a,Arrow:()=>Ja,Content:()=>eb,Popper:()=>za,PopperAnchor:()=>Ea,PopperArrow:()=>Da,PopperContent:()=>wa,Root:()=>ib,SIDE_OPTIONS:()=>T,createPopperScope:()=>O});X.exports=(Fb=>k(d({},"__esModule",{value:!0}),Fb))(p);var t=G(B(0)),x=B(582),A=G(B(583)),y=B(543);X=B(584);var E=B(548),F=
B(576),H=B(549),P=B(585),K=B(546),T=["top","right","bottom","left"],aa=["start","center","end"],[Q,O]=(0,X.createContextScope)("Popper"),[da,ea]=Q("Popper"),za=Fb=>{const {__scopePopper:Kb,children:rb}=Fb,[Pb,N]=t.useState(null);return(0,K.jsx)(da,{scope:Kb,anchor:Pb,onAnchorChange:N,children:rb})};za.displayName="Popper";var Ea=t.forwardRef((Fb,Kb)=>{const {__scopePopper:rb,virtualRef:Pb,...N}=Fb,Z=ea("PopperAnchor",rb),va=t.useRef(null);Fb=(0,y.useComposedRefs)(Kb,va);t.useEffect(()=>{Z.onAnchorChange(Pb?.current||
va.current)});return Pb?null:(0,K.jsx)(E.Primitive.div,{...N,ref:Fb})});Ea.displayName="PopperAnchor";var [sa,gb]=Q("PopperContent"),wa=t.forwardRef((Fb,Kb)=>{const {__scopePopper:rb,side:Pb="bottom",sideOffset:N=0,align:Z="center",alignOffset:va=0,arrowPadding:ab=0,avoidCollisions:Ha=!0,collisionBoundary:Qa=[],collisionPadding:cb=0,sticky:Ab="partial",hideWhenDetached:ma=!1,updatePositionStrategy:la="optimized",onPlaced:Ra,...Sa}=Fb;var ob=ea("PopperContent",rb);const [oa,Va]=t.useState(null);Kb=
(0,y.useComposedRefs)(Kb,de=>Va(de));const [Ua,ua]=t.useState(null);var Ta=(0,P.useSize)(Ua),hb=Ta?.width??0;Ta=Ta?.height??0;const Bb=Pb+("center"!==Z?"-"+Z:"");var Db="number"===typeof cb?cb:{top:0,right:0,bottom:0,left:0,...cb};const Sb=Array.isArray(Qa)?Qa:[Qa],tc=0<Sb.length;Db={padding:Db,boundary:Sb.filter(w),altBoundary:tc};const {refs:dc,floatingStyles:Yc,placement:ed,isPositioned:bd,middlewareData:hd}=(0,x.useFloating)({strategy:"fixed",placement:Bb,whileElementsMounted:(...de)=>(0,x.autoUpdate)(...de,
{animationFrame:"always"===la}),elements:{reference:ob.anchor},middleware:[(0,x.offset)({mainAxis:N+Ta,alignmentAxis:va}),Ha&&(0,x.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===Ab?(0,x.limitShift)():void 0,...Db}),Ha&&(0,x.flip)({...Db}),(0,x.size)({...Db,apply:({elements:de,rects:ge,availableWidth:Ce,availableHeight:Jb})=>{const {width:ke,height:nd}=ge.reference;de=de.floating.style;de.setProperty("--radix-popper-available-width",`${Ce}px`);de.setProperty("--radix-popper-available-height",
`${Jb}px`);de.setProperty("--radix-popper-anchor-width",`${ke}px`);de.setProperty("--radix-popper-anchor-height",`${nd}px`)}}),Ua&&(0,x.arrow)({element:Ua,padding:ab}),pa({arrowWidth:hb,arrowHeight:Ta}),ma&&(0,x.hide)({strategy:"referenceHidden",...Db})]}),[fc,cd]=r(ed),zd=(0,F.useCallbackRef)(Ra);(0,H.useLayoutEffect)(()=>{bd&&zd?.()},[bd,zd]);ob=hd.arrow?.x;hb=hd.arrow?.y;Ta=0!==hd.arrow?.centerOffset;const [Gd,sc]=t.useState();(0,H.useLayoutEffect)(()=>{oa&&sc(window.getComputedStyle(oa).zIndex)},
[oa]);return(0,K.jsx)("div",{ref:dc.setFloating,"data-radix-popper-content-wrapper":"",style:{...Yc,transform:bd?Yc.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Gd,["--radix-popper-transform-origin"]:[hd.transformOrigin?.x,hd.transformOrigin?.y].join(" "),...(hd.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"})},dir:Fb.dir,children:(0,K.jsx)(sa,{scope:rb,placedSide:fc,onArrowChange:ua,arrowX:ob,arrowY:hb,shouldHideArrow:Ta,children:(0,K.jsx)(E.Primitive.div,{"data-side":fc,
"data-align":cd,...Sa,ref:Kb,style:{...Sa.style,animation:bd?void 0:"none"}})})})});wa.displayName="PopperContent";var Ba={top:"bottom",right:"left",bottom:"top",left:"right"},Da=t.forwardRef(function(Fb,Kb){const {__scopePopper:rb,...Pb}=Fb;Fb=gb("PopperArrow",rb);return(0,K.jsx)("span",{ref:Fb.onArrowChange,style:{position:"absolute",left:Fb.arrowX,top:Fb.arrowY,[Ba[Fb.placedSide]]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[Fb.placedSide],transform:{top:"translateY(100%)",
right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[Fb.placedSide],visibility:Fb.shouldHideArrow?"hidden":void 0},children:(0,K.jsx)(A.Root,{...Pb,ref:Kb,style:{...Pb.style,display:"block"}})})});Da.displayName="PopperArrow";var pa=Fb=>({name:"transformOrigin",options:Fb,fn(Kb){const {placement:rb,rects:Pb,middlewareData:N}=Kb;var Z=(Kb=0!==N.arrow?.centerOffset)?0:Fb.arrowWidth;const va=Kb?0:Fb.arrowHeight,[ab,Ha]=
r(rb),Qa={start:"0%",center:"50%",end:"100%"}[Ha];Z=(N.arrow?.x??0)+Z/2;const cb=(N.arrow?.y??0)+va/2;let Ab="",ma="";"bottom"===ab?(Ab=Kb?Qa:`${Z}px`,ma=`${-va}px`):"top"===ab?(Ab=Kb?Qa:`${Z}px`,ma=`${Pb.floating.height+va}px`):"right"===ab?(Ab=`${-va}px`,ma=Kb?Qa:`${cb}px`):"left"===ab&&(Ab=`${Pb.floating.width+va}px`,ma=Kb?Qa:`${cb}px`);return{data:{x:Ab,y:ma}}}}),ib=za,$a=Ea,eb=wa,Ja=Da};
shadow$provide[587]=function(G,B,X,p){function w(F,H){return y.useReducer((P,K)=>H[P][K]??P,F)}function r(F){const [H,P]=t.useState(),K=t.useRef({}),T=t.useRef(F),aa=t.useRef("none"),[Q,O]=w(F?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});t.useEffect(()=>{const da=K.current?.animationName||"none";aa.current="mounted"===Q?da:"none"},[Q]);(0,A.useLayoutEffect)(()=>{const da=
K.current,ea=T.current;if(ea!==F){const za=aa.current,Ea=da?.animationName||"none";F?O("MOUNT"):"none"===Ea||"none"===da?.display?O("UNMOUNT"):ea&&za!==Ea?O("ANIMATION_OUT"):O("UNMOUNT");T.current=F}},[F,O]);(0,A.useLayoutEffect)(()=>{if(H){let da;const ea=H.ownerDocument.defaultView??window,za=sa=>{const gb=(K.current?.animationName||"none").includes(sa.animationName);if(sa.target===H&&gb&&(O("ANIMATION_END"),!T.current)){const wa=H.style.animationFillMode;H.style.animationFillMode="forwards";da=
ea.setTimeout(()=>{"forwards"===H.style.animationFillMode&&(H.style.animationFillMode=wa)})}},Ea=sa=>{sa.target===H&&(aa.current=K.current?.animationName||"none")};H.addEventListener("animationstart",Ea);H.addEventListener("animationcancel",za);H.addEventListener("animationend",za);return()=>{ea.clearTimeout(da);H.removeEventListener("animationstart",Ea);H.removeEventListener("animationcancel",za);H.removeEventListener("animationend",za)}}O("ANIMATION_END")},[H,O]);return{isPresent:["mounted","unmountSuspended"].includes(Q),
ref:t.useCallback(da=>{da&&(K.current=getComputedStyle(da));P(da)},[])}}"use client";var m=Object.create,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,k=(F,H,P,K)=>{if(H&&"object"===typeof H||"function"===typeof H)for(let T of g(H))l.call(F,T)||T===P||d(F,T,{get:()=>H[T],enumerable:!(K=c(H,T))||K.enumerable});return F};G=(F,H,P)=>(P=null!=F?m(h(F)):{},k(!H&&F&&F.__esModule?P:d(P,"default",{value:F,enumerable:!0}),
F));p={};((F,H)=>{for(var P in H)d(F,P,{get:H[P],enumerable:!0})})(p,{Presence:()=>E});X.exports=(F=>k(d({},"__esModule",{value:!0}),F))(p);var t=G(B(0)),x=B(543),A=B(549),y=G(B(0)),E=F=>{const {present:H,children:P}=F;F=r(H);const K="function"===typeof P?P({present:F.isPresent}):t.Children.only(P);var T=x.useComposedRefs,aa=F.ref,Q;Q=(Q=(Q=Object.getOwnPropertyDescriptor(K.props,"ref")?.get)&&"isReactWarning"in Q&&Q.isReactWarning)?K.ref:(Q=(Q=Object.getOwnPropertyDescriptor(K,"ref")?.get)&&"isReactWarning"in
Q&&Q.isReactWarning)?K.props.ref:K.props.ref||K.ref;T=T.call(x,aa,Q);return"function"===typeof P||F.isPresent?t.cloneElement(K,{ref:T}):null};E.displayName="Presence"};
shadow$provide[588]=function(G,B,X,p){function w({prop:A,defaultProp:y,onChange:E=()=>{}}){const [F,H]=r({defaultProp:y,onChange:E}),P=void 0!==A;y=P?A:F;const K=(0,x.useCallbackRef)(E);E=t.useCallback(T=>{P?(T="function"===typeof T?T(A):T,T!==A&&K(T)):H(T)},[P,A,H,K]);return[y,E]}function r({defaultProp:A,onChange:y}){A=t.useState(A);const [E]=A,F=t.useRef(E),H=(0,x.useCallbackRef)(y);t.useEffect(()=>{F.current!==E&&(H(E),F.current=E)},[E,F,H]);return A}var m=Object.create,d=Object.defineProperty,
c=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,k=(A,y,E,F)=>{if(y&&"object"===typeof y||"function"===typeof y)for(let H of g(y))l.call(A,H)||H===E||d(A,H,{get:()=>y[H],enumerable:!(F=c(y,H))||F.enumerable});return A};G={};((A,y)=>{for(var E in y)d(A,E,{get:y[E],enumerable:!0})})(G,{useControllableState:()=>w});X.exports=(A=>k(d({},"__esModule",{value:!0}),A))(G);var t=((A,y,E)=>(E=null!=A?m(h(A)):{},k(!y&&A&&A.__esModule?E:
d(E,"default",{value:A,enumerable:!0}),A)))(B(0)),x=B(576)};
shadow$provide[589]=function(G,B,X,p){var w=Object.create,r=Object.defineProperty,m=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,c=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,h=(A,y,E,F)=>{if(y&&"object"===typeof y||"function"===typeof y)for(let H of d(y))g.call(A,H)||H===E||r(A,H,{get:()=>y[H],enumerable:!(F=m(y,H))||F.enumerable});return A};G={};((A,y)=>{for(var E in y)r(A,E,{get:y[E],enumerable:!0})})(G,{Root:()=>x,VisuallyHidden:()=>t});X.exports=(A=>h(r({},"__esModule",
{value:!0}),A))(G);X=((A,y,E)=>(E=null!=A?w(c(A)):{},h(!y&&A&&A.__esModule?E:r(E,"default",{value:A,enumerable:!0}),A)))(B(0));var l=B(548),k=B(546),t=X.forwardRef((A,y)=>(0,k.jsx)(l.Primitive.span,{...A,ref:y,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...A.style}}));t.displayName="VisuallyHidden";var x=t};
shadow$provide[590]=function(G,B,X,p){function w(la,Ra){const Sa=Math.abs(Ra.top-la.y),ob=Math.abs(Ra.bottom-la.y),oa=Math.abs(Ra.right-la.x);la=Math.abs(Ra.left-la.x);switch(Math.min(Sa,ob,oa,la)){case la:return"left";case oa:return"right";case Sa:return"top";case ob:return"bottom";default:throw Error("unreachable");}}function r(la,Ra,Sa=5){const ob=[];switch(Ra){case "top":ob.push({x:la.x-Sa,y:la.y+Sa},{x:la.x+Sa,y:la.y+Sa});break;case "bottom":ob.push({x:la.x-Sa,y:la.y-Sa},{x:la.x+Sa,y:la.y-Sa});
break;case "left":ob.push({x:la.x+Sa,y:la.y-Sa},{x:la.x+Sa,y:la.y+Sa});break;case "right":ob.push({x:la.x-Sa,y:la.y-Sa},{x:la.x-Sa,y:la.y+Sa})}return ob}function m(la){la=la.slice();la.sort((Ra,Sa)=>Ra.x<Sa.x?-1:Ra.x>Sa.x?1:Ra.y<Sa.y?-1:Ra.y>Sa.y?1:0);return d(la)}function d(la){if(1>=la.length)return la.slice();const Ra=[];for(var Sa=0;Sa<la.length;Sa++){for(var ob=la[Sa];2<=Ra.length;){var oa=Ra[Ra.length-1],Va=Ra[Ra.length-2];if((oa.x-Va.x)*(ob.y-Va.y)>=(oa.y-Va.y)*(ob.x-Va.x))Ra.pop();else break}Ra.push(ob)}Ra.pop();
Sa=[];for(ob=la.length-1;0<=ob;ob--){for(oa=la[ob];2<=Sa.length;){Va=Sa[Sa.length-1];const Ua=Sa[Sa.length-2];if((Va.x-Ua.x)*(oa.y-Ua.y)>=(Va.y-Ua.y)*(oa.x-Ua.x))Sa.pop();else break}Sa.push(oa)}Sa.pop();return 1===Ra.length&&1===Sa.length&&Ra[0].x===Sa[0].x&&Ra[0].y===Sa[0].y?Ra:Ra.concat(Sa)}"use client";var c=Object.create,g=Object.defineProperty,h=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,k=Object.getPrototypeOf,t=Object.prototype.hasOwnProperty,x=(la,Ra,Sa,ob)=>{if(Ra&&"object"===
typeof Ra||"function"===typeof Ra)for(let oa of l(Ra))t.call(la,oa)||oa===Sa||g(la,oa,{get:()=>Ra[oa],enumerable:!(ob=h(Ra,oa))||ob.enumerable});return la};G=(la,Ra,Sa)=>(Sa=null!=la?c(k(la)):{},x(!Ra&&la&&la.__esModule?Sa:g(Sa,"default",{value:la,enumerable:!0}),la));p={};((la,Ra)=>{for(var Sa in Ra)g(la,Sa,{get:Ra[Sa],enumerable:!0})})(p,{Arrow:()=>ma,Content:()=>Ab,Portal:()=>cb,Provider:()=>ab,Root:()=>Ha,Tooltip:()=>ib,TooltipArrow:()=>va,TooltipContent:()=>Kb,TooltipPortal:()=>Fb,TooltipProvider:()=>
Ba,TooltipTrigger:()=>$a,Trigger:()=>Qa,createTooltipScope:()=>Ea});X.exports=(la=>x(g({},"__esModule",{value:!0}),la))(p);var A=G(B(0)),y=B(574),E=B(543);X=B(575);var F=B(578),H=B(579),P=G(B(586));p=B(586);var K=B(550),T=B(587),aa=B(548),Q=B(547),O=B(588),da=G(B(589)),ea=B(546),[za,Ea]=(0,X.createContextScope)("Tooltip",[p.createPopperScope]),sa=(0,p.createPopperScope)(),[gb,wa]=za("TooltipProvider"),Ba=la=>{const {__scopeTooltip:Ra,delayDuration:Sa=700,skipDelayDuration:ob=300,disableHoverableContent:oa=
!1,children:Va}=la,[Ua,ua]=A.useState(!0),Ta=A.useRef(!1),hb=A.useRef(0);A.useEffect(()=>{const Bb=hb.current;return()=>window.clearTimeout(Bb)},[]);return(0,ea.jsx)(gb,{scope:Ra,isOpenDelayed:Ua,delayDuration:Sa,onOpen:A.useCallback(()=>{window.clearTimeout(hb.current);ua(!1)},[]),onClose:A.useCallback(()=>{window.clearTimeout(hb.current);hb.current=window.setTimeout(()=>ua(!0),ob)},[ob]),isPointerInTransitRef:Ta,onPointerInTransitChange:A.useCallback(Bb=>{Ta.current=Bb},[]),disableHoverableContent:oa,
children:Va})};Ba.displayName="TooltipProvider";var [Da,pa]=za("Tooltip"),ib=la=>{const {__scopeTooltip:Ra,children:Sa,open:ob,defaultOpen:oa=!1,onOpenChange:Va,disableHoverableContent:Ua,delayDuration:ua}=la,Ta=wa("Tooltip",la.__scopeTooltip);la=sa(Ra);const [hb,Bb]=A.useState(null),Db=(0,H.useId)(),Sb=A.useRef(0),tc=Ua??Ta.disableHoverableContent,dc=ua??Ta.delayDuration,Yc=A.useRef(!1),[ed=!1,bd]=(0,O.useControllableState)({prop:ob,defaultProp:oa,onChange:Gd=>{if(Gd)Ta.onOpen(),document.dispatchEvent(new CustomEvent("tooltip.open"));
else Ta.onClose();Va?.(Gd)}}),hd=A.useMemo(()=>ed?Yc.current?"delayed-open":"instant-open":"closed",[ed]),fc=A.useCallback(()=>{window.clearTimeout(Sb.current);Yc.current=!1;bd(!0)},[bd]),cd=A.useCallback(()=>{window.clearTimeout(Sb.current);bd(!1)},[bd]),zd=A.useCallback(()=>{window.clearTimeout(Sb.current);Sb.current=window.setTimeout(()=>{Yc.current=!0;bd(!0)},dc)},[dc,bd]);A.useEffect(()=>()=>window.clearTimeout(Sb.current),[]);return(0,ea.jsx)(P.Root,{...la,children:(0,ea.jsx)(Da,{scope:Ra,contentId:Db,
open:ed,stateAttribute:hd,trigger:hb,onTriggerChange:Bb,onTriggerEnter:A.useCallback(()=>{Ta.isOpenDelayed?zd():fc()},[Ta.isOpenDelayed,zd,fc]),onTriggerLeave:A.useCallback(()=>{tc?cd():window.clearTimeout(Sb.current)},[cd,tc]),onOpen:fc,onClose:cd,disableHoverableContent:tc,children:Sa})})};ib.displayName="Tooltip";var $a=A.forwardRef((la,Ra)=>{const {__scopeTooltip:Sa,...ob}=la,oa=pa("TooltipTrigger",Sa),Va=wa("TooltipTrigger",Sa),Ua=sa(Sa),ua=A.useRef(null);Ra=(0,E.useComposedRefs)(Ra,ua,oa.onTriggerChange);
const Ta=A.useRef(!1),hb=A.useRef(!1),Bb=A.useCallback(()=>Ta.current=!1,[]);A.useEffect(()=>()=>document.removeEventListener("pointerup",Bb),[Bb]);return(0,ea.jsx)(P.Anchor,{asChild:!0,...Ua,children:(0,ea.jsx)(aa.Primitive.button,{"aria-describedby":oa.open?oa.contentId:void 0,"data-state":oa.stateAttribute,...ob,ref:Ra,onPointerMove:(0,y.composeEventHandlers)(la.onPointerMove,Db=>{"touch"===Db.pointerType||hb.current||Va.isPointerInTransitRef.current||(oa.onTriggerEnter(),hb.current=!0)}),onPointerLeave:(0,y.composeEventHandlers)(la.onPointerLeave,
()=>{oa.onTriggerLeave();hb.current=!1}),onPointerDown:(0,y.composeEventHandlers)(la.onPointerDown,()=>{Ta.current=!0;document.addEventListener("pointerup",Bb,{once:!0})}),onFocus:(0,y.composeEventHandlers)(la.onFocus,()=>{if(!Ta.current)oa.onOpen()}),onBlur:(0,y.composeEventHandlers)(la.onBlur,oa.onClose),onClick:(0,y.composeEventHandlers)(la.onClick,oa.onClose)})})});$a.displayName="TooltipTrigger";var [eb,Ja]=za("TooltipPortal",{forceMount:void 0}),Fb=la=>{const {__scopeTooltip:Ra,forceMount:Sa,
children:ob,container:oa}=la;la=pa("TooltipPortal",Ra);return(0,ea.jsx)(eb,{scope:Ra,forceMount:Sa,children:(0,ea.jsx)(T.Presence,{present:Sa||la.open,children:(0,ea.jsx)(K.Portal,{asChild:!0,container:oa,children:ob})})})};Fb.displayName="TooltipPortal";var Kb=A.forwardRef((la,Ra)=>{const Sa=Ja("TooltipContent",la.__scopeTooltip),{forceMount:ob=Sa.forceMount,side:oa="top",...Va}=la;la=pa("TooltipContent",la.__scopeTooltip);return(0,ea.jsx)(T.Presence,{present:ob||la.open,children:la.disableHoverableContent?
(0,ea.jsx)(Z,{side:oa,...Va,ref:Ra}):(0,ea.jsx)(rb,{side:oa,...Va,ref:Ra})})}),rb=A.forwardRef((la,Ra)=>{const Sa=pa("TooltipContent",la.__scopeTooltip),ob=wa("TooltipContent",la.__scopeTooltip),oa=A.useRef(null);Ra=(0,E.useComposedRefs)(Ra,oa);const [Va,Ua]=A.useState(null),{trigger:ua,onClose:Ta}=Sa,hb=oa.current,{onPointerInTransitChange:Bb}=ob,Db=A.useCallback(()=>{Ua(null);Bb(!1)},[Bb]),Sb=A.useCallback((tc,dc)=>{var Yc={x:tc.clientX,y:tc.clientY};tc=w(Yc,tc.currentTarget.getBoundingClientRect());
Yc=r(Yc,tc);dc=dc.getBoundingClientRect();const {top:ed,right:bd,bottom:hd,left:fc}=dc;dc=[{x:fc,y:ed},{x:bd,y:ed},{x:bd,y:hd},{x:fc,y:hd}];dc=m([...Yc,...dc]);Ua(dc);Bb(!0)},[Bb]);A.useEffect(()=>()=>Db(),[Db]);A.useEffect(()=>{if(ua&&hb){const tc=Yc=>Sb(Yc,hb),dc=Yc=>Sb(Yc,ua);ua.addEventListener("pointerleave",tc);hb.addEventListener("pointerleave",dc);return()=>{ua.removeEventListener("pointerleave",tc);hb.removeEventListener("pointerleave",dc)}}},[ua,hb,Sb,Db]);A.useEffect(()=>{if(Va){const tc=
dc=>{var Yc=dc.target;dc={x:dc.clientX,y:dc.clientY};Yc=ua?.contains(Yc)||hb?.contains(Yc);const {x:ed,y:bd}=dc;dc=!1;for(let hd=0,fc=Va.length-1;hd<Va.length;fc=hd++){const cd=Va[hd].x,zd=Va[hd].y,Gd=Va[fc].x,sc=Va[fc].y;zd>bd!==sc>bd&&ed<(Gd-cd)*(bd-zd)/(sc-zd)+cd&&(dc=!dc)}dc=!dc;Yc?Db():dc&&(Db(),Ta())};document.addEventListener("pointermove",tc);return()=>document.removeEventListener("pointermove",tc)}},[ua,hb,Va,Ta,Db]);return(0,ea.jsx)(Z,{...la,ref:Ra})}),[Pb,N]=za("Tooltip",{isInside:!1}),
Z=A.forwardRef((la,Ra)=>{const {__scopeTooltip:Sa,children:ob,"aria-label":oa,onEscapeKeyDown:Va,onPointerDownOutside:Ua,...ua}=la,Ta=pa("TooltipContent",Sa);la=sa(Sa);const {onClose:hb}=Ta;A.useEffect(()=>{document.addEventListener("tooltip.open",hb);return()=>document.removeEventListener("tooltip.open",hb)},[hb]);A.useEffect(()=>{if(Ta.trigger){const Bb=Db=>{Db.target?.contains(Ta.trigger)&&hb()};window.addEventListener("scroll",Bb,{capture:!0});return()=>window.removeEventListener("scroll",Bb,
{capture:!0})}},[Ta.trigger,hb]);return(0,ea.jsx)(F.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:Va,onPointerDownOutside:Ua,onFocusOutside:Bb=>Bb.preventDefault(),onDismiss:hb,children:(0,ea.jsxs)(P.Content,{"data-state":Ta.stateAttribute,...la,...ua,ref:Ra,style:{...ua.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)",
"--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,ea.jsx)(Q.Slottable,{children:ob}),(0,ea.jsx)(Pb,{scope:Sa,isInside:!0,children:(0,ea.jsx)(da.Root,{id:Ta.contentId,role:"tooltip",children:oa||ob})})]})})});Kb.displayName="TooltipContent";var va=A.forwardRef((la,Ra)=>{const {__scopeTooltip:Sa,...ob}=la;la=sa(Sa);return N("TooltipArrow",Sa).isInside?null:(0,ea.jsx)(P.Arrow,{...la,...ob,ref:Ra})});va.displayName=
"TooltipArrow";var ab=Ba,Ha=ib,Qa=$a,cb=Fb,Ab=Kb,ma=va};
shadow$provide[591]=function(G,B,X,p){function w(U){return U&&U.__esModule?U:{"default":U}}function r(U){if(U&&U.__esModule)return U;var ha=Object.create(null);U&&Object.keys(U).forEach(function(na){if("default"!==na){var Aa=Object.getOwnPropertyDescriptor(U,na);Object.defineProperty(ha,na,Aa.get?Aa:{enumerable:!0,get:function(){return U[na]}})}});ha["default"]=U;return Object.freeze(ha)}function m(U,ha){if(null==U)return{};if(null==U)var na={};else{na={};var Aa=Object.keys(U),Ca;for(Ca=0;Ca<Aa.length;Ca++){var Ya=
Aa[Ca];0<=ha.indexOf(Ya)||(na[Ya]=U[Ya])}}if(Object.getOwnPropertySymbols)for(Ca=Object.getOwnPropertySymbols(U),Ya=0;Ya<Ca.length;Ya++)Aa=Ca[Ya],0<=ha.indexOf(Aa)||Object.prototype.propertyIsEnumerable.call(U,Aa)&&(na[Aa]=U[Aa]);return na}function d(U,ha,...na){const [Aa,...Ca]=Va[ha](...na);console[U]("LEVA: "+Aa,...Ca)}function c(U){let {value:ha}=U;U=m(U,Ta);for(let na of Db){const Aa=na(ha,U);if(Aa)return Aa}}function g(U,ha,na,Aa){({normalize:U}=Sb[U]);if(U)return U(ha,na,Aa);if("object"!==
typeof ha||!("value"in ha))return{value:ha};({value:na}=ha);ha=m(ha,Bb);return{value:na,settings:ha}}function h(U,ha,na){({format:U}=Sb[U]);return U?U(ha,na):ha}function l(U,ha){var na=Object.keys(U);if(Object.getOwnPropertySymbols){var Aa=Object.getOwnPropertySymbols(U);ha&&(Aa=Aa.filter(function(Ca){return Object.getOwnPropertyDescriptor(U,Ca).enumerable}));na.push.apply(na,Aa)}return na}function k(U){for(var ha=1;ha<arguments.length;ha++){var na=null!=arguments[ha]?arguments[ha]:{};ha%2?l(Object(na),
!0).forEach(function(Aa){var Ca=na[Aa];Aa in U?Object.defineProperty(U,Aa,{value:Ca,enumerable:!0,configurable:!0,writable:!0}):U[Aa]=Ca}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(na)):l(Object(na)).forEach(function(Aa){Object.defineProperty(U,Aa,Object.getOwnPropertyDescriptor(na,Aa))})}return U}function t(U){let ha=Math.abs(+String(U).replace(".",""));if(0===ha)return.01;for(;0!==ha&&0===ha%10;)ha/=10;return Math.max(Math.pow(10,Math.floor(Math.log10(Math.abs(U)))-
(Math.floor(Math.log(ha)/dc)+1)),.001)}function x(U){if(isNaN(Number(U))){if(ed.test(U))return U=U.replace(ed,(ha,na)=>String(x(na))),x(U);if(bd.test(U))return U=U.replace(bd,(ha,na,Aa)=>String(Math.pow(Number(na),Number(Aa)))),x(U);if(hd.test(U))return U=U.replace(hd,(ha,na,Aa)=>String(Number(na)*Number(Aa))),x(U);if(fc.test(U))return U=U.replace(fc,(ha,na,Aa)=>{if(0!=Aa)return String(Number(na)/Number(Aa));throw Error("Division by zero");}),x(U);if(cd.test(U))return U=U.replace(cd,(ha,na,Aa)=>String(Number(na)+
Number(Aa))),x(U);if(zd.test(U))return U=U.replace(zd,(ha,na,Aa)=>String(Number(na)-Number(Aa))),x(U)}return Number(U)}function A(U,ha){return U.reduce((na,Aa,Ca)=>Object.assign(na,{[ha[Ca]]:Aa}),{})}function y(U,ha,na={},Aa){var Ca;if("object"!==typeof U||Array.isArray(U))return{type:Aa,input:U,options:k({key:ha,label:ha,optional:!1,disabled:!1,order:0},na)};if("__customInput"in U){const {type:Md,__customInput:ve}=U;var Ya=m(U,Gd);return y(ve,ha,Ya,Md)}const {render:sb,label:Qb,optional:Vb,order:nc=
0,disabled:Wc,hint:sd,onChange:Rd,onEditStart:ye,onEditEnd:re,transient:Cd}=U;U=m(U,sc);ha=k({render:sb,key:ha,label:null!==Qb&&void 0!==Qb?Qb:ha,hint:sd,transient:null!==Cd&&void 0!==Cd?Cd:!!Rd,onEditStart:ye,onEditEnd:re,disabled:Wc,optional:Vb,order:nc},na);({type:na}=U);U=m(U,de);na=null!==Aa&&void 0!==Aa?Aa:na;if(na in p.SpecialInputs)return{type:na,input:U,options:ha};Aa=Aa&&"[object Object]"===Object.prototype.toString.call(U)&&"value"in U?U.value:"[object Object]"===Object.prototype.toString.call(U)&&
0===Object.keys(U).length?void 0:U;return{type:na,input:Aa,options:k(k({},ha),{},{onChange:Rd,optional:null!==(Ya=ha.optional)&&void 0!==Ya?Ya:!1,disabled:null!==(Ca=ha.disabled)&&void 0!==Ca?Ca:!1})}}function E({type:U,value:ha,settings:na},Aa,Ca,Ya){const sb="SELECT"!==U&&"function"===typeof Aa?Aa(ha):Aa;let Qb;try{{const {sanitize:Vb}=Sb[U];Qb=Vb?Vb(sb,na,ha,Ca,Ya):sb}}catch(Vb){throw new ge(`The value \`${Aa}\` did not result in a correct value.`,ha,Vb);}return va.dequal(Qb,ha)?ha:Qb}function F(){F=
Object.assign?Object.assign.bind():function(U){for(var ha=1;ha<arguments.length;ha++){var na=arguments[ha],Aa;for(Aa in na)Object.prototype.hasOwnProperty.call(na,Aa)&&(U[Aa]=na[Aa])}return U};return F.apply(this,arguments)}function H(){return N.useContext(vc)}function P(){return N.useContext(gc)}function K(U,ha){const [na,Aa]=U.split(" ");U={};"none"!==na&&(U.boxShadow=`${ha.inset?"inset ":""}0 0 0 $borderWidths${[ha.key]} $colors${"default"!==na&&na||ha.borderColor}`);Aa&&(U.backgroundColor=Aa);
return U}function T(U,ha){const {theme:na}=N.useContext(Od);if(!(U in na&&ha in na[U]))return Ua(p.LevaErrors.THEME_ERROR,U,ha),"";for(;;)if(ha=na[U][ha],"string"===typeof ha&&"$"===ha.charAt(0))ha=ha.substr(1);else return ha}function aa(U){let {innerLabel:ha,value:na,onUpdate:Aa,onChange:Ca,onKeyDown:Ya,type:sb,id:Qb,inputType:Vb="text",rows:nc=0}=U;var Wc=m(U,ff);const {id:sd,emitOnEditStart:Rd,emitOnEditEnd:ye,disabled:re}=H();U=Qb||sd;const Cd=N.useRef(null),Md=0<nc,ve=Md?"textarea":"input",Ze=
N.useCallback(Jd=>$e=>{Jd($e.currentTarget.value)},[]);la["default"].useEffect(()=>{const Jd=Cd.current,$e=Ze(Cc=>{Aa(Cc);ye()});null===Jd||void 0===Jd?void 0:Jd.addEventListener("blur",$e);return()=>null===Jd||void 0===Jd?void 0:Jd.removeEventListener("blur",$e)},[Ze,Aa,ye]);const Zd=N.useCallback(Jd=>{"Enter"===Jd.key&&Ze(Aa)(Jd)},[Ze,Aa]);Wc=Object.assign({as:ve},Md?{rows:nc}:{},Wc);return la["default"].createElement(rf,{textArea:Md},ha&&"string"===typeof ha?la["default"].createElement(ie,null,
ha):ha,la["default"].createElement(Pe,F({levaType:sb,ref:Cd,id:U,type:Vb,autoComplete:"off",spellCheck:"false",value:na,onChange:Ze(Ca),onFocus:()=>Rd(),onKeyPress:Zd,onKeyDown:Ya,disabled:re},Wc)))}function Q(U){let {onUpdate:ha}=U;U=m(U,gf);const na=N.useCallback(Ca=>{a:if(""===Ca||"number"===typeof Ca)var Ya=Ca;else{try{const sb=x(Ca);if(!isNaN(sb)){Ya=sb;break a}}catch(sb){}Ya=parseFloat(Ca)}return ha(Ya)},[ha]),Aa=N.useCallback(Ca=>{const Ya="ArrowUp"===Ca.key?1:"ArrowDown"===Ca.key?-1:0;if(Ya){Ca.preventDefault();
const sb=Ca.altKey?.1:Ca.shiftKey?10:1;ha(Qb=>parseFloat(Qb)+Ya*sb)}},[ha]);return la["default"].createElement(aa,F({},U,{onUpdate:na,onKeyDown:Aa,type:"number"}))}function O(){const {id:U,disable:ha,disabled:na}=H();return la["default"].createElement(la["default"].Fragment,null,la["default"].createElement(ya,{id:U+"__disable",type:"checkbox",checked:!na,onChange:()=>ha(!na)}),la["default"].createElement("label",{htmlFor:U+"__disable"}))}function da(U){const {id:ha,optional:na,hint:Aa}=H(),Ca=U.htmlFor||
(ha?{htmlFor:ha}:null),Ya=Aa||"string"!==typeof U.children?null:{title:U.children};return la["default"].createElement(la["default"].Fragment,null,na&&la["default"].createElement(O,null),void 0!==Aa?la["default"].createElement(oa.Root,null,la["default"].createElement(oa.Trigger,{asChild:!0},la["default"].createElement(Ia,F({},Ca,U))),la["default"].createElement(oa.Content,{side:"top",sideOffset:2},la["default"].createElement(yb,null,Aa,la["default"].createElement(kb,null)))):la["default"].createElement(Ia,
F({},Ca,Ya,U)))}function ea(U){let {align:ha}=U;U=m(U,tb);const {value:na,label:Aa,key:Ca,disabled:Ya}=H();var {hideCopyButton:sb}=N.useContext(Rc);sb=!sb&&void 0!==Ca;const [Qb,Vb]=N.useState(!1),nc=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[Ca]:null!==na&&void 0!==na?na:""})),Vb(!0)}catch(Wc){Ua(p.LevaErrors.CLIPBOARD_ERROR,{[Ca]:na})}};return la["default"].createElement(Hd,{align:ha,onPointerLeave:()=>Vb(!1)},la["default"].createElement(da,U),sb&&!Ya&&la["default"].createElement("div",
{title:`Click to copy ${"string"===typeof Aa?Aa:Ca} value`},Qb?la["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},la["default"].createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),la["default"].createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):
la["default"].createElement("svg",{onClick:nc,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},la["default"].createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),la["default"].createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}function za(U){let {toggled:ha}=U;U=m(U,Eb);return la["default"].createElement(Hb,F({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",
style:{transform:`rotate(${ha?0:-90}deg)`}},U),la["default"].createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}function Ea(U){let {input:ha}=U;U=m(U,Ub);return ha?la["default"].createElement(Lc,U):la["default"].createElement(me,U)}function sa({value:U,type:ha,settings:na,setValue:Aa}){const [Ca,Ya]=N.useState(h(ha,U,na)),sb=N.useRef(U),Qb=N.useRef(na);Qb.current=na;const Vb=N.useCallback(nc=>Ya(h(ha,nc,Qb.current)),[ha]);na=N.useCallback(nc=>{try{Aa(nc)}catch(Wc){const {type:sd,
previousValue:Rd}=Wc;if("LEVA_ERROR"!==sd)throw Wc;Vb(Rd)}},[Vb,Aa]);N.useEffect(()=>{va.dequal(U,sb.current)||Vb(U);sb.current=U},[U,Vb]);return{displayValue:Ca,onChange:Ya,onUpdate:na}}function gb(U,ha){const {emitOnEditStart:na,emitOnEditEnd:Aa}=H();return cb.useDrag(Ca=>{Ca.first&&(document.body.classList.add("leva__panel__dragged"),null===na||void 0===na?void 0:na());const Ya=U(Ca);Ca.last&&(document.body.classList.remove("leva__panel__dragged"),null===Aa||void 0===Aa?void 0:Aa());return Ya},
ha)}function wa({value:U,min:ha,max:na,onDrag:Aa,step:Ca,initialValue:Ya}){const sb=N.useRef(null),Qb=N.useRef(null),Vb=N.useRef(0),nc=T("sizes","scrubberWidth"),Wc=gb(({event:Rd,first:ye,xy:[re],movement:[Cd],memo:Md})=>{if(ye){const {width:ve,left:Ze}=sb.current.getBoundingClientRect();Vb.current=ve-parseFloat(nc);Md=(null===Rd||void 0===Rd?void 0:Rd.target)===Qb.current?U:(re-Ze)/ve*(na-ha)+ha}Aa(te(Md+Cd/Vb.current*(na-ha),{step:Ca,initialValue:Ya}));return Md}),sd=Yc(U,ha,na);return la["default"].createElement(zc,
F({ref:sb},Wc()),la["default"].createElement(Bc,null,la["default"].createElement(Oc,{style:{left:0,right:`${100*(1-sd)}%`}})),la["default"].createElement(yc,{ref:Qb,style:{left:`calc(${sd} * (100% - ${nc}))`}}))}function Ba({label:U,id:ha,displayValue:na,onUpdate:Aa,onChange:Ca,settings:Ya,innerLabelTrim:sb=1}){U=0<sb&&la["default"].createElement(Uc,{label:U,step:Ya.step,onUpdate:Aa,innerLabelTrim:sb});return la["default"].createElement(Q,{id:ha,value:String(na),onUpdate:Aa,onChange:Ca,innerLabel:U})}
function Da({displayValue:U,value:ha,onUpdate:na,id:Aa,settings:Ca,disabled:Ya}){const {keys:sb,values:Qb}=Ca;Ca=N.useRef();ha===Qb[U]&&(Ca.current=sb[U]);return la["default"].createElement(id,null,la["default"].createElement($c,{id:Aa,value:U,onChange:Vb=>na(Qb[Number(Vb.currentTarget.value)]),disabled:Ya},sb.map((Vb,nc)=>la["default"].createElement("option",{key:Vb,value:nc},Vb))),la["default"].createElement(ad,null,Ca.current),la["default"].createElement(za,{toggled:!0}))}function pa(U){let {displayValue:ha,
onUpdate:na,onChange:Aa,editable:Ca=!0}=U;U=m(U,Qd);return Ca?la["default"].createElement(aa,F({value:ha,onUpdate:na,onChange:Aa},U)):la["default"].createElement(Le,null,ha)}function ib({value:U,onUpdate:ha,id:na,disabled:Aa}){return la["default"].createElement(Id,null,la["default"].createElement("input",{id:na,type:"checkbox",checked:U,onChange:Ca=>ha(Ca.currentTarget.checked),disabled:Aa}),la["default"].createElement("label",{htmlFor:na},la["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",
fill:"none",viewBox:"0 0 24 24"},la["default"].createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function $a({value:U,id:ha,valueKey:na,settings:Aa,onUpdate:Ca,innerLabelTrim:Ya}){const sb=N.useRef(U[na]);sb.current=U[na];var Qb=N.useCallback(Vb=>Ca({[na]:E({type:"NUMBER",value:sb.current,settings:Aa},Vb)}),[Ca,Aa,na]);Qb=sa({type:"NUMBER",value:U[na],settings:Aa,setValue:Qb});return la["default"].createElement(Ba,{id:ha,label:na,value:U[na],
displayValue:Qb.displayValue,onUpdate:Qb.onUpdate,onChange:Qb.onChange,settings:Aa,innerLabelTrim:Ya})}function eb(U){let {locked:ha}=U;U=m(U,Lb);return la["default"].createElement("svg",F({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U),ha?la["default"].createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",
fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):la["default"].createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",
fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Ja(U){const ha=ob["default"]().array().length(U).every.number(),na=Aa=>{if(!Aa||"object"!==typeof Aa)return!1;Aa=Object.values(Aa);return Aa.length===U&&Aa.every(Ca=>isFinite(Ca))};return Aa=>ha.test(Aa)||na(Aa)}function Fb(U){return Array.isArray(U)?"array":"object"}function Kb(U,ha,na){return Fb(U)===ha?U:"array"===ha?Object.values(U):A(U,na)}function rb(U,ha,na=[]){const {lock:Aa=!1}=ha,Ca=m(ha,ic);ha=Array.isArray(U)?"array":
"object";na="object"===ha?Object.keys(U):na;const Ya=Kb(U,"object",na);var sb=Ca&&("step"in Ca||"min"in Ca||"max"in Ca)?na.reduce((Qb,Vb)=>Object.assign(Qb,{[Vb]:Ca}),{}):Ca;sb=kc(Ya,sb);return{value:"array"===ha?U:Ya,settings:k(k({},sb),{},{format:ha,keys:na,lock:Aa,locked:!1})}}var Pb=B(1),N=B(0),Z=B(550),va=B(551),ab=B(552),Ha=B(553),Qa=B(554),cb=B(573),Ab=B(590),ma=w(Pb),la=w(N),Ra=r(Z),Sa=w(ab),ob=w(Ha),oa=r(Ab);p.LevaErrors=void 0;(function(U){U[U.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT";U[U.NO_COMPONENT_FOR_TYPE=
1]="NO_COMPONENT_FOR_TYPE";U[U.UNKNOWN_INPUT=2]="UNKNOWN_INPUT";U[U.DUPLICATE_KEYS=3]="DUPLICATE_KEYS";U[U.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE";U[U.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR";U[U.THEME_ERROR=6]="THEME_ERROR";U[U.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST";U[U.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE";U[U.EMPTY_KEY=9]="EMPTY_KEY"})(p.LevaErrors||(p.LevaErrors={}));const Va={[p.LevaErrors.UNSUPPORTED_INPUT]:(U,ha)=>[`An input with type \`${U}\` input was found at path \`${ha}\` but it's not supported yet.`],
[p.LevaErrors.NO_COMPONENT_FOR_TYPE]:(U,ha)=>[`Type \`${U}\` found at path \`${ha}\` can't be displayed in panel because no component supports it yet.`],[p.LevaErrors.UNKNOWN_INPUT]:(U,ha)=>[`input at path \`${U}\` is not recognized.`,ha],[p.LevaErrors.DUPLICATE_KEYS]:(U,ha,na)=>[`Key \`${U}\` of path \`${ha}\` already exists at path \`${na}\`. Even nested keys need to be unique. Rename one of the keys.`],[p.LevaErrors.ALREADY_REGISTERED_TYPE]:U=>[`Type ${U} has already been registered. You can't register a component with the same type.`],
[p.LevaErrors.CLIPBOARD_ERROR]:U=>["Error copying the value",U],[p.LevaErrors.THEME_ERROR]:(U,ha)=>[`Error accessing the theme \`${U}.${ha}\` value.`],[p.LevaErrors.PATH_DOESNT_EXIST]:U=>[`Error getting the value at path \`${U}\`. There is probably an error in your \`render\` function.`],[p.LevaErrors.PATH_DOESNT_EXIST]:U=>[`Error accessing the value at path \`${U}\``],[p.LevaErrors.INPUT_TYPE_OVERRIDE]:(U,ha,na)=>[`Input at path \`${U}\` already exists with type: \`${ha}\`. Its type cannot be overridden with type \`${na}\`.`],
[p.LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]},Ua=d.bind(null,"warn"),ua=d.bind(null,"log"),Ta=["value"],hb=["schema"],Bb=["value"],Db=[],Sb={},tc=(U,ha,na)=>U>na?na:U<ha?ha:U,dc=Math.log(10),Yc=(U,ha,na)=>na===ha?0:((U>na?na:U<ha?ha:U)-ha)/(na-ha),ed=/\(([0-9+\-*/^ .]+)\)/,bd=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,hd=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,fc=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,cd=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,zd=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;
p.SpecialInputs=void 0;(function(U){U.BUTTON="BUTTON";U.BUTTON_GROUP="BUTTON_GROUP";U.MONITOR="MONITOR";U.FOLDER="FOLDER"})(p.SpecialInputs||(p.SpecialInputs={}));p.LevaInputs=void 0;(function(U){U.SELECT="SELECT";U.IMAGE="IMAGE";U.NUMBER="NUMBER";U.COLOR="COLOR";U.STRING="STRING";U.BOOLEAN="BOOLEAN";U.INTERVAL="INTERVAL";U.VECTOR3D="VECTOR3D";U.VECTOR2D="VECTOR2D"})(p.LevaInputs||(p.LevaInputs={}));const Gd=["type","__customInput"],sc="render label optional order disabled hint onChange onEditStart onEditEnd transient".split(" "),
de=["type"],ge=function(U,ha,na){this.type="LEVA_ERROR";this.message="LEVA: "+U;this.previousValue=ha;this.error=na},Ce=(U,ha,na=!1)=>{let Aa=0;return function(){const Ca=arguments,Ya=na&&!Aa,sb=()=>U.apply(this,Ca);window.clearTimeout(Aa);Aa=window.setTimeout(sb,ha);Ya&&sb()}},Jb=["value"],ke=["min","max"],nd=(U,{min:ha=-Infinity,max:na=Infinity,suffix:Aa})=>{const Ca=parseFloat(U);if(""===U||isNaN(Ca))throw Error("Invalid number");U=Ca>na?na:Ca<ha?ha:Ca;return Aa?U+Aa:U},od=U=>{var {value:ha}=U,
na=m(U,Jb);const {min:Aa=-Infinity,max:Ca=Infinity}=na;U=m(na,ke);let Ya=parseFloat(ha);ha="string"===typeof ha?ha.substring((""+Ya).length):void 0;Ya=Ya>Ca?Ca:Ya<Aa?Aa:Ya;(na=na.step)||(Number.isFinite(Aa)?na=Number.isFinite(Ca)?+(Math.abs(Ca-Aa)/100).toPrecision(1):+(Math.abs(Ya-Aa)/100).toPrecision(1):Number.isFinite(Ca)&&(na=+(Math.abs(Ca-Ya)/100).toPrecision(1)));var sb=na?10*t(na):t(Ya);na=na||sb/10;sb=Math.round(tc(Math.log10(1/sb),0,2));return{value:ha?Ya+ha:Ya,settings:k({initialValue:Ya,
step:na,pad:sb,min:Aa,max:Ca,suffix:ha},U)}},te=(U,{step:ha,initialValue:na})=>na+Math.round((U-na)/ha)*ha;var pe=Object.freeze({__proto__:null,schema:U=>{if("number"===typeof U)return!0;if("string"===typeof U){const ha=parseFloat(U);return isNaN(ha)?!1:4>U.substring((""+ha).length).trim().length}return!1},sanitize:nd,format:(U,{pad:ha=0,suffix:na})=>{U=parseFloat(U).toFixed(ha);return na?U+na:U},normalize:od,sanitizeStep:te});const vc=N.createContext({}),Od=N.createContext(null),gc=N.createContext(null),
Rc=N.createContext(null),Tc=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",
sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},
borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}}),xd={$inputStyle:()=>U=>K(U,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>U=>K(U,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>U=>K(U,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>U=>K(U,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Dc,createTheme:yf,globalCss:He,keyframes:we}=Qa.createStitches({prefix:"leva",
theme:Tc(),utils:k(k({},xd),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:U=>({"\x26:focus":xd.$focusStyle()(U)}),$focusWithin:U=>({"\x26:focus-within":xd.$focusStyle()(U)}),
$hover:U=>({"\x26:hover":xd.$hoverStyle()(U)}),$active:U=>({"\x26:active":xd.$activeStyle()(U)})})}),Ne=He({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}}),Pe=Dc("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),ie=Dc("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",
opacity:.8,cursor:"default",touchAction:"none",[`& + ${Pe}`]:{paddingLeft:0}}),cf=Dc(ie,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"\x26:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),rf=Dc("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),ff=
"innerLabel value onUpdate onChange onKeyDown type id inputType rows".split(" "),gf=["onUpdate"],ee=Dc("div",{}),Nb=Dc("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","\x26::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,
fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Yd=Dc("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","\x3e svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"\x26:hover \x3e svg":{fill:"$folderWidgetColor"},[`&:hover + ${Nb}::after`]:{opacity:.6},[`${ee}:hover > & + ${Nb}::after`]:{opacity:.6},[`${ee}:hover > & > svg`]:{opacity:1}}),
De=Dc("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"\x26 \x3e div":{paddingLeft:"$md",paddingRight:"$md"},"\x26 \x3e div:first-of-type":{paddingTop:"$sm"},"\x26 \x3e div:last-of-type":{paddingBottom:"$sm"},[`> ${ee}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),
me=Dc("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${De} > &`]:{"\x26:first-of-type":{marginTop:"$rowGap"},"\x26:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"\x26:hover,\x26:focus-within":{color:"$highlight3"}}}}}),Lc=Dc(me,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Hd=Dc("div",{$flex:"",height:"100%",
position:"relative",overflow:"hidden","\x26 \x3e div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"\x26 \x3e div:hover":{opacity:.8},"\x26 \x3e div \x3e svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"\x26:hover \x3e div \x3e svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),ya=Dc("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"\x26 + label":{position:"relative",$flexCenter:"",
height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"\x26 + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"\x26:focus + label:after":{$focusStyle:""},"\x26 + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"\x26:checked + label:after":{backgroundColor:"$accent1"}}),Ia=Dc("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","\x26 \x3e svg":{display:"block"}}),
fb=Dc("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Ia}`]:{pointerEvents:"auto"}}}}}),lb=Dc("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1E3,userSelect:"none"}),yb=Dc("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),kb=Dc(Ab.Arrow,{fill:"$toolTipBackground"}),tb=["align"],Eb=["toggled"],Hb=Dc("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"}),
Ub=["input"],Wb=["__refCount"],mc=(U,ha)=>U[ha]?m(U[ha],Wb):null,Zc=Dc("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Bc=Dc("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),yc=Dc("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",
cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),zc=Dc("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Oc=Dc("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"}),Uc=
la["default"].memo(({label:U,onUpdate:ha,step:na,innerLabelTrim:Aa})=>{const [Ca,Ya]=N.useState(!1),sb=gb(({active:Qb,delta:[Vb],event:nc,memo:Wc=0})=>{Ya(Qb);Wc+=Vb/2;1<=Math.abs(Wc)&&(ha(sd=>parseFloat(sd)+Math.floor(Wc)*na*(nc.shiftKey?5:nc.altKey?.2:1)),Wc=0);return Wc});return la["default"].createElement(cf,F({dragging:Ca,title:1<U.length?U:""},sb()),U.slice(0,Aa))}),{sanitizeStep:Ad}=pe,Ld=m(pe,["sanitizeStep"]);var Xb=k({component:function(){const U=H(),{label:ha,value:na,onUpdate:Aa,settings:Ca,
id:Ya}=U,{min:sb,max:Qb}=Ca,Vb=Infinity!==Qb&&-Infinity!==sb;return la["default"].createElement(Ea,{input:!0},la["default"].createElement(ea,null,ha),la["default"].createElement(Zc,{hasRange:Vb},Vb&&la["default"].createElement(wa,F({value:parseFloat(na),onDrag:Aa},Ca)),la["default"].createElement(Ba,F({},U,{id:Ya,label:"value",innerLabelTrim:Vb?0:1}))))}},Ld),Xd=Object.freeze({__proto__:null,schema:(U,ha)=>ob["default"]().schema({options:ob["default"]().passesAnyOf(ob["default"]().object(),ob["default"]().array())}).test(ha),
sanitize:(U,{values:ha})=>{if(0>ha.indexOf(U))throw Error("Selected value doesn't match Select options");return U},format:(U,{values:ha})=>ha.indexOf(U),normalize:U=>{let {value:ha,options:na}=U,Aa,Ca;Array.isArray(na)?(Ca=na,Aa=na.map(Ya=>String(Ya))):(Ca=Object.values(na),Aa=Object.keys(na));"value"in U?Ca.includes(ha)||(Aa.unshift(String(ha)),Ca.unshift(ha)):ha=Ca[0];Object.values(na).includes(ha)||(na[String(ha)]=ha);return{value:ha,settings:{keys:Aa,values:Ca}}}});const id=Dc("div",{$flexCenter:"",
position:"relative","\x3e svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),$c=Dc("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),ad=Dc("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${$c}:focus + &`]:{$focusStyle:""},[`${$c}:hover + &`]:{$hoverStyle:""}});var ud=k({component:function(){const {label:U,value:ha,displayValue:na,onUpdate:Aa,id:Ca,
disabled:Ya,settings:sb}=H();return la["default"].createElement(Ea,{input:!0},la["default"].createElement(ea,null,U),la["default"].createElement(Da,{id:Ca,value:ha,displayValue:na,onUpdate:Aa,settings:sb,disabled:Ya}))}},Xd),md=Object.freeze({__proto__:null,schema:U=>ob["default"]().string().test(U),sanitize:U=>{if("string"!==typeof U)throw Error("Invalid string");return U},normalize:({value:U,editable:ha=!0,rows:na=!1})=>({value:U,settings:{editable:ha,rows:"number"===typeof na?na:na?5:0}})});const Qd=
["displayValue","onUpdate","onChange","editable"],Le=Dc("div",{whiteSpace:"pre-wrap"});var Ye=k({component:function(){const {label:U,settings:ha,displayValue:na,onUpdate:Aa,onChange:Ca}=H();return la["default"].createElement(Ea,{input:!0},la["default"].createElement(ea,null,U),la["default"].createElement(pa,F({displayValue:na,onUpdate:Aa,onChange:Ca},ha)))}},md),he=Object.freeze({__proto__:null,schema:U=>ob["default"]().boolean().test(U),sanitize:U=>{if("boolean"!==typeof U)throw Error("Invalid boolean");
return U}});const Id=Dc("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},
"label \x3e svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label \x3e svg":{display:"block"}});var mb=k({component:function(){const {label:U,value:ha,onUpdate:na,disabled:Aa,id:Ca}=H();return la["default"].createElement(Ea,{input:!0},la["default"].createElement(ea,null,U),la["default"].createElement(ib,{value:ha,onUpdate:na,id:Ca,disabled:Aa}))}},he);const Lb=["locked"],cc=Dc("div",{display:"grid",columnGap:"$colGap",
gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","\x3e svg":{cursor:"pointer"}}}}}),kc=(U,ha)=>{const na={};let Aa=0,Ca=Infinity;Object.entries(U).forEach(([Ya,sb])=>{na[Ya]=od(k({value:sb},ha[Ya])).settings;Aa=Math.max(Aa,na[Ya].step);Ca=Math.min(Ca,na[Ya].pad)});for(let Ya in na){const {step:sb,min:Qb,max:Vb}=ha[Ya]||{};isFinite(sb)||isFinite(Qb)&&isFinite(Vb)||(na[Ya].step=Aa,na[Ya].pad=Ca)}return na},ic=["lock"],Ac=["value"],qc=(U,ha,na)=>
{U=Kb(U,"object",ha.keys);for(var Aa in U)U[Aa]=nd(U[Aa],ha[Aa]);var Ca=Object.keys(U);Aa={};if(Ca.length===ha.keys.length)Aa=U;else if(na=Kb(na,"object",ha.keys),1===Ca.length&&ha.locked){Ca=Ca[0];U=U[Ca];var Ya=na[Ca];Ya=0!==Ya?U/Ya:1;for(let sb in na)sb===Ca?Aa[Ca]=U:Aa[sb]=na[sb]*Ya}else Aa=k(k({},na),U);return Kb(Aa,ha.format,ha.keys)},xc=(U,ha)=>Kb(U,"object",ha.keys);p.Boolean=ib;p.Chevron=za;p.Indicator=Oc;p.InnerLabel=ie;p.InputContext=vc;p.Label=ea;p.LevaStoreProvider=function({children:U,
store:ha}){return la["default"].createElement(gc.Provider,{value:ha},U)};p.Number=Ba;p.Overlay=lb;p.PanelSettingsContext=Rc;p.Plugins=Sb;p.Portal=function({children:U}){const {className:ha}=N.useContext(Od);return la["default"].createElement(Ra.Root,{className:ha},U)};p.Range=Bc;p.RangeWrapper=zc;p.Row=Ea;p.Scrubber=yc;p.Select=Da;p.StoreContext=gc;p.String=pa;p.StyledContent=De;p.StyledFolder=ee;p.StyledInputRow=Lc;p.StyledInputWrapper=fb;p.StyledTitle=Yd;p.StyledWrapper=Nb;p.ThemeContext=Od;p.ValueInput=
aa;p.Vector=function({value:U,onUpdate:ha,settings:na,innerLabelTrim:Aa}){const {id:Ca,setSettings:Ya}=H(),{lock:sb,locked:Qb}=na;return la["default"].createElement(cc,{withLock:sb},sb&&la["default"].createElement(eb,{locked:Qb,onClick:()=>Ya({locked:!Qb})}),Object.keys(U).map((Vb,nc)=>la["default"].createElement($a,{id:0===nc?Ca:`${Ca}.${Vb}`,key:Vb,valueKey:Vb,value:U,settings:na[Vb],onUpdate:ha,innerLabelTrim:Aa})))};p._extends=F;p._objectSpread2=k;p._objectWithoutProperties=m;p.boolean=mb;p.clamp=
tc;p.createInternalPlugin=function(U){return U};p.createPlugin=function(U){const ha="__CUSTOM__PLUGIN__"+Math.random().toString(36).substr(2,9);Sb[ha]=U;return na=>({type:ha,__customInput:na})};p.debounce=Ce;p.evaluate=x;p.formatVector=xc;p.getUid=()=>"_"+Math.random().toString(36).substr(2,9);p.getVectorPlugin=function(U){return{schema:Ja(U.length),normalize:ha=>{let {value:na}=ha;ha=m(ha,Ac);return rb(na,ha,U)},format:(ha,na)=>xc(ha,na),sanitize:(ha,na,Aa)=>qc(ha,na,Aa)}};p.getVectorSchema=Ja;p.getVectorType=
Fb;p.globalStyles=Ne;p.invertedRange=(U,ha,na)=>U*(na-ha)+ha;p.keyframes=we;p.log=ua;p.mergeRefs=function(U){return ha=>{U.forEach(na=>{"function"===typeof na?na(ha):null!=na&&(na.current=ha)})}};p.mergeTheme=function(U){const ha=Tc();if(!U)return{theme:ha,className:""};Object.keys(U).forEach(Aa=>{Object.assign(ha[Aa],U[Aa])});const na=yf(ha);return{theme:ha,className:na.className}};p.multiplyStep=U=>U.shiftKey?5:U.altKey?.2:1;p.normalizeInput=function(U,ha,na,Aa){U=y(U,ha);const {type:Ca,input:Ya,
options:sb}=U;return Ca?Ca in p.SpecialInputs?U:{type:Ca,input:g(Ca,Ya,na,Aa),options:sb}:(U=c(Ya))?{type:U,input:g(U,Ya,na,Aa),options:sb}:(U=c({value:Ya}))?{type:U,input:g(U,{value:Ya},na,Aa),options:sb}:!1};p.normalizeKeyedNumberSettings=kc;p.normalizeVector=rb;p.number=Xb;p.omit=function(U,ha){const na=k({},U);ha.forEach(Aa=>Aa in U&&delete na[Aa]);return na};p.pad=(U,ha)=>String(U).padStart(ha,"0");p.pick=function(U,ha){return ha.reduce((na,Aa)=>{U&&U.hasOwnProperty(Aa)&&(na[Aa]=U[Aa]);return na},
{})};p.range=Yc;p.register=function(U,ha){let {schema:na}=ha;ha=m(ha,hb);U in Sb?Ua(p.LevaErrors.ALREADY_REGISTERED_TYPE,U):(Db.push((Aa,Ca)=>na(Aa,Ca)&&U),Sb[U]=ha)};p.render=function(U,ha){const na=console.error;console.error=()=>{};ma["default"].render(U,ha);console.error=na};p.sanitizeStep=Ad;p.sanitizeVector=qc;p.select=ud;p.string=Ye;p.styled=Dc;p.updateInput=function(U,ha,na,Aa,Ca){const {value:Ya,type:sb,settings:Qb}=U;U.value=E({type:sb,value:Ya,settings:Qb},ha,na,Aa);U.fromPanel=Ca};p.useCanvas2d=
function(U){const ha=N.useRef(null),na=N.useRef(null),Aa=N.useRef(!1);N.useEffect(()=>{const Ca=Ce(()=>{ha.current.width=ha.current.offsetWidth*window.devicePixelRatio;ha.current.height=ha.current.offsetHeight*window.devicePixelRatio;U(ha.current,na.current)},250);window.addEventListener("resize",Ca);Aa.current||(Ca(),Aa.current=!0);return()=>window.removeEventListener("resize",Ca)},[U]);N.useEffect(()=>{na.current=ha.current.getContext("2d")},[]);return[ha,na]};p.useDrag=gb;p.useInput=function(U){const ha=
P(),[na,Aa]=N.useState(mc(ha.getData(),U)),Ca=N.useCallback(nc=>ha.setValueAtPath(U,nc,!0),[U,ha]),Ya=N.useCallback(nc=>ha.setSettingsAtPath(U,nc),[U,ha]),sb=N.useCallback(nc=>ha.disableInputAtPath(U,nc),[U,ha]),Qb=N.useCallback(()=>ha.emitOnEditStart(U),[U,ha]),Vb=N.useCallback(()=>ha.emitOnEditEnd(U),[U,ha]);N.useEffect(()=>{Aa(mc(ha.getData(),U));const nc=ha.useStore.subscribe(Wc=>mc(Wc.data,U),Aa,{equalityFn:Sa["default"]});return()=>nc()},[ha,U]);return[na,{set:Ca,setSettings:Ya,disable:sb,storeId:ha.storeId,
emitOnEditStart:Qb,emitOnEditEnd:Vb}]};p.useInputContext=H;p.useInputSetters=sa;p.useStoreContext=P;p.useTh=T;p.useTransform=function(){const U=N.useRef(null),ha=N.useRef({x:0,y:0}),na=N.useCallback(Aa=>{Object.assign(ha.current,Aa);U.current&&(U.current.style.transform=`translate3d(${ha.current.x}px, ${ha.current.y}px, 0)`)},[]);return[U,na]};p.warn=Ua};
shadow$provide[592]=function(G,B,X,p){Object.defineProperty(p,"__esModule",{value:!0});var w={grad:.9,turn:360,rad:360/(2*Math.PI)},r=function(wa){return"string"==typeof wa?0<wa.length:"number"==typeof wa},m=function(wa,Ba,Da){return void 0===Ba&&(Ba=0),void 0===Da&&(Da=Math.pow(10,Ba)),Math.round(Da*wa)/Da},d=function(wa,Ba,Da){return void 0===Ba&&(Ba=0),void 0===Da&&(Da=1),wa>Da?Da:wa>Ba?wa:Ba},c=function(wa){return 0<(wa=isFinite(wa)?wa%360:0)?wa:wa+360},g=function(wa){return{r:d(wa.r,0,255),g:d(wa.g,
0,255),b:d(wa.b,0,255),a:d(wa.a)}},h=function(wa){return{r:m(wa.r),g:m(wa.g),b:m(wa.b),a:m(wa.a,3)}},l=/^#([0-9a-f]{3,8})$/i,k=function(wa){wa=wa.toString(16);return 2>wa.length?"0"+wa:wa},t=function(wa){var Ba=wa.r,Da=wa.g,pa=wa.b,ib=Math.max(Ba,Da,pa),$a=ib-Math.min(Ba,Da,pa);Ba=$a?ib===Ba?(Da-pa)/$a:ib===Da?2+(pa-Ba)/$a:4+(Ba-Da)/$a:0;return{h:60*(0>Ba?Ba+6:Ba),s:ib?$a/ib*100:0,v:ib/255*100,a:wa.a}},x=function(wa){var Ba=wa.h,Da=wa.s,pa=wa.v;wa=wa.a;Ba=Ba/360*6;Da/=100;pa/=100;var ib=Math.floor(Ba),
$a=pa*(1-Da),eb=pa*(1-(Ba-ib)*Da);Ba=pa*(1-(1-Ba+ib)*Da);Da=ib%6;return{r:255*[pa,eb,$a,$a,Ba,pa][Da],g:255*[Ba,pa,pa,eb,$a,$a][Da],b:255*[$a,$a,Ba,pa,pa,eb][Da],a:wa}},A=function(wa){return{h:c(wa.h),s:d(wa.s,0,100),l:d(wa.l,0,100),a:d(wa.a)}},y=function(wa){return{h:m(wa.h),s:m(wa.s),l:m(wa.l),a:m(wa.a,3)}},E=function(wa){return x((Da=(Ba=wa).s,{h:Ba.h,s:0<(Da*=(50>(pa=Ba.l)?pa:100-pa)/100)?2*Da/(pa+Da)*100:0,v:pa+Da,a:Ba.a}));var Ba,Da,pa},F=function(wa){return{h:(Ba=t(wa)).h,s:0<(ib=(200-(Da=
Ba.s))*(pa=Ba.v)/100)&&200>ib?Da*pa/100/(100>=ib?ib:200-ib)*100:0,l:ib/2,a:Ba.a};var Ba,Da,pa,ib},H=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,K=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
aa={string:[[function(wa){var Ba=l.exec(wa);return Ba?4>=(wa=Ba[1]).length?{r:parseInt(wa[0]+wa[0],16),g:parseInt(wa[1]+wa[1],16),b:parseInt(wa[2]+wa[2],16),a:4===wa.length?m(parseInt(wa[3]+wa[3],16)/255,2):1}:6===wa.length||8===wa.length?{r:parseInt(wa.substr(0,2),16),g:parseInt(wa.substr(2,2),16),b:parseInt(wa.substr(4,2),16),a:8===wa.length?m(parseInt(wa.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(wa){return(wa=K.exec(wa)||T.exec(wa))?wa[2]!==wa[4]||wa[4]!==wa[6]?null:g({r:Number(wa[1])/
(wa[2]?100/255:1),g:Number(wa[3])/(wa[4]?100/255:1),b:Number(wa[5])/(wa[6]?100/255:1),a:void 0===wa[7]?1:Number(wa[7])/(wa[8]?100:1)}):null},"rgb"],[function(wa){wa=H.exec(wa)||P.exec(wa);if(!wa)return null;var Ba,Da,pa=A({h:(Ba=wa[1],Da=wa[2],void 0===Da&&(Da="deg"),Number(Ba)*(w[Da]||1)),s:Number(wa[3]),l:Number(wa[4]),a:void 0===wa[5]?1:Number(wa[5])/(wa[6]?100:1)});return E(pa)},"hsl"]],object:[[function(wa){var Ba=wa.r,Da=wa.g,pa=wa.b;wa=wa.a;wa=void 0===wa?1:wa;return r(Ba)&&r(Da)&&r(pa)?g({r:Number(Ba),
g:Number(Da),b:Number(pa),a:Number(wa)}):null},"rgb"],[function(wa){var Ba=wa.h,Da=wa.s,pa=wa.l;wa=wa.a;wa=void 0===wa?1:wa;if(!r(Ba)||!r(Da)||!r(pa))return null;Ba=A({h:Number(Ba),s:Number(Da),l:Number(pa),a:Number(wa)});return E(Ba)},"hsl"],[function(wa){var Ba=wa.h,Da=wa.s,pa=wa.v;wa=wa.a;wa=void 0===wa?1:wa;if(!r(Ba)||!r(Da)||!r(pa))return null;Da=Number(Da);pa=Number(pa);wa=Number(wa);Ba={h:c(Number(Ba)),s:d(Da,0,100),v:d(pa,0,100),a:d(wa)};return x(Ba)},"hsv"]]},Q=function(wa,Ba){for(var Da=
0;Da<Ba.length;Da++){var pa=Ba[Da][0](wa);if(pa)return[pa,Ba[Da][1]]}return[null,void 0]},O=function(wa){return"string"==typeof wa?Q(wa.trim(),aa.string):"object"==typeof wa&&null!==wa?Q(wa,aa.object):[null,void 0]},da=function(wa,Ba){wa=F(wa);return{h:wa.h,s:d(wa.s+100*Ba,0,100),l:wa.l,a:wa.a}},ea=function(wa){return(299*wa.r+587*wa.g+114*wa.b)/1E3/255},za=function(wa,Ba){wa=F(wa);return{h:wa.h,s:wa.s,l:d(wa.l+100*Ba,0,100),a:wa.a}},Ea=function(){function wa(Ba){this.rgba=(this.parsed=O(Ba)[0])||
{r:0,g:0,b:0,a:1}}return wa.prototype.isValid=function(){return null!==this.parsed},wa.prototype.brightness=function(){return m(ea(this.rgba),2)},wa.prototype.isDark=function(){return.5>ea(this.rgba)},wa.prototype.isLight=function(){return.5<=ea(this.rgba)},wa.prototype.toHex=function(){return Ba=h(this.rgba),Da=Ba.r,pa=Ba.g,ib=Ba.b,eb=1>($a=Ba.a)?k(m(255*$a)):"","#"+k(Da)+k(pa)+k(ib)+eb;var Ba,Da,pa,ib,$a,eb},wa.prototype.toRgb=function(){return h(this.rgba)},wa.prototype.toRgbString=function(){return Ba=
h(this.rgba),Da=Ba.r,pa=Ba.g,ib=Ba.b,1>($a=Ba.a)?"rgba("+Da+", "+pa+", "+ib+", "+$a+")":"rgb("+Da+", "+pa+", "+ib+")";var Ba,Da,pa,ib,$a},wa.prototype.toHsl=function(){return y(F(this.rgba))},wa.prototype.toHslString=function(){return Ba=y(F(this.rgba)),Da=Ba.h,pa=Ba.s,ib=Ba.l,1>($a=Ba.a)?"hsla("+Da+", "+pa+"%, "+ib+"%, "+$a+")":"hsl("+Da+", "+pa+"%, "+ib+"%)";var Ba,Da,pa,ib,$a},wa.prototype.toHsv=function(){return Ba=t(this.rgba),{h:m(Ba.h),s:m(Ba.s),v:m(Ba.v),a:m(Ba.a,3)};var Ba},wa.prototype.invert=
function(){return sa({r:255-(Ba=this.rgba).r,g:255-Ba.g,b:255-Ba.b,a:Ba.a});var Ba},wa.prototype.saturate=function(Ba){return void 0===Ba&&(Ba=.1),sa(da(this.rgba,Ba))},wa.prototype.desaturate=function(Ba){return void 0===Ba&&(Ba=.1),sa(da(this.rgba,-Ba))},wa.prototype.grayscale=function(){return sa(da(this.rgba,-1))},wa.prototype.lighten=function(Ba){return void 0===Ba&&(Ba=.1),sa(za(this.rgba,Ba))},wa.prototype.darken=function(Ba){return void 0===Ba&&(Ba=.1),sa(za(this.rgba,-Ba))},wa.prototype.rotate=
function(Ba){return void 0===Ba&&(Ba=15),this.hue(this.hue()+Ba)},wa.prototype.alpha=function(Ba){return"number"==typeof Ba?sa({r:(Da=this.rgba).r,g:Da.g,b:Da.b,a:Ba}):m(this.rgba.a,3);var Da},wa.prototype.hue=function(Ba){var Da=F(this.rgba);return"number"==typeof Ba?sa({h:Ba,s:Da.s,l:Da.l,a:Da.a}):m(Da.h)},wa.prototype.isEqual=function(Ba){return this.toHex()===sa(Ba).toHex()},wa}(),sa=function(wa){return wa instanceof Ea?wa:new Ea(wa)},gb=[];p.Colord=Ea;p.colord=sa;p.extend=function(wa){wa.forEach(function(Ba){0>
gb.indexOf(Ba)&&(Ba(Ea,aa),gb.push(Ba))})};p.getFormat=function(wa){return O(wa)[1]};p.random=function(){return new Ea({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}};
shadow$provide[593]=function(G,B,X,p){X.exports=function(w,r){var m={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",
magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",
khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",
lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",
seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},d={},c;for(c in m)d[m[c]]=
c;var g={};w.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,k,t=d[this.toHex()];if(t)return t;if(null==h?0:h.closest){h=this.toRgb();t=1/0;var x="black";if(!g.length)for(var A in m)g[A]=(new w(m[A])).toRgb();for(var y in m)A=(l=h,k=g[y],Math.pow(l.r-k.r,2)+Math.pow(l.g-k.g,2)+Math.pow(l.b-k.b,2)),A<t&&(t=A,x=y);return x}};r.string.push([function(h){h=h.toLowerCase();return(h="transparent"===h?"#0000":m[h])?(new w(h)).toRgb():null},"name"])}};
shadow$provide[594]=function(G,B,X,p){function w(){return(w=Object.assign||function(ua){for(var Ta=1;Ta<arguments.length;Ta++){var hb=arguments[Ta],Bb;for(Bb in hb)Object.prototype.hasOwnProperty.call(hb,Bb)&&(ua[Bb]=hb[Bb])}return ua}).apply(this,arguments)}function r(ua,Ta){if(null==ua)return{};var hb,Bb,Db={},Sb=Object.keys(ua);for(Bb=0;Bb<Sb.length;Bb++)0<=Ta.indexOf(hb=Sb[Bb])||(Db[hb]=ua[hb]);return Db}function m(ua){var Ta=c.useRef(ua),hb=c.useRef(function(Bb){Ta.current&&Ta.current(Bb)});
return Ta.current=ua,hb.current}function d(ua,Ta,hb){var Bb=m(hb);hb=c.useState(function(){return ua.toHsva(Ta)});var Db=hb[0],Sb=hb[1],tc=c.useRef({color:Ta,hsva:Db});c.useEffect(function(){if(!ua.equal(Ta,tc.current.color)){var dc=ua.toHsva(Ta);tc.current={hsva:dc,color:Ta};Sb(dc)}},[Ta,ua]);c.useEffect(function(){var dc;Ba(Db,tc.current.hsva)||ua.equal(dc=ua.fromHsva(Db),tc.current.color)||(tc.current={hsva:Db,color:dc},Bb(dc))},[Db,ua,Bb]);hb=c.useCallback(function(dc){Sb(function(Yc){return Object.assign({},
Yc,dc)})},[]);return[Db,hb]}var c=B(0),g=c&&"object"==typeof c&&"default"in c?c:{default:c},h=function(ua,Ta,hb){return void 0===Ta&&(Ta=0),void 0===hb&&(hb=1),ua>hb?hb:ua<Ta?Ta:ua},l=function(ua){return"touches"in ua},k=function(ua){return ua&&ua.ownerDocument.defaultView||self},t=function(ua,Ta,hb){var Bb=ua.getBoundingClientRect();if(l(Ta))a:{Ta=Ta.touches;for(var Db=0;Db<Ta.length;Db++)if(Ta[Db].identifier===hb){hb=Ta[Db];break a}hb=Ta[0]}else hb=Ta;return{left:h((hb.pageX-(Bb.left+k(ua).pageXOffset))/
Bb.width),top:h((hb.pageY-(Bb.top+k(ua).pageYOffset))/Bb.height)}},x=g.default.memo(function(ua){var Ta=ua.onMove,hb=ua.onKey;ua=r(ua,["onMove","onKey"]);var Bb=c.useRef(null),Db=m(Ta),Sb=m(hb),tc=c.useRef(null),dc=c.useRef(!1);Ta=c.useMemo(function(){function bd(cd){var zd=dc.current,Gd=k(Bb.current);cd=cd?Gd.addEventListener:Gd.removeEventListener;cd(zd?"touchmove":"mousemove",hd);cd(zd?"touchend":"mouseup",fc)}var hd=function(cd){!l(cd)&&cd.preventDefault();(l(cd)?0<cd.touches.length:0<cd.buttons)&&
Bb.current?Db(t(Bb.current,cd,tc.current)):bd(!1)},fc=function(){return bd(!1)};return[function(cd){cd=cd.nativeEvent;var zd=Bb.current,Gd;if(Gd=zd)!l(cd)&&cd.preventDefault(),Gd=(!dc.current||l(cd))&&zd;Gd&&(l(cd)&&(dc.current=!0,Gd=cd.changedTouches||[],Gd.length&&(tc.current=Gd[0].identifier)),zd.focus(),Db(t(zd,cd,tc.current)),bd(!0))},function(cd){var zd=cd.which||cd.keyCode;37>zd||40<zd||(cd.preventDefault(),Sb({left:39===zd?.05:37===zd?-.05:0,top:40===zd?.05:38===zd?-.05:0}))},bd]},[Sb,Db]);
hb=Ta[0];var Yc=Ta[1],ed=Ta[2];return c.useEffect(function(){return ed},[ed]),g.default.createElement("div",w({},ua,{onTouchStart:hb,onMouseDown:hb,className:"react-colorful__interactive",ref:Bb,onKeyDown:Yc,tabIndex:0,role:"slider"}))}),A=function(ua){return ua.filter(Boolean).join(" ")},y=function(ua){var Ta=ua.color,hb=ua.left,Bb=ua.top;Bb=void 0===Bb?.5:Bb;ua=A(["react-colorful__pointer",ua.className]);return g.default.createElement("div",{className:ua,style:{top:100*Bb+"%",left:100*hb+"%"}},
g.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:Ta}}))},E=function(ua,Ta,hb){return void 0===Ta&&(Ta=0),void 0===hb&&(hb=Math.pow(10,Ta)),Math.round(hb*ua)/hb},F={grad:.9,turn:360,rad:360/(2*Math.PI)};G=function(ua){return Ea(H(ua))};var H=function(ua){return"#"===ua[0]&&(ua=ua.substring(1)),6>ua.length?{r:parseInt(ua[0]+ua[0],16),g:parseInt(ua[1]+ua[1],16),b:parseInt(ua[2]+ua[2],16),a:4===ua.length?E(parseInt(ua[3]+ua[3],16)/255,2):1}:{r:parseInt(ua.substring(0,
2),16),g:parseInt(ua.substring(2,4),16),b:parseInt(ua.substring(4,6),16),a:8===ua.length?E(parseInt(ua.substring(6,8),16)/255,2):1}},P=function(ua,Ta){return void 0===Ta&&(Ta="deg"),Number(ua)*(F[Ta]||1)};B=function(ua){return(ua=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ua))?K({h:P(ua[1],ua[2]),s:Number(ua[3]),l:Number(ua[4]),a:void 0===ua[5]?1:Number(ua[5])/(ua[6]?100:1)}):{h:0,s:0,v:0,a:1}};var K=function(ua){var Ta=
ua.s,hb=ua.l;return{h:ua.h,s:0<(Ta*=(50>hb?hb:100-hb)/100)?2*Ta/(hb+Ta)*100:0,v:hb+Ta,a:ua.a}},T=function(ua){var Ta=da(ua);ua=Ta.r;var hb=Ta.g,Bb=Ta.b;Ta=Ta.a;Ta=1>Ta?za(E(255*Ta)):"";return"#"+za(ua)+za(hb)+za(Bb)+Ta},aa=function(ua){var Ta=ua.s,hb=ua.v,Bb=ua.a,Db=(200-Ta)*hb/100;return{h:E(ua.h),s:E(0<Db&&200>Db?Ta*hb/100/(100>=Db?Db:200-Db)*100:0),l:E(Db/2),a:E(Bb,2)}},Q=function(ua){ua=aa(ua);return"hsl("+ua.h+", "+ua.s+"%, "+ua.l+"%)"},O=function(ua){ua=aa(ua);return"hsla("+ua.h+", "+ua.s+"%, "+
ua.l+"%, "+ua.a+")"},da=function(ua){var Ta=ua.h,hb=ua.s,Bb=ua.v;ua=ua.a;Ta=Ta/360*6;hb/=100;Bb/=100;var Db=Math.floor(Ta),Sb=Bb*(1-hb),tc=Bb*(1-(Ta-Db)*hb);Ta=Bb*(1-(1-Ta+Db)*hb);hb=Db%6;return{r:E(255*[Bb,tc,Sb,Sb,Ta,Bb][hb]),g:E(255*[Ta,Bb,Bb,tc,Sb,Sb][hb]),b:E(255*[Sb,Sb,Ta,Bb,Bb,tc][hb]),a:E(ua,2)}};X=function(ua){return(ua=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ua))?sa({h:P(ua[1],ua[2]),s:Number(ua[3]),
v:Number(ua[4]),a:void 0===ua[5]?1:Number(ua[5])/(ua[6]?100:1)}):{h:0,s:0,v:0,a:1}};var ea=function(ua){return(ua=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ua))?Ea({r:Number(ua[1])/(ua[2]?100/255:1),g:Number(ua[3])/(ua[4]?100/255:1),b:Number(ua[5])/(ua[6]?100/255:1),a:void 0===ua[7]?1:Number(ua[7])/(ua[8]?100:1)}):{h:0,s:0,v:0,a:1}},za=function(ua){ua=ua.toString(16);return 2>ua.length?"0"+ua:ua},Ea=function(ua){var Ta=ua.r,
hb=ua.g,Bb=ua.b;ua=ua.a;var Db=Math.max(Ta,hb,Bb),Sb=Db-Math.min(Ta,hb,Bb);Ta=Sb?Db===Ta?(hb-Bb)/Sb:Db===hb?2+(Bb-Ta)/Sb:4+(Ta-hb)/Sb:0;return{h:E(60*(0>Ta?Ta+6:Ta)),s:E(Db?Sb/Db*100:0),v:E(Db/255*100),a:ua}},sa=function(ua){return{h:E(ua.h),s:E(ua.s),v:E(ua.v),a:E(ua.a,2)}},gb=g.default.memo(function(ua){var Ta=ua.hue,hb=ua.onChange;ua=A(["react-colorful__hue",ua.className]);return g.default.createElement("div",{className:ua},g.default.createElement(x,{onMove:function(Bb){hb({h:360*Bb.left})},onKey:function(Bb){hb({h:h(Ta+
360*Bb.left,0,360)})},"aria-label":"Hue","aria-valuenow":E(Ta),"aria-valuemax":"360","aria-valuemin":"0"},g.default.createElement(y,{className:"react-colorful__hue-pointer",left:Ta/360,color:Q({h:Ta,s:100,v:100,a:1})})))}),wa=g.default.memo(function(ua){var Ta=ua.hsva,hb=ua.onChange;ua={backgroundColor:Q({h:Ta.h,s:100,v:100,a:1})};return g.default.createElement("div",{className:"react-colorful__saturation",style:ua},g.default.createElement(x,{onMove:function(Bb){hb({s:100*Bb.left,v:100-100*Bb.top})},
onKey:function(Bb){hb({s:h(Ta.s+100*Bb.left,0,100),v:h(Ta.v-100*Bb.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+E(Ta.s)+"%, Brightness "+E(Ta.v)+"%"},g.default.createElement(y,{className:"react-colorful__saturation-pointer",top:1-Ta.v/100,left:Ta.s/100,color:Q(Ta)})))}),Ba=function(ua,Ta){if(ua===Ta)return!0;for(var hb in ua)if(ua[hb]!==Ta[hb])return!1;return!0},Da=function(ua,Ta){return ua.replace(/\s/g,"")===Ta.replace(/\s/g,"")},pa=function(ua,Ta){return ua.toLowerCase()===
Ta.toLowerCase()||Ba(H(ua),H(Ta))},ib,$a="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,eb=new Map,Ja=function(ua){$a(function(){var Ta=ua.current?ua.current.ownerDocument:document;if(void 0!==Ta&&!eb.has(Ta)){var hb=Ta.createElement("style");hb.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset\x3dutf-8,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" fill-opacity\x3d".05"\x3e\x3cpath d\x3d"M8 0h8v8H8zM0 8h8v8H0z"/\x3e\x3c/svg\x3e\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}';
eb.set(Ta,hb);var Bb=ib||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);Bb&&hb.setAttribute("nonce",Bb);Ta.head.appendChild(hb)}},[])},Fb=function(ua){var Ta=ua.className,hb=ua.colorModel,Bb=ua.color,Db=void 0===Bb?hb.defaultColor:Bb,Sb=ua.onChange;ua=r(ua,["className","colorModel","color","onChange"]);Bb=c.useRef(null);Ja(Bb);Db=d(hb,Db,Sb);hb=Db[0];Db=Db[1];Ta=A(["react-colorful",Ta]);return g.default.createElement("div",w({},ua,{ref:Bb,className:Ta}),g.default.createElement(wa,
{hsva:hb,onChange:Db}),g.default.createElement(gb,{hue:hb.h,onChange:Db,className:"react-colorful__last-control"}))},Kb={defaultColor:"000",toHsva:G,fromHsva:function(ua){return T({h:ua.h,s:ua.s,v:ua.v,a:1})},equal:pa},rb=function(ua){var Ta=ua.className,hb=ua.hsva,Bb=ua.onChange;ua={backgroundImage:"linear-gradient(90deg, "+O(Object.assign({},hb,{a:0}))+", "+O(Object.assign({},hb,{a:1}))+")"};Ta=A(["react-colorful__alpha",Ta]);var Db=E(100*hb.a);return g.default.createElement("div",{className:Ta},
g.default.createElement("div",{className:"react-colorful__alpha-gradient",style:ua}),g.default.createElement(x,{onMove:function(Sb){Bb({a:Sb.left})},onKey:function(Sb){Bb({a:h(hb.a+Sb.left)})},"aria-label":"Alpha","aria-valuetext":Db+"%","aria-valuenow":Db,"aria-valuemin":"0","aria-valuemax":"100"},g.default.createElement(y,{className:"react-colorful__alpha-pointer",left:hb.a,color:O(hb)})))},Pb=function(ua){var Ta=ua.className,hb=ua.colorModel,Bb=ua.color,Db=void 0===Bb?hb.defaultColor:Bb,Sb=ua.onChange;
ua=r(ua,["className","colorModel","color","onChange"]);Bb=c.useRef(null);Ja(Bb);Db=d(hb,Db,Sb);hb=Db[0];Db=Db[1];Ta=A(["react-colorful",Ta]);return g.default.createElement("div",w({},ua,{ref:Bb,className:Ta}),g.default.createElement(wa,{hsva:hb,onChange:Db}),g.default.createElement(gb,{hue:hb.h,onChange:Db}),g.default.createElement(rb,{hsva:hb,onChange:Db,className:"react-colorful__last-control"}))},N={defaultColor:"0001",toHsva:G,fromHsva:T,equal:pa},Z={defaultColor:{h:0,s:0,l:0,a:1},toHsva:K,fromHsva:aa,
equal:Ba},va={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:B,fromHsva:O,equal:Da},ab={defaultColor:{h:0,s:0,l:0},toHsva:function(ua){return K({h:ua.h,s:ua.s,l:ua.l,a:1})},fromHsva:function(ua){return{h:(Ta=aa(ua)).h,s:Ta.s,l:Ta.l};var Ta},equal:Ba},Ha={defaultColor:"hsl(0, 0%, 0%)",toHsva:B,fromHsva:Q,equal:Da},Qa={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(ua){return ua},fromHsva:sa,equal:Ba},cb={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:X,fromHsva:function(ua){ua=sa(ua);return"hsva("+ua.h+", "+ua.s+
"%, "+ua.v+"%, "+ua.a+")"},equal:Da},Ab={defaultColor:{h:0,s:0,v:0},toHsva:function(ua){return{h:ua.h,s:ua.s,v:ua.v,a:1}},fromHsva:function(ua){ua=sa(ua);return{h:ua.h,s:ua.s,v:ua.v}},equal:Ba},ma={defaultColor:"hsv(0, 0%, 0%)",toHsva:X,fromHsva:function(ua){ua=sa(ua);return"hsv("+ua.h+", "+ua.s+"%, "+ua.v+"%)"},equal:Da},la={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Ea,fromHsva:da,equal:Ba},Ra={defaultColor:"rgba(0, 0, 0, 1)",toHsva:ea,fromHsva:function(ua){ua=da(ua);return"rgba("+ua.r+", "+ua.g+", "+
ua.b+", "+ua.a+")"},equal:Da},Sa={defaultColor:{r:0,g:0,b:0},toHsva:function(ua){return Ea({r:ua.r,g:ua.g,b:ua.b,a:1})},fromHsva:function(ua){return{r:(Ta=da(ua)).r,g:Ta.g,b:Ta.b};var Ta},equal:Ba},ob={defaultColor:"rgb(0, 0, 0)",toHsva:ea,fromHsva:function(ua){ua=da(ua);return"rgb("+ua.r+", "+ua.g+", "+ua.b+")"},equal:Da},oa=/^#?([0-9A-F]{3,8})$/i,Va=function(ua){var Ta=ua.color,hb=void 0===Ta?"":Ta,Bb=ua.onChange,Db=ua.onBlur,Sb=ua.escape,tc=ua.validate;Ta=ua.format;var dc=ua.process;ua=r(ua,"color onChange onBlur escape validate format process".split(" "));
var Yc=c.useState(function(){return Sb(hb)}),ed=Yc[0],bd=Yc[1],hd=m(Bb),fc=m(Db);Bb=c.useCallback(function(cd){cd=Sb(cd.target.value);bd(cd);tc(cd)&&hd(dc?dc(cd):cd)},[Sb,dc,tc,hd]);Db=c.useCallback(function(cd){tc(cd.target.value)||bd(Sb(hb));fc(cd)},[hb,Sb,tc,fc]);return c.useEffect(function(){bd(Sb(hb))},[hb,Sb]),g.default.createElement("input",w({},ua,{value:Ta?Ta(ed):ed,spellCheck:"false",onChange:Bb,onBlur:Db}))},Ua=function(ua){return"#"+ua};p.HexAlphaColorPicker=function(ua){return g.default.createElement(Pb,
w({},ua,{colorModel:N}))};p.HexColorInput=function(ua){var Ta=ua.prefixed,hb=ua.alpha;ua=r(ua,["prefixed","alpha"]);var Bb=c.useCallback(function(Sb){return Sb.replace(/([^0-9A-F]+)/gi,"").substring(0,hb?8:6)},[hb]),Db=c.useCallback(function(Sb){Sb=(Sb=oa.exec(Sb))?Sb[1].length:0;return 3===Sb||6===Sb||!!hb&&4===Sb||!!hb&&8===Sb},[hb]);return g.default.createElement(Va,w({},ua,{escape:Bb,format:Ta?Ua:void 0,process:Ua,validate:Db}))};p.HexColorPicker=function(ua){return g.default.createElement(Fb,
w({},ua,{colorModel:Kb}))};p.HslColorPicker=function(ua){return g.default.createElement(Fb,w({},ua,{colorModel:ab}))};p.HslStringColorPicker=function(ua){return g.default.createElement(Fb,w({},ua,{colorModel:Ha}))};p.HslaColorPicker=function(ua){return g.default.createElement(Pb,w({},ua,{colorModel:Z}))};p.HslaStringColorPicker=function(ua){return g.default.createElement(Pb,w({},ua,{colorModel:va}))};p.HsvColorPicker=function(ua){return g.default.createElement(Fb,w({},ua,{colorModel:Ab}))};p.HsvStringColorPicker=
function(ua){return g.default.createElement(Fb,w({},ua,{colorModel:ma}))};p.HsvaColorPicker=function(ua){return g.default.createElement(Pb,w({},ua,{colorModel:Qa}))};p.HsvaStringColorPicker=function(ua){return g.default.createElement(Pb,w({},ua,{colorModel:cb}))};p.RgbColorPicker=function(ua){return g.default.createElement(Fb,w({},ua,{colorModel:Sa}))};p.RgbStringColorPicker=function(ua){return g.default.createElement(Fb,w({},ua,{colorModel:ob}))};p.RgbaColorPicker=function(ua){return g.default.createElement(Pb,
w({},ua,{colorModel:la}))};p.RgbaStringColorPicker=function(ua){return g.default.createElement(Pb,w({},ua,{colorModel:Ra}))};p.setNonce=function(ua){ib=ua}};
shadow$provide[599]=function(G,B,X,p){X.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[603]=function(G,B,X,p){function w(){}function r(){}var m=B(599);r.resetWarningCache=w;X.exports=function(){function d(h,l,k,t,x,A){if(A!==m)throw h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),h.name="Invariant Violation",h;}function c(){return d}d.isRequired=d;var g={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:c,
element:d,elementType:d,instanceOf:c,node:d,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:r,resetWarningCache:w};return g.PropTypes=g}};
shadow$provide[604]=function(G,B,X,p){X.exports=B(603)()};
shadow$provide[605]=function(G,B,X,p){!function(w,r){"object"==typeof p&&"undefined"!=typeof X?r(p,B(0),B(604)):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],r):r((w="undefined"!=typeof globalThis?globalThis:w||self).reactDropzone={},w.React,w.PropTypes)}(this,function(w,r,m){function d(oa){return oa&&"object"==typeof oa&&"default"in oa?oa:{default:oa}}function c(oa,Va){var Ua=Object.keys(oa);if(Object.getOwnPropertySymbols){var ua=Object.getOwnPropertySymbols(oa);
Va&&(ua=ua.filter(function(Ta){return Object.getOwnPropertyDescriptor(oa,Ta).enumerable}));Ua.push.apply(Ua,ua)}return Ua}function g(oa){for(var Va=1;Va<arguments.length;Va++){var Ua=null!=arguments[Va]?arguments[Va]:{};Va%2?c(Object(Ua),!0).forEach(function(ua){h(oa,ua,Ua[ua])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oa,Object.getOwnPropertyDescriptors(Ua)):c(Object(Ua)).forEach(function(ua){Object.defineProperty(oa,ua,Object.getOwnPropertyDescriptor(Ua,ua))})}return oa}function h(oa,
Va,Ua){return Va in oa?Object.defineProperty(oa,Va,{value:Ua,enumerable:!0,configurable:!0,writable:!0}):oa[Va]=Ua,oa}function l(oa,Va){if(null==oa)return{};var Ua;if(null==oa)var ua={};else{ua={};var Ta=Object.keys(oa);for(Ua=0;Ua<Ta.length;Ua++){var hb=Ta[Ua];0<=Va.indexOf(hb)||(ua[hb]=oa[hb])}}if(Object.getOwnPropertySymbols)for(Ta=Object.getOwnPropertySymbols(oa),Ua=0;Ua<Ta.length;Ua++)hb=Ta[Ua],0<=Va.indexOf(hb)||Object.prototype.propertyIsEnumerable.call(oa,hb)&&(ua[hb]=oa[hb]);return ua}function k(oa,
Va){if(!(oa=function(Ua){if(Array.isArray(Ua))return Ua}(oa)||function(Ua,ua){var Ta=null==Ua?null:"undefined"!=typeof Symbol&&Ua[Symbol.iterator]||Ua["@@iterator"];if(null!=Ta){var hb,Bb=[],Db=!0,Sb=!1;try{for(Ta=Ta.call(Ua);!(Db=(hb=Ta.next()).done)&&(Bb.push(hb.value),!ua||Bb.length!==ua);Db=!0);}catch(dc){Sb=!0;var tc=dc}finally{try{Db||null==Ta.return||Ta.return()}finally{if(Sb)throw tc;}}return Bb}}(oa,Va)||x(oa,Va)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return oa}function t(oa){var Va=Array.isArray(oa)?A(oa):void 0;Va||(Va="undefined"!=typeof Symbol&&null!=oa[Symbol.iterator]||null!=oa["@@iterator"]?Array.from(oa):void 0);if(!(oa=Va||x(oa)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return oa}function x(oa,Va){if(oa){if("string"==typeof oa)return A(oa,Va);var Ua=Object.prototype.toString.call(oa).slice(8,-1);return"Object"===Ua&&oa.constructor&&
(Ua=oa.constructor.name),"Map"===Ua||"Set"===Ua?Array.from(oa):"Arguments"===Ua||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ua)?A(oa,Va):void 0}}function A(oa,Va){(null==Va||Va>oa.length)&&(Va=oa.length);for(var Ua=0,ua=Array(Va);Ua<Va;Ua++)ua[Ua]=oa[Ua];return ua}function y(oa,Va,Ua,ua){return new (Ua||(Ua=Promise))(function(Ta,hb){function Bb(tc){try{Sb(ua.next(tc))}catch(dc){hb(dc)}}function Db(tc){try{Sb(ua.throw(tc))}catch(dc){hb(dc)}}function Sb(tc){var dc;tc.done?Ta(tc.value):(dc=tc.value,
dc instanceof Ua?dc:new Ua(function(Yc){Yc(dc)})).then(Bb,Db)}Sb((ua=ua.apply(oa,Va||[])).next())})}function E(oa,Va){function Ua(Sb){return function(tc){return function(dc){if(ua)throw new TypeError("Generator is already executing.");for(;Db;)try{if(ua=1,Ta&&(hb=2&dc[0]?Ta.return:dc[0]?Ta.throw||((hb=Ta.return)&&hb.call(Ta),0):Ta.next)&&!(hb=hb.call(Ta,dc[1])).done)return hb;switch(Ta=0,hb&&(dc=[2&dc[0],hb.value]),dc[0]){case 0:case 1:hb=dc;break;case 4:return Db.label++,{value:dc[1],done:!1};case 5:Db.label++;
Ta=dc[1];dc=[0];continue;case 7:dc=Db.ops.pop();Db.trys.pop();continue;default:if(!(hb=Db.trys,(hb=0<hb.length&&hb[hb.length-1])||6!==dc[0]&&2!==dc[0])){Db=0;continue}if(3===dc[0]&&(!hb||dc[1]>hb[0]&&dc[1]<hb[3]))Db.label=dc[1];else if(6===dc[0]&&Db.label<hb[1])Db.label=hb[1],hb=dc;else if(hb&&Db.label<hb[2])Db.label=hb[2],Db.ops.push(dc);else{hb[2]&&Db.ops.pop();Db.trys.pop();continue}}dc=Va.call(oa,Db)}catch(Yc){dc=[6,Yc],Ta=0}finally{ua=hb=0}if(5&dc[0])throw dc[1];return{value:dc[0]?dc[1]:void 0,
done:!0}}([Sb,tc])}}var ua,Ta,hb,Bb,Db={label:0,sent:function(){if(1&hb[0])throw hb[1];return hb[1]},trys:[],ops:[]};return Bb={next:Ua(0),throw:Ua(1),return:Ua(2)},"function"==typeof Symbol&&(Bb[Symbol.iterator]=function(){return this}),Bb}function F(oa,Va){var Ua=oa.name;Ua&&-1!==Ua.lastIndexOf(".")&&!oa.type&&(Ua=Ua.split(".").pop().toLowerCase(),(Ua=N.get(Ua))&&Object.defineProperty(oa,"type",{value:Ua,writable:!1,configurable:!1,enumerable:!0}));"string"!=typeof oa.path&&(Ua=oa.webkitRelativePath,
Object.defineProperty(oa,"path",{value:"string"==typeof Va?Va:"string"==typeof Ua&&0<Ua.length?Ua:oa.name,writable:!1,configurable:!1,enumerable:!0}));return oa}function H(oa){return"object"==typeof oa&&null!==oa}function P(oa){return Q(oa.target.files).map(function(Va){return F(Va)})}function K(oa){return y(this,void 0,void 0,function(){return E(this,function(Va){switch(Va.label){case 0:return[4,Promise.all(oa.map(function(Ua){return Ua.getFile()}))];case 1:return[2,Va.sent().map(function(Ua){return F(Ua)})]}})})}
function T(oa,Va){return y(this,void 0,void 0,function(){var Ua;return E(this,function(ua){switch(ua.label){case 0:return null===oa?[2,[]]:oa.items?(Ua=Q(oa.items).filter(function(Ta){return"file"===Ta.kind}),"drop"!==Va?[2,Ua]:[4,Promise.all(Ua.map(O))]):[3,2];case 1:return[2,aa(da(ua.sent()))];case 2:return[2,aa(Q(oa.files).map(function(Ta){return F(Ta)}))]}})})}function aa(oa){return oa.filter(function(Va){return-1===Z.indexOf(Va.name)})}function Q(oa){if(null===oa)return[];for(var Va=[],Ua=0;Ua<
oa.length;Ua++)Va.push(oa[Ua]);return Va}function O(oa){if("function"!=typeof oa.webkitGetAsEntry)return ea(oa);var Va=oa.webkitGetAsEntry();return Va&&Va.isDirectory?Ea(Va):ea(oa)}function da(oa){return oa.reduce(function(Va,Ua){return function(){for(var ua=[],Ta=0;Ta<arguments.length;Ta++){var hb=ua.concat,Bb;var Db=Bb=void 0,Sb=arguments[Ta],tc=void 0,dc="function"==typeof Symbol&&Sb[Symbol.iterator];if(dc){Sb=dc.call(Sb);var Yc=[];try{for(;(void 0===tc||0<tc--)&&!(Db=Sb.next()).done;)Yc.push(Db.value)}catch(ed){Bb=
{error:ed}}finally{try{Db&&!Db.done&&(dc=Sb.return)&&dc.call(Sb)}finally{if(Bb)throw Bb.error;}}Bb=Yc}else Bb=Sb;ua=hb.call(ua,Bb)}return ua}(Va,Array.isArray(Ua)?da(Ua):[Ua])},[])}function ea(oa){var Va=oa.getAsFile();if(!Va)return Promise.reject(oa+" is not a File");oa=F(Va);return Promise.resolve(oa)}function za(oa){return y(this,void 0,void 0,function(){return E(this,function(Va){return[2,oa.isDirectory?Ea(oa):sa(oa)]})})}function Ea(oa){var Va=oa.createReader();return new Promise(function(Ua,
ua){var Ta=[];!function Bb(){var Db=this;Va.readEntries(function(Sb){return y(Db,void 0,void 0,function(){var tc,dc,Yc;return E(this,function(ed){switch(ed.label){case 0:if(Sb.length)return[3,5];ed.label=1;case 1:return ed.trys.push([1,3,,4]),[4,Promise.all(Ta)];case 2:return tc=ed.sent(),Ua(tc),[3,4];case 3:return dc=ed.sent(),ua(dc),[3,4];case 4:return[3,6];case 5:Yc=Promise.all(Sb.map(za)),Ta.push(Yc),Bb(),ed.label=6;case 6:return[2]}})})},function(Sb){ua(Sb)})}()})}function sa(oa){return y(this,
void 0,void 0,function(){return E(this,function(Va){return[2,new Promise(function(Ua,ua){oa.file(function(Ta){Ta=F(Ta,oa.fullPath);Ua(Ta)},function(Ta){ua(Ta)})})]})})}function gb(oa,Va){oa="application/x-moz-file"===oa.type||function(Ua,ua){if(Ua&&ua){ua=Array.isArray(ua)?ua:ua.split(",");var Ta=Ua.name||"",hb=(Ua.type||"").toLowerCase(),Bb=hb.replace(/\/.*$/,"");return ua.some(function(Db){Db=Db.trim().toLowerCase();return"."===Db.charAt(0)?Ta.toLowerCase().endsWith(Db):Db.endsWith("/*")?Bb===Db.replace(/\/.*$/,
""):hb===Db})}return!0}(oa,Va);return[oa,oa?null:va(Va)]}function wa(oa,Va,Ua){if(null!=oa.size)if(null!=Va&&null!=Ua){if(oa.size>Ua)return[!1,ab(Ua)];if(oa.size<Va)return[!1,Ha(Va)]}else{if(null!=Va&&oa.size<Va)return[!1,Ha(Va)];if(null!=Ua&&oa.size>Ua)return[!1,ab(Ua)]}return[!0,null]}function Ba(oa){var Va=oa.files,Ua=oa.accept,ua=oa.minSize,Ta=oa.maxSize,hb=oa.multiple;oa=oa.maxFiles;return!(!hb&&1<Va.length||hb&&1<=oa&&Va.length>oa)&&Va.every(function(Bb){var Db=k(gb(Bb,Ua),1)[0];Bb=k(wa(Bb,
ua,Ta),1)[0];return Db&&Bb})}function Da(oa){return"function"==typeof oa.isPropagationStopped?oa.isPropagationStopped():void 0!==oa.cancelBubble&&oa.cancelBubble}function pa(oa){return oa.dataTransfer?Array.prototype.some.call(oa.dataTransfer.types,function(Va){return"Files"===Va||"application/x-moz-file"===Va}):!!oa.target&&!!oa.target.files}function ib(oa){oa.preventDefault()}function $a(){var oa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return-1!==oa.indexOf("MSIE")||
-1!==oa.indexOf("Trident/")||-1!==oa.indexOf("Edge/")}function eb(){for(var oa=arguments.length,Va=Array(oa),Ua=0;Ua<oa;Ua++)Va[Ua]=arguments[Ua];return function(ua){for(var Ta=arguments.length,hb=Array(1<Ta?Ta-1:0),Bb=1;Bb<Ta;Bb++)hb[Bb-1]=arguments[Bb];return Va.some(function(Db){return!Da(ua)&&Db&&Db.apply(void 0,[ua].concat(hb)),Da(ua)})}}function Ja(oa){return oa="string"==typeof oa?oa.split(","):oa,[{description:"everything",accept:Array.isArray(oa)?oa.filter(function(Va){return"audio/*"===
Va||"video/*"===Va||"image/*"===Va||"text/*"===Va||/\w+\/[-+.\w]+/g.test(Va)}).reduce(function(Va,Ua){return g(g({},Va),{},h({},Ua,[]))},{}):{}}]}function Fb(){var oa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};oa=g(g({},Sa),oa);var Va=oa.accept,Ua=oa.disabled,ua=oa.getFilesFromEvent,Ta=oa.maxSize,hb=oa.minSize,Bb=oa.multiple,Db=oa.maxFiles,Sb=oa.onDragEnter,tc=oa.onDragLeave,dc=oa.onDragOver,Yc=oa.onDrop,ed=oa.onDropAccepted,bd=oa.onDropRejected,hd=oa.onFileDialogCancel,fc=oa.onFileDialogOpen,
cd=oa.useFsAccessApi,zd=oa.preventDropOnDocument,Gd=oa.noClick,sc=oa.noKeyboard,de=oa.noDrag,ge=oa.noDragEventsBubbling,Ce=oa.validator,Jb=r.useMemo(function(){return"function"==typeof fc?fc:rb},[fc]),ke=r.useMemo(function(){return"function"==typeof hd?hd:rb},[hd]),nd=r.useRef(null),od=r.useRef(null);oa=r.useReducer(Kb,ob);var te=k(oa,2);oa=te[0];var pe=te[1];te=oa.isFocused;var vc=oa.isFileDialogActive,Od=oa.draggedFiles,gc=r.useRef("undefined"!=typeof window&&window.isSecureContext&&cd&&"showOpenFilePicker"in
window),Rc=function(){!gc.current&&vc&&setTimeout(function(){od.current&&(od.current.files.length||(pe({type:"closeDialog"}),ke()))},300)};r.useEffect(function(){return window.addEventListener("focus",Rc,!1),function(){window.removeEventListener("focus",Rc,!1)}},[od,vc,ke,gc]);var Tc=r.useRef([]),xd=function(Lc){nd.current&&nd.current.contains(Lc.target)||(Lc.preventDefault(),Tc.current=[])};r.useEffect(function(){return zd&&(document.addEventListener("dragover",ib,!1),document.addEventListener("drop",
xd,!1)),function(){zd&&(document.removeEventListener("dragover",ib),document.removeEventListener("drop",xd))}},[nd,zd]);var Dc=r.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ge&&Lc.stopPropagation();Tc.current=[].concat(t(Tc.current),[Lc.target]);pa(Lc)&&Promise.resolve(ua(Lc)).then(function(Hd){Da(Lc)&&!ge||(pe({draggedFiles:Hd,isDragActive:!0,type:"setDraggedFiles"}),Sb&&Sb(Lc))})},[ua,Sb,ge]),yf=r.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ge&&Lc.stopPropagation();var Hd=
pa(Lc);if(Hd&&Lc.dataTransfer)try{Lc.dataTransfer.dropEffect="copy"}catch(ya){}return Hd&&dc&&dc(Lc),!1},[dc,ge]),He=r.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ge&&Lc.stopPropagation();var Hd=Tc.current.filter(function(Ia){return nd.current&&nd.current.contains(Ia)}),ya=Hd.indexOf(Lc.target);-1!==ya&&Hd.splice(ya,1);Tc.current=Hd;0<Hd.length||(pe({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),pa(Lc)&&tc&&tc(Lc))},[nd,tc,ge]),we=r.useCallback(function(Lc,Hd){var ya=[],Ia=
[];Lc.forEach(function(fb){var lb=k(gb(fb,Va),2),yb=lb[0];lb=lb[1];var kb=k(wa(fb,hb,Ta),2),tb=kb[0],Eb=kb[1];kb=Ce?Ce(fb):null;yb&&tb&&!kb?ya.push(fb):(yb=[lb,Eb],kb&&(yb=yb.concat(kb)),Ia.push({file:fb,errors:yb.filter(function(Hb){return Hb})}))});(!Bb&&1<ya.length||Bb&&1<=Db&&ya.length>Db)&&(ya.forEach(function(fb){Ia.push({file:fb,errors:[Qa]})}),ya.splice(0));pe({acceptedFiles:ya,fileRejections:Ia,type:"setFiles"});Yc&&Yc(ya,Ia,Hd);0<Ia.length&&bd&&bd(Ia,Hd);0<ya.length&&ed&&ed(ya,Hd)},[pe,
Bb,Va,hb,Ta,Db,Yc,ed,bd,Ce]),Ne=r.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ge&&Lc.stopPropagation();Tc.current=[];pa(Lc)&&Promise.resolve(ua(Lc)).then(function(Hd){Da(Lc)&&!ge||we(Hd,Lc)});pe({type:"reset"})},[ua,we,ge]),Pe=r.useCallback(function(){if(gc.current){pe({type:"openDialog"});Jb();var Lc={multiple:Bb,types:Ja(Va)};window.showOpenFilePicker(Lc).then(function(Hd){return ua(Hd)}).then(function(Hd){we(Hd,null);pe({type:"closeDialog"})}).catch(function(Hd){Hd instanceof DOMException&&
("AbortError"===Hd.name||Hd.code===Hd.ABORT_ERR)?(ke(Hd),pe({type:"closeDialog"})):Hd instanceof DOMException&&("SecurityError"===Hd.name||Hd.code===Hd.SECURITY_ERR)&&(gc.current=!1,od.current&&(od.current.value=null,od.current.click()))})}else od.current&&(pe({type:"openDialog"}),Jb(),od.current.value=null,od.current.click())},[pe,Jb,ke,cd,we,Va,Bb]),ie=r.useCallback(function(Lc){nd.current&&nd.current.isEqualNode(Lc.target)&&(" "!==Lc.key&&"Enter"!==Lc.key&&32!==Lc.keyCode&&13!==Lc.keyCode||(Lc.preventDefault(),
Pe()))},[nd,Pe]),cf=r.useCallback(function(){pe({type:"focus"})},[]),rf=r.useCallback(function(){pe({type:"blur"})},[]),ff=r.useCallback(function(){Gd||($a()?setTimeout(Pe,0):Pe())},[Gd,Pe]),gf=function(Lc){return Ua?null:Lc},ee=function(Lc){return sc?null:gf(Lc)},Nb=function(Lc){return de?null:gf(Lc)};cd=r.useMemo(function(){return function(){var Lc=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Hd=Lc.refKey;Hd=void 0===Hd?"ref":Hd;var ya=Lc.role,Ia=Lc.onKeyDown,fb=Lc.onFocus,lb=Lc.onBlur,
yb=Lc.onClick,kb=Lc.onDragEnter,tb=Lc.onDragOver,Eb=Lc.onDragLeave,Hb=Lc.onDrop;Lc=l(Lc,ma);return g(g(h({onKeyDown:ee(eb(Ia,ie)),onFocus:ee(eb(fb,cf)),onBlur:ee(eb(lb,rf)),onClick:gf(eb(yb,ff)),onDragEnter:Nb(eb(kb,Dc)),onDragOver:Nb(eb(tb,yf)),onDragLeave:Nb(eb(Eb,He)),onDrop:Nb(eb(Hb,Ne)),role:"string"==typeof ya&&""!==ya?ya:"button"},Hd,nd),Ua||sc?{}:{tabIndex:0}),Lc)}},[nd,ie,cf,rf,ff,Dc,yf,He,Ne,sc,de,Ua]);var Yd=r.useCallback(function(Lc){Lc.stopPropagation()},[]),De=r.useMemo(function(){return function(){var Lc=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Hd=Lc.refKey;Hd=void 0===Hd?"ref":Hd;var ya=Lc.onChange,Ia=Lc.onClick;Lc=l(Lc,la);Hd=h({accept:Va,multiple:Bb,type:"file",style:{display:"none"},onChange:gf(eb(ya,Ne)),onClick:gf(eb(Ia,Yd)),tabIndex:-1},Hd,od);return g(g({},Hd),Lc)}},[od,Va,Bb,Ne,Ua]),me=Od.length;Od=0<me&&Ba({files:Od,accept:Va,minSize:hb,maxSize:Ta,multiple:Bb,maxFiles:Db});me=0<me&&!Od;return g(g({},oa),{},{isDragAccept:Od,isDragReject:me,isFocused:te&&!Ua,getRootProps:cd,
getInputProps:De,rootRef:nd,inputRef:od,open:gf(Pe)})}function Kb(oa,Va){switch(Va.type){case "focus":return g(g({},oa),{},{isFocused:!0});case "blur":return g(g({},oa),{},{isFocused:!1});case "openDialog":return g(g({},ob),{},{isFileDialogActive:!0});case "closeDialog":return g(g({},oa),{},{isFileDialogActive:!1});case "setDraggedFiles":var Ua=Va.isDragActive;Va=Va.draggedFiles;return g(g({},oa),{},{draggedFiles:Va,isDragActive:Ua});case "setFiles":return g(g({},oa),{},{acceptedFiles:Va.acceptedFiles,
fileRejections:Va.fileRejections});case "reset":return g({},ob);default:return oa}}function rb(){}var Pb=d(r);m=d(m);var N=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],
["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],
["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],
["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav",
"audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),Z=[".DS_Store",
"Thumbs.db"],va=function(oa){oa=Array.isArray(oa)&&1===oa.length?oa[0]:oa;oa=Array.isArray(oa)?"one of ".concat(oa.join(", ")):oa;return{code:"file-invalid-type",message:"File type must be ".concat(oa)}},ab=function(oa){return{code:"file-too-large",message:"File is larger than ".concat(oa," ").concat(1===oa?"byte":"bytes")}},Ha=function(oa){return{code:"file-too-small",message:"File is smaller than ".concat(oa," ").concat(1===oa?"byte":"bytes")}},Qa={code:"too-many-files",message:"Too many files"},
cb=["children"],Ab=["open"],ma="refKey role onKeyDown onFocus onBlur onClick onDragEnter onDragOver onDragLeave onDrop".split(" "),la=["refKey","onChange","onClick"],Ra=r.forwardRef(function(oa,Va){var Ua=oa.children;oa=Fb(l(oa,cb));var ua=oa.open;oa=l(oa,Ab);return r.useImperativeHandle(Va,function(){return{open:ua}},[ua]),Pb.default.createElement(r.Fragment,null,Ua(g(g({},oa),{},{open:ua})))});Ra.displayName="Dropzone";var Sa={disabled:!1,getFilesFromEvent:function(oa){return y(this,void 0,void 0,
function(){return E(this,function(Va){return H(oa)&&H(oa.dataTransfer)?[2,T(oa.dataTransfer,oa.type)]:function(Ua){return H(Ua)&&H(Ua.target)}(oa)?[2,P(oa)]:Array.isArray(oa)&&oa.every(function(Ua){return"getFile"in Ua&&"function"==typeof Ua.getFile})?[2,K(oa)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Ra.defaultProps=Sa;Ra.propTypes={children:m.default.func,accept:m.default.oneOfType([m.default.string,
m.default.arrayOf(m.default.string)]),multiple:m.default.bool,preventDropOnDocument:m.default.bool,noClick:m.default.bool,noKeyboard:m.default.bool,noDrag:m.default.bool,noDragEventsBubbling:m.default.bool,minSize:m.default.number,maxSize:m.default.number,maxFiles:m.default.number,disabled:m.default.bool,getFilesFromEvent:m.default.func,onFileDialogCancel:m.default.func,onFileDialogOpen:m.default.func,useFsAccessApi:m.default.bool,onDragEnter:m.default.func,onDragLeave:m.default.func,onDragOver:m.default.func,
onDrop:m.default.func,onDropAccepted:m.default.func,onDropRejected:m.default.func,validator:m.default.func};var ob={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};w.ErrorCode={FileInvalidType:"file-invalid-type",FileTooLarge:"file-too-large",FileTooSmall:"file-too-small",TooManyFiles:"too-many-files"};w.default=Ra;w.useDropzone=Fb;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[606]=function(G,B,X,p){function w(d){var c=new Set,g=function(x,A){x="function"===typeof x?x(t):x;if(x!==t){var y=t;t=A?x:Object.assign({},t,x);c.forEach(function(E){return E(t,y)})}},h=function(){return t},l=function(x,A,y){function E(){var H=A(t);if(!y(F,H)){var P=F;x(F=H,P)}}void 0===A&&(A=h);void 0===y&&(y=Object.is);console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var F=A(t);c.add(E);return function(){return c.delete(E)}},k={setState:g,getState:h,subscribe:function(x,
A,y){if(A||y)return l(x,A,y);c.add(x);return function(){return c.delete(x)}},destroy:function(){return c.clear()}};var t=d(g,h,k);return k}Object.defineProperty(p,"__esModule",{value:!0});var r=B(0),m="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;p["default"]=function(d){var c="function"===typeof d?w(d):d,g=function(h,l){void 0===h&&(h=c.getState);void 0===l&&(l=Object.is);var k=r.useReducer(function(aa){return aa+
1},0)[1],t=c.getState(),x=r.useRef(t),A=r.useRef(h),y=r.useRef(l),E=r.useRef(!1),F=r.useRef();void 0===F.current&&(F.current=h(t));var H=!1;if(x.current!==t||A.current!==h||y.current!==l||E.current){var P=h(t);H=!l(F.current,P)}m(function(){H&&(F.current=P);x.current=t;A.current=h;y.current=l;E.current=!1});var K=r.useRef(t);m(function(){var aa=function(){try{var O=c.getState(),da=A.current(O);y.current(F.current,da)||(x.current=O,F.current=da,k())}catch(ea){E.current=!0,k()}},Q=c.subscribe(aa);c.getState()!==
K.current&&aa();return Q},[]);var T=H?P:F.current;r.useDebugValue(T);return T};Object.assign(g,c);g[Symbol.iterator]=function(){console.warn("[useStore, api] \x3d create() is deprecated and will be removed in v4");var h=[g,c];return{next:function(){var l=0>=h.length;return{value:h.shift(),done:l}}}};return g}};
shadow$provide[607]=function(G,B,X,p){function w(){w=Object.assign||function(d){for(var c=1;c<arguments.length;c++){var g=arguments[c],h;for(h in g)Object.prototype.hasOwnProperty.call(g,h)&&(d[h]=g[h])}return d};return w.apply(this,arguments)}Object.defineProperty(p,"__esModule",{value:!0});var r=function(d,c){try{var g=JSON.parse(d)}catch(h){console.error("[zustand devtools middleware] Could not parse the received json",h)}void 0!==g&&c(g)},m=function g(c){return function(h){try{var l=c(h);return l instanceof
Promise?l:{then:function(k){return g(k)(l)},catch:function(k){return this}}}catch(k){return{then:function(t){return this},catch:function(t){return g(t)(k)}}}}};p.combine=function(c,g){return function(h,l,k){return Object.assign({},c,g(h,l,k))}};p.devtools=function(c,g){return function(h,l,k){var t;"string"===typeof g&&console.warn("[zustand devtools middleware]: passing `name` as directly will be not allowed in next majorpass the `name` in an object `{ name: ... }` instead");var x=void 0===g?{name:void 0,
anonymousActionType:void 0}:"string"===typeof g?{name:g}:g;"undefined"!==typeof(null==x?void 0:null==(t=x.serialize)?void 0:t.options)&&console.warn("[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`");try{var A=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(Q){}if(!A)return c(h,l,k);var y=Object.create(A.connect(x)),E=!1;Object.defineProperty(k,"devtools",{get:function(){E||(console.warn("[zustand devtools middleware] `devtools` property on the store is deprecated it will be removed in the next major.\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly"),
E=!0);return y},set:function(Q){E||(console.warn("[zustand devtools middleware] `api.devtools` is deprecated, it will be removed in the next major.\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly"),E=!0);y=Q}});var F=!1;Object.defineProperty(y,"prefix",{get:function(){F||(console.warn(", because the `name` option already creates a separate instance of devtools for each store."),F=!0);return""},set:function(){F||
(console.warn(", because the `name` option already creates a separate instance of devtools for each store."),F=!0)}});var H=!0;k.setState=function(Q,O,da){h(Q,O);H&&y.send(void 0===da?{type:x.anonymousActionType||"anonymous"}:"string"===typeof da?{type:da}:da,l())};var P=function(){var Q=H;H=!1;h.apply(void 0,arguments);H=Q},K=c(k.setState,l,k);y.init(K);if(k.dispatchFromDevtools&&"function"===typeof k.dispatch){var T=!1,aa=k.dispatch;k.dispatch=function(){for(var Q=arguments.length,O=Array(Q),da=
0;da<Q;da++)O[da]=arguments[da];"__setState"!==O[0].type||T||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),T=!0);aa.apply(void 0,O)}}y.subscribe(function(Q){switch(Q.type){case "ACTION":if("string"!==typeof Q.payload){console.error("[zustand devtools middleware] Unsupported action format");break}return r(Q.payload,function(ea){"__setState"===ea.type?P(ea.state):k.dispatchFromDevtools&&"function"===typeof k.dispatch&&
k.dispatch(ea)});case "DISPATCH":switch(Q.payload.type){case "RESET":return P(K),y.init(k.getState());case "COMMIT":return y.init(k.getState());case "ROLLBACK":return r(Q.state,function(ea){P(ea);y.init(k.getState())});case "JUMP_TO_STATE":case "JUMP_TO_ACTION":return r(Q.state,function(ea){P(ea)});case "IMPORT_STATE":var O;Q=Q.payload.nextLiftedState;var da=null==(O=Q.computedStates.slice(-1)[0])?void 0:O.state;if(!da)break;P(da);y.send(null,Q);break;case "PAUSE_RECORDING":return H=!H}}});return K}};
p.persist=function(c,g){return function(h,l,k){var t=w({getStorage:function(){return localStorage},serialize:JSON.stringify,deserialize:JSON.parse,partialize:function(Q){return Q},version:0,merge:function(Q,O){return w({},O,Q)}},g);(t.blacklist||t.whitelist)&&console.warn("The "+(t.blacklist?"blacklist":"whitelist")+" option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.");var x=!1,A=new Set,y=new Set;try{var E=t.getStorage()}catch(Q){}if(E)E.removeItem||
console.warn("[zustand persist middleware] The given storage for item '"+t.name+"' does not contain a 'removeItem' method, which will be required in v4.");else return c(function(){console.warn("[zustand persist middleware] Unable to update item '"+t.name+"', the given storage is currently unavailable.");h.apply(void 0,arguments)},l,k);var F=m(t.serialize),H=function(){var Q=t.partialize(w({},l()));t.whitelist&&Object.keys(Q).forEach(function(ea){var za;null!=(za=t.whitelist)&&za.includes(ea)||delete Q[ea]});
t.blacklist&&t.blacklist.forEach(function(ea){return delete Q[ea]});var O,da=F({state:Q,version:t.version}).then(function(ea){return E.setItem(t.name,ea)}).catch(function(ea){O=ea});if(O)throw O;return da},P=k.setState;k.setState=function(Q,O){P(Q,O);void H()};var K=c(function(){h.apply(void 0,arguments);void H()},l,k),T,aa=function(){if(E){x=!1;A.forEach(function(O){return O(l())});var Q=(null==t.onRehydrateStorage?void 0:t.onRehydrateStorage(l()))||void 0;return m(E.getItem.bind(E))(t.name).then(function(O){if(O)return t.deserialize(O)}).then(function(O){if(O)if("number"===
typeof O.version&&O.version!==t.version){if(t.migrate)return t.migrate(O.state,O.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return O.state}).then(function(O){var da;T=t.merge(O,null!=(da=l())?da:K);h(T,!0);return H()}).then(function(){null==Q?void 0:Q(T,void 0);x=!0;y.forEach(function(O){return O(T)})}).catch(function(O){null==Q?void 0:Q(void 0,O)})}};k.persist={setOptions:function(Q){t=w({},t,Q);Q.getStorage&&(E=Q.getStorage())},
clearStorage:function(){var Q;null==(Q=E)?void 0:null==Q.removeItem?void 0:Q.removeItem(t.name)},rehydrate:function(){return aa()},hasHydrated:function(){return x},onHydrate:function(Q){A.add(Q);return function(){A.delete(Q)}},onFinishHydration:function(Q){y.add(Q);return function(){y.delete(Q)}}};aa();return T||K}};p.redux=function(c,g){return function(h,l,k){k.dispatch=function(t){h(function(x){return c(x,t)},!1,t);return t};k.dispatchFromDevtools=!0;return w({dispatch:function(){return k.dispatch.apply(k,
arguments)}},g)}};p.subscribeWithSelector=function(c){return function(g,h,l){var k=l.subscribe;l.subscribe=function(t,x,A){var y=t;if(x){var E=(null==A?void 0:A.equalityFn)||Object.is,F=t(l.getState());y=function(H){H=t(H);if(!E(F,H)){var P=F;x(F=H,P)}};null!=A&&A.fireImmediately&&x(F,F)}return k(y)};return c(g,h,l)}}};
shadow$provide[608]=function(G,B,X,p){X.exports=function(w){return null!=w&&"object"===typeof w&&!1===Array.isArray(w)}};
shadow$provide[609]=function(G,B,X,p){function w(m){return!0===r(m)&&"[object Object]"===Object.prototype.toString.call(m)}var r=B(608);X.exports=function(m){if(!1===w(m))return!1;m=m.constructor;if("function"!==typeof m)return!1;m=m.prototype;return!1===w(m)||!1===m.hasOwnProperty("isPrototypeOf")?!1:!0}};
shadow$provide[610]=function(G,B,X,p){var w=B(609);X.exports=function(r){return w(r)||"function"===typeof r||Array.isArray(r)}};
shadow$provide[611]=function(G,B,X,p){X.exports=function(w,r,m){for(var d in w)if(!1===r.call(m,w[d],d,w))break}};
shadow$provide[612]=function(G,B,X,p){function w(g,h){for(var l=arguments.length,k=0;++k<l;){var t=arguments[k];m(t)&&c(t,r,g)}return g}function r(g,h){if("__proto__"!==h&&"constructor"!==h&&"prototype"!==h){var l=this[h];m(g)&&m(l)?w(l,g):this[h]=g}}function m(g){return d(g)&&!Array.isArray(g)}var d=B(610),c=B(611);X.exports=w};
shadow$provide[613]=function(G,B,X,p){function w(r){return r?Array.isArray(r)?r.join("."):r:""}X.exports=function(r,m,d,c,g){if(null===r||"object"!==typeof r&&"function"!==typeof r||!m)return r;m=w(m);d&&(m+="."+w(d));c&&(m+="."+w(c));g&&(m+="."+w(g));if(m in r)return r[m];m=m.split(".");d=m.length;for(c=-1;r&&++c<d;){for(g=m[c];"\\"===g[g.length-1];)g=g.slice(0,-1)+"."+m[++c];r=r[g]}return r}};
shadow$provide[614]=function(G,B,X,p){X.exports=function(w,r){if(null===w||"undefined"===typeof w)throw new TypeError("expected first argument to be an object.");if("undefined"===typeof r||"undefined"===typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return w;for(var m=Object.prototype.propertyIsEnumerable,d=Object(w),c=arguments.length,g=0;++g<c;)for(var h=Object(arguments[g]),l=Object.getOwnPropertySymbols(h),k=0;k<l.length;k++){var t=l[k];m.call(h,t)&&(d[t]=h[t])}return d}};
shadow$provide[615]=function(G,B,X,p){var w=B(610),r=B(614);X.exports=Object.assign||function(m){if(null===m||"undefined"===typeof m)throw new TypeError("Cannot convert undefined or null to object");m&&"object"===typeof m||w(m)||(m={});for(var d=1;d<arguments.length;d++){var c=arguments[d];if(c&&"string"===typeof c){var g=void 0,h={};for(g in c)h[g]=c[g];c=h}if(c&&"object"===typeof c||w(c)){g=void 0;h=m;var l=c;for(g in l)Object.prototype.hasOwnProperty.call(l,g)&&(h[g]=l[g]);r(m,c)}}return m}};
shadow$provide[616]=function(G,B,X,p){function w(d,c,g,h){g=d.indexOf(c,g);return"\\"===d.charAt(g-1)?w(d,c,g+1):g}function r(d,c,g){return"function"===typeof d.keepEscaping?d.keepEscaping(c,g):!0===d.keepEscaping||"\\"===c[g+1]}var m=B(615);X.exports=function(d,c,g){function h(){if(k&&x.length)return k[x[x.length-1]]}if("string"!==typeof d)throw new TypeError("expected a string");"function"===typeof c&&(g=c,c=null);"string"===typeof c&&(c={sep:c});c=m({sep:"."},c);var l=c.quotes||['"',"'","`"];if(!0===
c.brackets)var k={"\x3c":"\x3e","(":")","[":"]","{":"}"};else c.brackets&&(k=c.brackets);for(var t=[],x=[],A=[""],y=c.sep,E=d.length,F=-1,H;++F<E;){var P=d[F];H=d[F+1];var K={val:P,idx:F,arr:A,str:d};t.push(K);if("\\"===P)K.val=!0===r(c,d,F)?P+H:H,K.escaped=!0,"function"===typeof g&&g(K),A[A.length-1]+=K.val,F++;else{if(k&&k[P]){x.push(P);H=h();var T=F+1;if(-1!==d.indexOf(H,T+1))for(;x.length&&T<E;){var aa=d[++T];if("\\"===aa)aa++;else if(-1!==l.indexOf(aa))T=w(d,aa,T+1);else{H=h();if(x.length&&-1===
d.indexOf(H,T+1))break;k[aa]?x.push(aa):H===aa&&x.pop()}}H=T;if(-1===H){A[A.length-1]+=P;continue}P=d.slice(F,H+1);K.val=P;K.idx=F=H}if(-1!==l.indexOf(P)){H=w(d,P,F+1);if(-1===H){A[A.length-1]+=P;continue}P=!0===c.keepDoubleQuotes&&'"'===P?!0:!0===c.keepSingleQuotes&&"'"===P?!0:c.keepQuotes;P=!0===P?d.slice(F,H+1):d.slice(F+1,H);K.val=P;K.idx=F=H}"function"===typeof g&&(g(K,t),P=K.val,F=K.idx);K.val===y&&!1!==K.split?A.push(""):A[A.length-1]+=K.val}}return A}};
shadow$provide[617]=function(G,B,X,p){X.exports=function(w){return"undefined"!==typeof w&&null!==w&&("object"===typeof w||"function"===typeof w)}};
shadow$provide[618]=function(G,B,X,p){var w=B(617);X.exports=function(r){w(r)||(r={});for(var m=arguments.length,d=1;d<m;d++){var c=arguments[d];if(w(c)){var g=void 0,h=r;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(h[g]=c[g])}}return r}};
shadow$provide[619]=function(G,B,X,p){X.exports=function(w){return"undefined"!==typeof w&&null!==w&&("object"===typeof w||"function"===typeof w)}};
shadow$provide[620]=function(G,B,X,p){function w(g){return"__proto__"!==g&&"constructor"!==g&&"prototype"!==g}var r=B(616),m=B(618),d=B(609),c=B(619);X.exports=function(g,h,l){if(!c(g))return g;Array.isArray(h)&&(h=[].concat.apply([],h).join("."));if("string"!==typeof h)return g;h=r(h,{sep:".",brackets:!0}).filter(w);for(var k=h.length,t=-1,x=g;++t<k;){var A=h[t];t!==k-1?(c(x[A])||(x[A]={}),x=x[A]):d(x[A])&&d(l)?x[A]=m({},x[A],l):x[A]=l}return g}};
shadow$provide[621]=function(G,B,X,p){var w=B(610),r=B(612),m=B(613),d=B(620);X.exports=function(c,g,h){if(!w(c))throw new TypeError("expected an object");if("string"!==typeof g||null==h)return r.apply(null,arguments);if("string"===typeof h)return d(c,g,h),c;var l=m(c,g);w(h)&&w(l)&&(h=r({},l,h));d(c,g,h);return c}};
shadow$provide[622]=function(G,B,X,p){function w(ya){return ya&&ya.__esModule?ya:{"default":ya}}function r(ya,Ia){return Object.entries(O.pick(ya,Ia)).reduce((fb,[,{value:lb,disabled:yb,key:kb}])=>{fb[kb]=yb?void 0:lb;return fb},{})}function m(ya,Ia){var fb=sa,lb=fb.useMemo;const yb=sa.useRef();(0,Ea.dequal)(Ia,yb.current)||(yb.current=Ia);return lb.call(fb,ya,yb.current)}function d(ya){const Ia=sa.useRef(null),fb=sa.useRef(null),lb=sa.useRef(!0);sa.useLayoutEffect(()=>{ya||(Ia.current.style.height=
"0px",Ia.current.style.overflow="hidden")},[]);sa.useEffect(()=>{if(lb.current)lb.current=!1;else{var yb=Ia.current,kb=()=>{ya&&(yb.style.removeProperty("height"),yb.style.removeProperty("overflow"),fb.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};yb.addEventListener("transitionend",kb,{once:!0});var {height:tb}=fb.current.getBoundingClientRect();yb.style.height=tb+"px";if(!ya){yb.style.overflow="hidden";var Eb=window.setTimeout(()=>yb.style.height="0px",50)}return()=>{yb.removeEventListener("transitionend",
kb);clearTimeout(Eb)}}},[ya]);return{wrapperRef:Ia,contentRef:fb}}function c(ya,Ia,fb){return ya.useStore(lb=>{lb=O._objectSpread2(O._objectSpread2({},fb),lb.data);return r(lb,Ia)},Fb["default"])}function g(ya=3){const Ia=sa.useRef(null),fb=sa.useRef(null),[lb,yb]=sa.useState(!1),kb=sa.useCallback(()=>yb(!0),[]),tb=sa.useCallback(()=>yb(!1),[]);sa.useLayoutEffect(()=>{if(lb){const {bottom:Hb,top:Ub,left:Wb}=Ia.current.getBoundingClientRect();var {height:Eb}=fb.current.getBoundingClientRect();Eb=Hb+
Eb>window.innerHeight-40?"up":"down";fb.current.style.position="fixed";fb.current.style.zIndex="10000";fb.current.style.left=Wb+"px";"down"===Eb?fb.current.style.top=Hb+ya+"px":fb.current.style.bottom=window.innerHeight-Ub+ya+"px"}},[ya,lb]);return{popinRef:Ia,wrapperRef:fb,shown:lb,show:kb,hide:tb}}function h(ya,{format:Ia,hasAlpha:fb,isString:lb}){ya=ya[N[Ia]+(lb&&"hex"!==Ia?"String":"")]();return"object"!==typeof ya||fb?ya:O.omit(ya,["a"])}function l(ya,Ia){return"rgb"!==Ia?ea.colord(ya).toRgb():
ya}function k({value:ya,displayValue:Ia,settings:fb,onUpdate:lb}){const {emitOnEditStart:yb,emitOnEditEnd:kb}=O.useInputContext(),{format:tb,hasAlpha:Eb}=fb,{popinRef:Hb,wrapperRef:Ub,shown:Wb,show:mc,hide:Zc}=g(),Bc=sa.useRef(0),[yc,zc]=sa.useState(()=>l(ya,tb));fb=Eb?gb.RgbaColorPicker:gb.RgbColorPicker;const Oc=()=>{Zc();kb();window.clearTimeout(Bc.current)};sa.useEffect(()=>()=>window.clearTimeout(Bc.current),[]);return Ja["default"].createElement(Ja["default"].Fragment,null,Ja["default"].createElement(ab,
{ref:Hb,active:Wb,onClick:()=>{zc(l(ya,tb));mc();yb()},style:{color:Ia}}),Wb&&Ja["default"].createElement(O.Portal,null,Ja["default"].createElement(O.Overlay,{onPointerUp:Oc}),Ja["default"].createElement(Qa,{ref:Ub,onMouseEnter:()=>window.clearTimeout(Bc.current),onMouseLeave:Uc=>{if(Uc=0===Uc.buttons)Bc.current=window.setTimeout(Oc,500),Uc=void 0;return Uc}},Ja["default"].createElement(fb,{color:yc,onChange:lb}))))}function t({value:ya,settings:Ia,onUpdate:fb}){const lb=sa.useRef(),yb=sa.useRef(0),
kb=sa.useRef(0),tb=sa.useRef(1),[Eb,Hb]=sa.useState(!1),[Ub,Wb]=sa.useState(!1),[mc,Zc]=O.useTransform(),Bc=sa.useRef(null),yc=sa.useRef(null);sa.useLayoutEffect(()=>{if(Eb){const {top:md,left:Qd,width:Le,height:Ye}=Bc.current.getBoundingClientRect();yc.current.style.left=Qd+Le/2+"px";yc.current.style.top=md+Ye/2+"px"}},[Eb]);const {keys:[zc,Oc],joystick:Uc}=Ia,Ad="invertY"===Uc?1:-1,{[zc]:{step:Ld},[Oc]:{step:Xb}}=Ia;Ia=O.useTh("sizes","joystickWidth");const Xd=O.useTh("sizes","joystickHeight"),
id=.8*parseFloat(Ia)/2,$c=.8*parseFloat(Xd)/2,ad=sa.useCallback(()=>{lb.current||(Wb(!0),yb.current&&Zc({x:yb.current*id}),kb.current&&Zc({y:kb.current*-$c}),lb.current=window.setInterval(()=>{fb(md=>{const Qd=Ld*yb.current*tb.current,Le=Ad*Xb*kb.current*tb.current;return Array.isArray(md)?{[zc]:md[0]+Qd,[Oc]:md[1]+Le}:{[zc]:md[zc]+Qd,[Oc]:md[Oc]+Le}})},16))},[id,$c,fb,Zc,Ld,Xb,zc,Oc,Ad]),ud=sa.useCallback(()=>{window.clearTimeout(lb.current);lb.current=void 0;Wb(!1)},[]);sa.useEffect(()=>{function md(Qd){tb.current=
O.multiplyStep(Qd)}window.addEventListener("keydown",md);window.addEventListener("keyup",md);return()=>{window.clearTimeout(lb.current);window.removeEventListener("keydown",md);window.removeEventListener("keyup",md)}},[]);Ia=O.useDrag(({first:md,active:Qd,delta:[Le,Ye],movement:[he,Id]})=>{md&&Hb(!0);md=O.clamp(he,-id,id);const mb=O.clamp(Id,-$c,$c);yb.current=Math.abs(he)>Math.abs(md)?Math.sign(he-md):0;kb.current=Math.abs(Id)>Math.abs(mb)?Math.sign(mb-Id):0;he=ya[zc];Id=ya[Oc];Qd?(yb.current||(he+=
Le*Ld*tb.current,Zc({x:md})),kb.current||(Id-=Ad*Ye*Xb*tb.current,Zc({y:mb})),yb.current||kb.current?ad():ud(),fb({[zc]:he,[Oc]:Id})):(Hb(!1),yb.current=0,kb.current=0,Zc({x:0,y:0}),ud())});return Ja["default"].createElement(ma,O._extends({ref:Bc},Ia()),Eb&&Ja["default"].createElement(O.Portal,null,Ja["default"].createElement(la,{ref:yc,isOutOfBounds:Ub},Ja["default"].createElement("div",null),Ja["default"].createElement("span",{ref:mc}))))}function x(ya){let {value:Ia,bounds:[fb,lb],onDrag:yb}=ya,
kb=O._objectWithoutProperties(ya,bd);const tb=sa.useRef(null),Eb=sa.useRef(null),Hb=sa.useRef(null),Ub=sa.useRef(0),Wb=O.useTh("sizes","scrubberWidth");ya=O.useDrag(({event:Bc,first:yc,xy:[zc],movement:[Oc],memo:Uc={}})=>{if(yc){const {width:Ad,left:Ld}=tb.current.getBoundingClientRect();Ub.current=Ad-parseFloat(Wb);Bc=(null===Bc||void 0===Bc?void 0:Bc.target)===Eb.current||(null===Bc||void 0===Bc?void 0:Bc.target)===Hb.current;Uc.pos=O.invertedRange((zc-Ld)/Ad,fb,lb);zc=Math.abs(Uc.pos-Ia.min)-Math.abs(Uc.pos-
Ia.max);Uc.key=0>zc||0===zc&&Uc.pos<=Ia.min?"min":"max";Bc&&(Uc.pos=Ia[Uc.key])}Oc=Uc.pos+O.invertedRange(Oc/Ub.current,0,lb-fb);yb({[Uc.key]:O.sanitizeStep(Oc,kb[Uc.key])});return Uc});const mc=`calc(${O.range(Ia.min,fb,lb)} * (100% - ${Wb} - 8px) + 4px)`,Zc=`calc(${1-O.range(Ia.max,fb,lb)} * (100% - ${Wb} - 8px) + 4px)`;return Ja["default"].createElement(O.RangeWrapper,O._extends({ref:tb},ya()),Ja["default"].createElement(O.Range,null,Ja["default"].createElement(O.Indicator,{style:{left:mc,right:Zc}})),
Ja["default"].createElement(O.Scrubber,{position:"left",ref:Eb,style:{left:mc}}),Ja["default"].createElement(O.Scrubber,{position:"right",ref:Hb,style:{right:Zc}}))}function A(ya,Ia){return{type:O.SpecialInputs.FOLDER,schema:ya,settings:O._objectSpread2(O._objectSpread2({},Ce),Ia)}}function y(ya){let {type:Ia,label:fb,path:lb,valueKey:yb,value:kb,settings:tb,setValue:Eb,disabled:Hb}=ya;ya=O._objectWithoutProperties(ya,od);const {displayValue:Ub,onChange:Wb,onUpdate:mc}=O.useInputSetters({type:Ia,
value:kb,settings:tb,setValue:Eb}),Zc=O.Plugins[Ia].component;return Zc?Ja["default"].createElement(O.InputContext.Provider,{value:O._objectSpread2({key:yb,path:lb,id:""+lb,label:fb,displayValue:Ub,value:kb,onChange:Wb,onUpdate:mc,settings:tb,setValue:Eb,disabled:Hb},ya)},Ja["default"].createElement(O.StyledInputWrapper,{disabled:Hb},Ja["default"].createElement(Zc,null))):(O.warn(O.LevaErrors.NO_COMPONENT_FOR_TYPE,Ia,lb),null)}function E(ya,Ia){ya.push(Ia);100<ya.length&&ya.shift()}function F(ya){return"function"===
typeof ya?ya():ya.current}function H({toggle:ya,toggled:Ia,name:fb}){return Ja["default"].createElement(O.StyledTitle,{onClick:()=>ya()},Ja["default"].createElement(O.Chevron,{toggled:Ia}),Ja["default"].createElement("div",null,fb))}function P({setFilter:ya,onDrag:Ia,onDragStart:fb,onDragEnd:lb,toggle:yb,toggled:kb,title:tb,drag:Eb,filterEnabled:Hb,from:Ub}){const [Wb,mc]=sa.useState(!1),Zc=sa.useRef(null);sa.useEffect(()=>{var yc,zc;Wb?null===(yc=Zc.current)||void 0===yc?void 0:yc.focus():null===
(zc=Zc.current)||void 0===zc?void 0:zc.blur()},[Wb]);const Bc=O.useDrag(({offset:[yc,zc],first:Oc,last:Uc})=>{Ia({x:yc,y:zc});Oc&&fb({x:yc,y:zc});Uc&&lb({x:yc,y:zc})},{filterTaps:!0,from:({offset:[yc,zc]})=>[(null===Ub||void 0===Ub?void 0:Ub.x)||yc,(null===Ub||void 0===Ub?void 0:Ub.y)||zc]});sa.useEffect(()=>{const yc=zc=>{"L"===zc.key&&zc.shiftKey&&zc.metaKey&&mc(Oc=>!Oc)};window.addEventListener("keydown",yc);return()=>window.removeEventListener("keydown",yc)},[]);return Ja["default"].createElement(Ja["default"].Fragment,
null,Ja["default"].createElement(cf,{mode:Eb?"drag":void 0},Ja["default"].createElement(ie,{active:!kb,onClick:()=>yb()},Ja["default"].createElement(O.Chevron,{toggled:kb,width:12,height:8})),Ja["default"].createElement(gf,O._extends({},Eb?Bc():{},{drag:Eb,filterEnabled:Hb}),void 0===tb&&Eb?Ja["default"].createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},Ja["default"].createElement("circle",{cx:"2",cy:"2",r:"2"}),Ja["default"].createElement("circle",
{cx:"14",cy:"2",r:"2"}),Ja["default"].createElement("circle",{cx:"26",cy:"2",r:"2"}),Ja["default"].createElement("circle",{cx:"2",cy:"12",r:"2"}),Ja["default"].createElement("circle",{cx:"14",cy:"12",r:"2"}),Ja["default"].createElement("circle",{cx:"26",cy:"12",r:"2"})):tb),Hb&&Ja["default"].createElement(ie,{active:Wb,onClick:()=>mc(yc=>!yc)},Ja["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},Ja["default"].createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),
Ja["default"].createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),Ja["default"].createElement(rf,{toggled:Wb},Ja["default"].createElement(ee,{ref:Zc,setFilter:ya,toggle:yb})))}function K(ya){let {store:Ia,hidden:fb=!1,theme:lb,collapsed:yb=!1}=ya;ya=O._objectWithoutProperties(ya,Nb);const kb=m(()=>O.mergeTheme(lb),[lb]),[tb,Eb]=sa.useState(!yb),Hb="object"===typeof yb?
!yb.collapsed:tb,Ub=sa.useMemo(()=>"object"===typeof yb?Wb=>{if("function"===typeof Wb)yb.onChange(!Wb(!yb.collapsed));else yb.onChange(!Wb)}:Eb,[yb]);return!Ia||fb?null:Ja["default"].createElement(O.ThemeContext.Provider,{value:kb},Ja["default"].createElement(Yd,O._extends({store:Ia},ya,{toggled:Hb,setToggle:Ub,rootClass:kb.className})))}function T(ya){let {isRoot:Ia=!1}=ya;ya=O._objectWithoutProperties(ya,De);sa.useEffect(()=>{me=!0;!Ia&&Lc&&(Lc.remove(),Lc=null);return()=>{Ia||(me=!1)}},[Ia]);
return Ja["default"].createElement(K,O._extends({store:ge},ya))}function aa(ya){sa.useEffect(()=>{ya&&!me&&(Lc||(Lc=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Lc),O.render(Ja["default"].createElement(T,{isRoot:!0}),Lc))),me=!0)},[ya])}function Q(ya,Ia,fb,lb,yb){let kb=void 0,tb,Eb,Hb;"string"===typeof ya?(kb=ya,ya=Ia,Array.isArray(fb)?Hb=fb:fb&&("store"in fb?(Eb=fb,Hb=lb):(tb=fb,Array.isArray(lb)?
Hb=lb:(Eb=lb,Hb=yb)))):Array.isArray(Ia)?Hb=Ia:(Eb=Ia,Hb=fb);return{schema:ya,folderName:kb,folderSettings:tb,hookSettings:Eb,deps:Hb||[]}}Object.defineProperty(p,"__esModule",{value:!0});var O=B(591),da=B(553),ea=B(592),za=B(593),Ea=B(551);B(1);var sa=B(0),gb=B(594),wa=B(552);B(573);B(550);B(590);var Ba=B(605),Da=B(606),pa=B(607),ib=B(621);B(554);var $a=w(da),eb=w(za),Ja=w(sa),Fb=w(wa),Kb=w(Da),rb=w(ib);const Pb=ya=>{const [Ia,fb]=sa.useState(ya.getVisiblePaths());sa.useEffect(()=>{fb(ya.getVisiblePaths());
const lb=ya.useStore.subscribe(ya.getVisiblePaths,fb,{equalityFn:Fb["default"]});return()=>lb()},[ya]);return Ia};ea.extend([eb["default"]]);const N={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};$a["default"].extend({color:()=>ya=>ea.colord(ya).isValid()});const Z=(ya,Ia)=>{ya=ea.colord(ya);if(!ya.isValid())throw Error("Invalid color");return h(ya,Ia)};var va=Object.freeze({__proto__:null,schema:ya=>$a["default"]().color().test(ya),sanitize:Z,format:(ya,Ia)=>h(ea.colord(ya),O._objectSpread2(O._objectSpread2({},
Ia),{},{isString:!0,format:"hex"})),normalize:({value:ya})=>{var Ia=ea.getFormat(ya),fb="name"===Ia?"hex":Ia;Ia="object"===typeof ya?"a"in ya:"hex"===Ia&&8===ya.length||/^(rgba)|(hsla)|(hsva)/.test(ya);fb={format:fb,hasAlpha:Ia,isString:"string"===typeof ya};return{value:Z(ya,fb),settings:fb}}});const ab=O.styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset\x3dutf-8,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" fill-opacity\x3d".05"\x3e\x3cpath d\x3d"M8 0h8v8H8zM0 8h8v8H0z"/\x3e\x3c/svg\x3e\')',
$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"\x26::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Ha=O.styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Qa=O.styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},
".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});var cb=O.createInternalPlugin(O._objectSpread2({component:function(){const {value:ya,displayValue:Ia,label:fb,onChange:lb,onUpdate:yb,settings:kb}=O.useInputContext();return Ja["default"].createElement(O.Row,{input:!0},Ja["default"].createElement(O.Label,null,fb),Ja["default"].createElement(Ha,
null,Ja["default"].createElement(k,{value:ya,displayValue:Ia,onChange:lb,onUpdate:yb,settings:kb}),Ja["default"].createElement(O.ValueInput,{value:Ia,onChange:lb,onUpdate:yb})))}},va)),Ab=O.createInternalPlugin(O._objectSpread2({component:function(){const {label:ya,displayValue:Ia,onUpdate:fb,settings:lb}=O.useInputContext();return Ja["default"].createElement(O.Row,{input:!0},Ja["default"].createElement(O.Label,null,ya),Ja["default"].createElement(O.Vector,{value:Ia,settings:lb,onUpdate:fb}))}},O.getVectorPlugin(["x",
"y","z"])));const ma=O.styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","\x26:active":{cursor:"none"},"\x26::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),la=O.styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1E4,overflow:"hidden",
$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"\x3e div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","\x26::after,\x26::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"\x26::before":{width:"100%",height:1},"\x26::after":{height:"100%",width:1}},"\x3e span":{position:"relative",
zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}}),Ra=O.styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),Sa=["joystick"],ob=O.getVectorPlugin(["x","y"]);var oa=O.createInternalPlugin(O._objectSpread2(O._objectSpread2({component:function(){const {label:ya,displayValue:Ia,onUpdate:fb,settings:lb}=O.useInputContext();return Ja["default"].createElement(O.Row,{input:!0},
Ja["default"].createElement(O.Label,null,ya),Ja["default"].createElement(Ra,{withJoystick:!!lb.joystick},lb.joystick&&Ja["default"].createElement(t,{value:Ia,settings:lb,onUpdate:fb}),Ja["default"].createElement(O.Vector,{value:Ia,settings:lb,onUpdate:fb})))}},ob),{},{normalize:ya=>{let {joystick:Ia=!0}=ya;ya=O._objectWithoutProperties(ya,Sa);const {value:fb,settings:lb}=ob.normalize(ya);return{value:fb,settings:O._objectSpread2(O._objectSpread2({},lb),{},{joystick:Ia})}}})),Va=Object.freeze({__proto__:null,
sanitize:ya=>{if(void 0!==ya){if(ya instanceof File)try{return URL.createObjectURL(ya)}catch(Ia){return}if("string"===typeof ya&&0===ya.indexOf("blob:"))return ya;throw Error("Invalid image format [undefined | blob | File].");}},schema:(ya,Ia)=>"object"===typeof Ia&&"image"in Ia,normalize:({image:ya})=>({value:ya})});const Ua=O.styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),ua=O.styled("div",{$flexCenter:"",
overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Ta=O.styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",
$hover:"",$active:""}}}}),hb=O.styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Bb=O.styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Db=O.styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"\x26::after,\x26::before":{content:'""',
position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"\x26::after":{transform:"rotate(45deg)"},"\x26::before":{transform:"rotate(-45deg)"}});var Sb=O.createInternalPlugin(O._objectSpread2({component:function(){const {label:ya,value:Ia,onUpdate:fb,disabled:lb}=O.useInputContext(),{popinRef:yb,wrapperRef:kb,shown:tb,show:Eb,hide:Hb}=g(),Ub=sa.useCallback(yc=>{yc.length&&fb(yc[0])},[fb]),Wb=sa.useCallback(yc=>{yc.stopPropagation();fb(void 0)},[fb]),{getRootProps:mc,getInputProps:Zc,
isDragAccept:Bc}=Ba.useDropzone({maxFiles:1,accept:"image/*",onDrop:Ub,disabled:lb});return Ja["default"].createElement(O.Row,{input:!0},Ja["default"].createElement(O.Label,null,ya),Ja["default"].createElement(Ua,null,Ja["default"].createElement(Ta,{ref:yb,hasImage:!!Ia,onPointerDown:()=>!!Ia&&Eb(),onPointerUp:Hb,style:{backgroundImage:Ia?`url(${Ia})`:"none"}}),tb&&!!Ia&&Ja["default"].createElement(O.Portal,null,Ja["default"].createElement(O.Overlay,{onPointerUp:Hb,style:{cursor:"pointer"}}),Ja["default"].createElement(hb,
{ref:kb,style:{backgroundImage:`url(${Ia})`}})),Ja["default"].createElement(ua,mc({isDragAccept:Bc}),Ja["default"].createElement("input",Zc()),Ja["default"].createElement(Bb,null,Bc?"drop image":"click or drop")),Ja["default"].createElement(Db,{onClick:Wb,disabled:!Ia})))}},Va));const tc=$a["default"]().number(),dc=ya=>({min:ya[0],max:ya[1]}),Yc=(ya,{bounds:[Ia,fb]},lb)=>{ya=Array.isArray(ya)?dc(ya):ya;const {min:yb,max:kb}=O._objectSpread2(O._objectSpread2({},{min:lb[0],max:lb[1]}),ya);return[O.clamp(Number(yb),
Ia,Math.max(Ia,kb)),O.clamp(Number(kb),Math.min(fb,yb),fb)]};var ed=Object.freeze({__proto__:null,schema:(ya,Ia)=>$a["default"]().array().length(2).every.number().test(ya)&&$a["default"]().schema({min:tc,max:tc}).test(Ia),format:dc,sanitize:Yc,normalize:({value:ya,min:Ia,max:fb})=>{var lb={min:Ia,max:fb};lb=O.normalizeKeyedNumberSettings(dc(ya),{min:lb,max:lb});Ia=[Ia,fb];Ia=O._objectSpread2(O._objectSpread2({},lb),{},{bounds:Ia});return{value:Yc(dc(ya),Ia,ya),settings:Ia}}});const bd=["value","bounds",
"onDrag"],hd=["bounds"],fc=O.styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});var cd=O.createInternalPlugin(O._objectSpread2({component:function(){const {label:ya,displayValue:Ia,onUpdate:fb,settings:lb}=O.useInputContext(),yb=O._objectWithoutProperties(lb,hd);return Ja["default"].createElement(Ja["default"].Fragment,null,Ja["default"].createElement(O.Row,{input:!0},Ja["default"].createElement(O.Label,null,ya),Ja["default"].createElement(fc,
null,Ja["default"].createElement(x,O._extends({value:Ia},lb,{onDrag:fb})),Ja["default"].createElement(O.Vector,{value:Ia,settings:yb,onUpdate:fb,innerLabelTrim:0}))))}},ed));const zd=()=>{const ya=new Map;return{on:(Ia,fb)=>{let lb=ya.get(Ia);void 0===lb&&(lb=new Set,ya.set(Ia,lb));lb.add(fb)},off:(Ia,fb)=>{const lb=ya.get(Ia);void 0!==lb&&(lb.delete(fb),0===lb.size&&ya.delete(Ia))},emit:(Ia,...fb)=>{Ia=ya.get(Ia);if(void 0!==Ia)for(const lb of Ia)lb(...fb)}}},Gd=["type","value"],sc=["onChange","transient",
"onEditStart","onEditEnd"],de=function(){const ya=Kb["default"](pa.subscribeWithSelector(()=>({data:{}}))),Ia=zd();this.storeId=O.getUid();this.useStore=ya;const fb={},lb=new Set;this.getVisiblePaths=()=>{const kb=this.getData(),tb=Object.keys(kb),Eb=[];Object.entries(fb).forEach(([Ub,Wb])=>{Wb.render&&tb.some(mc=>0===mc.indexOf(Ub))&&!Wb.render(this.get)&&Eb.push(Ub+".")});const Hb=[];lb.forEach(Ub=>{Ub in kb&&0<kb[Ub].__refCount&&Eb.every(Wb=>-1===Ub.indexOf(Wb))&&(!kb[Ub].render||kb[Ub].render(this.get))&&
Hb.push(Ub)});return Hb};this.setOrderedPaths=kb=>{kb.forEach(tb=>lb.add(tb))};this.orderPaths=kb=>{this.setOrderedPaths(kb);return kb};this.disposePaths=kb=>{ya.setState(tb=>{const Eb=tb.data;kb.forEach(Hb=>{if(Hb in Eb){const Ub=Eb[Hb];Ub.__refCount--;0===Ub.__refCount&&Ub.type in O.SpecialInputs&&delete Eb[Hb]}});return{data:Eb}})};this.dispose=()=>{ya.setState(()=>({data:{}}))};this.getFolderSettings=kb=>fb[kb]||{};this.getData=()=>ya.getState().data;this.addData=(kb,tb)=>{ya.setState(Eb=>{const Hb=
Eb.data;Object.entries(kb).forEach(([Ub,Wb])=>{let mc=Hb[Ub];mc?({type:Ub}=Wb,Wb=O._objectWithoutProperties(Wb,Gd),Ub!==mc.type?O.warn(O.LevaErrors.INPUT_TYPE_OVERRIDE,Ub):((0===mc.__refCount||tb)&&Object.assign(mc,Wb),mc.__refCount++)):Hb[Ub]=O._objectSpread2(O._objectSpread2({},Wb),{},{__refCount:1})});return{data:Hb}})};this.setValueAtPath=(kb,tb,Eb)=>{ya.setState(Hb=>{Hb=Hb.data;O.updateInput(Hb[kb],tb,kb,this,Eb);return{data:Hb}})};this.setSettingsAtPath=(kb,tb)=>{ya.setState(Eb=>{Eb=Eb.data;
Eb[kb].settings=O._objectSpread2(O._objectSpread2({},Eb[kb].settings),tb);return{data:Eb}})};this.disableInputAtPath=(kb,tb)=>{ya.setState(Eb=>{Eb=Eb.data;Eb[kb].disabled=tb;return{data:Eb}})};this.set=(kb,tb)=>{ya.setState(Eb=>{const Hb=Eb.data;Object.entries(kb).forEach(([Ub,Wb])=>{try{O.updateInput(Hb[Ub],Wb,void 0,void 0,tb)}catch(mc){}});return{data:Hb}})};this.getInput=kb=>{try{return this.getData()[kb]}catch(tb){O.warn(O.LevaErrors.PATH_DOESNT_EXIST,kb)}};this.get=kb=>{var tb;return null===
(tb=this.getInput(kb))||void 0===tb?void 0:tb.value};this.emitOnEditStart=kb=>{Ia.emit(`onEditStart:${kb}`,this.get(kb),kb,O._objectSpread2(O._objectSpread2({},this.getInput(kb)),{},{get:this.get}))};this.emitOnEditEnd=kb=>{Ia.emit(`onEditEnd:${kb}`,this.get(kb),kb,O._objectSpread2(O._objectSpread2({},this.getInput(kb)),{},{get:this.get}))};this.subscribeToEditStart=(kb,tb)=>{const Eb=`onEditStart:${kb}`;Ia.on(Eb,tb);return()=>Ia.off(Eb,tb)};this.subscribeToEditEnd=(kb,tb)=>{const Eb=`onEditEnd:${kb}`;
Ia.on(Eb,tb);return()=>Ia.off(Eb,tb)};const yb=(kb,tb,Eb)=>{const Hb={};Object.entries(kb).forEach(([Ub,Wb])=>{if(""===Ub)return O.warn(O.LevaErrors.EMPTY_KEY);let mc=[tb,Ub].filter(Boolean).join(".");if(Wb.type===O.SpecialInputs.FOLDER)Ub=yb(Wb.schema,mc,Eb),Object.assign(Hb,Ub),mc in fb||(fb[mc]=Wb.settings);else if(Ub in Eb)O.warn(O.LevaErrors.DUPLICATE_KEYS,Ub,mc,Eb[Ub].path);else{const Zc=O.normalizeInput(Wb,Ub,mc,Hb);if(Zc){const {type:Bc,options:yc,input:zc}=Zc,{onChange:Oc,transient:Uc,onEditStart:Ad,
onEditEnd:Ld}=yc;Wb=O._objectWithoutProperties(yc,sc);Hb[mc]=O._objectSpread2(O._objectSpread2(O._objectSpread2({type:Bc},Wb),zc),{},{fromPanel:!0});Eb[Ub]={path:mc,onChange:Oc,transient:Uc,onEditStart:Ad,onEditEnd:Ld}}else O.warn(O.LevaErrors.UNKNOWN_INPUT,mc,Wb)}});return Hb};this.getDataFromSchema=kb=>{const tb={};return[yb(kb,"",tb),tb]}},ge=new de,Ce={collapsed:!1},Jb={disabled:!1},ke={graph:!1,interval:100},nd=(ya,Ia)=>{const fb={},lb=Ia?Ia.toLowerCase():null;ya.forEach(yb=>{var kb=yb.split(".");
kb=[kb.pop(),kb.join(".")||void 0];const [tb,Eb]=kb;if(!lb||-1<tb.toLowerCase().indexOf(lb))rb["default"](fb,Eb,{[tb]:{__levaInput:!0,path:yb}})});return fb},od="type label path valueKey value settings setValue disabled".split(" "),te=O.styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","\x26:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",
$active:"$accent3 $accent1",$focus:""}}),pe=O.styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),vc=O.styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","\x26:hover":{backgroundColor:"$elevation3"}}),Od=({label:ya,opts:Ia})=>{ya="string"===typeof ya?""===ya.trim()?null:ya:ya;let fb=Ia;"object"===typeof Ia.opts&&(void 0!==fb.label&&(ya=Ia.label),fb=Ia.opts);return{label:ya,opts:fb}},gc=O.styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),
Rc=sa.forwardRef(function({initialValue:ya},Ia){const fb=O.useTh("colors","highlight3"),lb=O.useTh("colors","elevation2"),yb=O.useTh("colors","highlight1"),[kb,tb]=sa.useMemo(()=>[ea.colord(yb).alpha(.4).toRgbString(),ea.colord(yb).alpha(.1).toRgbString()],[yb]),Eb=sa.useRef([ya]),Hb=sa.useRef(ya),Ub=sa.useRef(ya),Wb=sa.useRef(),mc=sa.useCallback((yc,zc)=>{if(yc){var {width:Oc,height:Uc}=yc;yc=new Path2D;var Ad=Oc/100,Ld=.05*Uc;for(let Xb=0;Xb<Eb.current.length;Xb++){const Xd=O.range(Eb.current[Xb],
Hb.current,Ub.current);yc.lineTo(Ad*Xb,Uc-Xd*(Uc-2*Ld)-Ld)}zc.clearRect(0,0,Oc,Uc);Ld=new Path2D(yc);Ld.lineTo(Ad*(Eb.current.length+1),Uc);Ld.lineTo(0,Uc);Ld.lineTo(0,0);Ad=zc.createLinearGradient(0,0,0,Uc);Ad.addColorStop(0,kb);Ad.addColorStop(1,tb);zc.fillStyle=Ad;zc.fill(Ld);zc.strokeStyle=lb;zc.lineJoin="round";zc.lineWidth=14;zc.stroke(yc);zc.strokeStyle=fb;zc.lineWidth=2;zc.stroke(yc)}},[fb,lb,kb,tb]),[Zc,Bc]=O.useCanvas2d(mc);sa.useImperativeHandle(Ia,()=>({frame:yc=>{if(void 0===Hb.current||
yc<Hb.current)Hb.current=yc;if(void 0===Ub.current||yc>Ub.current)Ub.current=yc;E(Eb.current,yc);Wb.current=requestAnimationFrame(()=>mc(Zc.current,Bc.current))}}),[Zc,Bc,mc]);sa.useEffect(()=>()=>cancelAnimationFrame(Wb.current),[]);return Ja["default"].createElement(gc,{ref:Zc})}),Tc=ya=>Number.isFinite(ya)?ya.toPrecision(2):ya.toString(),xd=sa.forwardRef(function({initialValue:ya},Ia){const [fb,lb]=sa.useState(Tc(ya));sa.useImperativeHandle(Ia,()=>({frame:yb=>lb(Tc(yb))}),[]);return Ja["default"].createElement("div",
null,fb)}),Dc=["type","label","key"],yf={[O.SpecialInputs.BUTTON]:function({onClick:ya,settings:Ia,label:fb}){const lb=O.useStoreContext();return Ja["default"].createElement(O.Row,null,Ja["default"].createElement(te,{disabled:Ia.disabled,onClick:()=>ya(lb.get)},fb))},[O.SpecialInputs.BUTTON_GROUP]:function(ya){const {label:Ia,opts:fb}=Od(ya),lb=O.useStoreContext();return Ja["default"].createElement(O.Row,{input:!!Ia},Ia&&Ja["default"].createElement(O.Label,null,Ia),Ja["default"].createElement(pe,
null,Object.entries(fb).map(([yb,kb])=>Ja["default"].createElement(vc,{key:yb,onClick:()=>kb(lb.get)},yb))))},[O.SpecialInputs.MONITOR]:function({label:ya,objectOrFn:Ia,settings:fb}){const lb=sa.useRef(),yb=sa.useRef(F(Ia));sa.useEffect(()=>{const kb=window.setInterval(()=>{var tb;document.hidden||(null===(tb=lb.current)||void 0===tb?void 0:tb.frame(F(Ia)))},fb.interval);return()=>window.clearInterval(kb)},[Ia,fb.interval]);return Ja["default"].createElement(O.Row,{input:!0},Ja["default"].createElement(O.Label,
{align:"top"},ya),fb.graph?Ja["default"].createElement(Rc,{ref:lb,initialValue:yb.current}):Ja["default"].createElement(xd,{ref:lb,initialValue:yb.current}))}},He=Ja["default"].memo(({path:ya})=>{const [Ia,{set:fb,setSettings:lb,disable:yb,storeId:kb,emitOnEditStart:tb,emitOnEditEnd:Eb}]=O.useInput(ya);if(!Ia)return null;const {type:Hb,label:Ub,key:Wb}=Ia,mc=O._objectWithoutProperties(Ia,Dc);return Hb in O.SpecialInputs?Ja["default"].createElement(yf[Hb],O._extends({label:Ub,path:ya},mc)):Hb in O.Plugins?
Ja["default"].createElement(y,O._extends({key:kb+ya,type:Hb,label:Ub,storeId:kb,path:ya,valueKey:Wb,setValue:fb,setSettings:lb,disable:yb,emitOnEditStart:tb,emitOnEditEnd:Eb},mc)):(O.log(O.LevaErrors.UNSUPPORTED_INPUT,Hb,ya),null)}),we=({name:ya,path:Ia,tree:fb})=>{const lb=O.useStoreContext();Ia=[Ia,ya].filter(Boolean).join(".");const {collapsed:yb,color:kb}=lb.getFolderSettings(Ia),[tb,Eb]=sa.useState(!yb),Hb=sa.useRef(null),Ub=O.useTh("colors","folderWidgetColor"),Wb=O.useTh("colors","folderTextColor");
sa.useLayoutEffect(()=>{Hb.current.style.setProperty("--leva-colors-folderWidgetColor",kb||Ub);Hb.current.style.setProperty("--leva-colors-folderTextColor",kb||Wb)},[kb,Ub,Wb]);return Ja["default"].createElement(O.StyledFolder,{ref:Hb},Ja["default"].createElement(H,{name:ya,toggled:tb,toggle:()=>Eb(mc=>!mc)}),Ja["default"].createElement(Ne,{parent:Ia,tree:fb,toggled:tb}))},Ne=Ja["default"].memo(({isRoot:ya=!1,fill:Ia=!1,flat:fb=!1,parent:lb,tree:yb,toggled:kb})=>{const {wrapperRef:tb,contentRef:Eb}=
d(kb),Hb=O.useStoreContext(),Ub=([Wb,mc])=>{var Zc;return("__levaInput"in mc?null===(Zc=Hb.getInput(mc.path))||void 0===Zc?void 0:Zc.order:Hb.getFolderSettings([lb,Wb].filter(Boolean).join(".")).order)||0};yb=Object.entries(yb).sort((Wb,mc)=>Ub(Wb)-Ub(mc));return Ja["default"].createElement(O.StyledWrapper,{ref:tb,isRoot:ya,fill:Ia,flat:fb},Ja["default"].createElement(O.StyledContent,{ref:Eb,isRoot:ya,toggled:kb},yb.map(([Wb,mc])=>"__levaInput"in mc?Ja["default"].createElement(He,{key:mc.path,valueKey:mc.valueKey,
path:mc.path}):Ja["default"].createElement(we,{key:Wb,name:Wb,path:lb,tree:mc}))))}),Pe=O.styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1E3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${O.StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",
gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"\x26,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),ie=O.styled("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","\x3e svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"\x26:hover \x3e svg":{fill:"$highlight3"},variants:{active:{true:{"\x3e svg":{fill:"$highlight2"}}}}}),
cf=O.styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),rf=O.styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${ie}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),ff=O.styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",
borderRadius:"$root","\x26:focus":{},"\x26::placeholder":{color:"$highlight2"}}),gf=O.styled("div",{touchAction:"none",$flexCenter:"",flex:1,"\x3e svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","\x3e svg":{transition:"fill 250ms ease"},"\x26:hover":{color:"$highlight3"},"\x26:hover \x3e svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),ee=Ja["default"].forwardRef(({setFilter:ya,toggle:Ia},fb)=>{const [lb,yb]=sa.useState(""),kb=sa.useMemo(()=>
O.debounce(ya,250),[ya]);sa.useEffect(()=>{kb(lb)},[lb,kb]);return Ja["default"].createElement(Ja["default"].Fragment,null,Ja["default"].createElement(ff,{ref:fb,value:lb,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:tb=>tb.stopPropagation(),onChange:tb=>{tb=tb.currentTarget.value;Ia(!0);yb(tb)}}),Ja["default"].createElement(ie,{onClick:()=>{ya("");yb("")},style:{visibility:lb?"visible":"hidden"}},Ja["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",
viewBox:"0 0 20 20",fill:"currentColor"},Ja["default"].createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}),Nb=["store","hidden","theme","collapsed"],Yd=Ja["default"].memo(({store:ya,rootClass:Ia,fill:fb=!1,flat:lb=!1,neverHide:yb=!1,oneLineLabels:kb=!1,titleBar:tb={title:void 0,
drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:Eb=!1,toggled:Hb,setToggle:Ub})=>{var Wb,mc;const Zc=Pb(ya),[Bc,yc]=sa.useState(""),zc=sa.useMemo(()=>nd(Zc,Bc),[Zc,Bc]),[Oc,Uc]=O.useTransform();yb=yb||0<Zc.length;const Ad="object"===typeof tb?tb.title||void 0:void 0,Ld="object"===typeof tb?null!==(Wb=tb.drag)&&void 0!==Wb?Wb:!0:!0;Wb="object"===typeof tb?null!==(mc=tb.filter)&&void 0!==mc?mc:!0:!0;const Xb="object"===typeof tb?tb.position||void 0:
void 0,Xd="object"===typeof tb?tb.onDrag||void 0:void 0,id="object"===typeof tb?tb.onDragStart||void 0:void 0,$c="object"===typeof tb?tb.onDragEnd||void 0:void 0;Ja["default"].useEffect(()=>{Uc({x:null===Xb||void 0===Xb?void 0:Xb.x,y:null===Xb||void 0===Xb?void 0:Xb.y})},[Xb,Uc]);O.globalStyles();return Ja["default"].createElement(O.PanelSettingsContext.Provider,{value:{hideCopyButton:Eb}},Ja["default"].createElement(Pe,{ref:Oc,className:Ia,fill:fb,flat:lb,oneLineLabels:kb,hideTitleBar:!tb,style:{display:yb?
"block":"none"}},tb&&Ja["default"].createElement(P,{onDrag:ad=>{Uc(ad);null===Xd||void 0===Xd?void 0:Xd(ad)},onDragStart:ad=>null===id||void 0===id?void 0:id(ad),onDragEnd:ad=>null===$c||void 0===$c?void 0:$c(ad),setFilter:yc,toggle:ad=>Ub(ud=>null!==ad&&void 0!==ad?ad:!ud),toggled:Hb,title:Ad,drag:Ld,filterEnabled:Wb,from:Xb}),yb&&Ja["default"].createElement(O.StoreContext.Provider,{value:ya},Ja["default"].createElement(Ne,{isRoot:!0,fill:fb,flat:lb,tree:zc,toggled:Hb}))))}),De=["isRoot"];let me=
!1,Lc=null;const Hd=["store"];O.register(O.LevaInputs.SELECT,O.select);O.register(O.LevaInputs.IMAGE,Sb);O.register(O.LevaInputs.NUMBER,O.number);O.register(O.LevaInputs.COLOR,cb);O.register(O.LevaInputs.STRING,O.string);O.register(O.LevaInputs.BOOLEAN,O.boolean);O.register(O.LevaInputs.INTERVAL,cd);O.register(O.LevaInputs.VECTOR3D,Ab);O.register(O.LevaInputs.VECTOR2D,oa);Object.defineProperty(p,"LevaInputs",{enumerable:!0,get:function(){return O.LevaInputs}});p.LevaStoreProvider=O.LevaStoreProvider;
p.useStoreContext=O.useStoreContext;p.Leva=T;p.LevaPanel=function(ya){let {store:Ia}=ya;ya=O._objectWithoutProperties(ya,Hd);const fb=O.useStoreContext();return Ja["default"].createElement(K,O._extends({store:void 0===Ia?fb:Ia},ya))};p.button=function(ya,Ia){return{type:O.SpecialInputs.BUTTON,onClick:ya,settings:O._objectSpread2(O._objectSpread2({},Jb),Ia)}};p.buttonGroup=function(ya){return{type:O.SpecialInputs.BUTTON_GROUP,opts:ya}};p.folder=A;p.levaStore=ge;p.monitor=function(ya,Ia){return{type:O.SpecialInputs.MONITOR,
objectOrFn:ya,settings:O._objectSpread2(O._objectSpread2({},ke),Ia)}};p.useControls=function(ya,Ia,fb,lb,yb){const {folderName:kb,schema:tb,folderSettings:Eb,hookSettings:Hb,deps:Ub}=Q(ya,Ia,fb,lb,yb);ya="function"===typeof tb;const Wb=sa.useRef(!1),mc=sa.useRef(!0),Zc=m(()=>{Wb.current=!0;const id="function"===typeof tb?tb():tb;return kb?{[kb]:A(id,Eb)}:id},Ub);aa(!(null!==Hb&&void 0!==Hb&&Hb.store));const [Bc]=sa.useState(()=>(null===Hb||void 0===Hb?void 0:Hb.store)||ge),[yc,zc]=sa.useMemo(()=>
Bc.getDataFromSchema(Zc),[Bc,Zc]),[Oc,Uc,Ad,Ld,Xb]=sa.useMemo(()=>{const id=[],$c=[],ad={},ud={},md={};Object.values(zc).forEach(({path:Qd,onChange:Le,onEditStart:Ye,onEditEnd:he,transient:Id})=>{id.push(Qd);Le?(ad[Qd]=Le,Id||$c.push(Qd)):$c.push(Qd);Ye&&(ud[Qd]=Ye);he&&(md[Qd]=he)});return[id,$c,ad,ud,md]},[zc]),Xd=sa.useMemo(()=>Bc.orderPaths(Oc),[Oc,Bc]);Ia=c(Bc,Uc,yc);fb=sa.useCallback(id=>{id=Object.entries(id).reduce(($c,[ad,ud])=>Object.assign($c,{[zc[ad].path]:ud}),{});Bc.set(id,!1)},[Bc,
zc]);lb=sa.useCallback(id=>Bc.get(zc[id].path),[Bc,zc]);sa.useEffect(()=>{Bc.addData(yc,!mc.current&&Wb.current);mc.current=!1;Wb.current=!1;return()=>Bc.disposePaths(Xd)},[Bc,Xd,yc]);sa.useEffect(()=>{const id=[];Object.entries(Ad).forEach(([$c,ad])=>{ad(Bc.get($c),$c,O._objectSpread2({initial:!0,get:Bc.get},Bc.getInput($c)));const ud=Bc.useStore.subscribe(md=>{md=md.data[$c];return[md.disabled?void 0:md.value,md]},([md,Qd])=>ad(md,$c,O._objectSpread2({initial:!1,get:Bc.get},Qd)),{equalityFn:Fb["default"]});
id.push(ud)});return()=>id.forEach($c=>$c())},[Bc,Ad]);sa.useEffect(()=>{const id=[];Object.entries(Ld).forEach(([$c,ad])=>id.push(Bc.subscribeToEditStart($c,ad)));Object.entries(Xb).forEach(([$c,ad])=>id.push(Bc.subscribeToEditEnd($c,ad)));return()=>id.forEach($c=>$c())},[Ld,Xb,Bc]);return ya?[Ia,fb,lb]:Ia};p.useCreateStore=function(){return sa.useMemo(()=>new de,[])}};
shadow$provide[625]=function(G,B,X,p){X.exports=B(622)};
shadow$provide[626]=function(G,B,X,p){X.exports=function(w,r){if(!w)throw Error("Invariant failed");}};
shadow$provide[627]=function(G,B,X,p){function w(d,c){var g=m.useRef(null),h=m.useRef(null);h.current=c;var l=m.useRef(null);m.useEffect(function(){k()});var k=m.useCallback(function(){var t=l.current,x=h.current;t=t?t:x?x instanceof Element?x:x.current:null;g.current&&g.current.element===t&&g.current.subscriber===d||(g.current&&g.current.cleanup&&g.current.cleanup(),g.current={element:t,subscriber:d,cleanup:t?d(t):void 0})},[d]);m.useEffect(function(){return function(){g.current&&g.current.cleanup&&
(g.current.cleanup(),g.current=null)}},[]);return m.useCallback(function(t){l.current=t;k()},[k])}function r(d,c,g){if(d[c])return d[c][0]?d[c][0][g]:d[c][g];if("contentBoxSize"===c)return d.contentRect["inlineSize"===g?"width":"height"]}var m=B(0);X.exports=function(d){void 0===d&&(d={});var c=d.onResize,g=m.useRef(void 0);g.current=c;var h=d.round||Math.round,l=m.useRef();c=m.useState({width:void 0,height:void 0});var k=c[0],t=c[1],x=m.useRef(!1);m.useEffect(function(){x.current=!1;return function(){x.current=
!0}},[]);var A=m.useRef({width:void 0,height:void 0}),y=w(m.useCallback(function(E){l.current&&l.current.box===d.box&&l.current.round===h||(l.current={box:d.box,round:h,instance:new ResizeObserver(function(F){var H=F[0],P="border-box"===d.box?"borderBoxSize":"device-pixel-content-box"===d.box?"devicePixelContentBoxSize":"contentBoxSize";F=r(H,P,"inlineSize");H=r(H,P,"blockSize");F=F?h(F):void 0;H=H?h(H):void 0;if(A.current.width!==F||A.current.height!==H)P={width:F,height:H},A.current.width=F,A.current.height=
H,g.current?g.current(P):x.current||t(P)})});l.current.instance.observe(E,{box:d.box});return function(){l.current&&l.current.instance.unobserve(E)}},[d.box,h]),d.ref);return m.useMemo(function(){return{ref:y,width:k.width,height:k.height}},[y,k.width,k.height])}};
shadow$provide[628]=function(G,B,X,p){function w(){const mb=hb.useContext(Db);(0,Bb.default)(mb,"CoordinateContext is not loaded. Are you rendering a Mafs component outside of Mafs?");return mb}function r(mb,Lb=0){Lb=Math.pow(10,Lb||0);return Math.round(mb*Lb)/Lb}function m(mb,Lb,cc=1){const kc=[];for(;mb<Lb-cc/2;mb+=cc)kc.push(mb);mb=kc[kc.length-1]+cc;Math.abs(Lb-mb)<cc/1E-6?kc.push(Lb):kc.push(mb);return kc}function d(){return tc.useContext(fc)}function c({children:mb}){const {xMin:Lb,xMax:cc,
yMin:kc,yMax:ic}=w(),Ac=2**Yc(hd(cc-Lb)-1),qc=2**Yc(hd(ic-kc)-1),xc=Ac*bd(Lb/Ac-.125),U=Ac*ed(cc/Ac+.125),ha=qc*bd(kc/qc-.125),na=qc*ed(ic/qc+.125),Aa=tc.useMemo(()=>m(xc,U-Ac,Ac).map(sb=>[sb,sb+Ac]),[xc,U,Ac]),Ca=tc.useMemo(()=>m(ha,na-qc,qc).map(sb=>[sb,sb+qc]),[ha,na,qc]),Ya=tc.useMemo(()=>({xPanes:Aa,yPanes:Ca,xPaneRange:[xc,U],yPaneRange:[ha,na]}),[Aa,Ca,xc,U,ha,na]);return(0,dc.jsx)(fc.Provider,{value:Ya,children:mb})}function g(mb=1,Lb=0,cc=0,kc=1,ic=0,Ac=0){return[mb,cc,ic,Lb,kc,Ac]}function h(){const mb=
de.useContext(Ce);(0,ge.default)(mb,"TransformContext is not loaded. Are you rendering a Mafs component outside of a MafsView?");return mb}function l(){const mb=Jb.useContext(nd);(0,ke.default)(mb,"SpanContext is not defined");return mb}function k({minZoom:mb,maxZoom:Lb}){const [cc,kc]=te.useState(sc.identity),ic=te.useRef(sc.identity);return{matrix:cc,setBase(){ic.current=cc},move({zoom:Ac,pan:qc}){const xc=Ac?.at??[0,0],U=ic.current[0];Ac=Math.min(Math.max(1/(Ac?.scale??1),1/Lb/U),1/mb/U);qc=sc.matrixBuilder(ic.current).translate(...sc.scale(xc,
-1)).scale(Ac,Ac).translate(...sc.scale(xc,1)).translate(...(qc??[0,0])).get();kc(qc)}}}function t(mb){const [Lb,cc]=pe.useState(!1),kc=pe.useRef(0);pe.useEffect(()=>{function ic(){cc(!1);clearTimeout(kc.current);kc.current=setTimeout(()=>{cc(!0)},500)}if(mb)return window.addEventListener("scroll",ic),()=>window.removeEventListener("scroll",ic)},[mb]);return{wheelEnabled:mb?Lb:!1,handleMouseMove(){cc(!0)}}}function x({width:mb="auto",height:Lb=500,pan:cc=!0,zoom:kc=!1,viewBox:ic={x:[-3,3],y:[-3,3]},
preserveAspectRatio:Ac="contain",children:qc,ssr:xc=!1,onClick:U}){Lb=Ta.useContext(vc).overrideHeight??Lb;const ha="auto"===mb?"100%":`${mb}px`,na=Ta.useRef(null);({width:mb="auto"===mb?xc?500:0:mb}=(0,zd.default)({ref:"auto"===mb?na:null}));return(0,Od.jsx)("div",{className:"MafsView",style:{width:ha,height:Lb},tabIndex:cc||kc?0:-1,ref:na,children:0<mb&&(0,Od.jsx)(A,{width:mb,height:Lb,desiredCssWidth:ha,rootRef:na,pan:cc,zoom:kc,viewBox:ic,preserveAspectRatio:Ac,ssr:xc,onClick:U,children:qc})})}
function A({width:mb,height:Lb,desiredCssWidth:cc,rootRef:kc,pan:ic,zoom:Ac,viewBox:qc,preserveAspectRatio:xc,children:U,onClick:ha}){function na(Zd){var Jd=kc.current;(0,od.default)(Jd,"SVG is not mounted");(0,od.default)(re,"View transform is not invertible");Jd=Jd.getBoundingClientRect();return sc.transform([Zd[0]-Jd.left+Rd,Zd[1]-Jd.top+ye],re)}var Aa=1;let Ca=1;"object"===typeof Ac?((0,od.default)(0<Ac.min&&1>=Ac.min,"zoom.min must be in the range (0, 1]"),(0,od.default)(1<=Ac.max,"zoom.max must be in the range [1, ∞)"),
Aa=Ac.min,Ca=Ac.max):Ac&&(Aa=.5,Ca=5);const Ya=k({minZoom:Aa,maxZoom:Ca});Aa=qc?.padding??.5;let sb=(qc?.x?.[0]??0)-Aa,Qb=(qc?.x?.[1]??0)+Aa,Vb=(qc?.y?.[0]??0)-Aa,nc=(qc?.y?.[1]??0)+Aa;"contain"===xc&&(qc=mb/Lb,(Qb-sb)/(nc-Vb)>qc?(xc=(nc+Vb)/2,qc=(Qb-sb)/qc/2,Vb=xc-qc,nc=xc+qc):(xc=(Qb+sb)/2,qc=(nc-Vb)*qc/2,sb=xc-qc,Qb=xc+qc));[sb,Vb]=sc.transform([sb,Vb],Ya.matrix);[Qb,nc]=sc.transform([Qb,nc],Ya.matrix);const Wc=Qb-sb,sd=nc-Vb;qc=Ta.useMemo(()=>{const Zd=r(1/Wc*mb,5),Jd=r(-1/sd*Lb,5);return sc.matrixBuilder().scale(Zd,
Jd).get()},[Lb,mb,Wc,sd]);const Rd=r(sb/(Qb-sb)*mb,10),ye=r(nc/(Vb-nc)*Lb,10),re=sc.matrixInvert(qc),Cd=Ta.useRef([0,0]),Md=Ta.useRef([0,0]),ve=t(!!Ac),Ze=Ta.useRef(!1);(0,Gd.useGesture)({onDrag:({movement:Zd,first:Jd,event:$e,type:Cc,pinching:ef,memo:pg=[0,0],last:sf})=>{if(ef)return Zd;Jd&&Ya.setBase();const [pf,jb]=sc.sub(Zd,pg);Ya.move({pan:[-pf/mb*Wc,jb/Lb*sd]});(Cc=Cc.includes("key"))&&$e?.preventDefault();sf&&(Ze.current=!0,setTimeout(()=>Ze.current=!1,10));return!Cc&&Jd?Zd:pg},onPinch:({first:Zd,
movement:[Jd],origin:$e,event:Cc,last:ef})=>{Cc.currentTarget&&re&&(Zd&&(Ya.setBase(),Cd.current=$e,Md.current=ic?na($e):[(sb+Qb)/2,(Vb+nc)/2]),Zd=[0,0],ic&&(Zd=sc.transform(sc.sub($e,Cd.current),re)),Ya.move({zoom:{at:Md.current,scale:Jd},pan:sc.scale(Zd,-1)}),ef&&Ya.setBase())},onWheel:({pinching:Zd,event:Jd,delta:[,$e]})=>{Zd||(Zd=2/(1+Math.exp(-$e/300)),Jd=na([Jd.clientX,Jd.clientY]),Ya.setBase(),Ya.move({zoom:{at:Jd,scale:1/Zd}}))},onKeyDown:({event:Zd})=>{if(!Zd.metaKey){var Jd={Equal:1,Minus:-1}[Zd.code]??
0;if(Jd){var $e=.1;if(Zd.altKey||Zd.metaKey)$e=.01;Zd.shiftKey&&($e=.3);Zd=1+Jd*$e;Jd=[(Qb+sb)/2,(nc+Vb)/2];Ya.setBase();Ya.move({zoom:{at:Jd,scale:Zd}})}}},onMouseMove:()=>{ve.handleMouseMove()},onClick:({event:Zd})=>{if(ha&&kc.current&&!Ze.current){var Jd=kc.current.getBoundingClientRect();ha([(Zd.clientX-Jd.left)/mb*Wc+sb,(Jd.bottom-Zd.clientY)/Lb*sd+Vb],Zd)}}},{drag:{enabled:ic,eventOptions:{passive:!1},threshold:1},pinch:{enabled:!!Ac,eventOptions:{passive:!1}},wheel:{enabled:ve.wheelEnabled,
preventDefault:!0,eventOptions:{passive:!1}},target:kc});Ac=sc.toCSS(qc);xc=Ta.useMemo(()=>({xMin:sb,xMax:Qb,yMin:Vb,yMax:nc,height:Lb,width:mb}),[sb,Qb,Vb,nc,Lb,mb]);return(0,Od.jsx)(Sb.Provider,{value:xc,children:(0,Od.jsx)(nd.Provider,{value:{xSpan:Wc,ySpan:sd},children:(0,Od.jsx)(Ce.Provider,{value:{userTransform:sc.identity,viewTransform:qc},children:(0,Od.jsx)(cd,{children:(0,Od.jsx)("svg",{width:mb,height:Lb,viewBox:`${Rd} ${ye} ${mb} ${Lb}`,preserveAspectRatio:"xMidYMin",style:{width:cc,touchAction:ic?
"none":"auto","--mafs-view-transform":Ac,"--mafs-user-transform":"translate(0, 0)"},children:U})})})})})}function y({separation:mb,labelMaker:Lb}){const {viewTransform:cc}=h(),{xPanes:kc}=d();return(0,Rc.jsx)("g",{className:"mafs-axis",children:kc.map(([ic,Ac])=>(0,Rc.jsx)("g",{children:H(ic,Ac,mb).filter(qc=>Math.abs(qc)>mb/1E6).map(qc=>(0,Rc.jsx)("text",{x:sc.transform([qc,0],cc)[0],y:5,dominantBaseline:"hanging",textAnchor:"middle",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:Lb(qc)},
qc))},`${ic},${Ac}`))})}function E({separation:mb,labelMaker:Lb}){const {viewTransform:cc}=h(),{yPanes:kc}=d();return(0,Rc.jsx)("g",{className:"mafs-axis",children:kc.map(([ic,Ac])=>(0,Rc.jsx)("g",{children:H(ic,Ac,mb).filter(qc=>Math.abs(qc)>mb/1E6).map(qc=>(0,Rc.jsx)("text",{x:5,y:sc.transform([0,qc],cc)[1],dominantBaseline:"central",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:Lb(qc)},qc))},`${ic},${Ac}`))})}function F({xAxis:mb,yAxis:Lb,subdivisions:cc=!1}){const kc=!1!==
mb,ic=!1!==Lb;mb={subdivisions:cc,...xd,...mb};Lb={subdivisions:cc,...xd,...Lb};cc=gc.useMemo(()=>`cartesian-${yf++}`,[]);var {viewTransform:Ac}=h();const {xPaneRange:qc,yPaneRange:xc}=d(),[U,ha]=qc,[na,Aa]=xc,[Ca,Ya]=sc.transform([U,na],Ac),[sb,Qb]=sc.transform([ha,Aa],Ac),[Vb,nc]=sc.transform([mb.lines||1,-(Lb.lines||1)],Ac);Ac=mb.subdivisions||1;const Wc=Lb.subdivisions||1,sd=Vb/Ac,Rd=nc/Wc;return(0,Dc.jsxs)("g",{fill:"none",children:[(0,Dc.jsxs)("pattern",{x:0,y:0,width:Vb,height:nc,id:cc,patternUnits:"userSpaceOnUse",
children:[(0,Dc.jsx)("pattern",{width:sd,height:Rd,id:`${cc}-subdivision`,patternUnits:"userSpaceOnUse",children:(0,Dc.jsxs)("g",{stroke:"var(--grid-line-subdivision-color)",children:[!1!==kc&&1<Ac&&(0,Dc.jsxs)(Dc.Fragment,{children:[(0,Dc.jsx)("line",{x1:0,y1:0,x2:0,y2:Rd}),(0,Dc.jsx)("line",{x1:sd,y1:0,x2:sd,y2:Rd})]}),!1!==ic&&1<Wc&&(0,Dc.jsxs)(Dc.Fragment,{children:[(0,Dc.jsx)("line",{x1:0,y1:0,x2:sd,y2:0}),(0,Dc.jsx)("line",{x1:0,y1:Rd,x2:sd,y2:Rd})]})]})}),(0,Dc.jsx)("rect",{width:Vb,height:nc,
fill:`url(#${cc}-subdivision)`}),(0,Dc.jsxs)("g",{stroke:"var(--mafs-line-color)",children:[ic&&mb.lines&&(0,Dc.jsxs)(Dc.Fragment,{children:[(0,Dc.jsx)("line",{x1:0,y1:0,x2:Vb,y2:0}),(0,Dc.jsx)("line",{x1:0,y1:nc,x2:Vb,y2:nc})]}),kc&&Lb.lines&&(0,Dc.jsxs)(Dc.Fragment,{children:[(0,Dc.jsx)("line",{x1:0,y1:0,x2:0,y2:nc}),(0,Dc.jsx)("line",{x1:Vb,y1:0,x2:Vb,y2:nc})]})]})]}),(0,Dc.jsx)("rect",{x:Ca,y:Qb,width:sb-Ca,height:Ya-Qb,fill:`url(#${cc})`}),(0,Dc.jsxs)("g",{stroke:"var(--mafs-origin-color)",strokeWidth:"var(--mafs-axis-stroke-width)",
children:[kc&&mb.axis&&(0,Dc.jsx)("line",{x1:Ca,y1:0,x2:sb,y2:0}),ic&&Lb.axis&&(0,Dc.jsx)("line",{x1:0,y1:Ya,x2:0,y2:Qb})]}),(0,Dc.jsxs)("g",{className:"mafs-shadow",children:[kc&&mb.labels&&(0,Dc.jsx)(y,{separation:mb.lines||1,labelMaker:mb.labels}),ic&&Lb.labels&&(0,Dc.jsx)(E,{separation:Lb.lines||1,labelMaker:Lb.labels})]})]})}function H(mb,Lb,cc){mb=Math.floor(mb/cc)*cc;Lb=Math.ceil(Lb/cc)*cc;return mb===Lb-cc?[mb]:m(mb,Lb-cc,cc)}function P(mb){return 0===mb?"0":.001>Math.abs(Math.PI-mb)?"π":
.001>Math.abs(-Math.PI-mb)?"-π":`${r(mb/Math.PI,5)}\u03C0`}function K({xAxis:mb,yAxis:Lb,lines:cc=1,subdivisions:kc}){const ic=!1!==mb,Ac=!1!==Lb,qc={...xd,...mb},xc={...xd,...Lb};var {viewTransform:U}=h();const {xPaneRange:ha,yPaneRange:na}=d(),[Aa,Ca]=ha,[Ya,sb]=na;var Qb=[sc.mag([Aa,Ya]),sc.mag([Aa,sb]),sc.mag([Ca,Ya]),sc.mag([Ca,sb]),sc.mag([(Aa+Ca)/2,(Ya+sb)/2])],Vb=Math.min(...Qb)<Math.max(Ca-Aa,sb-Ya)?0:Math.min(...Qb);Qb=Math.max(...Qb);Vb=Math.floor(Vb/cc)*cc;const nc=Math.ceil(Qb/cc)*cc,
[Wc,sd]=sc.transform([Aa,Ya],U),[Rd,ye]=sc.transform([Ca,sb],U),[re,Cd]=sc.transform([1,-1],U);U=m(Vb,nc,cc);kc=void 0!=kc?m(Vb,nc,cc/kc):[];return(0,He.jsxs)("g",{fill:"none",children:[(0,He.jsx)("g",{stroke:"var(--grid-line-subdivision-color)",children:we.map(Md=>(0,He.jsx)("line",{x1:0,y1:0,x2:Math.cos(Md)*nc*re,y2:-Math.sin(Md)*nc*Cd},Md))}),kc.map(Md=>(0,He.jsx)("ellipse",{"data-r":Md,cx:0,cy:0,rx:Md*re,ry:Md*Cd,stroke:"var(--grid-line-subdivision-color)"},Md)),U.map(Md=>(0,He.jsx)("ellipse",
{"data-r":Md,cx:0,cy:0,rx:Md*re,ry:Md*Cd,stroke:"var(--mafs-line-color)"},Md)),(0,He.jsxs)("g",{stroke:"var(--mafs-origin-color)",strokeWidth:"var(--mafs-axis-stroke-width)",children:[ic&&qc.axis&&(0,He.jsx)("line",{x1:Wc,y1:0,x2:Rd,y2:0}),Ac&&xc.axis&&(0,He.jsx)("line",{x1:0,y1:sd,x2:0,y2:ye})]}),(0,He.jsxs)("g",{className:"mafs-shadow",children:[ic&&qc.labels&&(0,He.jsx)(y,{separation:mb?.lines||cc||1,labelMaker:qc.labels||Tc}),Ac&&xc.labels&&(0,He.jsx)(E,{separation:Lb?.lines||cc||1,labelMaker:xc.labels||
Tc})]})]})}function T(mb,Lb){mb=43758.5453*Math.sin(12.9898*mb+78.233*Lb);return.4+.2*(mb-Math.floor(mb))}function aa({domain:mb,minDepth:Lb,maxDepth:cc,threshold:kc,fn:ic,error:Ac,onPoint:qc,lerp:xc}){function U(Aa,Ca,Ya,sb,Qb){function Vb(){U(Aa,Wc,Ya+1,sb,sd);qc(Wc,sd);U(Wc,Ca,Ya+1,sd,Qb)}var nc=T(Aa,Ca);const Wc=Aa+(Ca-Aa)*nc,sd=ic(Wc);Ya<Lb?Vb():Ya<cc&&(nc=xc(sb,Qb,nc),Ac(sd,nc)>kc&&Vb())}const [ha,na]=mb;qc(ha,ic(ha));U(ha,na,0,ic(ha),ic(na));qc(na,ic(na))}function Q(mb,Lb,cc,kc,ic){let Ac=
"M ";aa({fn:mb,error:(qc,xc)=>sc.squareDist(qc,xc),onPoint:(qc,[xc,U])=>{Number.isFinite(xc)&&Number.isFinite(U)&&(Ac+=`${xc} ${U} L `)},lerp:(qc,xc,U)=>sc.lerp(qc,xc,U),domain:Lb,minDepth:cc,maxDepth:kc,threshold:ic});return Ac.substring(0,Ac.length-2)}function O(mb,Lb,cc,kc,ic,Ac,qc){function xc(Qb,Vb){return"x"===mb?`${Qb} ${Vb}`:`${Vb} ${Qb}`}const U={fill:"",upper:"",lower:""};let ha="",na="",Aa=!1,Ca=0,Ya=0,sb=0;aa({domain:kc,minDepth:ic,maxDepth:Ac,threshold:qc,fn:Qb=>[[Qb,cc(Qb)],[Qb,Lb(Qb)]],
error:([Qb,Vb],[nc,Wc])=>Math.max(sc.squareDist(Qb,nc),sc.squareDist(Vb,Wc)),lerp:([Qb,Vb],[nc,Wc],sd)=>[sc.lerp(Qb,nc,sd),sc.lerp(Vb,Wc,sd)],onPoint:(Qb,[[,Vb],[,nc]])=>{var Wc=nc>Vb&&Aa;if(nc<Vb&&!Aa){if(Aa=!0,ha&&na){Wc=(Ca+Qb)/2;var sd=((Ya+nc)/2+(sb+Vb)/2)/2;ha+=` ${xc(Wc,sd)} L `;na=` ${xc(Wc,sd)} L `+na;U.fill+=` M ${ha} ${na.substring(0,na.length-2)} z `;U.upper+=` M ${ha.substring(0,ha.length-2)} `;U.lower+=` M ${na.substring(0,na.length-2)} `;na=ha=""}}else Wc&&(Aa=!1,Wc=(Ca+Qb)/2,sd=((Ya+
nc)/2+(sb+Vb)/2)/2,ha+=` ${xc(Wc,sd)} L `,na=` ${xc(Wc,sd)} L `+na);Aa||(Number.isFinite(nc)&&(ha+=` ${xc(Qb,nc)} L `),Number.isFinite(Vb)&&(na=` ${xc(Qb,Vb)} L `+na));Ca=Qb;Ya=nc;sb=Vb}});ha&&na&&(U.fill+=` M ${ha} ${na.substring(0,na.length-2)} z `,U.lower+=` M ${na.substring(0,na.length-2)} `,U.upper+=` M ${ha.substring(0,ha.length-2)} `);return U}function da({xy:mb,t:Lb,color:cc,style:kc="solid",weight:ic=2,opacity:Ac=1,maxSamplingDepth:qc=14,minSamplingDepth:xc=8,svgPathProps:U={}}){var {viewTransform:ha}=
h();ha=-sc.det(ha);const [na,Aa]=Lb,Ca=.1/ha;Lb=ie.useMemo(()=>Q(mb,[na,Aa],xc,qc,Ca),[mb,xc,qc,Ca,na,Aa]);return(0,cf.jsx)("path",{d:Lb,strokeWidth:ic,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...U,style:{stroke:cc||"var(--mafs-fg)",strokeOpacity:Ac,strokeDasharray:"dashed"===kc?"var(--mafs-line-stroke-dash-style)":void 0,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...(U.style||{})}})}function ea({y:mb,...Lb}){const {xPaneRange:[cc,kc]}=d(),ic=Pe.useCallback(qc=>
[qc,mb(qc)],[mb]),Ac=Pe.useMemo(()=>[cc,kc],[cc,kc]);return(0,rf.jsx)(da,{xy:ic,t:Ac,...Lb})}function za({x:mb,...Lb}){const {yPaneRange:[cc,kc]}=d(),ic=ff.useCallback(qc=>[mb(qc),qc],[mb]),Ac=ff.useMemo(()=>[cc,kc],[cc,kc]);return(0,gf.jsx)(da,{xy:ic,t:Ac,...Lb})}function Ea({xy:mb,step:Lb=1,xyOpacity:cc=Yd,opacityStep:kc=cc===Yd?1:.2,color:ic=ee.foreground}){function Ac(na,Aa,Ca,Ya){for(na=Math.floor(na);na<=Math.ceil(Aa);na+=Lb)for(let Rd=Math.floor(Ca);Rd<=Math.ceil(Ya);Rd+=Lb){var sb=[na,Rd],
Qb=mb([na,Rd]),Vb=sc.mag(Qb);if(0!==Vb){Vb=sc.scale(sc.normalize(Qb),Math.min(Vb,.75*Lb));Qb=sc.add(sb,Vb);sb=sc.transform(sb,qc);Vb=sc.transform(Vb,qc);var nc=sc.mag(Vb);Qb=sc.transform(Qb,qc);nc=sc.scale(sc.normalize(Vb),Math.min(nc,5));Vb=sc.add(Qb,sc.rotate(nc,5/6*Math.PI));nc=sc.add(Qb,sc.rotate(nc,-(5/6)*Math.PI));var Wc=cc([na,Rd]);var sd=ha;Wc=Math.min(Math.max(Wc,0),1);sd=sd[sd.length-1-Math.round(Wc*(sd.length-1))];sd.d+=` M ${sb[0]} ${sb[1]} L ${Qb[0]} ${Qb[1]}  L ${Vb[0]} ${Vb[1]}  L ${nc[0]} ${nc[1]}  L ${Qb[0]} ${Qb[1]} `}}}
const {viewTransform:qc}=h(),{xPanes:xc,yPanes:U}=d();kc=Math.min(1,Math.max(.01,kc));const ha=sa(Math.ceil(1/kc));for(const [na,Aa]of xc)for(const [Ca,Ya]of U)Ac(na,Aa,Ca,Ya);return(0,Nb.jsx)(Nb.Fragment,{children:ha.map((na,Aa)=>(0,Nb.jsx)("path",{d:na.d,style:{stroke:ic,fill:ic,opacity:na.opacity,fillOpacity:na.opacity,strokeOpacity:na.opacity},strokeLinecap:"round",strokeLinejoin:"round"},Aa))})}function sa(mb){const Lb=[];mb=1/mb;for(let cc=1;0<cc;cc-=mb)Lb.push({d:"",opacity:cc});return Lb}
function gb({x:mb,y:Lb,color:cc=ee.foreground,weight:kc=2,strokeColor:ic=cc,strokeOpacity:Ac=1,fillColor:qc=cc,fillOpacity:xc=.15,minSamplingDepth:U=10,maxSamplingDepth:ha=14,upperColor:na=ic,upperOpacity:Aa=Ac,upperWeight:Ca=kc,lowerColor:Ya=ic,lowerOpacity:sb=Ac,lowerWeight:Qb=kc,svgUpperPathProps:Vb={},svgLowerPathProps:nc={},svgFillPathProps:Wc={}}){const {xPaneRange:[sd,Rd],yPaneRange:[ye,re]}=d();cc=Lb?[sd,Rd]:[ye,re];const Cd=Lb?[ye,re]:[sd,Rd];ic=Lb?Lb:mb;(0,De.default)(ic&&void 0===mb!==
(void 0===Lb),"You must pass either an x or y set of functions to Inequality (but not both)");(0,De.default)((void 0===ic["\x3c"]||void 0===ic["\x3c\x3d"])&&(void 0===ic["\x3e"]||void 0===ic["\x3e\x3d"]),"You cannot pass both an inequality and an equality operator to Inequality");mb=0;"\x3c\x3d"in ic&&(mb=1);"\x3c"in ic&&(mb=2);kc=0;"\x3e\x3d"in ic&&(kc=1);"\x3e"in ic&&(kc=2);Ac=ic["\x3c"]??ic["\x3c\x3d"]??(()=>Cd[1]);ic=ic["\x3e"]??ic["\x3e\x3d"]??(()=>Cd[0]);if("number"===typeof Ac){const Md=Ac;
Ac=()=>Md}if("number"===typeof ic){const Md=ic;ic=()=>Md}Lb=O(Lb?"x":"y",Ac,ic,cc,U,ha,.1);return(0,me.jsxs)("g",{children:[(0,me.jsx)("path",{d:Lb.fill,style:{fill:qc||"var(--mafs-fg)",fillOpacity:xc,stroke:"none",transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...Wc?.style},...Wc}),0!=mb&&(0,me.jsx)("path",{d:Lb.upper,strokeWidth:Ca,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===mb?"4,8":"",style:{fill:"none",stroke:na,strokeOpacity:Aa,transform:"var(--mafs-view-transform)",
vectorEffect:"non-scaling-stroke",...Vb?.style},...Vb}),0!=kc&&(0,me.jsx)("path",{d:Lb.lower,strokeWidth:Qb,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===kc?"4,8":"",style:{fill:"none",stroke:Ya,strokeOpacity:sb,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...nc?.style},...nc})]})}function wa({point1:mb,point2:Lb,color:cc=ee.foreground,style:kc="solid",weight:ic=2,opacity:Ac=1}){const {xPaneRange:qc,yPaneRange:xc}=d(),[U,ha]=qc,[na,Aa]=xc;var {userTransform:Ca}=
h();mb=sc.transform(mb,Ca);Lb=sc.transform(Lb,Ca);Ca=(Lb[1]-mb[1])/(Lb[0]-mb[0]);Math.abs(Math.atan(Ca))>Math.PI/4?(Lb=[(na-mb[1])/Ca+mb[0],na],mb=[(Aa-mb[1])/Ca+mb[0],Aa]):(Lb=[U,Ca*(U-mb[0])+mb[1]],mb=[ha,Ca*(ha-mb[0])+mb[1]]);return(0,Hd.jsx)("line",{x1:r(Lb[0],2),y1:r(Lb[1],2),x2:r(mb[0],2),y2:r(mb[1],2),style:{stroke:cc,strokeDasharray:"dashed"===kc?"var(--mafs-line-stroke-dash-style)":void 0,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke"},strokeWidth:ic,opacity:Ac})}
function Ba({point:mb,angle:Lb,...cc}){Lb=sc.add(mb,sc.rotate([1,0],Lb));return(0,ya.jsx)(wa,{point1:mb,point2:Lb,...cc})}function Da({point:mb,slope:Lb,...cc}){return(0,Ia.jsx)(Ba,{point:mb,angle:Math.atan(Lb),...cc})}function pa({point1:mb,point2:Lb,color:cc=ee.foreground,style:kc="solid",weight:ic=2,opacity:Ac=1}){const {viewTransform:qc,userTransform:xc}=h(),U=sc.matrixMult(qc,xc);mb=sc.transform(mb,U);Lb=sc.transform(Lb,U);return(0,fb.jsx)("line",{x1:r(mb[0],2),y1:r(mb[1],2),x2:r(Lb[0],2),y2:r(Lb[1],
2),style:{stroke:cc,strokeDasharray:"dashed"===kc?"var(--mafs-line-stroke-dash-style)":void 0},strokeWidth:ic,opacity:Ac})}function ib({center:mb,radius:Lb,angle:cc=0,strokeStyle:kc="solid",strokeOpacity:ic=1,weight:Ac=2,color:qc=ee.foreground,fillOpacity:xc=.15,svgEllipseProps:U={}}){const {viewTransform:ha,userTransform:na}=h();mb=sc.matrixBuilder().translate(...mb).mult(na).scale(1,-1).mult(ha).scale(1,-1).get();cc=`
    ${sc.toCSS(mb)}
    rotate(${180/Math.PI*cc})
  `;return(0,yb.jsx)("ellipse",{cx:0,cy:0,rx:Lb[0],ry:Lb[1],strokeWidth:Ac,transform:cc,...U,style:{stroke:qc,strokeDasharray:"dashed"===kc?"var(--mafs-line-stroke-dash-style)":void 0,fill:qc,fillOpacity:xc,strokeOpacity:ic,vectorEffect:"non-scaling-stroke",...(U.style||{})}})}function $a({radius:mb,...Lb}){return(0,kb.jsx)(ib,{radius:[mb,mb],...Lb})}function eb({element:mb,points:Lb,color:cc=ee.foreground,weight:kc=2,fillOpacity:ic=.15,strokeOpacity:Ac=1,strokeStyle:qc="solid",svgPolyProps:xc={}}){const {userTransform:U}=
h();Lb=Lb.map(ha=>sc.transform(ha,U).join(" ")).join(" ");return(0,tb.jsx)(mb,{points:Lb,strokeWidth:kc,fillOpacity:ic,strokeLinejoin:"round",...xc,style:{fill:cc,fillOpacity:ic,stroke:cc,strokeDasharray:"dashed"===qc?"var(--mafs-line-stroke-dash-style)":void 0,strokeOpacity:Ac,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...(xc.style||{})}})}function Ja({svgPolygonProps:mb,...Lb}){return(0,Eb.jsx)(eb,{element:"polygon",svgPolyProps:mb,...Lb})}function Fb({fillOpacity:mb=
0,svgPolylineProps:Lb,...cc}){return(0,Hb.jsx)(eb,{element:"polyline",fillOpacity:mb,svgPolyProps:Lb,...cc})}function Kb({x:mb,y:Lb,color:cc=ee.foreground,opacity:kc=1,svgCircleProps:ic={}}){const {viewTransform:Ac,userTransform:qc}=h(),[xc,U]=sc.transform([mb,Lb],sc.matrixMult(Ac,qc));return(0,Ub.jsx)("circle",{cx:xc,cy:U,r:6,...ic,style:{fill:cc,opacity:kc,...ic.style}})}function rb({tail:mb=[0,0],tip:Lb,color:cc=ee.foreground,weight:kc=2,style:ic="solid",opacity:Ac=1,svgLineProps:qc={}}){const {userTransform:xc,
viewTransform:U}=h();var ha=sc.matrixMult(U,xc);mb=sc.transform(mb,ha);Lb=sc.transform(Lb,ha);ha=Wb.useMemo(()=>`mafs-triangle-${Zc++}`,[]);return(0,mc.jsxs)(mc.Fragment,{children:[(0,mc.jsx)("defs",{children:(0,mc.jsx)("marker",{id:ha,markerWidth:"8",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:(0,mc.jsx)("path",{d:"M 0 0 L 8 4 L 0 8 z",fill:cc||"var(--mafs-fg)",strokeWidth:0})})}),(0,mc.jsx)("line",{x1:mb[0],y1:mb[1],x2:Lb[0],y2:Lb[1],strokeWidth:kc,markerEnd:`url(#${ha})`,...qc,style:{stroke:cc||
"var(--mafs-fg)",strokeDasharray:"dashed"===ic?"var(--mafs-line-stroke-dash-style)":void 0,fill:cc,strokeOpacity:Ac,...(qc?.style||{}),vectorEffect:"non-scaling-stroke"}})]})}function Pb({children:mb,x:Lb,y:cc,color:kc,size:ic=30,svgTextProps:Ac={},attach:qc,attachDistance:xc=0}){const {viewTransform:U,userTransform:ha}=h();let na=0,Aa="middle";qc?.includes("w")?(Aa="end",na=-1):qc?.includes("e")&&(Aa="start",na=1);let Ca=0,Ya="middle";qc?.includes("n")?(Ya="baseline",Ca=1):qc?.includes("s")&&(Ya=
"hanging",Ca=-1);let [sb,Qb]=[0,0];if(0!==na||0!==Ca)[sb,Qb]=sc.withMag([na,Ca],xc);Lb=sc.transform([Lb,cc],sc.matrixMult(U,ha));return(0,Bc.jsx)("text",{x:Lb[0]+sb,y:Lb[1]+Qb,fontSize:ic,dominantBaseline:Ya,textAnchor:Aa,style:{fill:kc||"var(--mafs-fg)",vectorEffect:"non-scaling-stroke"},className:"mafs-shadow",...Ac,children:mb})}function N(mb){const {gestureTarget:Lb,onMove:cc,point:kc,constrain:ic}=mb,[Ac,qc]=zc.useState(!1),{xSpan:xc,ySpan:U}=l(),{viewTransform:ha,userTransform:na}=h(),Aa=sc.matrixInvert(ha);
(0,Uc.default)(Aa,"The view transform must be invertible.");const Ca=zc.useMemo(()=>{const sb=sc.matrixInvert(na);(0,Uc.default)(null!==sb,"Could not invert transform matrix. A parent transformation matrix might be degenerative (mapping 2D space to a line).");return sb},[na]),Ya=zc.useRef([0,0]);(0,Oc.useDrag)(sb=>{const {type:Qb,event:Vb}=sb;Vb?.stopPropagation();if(Qb.includes("key")){Vb?.preventDefault();const {direction:sd,altKey:Rd,metaKey:ye,shiftKey:re}=sb;sb=[sd[0],-sd[1]];var nc=Math.abs(sb[0])?
xc:U;let Cd=50;if(Rd||ye)Cd=200;re&&(Cd=10);const Md=nc/(2*Cd);nc=m(nc/Cd,nc/2,nc/Cd);for(var Wc of nc)if(nc=sc.scale(sb,Wc),nc=ic(sc.transform(sc.add(sc.transform(kc,na),nc),Ca)),sc.dist(nc,kc)>Md){cc(nc);break}}else{const {last:sd,movement:Rd,first:ye}=sb;qc(!sd);ye&&(Ya.current=sc.transform(kc,na));0!==sc.mag(Rd)&&(Wc=sc.transform(Rd,Aa),cc(ic(sc.transform(sc.add(Ya.current,Wc),Ca))))}},{target:Lb,eventOptions:{passive:!1}});return{dragging:Ac}}function Z({point:mb,onMove:Lb,constrain:cc=ic=>ic,
color:kc=ee.pink}){const ic=yc.useRef(null);({dragging:Lb}=N({gestureTarget:ic,onMove:Lb,point:mb,constrain:cc}));return(0,Xd.jsx)(Xb,{ref:ic,point:mb,color:kc,dragging:Lb})}function va(mb,{constrain:Lb,color:cc=ee.pink}={}){const [kc,ic]=mb,[Ac,qc]=id.useState(mb),[xc,U]=Ac,ha=id.useMemo(()=>"horizontal"===Lb?([na])=>[na,ic]:"vertical"===Lb?([,na])=>[kc,na]:"function"===typeof Lb?Lb:([na,Aa])=>[na,Aa],[Lb,kc,ic]);mb=id.useMemo(()=>(0,$c.jsx)(Z,{point:Ac,color:cc,constrain:ha,onMove:qc}),[Ac,cc,ha]);
return{x:xc,y:U,point:[xc,U],element:mb,setPoint:qc}}function ab(mb){const {startTime:Lb=0,endTime:cc=Infinity}=mb||{},kc=ad.useRef(null),[ic,Ac]=ad.useState(Lb),[qc,xc]=ad.useState(!1);ad.useEffect(()=>{function ha(Aa){Aa/=1E3;kc.current||(kc.current=Aa);Aa-=kc.current;Aa>=cc?(kc.current=null,Ac(cc),xc(!1)):(Ac(Math.min(Aa,cc)),na=window.requestAnimationFrame(ha))}let na=-1;qc?na=window.requestAnimationFrame(ha):window.cancelAnimationFrame(na);return()=>window.cancelAnimationFrame(na)},[qc,cc]);
mb=ad.useCallback(()=>xc(!0),[]);const U=ad.useCallback(()=>{kc.current=null;xc(!1);Ac(Lb)},[Lb]);return{time:ic,setTime:ha=>Ac(1E3*ha),start:mb,stop:U}}function Ha(mb){const {userTransform:Lb,viewTransform:cc}=h();let kc=sc.matrixBuilder();const {matrix:ic,children:Ac,...qc}=mb;ic&&(kc=kc.mult(ic));for(const [xc,U]of Object.entries(qc))if(null!=U)switch(xc){case "translate":kc=kc.translate(...U);break;case "scale":kc="number"===typeof U?kc.scale(U,U):kc.scale(...U);break;case "shear":kc=kc.shear(...U);
break;case "rotate":kc=kc.rotate(U)}kc=kc.mult(Lb);mb=kc.get();return(0,ud.jsx)(Ce.Provider,{value:{userTransform:mb,viewTransform:cc},children:(0,ud.jsx)("g",{style:{"--mafs-user-transform":sc.toCSS(mb)},children:Ac})})}function Qa({precision:mb=3}){const {xMin:Lb,xMax:cc,yMin:kc,yMax:ic}=w();var {viewTransform:Ac}=h();const {xPanes:qc,yPanes:xc}=d(),[U,ha]=sc.transform([Lb,kc],Ac);Ac=qc.map(Aa=>`(${Aa.join(", ")})`).join("   ");const na=xc.map(Aa=>`(${Aa.join(", ")})`).join("   ");return(0,md.jsxs)("g",
{className:"mafs-shadow",fontFamily:"monospace",children:[(0,md.jsxs)("text",{x:U+10,y:ha-70,children:["x: (",Lb.toFixed(mb),", ",cc.toFixed(mb),")"]}),(0,md.jsxs)("text",{x:U+10,y:ha-50,children:["y: (",kc.toFixed(mb),", ",ic.toFixed(mb),")"]}),(0,md.jsxs)("text",{x:U+10,y:ha-30,children:["xPanes: ",Ac]}),(0,md.jsxs)("text",{x:U+10,y:ha-10,children:["yPanes: ",na]})]})}function cb({children:mb}){const Lb=va([0,0]),cc=va([1,1],{color:ee.blue}),kc=va([1,0],{color:ee.green,constrain:ic=>sc.normalize(ic)});
return(0,Qd.jsxs)(Qd.Fragment,{children:[(0,Qd.jsxs)(Ha,{translate:Lb.point,children:[(0,Qd.jsxs)(Ha,{rotate:Math.atan2(kc.point[1],kc.point[0]),children:[(0,Qd.jsxs)(Ha,{scale:cc.point,children:[mb,(0,Qd.jsx)(Ja,{points:[[0,0],[0,1],[1,1],[1,0]],color:ee.blue})]}),(0,Qd.jsx)($a,{center:[0,0],radius:1,strokeStyle:"dashed",strokeOpacity:.5,fillOpacity:0,color:ee.green}),cc.element]}),kc.element]}),Lb.element]})}function Ab({at:mb,tex:Lb,color:cc=ee.foreground,katexOptions:kc}){const ic=Ye.useRef(null),
{viewTransform:Ac,userTransform:qc}=h(),xc=sc.matrixMult(Ac,qc);Ye.useEffect(()=>{ic.current&&he.default.render(Lb,ic.current,kc)},[kc,Lb]);mb=sc.add(sc.transform(mb,xc),[-49999.5,-49999.5]);return(0,Id.jsx)("foreignObject",{x:mb[0],y:mb[1],width:99999,height:99999,pointerEvents:"none",children:(0,Id.jsx)("div",{style:{fontSize:"1.3em",width:99999,height:99999,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",color:cc,textShadow:`, 0 0 2px ${ee.background}`.repeat(8).slice(2)},
children:(0,Id.jsx)("span",{ref:ic})})})}"use client";var ma=Object.create,la=Object.defineProperty,Ra=Object.getOwnPropertyDescriptor,Sa=Object.getOwnPropertyNames,ob=Object.getPrototypeOf,oa=Object.prototype.hasOwnProperty,Va=(mb,Lb,cc,kc)=>{if(Lb&&"object"===typeof Lb||"function"===typeof Lb)for(let ic of Sa(Lb))oa.call(mb,ic)||ic===cc||la(mb,ic,{get:()=>Lb[ic],enumerable:!(kc=Ra(Lb,ic))||kc.enumerable});return mb},Ua=(mb,Lb,cc)=>(cc=null!=mb?ma(ob(mb)):{},Va(!Lb&&mb&&mb.__esModule?cc:la(cc,"default",
{value:mb,enumerable:!0}),mb)),ua={};((mb,Lb)=>{for(var cc in Lb)la(mb,cc,{get:Lb[cc],enumerable:!0})})(ua,{Circle:()=>$a,Coordinates:()=>Ne,Debug:()=>Le,Ellipse:()=>ib,LaTeX:()=>Ab,Line:()=>lb,Mafs:()=>x,MovablePoint:()=>Z,MovablePointDisplay:()=>Xb,Plot:()=>Lc,Point:()=>Kb,Polygon:()=>Ja,Polyline:()=>Fb,Text:()=>Pb,Theme:()=>ee,Transform:()=>Ha,Vector:()=>rb,labelPi:()=>P,useMovable:()=>N,useMovablePoint:()=>va,usePaneContext:()=>d,useStopwatch:()=>ab,useTransformContext:()=>h,vec:()=>sc});X.exports=
(mb=>Va(la({},"__esModule",{value:!0}),mb))(ua);var Ta=Ua(B(0)),hb=Ua(B(0)),Bb=Ua(B(626)),Db=hb.createContext(null);Db.displayName="CoordinateContext";var Sb=Db,tc=Ua(B(0)),dc=B(546),{round:Yc,ceil:ed,floor:bd,log2:hd}=Math,fc=tc.createContext({xPanes:[],yPanes:[],xPaneRange:[0,0],yPaneRange:[0,0]});fc.displayName="PaneContext";c.displayName="PaneManager";var cd=c,zd=Ua(B(627)),Gd=B(573),sc;(mb=>{function Lb(Ca,Ya){return[Ca[0]+Ya[0],Ca[1]+Ya[1]]}function cc(Ca,Ya){return[Ca[0]-Ya[0],Ca[1]-Ya[1]]}
function kc(Ca){return Math.sqrt(Ca[0]*Ca[0]+Ca[1]*Ca[1])}function ic(Ca,Ya,sb){Ya=cc(Ya,Ca);const Qb=kc(Ya);return Lb(Ca,Ac(Ya,sb*Qb))}function Ac(Ca,Ya){const sb=kc(Ca);return qc(Ca,Ya/sb)}function qc(Ca,Ya){return[Ca[0]*Ya,Ca[1]*Ya]}function xc(Ca,Ya){return g(Ca[0]*Ya[0]+Ca[1]*Ya[3],Ca[3]*Ya[0]+Ca[4]*Ya[3],Ca[0]*Ya[1]+Ca[1]*Ya[4],Ca[3]*Ya[1]+Ca[4]*Ya[4],Ca[0]*Ya[2]+Ca[1]*Ya[5]+Ca[2],Ca[3]*Ya[2]+Ca[4]*Ya[5]+Ca[5])}function U(Ca,Ya){const sb=Math.cos(Ya);Ya=Math.sin(Ya);return[Ca[0]*sb-Ca[1]*Ya,
Ca[0]*Ya+Ca[1]*sb]}function ha(Ca,Ya){return Math.pow(Ya[0]-Ca[0],2)+Math.pow(Ya[1]-Ca[1],2)}function na(Ca){return Ca[0]*Ca[4]-Ca[3]*Ca[1]}function Aa(Ca=null){const Ya=Ca||g();return{mult:sb=>Aa(xc(sb,Ya)),translate:(sb,Qb)=>Aa(xc(g(1,0,0,1,sb,Qb),Ya)),rotate:sb=>{const Qb=Math.cos(sb);sb=Math.sin(sb);return Aa(xc(g(Qb,sb,-sb,Qb),Ya))},scale:(sb,Qb)=>Aa(xc(g(sb,0,0,Qb),Ya)),shear:(sb,Qb)=>Aa(xc(g(1,Qb,sb,1),Ya)),get:()=>[...Ya]}}mb.add=Lb;mb.sub=cc;mb.mag=kc;mb.normal=function(Ca){return[-Ca[1],
Ca[0]]};mb.lerp=ic;mb.withMag=Ac;mb.normalize=function(Ca){return Ac(Ca,1)};mb.scale=qc;mb.transform=function(Ca,Ya){return[Ca[0]*Ya[0]+Ca[1]*Ya[1]+Ya[2],Ca[0]*Ya[3]+Ca[1]*Ya[4]+Ya[5]]};mb.matrixMult=xc;mb.rotate=U;mb.rotateAbout=function(Ca,Ya,sb){Ca=cc(Ca,Ya);return Lb(Ya,U(Ca,sb))};mb.midpoint=function(Ca,Ya){return ic(Ca,Ya,.5)};mb.dist=function(Ca,Ya){return Math.sqrt(ha(Ca,Ya))};mb.squareDist=ha;mb.dot=function(Ca,Ya){return Ca[0]*Ya[0]+Ca[1]*Ya[1]};mb.det=na;mb.matrixInvert=function(Ca){var Ya=
na(Ca);if(!Ya)return null;Ya=1/Ya;const sb=Ca[0],Qb=Ca[1],Vb=Ca[2],nc=Ca[3],Wc=Ca[4];Ca=Ca[5];return g(Ya*Wc,Ya*-nc,Ya*-Qb,Ya*sb,Ya*(Ca*Qb-Vb*Wc),Ya*(-Ca*sb+Vb*nc))};mb.matrixBuilder=Aa;mb.toCSS=function(Ca){const [Ya,sb,Qb,Vb,nc,Wc]=Ca;return`matrix(${Ya}, ${Vb}, ${sb}, ${nc}, ${Qb}, ${Wc})`};mb.identity=Aa().get()})(sc||(sc={}));var de=Ua(B(0)),ge=Ua(B(626)),Ce=de.createContext(null);Ce.displayName="TransformContext";var Jb=Ua(B(0)),ke=Ua(B(626)),nd=Jb.createContext({xSpan:0,ySpan:0});nd.displayName=
"SpanContext";var od=Ua(B(626)),te=Ua(B(0)),pe=Ua(B(0)),vc=Ua(B(0)).createContext({overrideHeight:void 0}),Od=B(546);x.displayName="Mafs";var gc=Ua(B(0)),Rc=B(546),Tc=mb=>(0,Rc.jsxs)(Rc.Fragment,{children:[mb,0>mb&&(0,Rc.jsx)("tspan",{visibility:"hidden",children:"-"})]}),xd={axis:!0,lines:1,labels:Tc};y.displayName="CartesianCoordinates.XLabels";E.displayName="CartesianCoordinates.YLabels";var Dc=B(546),yf=0;F.displayName="Coordinates.Cartesian";var He=B(546),we=m(0,2*Math.PI,Math.PI/12);K.displayName=
"Coordinates.Polar";var Ne={Cartesian:F,Polar:K},Pe=Ua(B(0)),ie=Ua(B(0)),cf=B(546);da.displayName="Plot.Parametric";var rf=B(546);ea.displayName="Plot.OfX";var ff=Ua(B(0)),gf=B(546);za.displayName="Plot.OfY";var ee={foreground:"var(--mafs-fg)",background:"var(--mafs-bg)",red:"var(--mafs-red)",orange:"var(--mafs-orange)",green:"var(--mafs-green)",blue:"var(--mafs-blue)",indigo:"var(--mafs-indigo)",violet:"var(--mafs-violet)",pink:"var(--mafs-pink)",yellow:"var(--mafs-yellow)"},Nb=B(546),Yd=()=>1;Ea.displayName=
"Plot.VectorField";var De=Ua(B(626)),me=B(546);gb.displayName="Plot.Inequality";var Lc={OfX:ea,OfY:za,Parametric:da,VectorField:Ea,Inequality:gb},Hd=B(546);wa.displayName="Line.ThroughPoints";var ya=B(546);Ba.displayName="Line.PointAngle";var Ia=B(546);Da.displayName="Line.PointSlope";var fb=B(546);pa.displayName="Line.Segment";var lb={PointAngle:Ba,PointSlope:Da,ThroughPoints:wa,Segment:pa},yb=B(546);ib.displayName="Ellipse";var kb=B(546);$a.displayName="Circle";var tb=B(546),Eb=B(546);Ja.displayName=
"Polygon";var Hb=B(546);Fb.displayName="Polyline";var Ub=B(546);Kb.displayName="Point";var Wb=Ua(B(0)),mc=B(546),Zc=0;rb.displayName="Vector";var Bc=B(546);Pb.displayName="Text";var yc=Ua(B(0)),zc=Ua(B(0)),Oc=B(573),Uc=Ua(B(626)),Ad=Ua(B(0)),Ld=B(546),Xb=Ad.forwardRef((mb,Lb)=>{const {color:cc=ee.pink,ringRadiusPx:kc=15,dragging:ic,point:Ac}=mb,{viewTransform:qc,userTransform:xc}=h();mb=Ad.useMemo(()=>sc.matrixMult(qc,xc),[qc,xc]);const [U,ha]=sc.transform(Ac,mb);return(0,Ld.jsxs)("g",{ref:Lb,style:{"--movable-point-color":cc,
"--movable-point-ring-size":`${kc}px`},className:`mafs-movable-point ${ic?"mafs-movable-point-dragging":""}`,tabIndex:0,children:[(0,Ld.jsx)("circle",{className:"mafs-movable-point-hitbox",r:30,cx:U,cy:ha}),(0,Ld.jsx)("circle",{className:"mafs-movable-point-focus",r:kc+1,cx:U,cy:ha}),(0,Ld.jsx)("circle",{className:"mafs-movable-point-ring",r:kc,cx:U,cy:ha}),(0,Ld.jsx)("circle",{className:"mafs-movable-point-point",r:6,cx:U,cy:ha})]})});Xb.displayName="MovablePointDisplay";var Xd=B(546);Z.displayName=
"MovablePoint";var id=Ua(B(0)),$c=B(546),ad=Ua(B(0)),ud=B(546);Ha.displayName="Transform";var md=B(546);Qa.displayName="Debug.ViewportInfo";var Qd=B(546);cb.displayName="Debug.TransformWidget";var Le={ViewportInfo:Qa,TransformWidget:cb},Ye=Ua(B(0)),he=Ua(B(542)),Id=B(546)};
shadow$provide[629]=function(G,B,X,p){G=this;B=function(w){function r(b){return Array.isArray(b)}function m(){return"window"in globalThis&&"document"in globalThis}function d(){if(!m())throw Error("\x3cmath-field\x3e is an interactive component that needs to run in a browser environment\nIf you are using nextjs, see https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr");}function c(){return!!m()&&("matchMedia"in globalThis?globalThis.matchMedia("(any-pointer: coarse)").matches:"ontouchstart"in
globalThis||0<navigator.maxTouchPoints)}function g(){return m()&&"function"==typeof navigator.vibrate}function h(){var b,f;if(!m())return"other";const q=null!==(f=null===(b=navigator.userAgentData)||void 0===b?void 0:b.platform)&&void 0!==f?f:navigator.platform;return/^mac/i.test(q)?5===navigator.maxTouchPoints?"ios":"macos":/^win/i.test(q)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":
"other"}function l(){if(!m())return!0;if(/firefox/i.test(navigator.userAgent)){var b=navigator.userAgent.match(/firefox\/(\d+)/i);return!!b&&78<=parseInt(b[1])}return/trident/i.test(navigator.userAgent)?!1:/edge/i.test(navigator.userAgent)?(b=navigator.userAgent.match(/edg\/(\d+)/i),!!b&&79<=parseInt(b[1])):!0}function k(b){if(void 0!==b){var f=se.locale.slice(0,2),q="";return se.strings[se.locale]&&(q=se.strings[se.locale][b]),!q&&se.strings[f]&&(q=se.strings[f][b]),q||(q=se.strings.en[b]),q||void 0}}
function t(b){var f,q,D,J,M,W;b=b.split("!");let ca,fa,xa;var ta=255,Ma=255,Pa=255;let db=-1;const pb=0<b.length&&b[0].startsWith("-");pb&&(b[0]=b[0].slice(1));for(let Mb=0;Mb<b.length;Mb++){ca=ta;fa=Ma;xa=Pa;ta=null===(f=b[Mb].trim().match(/^([A-Za-z\d]+)/))||void 0===f?void 0:f[1];Pa=null==ta?void 0:ta.toLowerCase();Ma=ta&&null!==(W=null!==(M=null!==(J=null!==(D=null!==(q=bh[Pa])&&void 0!==q?q:bh[Lg[ta]])&&void 0!==D?D:Lh[ta])&&void 0!==J?J:fe[ta])&&void 0!==M?M:Ag[ta])&&void 0!==W?W:b[Mb].trim();
Pa=Ma.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if((null==Pa?0:Pa[1])&&Pa[2]&&Pa[3])ta=Math.max(0,Math.min(255,Number.parseInt(Pa[1],16))),Ma=Math.max(0,Math.min(255,Number.parseInt(Pa[2],16))),Pa=Math.max(0,Math.min(255,Number.parseInt(Pa[3],16)));else if(Pa=Ma.match(/^#([\da-f]{3})$/i),null==Pa?void 0:Pa[1])ta=Number.parseInt(Pa[1][0],16),Ma=Number.parseInt(Pa[1][1],16),Pa=Number.parseInt(Pa[1][2],16),ta=Math.max(0,Math.min(255,16*ta+ta)),Ma=Math.max(0,Math.min(255,16*Ma+Ma)),Pa=Math.max(0,
Math.min(255,16*Pa+Pa));else{if(Pa=Ma.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!((null==Pa?0:Pa[1])&&Pa[2]&&Pa[3]))return;ta=Math.max(0,Math.min(255,Number.parseInt(Pa[1])));Ma=Math.max(0,Math.min(255,Number.parseInt(Pa[2])));Pa=Math.max(0,Math.min(255,Number.parseInt(Pa[3])))}0<=db&&(ta=(1-db)*ta+db*ca,Ma=(1-db)*Ma+db*fa,Pa=(1-db)*Pa+db*xa,db=-1);Mb+1<b.length&&(db=Math.max(0,Math.min(100,Number.parseInt(b[++Mb])))/100)}return 0<=db&&(ta=db*ta+(1-db)*ca,Ma=db*Ma+(1-db)*fa,Pa=db*
Pa+(1-db)*xa),pb&&(ta=255-ta,Ma=255-Ma,Pa=255-Pa),"#"+("00"+Math.round(ta).toString(16)).slice(-2)+("00"+Math.round(Ma).toString(16)).slice(-2)+("00"+Math.round(Pa).toString(16)).slice(-2)}function x(b){var f,q;return b=b.trim(),null!==(q=null!==(f=Kg[b.toLowerCase()])&&void 0!==f?f:Kg[Lg[b]])&&void 0!==q?q:t(b)}function A(b,f,q){return 0>q&&(q+=6),6<=q&&(q-=6),1>q?(f-b)*q+b:3>q?f:4>q?(f-b)*(4-q)+b:b}function y(b){return 0>b?0:255<b?255:Math.round(b)}function E(b){let f=function(M){if(M&&"#"===M[0]){var W;
return 4>=(M=M.slice(1)).length?(W={r:parseInt(M[0]+M[0],16),g:parseInt(M[1]+M[1],16),b:parseInt(M[2]+M[2],16)},4===M.length&&(W.a=parseInt(M[3]+M[3],16)/255)):(W={r:parseInt(M[0]+M[1],16),g:parseInt(M[2]+M[3],16),b:parseInt(M[4]+M[5],16)},8===M.length&&(W.a=parseInt(M[6]+M[7],16)/255)),W&&void 0===W.a&&(W.a=1),W}}(b);if(!f)return b;let {h:q,s:D,l:J}=function(M){let {r:W,g:ca,b:fa}=M;W/=255;ca/=255;fa/=255;M=Math.min(W,ca,fa);const xa=Math.max(W,ca,fa),ta=xa-M;let Ma,Pa;xa===M?Ma=0:W===xa?Ma=(ca-
fa)/ta:ca===xa?Ma=2+(fa-W)/ta:fa===xa&&(Ma=4+(W-ca)/ta);Ma=Math.min(60*Ma,360);0>Ma&&(Ma+=360);const db=(M+xa)/2;return Pa=xa===M?0:.5>=db?ta/(xa+M):ta/(2-xa-M),{h:Ma,s:Pa,l:db}}(f);return D+=.1,J-=.1,function(M){const {r:W,g:ca,b:fa}=M;M=(16777216+(y(W)<<16)+(y(ca)<<8)+y(fa)).toString(16).slice(1);return M[0]===M[1]&&M[2]===M[3]&&M[4]===M[5]&&M[6]===M[7]&&(M=M[0]+M[2]+M[4]),"#"+M}(function(M){let [W,ca,fa]=[M.h,M.s,M.l];W=(W+360)%360/60;fa=Math.max(0,Math.min(fa,1));ca=Math.max(0,Math.min(ca,1));
M=.5>=fa?fa*(ca+1):fa+ca-fa*ca;const xa=2*fa-M;return{r:Math.round(255*A(xa,M,W+2)),g:Math.round(255*A(xa,M,W)),b:Math.round(255*A(xa,M,W-2))}}({h:q,s:D,l:J}))}function F(b,f,q="mord",D){void 0!==f&&(Ef[b]={definitionType:"symbol",type:q,variant:D,codepoint:f},Te[f]||(Te[f]=b),Vf[b]||(Vf[b]=f))}function H(b,f,q){if("string"!=typeof b)for(const [D,J,M,W]of b)F(D,J,null!=M?M:f,null!=W?W:q);else for(f=0;f<b.length;f++)q=b.charAt(f),F(q,q.codePointAt(0))}function P(b,f){for(;b<=f;b++)F(String.fromCodePoint(b),
b)}function K(b,f){return void 0===f?"":"math"===b&&Te[f]?Te[f]:"text"===b?(b=Object.keys(Vf).find(q=>Vf[q]===f),b||(b=f.toString(16),b="^".repeat(b.length)+b),b):String.fromCodePoint(f)}function T(b){let f="auto";b=b.match(/:([^=]+)/);return b&&(f=b[1].trim()),f}function aa(b){if(!b)return[];const f=[];let q=b.split("]");if(q[0].startsWith("["))for(f.push({isOptional:!0,type:T(q[0].slice(1))}),b=1;b<=q.length;b++)f.push(...aa(q[b]));else if(q=b.split("}"),q[0].startsWith("{"))for(f.push({isOptional:!1,
type:T(q[0].slice(1))}),b=1;b<=q.length;b++)f.push(...aa(q[b]));return f}function Q(b){if(!b)return"";let f="",q=!0;for(const D of b)"string"==typeof D.value?f+=D.value:q=!1;return q?f:""}function O(b,f,q,D=!1){"string"==typeof b&&(b=[b]);f={tabular:D,params:aa(f),createAtom:q};for(const J of b)Mh[J]=f}function da(b,f,q){O(b,f,q,!0)}function ea(b,f,q){var D,J;q||(q={});f={definitionType:"function",params:aa(f),ifMode:q.ifMode,isFunction:null!==(D=q.isFunction)&&void 0!==D&&D,applyMode:q.applyMode,
infix:null!==(J=q.infix)&&void 0!==J&&J,createAtom:q.createAtom,applyStyle:q.applyStyle};if("string"==typeof b)bg["\\"+b]=f;else for(const M of b)bg["\\"+M]=f}function za(b){return ch||(ch=sa(ug)),b?sa({...ch,...b}):ch}function Ea(b,f){var q,D,J;if("string"==typeof b){var M=0;return/(^|[^\\])#1/.test(b)&&(M=1),/(^|[^\\])#2/.test(b)&&(M=2),/(^|[^\\])#3/.test(b)&&(M=3),/(^|[^\\])#4/.test(b)&&(M=4),/(^|[^\\])#5/.test(b)&&(M=5),/(^|[^\\])#6/.test(b)&&(M=6),/(^|[^\\])#7/.test(b)&&(M=7),/(^|[^\\])#8/.test(b)&&
(M=8),/(^|[^\\])#9/.test(b)&&(M=9),{expand:null===(q=null==f?void 0:f.expand)||void 0===q||q,captureSelection:null===(D=null==f?void 0:f.captureSelection)||void 0===D||D,args:M,def:b}}return{expand:null===(M=null==f?void 0:f.expand)||void 0===M||M,captureSelection:null===(J=null==f?void 0:f.captureSelection)||void 0===J||J,args:0,...b}}function sa(b){if(!b)return{};const f={};for(const q of Object.keys(b)){const D=b[q];if(null==D)delete f[q];else if("object"==typeof D&&"package"in D)for(const J of Object.keys(D.package))f[J]=
Ea(D.package[J],{expand:D.expand,captureSelection:D.captureSelection});else f[q]=Ea(D)}return f}function gb(b,f){void 0===b&&(b=77);if(f=Mf[f][b])return{defaultMetrics:!1,depth:f[0],height:f[1],italic:f[2],skew:f[3]};if(11034===b)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0};b=String.fromCodePoint(b);if(b in gi)gi[b].codePointAt(0);else if(Ue.test(b))return{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}function wa(b,
f){if(null===b)b=0;else{var q;if(b){var D={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:.75,em:10,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[null!==(q=b.unit)&&void 0!==q?q:"pt"];Number.isFinite(f)?(f=10**f,b=Math.round(b.dimension/10*D*f)/f):b=b.dimension*D}else b=0;b/=10}return b}function Ba(b){var f;return`${b.dimension}${null!==(f=b.unit)&&void 0!==f?f:"pt"}`}function Da(b,f){const q=[];let D,J=[];for(const M of b)if("first"!==M.type&&M.style){let W;"variant"===f?(W=M.style.variant,M.style.variantStyle&&
"up"!==M.style.variantStyle&&(W+="-"+M.style.variantStyle)):"cssClass"===f?"group"===M.type&&(W=M.customClass):W=M.style[f];W===D?J.push(M):(0<J.length&&q.push(J),J=[M],D=W)}return 0<J.length&&q.push(J),q}function pa(b,f){return"string"==typeof b?b:"number"==typeof b?(b=Math.ceil(100*b)/100,0===b?"0":b.toString()+(null!=f?f:"")):""}function ib(b){if(!b||0===b.length)return[];b[0].children=ib(b[0].children);const f=[b[0]];for(let q=1;q<b.length;q++)f[f.length-1].tryCoalesceWith(b[q])||(b[q].children=
ib(b[q].children),f.push(b[q]));return f}function $a(b){return b.children&&(b.children=ib(b.children)),b}function eb(b,f,q){f.newList&&(b=null);const D=f.type;if("first"===D)return null;if("spacing"===D)return b;if(q(b,f),f.children){let J=null;void 0!==D&&0!==D.length||(J=b);for(const M of f.children)J=eb(J,M,q);void 0!==D&&0!==D.length||(b=J)}return"supsub"!==D&&void 0!==D&&0<D.length&&(b=f),b}function Ja(b,f){b&&eb(null,b,f)}function Fb(b,f=1){return function(q){Ja(q,(D,J)=>{"mbin"!==J.type||D&&
!/first|none|mbin|mop|mrel|mopen|mpunct/.test(D.type)||(J.type="mord");D&&"mbin"===D.type&&/mrel|mclose|mpunct|placeholder/.test(J.type)&&(D.type="mord")})}(b),function(q,D){Ja(q,(J,M)=>{var W,ca,fa,xa;J=null!==(W=null==J?void 0:J.type)&&void 0!==W?W:"none";(ca=(W=M.isTight?null!==(ca=tk[J])&&void 0!==ca?ca:null:null!==(fa=sk[J])&&void 0!==fa?fa:null)&&null!==(xa=W[M.type])&&void 0!==xa?xa:0)&&(M.left+=ca/18*D)})}(b,f),b}function Kb(b,f){if(!b)return new Vc(null,f);var q=new Vc(null,{classes:"ML__strut"});
q.setStyle("height",Math.max(0,b.height),"em");q=[q];if(0!==b.depth){const D=new Vc(null,{classes:"ML__strut--bottom"});D.setStyle("height",b.height+b.depth,"em");D.setStyle("vertical-align",-b.depth,"em");q.push(D)}return q.push(b),new Vc(q,f)}function rb(b){var f=(qf[b]?qf[b][2]/1E3:Nh[b][2])/2;f=new Vc(null,{height:f+.166,depth:f-.166,maxFontSize:0});return f.svgBody=b,f}function Pb(b){var f;if(void 0===Bi){Bi={};for(const q of Ri)for(let D=q[0];D<=q[0]+q[1]-1;D++)Bi[D]=!0}return null!==(f=Bi[b])&&
void 0!==f&&f}function N(b){if(/^[\u0020-\u00FF]*$/.test(b))return b;const f=[],q=[];for(var D=0;D<b.length;D++){var J=b.charCodeAt(D);if(13===J&&10===b.charCodeAt(D+1)&&(J=10,D++),13!==J&&12!==J||(J=10),0===J&&(J=65533),55296<=J&&56319>=J){const M=b.charCodeAt(D+1);56320<=M&&57343>=M&&(J=65536+1024*(J-55296)+(M-56320),D++)}q.push(J)}for(b=0;b<q.length;)if(D=q[b++],J=q[b],8205===J){D=b-1;for(b+=2;8205===q[b];)b+=2;f.push(String.fromCodePoint(...q.slice(D,b-D+1)))}else if(Pb(J)){for(D=b-1;Pb(q[b]);)b+=
8205===q[b]?2:1;f.push(String.fromCodePoint(...q.slice(D,2*b-D-1)))}else D>=Dd[0]&&D<=Dd[1]?(b+=1,f.push(String.fromCodePoint(...q.slice(b-2,2)))):f.push(String.fromCodePoint(D));return f}function Z(b,f=null){var q=[],D="";for(var J of b.toString().split(/\r?\n/))D&&q.push(D),D=" ",b=J.match(/((?:\\%)|[^%])*/),null!==b&&q.push(b[0]);q=new uk(q.join(""));D=[];do{J=D;b=J.push;var M=void 0,W=void 0,ca=void 0,fa=void 0,xa=q,ta=f;const Pa=[];var Ma=xa.next();if(Ma&&"\\relax"!==Ma)if("\\noexpand"===Ma)(Ma=
xa.next())&&Pa.push(Ma);else if("\\obeyspaces"===Ma)xa.obeyspaces=!0;else if("\\space"===Ma||"~"===Ma)Pa.push("\x3cspace\x3e");else if("\\bgroup"===Ma)Pa.push("\x3c{\x3e");else if("\\egroup"===Ma)Pa.push("\x3c}\x3e");else if("\\string"===Ma){if(Ma=xa.next(),Ma)if(Ma.startsWith("\\"))for(const db of Ma)Pa.push("\\"===db?"\\backslash":db);else"\x3c{\x3e"===Ma?Pa.push("\\{"):"\x3cspace\x3e"===Ma?Pa.push("~"):"\x3c}\x3e"===Ma&&Pa.push("\\}")}else if("\\csname"===Ma){for(;"\x3cspace\x3e"===xa.peek();)xa.next();
M="";let db=[];do 0===db.length&&(/^#[\d?@]$/.test(xa.peek())?(Ma=xa.get().slice(1),db=Z(null!==(ca=null!==(fa=null==ta?void 0:ta(Ma))&&void 0!==fa?fa:null==ta?void 0:ta("?"))&&void 0!==ca?ca:"\\placeholder{}",ta),Ma=db[0]):db=(Ma=xa.next())?[Ma]:[]),(W=0===db.length)||"\\endcsname"!==Ma||(W=!0,db.shift()),W||(W="\x3c$\x3e"===Ma||"\x3c$$\x3e"===Ma||"\x3c{\x3e"===Ma||"\x3c}\x3e"===Ma||"string"==typeof Ma&&1<Ma.length&&Ma.startsWith("\\")),W||(M+=db.shift());while(!W);M&&Pa.push("\\"+M);Pa.push(...db)}else"\\endcsname"!==
Ma&&(1<Ma.length&&Ma.startsWith("#")?(ca=Ma.slice(1),Pa.push(...Z(null!==(M=null!==(W=null==ta?void 0:ta(ca))&&void 0!==W?W:null==ta?void 0:ta("?"))&&void 0!==M?M:"\\placeholder{}",ta))):Pa.push(Ma));b.call(J,...Pa)}while(!q.end());return D}function va(b){let f="";const q=[];for(const D of b)D&&(/[a-zA-Z\*]/.test(D[0])&&q.push(f),q.push(D),/\\[a-zA-Z]+\*?["'][^ ]+$/.test(D)&&q.push(" "),f=/\\[a-zA-Z]+\*?$/.test(D)?" ":"");return q.join("")}function ab(b){return va(b.map(f=>{var q;return null!==(q=
{"\x3cspace\x3e":" ","\x3c$$\x3e":"$$","\x3c$\x3e":"$","\x3c{\x3e":"{","\x3c}\x3e":"}"}[f])&&void 0!==q?q:f}))}function Ha(b){return"string"==typeof b&&Gf.includes(b)}function Qa(b){return void 0!==b&&Array.isArray(b)&&2===b.length}function cb(b,f){if(!b||0===b.length)return"";if("first"===b[0].type){if(1===b.length)return"";b=b.slice(1)}return 0===b.length?"":va(Da(b,"cssClass").map(q=>va(Da(q,"color").map(D=>va(function(J){const M=[];let W=[],ca="NONE";for(const fa of J)"first"!==fa.type&&(fa.mode!==
ca?(0<W.length&&M.push(W),W=[fa],ca=fa.mode):W.push(fa));return 0<W.length&&M.push(W),M}(D).map(J=>hg.serialize(J,f)))))))}function Ab(b,f,q){var D,J,M;if(!f||0===f.length)return null;const W=new be(b,null==q?void 0:q.style),ca=!W.atomIdsSettings||!W.atomIdsSettings.groupNumbers;let fa,xa=[];var ta=null!==(D=null==q?void 0:q.newList)&&void 0!==D&&D;if(1===f.length){var Ma=f[0];(ta=Ma.render(W,{newList:ta}))&&(ca&&Ma.isSelected&&ta.selected(!0),xa=[ta])}else{D="";let Pa=!0;for(const db of f)(null===
(Ma=W.atomIdsSettings)||void 0===Ma?0:Ma.groupNumbers)&&D&&(Pa&&db.isDigit()||!Pa&&"text"===db.mode)&&(W.atomIdsSettings.overrideID=D),f=db.render(W,{newList:ta}),W.atomIdsSettings&&(W.atomIdsSettings.overrideID=void 0),f&&(ta="group"===db.type&&!db.boxType,(null===(J=W.atomIdsSettings)||void 0===J?void 0:J.groupNumbers)&&((db.isDigit()||"text"===db.mode)&&(D&&Pa===db.isDigit()||(Pa=db.isDigit(),D=null!==(M=db.id)&&void 0!==M?M:"")),!D||(db.isDigit()||"text"===db.mode)&&db.hasEmptyBranch("superscript")&&
db.hasEmptyBranch("subscript")||(D="")),ca&&db.isSelected&&f.selected(!0),xa.push(f))}return 0===xa.length?null:(q||W.isTight||1<xa.length?(fa=new Vc(xa,{isTight:W.isTight,...(null!=q?q:{})}),fa.isSelected=xa.every(Pa=>Pa.isSelected)):fa=xa[0],fa.wrap(W).wrap(b))}function ma(b){var f;return null!==(f={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,
"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[b])&&void 0!==f?f:b.codePointAt(0)}function la(b,f,q,D,J){D=new be(D,null==J?void 0:J.style,"textstyle");
b=(new Vc(ma(b),{fontFamily:"Size"+f+"-Regular",classes:"ML__delim-size"+f})).wrap(D);return q&&b.setTop(.25*(1-D.scalingFactor)),b}function Ra(b,f,q,D,J){var M,W,ca;var fa=W=ca=ma(b);var xa=null;var ta="Size1-Regular";"\\vert"===b||"\\lvert"===b||"\\rvert"===b||"\\mvert"===b||"\\mid"===b?W=fa=ca=8739:"\\Vert"===b||"\\lVert"===b||"\\rVert"===b||"\\mVert"===b||"\\|"===b?W=fa=ca=8741:"\\uparrow"===b?W=ca=9168:"\\Uparrow"===b?W=ca=8214:"\\downarrow"===b?fa=W=9168:"\\Downarrow"===b?fa=W=8214:"\\updownarrow"===
b?(fa=8593,W=9168,ca=8595):"\\Updownarrow"===b?(fa=8657,W=8214,ca=8659):"["===b||"\\lbrack"===b?(fa=9121,W=9122,ca=9123,ta="Size4-Regular"):"]"===b||"\\rbrack"===b?(fa=9124,W=9125,ca=9126,ta="Size4-Regular"):"\\lfloor"===b||"⌊"===b?(W=fa=9122,ca=9123,ta="Size4-Regular"):"\\lceil"===b||"⌈"===b?(fa=9121,W=ca=9122,ta="Size4-Regular"):"\\rfloor"===b||"⌋"===b?(W=fa=9125,ca=9126,ta="Size4-Regular"):"\\rceil"===b||"⌉"===b?(fa=9124,W=ca=9125,ta="Size4-Regular"):"("===b||"\\lparen"===b?(fa=9115,W=9116,ca=
9117,ta="Size4-Regular"):")"===b||"\\rparen"===b?(fa=9118,W=9119,ca=9120,ta="Size4-Regular"):"\\{"===b||"\\lbrace"===b?(fa=9127,xa=9128,ca=9129,W=9130,ta="Size4-Regular"):"\\}"===b||"\\rbrace"===b?(fa=9131,xa=9132,ca=9133,W=9130,ta="Size4-Regular"):"\\lgroup"===b||"⟮"===b?(fa=9127,ca=9129,W=9130,ta="Size4-Regular"):"\\rgroup"===b||"⟯"===b?(fa=9131,ca=9133,W=9130,ta="Size4-Regular"):"\\lmoustache"===b||"⎰"===b?(fa=9127,ca=9133,W=9130,ta="Size4-Regular"):"\\rmoustache"===b||"⎱"===b?(fa=9131,ca=9129,
W=9130,ta="Size4-Regular"):"\\surd"===b?(fa=57345,ca=9143,W=57344,ta="Size4-Regular"):"\\ulcorner"===b?(fa=9484,W=ca=32):"\\urcorner"===b?(fa=9488,W=ca=32):"\\llcorner"===b?(ca=9492,W=fa=32):"\\lrcorner"===b&&(fa=9496,W=fa=32);b=gb(fa,ta);var Ma=b.height+b.depth;b=gb(W,ta);b=b.height+b.depth;var Pa=gb(ca,ta),db=Pa.height+Pa.depth;let pb=0;Pa=1;null!==xa&&(Pa=gb(xa,ta),pb=Pa.height+Pa.depth,Pa=2);Ma=Ma+db+pb;f=Math.max(0,Math.ceil((f-Ma)/(Pa*b)));db=.25;q&&(db*=D.scalingFactor);q=(Ma+f*Pa*b)/2-db;
D=[];D.push({box:new Vc(ca,{fontFamily:ta})});D.push(-.008);W=new Vc(W,{fontFamily:ta});if(null===xa)for(xa=0;xa<f;xa++)D.push({box:W});else{for(ca=0;ca<f;ca++)D.push({box:W});D.push(-.008);D.push({box:new Vc(xa,{fontFamily:ta})});D.push(-.008);for(xa=0;xa<f;xa++)D.push({box:W})}D.push(-.008);D.push({box:new Vc(fa,{fontFamily:ta})});fa="";"Size1-Regular"===ta?fa=" delim-size1":"Size4-Regular"===ta&&(fa=" delim-size4");ta=new tf({bottom:q,children:D},{classes:fa});return new Vc(ta,{...(null!=J?J:{}),
classes:(null!==(M=null==J?void 0:J.classes)&&void 0!==M?M:"")+" ML__delim-mult"})}function Sa(b,f,q,D,J,M){var W;if(!f||0===f.length||"."===f)return oa(J,b,b);"\x3c"===f||"\\lt"===f?f="\\langle":"\x3e"!==f&&"\\gt"!==f||(f="\\rangle");var ca=bj.has(f)?Ci:Bf.has(f)?Wh:Bj;ca=function(fa,xa,ta,Ma){for(let pb={"-4":0,"-3":1,0:2}[Ma.mathstyle.sizeDelta];pb<ta.length&&"stack"!==ta[pb].type;pb++){var Pa=gb(fa,"small"===(db=ta[pb]).type?"Main-Regular":"large"===db.type?"Size"+db.size+"-Regular":"Size4-Regular");
if(Pa.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};Pa=Pa.height+Pa.depth;if("small"===ta[pb].type&&("scriptscriptstyle"===ta[pb].mathstyle?Pa*=Nf[Math.max(1,Ma.size-2)]:"scriptstyle"===ta[pb].mathstyle&&(Pa*=Nf[Math.max(1,Ma.size-1)])),Pa>xa)return ta[pb]}var db;return ta[ta.length-1]}(ma(f),q,ca,J);J=new be(J,null==M?void 0:M.style,ca.mathstyle);return"small"===ca.type?function(fa,xa,ta,Ma){fa=(new Vc(ma(fa),{fontFamily:"Main-Regular"})).wrap(xa,Ma);return ta&&fa.setTop(.25*(1-xa.scalingFactor)),
fa}(f,J,D,{type:b,classes:"ML__small-delim "+(null!==(W=null==M?void 0:M.classes)&&void 0!==W?W:"")}):"large"===ca.type?la(f,ca.size,D,J,{...M,type:b}):Ra(f,q,D,J,{...M,type:b})}function ob(b,f,q,D,J,M){if("."===f)return oa(J,b,null==M?void 0:M.classes);const W=.25*J.scalingFactor;q=Math.max(q-W,D+W);return Sa(b,f,Math.max(q/500*901,2*q-.5),!0,J,M)}function oa(b,f,q){b=new be(b,void 0,"textstyle");return(new Vc(null,{classes:" nulldelimiter "+(null!=q?q:""),type:f})).wrap(b)}function Va(b){return!/^<({|}|\$|\$\$|space)>$/.test(b)}
function Ua(b,f,q){var D,J,M;const W=null!==(D=null==q?void 0:q.args)&&void 0!==D?D:null;b=new vf(Z(b,W),f,{args:W,mathstyle:null!==(J=null==q?void 0:q.mathstyle)&&void 0!==J?J:"displaystyle",parseMode:null!==(M=null==q?void 0:q.parseMode)&&void 0!==M?M:"math"});for(q=[];!b.end();)q.push(...b.parse());return q}function ua(b,f,q){var D;for(b=new vf(Z(b,null),f,{args:null,mathstyle:"displaystyle",parseMode:null!==(D=null==q?void 0:q.parseMode)&&void 0!==D?D:"math"});!b.end();)b.parse();return b.errors}
function Ta(b,f,q){return"number"==typeof b?{dimension:b,unit:"pt"}:("object"==typeof b&&"glue"in b&&(b=b.glue),"object"==typeof b&&"dimension"in b?b:(new vf(Z(b),f,{registers:q})).scanDimen())}function hb(b){const f=new rc("first",b.context,{mode:b.mode});f.parent=b;const q=new We(b.context,{mode:b.mode});return q.parent=b,[f,q]}function Bb(b){const f=new Vc(null,{classes:"arraycolsep"});return f.width=b,f}function Db(b){var f,q;if(Qg)return Qg;Qg={...Di};for(var D of Object.keys(fg))Qg[D]=null!==
(f=Ta(fg[D],b,Qg))&&void 0!==f?f:0;for(const W of Object.keys(Yh)){f=Qg;D=Yh[W];var J=b,M=Qg;D="object"==typeof D&&"glue"in D?D:"object"==typeof D&&"dimension"in D?{glue:D}:"number"==typeof D?{glue:{dimension:D}}:(new vf(Z(D),J,{registers:M})).scanGlue();f[W]=null!==(q=D)&&void 0!==q?q:0}return Qg}function Sb(){const b={registers:{},smartFence:!1,fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"▢",letterShapeStyle:se.locale.startsWith("fr")?"french":"tex",colorMap:t,backgroundColorMap:x,
getDefinition:tc,getMacro:f=>dc(f,za())};return{...b,registers:Db(b)}}function tc(b,f="math"){if(!b||0===b.length)return null;let q=null;if(b.startsWith("\\")){if(q=bg[b],q)return q;"math"===f?q=Ef[b]:Vf[b]&&(q={definitionType:"symbol",type:"mord",codepoint:Vf[b]})}else if("math"===f){if(q=Ef[b],!q&&1===b.length)return b=K("math",b.codePointAt(0)),b.startsWith("\\")?{...tc(b,"math"),command:b}:null}else Vf[b]?q={definitionType:"symbol",type:"mord",codepoint:Vf[b]}:"text"===f&&(q={definitionType:"symbol",
type:"mord",codepoint:b.codePointAt(0)});return!q||"symbol"!==q.definitionType||"mord"!==q.type||102!==q.codepoint&&103!==q.codepoint&&104!==q.codepoint||(q.isFunction=!0),null!=q?q:null}function dc(b,f){return b.startsWith("\\")?f[b.slice(1)]:null}function Yc(b,f){if(r(b))return b.map(J=>Yc(J,f));b={...b};for(var q of Gf)b[q]&&(b[q]=Yc(b[q],f));b.array&&(b.array=Yc(b.array,f));q=b.type;let D;"accent"===q&&(D=Bg.fromJson(b,f));"array"===q&&(D=Xe.fromJson(b,f));"box"===q&&(D=Xf.fromJson(b,f));"composition"===
q&&(D=eg.fromJson(b,f));"chem"===q&&(D=Oh.fromJson(b,f));"choice"===q&&(D=Ei.fromJson(b,f));"delim"===q&&(D=uh.fromJson(b,f));"enclose"===q&&(D=eh.fromJson(b,f));"error"===q&&(D=Fh.fromJson(b,f));"genfrac"===q&&(D=vh.fromJson(b,f));"group"===q&&(D=lf.fromJson(b,f));"latex"===q&&(D=uf.fromJson(b,f));"latexgroup"===q&&(D=Of.fromJson(b,f));"leftright"===q&&(D=wf.fromJson(b,f));"line"===q&&(D=Pg.fromJson(b,f));"macro"===q&&(D=Xh.fromJson(b,f));"msubsup"===q&&(D=Vg.fromJson(b,f));"overlap"===q&&(D=mg.fromJson(b,
f));"overunder"===q&&(D=If.fromJson(b,f));"placeholder"===q&&(b.defaultValue&&(b.defaultValue=Yc(b.defaultValue,f)),D=We.fromJson(b,f));"phantom"===q&&(D=kg.fromJson(b,f));"rule"===q&&(D=le.fromJson(b,f));"sizeddelim"===q&&(D=ti.fromJson(b,f));"spacing"===q&&(D=Og.fromJson(b,f));"surd"===q&&(D=jd.fromJson(b,f));"text"===q&&(D=Gg.fromJson(b,f));"tooltip"===q&&(D=Ph.fromJson(b,f));"mop"===q&&(D=Rf.fromJson(b,f));D||(D=rc.fromJson(b,f));for(const J of Gf)b[J]&&D.setChildren(b[J],J);return void 0!==b.verbatimLatex&&
(D.verbatimLatex=b.verbatimLatex),b.subsupPlacement&&(D.subsupPlacement=b.subsupPlacement),b.explicitSubsupPlacement&&(D.explicitSubsupPlacement=!0),b.isFunction&&(D.isFunction=!0),b.isExtensibleSymbol&&(D.isExtensibleSymbol=!0),b.skipBoundary&&(D.skipBoundary=!0),b.captureSelection&&(D.captureSelection=!0),D}function ed(b){if(1===b.length){b=b[0];if("mbin"===b.type)return"mbin";if("mrel"===b.type)return"mrel"}return"mord"}function bd(b){for(const f of b)for(const q of f)if(0<q.length)return!1;return!0}
function hd(b,f){return b[0]===f[0]&&b[1]===f[1]?"equal":"different"}function fc(b){let f=1/0,q=-1/0;for(const D of b.ranges)f=Math.min(f,D[0],D[1]),q=Math.max(q,D[0],D[1]);return[f,q]}function cd(b,f,q){return q?function(D,J){if(!J)return"";if("string"==typeof J)return J;if(!D||void 0===J.after)return J.value;let M=!1,W=!1,ca=!1,fa=!1,xa=!1,ta=!1,Ma=!1,Pa=!1,db=!1,pb=!1,Mb=!1,Rb=!1,pc=!1,hc=!1,kd=!1,gd=D[0],Vd=0;for(;gd&&/msubsup|placeholder/.test(gd.type);)Vd+=1,gd=D[Vd];return M=!gd||"first"===
gd.type,gd&&(hc="text"===gd.mode,W=!hc&&"mord"===gd.type&&th.test(gd.value),ca=!hc&&"mord"===gd.type&&/\d+$/.test(gd.value),fa=!hc&&gd.isFunction,xa="genfrac"===gd.type,ta="surd"===gd.type,Ma="mbin"===gd.type,Pa="mrel"===gd.type,db="mop"===gd.type,pb="mpunct"===gd.type||"minner"===gd.type,Mb="array"===gd.type,Rb="mopen"===gd.type,pc="mclose"===gd.type||"leftright"===gd.type,kd="space"===gd.type),J.after.includes("nothing")&&M||J.after.includes("letter")&&W||J.after.includes("digit")&&ca||J.after.includes("function")&&
fa||J.after.includes("frac")&&xa||J.after.includes("surd")&&ta||J.after.includes("binop")&&Ma||J.after.includes("relop")&&Pa||J.after.includes("operator")&&db||J.after.includes("punct")&&pb||J.after.includes("array")&&Mb||J.after.includes("openfence")&&Rb||J.after.includes("closefence")&&pc||J.after.includes("text")&&hc||J.after.includes("space")&&kd?J.value:""}(b,q[f]):""}function zd(b,f){var q;let D=null!==(q=null==f?void 0:f.format)&&void 0!==q?q:"auto";if("auto"===D){q=b;if(1>=(q=q.trim()).length)b=
["latex",q];else{var J;b=([J,q]=ge(q),J?["latex",q]:q.startsWith("`")&&q.endsWith("`")?["ascii-math",q.substring(1,q.length-1)]:q.includes("\\")?["latex",q]:/\$.+\$/.test(q)?["latex",`\\text{${q}}`]:[void 0,q])}[D,b]=b}return"ascii-math"===D?["ascii-math",Gd(b.replace(/\u2061/gu,"").replace(/\u3016/gu,"{").replace(/\u3017/gu,"}").replace(/([^\\])sinx/g,"$1\\sin x").replace(/([^\\])cosx/g,"$1\\cos x ").replace(/\u2013/g,"-"),{inlineShortcuts:null==f?void 0:f.inlineShortcuts})]:["latex",b]}function Gd(b,
f){var q,D,J;if(!b)return"";let M,W=!1;const ca=null!==(q=f.inlineShortcuts)&&void 0!==q?q:ui;(W||!b.startsWith("^")&&!b.startsWith("_")||(M=sc(b.slice(1),{inlineShortcuts:ca,noWrap:!0}),b=b[0]+"{"+M.match+"}",b+=Gd(M.rest,f),W=!0),!W&&(M=b.match(/^(sqrt|\u221A)(.*)/),M)&&(M=sc(M[2],{inlineShortcuts:ca,noWrap:!0}),b="\\sqrt{"+(null!==(D=M.match)&&void 0!==D?D:"\\placeholder{}")+"}",b+=Gd(M.rest,f),W=!0),!W&&(M=b.match(/^(\\cbrt|\u221B)(.*)/),M)&&(M=sc(M[2],{inlineShortcuts:ca,noWrap:!0}),b="\\sqrt[3]{"+
(null!==(J=M.match)&&void 0!==J?J:"\\placeholder{}")+"}",b+=Gd(M.rest,f),W=!0),W||(M=b.match(/^abs(.*)/),M&&(M=sc(M[1],{inlineShortcuts:ca,noWrap:!0}),b="\\left|"+M.match+"\\right|",b+=Gd(M.rest,f),W=!0)),W||(M=b.match(/^["\u201d\u201c](.*?)["\u201d\u201c](.*)/),M&&(b="\\text{"+M[1]+"}",b+=Gd(M[2],f),W=!0)),W||(M=b.match(/^([^a-zA-Z\(\{\[_\^\\\s"]+)(.*)/),M&&(b=de(M[1],ca),b+=Gd(M[2],f),W=!0)),!W&&/^([fgh])[^a-zA-Z]/.test(b)&&(M=sc(b.slice(1),{inlineShortcuts:ca,noWrap:!0}),b="("===b[1]?b[0]+"\\left("+
M.match+"\\right)":b[0]+M.match,b+=Gd(M.rest,f),W=!0),W||(M=b.match(/^([a-zA-Z]+)(.*)/),M&&(b=de(M[1],ca),b+=Gd(M[2],f),W=!0)),W)||((M=sc(b,{inlineShortcuts:ca,noWrap:!0}),M.match&&"/"===M.rest[0])?(q=sc(M.rest.slice(1),{inlineShortcuts:ca,noWrap:!0}),q.match&&(b="\\frac{"+M.match+"}{"+q.match+"}"+Gd(q.rest,f)),W=!0):M.match&&(b=b.startsWith("(")?"\\left("+M.match+"\\right)"+Gd(M.rest,f):M.match+Gd(M.rest,f),W=!0));return W||(M=b.match(/^(\s+)(.*)$/),M&&(b=" "+Gd(M[2],f))),b}function sc(b,f){let q=
"",D=b=b.trim();var J=b.charAt(0);let M={"(":")","{":"}","[":"]"}[J];if(M){let W=1,ca=1;for(;ca<b.length&&0<W;)b[ca]===J&&W++,b[ca]===M&&W--,ca++;0===W?(f.noWrap&&"("===J?q=Gd(b.substring(1,ca-1),f):("{"===J&&"}"===M&&(J="\\{",M="\\}"),q="\\left"+J+Gd(b.substring(1,ca-1),f)+"\\right"+M),D=b.slice(Math.max(0,ca))):(q=b.substring(1,ca),D="")}else{if(J=b.match(/^([a-zA-Z]+)/))if(f=cd(null,b,f.inlineShortcuts))return f=f.replace("_{#?}",""),f=f.replace("^{#?}",""),{match:f,rest:b.slice(f.length)};if(J=
b.match(/^([a-zA-Z])/),J)return{match:J[1],rest:b.slice(1)};if(J=b.match(/^(-)?\d+(\.\d*)?/),J)return{match:J[0],rest:b.slice(J[0].length)};/^\\(left|right)/.test(b)||(J=b.match(/^(\\[a-zA-Z]+)/),J&&(D=b.slice(J[1].length),q=J[1]))}return{match:q,rest:D}}function de(b,f){f=cd(null,b,f);return f?(f=f.replace("_{#?}",""),f=f.replace("^{#?}",""),f+=" "):f=b,f}function ge(b){const f=b.trim();for(const q of Ui)if(f.startsWith(q[0])&&f.endsWith(q[1]))return[!0,f.substring(q[0].length,f.length-q[1].length)];
return[!1,b]}function Ce(b){return b.replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}function Jb(b,f){return b&&f.generateID?` extid="${b}"`:""}function ke(b){return b.index<b.atoms.length&&b.atoms[b.index].superscript&&"msubsup"===b.atoms[b.index].type}function nd(b,f,q){var D=f.atoms[f.index-1];if(!D||(D.superscript||D.subscript||(ke(f)||f.index<f.atoms.length&&f.atoms[f.index].subscript&&"msubsup"===f.atoms[f.index].type)&&(D=f.atoms[f.index],
f.index+=1),!D)||"msubsup"===D.type)return!1;const J=od(D.superscript,q);q=od(D.subscript,q);if(!J&&!q)return!1;D="";return J&&q?D=`<msubsup>${b}${q}${J}</msubsup>`:J?D=`<msup>${b}${J}</msup>`:q&&(D=`<msub>${b}${q}</msub>`),f.mathML+=D,f.lastType="",!0}function od(b,f,q,D){q={atoms:[],index:null!=q?q:0,mathML:"",lastType:""};if("number"==typeof b||"boolean"==typeof b)q.mathML=b.toString();else if("string"==typeof b)q.mathML=b;else if(b instanceof rc)q.mathML=vc(b,f);else if(Array.isArray(b)){q.atoms=
b;let Pa=0;for(D=D||(b?b.length:0);q.index<D;){b=q;var J=D,M=f;J=null!=J?J:b.atoms.length;for(var W=b.index,ca="";b.index<J&&"text"===b.atoms[b.index].mode;)ca+=b.atoms[b.index].value?b.atoms[b.index].value:" ",b.index+=1;if(!(W=0<ca.length&&(b.mathML+=`<mtext ${Jb(b.atoms[W].id,M)}\n      >${ca}</mtext>`,b.lastType="mtext",!0))){b=q;W=D;J=f;W=null!=W?W:b.atoms.length;ca=b.index;M="";var fa=-1;for(var xa=b.index,ta=!1,Ma=!1;xa<b.atoms.length&&!ta&&!Ma;)Ma=b.atoms[xa],ta=!Ma.isDigit(),Ma=!ta&&void 0!==
Ma.superscript,xa++;xa=(Ma&&(fa=xa-1),fa);for(0<=xa&&xa<W&&(W=xa);b.index<W&&b.atoms[b.index].isDigit();)M+=b.atoms[b.index].asDigit(),b.index+=1;W=!(0>=M.length||(M="\x3cmn"+Jb(b.atoms[ca].id,J)+"\x3e"+M+"\x3c/mn\x3e",0>xa&&ke(b)&&(b.index+=1),nd(M,b,J)||(b.mathML+=M,b.lastType="mn"),0))}(fa=W)||(b=q,fa=D,J=f,M=!1,fa=null!=fa?fa:b.atoms.length,ca=W="",xa=b.atoms[b.index],fa=(b.index<fa&&("mord"===xa.type||"macro"===xa.type)&&!xa.isDigit()&&(ca=vc(xa,J),b.index+=1),0<ca.length&&(M=!0,W=ca,"mi"!==
b.lastType&&"mn"!==b.lastType&&"mtext"!==b.lastType&&"fence"!==b.lastType||/^<mo>(.*)<\/mo>$/.test(W)||(W=`<mo>${"\x26#8290;"}</mo>${W}`),ca.endsWith("\x3ef\x3c/mi\x3e")||ca.endsWith("\x3eg\x3c/mi\x3e")?(W+="\x3cmo\x3e\x26#x2061;\x3c/mo\x3e",b.lastType="applyfunction"):b.lastType=/^<mo>(.*)<\/mo>$/.test(W)?"mo":"mi",nd(ca,b,J)||(b.mathML+=W)),M));(W=fa)||(b=q,xa=D,W=f,J=!1,xa=null!=xa?xa:b.atoms.length,ca=M="",fa=b.atoms[b.index],b.index<xa&&("mbin"===fa.type||"mrel"===fa.type)?(M+=vc(b.atoms[b.index],
W),b.index+=1,ca="mo"):b.index<xa&&"mop"===fa.type&&("over-under"===fa.subsupPlacement&&(fa.superscript||fa.subscript)?(ca=te(fa,W),fa.superscript&&fa.subscript?(M+="\x3cmunderover\x3e"+ca,M+=od(fa.subscript,W),M+=od(fa.superscript,W),M+="\x3c/munderover\x3e"):fa.superscript?(M+="\x3cmover\x3e"+ca,M+=od(fa.superscript,W),M+="\x3c/mover\x3e"):fa.subscript&&(M+="\x3cmunder\x3e"+ca,M+=od(fa.subscript,W),M+="\x3c/munder\x3e"),ca="mo"):(xa=b.atoms[b.index],xa=(fa="\\operatorname"===xa.value)?'\x3cmi class\x3d"MathML-Unit"'+
Jb(xa.id,W)+"\x3e"+pe(xa.value)+"\x3c/mi\x3e":te(xa,W),M+=xa,fa||/^<mo>(.*)<\/mo>$/.test(xa)?ca=fa?"mi":"mo":(M+="\x3cmo\x3e\x26#x2061;\x3c/mo\x3e",ca="applyfunction")),"mi"!==b.lastType&&"mn"!==b.lastType||/^<mo>(.*)<\/mo>$/.test(M)||(M=`<mo>${"\x26#8290;"}</mo>${M}`),b.index+=1),W=(nd(M,b,W)||0<M.length&&(J=!0,b.mathML+=M,b.lastType=ca),J));if(!(ca=W)){b=q;ca=D;fa=f;J=!1;ca=null!=ca?ca:b.atoms.length;W=M="";if(b.index<ca&&"mopen"===b.atoms[b.index].type){xa=!1;ta=0;Ma=b.index;let db=-1,pb=Ma+1;
for(;pb<ca&&!xa;)"mopen"===b.atoms[pb].type?ta+=1:"mclose"===b.atoms[pb].type&&--ta,-1===ta&&(xa=!0,db=pb),pb+=1;xa&&(M="\x3cmrow\x3e",M+=te(b.atoms[Ma],fa),M+=od(b.atoms,fa,Ma+1,db),M+=te(b.atoms[db],fa),M+="\x3c/mrow\x3e","mi"!==b.lastType&&"mn"!==b.lastType&&"mfrac"!==b.lastType&&"fence"!==b.lastType||(M=`<mo>${"\x26#8290;"}</mo>${M}`),b.index=db+1,nd(M,b,fa)&&(J=!0,b.lastType="",M=""),W="fence")}ca=(0<M.length&&(J=!0,b.mathML+=M,b.lastType=W),J)}ca?Pa+=1:q.index<D&&(b=vc(q.atoms[q.index],f),"mn"===
q.lastType&&0<b.length&&"genfrac"===q.atoms[q.index].type&&(b="\x3cmo\x3e\x26#x2064;\x3c/mo\x3e"+b),"genfrac"===q.atoms[q.index].type?q.lastType="mfrac":q.lastType="",q.index+=1,nd(b,q,f)?Pa+=2:0<b.length&&(q.mathML+=b,Pa+=1))}1<Pa&&(q.mathML="\x3cmrow\x3e"+q.mathML+"\x3c/mrow\x3e")}return q.mathML}function te(b,f){let q="";const D=pe(b.value);return D&&(q="\x3cmo"+Jb(b.id,f)+"\x3e"+D+"\x3c/mo\x3e"),q}function pe(b){if(!b)return"";if("string"==typeof b)return Ce(b);if(!Array.isArray(b)&&"string"==
typeof b.body)return Ce(b.body);let f="";for(const q of b)"string"==typeof q.value&&(f+=q.value);return Ce(f)}function vc(b,f){var q,D,J,M,W,ca,fa,xa,ta,Ma,Pa,db,pb,Mb,Rb,pc,hc,kd,gd,Vd,of,Ve,mf,cg,vg;const dg={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",
xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"\x3d",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},wg={"\\exponentialE":"\x26#x02147;","\\imaginaryI":"\x26#x2148;","\\differentialD":"\x26#x2146;",
"\\capitalDifferentialD":"\x26#x2145;","\\alpha":"\x26#x03b1;","\\pi":"\x26#x03c0;","\\infty":"\x26#x221e;","\\forall":"\x26#x2200;","\\nexists":"\x26#x2204;","\\exists":"\x26#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."},Eg={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};var af;let bf,Xc="",jg="";(af=null!==(D={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",
cmss:"sans-serif"}[null!==(q=b.fontFamily)&&void 0!==q?q:b.font])&&void 0!==D?D:"")&&(af=` mathvariant="${af}"`);({command:q}=b);if("text"===b.mode)Xc=`<mi${Jb(b.id,f)}>${b.value}</mi>`;else switch(b.type){case "group":case "root":Xc=Sf[b.command]?Sf[b.command]:od(b.body,f);break;case "array":if((b.leftDelim&&"."!==b.leftDelim||b.rightDelim&&"."!==b.rightDelim)&&(Xc+="\x3cmrow\x3e",b.leftDelim&&"."!==b.leftDelim&&(Xc+="\x3cmo\x3e"+(Sf[b.leftDelim]||b.leftDelim)+"\x3c/mo\x3e")),Xc+="\x3cmtable",b.colFormat){Xc+=
' columnalign\x3d"';for(af=0;af<b.colFormat.length;af++)b.colFormat[af].align&&(Xc+={l:"left",c:"center",r:"right"}[b.colFormat[af].align]+" ");Xc+='"'}Xc+="\x3e";for(W=0;W<b.array.length;W++){Xc+="\x3cmtr\x3e";for(af=0;af<b.array[W].length;af++)Xc+="\x3cmtd\x3e"+od(b.array[W][af],f)+"\x3c/mtd\x3e";Xc+="\x3c/mtr\x3e"}Xc+="\x3c/mtable\x3e";(b.leftDelim&&"."!==b.leftDelim||b.rightDelim&&"."!==b.rightDelim)&&(b.rightDelim&&"."!==b.rightDelim&&(Xc+="\x3cmo\x3e"+(Sf[b.leftDelim]||b.rightDelim)+"\x3c/mo\x3e"),
Xc+="\x3c/mrow\x3e");break;case "genfrac":(b.leftDelim||b.rightDelim)&&(Xc+="\x3cmrow\x3e");b.leftDelim&&"."!==b.leftDelim&&(Xc+="\x3cmo"+Jb(b.id,f)+"\x3e"+(Sf[b.leftDelim]||b.leftDelim)+"\x3c/mo\x3e");b.hasBarLine?(Xc+="\x3cmfrac\x3e",Xc+=od(b.above,f)||"\x3cmi\x3e\x26nbsp;\x3c/mi\x3e",Xc+=od(b.below,f)||"\x3cmi\x3e\x26nbsp;\x3c/mi\x3e",Xc+="\x3c/mfrac\x3e"):(Xc+="\x3cmtable"+Jb(b.id,f)+"\x3e",Xc+="\x3cmtr\x3e"+od(b.above,f)+"\x3c/mtr\x3e",Xc+="\x3cmtr\x3e"+od(b.below,f)+"\x3c/mtr\x3e",Xc+="\x3c/mtable\x3e");
b.rightDelim&&"."!==b.rightDelim&&(Xc+="\x3cmo"+Jb(b.id,f)+"\x3e"+(Sf[b.rightDelim]||b.rightDelim)+"\x3c/mo\x3e");(b.leftDelim||b.rightDelim)&&(Xc+="\x3c/mrow\x3e");break;case "surd":b.hasEmptyBranch("above")?(Xc+="\x3cmsqrt"+Jb(b.id,f)+"\x3e",Xc+=od(b.body,f),Xc+="\x3c/msqrt\x3e"):(Xc+="\x3cmroot"+Jb(b.id,f)+"\x3e",Xc+=od(b.body,f),Xc+=od(b.above,f),Xc+="\x3c/mroot\x3e");break;case "leftright":Xc="\x3cmrow\x3e";b.leftDelim&&"."!==b.leftDelim&&(Xc+="\x3cmo"+Jb(b.id,f)+"\x3e"+(null!==(J=Sf[b.leftDelim])&&
void 0!==J?J:b.leftDelim)+"\x3c/mo\x3e");b.body&&(Xc+=od(b.body,f));b.rightDelim&&"."!==b.rightDelim&&(Xc+="\x3cmo"+Jb(b.id,f)+"\x3e"+(null!==(M=Sf[b.rightDelim])&&void 0!==M?M:b.rightDelim)+"\x3c/mo\x3e");Xc+="\x3c/mrow\x3e";break;case "sizeddelim":case "delim":Xc+='\x3cmo separator\x3d"true"'+Jb(b.id,f)+"\x3e"+(Sf[b.delim]||b.delim)+"\x3c/mo\x3e";break;case "accent":Xc+='\x3cmover accent\x3d"true"'+Jb(b.id,f)+"\x3e";Xc+=od(b.body,f);Xc+="\x3cmo\x3e"+(Sf[q]||b.accent)+"\x3c/mo\x3e";Xc+="\x3c/mover\x3e";
break;case "overunder":M=b.above;J=b.below;(b.svgAbove||M)&&(b.svgBelow||J)?bf=b.body:M&&0<M.length?(bf=b.body,(null===(ca=null===(W=b.body)||void 0===W?void 0:W[0])||void 0===ca?0:ca.below)?(J=b.body[0].below,bf=b.body[0].body):"first"===(null===(xa=null===(fa=b.body)||void 0===fa?void 0:fa[0])||void 0===xa?void 0:xa.type)&&(null===(Ma=null===(ta=b.body)||void 0===ta?void 0:ta[1])||void 0===Ma?void 0:Ma.below)&&(J=b.body[1].below,bf=b.body[1].body)):J&&0<J.length&&(bf=b.body,(null===(db=null===(Pa=
b.body)||void 0===Pa?void 0:Pa[0])||void 0===db?0:db.above)?(M=b.body[0].above,bf=b.body[0].body):"first"===(null===(Mb=null===(pb=b.body)||void 0===pb?void 0:pb[0])||void 0===Mb?void 0:Mb.type)&&(null===(pc=null===(Rb=b.body)||void 0===Rb?void 0:Rb[1])||void 0===pc?void 0:pc.above)&&(M=b.body[1].overscript,bf=b.body[1].body));(b.svgAbove||M)&&(b.svgBelow||J)?(Xc+=`<munderover ${af} ${Jb(b.id,f)}>`,Xc+=null!==(hc=dg[b.svgBody])&&void 0!==hc?hc:od(bf,f),Xc+=null!==(kd=dg[b.svgBelow])&&void 0!==kd?
kd:od(J,f),Xc+=null!==(gd=dg[b.svgAbove])&&void 0!==gd?gd:od(M,f),Xc+="\x3c/munderover\x3e"):b.svgAbove||M?(Xc+=`<mover ${af} ${Jb(b.id,f)}>`+(null!==(Vd=dg[b.svgBody])&&void 0!==Vd?Vd:od(bf,f)),Xc+=null!==(of=dg[b.svgAbove])&&void 0!==of?of:od(M,f),Xc+="\x3c/mover\x3e"):(b.svgBelow||J)&&(Xc+=`<munder ${af} ${Jb(b.id,f)}>`+(null!==(Ve=dg[b.svgBody])&&void 0!==Ve?Ve:od(bf,f)),Xc+=null!==(mf=dg[b.svgBelow])&&void 0!==mf?mf:od(J,f),Xc+="\x3c/munder\x3e");break;case "placeholder":case "mord":Xc=wg[q]||
q||("string"==typeof b.value?b.value:"");(W=q?q.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null)?Xc="\x26#x"+W[1]+";":0<Xc.length&&Xc.startsWith("\\")&&(Xc="string"==typeof b.value&&255<b.value.charCodeAt(0)?"\x26#x"+("000000"+b.value.charCodeAt(0).toString(16)).slice(-4)+";":"string"==typeof b.value?b.value.charAt(0):"");W=/\d/.test(Xc)?"mn":"mi";Xc=`<${W}${af}${Jb(b.id,f)}>${Ce(Xc)}</${W}>`;break;case "mbin":case "mrel":case "minner":Xc=q&&wg[q]?"\x3cmi"+Jb(b.id,f)+"\x3e"+wg[q]+"\x3c/mi\x3e":q&&Sf[q]?
"\x3cmo"+Jb(b.id,f)+"\x3e"+Sf[q]+"\x3c/mo\x3e":te(b,f);break;case "mpunct":Xc='\x3cmo separator\x3d"true"'+Jb(b.id,f)+"\x3e"+(null!==(cg=Sf[q])&&void 0!==cg?cg:q)+"\x3c/mo\x3e";break;case "mop":"​"!==b.body&&(Xc="\x3cmo"+Jb(b.id,f)+"\x3e",Xc+="\\operatorname"===q?b.body:q||b.body,Xc+="\x3c/mo\x3e");break;case "box":Xc='\x3cmenclose notation\x3d"box"';b.backgroundcolor&&(Xc+=' mathbackground\x3d"'+b.backgroundcolor+'"');Xc+=Jb(b.id,f)+"\x3e"+od(b.body,f)+"\x3c/menclose\x3e";break;case "spacing":Xc+=
'\x3cmspace width\x3d"'+(null!==(vg=Eg[q])&&void 0!==vg?vg:0)+'em"/\x3e';break;case "enclose":Xc='\x3cmenclose notation\x3d"';for(const Fg in b.notation)Object.prototype.hasOwnProperty.call(b.notation,Fg)&&b.notation[Fg]&&(Xc+=jg+Fg,jg=" ");Xc+=Jb(b.id,f)+'"\x3e'+od(b.body,f)+"\x3c/menclose\x3e";break;case "space":Xc+="\x26nbsp;";break;case "mopen":case "mclose":Xc+=te(b,f);break;case "macro":(af=b.command+pe(b.macroArgs))&&(Xc+=`<mo ${Jb(b.id,f)}>${af}</mo>`);break;case "latexgroup":case "tooltip":Xc+=
od(b.body,f);break;case "latex":Xc+="\x3cmtext"+Jb(b.id,f)+"\x3e"+b.value+"\x3c/mtext\x3e"}return Xc}function Od(b){let f=0;if(r(b))for(const q of b)"first"!==q.type&&(f+=1);return 1===f}function gc(b){let f="";if(r(b))for(const q of b)"first"!==q.type&&"string"==typeof q.value&&(f+=q.value);return f}function Rc(b,f,q){function D(Pa){return"\x3cemphasis\x3e"+Pa+"\x3c/emphasis\x3e"}var J,M,W;if(!f)return"";let ca="";if(r(f)){var fa=!1;var xa=!1;for(var ta=0;ta<f.length;ta++)"text"!==f[ta].mode&&(xa=
!1),ta<f.length-2&&"mopen"===f[ta].type&&"mclose"===f[ta+2].type&&"mord"===f[ta+1].type?(ca+=" of ",ca+=D(Rc(b,f[ta+1],q)),ta+=2):"text"===f[ta].mode?xa?ca+=null!==(J=f[ta].value)&&void 0!==J?J:" ":(xa=!0,ca+=Rc("text",f[ta],q)):f[ta].isDigit()?fa?ca+=f[ta].asDigit():(fa=!0,ca+=Rc(b,f[ta],q)):(fa=!1,ca+=Rc(b,f[ta],q))}else if("text"===f.mode)f.id&&"math"===b&&(ca+='\x3cmark name\x3d"'+f.id.toString()+'"/\x3e'),ca+=f.value;else{f.id&&"math"===b&&(ca+='\x3cmark name\x3d"'+f.id.toString()+'"/\x3e');
var Ma="";let Pa="";Ma="";J=!1;switch(f.type){case "group":case "root":ca+=Rc("math",f.body,q);break;case "genfrac":(Ma=Rc("math",f.above,q),Pa=Rc("math",f.below,q),Od(f.above)&&Od(f.below))?(fa={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ",
"1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[gc(f.above)+"/"+gc(f.below)])?ca=fa:ca+=Ma+" over "+Pa:ca+=' the fraction \x3cbreak time\x3d"150ms"/\x3e'+Ma+', over \x3cbreak time\x3d"150ms"/\x3e'+Pa+'.\x3cbreak time\x3d"150ms"/\x3e End fraction.\x3cbreak time\x3d"150ms"/\x3e';break;case "surd":(Ma=Rc("math",f.body,q),f.hasEmptyBranch("above"))?ca+=Od(f.body)?" the square root of "+Ma+" , ":' the square root of \x3cbreak time\x3d"200ms"/\x3e'+
Ma+'. \x3cbreak time\x3d"200ms"/\x3e End square root':(fa=Rc("math",f.above,q),fa=fa.trim(),xa=fa.replace(/<mark([^/]*)\/>/g,""),ca+="3"===xa?' the cube root of \x3cbreak time\x3d"200ms"/\x3e'+Ma+'. \x3cbreak time\x3d"200ms"/\x3e End cube root':"n"===xa?' the nth root of \x3cbreak time\x3d"200ms"/\x3e'+Ma+'. \x3cbreak time\x3d"200ms"/\x3e End root':' the root with index: \x3cbreak time\x3d"200ms"/\x3e'+fa+', of \x3cbreak time\x3d"200ms"/\x3e'+Ma+'. \x3cbreak time\x3d"200ms"/\x3e End root');break;
case "leftright":ca+=null!==(M=f.leftDelim?lh[f.leftDelim]:void 0)&&void 0!==M?M:f.leftDelim;ca+=Rc("math",f.body,q);ca+=null!==(W=f.rightDelim?lh[f.rightDelim]:void 0)&&void 0!==W?W:f.rightDelim;break;case "placeholder":ca+="placeholder ";break;case "delim":case "sizeddelim":case "mord":case "minner":case "mbin":case "mrel":case "mpunct":case "mopen":case "mclose":({command:xa}=f);if("\\mathbin"===xa||"\\mathrel"===xa||"\\mathopen"===xa||"\\mathclose"===xa||"\\mathpunct"===xa||"\\mathord"===xa||
"\\mathinner"===xa){ca=Rc(b,f.body,q);break}xa=f.isDigit()?f.asDigit():f.value;ta=f.command;("delim"!==f.type&&"sizeddelim"!==f.type||(ta=f.value,xa=ta),"text"===b)?ca+=xa:(("mbin"===f.type&&(ca+='\x3cbreak time\x3d"150ms"/\x3e'),xa)?(M=lh[xa]||(ta?lh[ta.trim()]:""))?ca+=" "+M:(ta=ta?function(db){let pb="";return db.startsWith("\\")&&(pb=" "+db.replace("\\","")+" "),pb}(ta.trim()):"",ca+=ta||(fa=xa,q.textToSpeechMarkup?/[a-z]/.test(fa)?` <say-as interpret-as="character">${fa}</say-as>`:/[A-Z]/.test(fa)?
`capital <say-as interpret-as="character">${fa.toLowerCase()}</say-as>`:fa:/[a-z]/.test(fa)?" '"+fa.toUpperCase()+"'":/[A-Z]/.test(fa)?" 'capital "+fa.toUpperCase()+"'":fa)):ca+=Rc("math",f.body,q),"mbin"===f.type&&(ca+='\x3cbreak time\x3d"150ms"/\x3e'));break;case "mop":"​"!==f.value&&(fa=f.command,"\\sum"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?f.hasEmptyBranch("subscript")?ca+=" the summation of":(J=Rc("math",f.subscript,q),J=J.trim(),ca+=' the summation from \x3cbreak time\x3d"200ms"/\x3e'+
J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the summation from \x3cbreak time\x3d"200ms"/\x3e'+fa+'\x3cbreak time\x3d"200ms"/\x3e to  \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):"\\prod"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?f.hasEmptyBranch("subscript")?ca+=" the product  of ":(J=Rc("math",
f.subscript,q),J=J.trim(),ca+=' the product from \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the product from \x3cbreak time\x3d"200ms"/\x3e'+fa+'\x3cbreak time\x3d"200ms"/\x3e to \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):"\\int"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?
ca+=' the integral of \x3cbreak time\x3d"200ms"/\x3e ':(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the integral from \x3cbreak time\x3d"200ms"/\x3e'+D(fa)+'\x3cbreak time\x3d"200ms"/\x3e to \x3cbreak time\x3d"200ms"/\x3e'+D(J)+' \x3cbreak time\x3d"200ms"/\x3e of ',J=!0):"string"==typeof f.value?ca+=(null!==(xa=lh[f.value])&&void 0!==xa?xa:f.command?lh[f.command]:void 0)||" "+f.value:f.command&&("\\mathop"===f.command?ca+=Rc("math",f.body,q):"\\operatorname"===
f.command?ca+=(ta=f.body)?ta.map(db=>db.value).join(""):"":ca+=f.command.startsWith("\\")?" "+f.command.slice(1):" "+f.command));break;case "enclose":Ma=Rc("math",f.body,q),ca+=" crossed out "+Ma+". End crossed out."}J||f.hasEmptyBranch("superscript")||(fa=Rc(b,f.superscript,q),fa=fa.trim(),xa=fa.replace(/<[^>]*>/g,""),Od(f.superscript)?("math"===b&&(b=function(db){if(r(db))for(const pb of db)if("first"!==pb.type&&pb.id)return pb.id.toString();return""}(f.superscript))&&(ca+='\x3cmark name\x3d"'+
b+'"/\x3e'),"′"===xa?ca+=" prime ":"2"===xa?ca+=" squared ":"3"===xa?ca+=" cubed ":Number.isNaN(Number.parseInt(xa))?ca+=" to the "+fa+"; ":ca+=' to the \x3csay-as interpret-as\x3d"ordinal"\x3e'+xa+"\x3c/say-as\x3e power; "):Number.isNaN(Number.parseInt(xa))?ca+=" raised to the "+fa+"; ":ca+=' raised to the \x3csay-as interpret-as\x3d"ordinal"\x3e'+xa+"\x3c/say-as\x3e power; ");J||f.hasEmptyBranch("subscript")||(q=Rc("math",f.subscript,q),q=q.trim(),ca+=Od(f.subscript)?" sub "+q:" subscript "+q+". End subscript. ")}return ca}
function Tc(b,f){var q;f={...f,textToSpeechRulesOptions:{...f.textToSpeechRulesOptions}};if("sre"===f.textToSpeechRules&&"sre"in globalThis)return(b=od(b,f))?(f.textToSpeechMarkup&&(f.textToSpeechRulesOptions=null!==(q=f.textToSpeechRulesOptions)&&void 0!==q?q:{},f.textToSpeechRulesOptions.markup=f.textToSpeechMarkup,"ssml"===f.textToSpeechRulesOptions.markup&&(f.textToSpeechRulesOptions.markup="ssml_step"),f.textToSpeechRulesOptions.rate=f.speechEngineRate),f.textToSpeechRulesOptions&&globalThis.sre.System.getInstance().setupEngine(f.textToSpeechRulesOptions),
globalThis.sre.System.getInstance().toSpeech(b)):"";q=Rc("math",b,f);"ssml"===f.textToSpeechMarkup?(b="",f.speechEngineRate&&(b='\x3cprosody rate\x3d"'+f.speechEngineRate+'"\x3e'),q='\x3c?xml version\x3d"1.0"?\x3e\x3cspeak version\x3d"1.1" xmlns\x3d"http://www.w3.org/2001/10/synthesis" xml:lang\x3d"en-US"\x3e\x3camazon:auto-breaths\x3e'+b+"\x3cp\x3e\x3cs\x3e"+q+"\x3c/s\x3e\x3c/p\x3e"+(b?"\x3c/prosody\x3e":"")+"\x3c/amazon:auto-breaths\x3e\x3c/speak\x3e"):q="mac"===f.textToSpeechMarkup&&"macos"===
h()?q.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):q.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return q}function xd(b,f,q,D){f=f.split(" ");for(const J of f)if(f=J.match(/(.*):(.*)/)){const M=null!=D?D:{};"active"===f[2]?M.passive=!1:M[f[2]]=!0;b.addEventListener(f[1],q,M)}else b.addEventListener(J,q,D)}function Dc(b,f,q,D){f=f.split(" ");for(const J of f)if(f=
J.match(/(.*):(.*)/)){const M=null!=D?D:{};"active"===f[2]?M.passive=!1:M[f[2]]=!0;b.removeEventListener(f[1],q,M)}else b.removeEventListener(J,q,D)}function yf(b){var f;d();let q=document.getElementById(b);return q?q.dataset.refcount=Number(Number.parseInt(null!==(f=q.getAttribute("data-refcount"))&&void 0!==f?f:"0")+1).toString():(q=document.createElement("div"),q.setAttribute("aria-hidden","true"),q.dataset.refcount="1",q.id=b,document.body.append(q)),q}function He(b){var f;if(b){var q=Number.parseInt(null!==
(f=b.getAttribute("data-refcount"))&&void 0!==f?f:"0");1>=q?b.remove():b.dataset.refcount=Number(q-1).toString()}}function we(b){var f;return(null===(f=b.element)||void 0===f?void 0:f.mathfield)===b}function Ne(b){var f,q;var D=null!==(q=null!==(f=b.querySelector(".ML__caret"))&&void 0!==f?f:b.querySelector(".ML__text-caret"))&&void 0!==q?q:b.querySelector(".ML__latex-caret");if(!D)return null;b=D.getBoundingClientRect();return{x:b.right,y:b.bottom,height:b.height}}function Pe(b,f){if(!f)return null;
var q=b.field.getBoundingClientRect();b=Math.ceil(f.left-q.left+b.field.scrollLeft);q=Math.ceil(f.top-q.top);return{left:b,right:b+(f.right-f.left),top:q,bottom:q+(f.bottom-f.top)}}function ie(b){var f=b.getBoundingClientRect();const q=parseInt(getComputedStyle(b).marginRight);f={top:f.top-1,bottom:f.bottom,left:f.left,right:f.right-1+q};if(0===b.children.length||"SVG"===b.tagName.toUpperCase())return f;for(const D of b.children)1===D.nodeType&&"atomId"in D.dataset&&!D.classList.contains("pstrut")&&
(b=ie(D),f.left=Math.min(f.left,b.left),f.right=Math.max(f.right,b.right),f.top=Math.min(f.top,b.top),f.bottom=Math.max(f.bottom,b.bottom));return f}function cf(b,f){var q,D;if(!f.id)return null;let J=null!==(D=null===(q=b.atomBoundsCache)||void 0===q?void 0:q.get(f.id))&&void 0!==D?D:null;if(null!==J)return J;q=b.field.querySelector(`[data-atom-id="${f.id}"]`);return J=q?ie(q):null,b.atomBoundsCache&&(J?b.atomBoundsCache.set(f.id,J):b.atomBoundsCache.delete(f.id)),null!=J?J:null}function rf(b,f){return b.model.selection.ranges.reduce((q,
D)=>{var J=q.concat;var M=new Map;for(const fa of b.model.getAtoms(D,{includeChildren:!0})){if((null==f?0:f.excludeAtomsWithBackground)&&fa.style.backgroundColor)break;if(D=Pe(b,cf(b,fa))){var W=void 0;if(fa.parent){var ca=null!==(W=fa.parent.id)&&void 0!==W?W:"";W=(ca+="string"==typeof fa.treeBranch?"-"+fa.treeBranch:`-${fa.treeBranch[0]}/${fa.treeBranch[0]}`,ca)}else W="root";ca=W;M.has(ca)?(W=M.get(ca),M.set(ca,{left:Math.min(W.left,D.left),right:Math.max(W.right,D.right),top:Math.min(W.top,D.top),
bottom:Math.max(W.bottom,D.bottom)})):M.set(ca,D)}}M=[...M.values()];return J.call(q,...M)},[])}function ff(b,f){return"*"===b||"none"===f||("same-origin"===f?!globalThis.origin||b===globalThis.origin:"function"==typeof f&&f(b))}function gf(b){let f=0,q=0;const D=b.offsetWidth,J=b.offsetHeight;for(;b instanceof HTMLElement;)f+=b.offsetTop,q+=b.offsetLeft,b=b.offsetParent;return new DOMRect(q,f,D,J)}function ee(b){if(!b)return"";({style:b}=b);if(void 0===b.variant)return"";let f=b.variant;return b.variantStyle&&
"up"!==b.variantStyle&&(f+="-"+b.variantStyle),f}function Nb(b){return[va(b.map(f=>f[0])),b.map(f=>f[1]).some(f=>!0===f)]}function Yd(b){let f=0;for(let q=0;q<b.length;q++)f=Math.imul(31,f)+b.charCodeAt(q)|0;return Math.abs(f)}function De(b,f,q){var D,J;if(d(),!f)return null;let M=null!==(D=null==b?void 0:b.getRootNode())&&void 0!==D?D:null===document||void 0===document?void 0:document.head;if(!M)return null;M===document&&(M=document.head);(b=M.querySelector(`style[data-id="${q}"]`))?(f=Number.parseFloat(null!==
(J=b.getAttribute("data-refcount"))&&void 0!==J?J:"0"),b.dataset.refcount=Number(f+1).toString()):(J=document.createElement("style"),J.dataset.id=q,J.dataset.refcount="1",J.append(document.createTextNode(f)),M.appendChild(J));return{release:()=>{var W;const ca=M.querySelector(`style[data-id="${q}"]`);if(ca){const fa=Number.parseFloat(null!==(W=ca.getAttribute("data-refcount"))&&void 0!==W?W:"0");1===fa?ca.remove():ca.dataset.refcount=Number(fa-1).toString()}}}}function me(b){b=b.split("+");const f=
{shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:b.pop()};return b.includes("shift")&&(f.shift=!0),b.includes("alt")&&(f.alt=!0),b.includes("ctrl")&&(f.ctrl=!0),b.includes("cmd")&&(f.cmd=!0),b.includes("win")&&(f.win=!0),b.includes("meta")&&(f.meta=!0),f}function Lc(b){let f="";return b.shift&&(f+="shift+"),b.alt&&(f+="alt+"),b.ctrl&&(f+="ctrl+"),b.cmd&&(f+="cmd+"),b.win&&(f+="win+"),b.meta&&(f+="meta+"),f+b.key}function Hd(){switch(h()){case "macos":case "ios":return"apple";case "windows":return"windows"}return"linux"}
function ya(b){b.platform&&b.platform!==Hd()||lg.push(b)}function Ia(b){return r(b)&&(b=0<b.length?b[0]+"("+b.slice(1).join("")+")":""),b}function fb(b,f){let q=[];if("string"==typeof f){const D=Vi[f];r(D)?q=D.slice():D&&q.push(D)}f=Ia(f);f=new RegExp("^"+f.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(const D of b)f.test(Ia(D.command))&&q.push(D.key);return q.map(lb)}function lb(b){var f;const q=/macos|ios|/.test(h());b=b.split("+");
let D="";for(const J of b)!q&&D&&(D+='\x3cspan class\x3d"ML__shortcut-join"\x3e+\x3c/span\x3e'),J.startsWith("[Key")?D+=J.slice(4,5):J.startsWith("Key")?D+=J.slice(3,4):J.startsWith("[Digit")?D+=J.slice(6,7):J.startsWith("Digit")?D+=J.slice(5,6):D+=null!==(f={cmd:"⌘",meta:q?"⌘":"command",shift:q?"⇧":"shift",alt:q?"⌥":"alt",ctrl:q?"⌃":"control","\n":q?"⏎":"return","[return]":q?"⏎":"return","[enter]":q?"⌤":"enter","[tab]":q?"⇥":"tab","[escape]":"esc","[backspace]":q?"⌫":"backspace","[delete]":q?"⌦":
"del","[pageup]":q?"⇞":"page up","[pagedown]":q?"⇟":"page down","[home]":q?"⤒":"home","[end]":q?"⤓":"end","[space]":"space","[equal]":"\x3d","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"\x3d",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* \x26#128290;",numpaddivide:"/ \x26#128290;",numpadsubtract:"- \x26#128290;",numpadadd:"+ \x26#128290;",
numpaddecimal:". \x26#128290;",numpadcomma:", \x26#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[J.toLowerCase()])&&void 0!==f?f:J.toUpperCase();return D}function yb(b,f){if(b.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(b.ifPlatform))throw Error(`Unexpected platform "${b.ifPlatform}" for keybinding ${b.key}`);
if(void 0===b.ifLayout||0!==f.score&&b.ifLayout.includes(f.id)){var q=me(b.key),D=b.ifPlatform;if(q.cmd){if(D&&"macos"!==D&&"ios"!==D)throw Error('Unexpected "cmd" modifier with platform "'+D+'"\n"cmd" modifier can only be used with macOS or iOS platform.');D||(D="ios"===h()?"ios":"macos");q.win=!1;q.cmd=!1;q.meta=!0}if(q.win){if(D&&"windows"!==D)throw Error('Unexpected "win" modifier with platform "'+D+'"\n"win" modifier can only be used with Windows platform.');D="windows";q.win=!1;q.cmd=!1;q.meta=
!0}if(!D||function(M){if(m()){var W=h();const ca=M.startsWith("!");W=M.endsWith(W);if(ca&&!W||!ca&&W)return!0}return"!other"!==M&&"other"===M}(D)){if(/^\[.+\]$/.test(q.key))return{...b,ifPlatform:D,key:Lc(q)};var J=function(M,W){var ca;const fa={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!M)return fa;for(const [xa,ta]of Object.entries(W.mapping)){if(ta[0]===M)return fa.key=`[${xa}]`,fa;if(ta[1]===M)return fa.shift=!0,fa.key=`[${xa}]`,fa;if(ta[2]===M)return fa.alt=!0,fa.key=`[${xa}]`,
fa;if(ta[3]===M)return fa.shift=!0,fa.alt=!0,fa.key=`[${xa}]`,fa}return fa.key=null!==(ca=cj[M])&&void 0!==ca?ca:"",fa}(q.key,f);if(!J)throw Error('Invalid keybinding key "'+b.key+'"');if(J.shift&&q.shift||J.alt&&q.alt)throw Error(`The keybinding ${b.key} (${kb(b.command)}) is conflicting with the key combination ${Lc(J)} using the ${f.displayName} keyboard layout`);return J.shift=J.shift||q.shift,J.alt=J.alt||q.alt,J.meta=q.meta,J.ctrl=q.ctrl,{...b,ifPlatform:D,key:Lc(J)}}}}function kb(b){return Array.isArray(b)?
(b=[...b],b.shift()+"("+b.map(f=>"string"==typeof f?`"${f}"`:f.toString()).join(", ")+")"):b}function tb(b){var f;"function"!=typeof(null===(f=b.listeners)||void 0===f?void 0:f.onSelectionDidChange)||b.suppressChangeNotifications||(b.suppressChangeNotifications=!0,b.listeners.onSelectionDidChange(b),b.suppressChangeNotifications=!1)}function Eb(b,f={}){if(b.suppressChangeNotifications||!b.mathfield.host)return!0;b.suppressChangeNotifications=!0;f=b.mathfield.host.dispatchEvent(new InputEvent("beforeinput",
{...f,cancelable:!0,bubbles:!0,composed:!0}));return b.suppressChangeNotifications=!1,f}function Hb(b,f){!b.suppressChangeNotifications&&b.mathfield.host&&(b.suppressChangeNotifications=!0,b.mathfield.host.dispatchEvent(new InputEvent("input",{...f,bubbles:!0,composed:!0})),b.suppressChangeNotifications=!1)}function Ub(b){var f,q;return(b=b.atoms.find(D=>D instanceof Of))&&null!==(q=null===(f=b.body)||void 0===f?void 0:f.filter(D=>D instanceof uf))&&void 0!==q?q:[]}function Wb(b,f){var q;let D=0;
var J=!1;for(f=Number.isFinite(null==f?void 0:f.before)?null!==(q=null==f?void 0:f.before)&&void 0!==q?q:0:b.lastOffset;D<=f&&!J;)q=b.at(D),(J=q instanceof uf&&q.isSuggestion)||D++;if(!J)return[void 0,void 0];q=D;for(J=!1;q<=f&&!J;)J=b.at(q),(J=!(J instanceof uf&&J.isSuggestion))||q++;return[D-1,q-1]}function mc(b){const f=Ub(b.model).filter(q=>q.isSuggestion);if(0!==f.length){b.model.position=b.model.offsetOf(f[0].leftSibling);for(const q of f)q.parent.removeChild(q)}}function Zc(b,f){var q,{model:D}=
b;mc(b);for(var J of Ub(D))J.isError=!1;if(!D.selectionIsCollapsed)return void Ad(b);J=[];for(D=D.at(D.position);D&&D instanceof uf&&/^[a-zA-Z\*]$/.test(D.value);)D=D.leftSibling;if(D&&D instanceof uf&&"\\"===D.value)for(J.push(D),D=D.rightSibling;D&&D instanceof uf&&/^[a-zA-Z\*]$/.test(D.value);)J.push(D),D=D.rightSibling;const M=(D=J.map(W=>W.value).join(""))?function(W,ca){var fa,xa;if("\\"===ca||!ca.startsWith("\\"))return[];const ta=[];for(const Ma in bg)Ma.startsWith(ca)&&!bg[Ma].infix&&ta.push({match:Ma,
frequency:null!==(fa=bg[Ma].frequency)&&void 0!==fa?fa:0});for(const Ma in Ef)Ma.startsWith(ca)&&ta.push({match:Ma,frequency:null!==(xa=Ef[Ma].frequency)&&void 0!==xa?xa:0});ca=ca.substring(1);for(const Ma of Object.keys(W.options.macros))Ma.startsWith(ca)&&ta.push({match:"\\"+Ma,frequency:0});return ta.sort((Ma,Pa)=>{var db,pb;return Ma.frequency===Pa.frequency?Ma.match.length===Pa.match.length?Ma.match<Pa.match?-1:1:Ma.match.length-Pa.match.length:(null!==(db=Pa.frequency)&&void 0!==db?db:0)-(null!==
(pb=Ma.frequency)&&void 0!==pb?pb:0)}),ta.map(Ma=>Ma.match)}(b,D):[];if(0===M.length)return/^\\[a-zA-Z\*]+$/.test(D)&&J.forEach(W=>{W.isError=!0}),void Ad(b);b.suggestionIndex=null!==(q=null==f?void 0:f.atIndex)&&void 0!==q?q:0;0>b.suggestionIndex&&(b.suggestionIndex=M.length-1);f=M[b.suggestionIndex%M.length];f!==D&&(q=J[J.length-1],q.parent.addChildrenAfter([...f.slice(D.length-f.length)].map(W=>new uf(W,b,{isSuggestion:!0})),q),Xb(b));!function(W,ca){if(0===ca.length||!1===W.options.enablePopover)return void Ad(W);
ca=ca.slice(0,10);var fa="\x3cul\x3e";for(const xa of ca){ca=xa;const ta=zc(W,xa),Ma=fb(W.keybindings,ca).join("\x3cbr\x3e");fa+=`<li role="button" data-command="${ca}"><span class="ML__popover__latex">${ca}</span><span class="ML__popover__command">${ta}</span>`;Ma&&(fa+=`<span class="ML__popover__keybinding">${Ma}</span>`);fa+="\x3c/li\x3e"}W.popover=function(xa,ta){return xa.popover?(xa.popover.innerHTML=xa.options.createHTML(ta),xa.popover):(xa.popover=yf("mathlive-popover-panel"),void 0===vi&&
(vi=Yd('#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:8px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}#mathlive-popover-panel ul{align-items:flex-start;display:flex;flex-flow:column;justify-content:center;list-style:none;margin:0;padding:0}#mathlive-popover-panel li{border-radius:8px;column-gap:1em;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;margin:8px;padding:8px;width:calc(100% - 32px)}#mathlive-popover-panel li a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}#mathlive-popover-panel li a:hover{color:#5ea6fd;text-decoration:underline}#mathlive-popover-panel li.is-active,#mathlive-popover-panel li.is-pressed,#mathlive-popover-panel li:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__latex{align-self:center;font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace}.ML__popover__keybinding{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:.8em;opacity:.7}.ML__shortcut-join{opacity:.5}').toString(36)),
dj=De(null,'#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:8px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}#mathlive-popover-panel ul{align-items:flex-start;display:flex;flex-flow:column;justify-content:center;list-style:none;margin:0;padding:0}#mathlive-popover-panel li{border-radius:8px;column-gap:1em;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;margin:8px;padding:8px;width:calc(100% - 32px)}#mathlive-popover-panel li a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}#mathlive-popover-panel li a:hover{color:#5ea6fd;text-decoration:underline}#mathlive-popover-panel li.is-active,#mathlive-popover-panel li.is-pressed,#mathlive-popover-panel li:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__latex{align-self:center;font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace}.ML__popover__keybinding{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:.8em;opacity:.7}.ML__shortcut-join{opacity:.5}',
vi),Wi=De(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Yd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)),
xa.popover.innerHTML=xa.options.createHTML(ta),xa.popover)}(W,fa+"\x3c/ul\x3e");fa=W.popover.querySelectorAll("ul li");for(const xa of fa)xa.addEventListener("pointerdown",ta=>{ta.preventDefault()}),xa.addEventListener("click",ta=>{yc(W,"reject");Qe.insert("math",W.model,xa.dataset.command,{selectionMode:"placeholder",format:"latex"});W.dirty=!0;W.scrollIntoView();W.focus()});setTimeout(()=>{const xa=Ne(W.field);xa&&Uc(W,xa);W.popover&&(W.popover.classList.add("is-visible"),W.popoverVisible=!0)},
32)}(b,M)}function Bc(b){const [f,q]=Wb(b,{before:b.position});if(void 0===f||void 0===q)return!1;let D=!1;return b.getAtoms([f,q]).forEach(J=>{J.isSuggestion&&(J.isSuggestion=!1,D=!0)}),D}function yc(b,f="accept",q){var D,J;Ad(b);const M=b.model.atoms.find(fa=>fa instanceof Of);if(!M)return!1;if("accept-suggestion"===f){f=Ub(b.model).filter(fa=>fa.isSuggestion);if(0===f.length)return!1;for(var W of f)W.isSuggestion=!1;return b.model.position=b.model.offsetOf(f[f.length-1]),!0}W=Ub(b.model).filter(fa=>
!fa.isSuggestion).map(fa=>fa.value).join("");const ca=M.leftSibling;return M.parent.removeChild(M),b.model.position=b.model.offsetOf(ca),b.mode=null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math","reject"===f||(Qe.insert("math",b.model,W,{selectionMode:null!==(J=null==q?void 0:q.selectItem)&&void 0!==J&&J?"item":"placeholder",format:"latex"}),b.snapshot(),b.model.announce("replacement")),!0}function zc(b,f){const q=new rc("root",b);return q.body=Ua(f,b,{parseMode:"math"}),Kb($a(Fb(new Vc(q.render(new be({registers:b.registers},
{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Oc(b,f){var q;b.element&&b.element.mathfield===b&&b.popover&&b.popoverVisible&&((null==f?0:f.deferred)?setTimeout(()=>Oc(b),100):"latex"!==(null===(q=b.model.at(b.model.position))||void 0===q?void 0:q.type)?Ad(b):(f=Ne(b.field))&&Uc(b,f))}function Uc(b,f){if(d(),b.popover&&b.popoverVisible){var q=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,D=window.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth,J=window.innerWidth-document.documentElement.clientWidth,M=window.innerHeight-document.documentElement.clientHeight,W=b.virtualKeyboard.height;f.x+b.popover.offsetWidth/2>D-J?b.popover.style.left=D-b.popover.offsetWidth-J+"px":0>f.x-b.popover.offsetWidth/2?b.popover.style.left="0":b.popover.style.left=f.x-b.popover.offsetWidth/2+"px";f.y+b.popover.offsetHeight+5>q-M-W?(b.popover.classList.add("ML__popover--reverse-direction"),b.popover.style.top=
f.y-f.height-b.popover.offsetHeight-5+"px"):(b.popover.classList.remove("ML__popover--reverse-direction"),b.popover.style.top=`${f.y+5}px`)}}function Ad(b){b.suggestionIndex=0;b.popoverVisible=!1;b.popover&&(b.popover.classList.remove("is-visible"),b.popover.innerHTML="")}function Ld(b){let f=0;for(let q=0;q<b.length;q++)f=31*f+b.charCodeAt(q),f|=0;return Math.abs(f)}function Xb(b,f){b.dirty||(b.dirty=!0,requestAnimationFrame(()=>{we(b)&&b.dirty&&(b.atomBoundsCache=new Map,Xd(b,f),b.atomBoundsCache=
void 0)}))}function Xd(b,f){var q;if(d(),we(b)){f=null!=f?f:{};var {model:D}=b;D.root.caret="";D.root.isSelected=!1;D.root.containsCaret=!0;for(var J of D.atoms)J.caret="",J.isSelected=!1,J.containsCaret=!1;J=!b.options.readOnly&&b.hasFocus();if(D.selectionIsCollapsed)D.at(D.position).caret=J?b.mode:"";else{var M=D.getAtoms(D.selection,{includeChildren:!0});for(var W of M)W.isSelected=!0}if(J)for(W=D.at(D.position).parent;W;)W.containsCaret=!0,W=W.parent;W=function(fa,xa){var ta;return xa=null!=xa?
xa:{},Kb(Fb(fa.model.root.render(new be({registers:fa.registers,atomIdsSettings:{seed:xa.forHighlighting?Ld(rc.serialize(fa.model.root,{expandMacro:!1,defaultMode:fa.options.defaultMode})):"random",groupNumbers:null!==(ta=xa.forHighlighting)&&void 0!==ta&&ta},renderPlaceholder:fa.options.readOnly?(Ma,Pa)=>{if(Pa.placeholderId){const db=fa.getPlaceholderField(Pa.placeholderId);return Pa.createMathfieldBox(Ma,db,Pa.placeholderId)}return Pa.createBox(Ma)}:void 0},{fontSize:5,letterShapeStyle:fa.options.letterShapeStyle},
"inline-math"===fa.options.defaultMode?"textstyle":"displaystyle")),fa.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}})}(b,f);M=b.field;var ca=M.classList.contains("ML__focused");ca&&!J?M.classList.remove("ML__focused"):!ca&&J&&M.classList.add("ML__focused");M.innerHTML=b.options.createHTML(W.toMarkup());b.fieldContent=M.querySelector(".ML__mathlive");b.accessibleNode.innerHTML=b.options.createHTML('\x3cmath xmlns\x3d"http://www.w3.org/1998/Math/MathML"\x3e'+
od(D.root,b.options)+"\x3c/math\x3e");id(b);b.options.readOnly&&b.attachNestedMathfield();null!==(q=f.interactive)&&void 0!==q&&q||setTimeout(()=>id(b),32);b.dirty=!1}}function id(b){d();const f=b.field;if(f){for(var q of f.querySelectorAll(".ML__selection, .ML__contains-highlight"))q.remove();if(b.hasFocus()){var D=b.model;q=parseFloat(getComputedStyle(f).width);q=f.getBoundingClientRect().width/q;if(q=isNaN(q)?1:q,D.selectionIsCollapsed){setTimeout(()=>Oc(b),32);for(var J=D.at(D.position);J&&(!J.containsCaret||
!J.displayContainsHighlight);)J=J.parent;(null==J?0:J.containsCaret)&&J.displayContainsHighlight&&(J=Pe(b,cf(b,J)))&&(J.left/=q,J.right/=q,J.top/=q,J.bottom/=q,q=document.createElement("div"),q.classList.add("ML__contains-highlight"),q.style.position="absolute",q.style.left=`${J.left}px`,q.style.top=`${J.top}px`,q.style.width=`${Math.ceil(J.right-J.left)}px`,q.style.height=`${Math.ceil(J.bottom-J.top-1)}px`,f.insertBefore(q,f.childNodes[0]))}else for(J of function(M){let W=[];for(var ca of M){M=!1;
for(const fa of W)if(ca.left===fa.left&&ca.right===fa.right&&ca.top===fa.top&&ca.bottom===fa.bottom){M=!0;break}M||W.push(ca)}M=W;W=[];for(const fa of M){ca=0;for(const xa of M)if(fa.left>=xa.left&&fa.right<=xa.right&&fa.top>=xa.top&&fa.bottom<=xa.bottom&&(ca+=1,1<ca))break;1===ca&&W.push(fa)}return W}(rf(b,{excludeAtomsWithBackground:!0})))J.left/=q,J.right/=q,J.top/=q,J.bottom/=q,D=document.createElement("div"),D.classList.add("ML__selection"),D.style.position="absolute",D.style.left=`${J.left}px`,
D.style.top=`${J.top}px`,D.style.width=`${Math.ceil(J.right-J.left)}px`,D.style.height=`${Math.ceil(J.bottom-J.top-1)}px`,f.insertBefore(D,f.childNodes[0])}}}function $c(b,f){f=null!=f?f:{target:"mathfield",canUndo:!1};for(const q of Object.keys(b))fh[q]={...f,fn:b[q]}}function ad(b){var f;let q;return q=r(b)?b[0]:b,q=q.replace(/-\w/g,D=>D[1].toUpperCase()),null===(f=fh[q])||void 0===f?void 0:f.target}function ud(b,f,q){return f+Tc(q,{...b,textToSpeechMarkup:"",textToSpeechRulesOptions:{...b.textToSpeechRulesOptions,
markup:"none"}})}function md(b,f){var q,D,J;if(m()&&(null!=f||(f=null!==(q=df().config)&&void 0!==q?q:{}),f))if(f.speechEngine&&"local"!==f.speechEngine)if("amazon"===f.speechEngine){if("AWS"in window){q=new globalThis.AWS.Polly({apiVersion:"2016-06-10"});const M={OutputFormat:"mp3",VoiceId:null!==(D=f.speechEngineVoice)&&void 0!==D?D:"Joanna",Engine:"Amy Emma Brian Ivy Joanna Kendra Kimberly Salli Joey Justin Matthew".split(" ").includes(null!==(J=f.speechEngineVoice)&&void 0!==J?J:"Joanna")?"neural":
"standard",Text:b,TextType:"ssml"};q.synthesizeSpeech(M,(W,ca)=>{!W&&(null==ca?0:ca.AudioStream)&&(W=new Uint8Array(ca.AudioStream),W=new Blob([W.buffer],{type:"audio/mpeg"}),W=URL.createObjectURL(W),(new Audio(W)).play().catch(fa=>{}))})}}else f.speechEngine;else b=new SpeechSynthesisUtterance(b),window.speechSynthesis.speak(b)}function Qd(b){if(b&&(b.classList.remove("ML__highlight"),b.children))for(const f of b.children)Qd(f)}function Le(b,f){var q;b&&(f&&(null===(q=b.dataset)||void 0===q?void 0:
q.atomId)!==f?(b.classList.remove("ML__highlight"),b.children&&0<b.children.length&&[...b.children].forEach(D=>{D instanceof HTMLElement&&Le(D,f)})):(b.classList.add("ML__highlight"),b.children&&0<b.children.length&&[...b.children].forEach(D=>{D instanceof HTMLElement&&Le(D)})))}function Ye(b,f,q){var D;if(m()){if(null!=q||(q=df().config),"amazon"!==q.speechEngine)return void(q.speakHook&&q.speakHook(f,q));if(globalThis.AWS){var J=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),M={OutputFormat:"json",
VoiceId:null!==(D=q.speechEngineVoice)&&void 0!==D?D:"Joanna",Engine:"standard",Text:f,TextType:"ssml",SpeechMarkTypes:["ssml"]};df().readAloudElement=b;J.synthesizeSpeech(M,(W,ca)=>{if(!W&&null!=ca&&ca.AudioStream){W=(new TextDecoder("utf-8")).decode(new Uint8Array(ca.AudioStream));df().readAloudMarks=W.split("\n").map(fa=>fa?JSON.parse(fa):{});df().readAloudTokens=[];for(const fa of df().readAloudMarks)fa.value&&df().readAloudTokens.push(fa.value);df().readAloudCurrentMark="";M.OutputFormat="mp3";
M.SpeechMarkTypes=[];J.synthesizeSpeech(M,(fa,xa)=>{if(!fa&&null!=xa&&xa.AudioStream){fa=new Uint8Array(xa.AudioStream);fa=new Blob([fa.buffer],{type:"audio/mpeg"});fa=URL.createObjectURL(fa);var ta=df();ta.readAloudAudio?ta.readAloudAudio.pause():(ta.readAloudAudio=new Audio,ta.readAloudAudio.addEventListener("ended",()=>{const Ma=ta.readAloudMathField;ta.readAloudStatus="ended";document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0}));Ma?(Xd(Ma),ta.readAloudElement=
null,ta.readAloudMathField=null,ta.readAloudTokens=[],ta.readAloudMarks=[],ta.readAloudCurrentMark=""):Qd(ta.readAloudElement)}),ta.readAloudAudio.addEventListener("timeupdate",()=>{let Ma="";const Pa=1E3*ta.readAloudAudio.currentTime+100;for(const db of ta.readAloudMarks)db.time<Pa&&(Ma=db.value);ta.readAloudCurrentMark!==Ma&&(ta.readAloudCurrentToken=Ma,Ma&&Ma===ta.readAloudFinalToken?ta.readAloudAudio.pause():(ta.readAloudCurrentMark=Ma,Le(ta.readAloudElement,ta.readAloudCurrentMark)))}));ta.readAloudAudio.src=
fa;ta.readAloudStatus="playing";document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0}));ta.readAloudAudio.play()}})}})}}}function he(b,f){var q,D,J;b=Id(b,Object.keys(b));for(const M of Object.keys(f))switch(M){case "scriptDepth":if(r(f.scriptDepth))b.scriptDepth=[f.scriptDepth[0],f.scriptDepth[1]];else{if("number"!=typeof f.scriptDepth)throw new TypeError("Unexpected value for scriptDepth");b.scriptDepth=[f.scriptDepth,f.scriptDepth]}break;case "locale":"auto"===
f.locale?b.locale=m()?navigator.language.slice(0,5):"en":b.locale=f.locale;se.locale=b.locale;break;case "strings":se.merge(f.strings);b.strings=se.strings;break;case "virtualKeyboardLayout":b.virtualKeyboardLayout=f.virtualKeyboardLayout;break;case "virtualKeyboardMode":const W=f.virtualKeyboardMode.toLowerCase();b.virtualKeyboardMode="auto"===W?c()?"onfocus":"off":W;break;case "customVirtualKeyboardLayers":b.customVirtualKeyboardLayers={...b.customVirtualKeyboardLayers,...f.customVirtualKeyboardLayers};
break;case "customVirtualKeyboards":b.customVirtualKeyboards={...b.customVirtualKeyboards,...f.customVirtualKeyboards};break;case "letterShapeStyle":"auto"===f.letterShapeStyle?se.locale.startsWith("fr")?b.letterShapeStyle="french":b.letterShapeStyle="tex":b.letterShapeStyle=f.letterShapeStyle;break;case "plonkSound":void 0!==f.plonkSound&&(b.plonkSound=f.plonkSound);break;case "keypressSound":null===f.keypressSound?b.keypressSound={default:null,delete:null,return:null,spacebar:null}:"string"==typeof f.keypressSound?
b.keypressSound={delete:f.keypressSound,return:f.keypressSound,spacebar:f.keypressSound,default:f.keypressSound}:"object"==typeof f.keypressSound&&"default"in f.keypressSound&&(b.keypressSound={...f.keypressSound},b.keypressSound.delete=null!==(q=b.keypressSound.delete)&&void 0!==q?q:f.keypressSound.default,b.keypressSound.return=null!==(D=b.keypressSound.return)&&void 0!==D?D:f.keypressSound.default,b.keypressSound.spacebar=null!==(J=b.keypressSound.spacebar)&&void 0!==J?J:f.keypressSound.default);
break;case "computeEngine":b.computeEngine=f.computeEngine;break;case "virtualKeyboardContainer":b.virtualKeyboardContainer=f.virtualKeyboardContainer;break;case "macros":b.macros=sa(f.macros);break;default:r(f[M])?b[M]=[...f[M]]:"object"==typeof f[M]?b[M]={...f[M]}:b[M]=f[M]}return b}function Id(b,f){let q;q="string"==typeof f?[f]:void 0===f?Object.keys(b):f;const D={};for(const J of q)null===b[J]?D[J]=null:r(b[J])?D[J]=[...b[J]]:"object"!=typeof b[J]||b[J]instanceof Element||"computeEngine"===J?
D[J]=b[J]:D[J]={...b[J]};return"string"==typeof f?D[f]:D}function mb(){var b,f,q;return{readOnly:!1,createHTML:D=>D,fontsDirectory:"./fonts",soundsDirectory:"./sounds",computeEngine:void 0,defaultMode:"math",macros:za(),registers:{},colorMap:t,backgroundColorMap:x,horizontalSpacingScale:1,letterShapeStyle:se.locale.startsWith("fr")?"french":"tex",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",decimalSeparator:".",fractionNavigationOrder:"numerator-denominator",
placeholderSymbol:"▢",enablePopover:!0,locale:se.locale,strings:se.strings,keybindings:wj,inlineShortcuts:ui,inlineShortcutTimeout:0,virtualKeyboardToggleGlyph:'\x3cspan style\x3d"width: 21px; margin-top: 4px;"\x3e\x3csvg style\x3d"width: 21px;" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 576 512"\x3e\x3cpath d\x3d"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/\x3e\x3c/svg\x3e\x3c/span\x3e',
virtualKeyboardMode:"auto",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:m()&&/android|cros/i.test(navigator.userAgent)?"material":"apple",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",virtualKeyboardContainer:null!==(f=null===(b=globalThis.document)||void 0===b?void 0:b.body)&&void 0!==f?f:null,useSharedVirtualKeyboard:!1,sharedVirtualKeyboardTargetOrigin:null===(q=globalThis.window)||
void 0===q?void 0:q.origin,originValidator:"same-origin",textToSpeechRules:"mathlive",textToSpeechMarkup:"",textToSpeechRulesOptions:{},speechEngine:"local",speechEngineVoice:"Joanna",speechEngineRate:"100%",speakHook:md,readAloudHook:Ye,onInlineShortcut:()=>"",onExport:vj,value:""}}function Lb(b){return"inline-math"===b.defaultMode?"math":b.defaultMode}function cc(b){if(/^(?:[a-z+]+:)?\/\//i.test(b))return(new URL(b)).href;if(null===Gh)try{const f=new XMLHttpRequest;f.open("HEAD",Ej,!1);f.send(null);
200===f.status&&(Gh=f.responseURL)}catch(f){}return Gh?(new URL(b,Gh)).href:""}async function kc(b){var f;if(m()&&!document.body.classList.contains("ML__fonts-loading")&&(null===(f=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))||void 0===f||!f)&&(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document)){const D=Array.from(document.fonts).map(J=>J.family);if(!"KaTeX_Main KaTeX_Math KaTeX_AMS KaTeX_Caligraphic KaTeX_Fraktur KaTeX_SansSerif KaTeX_Script KaTeX_Typewriter KaTeX_Size1 KaTeX_Size2 KaTeX_Size3 KaTeX_Size4".split(" ").every(J=>
D.includes(J))){var q=cc(null!=b?b:"./fonts");if(q){document.body.classList.add("ML__fonts-loading");b=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],
["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(J=>function(M,W,ca={}){return new FontFace(M,`url(${W}.woff2) format('woff2')`,ca)}(J[0].replace(/-[a-zA-Z]+$/,""),q+"/"+J[0],J[1]));try{(await Promise.all(b.map(J=>{try{return J.load()}catch{}}))).forEach(J=>document.fonts.add(J))}catch(J){document.body.classList.add("ML__fonts-did-not-load")}document.body.classList.remove("ML__fonts-loading")}}}}
function ic(b){return"number"==typeof b&&!Number.isNaN(b)}function Ac(b){return Array.isArray(b)&&2===b.length}function qc(b){return null!=b&&"object"==typeof b&&"ranges"in b&&Array.isArray(b.ranges)}function xc(b){var f,q,D,J,M,W,ca,fa,xa,ta,Ma,Pa;if(!b)return"";if(r(b)){if(0===b.length||("first"===b[0].type&&(b=b.slice(1)),0===b.length))return"";var db="";if("latex"===b[0].mode)for(var pb of b)db+=xc(pb);else if("text"===b[0].mode){var Mb=0;for(db='"';"text"===(null===(f=b[Mb])||void 0===f?void 0:
f.mode);)db+=b[Mb].body?xc(b[Mb].body):b[Mb].value,Mb++;db+='"'+xc(b.slice(Mb))}else if("math"===b[0].mode){for(Mb=0;b[Mb]&&"math"===b[Mb].mode;)db+=xc(b[Mb]),Mb++;db+=xc(b.slice(Mb))}return db.trim()}if("text"===b.mode)return'"'+b.value+'"';f="";({command:pb}=b);switch(b.type){case "first":return"";case "group":case "root":f=null!==(q=Dg[pb])&&void 0!==q?q:xc(b.body);break;case "genfrac":db=b;(db.leftDelim||db.rightDelim)&&(f+="."!==db.leftDelim&&db.leftDelim?db.leftDelim:"{:");db.hasBarLine?(f+=
"(",f+=xc(db.above),f+=")/(",f+=xc(db.below),f+=")"):(f+="("+xc(db.above)+"),",f+="("+xc(db.below)+")");(db.leftDelim||db.rightDelim)&&(f+="."!==db.rightDelim&&db.rightDelim?db.rightDelim:"{:");break;case "surd":f+=b.hasEmptyBranch("above")?"sqrt("+xc(b.body)+")":"root("+xc(b.above)+")("+xc(b.body)+")";break;case "latex":f=b.value;break;case "leftright":db=b;f+="."!==db.leftDelim&&db.leftDelim?db.leftDelim:"{:";f+=xc(db.body);f+="."!==db.rightDelim&&db.rightDelim?db.rightDelim:":}";break;case "mord":f=
null!==(J=null!==(D=Dg[pb])&&void 0!==D?D:pb)&&void 0!==J?J:"string"==typeof b.value?b.value:"";f.startsWith("\\")&&(f+=" ");(db=pb?pb.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null)?f=String.fromCodePoint(Number.parseInt("0x"+db[1])):0<f.length&&f.startsWith("\\")&&(f="string"==typeof b.value?b.value.charAt(0):b.command);break;case "mbin":case "mrel":case "minner":f=null!==(W=null!==(M=Dg[pb])&&void 0!==M?M:ej[pb])&&void 0!==W?W:b.value;break;case "mopen":case "mclose":f+=b.value;break;case "mpunct":f=
null!==(ca=ej[pb])&&void 0!==ca?ca:pb;break;case "mop":"​"!==b.value&&(f="",f+="\\operatorname"===pb?xc(b.body):null!==(fa=b.value)&&void 0!==fa?fa:pb,f+=" ");break;case "array":D=b.array;f=b.environmentName;q=null!==(xa={bmatrix:["[","]"],"bmatrix*":["[","]"]}[f])&&void 0!==xa?xa:["(",")"];xa=[];for(Mb of D){D=[];for(const Rb of Mb)D.push(q[0]+xc(Rb)+q[1]);xa.push(D.join(","))}Mb=null!==(db={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[f])&&void 0!==db?db:["(",")"];f=Mb[0]+xa.join(",")+
Mb[1];break;case "spacing":f=null!==(ta=Dg[pb])&&void 0!==ta?ta:" ";break;case "enclose":f="("+xc(b.body)+")";break;case "space":f=" ";break;case "msubsup":f="";break;case "macro":f=null!==(Pa=null!==(Ma=Dg[pb])&&void 0!==Ma?Ma:ej[pb])&&void 0!==Pa?Pa:xc(b.body)}b.hasEmptyBranch("subscript")||(f+="_",db=xc(b.subscript),f+=1<db.length?"("+db+")":db);b.hasEmptyBranch("superscript")||(f+="^",b=xc(b.superscript),f+=1<b.length?"("+b+")":b);return f}function U(b){let f;if("body"===b.treeBranch)f={enclose:"cross out",
leftright:"delimiter",surd:"square root",root:"math field",mop:"operator"}[b.type];else if("genfrac"===b.parent.type){if("above"===b.treeBranch)return"numerator";if("below"===b.treeBranch)return"denominator"}else"surd"===b.parent.type?"above"===b.treeBranch&&(f="index"):"superscript"===b.treeBranch?f="superscript":"subscript"===b.treeBranch&&(f="subscript");return null!=f?f:"parent"}function ha(b,f,q,D){var J=b.offsetOf(f);if(J<q||J>D)return!1;if(!f.hasChildren)return!0;J=b.offsetOf(f.firstChild);
return J>=q&&J<=D&&(b=b.offsetOf(f.lastChild),b>=q&&b<=D)?!0:!1}function na(b,f,q){if(null==f||!f.hasChildren)return!1;const [D,J]=q;q=b.offsetOf(f.firstChild);b=b.offsetOf(f.lastChild);return q>=D&&q<=J&&b>=q&&b<=J}function Aa(b,f){let q=b.at(b.position);for(;q&&!(Array.isArray(q.treeBranch)&&q.parent instanceof Xe);)q=q.parent;if(Array.isArray(null==q?void 0:q.treeBranch)&&(null==q?void 0:q.parent)instanceof Xe){const D=q.parent;let J;switch(f){case "after row":D.addRowAfter(q.treeBranch[0]);J=
b.offsetOf(D.getCell(q.treeBranch[0]+1,0)[0]);break;case "after column":if(D.maxColumns<=D.colCount)return void b.announce("plonk");D.addColumnAfter(q.treeBranch[1]);J=b.offsetOf(D.getCell(q.treeBranch[0],q.treeBranch[1]+1)[0]);break;case "before row":D.addRowBefore(q.treeBranch[0]);J=b.offsetOf(D.getCell(q.treeBranch[0]-1,0)[0]);break;case "before column":if(D.maxColumns<=D.colCount)return void b.announce("plonk");D.addColumnBefore(q.treeBranch[1]);J=b.offsetOf(D.getCell(q.treeBranch[0],q.treeBranch[1]-
1)[0])}b.setSelection(J,J+1)}}function Ca(b){return!!Eb(b,{inputType:"insertText"})&&(Aa(b,"after row"),Hb(b,{inputType:"insertText"}),!0)}function Ya(b){return!!Eb(b,{inputType:"insertText"})&&(Aa(b,"after column"),Hb(b,{inputType:"insertText"}),!0)}function sb(b,f){for(var q=b.at(b.position);q&&!(Array.isArray(q.treeBranch)&&q.parent instanceof Xe);)q=q.parent;if(Array.isArray(null==q?void 0:q.treeBranch)&&(null==q?void 0:q.parent)instanceof Xe){const D=q.parent;q=q.treeBranch;let J;switch(f){case "row":1<
D.rowCount&&(D.removeRow(q[0]),f=D.getCell(Math.max(0,q[0]-1),q[1]),J=b.offsetOf(f[f.length-1]));break;case "column":D.colCount>D.minColumns&&(D.removeColumn(q[1]),f=D.getCell(q[0],Math.max(0,q[1]-1)),J=b.offsetOf(f[f.length-1]))}J&&b.setPositionHandlingPlaceholder(J)}}function Qb(b,f,q,D){var J,M,W,ca,fa=q.parent;if("genfrac"===fa.type)return f=b.offsetOf(q.leftSibling),fa.removeChild(q),fa.hasEmptyBranch("above")&&fa.hasEmptyBranch("below")?(f=b.offsetOf(fa.leftSibling),fa.parent.removeChild(fa),
b.announce("delete",void 0,[fa]),b.position=f,!0):(b.announce("delete",void 0,[q]),b.position=f,!0);if(q instanceof wf)return D=(f=!D&&"forward"===f||"body"===D&&"backward"===f)?b.offsetOf(q.firstChild):b.offsetOf(q.lastChild),f?"?"!==q.rightDelim&&"."!==q.rightDelim?(q.leftDelim=".",q.isDirty=!0):(fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),D--):"?"!==q.leftDelim&&"."!==q.leftDelim?(q.rightDelim=".",q.isDirty=!0):(fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),
D--),b.position=D,!0;if("surd"===q.type)return"forward"===f&&!D||"backward"===f&&"body"===D?(f=q.leftSibling,q.hasChildren&&fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),b.position=b.offsetOf(f)):"forward"===f&&"body"===D?b.position=b.offsetOf(q):D||"backward"!==f?"above"===D&&(q.hasEmptyBranch("above")&&q.removeBranch("above"),b.position="backward"===f?b.offsetOf(q.leftSibling):b.offsetOf(q.body[0])):q.hasChildren?b.position=b.offsetOf(q.lastChild):(b.position=Math.max(0,b.offsetOf(q)-
1),fa.removeChild(q)),!0;if("box"===q.type||"enclose"===q.type)return f=D&&"backward"===f||!D&&"forward"===f?q.leftSibling:q.lastChild,fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),b.position=b.offsetOf(f),!0;if("genfrac"===q.type||"overunder"===q.type){if(!D)return!("overunder"===q.type&&q.hasEmptyBranch("body")||"genfrac"===q.type&&q.hasEmptyBranch("below")&&q.hasEmptyBranch("above")||(b.position=b.offsetOf("forward"===f?q.firstChild:q.lastChild),0));var xa="numerator-denominator"===
q.context.fractionNavigationOrder?"above":"below";var ta="above"===xa?"below":"above";return"forward"===f&&D===xa||"backward"===f&&D===ta?(f=q.removeBranch(xa),D=q.removeBranch(ta),fa.addChildrenAfter([...f,...D],q),fa.removeChild(q),b.position=b.offsetOf(0<f.length?f[f.length-1]:D[0]),!0):"backward"===f?(b.position=b.offsetOf(q.leftSibling),!0):(b.position=b.offsetOf(q),!0)}if(q.isExtensibleSymbol||"msubsup"===q.type){if(!D&&"forward"===f)return!1;if(!D)return q.subscript||q.superscript?(fa="forward"===
f?null!==(xa=null===(ta=q.superscript)||void 0===ta?void 0:ta[0])&&void 0!==xa?xa:null===(J=q.subscript)||void 0===J?void 0:J[0]:null!==(W=null===(M=q.subscript)||void 0===M?void 0:M[0].lastSibling)&&void 0!==W?W:null===(ca=q.superscript)||void 0===ca?void 0:ca[0].lastSibling,fa&&(b.position=b.offsetOf(fa)),!0):!1;if(D&&q.hasEmptyBranch(D)&&q.removeBranch(D),!q.hasChildren)return fa="forward"===f?b.offsetOf(q):Math.max(0,b.offsetOf(q)-1),q.parent.removeChild(q),b.position=fa,!0;"superscript"===D?
"backward"===f?(q=b.offsetOf(q.firstChild)-1,b.position=q):q.subscript?b.position=b.offsetOf(q.subscript[0]):b.position=b.offsetOf(q):"subscript"===D&&("backward"===f&&q.superscript?b.position=b.offsetOf(q.superscript[0].lastSibling):b.position="backward"===f?b.offsetOf(q.firstChild)-1:b.offsetOf(q));return!0}return!1}function Vb(b,f,q){var D=b.getAtoms(f);if(0<D.length&&D[0].parent){let J=D[0].parent.firstChild;"first"===J.type&&(J=J.rightSibling);const M=D[D.length-1].parent.lastChild;let W=D[0];
"first"===W.type&&(W=W.rightSibling);const ca=D[D.length-1];W===J&&ca===M&&(D=D[0].parent,"root"!==D.type&&(f=[b.offsetOf(D.leftSibling),b.offsetOf(D.rightSibling)]))}return b.deferNotifications({content:!0,selection:!0,type:q},()=>b.deleteAtoms(f))}function nc(b,f){b=b.at(f);let q;if(b)for(q=b.mode,b=b.parent;!q&&b;)b&&(q=b.mode),b=b.parent;return q}function Wc(b,f){b&&f&&(r(b)?b.forEach(q=>Wc(q,f)):"object"==typeof b&&(b.style.color||b.style.backgroundColor||b.style.fontFamily||b.style.fontShape||
b.style.fontSeries||b.style.fontSize||b.style.variant||b.style.variantStyle||(b.applyStyle(f),Wc(b.body,f),Wc(b.above,f),Wc(b.below,f),Wc(b.subscript,f),Wc(b.superscript,f))))}function sd(b,f,q,D){function J(W,ca){for(const fa of M)if(fa.style[W]!==ca)return!1;return!0}if((f=b.normalizeRange(f))[0]===f[1])return!1;const M=b.getAtoms(f,{includeChildren:!0});"toggle"===D.operation&&(q.color&&J("color",q.color)&&(q.color="none",q.verbatimColor=void 0),q.backgroundColor&&J("backgroundColor",q.backgroundColor)&&
(q.backgroundColor="none",q.verbatimBackgroundColor=void 0),q.fontFamily&&J("fontFamily",q.fontFamily)&&(q.fontFamily="none"),q.fontSeries&&J("fontSeries",q.fontSeries)&&(q.fontSeries="auto"),q.fontShape&&J("fontShape",q.fontShape)&&(q.fontShape="auto"),q.fontSize&&J("fontSize",q.fontSize)&&(q.fontSize=5));for(const W of M)W.applyStyle(q);return!0}function Rd(b,f,q){if("text"!==b.at(f).mode)return f;q="backward"===q?-1:1;if(Mg.test(b.at(f).value)){var D=f;do f="text"===b.at(D).mode&&Mg.test(b.at(D).value),
D+=q;while(b.at(D)&&f);b=b.at(D)?D-2*q:D-q}else if(/\s/.test(b.at(f).value)){for(;b.at(f)&&"text"===b.at(f).mode&&/\s/.test(b.at(f).value);)f+=q;if(b.at(f)){do D="text"===b.at(f).mode&&!/\s/.test(b.at(f).value),f+=q;while(b.at(f)&&D);b=b.at(f)?f-2*q:f-q}else b=f-q}else{for(;b.at(f)&&"text"===b.at(f).mode&&!/\s/.test(b.at(f).value);)f+=q;b.at(f);for(D=!0;b.at(f)&&D;)D="text"===b.at(f).mode&&/\s/.test(b.at(f).value),f+=q;b=b.at(f)?f-2*q:f-q}return b-(0<q?0:1)}function ye(b,f,q){var D,J,M,W,ca,fa;const xa=
b.position;null!==(D=null==q?void 0:q.extend)&&void 0!==D&&D||b.collapseSelection(f);let ta=b.at(b.position);if("forward"===f&&("msubsup"===ta.type?(ta=ta.rightSibling,ta||(ta=b.at(b.position+1))):ta=b.at(b.position+1)),!ta)return b.announce("plonk"),!1;D=b.offsetOf(ta);if(ta instanceof Gg)D=Rd(b,D,f);else if(ta instanceof uf)if(ta.isSuggestion)for(;ta&&ta instanceof uf;)ta.isSuggestion=!1,D=b.offsetOf(ta),ta=ta.rightSibling;else if("forward"===f){if(ta=ta.rightSibling,!(ta&&ta instanceof uf))return b.announce("plonk"),
!1;for(;ta&&ta instanceof uf&&/[a-zA-Z\*]/.test(ta.value);)D=b.offsetOf(ta),ta=ta.rightSibling}else{if(ta=ta.leftSibling,!(ta&&ta instanceof uf))return b.announce("plonk"),!1;for(;ta&&ta instanceof uf&&/[a-zA-Z\*]/.test(ta.value);)D=b.offsetOf(ta),ta=ta.leftSibling}else if("forward"===f&&"mopen"===ta.type){D=0;do"mopen"===ta.type?D+=1:"mclose"===ta.type&&--D,ta=ta.rightSibling;while(!ta.isLastSibling&&0!==D);D=b.offsetOf(ta.leftSibling)}else if("backward"===f&&"mclose"===ta.type){D=0;do"mopen"===
ta.type?D+=1:"mclose"===ta.type&&--D,ta=ta.leftSibling;while(!ta.isFirstSibling&&0!==D);D=b.offsetOf(ta)}else if("backward"===f)if("first"===ta.type)for(;0<D&&"first"===ta.type;)--D,ta=b.at(D);else{var Ma=ta.type;"msubsup"===ta.type&&(D=b.offsetOf(b.at(D).leftSibling));--D;for(ca=null===(J=b.at(D))||void 0===J?void 0:J.type;0<=D&&ca===Ma;)"msubsup"===(null===(M=b.at(D))||void 0===M?void 0:M.type)?D=b.offsetOf(b.at(D).leftSibling):--D,ca=b.at(D).type}else{({type:J}=ta);M=null===(W=b.at(D))||void 0===
W?void 0:W.type;for({lastOffset:W}=b;D<=W&&(M===J||"msubsup"===M);){for(;"msubsup"===(null===(Ma=b.at(D).rightSibling)||void 0===Ma?void 0:Ma.type);)D=b.offsetOf(b.at(D).rightSibling);D+=1;M=null===(ca=b.at(D))||void 0===ca?void 0:ca.type}--D}if(null!==(fa=null==q?void 0:q.extend)&&void 0!==fa&&fa){if(!b.setSelection(b.anchor,D))return b.announce("plonk"),!1}else{if(D===b.position)return b.announce("plonk"),!1;b.position=D}return b.announce("move",xa),!0}function re(b,f,q){var D,J,M,W,ca,fa,xa,ta;
if(q=null!=q?q:{extend:!1},"forward"!==f){const [Pa,db]=Wb(b);void 0!==Pa&&void 0!==db&&b.deleteAtoms([Pa,db])}if("upward"===f)return function(Pa,db){var pb,Mb,Rb;(db=null!==(pb=null==db?void 0:db.extend)&&void 0!==pb&&pb)||Pa.collapseSelection("backward");let pc=pb=Pa.at(Pa.position);for(;pc&&"below"!==pc.treeBranch&&!(Array.isArray(pc.treeBranch)&&pc.parent instanceof Xe);)pc=pc.parent;if(Array.isArray(null==pc?void 0:pc.treeBranch)&&pc.parent instanceof Xe)Cd(Pa,pb,pc.parent.array[Math.max(0,pc.treeBranch[0]-
1)][pc.treeBranch[1]],db,"up");else{if(!pc){var hc=!0;return Pa.suppressChangeNotifications||(hc=null===(Rb=null===(Mb=Pa.mathfield.host)||void 0===Mb?void 0:Mb.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))||void 0===Rb||Rb),Pa.announce(hc?"plonk":"line"),hc}Cd(Pa,pb,null!==(hc=pc.parent.branch("above"))&&void 0!==hc?hc:pc.parent.createBranch("above"),db,"up")}return!0}(b,q);if("downward"===f)return function(Pa,db){var pb,Mb;(db=null!==
(pb=null==db?void 0:db.extend)&&void 0!==pb&&pb)||Pa.collapseSelection("forward");let Rb=pb=Pa.at(Pa.position);for(;Rb&&"above"!==Rb.treeBranch&&!(Array.isArray(Rb.treeBranch)&&Rb.parent instanceof Xe);)Rb=Rb.parent;if(Array.isArray(null==Rb?void 0:Rb.treeBranch)&&Rb.parent instanceof Xe){var pc=Rb.parent;Cd(Pa,pb,pc.array[Math.min(pc.array.length-1,Rb.treeBranch[0]+1)][Rb.treeBranch[1]],db,"down")}else{if(!Rb){var hc=!0;return Pa.suppressChangeNotifications||(hc=null===(Mb=null===(pc=Pa.mathfield.host)||
void 0===pc?void 0:pc.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))||void 0===Mb||Mb),Pa.announce(hc?"plonk":"line"),hc}Cd(Pa,pb,null!==(hc=Rb.parent.branch("below"))&&void 0!==hc?hc:Rb.parent.createBranch("below"),db,"down")}return!0}(b,q);const Ma=b.position;if(q.extend)return b.extendSelection(f);if(b.selectionIsPlaceholder)return b.collapseSelection(f),re(b,f);if(!b.collapseSelection(f)){let Pa=b.position+("forward"===f?1:-1),
db=b.at(Pa);if(0<=Pa&&Pa<=b.lastOffset)if("forward"===f)if(db.inCaptureSelection){for(;!db.captureSelection;)db=db.parent;Pa=b.offsetOf(db)}else if(!db.isFirstSibling&&db.isLastSibling&&(null===(D=db.parent)||void 0===D?0:D.skipBoundary)){if(Pa+1!==b.lastOffset)return b.position=Pa,re(b,"forward",q);Pa+=1}else(null===(J=db.parent)||void 0===J?0:J.skipBoundary)&&(null===(M=db.rightSibling)||void 0===M?0:M.isLastSibling)?Pa+=2:(null===(W=db.parent)||void 0===W?0:W.skipBoundary)&&"first"===db.type?Pa+=
1:db instanceof uf&&db.isSuggestion&&(db.isSuggestion=!1);else if("backward"===f)if(null===(ca=db.parent)||void 0===ca?0:ca.inCaptureSelection){for(;!db.captureSelection;)db=db.parent;Pa=Math.max(0,b.offsetOf(db.leftSibling))}else(db.skipBoundary||(null===(fa=db.parent)||void 0===fa?0:fa.skipBoundary)&&"first"===db.type)&&(Pa=Math.max(0,b.position-2));if(0>Pa||Pa>b.lastOffset)return q=!0,b.suppressChangeNotifications||(q=null===(ta=null===(xa=b.mathfield.host)||void 0===xa?void 0:xa.dispatchEvent(new CustomEvent("move-out",
{detail:{direction:f},cancelable:!0,bubbles:!0,composed:!0})))||void 0===ta||ta),q&&b.announce("plonk"),q;b.setPositionHandlingPlaceholder(Pa)}return b.announce("move",Ma),!0}function Cd(b,f,q,D,J){f=gf(b.mathfield.getHTMLElement(f)).right;var M=b.offsetOf,W=b.mathfield;let ca=1/0,fa=0;for(;fa<q.length;fa++){var xa=gf(W.getHTMLElement(q[fa])).right;xa=Math.abs(f-xa);if(!(xa<=ca))break;ca=xa}q=M.call(b,q[fa-1]);if(D){const [ta,Ma]=b.selection.ranges[0];b.setSelection(q<("up"===J?ta:Ma)?{ranges:[[q,
Ma]],direction:"backward"}:{ranges:[[ta,q]],direction:"forward"})}else b.setPositionHandlingPlaceholder(q);b.announce(`move ${J}`)}function Md(b){const f=b.position,q=b.at(f).parent;return q&&"root"!==q.type?(b.position=b.offsetOf(q),b.announce("move",f),!0):(b.announce("plonk"),!1)}function ve(b){var f;b.collapseSelection();var q=0;let D=b.at(b.position),J=!1;for(;D;)D.hasEmptyBranch("superscript")&&D.hasEmptyBranch("subscript")||(q+=1),D.hasEmptyBranch("superscript")?D.hasEmptyBranch("subscript")||
(J=!1):J=!0,D=D.parent;if((J?q:0)>=b.mathfield.options.scriptDepth[1])return b.announce("plonk"),!1;q=b.at(b.position);return void 0===q.subsupPlacement&&("msubsup"!==(null===(f=q.rightSibling)||void 0===f?void 0:f.type)&&q.parent.addChildAfter(new Vg(b.mathfield,{style:q.computedStyle}),q),q=q.rightSibling),q.createBranch("superscript"),b.setSelection(b.getSiblingsRange(b.offsetOf(q.superscript[0]))),!0}function Ze(b){var f;b.collapseSelection();var q=0;let D=b.at(b.position),J=!1;for(;D;)D.hasEmptyBranch("superscript")&&
D.hasEmptyBranch("subscript")||(q+=1),D.hasEmptyBranch("superscript")?D.hasEmptyBranch("subscript")||(J=!0):J=!1,D=D.parent;if((J?q:0)>=b.mathfield.options.scriptDepth[0])return b.announce("plonk"),!1;q=b.at(b.position);return void 0===q.subsupPlacement&&("msubsup"!==(null===(f=b.at(b.position+1))||void 0===f?void 0:f.type)&&q.parent.addChildAfter(new Vg(b.mathfield,{style:b.at(b.position).computedStyle}),q),q=b.at(b.position+1)),q.createBranch("subscript"),b.setSelection(b.getSiblingsRange(b.offsetOf(q.subscript[0]))),
!0}function Zd(b,f,q=!0){function D(fa,xa,ta){var Ma,Pa,db;const pb=[...(null!==(Pa=null===(Ma=fa.shadowRoot)||void 0===Ma?void 0:Ma.querySelectorAll("math-field"))&&void 0!==Pa?Pa:[])];return pb.length&&(fa=null===(db=fa.shadowRoot)||void 0===db?void 0:db.activeElement,db=pb.indexOf(fa),ta=db+ta,0>db&&"backward"===xa&&(ta=pb.length-1),0<=ta&&ta<pb.length)?(pb[ta].focus(),!0):!1}var J,M,W="forward"===f?1:-1;"placeholder"===b.at(b.anchor).type&&re(b,f);var ca=b.getAllAtoms(Math.max(b.position+W,0));
"backward"===f&&ca.reverse();ca=ca.filter(fa=>"placeholder"===fa.type||2<fa.treeDepth&&fa.isFirstSibling&&fa.isLastSibling);if(0===ca.length){if(!q||null!==(M=null===(J=b.mathfield.host)||void 0===J?void 0:J.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:f},cancelable:!0,bubbles:!0,composed:!0})))&&void 0!==M&&!M)return b.announce("plonk"),!1;ca=function(){function fa(ta){return!((Ma=ta).disabled||"hidden"===Ma.type&&"INPUT"===Ma.tagName.toUpperCase()||function(Pa){if(!m()||Pa===document.activeElement||
Pa.contains(document.activeElement))return!1;if("hidden"===getComputedStyle(Pa).visibility)return!0;const db=Pa.getBoundingClientRect();if(0===db.width||0===db.height)return!0;for(;Pa;){if("none"===getComputedStyle(Pa).display)return!0;Pa=Pa.parentElement}return!1}(Ma)||function(Pa){var db;if(db="INPUT"===Pa.tagName.toUpperCase()&&"radio"===Pa.type){var pb;if(Pa.name){b:{db=(null!==(pb=Pa.form)&&void 0!==pb?pb:Pa.ownerDocument).querySelectorAll('input[type\x3d"radio"][name\x3d"'+Pa.name+'"]');for(const Mb of db)if(Mb.checked&&
Mb.form===Pa.form){pb=Mb;break b}pb=null}Pa=!pb||pb===Pa}else Pa=!0;db=!Pa}return db}(ta)||0>xa(ta));var Ma}function xa(ta){var Ma;const Pa=Number.parseInt(null!==(Ma=ta.getAttribute("tabindex"))&&void 0!==Ma?Ma:"NaN",10);return Number.isNaN(Pa)?"true"===ta.contentEditable?0:"AUDIO"!==ta.nodeName&&"VIDEO"!==ta.nodeName||null!==ta.getAttribute("tabindex")?ta.tabIndex:0:Pa}return m()?function(ta){const Ma=[],Pa=[];return[...ta.querySelectorAll('input, select, textarea, a[href], button,\n        [tabindex], audio[controls], video[controls],\n        [contenteditable]:not([contenteditable\x3d"false"]), details\x3esummary')].filter(fa).forEach((db,
pb)=>{const Mb=xa(db);0===Mb?Ma.push(db):Pa.push({documentOrder:pb,tabIndex:Mb,node:db})}),Pa.sort((db,pb)=>db.tabIndex===pb.tabIndex?db.documentOrder-pb.documentOrder:db.tabIndex-pb.tabIndex).map(db=>db.node).concat(Ma)}(document.body):[]}();if(!document.activeElement||1===ca.length)return b.announce("plonk"),!1;q=ca.indexOf(document.activeElement)+W;return!!(document.activeElement instanceof Wf&&D(document.activeElement,f,W))||(0>q&&(q=ca.length-1),q>=ca.length&&(q=0),!!(ca[q]instanceof Wf&&D(ca[q],
f,W))||(ca[q].focus(),0!==q||(b.announce("plonk"),!1)))}f=b.position;W=b.offsetOf(ca[0]);return"placeholder"===ca[0].type?b.setSelection(W-1,W):b.position=W,b.announce("move",f),!0}function Jd(b){var f,q,D;if("text"===nc(b,b.position)){var J=Math.min(b.anchor,b.position);var M=Math.max(b.anchor,b.position);for(D=!1;!D&&0<J;){var W=b.at(J);"text"===W.mode&&Mg.test(W.value)?--J:D=!0}for(D=!1;!D&&M<=b.lastOffset;)W=b.at(M),"text"===W.mode&&Mg.test(W.value)?M+=1:D=!0;if(D&&--M,J>=M)return b.setSelection(M-
1,M),!0;b.setSelection(J,M)}else{const ca=b.at(b.position);if(ca.isDigit()){J=Math.min(b.anchor,b.position);for(M=Math.max(b.anchor,b.position);null===(f=b.at(J))||void 0===f?0:f.isDigit();)--J;for(;null===(q=b.at(M))||void 0===q?0:q.isDigit();)M+=1;b.setSelection(J,M-1)}else if(ca.style.variant||ca.style.variantStyle){f=Math.min(b.anchor,b.position);q=Math.max(b.anchor,b.position);let fa=null===(J=b.at(f))||void 0===J?void 0:J.style;for(;fa&&fa.variant===ca.style.variant&&fa.variantStyle===ca.style.variantStyle;)--f,
fa=null===(M=b.at(f))||void 0===M?void 0:M.style;for(fa=null===(D=b.at(q))||void 0===D?void 0:D.style;fa&&fa.variant===ca.style.variant&&fa.variantStyle===ca.style.variantStyle;)q+=1,fa=null===(W=b.at(q))||void 0===W?void 0:W.style;b.setSelection(f,q-1)}else b.setSelection(b.offsetOf(ca.firstSibling),b.offsetOf(ca.lastSibling))}return!0}function $e(){var b;let f=document.activeElement;for(;null===(b=null==f?void 0:f.shadowRoot)||void 0===b?0:b.activeElement;)f=f.shadowRoot.activeElement;return f}
function Cc(b){return!b.ctrlKey&&!b.metaKey&&"Dead"!==b.key&&(""===b.code||lk.has(b.code))}function ef(b){const f=[];var q=b;if(!q.code){var D=Object.entries(lg[0].mapping),J=!1,M=!1,W="";for(let ca=0;4>ca;ca++){for(const [fa,xa]of D)if(xa[ca]===q.key){W=fa;3===ca?(J=!0,M=!0):2===ca?J=!0:1===ca&&(M=!0);break}if(W)break}q=new KeyboardEvent(q.type,{...q,altKey:J,shiftKey:M,code:W})}return(b=q).ctrlKey&&f.push("ctrl"),b.metaKey&&f.push("meta"),b.altKey&&f.push("alt"),b.shiftKey&&f.push("shift"),0===
f.length?"["+b.code+"]":(f.push("["+b.code+"]"),f.join("+"))}function pg(){var b;if(!m())return null;let f=document.activeElement;for(;null===(b=null==f?void 0:f.shadowRoot)||void 0===b?0:b.activeElement;)f=f.shadowRoot.activeElement;return f}function sf(b){var f;if(!b)return"";let q;return"Unidentified"===b.key&&b.target&&(q=b.target.value),q=null!==(f=null!=q?q:b.key)&&void 0!==f?f:b.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(q)&&
(q=""),q}function pf(b,f,q){let D,J;q.default&&(b.dataset.command=JSON.stringify(q.default));q.alt&&(b.dataset.commandAlt=JSON.stringify(q.alt));q.shift&&(b.dataset.commandShift=JSON.stringify(q.shift));q.pressed&&(b.dataset.commandPressed=JSON.stringify(q.pressed));q.pressAndHoldStart&&(b.dataset.commandPressAndHoldStart=JSON.stringify(q.pressAndHoldStart));q.pressAndHoldEnd&&(b.dataset.commandPressAndHoldEnd=JSON.stringify(q.pressAndHoldEnd));xd(b,"pointerdown:passive",M=>{if(1===M.buttons){M.stopPropagation();
D=Date.now();b.classList.add("is-pressed");var W=M.target;W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId);(M=b.getAttribute("data-command-pressed"))&&f(JSON.parse(M));var ca=b.getAttribute("data-command-press-and-hold-start");ca&&(J&&clearTimeout(J),J=setTimeout(()=>{b.classList.contains("is-pressed")&&(b.classList.remove("is-pressed"),f(JSON.parse(ca)))},300))}});xd(b,"pointerenter",M=>{const W=M.target;W.hasPointerCapture(M.pointerId)&&W.releasePointerCapture(M.pointerId);
1===M.buttons&&b.classList.add("is-pressed")});xd(b,"pointercancel",()=>b.classList.remove("is-pressed"));xd(b,"pointerleave",()=>b.classList.remove("is-pressed"));xd(b,"pointerup",M=>{var W=b.classList.contains("is-pressed");b.classList.remove("is-pressed");b.classList.add("is-active");setTimeout(()=>b.classList.remove("is-active"),150);W=Date.now()>=D&&!W?b.getAttribute("data-command-press-and-hold-end"):null;!W&&M.altKey&&(W=b.getAttribute("data-command-alt"));!W&&M.shiftKey&&(W=b.getAttribute("data-command-shift"));
W||(W=b.getAttribute("data-command"));W&&f(JSON.parse(W));M.stopPropagation();M.preventDefault()})}function jb(){var b;d();const f=document.querySelector("#mathlive-alternate-keys-panel");return f&&(f.classList.remove("is-visible"),f.innerHTML=""),null===(b=yh.scrim)||void 0===b||b.close(),!1}function Yg(b,f){b=b.replace(/(^|[^\\])#@/g,"$1#?");const q=Sb(),D=new rc("root",q);return D.body=Ua(b,q,{parseMode:"math",args:f}),Kb($a(Fb(new Vc(D.render(new be({registers:q.registers},{fontSize:5},"displaystyle")),
{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Ih(b,f,q){var D,J,M;let W="\x3cdiv class\x3d'left'\x3e";f=f.replace(/\s+/g," ").split(" ");if(1<f.length){const fa={...gj,...(null!==(D=b.customVirtualKeyboards)&&void 0!==D?D:{})};for(const xa of f){if(!fa[xa])break;W+="\x3cdiv class\x3d'";xa===q?W+="selected ":fa[xa].command?W+="action ":W+="layer-switch ";W+=(null!==(J=fa[xa].classes)&&void 0!==J?J:"")+"'";fa[xa].tooltip&&(W+="data-tooltip\x3d'"+(null!==(M=k(fa[xa].tooltip))&&
void 0!==M?M:fa[xa].tooltip)+"' ");xa!==q&&("string"==typeof fa[xa].command?W+=`data-command='"${fa[xa].command}"'`:Array.isArray(fa[xa].command)&&(W+=`data-command='${JSON.stringify(fa[xa].command)}'`),fa[xa].layer&&(W+="data-layer\x3d'"+fa[xa].layer+"'"));W+="\x3e"+fa[xa].label+"\x3c/div\x3e"}}W+="\x3c/div\x3e";b="default"===b.virtualKeyboardToolbar?["copyToClipboard","undo","redo"]:[];const ca={copyToClipboard:`\n            <div class='action'\n                data-command='"copyToClipboard"'\n                data-tooltip='${k("tooltip.copy to clipboard")}'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n        `,
undo:`\n            <div class='action disabled'\n                data-command='"undo"'\n                data-tooltip='${k("tooltip.undo")}'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n        `,redo:`\n            <div class='action disabled'\n                data-command='"redo"'\n                data-tooltip='${k("tooltip.redo")}'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        `};return 0<b.length&&(W+=`\n            <div class='right'>\n                ${b.map(fa=>
ca[fa]).join("")}\n            </div>\n        `),"\x3cdiv class\x3d'keyboard-toolbar' role\x3d'toolbar'\x3e"+W+"\x3c/div\x3e"}function fi(b,f,q){var D,J;for(const M of f){let W;M.getAttribute("data-latex")?W=Yg(M.getAttribute("data-latex").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):M.getAttribute("data-insert")&&""===M.innerHTML?W=Yg(M.getAttribute("data-insert").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):M.getAttribute("data-content")&&(W=M.getAttribute("data-content").replace(/&quot;/g,'"'));
M.getAttribute("data-aside")&&(W=(null!=W?W:"")+"\x3caside\x3e"+M.getAttribute("data-aside").replace(/&quot;/g,'"')+"\x3c/aside\x3e");void 0!==W&&(M.innerHTML=b.options.createHTML(W));M.getAttribute("data-classes")&&M.classList.add(M.getAttribute("data-classes"));f=null===(D=M.getAttribute("data-insert"))||void 0===D?void 0:D.replace(/&quot;/g,'"');let ca;f&&Qh[f]&&(M.dataset.shifted=Qh[f][0],M.dataset.shiftedCommand=JSON.stringify(["insertAndUnshiftKeyboardLayer",Qh[f][1]]));if(f=M.getAttribute("data-command"))if(/^[a-zA-Z]+$/.test(f))ca=
f;else try{ca=JSON.parse(f)}catch(fa){}else ca=M.getAttribute("data-insert")?["insert",M.getAttribute("data-insert"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:M.getAttribute("data-latex")?["insert",M.getAttribute("data-latex"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:["typedText",null!==(J=M.getAttribute("data-key"))&&void 0!==J?J:M.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}];if(ca){q&&(ca=[q,ca]);f={default:ca};
const fa=M.getAttribute("data-alt-keys");fa&&Ge[fa]&&(f={default:ca,pressAndHoldStart:["showAlternateKeys",fa],pressAndHoldEnd:"hideAlternateKeys"});pf(M,xa=>b.executeCommand(xa),f)}}}function Wa(b,f){var q,D,J,M;const W={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.\x3d+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~",
"upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}};
var ca=b.virtualKeyboardLayout;if("auto"===ca){var fa=lg[0];fa&&(ca=fa.virtualLayout);ca&&"auto"!==ca||(ca=null!==(q={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[se.locale.slice(0,2)])&&void 0!==q?q:"qwerty")}q=null!==(D=W[ca])&&void 0!==D?D:W.qwerty;D=f.replace(/<arrows\/>/g,'\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","moveToPreviousChar"]\'\n            data-shifted\x3d\'\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-angle-double-left" /\x3e\x3c/svg\x3e\'\n            data-shifted-command\x3d\'["performWithFeedback","extendToPreviousChar"]\'\x3e\n            \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-arrow-left\' /\x3e\x3c/svg\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","moveToNextChar"]\'\n            data-shifted\x3d\'\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-angle-double-right" /\x3e\x3c/svg\x3e\'\n            data-shifted-command\x3d\'["performWithFeedback","extendToNextChar"]\'\x3e\n            \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-arrow-right\' /\x3e\x3c/svg\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","commit"]\'\x3e\n        \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-commit\' /\x3e\x3c/svg\x3e\x3c/li\x3e');
for(ca=D.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);ca;){f="";var xa=ca[2].match(/[a-zA-Z][a-zA-Z\d-]*=(['"])(.*?)\1/g);fa={};if(xa)for(const ta of xa)(xa=ta.match(/([a-zA-Z][a-zA-Z\d-]*)=(['"])(.*?)\2/))&&(fa[xa[1]]=xa[3]);xa=q[fa.name];if(xa||(xa=W.qwerty[fa.name]),xa)for(const ta of xa){let Ma=null!==(J=fa.class)&&void 0!==J?J:"";Ma&&(Ma=` ${Ma}`);"~"===ta?(f+="\x3cli class\x3d'action font-glyph bottom right ",f+=10==xa.length-(xa.match(/ /g)||[]).length/2?"w10":"w15",f+='\' data-shifted\x3d\'\x3cspan class\x3d"warning"\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-trash" /\x3e\x3c/svg\x3e\x3c/span\x3e\'\n                        data-shifted-command\x3d\'"deleteAll"\'\n                        data-alt-keys\x3d\'delete\' data-command\x3d\'["performWithFeedback","deleteBackward"]\'\n                        \x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-delete-backward" /\x3e\x3c/svg\x3e\x3c/li\x3e'):
" "===ta?f+="\x3cli class\x3d'separator w5'\x3e\x3c/li\x3e":"^"===ta?f+="\x3cli class\x3d'shift modifier font-glyph bottom left w15 layer-switch' data-layer\x3d'"+fa["shift-layer"]+'\'\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-shift" /\x3e\x3c/svg\x3e\x3c/li\x3e':"/"===ta?f+="\x3cli class\x3d'keycap"+Ma+"' data-alt-keys\x3d'/' data-insert\x3d'\\frac{#@}{#?}'\x3e\x26divide;\x3c/li\x3e":"*"===ta?f+="\x3cli class\x3d'keycap"+Ma+"' data-alt-keys\x3d'*' data-insert\x3d'\\times '\x3e\x26times;\x3c/li\x3e":
"-"===ta?f+="\x3cli class\x3d'keycap"+Ma+"' data-alt-keys\x3d'-' data-key\x3d'-'\x3e\x26#x2212;\x3c/li\x3e":"."===ta?f+="\x3cli class\x3d'keycap"+Ma+"' data-alt-keys\x3d'.' data-command\x3d'\"insertDecimalSeparator\"'\x3e"+(null!==(M=b.decimalSeparator)&&void 0!==M?M:".")+"\x3c/li\x3e":Ma.includes("tt")?f+=`<li class='keycap${Ma}' data-alt-keys='${ta}' data-command='["typedText","${ta}",{"mode":"latex", "focus":true, "feedback":true}]'>${ta}</li>`:f+="\x3cli class\x3d'keycap"+Ma+"' data-alt-keys\x3d'"+
ta+"'\x3e"+ta+"\x3c/li\x3e"}D=D.replace(new RegExp(ca[1]+ca[2]+ca[3]),f);ca=D.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return D}function jf(b){jb();var f=b.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(f)for(const q of f)(f=q.getAttribute("data-unshifted-content"))&&(q.innerHTML=b.options.createHTML(f),q.dataset.unshiftedContent=""),(f=q.getAttribute("data-unshifted-command"))&&(q.dataset.command=f,q.dataset.unshiftedCommand=
"");return!1}function Yf(b){return Object.keys(b).map(f=>`${f} {${(function(q){return"string"==typeof q?q:Object.entries(q).map(([D,J])=>`${D}:${J} !important`).join(";")})(b[f])}}`).join("")}function oh(b,f){Me(b);jb();jf(b);const q=null==b?void 0:b.element.querySelectorAll(".keyboard-layer");let D=!1;for(const J of q)if(J.dataset.layer===f){D=!0;break}if(D)for(const J of q)J.dataset.layer===f?J.classList.add("is-visible"):J.classList.remove("is-visible");return b.focusMathfield(),!0}function Me(b,
f=""){const q=b.options.virtualKeyboardContainer;if(!q)return!1;(b.element?b.element.classList.add("is-visible"):b.buildAndAttachElement(f),b.visible)||(f=df(),f.visibleVirtualKeyboard&&zg(f.visibleVirtualKeyboard),f.visibleVirtualKeyboard=b,f=q.style.paddingBottom,b.originalContainerBottomPadding=f,q.style.paddingBottom=f?`calc(${f} + var(--keyboard-height, 276px) - 1px)`:"calc(var(--keyboard-height, 276px) - 1px)");return setTimeout(()=>{var D;null===(D=b.element)||void 0===D||D.classList.add("is-visible");
b.focusMathfield()},1),b.visible=!0,b.stateChanged(),!1}function zg(b){var f,q,D;const J=b.options.virtualKeyboardContainer;return!!J&&(b.element&&(df().visibleVirtualKeyboard=void 0,b.disable(),jb(),b.visible=!1,null===(f=b.coreStylesheet)||void 0===f||f.release(),b.coreStylesheet=null,null===(q=b.virtualKeyboardStylesheet)||void 0===q||q.release(),b.virtualKeyboardStylesheet=null,null===(D=b._element)||void 0===D||D.remove(),b._element=void 0,null!==b.originalContainerBottomPadding&&(J.style.paddingBottom=
b.originalContainerBottomPadding)),b.visible=!1,b.stateChanged(),!1)}function Hf(b,f,q){"function"==typeof f&&(q=f,f=1/0);void 0===f&&(f=1/0);let D=b.position,J=!1,M="";for(;!J;){const W=b.at(D);(J=0===f||void 0===W||"math"!==W.mode||!(/mord|textord|mpunct/.test(W.type)||"mop"===W.type&&/[a-zA-Z]+/.test(W.value))||!W.hasEmptyBranch("superscript")||!W.hasEmptyBranch("subscript")||"function"==typeof q&&!q(W))||(W.mode="text",W.command=W.value,W.verbatimLatex=void 0,M+=W.value);--D;--f}Hb(b,{data:M,
inputType:"insertText"})}function Tf(b,f,q){"function"==typeof f&&(q=f,f=1/0);void 0===f&&(f=1/0);let D=b.position,J=!1;const M=[];for(;!J;){const W=b.at(D);(J=0===f||!W||W.isFirstSibling||"text"!==W.mode||" "===W.value||q&&!q(W))||(M.push(W.serialize({defaultMode:"math"})),W.mode="math");--D;--f}Jh(b);Hb(b,{data:va(M),inputType:"insertText"})}function Jh(b){var f;let q=b.position-1;for(;0<=q&&"math"===(null===(f=b.at(q))||void 0===f?void 0:f.mode);)--q;0>q||"text"!==b.at(q).mode||" "!==b.at(q).value||
"math"!==b.at(q-1).mode||(b.at(q-1).parent.removeChild(b.at(q-1)),f=b.suppressChangeNotifications,b.suppressChangeNotifications=!0,--b.position,b.suppressChangeNotifications=f,Hb(b,{inputType:"deleteContent"}))}function kf(b){return b.keystrokeCaption||(b.keystrokeCaption=yf("mathlive-keystroke-caption-panel"),void 0===gh&&(gh=Yd("#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme\x3ddark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel\x3espan{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}").toString(36)),
zh=De(null,"#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme\x3ddark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel\x3espan{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}",
gh),hh=De(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Yd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36))),
b.keystrokeCaption}function Be(b){if(b){for(let f=0;b[f];f++){const q=b[f];if(q instanceof wf&&"("===q.leftDelim){let D=0,J=0,M=0;for(let W=0;q.body[W];W++)"genfrac"===q.body[W].type&&(D++,J=W),M++;0===M&&1===D&&(b[f]=q.body[J])}}for(const f of b){for(const q of f.branches)f.hasEmptyBranch(q)||(Be(f.branch(q)),(b=f.branch(q))?1<b.length?b=null:(b=b[0],b=b instanceof wf&&"("===b.leftDelim&&")"===b.rightDelim?b.removeBranch("body"):null):b=null,b&&f.setChildren(b,q));if(f instanceof Xe)for(const q of f.cells)Be(q)}}}
function Pf(b){if(!b)return[];const f=[];for(const q of b){for(const D of q.branches)q.hasEmptyBranch(D)||(b=Pf(q.branch(D)),f.push(...b));q instanceof We&&f.push(q)}return f}function kh(b){return!!/^(mord|surd|msubsup|leftright|mop|mclose)$/.test(b.type)&&!b.isExtensibleSymbol&&!b.isFunction}function ph(b,f,q){var D=b.at(b.position);const {parent:J}=D;var M=J instanceof wf?J.leftDelim+J.rightDelim:"";if("\\lbrace\\rbrace"===M&&(M="{}"),"\\{\\}"===M&&(M="{}"),"\\lparen\\rparen"===M&&(M="()"),"{}"===
M&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(f))return Qe.insert("math",b,"\\,\\middle"+f+"\\, ",{format:"latex",style:q}),!0;if("{"!==f&&"\\{"!==f||(f="\\lbrace"),"}"!==f&&"\\}"!==f||(f="\\rbrace"),"["===f&&(f="\\lbrack"),"]"===f&&(f="\\rbrack"),Kf[f]){if("leftright"===J.type&&J.firstChild===D&&("?"===J.leftDelim||"."===J.leftDelim))return J.leftDelim=f,J.isDirty=!0,!0;if(!(J instanceof wf&&"|"===J.leftDelim)){if(Qe.insert("math",b,`\\left${f}\\right?`,{format:"latex",style:q}),"first"!==D.lastSibling.type)q=
b.offsetOf(D.lastSibling),q=b.extractAtoms([b.position,q]),b.at(b.position).body=q,--b.position;return!0}}let W="";if(Object.keys(Kf).forEach(fa=>{f===Kf[fa]&&(W=fa)}),W){if(J instanceof wf&&D.isLastSibling)return J.isDirty=!0,J.rightDelim=f,b.position+=1,Hb(b,{data:f,inputType:"insertText"}),!0;M=b.offsetOf(D.firstSibling);let fa;for(fa=b.position;fa>=M;fa--){var ca=b.at(fa);if(ca instanceof wf&&"?"===ca.rightDelim)break}ca=b.at(fa);if(fa>=M&&ca instanceof wf)return ca.rightDelim=f,ca.addChildren(b.extractAtoms([fa,
b.position]),D.treeBranch),b.position=fa,Hb(b,{data:f,inputType:"insertText"}),!0;if(J instanceof wf&&"?"===J.rightDelim)return J.isDirty=!0,J.rightDelim=f,J.parent.addChildren(b.extractAtoms([b.position,b.offsetOf(D.lastSibling)]),J.treeBranch),b.position=b.offsetOf(J),Hb(b,{data:f,inputType:"insertText"}),!0;D=J.parent;return!!(D instanceof wf&&"?"===D.rightDelim&&b.at(b.position).isLastSibling)&&(b.position=b.offsetOf(D),ph(b,f,q))}return!1}function Zg(b,f,q){var D,J,M,W;const {model:ca}=b;!function(Pa){var db,
pb;if(Pa&&"Unidentified"!==Pa.key&&"Dead"!==Pa.key){var Mb=Pa.shiftKey&&Pa.altKey?3:Pa.altKey?2:Pa.shiftKey?1:0;for(const Rb of lg)(null===(db=Rb.mapping[Pa.code])||void 0===db?void 0:db[Mb])===Pa.key?Rb.score+=1:(null===(pb=Rb.mapping[Pa.code])||void 0===pb?0:pb[Mb])&&(Rb.score=0);lg.sort((Rb,pc)=>pc.score-Rb.score)}}(q);var fa=lg[0];if(b.keyboardLayout!==fa.id&&(b.keyboardLayout=fa.id,b._keybindings=void 0),clearTimeout(b.inlineShortcutBufferFlushTimer),b.inlineShortcutBufferFlushTimer=0,function(Pa,
db){if(!Pa.options.readOnly&&Pa.keystrokeCaptionVisible){var pb=kf(Pa),Mb=Pa.element.getBoundingClientRect();pb.style.left=`${Mb.left}px`;pb.style.top=Mb.top-64+"px";pb.innerHTML=Pa.options.createHTML("\x3cspan\x3e"+(lb(db)||db)+"\x3c/span\x3e"+pb.innerHTML);pb.style.visibility="visible";setTimeout(()=>{0<pb.childNodes.length&&pb.childNodes[pb.childNodes.length-1].remove();0===pb.childNodes.length&&(pb.style.visibility="hidden")},3E3)}}(b,f),q.defaultPrevented)return b.flushInlineShortcutBuffer(),
!1;let xa;fa="";if(!b.options.readOnly){if("math"===b.mode&&!q.ctrlKey&&!q.metaKey)if("[Backspace]"===f)b.inlineShortcutBuffer.pop(),b.flushInlineShortcutBuffer({defer:!0});else if(Cc(q)){const Pa=sf(q);var ta=(null!==(J=null===(D=b.inlineShortcutBuffer[b.inlineShortcutBuffer.length-1])||void 0===D?void 0:D.keystrokes)&&void 0!==J?J:"")+Pa;b.inlineShortcutBuffer.push({state:ca.getState(),keystrokes:ta,leftSiblings:Ai(b)});D=0;for(J="";!xa&&D<ta.length;){var Ma=b.inlineShortcutBuffer.length-(ta.length-
D);J=ta.slice(D);xa=cd(b.inlineShortcutBuffer[Ma].leftSiblings,J,b.options.inlineShortcuts);!xa&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(J)&&(xa=b.options.onInlineShortcut(b,J));D+=1}b.flushInlineShortcutBuffer({defer:!0})}else b.flushInlineShortcutBuffer(),b.snapshot();b.options.smartMode&&(ta=b.mode,xa?b.mode="math":function(Pa,db,pb){if(Pa.smartModeSuppressed)return!1;const {model:Mb}=Pa;if(!Mb.at(Mb.position).isLastSibling||!pb||!Cc(pb))return!1;pb=sf(pb);if(!Mb.selectionIsCollapsed)return!("text"!==
Pa.mode||!/[/_^]/.test(pb));const Rb=function(pc){let hc="",kd=pc.position,gd=!1;for(;!gd;){const Vd=pc.at(kd);(gd=!(Vd&&("text"===Vd.mode||"math"===Vd.mode&&/mord|textord|mpunct/.test(Vd.type))))||(hc=Vd.value+hc);--kd}return hc}(Mb)+pb;if("text"===Pa.mode){if("Esc"===db||/[/\\]/.test(pb))return!0;if(/[\^_]/.test(pb))return/(^|\s)[a-zA-Z][^_]$/.test(Rb)&&Tf(Mb,1),!0;Pa={")":"(","}":"{","]":"["}[pb];({parent:db}=Mb.at(Mb.position));if(Pa&&db instanceof wf&&db.leftDelim===Pa)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(Rb))return!1;
if(/[$\u20ac\xa3\u20a4\u20ba\xa5\xa4\u0e3f\xa2\u20a1\u20a7\u20a8\u20b9\u20a9\u20b1]/u.test(pb))return!0;if(/(^|[^a-zA-Z'\u2019])[a-zA-Z] $/.test(Rb))return Tf(Mb,1),!1;if(/\D\.[^\d\s]$/.test(Rb))return Tf(Mb,1),pb=Mb.at(Mb.position),pb.value="⋅",pb.style.variant="normal",pb.command="\\cdot",pb.verbatimLatex=void 0,Hb(Mb,{data:"\\cdot",inputType:"insertText"}),!0;if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(Rb)||/\.\d$/.test(Rb)||/\([\d+\-.]$/.test(Rb))return Tf(Mb,1),!0;if(/\([a-z][,;]$/.test(Rb))return Tf(Mb,
2),!0;if(/[\d+\-=><*|]$/.test(pb))return Jh(Mb),!0}else{if("[Space]"===db)return Hf(Mb,void 0,pc=>/[a-z][:,;.]$/.test(pc.value)),!0;if(/[a-zA-Z]{3,}$/.test(Rb)&&!/(dxd|abc|xyz|uvw)$/.test(Rb))return Hf(Mb,void 0,pc=>/[a-zA-Z]/.test(pc.value)),!0;if(/(^|\W)(if)$/i.test(Rb))return Hf(Mb,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(Rb)&&!/(\u03b1\u03b2\u03b3)$/.test(Rb))return Hf(Mb,void 0,pc=>
/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(pc.value)),!0;if("?"===pb||"."===pb&&!/[\d-+]\.$/.test(Rb))return!0}return!1}(b,f,q)&&(b.mode={math:"text",text:"math"}[b.mode],fa=""),b.mode!==ta&&((null===(M=b.host)||void 0===M?0:M.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0})))||(b.mode=ta)))}if(!xa){if(fa||(fa=function(Pa,db,pb){if(0===Pa.length)return"";pb=Lc(me(pb));
for(let Mb=Pa.length-1;0<=Mb;Mb--)if(Pa[Mb].key===pb&&(!Pa[Mb].ifMode||Pa[Mb].ifMode===db))return Pa[Mb].command;return""}(b.keybindings,b.mode,f)),!fa&&("[Enter]"===f||"[Return]"===f))return Ma=!1,Eb(ca,{inputType:"insertLineBreak"})&&(b.host&&(Ma=!b.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),Ma||q.preventDefault&&(q.preventDefault(),q.stopPropagation()),Hb(ca,{inputType:"insertLineBreak"})),Ma;if("math"===b.mode){if("[Space]"===f){if(b.flushInlineShortcutBuffer(),b.options.mathModeSpace)return b.snapshot(),
Qe.insert("math",ca,b.options.mathModeSpace,{format:"latex"}),fa="",b.dirty=!0,b.scrollIntoView(),q.preventDefault&&(q.preventDefault(),q.stopPropagation()),!1;f=ca.at(ca.position+1);M=ca.at(ca.position-1);"text"!==(null==f?void 0:f.mode)&&"text"!==(null==M?void 0:M.mode)||(b.snapshot(),Qe.insert("text",ca," "),b.dirty=!0)}(null===(W=ca.at(ca.position))||void 0===W?0:W.isDigit())&&","===b.options.decimalSeparator&&","===sf(q)&&(fa="insertDecimalSeparator")}}if(!xa&&!fa)return!0;W=ca.at(Math.max(ca.position,
ca.anchor));({parent:f}=W);if("moveAfterParent"===fa&&"leftright"===(null==f?void 0:f.type)&&W.isLastSibling&&b.options.smartFence&&ph(ca,".",b.style)&&(fa="",Xb(b)),fa)b.executeCommand(fa);else if(xa){b.keyboardDelegate.cancelComposition();const Pa={...ca.at(ca.position).computedStyle,...b.style};/^\\({|}|\[|]|@|#|\$|%|&|\^|_|backslash)$/.test(xa)||(fa=b.mode,Qe.insert(b.mode,ca,sf(q),{suppressChangeNotifications:!0,style:Pa}),b.snapshot(),ca.setState(b.inlineShortcutBuffer[Ma].state),b.mode=fa);
ca.deferNotifications({content:!0,selection:!0,data:null!=xa?xa:null,type:"insertText"},()=>(Qe.insert(b.mode,ca,xa,{format:"latex",style:Pa}),Jh(b.model),xa.endsWith(" ")&&(b.mode="text",Qe.insert("text",ca," ",{style:Pa})),!0));b.snapshot();b.dirty=!0;ca.announce("replacement")}return b.scrollIntoView(),q.preventDefault&&q.preventDefault(),!1}function Kh(b,f,q){var D;const {model:J}=b;if(b.options.readOnly)return void J.announce("plonk");if((q=null!=q?q:{}).focus&&b.focus(),q.feedback&&(b.options.keypressVibration&&
g()&&navigator.vibrate(3),b.playSound("keypress")),"string"==typeof q.mode&&b.switchMode(q.mode),q.simulateKeystroke){q=f.charAt(0);var M=new KeyboardEvent("keypress",{key:q});if(!Zg(b,q,M))return}q=J.at(J.position);M={...q.computedStyle,...b.style};J.selectionIsCollapsed||(J.deleteAtoms(fc(J.selection)),b.snapshot());const W=N(f);if("latex"===b.mode)J.deferNotifications({content:!0,selection:!0,data:f,type:"insertText"},()=>{mc(b);for(const ca of W)Qe.insert("latex",J,ca);Zc(b)});else if("text"===
b.mode)for(const ca of W)Qe.insert("text",J,ca,{style:M});else if("math"===b.mode)for(const ca of W)f={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[ca]," "===ca&&b.options.mathModeSpace&&(f=["insert",b.options.mathModeSpace]),f?b.executeCommand(f):/\d/.test(ca)&&b.options.smartSuperscript&&"superscript"===q.treeBranch&&"mop"!==(null===(D=q.parent)||void 0===D?void 0:D.type)&&q.hasNoSiblings?(Qe.insert("math",J,ca,{style:M}),Md(J)):("mord"===q.type&&/[a-zA-Z]/.test(q.value)&&
/[a-zA-Z]/.test(ca)&&(q.style.variant&&(M.variant=q.style.variant),q.style.variantStyle&&(M.variantStyle=q.style.variantStyle)),Qe.insert("math",J,ca,{style:M}));b.snapshotAndCoalesce();b.dirty=!0;b.scrollIntoView()}function Ai(b){var f=b.model;b=[];for(f=f.at(Math.min(f.position,f.anchor));"first"!==f.type;)b.push(f),f=f.leftSibling;return b}function qg(b,f){var q,D,J,M,W,ca;const fa={};"string"==typeof f.color&&(fa.verbatimColor=f.color,fa.color=null!==(q=b.colorMap(f.color))&&void 0!==q?q:"none");
"string"==typeof f.backgroundColor&&(fa.verbatimBackgroundColor=f.backgroundColor,fa.backgroundColor=null!==(D=b.backgroundColorMap(f.backgroundColor))&&void 0!==D?D:"none");"string"==typeof f.fontFamily&&(fa.fontFamily=f.fontFamily);"string"==typeof f.series&&(fa.fontSeries=f.series);"string"==typeof f.fontSeries&&(fa.fontSeries=f.fontSeries.toLowerCase());fa.fontSeries&&(fa.fontSeries=null!==(J={bold:"b",medium:"m",normal:"m"}[fa.fontSeries])&&void 0!==J?J:fa.fontSeries);"string"==typeof f.shape&&
(fa.fontShape=f.shape);"string"==typeof f.fontShape&&(fa.fontShape=f.fontShape.toLowerCase());fa.fontShape&&(fa.fontShape=null!==(M={italic:"it",up:"n",upright:"n",normal:"n"}[fa.fontShape])&&void 0!==M?M:fa.fontShape);b=null!==(W=f.size)&&void 0!==W?W:f.fontSize;return"number"==typeof b?fa.fontSize=Math.max(1,Math.min(10,b)):"string"==typeof b&&(fa.fontSize=null!==(ca={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[b.toLowerCase()])&&void 0!==ca?ca:{tiny:1,scriptsize:2,
footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[b]),fa}function Df(b){return m()&&"TouchEvent"in globalThis&&b instanceof TouchEvent}function rg(b){return m()&&"PointerEvent"in globalThis&&b instanceof PointerEvent}function qh(b,f,q,D,J){if(!q.id)return[1/0,null];if(f.has(q.id))return f.get(q.id);const M=cf(b,q);if(!M)return[1/0,null];let W=[1/0,null];if(q.hasChildren&&!q.captureSelection&&D>=M.left&&D<=M.right)for(const ca of q.children){const fa=qh(b,f,ca,D,
J);fa[0]<=W[0]&&(W=fa)}W[1]||(D>=M.left&&D<=M.right&&J>=M.top&&J<=M.bottom?J=0:(b=D-(M.left+M.right)/2,J-=(M.top+M.bottom)/2,J=b*b+J*J),W=[J,q]);return f.set(q.id,W),W}function Uf(b,f,q,D){var J,M=b.fieldContent.getBoundingClientRect();if(f>M.right||q>M.bottom+8)return b.model.lastOffset;if(f<M.left||q<M.top-8)return 0;(D=null!=D?D:{}).bias=null!==(J=D.bias)&&void 0!==J?J:0;[,q]=qh(b,new Map,b.model.root,f,q);J=[];for(M=q;M;)J.unshift(M),M=M.parent;for(var W of J)if(W.captureSelection){q=W;break}W=
b.model.offsetOf(q);if(0>W)return-1;q.leftSibling&&(0===D.bias&&"placeholder"!==q.type?(D=cf(b,q))&&f<(D.left+D.right)/2&&(W=b.model.offsetOf(q.leftSibling)):0>D.bias&&(W=b.model.offsetOf(q.leftSibling)));return W}function Jf(b){if("object"!=typeof b)return{};const f={};return b.fontsDirectory&&(f.fontsDirectory=b.fontsDirectory),b.soundsDirectory&&(f.soundsDirectory=b.soundsDirectory),b.virtualKeyboards&&(f.virtualKeyboards=b.virtualKeyboards),b.virtualKeyboardLayout&&(f.virtualKeyboardLayout=b.virtualKeyboardLayout),
b.customVirtualKeyboardLayers&&(f.customVirtualKeyboardLayers=b.customVirtualKeyboardLayers),b.customVirtualKeyboards&&(f.customVirtualKeyboards=b.customVirtualKeyboards),b.virtualKeyboardTheme&&(f.virtualKeyboardTheme=b.virtualKeyboardTheme),b.keypressVibration&&(f.keypressVibration=b.keypressVibration),b.keypressSound&&(f.keypressSound=b.keypressSound),b.plonkSound&&(f.plonkSound=b.plonkSound),b.virtualKeyboardToolbar&&(f.virtualKeyboardToolbar=b.virtualKeyboardToolbar),b.targetOrigin&&(f.targetOrigin=
b.targetOrigin),b.originValidator&&(f.originValidator=b.originValidator),f}function Af(b){return b.toLowerCase().replace(/[^a-zA-Z\d]+(.)/g,(f,q)=>q.toUpperCase())}function $f(b){const f={},q=Wf.optionsAttributes;return Object.keys(q).forEach(D=>{if(b.hasAttribute(D)){const J=b.getAttribute(D);"boolean"===q[D]?f[Af(D)]=!0:"on/off"===q[D]?f[Af(D)]="on"===J||"off"!==J&&void 0:"number"===q[D]?f[Af(D)]=Number.parseFloat(null!=J?J:"0"):f[Af(D)]=J}else"boolean"===q[D]&&(f[Af(D)]=!1)}),f}function ag(b,f,
q,D,J="latex"){const M=[];for(const fa of b)if("text"===fa.type){b=fa.data;let xa,ta=!0,Ma=0;xa=b.indexOf(f);for(-1!==xa&&(Ma=xa,0<Ma&&M.push({type:"text",data:b.slice(0,Ma)}),ta=!1);;){if(ta){if(xa=b.indexOf(f,Ma),-1===xa)break;Ma!==xa&&M.push({type:"text",data:b.slice(Ma,xa)});Ma=xa}else{a:{var W=q;var ca=b;let Pa=Ma+f.length,db=0;const pb=W.length;for(;Pa<ca.length;){const Mb=ca[Pa];if(0>=db&&ca.slice(Pa,Pa+pb)===W){W=Pa;break a}"\\"===Mb?Pa++:"{"===Mb?db++:"}"===Mb&&db--;Pa++}W=-1}if(xa=W,-1===
xa)break;W=b.slice(Ma+f.length,xa);"ascii-math"===J&&([,W]=zd(W,{format:"ascii-math"}));M.push({type:"math",data:W,rawData:b.slice(Ma,xa+q.length),mathstyle:D});Ma=xa+q.length}ta=!ta}Ma<b.length&&M.push({type:"text",data:b.slice(Ma)})}else M.push(fa);return M}function sg(b,f,q){let D=[{type:"text",data:b}];return(null==f?void 0:f.inline)&&f.inline.forEach(([J,M])=>{D=ag(D,J,M,"textstyle")}),(null==f?void 0:f.display)&&f.display.forEach(([J,M])=>{D=ag(D,J,M,"displaystyle")}),(null==q?void 0:q.inline)&&
q.inline.forEach(([J,M])=>{D=ag(D,J,M,"textstyle","ascii-math")}),(null==q?void 0:q.display)&&q.display.forEach(([J,M])=>{D=ag(D,J,M,"displaystyle","ascii-math")}),D}function Zf(b,f,q,D){var J;f=function(M,W,ca,fa){d();try{const xa=W.renderToMarkup(M,{mathstyle:ca,format:"html"}),ta=document.createElement("displaystyle"===ca?"div":"span");return ta.setAttribute("aria-hidden","true"),ta.innerHTML=W.createHTML?W.createHTML(xa):xa,ta}catch(xa){if(fa)return document.createTextNode(M)}return null}(b,q,
f||"displaystyle",D);D=null!==(J=q.renderAccessibleContent)&&void 0!==J?J:"";if(f&&/\b(mathml|speakable-text)\b/i.test(D)){d();J=document.createElement("span");if(/\bmathml\b/i.test(D)&&q.renderToMathML&&J.append(function(M,W){d();const ca=document.createElement("span");try{const fa="\x3cmath xmlns\x3d'http://www.w3.org/1998/Math/MathML'\x3e"+W.renderToMathML(M)+"\x3c/math\x3e";ca.innerHTML=W.createHTML?W.createHTML(fa):fa}catch(fa){ca.textContent=M}return ca.className="ML__sr-only",ca}(b,q)),/\bspeakable-text\b/i.test(D)&&
q.renderToSpeakableText)D=document.createElement("span"),b=q.renderToSpeakableText(b,q),D.innerHTML=q.createHTML?q.createHTML(b):b,D.className="ML__sr-only",J.append(D);return J.append(f),J}return f}function $g(b,f){var q,D,J,M,W,ca,fa,xa,ta,Ma,Pa,db,pb,Mb,Rb,pc;if(1===b.childNodes.length&&3===b.childNodes[0].nodeType){var hc=null!==(q=b.childNodes[0].textContent)&&void 0!==q?q:"";if((null===(D=f.TeX)||void 0===D?0:D.processEnvironments)&&/^\s*\\begin/.test(hc))return b.textContent="",f=Zf(hc,"",
f,!0),void(f&&b.append(f));q=sg(hc,null===(J=f.TeX)||void 0===J?void 0:J.delimiters,null===(M=f.asciiMath)||void 0===M?void 0:M.delimiters);if(1===q.length&&"math"===q[0].type)return b.textContent="",f=Zf(q[0].data,"textstyle"===q[0].mathstyle?"textstyle":"displaystyle",f,!0),void(f&&b.append(f));if(1===q.length&&"text"===q[0].type)return}for(J=b.childNodes.length-1;0<=J;J--)if(M=b.childNodes[J],3===M.nodeType){a:{var kd=hc=D=void 0,gd=null!==(W=M.textContent)&&void 0!==W?W:"";q=f;d();if((null===
(kd=q.TeX)||void 0===kd?0:kd.processEnvironments)&&/^\s*\\begin/.test(gd))D=document.createDocumentFragment(),(q=Zf(gd,"",q,!0))&&D.appendChild(q);else{if(!gd.trim()){q=null;break a}gd=sg(gd,null===(hc=q.TeX)||void 0===hc?void 0:hc.delimiters,null===(D=q.asciiMath)||void 0===D?void 0:D.delimiters);if(1===gd.length&&"text"===gd[0].type){q=null;break a}D=document.createDocumentFragment();for(const Vd of gd)"text"===Vd.type?D.appendChild(document.createTextNode(Vd.data)):(hc=Zf(Vd.data,"textstyle"===
Vd.mathstyle?"textstyle":"displaystyle",q,!0))&&D.appendChild(hc)}q=D}q&&(J+=q.childNodes.length-1,M.replaceWith(q))}else if(1===M.nodeType)if(q=M,D=M.nodeName.toLowerCase(),"script"===D){let Vd;if(null===(ca=f.processScriptTypePattern)||void 0===ca?0:ca.test(M.type))Vd=null!==(fa=M.textContent)&&void 0!==fa?fa:"";else if(null===(xa=f.processMathJSONScriptTypePattern)||void 0===xa?0:xa.test(M.type))try{Vd=null===(ta=f.serializeToLatex)||void 0===ta?void 0:ta.call(f,JSON.parse(null!==(Ma=M.textContent)&&
void 0!==Ma?Ma:""))}catch(of){}if(Vd){q="displaystyle";for(const of of M.type.split(";")){const [Ve,mf]=of.toLowerCase().split("\x3d");"mode"===Ve.trim()&&(q="display"===mf.trim()?"displaystyle":"textstyle")}(q=Zf(Vd,q,f,!0))&&M.parentNode.replaceChild(q,M)}}else if(null!==(db=null===(Pa=f.processClassPattern)||void 0===Pa?void 0:Pa.test(q.className))&&void 0!==db&&db||!(null!==(Mb=null===(pb=f.skipTags)||void 0===pb?void 0:pb.includes(D))&&void 0!==Mb&&Mb||null!==(pc=null===(Rb=f.ignoreClassPattern)||
void 0===Rb?void 0:Rb.test(q.className))&&void 0!==pc&&pc))1===b.childNodes.length&&3===b.childNodes[0].nodeType?(M=b.textContent,b.textContent="",(M=Zf(null!=M?M:"","displaystyle",f,!0))&&b.append(M)):$g(q,f)}function ah(b,f){var q,D,J,M;try{f={...Gj,...f},f.ignoreClassPattern=new RegExp(null!==(q=f.ignoreClass)&&void 0!==q?q:""),f.processClassPattern=new RegExp(null!==(D=f.processClass)&&void 0!==D?D:""),f.processScriptTypePattern=new RegExp(null!==(J=f.processScriptType)&&void 0!==J?J:""),f.processMathJSONScriptTypePattern=
new RegExp(null!==(M=f.processMathJSONScriptType)&&void 0!==M?M:""),null!==f.fontsDirectory&&kc(f.fontsDirectory),De(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Yd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)),
$g(b,f)}catch(W){Error}}function Jc(b,f,q=3E3,D="$0"){for(const J of f)Ef[J]&&(Ef[J].frequency=q,Ef[J].category=b,Ef[J].template=D.replace(/\$0/g,J)),bg[J]&&(bg[J]={...bg[J],frequency:q,category:b,template:D.replace(/\$0/g,J)})}function df(){var b,f;return null!==(b=globalThis[f=Symbol.for("io.cortexjs.mathlive")])&&void 0!==b||(globalThis[f]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}function Jg(b,f){var q;(f=null!=f?f:{}).mathstyle=null!==(q=f.mathstyle)&&void 0!==q?q:"displaystyle";q=Sb();
const D=new rc("root",q);D.body=Ua(b,q,{parseMode:"math",mathstyle:f.mathstyle});return(b=D.render(new be({registers:q.registers,renderPlaceholder:()=>new Vc(160,{maxFontSize:1})},{fontSize:5,letterShapeStyle:q.letterShapeStyle},f.mathstyle)))?(Fb(b),$a(b),Kb(b,{classes:"ML__mathlive"}).toMarkup()):""}function rh(b,f={}){return od(Ua(b,Sb(),{parseMode:"math",args:()=>"",mathstyle:"displaystyle"}),f)}function tg(b,f={}){return Tc(Ua(b,Sb(),{parseMode:"math",mathstyle:"displaystyle"}),f)}function gg(b){var f,
q;if(!Rg){const D=null===(f=globalThis[Symbol.for("io.cortexjs.compute-engine")])||void 0===f?void 0:f.ComputeEngine;D&&(Rg=new D)}return null!==(q=null==Rg?void 0:Rg.box(b).latex)&&void 0!==q?q:""}function sh(b,f){var q,D,J,M;if("string"==typeof b&&m()){const W=document.getElementById(b);if(null===W)throw Error(`The element with ID "${b}" could not be found.`);b=W}else b="string"==typeof b?null:b;b&&(f=null!=f?f:{},null!==(q=f.renderToMarkup)&&void 0!==q||(f.renderToMarkup=Jg),null!==(D=f.renderToMathML)&&
void 0!==D||(f.renderToMathML=rh),null!==(J=f.renderToSpeakableText)&&void 0!==J||(f.renderToSpeakableText=tg),null!==(M=f.serializeToLatex)&&void 0!==M||(f.serializeToLatex=gg),ah(b,f))}const se={strings:{en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard",
"tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows",
"menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"مهام","keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.command":"حالة تلقي الأوامر اللاتك","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.roman":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة",
"tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.insert vector":"أدخل متجه","submenu.array.matrix delimiters":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة",
"menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","submenu.array.insert separator":"أدخل فاصل","menu.insert table":"إدراج جدول","submenu.table style":"نمط الجدول"},bg:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Гръцки букви","keyboard.tooltip.command":"Команден режим на латекс","keyboard.tooltip.numeric":"Числови","keyboard.tooltip.roman":"Римски букви","tooltip.copy to clipboard":"Копиране в клипборда",
"tooltip.redo":"Повторно","tooltip.toggle virtual keyboard":"Превключване на виртуална клавиатура","tooltip.undo":"Отмяна","menu.insert matrix":"Вмъкване на матрица","menu.insert vector":"Вмъкване на вектор","submenu.array.matrix delimiters":"Матрични разделители","menu.array.add row above":"Добавяне на ред след","menu.array.add row below":"Добавяне на ред преди","menu.array.add column after":"Добавяне на колона след","menu.array.add column before":"Добавяне на колона преди","menu.array.delete row":"Изтриване на реда",
"menu.array.delete rows":"Изтриване на избраните редове","menu.array.delete column":"Изтриване на колона","menu.array.delete columns":"Изтриване на избраните колони","submenu.array.insert separator":"Поставете разделител","menu.insert table":"Вмъкване на таблица","submenu.table style":"Табличен стил"},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grčka slova","keyboard.tooltip.command":"LaTeX naredbeni način","keyboard.tooltip.numeric":"Numerički",
"keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uključi / isključi virtualnu tipkovnicu","tooltip.undo":"Poništi","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrični razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije",
"menu.array.delete row":"Izbriši red","menu.array.delete rows":"Izbriši odabrane redove","menu.array.delete column":"Izbriši stupac","menu.array.delete columns":"Izbriši odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Řecké dopisy","keyboard.tooltip.command":"Příkazový režim LaTeX","keyboard.tooltip.numeric":"Číselné",
"keyboard.tooltip.roman":"Římské dopisy","tooltip.copy to clipboard":"Zkopírovat do schránky","tooltip.redo":"Předělat","tooltip.toggle virtual keyboard":"Přepnout virtuální klávesnici","tooltip.undo":"Vrátit","menu.insert matrix":"Vložte matici","menu.insert vector":"Vložit vektor","submenu.array.matrix delimiters":"Oddělovače matic","menu.array.add row above":"Přidat řádek za","menu.array.add row below":"Přidat řádek před","menu.array.add column after":"Přidat sloupec za","menu.array.add column before":"Přidat sloupec dříve",
"menu.array.delete row":"Odstranit řádek","menu.array.delete rows":"Odstranit vybrané řádky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybrané sloupce","submenu.array.insert separator":"Vložte oddělovač","menu.insert table":"Vložit tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Græske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand",
"keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"Indsæt matrix","menu.insert vector":"Indsæt vektor","submenu.array.matrix delimiters":"Matrixafgrænsere","menu.array.add row above":"Tilføj række efter","menu.array.add row below":"Tilføj række før","menu.array.add column after":"Tilføj kolonne efter",
"menu.array.add column before":"Tilføj kolonne før","menu.array.delete row":"Slet række","menu.array.delete rows":"Slet valgte rækker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"Indsæt separator","menu.insert table":"Indsæt tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus",
"keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.insert vector":"Vektor einfügen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor",
"menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","submenu.array.insert separator":"Trennzeichen einfügen","menu.insert table":"Tabelle einfügen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"συναρτήσεις","keyboard.tooltip.symbols":"σύμβολα",
"keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.command":"Λειτουργία εντολών LaTeX","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.roman":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή Matrix","menu.insert vector":"Εισαγωγή διανύσματος","submenu.array.matrix delimiters":"Οριοθέτες Matrix","menu.array.add row above":"Προσθήκη σειράς μετά",
"menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","submenu.array.insert separator":"Εισαγωγή διαχωριστικού","menu.insert table":"Εισαγωγή πίνακα","submenu.table style":"Στυλ πίνακα"},es:{"keyboard.tooltip.functions":"Funciones",
"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.insert vector":"Añadir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz",
"menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},
et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"Sümbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi käsurežiim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.roman":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida lõikelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"Lülitage sisse virtuaalne klaviatuur","tooltip.undo":"Võta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor",
"submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida pärast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg pärast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabeli",
"submenu.table style":"Tabeli stiilis"},fa:{"keyboard.tooltip.functions":"توابع","keyboard.tooltip.symbols":"نمادها","keyboard.tooltip.greek":"حروف یونانی","keyboard.tooltip.command":"حالت دستور لاتک","keyboard.tooltip.numeric":"عددی","keyboard.tooltip.roman":"حروف رومی","tooltip.copy to clipboard":"کپی به کلیپبورد","tooltip.redo":"بازگشت به بعد","tooltip.toggle virtual keyboard":"نمایش/نهفتن کیبورد مجازی","tooltip.undo":"بازگشت به قبل","menu.insert matrix":"ماتریس را وارد کنید","menu.insert vector":"درج بردار",
"submenu.array.matrix delimiters":"مرزهای ماتریس","menu.array.add row above":"بعد از آن ردیف اضافه کنید","menu.array.add row below":"ردیف را قبل اضافه کنید","menu.array.add column after":"اضافه کردن ستون بعد","menu.array.add column before":"ستون قبل را اضافه کنید","menu.array.delete row":"ردیف را حذف کنید","menu.array.delete rows":"ردیف های انتخاب شده را حذف کنید","menu.array.delete column":"حذف ستون","menu.array.delete columns":"ستون های انتخاب شده را حذف کنید","submenu.array.insert separator":"درج جدا کننده",
"menu.insert table":"قرار دادن جدول","submenu.table style":"سبک میز"},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.roman":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikepöydälle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalinäppäimistö","tooltip.undo":"Kumoa",
"menu.insert matrix":"Lisää matriisi","menu.insert vector":"Lisää vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"Lisää rivi jälkeen","menu.array.add row below":"Lisää rivi ennen","menu.array.add column after":"Lisää sarake jälkeen","menu.array.add column before":"Lisää sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet",
"submenu.array.insert separator":"Aseta erotin","menu.insert table":"Lisää taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.roman":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel",
"tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.insert vector":"Insérer un Vecteur","submenu.array.matrix delimiters":"Délimiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone",
"menu.array.delete columns":"Enlever les Colonnes Sélectionées","submenu.array.insert separator":"Insérer un Séparateur","menu.insert table":"Insérer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"Siombailí","keyboard.tooltip.greek":"Litreacha na Gréige","keyboard.tooltip.command":"Mód Ordú LaTeX","keyboard.tooltip.numeric":"Uimhriúil","keyboard.tooltip.roman":"Litreacha Rómhánacha","tooltip.copy to clipboard":"Cóipeáil chuig an Ghearrthaisce",
"tooltip.redo":"Athdhéan","tooltip.toggle virtual keyboard":"Méarchláir Fíorúil a Fháil","tooltip.undo":"Cealaigh","menu.insert matrix":"Cuir isteach Maitrís","menu.insert vector":"Cuir isteach Veicteoir","submenu.array.matrix delimiters":"Delimiters Maitrís","menu.array.add row above":"Cuir Rae Tar éis","menu.array.add row below":"Cuir Rae Roimh","menu.array.add column after":"Cuir Colún Tar éis","menu.array.add column before":"Cuir Colún Roimh","menu.array.delete row":"Scrios Rae","menu.array.delete rows":"Scrios Sraitheanna Roghnaithe",
"menu.array.delete column":"Scrios Colún","menu.array.delete columns":"Scrios Colúin Roghnaithe","submenu.array.insert separator":"Cuir Deighilteoir isteach","menu.insert table":"Ionsáigh Tábla","submenu.table style":"Stíl Tábla"},he:{"keyboard.tooltip.functions":"פונקציות","keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.command":"מצב פקודה לטקס","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.roman":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח",
"tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.insert vector":"הכנס וקטור","submenu.array.matrix delimiters":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו",
"menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","submenu.array.insert separator":"הכנס מפריד","menu.insert table":"הכנס טבלה","submenu.table style":"טבלה סִגְנוֹן"},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grčka slova","keyboard.tooltip.command":"LaTeX naredbeni način","keyboard.tooltip.numeric":"Numerički","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u međuspremnik",
"tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Uključi / isključi virtualnu tipkovnicu","tooltip.undo":"Poništi","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrični razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj redak prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbriši redak","menu.array.delete rows":"Izbriši odabrane retke",
"menu.array.delete column":"Izbriši stupac","menu.array.delete columns":"Izbriši odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Umetni tablicu","submenu.table style":"Stil tabele"},id:{"keyboard.tooltip.functions":"Fungsi","keyboard.tooltip.symbols":"Simbol","keyboard.tooltip.greek":"Huruf Yunani","keyboard.tooltip.command":"Mode Perintah LaTeX","keyboard.tooltip.numeric":"Numerik","keyboard.tooltip.roman":"Surat Romawi","tooltip.copy to clipboard":"Menyalin ke clipboard",
"tooltip.redo":"Mengulangi","tooltip.toggle virtual keyboard":"Alihkan Keyboard Virtual","tooltip.undo":"Membuka","menu.insert matrix":"Sisipkan Matriks","menu.insert vector":"Sisipkan Vektor","submenu.array.matrix delimiters":"Pembatas Matriks","menu.array.add row above":"Tambahkan Baris Setelah","menu.array.add row below":"Tambahkan Baris Sebelumnya","menu.array.add column after":"Tambahkan Kolom Setelah","menu.array.add column before":"Tambahkan Kolom Sebelumnya","menu.array.delete row":"Hapus Baris",
"menu.array.delete rows":"Hapus Baris yang Dipilih","menu.array.delete column":"Hapus Kolom","menu.array.delete columns":"Hapus Kolom yang Dipilih","submenu.array.insert separator":"Sisipkan Pemisah","menu.insert table":"Sisipkan Tabel","submenu.table style":"Gaya Tabel"},hi:{"keyboard.tooltip.functions":"कार्यों","keyboard.tooltip.symbols":"प्रतीक","keyboard.tooltip.greek":"ग्रीक अक्षर","keyboard.tooltip.command":"लाटेक्स कमांड मोड","keyboard.tooltip.numeric":"संख्यात्मक","keyboard.tooltip.roman":"रोमन पत्र",
"tooltip.copy to clipboard":"क्लिपबोर्ड पर कॉपी करें","tooltip.redo":"फिर से करें","tooltip.toggle virtual keyboard":"वर्चुअल कीबोर्ड टॉगल करें","tooltip.undo":"पूर्ववत","menu.insert matrix":"मैट्रिक्स डालें","menu.insert vector":"वेक्टर डालें","submenu.array.matrix delimiters":"मैट्रिक्स सीमांकक","menu.array.add row above":"बाद में पंक्ति जोड़ें","menu.array.add row below":"पहले पंक्ति जोड़ें","menu.array.add column after":"बाद में कॉलम जोड़ें","menu.array.add column before":"पहले कॉलम जोड़ें","menu.array.delete row":"पंक्ति को हटाएं",
"menu.array.delete rows":"चयनित पंक्तियों को हटाएं","menu.array.delete column":"कॉलम हटाएं","menu.array.delete columns":"चयनित कॉलम हटाएं","submenu.array.insert separator":"विभाजक डालें","menu.insert table":"टेबल इंसर्ट करें","submenu.table style":"टेबल स्टाइल"},hu:{"keyboard.tooltip.functions":"Funkciók","keyboard.tooltip.symbols":"Szimbólumok","keyboard.tooltip.greek":"Görög levelek","keyboard.tooltip.command":"LaTeX Parancs mód","keyboard.tooltip.numeric":"Numerikus","keyboard.tooltip.roman":"Római levelek",
"tooltip.copy to clipboard":"Másolja a vágólapra","tooltip.redo":"Újra","tooltip.toggle virtual keyboard":"Váltás a virtuális billentyűzetre","tooltip.undo":"Visszavonás","menu.insert matrix":"Helyezze be a Mátrixot","menu.insert vector":"Vektor beszúrása","submenu.array.matrix delimiters":"Mátrixhatárolók","menu.array.add row above":"Sor hozzáadása után","menu.array.add row below":"Add Add Sor előtt","menu.array.add column after":"Oszlop hozzáadása után","menu.array.add column before":"Add oszlop előtt",
"menu.array.delete row":"Sor törlése","menu.array.delete rows":"Kijelölt sorok törlése","menu.array.delete column":"Oszlop törlése","menu.array.delete columns":"A kijelölt oszlopok törlése","submenu.array.insert separator":"Helyezze be az elválasztót","menu.insert table":"Helyezze be a táblázatot","submenu.table style":"Táblázatos stílus"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalità di comando LaTeX",
"keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo",
"menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"Aðgerðir",
"keyboard.tooltip.symbols":"Tákn","keyboard.tooltip.greek":"Grísk bréf","keyboard.tooltip.command":"LaTeX stjórnunarstilling","keyboard.tooltip.numeric":"Tölulegt","keyboard.tooltip.roman":"Rómversk bréf","tooltip.copy to clipboard":"Afritaðu á klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um sýndarlyklaborð","tooltip.undo":"Afturkalla","menu.insert matrix":"Settu fylki inn","menu.insert vector":"Settu inn Vector","submenu.array.matrix delimiters":"Matrix afmörkun",
"menu.array.add row above":"Bæta við röð á eftir","menu.array.add row below":"Bæta við röð áður","menu.array.add column after":"Bæta við dálki á eftir","menu.array.add column before":"Bæta við dálki áður","menu.array.delete row":"Eyða röð","menu.array.delete rows":"Eyða völdum línum","menu.array.delete column":"Eyða dálki","menu.array.delete columns":"Eyða völdum dálkum","submenu.array.insert separator":"Settu skiljuna í","menu.insert table":"Settu inn töflu","submenu.table style":"Töflu stíl"},ja:{"keyboard.tooltip.functions":"関数",
"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.command":"ラテックスコマンドモード","keyboard.tooltip.numeric":"数値","keyboard.tooltip.roman":"ローマ字","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.insert vector":"ベクトルを挿入","submenu.array.matrix delimiters":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加",
"menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","submenu.array.insert separator":"セパレーターを挿入","menu.insert table":"テーブルを挿入","submenu.table style":"テーブルスタイル"},ko:{"keyboard.tooltip.functions":"기능","keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.command":"유액 명령 모드","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.roman":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사",
"tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.insert vector":"벡터 삽입","submenu.array.matrix delimiters":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","submenu.array.insert separator":"구분자 삽입",
"menu.insert table":"표 삽입","submenu.table style":"테이블 스타일"},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grieķu burti","keyboard.tooltip.command":"LaTeX komandu režīms","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.roman":"Romiešu vēstules","tooltip.copy to clipboard":"Kopēt starpliktuvē","tooltip.redo":"Pārtaisīt","tooltip.toggle virtual keyboard":"Pārslēgt virtuālo tastatūru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu",
"menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobežotāji","menu.array.add row above":"Pievienot rindu pēc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pēc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzēst rindu","menu.array.delete rows":"Dzēst atlasītās rindas","menu.array.delete column":"Dzēst kolonnu","menu.array.delete columns":"Dzēst atlasītās kolonnas","submenu.array.insert separator":"Ievietojiet atdalītāju",
"menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"Graikiškos raidės","keyboard.tooltip.command":"LaTeX komandų režimas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.roman":"Romos laiškai","tooltip.copy to clipboard":"Nukopijuoti į iškarpinę","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtualiąją klaviatūrą","tooltip.undo":"Atšaukti",
"menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobežotāji","menu.array.add row above":"Pievienot rindu pēc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pēc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzēst rindu","menu.array.delete rows":"Dzēst atlasītās rindas","menu.array.delete column":"Dzēst kolonnu","menu.array.delete columns":"Dzēst atlasītās kolonnas",
"submenu.array.insert separator":"Ievietojiet atdalītāju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Tabulas stili"},lu:{"keyboard.tooltip.functions":"Funktiounen","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Griichesch Bréiwer","keyboard.tooltip.command":"LaTeX Kommando Modus","keyboard.tooltip.numeric":"Numeresch","keyboard.tooltip.roman":"Réimesch Bréiwer","tooltip.copy to clipboard":"Kopéiert op Clipboard","tooltip.redo":"Nees nei maachen","tooltip.toggle virtual keyboard":"Wiesselt Virtuell Tastatur",
"tooltip.undo":"Undoen","menu.insert matrix":"Matrix asetzen","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Ofgrenzer","menu.array.add row above":"Dobäizemaachen Rei No","menu.array.add row below":"Füügt Rei vir","menu.array.add column after":"Dobäizemaachen Kolonn No","menu.array.add column before":"Kolonn derbäi Virun","menu.array.delete row":"Rad läschen","menu.array.delete rows":"Läscht Ausgewielte Reien","menu.array.delete column":"Läscht Kolonn","menu.array.delete columns":"Läscht Ausgewielte Kolonnen",
"submenu.array.insert separator":"Insert Separator","menu.insert table":"Dësch anzeginn","submenu.table style":"Dësch Style"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.roman":"Romeinse letters","tooltip.copy to clipboard":"Kopiëren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord",
"tooltip.undo":"Ongedaan maken","menu.insert matrix":"Matrix invoegen","menu.insert vector":"Vector invoegen","submenu.array.matrix delimiters":"Matrixscheidingstekens","menu.array.add row above":"Rij toevoegen na","menu.array.add row below":"Rij toevoegen eerder","menu.array.add column after":"Kolom toevoegen na","menu.array.add column before":"Kolom toevoegen voor","menu.array.delete row":"Verwijder rij","menu.array.delete rows":"Geselecteerde rijen verwijderen","menu.array.delete column":"Kolom verwijderen",
"menu.array.delete columns":"Geselecteerde kolommen verwijderen","submenu.array.insert separator":"Scheidingsteken invoegen","menu.insert table":"Tabel invoegen","submenu.table style":"Tabelstijl"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle",
"tooltip.redo":"Gjøre om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre","menu.insert matrix":"Sett inn matrise","menu.insert vector":"Sett inn vektor","submenu.array.matrix delimiters":"Matrix avgrensere","menu.array.add row above":"Legg til rad etter","menu.array.add row below":"Legg til rad før","menu.array.add column after":"Legg til kolonne etter","menu.array.add column before":"Legg til kolonne før","menu.array.delete row":"Slett rad","menu.array.delete rows":"Slett valgte rader",
"menu.array.delete column":"Slett kolonne","menu.array.delete columns":"Slett valgte kolonner","submenu.array.insert separator":"Sett inn skilletegn","menu.insert table":"Sett inn tabell","submenu.table style":"Tabellstil"},mk:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Симболи","keyboard.tooltip.greek":"Грчки букви","keyboard.tooltip.command":"Режим на команда во латекс","keyboard.tooltip.numeric":"Нумерички","keyboard.tooltip.roman":"Римски писма","tooltip.copy to clipboard":"Копирајте во клипборд",
"tooltip.redo":"Повторно","tooltip.toggle virtual keyboard":"Вклучете ја виртуелната тастатура","tooltip.undo":"Врати","menu.insert matrix":"Вметнете матрица","menu.insert vector":"Вметни вектор","submenu.array.matrix delimiters":"Разграничувачи на матрица","menu.array.add row above":"Додадете ред после","menu.array.add row below":"Додади ред пред тоа","menu.array.add column after":"Додадете колона после","menu.array.add column before":"Додадете колона пред тоа","menu.array.delete row":"Избриши го редот",
"menu.array.delete rows":"Избришете ги избраните редови","menu.array.delete column":"Избриши ја колоната","menu.array.delete columns":"Избриши ја колоната","submenu.array.insert separator":"Вметнете сепаратор","menu.insert table":"Вметни табела","submenu.table style":"Табела стил"},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb poleceń LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Litery rzymskie",
"tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz wirtualną klawiaturę","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.insert vector":"Wstaw wektor","submenu.array.matrix delimiters":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz",
"menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","submenu.array.insert separator":"Wstaw separator","menu.insert table":"Wypełnij tabelę","submenu.table style":"Styl tabelę"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.roman":"Letras romanas",
"tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.insert vector":"Inserir vetor","submenu.array.matrix delimiters":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes",
"menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","submenu.array.insert separator":"Inserir Separador","menu.insert table":"Insira a tabela","submenu.table style":"Estilo tabela"},ro:{"keyboard.tooltip.functions":"Funcții","keyboard.tooltip.symbols":"Simboluri","keyboard.tooltip.greek":"Scrisori grecești","keyboard.tooltip.command":"Modul de comandă latex",
"keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Scrisori romane","tooltip.copy to clipboard":"Copiați în clipboard","tooltip.redo":"A reface","tooltip.toggle virtual keyboard":"Comutați tastatura virtuală","tooltip.undo":"Anula","menu.insert matrix":"Introduceți Matrix","menu.insert vector":"Inserați Vector","submenu.array.matrix delimiters":"Delimitatori de matrice","menu.array.add row above":"Adăugați rândul după","menu.array.add row below":"Adăugați rândul înainte","menu.array.add column after":"Adăugați o coloană după",
"menu.array.add column before":"Adăugați o coloană înainte","menu.array.delete row":"Ștergeți rândul","menu.array.delete rows":"Ștergeți rândurile selectate","menu.array.delete column":"Ștergeți coloana","menu.array.delete columns":"Ștergeți coloanele selectate","submenu.array.insert separator":"Introduceți separatorul","menu.insert table":"Introduceți tabelul","submenu.table style":"Table style"},ru:{"keyboard.tooltip.functions":"Функции","keyboard.tooltip.symbols":"Символы","keyboard.tooltip.greek":"Греческие буквы",
"keyboard.tooltip.command":"Режим командной строки Латекс","keyboard.tooltip.numeric":"числовой","keyboard.tooltip.roman":"Латинские буквы","tooltip.copy to clipboard":"Скопировать в буфер обмена","tooltip.redo":"переделывать","tooltip.toggle virtual keyboard":"Переключить виртуальную клавиатуру","tooltip.undo":"расстегивать","menu.insert matrix":"Вставить матрицу","menu.insert vector":"Вставить вектор","submenu.array.matrix delimiters":"Матричные разделители","menu.array.add row above":"Добавить строку после",
"menu.array.add row below":"Добавить строку перед","menu.array.add column after":"Добавить столбец после","menu.array.add column before":"Добавить столбец перед","menu.array.delete row":"Удалить строку","menu.array.delete rows":"Удалить выбранные строки","menu.array.delete column":"Удалить столбец","menu.array.delete columns":"Удалить выбранные столбцы","submenu.array.insert separator":"Вставить разделитель","menu.insert table":"Вставить таблицу","submenu.table style":"Табличный стиль"},sk:{"keyboard.tooltip.functions":"Functions",
"keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Grécke listy","keyboard.tooltip.command":"Príkazový režim LaTeX","keyboard.tooltip.numeric":"Numerické","keyboard.tooltip.roman":"Rímske listy","tooltip.copy to clipboard":"Skopírovať do schránky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"Prepnúť virtuálnu klávesnicu","tooltip.undo":"Vrátenie späť","menu.insert matrix":"Vložte maticu","menu.insert vector":"Vložte vektor","submenu.array.matrix delimiters":"Oddeľovače matíc",
"menu.array.add row above":"Pridajte riadok za","menu.array.add row below":"Pridajte riadok pred","menu.array.add column after":"Pridať stĺpec za","menu.array.add column before":"Pridajte stĺpec predtým","menu.array.delete row":"Odstrániť riadok","menu.array.delete rows":"Odstrániť vybraté riadky","menu.array.delete column":"Odstrániť stĺpec","menu.array.delete columns":"Odstrániť vybraté stĺpce","submenu.array.insert separator":"Vložte oddeľovač","menu.insert table":"Vložte tabuľku","submenu.table style":"Štýl tabuľky"},
sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grška pisma","keyboard.tooltip.command":"Ukazni način LaTeX","keyboard.tooltip.numeric":"Številsko","keyboard.tooltip.roman":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odložišče","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi","menu.insert matrix":"Vstavi matrico","menu.insert vector":"Vstavi vektor","submenu.array.matrix delimiters":"Matrični ločevalniki",
"menu.array.add row above":"Dodaj vrstico po","menu.array.add row below":"Dodaj vrstico prej","menu.array.add column after":"Dodaj stolpec po","menu.array.add column before":"Dodaj stolpec prej","menu.array.delete row":"Izbriši vrstico","menu.array.delete rows":"Izbriši izbrane vrstice","menu.array.delete column":"Izbriši stolpec","menu.array.delete columns":"Izbriši izbrane stolpce","submenu.array.insert separator":"Vstavi ločilo","menu.insert table":"Vstavi tabelo","submenu.table style":"Tabela slog"},
sq:{"keyboard.tooltip.functions":"Funksione","keyboard.tooltip.symbols":"Simbolet","keyboard.tooltip.greek":"Letrat Greke","keyboard.tooltip.command":"Modaliteti i komandës latex","keyboard.tooltip.numeric":"Numerike","keyboard.tooltip.roman":"Letrat romake","tooltip.copy to clipboard":"Kopjoni në Clipboard","tooltip.redo":"Riparo","tooltip.toggle virtual keyboard":"Aktivizo tastierën virtuale","tooltip.undo":"Zhbëj","menu.insert matrix":"Vendosni Matricën","menu.insert vector":"Vendos vektorin",
"submenu.array.matrix delimiters":"Përcaktuesit e matricës","menu.array.add row above":"Shto Rreshtin Pas","menu.array.add row below":"Shto Rreshtin Para","menu.array.add column after":"Shto kolonën pas","menu.array.add column before":"Shto kolonën para","menu.array.delete row":"Fshi Rreshtin","menu.array.delete rows":"Fshi rreshtat e zgjedhur","menu.array.delete column":"Fshi kolonën","menu.array.delete columns":"Fshi kolonat e zgjedhura","submenu.array.insert separator":"Vendos Ndarësin","menu.insert table":"Vendos tabelën",
"submenu.table style":"Stili tabelën"},sr:{"keyboard.tooltip.functions":"Функције","keyboard.tooltip.symbols":"Симболи","keyboard.tooltip.greek":"Греек Леттерс","keyboard.tooltip.command":"ЛаТеКс командни режим","keyboard.tooltip.numeric":"Нумерички","keyboard.tooltip.roman":"Римска писма","tooltip.copy to clipboard":"Копирајте у међуспремник","tooltip.redo":"Понови","tooltip.toggle virtual keyboard":"Укључи / искључи виртуелну тастатуру","tooltip.undo":"Опозови","menu.insert matrix":"Уметни матрицу",
"menu.insert vector":"Уметни вектор","submenu.array.matrix delimiters":"Матрик Делимитерс","menu.array.add row above":"Додај ред после","menu.array.add row below":"Додај ред пре","menu.array.add column after":"Додај колону после","menu.array.add column before":"Додај колону пре","menu.array.delete row":"Избриши ред","menu.array.delete rows":"Избриши изабране редове","menu.array.delete column":"Избриши колону","menu.array.delete columns":"Избриши изабране колоне","submenu.array.insert separator":"Уметни сепаратор",
"menu.insert table":"Убаци табелу","submenu.table style":"Табеларни стил"},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokstäver","keyboard.tooltip.command":"LaTeX kommandoläge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerska bokstäver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"Göra om","tooltip.toggle virtual keyboard":"Växla virtuellt tangentbord","tooltip.undo":"Ångra","menu.insert matrix":"Sätt in matris",
"menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"Matrisavgränsare","menu.array.add row above":"Lägg till rad efter","menu.array.add row below":"Lägg till rad före","menu.array.add column after":"Lägg till kolumn efter","menu.array.add column before":"Lägg till kolumn före","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"Sätt i separator",
"menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},th:{"keyboard.tooltip.functions":"ฟังก์ชั่น","keyboard.tooltip.symbols":"สัญลักษณ์","keyboard.tooltip.greek":"อักษรกรีก","keyboard.tooltip.command":"โหมดคำสั่ง น้ำยาง","keyboard.tooltip.numeric":"ตัวเลข","keyboard.tooltip.roman":"อักษรโรมัน","tooltip.copy to clipboard":"คัดลอกไปที่คลิปบอร์ด","tooltip.redo":"ทำซ้ำ","tooltip.toggle virtual keyboard":"สลับแป้นพิมพ์เสมือน","tooltip.undo":"เลิกทำ","menu.insert matrix":"แทรกเมทริกซ์",
"menu.insert vector":"แทรกเวกเตอร์","submenu.array.matrix delimiters":"ตัวคั่นเมทริกซ์","menu.array.add row above":"เพิ่มแถวหลัง","menu.array.add row below":"เพิ่มแถวก่อน","menu.array.add column after":"เพิ่มคอลัมน์หลัง","menu.array.add column before":"เพิ่มคอลัมน์ก่อน","menu.array.delete row":"ลบแถว","menu.array.delete rows":"ลบแถวที่เลือก","menu.array.delete column":"ลบคอลัมน์","menu.array.delete columns":"ลบคอลัมน์ที่เลือก","submenu.array.insert separator":"ตัวคั่นแทรก","menu.insert table":"แทรกตาราง",
"submenu.table style":"สไตล์ตาราง"},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"Sayısal","keyboard.tooltip.roman":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi Aç/Kapat","tooltip.undo":"Geri alma","menu.insert matrix":"Matris Ekle","menu.insert vector":"Vektör Ekle",
"submenu.array.matrix delimiters":"Matris Sınırlayıcılar","menu.array.add row above":"Satırdan Sonra Ekle","menu.array.add row below":"Önce Satır Ekle","menu.array.add column after":"Sonra Sütun Ekle","menu.array.add column before":"Önce Sütun Ekle","menu.array.delete row":"Sırayı sil","menu.array.delete rows":"Seçili Satırları Sil","menu.array.delete column":"Sütunu Sil","menu.array.delete columns":"Seçili Sütunları Sil","submenu.array.insert separator":"Ayırıcı Ekle","menu.insert table":"Tablo Ekle",
"submenu.table style":"Tablo Stili"},uk:{"keyboard.tooltip.functions":"Функції","keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.command":"Командний режим латексу","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.roman":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.undo":"Скасувати","menu.insert matrix":"Вставити матрицю",
"menu.insert vector":"Вставити вектор","submenu.array.matrix delimiters":"Матричні роздільники","menu.array.add row above":"Додати рядок після","menu.array.add row below":"Додати рядок до","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","submenu.array.insert separator":"Вставте роздільник",
"menu.insert table":"Вставити таблицю","submenu.table style":"Стиль таблиці"},vi:{"keyboard.tooltip.functions":"Chức năng","keyboard.tooltip.symbols":"Ký hiệu","keyboard.tooltip.greek":"Chữ Hy Lạp","keyboard.tooltip.command":"Chế độ lệnh LaTeX","keyboard.tooltip.numeric":"Số","keyboard.tooltip.roman":"Chữ cái La mã","tooltip.copy to clipboard":"Sao chép vào clipboard","tooltip.redo":"Làm lại","tooltip.toggle virtual keyboard":"Chuyển đổi bàn phím ảo","tooltip.undo":"Hoàn tác","menu.insert matrix":"Chèn ma trận",
"menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Dấu phân cách ma trận","menu.array.add row above":"Thêm hàng sau","menu.array.add row below":"Thêm hàng trước","menu.array.add column after":"Thêm cột sau","menu.array.add column before":"Thêm cột trước","menu.array.delete row":"Xóa hàng","menu.array.delete rows":"Xóa hàng đã chọn","menu.array.delete column":"Xóa cột","menu.array.delete columns":"Xóa các cột đã chọn","submenu.array.insert separator":"Chèn dấu phân cách","menu.insert table":"Chèn bảng",
"submenu.table style":"Kiểu bảng"},zh_cn:{"keyboard.tooltip.functions":"职能","keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.command":"乳胶 命令模式","keyboard.tooltip.numeric":"数字","keyboard.tooltip.roman":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.insert vector":"插入向量","submenu.array.matrix delimiters":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行",
"menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","submenu.array.insert separator":"插入分隔符","menu.insert table":"插入表格","submenu.table style":"表格样式"},zh_tw:{"keyboard.tooltip.functions":"職能","keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.command":"乳膠命令模式","keyboard.tooltip.numeric":"數字","keyboard.tooltip.roman":"羅馬字母",
"tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.insert vector":"插入向量","submenu.array.matrix delimiters":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列",
"submenu.array.insert separator":"插入分隔符","menu.insert table":"插入表格","submenu.table style":"表格樣式"}},_locale:"",get locale(){return se._locale||(se._locale=m()?navigator.language.slice(0,5):"en"),se._locale},set locale(b){se._locale=b},merge(b,f){if(b&&f){var q=se._locale;se.locale=b;se.strings[b]={...se.strings[b],...f};se.locale=q}else if(b&&!f)for(q of Object.keys(b))se.merge(q,b[q])}},Ag={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",
m9:"#843D99"},Lh={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},Kg={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},bh={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",
indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},Lg={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},fe={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",
BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",
Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",
VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"},Ef={},Te={60:"\\lt",62:"\\gt",111:"o",38:"\\\x26",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",
8314:"^{+}",8315:"^{-}",8316:"^{\x3d}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{\x3d}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",
10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},bg={},Mh={},ug={iff:"\\;⟺\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",
rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",
capitalDifferentialD:"\\mathrm{D}","braket.sty":{package:{bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",
varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},expand:!1},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",
Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",
Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",
weierp:"\\wp",Zeta:"\\mathrm{Z}"},expand:!1}},Vf={" ":32,"\\#":35,"\\\x26":38,"\\$":36,"\\%":37,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,
"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Ff=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,th=l()?RegExp("\\p{Letter}","u"):/[a-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,
Mg=l()?RegExp("[0-9\\p{Letter}]","u"):/[\da-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,
Ng={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Hg=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,
offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",
style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,
len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,
style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",
style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];let ch;const wb=[0,.69444,0,0],fd=[0,.61111,0,0],yd=[.25,.75,0,0],Nd=[0,.44444,0,0],u=[0,.68611,0,0],C=[.19444,.69444,0,0],S=[0,.68333,0,0],ba=[0,.68889,0,0],ra=[0,.69141,0,0],Ka=[0,0,0,0],Na=[0,.64444,0,0],nb=[0,.69224,0,0],Cb=[.19444,.44444,0,0],Yb=[.65002,1.15,0,0],Qc=[0,.55556,0,0],Sc=[.35001,.85,0,0],qd=[1.25003,1.75,0,0],Ud=[.95003,1.45,0,0],$d=[0,.75,0,0],je=[0,.47534,0,0],ne=[.25001,.75,0,0],ze=[.55001,1.05,0,0],oe=[.16667,
.68889,0,0],Wd=[.08167,.58167,0,0];var Mf={"AMS-Regular":{32:Ka,65:ba,66:ba,67:ba,68:ba,69:ba,70:ba,71:ba,72:ba,73:ba,74:oe,75:ba,76:ba,77:ba,78:ba,79:oe,80:ba,81:oe,82:ba,83:ba,84:ba,85:ba,86:ba,87:ba,88:ba,89:ba,90:ba,107:ba,160:Ka,165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:ba,295:ba,710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:Wd,1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:ba,8487:ba,8498:ba,8502:ba,8503:ba,8504:ba,8513:ba,8592:[-.03598,.46402,0,0],8594:[-.03598,
.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:nb,8625:nb,8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,
0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:ba,8709:Wd,8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:Wd,8733:nb,8736:nb,8737:nb,8738:[.03517,.52239,
0,0],8739:Wd,8740:[.25142,.74111,0,0],8741:Wd,8742:[.25142,.74111,0,0],8756:nb,8757:nb,8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:Wd,8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:nb,8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,
0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,
.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:nb,8873:nb,8874:nb,8876:ba,8877:ba,8878:ba,8879:ba,8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:Wd,8905:Wd,8906:Wd,8907:nb,8908:nb,8909:[-.03598,
.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:nb,8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,
.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:nb,9488:nb,9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:nb,10016:nb,
10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,
.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:Wd,57351:Wd,57352:Wd,57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{32:Ka,
65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,
.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889],160:Ka},"Fraktur-Regular":{32:Ka,33:ra,34:ra,38:ra,39:ra,40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:je,49:je,50:je,51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,
.47534,0,0],54:ra,55:[.18906,.47534,0,0],56:ra,57:[.18906,.47534,0,0],58:je,59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:ra,65:ra,66:ra,67:ra,68:ra,69:ra,70:[.12604,.69141,0,0],71:ra,72:[.06302,.69141,0,0],73:ra,74:[.12604,.69141,0,0],75:ra,76:ra,77:ra,78:ra,79:ra,80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:ra,83:ra,84:ra,85:ra,86:ra,87:ra,88:ra,89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:ra,97:je,98:ra,99:je,100:[0,.62119,0,0],101:je,102:[.18906,
.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:ra,106:ra,107:ra,108:ra,109:je,110:je,111:je,112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:je,115:je,116:[0,.62119,0,0],117:je,118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],160:Ka,8216:ra,8217:ra,58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:ra,58118:[0,.62119,0,0],58119:je},"Main-Bold":{32:Ka,
33:wb,34:wb,35:C,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:wb,39:wb,40:yd,41:yd,42:$d,43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:Nd,46:[0,.15556,0,0],47:yd,48:Na,49:Na,50:Na,51:Na,52:Na,53:Na,54:Na,55:Na,56:Na,57:Na,58:Nd,59:Cb,60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:wb,64:wb,65:u,66:u,67:u,68:u,69:u,70:u,71:u,72:u,73:u,74:u,75:u,76:u,77:u,78:u,79:u,80:u,81:[.19444,.68611,0,0],82:u,83:u,84:u,85:u,86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:u,89:[0,.68611,
.02875,0],90:u,91:yd,92:yd,93:yd,94:wb,95:[.31,.13444,.03194,0],97:Nd,98:wb,99:Nd,100:wb,101:Nd,102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:wb,105:wb,106:C,107:wb,108:wb,109:Nd,110:Nd,111:Nd,112:Cb,113:Cb,114:Nd,115:Nd,116:[0,.63492,0,0],117:Nd,118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:Nd,121:[.19444,.44444,.01597,0],122:Nd,123:yd,124:yd,125:yd,126:[.35,.34444,0,0],160:Ka,163:wb,168:wb,172:Nd,176:wb,177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:u,215:[.13333,.63333,0,0],216:[.04861,
.73472,0,0],223:wb,230:Nd,247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:Nd,338:u,339:Nd,567:Cb,710:wb,711:[0,.63194,0,0],713:[0,.59611,0,0],714:wb,715:wb,728:wb,729:wb,730:wb,732:wb,733:wb,915:u,916:u,920:u,923:u,926:u,928:u,931:u,933:u,934:u,936:u,937:u,8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:wb,8217:wb,8220:wb,8221:wb,8224:C,8225:C,8242:Qc,8407:[0,.72444,.15486,0],8463:wb,8465:wb,8467:wb,8472:Cb,8476:wb,8501:wb,8592:[-.10889,.39111,0,0],8593:C,8594:[-.10889,.39111,0,0],8595:C,
8596:[-.10889,.39111,0,0],8597:yd,8598:C,8599:C,8600:C,8601:C,8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:C,8658:[-.10889,.39111,0,0],8659:C,8660:[-.10889,.39111,0,0],8661:yd,8704:wb,8706:[0,.69444,.06389,0],8707:wb,8709:[.05556,.75,0,0],8711:u,8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:yd,8726:yd,8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,
0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:Nd,8734:Nd,8736:nb,8739:yd,8741:yd,8743:Qc,8744:Qc,8745:Qc,8746:Qc,8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:C,8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,
0,0],8839:[.19667,.69667,0,0],8846:Qc,8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:Qc,8852:Qc,8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:wb,8867:wb,8868:wb,8869:wb,8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:yd,8969:yd,8970:yd,8971:yd,8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:C,9657:[-.02778,.47222,0,0],9661:C,9667:[-.02778,.47222,0,0],9711:C,9824:[.12963,
.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:$d,9838:C,9839:C,10216:yd,10217:yd,10815:u,10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:C},"Main-BoldItalic":{32:Ka,33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,
0],46:[0,.14722,0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:u,66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,
0],70:[0,.68611,.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:u,77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,
.09972,0],94:[0,.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,
0],115:[0,.44444,.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],160:Ka,168:[0,.69444,.11473,0],176:wb,184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,
.04611,0],710:[0,.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:wb,728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:wb,732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:u,920:[0,.68611,.09062,0],923:u,926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,
.69444,.12945,0],8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{32:Ka,33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,
0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:S,66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,
0],75:[0,.68333,.14528,0],76:S,77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,
.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,
.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],160:Ka,168:[0,.66786,.10474,0],176:wb,184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:wb,728:[0,.69444,.10806,0],729:[0,.66786,
.11752,0],730:wb,732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:S,920:[0,.68333,.09403,0],923:S,926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:ba},"Main-Regular":{32:Ka,33:wb,34:wb,35:C,36:[.05556,.75,
0,0],37:[.05556,.75,0,0],38:wb,39:wb,40:yd,41:yd,42:$d,43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:yd,48:Na,49:Na,50:Na,51:Na,52:Na,53:Na,54:Na,55:Na,56:Na,57:Na,58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:wb,64:wb,65:S,66:S,67:S,68:S,69:S,70:S,71:S,72:S,73:S,74:S,75:S,76:S,77:S,78:S,79:S,80:S,81:[.19444,.68333,0,0],82:S,83:S,84:S,85:S,86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:S,89:[0,
.68333,.025,0],90:S,91:yd,92:yd,93:yd,94:wb,95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:wb,99:[0,.43056,0,0],100:wb,101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:wb,105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:wb,108:wb,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],
121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:yd,124:yd,125:yd,126:[.35,.31786,0,0],160:Ka,163:wb,167:C,168:[0,.66786,0,0],172:[0,.43056,0,0],176:wb,177:[.08333,.58333,0,0],182:C,184:[.17014,0,0,0],198:S,215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:wb,230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:S,339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:wb,711:[0,.62847,0,0],713:[0,.56778,0,0],714:wb,715:wb,728:wb,729:[0,.66786,0,0],730:wb,732:[0,.66786,
0,0],733:wb,915:S,916:S,920:S,923:S,926:S,928:S,931:S,933:S,934:S,936:S,937:S,8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:wb,8217:wb,8220:wb,8221:wb,8224:C,8225:C,8230:[0,.12,0,0],8242:Qc,8407:[0,.71444,.15382,0],8463:ba,8465:wb,8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:wb,8501:wb,8592:[-.13313,.36687,0,0],8593:C,8594:[-.13313,.36687,0,0],8595:C,8596:[-.13313,.36687,0,0],8597:yd,8598:C,8599:C,8600:C,8601:C,8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],
8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:C,8658:[-.13313,.36687,0,0],8659:C,8660:[-.13313,.36687,0,0],8661:yd,8704:wb,8706:[0,.69444,.05556,.08334],8707:wb,8709:[.05556,.75,0,0],8711:S,8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:yd,8726:yd,8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,
0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:nb,8739:yd,8741:yd,8743:Qc,8744:Qc,8745:Qc,8746:Qc,8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:C,8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,
.63597,0,0],8839:[.13597,.63597,0,0],8846:Qc,8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:Qc,8852:Qc,8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:wb,8867:wb,8868:wb,8869:wb,8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:yd,8969:yd,8970:yd,8971:yd,8994:[-.14236,.35764,0,0],
8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:C,9657:[-.03472,.46528,0,0],9661:C,9667:[-.03472,.46528,0,0],9711:C,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:$d,9838:C,9839:C,10216:yd,10217:yd,10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:S,10927:[.13597,
.63597,0,0],10928:[.13597,.63597,0,0],57376:C},"Math-BoldItalic":{32:Ka,48:Nd,49:Nd,50:Nd,51:Cb,52:Cb,53:Cb,54:Na,55:Cb,56:Na,57:Cb,65:u,66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:u,72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:u,77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,
.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:Nd,98:wb,99:Nd,100:wb,101:Nd,102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:wb,105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:Nd,110:Nd,111:Nd,112:Cb,113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:Nd,116:[0,.63492,0,0],117:Nd,118:[0,.44444,.03704,0],119:[0,
.44444,.02778,0],120:Nd,121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],160:Ka,915:[0,.68611,.15972,0],916:u,920:[0,.68611,.03194,0],923:u,926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:u,936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:Nd,946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:Nd,950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:Nd,954:Nd,955:wb,956:Cb,957:[0,
.44444,.06898,0],958:[.19444,.69444,.03021,0],959:Nd,960:[0,.44444,.03704,0],961:Cb,962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:Cb,967:Cb,968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:wb,981:C,982:[0,.44444,.03194,0],1009:Cb,1013:Nd,57649:Nd,57911:Cb},"Math-Italic":{32:Ka,48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:Na,55:[.19444,.43056,0,0],56:Na,
57:[.19444,.43056,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,
.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:wb,99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:wb,105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,
0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],160:Ka,915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,
.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:wb,956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],
958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556],57649:[0,.43056,0,.02778],57911:[.19444,
.43056,0,.08334]},"SansSerif-Bold":{32:Ka,33:wb,34:wb,35:C,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:wb,39:wb,40:yd,41:yd,42:$d,43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:yd,48:wb,49:wb,50:wb,51:wb,52:wb,53:wb,54:wb,55:wb,56:wb,57:wb,58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:wb,64:wb,65:wb,66:wb,67:wb,68:wb,69:wb,70:wb,71:wb,72:wb,73:wb,74:wb,75:wb,76:wb,77:wb,78:wb,79:wb,80:wb,81:[.10556,.69444,0,0],82:wb,83:wb,84:wb,85:wb,86:[0,
.69444,.01528,0],87:[0,.69444,.01528,0],88:wb,89:[0,.69444,.0275,0],90:wb,91:yd,93:yd,94:wb,95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:wb,99:[0,.45833,0,0],100:wb,101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:wb,105:wb,106:C,107:wb,108:wb,109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,
0],120:[0,.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],160:Ka,168:wb,176:wb,180:wb,184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:wb,711:[0,.63542,0,0],713:[0,.63778,0,0],728:wb,729:wb,730:wb,732:wb,733:wb,915:wb,916:wb,920:wb,923:wb,926:wb,928:wb,931:wb,933:wb,934:wb,936:wb,937:wb,8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:wb,8217:wb,8220:wb,8221:wb},"SansSerif-Italic":{32:Ka,33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,
.69444,.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,
.65556,.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:wb,66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:wb,77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,
.69444,.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,
0],106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],160:Ka,168:[0,.67937,.06385,0],176:wb,184:[.17014,
0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:wb,728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:wb,732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:wb,920:[0,.69444,.07555,0],923:wb,926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,
.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{32:Ka,33:wb,34:wb,35:C,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:wb,39:wb,40:yd,41:yd,42:$d,43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:Nd,46:[0,.08333,0,0],47:yd,48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,
0,0],58:Nd,59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:wb,64:wb,65:wb,66:wb,67:wb,68:wb,69:wb,70:wb,71:wb,72:wb,73:wb,74:wb,75:wb,76:wb,77:wb,78:wb,79:wb,80:wb,81:[.125,.69444,0,0],82:wb,83:wb,84:wb,85:wb,86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:wb,89:[0,.69444,.025,0],90:wb,91:yd,93:yd,94:wb,95:[.35,.09444,.02778,0],97:Nd,98:wb,99:Nd,100:wb,101:Nd,102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:wb,105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:wb,108:wb,109:Nd,110:Nd,111:Nd,112:Cb,
113:Cb,114:[0,.44444,.01389,0],115:Nd,116:[0,.57143,0,0],117:Nd,118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:Nd,121:[.19444,.44444,.01389,0],122:Nd,126:[.35,.32659,0,0],160:Ka,168:[0,.67937,0,0],176:wb,184:[.17014,0,0,0],305:Nd,567:Cb,710:wb,711:[0,.63194,0,0],713:[0,.60889,0,0],714:wb,715:wb,728:wb,729:[0,.67937,0,0],730:wb,732:[0,.67659,0,0],733:wb,915:wb,916:wb,920:wb,923:wb,926:wb,928:wb,931:wb,933:wb,934:wb,936:wb,937:wb,8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:wb,8217:wb,
8220:wb,8221:wb},"Script-Regular":{32:Ka,65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,
.7,.2939,0],90:[0,.7,.24037,0],160:Ka},"Size1-Regular":{32:Ka,40:Sc,41:Sc,47:Sc,91:Sc,92:Sc,93:Sc,123:Sc,125:Sc,160:Ka,710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-9.9E-4,.601,0,0],8593:[1E-5,.6,0,0],8595:[1E-5,.6,0,0],8657:[1E-5,.6,0,0],8659:[1E-5,.6,0,0],8719:ne,8720:ne,8721:ne,8730:Sc,8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:ne,8897:ne,8898:ne,
8899:ne,8968:Sc,8969:Sc,8970:Sc,8971:Sc,9168:[-9.9E-4,.601,0,0],10216:Sc,10217:Sc,10752:ne,10753:ne,10754:ne,10756:ne,10758:ne},"Size2-Regular":{32:Ka,40:Yb,41:Yb,47:Yb,91:Yb,92:Yb,93:Yb,123:Yb,125:Yb,160:Ka,710:$d,732:$d,770:$d,771:$d,8719:ze,8720:ze,8721:ze,8730:Yb,8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:ze,8897:ze,8898:ze,8899:ze,8968:Yb,8969:Yb,8970:Yb,8971:Yb,10216:Yb,10217:Yb,10752:ze,10753:ze,10754:ze,10756:ze,10758:ze},
"Size3-Regular":{32:Ka,40:Ud,41:Ud,47:Ud,91:Ud,92:Ud,93:Ud,123:Ud,125:Ud,160:Ka,710:$d,732:$d,770:$d,771:$d,8730:Ud,8968:Ud,8969:Ud,8970:Ud,8971:Ud,10216:Ud,10217:Ud},"Size4-Regular":{32:Ka,40:qd,41:qd,47:qd,91:qd,92:qd,93:qd,123:qd,125:qd,160:Ka,710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:qd,8968:qd,8969:qd,8970:qd,8971:qd,9115:[.64502,1.155,0,0],9116:[1E-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1E-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,
1.155,0,0],9122:[-9.9E-4,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-9.9E-4,.601,0,0],9126:[.64502,1.155,0,0],9127:[1E-5,.9,0,0],9128:Yb,9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1E-5,.9,0,0],9132:Yb,9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:qd,10217:qd,57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:Ka,33:fd,34:fd,35:fd,36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:fd,
39:fd,40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:fd,49:fd,50:fd,51:fd,52:fd,53:fd,54:fd,55:fd,56:fd,57:fd,58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:fd,64:fd,65:fd,66:fd,67:fd,68:fd,69:fd,70:fd,71:fd,72:fd,73:fd,74:fd,75:fd,76:fd,77:fd,78:fd,79:fd,80:fd,81:[.13889,.61111,0,0],82:fd,83:fd,84:fd,85:fd,
86:fd,87:fd,88:fd,89:fd,90:fd,91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:fd,95:[.09514,0,0,0],96:fd,97:[0,.43056,0,0],98:fd,99:[0,.43056,0,0],100:fd,101:[0,.43056,0,0],102:fd,103:[.22222,.43056,0,0],104:fd,105:fd,106:[.22222,.61111,0,0],107:fd,108:fd,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,
.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:fd,127:fd,160:Ka,176:fd,184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:fd,715:fd,728:fd,730:fd,770:fd,771:fd,776:fd,915:fd,916:fd,920:fd,923:fd,926:fd,928:fd,931:fd,933:fd,934:fd,936:fd,937:fd,8216:fd,8217:fd,8242:fd,9251:[.11111,.21944,0,0]}};const Ue=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,
dh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,
.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},Nf=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],gi={" ":" ","​":" ","Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h",
"Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};class rd{constructor(b,f,q){this.id=b;this.sizeDelta=f;this.cramped=q;const D={"-4":2,"-3":1,0:0}[f];this.metrics=Object.keys(dh).reduce((J,M)=>({...J,[M]:dh[M][D]}),{})}getFontSize(b){return Math.max(1,
b+this.sizeDelta)}get sup(){return Ie[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return Ie[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return Ie[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return Ie[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return Ie[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return 0>this.sizeDelta}}const Ie={7:new rd(7,0,!1),6:new rd(6,0,!0),5:new rd(5,0,!1),4:new rd(4,0,!0),3:new rd(3,-3,!1),2:new rd(2,-3,!0),1:new rd(1,-4,!1),0:new rd(0,-4,!0)};Ie.displaystyle=Ie[7];Ie.textstyle=Ie[5];Ie.scriptstyle=
Ie[3];Ie.scriptscriptstyle=Ie[1];class be{constructor(b,f,q){var D,J,M,W,ca,fa;b instanceof be&&(this.parent=b);b instanceof be||(this.registers=null!==(D=b.registers)&&void 0!==D?D:{});this.isPhantom=null!==(W=null!==(J=null==f?void 0:f.isPhantom)&&void 0!==J?J:null===(M=this.parent)||void 0===M?void 0:M.isPhantom)&&void 0!==W&&W;D={...b};let xa;if(f&&(f.letterShapeStyle&&"auto"!==f.letterShapeStyle&&(D.letterShapeStyle=f.letterShapeStyle),f.color&&"none"!==f.color&&(D.color=f.color),f.backgroundColor&&
"none"!==f.backgroundColor&&(D.backgroundColor=f.backgroundColor),f.fontSize&&"auto"!==f.fontSize&&f.fontSize!==(null===(ca=this.parent)||void 0===ca?void 0:ca._size)&&(this._size=f.fontSize)),this.letterShapeStyle=null!==(fa=D.letterShapeStyle)&&void 0!==fa?fa:"tex",this.color=D.color,this.backgroundColor=D.backgroundColor,"string"==typeof q){if(b instanceof be)switch(q){case "cramp":xa=b.mathstyle.cramp;break;case "superscript":xa=b.mathstyle.sup;break;case "subscript":xa=b.mathstyle.sub;break;
case "numerator":xa=b.mathstyle.fracNum;break;case "denominator":xa=b.mathstyle.fracDen}switch(q){case "textstyle":xa=Ie.textstyle;break;case "displaystyle":xa=Ie.displaystyle;break;case "scriptstyle":xa=Ie.scriptstyle;break;case "scriptscriptstyle":xa=Ie.scriptscriptstyle}}this._mathstyle=xa;this.atomIdsSettings=b.atomIdsSettings;this.renderPlaceholder=D.renderPlaceholder}get mathstyle(){let b=this._mathstyle,f=this.parent;for(;!b;)b=f._mathstyle,f=f.parent;return b}getRegister(b){var f;return(null===
(f=this.registers)||void 0===f?0:f[b])?this.registers[b]:this.parent?this.parent.getRegister(b):void 0}getRegisterAsGlue(b){var f;if(null===(f=this.registers)||void 0===f?0:f[b])return b=this.registers[b],"object"==typeof b&&"glue"in b?b:"object"==typeof b&&"dimension"in b?{glue:{dimension:b.dimension}}:"number"==typeof b?{glue:{dimension:b}}:void 0;if(this.parent)return this.parent.getRegisterAsGlue(b)}getRegisterAsEm(b){return wa(this.getRegisterAsDimension(b))}getRegisterAsDimension(b){var f;if(null===
(f=this.registers)||void 0===f?0:f[b])return b=this.registers[b],"object"==typeof b&&"glue"in b?b.glue:"object"==typeof b&&"dimension"in b?b:"number"==typeof b?{dimension:b}:void 0;if(this.parent)return this.parent.getRegisterAsDimension(b)}setRegister(b,f){void 0!==f?this.registers[b]=f:delete this.registers[b]}setGlobalRegister(b,f){let q=this;for(;q.parent;)q.setRegister(b,void 0),q=q.parent;q.setRegister(b,f)}get size(){let b=this._size,f=this.parent;for(;!b;)b=f._size,f=f.parent;return b}makeID(){if(this.atomIdsSettings){if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;
if("number"!=typeof this.atomIdsSettings.seed)return Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36);var b=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,b}}scale(b){return b*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return 7===this.mathstyle.id||6===this.mathstyle.id}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get effectiveFontSize(){return Nf[Math.max(1,
this.size+this.mathstyle.sizeDelta)]}get computedColor(){let b=this.color,f=this.parent;return!b&&f&&(b=f.color),null!=b?b:""}get computedBackgroundColor(){let b=this.backgroundColor,f=this.parent;return!b&&f&&(b=f.backgroundColor),null!=b?b:""}get metrics(){return this.mathstyle.metrics}}const qf={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],
xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],
.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow",
"rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],
.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Nh={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],
widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},Re={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",
doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",
leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",
leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:"m 529 160\n  c -179 0 -524 -115 -524 -115\n  c -5 -1 -9 -5 -9 -10\n  c 0 -1 1 -2 1 -3\n  l 4 -22\n  c 1 -5 5 -9 11 -9\n  h 2\n  s 338 93 512 92\n  c 174 0 513 -92 513 -92\n  h 2\n  c 5 0 9 4 11 9\n  l 5 22\n  c 1 6 -2 12 -8 13\n  c 0 0 -342 115 -520 115\n  z\n  ",
leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",
leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",
leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",
leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",
midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",
oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",
oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",
rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",
rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",
rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",
rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",
rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",
twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",
widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",
widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",
widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",
widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",
baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",
rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",
baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",
shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};
class hg{constructor(b){hg._registry[b]=this}static createAtom(b,f,q,D){return hg._registry[b].createAtom(f,q,D)}static serialize(b,f){return hg._registry[b[0].mode].serialize(b,f)}static applyStyle(b,f,q){return hg._registry[b].applyStyle(f,q)}}hg._registry={};const rk=" chem mord mbin mop mrel mopen mclose mpunct minner spacing first latex composition error placeholder supsub none mathfield".split(" "),sk={mord:{mop:3,mbin:4,mrel:5,minner:3},mop:{mord:3,mop:3,rel:5,minner:3},mbin:{mord:4,mop:4,
mopen:4,minner:4},mrel:{mord:5,mop:5,mopen:5,minner:5},mclose:{mop:3,mbin:4,mrel:5,minner:3},mpunct:{mord:3,mop:3,mrel:3,mopen:3,mpunct:3,minner:3},minner:{mord:3,mop:3,mbin:4,mrel:5,mopen:3,mpunct:3,minner:3}},tk={mord:{mop:3},mop:{mord:3,mop:3},mclose:{mop:3},minner:{mop:3}};class Vc{constructor(b,f){var q,D,J,M,W;if("number"==typeof b?this.value=String.fromCodePoint(b):"string"==typeof b?this.value=b:r(b)?this.children=b.filter(xa=>null!==xa):b&&b instanceof Vc&&(this.children=[b]),this.type=null!==
(q=null==f?void 0:f.type)&&void 0!==q?q:"",this.isSelected=!1,this.isTight=null!==(D=null==f?void 0:f.isTight)&&void 0!==D&&D,this.newList=null!==(J=null==f?void 0:f.newList)&&void 0!==J&&J,null==f?void 0:f.properties)for(const xa of Object.keys(f.properties))this.setStyle(xa,f.properties[xa]);(null==f?0:f.attributes)&&(this.attributes=f.attributes);this.classes=null!==(M=null==f?void 0:f.classes)&&void 0!==M?M:"";q=(null==f?void 0:f.fontFamily)||"Main-Regular";if((null==f?void 0:f.style)&&this.value&&
(q=hg.applyStyle(null!==(W=f.mode)&&void 0!==W?W:"math",this,f.style)||"Main-Regular"),this.height=0,this.depth=0,this.skew=0,this.italic=0,this.maxFontSize=0,"latex"===this.type)this.height=.8,this.depth=.2;else if("number"==typeof b){var ca=gb(b,q);this.height=ca.height;this.depth=ca.depth;this.skew=ca.skew;this.italic=ca.italic}else if(this.value)for(this.height=-1/0,this.depth=-1/0,this.skew=-1/0,this.italic=-1/0,ca=0;ca<this.value.length;ca++){var fa=gb(this.value.codePointAt(ca),q||"Main-Regular");
this.height=Math.max(this.height,fa.height);this.depth=Math.max(this.depth,fa.depth);this.skew=fa.skew;this.italic=fa.italic}else if(this.children&&0<this.children.length)if(1===this.children.length)ca=this.children[0],this.height=ca.height,this.depth=ca.depth,this.maxFontSize=ca.maxFontSize,this.skew=ca.skew,this.italic=ca.italic;else{b=-1/0;W=-1/0;q=0;for(fa of this.children)fa.height>b&&(b=fa.height),fa.depth>W&&(W=fa.depth),q=Math.max(q,null!==(ca=fa.maxFontSize)&&void 0!==ca?ca:0);this.height=
b;this.depth=W;this.maxFontSize=q}void 0!==(null==f?void 0:f.height)&&(this.height=f.height);void 0!==(null==f?void 0:f.depth)&&(this.depth=f.depth);void 0!==(null==f?void 0:f.maxFontSize)&&(this.maxFontSize=f.maxFontSize)}set atomID(b){void 0!==b&&0!==b.length&&(this.attributes||(this.attributes={}),this.attributes["data-atom-id"]=b)}selected(b){if(this.isSelected!==b&&(this.isSelected=b,this.children))for(const f of this.children)f.selected(b)}setStyle(b,f,q){void 0!==f&&(f=pa(f,q),0<f.length&&
(this.cssProperties||(this.cssProperties={}),this.cssProperties[b]=f))}setTop(b){Number.isFinite(b)&&.01<Math.abs(b)&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=pa(b,"em"),this.height-=b,this.depth+=b)}get left(){var b;return(null===(b=this.cssProperties)||void 0===b?0:b["margin-left"])?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties=
{}),this.cssProperties["margin-left"]=pa(b,"em")))}set right(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=pa(b,"em")))}set width(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties.width:(this.cssProperties||(this.cssProperties={}),this.cssProperties.width=pa(b,"em")))}wrap(b,f){const q=b.parent;if(!q)return this;b.isPhantom&&this.setStyle("opacity",
0);var D=b.computedColor;D===q.computedColor&&(D="");this.setStyle("color",D);D=b.effectiveFontSize===q.effectiveFontSize?void 0:b.effectiveFontSize;let J,M=b.computedBackgroundColor;if(this.isSelected&&(M=E(M)),M===q.computedBackgroundColor&&(M=""),!(D||M||f&&(f.classes||f.type)))return this;M?(J=Kb(this,f),J.selected(this.isSelected),J.setStyle("background-color",M),J.setStyle("display","inline-block")):J=new Vc(this,f);b=b.scalingFactor;return 1!==b&&(J.setStyle("font-size",100*b,"%"),J.height*=
b,J.depth*=b,J.italic*=b,J.skew*=b),J}wrapSelect(b){if(!this.isSelected||!b.parent)return this;b=E(b.computedBackgroundColor);const f=Kb(this);return f.selected(!0),f.setStyle("background-color",b),f.setStyle("display","inline-block"),f}toMarkup(){var b,f,q;let D=null!==(b=this.value)&&void 0!==b?b:"";if(this.children)for(var J of this.children)D+=J.toMarkup();b=this.classes.split(" ");b.push(null!==(f={latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])&&void 0!==f?f:"");
"latex"===this.caret&&b.push("ML__latex-caret");b=1===b.length?b[0]:b.filter((fa,xa,ta)=>0<fa.length&&ta.indexOf(fa)===xa).join(" ");f="";if(0<D.length&&"​"!==D||0<b.length||this.cssId||this.htmlData||this.htmlStyle||this.attributes||this.cssProperties||this.svgBody||this.svgOverlay){f="";if(this.cssId&&(f+=` id=${this.cssId.replace(/ /g,"-")} `),this.htmlData){J=this.htmlData.split(",");for(var M of J)if(J=M.match(/([^=]+)=(.+$)/)){var W=J[1].trim().replace(/ /g,"-");W&&(f+=` data-${W}=${J[2]} `)}else(J=
M.trim().replace(/ /g,"-"))&&(f+=` data-${J} `)}if(this.htmlStyle){J=this.htmlStyle.split(";");M="";for(var ca of J)(J=ca.match(/([^=]+):(.+$)/))&&(W=J[1].trim().replace(/ /g,"-"))&&(M+=`${W}:${J[2]};`);M&&(f+=` style="${M}"`)}if(this.attributes&&(f+=" "+Object.keys(this.attributes).map(fa=>`${fa}="${this.attributes[fa]}"`).join(" ")),0<b.length&&(f+=` class="${b}"`),this.cssProperties)ca=Object.keys(this.cssProperties).map(fa=>`${fa}:${this.cssProperties[fa]}`).join(";"),0<ca.length&&(f+=` style="${ca}"`);
ca="";this.svgBody?ca=function(fa){if(Nh[fa]){const [Rb,pc,hc]=Nh[fa];return`<span style="display:inline-block;height:${hc/2}em;min-width:0"><span class="stretchy" style="height:${hc}em"><svg width="100%" height="${hc}em" viewBox="0 0 ${Rb} ${pc}" preserveAspectRatio="none" ><path fill="currentcolor" d="${Re[fa]}"></path></svg></span></span>`}const [xa,ta,Ma,Pa]=qf[fa];let db,pb;const Mb=Ma/1E3;3===xa.length?(db=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],pb=["xMinYMin","xMidYMin","xMaxYMin"]):
2===xa.length?(db=["slice-1-of-2","slice-2-of-2"],pb=["xMinYMin","xMaxYMin"]):(db=["slice-1-of-1"],pb=[Pa]);fa=xa.map((Rb,pc)=>`<span class="${db[pc]}" style=height:${Mb}em><svg width=400em height=${Mb}em viewBox="0 0 400000 ${Ma}" preserveAspectRatio="${pb[pc]} slice"><path fill="currentcolor" d="${Re[Rb]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${Mb}em;min-width:${ta}em;">${fa}</span>`}(this.svgBody):this.svgOverlay&&(ca='\x3cspan style\x3d"',ca+="display: inline-block;",
ca+=`height:${this.height+this.depth}em;`,ca+=`vertical-align:${this.depth}em;`,ca+='"\x3e',ca+=D,ca+="\x3c/span\x3e",ca+='\x3csvg style\x3d"position:absolute;overflow:overlay;',ca+=`height:${this.height+this.depth}em;`,(null===(q=this.cssProperties)||void 0===q?0:q.padding)?(ca+=`top:${this.cssProperties.padding}em;`,ca+=`left:${this.cssProperties.padding}em;`,ca+=`width:calc(100% - 2 * ${this.cssProperties.padding}em );`):ca+="top:0;left:0;width:100%;",ca+="z-index:2;",ca+='"',this.svgStyle&&(ca+=
` style="${this.svgStyle}"`),ca+=`>${this.svgOverlay}</svg>`);f=`<span${f}>${D}${ca}</span>`}return"text"===this.caret?f+='\x3cspan class\x3d"ML__text-caret"\x3e\x3c/span\x3e':"math"===this.caret&&(f+='\x3cspan class\x3d"ML__caret"\x3e\x3c/span\x3e'),f}tryCoalesceWith(b){if(this.type!==b.type||!/ML__text/.test(this.classes)&&!["mord","mbin","mrel"].includes(this.type)||this.svgBody||!this.value||b.svgBody||!b.value)return!1;var f=b.children&&0<b.children.length;if(this.children&&0<this.children.length||
f)return!1;f=this.cssProperties?Object.keys(this.cssProperties).length:0;if(f!==(b.cssProperties?Object.keys(b.cssProperties).length:0))return!1;if(0<f)for(var q of Object.keys(this.cssProperties))if(this.cssProperties[q]!==b.cssProperties[q])return!1;q=this.classes.trim().replace(/\s+/g," ").split(" ");f=b.classes.trim().replace(/\s+/g," ").split(" ");if(q.length!==f.length)return!1;q.sort();f.sort();for(const [D,J]of q.entries())if("vertical-separator"===J||J!==f[D])return!1;return this.value+=
b.value,this.height=Math.max(this.height,b.height),this.depth=Math.max(this.depth,b.depth),this.maxFontSize=Math.max(this.maxFontSize,b.maxFontSize),this.italic=b.italic,!0}}class tf extends Vc{constructor(b,f){var q;const [D,J,M]=function(W){var ca;const [fa,xa]=function(pc){if("individualShift"in pc){pc=pc.individualShift;var hc=pc[0],kd=[hc],gd=-hc.shift-hc.box.depth;let Vd=gd;for(let of=1;of<pc.length;of++){const Ve=pc[of],mf=-Ve.shift-Vd-Ve.box.depth;hc=mf-(hc.box.height+hc.box.depth);Vd+=mf;
kd.push(hc);kd.push(Ve);hc=Ve}return[kd,gd]}if("top"in pc){kd=pc.top;for(gd of pc.children)kd-="number"==typeof gd?gd:gd.box.height+gd.box.depth;return[pc.children,kd]}if("bottom"in pc)return[pc.children,-pc.bottom];if("firstBaseline"in pc){kd=pc.firstBaseline[0];if("number"==typeof kd)throw Error("First child must be an element.");return[pc.firstBaseline,-kd.box.depth]}if("shift"in pc){kd=pc.children[0];if("number"==typeof kd)throw Error("First child must be an element.");return[pc.children,-kd.box.depth-
pc.shift]}return[null,0]}(W);if(!fa)return[[],0,0];var ta=0;for(var Ma of fa)"number"!=typeof Ma&&(W=Ma.box,ta=Math.max(ta,W.maxFontSize,W.height));ta+=2;const Pa=new Vc(null,{classes:"pstrut"});Pa.setStyle("height",ta,"em");const db=[];let pb=W=Ma=xa;for(var Mb of fa){if("number"==typeof Mb)pb+=Mb;else{const pc=Mb.box;var Rb=null!==(ca=Mb.classes)&&void 0!==ca?ca:[];Rb=new Vc([Pa,pc],{classes:Rb.join(" "),style:Mb.style});Rb.setStyle("top",-ta-pb-pc.depth,"em");Mb.marginLeft&&Rb.setStyle("margin-left",
Mb.marginLeft,"em");Mb.marginRight&&Rb.setStyle("margin-right",Mb.marginRight,"em");db.push(Rb);pb+=pc.height+pc.depth}Ma=Math.min(Ma,pb);W=Math.max(W,pb)}ca=new Vc(db,{classes:"vlist"});if(ca.setStyle("height",W,"em"),0<=Ma)return[[new Vc(ca,{classes:"vlist-r"})],W,-Ma];Mb=new Vc(new Vc(null),{classes:"vlist"});Mb.setStyle("height",-Ma,"em");ta=new Vc(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});return[[new Vc([ca,ta],{classes:"vlist-r"}),new Vc(Mb,{classes:"vlist-r"})],W,-Ma]}(b);super(1===
D.length?D[0]:D,{classes:(null!==(q=null==f?void 0:f.classes)&&void 0!==q?q:"")+" vlist-t"+(2===D.length?" vlist-t2":""),height:J,depth:M,type:null==f?void 0:f.type})}}const Ri=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];let Bi;const Dd=[127462,127487];class uk{constructor(b){this.s=N(b);this.pos=0;this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(b){b="string"==typeof this.s?b.exec(this.s.slice(this.pos)):
b.exec(this.s.slice(this.pos).join(""));return(null==b?0:b[0])?(this.pos+=b[0].length,b[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"\x3cspace\x3e";var b=this.get();if("\\"===b){if(!this.end()){if(b=this.match(/^[a-zA-Z\*]+/))this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/);else if(b=this.get()," "===b)return"\x3cspace\x3e";return"\\"+b}}else{if("{"===b)return"\x3c{\x3e";
if("}"===b)return"\x3c}\x3e";if("^"===b){if("^"===this.peek()){this.get();const f=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(f)return String.fromCodePoint(Number.parseInt(f.slice(f.lastIndexOf("^")+1),16))}return b}if("#"===b){if(!this.end())return b=!1,/[\d?@]/.test(this.peek())&&(b=!0,this.pos+1<this.s.length)&&(b=/[^\dA-Za-z]/.test(this.s[this.pos+1])),b?"#"+this.get():"#"}else if("$"===b)return"$"===this.peek()?(this.get(),"\x3c$$\x3e"):"\x3c$\x3e"}return b}}
class vk extends Vc{constructor(b,f,q){super(null,q);this.mathfield=f;this.htmlData=`placeholder-id=${b} `;b=f._mathfield;b=Kb(Fb(b.model.root.render(new be({registers:b.registers},{fontSize:5,letterShapeStyle:b.options.letterShapeStyle},"inline-math"===b.options.defaultMode?"textstyle":"displaystyle")),b.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}});this.height=b.height;this.depth=b.depth}toMarkup(){const b=[];var f=this.classes.split(" ");
f=1===f.length?f[0]:f.filter((W,ca,fa)=>0<W.length&&fa.indexOf(W)===ca).join(" ");if(this.cssId&&b.push(`id=${this.cssId.replace(/ /g,"-")}`),this.htmlData){var q=this.htmlData.split(",");for(var D of q)if(q=D.match(/([^=]+)=(.+$)/)){var J=q[1].trim().replace(/ /g,"-");J&&b.push(`data-${J}=${q[2]}`)}else(q=D.trim().replace(/ /g,"-"))&&b.push(`data-${q}`)}if(this.htmlStyle){q=this.htmlStyle.split(";");D="";for(var M of q)(q=M.match(/([^=]+):(.+$)/))&&(J=q[1].trim().replace(/ /g,"-"))&&(D+=`${J}:${q[2]};`);
D&&b.push(`style="${D}"`)}this.attributes&&b.push(...Object.keys(this.attributes).map(W=>`${W}="${this.attributes[W]}"`));0<f.length&&b.push(`class="${f}"`);M=this.mathfield;return b.push(`style="display:inline-block; width:${M.clientWidth}px; height:${M.clientHeight}px;" `),`<span ${b.join(" ")}></span>`}}const Gf=["above","body","below","superscript","subscript"];class rc{constructor(b,f,q){var D,J,M,W,ca,fa;this.verbatimLatex=this.id=void 0;this._isDirty=!1;this._changeCounter=0;this.subsupPlacement=
void 0;this.captureSelection=this.skipBoundary=this.explicitSubsupPlacement=!1;this.type=b;this.context=f;"string"==typeof(null==q?void 0:q.value)&&(this.value=q.value);this.command=null!==(J=null!==(D=null==q?void 0:q.command)&&void 0!==D?D:this.value)&&void 0!==J?J:"";this.mode=null!==(M=null==q?void 0:q.mode)&&void 0!==M?M:"math";this.isFunction=null!==(W=null==q?void 0:q.isFunction)&&void 0!==W&&W;this.subsupPlacement=null==q?void 0:q.limits;this.style=null!==(ca=null==q?void 0:q.style)&&void 0!==
ca?ca:{};this.displayContainsHighlight=null!==(fa=null==q?void 0:q.displayContainsHighlight)&&void 0!==fa&&fa;(null==q?0:q.serialize)&&(rc.customSerializer[q.command]=q.serialize)}static createBox(b,f,q){var D,J;if(!f)return null;var M,W=[];var ca=[];for(const xa of f)M||xa.style?(f=xa.computedStyle,M&&f.color===M.color&&f.backgroundColor===M.backgroundColor&&f.fontSize===M.fontSize?ca.push(xa):(0<ca.length&&W.push(ca),ca=[xa],M=f)):ca.push(xa);ca=(0<ca.length&&W.push(ca),W);if(1===ca.length){var fa=
ca[0];return fa[0].style?Ab(b,fa,{...q,style:{color:fa[0].style.color,backgroundColor:fa[0].style.backgroundColor,fontSize:fa[0].style.fontSize}}):Ab(b,fa,q)}M=[];W=null==q?void 0:q.newList;for(const xa of ca)(ca=Ab(new be(b,{color:null===(fa=xa[0].style)||void 0===fa?void 0:fa.color,backgroundColor:null===(D=xa[0].style)||void 0===D?void 0:D.backgroundColor,fontSize:null===(J=xa[0].style)||void 0===J?void 0:J.fontSize}),xa,{newList:W}))&&(W=!1,M.push(ca));return 0===M.length?null:1!==M.length||(null==
q?0:q.classes)||(null==q?0:q.type)?(new Vc(M,{classes:null==q?void 0:q.classes,type:null==q?void 0:q.type,newList:null==q?void 0:q.newList})).wrap(b):M[0].wrap(b)}static serialize(b,f){return r(b)?cb(b,f):"number"==typeof b||"boolean"==typeof b?b.toString():"string"==typeof b?b.replace(/\s/g,"~"):void 0===b?"":f.expandMacro||"string"!=typeof b.verbatimLatex?b.command&&rc.customSerializer[b.command]?rc.customSerializer[b.command](b,f):b.serialize(f):b.verbatimLatex}static commonAncestor(b,f){if(b===
f||b.parent===f.parent)return b.parent;const q=new WeakSet;for({parent:b}=b;b;)q.add(b),b=b.parent;for(b=f.parent;b;){if(q.has(b))return b;b=b.parent}}static fromJson(b,f){f=new rc(b.type,f,b);for(const q of Gf)b[q]&&f.setChildren(b[q],q);return f}toJson(){const b={type:this.type};if("math"!==this.mode&&(b.mode=this.mode),this.command&&this.command!==this.value&&(b.command=this.command),void 0!==this.value&&(b.value=this.value),this.style&&0<Object.keys(this.style).length&&(b.style={...this.style}),
void 0!==this.verbatimLatex&&(b.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(b.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(b.explicitSubsupPlacement=!0),this.isFunction&&(b.isFunction=!0),this.displayContainsHighlight&&(b.displayContainsHighlight=!0),this.isExtensibleSymbol&&(b.isExtensibleSymbol=!0),this.skipBoundary&&(b.skipBoundary=!0),this.captureSelection&&(b.captureSelection=!0),this._branches)for(const f of Object.keys(this._branches))this._branches[f]&&
(b[f]=this._branches[f].filter(q=>"first"!==q.type).map(q=>q.toJson()));return b}get changeCounter(){return this._changeCounter}get isDirty(){return this._isDirty}set isDirty(b){if(this._isDirty=b,b)for(this._changeCounter++,this._children=this.verbatimLatex=void 0,{parent:b}=this;b;)b._isDirty=!0,b._changeCounter++,b.verbatimLatex=void 0,b._children=void 0,b=b.parent}serialize(b){var f;return this.body&&this.command?va([this.command,"{",this.bodyToLatex(b),"}",this.supsubToLatex(b)]):this.body?va([this.bodyToLatex(b),
this.supsubToLatex(b)]):this.value&&"​"!==this.value?null!==(f=this.command)&&void 0!==f?f:function(q,D){var J;if("text"===q)return null!==(J=K(q,D.codePointAt(0)))&&void 0!==J?J:D;let M;if(M=K(q,D.codePointAt(0)),M)return M;q=function(W){var ca;if((119808>W||120831<W)&&(8448>W||8527<W))return{char:String.fromCodePoint(W)};for(const fa in Ng)if(Ng[fa]===W){W=null!==(ca=fa.codePointAt(0))&&void 0!==ca?ca:0;break}for(const fa of Hg)if(W>=fa.start&&W<fa.start+fa.len)return{char:String.fromCodePoint(W-
fa.start+fa.offset),variant:fa.variant,style:fa.style};return{char:String.fromCodePoint(W)}}(D.codePointAt(0));return q.style||q.variant?(M=q.char,q.variant&&(M="\\"+q.variant+"{"+M+"}"),"bold"===q.style?M="\\mathbf{"+M+"}":"italic"===q.style?M="\\mathit{"+M+"}":"bolditalic"===q.style&&(M="\\mathbfit{"+M+"}"),"\\mathord{"+M+"}"):""}(this.mode,this.value):""}bodyToLatex(b){return cb(this.body,b)}aboveToLatex(b){return cb(this.above,b)}belowToLatex(b){return cb(this.below,b)}supsubToLatex(b){let f=
"";if(void 0!==this.branch("subscript")){const q=cb(this.subscript,b);0===q.length?f+="_{}":1===q.length?f+="_"+q:f+=`_{${q}}`}void 0!==this.branch("superscript")&&(b=cb(this.superscript,b),0===b.length?f+="^{}":1===b.length?f+="′"===b?"^\\prime ":"″"===b?"^\\doubleprime ":"^"+b:f+=`^{${b}}`);return f}get treeDepth(){let b=1,f=this.parent;for(;f;)f=f.parent,b+=1;return b}get inCaptureSelection(){let b=!1,f=this;for(;f;){if(f.captureSelection){b=!0;break}f=f.parent}return b}branch(b){if(Ha(b)&&this._branches)return this._branches[b]}get branches(){if(!this._branches)return[];
const b=[];for(const f of Gf)this._branches[f]&&b.push(f);return b}createBranch(b){return Ha(b)?(this._branches?this._branches[b]||(this._branches[b]=[this.makeFirstAtom(b)]):this._branches={[b]:[this.makeFirstAtom(b)]},this.isDirty=!0,this._branches[b]):[]}get row(){return Qa(this.treeBranch)?this.treeBranch[0]:-1}get col(){return Qa(this.treeBranch)?this.treeBranch[1]:-1}get body(){var b;return null===(b=this._branches)||void 0===b?void 0:b.body}set body(b){this.setChildren(b,"body")}get superscript(){var b;
return null===(b=this._branches)||void 0===b?void 0:b.superscript}set superscript(b){this.setChildren(b,"superscript")}get subscript(){var b;return null===(b=this._branches)||void 0===b?void 0:b.subscript}set subscript(b){this.setChildren(b,"subscript")}get above(){var b;return null===(b=this._branches)||void 0===b?void 0:b.above}set above(b){this.setChildren(b,"above")}get below(){var b;return null===(b=this._branches)||void 0===b?void 0:b.below}set below(b){this.setChildren(b,"below")}get computedStyle(){var b;
if(!this.parent)return{...(null!==(b=this.style)&&void 0!==b?b:{})};b=void 0!==this.style.verbatimColor;const f=void 0!==this.style.verbatimBackgroundColor,q={...this.parent.computedStyle,...this.style};return delete q.variant,delete q.variantStyle,f||delete q.verbatimBackgroundColor,b||delete q.verbatimColor,q}applyStyle(b){this.isDirty=!0;this.style={...this.style,...b};"none"===this.style.fontFamily&&delete this.style.fontFamily;"auto"===this.style.fontShape&&delete this.style.fontShape;"auto"===
this.style.fontSeries&&delete this.style.fontSeries;"none"===this.style.color&&(delete this.style.color,delete this.style.verbatimColor);"none"===this.style.backgroundColor&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor);"auto"===this.style.fontSize&&delete this.style.fontSize;for(const f of this.children)f.applyStyle(b)}getInitialBaseElement(){let b;return this.hasEmptyBranch("body")||(b=this.body[1].getInitialBaseElement()),null!=b?b:this}getFinalBaseElement(){return this.hasEmptyBranch("body")?
this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){if("leftright"===this.type)return!1;const b=this.getInitialBaseElement();return/mord/.test(b.type)}hasEmptyBranch(b){b=this.branch(b);return!b||1===b.length}setChildren(b,f){if(b&&Ha(f)){var q=[this.makeFirstAtom(f),...b];this._branches?this._branches[f]=q:this._branches={[f]:q};for(const D of b)D.parent=this,D.treeBranch=f;this.isDirty=!0}}makeFirstAtom(b){const f=new rc("first",this.context,{mode:this.mode});return f.parent=
this,f.treeBranch=b,f}addChild(b,f){this.createBranch(f).push(b);this.isDirty=!0;b.parent=this;b.treeBranch=f}addChildBefore(b,f){const q=this.createBranch(f.treeBranch);q.splice(q.indexOf(f),0,b);this.isDirty=!0;b.parent=this;b.treeBranch=f.treeBranch}addChildAfter(b,f){const q=this.createBranch(f.treeBranch);q.splice(q.indexOf(f)+1,0,b);this.isDirty=!0;b.parent=this;b.treeBranch=f.treeBranch}addChildren(b,f){for(const q of b)this.addChild(q,f)}addChildrenAfter(b,f){const q=this.createBranch(f.treeBranch);
q.splice(q.indexOf(f)+1,0,...b);this.isDirty=!0;for(const D of b)D.parent=this,D.treeBranch=f.treeBranch;return b[b.length-1]}removeBranch(b){const f=this.branch(b);if(Ha(b)&&(this._branches[b]=void 0),!f)return[];for(const q of f)q.parent=void 0,q.treeBranch=void 0;return f.shift(),this.isDirty=!0,f}removeChild(b){if("first"!==b.type){var f=this.branch(b.treeBranch),q=f.indexOf(b);f.splice(q,1);this.isDirty=!0;b.parent=void 0;b.treeBranch=void 0}}get siblings(){return"root"===this.type?[]:this.parent.branch(this.treeBranch)}get firstSibling(){return this.siblings[0]}get lastSibling(){const {siblings:b}=
this;return b[b.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return 1===this.siblings.length}get leftSibling(){const b=this.parent.branch(this.treeBranch);return b[b.indexOf(this)-1]}get rightSibling(){const b=this.parent.branch(this.treeBranch);return b[b.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&0<this.children.length)}get firstChild(){return this.children[0]}get lastChild(){const {children:b}=
this;return b[b.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];const b=[];for(const f of Gf)if(this._branches[f])for(const q of this._branches[f])b.push(...q.children),b.push(q);return this._children=b,b}render(b,f){if("first"===this.type&&!b.atomIdsSettings)return null;b=new be(b,this.style);let q="";"root"===this.type&&(q+=" ML__base");this.isSelected&&(q+=" ML__selected");return(f=this.createBox(b,{classes:q,newList:!0===(null==f?void 0:f.newList)||
"first"===this.type}))?(this.subsupPlacement||!this.superscript&&!this.subscript||(f=this.attachSupsub(b,{base:f})),f.wrap(b)):null}attachSupsub(b,f){var q;const D=f.base;var J=this.superscript,M=this.subscript;if(!J&&!M)return D;let W=null,ca=null;var fa=null!==(q=f.isCharacterBox)&&void 0!==q?q:this.isCharacterBox();q=0;if(J){var xa=new be(b,void 0,"superscript");W=rc.createBox(xa,J,{newList:!0});fa||(q=D.height-b.metrics.supDrop*xa.scalingFactor)}J=0;M&&(xa=new be(b,void 0,"subscript"),ca=rc.createBox(xa,
M,{newList:!0}),fa||(J=D.depth+b.metrics.subDrop*xa.scalingFactor));M=b.isDisplayStyle?b.metrics.sup1:b.isCramped?b.metrics.sup3:b.metrics.sup2;fa=.05/b.scalingFactor;xa=null;if(ca&&W){q=Math.max(q,M,W.depth+.25*b.metrics.xHeight);J=Math.max(J,b.metrics.sub2);var ta=b.metrics.defaultRuleThickness;q-W.depth-(ca.height-J)<4*ta&&(J=4*ta-(q-W.depth)+ca.height,ta=.8*b.metrics.xHeight-(q-W.depth),0<ta&&(q+=ta,J-=ta));xa=(new tf({individualShift:[{box:ca,shift:J,marginLeft:this.isExtensibleSymbol&&D.italic?
-D.italic:0},{box:W,shift:-q}]})).wrap(b)}else ca&&!W?(J=Math.max(J,b.metrics.sub1,ca.height-.3448),xa=new tf({shift:J,children:[{box:ca,marginRight:fa,marginLeft:this.isCharacterBox()?-(null!==(ta=D.italic)&&void 0!==ta?ta:0):0}]})):!ca&&W&&(q=Math.max(q,M,W.depth+.10775),xa=new tf({shift:-q,children:[{box:W,marginRight:fa}]}),xa.wrap(b));b=new Vc(xa,{classes:"msubsup"+(this.isSelected?" ML__selected":"")});return this.caret&&(b.caret=this.caret),new Vc([D,b],{type:f.type})}attachLimits(b,f){var q,
D=this.superscript?rc.createBox(new be(b,this.style,"superscript"),this.superscript,{newList:!0}):null,J=this.subscript?rc.createBox(new be(b,this.style,"subscript"),this.subscript,{newList:!0}):null;if(D||J){f={...f,above:D,below:J,type:null!==(q=null==f?void 0:f.type)&&void 0!==q?q:"mop"};var M,W,ca,fa,xa;q=b.metrics;D=new Vc(f.base);J=null!==(M=f.baseShift)&&void 0!==M?M:0;M=null!==(W=f.slant)&&void 0!==W?W:0;let ta=W=0;f.above&&(W=null!==(ca=f.aboveShift)&&void 0!==ca?ca:Math.max(q.bigOpSpacing1,
q.bigOpSpacing3-f.above.depth));f.below&&(ta=null!==(fa=f.belowShift)&&void 0!==fa?fa:Math.max(q.bigOpSpacing2,q.bigOpSpacing4-f.below.height));b=f.below&&f.above?(new tf({bottom:q.bigOpSpacing5+f.below.height+f.below.depth+ta+D.depth+J,children:[q.bigOpSpacing5,{box:f.below,marginLeft:-M,classes:["ML__center"]},ta,{box:D,classes:["ML__center"]},W,{box:f.above,marginLeft:M,classes:["ML__center"]},q.bigOpSpacing5]})).wrap(b):f.below&&!f.above?(new tf({top:D.height-J,children:[q.bigOpSpacing5,{box:f.below,
marginLeft:-M,classes:["ML__center"]},ta,{box:D,classes:["ML__center"]}]})).wrap(b):!f.below&&f.above?(new tf({bottom:D.depth+J,children:[{box:D,classes:["ML__center"]},W,{box:f.above,marginLeft:M,classes:["ML__center"]},q.bigOpSpacing5]})).wrap(b):(new tf({bottom:D.depth+J,children:[{box:D},q.bigOpSpacing5]})).wrap(b);b=new Vc(b,{type:null!==(xa=f.type)&&void 0!==xa?xa:"mop"})}else b=f.base.wrap(b);return b}bind(b,f){if(!f||b.isPhantom||"​"===this.value)return f;let q=this.parent;for(;q&&!q.captureSelection;)q=
q.parent;return(null==q?void 0:q.captureSelection)||(this.id||(this.id=b.makeID()),f.atomID=this.id),f}createMathfieldBox(b,f,q){f=new vk(q,f,{type:"mathfield",mode:this.mode,maxFontSize:b.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:b.letterShapeStyle,fontSize:Math.max(1,b.size+b.mathstyle.sizeDelta)},classes:""});return b.isTight&&(f.isTight=!0),"math"===this.mode&&"main"!==this.style.variant||(f.italic=0),f.right=f.italic,this.bind(b,f),Kb(f,{type:"mord"})}createBox(b,f){var q,
D,J;const M=null!==(q=this.value)&&void 0!==q?q:this.body;q=rk.includes(this.type)?this.type:void 0;let W=null!==(D=null==f?void 0:f.classes)&&void 0!==D?D:"";"text"===this.mode&&(W+=" ML__text");f="string"==typeof M||void 0===M?new Vc(null!==M&&void 0!==M?M:null,{type:q,mode:this.mode,maxFontSize:b.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:b.letterShapeStyle,fontSize:Math.max(1,b.size+b.mathstyle.sizeDelta)},classes:W,newList:null==f?void 0:f.newList}):null!==(J=rc.createBox(b,
M,{type:q,mode:this.mode,style:this.style,classes:W,newList:null==f?void 0:f.newList}))&&void 0!==J?J:new Vc(null);return b.isTight&&(f.isTight=!0),"math"===this.mode&&"main"!==this.style.variant||(f.italic=0),f.right=f.italic,this.bind(b,f),this.caret&&(this.superscript||this.subscript||(f.caret=this.caret)),f}isDigit(){var b;return"mord"===this.type&&this.value?/^[\d,.]$/.test(this.value):"group"===this.type&&2===(null===(b=this.body)||void 0===b?void 0:b.length)&&"first"===this.body[0].type&&","===
this.body[1].value}asDigit(){var b;return"mord"===this.type&&this.value&&/^[\d,.]$/.test(this.value)?this.value:"group"===this.type&&2===(null===(b=this.body)||void 0===b?void 0:b.length)&&"first"===this.body[0].type&&","===this.body[1].value?".":""}}rc.customSerializer={};class Bg extends rc{constructor(b,f,q,D){super("accent",q,{command:b,style:D.style});D.accentChar?this.accent=D.accentChar:this.svgAccent=null==D?void 0:D.svgAccent;this.body=f;this.skipBoundary=!0}static fromJson(b,f){return new Bg(b.command,
b.body,f,{accentChar:b.accentChar,svgAccent:b.svgAccent,style:b.style})}toJson(){return{...super.toJson(),accentChar:this.accent,svgAccent:this.svgAccent}}render(b){var f;b=new be(b,this.style,"cramp");var q=null!==(f=rc.createBox(b,this.body))&&void 0!==f?f:new Vc(null);f=0;!this.hasEmptyBranch("body")&&2===this.body.length&&this.body[1].isCharacterBox()&&(f=q.skew);let D=Math.min(q.height,.431);if(this.svgAccent){var J=rb(this.svgAccent);D=b.metrics.bigOpSpacing1-D}else if(this.accent){J=new Vc(this.accent,
{fontFamily:"Main-Regular"});J.italic=0;const M=8407===this.accent?" ML__accent-vec":"";J=new Vc(new Vc(J),{classes:"ML__accent-body"+M})}J=new tf({shift:0,children:[{box:new Vc(q)},-D,{box:J,marginLeft:q.left+2*f,classes:["ML__center"]}]});q=new Vc(J,{newList:!0,type:"mord"});return this.caret&&(q.caret=this.caret),this.bind(b,q.wrap(b)),this.attachSupsub(b,{base:q})}}const Kf={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor",
"\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},hi=Object.fromEntries(Object.entries(Kf).map(([b,f])=>[f,b])),Bf=new Set("( ) \\lparen \\rparen [ ] \\lbrack \\rbrack \\{ \\} \\lbrace \\rbrace \\lfloor \\rfloor \\lceil \\rceil \\surd ⌊ ⌋ ⌈ ⌉".split(" ")),ue=new Set("\\uparrow \\downarrow \\updownarrow \\Uparrow \\Downarrow \\Updownarrow | \\| \\vert \\Vert \\lvert \\rvert \\lVert \\rVert \\mvert \\mid \\lgroup \\rgroup \\lmoustache \\rmoustache ⟮ ⟯ ⎰ ⎱".split(" ")),
bj=new Set("\x3c \x3e \\langle \\rangle / \\backslash \\lt \\gt".split(" ")),Cg=[0,1.2,1.8,2.4,3],Ci=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Bj=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],Wh=[{type:"small",mathstyle:"scriptscriptstyle"},
{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];class If extends rc{constructor(b,f,q){var D,J,M,W;super("overunder",f,{command:b,serialize:q.serialize,style:q.style});this.skipBoundary=null===(D=q.skipBoundary)||void 0===D||D;this.subsupPlacement=q.supsubPlacement;this.body=q.body;this.svgAbove=q.svgAbove;this.svgBelow=q.svgBelow;this.svgBody=q.svgBody;this.above=q.above;
this.below=q.below;this.boxType=null!==(J=q.boxType)&&void 0!==J?J:"mord";this.paddedBody=null!==(M=q.paddedBody)&&void 0!==M&&M;this.paddedLabels=null!==(W=q.paddedLabels)&&void 0!==W&&W}static fromJson(b,f){return new If(b.command,f,b)}toJson(){const b={};return this.skipBoundary||(b.skipBoundary=!1),this.subsupPlacement&&(b.subsupPlacement=this.subsupPlacement),this.svgAbove&&(b.svgAbove=this.svgAbove),this.svgBelow&&(b.svgBelow=this.svgBelow),this.svgBody&&(b.svgBody=this.svgBody),"mord"!==this.boxType&&
(b.boxType=this.boxType),this.paddedBody&&(b.paddedBody=!0),this.paddedLabels&&(b.paddedLabels=!0),{...super.toJson(),...b}}render(b){var f=this.svgBody?rb(this.svgBody):rc.createBox(b,this.body,{newList:!0}),q=new be(b,this.style,"scriptstyle"),D=null;this.svgAbove?D=rb(this.svgAbove):this.above&&(D=rc.createBox(q,this.above,{newList:!0}));var J=null;this.svgBelow?J=rb(this.svgBelow):this.below&&(J=rc.createBox(q,this.below,{newList:!0}));this.paddedBody&&(f=new Vc([oa(b,"mopen"),f,oa(b,"mclose")],
{newList:!0}));q="mbin"===this.boxType||"mrel"===this.boxType?this.boxType:"mord";var M=this.paddedLabels;if(f)if(D||J){var W=0;D&&(W=-D.depth+b.metrics.bigOpSpacing2);var ca=null,fa=["ML__center"];(M&&fa.push("ML__label_padding"),J&&D)?ca=new tf({bottom:b.metrics.bigOpSpacing5+J.height+J.depth+f.depth+0,children:[b.metrics.bigOpSpacing5,{box:J,classes:fa},{box:f,classes:["ML__center"]},W,{box:D,classes:fa},b.metrics.bigOpSpacing5]}):J?ca=new tf({top:f.height-0,children:[b.metrics.bigOpSpacing5,{box:J,
classes:fa},{box:f,classes:["ML__center"]}]}):D&&(ca=new tf({bottom:f.depth+0,children:[{box:f,classes:["ML__center"]},W,{box:D,classes:fa},b.metrics.bigOpSpacing5]}));f=new Vc(ca,{type:q})}else f=new Vc(f,{type:q}),f=(f.setStyle("position","relative"),f);else f=null;return f?(f="over-under"===this.subsupPlacement?this.attachLimits(b,{base:f,type:f.type}):this.attachSupsub(b,{base:f}),this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class lf extends rc{constructor(b,f,q){var D,J,M;super("group",
f,{command:null==q?void 0:q.command,mode:null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math",serialize:null==q?void 0:q.serialize,style:null==q?void 0:q.style});this.body=b;this.mathstyleName=null==q?void 0:q.mathstyleName;this.latexOpen=null==q?void 0:q.latexOpen;this.latexClose=null==q?void 0:q.latexClose;this.cssId=null==q?void 0:q.cssId;this.htmlData=null==q?void 0:q.htmlData;this.htmlStyle=null==q?void 0:q.htmlStyle;this.customClass=null==q?void 0:q.customClass;this.boxType=null==q?void 0:
q.boxType;this.skipBoundary=!0;this.captureSelection=null!==(J=null==q?void 0:q.captureSelection)&&void 0!==J&&J;this.changeMode=null!==(M=null==q?void 0:q.changeMode)&&void 0!==M&&M;this.displayContainsHighlight=!1;b&&1===b.length&&","===b[0].command&&(this.captureSelection=!0)}static fromJson(b,f){return new lf(b.body,f,b)}toJson(){const b={};return this.mathstyleName&&(b.mathstyleName=this.mathstyleName),this.latexOpen&&(b.latexOpen=this.latexOpen),this.latexClose&&(b.latexClose=this.latexClose),
this.cssId&&(b.cssId=this.cssId),this.htmlData&&(b.htmlData=this.htmlData),this.htmlStyle&&(b.htmlStyle=this.htmlStyle),this.customClass&&(b.customClass=this.customClass),this.boxType&&(b.boxType=this.boxType),this.captureSelection&&(b.captureSelection=!0),this.changeMode&&(b.changeMode=!0),{...super.toJson(),...b}}render(b){var f=new be(b,this.style,this.mathstyleName);return(f=rc.createBox(f,this.body,{type:this.boxType,classes:this.customClass,mode:this.mode,style:{backgroundColor:this.style.backgroundColor},
newList:!this.boxType}))?(this.cssId&&(f.cssId=this.cssId),this.htmlData&&(f.htmlData=this.htmlData),this.htmlStyle&&(f.htmlStyle=this.htmlStyle),this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){b=this.bodyToLatex(b);return"string"==typeof this.latexOpen&&(b=this.latexOpen+b+this.latexClose),this.htmlData&&(b=`\\htmlData{${this.htmlData}}{${b}}`),this.htmlStyle&&(b=`\\htmlStyle{${this.htmlStyle}}{${b}}`),this.customClass&&(b=`\\class{${this.customClass}}{${b}}`),this.cssId&&(b=`\\cssId{${this.cssId}}{${b}}`),
b}}class Og extends rc{constructor(b,f,q,D){super("spacing",q,{command:b,style:f});this.width=D}static fromJson(b,f){return new Og(b.command,b.style,f,b.width)}toJson(){const b={};return this.width&&(b.width=this.width),{...super.toJson(),...b}}render(b){if(this.width){var f=new Vc(null,{classes:"mspace"});f.left=wa(this.width.glue)}else{const q=null!==(f={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.command])&&
void 0!==f?f:"mediumspace";f=new Vc(null,{classes:q})}return f=this.bind(b,f),this.caret&&(f.caret=this.caret),f}serialize(b){var f;b=null!==(f=this.command)&&void 0!==f?f:"";return"\\hspace"===this.command||"\\hspace*"===this.command?Number.isFinite(this.width)?b+=`{${this.width}em'}`:b+="{0pt}":Number.isFinite(this.width)&&(b+=` ${this.width}em`),b}}class wf extends rc{constructor(b,f,q,D){super("leftright",q,{style:D.style,displayContainsHighlight:!0});this.variant=b;this.body=f;this.leftDelim=
D.leftDelim;this.rightDelim=D.rightDelim}static fromJson(b,f){var q;return new wf(null!==(q=b.variant)&&void 0!==q?q:"",b.body,f,b)}toJson(){const b=super.toJson();return this.variant&&(b.variant=this.variant),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),b}serialize(b){var f,q;const D=this.matchingRightDelim();return"left...right"===this.variant?va(["\\left"+(null!==(f=this.leftDelim)&&void 0!==f?f:"."),this.bodyToLatex(b),"\\right"+D]):"mleft...mright"===
this.variant?va(["\\mleft"+(null!==(q=this.leftDelim)&&void 0!==q?q:"."),this.bodyToLatex(b),"\\mright"+D]):va([this.leftDelim&&"."!==this.leftDelim?this.leftDelim:"",this.bodyToLatex(b),D])}matchingRightDelim(){var b,f;if(this.rightDelim&&"?"!==this.rightDelim)return this.rightDelim;const q=null!==(b=this.leftDelim)&&void 0!==b?b:".";return null!==(f=Kf[q])&&void 0!==f?f:q}render(b){var f,q,D;const J=new be(b,this.style);b=new be(b,this.style,"textstyle");var M=null!==(f=rc.createBox(J,this.body,
{newList:!0}))&&void 0!==f?f:new Vc(null,{newList:!0});const W=M.height/b.scalingFactor,ca=M.depth/b.scalingFactor;f=[];if(this.leftDelim&&f.push(this.bind(b,ob("mopen",this.leftDelim,W,ca,b,{classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),M){if(M.children)for(var fa=0;fa<M.children.length;fa++){const xa=M.children[fa];if(xa.delim){const ta=xa.caret;M.children[fa]=this.bind(J,ob("minner",xa.delim,W,ca,J));M.children[fa].caret=ta}}f.push(M)}this.rightDelim&&
(M=this.containsCaret?" ML__contains-caret":"",fa=this.rightDelim,"?"===fa&&(this.context.smartFence?(fa=this.matchingRightDelim(),M+=" ML__smart-fence__close"):fa="."),f.push(this.bind(b,ob("mclose",fa,W,ca,b,{classes:M+" ML__close",mode:this.mode,style:this.style}))));b=null!==(D="mleft...mright"===this.variant||(null===(q=this.leftSibling)||void 0===q?void 0:q.isFunction))&&void 0!==D&&D;q=new Vc(f,{type:b?"mclose":"minner",classes:"left-right"});return this.caret&&(q.caret=this.caret),this.bind(J,
q.wrap(J))}}class Vg extends rc{constructor(b,f){super("msubsup",b,{style:null==f?void 0:f.style})}static fromJson(b,f){f=new Vg(f,b);for(const q of Gf)b[q]&&f.setChildren(b[q],q);return f}toJson(){return super.toJson()}render(b){var f;const q=this.leftSibling;var D=new be(b,{isPhantom:!0});D=null!==(f=q.render(D))&&void 0!==f?f:new Vc(null);f=new Vc(null,{height:D.height,depth:D.depth});return this.attachSupsub(b,{base:f,isCharacterBox:q.isCharacterBox(),type:"supsub"})}serialize(b){return this.supsubToLatex(b)}}
class We extends rc{constructor(b,f){var q;const D=(null==f?void 0:f.value)||b.placeholderSymbol;super("placeholder",b,{mode:null!==(q=null==f?void 0:f.mode)&&void 0!==q?q:"math",style:null==f?void 0:f.style,value:D,command:"\\placeholder"});this.captureSelection=!0;this.placeholderId=null==f?void 0:f.placeholderId;(null==f?0:f.default)&&(this.defaultValue=null==f?void 0:f.default)}static fromJson(b,f){return new We(f,b)}toJson(){const b=super.toJson();return this.placeholderId&&(b.placeholderId=
this.placeholderId),this.value===this.context.placeholderSymbol&&delete b.value,this.defaultValue&&(b.defaultValue=this.defaultValue.map(f=>f.toJson())),b}render(b){if("function"==typeof b.renderPlaceholder)return b.renderPlaceholder(b,this);let f="";return this.caret&&(f+="ML__placeholder-selected "),this.isSelected&&(f+=" ML__selected "),this.createBox(b,{classes:f})}serialize(b){var f;let q=null!==(f=this.value)&&void 0!==f?f:"";return q===this.context.placeholderSymbol&&(q=""),`\\placeholder${this.placeholderId?
`[${this.placeholderId}]`:""}${this.defaultValue?`[${rc.serialize(this.defaultValue,b)}]`:""}{${q}}`}}class Fh extends rc{constructor(b,f){super("error",f,{value:b,command:b,mode:"math"});this.verbatimLatex=b}static fromJson(b,f){return new Fh(b.command,f)}toJson(){return super.toJson()}render(b){b=this.createBox(b,{classes:"ML__error"});return this.caret&&(b.caret=this.caret),b}}class Xh extends rc{constructor(b,f,q){var D,J;super("macro",f,{command:b});this.body=q.body;void 0===q.captureSelection?
q.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=q.captureSelection;this.macroArgs=null!==(D=q.args)&&void 0!==D?D:"";this.expand=null!==(J=q.expand)&&void 0!==J&&J}static fromJson(b,f){return new Xh(b.command,f,b)}toJson(){const b=super.toJson();return this.expand&&(b.expand=!0),void 0!==this.captureSelection&&(b.captureSelection=this.captureSelection),this.macroArgs&&(b.args=this.macroArgs),b}serialize(b){return b.expandMacro&&this.expand?this.bodyToLatex(b):this.command+
this.macroArgs}render(b){const f=rc.createBox(b,this.body);return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class Gg extends rc{constructor(b,f,q,D){super("text",D,{command:b,mode:"text",displayContainsHighlight:!0});this.verbatimLatex=this.value=f;this.applyStyle(q)}static fromJson(b,f){return new Gg(b.command,b.value,b.style,f)}toJson(){return super.toJson()}render(b){b=this.createBox(b);return this.caret&&(b.caret=this.caret),b}serialize(b){var f;return null!==(f=this.verbatimLatex)&&
void 0!==f?f:K("text",this.value.codePointAt(0))}}class vf{constructor(b,f,q){var D,J,M,W,ca,fa;this.endCount=this.index=0;this.tokens=b;this.context=f;this.errors=[];this.args=null!==(D=q.args)&&void 0!==D?D:null;this.smartFence=null!==(J=q.smartFence)&&void 0!==J?J:f.smartFence;this._currentParsingContext={parent:void 0,mathlist:[],style:null!==(M=q.style)&&void 0!==M?M:{},parseMode:null!==(W=q.parseMode)&&void 0!==W?W:"math",mathstyle:null!==(ca=q.mathstyle)&&void 0!==ca?ca:"displaystyle",registers:null!==
(fa=q.registers)&&void 0!==fa?fa:f.registers,tabular:!1}}get currentContext(){return this._currentParsingContext}get rootContext(){let b=this._currentParsingContext;for(;b.parent;)b=b.parent;return b}beginContext(b){var f,q,D;this._currentParsingContext={parent:this.currentContext,mathlist:[],style:{...this.currentContext.style},parseMode:null!==(f=null==b?void 0:b.mode)&&void 0!==f?f:this.currentContext.parseMode,mathstyle:null!==(q=null==b?void 0:b.mathstyle)&&void 0!==q?q:this.currentContext.mathstyle,
registers:null,tabular:null!==(D=null==b?void 0:b.tabular)&&void 0!==D&&D}}endContext(){this._currentParsingContext=this._currentParsingContext.parent}onError(b){this.errors.push({before:ab(this.tokens.slice(this.index,this.index+10)),after:ab(this.tokens.slice(Math.max(0,this.index-10),this.index)),...b})}get mathlist(){return this.currentContext.mathlist}set mathlist(b){this.currentContext.mathlist=b}get parseMode(){return this.currentContext.parseMode}set parseMode(b){this.currentContext.parseMode=
b}get tabularMode(){return this.currentContext.tabular}get style(){let b=this.currentContext;for(;b;){if(b.style)return b.style;b=b.parent}return{}}set style(b){this.currentContext.style=b}getRegister(b){var f,q,D;if(b.startsWith("global "))return null!==(q=null===(f=this.rootContext.registers)||void 0===f?void 0:f[b.slice(7)])&&void 0!==q?q:0;for(f=this.currentContext;f;){if(null===(D=f.registers)||void 0===D?0:D[b])return f.registers[b];f=f.parent}return 0}setRegister(b,f){var q;if(b.startsWith("global ")){b=
b.slice(7);let D=this.currentContext;for(;D;)(null===(q=D.registers)||void 0===q?0:q[b])&&delete D.registers[b],D=D.parent;this.rootContext.registers[b]=f}else this.currentContext.registers||(this.currentContext.registers={}),this.currentContext.registers[b]=f}end(){return this.endCount++,this.index>=this.tokens.length||1E3<this.endCount}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(b){return this.tokens[this.index]===
b&&(this.index++,!0)}lastSubsupAtom(){let b;return 0<this.mathlist.length&&((b=this.mathlist[this.mathlist.length-1],"msubsup"===b.type)||void 0!==b.subsupPlacement)?b:(b=new Vg(this.context,{style:this.style}),this.mathlist.push(b),b)}hasPattern(b){return b.test(this.tokens[this.index])}hasInfixCommand(){var b,{index:f}=this;return f<this.tokens.length&&this.tokens[f].startsWith("\\")?(f=this.context.getDefinition(this.tokens[f],this.parseMode),!(!f||"symbol"===f.definitionType)&&!(f.ifMode&&!f.ifMode.includes(this.parseMode))&&
null!==(b=f.infix)&&void 0!==b&&b):!1}matchColumnSeparator(){const {index:b}=this;return!(!this.tabularMode||"\x26"!==this.tokens[b]||(this.index++,0))}matchRowSeparator(){const {index:b}=this;return!(!this.tabularMode||"\\\\"!==this.tokens[b]&&"\\cr"!==this.tokens[b]||(this.index++,0))}placeholder(){var b;const f=null===(b=this.args)||void 0===b?void 0:b.call(this,"?");return f?Ua(f,this.context,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new We(this.context,{mode:this.parseMode,style:this.style})]}matchWhitespace(){let b=
!1;for(;this.match("\x3cspace\x3e");)b=!0;return b}skipUntilToken(b){let f=this.tokens[this.index];for(;f&&f!==b;)f=this.tokens[++this.index];f===b&&this.index++}skipFiller(){do{var b=this.matchWhitespace();const f=this.match("\\relax");b=!b&&!f}while(!b)}matchKeyword(b){const f=this.index;let q=this.end(),D="";for(;!q;){const J=this.get();Va(J)?(D+=J,q=this.end()||D.length>=b.length):q=!0}b=b.toUpperCase()===D.toUpperCase();return b||(this.index=f),b}scanString(){let b="";for(;!this.end();)if(this.match("\x3cspace\x3e"))b+=
" ";else{const f=this.peek();if("]"===f)break;if(!Va(f)){if(!f.startsWith("\\"))break;this.onError({code:"unbalanced-braces"})}b+=this.get()}return b}scanBalancedString(){let b="";var f=this.end();let q=1;for(;!f;)this.match("\x3cspace\x3e")?b+=" ":(f=this.get(),"\x3c{\x3e"===f?(b+="{",q+=1):"\x3c}\x3e"===f?(--q,0<q?b+="}":--this.index):b+="\x3c$\x3e"===f?"$":"\x3c$$\x3e"===f?"$$":f),f=0===q||this.end();return b}matchLiteralArg(){var b;let f="";if(this.match("\x3c{\x3e")){let q=1;for(;0<q&&!this.end();){const D=
this.get();"\x3c}\x3e"===D?(--q,0<q&&(f+="}")):"\x3c{\x3e"===D?(q+=1,f+="{"):f+=null!==(b={"\x3cspace\x3e":" ","\x3c$$\x3e":"$$","\x3c$\x3e":"$"}[D])&&void 0!==b?b:D}}return f}scanNumber(b=!0){var f,q;let D=!1,J=this.peek();for(;"\x3cspace\x3e"===J||"+"===J||"-"===J;)this.get(),"-"===J&&(D=!D),J=this.peek();b=!!b;let M=10,W=/\d/;if(this.match("'"))M=8,W=/[0-7]/,b=!0;else if(this.match('"')||this.match("x"))M=16,W=/[\dA-F]/,b=!0;else if(this.match("`"))return J=this.get(),J?J.startsWith("\\")&&2===
J.length?(D?-1:1)*(null!==(f=J.codePointAt(1))&&void 0!==f?f:0):(D?-1:1)*(null!==(q=J.codePointAt(0))&&void 0!==q?q:0):null;for(f="";this.hasPattern(W);)f+=this.get();if(!b&&(this.match(".")||this.match(",")))for(f+=".";this.hasPattern(W);)f+=this.get();b=b?Number.parseInt(f,M):Number.parseFloat(f);return Number.isNaN(b)?null:D?-b:b}scanDimen(){var b,f,q;let D,J=this.scanNumber(!1);if(null===J){if(null===(b=this.peek())||void 0===b||!b.startsWith("\\"))return null;J=1}return this.matchWhitespace(),
this.matchKeyword("pt")?D={dimension:J,unit:"pt"}:this.matchKeyword("mm")?D={dimension:J,unit:"mm"}:this.matchKeyword("cm")?D={dimension:J,unit:"cm"}:this.matchKeyword("ex")?D={dimension:J,unit:"ex"}:this.matchKeyword("px")?D={dimension:J,unit:"px"}:this.matchKeyword("em")?D={dimension:J,unit:"em"}:this.matchKeyword("bp")?D={dimension:J,unit:"bp"}:this.matchKeyword("dd")?D={dimension:J,unit:"dd"}:this.matchKeyword("pc")?D={dimension:J,unit:"pc"}:this.matchKeyword("in")?D={dimension:J,unit:"in"}:this.matchKeyword("mu")?
D={dimension:J,unit:"mu"}:(null===(f=this.peek())||void 0===f?0:f.startsWith("\\"))?(D=null!==(q=Ta(this.getRegister(this.get().slice(1)),this.context))&&void 0!==q?q:{dimension:0},D.dimension*=J):(this.match("\\relax")||this.onError({code:"missing-unit"}),D={dimension:J,unit:"pt"}),D}scanGlue(){var b=this.scanDimen();if(null===b)return null;b={glue:b};return this.matchWhitespace(),this.match("\\relax")||(this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.match("\\relax")||(this.matchWhitespace(),
this.matchKeyword("minus")&&this.scanDimen())),b}scanColspec(){this.matchWhitespace();const b=[];for(;!this.end()&&"\x3c}\x3e"!==this.peek()&&"]"!==this.peek();){const f=this.get();"c"===f||"r"===f||"l"===f?b.push({align:f}):"|"===f?b.push({separator:"solid"}):":"===f?b.push({separator:"dashed"}):"@"===f&&(this.match("\x3c{\x3e")&&(this.beginContext({mode:"math"}),b.push({gap:this.parse(q=>"\x3c}\x3e"===q)}),this.endContext()),this.match("\x3c}\x3e")||this.onError({code:"unbalanced-braces"}))}return b}parseModeSet(){let b=
"";if(this.match("\\(")&&(b="\\)"),!b&&this.match("\\[")&&(b="\\]"),!b)return null;this.beginContext({mode:"math",mathstyle:"\\)"===b?"textstyle":"displaystyle"});const f=new lf(this.parse(q=>q===b),this.context,{mathstyleName:"\\)"===b?"textstyle":"displaystyle",latexOpen:"\\]"===b?"\\[":"\\(",latexClose:b,boxType:"mord"});return this.match(b)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),f.hasEmptyBranch("body")?null:f}parseModeShift(){let b="";if(this.match("\x3c$\x3e")&&(b="\x3c$\x3e"),
!b&&this.match("\x3c$$\x3e")&&(b="\x3c$$\x3e"),!b)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});const f=new lf(this.parse(q=>q===b),this.context,{mathstyleName:"\x3c$\x3e"===b?"textstyle":"displaystyle",latexOpen:"\x3c$\x3e"===b?"$ ":"$$ ",latexClose:"\x3c$\x3e"===b?" $":" $$"});return this.match(b)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),f.hasEmptyBranch("body")?null:f}parseEnvironment(){if(!this.match("\\begin"))return null;const b=this.parseArgument("string");
if(!b)return null;const f=function(ca){var fa;return null!==(fa=Mh[ca])&&void 0!==fa?fa:null}(b);if(!f)return this.onError({code:"unknown-environment",arg:b}),null;const q=[];if(f.params)for(var D of f.params)if(D.isOptional)q.push(this.parseOptionalArgument(D.type));else{var J=this.parseArgument(D.type);J||this.onError({code:"missing-argument",arg:b});q.push(J)}this.beginContext({tabular:f.tabular});D=[];J=[];let M=[],W=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:b}),W=
!0),!W&&this.match("\\end")&&(this.parseArgument("string")!==b&&this.onError({code:"unbalanced-environment",arg:b}),W=!0),!W)if(this.matchColumnSeparator())M.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){M.push(this.mathlist);this.mathlist=[];let ca=null;this.matchWhitespace();this.match("[")&&(ca=this.scanDimen(),this.matchWhitespace(),this.match("]"));J.push(null!=ca?ca:{dimension:0});D.push(M);M=[]}else this.mathlist.push(...this.parse(ca=>"\x3c}\x3e"===ca||"\x26"===ca||
"\\end"===ca||"\\cr"===ca||"\\\\"===ca));while(!W);return M.push(this.mathlist),0<M.length&&D.push(M),this.endContext(),f.createAtom(this.context,b,D,J,q)}parse(b){this.beginContext();b||(b=ca=>"\x3c}\x3e"===ca);let f="",q=null,D=[],J=null;const M=this.mathlist;for(this.mathlist=[];!this.end()&&!b(this.peek());)this.hasInfixCommand()&&!f?(f=this.get(),q=this.context.getDefinition(f,"math"),q&&(D=this.parseArguments(q)[1]),J=this.mathlist,this.mathlist=[]):this.parseToken();let W;return f?(D.unshift(this.mathlist),
this.mathlist=M,J&&D.unshift(J),W=[q.createAtom(f,D,this.style,this.context)]):(W=this.mathlist,this.mathlist=M),this.endContext(),W}parseGroup(){if(!this.match("\x3c{\x3e"))return null;const b=new lf(this.parse(f=>"\x3c}\x3e"===f),this.context,{mode:this.parseMode,latexOpen:"{",latexClose:"}"});return this.match("\x3c}\x3e")||this.onError({code:"unbalanced-braces"}),b}scanSmartFence(){if(this.matchWhitespace(),!this.match("("))return null;this.beginContext();for(var b=1;!this.end()&&0!==b;)this.match("(")&&
(b+=1),this.match(")")&&--b,0!==b&&this.parseToken();0===b&&this.match(")");b=new wf("",this.mathlist,this.context,{leftDelim:"(",rightDelim:0===b?")":"?"});return this.endContext(),b}scanDelim(){this.matchWhitespace();var b=this.get();if(!b)return this.onError({code:"unexpected-end-of-string"}),null;let f=".";(b.startsWith("\\")||Va(b))&&(f=b);return(b=this.context.getDefinition(f,"math"))?"function"===b.definitionType&&b.ifMode&&!b.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",
arg:f}),null):"symbol"!==b.definitionType||"mopen"!==b.type&&"mclose"!==b.type?/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(f)?f:(this.onError({code:"unexpected-delimiter",arg:f}),null):f:(this.onError({code:"unknown-command",arg:f}),null)}parseLeftRight(){var b;if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;let f="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;
f="\\mright"}const q=this.scanDelim();if(!q)return null;for(this.beginContext();!this.end()&&!this.match(f);)this.parseToken();const D=this.mathlist;this.endContext();const J=null!==(b=this.scanDelim())&&void 0!==b?b:".";return new wf("\\right"===f?"left...right":"mleft...mright",D,this.context,{leftDelim:q,rightDelim:J,style:this.style})}parseSupSub(){if("math"!==this.parseMode)return!1;let b=this.peek();if("^"!==b&&"_"!==b&&"'"!==b)return!1;for(;"^"===b||"_"===b||"'"===b;){if(this.match("'"))this.match("'")?
this.lastSubsupAtom().addChild(new rc("mord",this.context,{command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):this.lastSubsupAtom().addChild(new rc("mord",this.context,{command:"\\prime",mode:"math",value:"′"}),"superscript");else if(this.match("^")||this.match("_")){const f=this.parseArgument("math");f?this.lastSubsupAtom().addChildren(f,"_"===b?"subscript":"superscript"):this.lastSubsupAtom().createBranch("_"===b?"subscript":"superscript")}b=this.peek()}return!0}parseLimits(){const b=
this.match("\\limits"),f=!b&&this.match("\\nolimits"),q=!f&&!b&&this.match("\\displaylimits");if(!b&&!f&&!q)return!1;const D=0<this.mathlist.length?this.mathlist[this.mathlist.length-1]:null;return!(null===D||"mop"!==D.type||(b?(D.subsupPlacement="over-under",D.explicitSubsupPlacement=!0,0):f?(D.subsupPlacement="adjacent",D.explicitSubsupPlacement=!0,0):!q||(D.subsupPlacement="auto",D.explicitSubsupPlacement=!0,0)))}parseArguments(b){if(null==b||!b.params)return[void 0,[]];let f;const q=[];let D=
b.infix?2:0;for(;D<b.params.length;){const J=b.params[D];if("rest"===J.type)q.push(this.parse(M=>"\x3c}\x3e"===M||"\x26"===M||"\\end"===M||"\\cr"===M||"\\\\"===M));else if(J.isOptional)q.push(this.parseOptionalArgument(J.type));else if(J.type.endsWith("*"))f=J.type.slice(0,-1);else{const M=this.parseArgument(J.type);if(null!==M)q.push(M);else switch(this.onError({code:"missing-argument"}),J.type){case "number":q.push(0);break;case "dimen":q.push({dimension:0,unit:"pt"});break;case "glue":q.push({glue:{dimension:0,
unit:"pt"}});break;case "string":case "balanced-string":q.push("");break;case "delim":q.push(".");break;case "colspec":q.push("llllllllll");break;default:q.push(this.placeholder())}}D+=1}return[f,q]}parseArgument(b){var f,q;this.skipFiller();"auto"===b&&(b=this.parseMode);var D=null;const J="\x3c{\x3e"===this.peek();if(!J){if("delim"===b)return null!==(f=this.scanDelim())&&void 0!==f?f:".";if("text"===b||"math"===b)return this.beginContext(),D=this.parseSimpleToken(),this.endContext(),D}if(J&&this.get(),
"text"===b||"math"===b){this.beginContext({mode:b});do this.mathlist.push(...this.parse());while(!this.match("\x3c}\x3e")&&!this.end())}else if(this.beginContext(),"string"===b?D=this.scanString():"balanced-string"===b?D=this.scanBalancedString():"number"===b?D=this.scanNumber():"colspec"===b?D=this.scanColspec():"dimen"===b?D=this.scanDimen():"glue"===b?D=this.scanGlue():"delim"===b&&(D=null!==(q=this.scanDelim())&&void 0!==q?q:"."),J&&this.skipUntilToken("\x3c}\x3e"),null===D)return this.endContext(),
null;b=this.mathlist;return this.endContext(),null!=D?D:b}parseOptionalArgument(b){var f,q;if(b="auto"===b?this.parseMode:b,this.matchWhitespace(),!this.match("["))return null;for(var D=null;!this.end()&&!this.match("]");)if("string"===b)D=this.scanString();else if("number"===b)D=this.scanNumber();else if("dimen"===b)D=this.scanDimen();else if("glue"===b)D=this.scanGlue();else if("colspec"===b)D=this.scanColspec();else if("bbox"===b){var J=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);
D={};for(const M of J)(J=null===(q=(f=this.context).backgroundColorMap)||void 0===q?void 0:q.call(f,M))?D.backgroundcolor=J:(J=M.match(/^\s*([\d.]+)\s*([a-z]{2})/))?D.padding=J[0]:(J=M.match(/^\s*border\s*:\s*(.*)/))&&(D.border=J[1])}else"math"===b&&(this.beginContext({mode:"math"}),D=this.mathlist.concat(this.parse(M=>"]"===M)),this.endContext());return D}parseCommand(b){var f,q,D,J;if("\\placeholder"===b){b=this.parseOptionalArgument("string");var M=this.parseOptionalArgument("math");var W=null!==
(f=this.parseArgument("string"))&&void 0!==f?f:void 0;return[new We(this.context,{mode:this.parseMode,placeholderId:b,value:W,default:M,style:this.style})]}f=null;if("\\char"===b){b=this.index;M=Math.floor(null!==(W=this.scanNumber(!0))&&void 0!==W?W:Number.NaN);(!Number.isFinite(M)||0>M||1114111<M)&&(M=10067);const xa="\\char"+ab(this.tokens.slice(b,this.index));return f=new rc("math"===this.parseMode?"mord":"text",this.context,{command:"\\char",mode:this.parseMode,value:String.fromCodePoint(M),
serialize:()=>xa}),f.verbatimLatex=xa,[f]}if("\\hskip"===b||"\\kern"===b)return(f=this.scanGlue())?[new Og(b,this.style,this.context,f)]:null;if(f=this.scanMacro(b),f)return[f];W=this.context.getDefinition(b,this.parseMode);if(!W)return this.onError({code:"unknown-command",arg:b}),[new Fh(b,this.context)];const ca=this.index;if("symbol"===W.definitionType){var fa={...this.style};W.variant&&(fa.variant=W.variant);f=new rc(null!==(q=W.type)&&void 0!==q?q:"mop",this.context,{command:b,style:fa,value:String.fromCodePoint(W.codepoint),
mode:this.parseMode})}else{if(W.ifMode&&!W.ifMode.includes(this.parseMode))return[];q=this.parseMode;W.applyMode&&(this.parseMode=W.applyMode);const [xa,ta]=this.parseArguments(W);if(this.parseMode=q,!ta)return null;if(W.applyMode&&!W.applyStyle&&!W.createAtom)return ta[0];if(W.infix)return this.onError({code:"too-many-infix-commands",arg:b}),null;if("function"==typeof W.createAtom)f=W.createAtom(b,ta,this.style,this.context),xa&&(f.body=null!==(fa=this.parseArgument(xa))&&void 0!==fa?fa:void 0);
else if("function"==typeof W.applyStyle){fa=W.applyStyle(b,ta,this.context);q=this.parseMode;if(W.applyMode&&(this.parseMode=W.applyMode),xa)return f=this.style,this.style={...this.style,...fa},b=this.parseArgument(xa),this.style=f,this.parseMode=q,b;this.style={...this.style,...fa};this.parseMode=q}else f=new rc("mop",this.context,{command:null!==(D=W.command)&&void 0!==D?D:b,style:{...this.style},value:b,mode:null!==(J=W.applyMode)&&void 0!==J?J:this.parseMode})}return f instanceof rc&&void 0===
f.verbatimLatex&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(b)&&(f.verbatimLatex=(null!==(M=f.command)&&void 0!==M?M:"")+ab(this.tokens.slice(ca,this.index)),0===f.verbatimLatex.length&&(f.verbatimLatex=void 0),f.isFunction&&this.smartFence)&&(b=this.scanSmartFence())?[f,b]:f?[f]:null}parseLiteral(b){b=hg.createAtom(this.parseMode,b,this.context,{...this.style});if(!b)return null;if(b.isFunction&&this.smartFence){const f=this.scanSmartFence();if(f)return[b,f]}return[b]}parseSimpleToken(){const b=
this.get();return b?"\x3cspace\x3e"===b?"text"===this.parseMode?[new Gg(" "," ",this.style,this.context)]:null:b.startsWith("\\")?this.parseCommand(b):Va(b)?this.parseLiteral(b):("\x3c}\x3e"===b?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:b}),null):null}scanMacro(b){var f;const q=this.context.getMacro(b);if(!q)return null;const D=this.index,J=q.args,M={"?":null===(f=this.args)||void 0===f?void 0:f.call(this,"?")};for(f=1;f<=J;f++)M[f]=this.matchLiteralArg();
return new Xh(b,this.context,{expand:q.expand,captureSelection:q.captureSelection,args:ab(this.tokens.slice(D,this.index)),body:Ua(q.def,this.context,{parseMode:this.parseMode,args:W=>M[W],mathstyle:this.currentContext.mathstyle})})}parseToken(){var b,f,q,D;let J=null!==(D=null!==(q=null!==(f=null!==(b=this.parseEnvironment())&&void 0!==b?b:this.parseModeShift())&&void 0!==f?f:this.parseModeSet())&&void 0!==q?q:this.parseGroup())&&void 0!==D?D:this.parseLeftRight();if(null===J){if(this.parseSupSub()||
this.parseLimits())return!0;J=this.parseSimpleToken()}return r(J)?this.mathlist.push(...J):J&&this.mathlist.push(J),null!==J}}class Xf extends rc{constructor(b,f,q,D){super("box",q,{command:b,serialize:D.serialize,style:D.style});this.body=f;this.framecolor=D.framecolor;this.verbatimFramecolor=D.verbatimBackgroundcolor;this.backgroundcolor=D.backgroundcolor;this.verbatimBackgroundcolor=D.verbatimBackgroundcolor;this.padding=D.padding;this.border=D.border}static fromJson(b,f){return new Xf(b.command,
b.body,f,b)}toJson(){return{...super.toJson(),framecolor:this.framecolor,verbatimFramecolor:this.verbatimFramecolor,backgroundcolor:this.backgroundcolor,verbatimBackgroundcolor:this.verbatimBackgroundcolor,padding:this.padding,border:this.border}}render(b){var f=new be(b,this.style);const q=wa(f.getRegisterAsDimension("fboxsep")),D=void 0===this.padding?q:wa(Ta(this.padding,{...this.context,registers:b.registers})),J=rc.createBox(b,this.body);if(!J)return null;J.setStyle("vertical-align",-J.height,
"em");const M=new Vc(J,{type:"mord"}),W=new Vc(null,{classes:"ML__box"});W.height=M.height+D;W.depth=M.depth+D;W.setStyle("box-sizing","border-box");W.setStyle("position","absolute");W.setStyle("height",M.height+M.depth+2*D,"em");0===D?W.setStyle("width","100%"):(W.setStyle("width",`calc(100% + ${2*D}em)`),W.setStyle("top",q,"em"),W.setStyle("left",-D,"em"));this.backgroundcolor&&W.setStyle("background-color",this.backgroundcolor);this.framecolor&&W.setStyle("border",`${wa(f.getRegisterAsDimension("fboxrule"))}em solid ${this.framecolor}`);
this.border&&W.setStyle("border",this.border);M.setStyle("display","inline-block");M.setStyle("height",J.height+J.depth,"em");M.setStyle("vertical-align",-D,"em");f=new Vc([W,M]);return f.setStyle("position","relative"),f.setStyle("display","inline-block"),f.setStyle("line-height",0),f.height=M.height+D,f.depth=M.depth+D,f.left=D,f.right=D,f.setStyle("height",M.height+D,"em"),f.setStyle("top",M.depth-M.height,"em"),f.setStyle("vertical-align",M.depth+D,"em"),this.caret&&(f.caret=this.caret),this.attachSupsub(b,
{base:f})}}class Xe extends rc{constructor(b,f,q,D,J={}){var M,W;super("array",b);this.environmentName=f;this.rowGaps=D;J.mathstyleName&&(this.mathstyleName=J.mathstyleName);J.columns&&(0===J.columns.length?this.colFormat=[{align:"l"}]:this.colFormat=J.columns);this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]);f=0;for(var ca of this.colFormat)"align"in ca&&(f+=1);ca=0;D=[];for(var fa of q)for(q=
0,ca=Math.max(ca,Math.min(fa.length,f));q<fa.length;){const ta=[],Ma=Math.min(fa.length,q+f);for(;q<Ma;)0===fa[q].length?ta.push([new rc("first",b,{mode:this.mode})]):"first"!==fa[q][0].type?ta.push([new rc("first",b,{mode:this.mode}),...fa[q]]):ta.push(fa[q]),q+=1;D.push(ta)}1===D[D.length-1].length&&0===D[D.length-1][0].length&&D.pop();fa=[];for(var xa of D){if(xa.length!==ca)for(f=xa.length;f<ca;f++)xa.push([new rc("first",b,{mode:this.mode}),new We(b)]);fa.push(xa)}b=0;for(const ta of fa){xa=
0;for(const Ma of ta){for(const Pa of Ma)Pa.parent=this,Pa.treeBranch=[b,xa];xa+=1}b+=1}this.array=(this.isDirty=!0,fa);J.leftDelim&&(this.leftDelim=J.leftDelim);J.rightDelim&&(this.rightDelim=J.rightDelim);void 0!==J.jot&&(this.jot=J.jot);J.arraycolsep&&(this.arraycolsep=J.arraycolsep);this.colSeparationType=J.colSeparationType;this.arraystretch=null!==(M=J.arraystretch)&&void 0!==M?M:1;this.minColumns=null!==(W=J.minColumns)&&void 0!==W?W:1}static fromJson(b,f){return new Xe(f,b.environmentName,
b.array,b.rowGaps,b)}toJson(){const b={...super.toJson(),environmentName:this.environmentName,array:this.array.map(f=>f.map(q=>q.map(D=>D.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType};return 1!==this.arraystretch&&(b.arraystretch=this.arraystretch),this.arraycolsep&&(b.arraycolsep=this.arraycolsep),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),void 0!==this.jot&&(b.jot=this.jot),b}branch(b){var f;if(Qa(b))return null!==
(f=this.array[b[0]][b[1]])&&void 0!==f?f:void 0}get branches(){const b=super.branches;return this.array.forEach((f,q)=>{this.array[q].forEach((D,J)=>{this.array[q][J]&&b.push([q,J])})}),b}createBranch(b){var f;return Qa(b)?(this.isDirty=!0,null!==(f=this.branch(b))&&void 0!==f?f:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(b=>!!b.align).length}removeBranch(b){if(Ha(b))return super.removeBranch(b);const f=this.branch(b);
return this.array[b[0]][b[1]]=void 0,f.forEach(q=>{q.parent=void 0;q.treeBranch=void 0}),f.shift(),this.isDirty=!0,f}get hasChildren(){return 0<this.children.length}get children(){const b=[];for(const f of this.array)for(const q of f)if(q)for(const D of q)b.push(...D.children),b.push(D);return[...b,...super.children]}render(b){var f,q,D,J,M;const W=new be(b,this.style,this.mathstyleName);var ca=W.getRegisterAsEm("arrayrulewidth"),fa=W.getRegisterAsEm("arraycolsep"),xa=W.getRegisterAsEm("doublerulesep"),
ta=null!==(f=this.arraystretch)&&void 0!==f?f:1;f="number"==typeof this.arraycolsep?this.arraycolsep:fa;"small"===this.colSeparationType&&(f=(new be(b,void 0,"scriptstyle")).scalingFactor/b.scalingFactor*.2778);ta*=1.2;var Ma=.7*ta,Pa=.3*ta;ta=0;fa=[];var db=0,pb=this.array.length;for(var Mb=0;Mb<pb;++Mb){var Rb=this.array[Mb];db=Math.max(db,Rb.length);var pc=new be(W,this.style,this.mathstyleName);let of=Ma/pc.scalingFactor,Ve=Pa/pc.scalingFactor;const mf={cells:[],height:0,depth:0,pos:0};for(var hc of Rb)Rb=
null!==(q=rc.createBox(pc,hc,{newList:!0}))&&void 0!==q?q:new Vc(null,{newList:!0}),Ve=Math.max(Ve,Rb.depth),of=Math.max(of,Rb.height),mf.cells.push(Rb);pc=null!==(D=wa(this.rowGaps[Mb]))&&void 0!==D?D:0;0<pc&&(pc+=Pa,Ve=Math.max(Ve,pc),pc=0);void 0!==this.jot&&(Ve+=this.jot);mf.height=of;mf.depth=Ve;ta+=of;mf.pos=ta;ta+=Ve+pc;fa.push(mf)}q=ta/2+.25;D=[];for(hc=0;hc<db;hc++){Ma=[];for(var kd of fa)Pa=kd.cells[hc],Pa.depth=kd.depth,Pa.height=kd.height,Ma.push({box:Pa,shift:kd.pos-q});0<Ma.length&&
D.push(new tf({individualShift:Ma}))}kd=[];Ma=hc=!1;db=0;Pa=!this.leftDelim;({colFormat:pb}=this);for(var gd of pb){if("align"in gd&&db>=D.length)break;if("align"in gd)hc?kd.push(Bb(2*f)):(Ma||Pa)&&kd.push(Bb(f)),kd.push(new Vc(D[db],{classes:"col-align-"+gd.align})),db++,hc=!0,Pa=Ma=!1;else if("gap"in gd){if("number"==typeof gd.gap)kd.push(Bb(gd.gap));else{hc=b;Mb=fa;Ma=q;if(Pa=gd.gap){pb=[];for(var Vd of Mb)(Mb=rc.createBox(hc,Pa,{newList:!0}))&&(Mb.depth=Vd.depth,Mb.height=Vd.height,pb.push({box:Mb,
shift:Vd.pos-Ma}));hc=(new tf({individualShift:pb})).wrap(hc)}else hc=null;hc&&kd.push(hc)}Pa=Ma=hc=!1}else"separator"in gd&&(Pa=new Vc(null,{classes:"vertical-separator"}),Pa.setStyle("height",ta,"em"),Pa.setStyle("border-right",`${ca}em ${gd.separator} currentColor`),Pa.setStyle("vertical-align",-(ta-q),"em"),pb=0,Ma?pb=xa-ca:hc&&(pb=f-ca),Pa.left=pb,kd.push(Pa),hc=!1,Ma=!0,Pa=!1)}hc&&!this.rightDelim&&kd.push(Bb(f));ca=new Vc(kd,{classes:"mtable"});if(!(this.leftDelim&&"."!==this.leftDelim||this.rightDelim&&
"."!==this.rightDelim))return this.caret&&(ca.caret=this.caret),ca;xa=ca.height;gd=ca.depth;return(Vd=this.bind(b,new Vc([this.bind(b,ob("mopen",null!==(J=this.leftDelim)&&void 0!==J?J:".",xa,gd,W)),ca,this.bind(b,ob("mclose",null!==(M=this.rightDelim)&&void 0!==M?M:".",xa,gd,W))],{type:"mord"})))?(this.caret&&(Vd.caret=this.caret),this.attachSupsub(b,{base:Vd})):null}serialize(b){let f="\\begin{"+this.environmentName+"}";if("array"===this.environmentName){if(f+="{",void 0!==this.colFormat)for(var q of this.colFormat)"align"in
q?f+=q.align:"separator"in q&&"solid"===q.separator?f+="|":"separator"in q&&"dashed"===q.separator&&(f+=":");f+="}"}for(q=0;q<this.array.length;q++){for(let D=0;D<this.array[q].length;D++)0<D&&(f+=" \x26 "),f=va([f,rc.serialize(this.array[q][D],b)]);q<this.array.length-1&&(f+=" \\\\ ")}return f+="\\end{"+this.environmentName+"}",f}getCell(b,f){return this.array[b][f]}setCell(b,f,q){for(var D of this.array[b][f])D.parent=void 0,D.treeBranch=void 0;D=q;0!==q.length&&"first"===q[0].type||(D=[new rc("first",
this.context,{mode:this.mode}),...q]);this.array[b][f]=D;for(const J of D)J.parent=this,J.treeBranch=[b,f];this.isDirty=!0}addRowBefore(b){var f=[];for(var q=0;q<this.colCount;q++)f.push(hb(this));for(this.array.splice(b,0,f);b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}addRowAfter(b){var f=[];for(var q=0;q<this.colCount;q++)f.push(hb(this));this.array.splice(b+1,0,f);for(b+=1;b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=
this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}removeRow(b){var f=this.array.splice(b,1);for(var q of f)for(const D of q)if(D)for(const J of D)J.parent=void 0,J.treeBranch=void 0;for(;b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}addColumnBefore(b){for(var f of this.array)f.splice(b,0,hb(this));for(f=0;f<this.rowCount;f++)for(let q=b;q<this.colCount;q++){const D=this.array[f][q];if(D)for(const J of D)J.treeBranch=
[f,q]}this.isDirty=!0}addColumnAfter(b){for(var f of this.array)f.splice(b+1,0,hb(this));for(f=0;f<this.rowCount;f++)for(let q=b+1;q<this.colCount;q++){const D=this.array[f][q];if(D)for(const J of D)J.treeBranch=[f,q]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(b){for(var f of this.array){var q=f.splice(b,1);for(var D of q)if(D)for(const J of D)J.parent=void 0,J.treeBranch=void 0}for(f=0;f<this.rowCount;f++)for(q=b;q<this.colCount;q++)if(D=this.array[f][q])for(const J of D)J.treeBranch=
[f,q];this.isDirty=!0}get cells(){const b=[];for(const f of this.array)for(const q of f)q&&b.push(q);return b}}class eg extends rc{constructor(b,f,q){var D;super("composition",f,{mode:null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math",value:b})}static fromJson(b,f){return new eg(b.value,f,b)}toJson(){return super.toJson()}get computedStyle(){return{}}render(b){const f=new Vc(this.value,{classes:"ML__composition",type:"composition"});return this.bind(b,f),this.caret&&(f.caret=this.caret),f}serialize(b){return""}}
class Oh extends rc{constructor(b,f,q){super("chem",q,{command:b,mode:"math"});const D=Se.go(uc.go(f,"\\pu"===b?"pu":"ce"),!1);this.body=Ua(D,q);this.verbatimLatex=b+"{"+f+"}";this.arg=f;this.captureSelection=!0}static fromJson(b,f){return new Oh(b.command,b.arg,f)}toJson(){return{...super.toJson(),arg:this.arg}}render(b){const f=rc.createBox(b,this.body,{type:"chem",newList:!0});return this.caret&&(f.caret=this.caret),this.bind(b,f)}serialize(b){return this.verbatimLatex}}ea(["ce","pu"],"{chemformula:balanced-string}",
{createAtom:(b,f,q,D)=>new Oh(b,f[0],D)});var uc={go:function(b,f){if(!b)return[];void 0===f&&(f="ce");var q,D="0",J={parenthesisLevel:0};b=(b=(b=b.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var M=10,W=[];;){q!==b?(M=10,q=b):M--;var ca=uc.stateMachines[f],fa=ca.transitions[D]||ca.transitions["*"],xa=0;a:for(;xa<fa.length;xa++){var ta=uc.patterns.match_(fa[xa].pattern,b);if(ta){for(var Ma=fa[xa].task,Pa=0;Pa<Ma.action_.length;Pa++){if(ca.actions[Ma.action_[Pa].type_])var db=
ca.actions[Ma.action_[Pa].type_](J,ta.match_,Ma.action_[Pa].option);else{if(!uc.actions[Ma.action_[Pa].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+Ma.action_[Pa].type_+")"];db=uc.actions[Ma.action_[Pa].type_](J,ta.match_,Ma.action_[Pa].option)}uc.concatArray(W,db)}if(D=Ma.nextState||D,!(0<b.length))return W;if(Ma.revisit||(b=ta.remainder),!Ma.toContinue)break a}}if(0>=M)throw["MhchemBugU","mhchem bug U. Please report."];}},concatArray:function(b,f){if(f)if(Array.isArray(f))for(var q=
0;q<f.length;q++)b.push(f[q]);else b.push(f)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,
"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(b){var f=
b.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return f&&f[0]?{match_:f.splice(1),remainder:b.substr(f[0].length)}:null},"(-)(9)^(-9)":function(b){var f=b.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return f&&f[0]?{match_:f.splice(1),remainder:b.substr(f[0].length)}:null},
"state of aggregation $":function(b){var f=uc.patterns.findObserveGroups(b,"",/^\([a-z]{1,3}(?=[\),])/,")","");return f&&f.remainder.match(/^($|[\s,;\)\]\}])/)?f:(f=b.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/))?{match_:f[0],remainder:b.substr(f[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(b){return uc.patterns.findObserveGroups(b,
"^{","","","}")},"^($...$)":function(b){return uc.patterns.findObserveGroups(b,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(b){return uc.patterns.findObserveGroups(b,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(b){return uc.patterns.findObserveGroups(b,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(b){return uc.patterns.findObserveGroups(b,"_{","","","}")},"_($...$)":function(b){return uc.patterns.findObserveGroups(b,
"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(b){return uc.patterns.findObserveGroups(b,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(b){return uc.patterns.findObserveGroups(b,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(b){return uc.patterns.findObserveGroups(b,"","{","}","")},"{(...)}":function(b){return uc.patterns.findObserveGroups(b,"{","","","}")},"$...$":function(b){return uc.patterns.findObserveGroups(b,
"","$","$","")},"${(...)}$":function(b){return uc.patterns.findObserveGroups(b,"${","","","}$")},"$(...)$":function(b){return uc.patterns.findObserveGroups(b,"$","","","$")},"\x3d\x3c\x3e":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,
"\\bond{(...)}":function(b){return uc.patterns.findObserveGroups(b,"\\bond{","","","}")},"-\x3e":/^(?:<->|<--\x3e|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(b){return uc.patterns.findObserveGroups(b,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[, ;:])/,"\\x{}{}":function(b){return uc.patterns.findObserveGroups(b,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(b){return uc.patterns.findObserveGroups(b,"",/^\\[a-zA-Z]+\{/,
"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(b){return uc.patterns.findObserveGroups(b,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(b){return uc.patterns.findObserveGroups(b,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(b){return uc.patterns.findObserveGroups(b,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(b){return uc.patterns.findObserveGroups(b,
"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(b){return uc.patterns.findObserveGroups(b,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(b){return uc.patterns.findObserveGroups(b,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(b){return uc.patterns.findObserveGroups(b,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(b){return uc.patterns.findObserveGroups(b,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,
"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(b){var f;if(f=b.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:f[0],remainder:b.substr(f[0].length)};var q=uc.patterns.findObserveGroups(b,"","$","$","");return q&&(f=
q.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:f[0],remainder:b.substr(f[0].length)}:null},amount2:function(b){return this.amount(b)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(b){if(b.match(/^\([a-z]+\)$/))return null;var f=b.match(/^(?:[a-z]|(?:[0-9 \+\-,\.\(\)]+[a-z])+[0-9 \+\-,\.\(\)]*|(?:[a-z][0-9 \+\-,\.\(\)]+)+[a-z]?)$/);return f?{match_:f[0],remainder:b.substr(f[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,
"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(b,f,q,D,J,M,W,ca,fa,xa){var ta=function(Ma,Pa){return"string"==typeof Pa?0!==Ma.indexOf(Pa)?null:Pa:(Ma=Ma.match(Pa))?Ma[0]:null};f=ta(b,f);if(null===f||(b=b.substr(f.length),null===(f=ta(b,q))))return null;q=function(Ma,Pa,db){for(var pb=0;Pa<Ma.length;){var Mb=Ma.charAt(Pa),Rb=ta(Ma.substr(Pa),db);if(null!==Rb&&0===pb)return{endMatchBegin:Pa,endMatchEnd:Pa+Rb.length};if("{"===Mb)pb++;else if("}"===Mb){if(0===pb)throw["ExtraCloseMissingOpen",
"Extra close brace or missing open brace"];pb--}Pa++}return null}(b,f.length,D||J);if(null===q)return null;D=b.substring(0,D?q.endMatchEnd:q.endMatchBegin);if(M||W){b=this.findObserveGroups(b.substr(q.endMatchEnd),M,W,ca,fa);if(null===b)return null;M=[D,b.match_];return{match_:xa?M.join(""):M,remainder:b.remainder}}return{match_:D,remainder:b.substr(q.endMatchEnd)}},match_:function(b,f){var q=uc.patterns.patterns[b];if(void 0===q)throw["MhchemBugP","mhchem bug P. Please report. ("+b+")"];return"function"==
typeof q?uc.patterns.patterns[b](f):(b=f.match(q))?{match_:b[2]?[b[1],b[2]]:b[1]?b[1]:b[0],remainder:f.substr(b[0].length)}:null}},actions:{"a\x3d":function(b,f){b.a=(b.a||"")+f},"b\x3d":function(b,f){b.b=(b.b||"")+f},"p\x3d":function(b,f){b.p=(b.p||"")+f},"o\x3d":function(b,f){b.o=(b.o||"")+f},"q\x3d":function(b,f){b.q=(b.q||"")+f},"d\x3d":function(b,f){b.d=(b.d||"")+f},"rm\x3d":function(b,f){b.rm=(b.rm||"")+f},"text\x3d":function(b,f){b.text_=(b.text_||"")+f},insert:function(b,f,q){return{type_:q}},
"insert+p1":function(b,f,q){return{type_:q,p1:f}},"insert+p1+p2":function(b,f,q){return{type_:q,p1:f[0],p2:f[1]}},copy:function(b,f){return f},rm:function(b,f){return{type_:"rm",p1:f||""}},text:function(b,f){return uc.go(f,"text")},"{text}":function(b,f){b=["{"];return uc.concatArray(b,uc.go(f,"text")),b.push("}"),b},"tex-math":function(b,f){return uc.go(f,"tex-math")},"tex-math tight":function(b,f){return uc.go(f,"tex-math tight")},bond:function(b,f,q){return{type_:"bond",kind_:q||f}},"color0-output":function(b,
f){return{type_:"color0",color:f[0]}},ce:function(b,f){return uc.go(f)},"1/2":function(b,f){b=[];f.match(/^[+\-]/)&&(b.push(f.substr(0,1)),f=f.substr(1));f=f.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return f[1]=f[1].replace(/\$/g,""),b.push({type_:"frac",p1:f[1],p2:f[2]}),f[3]&&(f[3]=f[3].replace(/\$/g,""),b.push({type_:"tex-math",p1:f[3]})),b},"9,9":function(b,f){return uc.go(f,"9,9")}},createTransitions:function(b){var f,q,D,J={};for(f in b)for(q in b[f]){var M=q.split("|");
b[f][q].stateArray=M;for(D=0;D<M.length;D++)J[M[D]]=[]}for(f in b)for(q in b[f])for(M=b[f][q].stateArray||[],D=0;D<M.length;D++){var W=b[f][q];if(W.action_){W.action_=[].concat(W.action_);for(var ca=0;ca<W.action_.length;ca++)"string"==typeof W.action_[ca]&&(W.action_[ca]={type_:W.action_[ca]})}else W.action_=[];ca=f.split("|");for(var fa=0;fa<ca.length;fa++)if("*"===M[D])for(var xa in J)J[xa].push({pattern:ca[fa],task:W});else J[M[D]].push({pattern:ca[fa],task:W})}return J},stateMachines:{}};uc.stateMachines=
{ce:{transitions:uc.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond\x3dfalse",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt\x3d",nextState:"rt"},rd:{action_:"rqt\x3d",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb\x3dfalse","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o\x3d","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o\x3d",nextState:"o"}},"-\x3e":{"0|1|2|3":{action_:"r\x3d",
nextState:"r"},"a|as":{action_:["output","r\x3d"],nextState:"r"},"*":{action_:["output","r\x3d"],nextState:"r"}},"+":{o:{action_:"d\x3d kv",nextState:"d"},"d|D":{action_:"d\x3d",nextState:"d"},q:{action_:"d\x3d",nextState:"qd"},"qd|qD":{action_:"d\x3d",nextState:"qd"},dq:{action_:["output","d\x3d"],nextState:"d"},3:{action_:["sb\x3dfalse","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a\x3d",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb\x3dfalse","output",{type_:"operator",
option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb\x3dfalse","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d\x3d",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d\x3d",nextState:"qd"},qd:{action_:"d\x3d",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",
{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond\x3dtrue",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b\x3d"},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},
q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a\x3d",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o\x3d",nextState:"o"},"q|dq":{action_:["output","o\x3d"],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q\x3d",nextState:"q"},"d|D":{action_:"q\x3d",nextState:"dq"},q:{action_:["output",
"o\x3d"],nextState:"o"},a:{action_:"o\x3d",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb\x3dfalse"},"1|2":{action_:"sb\x3dtrue"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb\x3dtrue"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd\x3d",nextState:"rd"},"rd|rdt":{action_:"rq\x3d",
nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o\x3d","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o\x3d","output","parenthesisLevel++"],
nextState:"2"},"*":{action_:["output","o\x3d","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o\x3d","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o\x3d","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b\x3d",nextState:"b"},p:{action_:"b\x3d",nextState:"bp"},"3|o":{action_:"d\x3d kv",nextState:"D"},q:{action_:"d\x3d",nextState:"qD"},
"d|D|qd|qD|dq":{action_:["output","d\x3d"],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b\x3d",nextState:"b"},p:{action_:"b\x3d",nextState:"bp"},"3|o":{action_:"d\x3d kv",nextState:"d"},q:{action_:"d\x3d",nextState:"qd"},"d|qd|D|qD":{action_:"d\x3d"},dq:{action_:["output","d\x3d"],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q\x3d"],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p\x3d",nextState:"p"},b:{action_:"p\x3d",
nextState:"bp"},"3|o":{action_:"q\x3d",nextState:"q"},"d|D":{action_:"q\x3d",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q\x3d"],nextState:"q"}},"\x3d\x3c\x3e":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o\x3d",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output",
"o\x3d"],nextState:"o"}},"$...$":{a:{action_:"a\x3d"},"0|1|2|3|as|b|p|bp|o":{action_:"o\x3d",nextState:"o"},"as|o":{action_:"o\x3d"},"q|d|D|qd|qD|dq":{action_:["output","o\x3d"],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",
option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o\x3d",
"output"],nextState:"3"},"*":{action_:["output","o\x3d","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb\x3dtrue"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(b,f){if((b.d||"").match(/^[0-9]+$/)){var q=b.d;b.d=void 0;var D=this.output(b);b.b=q}else D=
this.output(b);return uc.actions["o\x3d"](b,f),D},"d\x3d kv":function(b,f){b.d=f;b.dType="kv"},"charge or bond":function(b,f){if(b.beginsWithBond){var q=[];return uc.concatArray(q,this.output(b)),uc.concatArray(q,uc.actions.bond(b,f,"-")),q}b.d=f},"- after o/d":function(b,f,q){var D=uc.patterns.match_("orbital",b.o||""),J=uc.patterns.match_("one lowercase greek letter $",b.o||""),M=uc.patterns.match_("one lowercase latin letter $",b.o||""),W=uc.patterns.match_("$one lowercase latin letter$ $",b.o||
"");J="-"===f&&(D&&""===D.remainder||J||M||W);!J||b.a||b.b||b.p||b.d||b.q||D||!M||(b.o="$"+b.o+"$");M=[];return J?(uc.concatArray(M,this.output(b)),M.push({type_:"hyphen"})):(D=uc.patterns.match_("digits",b.d||""),q&&D&&""===D.remainder?(uc.concatArray(M,uc.actions["d\x3d"](b,f)),uc.concatArray(M,this.output(b))):(uc.concatArray(M,this.output(b)),uc.concatArray(M,uc.actions.bond(b,f,"-")))),M},"a to o":function(b){b.o=b.a;b.a=void 0},"sb\x3dtrue":function(b){b.sb=!0},"sb\x3dfalse":function(b){b.sb=
!1},"beginsWithBond\x3dtrue":function(b){b.beginsWithBond=!0},"beginsWithBond\x3dfalse":function(b){b.beginsWithBond=!1},"parenthesisLevel++":function(b){b.parenthesisLevel++},"parenthesisLevel--":function(b){b.parenthesisLevel--},"state of aggregation":function(b,f){return{type_:"state of aggregation",p1:uc.go(f,"o")}},comma:function(b,f){var q=f.replace(/\s*$/,"");return q!==f&&0===b.parenthesisLevel?{type_:"comma enumeration L",p1:q}:{type_:"comma enumeration M",p1:q}},output:function(b,f,q){var D,
J,M,W;for(W in b.r?(J="M"===b.rdt?uc.go(b.rd,"tex-math"):"T"===b.rdt?[{type_:"text",p1:b.rd||""}]:uc.go(b.rd),M="M"===b.rqt?uc.go(b.rq,"tex-math"):"T"===b.rqt?[{type_:"text",p1:b.rq||""}]:uc.go(b.rq),D={type_:"arrow",r:b.r,rd:J,rq:M}):(D=[],(b.a||b.b||b.p||b.o||b.q||b.d||q)&&(b.sb&&D.push({type_:"entitySkip"}),b.o||b.q||b.d||b.b||b.p||2===q?b.o||b.q||b.d||!b.b&&!b.p?b.o&&"kv"===b.dType&&uc.patterns.match_("d-oxidation$",b.d||"")?b.dType="oxidation":b.o&&"kv"===b.dType&&!b.q&&(b.dType=void 0):(b.o=
b.a,b.d=b.b,b.q=b.p,b.a=b.b=b.p=void 0):(b.o=b.a,b.a=void 0),D.push({type_:"chemfive",a:uc.go(b.a,"a"),b:uc.go(b.b,"bd"),p:uc.go(b.p,"pq"),o:uc.go(b.o,"o"),q:uc.go(b.q,"pq"),d:uc.go(b.d,"oxidation"===b.dType?"oxidation":"bd"),dType:b.dType}))),b)"parenthesisLevel"!==W&&"beginsWithBond"!==W&&delete b[W];return D},"oxidation-output":function(b,f){b=["{"];return uc.concatArray(b,uc.go(f,"oxidation")),b.push("}"),b},"frac-output":function(b,f){return{type_:"frac-ce",p1:uc.go(f[0]),p2:uc.go(f[1])}},"overset-output":function(b,
f){return{type_:"overset",p1:uc.go(f[0]),p2:uc.go(f[1])}},"underset-output":function(b,f){return{type_:"underset",p1:uc.go(f[0]),p2:uc.go(f[1])}},"underbrace-output":function(b,f){return{type_:"underbrace",p1:uc.go(f[0]),p2:uc.go(f[1])}},"color-output":function(b,f){return{type_:"color",color1:f[0],color2:uc.go(f[1])}},"r\x3d":function(b,f){b.r=f},"rdt\x3d":function(b,f){b.rdt=f},"rd\x3d":function(b,f){b.rd=f},"rqt\x3d":function(b,f){b.rqt=f},"rq\x3d":function(b,f){b.rq=f},operator:function(b,f,q){return{type_:"operator",
kind_:q||f}}}},a:{transitions:uc.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:uc.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},
"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:uc.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text\x3d"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text\x3d"}}}),actions:{output:function(b){if(b.text_){var f={type_:"text",p1:b.text_},q;for(q in b)delete b[q];
return f}}}},pq:{transitions:uc.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",
option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(b,f){return{type_:"state of aggregation subscript",p1:uc.go(f,"o")}},"color-output":function(b,f){return{type_:"color",color1:f[0],color2:uc.go(f[1],"pq")}}}},bd:{transitions:uc.createTransitions({empty:{"*":{}},
x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},
"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(b,f){return{type_:"color",color1:f[0],color2:uc.go(f[1],"bd")}}}},oxidation:{transitions:uc.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(b,f){return{type_:"roman numeral",
p1:f||""}}}},"tex-math":{transitions:uc.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o\x3d"}},else:{"*":{action_:"o\x3d"}}}),actions:{output:function(b){if(b.o){var f={type_:"tex-math",p1:b.o},q;for(q in b)delete b[q];return f}}}},"tex-math tight":{transitions:uc.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o\x3d"}},
"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o\x3d"}}}),actions:{"tight operator":function(b,f){b.o=(b.o||"")+"{"+f+"}"},output:function(b){if(b.o){var f={type_:"tex-math",p1:b.o},q;for(q in b)delete b[q];return f}}}},"9,9":{transitions:uc.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:uc.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output",
"space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o\x3d",nextState:"/"}},"/":{d:{action_:"o\x3d",nextState:"/"}},"{...}|else":{"0|d":{action_:"d\x3d",nextState:"d"},a:{action_:["space","d\x3d"],nextState:"d"},"/|q":{action_:"q\x3d",nextState:"q"}}}),
actions:{enumber:function(b,f){b=[];return"+-"===f[0]||"+/-"===f[0]?b.push("\\pm "):f[0]&&b.push(f[0]),f[1]&&(uc.concatArray(b,uc.go(f[1],"pu-9,9")),f[2]&&(f[2].match(/[,.]/)?uc.concatArray(b,uc.go(f[2],"pu-9,9")):b.push(f[2])),f[3]=f[4]||f[3],f[3]&&(f[3]=f[3].trim(),"e"===f[3]||"*"===f[3].substr(0,1)?b.push({type_:"cdot"}):b.push({type_:"times"}))),f[3]&&b.push("10^{"+f[5]+"}"),b},"number^":function(b,f){b=[];return"+-"===f[0]||"+/-"===f[0]?b.push("\\pm "):f[0]&&b.push(f[0]),uc.concatArray(b,uc.go(f[1],
"pu-9,9")),b.push("^{"+f[2]+"}"),b},operator:function(b,f,q){return{type_:"operator",kind_:q||f}},space:function(){return{type_:"pu-space-1"}},output:function(b){var f,q=uc.patterns.match_("{(...)}",b.d||"");q&&""===q.remainder&&(b.d=q.match_);q=uc.patterns.match_("{(...)}",b.q||"");if(q&&""===q.remainder&&(b.q=q.match_),b.d&&(b.d=b.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),b.d=b.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),b.q){b.q=b.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C");b.q=
b.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");q=uc.go(b.d,"pu");var D=uc.go(b.q,"pu");"//"===b.o?f={type_:"pu-frac",p1:q,p2:D}:(f=q,1<q.length||1<D.length?f.push({type_:" / "}):f.push({type_:"/"}),uc.concatArray(f,D))}else f=uc.go(b.d,"pu-2");for(var J in b)delete b[J];return f}}},"pu-2":{transitions:uc.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm\x3d"}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},
"-9.,9":{0:{action_:"rm\x3d",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm\x3d",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(b,f){b.rm+="^{"+f+"}"},space:function(){return{type_:"pu-space-2"}},output:function(b){var f=[];b.rm&&(f=(f=uc.patterns.match_("{(...)}",b.rm||""))&&""===f.remainder?uc.go(f.match_,"pu"):{type_:"rm",p1:b.rm});for(var q in b)delete b[q];return f}}},"pu-9,9":{transitions:uc.createTransitions({empty:{0:{action_:"output-0"},
o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text\x3d"}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(b){var f=[];if(b.text_=b.text_||"",4<b.text_.length){var q=b.text_.length%3;0===q&&(q=3);for(var D=b.text_.length-3;0<D;D-=3)f.push(b.text_.substr(D,3)),f.push({type_:"1000 separator"});f.push(b.text_.substr(0,q));f.reverse()}else f.push(b.text_);for(var J in b)delete b[J];
return f},"output-o":function(b){var f=[];if(b.text_=b.text_||"",4<b.text_.length){for(var q=b.text_.length-3,D=0;D<q;D+=3)f.push(b.text_.substr(D,3)),f.push({type_:"1000 separator"});f.push(b.text_.substr(D))}else f.push(b.text_);for(var J in b)delete b[J];return f}}}};var Se={go:function(b,f){if(!b)return"";for(var q="",D=!1,J=0;J<b.length;J++){var M=b[J];"string"==typeof M?q+=M:(q+=Se._go2(M),"1st-level escape"===M.type_&&(D=!0))}return f||D||!q||(q="{"+q+"}"),q},_goInner:function(b){return b?
Se.go(b,!0):b},_go2:function(b){switch(b.type_){case "chemfive":var f="";var q=Se._goInner(b.a),D=Se._goInner(b.b),J=Se._goInner(b.p),M=Se._goInner(b.o),W=Se._goInner(b.q),ca=Se._goInner(b.d);q&&(q.match(/^[+\-]/)&&(q="{"+q+"}"),f+=q+"\\,");(D||J)&&(f+="{\\vphantom{X}}",f+="^{\\hphantom{"+(D||"")+"}}_{\\hphantom{"+(J||"")+"}}",f+="{\\vphantom{X}}",f+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(D||"")+"}}",f+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(J||"")+"}}}");M&&(M.match(/^[+\-]/)&&(M="{"+M+"}"),
f+=M);"kv"===b.dType?((ca||W)&&(f+="{\\vphantom{X}}"),ca&&(f+="^{"+ca+"}"),W&&(f+="_{\\smash[t]{"+W+"}}")):"oxidation"===b.dType?(ca&&(f+="{\\vphantom{X}}",f+="^{"+ca+"}"),W&&(f+="{\\vphantom{X}}",f+="_{\\smash[t]{"+W+"}}")):(W&&(f+="{\\vphantom{X}}",f+="_{\\smash[t]{"+W+"}}"),ca&&(f+="{\\vphantom{X}}",f+="^{"+ca+"}"));break;case "rm":case "roman numeral":f="\\mathrm{"+b.p1+"}";break;case "text":b.p1.match(/[\^_]/)?(b.p1=b.p1.replace(" ","~").replace("-","\\text{-}"),f="\\mathrm{"+b.p1+"}"):f="\\text{"+
b.p1+"}";break;case "state of aggregation":f="\\mskip2mu "+Se._goInner(b.p1);break;case "state of aggregation subscript":f="\\mskip1mu "+Se._goInner(b.p1);break;case "bond":if(!(f=Se._getBond(b.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+b.kind_+")"];break;case "frac":b="\\frac{"+b.p1+"}{"+b.p2+"}";f="\\mathchoice{\\textstyle"+b+"}{"+b+"}{"+b+"}{"+b+"}";break;case "pu-frac":b="\\frac{"+Se._goInner(b.p1)+"}{"+Se._goInner(b.p2)+"}";f="\\mathchoice{\\textstyle"+b+"}{"+b+"}{"+
b+"}{"+b+"}";break;case "tex-math":case "1st-level escape":f=b.p1+" ";break;case "frac-ce":f="\\frac{"+Se._goInner(b.p1)+"}{"+Se._goInner(b.p2)+"}";break;case "overset":f="\\overset{"+Se._goInner(b.p1)+"}{"+Se._goInner(b.p2)+"}";break;case "underset":f="\\underset{"+Se._goInner(b.p1)+"}{"+Se._goInner(b.p2)+"}";break;case "underbrace":f="\\underbrace{"+Se._goInner(b.p1)+"}_{"+Se._goInner(b.p2)+"}";break;case "color":f="{\\color{"+b.color1+"}{"+Se._goInner(b.color2)+"}}";break;case "color0":f="\\color{"+
b.color+"}";break;case "arrow":f=Se._goInner(b.rd);q=Se._goInner(b.rq);b="\\x"+Se._getArrow(b.r);q&&(b+="[{"+q+"}]");f=b+(f?"{"+f+"}":"{}");break;case "operator":f=Se._getOperator(b.kind_);break;case "space":f=" ";break;case "entitySkip":case "pu-space-1":f="~";break;case "pu-space-2":f="\\mkern3mu ";break;case "1000 separator":f="\\mkern2mu ";break;case "commaDecimal":f="{,}";break;case "comma enumeration L":f="{"+b.p1+"}\\mkern6mu ";break;case "comma enumeration M":f="{"+b.p1+"}\\mkern3mu ";break;
case "comma enumeration S":f="{"+b.p1+"}\\mkern1mu ";break;case "hyphen":f="\\text{-}";break;case "addition compound":f="\\,{\\cdot}\\,";break;case "electron dot":f="\\mkern1mu \\bullet\\mkern1mu ";break;case "KV x":f="{\\times}";break;case "prime":f="\\prime ";break;case "cdot":f="\\cdot ";break;case "tight cdot":f="\\mkern1mu{\\cdot}\\mkern1mu ";break;case "times":f="\\times ";break;case "circa":f="{\\sim}";break;case "^":f="uparrow";break;case "v":f="downarrow";break;case "ellipsis":f="\\ldots ";
break;case "/":f="/";break;case " / ":f="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."];}return f},_getArrow:function(b){switch(b){case "-\x3e":case "→":case "⟶":return"rightarrow";case "\x3c-":return"leftarrow";case "\x3c-\x3e":return"leftrightarrow";case "\x3c--\x3e":return"rightleftarrows";case "\x3c\x3d\x3e":case "⇌":return"rightleftharpoons";case "\x3c\x3d\x3e\x3e":return"rightequilibrium";case "\x3c\x3c\x3d\x3e":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."];
}},_getBond:function(b){switch(b){case "-":case "1":return"{-}";case "\x3d":case "2":return"{\x3d}";case "#":case "3":return"{\\equiv}";case "~":return"{\\tripledash}";case "~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case "~\x3d":case "~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case "-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case "...":return"{{\\cdot}{\\cdot}{\\cdot}}";
case "....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case "-\x3e":return"{\\rightarrow}";case "\x3c-":return"{\\leftarrow}";case "\x3c":return"{\x3c}";case "\x3e":return"{\x3e}";default:throw["MhchemBugT","mhchem bug T. Please report."];}},_getOperator:function(b){switch(b){case "+":return" {}+{} ";case "-":return" {}-{} ";case "\x3d":return" {}\x3d{} ";case "\x3c":return" {}\x3c{} ";case "\x3e":return" {}\x3e{} ";case "\x3c\x3c":return" {}\\ll{} ";case "\x3e\x3e":return" {}\\gg{} ";case "\\pm":return" {}\\pm{} ";
case "\\approx":case "$\\approx$":return" {}\\approx{} ";case "v":case "(v)":return" \\downarrow{} ";case "^":case "(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."];}}};class uh extends rc{constructor(b,f,q,D){super("delim",q,{command:b,style:null==D?void 0:D.style});this.value=f;this.size=null==D?void 0:D.size}static fromJson(b,f){return new uh(b.command,b.delim,f,b)}toJson(){return{...super.toJson(),delim:this.value,size:this.size}}render(b){b=new Vc(null);return b.delim=
this.value,b}serialize(b){return 1===this.value.length?this.command+this.value:`${this.command}{${this.value}}`}}class ti extends rc{constructor(b,f,q,D){super("sizeddelim",q,{command:b,style:D.style});this.value=f;this.delimClass=D.delimClass;this.size=D.size}static fromJson(b,f){return new ti(b.command,b.delim,f,b)}toJson(){return{...super.toJson(),delim:this.value,size:this.size,delimClass:this.delimClass}}render(b){var f=this.value,q=this.size,D={classes:this.delimClass},J;let M=void 0===f||"."===
f?oa(b,null!==(J=D.type)&&void 0!==J?J:"minner",D.classes):("\x3c"===f||"\\lt"===f||"⟨"===f?f="\\langle":"\x3e"!==f&&"\\gt"!==f&&"⟩"!==f||(f="\\rangle"),Bf.has(f)||bj.has(f)?la(f,q,!1,b,D):ue.has(f)?Ra(f,Cg[q],!1,b,D):null);return M?(M=this.bind(b,M),this.caret&&(M.caret=this.caret),M):null}serialize(b){return 1===this.value.length?this.command+this.value:`${this.command}{${this.value}}`}}class eh extends rc{constructor(b,f,q,D,J){super("enclose",D,{command:b,style:J.style});this.body=f;this.backgroundcolor=
J.backgroundcolor;q.updiagonalarrow&&(q.updiagonalstrike=!1);q.box&&(q.left=!1,q.right=!1,q.bottom=!1,q.top=!1);this.notation=q;this.shadow=J.shadow;this.strokeWidth=J.strokeWidth;this.strokeStyle=J.strokeStyle;this.svgStrokeStyle=J.svgStrokeStyle;this.strokeColor=J.strokeColor;this.borderStyle=J.borderStyle;this.padding=J.padding;this.captureSelection=!0}static fromJson(b,f){return new eh(b.command,b.body,b.notation,f,b)}toJson(){const b={};return this.notation.downdiagonalstrike&&(b.downdiagonalstrike=
!0),this.notation.updiagonalstrike&&(b.downdiagonalstrike=!0),this.notation.verticalstrike&&(b.downdiagonalstrike=!0),this.notation.horizontalstrike&&(b.downdiagonalstrike=!0),this.notation.updiagonalarrow&&(b.downdiagonalstrike=!0),this.notation.right&&(b.downdiagonalstrike=!0),this.notation.bottom&&(b.downdiagonalstrike=!0),this.notation.left&&(b.downdiagonalstrike=!0),this.notation.top&&(b.downdiagonalstrike=!0),this.notation.circle&&(b.downdiagonalstrike=!0),this.notation.roundedbox&&(b.downdiagonalstrike=
!0),this.notation.madruwb&&(b.downdiagonalstrike=!0),this.notation.actuarial&&(b.downdiagonalstrike=!0),this.notation.box&&(b.downdiagonalstrike=!0),{...super.toJson(),notation:b,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding}}serialize(b){var f;let q=null!==(f=this.command)&&void 0!==f?f:"";if("\\enclose"===this.command){q+="{"+Object.keys(this.notation).join(" ")+
"}";let D=f="";this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(f+=D+'mathbackground\x3d"'+this.backgroundcolor+'"',D=",");this.shadow&&"auto"!==this.shadow&&(f+=D+'shadow\x3d"'+this.shadow+'"',D=",");this.strokeWidth||"solid"!==this.strokeStyle?f+=D+this.borderStyle:this.strokeColor&&"currentColor"!==this.strokeColor&&(f+=D+'mathcolor\x3d"'+this.strokeColor+'"');f&&(q+=`[${f}]`)}return q+=`{${this.bodyToLatex(b)}}`,q}render(b){var f;const q=new be(b,this.style),D=rc.createBox(q,this.body);
if(!D)return null;b=null!==(f=wa(this.padding&&"auto"!==this.padding?Ta(this.padding,{...this.context,registers:b.registers}):q.getRegisterAsDimension("fboxsep")))&&void 0!==f?f:0;var J=function(W){if(!W)return"1px";W=W.match(/([0-9][a-zA-Z%]+)/);return null===W?"1px":W[1]}(this.borderStyle);f=new Vc(null,{classes:"ML__notation"});f.setStyle("box-sizing","border-box");f.setStyle("top",`calc(-${J} / 2 - ${b}em)`);f.setStyle("left",`calc(-${J} / 2 - ${b}em)`);f.setStyle("height",`calc(100% + ${2*b}em + 2 * ${J})`);
f.height=D.height+b;f.depth=D.depth+b;f.setStyle("width",`calc(100% + ${2*b}em + 2 * ${J})`);this.backgroundcolor&&f.setStyle("background-color",this.backgroundcolor);this.notation.box&&f.setStyle("border",this.borderStyle);this.notation.actuarial&&(f.setStyle("border-top",this.borderStyle),f.setStyle("border-right",this.borderStyle));this.notation.madruwb&&(f.setStyle("border-bottom",this.borderStyle),f.setStyle("border-right",this.borderStyle));this.notation.roundedbox&&(f.setStyle("border-radius",
"8px"),f.setStyle("border",this.borderStyle));this.notation.circle&&(f.setStyle("border-radius","50%"),f.setStyle("border",this.borderStyle));this.notation.top&&f.setStyle("border-top",this.borderStyle);this.notation.left&&f.setStyle("border-left",this.borderStyle);this.notation.right&&f.setStyle("border-right",this.borderStyle);this.notation.bottom&&f.setStyle("border-bottom",this.borderStyle);J="";if(this.notation.horizontalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"50%" x2\x3d"97%" y2\x3d"50%"',
J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.verticalstrike&&(J+='\x3cline x1\x3d"50%"  y1\x3d"3%" x2\x3d"50%" y2\x3d"97%"',J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.updiagonalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"97%" x2\x3d"97%" y2\x3d"3%"',
J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.downdiagonalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"3%" x2\x3d"97%" y2\x3d"97%"',J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),J){var M;"none"!==this.shadow&&(M="auto"===
this.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")");(function(W,ca,fa){W.svgOverlay=ca;W.svgStyle=fa})(f,J,M)}M=new Vc([f,D]);return M.setStyle("position","relative"),M.setStyle("display","inline"),M.height=D.height+b,M.depth=D.depth+b,M.left=b,M.right=b,this.caret&&(M.caret=this.caret),M.wrap(q)}}class vh extends rc{constructor(b,f,q,D,J){var M,W;super("genfrac",D,{style:J.style,command:b,serialize:J.serialize,
displayContainsHighlight:!0});this.above=f;this.below=q;this.hasBarLine=null===(M=null==J?void 0:J.hasBarLine)||void 0===M||M;this.continuousFraction=null!==(W=null==J?void 0:J.continuousFraction)&&void 0!==W&&W;this.numerPrefix=null==J?void 0:J.numerPrefix;this.denomPrefix=null==J?void 0:J.denomPrefix;this.mathstyleName=null==J?void 0:J.mathstyleName;this.leftDelim=null==J?void 0:J.leftDelim;this.rightDelim=null==J?void 0:J.rightDelim}static fromJson(b,f){return new vh(b.command,b.above,b.below,
f,b)}toJson(){const b={};return this.continuousFraction&&(b.continuousFraction=!0),this.numerPrefix&&(b.numerPrefix=this.numerPrefix),this.denomPrefix&&(b.denomPrefix=this.denomPrefix),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),this.hasBarLine||(b.hasBarLine=!1),this.mathstyleName&&(b.mathstyleName=this.mathstyleName),{...super.toJson(),...b}}serialize(b){return this.command+`{${this.aboveToLatex(b)}}`+`{${this.belowToLatex(b)}}`}get children(){if(this._children)return this._children;
const b=[];if("numerator-denominator"===this.context.fractionNavigationOrder){for(const f of this.above)b.push(...f.children),b.push(f);for(const f of this.below)b.push(...f.children),b.push(f)}else{for(const f of this.below)b.push(...f.children),b.push(f);for(const f of this.above)b.push(...f.children),b.push(f)}return this._children=b,b}render(b){var f,q,D=new be(b,this.style,this.mathstyleName),J=D.metrics,M=new be(D,this.style,this.continuousFraction?"":"numerator");M=this.numerPrefix?new Vc([new Vc(this.numerPrefix),
rc.createBox(M,this.above)],{isTight:M.isTight,newList:!0}):null!==(f=rc.createBox(M,this.above,{newList:!0}))&&void 0!==f?f:new Vc(null,{newList:!0});f=new be(D,this.style,this.continuousFraction?"":"denominator");f=this.denomPrefix?new Vc([new Vc(this.denomPrefix),rc.createBox(f,this.below,{newList:!0})]):null!==(q=rc.createBox(f,this.below,{newList:!0}))&&void 0!==q?q:new Vc(null,{newList:!0});var W=this.hasBarLine?J.defaultRuleThickness:0,ca,fa,xa=0;D.isDisplayStyle?(ca=J.num1,xa=0<W?3*W:7*W,
fa=J.denom1):(0<W?(ca=J.num2,xa=W):(ca=J.num3,xa=3*W),fa=J.denom2);q=[];this.isSelected&&q.push("ML__selected");const ta=M.depth,Ma=f.height;if(0>=W)W=ca-ta-(Ma-fa),W<xa&&(ca+=(xa-W)/2,fa+=(xa-W)/2),ca=(new tf({individualShift:[{box:M,shift:-ca,classes:[...q,"ML__center"]},{box:f,shift:fa,classes:[...q,"ML__center"]}]})).wrap(D);else{const Pa=.25+W/2,db=.25-W/2;ca<xa+ta+Pa&&(ca=xa+ta+Pa);fa<xa+Ma-db&&(fa=xa+Ma-db);xa=new Vc(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});xa.height=
W/2;xa.depth=W/2;ca=(new tf({individualShift:[{box:f,shift:fa,classes:[...q,"ML__center"]},{box:xa,shift:W/2-db,classes:q},{box:M,shift:-ca,classes:[...q,"ML__center"]}]})).wrap(D)}fa=D.isDisplayStyle?J.delim1:J.delim2;M=this.isSelected?" ML__selected":"";J=this.leftDelim?this.bind(b,Sa("mopen",this.leftDelim,fa,!0,b,{style:this.style,mode:this.mode,classes:M})):oa(D,"mopen");fa=this.continuousFraction?new Vc(null,{type:"mclose"}):this.rightDelim?this.bind(b,Sa("mclose",this.rightDelim,fa,!0,b,{style:this.style,
mode:this.mode,classes:M})):oa(D,"mclose");return(D=this.bind(b,new Vc([J,ca,fa],{isTight:D.isTight,type:"mord",classes:"mfrac"})))?(this.caret&&(D.caret=this.caret),this.attachSupsub(b,{base:D})):null}}class uf extends rc{constructor(b,f,q){var D;super("latex",f,{value:b,mode:"latex"});this.isSuggestion=null!==(D=null==q?void 0:q.isSuggestion)&&void 0!==D&&D;this.isError=!1;this.verbatimLatex=b}static fromJson(b,f){f=new uf(b.command,f);return b.isSuggestion&&(f.isSuggestion=!0),b.isError&&(f.isError=
!0),f}toJson(){const b={};return this.isSuggestion&&(b.isSuggestion=!0),this.isError&&(b.isError=!0),{...super.toJson(),...b}}get computedStyle(){return{}}render(b){const f=new Vc(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class Of extends rc{constructor(b,f){super("latexgroup",f,{mode:"latex"});this.body=[...b].map(q=>new uf(q,f));this.skipBoundary=!1}static fromJson(b,
f){return new Of("",f)}toJson(){return super.toJson()}render(b){const f=rc.createBox(b,this.body,{newList:!0});return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){var f,q;return null!==(q=null===(f=this.body)||void 0===f?void 0:f.map(D=>D.value).join(""))&&void 0!==q?q:""}}class Pg extends rc{constructor(b,f,q,D){super("line",q,{command:b,style:D.style});this.skipBoundary=!0;this.body=f;this.position=D.position}static fromJson(b,f){return new Pg(b.command,b.body,f,b)}toJson(){return{...super.toJson(),
position:this.position}}render(b){b=new be(b,this.style,"cramp");const f=rc.createBox(b,this.body);if(!f)return null;const q=b.metrics.defaultRuleThickness/b.scalingFactor,D=new Vc(null,{classes:this.position+"-line"});let J;return D.height=q,D.maxFontSize=1.125*q*b.scalingFactor,J="overline"===this.position?new tf({shift:0,children:[{box:f},3*q,{box:D},q]}):new tf({top:f.height,children:[q,{box:D},3*q,{box:f}]}),this.caret&&(J.caret=this.caret),new Vc(J,{classes:this.position,type:"mord"})}}class Rf extends rc{constructor(b,
f,q,D){var J,M,W,ca;super(null!==(J=D.type)&&void 0!==J?J:"mop",q,{command:b,style:D.style,isFunction:null==D?void 0:D.isFunction});"string"==typeof f?this.value=f:this.body=f;this.captureSelection=null!==(M=D.captureSelection)&&void 0!==M&&M;this.hasArgument=null!==(W=D.hasArgument)&&void 0!==W&&W;this.variant=null==D?void 0:D.variant;this.variantStyle=null==D?void 0:D.variantStyle;this.subsupPlacement=null==D?void 0:D.limits;this.isExtensibleSymbol=null!==(ca=null==D?void 0:D.isExtensibleSymbol)&&
void 0!==ca&&ca}static fromJson(b,f){return new Rf(b.command,b.body?b.body:b.value,f,b)}toJson(){const b=super.toJson();return this.hasArgument&&(b.hasArgument=!0),this.variant&&(b.variant=this.variant),this.variantStyle&&(b.variantStyle=this.variantStyle),this.subsupPlacement&&(b.limits=this.subsupPlacement),this.isExtensibleSymbol&&(b.isExtensibleSymbol=!0),this.value&&(b.symbol=this.value),b}render(b){var f;let q;var D=0;let J=0;if(this.isExtensibleSymbol){D=b.isDisplayStyle&&"\\smallint"!==this.value;
if(q=new Vc(this.value,{fontFamily:D?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(D?"large-op":"small-op"),type:"mop",maxFontSize:b.scalingFactor}),!q)return null;q.right=q.italic;D=(q.height-q.depth)/2-.25*b.scalingFactor;J=q.italic;q.setStyle("color",this.style.color);q.setStyle("background-color",this.style.backgroundColor)}else if(this.body){if(q=rc.createBox(b,this.body,{newList:!0}),!q)return null;q.setStyle("color",this.style.color);q.setStyle("background-color",this.style.backgroundColor)}else q=
new Vc(this.value,{type:"mop",mode:"math",maxFontSize:b.scalingFactor,style:{color:this.style.color,backgroundColor:this.style.backgroundColor,letterShapeStyle:b.letterShapeStyle,variant:this.variant,variantStyle:this.variantStyle}});this.isExtensibleSymbol&&q.setTop(D);var M=q;if(this.superscript||this.subscript)M=null!==(f=this.subsupPlacement)&&void 0!==f?f:"auto",M="over-under"===M||"auto"===M&&b.isDisplayStyle?this.attachLimits(b,{base:q,baseShift:D,slant:J}):this.attachSupsub(b,{base:q});return this.caret&&
(M.caret=this.caret),new Vc(this.bind(b,M),{type:"mop",classes:"op-group"+(this.isSelected?" ML__selected":"")})}serialize(b){if("​"===this.value)return this.supsubToLatex(b);const f=[];return f.push(this.command),this.hasArgument&&f.push(`{${this.bodyToLatex(b)}}`),this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&f.push("\\limits"),"adjacent"===this.subsupPlacement&&f.push("\\nolimits"),"auto"===this.subsupPlacement&&f.push("\\displaylimits")),f.push(this.supsubToLatex(b)),va(f)}}
class mg extends rc{constructor(b,f,q,D){var J,M;super("overlap",q,{command:b,style:null==D?void 0:D.style});this.skipBoundary=!0;this.body="string"==typeof f?[new rc("mord",q,{value:f})]:f;this.align=null!==(J=null==D?void 0:D.align)&&void 0!==J?J:"left";this.boxType=null!==(M=null==D?void 0:D.boxType)&&void 0!==M?M:"mord"}static fromJson(b,f){return new mg(b.command,b.body,f,b)}toJson(){const b={};return this.align&&(b.align=this.align),this.boxType&&(b.boxType=this.boxType),{...super.toJson(),
...b}}render(b){const f=rc.createBox(b,this.body,{classes:"inner"});return f?(this.caret&&(f.caret=this.caret),this.bind(b,new Vc([f,new Vc(null,{classes:"fix"})],{classes:"left"===this.align?"llap":"rlap",type:this.boxType}))):null}}class kg extends rc{constructor(b,f,q,D){var J,M,W,ca;super("phantom",q,{command:b,style:D.style});this.captureSelection=!0;this.body=f;this.isInvisible=null!==(J=D.isInvisible)&&void 0!==J&&J;this.smashDepth=null!==(M=D.smashDepth)&&void 0!==M&&M;this.smashHeight=null!==
(W=D.smashHeight)&&void 0!==W&&W;this.smashWidth=null!==(ca=D.smashWidth)&&void 0!==ca&&ca}static fromJson(b,f){return new kg(b.command,b.body,f,b)}toJson(){const b={};return this.isInvisible&&(b.isInvisible=!0),this.smashDepth&&(b.smashDepth=!0),this.smashHeight&&(b.smashHeight=!0),this.smashWidth&&(b.smashWidth=!0),{...super.toJson(),...b}}render(b){var f=new be(b,{isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return rc.createBox(f,this.body,{classes:"inner"});f=rc.createBox(this.isInvisible?
f:b,this.body);if(!f)return null;if(this.smashWidth){var q=new Vc(null,{classes:"fix"});return(new Vc([f,q],{classes:"rlap"})).wrap(b)}if(!this.smashHeight&&!this.smashDepth)return f;if(this.smashHeight&&(f.height=0),this.smashDepth&&(f.depth=0),f.children)for(q of f.children)this.smashHeight&&(q.height=0),this.smashDepth&&(q.depth=0);return(new tf({firstBaseline:[{box:f}]},{type:"mord"})).wrap(b)}}class le extends rc{constructor(b,f,q){var D;super("rule",f,{command:b,style:q.style});this.shift=null!==
(D=q.shift)&&void 0!==D?D:{dimension:0};this.height=q.height;this.width=q.width}static fromJson(b,f){return new le(b.command,f,b)}toJson(){const b={height:this.height,width:this.width};return this.shift&&(b.shift=this.shift),{...super.toJson(),...b}}render(b){const f=new be(b,this.style,"textstyle"),q=wa(this.shift),D=wa(this.width),J=wa(this.height),M=new Vc(null,{classes:"rule",type:"mord"});return M.setStyle("border-right-width",D,"em"),M.setStyle("border-top-width",J,"em"),M.setStyle("border-color",
this.style.color),M.setStyle("vertical-align",q,"em"),this.isSelected&&M.setStyle("opacity","50%"),M.width=D,M.height=J+q,M.depth=-q,this.bind(b,M),this.caret&&(M.caret=this.caret),M.wrap(f)}serialize(b){var f;b=null!==(f=this.command)&&void 0!==f?f:"";return this.shift&&(b+=`[${Ba(this.shift)}]`),b+=`{${Ba(this.width)}}{${Ba(this.height)}}`,b}}class jd extends rc{constructor(b,f,q){var D;super("surd",f,{command:b,mode:null!==(D=q.mode)&&void 0!==D?D:"math",style:q.style,displayContainsHighlight:!0});
this.body=q.body;this.above=q.index}static fromJson(b,f){return new jd(b.command,f,{...b,index:b.above})}toJson(){return super.toJson()}serialize(b){let f="";return this.above&&(f+=`[${this.aboveToLatex(b)}]`),f+=`{${this.bodyToLatex(b)}}`,this.command+f}render(b){var f,q=new be(b,this.style,"cramp"),D=null!==(f=rc.createBox(q,this.body,{style:this.style,newList:!0}))&&void 0!==f?f:new Vc(null),J=q.scalingFactor;q=q.metrics.defaultRuleThickness/J;var M=b.isDisplayStyle?.431:q;f=new Vc(null,{classes:"ML__sqrt-line",
style:this.style,height:q});let W=J*(q+M/4);J=Math.max(2*J*M,D.height+D.depth)+W+q;M=new be(b,this.style);const ca=this.isSelected?" ML__selected":"";J=this.bind(M,new Vc(Sa("","\\surd",J,!1,M,{classes:ca}),{classes:"ML__sqrt-sign"+ca,style:this.style}));if(!J)return null;M=J.height+J.depth-q;M>D.height+D.depth+W&&(W=(W+M-(D.height+D.depth))/2);J.setTop(J.height-D.height-W);D=this.bind(b,(new tf({firstBaseline:[{box:new Vc(D)},W-2*q,{box:f},q]})).wrap(b));q=rc.createBox(new be(b,this.style,"scriptscriptstyle"),
this.above,{style:this.style,newList:!0});if(!q)return D=new Vc([J,D],{classes:this.containsCaret?"ML__contains-caret":"",type:"mord"}),this.caret&&(D.caret=this.caret),this.bind(b,D.wrap(b));q=new tf({shift:-.6*(Math.max(J.height,D.height)-Math.max(J.depth,D.depth)),children:[{box:q}]});D=new Vc([new Vc(q,{classes:"ML__sqrt-index"}),J,D],{type:"mord",classes:this.containsCaret?"ML__contains-caret":""});return D.height=J.height,D.depth=J.depth,this.caret&&(D.caret=this.caret),this.bind(b,D.wrap(b))}}
const fg={"p@":"1pt ","z@":"0pt",maxdimen:"16383.99999pt",hfuzz:"0.1pt",vfuzz:"0.1pt",overfullrule:"5pt",hsize:"6.5in",vsize:"8.9in",parindent:"20pt",maxdepth:"4pt",splitmaxdepth:"\\maxdimen",boxmaxdepth:"\\maxdimen",delimitershortfall:"5pt",nulldelimiterspace:"1.2pt",scriptspace:"0.5pt",topskip:"10pt",splittopskip:"10pt",normalbaselineskip:"12pt",normallineskip:"1pt",normallineskiplimit:"0pt",jot:"3pt",doublerulesep:"2pt",arrayrulewidth:"0.4pt",arraycolsep:"5pt",fboxsep:"3pt",fboxrule:"0.4pt"},Yh=
{"z@skip":"0pt plust0pt minus0pt",hideskip:"-1000pt plust 1fill","@flushglue":"0pt plust 1fill",parskip:"0pt plus 1pt",abovedisplayskip:"12pt plus 3pt minus 9pt",abovedisplayshortskip:"0pt plus 3pt",belowdisplayskip:"12pt plus 3pt minus 9pt",belowdisplayshortskip:"7pt plus 3pt minus 4pt",parfillskip:"0pt plus 1fil",thinmuskip:"3mu",medmuskip:"4mu plus 2mu minus 4mu",thickmuskip:"5mu plus 5mu",smallskipamount:"3pt plus1pt minus1pt",medskipamount:"6pt plus2pt minus2pt",bigskipamount:"12pt plus4pt minus4pt"},
Di={pretolerance:100,tolerance:200,hbadness:1E3,vbadness:1E3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1E4,doublehyphendemerits:1E4,finalhyphendemerits:5E3,adjdemerits:1E4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,
baselineSkip:1.2,arraystretch:"",month:(new Date).getMonth()+1,day:(new Date).getDate(),year:(new Date).getFullYear()};let Qg;class Ph extends rc{constructor(b,f,q,D){super("tooltip",q,{command:null==D?void 0:D.command,mode:"math",serialize:null==D?void 0:D.serialize,style:null==D?void 0:D.style,displayContainsHighlight:!0});this.body=b;b=Sb();this.tooltip=new rc("root",b,{style:{}});this.tooltip.body=f;this.skipBoundary=!0;this.captureSelection=!1}static fromJson(b,f){return new Ph(b.body,Yc(b.tooltip,
f),f,b)}toJson(){var b;const f=null===(b=this.tooltip.body)||void 0===b?void 0:b.filter(q=>"first"!==q.type).map(q=>q.toJson());return{...super.toJson(),tooltip:f}}render(b){var f=rc.createBox(b,this.body,{style:this.style});if(!f)return null;const q=$a(Fb(new Vc(this.tooltip.render(new be({registers:b.registers},{fontSize:5},"displaystyle")),{classes:"ML__tooltip-content"})));f=new Vc([q,f],{classes:"ML__tooltip-container"});return this.caret&&(f.caret=this.caret),this.bind(b,f)}serialize(b){return`${this.command}{${this.bodyToLatex(b)}}{${rc.serialize(this.tooltip.body,
b)}}`}}class Ei extends rc{constructor(b,f){super("choice",f);this.choices=b;this.skipBoundary=!0}static fromJson(b,f){return new Ei([Yc(b.choices[0],f),Yc(b.choices[1],f),Yc(b.choices[2],f),Yc(b.choices[3],f)],f)}toJson(){const b=[];for(const f of this.choices)b.push(f.filter(q=>"first"!==q.type).map(q=>q.toJson()));return{...super.toJson(),choices:b}}render(b){const f=rc.createBox(b,this.choices[Math.floor(b.mathstyle.id/2)]);return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){return`\\mathchoice{${rc.serialize(this.choices[0],
b)}}{${rc.serialize(this.choices[1],b)}}{${rc.serialize(this.choices[2],b)}}{${rc.serialize(this.choices[3],b)}}`}}ea("mathtip","{:math}{:math}",{createAtom:(b,f,q,D)=>new Ph(f[0],f[1],D,{command:b,content:"math",style:q})});ea("texttip","{:math}{:text}",{createAtom:(b,f,q,D)=>new Ph(f[0],f[1],D,{command:b,content:"text",style:q})});ea("error","{:math}",{createAtom:(b,f,q,D)=>new lf(f[0],D,{mode:"math",command:"\\error",customClass:"ML__error",style:q,serialize:(J,M)=>`\\error{${J.bodyToLatex(M)}}`})});
ea("ensuremath","{:math}",{createAtom:(b,f,q,D)=>new lf(f[0],D,{mode:"math",latexOpen:"\\ensuremath{",latexClose:"}",style:q})});ea("color","{:string}",{applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimColor:f[0],color:null!==(J=null===(D=q.colorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("textcolor","{:string}{content:auto*}",{applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimColor:b,color:null!==(J=null===(D=q.colorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("boxed",
"{content:math}",{createAtom:(b,f,q,D)=>new Xf(b,f[0],D,{framecolor:"black",style:q})});ea("colorbox","{:string}{content:auto*}",{applyMode:"text",applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimBackgroundColor:f[0],backgroundColor:null!==(J=null===(D=q.backgroundColorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{applyMode:"text",createAtom:(b,f,q,D)=>{var J,M,W,ca;const fa=f[0],xa=f[1];return new Xf(b,f[2],
D,{verbatimFramecolor:fa,framecolor:null!==(M=null===(J=D.colorMap)||void 0===J?void 0:J.call(D,fa))&&void 0!==M?M:fa,verbatimBackgroundcolor:f[1],backgroundcolor:null!==(ca=null===(W=D.backgroundColorMap)||void 0===W?void 0:W.call(D,xa))&&void 0!==ca?ca:xa,style:q,serialize:(ta,Ma)=>{var Pa,db;return`${ta.command}{${null!==(Pa=ta.verbatimFramecolor)&&void 0!==Pa?Pa:ta.framecolor}{${null!==(db=ta.verbatimBackgroundcolor)&&void 0!==db?db:ta.backgroundcolor}}{${ta.bodyToLatex(Ma)}}`}})}});ea("bbox",
"[:bbox]{body:auto}",{createAtom:(b,f,q,D)=>{if(f[0]){const J=f[0];return new Xf(b,f[1],D,{padding:J.padding,border:J.border,backgroundcolor:J.backgroundcolor,style:q,serialize:(M,W)=>{var ca;let fa=b;if(Number.isFinite(M.padding)||void 0!==M.border||void 0!==M.backgroundcolor){const xa=[];M.padding&&xa.push(M.padding);M.border&&xa.push(`border: ${M.border}`);(M.verbatimBackgroundcolor||M.backgroundcolor)&&xa.push(null!==(ca=M.verbatimBackgroundcolor)&&void 0!==ca?ca:M.backgroundcolor);fa+=`[${xa.join(",")}]`}return fa+
`{${M.bodyToLatex(W)}}`}})}return new Xf(b,f[1],D,{style:q})}});ea(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:(b,f,q,D)=>new lf(f[0],D,{latexOpen:`{${b} `,latexClose:"}",style:q,mathstyleName:b.slice(1)})});ea("tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" "),"",{applyStyle:(b,f)=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[b]})});
ea("fontseries","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontSeries:f[0]})});ea("fontshape","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontShape:f[0]})});ea("fontfamily","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontFamily:f[0]})});ea("selectfont","",{ifMode:"text",applyStyle:(b,f)=>({})});ea("bf","",{applyStyle:(b,f)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})});ea(["boldsymbol","bm"],"{:math*}",{applyMode:"math",createAtom:(b,f,q,D)=>new lf(f[0],D,{latexOpen:`${b}{`,latexClose:"}",
style:q,customClass:"ML__boldsymbol"})});ea("bold","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variantStyle:"bold"})});ea("bfseries","",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"b"})});ea("mdseries","",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"m"})});ea("upshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n"})});ea("slshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sl"})});ea("scshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sc"})});ea("textbf",
"{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"b"})});ea("textmd","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"m"})});ea("textup","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n"})});ea("textnormal","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n",fontSeries:"m"})});ea("textsl","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sl"})});ea("textit","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"it"})});ea("textsc","{:text*}",
{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sc"})});ea("textrm","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"roman"})});ea("textsf","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"sans-serif"})});ea("texttt","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"monospace"})});ea("mathbf","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"bold"})});ea("mathit","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"main",variantStyle:"italic"})});
ea("mathnormal","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"italic"})});ea("mathbfit","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"main",variantStyle:"bolditalic"})});ea("mathrm","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"up"})});ea("mathsf","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"sans-serif",variantStyle:"up"})});ea("mathtt","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"monospace",
variantStyle:"up"})});ea("it","",{applyStyle:(b,f)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})});ea("rmfamily","",{applyStyle:(b,f)=>({fontFamily:"roman"})});ea("sffamily","",{applyStyle:(b,f)=>({fontFamily:"sans-serif"})});ea("ttfamily","",{applyStyle:(b,f)=>({fontFamily:"monospace"})});ea(["Bbb","mathbb"],"{:math*}",{applyStyle:(b,f)=>({variant:"double-struck",variantStyle:"up"})});ea(["frak","mathfrak"],"{:math*}",{applyStyle:(b,f)=>({variant:"fraktur",variantStyle:"up"})});
ea("mathcal","{:math*}",{applyStyle:(b,f)=>({variant:"calligraphic",variantStyle:"up"})});ea("mathscr","{:math*}",{applyStyle:(b,f)=>({variant:"script",variantStyle:"up"})});ea("mbox","{:text}",{ifMode:"math",createAtom:(b,f,q,D)=>new lf(f[0],D,{changeMode:!0,style:q,mode:"text",command:b,serialize:(J,M)=>`\\mbox{${J.bodyToLatex({...M,skipModeCommand:!0})}}`})});ea("text","{:text}",{ifMode:"math",applyMode:"text"});ea("class","{name:string}{content:auto*}",{createAtom:(b,f,q,D)=>new lf(f[1],D,{customClass:f[0],
style:q})});ea("cssId","{id:string}{content:auto}",{createAtom:(b,f,q,D)=>new lf(f[1],D,{cssId:f[0],style:q})});ea("htmlData","{data:string}{content:auto}",{createAtom:(b,f,q,D)=>new lf(f[1],D,{htmlData:f[0],style:q})});ea("htmlStyle","{data:string}{content:auto}",{createAtom:(b,f,q,D)=>new lf(f[1],D,{htmlStyle:f[0],style:q})});ea("em","{:auto*}",{createAtom:(b,f,q,D)=>new lf(f[0],D,{latexOpen:"\\em",latexClose:"",customClass:"ML__emph",style:q})});ea("emph","{:auto}",{createAtom:(b,f,q,D)=>new lf(f[0],
D,{latexOpen:"\\emph{",latexClose:"}",customClass:"ML__emph",style:q})});const Fi={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",
size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};ea("bigl Bigl biggl Biggl bigr Bigr biggr Biggr bigm Bigm biggm Biggm big Big bigg Bigg".split(" "),"{:delim}",{createAtom:(b,f,q,D)=>new ti(b,f[0],D,{size:Fi[b].size,delimClass:Fi[b].mclass,style:q})});ea(["hspace","hspace*"],"{width:glue}",{createAtom:(b,f,q,D)=>{var J;return new Og(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea(["mkern","kern"],"{width:glue}",{createAtom:(b,
f,q,D)=>{var J;return new Og(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea("mspace","{width:glue}",{createAtom:(b,f,q,D)=>{var J;return new Og(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea("mathop","{:auto}",{createAtom:(b,f,q,D)=>new Rf(b,f[0],D,{type:"mop",captureSelection:!0,limits:"over-under",isFunction:!0,hasArgument:!0,style:q})});ea("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:(b,f,q,D)=>new Ei(f,D)});ea("mathbin mathrel mathopen mathclose mathpunct mathord mathinner".split(" "),
"{:auto}",{createAtom:(b,f,q,D)=>new Rf(b,f[0],D,{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[b],captureSelection:!0,hasArgument:!0,style:q})});ea(["operatorname","operatorname*"],"{operator:math}",{createAtom:(b,f,q,D)=>{b=new Rf(b,f[0],D,{isFunction:!0,hasArgument:!0,limits:"\\operatorname"===b?"adjacent":"over-under",style:q});return b.captureSelection=!0,b.body&&b.body.forEach(J=>{var M;
"first"!==J.type&&(J.type="mord",J.value=null!==(M={"∗":"*","−":"-"}[J.value])&&void 0!==M?M:J.value,J.isFunction=!1,J.style.variant||J.style.variantStyle||(J.style.variant="main",J.style.variantStyle="up"))}),b}});class wh extends rc{constructor(b,f,q){b=Number.parseInt(b);Number.isFinite(b)||(b=10067);super("mord",q,{value:String.fromCodePoint(b),style:f});this.codepoint=b}serialize(b){return'\\unicode"'+("000000"+this.codepoint.toString(16)).toUpperCase().slice(-6)}}ea("unicode","{charcode:number}",
{createAtom:(b,f,q,D)=>new wh(f[0],q,D)});ea("rule","[raise:dimen]{width:dimen}{thickness:dimen}",{createAtom:(b,f,q,D)=>new le(b,D,{shift:f[0],width:f[1],height:f[2],style:q})});ea("overline","{:auto}",{createAtom:(b,f,q,D)=>new Pg(b,f[0],D,{position:"overline",style:q})});ea("underline","{:auto}",{createAtom:(b,f,q,D)=>new Pg(b,f[0],D,{position:"underline",style:q})});ea("overset","{above:auto}{base:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{above:f[0],body:f[1],skipBoundary:!1,style:q,boxType:ed(f[1]),
serialize:(J,M)=>`${J.command}{${J.aboveToLatex(M)}}{${J.bodyToLatex(M)}}`})});ea("underset","{below:auto}{base:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{below:f[0],body:f[1],skipBoundary:!1,style:q,boxType:ed(f[1]),serialize:(J,M)=>`${b}{${J.belowToLatex(M)}}{${J.bodyToLatex(M)}}`})});ea("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{above:f[0],below:f[1],body:f[2],skipBoundary:!1,style:q,boxType:ed(f[2]),serialize:(J,M)=>`${J.command}{${J.aboveToLatex(M)}}{${J.bodyToLatex(M)}}`})});
ea(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[2],above:f[1],below:f[0],skipBoundary:!1,style:q,boxType:"\\stackrel"===b?"mrel":"mbin",serialize:(J,M)=>`${J.command}{${J.aboveToLatex(M)}}{${J.bodyToLatex(M)}}`})});ea("smash","[:string]{:auto}",{createAtom:(b,f,q,D)=>f[0]?new kg(b,f[1],D,{smashHeight:f[0].includes("t"),smashDepth:f[0].includes("b"),style:q}):new kg(b,f[1],D,{smashHeight:!0,smashDepth:!0,style:q})});ea(["vphantom"],"{:auto*}",
{createAtom:(b,f,q,D)=>new kg(b,f[1],D,{isInvisible:!0,smashWidth:!0,style:q})});ea(["hphantom"],"{:auto*}",{createAtom:(b,f,q,D)=>new kg(b,f[1],D,{isInvisible:!0,smashHeight:!0,smashDepth:!0,style:q})});ea(["phantom"],"{:auto*}",{createAtom:(b,f,q,D)=>new kg(b,f[1],D,{isInvisible:!0,style:q})});ea("not","{:math}",{createAtom:(b,f,q,D)=>{if(1>f.length||null===f[0])return new rc("mrel",D,{command:b,style:q,value:""});const J=f[0];return new lf([new mg(b,"",D,{align:"right",style:q,boxType:"mrel"}),
...J],D,{boxType:"mrel",captureSelection:!0,command:"\\not",serialize:(M,W)=>{M=rc.serialize(J,W);return 1!==M.length||/[a-zA-Z]/.test(M)?`\\not{${M}}`:"\\not"+M}})}});ea(["ne","neq"],"",{createAtom:(b,f,q,D)=>new lf([new mg(b,"",D,{align:"right",style:q,boxType:"mrel"}),new rc("mrel",D,{style:q,value:"\x3d"})],D,{boxType:"mrel",captureSelection:!0,serialize:()=>b,command:b})});ea("rlap","{:auto}",{createAtom:(b,f,q,D)=>new mg(b,f[0],D,{align:"right",style:q})});ea("llap","{:auto}",{createAtom:(b,
f,q,D)=>new mg(b,f[0],D,{style:q})});ea("mathllap","{:auto}",{createAtom:(b,f,q,D)=>new mg(b,f[0],D,{style:q})});ea("mathrlap","{:auto}",{createAtom:(b,f,q,D)=>new mg(b,f[0],D,{align:"right",style:q})});const xh={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};ea(Object.keys(xh),"{body:auto}",{createAtom:(b,f,q,D)=>new Bg(b,f[0],D,{accentChar:xh[b.slice(1)],style:q})});ea(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:(b,f,q,
D)=>{const J=Q(f[0]);return new Bg(b,f[0],D,{style:q,svgAccent:b.slice(1)+(5<J.length?"4":"112233".split("")[J.length])})}});ea(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:(b,f,q,D)=>new Bg(b,f[0],D,{style:q,svgAccent:"overarc"})});ea(["underarc","underparen"],"{body:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[0],style:q,svgBelow:"underarc"})});ea("utilde","{body:auto}",{createAtom:(b,f,q,D)=>{const J=Q(f[0]);return new If(b,D,{body:f[0],svgBelow:"widetilde"+(5<J.length?"4":
"112233".split("")[J.length]),style:q,boxType:ed(f[0])})}});ea("^","{:string}",{createAtom:(b,f,q,D)=>{var J;return new rc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[f[0]])&&void 0!==J?J:"^"})}});ea("`","{:string}",{createAtom:(b,f,q,D)=>{var J;return new rc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[f[0]])&&
void 0!==J?J:"`"})}});ea("'","{:string}",{createAtom:(b,f,q,D)=>{var J;return new rc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[f[0]])&&void 0!==J?J:"^"})}});ea("~","{:string}",{createAtom:(b,f,q,D)=>{var J;return new rc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[f[0]])&&void 0!==J?J:"´"})}});ea("c","{:string}",{createAtom:(b,
f,q,D)=>{var J;return new rc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={c:"ç",C:"Ç"}[f[0]])&&void 0!==J?J:""})}});ea("enclose","{notation:string}[style:string]{body:auto}",{createAtom:(b,f,q,D)=>{var J;q={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:q};if(f[1]){var M=f[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const ca of M)(M=
ca.match(/\s*(\S+)\s+(\S+)\s+(.*)/))?(q.strokeWidth=M[1],q.strokeStyle=M[2],q.strokeColor=M[3]):(M=ca.match(/\s*([a-z]*)\s*=\s*"(.*)"/))&&("mathbackground"===M[1]?q.backgroundcolor=M[2]:"mathcolor"===M[1]?q.strokeColor=M[2]:"padding"===M[1]?q.padding=M[2]:"shadow"===M[1]&&(q.shadow=M[2]));"dashed"===q.strokeStyle?q.svgStrokeStyle="5,5":"dotted"===q.strokeStyle&&(q.svgStrokeStyle="1,5")}q.borderStyle=`${q.strokeWidth} ${q.strokeStyle} ${q.strokeColor}`;const W={};return(null!==(J=f[0])&&void 0!==J?
J:"").split(/[, ]/).filter(ca=>0<ca.length).forEach(ca=>{W[ca.toLowerCase()]=!0}),new eh(b,f[2],W,D,q)}});ea("cancel","{body:auto}",{createAtom:(b,f,q,D)=>new eh(b,f[0],{updiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});ea("bcancel","{body:auto}",{createAtom:(b,f,q,D)=>new eh(b,f[0],{downdiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",
borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});ea("xcancel","{body:auto}",{createAtom:(b,f,q,D)=>new eh(b,f[0],{updiagonalstrike:!0,downdiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});O("math","",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{mathstyleName:"textstyle"})));
O("displaymath","",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{mathstyleName:"textstyle"})));da("array","{columns:colspec}",(b,f,q,D,J)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{columns:J[0],mathstyleName:"textstyle"})));da(["equation","equation*","subequations"],"",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{columns:[{align:"c"}]})));da("multline","",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,
q,D,{columns:[{align:"m"}]})));da(["align","align*","aligned","eqnarray"],"",(b,f,q,D)=>{let J=0;bd(q)&&(q=[[[new rc("first",b),new We(b)],[new rc("first",b),new We(b)]]]);for(var M of q)J=Math.max(J,M.length);M=[{gap:0},{align:"r"},{gap:.25},{align:"l"}];let W=2;for(;W<J;)M.push({gap:1}),M.push({align:"r"}),M.push({gap:.25}),M.push({align:"l"}),W+=2;return M.push({gap:0}),new Xe(b,f,q,D,{arraycolsep:0,columns:M,colSeparationType:"align",jot:.3,minColumns:2})});da("split","",(b,f,q,D)=>(bd(q)&&(q=
[[[new rc("first",b),new We(b)],[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{columns:[{align:"r"},{align:"l"}],minColumns:2})));da(["gather","gathered"],"",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{columns:[{gap:.25},{align:"c"},{gap:0}],colSeparationType:"gather"})));da("matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix matrix* pmatrix* bmatrix* Bmatrix* vmatrix* Vmatrix*".split(" "),"[columns:colspec]",(b,f,q,D,J)=>{var M;bd(q)&&(q=[[[new rc("first",b),new We(b)]]]);
let W=".",ca=".";switch(f){case "pmatrix":case "pmatrix*":W="(";ca=")";break;case "bmatrix":case "bmatrix*":W="[";ca="]";break;case "Bmatrix":case "Bmatrix*":W="\\lbrace";ca="\\rbrace";break;case "vmatrix":case "vmatrix*":ca=W="\\vert";break;case "Vmatrix":case "Vmatrix*":ca=W="\\Vert";break;case "matrix":case "matrix*":ca=W="."}return new Xe(b,f,q,D,{mathstyleName:"textstyle",leftDelim:W,rightDelim:ca,columns:null!==(M=J[0])&&void 0!==M?M:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},
{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]})});da(["smallmatrix","smallmatrix*"],"[columns:colspec]",(b,f,q,D,J)=>{var M;return bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{mathstyleName:"scriptstyle",columns:null!==(M=J[0])&&void 0!==M?M:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],colSeparationType:"small",arraystretch:.5})});da(["cases","dcases"],"",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",
b),new We(b)]]]),new Xe(b,f,q,D,{mathstyleName:"dcases"===f?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]})));da("rcases","",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]})));O("center","",(b,f,q,D)=>(bd(q)&&(q=[[[new rc("first",b),new We(b)]]]),new Xe(b,f,q,D,{columns:[{align:"c"}]})));ea("overrightarrow overleftarrow Overrightarrow overleftharpoon overrightharpoon overleftrightarrow overlinesegment overgroup".split(" "),
"{:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:q,svgAbove:b.slice(1)})});ea("overbrace","{:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:q,svgAbove:b.slice(1)})});ea(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[0],skipBoundary:!1,
supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:q,svgBelow:b.slice(1)})});ea(["underbrace"],"{:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:q,svgBelow:b.slice(1)})});ea("xrightarrow xleftarrow xRightarrow xLeftarrow xleftharpoonup xleftharpoondown xrightharpoonup xrightharpoondown xlongequal xtwoheadleftarrow xtwoheadrightarrow xleftrightarrow xLeftrightarrow xrightleftharpoons xleftrightharpoons xhookleftarrow xhookrightarrow xmapsto xtofrom xrightleftarrows xrightequilibrium xleftequilibrium".split(" "),
"[:auto]{:auto}",{createAtom:(b,f,q,D)=>{var J,M;return new If(b,D,{style:q,svgBody:b.slice(1),above:0===(null===(J=f[1])||void 0===J?void 0:J.length)?void 0:f[1],below:null!==(M=f[0])&&void 0!==M?M:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"mrel",serialize:(W,ca)=>b+(W.hasEmptyBranch("below")?"":`[${W.belowToLatex(ca)}]`)+`{${W.aboveToLatex(ca)}}${W.supsubToLatex(ca)}`})}});ea("arccos arcsin arctan arctg arcctg arg ch cos cosh cot cotg coth ctg cth csc cosec dim exp hom inf ker lb lg ln log Pr sec sh sin sinh sup tan tanh tg th arcsec arccsc arsinh arcosh artanh arcsech arccsch".split(" "),
"",{isFunction:!0,createAtom:(b,f,q,D)=>new Rf(b,b.slice(1),D,{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up",style:q})});ea(["liminf","limsup"],"",{createAtom:(b,f,q,D)=>new Rf(b,{"\\liminf":"lim inf","\\limsup":"lim sup"}[b],D,{limits:"over-under",variant:"main",style:q})});ea(["lim","mod"],"",{createAtom:(b,f,q,D)=>new Rf(b,b.slice(1),D,{limits:"over-under",variant:"main",style:q})});ea(["det","max","min"],"",{isFunction:!0,createAtom:(b,f,q,D)=>new Rf(b,b.slice(1),D,{limits:"over-under",
isFunction:!0,variant:"main",style:q})});ea(["ang"],"{:math}",{isFunction:!0,createAtom:(b,f,q,D)=>new lf([...f[0],new rc("mord",D,{value:"°",style:q})],D,{mode:"math",latexOpen:"\\ang{",latexClose:"}",style:q})});ea("sqrt","[index:auto]{radicand:auto}",{createAtom:(b,f,q,D)=>new jd(b,D,{body:f[1],index:f[0],style:q})});ea("frac dfrac tfrac cfrac binom dbinom tbinom".split(" "),"{numerator}{denominator}",{createAtom:(b,f,q,D)=>{q={style:q};switch(b){case "\\dfrac":case "\\frac":case "\\tfrac":q.hasBarLine=
!0;break;case "\\atopfrac":q.hasBarLine=!1;break;case "\\dbinom":case "\\binom":case "\\tbinom":q.hasBarLine=!1,q.leftDelim="(",q.rightDelim=")"}switch(b){case "\\dfrac":case "\\dbinom":q.mathstyleName="displaystyle";break;case "\\tfrac":case "\\tbinom":q.mathstyleName="textstyle";break;case "\\cfrac":q.hasBarLine=!0,q.continuousFraction=!0}return new vh(b,f[0],f[1],D,q)}});ea(["brace","brack"],"",{infix:!0,createAtom:(b,f,q,D)=>new vh(b,f[0],f[1],D,{hasBarLine:!1,leftDelim:"\\brace"===b?"\\lbrace":
"\\lbrack",rightDelim:"\\brace"===b?"\\rbrace":"\\rbrack",style:q,serialize:(J,M)=>va([J.aboveToLatex(M),J.command,J.belowToLatex(M)])})});ea(["over","atop","choose"],"",{infix:!0,createAtom:(b,f,q,D)=>{let J,M;return"\\choose"===b&&(J="(",M=")"),new vh(b,f[0],f[1],D,{hasBarLine:"\\over"===b,leftDelim:J,rightDelim:M,style:q,serialize:(W,ca)=>va([W.aboveToLatex(ca),W.command,W.belowToLatex(ca)])})}});ea(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",
{infix:!0,createAtom:(b,f,q,D)=>new vh(b,f[0],f[1],D,{leftDelim:f[2],rightDelim:f[3],hasBarLine:!1,style:q,serialize:(J,M)=>`${J.aboveToLatex(M)} ${J.command}${J.leftDelim}${J.rightDelim}${J.belowToLatex(M)}`})});ea("pdiff","{numerator}{denominator}",{createAtom:(b,f,q,D)=>new vh(b,f[0],f[1],D,{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂",style:q})});ea("sum prod bigcup bigcap coprod bigvee bigwedge biguplus bigotimes bigoplus bigodot bigsqcup smallint intop".split(" "),"",{createAtom:(b,f,q,D)=>
new Rf(b,{coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[b.slice(1)],D,{isExtensibleSymbol:!0,limits:"auto",variant:"main",style:q})});const Gi={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};ea(Object.keys(Gi),
"",{createAtom:(b,f,q,D)=>new Rf(b,Gi[b.slice(1)],D,{limits:"adjacent",isExtensibleSymbol:!0,style:q,variant:{"⋒":"ams","⋓":"ams"}[Gi[b.slice(1)]]})});ea(["Re","Im"],"",{createAtom:(b,f,q,D)=>new Rf(b,{"\\Re":"ℜ","\\Im":"ℑ"}[b],D,{limits:"adjacent",style:q,isFunction:!0,variant:"fraktur"})});ea("middle","{:delim}",{createAtom:(b,f,q,D)=>new uh(b,f[0],D,{size:1,style:q})});H("0123456789/@.?!");P(65,90);P(97,122);H([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],
["\\top",8868],["\\bot",8869]]);H([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\\x26",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826],["\\parallelogram",9649]]);H([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]);H([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",
8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",
8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");H([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,
"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",
10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);H([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",
8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],
["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nrightarrow",8603],["\\nleftarrow",8602],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",
57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",
57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",
8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",
10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");H([["+",43],["-",8722],["−",
8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",
8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");H([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",
8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");H([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],
["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",
937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]);H([["\x3d",61],["\x3c",60],["\\lt",60],["\x3e",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",
8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");H([["\\lnot",172],
["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");H([["\\wp",8472],["\\aleph",8501]]);H([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",
9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");H([["\\ ",160],["~",160],["\\space",160]],"space");ea("! , : ; enskip enspace quad qquad".split(" "),"",{createAtom:(b,f,q,D)=>new Og(b,
q,D)});H([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");H([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");H([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);const ui={"\x26":"\\\x26","%":"\\%","''":"^{\\doubleprime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",
sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",
th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},
AA:"\\forall",EE:"\\exists","!EE":"\\nexists","\x26\x26":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","≠":"\\ne","!\x3d":"\\ne","≥":"\\ge","\x3e\x3d":"\\ge","≤":"\\le","\x3c\x3d":"\\le","\x3c\x3c":"\\ll","\x3e\x3e":"\\gg","~~":"\\approx","≈":"\\approx","?\x3d":"\\questeq","÷":"\\div","¬":"\\neg",":\x3d":"\\coloneq","::":"\\Colon",
"(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\nu"},"µ":"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},
rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","Ω":"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",
gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","-\x3e...":"\\to\\cdots","-\x3e":"\\to",
"|-\x3e":"\\mapsto","--\x3e":"\\longrightarrow","\x3c--":"\\longleftarrow","\x3d\x3e":"\\Rightarrow","\x3d\x3d\x3e":"\\Longrightarrow","\x3c\x3d\x3e":"\\Leftrightarrow","\x3c-\x3e":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"},Ui=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],
["\\begin{equation*}","\\end{equation*}"]],vj=(b,f,q)=>(Ui.some(D=>f.startsWith(D[0])&&f.endsWith(D[1]))||(f=`$$ ${f} $$`),f);class Qe{constructor(b){Qe._registry[b]=this}static onPaste(b,f,q){var D;const J=new ClipboardEvent("paste",{clipboardData:q.clipboardData,cancelable:!0});return!(null===(D=f.host)||void 0===D||!D.dispatchEvent(J))&&Qe._registry[b].onPaste(f,q)}static onCopy(b,f){if(f.clipboardData){var q=b.model,D=q.selectionIsCollapsed?[0,q.lastOffset]:fc(q.selection),J=q.getAtoms(D);if(J.every(M=>
"text"===M.mode||!M.mode))f.clipboardData.setData("text/plain",J.filter(M=>M instanceof Gg).map(M=>M.value).join(""));else if(J.every(M=>"latex"===M.mode))f.clipboardData.setData("text/plain",q.getAtoms(D,{includeChildren:!0}).map(M=>{var W;return null!==(W=M.value)&&void 0!==W?W:""}).join(""));else{q=1===J.length&&void 0!==J[0].verbatimLatex?J[0].verbatimLatex:q.getValue(D,"latex-expanded");f.clipboardData.setData("application/x-latex",q);try{f.clipboardData.setData("text/plain",b.options.onExport(b,
q,D))}catch{}1!==J.length||"root"!==J[0].type&&"group"!==J[0].type||(J=J[0].body.filter(M=>"first"!==M.type));try{f.clipboardData.setData("application/json+mathlive",JSON.stringify(J.map(M=>M.toJson())))}catch{}if(b=b.computeEngine)try{b.jsonSerializationOptions={metadata:["latex"]};const M=b.parse(q),W=JSON.stringify(M.json);W&&f.clipboardData.setData("application/json",W)}catch{}}f.preventDefault()}}static insert(b,f,q,D={}){return Qe._registry[b].insert(f,q,D)}onPaste(b,f){return!1}insert(b,f,
q){return!1}}Qe._registry={};const Sf={"\\ne":"\x3cmo\x3e\x26ne;\x3c/mo\x3e","\\neq":"\x3cmo\x3e\x26neq;\x3c/mo\x3e","\\pm":"\x26#177;","\\times":"\x26#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉","\\vec":"\x26#x20d7;","\\acute":"\x26#x00b4;","\\grave":"\x26#x0060;","\\dot":"\x26#x02d9;","\\ddot":"\x26#x00a8;","\\tilde":"\x26#x007e;","\\bar":"\x26#x00af;",
"\\breve":"\x26#x02d8;","\\check":"\x26#x02c7;","\\hat":"\x26#x005e;"},lh={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'\x3cphoneme alphabet\x3d"ipa" ph\x3d"eɪ"\x3ea\x3c/phoneme\x3e',A:'capital \x3cphoneme alphabet\x3d"ipa" ph\x3d"eɪ"\x3eA\x3c/phoneme\x3e',"+":"plus ","-":"minus ",";":'\x3cbreak time\x3d"150ms"/\x3e semi-colon \x3cbreak time\x3d"150ms"/\x3e',",":'\x3cbreak time\x3d"150ms"/\x3e comma  \x3cbreak time\x3d"150ms"/\x3e',
"|":'\x3cbreak time\x3d"150ms"/\x3eVertical bar\x3cbreak time\x3d"150ms"/\x3e',"(":'\x3cbreak time\x3d"150ms"/\x3eOpen paren. \x3cbreak time\x3d"150ms"/\x3e',")":'\x3cbreak time\x3d"150ms"/\x3e Close paren. \x3cbreak time\x3d"150ms"/\x3e',"\x3d":"equals ","\x3c":"is less than ","\\lt":"is less than ","\x3c\x3d":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ","\x3e":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ",
"\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'\x3cbreak time\x3d"150ms"/\x3e such that \x3cbreak time\x3d"200ms"/\x3e ',"\\colon":'\x3cbreak time\x3d"150ms"/\x3e such that \x3cbreak time\x3d"200ms"/\x3e ',"\\hbar":"etch bar ","\\iff":'\x3cbreak time\x3d"200ms"/\x3eif, and only if, \x3cbreak time\x3d"200ms"/\x3e',"\\Longleftrightarrow":'\x3cbreak time\x3d"200ms"/\x3eif, and only if, \x3cbreak time\x3d"200ms"/\x3e',"\\land":"and ","\\lor":"or ",
"\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3en\x3c/say-as\x3e',"\\C":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3ec\x3c/say-as\x3e',"\\Z":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3ez\x3c/say-as\x3e',"\\Q":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3eq\x3c/say-as\x3e',
"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'\x3cbreak time\x3d"150ms"/\x3eopen paren\x3cbreak time\x3d"150ms"/\x3e',"\\rparen":'\x3cbreak time\x3d"150ms"/\x3eclose paren\x3cbreak time\x3d"150ms"/\x3e',"\\lbrace":'\x3cbreak time\x3d"150ms"/\x3eopen brace\x3cbreak time\x3d"150ms"/\x3e',"\\{":'\x3cbreak time\x3d"150ms"/\x3eopen brace\x3cbreak time\x3d"150ms"/\x3e',"\\rbrace":'\x3cbreak time\x3d"150ms"/\x3eclose brace\x3cbreak time\x3d"150ms"/\x3e',
"\\}":'\x3cbreak time\x3d"150ms"/\x3eclose brace\x3cbreak time\x3d"150ms"/\x3e',"\\langle":'\x3cbreak time\x3d"150ms"/\x3eleft angle bracket\x3cbreak time\x3d"150ms"/\x3e',"\\rangle":'\x3cbreak time\x3d"150ms"/\x3eright angle bracket\x3cbreak time\x3d"150ms"/\x3e',"\\lfloor":'\x3cbreak time\x3d"150ms"/\x3eopen floor\x3cbreak time\x3d"150ms"/\x3e',"\\rfloor":'\x3cbreak time\x3d"150ms"/\x3eclose floor\x3cbreak time\x3d"150ms"/\x3e',"\\lceil":'\x3cbreak time\x3d"150ms"/\x3eopen ceiling\x3cbreak time\x3d"150ms"/\x3e',
"\\rceil":'\x3cbreak time\x3d"150ms"/\x3eclose ceiling\x3cbreak time\x3d"150ms"/\x3e',"\\vert":'\x3cbreak time\x3d"150ms"/\x3evertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\mvert":'\x3cbreak time\x3d"150ms"/\x3edivides\x3cbreak time\x3d"150ms"/\x3e',"\\lvert":'\x3cbreak time\x3d"150ms"/\x3eleft vertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\rvert":'\x3cbreak time\x3d"150ms"/\x3eright vertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\lbrack":'\x3cbreak time\x3d"150ms"/\x3e open square bracket \x3cbreak time\x3d"150ms"/\x3e',
"\\rbrack":'\x3cbreak time\x3d"150ms"/\x3e close square bracket \x3cbreak time\x3d"150ms"/\x3e',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},tj={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic",
"ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular",
"ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular",
"ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},Ti={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^\u2019\u2018]$/,
monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},Si=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,uj=[/^[a-z]$/,/^[A-Z]$/,Si,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],wk={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],
upright:["up","up","up","up"]};new class extends hg{constructor(){super("math")}createAtom(b,f,q){var D,J,M,W;const ca=f.getDefinition(b,"math");if(null===ca)return new rc("mord",f,{mode:"math",command:b,value:b,style:q});if("symbol"===ca.definitionType){var fa=new rc(null!==(D=ca.type)&&void 0!==D?D:"mord",f,{mode:"math",command:null!==(J=ca.command)&&void 0!==J?J:b,value:String.fromCodePoint(ca.codepoint),style:q});return null!==(M=ca.isFunction)&&void 0!==M&&M&&(fa.isFunction=!0),b.startsWith("\\")&&
(fa.verbatimLatex=b),fa}f=new rc("mord",f,{mode:"math",command:null!==(fa=ca.command)&&void 0!==fa?fa:b,value:b,style:q});return null!==(W=ca.isFunction)&&void 0!==W&&W&&(f.isFunction=!0),b.startsWith("\\")&&(f.verbatimLatex=b),f}serialize(b,f){const {parent:q}=b[0],D=null==q?void 0:q.computedStyle.fontSize;return va(Da(b,"fontSize").map(J=>{const M=function(W,ca){const {parent:fa}=W[0],xa=null==fa?void 0:fa.computedStyle.backgroundColor;return va(Da(W,"backgroundColor").map(ta=>{var Ma,Pa;let db=
function(Mb,Rb){const {parent:pc}=Mb[0],hc=null==pc?void 0:pc.computedStyle.color;return va(Da(Mb,"color").map(kd=>{var gd,Vd;const of=function(Ve,mf){var cg;const {parent:vg}=Ve[0],dg=ee(vg),wg=null!==(cg=null==vg?void 0:vg.mode)&&void 0!==cg?cg:"math";return va(Da(Ve,"variant").map(Eg=>{const af=ee(Eg[0]);if(Eg.every(Xc=>{const jg=Xc.context.getDefinition(Xc.command,wg);return!(!jg||"function"===jg.definitionType||!jg.variant)&&ee(Xc)===af}))return va(Eg.map(Xc=>rc.serialize(Xc,mf)));let bf="";
return af&&af!==dg&&(bf={calligraphic:"\\mathcal{",fraktur:"\\mathfrak{","double-struck":"\\mathbb{",script:"\\mathscr{",monospace:"\\mathtt{","sans-serif":"\\mathsf{",normal:"\\mathrm{","normal-italic":"\\mathnormal{","normal-bold":"\\mathbf{","normal-bolditalic":"\\mathbfit{",ams:"","ams-italic":"\\mathit{","ams-bold":"\\mathbf{","ams-bolditalic":"\\mathbfit{",main:"","main-italic":"\\mathit{","main-bold":"\\mathbf{","main-bolditalic":"\\mathbfit{"}[af]),bf?bf+va(Eg.map(Xc=>rc.serialize(Xc,mf)))+
"}":va(Eg.map(Xc=>rc.serialize(Xc,mf)))}))}(kd,Rb);kd=kd[0].computedStyle;return null!==(gd=Rb.skipStyles)&&void 0!==gd&&gd||!kd.color||pc&&hc===kd.color?of:"\\textcolor{"+(null!==(Vd=kd.verbatimColor)&&void 0!==Vd?Vd:kd.color)+"}{"+of+"}"}))}(ta,ca);const pb=ta[0].computedStyle;return null!==(Ma=ca.skipStyles)&&void 0!==Ma&&Ma||!db.trim()||!pb.backgroundColor||fa&&xa===pb.backgroundColor||!(0<ta.length)&&ta[0]instanceof Xf||(db=`\\ensuremath{${db}}`,db=`\\colorbox{${null!==(Pa=pb.verbatimBackgroundColor)&&
void 0!==Pa?Pa:pb.backgroundColor}}{${db}}`),db}))}(J,f);J=J[0].computedStyle.fontSize;return!J||q&&D===J?M:"\\"+" tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" ")[J]+" "+M}))}applyStyle(b,f){if(void 0===f.variant)return"";const q="auto"!==f.letterShapeStyle&&f.letterShapeStyle?f.letterShapeStyle:"tex";let {variant:D}=f,{variantStyle:J}=f;"normal"===D&&!J&&/[\u00A3\u0131\u0237]/.test(b.value)&&(D="main",J="italic");"normal"!==D||J||1!==b.value.length||uj.forEach((ca,
fa)=>{ca.test(b.value)&&"it"===wk[q][fa]&&(J="italic")});"up"===J&&(J=void 0);const [M,W]=tj[J?D+"-"+J:D];return Ti[D]&&!Ti[D].test(b.value)?(b.value=function(ca,fa,xa){if(!/[A-Za-z\d]/.test(ca)||!fa&&!xa)return ca;const ta=ca.codePointAt(0);if(void 0===ta)return ca;for(const Ma of Hg)if(!(fa&&Ma.variant!==fa||xa&&Ma.style!==xa)&&ta>=Ma.offset&&ta<Ma.offset+Ma.len)return ca=Ma.start+ta-Ma.offset,String.fromCodePoint(Ng[ca]||ca);return ca}(b.value,D,J),null):(Si.test(b.value)&&(b.classes+=" lcGreek"),
W&&(b.classes+=" "+W),M)}};const Cj={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};new class extends hg{constructor(){super("text")}createAtom(b,f,q){const D=f.getDefinition(b,"text");return D&&"symbol"===D.definitionType?new Gg(b,String.fromCodePoint(D.codepoint),null!=q?q:{},f):null}serialize(b,f){var q;let [D,J]=function(M,W){return Nb(Da(M,"backgroundColor").map(ca=>{var fa,xa;const [ta,Ma]=function(Pa,db){var pb;if(!Pa||0===Pa.length)return["",!1];const Mb=null===(pb=Pa[0].parent)||void 0===
pb?void 0:pb.style.color;return Nb(Da(Pa,"color").map(Rb=>{var pc,hc;const [kd,gd]=function(Vd,of){return function(Ve,mf){return Nb(Da(Ve,"fontFamily").map(cg=>{var vg,dg;const [wg,Eg]=function(bf,Xc){return Nb(Da(bf,"fontSize").map(jg=>{var Fg,ji;const [Mi,Ni]=function(Mj,kj){return Nb(Da(Mj,"fontSeries").map(Sg=>{const [ih,Nj]=function(lj,mj){return Nb(Da(lj,"fontShape").map(ki=>{const [jh,Oj]=function(li,Oi){return[va(li.map(Pi=>rc.serialize(Pi,Oi))),!0]}(ki,mj),{fontShape:Tg}=ki[0].style;return"it"===
Tg?["\\textit{"+jh+"}",!1]:"sl"===Tg?["\\textsl{"+jh+"}",!1]:"sc"===Tg?["\\textsc{"+jh+"}",!1]:"n"===Tg?["\\textup{"+jh+"}",!1]:Tg?[`{\\fontshape{${ki[0].style.fontShape}}${jh}`,!1]:[jh,Oj]}))}(Sg,kj);({fontSeries:Sg}=Sg[0].style);return"b"===Sg?[`\\textbf{${ih}}`,!1]:"l"===Sg?[`\\textlf{${ih}}`,!1]:"m"===Sg?[`\\textmd{${ih}}`,!1]:Sg?[`\\fontseries{${Sg}}${ih}`,!1]:[ih,Nj]}))}(jg,Xc);return(jg=null!==(ji=" tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" ")[null!==
(Fg=jg[0].style.fontSize)&&void 0!==Fg?Fg:""])&&void 0!==ji?ji:"")?[`{\\${jg} ${Mi}}`,Ni]:[Mi,Ni]}))}(cg,mf),af=null!==(dg={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[null!==(vg=cg[0].style.fontFamily)&&void 0!==vg?vg:""])&&void 0!==dg?dg:"";return af?[`\\${af}{${wg}}`,!1]:cg[0].style.fontFamily?[`\\fontfamily{${cg[0].style.fontFamily}}${wg}`,Eg]:[wg,Eg]}))}(Vd,of)}(Rb,db);return null!==(pc=db.skipStyles)&&void 0!==pc&&pc||!Rb[0].style.color||"none"===Rb[0].style.color||Mb===Rb[0].style.color?
[kd,gd]:[`\\textcolor{${null!==(hc=Rb[0].style.verbatimColor)&&void 0!==hc?hc:Rb[0].style.color}}{${kd}}`,!1]}))}(ca,W);ca=ca[0].computedStyle;return null!==(fa=W.skipStyles)&&void 0!==fa&&fa||!ca.backgroundColor||"none"===ca.backgroundColor?[ta,Ma]:[`\\colorbox{${null!==(xa=ca.verbatimBackgroundColor)&&void 0!==xa?xa:ca.backgroundColor}}{${ta}}`,!1]}))}(b,f);return!0===(null!==(q=f.skipModeCommand)&&void 0!==q&&q)&&(J=!1),J&&(D=`\\text{${D}}`),D}applyStyle(b,f){var q,D,J,M,W,ca;const {fontFamily:fa}=
f;(Cj[fa]?b.classes+=null!==(q=" "+Cj[fa])&&void 0!==q?q:"":fa&&b.setStyle("font-family",fa),f.fontShape&&(b.classes+=" ",b.classes+=null!==(D={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[f.fontShape])&&void 0!==D?D:""),f.fontSeries)&&(f=f.fontSeries.match(/(.?[lbm])?(.?[cx])?/))&&(b.classes+=" ",b.classes+=null!==(M={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[null!==(J=
f[1])&&void 0!==J?J:""])&&void 0!==M?M:"",b.classes+=" ",b.classes+=null!==(ca={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[null!==(W=f[2])&&void 0!==W?W:""])&&void 0!==ca?ca:"");return"Main-Regular"}};new class extends hg{constructor(){super("latex")}createAtom(b,f,q){return new uf(b,f)}serialize(b,f){return b.filter(q=>q instanceof uf&&!q.isSuggestion).map(q=>q.value).join("")}applyStyle(){return null}};
const Dj="apple"===Hd()?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p",
"P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","\x26","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" ",
" "," "," "],Minus:["-","_","–","—"],Equal:["\x3d","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","\x3c","≤","¯"],Period:[".","\x3e","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3",
"3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],AudioVolumeUp:["","\x3d","","\x3d"]}}:"windows"===Hd()?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A",
"á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x",
"X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","\x26","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["\x3d","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",
'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","\x3c","ç","Ç"],Period:[".","\x3e","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f",
"F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2",
"@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","\x26","7","\x26"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["\x3d","+","\x3d","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","\x3c",",","\x3c"],Period:[".",
"\x3e",".","\x3e"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|","¦"],NumpadEqual:["\x3d",
"\x3d","\x3d","\x3d"],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},cj={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",
numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",
f19:"[F19]"},lg=[];ya(Dj);ya({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π",
"∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["\x26","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," ",
" "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["\x3c","\x3e","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["\x3d","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["\x3d",
"\x3d","\x3d","\x3d"]}});ya({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P",
"π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","\x26","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","\x3d","≠","≈"],Space:[" ",
" "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["\x3c","\x3e","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3",
"3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}});ya({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],
KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4",
"$","~",""],Digit5:["5","%","€",""],Digit6:["6","\x26","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","\x3d","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*",
"*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","",""]}});ya({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","\x26"],KeyL:["l","L","ł","Ł"],KeyM:["m",
"M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»","\x3e"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","\x3c"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","\x26","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8",
"(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","\x3d","}","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/",
"/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|","¦"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],NumpadComma:[".",
".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}});ya({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","\x26"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n",
"N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","\x3c"],KeyX:["x","X","»","\x3e"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["\x26","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç",
"9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["\x3d","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-",
"-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|","¦"]}});ya({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],
KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["\x26","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à",
"0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["\x3d","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","",""]}});ya({id:"windows.german",locale:"de",displayName:"German",
platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],
KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","\x26","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","\x3d","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö",
"Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","|",""]}});ya({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E",
"€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1",
"!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","\x26","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","\x3d","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["\x3c","\x3e","≤","≥"],Comma:[",",
";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"]}});ya({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".","\x3e",
"≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","\x3c","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1",
"!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","\x26","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["\x3d","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W",
"∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§",
"±"],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],AudioVolumeUp:["","\x3d","","\x3d"]}});const wj=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},
{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},
{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",
command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},
{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete",
"reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"[Undo]",command:"undo"},{key:"ctrl+y",
ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},
{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",
ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},
{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+w",ifMode:"math",command:["insert",
"\\sum_{i\x3d#?}^{#?}"]},{key:"alt+b",command:["insert","\\int_{#?}^{#?}"]},{key:"alt+u",ifMode:"math",command:["insert","\\cup"]},{key:"alt+n",ifMode:"math",command:["insert","\\cap"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"shift+alt+p",ifMode:"math",command:["insert","\\prod_{i\x3d#?}^{#?}"]},
{key:"shift+alt+u",ifMode:"math",command:["insert","\\bigcup"]},{key:"shift+alt+n",ifMode:"math",command:["insert","\\bigcap"]},{key:"shift+alt+a",ifMode:"math",command:["insert","\\forall"]},{key:"shift+alt+e",ifMode:"math",command:["insert","\\exists"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},
{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["applyStyle",{mode:"text"}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["applyStyle",{mode:"math"}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl",
"windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},
{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",
ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl",
"linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit6]",
ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\wedge"]},{key:"shift+alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\vee"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl",
"linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]}],Vi={"\\theta":"alt+q","\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\prod":"shift+alt+p","\\sum":"alt+w","\\int":"alt+b","\\cup":"alt+u","\\cap":"alt+n","\\bigcup":"shift+alt+u","\\bigcap":"shift+alt+n","\\forall":"shift+alt+a",
"\\exists":"shift+alt+e","\\infty":"alt+[Digit5]","\\wedge":"alt+[Digit6]","\\vee":"shift+alt+[Digit6]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};let vi;new class extends Qe{constructor(){super("latex")}createAtom(b,f,q){return new uf(b,f)}onPaste(b,f){if(!f.clipboardData)return!1;let q=f.clipboardData.getData("text/x-latex");return q||(q=f.clipboardData.getData("text/plain")),!(!q||!Eb(b.model,{inputType:"insertFromPaste",
data:q})||(b.snapshot(),this.insert(b.model,q)&&(Hb(b.model,{inputType:"insertFromPaste"}),Xb(b)),f.preventDefault(),f.stopPropagation(),0))}insert(b,f,q){if(!Eb(b,{data:f,inputType:"insertText"}))return!1;q||(q={});q.insertionMode||(q.insertionMode="replaceSelection");q.selectionMode||(q.selectionMode="placeholder");const {suppressChangeNotifications:D}=b;q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);const J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;"replaceSelection"!==
q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(fc(b.selection));var M=[];for(var W of f)Ff.test(W)&&M.push(new uf(W,b.mathfield));W=b.at(b.position);if(W instanceof Of&&(W=W.lastChild),!(W.parent instanceof Of)){const ca=new Of("",b.mathfield);W.parent.addChildAfter(ca,W);W=ca.firstChild}M=
W.parent.addChildrenAfter(M,W);return b.suppressChangeNotifications=J,"before"===q.selectionMode||("item"===q.selectionMode?b.setSelection(b.anchor,b.offsetOf(M)):M&&(b.position=b.offsetOf(M))),Hb(b,{data:f,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};let dj=null,Wi=null;const fh={};$c({performWithFeedback:(b,f)=>function(q,D){q.focus();q.options.keypressVibration&&g()&&navigator.vibrate(3);"moveToNextPlaceholder"===(D=D.replace(/-\w/g,J=>J[1].toUpperCase()))||"moveToPreviousPlaceholder"===
D||"complete"===D?q.playSound("return"):"deleteBackward"===D||"deleteForward"===D||"deletePreviousWord"===D||"deleteNextWord"===D||"deleteToGroupStart"===D||"deleteToGroupEnd"===D||"deleteToMathFieldStart"===D||"deleteToMathFieldEnd"===D?q.playSound("delete"):q.playSound("keypress");D=q.executeCommand(D);return q.scrollIntoView(),D}(b,f)});$c({complete:yc,nextSuggestion:function(b){return Zc(b,{atIndex:b.suggestionIndex+1}),!1},previousSuggestion:function(b){return Zc(b,{atIndex:b.suggestionIndex-
1}),!1}},{target:"mathfield",category:"autocomplete"});$c({speak:(b,f,q)=>function(D,J,M){var W,ca;M=null!=M?M:{withHighlighting:!1};const {model:fa}=D;var xa=function(ta){switch(ta){default:ta=fa.root;break;case "selection":ta=fa.getAtoms(fa.selection);break;case "left":ta=fa.getAtoms(fa.offsetOf(fa.at(fa.position).leftSibling),fa.position);break;case "right":ta=fa.getAtoms(fa.position,fa.offsetOf(fa.at(fa.position).rightSibling));break;case "group":ta=fa.getAtoms(fa.getSiblingsRange(fa.position));
break;case "parent":({parent:ta}=fa.at(fa.position)),ta=ta&&"root"!==ta.type?ta:fa.root}return ta}(J);if(null===xa)return null===(ca=(W=D.options).speakHook)||void 0===ca||ca.call(W,function(ta){let Ma="";switch(ta){case "selection":Ma="no selection";break;case "left":Ma="at start";break;case "right":Ma="at end";break;case "parent":Ma="no parent"}return Ma}(J),D.options),!1;J={...D.options};(M.withHighlighting||"amazon"===J.speechEngine)&&(J.textToSpeechMarkup=globalThis.sre&&"sre"===J.textToSpeechRules?
"ssml_step":"ssml");J.textToSpeechMarkup||/firefox/i.test(navigator.userAgent)||(J.textToSpeechMarkup="ssml");xa=Tc(xa,J);return m()&&M.withHighlighting?(df().readAloudMathField=D,Xd(D,{forHighlighting:!0}),D.options.readAloudHook&&D.options.readAloudHook(D.field,xa,D.options)):D.options.speakHook&&D.options.speakHook(xa,J),!1}(b,f,q)},{target:"mathfield",category:"speech"});var Xi,Zh;let Gh=null;const Ej=(null===(Zh=null===(Xi=null===globalThis||void 0===globalThis?void 0:globalThis.document)||void 0===
Xi?void 0:Xi.currentScript)||void 0===Zh?void 0:Zh.src)||function(){const b=String(Error().stack).replace(/^Error.*\n/,"").split("\n");if(0===b.length)return"";let f=b[1],q=f.match(/http.*\.ts[\?:]/);return q&&(f=b[2]),q=f.match(/(https?:.*):[0-9]+:[0-9]+/),q||(q=f.match(/at (.*(\.ts))[\?:]/),q||(q=f.match(/at (.*(\.mjs|\.js))[\?:]/))),q?q[1]:""}(),Dg={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon",
"\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e",
"\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" "},ej={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};class fj{constructor(b,f,q){this.options=b;this._selection={ranges:[[0,0]],direction:"none"};this._position=this._anchor=0;this.mathfield=q;this.suppressChangeNotifications=!1;this.root=new rc("root",
q,{mode:b.mode});this.root.body=[];this.setListeners(f)}get atoms(){return this.root.children}get selection(){return this._selection}set selection(b){this.setSelection(b)}setSelection(b,f){return this.deferNotifications({selection:!0},()=>{const q=this.normalizeSelection(b,f);if(void 0===q)throw new TypeError("Invalid selection");if(1===q.ranges.length&&q.ranges[0][0]===q.ranges[0][1]){var D=q.ranges[0][0];this._anchor=this._position=D;this._selection=q}else{D=fc(q);"backward"===q.direction?[this._position,
this._anchor]=D:[this._anchor,this._position]=D;const J=this.at(D[0]+1),M=this.at(D[1]),W=rc.commonAncestor(J,M);"array"===(null==W?void 0:W.type)&&J.parent===W&&M.parent;this._selection={ranges:[D],direction:q.direction}}})}setPositionHandlingPlaceholder(b){var f,q,D;"placeholder"===(null===(f=this.at(b))||void 0===f?void 0:f.type)?this.setSelection(b-1,b):"placeholder"===(null===(D=null===(q=this.at(b))||void 0===q?void 0:q.rightSibling)||void 0===D?void 0:D.type)?this.setSelection(b,b+1):this.position=
b}getState(){return{content:this.root.toJson(),selection:this.selection}}setState(b,f){var q;const D=this.suppressChangeNotifications;this.suppressChangeNotifications=null===(q=null==f?void 0:f.suppressChangeNotifications)||void 0===q||q;q={};"undo"===(null==f?void 0:f.type)&&(q={inputType:"historyUndo"});"redo"===(null==f?void 0:f.type)&&(q={inputType:"historyRedo"});Eb(this,q)&&(this.root=Yc(b.content,this.mathfield),this.selection=b.selection,Hb(this,q));this.suppressChangeNotifications=D}get position(){return this._position}set position(b){this.setSelection(b,
b)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return 1===Math.abs(this._anchor-this._position)&&"placeholder"===this.at(Math.max(this._anchor,this._position)).type}collapseSelection(b="forward"){return this._anchor!==this._position&&(this.position="backward"===b?Math.min(this._anchor,this._position):Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(b){return this.atoms[b]}offsetOf(b){return this.atoms.indexOf(b)}getSiblingsRange(b){b=
this.at(b);const {parent:f}=b;if(!f)return[0,this.lastOffset];b=b.parent.branch(b.treeBranch);return[this.offsetOf(b[0]),this.offsetOf(b[b.length-1])]}getBranchRange(b,f){b=this.at(b).branch(f);return[this.offsetOf(b[0]),this.offsetOf(b[b.length-1])]}getAtoms(b,f,q){let D=null!=q?q:{};if(qc(b)){if(D=null!==f&&void 0!==f?f:{},1<b.ranges.length)return b.ranges.reduce((W,ca)=>[...W,...this.getAtoms(ca,D)],[]);b=b.ranges[0]}if(ic(b)){if(!ic(f))return[];q=f}else[b,q]=b,D=null!==f&&void 0!==f?f:{};if(!Number.isFinite(b))return[];
void 0===D.includeChildren&&(D.includeChildren=!1);0>b&&(b=this.lastOffset-b+1);0>q&&(q=this.lastOffset-q+1);const J=Math.min(b,q)+1,M=Math.max(b,q);if(1===J&&M===this.lastOffset)return[this.root];f=[];for(b=J;b<=M;b++)q=this.atoms[b],ha(this,q,J,M)&&f.push(q);return D.includeChildren||(f=f.filter(W=>{let ca=!1;for({parent:W}=W;W&&!ca;)ca=ha(this,W,J,M),W=W.parent;return!ca})),f}getAllAtoms(b){const f=[];var q=this.lastOffset;for(let D=b;D<=q;D++)f.push(this.atoms[D]);for(q=0;q<b;q++)f.push(this.atoms[q]);
return f}extractAtoms(b){b=this.getAtoms(b);1===b.length&&"root"===b[0].type&&(b=b[0].children);for(const f of b)f.parent.removeChild(f);return b}deleteAtoms(b){this.extractAtoms(b);this.position=b[0]}atomToString(b,f){f=null!=f?f:"latex";if(f.startsWith("latex"))return hg.serialize([b],{expandMacro:"latex-expanded"===f,skipStyles:"latex-unstyled"===f,defaultMode:this.mathfield.options.defaultMode});if("math-ml"===f)return od(b,this.mathfield.options);if("spoken"===f)return Tc(b,this.mathfield.options);
if("spoken-text"===f){var q=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="";b=Tc(b,this.mathfield.options);return this.mathfield.options.textToSpeechMarkup=q,b}if("spoken-ssml"===f||"spoken-ssml-with-highlighting"===f)return q=this.mathfield.options.textToSpeechMarkup,this.mathfield.options.textToSpeechMarkup="ssml",b=Tc(b,this.mathfield.options),this.mathfield.options.textToSpeechMarkup=q,b;if("math-json"===f){if(!this.mathfield.computeEngine)return"";try{return q=
this.mathfield.computeEngine.parse(rc.serialize(b,{expandMacro:!1,defaultMode:"math"})),JSON.stringify(q.json)}catch(D){return JSON.stringify(["Error","Nothing",`'${D.toString()}'`])}}return"ascii-math"===f?xc(b):""}getValue(b,f,q){if(void 0===b)return this.atomToString(this.root,"latex");if("string"==typeof b)return this.atomToString(this.root,b);let D,J;if(ic(b)&&ic(f)?(D=[this.normalizeRange([b,f])],J=null!=q?q:"latex"):Ac(b)?(D=[this.normalizeRange(b)],J=f):qc(b)?(D=b.ranges,J=f):(D=[],J="latex"),
J.startsWith("latex")){const M={expandMacro:"latex-expanded"===J,skipStyles:"latex-unstyled"===J,defaultMode:this.mathfield.options.defaultMode};return va(D.map(W=>rc.serialize(this.getAtoms(W),M)))}return D.map(M=>this.getAtoms(M).map(W=>this.atomToString(W,J)).join("")).join("")}extendSelection(b){let f=this._anchor;if("forward"===b){b=this._position;do{var q=this.at(b+1);if(null==q?0:q.inCaptureSelection){for(;!q.captureSelection;)q=q.parent;b=this.offsetOf(null==q?void 0:q.lastChild)+1}else b+=
1}while(b<=this.lastOffset&&this.at(b).isFirstSibling);return b===f-1&&"first"===this.at(f).type&&(b=f),this.extendSelectionTo(f,b)}b=this._position-1;if(0>b)return!1;for(;0<=b&&this.at(b).isLastSibling;)if(q=this.at(b),null==q?0:q.inCaptureSelection){for(;!q.captureSelection;)q=q.parent;b=this.offsetOf(q.firstChild)-1}else--b;return 0>b&&(b=0),b===f+1&&"first"===this.at(b).type&&(f=b),this.extendSelectionTo(f,b)}extendSelectionTo(b,f){return this.deferNotifications({selection:!0},()=>{var q=this.normalizeRange([b,
f]);let [D,J]=q;({parent:q}=this.at(J));if(q&&("genfrac"===q.type||"msubsup"===q.type))for(;q!==this.root&&na(this,q,[D,J]);)J=this.offsetOf(q),q=q.parent;for(q=this.at(D).parent;q!==this.root&&na(this,q,[D,J]);)D=this.offsetOf(q.leftSibling),q=q.parent;if(q=this.at(J).parent,"genfrac"===(null==q?void 0:q.type))for(;q!==this.root&&na(this,q,[D,J]);)J=this.offsetOf(q),q=q.parent;this._position=this.normalizeOffset(f);this._selection={ranges:[[D,J]],direction:"none"}})}setListeners(b){this.listeners=
b}announce(b,f,q=[]){var D,J;null===(J=null===(D=this.mathfield.host)||void 0===D?void 0:D.dispatchEvent(new CustomEvent("announce",{detail:{command:b,previousPosition:f,atoms:q},cancelable:!0,bubbles:!0,composed:!0})))||void 0===J||J||function(M,W,ca,fa){let xa="";"plonk"===W?(M.playSound("plonk"),M.flushInlineShortcutBuffer()):"delete"===W?xa=ud(M.options,"deleted: ",fa):"focus"===W||W.includes("move")?xa=function(ta,Ma){if(Number.isNaN(Ma))return"";var Pa=ta.at(Ma);if(!Pa||Pa.treeDepth<=ta.at(ta.position).treeDepth)return"";
Ma="";Pa=Pa.parent;const db=ta.at(ta.position).parent;for(;Pa!==ta.root&&Pa!==db;)Ma+=`out of ${U(Pa)};`,Pa=Pa.parent;return Ma}(M.model,ca)+(M.model.selectionIsCollapsed?"":"selected: ")+function(ta,Ma){if(!ta.selectionIsCollapsed)return ud(Ma,"",ta.getAtoms(ta.selection));let Pa="";ta=ta.at(ta.position);const db=U(ta);return ta.isFirstSibling&&(Pa=(db?"start of "+db:"unknown")+": "),ta.isLastSibling?ta.isFirstSibling||(Pa+=db?"end of "+db:"unknown"):Pa+=ud(Ma,"",ta),Pa}(M.model,M.options):"replacement"===
W?xa=ud(M.options,"",M.model.at(M.model.position)):"line"===W?(xa=ud(M.options,"",M.model.root),M.keyboardDelegate.setAriaLabel("after: "+xa)):xa=fa?ud(M.options,W+" ",fa):W;W=M.ariaLiveText.textContent.includes(" ")?"   ":"   ";M.ariaLiveText.textContent=xa+W}(this.mathfield,b,f,q)}deferNotifications(b,f){var q=this._selection,D=this._anchor,J=this._position;const M=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;var W=this.root.changeCounter;f();f=this.root.changeCounter!==
W;if(!(D=D!==this._anchor||J!==this._position)){a:{D=this._selection;if(D.direction===q.direction&&(J=D.ranges.length,q.ranges.length===J)){for(W=0;W<J&&"equal"===hd(D.ranges[W],q.ranges[W]);)W++;q=W===J?"equal":"different";break a}q="different"}D="different"===q}q=D;return this.suppressChangeNotifications=M,b.content&&f&&Hb(this,{data:b.data,inputType:b.type}),b.selection&&q&&tb(this),f||q}normalizeOffset(b){return 0<b?b=Math.min(b,this.lastOffset):0>b&&(b=this.lastOffset+b+1),b}normalizeRange(b){let [f,
q]=b;return f=this.normalizeOffset(f),q=this.normalizeOffset(q),f<q?[f,q]:[q,f]}normalizeSelection(b,f){var q;let D;ic(b)?(b=this.normalizeOffset(b),ic(f)?(f=this.normalizeOffset(f),D=b<=f?{ranges:[[b,f]],direction:"none"}:{ranges:[[f,b]],direction:"backward"}):D={ranges:[[b,b]],direction:"none"}):Ac(b)?(f=this.normalizeOffset(b[0]),b=this.normalizeOffset(b[1]),D=f<=b?{ranges:[[f,b]],direction:"none"}:{ranges:[[b,f]],direction:"backward"}):qc(b)&&(D={ranges:b.ranges.map(J=>this.normalizeRange(J)),
direction:null!==(q=b.direction)&&void 0!==q?q:"none"});return D}}$c({addRowAfter:Ca,addColumnAfter:Ya,addRowBefore:function(b){return!!Eb(b,{inputType:"insertText"})&&(Aa(b,"before row"),Hb(b,{inputType:"insertText"}),!0)},addColumnBefore:function(b){return!!Eb(b,{inputType:"insertText"})&&(Aa(b,"before column"),Hb(b,{inputType:"insertText"}),!0)},removeRow:function(b){return!!Eb(b,{inputType:"deleteContent"})&&(sb(b,"row"),Hb(b,{inputType:"deleteContent"}),!0)},removeColumn:function(b){return!!Eb(b,
{inputType:"deleteContent"})&&(sb(b,"column"),Hb(b,{inputType:"deleteContent"}),!0)}},{target:"model",category:"array-edit"});$c({deleteAll:b=>Eb(b,{inputType:"deleteContent"})&&Vb(b,[0,-1],"deleteContent"),deleteForward:b=>function(f){return!!Eb(f,{inputType:"deleteContentForward"})&&(f.selectionIsCollapsed?f.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var q,D;let J=f.at(f.position).rightSibling;if(!J||!Qb(f,"forward",J)){if(J){if(f.at(f.position).isLastSibling&&
Qb(f,"forward",J.parent,J.treeBranch))return}else{if(J=f.at(f.position),J.isLastSibling&&Qb(f,"forward",J.parent,J.treeBranch))return;J=null}if(f.position===f.lastOffset||!J)return void f.announce("plonk");J.parent.removeChild(J);for(var M=null===(q=f.at(f.position))||void 0===q?void 0:q.rightSibling;"msubsup"===(null==M?void 0:M.type);)M.parent.removeChild(M),M=null===(D=f.at(f.position))||void 0===D?void 0:D.rightSibling;f.announce("delete",void 0,[J])}}):Vb(f,fc(f.selection),"deleteContentForward"))}(b),
deleteBackward:b=>function(f){return!!Eb(f,{inputType:"deleteContentBackward"})&&(f.selectionIsCollapsed?f.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let q=f.at(f.position);if(!q||!Qb(f,"backward",q)){if(null==q?0:q.isFirstSibling){if(Qb(f,"backward",q.parent,q.treeBranch))return;q=null}q?(f.position=f.offsetOf(q.leftSibling),q.parent.removeChild(q),f.announce("delete",void 0,[q])):f.announce("plonk")}}):Vb(f,fc(f.selection),"deleteContentBackward"))}(b),deleteNextWord:b=>
Eb(b,{inputType:"deleteWordForward"})&&Vb(b,[b.anchor,Rd(b,b.position,"forward")],"deleteWordForward"),deletePreviousWord:b=>Eb(b,{inputType:"deleteWordBackward"})&&Vb(b,[b.anchor,Rd(b,b.position,"backward")],"deleteWordBackward"),deleteToGroupStart:b=>Eb(b,{inputType:"deleteSoftLineBackward"})&&Vb(b,[b.anchor,b.offsetOf(b.at(b.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:b=>Eb(b,{inputType:"deleteSoftLineForward"})&&Vb(b,[b.anchor,b.offsetOf(b.at(b.position).lastSibling)],
"deleteSoftLineForward"),deleteToMathFieldStart:b=>Eb(b,{inputType:"deleteHardLineBackward"})&&Vb(b,[b.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:b=>Eb(b,{inputType:"deleteHardLineForward"})&&Vb(b,[b.anchor,-1],"deleteHardLineForward")},{target:"model",category:"delete"});$c({moveToOpposite:b=>{const f=b.at(b.position),{parent:q}=f;if(!q)return b.announce("plonk"),!1;const D=f.treeBranch;let J;return"string"==typeof D&&(J={superscript:"subscript",subscript:"superscript",above:"below",
below:"above"}[D]),J?(q.branch(J)||q.createBranch(J),b.setSelection(b.getBranchRange(b.offsetOf(q),J))):f.subsupPlacement?Ze(b):ve(b)},moveBeforeParent:b=>{const {parent:f}=b.at(b.position);return f?(b.position=b.offsetOf(f),!0):(b.announce("plonk"),!1)},moveAfterParent:b=>Md(b),moveToNextPlaceholder:b=>Zd(b,"forward"),moveToPreviousPlaceholder:b=>Zd(b,"backward"),moveToNextChar:b=>re(b,"forward"),moveToPreviousChar:b=>re(b,"backward"),moveUp:b=>re(b,"upward"),moveDown:b=>re(b,"downward"),moveToNextWord:b=>
ye(b,"forward"),moveToPreviousWord:b=>ye(b,"backward"),moveToGroupStart:b=>{const f=b.offsetOf(b.at(b.position).firstSibling);return f===b.position?(b.announce("plonk"),!1):(b.position=f,!0)},moveToGroupEnd:b=>{const f=b.offsetOf(b.at(b.position).lastSibling);return f===b.position?(b.announce("plonk"),!1):(b.position=f,!0)},moveToMathfieldStart:b=>0===b.position?(b.announce("plonk"),!1):(b.position=0,!0),moveToMathfieldEnd:b=>b.position===b.lastOffset?(b.announce("plonk"),!1):(b.position=b.lastOffset,
!0),moveToSuperscript:b=>ve(b),moveToSubscript:b=>Ze(b)},{target:"model",category:"selection-anchor"});$c({selectGroup:b=>{const f=Jd(b);return f||b.announce("plonk"),f},selectAll:b=>b.setSelection(0,b.lastOffset),extendSelectionForward:b=>{const f=b.extendSelection("forward");return f||b.announce("plonk"),f},extendSelectionBackward:b=>{const f=b.extendSelection("backward");return f||b.announce("plonk"),f},extendToNextWord:b=>ye(b,"forward",{extend:!0}),extendToPreviousWord:b=>ye(b,"backward",{extend:!0}),
extendSelectionUpward:b=>re(b,"upward",{extend:!0}),extendSelectionDownward:b=>re(b,"downward",{extend:!0}),extendToNextBoundary:b=>ye(b,"forward",{extend:!0}),extendToPreviousBoundary:b=>ye(b,"backward",{extend:!0}),extendToGroupStart:b=>{const f=b.setSelection(b.anchor,b.offsetOf(b.at(b.position).firstSibling));return f||b.announce("plonk"),f},extendToGroupEnd:b=>{const f=b.setSelection(b.anchor,b.offsetOf(b.at(b.position).lastSibling));return f||b.announce("plonk"),f},extendToMathFieldStart:b=>
{const f=b.setSelection(b.anchor,0);return f||b.announce("plonk"),f},extendToMathFieldEnd:b=>{const f=b.setSelection(b.anchor,b.lastOffset);return f||b.announce("plonk"),f}},{target:"model",category:"selection-extend"});class yh{constructor(b){var f,q;this.preventOverlayClose=null!==(f=null==b?void 0:b.preventOverlayClose)&&void 0!==f&&f;this.translucent=null!==(q=null==b?void 0:b.translucent)&&void 0!==q&&q;this.state="closed"}get element(){if(this._element)return this._element;const b=document.createElement("div");
return b.setAttribute("role","presentation"),b.style.position="fixed",b.style.contain="content",b.style.top="0",b.style.left="0",b.style.right="0",b.style.bottom="0",b.style.zIndex="var(--scrim-zindex, 10099)",b.style.outline="none",this.translucent?(b.style.background="rgba(255, 255, 255, .2)",b.style.backdropFilter="contrast(40%)"):b.style.background="transparent",this._element=b,b}open(b){var f;if("closed"===this.state){this.state="opening";this.savedActiveElement=$e();var {element:q}=this;(null!==
(f=null==b?void 0:b.root)&&void 0!==f?f:document.body).appendChild(q);q.addEventListener("click",this);document.addEventListener("touchmove",this,!1);document.addEventListener("scroll",this,!1);f=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight;this.savedOverflow=document.body.style.overflow;document.body.style.overflow="hidden";var D=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${D+f}px`;
(null==b?0:b.child)&&q.append(b.child);this.state="open"}}close(){var b,f,q,D;if("open"===this.state){this.state="closing";"function"==typeof this.onClose&&this.onClose();var {element:J}=this;J.removeEventListener("click",this);document.removeEventListener("touchmove",this,!1);document.removeEventListener("scroll",this,!1);J.remove();document.body.style.overflow=null!==(b=this.savedOverflow)&&void 0!==b?b:"";document.body.style.marginRight=null!==(f=this.savedMarginRight)&&void 0!==f?f:"";$e()===
this.savedActiveElement||null!==(D=null===(q=this.savedActiveElement)||void 0===q?void 0:q.focus)&&void 0!==D&&D.call(q);J.innerHTML="";this.state="closed"}}handleEvent(b){this.preventOverlayClose||(b.target===this._element&&"click"===b.type?(this.close(),b.preventDefault(),b.stopPropagation()):b.target!==document||"touchmove"!==b.type&&"scroll"!==b.type||(this.close(),b.preventDefault(),b.stopPropagation()))}}const lk=new Set("Backquote Digit0 Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 Minus Equal IntlYen KeyQ KeyW KeyE KeyR KeyT KeyY KeyU KeyI KeyO KeyP BracketLeft BracketRight Backslash KeyA KeyS KeyD KeyF KeyG KeyH KeyJ KeyK KeyL Semicolon Quote IntlBackslash KeyZ KeyX KeyC KeyV KeyB KeyN KeyM Comma Period Slash IntlRo Space Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadComma NumpadDecimal NumpadDivide NumpadEqual NumpadHash NumpadMultiply NumpadParenLeft NumpadParenRight NumpadStar NumpadSubstract".split(" "));
class Fj{get maximumDepth(){return 1E3}constructor(b){this.canCoalesce=this.recording=!1;this.model=b;this.reset()}reset(){this.stack=[];this.index=-1}startRecording(){this.recording=!0}canUndo(){return 0<this.index}canRedo(){return this.index!==this.stack.length-1}undo(){return!!this.canUndo()&&(this.model.setState(this.stack[this.index-1],{suppressChangeNotifications:!1,type:"undo"}),--this.index,this.canCoalesce=!1,!0)}redo(){return!!this.canRedo()&&(this.index+=1,this.model.setState(this.stack[this.index],
{suppressChangeNotifications:!1,type:"redo"}),this.canCoalesce=!1,!0)}pop(){this.canUndo()&&(--this.index,this.stack.pop())}snapshot(){return!!this.recording&&(this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),this.canCoalesce=!1,!0)}snapshotAndCoalesce(){if(!this.recording)return!1;this.canCoalesce&&this.pop();const b=this.snapshot();return this.canCoalesce=!0,b}}let ii;class Hi{constructor(b,
f){this.originalContainerBottomPadding=null;this.options=b;this.visible=!1;this._mathfield=f;this.virtualKeyboardStylesheet=this.coreStylesheet=null}setOptions(b){var f,q;let D="";if(this._element){const J=this._element.querySelector("div.keyboard-layer.is-visible");J&&(D=null!==(f=J.getAttribute("data-layer"))&&void 0!==f?f:"");this._element.remove();this._element=void 0}if(this.options=b,this.visible)this.buildAndAttachElement(b.virtualKeyboardTheme),(b=this.element.querySelector(`.keyboard-layer[data-layer="${D}"]`))&&
(null===(q=this.element.querySelector(".keyboard-layer.is-visible"))||void 0===q||q.classList.remove("is-visible"),b.classList.add("is-visible")),this.element.classList.add("is-visible")}get element(){return this._element}set element(b){var f;this._element!==b&&(null===(f=this._element)||void 0===f||f.remove(),this._element=b)}get visible(){return this._visible}set visible(b){this._visible=b}get height(){var b,f;return null!==(f=null===(b=this.element)||void 0===b?void 0:b.offsetHeight)&&void 0!==
f?f:0}buildAndAttachElement(b){var f;this.element=function(q,D){var J,M,W,ca;d();var fa='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"display: none;"\x3e\n\n    \x3csymbol id\x3d"svg-delete-backward" viewBox\x3d"0 0 576 512"\x3e\n      \x3cpath d\x3d"M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-shift" viewBox\x3d"0 0 384 512"\x3e\n      \x3cpath d\x3d"M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-commit" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-command" viewBox\x3d"0 0 640 512"\x3e\n      \x3cpath d\x3d"M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-undo" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-redo" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-arrow-left" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-arrow-right" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-tab" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-copy" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-angle-double-right" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-angle-double-left" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-trash" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/\x3e\n    \x3c/symbol\x3e\n\x3c/svg\x3e\n        ';
q.create();Cf["foreground-color"]=[];for(var xa of Object.keys(bh))Cf["foreground-color"].push({class:"small-button",content:'\x3cspan style\x3d"border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+bh[xa]+'"\x3e\x3c/span\x3e',command:["applyStyle",{color:xa}]});Cf["background-color"]=[];for(var ta of Object.keys(Kg))Cf["background-color"].push({class:"small-button",content:'\x3cspan style\x3d"border-radius:50%;width:32px;height:32px; background:'+Kg[ta]+'"\x3e\x3c/span\x3e',
command:["applyStyle",{backgroundColor:ta}]});Ge={...Cf};for(var Ma of Object.keys(Ge))Ge[Ma]=Ge[Ma].slice();for(xa=0;26>xa;xa++)ta="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[xa],Ge[ta]||(Ge[ta]=[]),Ge[ta].unshift({latex:"\\mathbb{"+ta+"}",aside:"blackboard",insert:"\\mathbb{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathbf{"+ta+"}",aside:"bold",insert:"\\mathbf{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathsf{"+ta+"}",aside:"sans",insert:"\\mathsf{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathtt{"+ta+"}",aside:"monospace",insert:"\\mathtt{"+
ta+"}"}),Ge[ta].unshift({latex:"\\mathcal{"+ta+"}",aside:"calligraphy",insert:"\\mathcal{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathfrak{"+ta+"}",aside:"fraktur",insert:"\\mathfrak{"+ta+"}"});for(xa=0;26>=xa;xa++)ta="abcdefghijklmnopqrstuvwxyz"[xa],Ge[ta]||(Ge[ta]=[]),Ge[ta].unshift({latex:"\\mathsf{"+ta+"}",aside:"sans",insert:"\\mathsf{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathbf{"+ta+"}",aside:"bold",insert:"\\mathbf{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathtt{"+ta+"}",aside:"monospace",insert:"\\mathtt{"+
ta+"}"}),Ge[ta].unshift({latex:"\\mathfrak{"+ta+"}",aside:"fraktur",insert:"\\mathfrak{"+ta+"}"});for(xa=0;10>xa;xa++)ta="0123456789"[xa],Ge[ta]||(Ge[ta]=[]),Ge[ta].unshift({latex:"\\mathbf{"+ta+"}",aside:"bold",insert:"\\mathbf{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathsf{"+ta+"}",aside:"sans",insert:"\\mathsf{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathtt{"+ta+"}",aside:"monospace",insert:"\\mathtt{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathcal{"+ta+"}",aside:"script",insert:"\\mathcal{"+ta+"}"}),Ge[ta].unshift({latex:"\\mathfrak{"+
ta+"}",aside:"fraktur",insert:"\\mathfrak{"+ta+"}"});(xa=q.options.virtualKeyboards)||(xa="all");xa=xa.replace(/\ball\b/i,"numeric functions symbols roman greek");ta={...hj,...(null!==(J=q.options.customVirtualKeyboardLayers)&&void 0!==J?J:{})};J={...gj,...(null!==(M=q.options.customVirtualKeyboards)&&void 0!==M?M:{})};M=xa.replace(/\s+/g," ").split(" ");for(const Mb of M)if(J[Mb]){M=null!==(W=J[Mb].layers)&&void 0!==W?W:[];J[Mb].layer&&M.push(J[Mb].layer);M=[...(new Set(M))];for(const Rb of M){if(!ta[Rb])break;
if("object"==typeof ta[Rb]){M=ta[Rb];Ma="";if("string"==typeof M.styles?Ma+=`<style>${M.styles}</style>`:"object"==typeof M.styles&&(Ma+=`<style>${Yf(M.styles)}</style>`),M.backdrop&&(Ma+=`<div class='${M.backdrop}'>`),M.container&&(Ma+=`<div class='${M.container}'>`),M.rows){Ma+="\x3cdiv class\x3d'rows'\x3e";for(const pc of M.rows){Ma+="\x3cul\x3e";for(const hc of pc){if(Ma+="\x3cli",hc.class){var Pa=hc.class;hc.layer&&!/layer-switch/.test(Pa)&&(Pa+=" layer-switch");/separator/.test(Pa)||(Pa+=" keycap");
Ma+=` class="${Pa}"`}else Ma+=' class\x3d"keycap"';if(hc.key&&(Ma+=` data-key="${hc.key}"`),hc.command&&("string"==typeof hc.command?Ma+=` data-command='"${hc.command}"'`:(Ma+=" data-command\x3d'",Ma+=JSON.stringify(hc.command),Ma+="'")),hc.insert&&(Ma+=` data-insert="${hc.insert}"`),hc.latex&&(Ma+=` data-latex="${hc.latex}"`),hc.aside&&(Ma+=` data-aside="${hc.aside}"`),hc.variants)Pa=Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36),Ge[Pa]=hc.variants,Ma+=` data-alt-keys="${Pa}"`;
hc.shifted&&(Ma+=` data-shifted="${hc.shifted}"`);hc.shiftedCommand&&(Ma+=` data-shifted-command="${hc.shiftedCommand}"`);hc.layer&&(Ma+=` data-layer="${hc.layer}"`);Ma+=`>${hc.label?hc.label:""}</li>`}Ma+="\x3c/ul\x3e"}Ma+="\x3c/div\x3e"}M.container&&(Ma+="\x3c/div\x3e");M.backdrop&&(Ma+="\x3c/div\x3e");ta[Rb]=Ma}fa+=`<div tabindex="-1" class='keyboard-layer' data-layer='${Rb}'>`;fa+=Ih(q.options,xa,Mb);M=ta[Rb];"string"==typeof M&&(fa+=Wa(q.options,M));fa+="\x3c/div\x3e"}}W=document.createElement("div");
W.className="ML__keyboard";D?W.classList.add(D):q.options.virtualKeyboardTheme&&W.classList.add(q.options.virtualKeyboardTheme);D=document.createElement("div");D.className="ML__keyboard--plate";D.innerHTML=q.options.createHTML(fa);W.appendChild(D);fa=W.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton");for(var db of fa)db.id="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36);fi(q,[...fa]);db=W.querySelectorAll(".layer-switch");for(var pb of db)pb.classList.contains("shift")?
pf(pb,Mb=>q.executeCommand(Mb),{pressed:"shiftKeyboardLayer",default:["switchKeyboardLayer",pb.getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):pf(pb,Mb=>q.executeCommand(Mb),{default:["switchKeyboardLayer",pb.getAttribute("data-layer")]});pb=W.querySelectorAll(".keyboard-layer");for(const Mb of pb)Mb.addEventListener("mousedown",Rb=>{Rb.preventDefault();Rb.stopPropagation()}),Mb.addEventListener("touchstart",Rb=>{Rb.preventDefault();Rb.stopPropagation()},{passive:!1});return null===
(ca=pb[0])||void 0===ca||ca.classList.add("is-visible"),W}(this,null!=b?b:"");xd(this.element,"touchstart:passive mousedown",()=>this.focusMathfield());null===(f=this.options.virtualKeyboardContainer)||void 0===f||f.appendChild(this.element)}handleEvent(b){if(this.element)switch(b.type){case "mouseup":case "blur":case "touchend":case "touchcancel":document.body.style.userSelect="",jf(this)}}focusMathfield(){var b,f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.focus)||void 0===f||f.call(b)}blurMathfield(){var b,
f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.blur)||void 0===f||f.call(b)}stateChanged(){var b,f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.element)||void 0===f||f.dispatchEvent(new Event("virtual-keyboard-toggle",{bubbles:!0,cancelable:!1,composed:!0}))}executeCommand(b){var f,q,D;let J,M=[];return r(b)?(J=b[0],M=b.slice(1)):J=b,J=J.replace(/-\w/g,W=>W[1].toUpperCase()),"virtual-keyboard"===(null===(f=fh[J])||void 0===f?void 0:f.target)?fh[J].fn(this,...M):null!==(D=
null===(q=this._mathfield)||void 0===q?void 0:q.executeCommand(b))&&void 0!==D&&D}create(){this.virtualKeyboardStylesheet||(ii||(ii=Yd('.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul\x3eli{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);cursor:pointer;display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul\x3eli{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard.alternate-keys ul\x3eli.is-active,.ML__keyboard.alternate-keys ul\x3eli.is-pressed,.ML__keyboard.alternate-keys ul\x3eli:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul\x3eli.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul\x3eli.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul\x3eli.box\x3ediv,.ML__keyboard.alternate-keys ul\x3eli.box\x3espan{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul\x3eli .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul\x3eli .warning.is-active,.ML__keyboard.alternate-keys ul\x3eli .warning.is-pressed,.ML__keyboard.alternate-keys ul\x3eli .warning:hover{background:red}.ML__keyboard.alternate-keys ul\x3eli .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul\x3eli aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-pressed,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);cursor:pointer;display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.is-pressed{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.is-active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.is-active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{color:var(--keycap-secondary-text)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{color:var(--keycap-secondary-text);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme\x3ddark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3ediv{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3e.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme\x3ddark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}').toString(36)),
this.virtualKeyboardStylesheet=De(null,'.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul\x3eli{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);cursor:pointer;display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul\x3eli{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard.alternate-keys ul\x3eli.is-active,.ML__keyboard.alternate-keys ul\x3eli.is-pressed,.ML__keyboard.alternate-keys ul\x3eli:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul\x3eli.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul\x3eli.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul\x3eli.box\x3ediv,.ML__keyboard.alternate-keys ul\x3eli.box\x3espan{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul\x3eli .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul\x3eli .warning.is-active,.ML__keyboard.alternate-keys ul\x3eli .warning.is-pressed,.ML__keyboard.alternate-keys ul\x3eli .warning:hover{background:red}.ML__keyboard.alternate-keys ul\x3eli .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul\x3eli aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-pressed,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);cursor:pointer;display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.is-pressed{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.is-active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.is-active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{color:var(--keycap-secondary-text)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{color:var(--keycap-secondary-text);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme\x3ddark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3ediv{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3e.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme\x3ddark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}',
ii));this.coreStylesheet||(this.coreStylesheet=De(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Yd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)));
null!==this.options.fontsDirectory&&kc(this.options.fontsDirectory)}enable(){m()&&(window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this))}disable(){m()&&(window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("touchend",this),window.removeEventListener("touchcancel",this))}dispose(){}}const gj={numeric:{tooltip:"keyboard.tooltip.numeric",
layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"\x26alpha;\x26beta;\x26gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"\x3ci\x3ef\x3c/i\x3e\x26thinsp;()",classes:"tex",layers:["functions"]},symbols:{tooltip:"keyboard.tooltip.symbols",layer:"symbols",
label:"\x26infin;≠∈",classes:"tex",layers:["symbols"]}},Qh={"\\varphi ":["\x26Phi;","\\Phi "],"\\varsigma ":["\x26Sigma;","\\Sigma "],"\\epsilon ":["\x26#x0190;",'\\char"0190'],"\\rho ":["\x26#x3A1",'\\char"3A1'],"\\tau ":["\x26#x3A4;",'\\char"3A4'],"\\upsilon ":["\x26Upsilon;","\\Upsilon "],"\\theta ":["\x26Theta;","\\Theta "],"\\iota ":["\x26Iota;",'\\char"399'],"\\omicron ":["\x26#x039F;",'\\char"39F'],"\\pi ":["\x26Pi;","\\Pi "],"\\alpha ":["\x26Alpha;",'\\char"391'],"\\sigma ":["\x26Sigma;",
"\\Sigma "],"\\delta ":["\x26Delta;","\\Delta "],"\\phi ":["\x26#x03a6;","\\Phi "],"\\gamma ":["\x26Gamma;","\\Gamma "],"\\eta ":["\x26Eta;",'\\char"397'],"\\xi ":["\x26Xi;","\\Xi "],"\\kappa ":["\x26Kappa;",'\\char"39A'],"\\lambda ":["\x26Lambda;","\\Lambda "],"\\zeta ":["\x26Zeta;",'\\char"396'],"\\chi ":["\x26Chi;",'\\char"3A7'],"\\psi ":["\x26Psi;","\\Psi "],"\\omega ":["\x26Omega;","\\Omega "],"\\beta ":["\x26Beta;",'\\char"392'],"\\nu ":["\x26Nu;",'\\char"39D'],"\\mu ":["\x26Mu;",'\\char"39C']},
Cf={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[".",",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",
aside:"",class:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop\x3d0}^{\\infty}",class:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop\x3d0}^{\\infty}",class:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div","\\%"],"(":"\\left( #0\\right);\\left[ #0\\right];\\left\\{ #0\\right\\};\\left\\langle #0\\right\\rangle;\\lfloor;\\llcorner;(;\\lbrack;\\lvert;\\lVert;\\lgroup;\\langle;\\lceil;\\ulcorner;\\lmoustache;\\lbrace".split(";"),
")":"\\rfloor \\lrcorner ) \\rbrack \\rvert \\rVert \\rgroup \\rangle \\rceil \\urcorner \\rmoustache \\rbrace".split(" "),"\x3d":"\\cong \\asymp \\equiv \\differencedelta \\varpropto \\thickapprox \\approxeq \\thicksim \\backsim \\eqsim \\simeq \\Bumpeq \\bumpeq \\doteq \\Doteq \\fallingdotseq \\risingdotseq \\coloneq \\eqcirc \\circeq \\triangleq \\between".split(" "),"!\x3d":["\\neq","\\ncong","","\\nsim"],"\x3c":"\\leq \\leqq \\lneqq \\ll \\lessgtr \\nless \\nleq \\lesssim \\precsim \\prec \\nprec \\preccurlyeq \\lessdot".split(" "),
"\x3e":"\\geq \\geqq \\gneqq \\gg \\gtrless \\ngtr \\ngeq \\gtrsim \\succsim \\succ \\nsucc \\succcurlyeq \\gtrdot".split(" "),in:["\\owns"],"!in":["\\backepsilon"],subset:["\\subseteq","\\nsubset","\\nsubseteq"],superset:["\\supseteq","\\nsupset","\\nsupseteq"],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":"\\prod \\theta \\rho \\sin \\cos \\tan".split(" "),ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",
class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:"\\bar{#@} \\vec{#@} \\hat{#@} \\check{#@} \\dot{#@} \\ddot{#@} \\mathring{#@} \\breve{#@} \\acute{#@} \\tilde{#@} \\grave{#@}".split(" "),
underline:"\\underbrace{#@} \\underlinesegment{#@} \\underleftrightarrow{#@} \\underrightarrow{#@} \\underleftarrow{#@} \\undergroup{#@}".split(" "),overline:"\\overbrace{#@} \\overlinesegment{#@} \\overleftrightarrow{#@} \\overrightarrow{#@} \\overleftarrow{#@} \\overgroup{#@}".split(" "),xleftarrows:"\\xlongequal{#@} \\xleftrightarrow{#@} \\xLeftrightarrow{#@} \\xleftrightharpoons{#@} \\xLeftarrow{#@} \\xleftharpoonup{#@} \\xleftharpoondown{#@} \\xtwoheadleftarrow{#@} \\xhookleftarrow{#@} \\xtofrom{#@} \\xleftequilibrium{#@} \\xrightleftarrows{#@}".split(" "),
xrightarrows:"\\xrightarrow{#@} \\xlongequal{#@} \\xleftrightarrow{#@} \\xLeftrightarrow{#@} \\xleftrightharpoons{#@} \\xRightarrow{#@} \\xrightharpoonup{#@} \\xrightharpoondown{#@} \\xtwoheadrightarrow{#@} \\xrightleftharpoons{#@} \\xhookrightarrow{#@} \\xmapsto{#@} \\xrightequilibrium{#@} \\xrightleftarrows{#@}".split(" "),A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],
B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],
l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"}],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":"ijpkau".split(""),ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],
logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",
aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":"\\in \\notin \\ni \\owns \\subset \\supset \\subseteq \\supseteq \\subsetneq \\supsetneq \\varsubsetneq \\subsetneqq \\nsubset \\nsupset \\nsubseteq \\nsupseteq".split(" "),
space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space\x3cbr\x3e⁻³⧸₁₈ em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space\x3cbr\x3e³⧸₁₈ em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space\x3cbr\x3e⁴⧸₁₈ em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space\x3cbr\x3e⁵⧸₁₈ em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:"⅓ em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',
insert:"\\enspace",aside:"½ em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'\x3cspan class\x3d"warning"\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-trash" /\x3e\x3c/svg\x3e\x3c/span\x3e',command:"deleteAll"}],"-\x3e|":[]};let Ge={};const hj={math:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'x-var'\x3e\x3ci\x3ex\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'n-var'\x3e\x3ci\x3en\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-1'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\exponentialE' data-alt-keys\x3d'ee'\x3ee\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\imaginaryI' data-alt-keys\x3d'ii'\x3ei\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\pi' data-alt-keys\x3d'numeric-pi'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-key\x3d'\x3c' data-alt-keys\x3d'\x3c'\x3e\x26lt;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-key\x3d'\x3e' data-alt-keys\x3d'\x3e'\x3e\x26gt;\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-2'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'#@^{2}' data-latex\x3d'x^2'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'^' data-insert\x3d'#@^{#?}' data-latex\x3d'x^\\placeholder'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-insert\x3d'\\sqrt{#0}' data-latex\x3d'\\sqrt{#0}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' \x3e(\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' \x3e)\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-3'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap small' data-alt-keys\x3d'int' data-latex\x3d'\\int_0^\\infty'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'\\forall' data-alt-keys\x3d'logic' \x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right' data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'foreground-color' data-command\x3d'[\"applyStyle\",{\"color\":\"red\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'background-color' data-command\x3d'[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-4'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e\n    ",
"lower-roman":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-1' shift-layer\x3d'upper-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-2'  shift-layer\x3d'upper-roman''/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-3'  shift-layer\x3d'upper-roman''/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap' \x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap' \x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' ' data-alt-keys\x3d'space'\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"upper-roman":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-1'  shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-2' shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-3' shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap' \x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'.'\x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
symbols:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\lbrace '\x3e{\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rbrace '\x3e}\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-alt-keys\x3d'xleftarrows' data-latex\x3d'\\leftarrow' \x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-alt-keys\x3d'xrightarrows' data-latex\x3d'\\rightarrow' \x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'overline' data-latex\x3d'\\overline{#@}' data-aside\x3d'overline'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'underline' data-latex\x3d'\\underline{#@}' data-aside\x3d'underline'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w15' data-insert\x3d'\\ulcorner#0\\urcorner '\x3e\x3cspan\x3e\x3csup\x3e\x26#x250c;\x3c/sup\x3e\x3cspan\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x3csup\x3e\x26#x2510;\x3c/sup\x3e\x3c/span\x3e\x3caside\x3eceil\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'nabla' data-insert\x3d'\\nabla '\x3e\x26#x2207;\x3caside\x3enabla\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'infinity' data-insert\x3d'\\infty '\x3e\x26#x221e;\x3c/li\x3e\n\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\lbrack '\x3e[\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rbrack '\x3e]\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'in' data-insert\x3d'\\in '\x3e\x26#x2208;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'!in' data-insert\x3d'\\notin '\x3e\x26#x2209;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Re '\x3e\x26#x211c;\x3caside\x3eReal\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Im '\x3e\x26#x2111;\x3caside\x3eImaginary\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w15' data-insert\x3d'\\llcorner#0\\lrcorner '\x3e\x3cspan\x3e\x3csub\x3e\x26#x2514;\x3c/sub\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x3csub\x3e\x26#x2518;\x3c/sub\x3e\x3c/span\x3e\x3caside\x3efloor\x3c/aside\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\partial '\x3e\x26#x2202;\x3caside\x3epartial\x3cbr\x3ederivative\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\emptyset '\x3e\x26#x2205;\x3caside\x3eempty set\x3c/aside\x3e\x3c/li\x3e\n\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\langle '\x3e\x26#x27e8;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rangle '\x3e\x26#x27e9;\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'subset' data-insert\x3d'\\subset '\x3e\x26#x2282;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'superset' data-insert\x3d'\\supset '\x3e\x26#x2283;\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'accents' data-insert\x3d'\\vec{#@}' data-latex\x3d'\\vec{#?}' data-aside\x3d'vector'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'absnorm' data-insert\x3d'\\left| #0 \\right|' data-latex\x3d'\\left| #? \\right|' data-aside\x3d'abs'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-key\x3d'!' data-alt-keys\x3d'!'\x3e!\x3caside\x3efactorial\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'^{\\prime} '\x3e\x3cspan\x3e\x3csup\x3e\x3cspan\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x26#x2032\x3c/sup\x3e\x3c/span\x3e\x3caside\x3eprime\x3c/aside\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'action font-glyph bottom right w15'\n                    data-shifted\x3d'\x3cspan class\x3d\"warning\"\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-trash\" /\x3e\x3c/svg\x3e\x3c/span\x3e'\n                    data-shifted-command\x3d'\"deleteAll\"'\n                    data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\n                \x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d','\x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\cdot '\x3e\x26#x22c5;\x3caside\x3ecentered dot\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\colon '\x3e:\x3caside\x3ecolon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\circ '\x3e\x26#x2218;\x3caside\x3ecircle\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\approx '\x3e\x26#x2248;\x3caside\x3eapprox.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\ne '\x3e\x26#x2260;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\pm '\x3e\x26#x00b1;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"lower-greek":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\varphi '\x3e\x3ci\x3e\x26#x03c6;\x3c/i\x3e\x3caside\x3ephi var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varsigma '\x3e\x3ci\x3e\x26#x03c2;\x3c/i\x3e\x3caside\x3esigma var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\epsilon '\x3e\x3ci\x3e\x26#x03f5;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\rho '\x3e\x3ci\x3e\x26rho;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\tau '\x3e\x3ci\x3e\x26tau;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\upsilon '\x3e\x3ci\x3e\x26upsilon;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\theta '\x3e\x3ci\x3e\x26theta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\iota '\x3e\x3ci\x3e\x26iota;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\omicron '\x3e\x26omicron;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\pi '\x3e\x3ci\x3e\x26pi;\x3c/i\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\alpha ' data-shifted\x3d'\x26Alpha;' data-shifted-command\x3d'[\"insert\",\"\\\\char\\\"391\"]'\x3e\x3ci\x3e\x26alpha;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\sigma '\x3e\x3ci\x3e\x26sigma;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\delta '\x3e\x3ci\x3e\x26delta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\phi '\x3e\x3ci\x3e\x26#x03d5;\x3c/i\x3e\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\gamma '\x3e\x3ci\x3e\x26gamma;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\eta '\x3e\x3ci\x3e\x26eta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\xi '\x3e\x3ci\x3e\x26xi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\kappa '\x3e\x3ci\x3e\x26kappa;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\lambda '\x3e\x3ci\x3e\x26lambda;\x3c/i\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'shift modifier font-glyph bottom left w15 layer-switch' data-layer\x3d'upper-greek'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-shift\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\zeta '\x3e\x3ci\x3e\x26zeta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\chi '\x3e\x3ci\x3e\x26chi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\psi '\x3e\x3ci\x3e\x26psi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\omega '\x3e\x3ci\x3e\x26omega;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\beta '\x3e\x3ci\x3e\x26beta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\nu '\x3e\x3ci\x3e\x26nu;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\mu '\x3e\x3ci\x3e\x26mu;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right w15'\n                    data-shifted\x3d'\x3cspan class\x3d\"warning\"\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-trash\" /\x3e\x3c/svg\x3e\x3c/span\x3e'\n                    data-shifted-command\x3d'\"deleteAll\"'\n                    data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\n                \x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap ' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3cli class\x3d'keycap'\x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varepsilon '\x3e\x3ci\x3e\x26#x03b5;\x3c/i\x3e\x3caside\x3eepsilon var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\vartheta '\x3e\x3ci\x3e\x26#x03d1;\x3c/i\x3e\x3caside\x3etheta var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varkappa '\x3e\x3ci\x3e\x26#x3f0;\x3c/i\x3e\x3caside\x3ekappa var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varpi '\x3e\x3ci\x3e\x26#x03d6;\x3caside\x3epi var.\x3c/aside\x3e\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varrho '\x3e\x3ci\x3e\x26#x03f1;\x3c/i\x3e\x3caside\x3erho var.\x3c/aside\x3e\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"upper-greek":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\Phi '\x3e\x26Phi;\x3caside\x3ephi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Sigma '\x3e\x26Sigma;\x3caside\x3esigma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"0190'\x3e\x26#x0190;\x3caside\x3eepsilon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A1'\x3e\x26#x3A1;\x3caside\x3erho\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A4'\x3e\x26#x3A4;\x3caside\x3etau\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Upsilon '\x3e\x26Upsilon;\x3caside\x3eupsilon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Theta '\x3e\x26Theta;\x3caside\x3etheta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"399'\x3e\x26Iota;\x3caside\x3eiota\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39F'\x3e\x26#x039F;\x3caside\x3eomicron\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Pi '\x3e\x26Pi;\x3caside\x3epi\x3c/aside\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"391'\x3e\x26#x391;\x3caside\x3ealpha\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Sigma '\x3e\x26Sigma;\x3caside\x3esigma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Delta '\x3e\x26Delta;\x3caside\x3edelta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Phi '\x3e\x26#x03a6;\x3caside\x3ephi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Gamma '\x3e\x26Gamma;\x3caside\x3egamma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"397'\x3e\x26Eta;\x3caside\x3eeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Xi '\x3e\x26Xi;\x3caside\x3exi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39A'\x3e\x26Kappa;\x3caside\x3ekappa\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Lambda '\x3e\x26Lambda;\x3caside\x3elambda\x3c/aside\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'shift modifier font-glyph bottom left selected w15 layer-switch' data-layer\x3d'lower-greek'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-shift\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"396'\x3e\x26Zeta;\x3caside\x3ezeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A7'\x3e\x26Chi;\x3caside\x3echi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Psi '\x3e\x26Psi;\x3caside\x3epsi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Omega '\x3e\x26Omega;\x3caside\x3eomega\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"392'\x3e\x26Beta;\x3caside\x3ebeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39D'\x3e\x26Nu;\x3caside\x3enu\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39C'\x3e\x26Mu;\x3caside\x3emu\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right w15' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'separator w10'\x3e\x26nbsp;\x3c/li\x3e\n                \x3cli class\x3d'keycap'\x3e.\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
functions:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\sin'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\sin^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\ln'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\exponentialE^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{lcm}(#?)' data-latex\x3d'\\operatorname{lcm}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{ceil}(#?)' data-latex\x3d'\\operatorname{ceil}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\lim_{n\\to\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\int'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{abs}(#?)' data-latex\x3d'\\operatorname{abs}()'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\cos'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\cos^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\ln_{10}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'10^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{gcd}(#?)' data-latex\x3d'\\operatorname{gcd}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{floor}(#?)' data-latex\x3d'\\operatorname{floor}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\sum_{n\\mathop\x3d0}^{\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\int_{0}^{\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{sign}(#?)' data-latex\x3d'\\operatorname{sign}()'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\tan'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\tan^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\log_{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\sqrt[#?]{#0}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'#0 \\mod' data-latex\x3d'\\mod'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{round}(#?) ' data-latex\x3d'\\operatorname{round}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\prod_{n\\mathop\x3d0}^{\\infty}' data-latex\x3d'{\\scriptstyle \\prod_{n\x3d0}^{\\infty}}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\frac{\\differentialD #0}{\\differentialD x}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton'\x3e(\x3c/li\x3e\n                \x3cli class\x3d'fnbutton'\x3e)\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'^{#?}' data-latex\x3d'x^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'_{#?}' data-latex\x3d'x_{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w20 ' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
style:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'foreground-color' data-command\x3d'[\"applyStyle\",{\"color\":\"red\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'background-color' data-command\x3d'[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; background:#fff590'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"3\"}]' data-latex\x3d'\\scriptsize\\text{small}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"5\"}]' data-latex\x3d'\\scriptsize\\text{normal}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"9\"}]' data-latex\x3d'\\huge\\text{big}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'\\langle' data-command\x3d'[\"insert\", \"\\\\langle\", {\"smartFence\":true}]'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"l\"}]' data-latex\x3d'\\fontseries{l}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"m\"}]' data-latex\x3d'\\fontseries{m}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"b\"}]' data-latex\x3d'\\fontseries{b}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"bx\"}]' data-latex\x3d'\\fontseries{bx}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"sb\"}]' data-latex\x3d'\\fontseries{sb}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"c\"}]' data-latex\x3d'\\fontseries{c}\\text{Ab}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"up\"}]' data-latex\x3d'\\textup{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"it\"}]' data-latex\x3d'\\textit{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex\x3d'\\textsl{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex\x3d'\\textsc{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-insert\x3d'\\emph{#@} ' data-latex\x3d'\\text{\\emph{emph}}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex\x3d'\\textrm{Az}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex\x3d'\\texttt{Az}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex\x3d'\\textsf{Az}'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex\x3d'\\mathbb{AZ}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex\x3d'\\mathscr{AZ}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex\x3d'\\mathcal{A1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex\x3d'\\mathfrak{Az}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e"};
$c({showAlternateKeys:function(b,f){var q;d();const D=Ge[f],J=document.createElement("div");J.setAttribute("aria-hidden","true");J.className="ML__keyboard alternate-keys"+(b.element.classList.contains("material")?" material":"");J.id="mathlive-alternate-keys-panel";14<=D.length?J.style.width="236px":7<=D.length?J.style.width="286px":4===D.length||2===D.length?J.style.width="146px":1===D.length?J.style.width="86px":J.style.width="146px";J.style.height="auto";let M="";for(const W of D)M+="\x3cli","string"==
typeof W?M+=' data-latex\x3d"'+W.replace(/"/g,"\x26quot;")+'"':(W.latex&&(M+=' data-latex\x3d"'+W.latex.replace(/"/g,"\x26quot;")+'"'),W.content&&(M+=' data-content\x3d"'+W.content.replace(/"/g,"\x26quot;")+'"'),W.insert&&(M+=' data-insert\x3d"'+W.insert.replace(/"/g,"\x26quot;")+'"'),W.command&&("string"==typeof W.command?M+=` data-command="${W.command.replace(/"/g,"\x26quot;")}"`:M+=" data-command\x3d'"+JSON.stringify(W.command).replace(/"/g,"\x26quot;")+"'"),W.aside&&(M+=` data-aside="${W.aside.replace(/"/g,
"\x26quot;")}"`),W.class&&(M+=` data-classes="${W.class}"`)),M+="\x3e",M+="string"==typeof W?W:null!==(q=W.label)&&void 0!==q?q:"",M+="\x3c/li\x3e";J.innerHTML=b.options.createHTML("\x3cul\x3e"+M+"\x3c/ul\x3e");fi(b,[...J.querySelectorAll("li")],"performAlternateKeys");yh.scrim||(yh.scrim=new yh);yh.scrim.open({root:b.options.virtualKeyboardContainer,child:J});b=null==b?void 0:b.element.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys\x3d"'+f+'"]');if(b=null==b?void 0:b.getBoundingClientRect())0>
b.top-J.clientHeight&&(J.style.width="auto",6>=D.length?J.style.height="56px":12>=D.length?J.style.height="108px":18>=D.length?J.style.height="205px":J.classList.add("compact")),J.style.transform="translate("+(Math.max(0,Math.min(window.innerWidth-J.offsetWidth,(b.left+b.right-J.offsetWidth)/2))+"px,")+((b.top-J.clientHeight+5).toString()+"px)"),J.classList.add("is-visible");return!1}},{target:"virtual-keyboard"});$c({shiftKeyboardLayer:function(b){var f=null==b?void 0:b.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");
if(f)for(const q of f){if(q.dataset.unshiftedContent)break;if((f=q.getAttribute("data-shifted"))||/^[a-z]$/.test(q.innerHTML))if(q.dataset.unshiftedContent=q.innerHTML,f||(f=q.innerHTML.toUpperCase()),q.innerHTML=b.options.createHTML(f),f=q.getAttribute("data-command")){q.dataset.unshiftedCommand=f;const D=q.getAttribute("data-shifted-command");D?q.dataset.command=D:(f=JSON.parse(f),r(f)&&(f[1]=f[1].toUpperCase()),q.dataset.command=JSON.stringify(f))}}return!1}},{target:"virtual-keyboard"});$c({hideAlternateKeys:()=>
jb(),performAlternateKeys:function(b,f){return jb(),b.executeCommand(f)},switchKeyboardLayer:(b,f)=>oh(b,f),unshiftKeyboardLayer:b=>jf(b),insertAndUnshiftKeyboardLayer:function(b,f){return b.executeCommand(["insert",f]),jf(b),!0}},{target:"virtual-keyboard"});$c({toggleVirtualKeyboardAlt:function(b){let f=!1;return(null==b?void 0:b.element)&&(f=null==b?void 0:b.element.classList.contains("material"),b.disable()),Me(b,f?"":"material"),!1},toggleVirtualKeyboardShift:function(b){var f,q;b.options.virtualKeyboardLayout=
{qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[b.options.virtualKeyboardLayout];const D=null!==(q=null===(f=null==b?void 0:b.element.querySelector("div.keyboard-layer.is-visible"))||void 0===f?void 0:f.id)&&void 0!==q?q:"";return b&&b.disable(),Me(b),D&&oh(b,D),!1}},{target:"virtual-keyboard"});$c({toggleVirtualKeyboard:(b,f)=>(b.visible?zg(b):Me(b,f),!1),hideVirtualKeyboard:b=>zg(b),showVirtualKeyboard:(b,f)=>Me(b,f),onUndoStateChanged:(b,f,q)=>{var D;(b=null===
(D=b.element)||void 0===D?void 0:D.querySelector(".keyboard-toolbar"))?(D=b.querySelector("[data-command\x3d'\"undo\"']"),b=b.querySelector("[data-command\x3d'\"redo\"']"),f=(b&&(q?b.classList.remove("disabled"):b.classList.add("disabled")),D&&(f?D.classList.remove("disabled"):D.classList.add("disabled")),!1)):f=!1;return f}},{target:"virtual-keyboard"});let gh,zh=null,hh=null;new class extends Qe{constructor(){super("math")}onPaste(b,f){if(!f.clipboardData||!Eb(b.model,{dataTransfer:f.clipboardData,
inputType:"insertFromPaste"}))return!1;let q="",D="auto",J=f.clipboardData.getData("application/json+mathlive");if(J)try{var M=JSON.parse(J);if(M&&Array.isArray(M)){b.snapshot();const ca=Yc(M,b);({model:M}=b);M.selectionIsCollapsed||M.deleteAtoms(fc(M.selection));const fa=M.at(M.position);if(fa.parent instanceof Xe){const xa=[];let ta=[];"first"===ca[0].type&&ca.shift();"first"===ca[ca.length-1].type&&ca.pop();for(var W of ca)"first"===W.type&&0<ta.length?(xa.push(ta),ta=[W]):ta.push(W);0<ta.length&&
xa.push(ta);let Ma=Number(fa.treeBranch[0]),Pa=Number(fa.treeBranch[1]);const db=fa.parent.maxColumns;for(;fa.parent.colCount-Pa<xa.length&&fa.parent.colCount<db;)fa.parent.addColumn();fa.parent.addChildrenAfter(xa[0],fa);for(W=1;W<xa.length;W++)Pa++,Pa>=db&&(Pa=0,fa.parent.addRowAfter(Ma),Ma++),fa.parent.setCell(Ma,Pa,xa[W])}else fa.parent.addChildrenAfter(ca.filter(xa=>"first"!==xa.type),fa);return M.position=M.offsetOf(ca[ca.length-1]),Hb(M,{inputType:"insertFromPaste"}),Xb(b),f.preventDefault(),
f.stopPropagation(),!0}}catch{}if(J=f.clipboardData.getData("application/json"),J&&b.computeEngine)try{const ca=JSON.parse(J);if("object"==typeof ca&&"latex"in ca&&ca.latex&&(q=ca.latex),!q){const fa=b.computeEngine.box(ca);fa&&!fa.has("Error")&&(q=fa.latex)}q||(D="latex")}catch{}if(q||(q=f.clipboardData.getData("application/x-latex"),q&&(D="latex")),q||(q=f.clipboardData.getData("text/plain")),q){let ca;return b.snapshot(),[ca,q]=ge(q),"auto"===D&&ca&&(D="latex"),this.insert(b.model,q,{format:D})&&
Xb(b),f.preventDefault(),f.stopPropagation(),!0}return!1}insert(b,f,q){var D,J;const M="string"==typeof f?f:null!==(J=null===(D=b.mathfield.computeEngine)||void 0===D?void 0:D.box(f).latex)&&void 0!==J?J:"";if(!q.suppressChangeNotifications&&!Eb(b,{data:M,inputType:"insertText"}))return!1;if(q.insertionMode||(q.insertionMode="replaceSelection"),q.selectionMode||(q.selectionMode="placeholder"),q.format||(q.format="auto"),b.mathfield.smartFence){if(b.selectionIsCollapsed&&"string"==typeof f&&ph(b,f,
q.style))return!0}else if("replaceAll"!==q.insertionMode&&({parent:D}=b.at(b.position),D instanceof wf&&"?"===D.rightDelim&&b.at(b.position).isLastSibling&&"string"==typeof f&&/^[)}\]|]$/.test(f)))return D.isDirty=!0,D.rightDelim=f,b.position+=1,tb(b),Hb(b,{data:M,inputType:"insertText"}),!0;({suppressChangeNotifications:D}=b);q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;const W={};if(W[0]="replaceAll"===q.insertionMode?
"":b.getValue(b.selection,"latex-unstyled"),W["?"]="\\placeholder{}",W["@"]=W["?"],"replaceSelection"!==q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(fc(b.selection)),b.at(b.position).isLastSibling||"placeholder"!==b.at(b.position+1).type?"placeholder"===b.at(b.position).type&&b.deleteAtoms([b.position-
1,b.position]):b.deleteAtoms([b.position,b.position+1]),W[0])W["@"]=W[0];else if("string"==typeof f&&/(^|[^\\])#@/.test(f)){var ca=function(pb){let Mb=pb.at(pb.position);if("text"===Mb.mode){for(;!Mb.isFirstSibling&&"text"===Mb.mode;)Mb=Mb.leftSibling;return pb.offsetOf(Mb)}const Rb=Mb,pc=[];for(;!Mb.isFirstSibling&&(kh(Mb)||0<pc.length);)"mclose"===Mb.type&&pc.unshift(Mb.value),"mopen"===Mb.type&&0<pc.length&&Mb.value===hi[pc[0]]&&pc.shift(),Mb=Mb.leftSibling;return Rb===Mb?-1:pb.offsetOf(Mb)}(b);
0<=ca&&(W["@"]=b.getValue(ca,b.position,"latex-unstyled"),b.deleteAtoms([ca,b.position]))}W[0]||(W[0]=W["?"]);let fa=!1;const [xa,ta]=function(pb,Mb,Rb,pc){var hc;let kd,gd=[];if("string"!=typeof Mb||"math-json"===pc.format){if(!pb.mathfield.computeEngine)return["math-json",[]];[kd,Mb]=["latex",pb.mathfield.computeEngine.box(Mb).latex];gd=Ua(Mb,pb.mathfield,{parseMode:"math"})}else"string"==typeof Mb&&"ascii-math"===pc.format?([kd,Mb]=zd(Mb,{format:"ascii-math",inlineShortcuts:pb.mathfield.options.inlineShortcuts}),
gd=Ua(Mb,pb.mathfield,{parseMode:"math"}),"latex"!==kd&&pb.options.removeExtraneousParentheses&&Be(gd)):("auto"===pc.format||(null===(hc=pc.format)||void 0===hc?0:hc.startsWith("latex")))&&("auto"===pc.format&&([kd,Mb]=zd(Mb,{format:"auto",inlineShortcuts:pb.mathfield.options.inlineShortcuts})),"latex"===pc.format&&([,Mb]=ge(Mb)),gd=Ua(Mb,pb.mathfield,{parseMode:"math",args:Rb}),"latex"!==pc.format&&pb.options.removeExtraneousParentheses&&Be(gd));return Wc(gd,pc.style),[null!=kd?kd:"latex",gd]}(b,
f,pb=>(fa=!0,W[pb]),q);if(!ta)return!1;ca=Pf(ta);var Ma=ca.filter(pb=>pb.placeholderId&&!b.mathfield.placeholders.has(pb.placeholderId));const Pa=ca.map(pb=>pb.placeholderId);[...b.mathfield.placeholders.keys()].filter(pb=>!Pa.includes(pb)).forEach(pb=>{var Mb;b.mathfield.placeholders.has(pb)&&(null===(Mb=b.mathfield.placeholders.get(pb))||void 0===Mb||Mb.field.remove(),b.mathfield.placeholders.delete(pb))});Ma.forEach(pb=>{var Mb,Rb,pc=b.mathfield.options.virtualKeyboardMode;"manual"===pc&&(pc="onfocus");
pc=new Wf({...b.mathfield.options,virtualKeyboardMode:pc,readOnly:!1});const hc=pb.defaultValue?rc.serialize(pb.defaultValue,{defaultMode:"math"}):"";pc.value=hc;pc.addEventListener("input",()=>{!function(kd,gd){!kd.suppressChangeNotifications&&kd.mathfield.host&&(kd.suppressChangeNotifications=!0,kd.mathfield.host.dispatchEvent(new CustomEvent("placeholder-change",{detail:{placeholderId:gd},bubbles:!0,composed:!0})),kd.suppressChangeNotifications=!1)}(b,pb.placeholderId);setTimeout(()=>Xb(b.mathfield))});
null===(Rb=null===(Mb=b.mathfield.element)||void 0===Mb?void 0:Mb.querySelector(".ML__placeholdercontainer"))||void 0===Rb||Rb.appendChild(pc);b.mathfield.placeholders.set(pb.placeholderId,{atom:pb,field:pc})});({parent:ca}=b.at(b.position));if("latex"!==xa&&b.options.removeExtraneousParentheses&&ca instanceof wf&&"("===ca.leftDelim&&ca.hasEmptyBranch("body")&&1===ta.length&&"genfrac"===ta[0].type){Ma=ca.parent;var db=ca.treeBranch;Ma.removeChild(ca);Ma.setChildren(ta,db)}Ma=ca.hasEmptyBranch("body");
db=b.at(b.position);db.parent.addChildrenAfter(ta,db);"latex"===xa&&"string"==typeof f&&"root"===ca.type&&Ma&&!fa&&(ca.verbatimLatex=f);b.suppressChangeNotifications=J;f=ta[ta.length-1];"placeholder"===q.selectionMode?(q=ta.reduce((pb,Mb)=>[...pb,...Mb.children.filter(Rb=>"placeholder"===Rb.type)],[]),0<q.length?(q=b.offsetOf(q[0]),b.setSelection(q-1,q),b.announce("move")):f&&(b.position=b.offsetOf(f))):"before"===q.selectionMode||("after"===q.selectionMode?f&&(b.position=b.offsetOf(f)):"item"===
q.selectionMode&&b.setSelection(b.anchor,b.offsetOf(f)));return Hb(b,{data:M,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};$c({undo:b=>(yc(b,"accept"),b.undo(),!0),redo:b=>(yc(b,"accept"),b.redo(),!0),scrollIntoView:b=>(b.scrollIntoView(),!0),scrollToStart:b=>(b.field.scroll(0,0),!0),scrollToEnd:b=>{const f=b.field.getBoundingClientRect();return b.field.scroll(f.left-window.scrollX,0),!0},toggleKeystrokeCaption:function(b){return b.keystrokeCaptionVisible=!b.keystrokeCaptionVisible,
b.keystrokeCaptionVisible?(b.keystrokeCaption=kf(b),b.keystrokeCaption.innerHTML=""):b.keystrokeCaption&&(b.keystrokeCaption.style.visibility="hidden"),!1},plonk:b=>(b.model.announce("plonk"),!0),switchMode:(b,f,q,D)=>(b.switchMode(f,q,D),!0),insert:(b,f,q)=>b.insert(f,q),typedText:(b,f,q)=>(Kh(b,f,q),!0),insertDecimalSeparator:b=>{if("math"===b.mode&&","===b.options.decimalSeparator){const f=b.model;if(f.at(Math.max(f.position,f.anchor)).isDigit())return b.snapshot(),b.insert("{,}",{format:"latex"}),
!0}return b.insert("."),!0},commit:b=>(Eb(b.model,{inputType:"insertLineBreak"})&&(b.host&&b.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),Hb(b.model,{inputType:"insertLineBreak"})),!0)});$c({copyToClipboard:b=>(b.focus(),b.model.selectionIsCollapsed&&b.select(),document.execCommand("copy"),!1),cutToClipboard:b=>(b.focus(),document.execCommand("cut"),!0),pasteFromClipboard:b=>(b.focus(),document.execCommand("paste"),!0)},{target:"mathfield",category:"clipboard"});$c({applyStyle:function(b,
f){b.flushInlineShortcutBuffer();const q=qg(b,f),{model:D}=b;return D.selectionIsCollapsed?(b.style.fontSeries&&q.fontSeries===b.style.fontSeries&&(q.fontSeries="auto"),q.fontShape&&q.fontShape===b.style.fontShape&&(q.fontShape="auto"),q.color&&q.color===b.style.color&&(q.color="none"),q.backgroundColor&&q.backgroundColor===b.style.backgroundColor&&(q.backgroundColor="none"),q.fontSize&&q.fontSize===b.style.fontSize&&(q.fontSize="auto"),b.style={...b.style,...q}):b.model.deferNotifications({content:!0,
type:"insertText"},()=>{D.selection.ranges.forEach(J=>sd(D,J,q,{operation:"toggle"}));b.snapshot()}),!0}},{target:"mathfield"});let ig=null,yg=0;new class extends Qe{constructor(){super("text")}onPaste(b,f){if(!f.clipboardData)return!1;const q=f.clipboardData.getData("text/plain");return!(!q||!Eb(b.model,{inputType:"insertFromPaste",data:q})||(b.snapshot(),this.insert(b.model,q)&&(Hb(b.model,{inputType:"insertFromPaste"}),Xb(b)),f.preventDefault(),f.stopPropagation(),0))}insert(b,f,q={}){if(!Eb(b,
{data:f,inputType:"insertText"}))return!1;q.insertionMode||(q.insertionMode="replaceSelection");q.selectionMode||(q.selectionMode="placeholder");q.format||(q.format="auto");const {suppressChangeNotifications:D}=b;q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);const J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;"replaceSelection"!==q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===
q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(fc(b.selection));var M=(W=f,ca=b.mathfield,Ua(W=(W=(W=(W=(W=(W=(W=(W=(W=(W=(W=W.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\\x26")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/\xa3/g,
"\\textsterling "),ca,{parseMode:"text"})),W,ca;if(Wc(M,q.style),!M)return!1;W=b.at(b.position);M=W.parent.addChildrenAfter(M,W);return b.suppressChangeNotifications=J,"before"===q.selectionMode||("item"===q.selectionMode?b.setSelection(b.anchor,b.offsetOf(M)):M&&(b.position=b.offsetOf(M))),Hb(b,{data:f,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};class ci{constructor(b){var f,q,D;this.targetOrigin=null!==(q=null!==(f=b.targetOrigin)&&void 0!==f?f:globalThis.origin)&&void 0!==q?q:
"*";this.originValidator=null!==(D=b.originValidator)&&void 0!==D?D:"same-origin";this._mathfield=b.mathfield}get visible(){var b,f;return null!==(f=null===(b=df().sharedVirtualKeyboard)||void 0===b?void 0:b.visible)&&void 0!==f&&f}set visible(b){df().sharedVirtualKeyboard&&(df().sharedVirtualKeyboard.visible=b)}setOptions(b){this.sendMessage("setOptions",{options:JSON.stringify(Jf(b))})}create(){}dispose(){this.disable()}enable(){this.enabled||(this.enabled=!0,globalThis.addEventListener("message",
this))}disable(){this.enabled&&(globalThis.removeEventListener("message",this),this.enabled=!1)}executeCommand(b){var f,q,D;return"virtual-keyboard"===ad(b)?(this._mathfield&&(this.setOptions(Jf(this._mathfield.getOptions())),("showVirtualKeyboard"===b||"toggleVirtualKeyboard"===b&&!1===this.visible)&&(null===(q=(f=this._mathfield).focus)||void 0===q||q.call(f))),this.sendMessage("executeCommand",{command:b}),!1):null===(D=this._mathfield)||void 0===D?void 0:D.executeCommand(b)}focusMathfield(){}blurMathfield(){}stateChanged(){}handleEvent(b){var f,
q,D,J;if("message"===b.type&&b.data&&"mathlive#remote-virtual-keyboard-message"===b.data.type){if(!ff(b.origin,this.originValidator))throw Error(`Message from unknown origin (${b.origin}) cannot be handled`);const {action:M}=b.data;"executeCommand"===M?("virtual-keyboard"!==ad(b.data.command)||window!==globalThis.parent)&&this.executeCommand(b.data.command):"updateState"===M?(this.visible=b.data.state.visible,this.height=b.data.state.height):"focus"===M?null===(q=null===(f=this._mathfield)||void 0===
f?void 0:f.focus)||void 0===q||q.call(f):"blur"===M&&(null===(J=null===(D=this._mathfield)||void 0===D?void 0:D.blur)||void 0===J||J.call(D))}}sendMessage(b,f={}){return!!globalThis.parent&&(globalThis.parent.postMessage({type:"mathlive#remote-virtual-keyboard-message",action:b,...f},this.targetOrigin),!0)}}class Zi extends Hi{constructor(b){const f={...Zi.defaultOptions,...Jf(b)};(null==b?0:b.createHTML)&&(f.createHTML=b.createHTML);(null==b?0:b.virtualKeyboardContainer)&&(f.virtualKeyboardContainer=
b.virtualKeyboardContainer);super(f);this.listeners=new Set;globalThis.addEventListener("message",this);document.body.addEventListener("focusin",q=>{var D;q=q.target;(null==q?0:q.isConnected)&&"math-field"===(null===(D=q.tagName)||void 0===D?void 0:D.toLowerCase())&&"onfocus"===q.virtualKeyboardMode&&"hidden"===q.virtualKeyboardState&&(q.virtualKeyboardState="visible")});document.addEventListener("focusout",q=>{var D;q=q.target;(null==q?0:q.isConnected)&&"math-field"===(null===(D=q.tagName)||void 0===
D?void 0:D.toLowerCase())&&setTimeout(()=>{var J,M;"math-field"!==(null===(M=null===(J=document.activeElement)||void 0===J?void 0:J.tagName)||void 0===M?void 0:M.toLowerCase())&&(J=document.querySelector("math-field"))&&(J.virtualKeyboardState="hidden")},300)})}static get defaultOptions(){var b,f;return{createHTML:q=>q,fontsDirectory:"./fonts",soundsDirectory:"./sounds",targetOrigin:globalThis.origin,originValidator:"same-origin",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},
customVirtualKeyboards:{},virtualKeyboardTheme:/macos|ios/.test(h())?"apple":"material",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",computeEngine:null,virtualKeyboardContainer:null!==(f=null===(b=globalThis.document)||void 0===b?void 0:b.body)&&void 0!==f?f:null}}addEventListener(b,f,q){if("virtual-keyboard-toggle"!==b)throw new TypeError("Unexpected event type");this.listeners.has(f)||this.listeners.add(f)}dispatchEvent(b){if("virtual-keyboard-toggle"!==
b.type)throw new TypeError("Unexpected event type");return 0!==this.listeners.size&&(this.listeners.forEach(f=>{"function"==typeof f?f(b):null==f||f.handleEvent(b)}),!0)}removeEventListener(b,f,q){if("virtual-keyboard-toggle"!==b)throw new TypeError("Unexpected event type");this.listeners.delete(f)}handleEvent(b){if("message"===b.type&&b.data&&"mathlive#remote-virtual-keyboard-message"===b.data.type){if(!ff(b.origin,this.options.originValidator))throw Error(`Can not handle message from unknown origin (${b.origin}).`);
var {action:f}=b.data;"executeCommand"===f?({command:f}=b.data,(this.sourceFrame=b.source,"virtual-keyboard"===ad(f)||window!==window.parent)&&this.executeCommand(f)):"setOptions"===f&&JSON.stringify(Jf(this.options))!==b.data.options&&(b=Jf(JSON.parse(b.data.options)),b.createHTML=this.options.createHTML,b.virtualKeyboardContainer=this.options.virtualKeyboardContainer,this.setOptions(b))}}stateChanged(){var b,f;this.dispatchEvent(new Event("virtual-keyboard-toggle"));this.sendMessage("stateChanged",
{state:{visible:this.visible,height:null!==(f=null===(b=this.element)||void 0===b?void 0:b.offsetHeight)&&void 0!==f?f:0}})}executeCommand(b){return"virtual-keyboard"===ad(b)?super.executeCommand(b):(this.sendMessage("executeCommand",{command:b}),!1)}focus(){this.sendMessage("focus")}blur(){this.sendMessage("blur")}canUndo(){return this.canUndoState}canRedo(){return this.canRedoState}dispose(){window.removeEventListener("message",this)}sendMessage(b,f={}){var q;null===(q=this.sourceFrame)||void 0===
q||q.postMessage({type:"mathlive#remote-virtual-keyboard-message",action:b,...f},this.options.targetOrigin)}}let Rh,Ah;class Ii{constructor(b,f){var q,D,J;this.focusBlurInProgress=!1;this.stylesheets=[];this.audioBuffers={};this.options=he({...mb(),registers:Db(this)},f.readOnly?{...f,virtualKeyboardMode:"off"}:{plonkSound:"plonk.wav",keypressSound:{spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},...f});"auto"===this.options.virtualKeyboardMode&&
(this.options.virtualKeyboardMode=c()?"onfocus":"off");void 0!==this.options.computeEngine&&(this._computeEngine=f.computeEngine);f.eventSink&&(this.host=f.eventSink);this.placeholders=new Map;this.element=b;b.mathfield=this;(f=null!==(q=f.value)&&void 0!==q?q:this.element.textContent)&&(f=f.trim());null!==this.options.fontsDirectory&&kc(this.options.fontsDirectory);Rh||(Rh=Yd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36));
this.stylesheets.push(De(b,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Rh));Ah||(Ah=Yd('@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle\x3espan{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret\x3e.ML__close,.ML__contains-caret\x3e.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__tooltip-container{position:relative;transform:scale(0)}.ML__tooltip-container .ML__tooltip-content{background:#616161;border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:inline-table;max-width:400px;opacity:0;padding:12px;position:fixed;transition:opacity .15s cubic-bezier(.4,0,1,1);visibility:hidden;width:max-content;z-index:2}.ML__tooltip-container .ML__tooltip-content .ML__text{white-space:normal}.ML__tooltip-container .ML__tooltip-content .ML__base{display:contents}.ML__tooltip-container:hover .ML__tooltip-content{font-size:.75em;opacity:1;transform:scale(1) translateY(3em);visibility:visible}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement\x3dtop]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}').toString(36));
this.stylesheets.push(De(b,'@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle\x3espan{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret\x3e.ML__close,.ML__contains-caret\x3e.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__tooltip-container{position:relative;transform:scale(0)}.ML__tooltip-container .ML__tooltip-content{background:#616161;border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:inline-table;max-width:400px;opacity:0;padding:12px;position:fixed;transition:opacity .15s cubic-bezier(.4,0,1,1);visibility:hidden;width:max-content;z-index:2}.ML__tooltip-container .ML__tooltip-content .ML__text{white-space:normal}.ML__tooltip-container .ML__tooltip-content .ML__base{display:contents}.ML__tooltip-container:hover .ML__tooltip-content{font-size:.75em;opacity:1;transform:scale(1) translateY(3em);visibility:visible}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement\x3dtop]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}',
Ah));q="\x3cspan class\x3dML__textarea\x3e";if(c()?q+="\x3cspan class\x3dML__textarea__textarea tabindex\x3d-1 role\x3dtextbox\x3e\x3c/span\x3e":q+=`<textarea class=ML__textarea__textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none aria-hidden="true" tabindex="${null!==(D=b.tabIndex)&&void 0!==D?D:0}"></textarea>`,q+="\x3c/span\x3e",q+='\x3cspan part\x3d"container" class\x3d"ML__container"\x3e\x3cspan part\x3d"content" class\x3d"ML__content"\x3e\x3c/span\x3e',
q+=`<div part='virtual-keyboard-toggle' class="ML__virtual-keyboard-toggle" role="button" data-ML__tooltip="${k("tooltip.toggle virtual keyboard")}">`,q+=null!==(J=this.options.virtualKeyboardToggleGlyph)&&void 0!==J?J:'\x3cspan style\x3d"width: 21px; margin-top: 4px;"\x3e\x3csvg style\x3d"width: 21px;" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 576 512"\x3e\x3cpath d\x3d"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/\x3e\x3c/svg\x3e\x3c/span\x3e',
q+="\x3c/div\x3e",q+="\x3cdiv class\x3d'ML__placeholdercontainer'\x3e\x3c/div\x3e",q+="\x3c/span\x3e",q+='\x3cdiv class\x3d"ML__sr-only"\x3e\x3cspan aria-role\x3d"status" aria-live\x3d"assertive" aria-atomic\x3d"true"\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e',this.element.innerHTML=this.options.createHTML(q),this.element.children)b=0,D=this.element.children[b++].firstElementChild,this.field=this.element.children[b].children[0],b++,this.virtualKeyboardToggle=this.element.querySelector(".ML__virtual-keyboard-toggle"),
this.ariaLiveText=this.element.children[b].children[0],this.accessibleNode=this.element.children[b++].children[1],this.popoverVisible=this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.mode=Lb(this.options),this.smartModeSuppressed=!1,this.style={},this.options.readOnly||"manual"!==this.options.virtualKeyboardMode?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),
this.options.readOnly?this.element.classList.add("ML__isReadOnly"):this.element.classList.remove("ML__isReadOnly"),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.element.querySelector(".ML__content").addEventListener("click",M=>M.stopImmediatePropagation(),{capture:!1}),this.field.addEventListener("wheel",this,{passive:!1}),pf(this.virtualKeyboardToggle,M=>this.executeCommand(M),{default:"toggleVirtualKeyboard",
alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.blurred=!0,xd(this.element,"focus",this),xd(this.element,"blur",this),this.keyboardDelegate=function(M,W,ca){function fa(Rb){clearTimeout(ta);ta=setTimeout(()=>{clearTimeout(ta);Rb()})}function xa(){if(M.selectionStart===M.selectionEnd){var Rb=M.value;M.value="";0<Rb.length&&ca.typedText(Rb)}}let ta,Ma=null,Pa=null,db=!1,pb=!1,Mb=!1;return M.addEventListener("keydown",Rb=>{db||"Process"===Rb.key||"CapsLock"===Rb.code||/(Control|Meta|Alt|Shift)(Left|Right)/.test(Rb.code)?
Ma=null:(Ma=Rb,Pa=null,ca.keystroke(ef(Rb),Rb)?"textarea"!==M.tagName.toLowerCase()&&(1===Rb.key.length&&ca.typedText(Rb.key),Rb.preventDefault()):(Ma=null,M.value=""))},!0),M.addEventListener("keypress",Rb=>{db||(Ma&&Pa&&ca.keystroke(ef(Ma),Ma),Pa=Rb,fa(xa))},!0),M.addEventListener("keyup",()=>{db||Ma&&!Pa&&xa()},!0),M.addEventListener("paste",Rb=>{M.focus();M.value="";ca.paste(Rb)||Rb.preventDefault();Rb.stopImmediatePropagation()},!0),M.addEventListener("cut",Rb=>ca.cut(Rb),!0),M.addEventListener("copy",
Rb=>ca.copy(Rb),!0),M.addEventListener("blur",Rb=>{var pc,hc,kd;if((null===(hc=null===(pc=Rb.relatedTarget)||void 0===pc?void 0:pc._mathfield)||void 0===hc?void 0:hc.element)===W)return M.focus(),Rb.preventDefault(),void Rb.stopPropagation();pc=null===(kd=yh.scrim)||void 0===kd?void 0:kd.state;return"open"===pc||"opening"===pc||Rb.relatedTarget===Rb.target.getRootNode().host?(Rb.preventDefault(),void Rb.stopPropagation()):void(Mb||pb||(Mb=!0,Ma=null,Pa=null,ca.blur&&ca.blur(),Mb=!1,Rb.stopPropagation()))},
!0),M.addEventListener("focus",Rb=>{Mb||pb||(pb=!0,ca.focus&&ca.focus(),pg()===M&&"function"==typeof M.select&&M.select(),pb=!1,Rb.stopPropagation())},!0),M.addEventListener("compositionstart",Rb=>{db=!0;M.value="";ca.compositionStart&&ca.compositionStart(Rb.data)},!0),M.addEventListener("compositionupdate",Rb=>{db&&ca.compositionUpdate&&ca.compositionUpdate(Rb.data)},!0),M.addEventListener("compositionend",Rb=>{M.value="";db&&(db=!1,ca.compositionEnd&&ca.compositionEnd(Rb.data))},!0),M.addEventListener("beforeinput",
Rb=>{Rb.stopImmediatePropagation()}),M.addEventListener("input",Rb=>{if(!db&&"insertCompositionText"!==Rb.inputType){if("insertFromPaste"===Rb.inputType)return Rb.preventDefault(),void Rb.stopPropagation();fa(xa);Rb.preventDefault();Rb.stopPropagation()}}),{cancelComposition:()=>{const Rb=ca.blur,pc=ca.focus;ca.blur=null;ca.focus=null;M.blur();M.focus();ca.blur=Rb;ca.focus=pc},blur:()=>{"function"==typeof M.blur&&M.blur()},focus:()=>{"function"==typeof M.focus&&M.focus()},hasFocus:()=>pg()===M,setValue:Rb=>
{Rb?(M.value=Rb,pg()===M&&"function"==typeof M.select&&M.select()):(M.value="",M.setAttribute("aria-label",""))},setAriaLabel:Rb=>{M.setAttribute("aria-label","after: "+Rb)},moveTo:(Rb,pc)=>{M.style.top=`${pc}px`;M.style.left=`${Rb}px`}}}(D,this.element,{typedText:M=>Kh(this,M),cut:M=>{this.options.readOnly?this.model.announce("plonk"):Eb(this.model,{inputType:"deleteByCut"})&&(this.snapshot(),Qe.onCopy(this,M),setTimeout(()=>{Vb(this.model,fc(this.model.selection),"deleteByCut");Xb(this)},0))},copy:M=>
Qe.onCopy(this,M),paste:M=>{let W=!0;return this.options.readOnly&&(W=!1),W&&(W=Qe.onPaste(this.model.at(this.model.position).mode,this,M)),W||this.model.announce("plonk"),W},keystroke:(M,W)=>Zg(this,M,W),focus:()=>this.onFocus(),blur:()=>this.onBlur(),compositionStart:M=>this.onCompositionStart(M),compositionUpdate:M=>this.onCompositionUpdate(M),compositionEnd:M=>this.onCompositionEnd(M)}),m()&&"PointerEvent"in window?xd(this.field,"pointerdown",this):xd(this.field,"touchstart:active mousedown",
this),xd(window,"resize",this),window.addEventListener("blur",()=>{we(this)&&this.hasFocus()&&window.addEventListener("focus",M=>{M.target===window&&we(this)&&this.focus()},{once:!0})},{capture:!0}),this.model=new fj({mode:Lb(this.options),macros:this.options.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onSelectionDidChange:M=>this._onSelectionDidChange()},this),this.undoManager=new Fj(this.model),f&&Qe.insert("math",this.model,f,{insertionMode:"replaceAll",selectionMode:"after",
format:"latex",suppressChangeNotifications:!0}),this.undoManager.startRecording(),this.undoManager.snapshot(),this.model.setListeners({onSelectionDidChange:M=>this._onSelectionDidChange()}),Xb(this),m()&&document.fonts.ready.then(()=>Xd(this))}get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}get colorMap(){return b=>{var f;let q;return"function"==typeof(null===(f=this.options)||void 0===f?void 0:f.colorMap)&&(q=this.options.colorMap(b)),q||(q=
t(b)),q}}get backgroundColorMap(){return b=>{var f;let q;return"function"==typeof(null===(f=this.options)||void 0===f?void 0:f.backgroundColorMap)&&(q=this.options.backgroundColorMap(b)),q||"function"!=typeof this.options.colorMap||(q=this.options.colorMap(b)),q||(q=x(b)),q}}get fractionNavigationOrder(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.fractionNavigationOrder)&&void 0!==f?f:"numerator-denominator"}get placeholderSymbol(){var b,f;return null!==(f=null===(b=this.options)||
void 0===b?void 0:b.placeholderSymbol)&&void 0!==f?f:"▢"}get smartFence(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.smartFence)&&void 0!==f&&f}get letterShapeStyle(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.letterShapeStyle)&&void 0!==f?f:"tex"}get registers(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.registers)&&void 0!==f?f:{}}getDefinition(b,f="math"){return tc(b,f)}getMacro(b){return dc(b,this.options.macros)}get virtualKeyboard(){if(!this.options.readOnly)return this._virtualKeyboard||
(this.options.useSharedVirtualKeyboard||df().sharedVirtualKeyboard?this._virtualKeyboard=new ci({targetOrigin:this.options.sharedVirtualKeyboardTargetOrigin,originValidator:this.options.originValidator,mathfield:this}):this._virtualKeyboard=new Hi(this.options,this)),this._virtualKeyboard}get computeEngine(){var b,f;if(void 0===this._computeEngine){const q=null===(b=globalThis[Symbol.for("io.cortexjs.compute-engine")])||void 0===b?void 0:b.ComputeEngine;q&&(this._computeEngine=new q);this._computeEngine&&
","===this.options.decimalSeparator&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return null!==(f=this._computeEngine)&&void 0!==f?f:null}get virtualKeyboardState(){var b;return(null===(b=this.virtualKeyboard)||void 0===b?0:b.visible)?"visible":"hidden"}set virtualKeyboardState(b){this.virtualKeyboard&&("hidden"===b?this.virtualKeyboard.executeCommand("hideVirtualKeyboard"):"visible"===b&&this.virtualKeyboard.executeCommand("showVirtualKeyboard"))}get keybindings(){var b,f;if(this._keybindings)return this._keybindings;
const [q,D]=function(J,M){const W=[],ca=[];for(const fa of J)try{const xa=yb(fa,M);if(xa){const ta=W.filter(Ma=>Ma.key===xa.key&&Ma.ifMode===xa.ifMode);if(0<ta.length)throw Error(`Ambiguous key binding ${fa.key} (${kb(fa.command)}) matches ${ta[0].key} (${kb(ta[0].command)}) with the ${M.displayName} keyboard layout`);W.push(xa)}}catch(xa){xa instanceof Error&&ca.push(xa.message)}return[W,ca]}(this.options.keybindings,null!==(b=lg[0])&&void 0!==b?b:Dj);return 0<(null===(f=lg[0])||void 0===f?void 0:
f.score)&&(this._keybindings=q,D.length),q}setOptions(b){var f,q;(this.options=he(this.options,b),"computeEngine"in b&&(this._computeEngine=this.options.computeEngine),this._computeEngine&&"decimalSeparator"in b&&(this._computeEngine.latexOptions.decimalMarker=","===this.options.decimalSeparator?"{,}":"."),this.model.setListeners({onSelectionDidChange:D=>this._onSelectionDidChange()}),this.model.options.macros=this.options.macros,this._keybindings=void 0,("soundsDirectory"in b||"plonkSound"in b||
"keypressSound"in b||"spacebarKeypressSound"in b||"returnKeypressSound"in b||"deleteKeypressSound"in b)&&(this.audioBuffers={}),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.options.readOnly?(this.hasFocus()&&"visible"===this.virtualKeyboardState&&this.executeCommand("hideVirtualKeyboard"),this.onBlur(),this.element.classList.add("ML__isReadOnly")):this.element.classList.remove("ML__isReadOnly"),null===(f=this.virtualKeyboard)||
void 0===f||f.setOptions(this.options),this.options.readOnly||"manual"!==this.options.virtualKeyboardMode?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),"virtualKeyboardToggleGlyph"in b)&&(f=null===(q=this.element)||void 0===q?void 0:q.querySelector(".ML__virtual-keyboard-toggle"))&&(f.innerHTML=this.options.createHTML(this.options.virtualKeyboardToggleGlyph));q=rc.serialize(this.model.root,{expandMacro:!1,defaultMode:this.options.defaultMode});
("macros"in b||this.model.getValue()!==q)&&Qe.insert("math",this.model,q,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0});Xb(this)}getOptions(b){return Id(this.options,b)}getOption(b){return Id(this.options,b)}handleEvent(b){if(we(this))switch(b.type){case "focus":this.onFocus();break;case "blur":this.onBlur();break;case "touchstart":case "mousedown":case "pointerdown":!function(f,q){function D(hc){m()&&("PointerEvent"in window?(Dc(pb,"pointermove",
J),Dc(pb,"pointerup pointercancel",D),hc instanceof PointerEvent&&pb.releasePointerCapture(hc.pointerId)):(Dc(pb,"touchmove",J),Dc(pb,"touchcancel touchend",D),Dc(window,"mousemove",J),Dc(window,"mouseup blur",D)),ca=!1,clearInterval(Mb),f.element.classList.remove("tracking"),hc&&hc.preventDefault())}function J(hc){if(!M.hasFocus())return void D(null);var kd=Df(hc)?hc.touches[0].clientX:hc.clientX;const gd=Df(hc)?hc.touches[0].clientY:hc.clientY;var Vd=Df(hc)||"touch"===hc.pointerType?20:5;if(Date.now()<
db+500&&Math.abs(Ma-kd)<Vd&&Math.abs(Pa-gd)<Vd)return hc.preventDefault(),void hc.stopPropagation();Vd=pb.getBoundingClientRect();ta=kd>Vd.right;xa=kd<Vd.left;Vd=W;rg(hc)?hc.isPrimary||(Vd=Uf(M,hc.clientX,hc.clientY,{bias:0})):hc.touches&&2===hc.touches.length&&(Vd=Uf(M,hc.touches[1].clientX,hc.touches[1].clientY,{bias:0}));kd=Uf(M,kd,gd,{bias:kd<=Ma?kd===Ma?0:-1:1});0<=Vd&&0<=kd&&(M.model.extendSelectionTo(Vd,kd),Xb(f));hc.preventDefault();hc.stopPropagation()}f.atomBoundsCache=new Map;const M=f;
let W,ca=!1,fa="none";if(!(rg(q)&&1<q.buttons)){var xa=!1,ta=!1,Ma=Df(q)?q.touches[0].clientX:q.clientX,Pa=Df(q)?q.touches[0].clientY:q.clientY,db=Date.now(),pb=M.field,Mb=setInterval(()=>{xa?pb.scroll({top:0,left:pb.scrollLeft-16}):ta&&pb.scroll({top:0,left:pb.scrollLeft+16})},32);ig&&5>Math.abs(ig.x-Ma)&&5>Math.abs(ig.y-Pa)&&Date.now()<ig.time+500?(yg+=1,ig.time=db):(ig={x:Ma,y:Pa,time:db},yg=1);var Rb=pb.getBoundingClientRect();if(Ma>=Rb.left&&Ma<=Rb.right&&Pa>=Rb.top&&Pa<=Rb.bottom){if(f.hasFocus()||
(fa="all",f.focus({scrollIntoView:!1})),f.flushInlineShortcutBuffer(),f.smartModeSuppressed=!1,W=Uf(f,Ma,Pa,{bias:0}),0<=W){if(f.element.classList.add("tracking"),q.shiftKey){var pc=f.model.selectionIsCollapsed;f.model.extendSelectionTo(f.model.anchor,W);fa=Bc(f.model)||pc?"all":"selection"}else"placeholder"===f.model.at(W).type?(f.model.setSelection(W-1,W),fa="selection"):"placeholder"===(null===(pc=f.model.at(W).rightSibling)||void 0===pc?void 0:pc.type)?(f.model.setSelection(W,W+1),fa="selection"):
(f.model.position=W,fa=Bc(f.model)?"all":"selection");f.style={};3===q.detail||2<yg?(D(q),3!==q.detail&&3!==yg||(f.model.selection={ranges:[[0,f.model.lastOffset]]},fa="all")):ca||(ca=!0,m()&&"PointerEvent"in window?(xd(pb,"pointermove",J),xd(pb,"pointerup pointercancel",D),q instanceof PointerEvent&&pb.setPointerCapture(q.pointerId)):(xd(window,"blur",D),Df(q)&&q.touches?(xd(q.target,"touchmove",J),xd(q.target,"touchcancel touchend",D)):(xd(window,"mousemove",J),xd(window,"mouseup",D))),2!==q.detail&&
2!==yg||(Jd(f.model),fa="all"))}}else ig=null;"none"!==fa&&(f.model.selectionIsCollapsed&&(fa="all"),Xb(f));q.preventDefault()}}(this,b);break;case "resize":this.resizeTimer&&cancelAnimationFrame(this.resizeTimer);this.resizeTimer=requestAnimationFrame(()=>we(this)&&this.onResize());break;case "wheel":this.onWheel(b)}}dispose(){if(we(this)){var b=this.element;delete this.element;delete b.mathfield;b.innerHTML=this.model.getValue();Dc(b,"pointerdown",this);Dc(b,"touchstart:active mousedown",this);
Dc(b,"focus",this);Dc(b,"blur",this);Dc(window,"resize",this);window.removeEventListener("blur",this,{capture:!0});delete this.accessibleNode;delete this.ariaLiveText;delete this.field;delete this.fieldContent;this.virtualKeyboardToggle.remove();delete this.virtualKeyboardToggle;this._virtualKeyboard&&(this._virtualKeyboard.dispose(),delete this._virtualKeyboard);He(this.popover);dj&&dj.release();Wi&&Wi.release();delete this.popover;He(this.keystrokeCaption);zh&&zh.release();hh&&hh.release();delete this.keystrokeCaption;
this.stylesheets.forEach(f=>null==f?void 0:f.release())}}flushInlineShortcutBuffer(b){if(null!=b||(b={defer:!1}),!b.defer)return this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),void(this.inlineShortcutBufferFlushTimer=0);0<this.options.inlineShortcutTimeout&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(b){var f,q;return"virtual-keyboard"===
ad(b)?null!==(q=null===(f=this.virtualKeyboard)||void 0===f?void 0:f.executeCommand(b))&&void 0!==q&&q:function(D,J){var M,W,ca;if(!J)return!1;let fa,xa=[],ta=!1,Ma=!1;r(J)?(fa=J[0],xa=J.slice(1)):fa=J;fa=fa.replace(/-\w/g,db=>db[1].toUpperCase());const Pa=null===(M=fh[fa])||void 0===M?void 0:M.target;if("model"===Pa){if(D.options.readOnly&&/^(paste|cut|insert|delete|transpose|add)/.test(fa))return D.model.announce("plonk"),!1;/^(delete|transpose|add)/.test(fa)&&"deleteBackward"!==fa&&D.flushInlineShortcutBuffer();
/^(delete|transpose|add)/.test(fa)&&"latex"!==D.mode&&(D.popUndoStack(),D.snapshot());"latex"!==D.mode||/^(complete)/.test(fa)||mc(D);fh[fa].fn(D.model,...xa);"latex"!==D.mode&&/^(delete|transpose|add)/.test(fa)&&D.snapshot();"latex"===D.mode&&Zc(D);Ma=!0}else if("virtual-keyboard"===Pa)Ma=null!==(ca=null===(W=D.virtualKeyboard)||void 0===W?void 0:W.executeCommand(J))&&void 0!==ca&&ca;else{if(!fh[fa])throw Error(`Unknown command "${fa}"`);/^(undo|redo)/.test(fa)&&D.flushInlineShortcutBuffer();Ma=
fh[fa].fn(D,...xa)}ta=!0;return"virtual-keyboard"!==Pa&&(D.model.selectionIsCollapsed&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(fa)||(D.flushInlineShortcutBuffer(),D.style={})),Ma&&Xb(D),ta}(this,b)}get errors(){return ua(this.model.getValue(),this)}getValue(b,f,q){return this.model.getValue(b,f,q)}setValue(b,f){var q;void 0===(f=null!=f?f:{mode:"math"}).insertionMode&&(f.insertionMode="replaceAll");void 0!==f.format&&"auto"!==f.format||(f.format="latex");
let D="math";void 0!==f.mode&&"auto"!==f.mode||(D=null!==(q=nc(this.model,this.model.position))&&void 0!==q?q:"math");Qe.insert(D,this.model,b,f)&&(this.undoManager.snapshot(),Xb(this))}get expression(){const b=this.computeEngine;return b?b.box(b.parse(this.model.getValue())):null}loadSound(b){var f,q,D,J,M,W,ca;delete this.audioBuffers[b];let fa="";switch(b){case "keypress":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null===(f=this.options.keypressSound)||void 0===f?
void 0:f.default;break;case "spacebar":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null!==(D=null===(q=this.options.keypressSound)||void 0===q?void 0:q.spacebar)&&void 0!==D?D:null===(J=this.options.keypressSound)||void 0===J?void 0:J.default;break;case "delete":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null!==(W=null===(M=this.options.keypressSound)||void 0===M?void 0:M.delete)&&void 0!==W?W:null===(ca=this.options.keypressSound)||void 0===
ca?void 0:ca.default;break;case "plonk":fa=this.options.plonkSound}"string"==typeof fa&&(fa=fa.trim(),f=this.options.soundsDirectory,null!=f&&"null"!==f&&"none"!==fa&&"null"!==fa&&fetch(cc(f+"/"+fa)).then(xa=>xa.arrayBuffer()).then(xa=>this.audioContext.decodeAudioData(xa)).then(xa=>{this.audioBuffers[b]=xa}))}playSound(b){if(this.audioBuffers[b]||this.loadSound(b),this.audioBuffers[b]){var f=this.audioContext.createBufferSource();f.buffer=this.audioBuffers[b];b=this.audioContext.createGain();b.gain.value=
.5;f.connect(b).connect(this.audioContext.destination);f.start()}}scrollIntoView(){var b;if(this.element){null===(b=this.host)||void 0===b||b.scrollIntoView({block:"nearest",inline:"nearest"});this.dirty&&Xd(this,{interactive:!0});b=this.field.getBoundingClientRect();var f=null;if(this.model.selectionIsCollapsed)f=Ne(this.field);else{var q=rf(this);if(0<q.length){f=-1/0;var D=-1/0;for(var J of q)J.right>f&&(f=J.right),J.top<D&&(D=J.top);f={x:f+b.left-this.field.scrollLeft,y:D+b.top-this.field.scrollTop,
height:0}}}this.host&&f&&(J=this.host.getBoundingClientRect(),q=f.y,D=this.host.scrollTop,q<J.top?D=q-J.top+this.host.scrollTop:q>J.bottom&&(D=q-J.bottom+this.host.scrollTop+f.height),this.host.scroll({top:D,left:0}));f&&(f=f.x-window.scrollX,J=this.field.scrollLeft,f<b.left?J=f-b.left+this.field.scrollLeft-20:f>b.right&&(J=f-b.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:J}))}}insert(b,f){if("string"==typeof b&&0<b.length){if(this.flushInlineShortcutBuffer(),(f=
null!=f?f:{mode:"math"}).focus&&this.focus(),f.feedback&&(this.options.keypressVibration&&g()&&navigator.vibrate(3),this.playSound("keypress")),f.scrollIntoView&&this.scrollIntoView(),"\\\\"===b)Ca(this.model);else if("\x26"===b)Ya(this.model);else{const q=this.style;Qe.insert(this.mode,this.model,b,{style:this.model.at(this.model.position).computedStyle,...f});f.resetStyle&&(this.style=q)}return this.undoManager.snapshot(),Xb(this),!0}return!1}switchMode(b,f="",q=""){var D;if(this.mode!==b&&!this.options.readOnly&&
null!==(D=this.host)&&void 0!==D&&D.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){var J=this.mode,{model:M}=this;M.deferNotifications({content:!!q||!!f,selection:!0,type:"insertText"},()=>{var W=!1;if(this.flushInlineShortcutBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(b),f&&"latex"!==b){W=Ua(f,this,{parseMode:b});M.collapseSelection("forward");var ca=M.at(M.position);M.position=M.offsetOf(ca.parent.addChildrenAfter(W,ca));W=!0}if(this.mode=
b,"latex"===b){ca=M.selectionIsCollapsed;yc(this,"accept");var fa=M.at(M.position);if(ca)var xa="\\";else{fa=fc(M.selection);xa=this.model.getValue(fa,"latex");const ta=this.model.extractAtoms(fa);1===ta.length&&ta[0]instanceof We&&(xa=f,ca=!0);fa=M.at(fa[0])}xa=new Of(xa,this);fa.parent.addChildAfter(xa,fa);ca?M.position=M.offsetOf(xa.lastChild):M.setSelection(M.offsetOf(xa.firstChild),M.offsetOf(xa.lastChild))}else Ub(M).forEach(ta=>{ta.isError=!1});q&&(W=Ua(q,this,{parseMode:J}),M.collapseSelection("forward"),
ca=M.at(M.position),M.position=M.offsetOf(ca.parent.addChildrenAfter(W,ca)),W=!0);return Xb(this),W});this.mode=b}}hasFocus(){return m()&&this.keyboardDelegate.hasFocus()}focus(b){var f;this.keyboardDelegate.focus();this.model.announce("line");(null===(f=null==b?void 0:b.scrollIntoView)||void 0===f||f)&&this.scrollIntoView()}blur(){this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(b,f={}){var q,D=!1,J;Ac(f)?J=f:(J=f.range,D=null!==(q=f.suppressChangeNotifications)&&
void 0!==q&&q);const M=qg(this,b);this.model.deferNotifications({content:!D,type:"insertText"},()=>{void 0===J?this.model.selection.ranges.forEach(W=>sd(this.model,W,M,{operation:"set"})):sd(this.model,J,M,{operation:"set"})});Xb(this)}getCaretPoint(){const b=Ne(this.field);return b?{x:b.x,y:b.y}:null}setCaretPoint(b,f){b=Uf(this,b,f,{bias:0});if(0>b)return!1;f=this.model.position;return this.model.position=b,this.model.announce("move",f),Xb(this),!0}getPlaceholderField(b){var f;return null===(f=
this.placeholders.get(b))||void 0===f?void 0:f.field}attachNestedMathfield(){let b=!1;const f=this.field.getBoundingClientRect();this.placeholders.forEach((q,D)=>{var J,M;if(D=this.field.querySelector(`[data-placeholder-id=${D}]`)){D=D.getBoundingClientRect();var W=D.left-f.left+(null!==(J=this.element.offsetLeft)&&void 0!==J?J:0);(!q.field.style.left||1<=Math.abs(W-parseFloat(q.field.style.left)))&&(b=!0,q.field.style.left=`${W}px`);J=D.top-f.top+(null!==(M=this.element.offsetTop)&&void 0!==M?M:
0);(!q.field.style.top||1<=Math.abs(J-parseFloat(q.field.style.top)))&&(b=!0,q.field.style.top=`${J}px`)}});b&&Xb(this)}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){var b,f;this.undoManager.snapshot()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,
composed:!0,detail:{type:"snapshot"}})))}snapshotAndCoalesce(){var b,f;this.undoManager.snapshotAndCoalesce()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}undo(){var b,f;this.undoManager.undo()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),
this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var b,f;this.undoManager.redo()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}resetUndo(){var b;null===(b=this.undoManager)||void 0===b||
b.reset()}_onSelectionDidChange(){var b,f,q;this.keyboardDelegate.setValue(this.model.getValue(this.model.selection,"latex-expanded"));var D=this.model.getAtoms(this.model.selection);1===D.length&&"placeholder"===D[0].type&&(D=D[0],this.model.mathfield.placeholders.has(D.placeholderId)&&(null===(b=this.model.mathfield.placeholders.get(D.placeholderId))||void 0===b||b.field.focus()));b=this.model.at(this.model.position);D=null!==(f=b.mode)&&void 0!==f?f:Lb(this.options);this.mode!==D&&("latex"===this.mode?
(yc(this,"accept",{mode:D}),this.model.position=this.model.offsetOf(b)):this.switchMode(D));null===(q=this.host)||void 0===q||q.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0}))}onFocus(){var b,f,q;!this.focusBlurInProgress&&this.blurred&&(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),null===(b=this.virtualKeyboard)||void 0===b||b.setOptions(this.options),null===(f=this.virtualKeyboard)||void 0===f||f.enable(),"onfocus"===this.options.virtualKeyboardMode&&
this.executeCommand("showVirtualKeyboard"),Oc(this),Xd(this,{interactive:!0}),null===(q=this.host)||void 0===q||q.dispatchEvent(new Event("focus",{bubbles:!1,composed:!0})),this.valueOnFocus=this.model.getValue(),this.focusBlurInProgress=!1)}onBlur(){var b,f;this.focusBlurInProgress||this.blurred||(this.focusBlurInProgress=!0,this.blurred=!0,this.ariaLiveText.textContent="",yc(this,"accept"),this.model.getValue()!==this.valueOnFocus&&this.executeCommand("commit"),/onfocus|manual/.test(this.options.virtualKeyboardMode)&&
!df().sharedVirtualKeyboard&&this.executeCommand("hideVirtualKeyboard"),null===(b=this.virtualKeyboard)||void 0===b||b.disable(),null===(f=this.host)||void 0===f||f.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),Xb(this),this.focusBlurInProgress=!1)}onCompositionStart(b){this.model.deleteAtoms(fc(this.model.selection));requestAnimationFrame(()=>{Xd(this);const f=Ne(this.field);f&&this.keyboardDelegate.moveTo(f.x,f.y)})}onCompositionUpdate(b){var f=this.model;const q=f.at(f.position);if("composition"===
q.type)q.value=b;else{const {caret:D}=q;q.caret="";b=new eg(b,f.mathfield,{mode:q.mode});b.caret=D;q.parent.addChildAfter(b,q);f.position+=1}!0;Xb(this)}onCompositionEnd(b){var f=this.model;const q=f.at(f.position);"composition"===q.type&&(q.parent.removeChild(q),--f.position);!0;Kh(this,b,{simulateKeystroke:!0})}onResize(){Oc(this)}onWheel(b){const f=5*b.deltaX;if(Number.isFinite(f)&&0!==f){var q=this.field;0>f&&0===q.scrollLeft||0<f&&q.offsetWidth+q.scrollLeft>=q.scrollWidth||(q.scrollBy({top:0,
left:f}),b.preventDefault(),b.stopPropagation())}}getHTMLElement(b){let f=b;for(;!f.id&&f.hasChildren;)f=b.children[0];if(f.id)return this.element.querySelector(`[data-atom-id="${f.id}"]`);throw new TypeError("Could not get an ID from atom");}}var Ji,Ki,Li,ij;const Sh=m()?document.createElement("template"):null;Sh&&(Sh.innerHTML='\x3cstyle\x3e\n:host { display: block; position: relative; overflow: hidden auto;}\n:host([hidden]) { display: none; }\n:host([disabled]) { opacity:  .5; }\n:host(:focus), :host(:focus-within) {\n  outline: Highlight auto 1px;    /* For Firefox */\n  outline: -webkit-focus-ring-color auto 1px;\n}\n:host([readonly]), :host([read-only]) { outline: none; }\n\x3c/style\x3e\n\x3cdiv\x3e\x3c/div\x3e\x3cslot style\x3d"display:none"\x3e\x3c/slot\x3e');
const Fe=new WeakMap;class Wf extends HTMLElement{static get optionsAttributes(){return{"default-mode":"string","fonts-directory":"string","sounds-directory":"string","horizontal-spacing-scale":"string","math-mode-space":"string","inline-shortcut-timeout":"string","keypress-vibration":"on/off","keypress-sound":"string","plonk-sound":"string","letter-shape-style":"string",locale:"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off",
"speech-engine":"string","speech-engine-rate":"string","speech-engine-voice":"string","text-to-speech-markup":"string","text-to-speech-rules":"string","virtual-keyboard-layout":"string","virtual-keyboard-mode":"string","virtual-keyboard-theme":"string","virtual-keyboards":"string","use-shared-virtual-keyboard":"boolean","shared-virtual-keyboard-target-origin":"string"}}static get observedAttributes(){return[...Object.keys(Wf.optionsAttributes),"disabled","readonly","read-only"]}constructor(b){d();
super();this.attachShadow({mode:"open"});this.shadowRoot.append(Sh.content.cloneNode(!0));this._slotValue=this.shadowRoot.querySelector("slot:not([name])").assignedNodes().map(f=>3===f.nodeType?f.textContent:"").join("").trim();b&&this.setOptions(b);this.shadowRoot.host.addEventListener("pointerdown",f=>this.onPointerDown(),!0);this.shadowRoot.host.addEventListener("focus",()=>{var f;return null===(f=this._mathfield)||void 0===f?void 0:f.focus()},!0);this.shadowRoot.host.addEventListener("blur",()=>
{var f;return null===(f=this._mathfield)||void 0===f?void 0:f.blur()},!0)}onPointerDown(){window.addEventListener("pointerup",b=>{b.target===this&&this.dispatchEvent(new MouseEvent("click",{altKey:b.altKey,button:b.button,buttons:b.buttons,clientX:b.clientX,clientY:b.clientY,ctrlKey:b.ctrlKey,metaKey:b.metaKey,movementX:b.movementX,movementY:b.movementY,relatedTarget:b.relatedTarget,screenX:b.screenX,screenY:b.screenY,shiftKey:b.shiftKey}))},{once:!0})}getPlaceholderField(b){var f;return null===(f=
this._mathfield)||void 0===f?void 0:f.getPlaceholderField(b)}addEventListener(b,f,q){return super.addEventListener(b,f,q)}removeEventListener(b,f,q){super.removeEventListener(b,f,q)}get mode(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.mode)&&void 0!==f?f:"math"}set mode(b){this._mathfield&&(this._mathfield.mode=b)}get computeEngine(){if(this._mathfield)return this._mathfield.computeEngine}set computeEngine(b){this._mathfield&&this._mathfield.setOptions({computeEngine:b})}get expression(){if(this._mathfield)return this._mathfield.expression}set expression(b){var f,
q;if(this._mathfield){var D=null!==(q=null===(f=this.computeEngine)||void 0===f?void 0:f.box(b).latex)&&void 0!==q?q:null;null!==D&&this._mathfield.setValue(D)}}get errors(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.errors)&&void 0!==f?f:[]}get placeholders(){if(!this._mathfield)return{};const b={};for(const [f,q]of this._mathfield.placeholders)b[f]=q.field;return b}getOptions(b){return this._mathfield?Id(this._mathfield.options,b):Fe.has(this)?Id(he(mb(),Fe.get(this).options),
b):null}getOption(b){return this.getOptions([b])[b]}setOptions(b){if(this._mathfield)this._mathfield.setOptions(b),this._mathfield.placeholders.forEach(f=>{f.field.setOptions({...b,readOnly:!1})});else if(Fe.has(this)){const f={...Fe.get(this).options,...b};Fe.set(this,{...Fe.get(this),selection:{ranges:f.readOnly?[[0,0]]:[[0,-1]]},options:f})}else Fe.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:b});!function(f){const q=mb(),D=f.getOptions();Object.keys(Wf.optionsAttributes).forEach(J=>
{const M=Af(J);"on/off"===Wf.optionsAttributes[J]?q[M]!==D[M]?f.setAttribute(J,D[M]?"on":"off"):f.removeAttribute(J):q[M]!==D[M]&&("boolean"===Wf.optionsAttributes[J]?D[M]?f.setAttribute(J,""):f.removeAttribute(J):"string"!=typeof D[M]&&"number"!=typeof D[M]||f.setAttribute(J,D[M].toString()))})}(this)}executeCommand(b){var f,q;return null!==(q=null===(f=this._mathfield)||void 0===f?void 0:f.executeCommand(b))&&void 0!==q&&q}getValue(b,f,q){var D,J;if(this._mathfield)return this._mathfield.model.getValue(b,
f,q);if(Fe.has(this)){let M,W,ca;if(qc(b)?([M,W]=b.ranges[0],ca=f):Ac(b)?([M,W]=b,ca=f):ic(b)&&ic(f)?(M=b,W=f,ca=q):(M=0,W=-1,ca=b),(void 0===ca||"latex"===ca)&&0===M&&-1===W)return null!==(J=null!==(D=Fe.get(this).value)&&void 0!==D?D:this.textContent)&&void 0!==J?J:""}return""}setValue(b,f){if(this._mathfield&&void 0!==b)return f||(f={suppressChangeNotifications:!0}),void this._mathfield.setValue(b,f);if(Fe.has(this))return f=Fe.get(this).options,void Fe.set(this,{value:b,selection:{ranges:f.readOnly?
[[0,0]]:[[0,-1]],direction:"forward"},options:f});f=$f(this);Fe.set(this,{value:b,selection:{ranges:f.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:f})}hasFocus(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.hasFocus())&&void 0!==f&&f}get virtualKeyboardState(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.virtualKeyboardState)&&void 0!==f?f:"hidden"}set virtualKeyboardState(b){this._mathfield&&(this._mathfield.virtualKeyboardState=b)}focus(){super.focus()}blur(){var b;
null===(b=this._mathfield)||void 0===b||b.blur();super.blur()}select(){var b;null===(b=this._mathfield)||void 0===b||b.select()}insert(b,f){var q,D;return null!==(D=null===(q=this._mathfield)||void 0===q?void 0:q.insert(b,f))&&void 0!==D&&D}applyStyle(b,f){var q;return null===(q=this._mathfield)||void 0===q?void 0:q.applyStyle(b,f)}get caretPoint(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.getCaretPoint())&&void 0!==f?f:null}set caretPoint(b){var f;b&&(null===(f=this._mathfield)||
void 0===f||f.setCaretPoint(b.x,b.y))}setCaretPoint(b,f){var q,D;return null!==(D=null===(q=this._mathfield)||void 0===q?void 0:q.setCaretPoint(b,f))&&void 0!==D&&D}offsetFromPoint(b,f,q){return this._mathfield?Uf(this._mathfield,b,f,q):-1}hitboxFromOffset(b){if(!this._mathfield)return null;b=this._mathfield.model.at(b);return b?(b=cf(this._mathfield,b))?new DOMRect(b.left,b.top,b.right-b.left,b.bottom-b.top):null:null}resetUndo(){var b;null===(b=this._mathfield)||void 0===b||b.resetUndo()}canUndo(){return!!this._mathfield&&
this._mathfield.canUndo()}canRedo(){return!!this._mathfield&&this._mathfield.canRedo()}connectedCallback(){var b,f,q;this.hasAttribute("role")||this.setAttribute("role","math");this.setAttribute("dir","ltr");this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field");this.setAttribute("contenteditable","true");this.setAttribute("aria-multiline","false");this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");const D=this.shadowRoot.querySelector("slot:not([name])");
try{this._style=D.assignedElements().filter(M=>"style"===M.tagName.toLowerCase()).map(M=>M.textContent).join("")}catch(M){}if(this._style){var J=document.createElement("style");J.textContent=this._style;this.shadowRoot.appendChild(J)}try{const M=D.assignedElements().filter(W=>"script"===W.tagName.toLowerCase()&&"application/json"===W.type).map(W=>W.textContent).join("");M&&this.setOptions(JSON.parse(M))}catch(M){}J="";if(J=this.hasAttribute("value")?null!==(b=this.getAttribute("value"))&&void 0!==
b?b:"":null!==(f=null==D?void 0:D.assignedNodes().map(M=>3===M.nodeType?M.textContent:"").join("").trim())&&void 0!==f?f:"",this._mathfield=new Ii(this.shadowRoot.querySelector(":host \x3e div"),{...(Fe.has(this)?Fe.get(this).options:$f(this)),eventSink:this,value:J}),!Fe.has(this)){this.upgradeProperty("disabled");this.upgradeProperty("readonly");for(const M of Object.keys(Wf.optionsAttributes))this.upgradeProperty(Af(M))}(null===(q=this._mathfield)||void 0===q?0:q.model)?(Fe.has(this)&&this._mathfield.model.deferNotifications({content:!1,
selection:!1},()=>{const M=Fe.get(this).value;void 0!==M&&this._mathfield.setValue(M);this._mathfield.model.selection=Fe.get(this).selection;Fe.delete(this)}),D.addEventListener("slotchange",M=>{M.target===D&&(M=D.assignedNodes().map(W=>3===W.nodeType?W.textContent:"").join("").trim(),M!==this._slotValue&&(this._mathfield?this._mathfield.setValue(M):this.value=M))}),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))):this._mathfield=null}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",
{cancelable:!1,bubbles:!0,composed:!0})),this._mathfield){var b=Id(this._mathfield.options,Object.keys(Wf.optionsAttributes).map(f=>Af(f)));Fe.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,options:b});this._mathfield.dispose();this._mathfield=null}}upgradeProperty(b){if(this.hasOwnProperty(b)){const f=this[b];delete this[b];"readonly"!==b&&"read-only"!==b||(b="readOnly");this[b]=f}}attributeChangedCallback(b,f,q){if(f!==q)switch(f=null!==q,b){case "disabled":this.disabled=
f;break;case "read-only":case "readonly":this.readOnly=f}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(b){(b=!!b)?(this.setAttribute("readonly",""),this.setAttribute("disabled",""),this.setAttribute("aria-readonly","true")):(this.removeAttribute("readonly"),this.removeAttribute("read-only"),this.removeAttribute("disabled"),this.removeAttribute("aria-readonly"));this.setOptions({readOnly:b})}get disabled(){return this.hasAttribute("disabled")}set disabled(b){(b=
!!b)?this.setAttribute("disabled",""):this.removeAttribute("disabled");this.setAttribute("aria-disabled",b?"true":"false");this.setOptions({readOnly:b})}get value(){return this.getValue()}set value(b){this.setValue(b)}get defaultMode(){return this.getOption("defaultMode")}set defaultMode(b){this.setOptions({defaultMode:b})}get fontsDirectory(){return this.getOption("fontsDirectory")}set fontsDirectory(b){this.setOptions({fontsDirectory:b})}get mathModeSpace(){return this.getOption("mathModeSpace")}set mathModeSpace(b){this.setOptions({mathModeSpace:b})}get inlineShortcutTimeout(){return this.getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(b){this.setOptions({inlineShortcutTimeout:b})}get keypressVibration(){return this.getOption("keypressVibration")}set keypressVibration(b){this.setOptions({keypressVibration:b})}get keypressSound(){return this.getOption("keypressSound")}set keypressSound(b){this.setOptions({keypressSound:b})}get plonkSound(){var b;
return null!==(b=this.getOption("plonkSound"))&&void 0!==b?b:null}set plonkSound(b){this.setOptions({plonkSound:b})}get letterShapeStyle(){return this.getOption("letterShapeStyle")}set letterShapeStyle(b){this.setOptions({letterShapeStyle:b})}get locale(){return this.getOption("locale")}set locale(b){this.setOptions({locale:b})}get readOnly(){return this.getOption("readOnly")}set readOnly(b){this.setOptions({readOnly:b})}get removeExtraneousParentheses(){return this.getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(b){this.setOptions({removeExtraneousParentheses:b})}get smartFence(){return this.getOption("smartFence")}set smartFence(b){this.setOptions({smartFence:b})}get smartMode(){return this.getOption("smartMode")}set smartMode(b){this.setOptions({smartMode:b})}get smartSuperscript(){return this.getOption("smartSuperscript")}set smartSuperscript(b){this.setOptions({smartSuperscript:b})}get speechEngine(){return this.getOption("speechEngine")}set speechEngine(b){this.setOptions({speechEngine:b})}get speechEngineRate(){return this.getOption("speechEngineRate")}set speechEngineRate(b){this.setOptions({speechEngineRate:b})}get speechEngineVoice(){return this.getOption("speechEngineVoice")}set speechEngineVoice(b){this.setOptions({speechEngineVoice:b})}get textToSpeechMarkup(){return this.getOption("textToSpeechMarkup")}set textToSpeechMarkup(b){this.setOptions({textToSpeechMarkup:b})}get textToSpeechRules(){return this.getOption("textToSpeechRules")}set textToSpeechRule(b){this.setOptions({textToSpeechRules:b})}get virtualKeyboardLayout(){return this.getOption("virtualKeyboardLayout")}set virtualKeyboardLayout(b){this.setOptions({virtualKeyboardLayout:b})}get virtualKeyboardMode(){return this.getOption("virtualKeyboardMode")}set virtualKeyboardMode(b){this.setOptions({virtualKeyboardMode:b})}get virtualKeyboardTheme(){return this.getOption("virtualKeyboardTheme")}set virtualKeyboardTheme(b){this.setOptions({virtualKeyboardTheme:b})}get virtualKeyboards(){return this.getOption("virtualKeyboards")}set virtualKeyboards(b){this.setOptions({virtualKeyboards:b})}get useSharedVirtualKeyboard(){return this.getOption("useSharedVirtualKeyboard")}set useSharedVirtualKeyboard(b){this.setOptions({useSharedVirtualKeyboard:b})}get sharedVirtualKeyboardTargetOrigin(){return this.getOption("sharedVirtualKeyboardTargetOrigin")}set sharedVirtualKeyboardTargetOrigin(b){this.setOptions({sharedVirtualKeyboardTargetOrigin:b})}get selection(){return this._mathfield?
this._mathfield.model.selection:Fe.has(this)?Fe.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(b){"number"==typeof b&&(b={ranges:[[b,b]]});this._mathfield?this._mathfield.model.selection=b:Fe.has(this)?Fe.set(this,{...Fe.get(this),selection:b}):Fe.set(this,{value:void 0,selection:b,options:$f(this)})}get selectionIsCollapsed(){const b=this.selection;return 1===b.ranges.length&&b.ranges[0][0]===b.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:
Fe.has(this)?Fe.get(this).selection.ranges[0][0]:0}set position(b){this._mathfield&&(this._mathfield.model.position=b);Fe.has(this)?Fe.set(this,{...Fe.get(this),selection:{ranges:[[b,b]]}}):Fe.set(this,{value:void 0,selection:{ranges:[[b,b]]},options:$f(this)})}getOffsetDepth(b){var f,q;return this._mathfield&&null!==(q=(null===(f=this._mathfield.model.at(b))||void 0===f?NaN:f.treeDepth)-2)&&void 0!==q?q:0}get lastOffset(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.model.lastOffset)&&
void 0!==f?f:-1}}!m()||null!==(Ji=window.customElements)&&void 0!==Ji&&Ji.get("math-field")||(null!==(Ki=globalThis[ij=Symbol.for("io.cortexjs.mathlive")])&&void 0!==Ki||(globalThis[ij]={}),globalThis[Symbol.for("io.cortexjs.mathlive")].version="0.86.1",window.MathfieldElement=Wf,null!==(Li=window.customElements)&&void 0!==Li&&Li.define("math-field",Wf));const Gj={skipTags:"math-field noscript style textarea pre code annotation annotation-xml".split(" "),processScriptType:"math/tex",processMathJSONScriptType:"math/json",
ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",renderAccessibleContent:"mathml",asciiMath:{delimiters:{display:[["`","`"]]}},TeX:{processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};var Hj=bg,Ij=Ef,xk=Vf,Jj=Mh,Kj=wj,jj=lb;let Rg;Jc("Trigonometry",["\\cos","\\sin","\\tan"],4E3);Jc("Trigonometry","\\arccos \\arcsin \\arctan \\arctg \\arcctg \\arcsec \\arccsc \\arsinh \\arcosh \\artanh \\arcsech \\arccsch \\arg \\ch \\cosec \\cosh \\cot \\cotg \\coth \\csc \\ctg \\cth \\lg \\lb \\sec \\sinh \\sh \\tanh \\tg \\th".split(" "),
2E3);Jc("Functions",["\\ln","\\log","\\exp","\\lim"],4E3);Jc("Functions","\\dim \\ker \\deg \\det \\mod \\min \\max".split(" "),3E3);Jc("Functions",["\\hom"],1200);Jc("Decoration",["\\rule"],200,"$0{2em}{1em}");Jc("Decoration",["\\color","\\textcolor"],200,"{$0{m0}A}{$0{m1}B}{$0{m2}C }{$0{m3}a}{$0{m4}b}{$0{m5}c}{$0{m6}8}");Jc("Decoration",["\\overline","\\underline"],3E3,"$0{\\placeholder{}}");Jc("Decoration",["\\enclose"],1200,'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground\x3d"#fbc0bd"]{x\x3d0}');
Jc("Decoration",["\\fcolorbox"],1200,'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}');Jc("Decoration",["\\colorbox"],1200,'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}');Jc("Decoration",["\\boxed","\\cancel","\\bcancel","\\xcancel"],1200,"$0{\\placeholder{}}");Jc("Decoration",["\\bbox"],1200,'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}');Jc("Styling",["\\mathbb"],4E3,"$0{Don Knuth}");Jc("Styling","\\textbf \\textup \\textit \\textrm \\textsf \\texttt \\textnormal \\textmd \\textsl \\textsc \\mathsf \\mathtt \\mathrm \\mathfrak \\mathcal \\mathscr \\mathbf \\mathmd \\mathit \\text \\mbox \\Bbb \\bold \\bm \\boldsymbol".split(" "),
3E3,"$0{Don Knuth}");Jc("Styling","\\frak \\tt \\bf \\it \\rmfamily \\sffamily \\ttfamily \\class \\cssId \\htmlData \\htmlStyle".split(" "),1200,"{$0 Don Knuth}");Jc("Styling",["\\bfseries","\\mdseries","\\upshape","\\slshape","\\scshape"],1200,"\\text{$0 Don Knuth}");Jc("Styling",["\\class","\\cssId"],1200,"$0{testIdentifier}{Don Knuth}");Jc("Styling",["\\fontseries"],1200,"\\text{$0{b}Don Knuth}");Jc("Styling",["\\fontfamily"],1200,"\\text{$0{cmtt}Don Knuth}");Jc("Styling",["\\fontshape"],1200,
"\\text{$0{sc}Don Knuth}");Jc("Styling",["\\selectfont"],1200,"\\text{$0}");Jc("Styling",["\\emph"],1200,"Don$0{Knuth}");Jc("Styling",["\\em"],1200,"Don{$0 Knuth}");Jc("Layout","\\mathop \\mathbin \\mathrel \\mathopen \\mathclose \\mathpunct \\mathord \\mathinner \\operatorname \\operatorname*".split(" "),1200,"x\x3d$0{arg}\x3d0");Jc("Layout",["\\middle"],1200,"\\left\\{x$0|x\x3e0\\right\\}");Jc("Layout",["\\overset","\\underset","\\stackrel","\\stackbin"],1200,"$0{arg}{x\x3d0}");Jc("Layout",["\\rlap",
"\\mathrlap"],1200,"$0{/}0");Jc("Layout",["\\llap","\\mathllap"],1200,"o$0{/}");Jc("Fractions",["\\frac"],4E3,"$0{\\placeholder{}}{\\placeholder{}}");Jc("Fractions","\\binom \\dfrac \\tfrac \\dbinom \\tbinom \\pdiff \\cfrac".split(" "),1200,"$0{\\placeholder{}}{\\placeholder{}}");Jc("Fractions",["\\over","\\atop","\\choose"],1200,'\\unicode{"2B1A} $0 \\unicode{"2B1A}');Jc("Fractions",["\\overwithdelims","\\atopwithdelims"],1200,'{\\unicode{"2B1A} $0{\\lbrace}{\\rbrace} \\unicode{"2B1A}}');Jc("Extensible Operators",
["\\sum","\\prod","\\bigcap","\\bigcup","\\int"],4E3);Jc("Extensible Operators",["\\bigoplus","\\smallint","\\iint","\\oint"],3E3);Jc("Extensible Operators","\\bigwedge \\bigvee \\coprod \\bigsqcup \\bigotimes \\bigodot \\biguplus \\intop \\sqcup \\sqcap \\uplus \\wr \\Cap \\Cup \\doublecap \\doublecup \\amalg \\iiint \\oiint \\oiiint \\intclockwise \\varointclockwise \\ointctrclockwise \\intctrclockwise".split(" "),1200);Jc("Accents",["\\vec"],4E3);Jc("Accents",["\\bar","\\ddot","\\acute","\\tilde",
"\\check"],3E3,"$0{\\placeholder{}}");Jc("Accents",["\\^","\\`","\\'"],1200,"$0{e}");Jc("Accents",["\\c"],1200,"$0{c}");Jc("Accents",["\\~"],1200,"$0{n}");Jc("Accents",["\\mathring","\\hat","\\dot","\\breve","\\grave"],1200,"$0{\\placeholder{}}");Jc("Extensible Symbols","\\overrightarrow \\overleftarrow \\Overrightarrow \\overleftharpoon \\overrightharpoon \\overleftrightarrow \\overbrace \\overlinesegment \\overgroup \\widehat \\widecheck \\widetilde".split(" "),3E3,"$0{ABC}");Jc("Extensible Symbols",
"\\underrightarrow \\underleftarrow \\underleftrightarrow \\underbrace \\underlinesegment \\undergroup \\utilde".split(" "),3E3,"$0{ABC}");Jc("Sizing","\\tiny \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" "),1200,"$0{x\x3d0}");Jc("Sizing",["\\big","\\Big","\\bigg","\\Bigg"],1200,"$0($0)");Jc("Sizing",["\\bigl","\\Bigl","\\biggl","\\Biggl"],1200,"$0(");Jc("Sizing",["\\bigr","\\Bigr","\\biggr","\\Biggr"],1200,"$0)");Jc("Sizing",["\\bigm","\\Bigm","\\biggm",
"\\Biggm"],1200,"$0|");Jc("Letterlike Symbols","\\nabla \\partial \\N \\R \\Q \\C \\Z \\exponentialE \\forall \\exists \\nexists".split(" "),4E3);Jc("Letterlike Symbols","\\doubleStruckCapitalP \\P \\ell \\hbar \\hslash \\imath \\jmath \\imaginaryI \\imaginaryJ \\differentialD \\rd \\capitalDifferentialD \\doubleStruckCapitalN \\doubleStruckCapitalR \\doubleStruckCapitalQ \\doubleStruckCapitalC \\doubleStruckCapitalZ \\rD \\differencedelta \\mid @ \\Re \\Im \\$ \\% \\And \\degree".split(" "),3E3);
Jc("Letterlike Symbols","\\top \\bot \\scriptCapitalE \\scriptCapitalH \\scriptCapitalL \\gothicCapitalC \\gothicCapitalH \\gothicCapitalI \\gothicCapitalR \\Bbbk \\Finv \\Game \\wp \\eth \\mho \\pounds \\yen \\euro".split(" "),1200);Jc("Crosses",["\\dagger","\\dag"],4E3);Jc("Crosses",["\\ddag","\\ddagger","\\maltese","\\textdagger","\\textdaggerdbl"],1200);Jc("Various","\\checkmark \\diagup \\diagdown \\angle \\measuredangle \\sphericalangle \\prime \\doubleprime \\backprime \\backdoubleprime \\sharp \\flat \\natural \\\x26 \\# \\clubsuit \\spadesuit \\diamondsuit \\heartsuit \\backslash \\infty / \\_ \\/ | '".split(" "),
1200);Jc("Various",["\\unicode"],1200,'$0{"2B1A}');Jc("Arrows",["\\longrightarrow","\\rightarrow","\\Longrightarrow","\\Rightarrow"],4E3);Jc("Arrows","\\longmapsto \\mapsto \\Longleftrightarrow \\rightleftarrows \\leftarrow \\curvearrowleft \\uparrow \\downarrow \\hookrightarrow \\rightharpoonup \\rightleftharpoons".split(" "),3E3);Jc("Arrows","\\Leftarrow \\longleftrightarrow \\longleftarrow \\Longleftarrow \\searrow \\nearrow \\swarrow \\nwarrow \\Uparrow \\Downarrow \\updownarrow \\Updownarrow \\hookleftarrow \\leftharpoonup \\leftharpoondown \\rightharpoondown \\leftrightarrows \\dashrightarrow \\dashleftarrow \\leftleftarrows \\Lleftarrow \\twoheadleftarrow \\leftarrowtail \\looparrowleft \\leftrightharpoons \\circlearrowleft \\Lsh \\upuparrows \\downharpoonleft \\multimap \\leftrightsquigarrow \\twoheadrightarrow \\rightarrowtail \\looparrowright \\curvearrowright \\circlearrowright \\Rsh \\downdownarrows \\upharpoonright \\downharpoonright \\rightsquigarrow \\leadsto \\Rrightarrow \\restriction".split(" "),
1200);Jc("Arrows",["\\upharpoonleft","\\rightrightarrows"],0);Jc("Negated Arrows","\\nrightarrow \\nRightarrow \\nleftrightarrow \\nLeftrightarrow \\nleftarrow \\nLeftarrow".split(" "),1200);Jc("Extensible Symbols","\\xrightarrow \\xleftarrow \\xRightarrow \\xLeftarrow \\xleftharpoonup \\xleftharpoondown \\xrightharpoonup \\xrightharpoondown \\xlongequal \\xtwoheadleftarrow \\xtwoheadrightarrow \\xleftrightarrow \\xLeftrightarrow \\xrightleftharpoons \\xleftrightharpoons \\xhookleftarrow \\xhookrightarrow \\xmapsto \\xtofrom \\xrightleftarrows \\xrightequilibrium \\xleftequilibrium".split(" "),
1200,"$0[below]{above}\x3d0");Jc("Negated Relations","\\nless \\nleqslant \\lneq \\lneqq \\nleqq \\unlhd \\unrhd \\lvertneqq \\lnsim \\lnapprox \\nprec \\npreceq \\precnsim \\precnapprox \\nsim \\nshortmid \\nmid \\nvdash \\nvDash \\ngtr \\ngeqslant \\ngeqq \\gneq \\gneqq \\gvertneqq \\gnsim \\nsucc \\succnsim \\ncong \\nshortparallel \\nparallel \\nVDash \\nVdash \\precneqq \\succneqq \\gnapprox \\succnapprox \\nsucceq".split(" "),1200);Jc("Hebrew",["\\aleph","\\beth","\\daleth","\\gimel"],1200);
Jc("Fences","\\lbrace \\rbrace \\vert \\Vert \\{ \\} ( ) [ ]".split(" "),4E3);Jc("Fences","\\langle \\rangle \\lfloor \\rfloor \\lceil \\rceil \\mvert \\| \\mVert".split(" "),3E3);Jc("Fences","\\lvert \\rvert \\lVert \\rVert \\lbrack \\rbrack \\ulcorner \\urcorner \\llcorner \\lrcorner \\lgroup \\rgroup \\lmoustache \\rmoustache".split(" "),1200);Jc("Relations","\x3d \\ne \\neq \x3c \x3e \\leqslant \\geqslant \\approx".split(" "),4E3);Jc("Relations","\\lt \\gt \\le \\ge \\leq \\geq \\gg \\cong \\equiv \\prec \\preceq \\succ \\perp \\parallel \\propto \\smile \\frown \\sim \\gtrsim".split(" "),
3E3);Jc("Relations","\\coloneq \\succeq \\approxeq \\thickapprox \\lessapprox \\gtrapprox \\precapprox \\succapprox \\thicksim \\succsim \\precsim \\backsim \\eqsim \\backsimeq \\simeq \\lesssim \\nleq \\ngeq \\smallsmile \\smallfrown \\bowtie \\asymp \\leqq \\eqslantless \\ll \\lll \\lessgtr \\lesseqgtr \\lesseqqgtr \\risingdotseq \\fallingdotseq \\preccurlyeq \\curlyeqprec \\vDash \\Vvdash \\bumpeq \\Bumpeq \\geqq \\eqslantgtr \\ggg \\gtrless \\gtreqless \\gtreqqless \\succcurlyeq \\curlyeqsucc \\Vdash \\shortmid \\shortparallel \\between \\pitchfork \\varpropto \\backepsilon \\llless \\gggtr \\lhd \\rhd \\Join \\doteq \\doteqdot \\Doteq \\eqcirc \\circeq \\lessdot \\gtrdot \\measeq \\eqdef \\questeq".split(" "),
1200);Jc("Logic",["\\leftrightarrow","\\Leftrightarrow","\\to"],4E3);Jc("Logic",["\\models","\\vdash"],3E3);Jc("Logic","\\therefore \\because \\implies \\gets \\dashv \\impliedby \\biconditional \\roundimplies".split(" "),1200);Jc("Operators",["+","-","*","\\cdot"],4E3);Jc("Operators",["\\sqrt"],4E3,"$0{\\placeholder{}}");Jc("Operators",["\\pm","\\mp","\\times","\\div","\\surd"],3E3);Jc("Operators","\\ltimes \\rtimes \\leftthreetimes \\rightthreetimes \\intercal \\dotplus \\centerdot \\doublebarwedge \\divideontimes \\divides".split(" "),
1200);Jc("Logic",["\\wedge","\\vee","\\neg"],4E3);Jc("Logic",["\\lnot"],3E3);Jc("Logic","\\land \\lor \\barwedge \\veebar \\nor \\curlywedge \\curlyvee".split(" "),1200);Jc("Greek","\\alpha \\beta \\gamma \\delta \\epsilon \\varepsilon \\zeta \\eta \\theta \\vartheta \\iota \\kappa \\varkappa \\lambda \\mu \\nu \\xi \\pi \\varpi \\rho \\varrho \\sigma \\varsigma \\tau \\phi \\varphi \\upsilon \\chi \\psi \\omega \\Gamma \\Delta \\Theta \\Lambda \\Xi \\Pi \\Sigma \\Upsilon \\Phi \\Psi \\Omega \\digamma \\omicron".split(" "),
3E3);Jc("Sets","\\emptyset \\varnothing \\cap \\cup \\in \\notin \\subset \\supset \\subseteq \\supseteq \\sqsubseteq".split(" "),4E3);Jc("Sets","\\setminus \\not \\ni \\sqsupseteq \\nsupseteqq \\supsetneq \\varsupsetneq \\supsetneqq \\varsupsetneqq".split(" "),3E3);Jc("Sets","\\smallsetminus \\complement \\owns \\subsetneq \\varsubsetneq \\subsetneqq \\varsubsetneqq \\nsubset \\nsupset \\nsubseteq \\nsupseteq \\nsubseteqq \\subseteqq \\Subset \\sqsubset \\supseteqq \\Supset \\sqsupset".split(" "),
1200);Jc("Spacing",["\\space","\\quad","\\qquad"],3E3,'\\unicode{"203A}$0\\unicode{"2039}');Jc("Spacing","\\! \\, \\: \\; \\enskip \\enspace".split(" "),1200,'\\unicode{"203A}$0\\unicode{"2039}');Jc("Spacing",["\\hspace","\\hspace*"],1200,'\\unicode{"203A}$0{1em}\\unicode{"2039}');Jc("Punctuation",'\\colon \\cdotp \\ldots \\cdots \\ddots \\vdots ? ! : " , . ;'.split(" "),3E3);Jc("Punctuation",["\\mathellipsis","\\ldotp","\\Colon"],1200);Jc("Boxes",["\\square","\\Box"],3E3);Jc("Boxes",["\\blacksquare",
"\\boxminus","\\boxplus","\\boxtimes","\\boxdot"],1200);Jc("Circles",["\\circ","\\bullet","\\circleddash","\\oplus","\\otimes"],3E3);Jc("Circles","\\bigcirc \\circledast \\ominus \\circledcirc \\oslash \\circledS \\circledR \\odot".split(" "),1200);Jc("Triangles",["\\triangle","\\triangleq"],3E3);Jc("Triangles","\\bigtriangleup \\vartriangle \\triangledown \\bigtriangledown \\triangleleft \\vartriangleleft \\trianglelefteq \\ntriangleleft \\ntrianglelefteq \\triangleright \\vartriangleright \\trianglerighteq \\ntriangleright \\ntrianglerighteq \\blacktriangle \\blacktriangledown \\blacktriangleleft \\blacktriangleright".split(" "),
1200);Jc("Shapes",["\\ast","\\star"],3E3);Jc("Shapes",["\\diamond","\\Diamond","\\lozenge","\\blacklozenge","\\bigstar"],1200);const Lj={latexToAsciiMath:function(b,f="math"){const q=Sb(),D=new rc("root",q);return D.body=Ua(b,q,{parseMode:f}),xc(D)},asciiMathToLatex:function(b){return zd(b,{format:"ascii-math"})[1]},FUNCTIONS:Hj,MATH_SYMBOLS:Ij,TEXT_SYMBOLS:xk,ENVIRONMENTS:Jj,DEFAULT_KEYBINDINGS:Kj,getKeybindingMarkup:jj};w.MathfieldElement=Wf;w.autoRenderMathInElement=ah;w.convertLatexToMarkup=Jg;
w.convertLatexToMathMl=rh;w.convertLatexToSpeakableText=tg;w.debug=Lj;w.globalMathLive=df;w.makeSharedVirtualKeyboard=function(b){return df().sharedVirtualKeyboard||([...document.querySelectorAll("math-field")].some(f=>f.isConnected&&f._mathfield&&f._mathfield._virtualKeyboard),df().sharedVirtualKeyboard=new Zi(b)),df().sharedVirtualKeyboard};w.renderMathInDocument=function(b){d();sh(document.body,b)};w.renderMathInElement=sh;w.serializeMathJsonToLatex=gg;w.validateLatex=function(b){return ua(b,Sb())};
w.version={mathlive:"0.86.1"};Object.defineProperty(w,"__esModule",{value:!0})};"object"==typeof p&&"undefined"!=typeof X?B(p):"function"==typeof define&&define.amd?define(["exports"],B):B((G="undefined"!=typeof globalThis?globalThis:G||self).MathLive={})};
'use strict';var Rsc=function(a,b){$APP.qp.call(this);this.Gf=a||1;this.jf=b||$APP.ia;this.Fh=(0,$APP.oa)(this.Zk,this);this.hi=Date.now()},U4=function(a,b,c,d,g,l){this.f=a;this.atom=b;this.params=c;this.R=d;this.N=g;this.P=l;this.O=2230716170;this.U=139264},V4=function(a){return a instanceof U4},W4=function(a){return V4(a)||$APP.wd(a)&&!(a instanceof $APP.q)},Ssc=function(a){return W4(a)?V4(a)?$APP.Fj.B(a,$APP.Dy,function(b){return function(){function c(g){var l=null;if(0<arguments.length){l=0;
for(var n=Array(arguments.length-0);l<n.length;)n[l]=arguments[l+0],++l;l=new $APP.Bc(n,0,null)}return d.call(this,l)}function d(g){var l=$APP.Je.A(b,g);return function(n){n=$APP.x.B(n,0,null);return l.j?l.j(n):l.call(null,n)}}c.G=0;c.K=function(g){g=$APP.r(g);return d(g)};c.C=d;return c}()}):function(b){b=$APP.x.B(b,0,null);return a.j?a.j(b):a.call(null,b)}:a},Vsc=function(a,b){var c=$APP.qe(b),d=$APP.C.A(c,$APP.Dy);b=$APP.C.A(c,$APP.dm);c=$APP.C.A(c,$APP.mv);return new $APP.H(null,2,5,$APP.I,[$APP.KR.M(function(){function g(n){var p=
null;if(0<arguments.length){p=0;for(var v=Array(arguments.length-0);p<v.length;)v[p]=arguments[p+0],++p;p=new $APP.Bc(v,0,null)}return l.call(this,p)}function l(n){var p=$APP.Je.A(d,n);return function(v){v=$APP.x.B(v,0,null);return p.j?p.j(v):p.call(null,v)}}g.G=0;g.K=function(n){n=$APP.r(n);return l(n)};g.C=l;return g}(),b,new $APP.H(null,1,5,$APP.I,[0],null),new $APP.f(null,1,[$APP.fq,$APP.qE],null)),$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,
vAc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.QWb,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.iy,null,1,null),new $APP.D(null,c,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,b,null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,wAc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,a,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,wAc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,vAc,null,1,null)])))),null,1,null)])))),null,1,null)]))))],null)},X4=function(a,b){var c=$APP.C.A(a,b);if(W4(c)){var d=$APP.Nj.J(),g=V4(c)?Vsc(d,c):new $APP.H(null,2,5,$APP.I,[$APP.$3.B(c,1,new $APP.f(null,1,[$APP.fq,$APP.qE],null)),d],null);c=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,
2,5,$APP.I,[d,$APP.Kn.A(xAc,c)],null),$APP.rg.B(a,b,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},Y4=function(a,b){var c=$APP.C.A(a,b);if(W4(c)){var d=$APP.Nj.J();if(V4(c)){var g=$APP.qe(c);c=$APP.C.A(g,$APP.Dy);var l=$APP.C.A(g,$APP.dm);g=$APP.C.A(g,$APP.mv);c=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(c,l,new $APP.H(null,2,5,$APP.I,[0,0],null),new $APP.f(null,1,[$APP.fq,$APP.qE],null)),$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,
yAc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.QWb,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.iy,null,1,null),new $APP.D(null,g,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,l,null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,zAc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,d,null,1,null),new $APP.D(null,zAc,null,1,null),$APP.y([new $APP.D(null,yAc,null,1,null)])))),null,1,null)])))),null,1,null)]))))],null)}else c=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(c,!1,new $APP.H(null,2,5,$APP.I,[0,0],null),new $APP.f(null,1,[$APP.fq,$APP.qE],null)),d],null);l=c;c=$APP.x.B(l,0,null);l=$APP.x.B(l,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[d,$APP.Kn.A(xAc,c)],null),$APP.rg.B(a,b,l)],null)}return new $APP.H(null,
2,5,$APP.I,[$APP.sf,a],null)},Z4=function(a,b){a=$APP.Lf.B($APP.sf,$APP.eh,a);return $APP.r(a)?new $APP.D(null,AAc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null):b},$sc=function(a){return $APP.Id.B(function(b,c){var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);b=X4.A?X4.A(b,c):X4.call(null,b,c);c=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.Vd.A(d,c),b],null)},new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null),$APP.ng(a))},dtc=function(a){return $APP.Xj.la(a,
$APP.rg,BAc,!0,CAc,DAc)},gtc=function(a){return dtc($4.j(new $APP.H(null,3,5,$APP.I,[EAc,new $APP.H(null,1,5,$APP.I,[FAc],null),a],null)))},a5=function(a){return htc(a,gtc)},htc=function(a,b){return dtc($4.A(a,b))},ktc=function(){var a=new Rsc;return function(b){b=$APP.qe(b);var c=$APP.C.B(b,$APP.wS,1),d=$APP.C.B(b,GAc,!0),g=$APP.C.A(b,HAc),l=Date.now();$APP.vs.useEffect(function(){return function(){return a.dispose()}},[]);$APP.vs.useEffect(function(){$APP.k(a.enabled)?$APP.k(d)||a.stop():$APP.k(d)&&
a.start()},[d]);$APP.vs.useEffect(function(){$APP.k(c)&&a.setInterval(c)},[c]);return $APP.vs.useEffect(function(){if($APP.k(g)){var n=$APP.op(a,"tick",function(){var p=(Date.now()-l)/1E3;return g.j?g.j(p):g.call(null,p)});return function(){return $APP.Pka(n)}}},[g])}},mtc=function(a){return new $APP.H(null,3,5,$APP.I,[IAc,ktc,a],null)},otc=function(a,b,c){var d=$APP.qe(c);c=$APP.C.A(d,$APP.WS);d=$APP.C.A(d,JAc);c=$APP.k(c)?c:1E-6;return new $APP.lab.Solver(function(g,l,n){return a.A?a.A(l,n):a.call(null,
l,n)},b,{absoluteTolerance:c,relativeTolerance:c,rawFunction:!0,maxSteps:$APP.k(d)?d:1E4})},ptc=function(a){return $APP.pt.j($APP.db(a)?a:$APP.ef(a))},qtc=function(a,b){b[0]=a[0];b[1]=a[1];return b[2]=a[2]},stc=function(a){var b=rtc,c=$APP.sg(a,b);a=$APP.Je.B($APP.Oi,a,b);return new $APP.H(null,2,5,$APP.I,[c,a],null)},ttc=function(a,b){$APP.vs.useEffect(function(){$APP.k(b)&&(b.j?b.j(a):b.call(null,a));if($APP.k(a))return function(){return $APP.k(b)?b.j?b.j(null):b.call(null,null):null}},[a])},xtc=
function(a,b){b=$APP.qe(b);var c=$APP.C.A(b,KAc),d=$APP.C.A(b,LAc);$APP.vs.useEffect(function(){if($APP.k(a)){var g=a.three.renderer;$APP.k(c)?g.setClearColor($APP.k(c.isColor)?c:new wtc.Color(c),$APP.k(d)?d:g.getClearAlpha()):$APP.k(d)&&g.setClearAlpha(d)}},[a,c,d])},ytc=function(a,b,c){return function(){$APP.k($APP.k(a)?c:a)&&(a.three.controls[b]=c)}},ztc=function(a,b){$APP.vs.useEffect(function(){if($APP.k($APP.k(a)?$APP.r(b):a)){for(var c=$APP.r(b),d=null,g=0,l=0;;)if(l<g){var n=d.aa(null,l),
p=$APP.x.B(n,0,null);n=$APP.x.B(n,1,null);a.three.on($APP.Ag(p),n);l+=1}else if(c=$APP.r(c))$APP.pd(c)?(g=$APP.lc(c),c=$APP.mc(c),d=g,g=$APP.Tc(g)):(g=$APP.u(c),d=$APP.x.B(g,0,null),g=$APP.x.B(g,1,null),a.three.on($APP.Ag(d),g),c=$APP.w(c),d=null,g=0),l=0;else break;return function(){for(var v=$APP.r(b),t=null,A=0,B=0;;)if(B<A){var G=t.aa(null,B),J=$APP.x.B(G,0,null);G=$APP.x.B(G,1,null);a.three.off($APP.Ag(J),G);B+=1}else if(v=$APP.r(v))$APP.pd(v)?(t=$APP.lc(v),v=$APP.mc(v),J=t,A=$APP.Tc(t),t=J):
(t=$APP.u(v),J=$APP.x.B(t,0,null),G=$APP.x.B(t,1,null),a.three.off($APP.Ag(J),G),v=$APP.w(v),t=null,A=0),B=0;else return null}}},[a,b])},Gtc=function(a,b){ttc(a,MAc.j(b));xtc(a,NAc.j(b));var c=OAc.j(b),d=$APP.qe(c);c=$APP.C.A(d,PAc);d=$APP.C.A(d,QAc);$APP.vs.useEffect(ytc(a,"maxDistance",c),[a,c]);$APP.vs.useEffect(ytc(a,"rotateSpeed",d),[a,d]);ztc(a,RAc.j(b))},Htc=function(a,b,c){var d=$APP.Zl.A(a,b);return $APP.k(d)?$APP.am(a,b,c.j?c.j(d):c.call(null,d)):a},Ktc=function(a){switch(a instanceof $APP.E?
a.ga:null){case "orbit":return Itc.OrbitControls;case "trackball":return Jtc.TrackballControls;default:return a}},Otc=function(a){return Htc(Htc(a,new $APP.H(null,2,5,$APP.I,[OAc,SAc],null),Ktc),new $APP.H(null,2,5,$APP.I,[TAc,UAc],null),function(b){if($APP.od(b)){var c=$APP.x.B(b,0,null),d=$APP.x.B(b,1,null);b=$APP.x.B(b,2,null);return new wtc.Vector3(c,d,b)}return b})},Ptc=function(a){return $APP.md($APP.u(a))?new $APP.H(null,2,5,$APP.I,[$APP.u(a),$APP.Fc(a)],null):new $APP.H(null,2,5,$APP.I,[$APP.F,
a],null)},Xtc=function(a){var b=$APP.qe(a),c=$APP.C.B(b,VAc,!0),d=$APP.C.A(b,$APP.rX);a=$APP.C.A(b,$APP.ST);b=$APP.C.A(b,$APP.Ii);return new $APP.H(null,3,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[Rtc,new $APP.f(null,3,[$APP.qF,1,g5,!1,$APP.Bk,function(){var g=$APP.k(c)?Stc:Ttc;return function(l,n){n=n.B?n.B(g,$APP.F,d):n.call(null,g,$APP.F,d);return l.j?l.j(n):l.call(null,n)}}()],null)],null),new $APP.H(null,2,5,$APP.I,[Utc,new $APP.f(null,4,[$APP.ST,$APP.k(a)?a:$APP.k(c)?18:12,WAc,1,XAc,2,$APP.Ii,
$APP.k(b)?b:new $APP.H(null,2,5,$APP.I,[0,20],null)],null)],null)],null)},iuc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,h5);a=$APP.C.B(b,YAc,16);var d=$APP.C.B(b,i5,!0),g=$APP.C.B(b,ZAc,!1),l=$APP.C.B(b,$Ac,f5),n=$APP.C.A(b,j5),p=$APP.C.A(b,k5),v=$APP.C.A(b,$APP.Ii),t=$APP.C.B(b,l5,!0),A=$APP.C.B(b,n5,0),B=$APP.C.B(b,aBc,10),G=$APP.C.B(b,$APP.zT,!1),J=$APP.C.B(b,q5,2),O=$APP.C.A(b,bBc),Q=$APP.C.B(b,r5,0);b=$APP.C.B(b,cBc,!0);var W=m5.j?m5.j(c):m5.call(null,c);c=$APP.k(v)?v:$APP.Uc.A(c,s5)?new $APP.H(null,
2,5,$APP.I,[20,0],null):new $APP.H(null,2,5,$APP.I,[0,-20],null);return new $APP.H(null,4,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[duc,new $APP.f(null,6,[dBc,B,eBc,G,$APP.nq,d,$APP.qq,t,fBc,g,h5,W],null)],null),new $APP.H(null,2,5,$APP.I,[huc,new $APP.f(null,1,[q5,J],null)],null),$APP.k(b)?new $APP.H(null,3,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[o5,new $APP.f(null,2,[g5,!0,$APP.Bk,function(Z){return l.j?l.j(Z):l.call(null,Z)}],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,7,[k5,p,
bBc,O,$APP.ST,a,$APP.Ii,c,t5,Q,v5,n,w5,A],null)],null)],null):null],null)},luc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,h5);a=$APP.C.B(b,x5,5);var d=$APP.C.B(b,$APP.ST,16);b=$APP.rX.j(b);b=$APP.k(b)?b:"";if($APP.Uc.A(b,""))return null;c=m5.j?m5.j(c):m5.call(null,c);return new $APP.H(null,4,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,3,[y5,3,g5,!1,$APP.ly,new $APP.H(null,1,5,$APP.I,[$APP.rg.B(new $APP.H(null,3,5,$APP.I,[0,0,0],null),c-1,a)],null)],null)],null),new $APP.H(null,2,5,
$APP.I,[juc,new $APP.f(null,3,[g5,!1,gBc,"bold",$APP.ly,new $APP.H(null,1,5,$APP.I,[b],null)],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,2,[$APP.ST,d,$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,40],null)],null)],null)],null)},ouc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,h5);a=$APP.C.B(b,i5,!1);var d=$APP.C.A(b,j5),g=$APP.C.B(b,k5,"#808080"),l=$APP.C.B(b,l5,!1),n=$APP.C.B(b,n5,0),p=$APP.C.B(b,q5,1),v=$APP.C.B(b,r5,0),t=$APP.C.B(b,A5,1),A=$APP.C.A(b,$APP.Cp);return new $APP.H(null,4,5,$APP.I,
[e5,new $APP.H(null,2,5,$APP.I,[muc,$APP.fg([k5,q5,$APP.nq,v5,A5,t5,$APP.qq,h5,w5],[g,p,a,d,t,v,l,m5.j?m5.j(c):m5.call(null,c),n])],null),function(){var B=hBc.A(b,!0);return $APP.k(B)?(B=$APP.md(B)?B:$APP.F,new $APP.H(null,2,5,$APP.I,[iuc,$APP.rg.C(B,h5,c,$APP.y([k5,k5.A(B,g),j5,j5.A(B,d),r5,r5.A(B,v),n5,n5.A(B,n)]))],null)):null}(),function(){var B=$APP.rX.A(b,!0);if($APP.k(B)){var G=!0===B?new $APP.f(null,1,[$APP.rX,$APP.Ag(c)],null):$APP.md(B)?$APP.Fj.B(B,$APP.rX,function(J){return $APP.k(J)?J:
$APP.Ag(c)}):new $APP.f(null,1,[$APP.rX,B],null);return new $APP.H(null,2,5,$APP.I,[luc,function(){var J=$APP.rg.B(G,h5,c);return $APP.k(A)?$APP.rg.B(J,x5,x5.A(G,A)):J}()],null)}return null}()],null)},vuc=function(a){var b=$APP.qe(a);a=$APP.C.A(b,j5);var c=$APP.C.B(b,k5,"#808080"),d=$APP.C.A(b,iBc),g=$APP.C.A(b,C5),l=$APP.C.B(b,n5,0),n=$APP.C.A(b,aBc),p=$APP.C.B(b,q5,.5),v=$APP.C.B(b,r5,0);b=$APP.C.B(b,A5,1);var t=$APP.od(n)?n:"number"===typeof n?new $APP.H(null,2,5,$APP.I,[n,n],null):new $APP.H(null,
2,5,$APP.I,[10,10],null);n=$APP.x.B(t,0,null);t=$APP.x.B(t,1,null);var A=$APP.od(d)?d:$APP.k(d)?new $APP.H(null,2,5,$APP.I,[!0,!0],null):new $APP.H(null,2,5,$APP.I,[!1,!1],null);d=$APP.x.B(A,0,null);A=$APP.x.B(A,1,null);return new $APP.H(null,2,5,$APP.I,[quc,$APP.fg([k5,C5,q5,jBc,kBc,lBc,v5,mBc,A5,t5,w5],[c,m5.j?m5.j(g):m5.call(null,g),p,t,d,n,a,A,b,v,l])],null)},wuc=function(a){a=$APP.od(a)?$APP.Bg(a,$APP.Uj.j(!0)):a;return $APP.Lf.B(new $APP.H(null,1,5,$APP.I,[e5],null),$APP.Vg.j(function(b){var c=
$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $APP.k(b)?new $APP.H(null,2,5,$APP.I,[vuc,$APP.rg.B($APP.md(b)?b:$APP.F,C5,c)],null):null}),a)},yuc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,i5),c=$APP.C.A(a,j5),d=$APP.C.B(a,k5,"#3498db"),g=$APP.C.A(a,l5),l=$APP.C.A(a,nBc),n=$APP.C.B(a,n5,0),p=$APP.C.B(a,q5,4),v=$APP.C.B(a,r5,0),t=$APP.C.B(a,A5,1),A=$APP.C.A(a,$APP.rX),B=$APP.C.B(a,D5,6);a=$APP.I;l=new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,4,[$APP.qF,1,g5,!1,y5,3,$APP.ly,new $APP.H(null,1,5,$APP.I,
[l],null)],null)],null);b=new $APP.H(null,2,5,$APP.I,[z5,$APP.fg([k5,q5,$APP.nq,$APP.ST,v5,A5,t5,$APP.qq,w5],[d,p,b,B,c,t,v,g,n])],null);$APP.k(A)?(A=$APP.od(A)?A:$APP.md(A)?new $APP.H(null,2,5,$APP.I,[$APP.nq.A(A,""),$APP.qq.A(A,"")],null):new $APP.H(null,2,5,$APP.I,["",A],null),A=new $APP.H(null,3,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[o5,new $APP.f(null,2,[gBc,"bold",$APP.ly,A],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,1,[$APP.Ii,new $APP.H(null,3,5,$APP.I,[0,0,40],null)],null)],
null)],null)):A=null;return new $APP.H(null,4,5,a,[e5,l,b,A],null)},B5=function(a){var b=$APP.qe(a),c=$APP.C.B(b,h5,1);a=$APP.C.A(b,i5);var d=$APP.C.A(b,E5),g=$APP.C.B(b,oBc,256),l=$APP.C.A(b,j5),n=$APP.C.B(b,k5,"#58a6ff"),p=$APP.C.A(b,l5),v=$APP.C.B(b,n5,0),t=$APP.C.B(b,q5,4),A=$APP.C.B(b,r5,0),B=$APP.C.A(b,$APP.Bk),G=$APP.C.B(b,A5,1);b=$APP.C.B(b,D5,6);var J=$APP.I,O=$APP.I;c=new $APP.f(null,4,[h5,c,y5,3,$APP.Bk,B,q5,g],null);d=$APP.k(d)?$APP.rg.B(c,E5,d):c;return new $APP.H(null,3,5,J,[e5,new $APP.H(null,
2,5,O,[Auc,d],null),new $APP.H(null,2,5,$APP.I,[z5,$APP.fg([k5,q5,$APP.nq,$APP.ST,v5,A5,t5,$APP.qq,w5],[n,t,a,b,l,G,A,p,v])],null)],null)},Guc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,k5);a=$APP.C.B(b,F5,8);var d=$APP.C.B(b,G5,8),g=$APP.C.B(b,pBc,.5),l=$APP.C.B(b,qBc,1),n=$APP.C.A(b,rBc);b=$APP.C.A(b,j5);$APP.k(n)?c=n:(c=$APP.k(c.isColor)?c:new wtc.Color(c),n=c.getHSL({}).l,c=c.offsetHSL(0,0,-.75*n*(1-n)));return new $APP.H(null,6,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[Euc,new $APP.f(null,2,[$APP.Mi,
"\x3c",H5,d],null)],null),new $APP.H(null,2,5,$APP.I,[z5,new $APP.f(null,5,[w5,5,v5,b+.001,k5,c,q5,l,A5,g],null)],null),new $APP.H(null,2,5,$APP.I,[Euc,new $APP.f(null,2,[$APP.Mi,"\x3c\x3c",q5,a],null)],null),new $APP.H(null,2,5,$APP.I,[Fuc,new $APP.f(null,1,[$APP.WD,"yx"],null)],null),new $APP.H(null,2,5,$APP.I,[z5,new $APP.f(null,5,[w5,5,v5,b+.001,k5,c,q5,l,A5,g],null)],null)],null)},J5=function(a){a=$APP.qe(a);var b=$APP.C.A(a,I5),c=$APP.C.B(a,j5,25),d=$APP.C.B(a,k5,16777215),g=$APP.C.B(a,n5,0),
l=$APP.C.B(a,K5,64),n=$APP.C.B(a,M5,64),p=$APP.C.B(a,sBc,!0),v=$APP.C.A(a,N5),t=$APP.C.B(a,r5,0),A=$APP.C.A(a,$APP.Bk),B=$APP.C.B(a,A5,.75),G=$APP.I,J=$APP.I;l=new $APP.f(null,6,[g5,!1,$APP.qF,1,y5,3,q5,l,H5,n,$APP.Bk,A],null);v=$APP.k(v)?$APP.rg.B(l,tBc,v):l;b=$APP.k(b)?$APP.rg.B(v,uBc,b):v;return new $APP.H(null,4,5,G,[e5,new $APP.H(null,2,5,J,[Kuc,b],null),new $APP.H(null,2,5,$APP.I,[Luc,$APP.fg([vBc,wBc,xBc,k5,q5,v5,A5,t5,w5],[!1,!1,p,d,1,c,B,t,g])],null),new $APP.H(null,2,5,$APP.I,[Guc,$APP.rg.C(a,
j5,c,$APP.y([k5,d]))],null)],null)},Uuc=function(a){var b=$APP.qe(a);a=$APP.C.A(b,$APP.ix);var c=$APP.C.A(b,yBc),d=$APP.C.A(b,zBc),g=$APP.Nj.J();b=$APP.Nn.A(c,$APP.Nj);var l=$APP.Hj.j(c);return $APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.C(new $APP.D(null,g,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,ABc,null,1,null),$APP.Uj.A(c,0)))),null,1,null),$APP.y([new $APP.D(null,O5,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
ABc,null,1,null),new $APP.D(null,0,null,1,null),$APP.y([new $APP.D(null,0,null,1,null),new $APP.D(null,0,null,1,null)])))),null,1,null),new $APP.D(null,BBc,null,1,null),new $APP.D(null,$APP.k(d)?function(){var n=$APP.qe(d),p=$APP.C.A(n,$APP.dm);n=$APP.C.A(n,$APP.mv);return $APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Fm,null,1,null),new $APP.D(null,$APP.Px,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.YX,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,
$APP.iy,null,1,null),new $APP.D(null,n,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,p,null,1,null)])))),null,1,null)]))))}():null,null,1,null)]))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,CBc,null,1,null),b)))),null,1,null),$APP.y([$APP.Vg.B(function(n,p){return new $APP.D(null,$APP.Dv,new $APP.D(null,g,new $APP.D(null,n,new $APP.D(null,p,null,1,null),2,null),3,null),
4,null)},l,b),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,a,null,1,null),new $APP.D(null,g,null,1,null),$APP.y([new $APP.D(null,O5,null,1,null),new $APP.D(null,BBc,null,1,null)])))),null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,CBc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Eu,null,1,null),new $APP.D(null,O5,null,1,null),$APP.y([new $APP.D(null,0,null,1,null)])))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
$APP.Eu,null,1,null),new $APP.D(null,O5,null,1,null),$APP.y([new $APP.D(null,1,null,1,null)])))),null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Eu,null,1,null),new $APP.D(null,O5,null,1,null),$APP.y([new $APP.D(null,2,null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)]))))},Vuc=function(a,b){var c=$APP.C.A(a,$APP.Dy);if(W4(c)){var d=$APP.Nj.J(),g=$APP.KV.A(a,!0);if(V4(c)){c=$APP.qe(c);var l=$APP.C.A(c,$APP.Dy),n=$APP.C.A(c,$APP.dm);b=new $APP.H(null,2,5,
$APP.I,[$APP.KR.M(l,n,$APP.Lf.A($APP.sf,$APP.Uj.A(b,0)),new $APP.f(null,3,[$APP.fq,$APP.qE,$APP.KV,g,$APP.sS,$APP.uS],null)),Uuc(new $APP.f(null,3,[$APP.ix,d,yBc,b,zBc,c],null))],null)}else b=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(c,!1,$APP.Lf.A($APP.sf,$APP.Uj.A(b,0)),new $APP.f(null,4,[$APP.fq,$APP.qE,$APP.u3b,!1,$APP.KV,g,$APP.sS,$APP.uS],null)),Uuc(new $APP.f(null,2,[$APP.ix,d,yBc,b],null))],null);g=b;b=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,
2,5,$APP.I,[d,$APP.Kn.A(xAc,b)],null),$APP.rg.B(a,$APP.Dy,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},L5=function(a,b,c){var d=$APP.C.A(a,b);if(W4(d)){c=$APP.od(c)?new $APP.H(null,2,5,$APP.I,[d,c],null):new $APP.H(null,2,5,$APP.I,[Ssc(d),new $APP.H(null,1,5,$APP.I,[c],null)],null);d=$APP.x.B(c,0,null);var g=$APP.x.B(c,1,null),l=V4(d);c=l?new $APP.H(null,2,5,$APP.I,[$APP.Dy.j(d),$APP.dm.j(d)],null):new $APP.H(null,2,5,$APP.I,[d,!1],null);var n=$APP.x.B(c,0,null),p=$APP.x.B(c,1,null);
c=$APP.Nj.J();var v=$APP.KV.A(a,!1);g=new $APP.H(null,2,5,$APP.I,[$APP.KR.M(n,p,g,new $APP.f(null,4,[$APP.fq,$APP.qE,$APP.u3b,l,$APP.KV,v,$APP.sS,$APP.uS],null)),l?$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.fm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,DBc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Fm,null,1,null),new $APP.D(null,$APP.Px,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.YX,null,
1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.iy,null,1,null),new $APP.D(null,$APP.mv.j(d),null,1,null)))),null,1,null),$APP.y([new $APP.D(null,p,null,1,null)])))),null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,EBc,null,1,null),new $APP.D(null,FBc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
c,null,1,null),new $APP.D(null,EBc,null,1,null),$APP.y([new $APP.D(null,FBc,null,1,null),new $APP.D(null,DBc,null,1,null)])))),null,1,null)])))),null,1,null)])))):$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,GBc,null,1,null),new $APP.D(null,HBc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,c,null,1,null),new $APP.D(null,GBc,null,1,null),$APP.y([new $APP.D(null,HBc,null,
1,null),new $APP.D(null,null,null,1,null)])))),null,1,null)]))))],null);d=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[c,$APP.Kn.A(xAc,d)],null),$APP.rg.B(a,b,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},bvc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,Q5);b=L5(a,R5,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[IBc,b],null))},dvc=function(a){a=$APP.qe(a);
var b=$APP.C.A(a,Q5),c=L5(a,R5,b);a=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);c=L5(c,T5,b);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[JBc,c],null)),P5)},evc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,U5);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.PQ,c)}):$APP.PQ.j(b);return dvc($APP.rg.B($APP.Oi.A(a,U5),R5,b))},fvc=function(a){return function(){function b(d){var g=null;if(0<arguments.length){g=0;for(var l=
Array(arguments.length-0);g<l.length;)l[g]=arguments[g+0],++g;g=new $APP.Bc(l,0,null)}return c.call(this,g)}function c(d){return $APP.Hl.A($APP.i9a(1),$APP.VQ($APP.Hl.A($APP.Je.A(a,d),$APP.LQ)))}b.G=0;b.K=function(d){d=$APP.r(d);return c(d)};b.C=c;return b}()},gvc=function(a){return fvc(function(){return a})()},ivc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,Q5);b=L5(a,R5,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[KBc,
b],null)),P5)},kvc=function(a){return $APP.Uc.A(jvc,$APP.Ti.j(a))},mvc=function(a){return $APP.Bd(lvc,$APP.Ti.j(a))},ovc=function(a){return $APP.Bd(a,LBc)},qvc=function(a){return $APP.k(pvc(a))?a:$APP.eu.C(a,$APP.y([$APP.fu,!0]))},svc=function(a){return $APP.k(a)?function(b){return function(c){var d=a.state;c=qvc(c);return $APP.qg.A(c,$APP.C.B(d,b,MBc))?$APP.lh.M(a,$APP.rg,b,c):null}}:function(){return function(){return null}}},tvc=function(a,b,c,d){d=$APP.rg.B($APP.md(b)?$APP.Ni.C($APP.y([c,b])):
$APP.rg.B(c,$APP.fw,b),W5,d);b=$APP.md(b)?$APP.Lf.A(new $APP.ug(null,new $APP.f(null,1,[W5,null],null),null),$APP.ng(b)):new $APP.ug(null,new $APP.f(null,2,[$APP.fw,null,W5,null],null),null);c=$APP.ng($APP.sg(c,b));$APP.k(c)&&console.warn("Schema entry for ",a," matches an entry in the `:atom`. ","The following keys are being evicted: ",c);return $APP.Bs(d)},uvc=function(a,b){var c=$APP.Bd(b,W5)?$APP.Fj.B(b,W5,function(d){return function(g){g=qvc(g);return d.j?d.j(g):d.call(null,g)}}):function(){console.warn(["no `:onChange` for uncontrolled ",
$APP.m.j(a),"! Swapping in a no-op `:onChange`."].join(""));return $APP.rg.B(b,W5,function(){return null})}();return $APP.Bs(c)},vvc=function(a,b,c){$APP.Jd(function(d,g,l){d[$APP.Ag(g)]=tvc(g,l,$APP.F,c.j?c.j(g):c.call(null,g));return d},a,b)},wvc=function(a){if(null==a)a=$APP.F;else if($APP.fb(a))a=qvc(a);else{var b=pvc(a);a=$APP.k($APP.k(b)?b:$APP.od(a))?new $APP.f(null,1,[$APP.fw,a],null):a}return a},yvc=function(a,b,c){function d(p,v,t){$APP.lh.B(l,$APP.Vd,v);p[$APP.Ag(v)]=t;return p}function g(p,
v,t){$APP.lh.B(l,$APP.Vd,p);return console.warn(["ignoring ",$APP.m.j(p),", ",$APP.m.j(v)," in  atom; ",$APP.m.j(t)].join(""))}var l=$APP.kh.j($APP.vg);a=function t(v){return $APP.Jd(function(A,B,G){G=wvc(G);if($APP.Uc.A("",$APP.Ag(B)))return console.error(["Ignoring empty key: ",$APP.m.j(B),". Keys can not be empty! If you want to hide a label, use whitespace."].join("")),A;if($APP.k(function(){var Q=$APP.Fb(l);return Q.j?Q.j(B):Q.call(null,B)}()))return console.error(["Duplicate key: ",$APP.m.j(B),
", ignoring appearance with value: ",$APP.m.j(G)].join("")),A;if(kvc(G)){var J=$APP.C.A(b,B);$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a folder in the schema."].join(""));return d(A,B,S5.folder(t(NBc.j(G)),$APP.Bs(Y5.j(G))))}if(ovc(G))return J=$APP.C.A(b,B),$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a custom input in the schema."].join("")),G=$APP.Fj.B(G,LBc,function(Q){return uvc(B,wvc(Q))}),d(A,B,$APP.Bs(G));if(mvc(G))return J=$APP.C.A(b,B),$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a special input in the schema."].join("")),
d(A,B,$APP.Bs(G));if($APP.md(G)){if($APP.Bd(b,B)){J=c.j?c.j(B):c.call(null,B);var O=$APP.C.A(b,B);return d(A,B,tvc(B,O,G,J))}return d(A,B,uvc(B,G))}console.error(["Unknown type ",$APP.m.j(B),", ",$APP.jh.C($APP.y([G])),"; ignoring."].join(""));return A},{},v)}(a);var n=$APP.Je.B($APP.Oi,b,$APP.Fb(l));vvc(a,n,c);return a},Avc=function(a){function b(){return yvc(g,n,l)}var c=$APP.qe(a),d=$APP.C.A(c,OBc),g=$APP.C.A(c,NBc);a=$APP.C.A(c,$APP.mv);c=$APP.C.A(c,Z5);var l=svc(a),n=$APP.k(a)?a.state:$APP.F;
a=$APP.k(c)?{store:c}:{};c=$APP.R.j(d);return $APP.k(c)?new $APP.H(null,4,5,$APP.I,[c,b,function(){var p=Y5.j(d);return $APP.k(p)?$APP.Bs(p):{}}(),a],null):new $APP.H(null,2,5,$APP.I,[b,a],null)},Bvc=function(a){if(!$APP.k(function(){var n=$APP.mv.j(a);return $APP.k(n)?n:NBc.j(a)}()))throw Error("Error: we currently require either an `:atom` or `:schema` option (or both!)");var b=$APP.vs.useState($APP.m.j($APP.Gh())),c=$APP.x.B(b,0,null),d=$APP.mv.j(a),g=$APP.ng($APP.k(d)?d.state:$APP.F);b=$APP.Fj.B(a,
Z5,function(n){return $APP.k(n)?n:S5.useStoreContext()});b=$APP.Je.A(S5.useControls,Avc(b));$APP.x.B(b,0,null);var l=$APP.x.B(b,1,null);$APP.vs.useEffect(function(){if($APP.k(d))return $APP.ada(d,c,function(n,p,v,t){n=$APP.Bs($APP.sg(t,g));return l.j?l.j(n):l.call(null,n)}),function(){return $APP.bda(d,c)}});return null},V5=function(a){var b=k5.j(a);if($APP.k(b)&&b instanceof $APP.E){var c=$APP.rg.B,d=$APP.Ag(b);b=Cvc.A?Cvc.A(b,d):Cvc.call(null,b,d);a=c.call($APP.rg,a,k5,b)}return a},Dvc=function(a){return new $APP.H(null,
3,5,$APP.I,[$5,X5.Ellipse,V5(a)],null)},Evc=function(a,b){switch(a){case "horizontal":return function(c){var d=$APP.x.B(c,0,null);$APP.x.B(c,1,null);return[d,$APP.x.A(b,1)]};case "vertical":return function(c){$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return[$APP.x.A(b,0),c]};default:throw $APP.Zi.A("Invalid constraint name: ",new $APP.f(null,1,[a6,a],null));}},Fvc=function(a){return function(b){b=a.j?a.j(b):a.call(null,b);return $APP.od(b)?$APP.Je.A($APP.Gaa,b):b}},Gvc=function(a,b){if(null==a)return null;
if($APP.cd(a))return Fvc(a);if(a instanceof $APP.E||"string"===typeof a)return Evc($APP.Ag(a),b);throw $APP.Zi.A("Invalid constraint!",new $APP.f(null,1,[a6,a],null));},Hvc=function(a){return null==a?$APP.Oc:$APP.od(a)?function(b){return $APP.Zl.A($APP.Fb(b),a)}:function(b){return $APP.C.A($APP.Fb(b),a)}},Ivc=function(a){return null==a?$APP.Ne:$APP.od(a)?function(b,c){return $APP.lh.M(b,$APP.am,a,c)}:function(b,c){return $APP.lh.M(b,$APP.rg,a,c)}},Jvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,
1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[c+d,a+b],null)},Kvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[c-d,a-b],null)},Lvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return c*d+a*b},Mvc=function(a){return Math.sqrt(Lvc(a,a))},Nvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return new $APP.H(null,
2,5,$APP.I,[c*b,a*b],null)},Ovc=function(a,b){return Nvc(a,b/Mvc(a))},Pvc=function(a,b,c){b=Kvc(b,a);var d=Mvc(b);return Jvc(a,Ovc(b,c*d))},Qvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=Math.cos(b);b=Math.sin(b);return new $APP.H(null,2,5,$APP.I,[d*c-b*a,b*c+d*a],null)},Rvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return Math.pow(d-c,2)+Math.pow(b-a,2)},Svc=function(a){a=a.expression;return $APP.k(a)?$APP.eu.j(a.json):
null};$APP.pa(Rsc,$APP.qp);$APP.e=Rsc.prototype;$APP.e.enabled=!1;$APP.e.Xc=null;$APP.e.setInterval=function(a){this.Gf=a;this.Xc&&this.enabled?(this.stop(),this.start()):this.Xc&&this.stop()};$APP.e.Zk=function(){if(this.enabled){var a=Date.now()-this.hi;0<a&&a<.8*this.Gf?this.Xc=this.jf.setTimeout(this.Fh,this.Gf-a):(this.Xc&&(this.jf.clearTimeout(this.Xc),this.Xc=null),this.dispatchEvent("tick"),this.enabled&&(this.stop(),this.start()))}};
$APP.e.start=function(){this.enabled=!0;this.Xc||(this.Xc=this.jf.setTimeout(this.Fh,this.Gf),this.hi=Date.now())};$APP.e.stop=function(){this.enabled=!1;this.Xc&&(this.jf.clearTimeout(this.Xc),this.Xc=null)};$APP.e.Qd=function(){Rsc.Ae.Qd.call(this);this.stop();delete this.jf};
var PBc=new $APP.q(null,"Spherical","Spherical",1316206718,null),QBc=new $APP.q("emmy.mathbox","cartesian","emmy.mathbox/cartesian",-1584293216,null),h5=new $APP.E(null,"axis","axis",-1215390822),RBc=new $APP.q("mathbox.primitives.view","View","mathbox.primitives.view/View",825807052,null),SBc=new $APP.q("mathbox.primitives","Resample","mathbox.primitives/Resample",-1111983593,null),XAc=new $APP.E(null,"outline","outline",793464534),TBc=new $APP.q(null,"evolve-lagrangian","evolve-lagrangian",-1243036206,
null),UBc=new $APP.E(null,"foreground","foreground",499022036),VBc=new $APP.q("mafs.vec","rotate-about","mafs.vec/rotate-about",887889058,null),WBc=new $APP.q(null,"rotate","rotate",1793236542,null),XBc=new $APP.q("emmy.mathlive","mathfield","emmy.mathlive/mathfield",-1468252379,null),YBc=new $APP.q("mathbox.primitives","Scale","mathbox.primitives/Scale",570368639,null),ZBc=new $APP.q(null,"stereographic4","stereographic4",-2061489156,null),$Bc=new $APP.q(null,"camera","camera",450182942,null),aCc=
new $APP.q(null,"config","config",-1659574354,null),bCc=new $APP.q("emmy.mathbox.plot","grid","emmy.mathbox.plot/grid",1495397365,null),cCc=new $APP.q("emmy.mafs","of-x","emmy.mafs/of-x",-101417371,null),dCc=new $APP.q("emmy.mafs","of-y","emmy.mafs/of-y",-1318996933,null),eCc=new $APP.q("emmy.mathbox","swizzle","emmy.mathbox/swizzle",1175847286,null),fCc=new $APP.q(null,"Evolve","Evolve",-1058242995,null),sBc=new $APP.E(null,"shaded?","shaded?",1184617038),gCc=new $APP.q("mafs.vec","sub","mafs.vec/sub",
-519407947,null),hCc=new $APP.q("emmy.mathbox.components.plot","Ticks","emmy.mathbox.components.plot/Ticks",98683654,null),iCc=new $APP.q(null,"viewer-or-xform","viewer-or-xform",-228607199,null),jCc=new $APP.q(null,"Lerp","Lerp",-1702516612,null),kCc=new $APP.q(null,"face","face",284050810,null),lCc=new $APP.q("emmy.mathbox","cartesian4","emmy.mathbox/cartesian4",-1048030439,null),mCc=new $APP.q("mafs.vec","dist","mafs.vec/dist",27267176,null),nCc=new $APP.E(null,"points","points",-1486596883),oCc=
new $APP.q("emmy.mathbox.plot","parametric-curve","emmy.mathbox.plot/parametric-curve",-748990892,null),pCc=new $APP.q(null,"Parametric","Parametric",1178317409,null),qCc=new $APP.q("mathbox.primitives.present","Reveal","mathbox.primitives.present/Reveal",-2020668457,null),rCc=new $APP.q(null,"Controls","Controls",-1527939495,null),H5=new $APP.E(null,"height","height",1025178622),sCc=new $APP.q(null,"Shader","Shader",1685374417,null),y5=new $APP.E(null,"channels","channels",1132759174),tCc=new $APP.q(null,
"emmy.mathlive","emmy.mathlive",-1149564965,null),uCc=new $APP.q("mathbox.primitives.present","Move","mathbox.primitives.present/Move",1480445077,null),vCc=new $APP.q("leva.types","FolderType","leva.types/FolderType",-39801598,null),wCc=new $APP.q(null,"surface","surface",-1954520123,null),xCc=new $APP.q("leva.types","folder?","leva.types/folder?",-365505941,null),yCc=new $APP.q(null,"volume","volume",-754104970,null),zCc=new $APP.q("mafs.core","Transform","mafs.core/Transform",344714171,null),ACc=
new $APP.q(null,"Axis","Axis",1020368522,null),BCc=new $APP.q("emmy.viewer.physics","evolve","emmy.viewer.physics/evolve",1783055540,null),CCc=new $APP.q("mathbox.primitives.operator","Join","mathbox.primitives.operator/Join",1208870310,null),TAc=new $APP.E(null,"camera","camera",-1190348585),DCc=new $APP.q("mafs.vec","add","mafs.vec/add",1789175451,null),ECc=new $APP.q("mathbox.primitives.draw","Grid","mathbox.primitives.draw/Grid",-1684351597,null),FCc=new $APP.q(null,"hamiltonian-phase-vectors",
"hamiltonian-phase-vectors",1808262642,null),GCc=new $APP.q(null,"routhian-phase-vectors","routhian-phase-vectors",444705724,null),HCc=new $APP.q("emmy.mathbox.components.plot","threestrap-defaults","emmy.mathbox.components.plot/threestrap-defaults",-922766372,null),ICc=new $APP.q(null,"mathbox.primitives.rtt","mathbox.primitives.rtt",39724351,null),JCc=new $APP.q(null,"LabeledAxis","LabeledAxis",491162808,null),KCc=new $APP.q(null,"lagrangian-curve","lagrangian-curve",-1293888805,null),LCc=new $APP.q("emmy.mathbox",
"lerp","emmy.mathbox/lerp",1243434620,null),MCc=new $APP.q("emmy.mathbox.physics","comet","emmy.mathbox.physics/comet",-304126115,null),NCc=new $APP.q(null,"folder?","folder?",-636107142,null),OCc=new $APP.q(null,"mathbox.primitives.view","mathbox.primitives.view",-1285160772,null),PCc=new $APP.q("emmy.mathbox","rtt","emmy.mathbox/rtt",-1030603983,null),QCc=new $APP.q("emmy.mafs","polyline","emmy.mafs/polyline",-436967170,null),RCc=new $APP.q(null,"v-idx","v-idx",417165568,null),SCc=new $APP.q("mafs.plot",
"OfY","mafs.plot/OfY",-1683890768,null),TCc=new $APP.q("mafs.plot","OfX","mafs.plot/OfX",-327580043,null),UCc=new $APP.q("mathbox.primitives","Swizzle","mathbox.primitives/Swizzle",324393110,null),LBc=new $APP.E(null,"__customInput","__customInput",-1271664812),VCc=new $APP.q("mathbox.primitives.view","Cartesian","mathbox.primitives.view/Cartesian",-53440896,null),WCc=new $APP.q("mathbox.core","Rawbox","mathbox.core/Rawbox",-893924239,null),XCc=new $APP.q("mathlive.core","cdn-sounds","mathlive.core/cdn-sounds",
-181389519,null),YCc=new $APP.q("mafs.plot","Parametric","mafs.plot/Parametric",-506550509,null),ZCc=new $APP.E("nextjournal.clerk","viewer","nextjournal.clerk/viewer",484555418),$Cc=new $APP.q("emmy.mathbox","interval","emmy.mathbox/interval",555966137,null),aDc=new $APP.q("emmy.mathbox","format","emmy.mathbox/format",2090804550,null),bDc=new $APP.q(null,"ticks","ticks",1234341214,null),cDc=new $APP.q("emmy.mathbox.physics","lagrangian-curve","emmy.mathbox.physics/lagrangian-curve",1206015321,null),
dDc=new $APP.q(null,"unit","unit",2015706702,null),eDc=new $APP.q("emmy.mafs","mafs-meta","emmy.mafs/mafs-meta",1175815518,null),fDc=new $APP.q("mathbox.primitives","Line","mathbox.primitives/Line",-1270459063,null),gDc=new $APP.q("mathbox.primitives.view","Cartesian4","mathbox.primitives.view/Cartesian4",-182773992,null),hDc=new $APP.q("mathbox.primitives.operator","Slice","mathbox.primitives.operator/Slice",-1850239959,null),iDc=new $APP.q(null,"TransformWidget","TransformWidget",-1331648879,null),
jDc=new $APP.q("mathbox.primitives.text","Format","mathbox.primitives.text/Format",-1063808060,null),kDc=new $APP.q("mathbox.primitives","Rtt","mathbox.primitives/Rtt",-358152424,null),b6=new $APP.q(null,"points-or-opts","points-or-opts",-1649658469,null),lDc=new $APP.q("emmy.mafs","movable-point","emmy.mafs/movable-point",-983254052,null),kBc=new $APP.E(null,"niceX","niceX",-63711665),mBc=new $APP.E(null,"niceY","niceY",-1644839342),mDc=new $APP.q(null,"fragment","fragment",-1827660081,null),nDc=
new $APP.E(null,"steps","steps",-128433302),oDc=new $APP.q("leva.core","SubPanel","leva.core/SubPanel",282217306,null),pDc=new $APP.q(null,"Point","Point",-2145220521,null),qDc=new $APP.q("mafs.line","PointAngle","mafs.line/PointAngle",-1972612361,null),rDc=new $APP.q(null,"now","now",-9994004,null),sDc=new $APP.q("emmy.mathbox.components.plot","OfY","emmy.mathbox.components.plot/OfY",-977479654,null),tDc=new $APP.q("emmy.mathbox.components.plot","OfZ","emmy.mathbox.components.plot/OfZ",-302664651,
null),uDc=new $APP.q("emmy.mathbox","array","emmy.mathbox/array",-2111957204,null),vDc=new $APP.q(null,"Layer","Layer",-1498190011,null),wDc=new $APP.q("emmy.mathbox.components.plot","OfX","emmy.mathbox.components.plot/OfX",974553099,null),xDc=new $APP.q(null,"through-points","through-points",-1921469650,null),yDc=new $APP.q(null,"emit","emit",313352509,null),zDc=new $APP.q(null,"mathbox.primitives","mathbox.primitives",1541076194,null),ADc=new $APP.q("emmy.viewer","with-state","emmy.viewer/with-state",
1799742772,null),BDc=new $APP.q("mathbox.primitives.data","Interval","mathbox.primitives.data/Interval",-1791884929,null),CDc=new $APP.q("mathbox.primitives.data","Matrix","mathbox.primitives.data/Matrix",94802590,null),DDc=new $APP.q("emmy.mathbox.physics","phase-vectors","emmy.mathbox.physics/phase-vectors",-807323420,null),hBc=new $APP.E(null,"ticks","ticks",-406190313),EDc=new $APP.q(null,"Stereographic4","Stereographic4",-287163216,null),FDc=new $APP.q("mafs.vec","transform","mafs.vec/transform",
-1163156796,null),GDc=new $APP.q(null,"Voxel","Voxel",1540726319,null),HDc=new $APP.q(null,"ViewportInfo","ViewportInfo",940471056,null),IDc=new $APP.q(null,"interval","interval",-945940352,null),JDc=new $APP.q(null,"Split","Split",-1276645785,null),KDc=new $APP.q(null,"Subdivide","Subdivide",-462061977,null),LDc=new $APP.q(null,"area","area",2112538783,null),MDc=new $APP.q("emmy.mathbox.components.plot","ParametricSurface","emmy.mathbox.components.plot/ParametricSurface",-738442357,null),NDc=new $APP.q(null,
"labeled-axis","labeled-axis",1395888373,null),ODc=new $APP.E(null,"v-idx","v-idx",-1223365959),PDc=new $APP.q(null,"Join","Join",767879419,null),QDc=new $APP.q("mathbox.primitives","Inherit","mathbox.primitives/Inherit",-191332945,null),RDc=new $APP.q("emmy.mathbox","join","emmy.mathbox/join",1508376046,null),c6=new $APP.q(null,"z-order","z-order",1047374313,null),MBc=new $APP.E("leva.schema","not-found","leva.schema/not-found",191828335),SDc=new $APP.q("mathbox.primitives.data","Volume","mathbox.primitives.data/Volume",
740872246,null),TDc=new $APP.q(null,"format-number","format-number",-311013897,null),UDc=new $APP.q(null,"rotate-about","rotate-about",846870821,null),VDc=new $APP.q("mathbox.primitives.draw","Surface","mathbox.primitives.draw/Surface",449717938,null),WDc=new $APP.q(null,"Scene","Scene",2002462969,null),JAc=new $APP.E(null,"max-steps","max-steps",1553604741),XDc=new $APP.q(null,"dist","dist",238694383,null),YDc=new $APP.q(null,"Unit","Unit",1086897223,null),ZDc=new $APP.q(null,"inequality","inequality",
-1013398811,null),$Dc=new $APP.q(null,"Inherit","Inherit",-1912525274,null),aEc=new $APP.q("emmy.mathbox","subdivide","emmy.mathbox/subdivide",-265492185,null),d6=new $APP.q(null,"width","width",1256460050,null),bEc=new $APP.q(null,"make-solver","make-solver",1498924341,null),cEc=new $APP.q("emmy.mathbox.plot","polar-surface","emmy.mathbox.plot/polar-surface",94802201,null),dEc=new $APP.q("mathbox.primitives.data","Array","mathbox.primitives.data/Array",533243882,null),eEc=new $APP.q(null,"z-samples",
"z-samples",169034361,null),fEc=new $APP.q(null,"clamp","clamp",-850620829,null),gEc=new $APP.q(null,"math-json-\x3etex","math-json-\x3etex",-1901246416,null),hEc=new $APP.q(null,"Retext","Retext",571350357,null),iEc=new $APP.q("mafs.vec","dot","mafs.vec/dot",-1300718741,null),jEc=new $APP.q(null,"matrix","matrix",-1851298569,null),kEc=new $APP.E(null,"yellow","yellow",-881035449),lEc=new $APP.q("mathbox.primitives.overlay","Dom","mathbox.primitives.overlay/Dom",1941676717,null),mEc=new $APP.q(null,
"Resample","Resample",-1271815010,null),nEc=new $APP.q("emmy.viewer","fragment","emmy.viewer/fragment",651632603,null),oEc=new $APP.q("emmy.mafs","inequality","emmy.mafs/inequality",-759316704,null),pEc=new $APP.q("mathbox.primitives.operator","Repeat","mathbox.primitives.operator/Repeat",1207261937,null),qEc=new $APP.q(null,"items","items",-1622480831,null),e6=new $APP.q(null,"color","color",-1642760596,null),rEc=new $APP.q("mathbox.primitives","Retext","mathbox.primitives/Retext",750297308,null),
WAc=new $APP.E(null,"zoom","zoom",-1827487038),sEc=new $APP.q("mathbox.primitives","Surface","mathbox.primitives/Surface",1749844142,null),tEc=new $APP.q("mathbox.primitives.operator","Memo","mathbox.primitives.operator/Memo",-2137179599,null),uEc=new $APP.q(null,"Polar","Polar",-382168682,null),vEc=new $APP.q(null,"OfZ","OfZ",-1751405767,null),wEc=new $APP.q(null,"OfY","OfY",1670833926,null),xEc=new $APP.q(null,"Polyline","Polyline",923753280,null),yEc=new $APP.q(null,"OfX","OfX",1412207367,null),
zEc=new $APP.E(null,"r-samples","r-samples",-572927645),AEc=new $APP.q("mathbox.primitives","Point","mathbox.primitives/Point",-2035787060,null),BEc=new $APP.q("mathbox.primitives","Layer","mathbox.primitives/Layer",-1606831668,null),JBc=new $APP.q("emmy.mathbox.components.physics","ODECurve","emmy.mathbox.components.physics/ODECurve",-828855542,null),CEc=new $APP.q("mathbox.primitives.shader","Shader","mathbox.primitives.shader/Shader",1517416725,null),DEc=new $APP.q(null,"SceneGrids","SceneGrids",
-1717853859,null),EEc=new $APP.q("emmy.mathbox","unit","emmy.mathbox/unit",-1655511945,null),j5=new $APP.E(null,"z-order","z-order",-593157214),FEc=new $APP.q(null,"Clock","Clock",-1252752132,null),zAc=new $APP.q(null,"xy__54052__auto__","xy__54052__auto__",2018697097,null),GEc=new $APP.q(null,"memo","memo",-288084572,null),HEc=new $APP.E(null,"grids","grids",44187194),IEc=new $APP.q("emmy.mathbox.plot","point","emmy.mathbox.plot/point",-302626207,null),JEc=new $APP.q("mathlive.core","math-json-\x3etex",
"mathlive.core/math-json-\x3etex",363536331,null),KEc=new $APP.q("mathbox.primitives.transform","Layer","mathbox.primitives.transform/Layer",763104014,null),DBc=new $APP.q(null,"psym__54352__auto__","psym__54352__auto__",1790642476,null),LEc=new $APP.q("mathbox.primitives.draw","Strip","mathbox.primitives.draw/Strip",205196524,null),MEc=new $APP.q(null,"inherit","inherit",-200283895,null),NEc=new $APP.q("emmy.mathbox","face","emmy.mathbox/face",1935246241,null),OEc=new $APP.q(null,"Now","Now",1010719241,
null),PEc=new $APP.q("mathbox.primitives","Format","mathbox.primitives/Format",-1307425389,null),QEc=new $APP.q(null,"constrain","constrain",473235074,null),REc=new $APP.q("emmy.mathbox","clamp","emmy.mathbox/clamp",-1365134264,null),SEc=new $APP.q("emmy.mathbox.plot","scene","emmy.mathbox.plot/scene",-1665707736,null),TEc=new $APP.q("mathbox.primitives.present","Step","mathbox.primitives.present/Step",1973023950,null),UEc=new $APP.q("emmy.viewer.physics","evolve-hamiltonian","emmy.viewer.physics/evolve-hamiltonian",
797815081,null),PAc=new $APP.E(null,"max-distance","max-distance",848042358),f6=new $APP.q(null,"end?","end?",217139918,null),VEc=new $APP.q("emmy.viewer","with-params","emmy.viewer/with-params",137203082,null),WEc=new $APP.q(null,"routhian-curve","routhian-curve",-1765938025,null),XEc=new $APP.q("emmy.mathbox","readback","emmy.mathbox/readback",-733005934,null),g6=new $APP.E(null,"threestrap","threestrap",791250519),YEc=new $APP.q("emmy.viewer.plot","label-pi","emmy.viewer.plot/label-pi",-310687165,
null),e5=new $APP.E(null,"\x3c\x3e","\x3c\x3e",1280186386),$Ac=new $APP.E(null,"label-fn","label-fn",-860923263),ZEc=new $APP.q("mathbox.primitives.operator","Readback","mathbox.primitives.operator/Readback",-1401706720,null),C5=new $APP.E(null,"axes","axes",1970866440),$Ec=new $APP.q("mafs.vec","rotate","mafs.vec/rotate",1863892153,null),aFc=new $APP.q(null,"Transform","Transform",-881921137,null),bFc=new $APP.q("mathbox.primitives","Cartesian","mathbox.primitives/Cartesian",-1354081315,null),cFc=
new $APP.q("mathbox.primitives","Unit","mathbox.primitives/Unit",2058437326,null),w5=new $APP.E(null,"zBias","zBias",-659044836),dFc=new $APP.q(null,"html","html",641734630,null),eFc=new $APP.q("mafs.vec","scale","mafs.vec/scale",1251629545,null),ZAc=new $APP.E(null,"snap?","snap?",1489197534),fFc=new $APP.q("mathbox.primitives.view","Spherical","mathbox.primitives.view/Spherical",-1757367494,null),gFc=new $APP.q("emmy.viewer","get-in","emmy.viewer/get-in",1024698819,null),hFc=new $APP.q(null,"max-steps",
"max-steps",-1100831028,null),iFc=new $APP.q(null,"stereographic","stereographic",82994319,null),jFc=new $APP.q(null,"Stopwatch*","Stopwatch*",-335692954,null),kFc=new $APP.q("emmy.mathbox","surface","emmy.mathbox/surface",-162154084,null),lFc=new $APP.E(null,"proxy","proxy",-117453614),mFc=new $APP.q("emmy.mathbox.plot","vector-field","emmy.mathbox.plot/vector-field",747085366,null),nFc=new $APP.q("emmy.mafs","transform-widget","emmy.mafs/transform-widget",-823116937,null),oFc=new $APP.q("emmy.mathbox.plot",
"polar-curve","emmy.mathbox.plot/polar-curve",198079256,null),pFc=new $APP.q("emmy.mathbox.plot","cartesian","emmy.mathbox.plot/cartesian",795364877,null),qFc=new $APP.q(null,"button-group","button-group",108385979,null),rFc=new $APP.q("emmy.mathbox.components.plot","Point","emmy.mathbox.components.plot/Point",1513944899,null),BAc=new $APP.E("portal.viewer","mafs?","portal.viewer/mafs?",594519235),sFc=new $APP.q(null,"PolarSurface","PolarSurface",-654690714,null),tFc=new $APP.q("mathbox.primitives.time",
"Now","mathbox.primitives.time/Now",-450861779,null),uFc=new $APP.q("emmy.mathbox.physics","hamiltonian-phase-vectors","emmy.mathbox.physics/hamiltonian-phase-vectors",-658087568,null),vFc=new $APP.q("mathbox.primitives.draw","Face","mathbox.primitives.draw/Face",-427381933,null),wFc=new $APP.q(null,"Memo","Memo",-56475788,null),xFc=new $APP.E(null,"scale","scale",-230427353),yFc=new $APP.q("emmy.mathbox","memo","emmy.mathbox/memo",325153917,null),zFc=new $APP.q(null,"Strip","Strip",1159860619,null),
AFc=new $APP.q("mathlive.core","cdn-fonts","mathlive.core/cdn-fonts",433243609,null),CBc=new $APP.q(null,"emit__54294__auto__","emit__54294__auto__",1221065035,null),BFc=new $APP.q("emmy.mathbox","inherit","emmy.mathbox/inherit",313569104,null),CFc=new $APP.q("emmy.mafs","point-slope","emmy.mafs/point-slope",-397748041,null),DFc=new $APP.q("leva.core","folder","leva.core/folder",722555942,null),EFc=new $APP.q(null,"layer","layer",38710938,null),FFc=new $APP.q("emmy.mathbox","polar","emmy.mathbox/polar",
1222626E3,null),GFc=new $APP.q("mathbox.primitives","Transform","mathbox.primitives/Transform",-1243339258,null),FBc=new $APP.q(null,"out__54354__auto__","out__54354__auto__",1885333235,null),HFc=new $APP.q("mafs.plot","VectorField","mafs.plot/VectorField",-1424063142,null),IFc=new $APP.q("emmy.mathbox.physics","ode-curve","emmy.mathbox.physics/ode-curve",28007661,null),JFc=new $APP.q("emmy.mathbox","dom","emmy.mathbox/dom",-2056278564,null),KFc=new $APP.q("emmy.mathbox","matrix","emmy.mathbox/matrix",
2094573278,null),vAc=new $APP.q(null,"psym__54038__auto__","psym__54038__auto__",1699633910,null),LFc=new $APP.q(null,"emmy.viewer.components.stopwatch","emmy.viewer.components.stopwatch",-2049565900,null),MFc=new $APP.q(null,"vertex","vertex",-1092289418,null),NFc=new $APP.q("emmy.mathbox.components.plot","VectorField","emmy.mathbox.components.plot/VectorField",354648892,null),OFc=new $APP.q(null,"parametric-curve","parametric-curve",-1284030502,null),PFc=new $APP.q("p","format-number","p/format-number",
-311014073,null),QFc=new $APP.q("mathbox.primitives.present","Play","mathbox.primitives.present/Play",-1955667828,null),RFc=new $APP.E(null,"button-group","button-group",-1532145548),SFc=new $APP.q("mafs.coordinates","Polar","mafs.coordinates/Polar",-450854268,null),TFc=new $APP.q(null,"MathBox","MathBox",1267820069,null),zBc=new $APP.E(null,"param-f","param-f",1898396613),UFc=new $APP.q("mathbox.primitives","Join","mathbox.primitives/Join",660585058,null),VFc=new $APP.q(null,"mask","mask",1054783080,
null),WFc=new $APP.q("emmy.mathbox.components.plot","Vector","emmy.mathbox.components.plot/Vector",-286182717,null),XFc=new $APP.E(null,"violet","violet",-1351470549),YFc=new $APP.q("emmy.mathbox","retext","emmy.mathbox/retext",1175086644,null),ZFc=new $APP.q("mafs.core","MovablePoint","mafs.core/MovablePoint",839588757,null),$Fc=new $APP.q(null,"mathbox.primitives.present","mathbox.primitives.present",1519994238,null),aGc=new $APP.q("emmy.mathbox","area","emmy.mathbox/area",-526633240,null),a6=new $APP.E(null,
"constrain","constrain",-1167296453),bGc=new $APP.q(null,"readback","readback",987820521,null),h6=new $APP.q(null,"opacity","opacity",2037685307,null),cGc=new $APP.q(null,"label-fn","label-fn",779608264,null),dGc=new $APP.E(null,"indigo","indigo",-280252374),eGc=new $APP.q(null,"folder","folder",-1138554033,null),fGc=new $APP.q(null,"x-idx","x-idx",-1904247457,null),gGc=new $APP.q(null,"grow","grow",1116412632,null),hGc=new $APP.q("mathbox.primitives","Slide","mathbox.primitives/Slide",1353572641,
null),iGc=new $APP.q("mathbox.primitives","Slice","mathbox.primitives/Slice",-1294348699,null),jGc=new $APP.q(null,"label-pi","label-pi",403361252,null),kGc=new $APP.q(null,"SubPanel","SubPanel",-1545576243,null),tBc=new $APP.E(null,"rangeX","rangeX",1415483689),uBc=new $APP.E(null,"rangeY","rangeY",777743115),lGc=new $APP.E(null,"rangeZ","rangeZ",-2051483245),mGc=new $APP.q("emmy.mathlive","style","emmy.mathlive/style",-1180905403,null),nGc=new $APP.q("mathbox.primitives.base","Inherit","mathbox.primitives.base/Inherit",
-1055136450,null),oGc=new $APP.q("emmy.mathbox.components.plot","SceneAxes","emmy.mathbox.components.plot/SceneAxes",433952718,null),pGc=new $APP.q("emmy.viewer.stopwatch","stopwatch","emmy.viewer.stopwatch/stopwatch",-1220943008,null),qGc=new $APP.q("emmy.mafs","polar","emmy.mafs/polar",514444866,null),i6=new $APP.q(null,"start?","start?",-1213721563,null),rGc=new $APP.q(null,"primitive?","primitive?",1698587076,null),sGc=new $APP.q("color","default","color/default",-236637214,null),tGc=new $APP.q(null,
"MovablePoint","MovablePoint",1517564801,null),uGc=new $APP.q("mathlive.core","mathlive-version","mathlive.core/mathlive-version",1928995355,null),vGc=new $APP.q(null,"point-slope","point-slope",-110551558,null),wGc=new $APP.q(null,"emmy.viewer.components.physics","emmy.viewer.components.physics",21508193,null),xGc=new $APP.q("emmy.mathbox.components.plot","PolarSurface","emmy.mathbox.components.plot/PolarSurface",1994441586,null),yGc=new $APP.E("portal.viewer","reagent?","portal.viewer/reagent?",
-970045774),zGc=new $APP.q(null,"Cartesian4","Cartesian4",208408284,null),GBc=new $APP.q(null,"in__54355__auto__","in__54355__auto__",381770716,null),j6=new $APP.q(null,"object-or-fn","object-or-fn",-1175784007,null),AGc=new $APP.E(null,"theta-range","theta-range",-1173890964),BGc=new $APP.q("emmy.mathbox","ticks","emmy.mathbox/ticks",-1392945307,null),YAc=new $APP.E(null,"text-size","text-size",-945618309),CGc=new $APP.q("emmy.mathbox.plot","of-x","emmy.mathbox.plot/of-x",180136104,null),DGc=new $APP.q("emmy.mathbox.plot",
"of-y","emmy.mathbox.plot/of-y",-2086017778,null),EGc=new $APP.q("emmy.mathbox.plot","of-z","emmy.mathbox.plot/of-z",965388449,null),FGc=new $APP.q("mathbox.primitives.time","Clock","mathbox.primitives.time/Clock",-26544704,null),Q5=new $APP.E(null,"initial-state","initial-state",-2021616806),GGc=new $APP.q(null,"steps","steps",1512098225,null),HGc=new $APP.E(null,"math-field","math-field",1762395342),IGc=new $APP.q("emmy.mathbox.physics","routhian-phase-vectors","emmy.mathbox.physics/routhian-phase-vectors",
-1350553798,null),JGc=new $APP.q(null,"Face","Face",1066942710,null),KGc=new $APP.q(null,"mathbox","mathbox",1440126842,null),LGc=new $APP.q("mathbox.primitives.operator","Grow","mathbox.primitives.operator/Grow",-89640683,null),yBc=new $APP.E(null,"dimensions","dimensions",-254818097),MGc=new $APP.q("emmy.mathbox.components.plot","Grid","emmy.mathbox.components.plot/Grid",2056645928,null),NGc=new $APP.E(null,"radius","radius",-2073122258),OGc=new $APP.q("mathbox.primitives","Transform4","mathbox.primitives/Transform4",
-1869959749,null),PGc=new $APP.q(null,"grid","grid",2043510127,null),yAc=new $APP.q(null,"psym__54051__auto__","psym__54051__auto__",484469243,null),QGc=new $APP.q(null,"play","play",1060113505,null),RGc=new $APP.q("emmy.mafs","segment","emmy.mafs/segment",958905628,null),SGc=new $APP.q(null,"mathlive-version","mathlive-version",192975026,null),TGc=new $APP.q(null,"cdn-sounds","cdn-sounds",1814922458,null),UGc=new $APP.q("mathbox.primitives","Lerp","mathbox.primitives/Lerp",-1827866933,null),VGc=
new $APP.q(null,"background","background",776578898,null),WGc=new $APP.q(null,"expand","expand",-2059187612,null),XGc=new $APP.q(null,"mathbox.primitives.draw","mathbox.primitives.draw",-1469249774,null),YGc=new $APP.q(null,"mafs.plot","mafs.plot",-529505551,null),ZGc=new $APP.q("emmy.mafs","transform","emmy.mafs/transform",-2093922E3,null),$Gc=new $APP.E(null,"xy-opacity","xy-opacity",1175155784),aHc=new $APP.q("emmy.mathbox","grow","emmy.mathbox/grow",-547434319,null),bHc=new $APP.E(null,"centeredY",
"centeredY",-477741349),cHc=new $APP.E(null,"centeredX","centeredX",-638621558),dHc=new $APP.q(null,"Grow","Grow",508637906,null),A5=new $APP.E(null,"opacity","opacity",397153780),eHc=new $APP.q("mafs.core","Theme","mafs.core/Theme",-2144957676,null),fHc=new $APP.q(null,"emmy.mathbox.components.plot","emmy.mathbox.components.plot",-113347915,null),gHc=new $APP.q(null,"mathbox.primitives.shader","mathbox.primitives.shader",-1004583391,null),hHc=new $APP.E(null,"xform","xform",-1725711008),iHc=new $APP.q("mathbox.primitives.transform",
"Mask","mathbox.primitives.transform/Mask",1615933E3,null),jHc=new $APP.q("leva.types","SpecialInputTypes","leva.types/SpecialInputTypes",-55327891,null),kHc=new $APP.q(null,"monotonic-integrator","monotonic-integrator",382694747,null),lHc=new $APP.q(null,"pair-or-opts","pair-or-opts",771908995,null),mHc=new $APP.q("emmy.leva","config","emmy.leva/config",-2080946580,null),nHc=new $APP.q(null,"ellipse","ellipse",-1518544067,null),oHc=new $APP.q(null,"retext","retext",-658727441,null),pHc=new $APP.q(null,
"Surface","Surface",1673998871,null),qHc=new $APP.q("leva.core","monitor","leva.core/monitor",-499367467,null),rHc=new $APP.q("emmy.viewer.components.physics","monotonic-integrator","emmy.viewer.components.physics/monotonic-integrator",-1904105078,null),pBc=new $APP.E(null,"grid-opacity","grid-opacity",-430688464),oBc=new $APP.E(null,"samples","samples",635504833),sHc=new $APP.q(null,"SceneAxes","SceneAxes",1138992346,null),tHc=new $APP.q("emmy.mathbox.components.physics","Comet","emmy.mathbox.components.physics/Comet",
1930311718,null),uHc=new $APP.q("emmy.mathbox","point","emmy.mathbox/point",1653400964,null),vHc=new $APP.E(null,"x-idx","x-idx",750188312),wHc=new $APP.q("leva.types","SpecialInputs","leva.types/SpecialInputs",115324385,null),xHc=new $APP.E(null,"tick","tick",-835886976),yHc=new $APP.q(null,"Polygon","Polygon",1492273221,null),zHc=new $APP.q(null,"mathbox.primitives.data","mathbox.primitives.data",-780802081,null),AHc=new $APP.q(null,"style","style",1143888791,null),BHc=new $APP.E(null,"container",
"container",-1736937707),CHc=new $APP.E(null,"green","green",-945526839),wBc=new $APP.E(null,"lineY","lineY",-800534367),vBc=new $APP.E(null,"lineX","lineX",-269253760),DHc=new $APP.q("emmy.mafs","through-points","emmy.mafs/through-points",-1134791573,null),EHc=new $APP.E(null,"orange","orange",73816386),FHc=new $APP.q("mafs.core","Circle","mafs.core/Circle",-262104303,null),GHc=new $APP.q(null,"resample","resample",1595961711,null),l5=new $APP.E(null,"end?","end?",-1423391609),HHc=new $APP.q(null,
"Scale","Scale",662043888,null),IHc=new $APP.q(null,"Play","Play",3494344,null),JHc=new $APP.q(null,"Grid","Grid",-593239492,null),KHc=new $APP.q(null,"polar","polar",-276493177,null),LHc=new $APP.q("emmy.mathbox","play","emmy.mathbox/play",-1701131746,null),MHc=new $APP.q(null,"mathbox.primitives.operator","mathbox.primitives.operator",288362110,null),NHc=new $APP.q("mathbox.primitives.camera","Camera","mathbox.primitives.camera/Camera",-1885074025,null),OHc=new $APP.q("emmy.mathbox","grid","emmy.mathbox/grid",
-730454250,null),PHc=new $APP.q("emmy.mathbox","layer","emmy.mathbox/layer",-1399069579,null),QHc=new $APP.q("mathbox.primitives","Label","mathbox.primitives/Label",-1901552196,null),RHc=new $APP.q("mathbox.primitives.text","Label","mathbox.primitives.text/Label",1496262211,null),SHc=new $APP.q(null,"PointAngle","PointAngle",-476665200,null),THc=new $APP.q("emmy.mathbox.physics","geodesic","emmy.mathbox.physics/geodesic",1892205410,null),UHc=new $APP.q("mathbox.primitives","Dom","mathbox.primitives/Dom",
-2079934705,null),VHc=new $APP.q("emmy.mathbox.components.plot","Scene","emmy.mathbox.components.plot/Scene",493952493,null),WHc=new $APP.q(null,"ParametricCurve","ParametricCurve",238151722,null),XHc=new $APP.q(null,"Transpose","Transpose",213658457,null),YHc=new $APP.q("mafs.core","useStopwatch","mafs.core/useStopwatch",738997829,null),lBc=new $APP.E(null,"divideX","divideX",-1782633104),jBc=new $APP.E(null,"divideY","divideY",1569462060),ZHc=new $APP.q(null,"-\x3eplaceholders","-\x3eplaceholders",
-1520176434,null),$Hc=new $APP.q("emmy.mathbox.plot","line","emmy.mathbox.plot/line",1334128720,null),aIc=new $APP.E(null,"theta-samples","theta-samples",1183176136),bIc=new $APP.q(null,"Ellipse","Ellipse",-1588330007,null),cIc=new $APP.q(null,"emmy.mafs","emmy.mafs",-569612220,null),dIc=new $APP.q("emmy.mathbox","clock","emmy.mathbox/clock",-1881683783,null),eIc=new $APP.q(null,"Area","Area",1860906700,null),fIc=new $APP.q(null,"evolve-routhian","evolve-routhian",-2111734427,null),gIc=new $APP.q("mathbox.primitives.view",
"Polar","mathbox.primitives.view/Polar",-1609986358,null),hIc=new $APP.q(null,"scene","scene",-1130635354,null),iIc=new $APP.q(null,"midpoint","midpoint",1604262002,null),jIc=new $APP.q(null,"mafs","mafs",-1623257583,null),kIc=new $APP.q(null,"grids","grids",1684718721,null),lIc=new $APP.q("emmy.mathbox.components.plot","PolarCurve","emmy.mathbox.components.plot/PolarCurve",1396582784,null),mIc=new $APP.q(null,"text","text",-150030170,null),nIc=new $APP.q(null,"tex?","tex?",1935379838,null),oIc=new $APP.q(null,
"mathbox.core","mathbox.core",-1346776612,null),pIc=new $APP.q("emmy.mathbox","split","emmy.mathbox/split",-660545354,null),qIc=new $APP.q("emmy.mathbox.physics","lagrangian-phase-vectors","emmy.mathbox.physics/lagrangian-phase-vectors",-39926449,null),rIc=new $APP.q("emmy.viewer.components.stopwatch","Stopwatch","emmy.viewer.components.stopwatch/Stopwatch",-807821978,null),sIc=new $APP.q("emmy.mathbox","step","emmy.mathbox/step",208413546,null),tIc=new $APP.q("mathbox.primitives","Axis","mathbox.primitives/Axis",
917185793,null),uIc=new $APP.E(null,"depth","depth",1768663640),vIc=new $APP.q(null,"useStopwatch","useStopwatch",-1003921839,null),wIc=new $APP.q(null,"voxel","voxel",619791257,null),xIc=new $APP.q(null,"parametric","parametric",1366961796,null),yIc=new $APP.q("emmy.mathbox","voxel","emmy.mathbox/voxel",-2019124874,null),zIc=new $APP.q("emmy.mathbox.components.plot","DomLabel","emmy.mathbox.components.plot/DomLabel",1907913132,null),AIc=new $APP.q("emmy.mafs","parametric","emmy.mafs/parametric",
576679375,null),BIc=new $APP.E(null,"x-range","x-range",1820649693),CIc=new $APP.q("emmy.mafs","cartesian","emmy.mafs/cartesian",271032274,null),DIc=new $APP.q("mathbox.primitives.overlay","Html","mathbox.primitives.overlay/Html",1309689304,null),EIc=new $APP.E(null,"colors","colors",1157174732),FIc=new $APP.q("emmy.mathbox","html","emmy.mathbox/html",-2062066241,null),wAc=new $APP.q(null,"x__54039__auto__","x__54039__auto__",1315425741,null),GIc=new $APP.q(null,"clock","clock",746230400,null),HIc=
new $APP.q(null,"x-range","x-range",-833786076,null),IIc=new $APP.q("mafs.core","Vector","mafs.core/Vector",-1663035429,null),JIc=new $APP.q("emmy.leva","controls","emmy.leva/controls",-1487494767,null),KIc=new $APP.q("mathbox.primitives","Strip","mathbox.primitives/Strip",2075766272,null),fBc=new $APP.E(null,"nice","nice",1404040504),dBc=new $APP.E(null,"divide","divide",2108946657),LIc=new $APP.q("emmy.mathbox","mask","emmy.mathbox/mask",-579732303,null),MIc=new $APP.q(null,"SpecialInputTypes",
"SpecialInputTypes",-1936271588,null),NIc=new $APP.q("mathbox.primitives.operator","Split","mathbox.primitives.operator/Split",1603851096,null),OIc=new $APP.q("emmy.mathbox","present","emmy.mathbox/present",-1080283975,null),PIc=new $APP.q(null,"subdivide","subdivide",390538012,null),QIc=new $APP.q("mathbox.primitives.draw","Axis","mathbox.primitives.draw/Axis",-483884051,null),RIc=new $APP.q("emmy.mathbox","repeat","emmy.mathbox/repeat",1971797897,null),SIc=new $APP.q("leva.types","custom-input?",
"leva.types/custom-input?",90573430,null),k6=new $APP.q(null,"f-or-opts","f-or-opts",1592782798,null),TIc=new $APP.E(null,"onClick","onClick",-1991238530),UIc=new $APP.q("mafs.debug","TransformWidget","mafs.debug/TransformWidget",1697375019,null),VIc=new $APP.q("mathbox.primitives.data","Scale","mathbox.primitives.data/Scale",1853637297,null),WIc=new $APP.q(null,"set-math-json!","set-math-json!",259585856,null),XIc=new $APP.q("mathbox.primitives","Clamp","mathbox.primitives/Clamp",1137063655,null),
YIc=new $APP.q(null,"useTransformContext","useTransformContext",-1804085489,null),ZIc=new $APP.q(null,"with-state","with-state",-670637024,null),$Ic=new $APP.q("leva.core","button","leva.core/button",763904309,null),EAc=new $APP.q("mafs.core","Mafs","mafs.core/Mafs",1392133491,null),aJc=new $APP.q(null,"viewport-info","viewport-info",-919776196,null),bJc=new $APP.q("mafs.core","Text","mafs.core/Text",-302615776,null),Z5=new $APP.E(null,"store","store",1512230022),cJc=new $APP.q(null,"position","position",
-371200385,null),dJc=new $APP.q("mathbox.primitives.operator","Subdivide","mathbox.primitives.operator/Subdivide",-2135264478,null),eJc=new $APP.E(null,"red","red",-969428204),MAc=new $APP.E(null,"ref","ref",1289896967),fJc=new $APP.q(null,"precision","precision",464824049,null),gJc=new $APP.q("emmy.mathbox","text","emmy.mathbox/text",1423295119,null),hJc=new $APP.q("mathbox.core","threestrap-defaults","mathbox.core/threestrap-defaults",1294638534,null),iJc=new $APP.q(null,"Text","Text",-2054460644,
null),l6=new $APP.q(null,"divisions","divisions",197998737,null),jJc=new $APP.q(null,"Vector","Vector",872890327,null),GAc=new $APP.E(null,"running?","running?",-257884763),E5=new $APP.E(null,"range","range",1639692286),kJc=new $APP.q("mathbox.primitives","Play","mathbox.primitives/Play",180224833,null),CAc=new $APP.E("portal.viewer","default","portal.viewer/default",-1985169620),lJc=new $APP.q("mathbox.primitives","Grid","mathbox.primitives/Grid",-988235849,null),mJc=new $APP.q("mathbox.primitives.draw",
"Point","mathbox.primitives.draw/Point",2033057E3,null),nJc=new $APP.q("emmy.mathbox","resample","emmy.mathbox/resample",-1180715208,null),oJc=new $APP.q("mathbox.primitives","Grow","mathbox.primitives/Grow",400222057,null),pJc=new $APP.q("mathbox.primitives","Reveal","mathbox.primitives/Reveal",132115850,null),qJc=new $APP.q(null,"emmy.viewer","emmy.viewer",831782198,null),rJc=new $APP.q(null,"Circle","Circle",1481634597,null),sJc=new $APP.q("emmy.mathbox","transform","emmy.mathbox/transform",1388793250,
null),tJc=new $APP.q("emmy.mathbox.components.plot","ParametricCurve","emmy.mathbox.components.plot/ParametricCurve",-1596196130,null),uJc=new $APP.q("emmy.mathbox","vertex","emmy.mathbox/vertex",420021853,null),vJc=new $APP.q(null,"of-yz","of-yz",4385622,null),wJc=new $APP.q("mathbox.primitives.operator","Swizzle","mathbox.primitives.operator/Swizzle",2122810962,null),xJc=new $APP.q(null,"polar-curve","polar-curve",-336412258,null),yJc=new $APP.q(null,"controls","controls",-1313734317,null),zJc=
new $APP.q(null,"sub-panel","sub-panel",-78079499,null),AJc=new $APP.q("emmy.mafs","ellipse","emmy.mafs/ellipse",-1235641870,null),BJc=new $APP.q(null,"cdn-fonts","cdn-fonts",-1562955646,null),CJc=new $APP.q(null,"of-xz","of-xz",615559934,null),DJc=new $APP.q(null,"of-xy","of-xy",-1427639438,null),EJc=new $APP.q("mathbox.primitives","Fragment","mathbox.primitives/Fragment",429273026,null),FJc=new $APP.q(null,"Comet","Comet",-2130340406,null),GJc=new $APP.q(null,"monitor","monitor",2100140924,null),
m6=new $APP.q(null,"on-click","on-click",-1021609226,null),HJc=new $APP.q(null,"ParametricSurface","ParametricSurface",-1111075193,null),IJc=new $APP.q(null,"Config","Config",1298536523,null),JJc=new $APP.q(null,"!state","!state",-1343022837,null),KJc=new $APP.q(null,"Html","Html",-1695147201,null),LJc=new $APP.q(null,"Camera","Camera",-1408338669,null),MJc=new $APP.q(null,"move","move",-470352782,null),qBc=new $APP.E(null,"grid-width","grid-width",837583106),NJc=new $APP.q(null,"state-\x3exyz","state-\x3exyz",
1895439279,null),OJc=new $APP.q(null,"emmy.mathbox.components.physics","emmy.mathbox.components.physics",1590001094,null),PJc=new $APP.q("emmy.mathbox.components.plot","LabeledAxis","emmy.mathbox.components.plot/LabeledAxis",-950222940,null),nBc=new $APP.E(null,"coords","coords",-599429112),QJc=new $APP.q("emmy.leva","monitor","emmy.leva/monitor",1812069250,null),RJc=new $APP.q(null,"with-mag","with-mag",998812937,null),SJc=new $APP.q(null,"mathlive.core","mathlive.core",-261257314,null),TJc=new $APP.E(null,
"x-samples","x-samples",811100229),UJc=new $APP.q(null,"Group","Group",-1810497176,null),VJc=new $APP.q("mafs.line","ThroughPoints","mafs.line/ThroughPoints",-528185843,null),DAc=new $APP.E("emmy.portal","mafs","emmy.portal/mafs",-95412080),WJc=new $APP.q("mathbox.primitives","Interval","mathbox.primitives/Interval",1202840225,null),XJc=new $APP.q(null,"Theme","Theme",-663121152,null),YJc=new $APP.q("emmy.leva","button-group","emmy.leva/button-group",391280505,null),ZJc=new $APP.q(null,"PhaseVectors",
"PhaseVectors",498723951,null),$Jc=new $APP.q("mafs.line","PointSlope","mafs.line/PointSlope",1090654636,null),aKc=new $APP.q(null,"special-input?","special-input?",-721514811,null),n6=new $APP.q(null,"settings","settings",-1098290894,null),v5=new $APP.E(null,"zOrder","zOrder",444084817),KAc=new $APP.E(null,"background-color","background-color",570434026),bKc=new $APP.q("mathbox.primitives","Present","mathbox.primitives/Present",15337402,null),cKc=new $APP.q("mathbox.primitives.transform","Vertex",
"mathbox.primitives.transform/Vertex",1597941124,null),W5=new $APP.E(null,"onChange","onChange",-312891301),dKc=new $APP.q("mathbox.primitives","Stereographic","mathbox.primitives/Stereographic",1764922406,null),eKc=new $APP.E(null,"with-let54680","with-let54680",-1633103574),i5=new $APP.E(null,"start?","start?",1440714206),fKc=new $APP.q("mathbox.primitives","Matrix","mathbox.primitives/Matrix",1981821632,null),gKc=new $APP.q(null,"Dom","Dom",-1903068682,null),lMc=new $APP.q(null,"shader","shader",
-1161602748,null),mMc=new $APP.q(null,"button","button",-1197855826,null),o6=new $APP.q(null,"z-bias","z-bias",935641424,null),nMc=new $APP.q(null,"ThroughPoints","ThroughPoints",-2001887572,null),oMc=new $APP.q("mathbox.primitives","Spherical","mathbox.primitives/Spherical",1157296007,null),pMc=new $APP.q("mathbox.primitives","Volume","mathbox.primitives/Volume",1655402604,null),qMc=new $APP.q("mathbox.primitives","Transpose","mathbox.primitives/Transpose",104160466,null),rMc=new $APP.q(null,"Mafs",
"Mafs",-1970184833,null),sMc=new $APP.q(null,"lagrangian-phase-vectors","lagrangian-phase-vectors",-2002958643,null),tMc=new $APP.q("mathbox.primitives.base","Unit","mathbox.primitives.base/Unit",-2009925281,null),uMc=new $APP.q(null,"of-y","of-y",-1551534224,null),vMc=new $APP.q(null,"of-z","of-z",430389543,null),wMc=new $APP.q(null,"of-x","of-x",-359449822,null),xMc=new $APP.q(null,"strip","strip",-2021807809,null),yMc=new $APP.q("emmy.mathbox.plot","vector","emmy.mathbox.plot/vector",857328211,
null),zMc=new $APP.q("mathbox.primitives","Area","mathbox.primitives/Area",1617026373,null),AMc=new $APP.q("emmy.mathbox","rawbox","emmy.mathbox/rawbox",-1636308662,null),cBc=new $APP.E(null,"labels?","labels?",810138259),OAc=new $APP.E(null,"controls","controls",1340701452),BMc=new $APP.q(null,"view","view",-1406440955,null),CMc=new $APP.q(null,"leva.core","leva.core",935271055,null),DMc=new $APP.q("emmy.mathbox","spread","emmy.mathbox/spread",811102517,null),EMc=new $APP.E(null,"history","history",
-247395220),FMc=new $APP.q(null,"Mask","Mask",-375651427,null),GMc=new $APP.E(null,"button","button",1456579943),x5=new $APP.E(null,"position","position",-2011731912),HMc=new $APP.q(null,"Step","Step",-816692470,null),IMc=new $APP.q(null,"emmy.mathbox","emmy.mathbox",987581295,null),JMc=new $APP.q("emmy.viewer.components.stopwatch","Stopwatch*","emmy.viewer.components.stopwatch/Stopwatch*",-226447233,null),KMc=new $APP.q(null,"snap","snap",1588816623,null),LMc=new $APP.q("mafs.core","Ellipse","mafs.core/Ellipse",
155130365,null),MMc=new $APP.q("emmy.mathbox","shader","emmy.mathbox/shader",429490973,null),p6=new $APP.q(null,"mf","mf",420183542,null),q6=new $APP.q(null,"schema","schema",58529736,null),NMc=new $APP.q(null,"-\x3emath-json","-\x3emath-json",1319582900,null),OMc=new $APP.q("emmy.viewer.components.physics","make-solver","emmy.viewer.components.physics/make-solver",-1316415356,null),PMc=new $APP.q(null,"Move","Move",-687448615,null),QMc=new $APP.q(null,"normal","normal",121407669,null),RMc=new $APP.q(null,
"sc","sc",-1506412737,null),rBc=new $APP.E(null,"grid-color","grid-color",1621475545),SMc=new $APP.q("mathbox.primitives","Array","mathbox.primitives/Array",-313915872,null),TMc=new $APP.q("mathbox.primitives.base","Group","mathbox.primitives.base/Group",1595001856,null),UMc=new $APP.q("leva.core","Controls","leva.core/Controls",-652258110,null),VMc=new $APP.q(null,"post-fn","post-fn",614222804,null),WMc=new $APP.q(null,"v0","v0",744594066,null),XMc=new $APP.q(null,"tx","tx",2107161945,null),YMc=
new $APP.q(null,"ty","ty",1798822352,null),ZMc=new $APP.q(null,"Present","Present",-111102675,null),$Mc=new $APP.q(null,"Compose","Compose",-248875139,null),r6=new $APP.q(null,"arrow-size","arrow-size",-494078721,null),aNc=new $APP.q(null,"Interval","Interval",1278783288,null),bNc=new $APP.E(null,"tip","tip",1221810860),cNc=new $APP.q("mafs.core","Polygon","mafs.core/Polygon",-258494391,null),dNc=new $APP.q(null,"x2","x2",278018052,null),eNc=new $APP.E(null,"pink","pink",393815864),fNc=new $APP.q(null,
"y1","y1",-2065312303,null),gNc=new $APP.q(null,"y2","y2",921840226,null),hNc=new $APP.q(null,"mathbox.primitives.transform","mathbox.primitives.transform",894479896,null),iNc=new $APP.q("emmy.mathbox","stereographic4","emmy.mathbox/stereographic4",670392779,null),jNc=new $APP.q(null,"mafs-meta","mafs-meta",1999685657,null),EBc=new $APP.q(null,"in__54353__auto__","in__54353__auto__",-91523174,null),kNc=new $APP.q("emmy.mathbox","view","emmy.mathbox/view",268350428,null),lNc=new $APP.q(null,"box-defaults",
"box-defaults",999920430,null),mNc=new $APP.q(null,"polygon","polygon",-1817382010,null),IBc=new $APP.q("emmy.viewer.components.physics","Evolve","emmy.viewer.components.physics/Evolve",-1197323746,null),nNc=new $APP.q(null,"length","length",-2065447907,null),oNc=new $APP.q(null,"DomLabel","DomLabel",-808483696,null),pNc=new $APP.E(null,"containerClass","containerClass",-101509595),qNc=new $APP.q("mathbox.primitives.rtt","Rtt","mathbox.primitives.rtt/Rtt",-1276373228,null),rNc=new $APP.E(null,"disabled",
"disabled",-1529784218),sNc=new $APP.q("mathbox.primitives","Vector","mathbox.primitives/Vector",1032645708,null),tNc=new $APP.q("mafs.core","Polyline","mafs.core/Polyline",1867793228,null),s6=new $APP.q(null,"entry","entry",2145700350,null),uNc=new $APP.q("mafs.vec","mag","mafs.vec/mag",1774485878,null),vNc=new $APP.q("emmy.mathbox","move","emmy.mathbox/move",1277802073,null),wNc=new $APP.q(null,"View","View",-131475192,null),xNc=new $APP.q("emmy.mathbox.components.plot","OfXY","emmy.mathbox.components.plot/OfXY",
952712565,null),yNc=new $APP.q("emmy.mathbox.components.plot","OfXZ","emmy.mathbox.components.plot/OfXZ",886951684,null),zNc=new $APP.q(null,"cp","cp",962092215,null),ANc=new $APP.q(null,"x-samples","x-samples",-1843335540,null),BNc=new $APP.E(null,"monitor","monitor",459609397),HBc=new $APP.q(null,"out__54356__auto__","out__54356__auto__",-1990625331,null),YNc=new $APP.q("mathbox.primitives","Memo","mathbox.primitives/Memo",-500462083,null),dOc=new $APP.q("mathbox.primitives","Camera","mathbox.primitives/Camera",
-1433074788,null),fOc=new $APP.q("emmy.mathbox.components.plot","OfYZ","emmy.mathbox.components.plot/OfYZ",-1847449497,null),Y5=new $APP.E(null,"settings","settings",1556144875),iOc=new $APP.q("emmy.mathbox","mathbox","emmy.mathbox/mathbox",-161227359,null),kOc=new $APP.q(null,"y-range","y-range",1845768624,null),lOc=new $APP.q("mathbox.primitives","Group","mathbox.primitives/Group",-1836231535,null),nOc=new $APP.q("emmy.viewer.components.physics","point-integrator","emmy.viewer.components.physics/point-integrator",
-1018720086,null),oOc=new $APP.q("mafs.vec","square-dist","mafs.vec/square-dist",2140157725,null),pOc=new $APP.q("mathbox.primitives","Face","mathbox.primitives/Face",956501375,null),zOc=new $APP.q(null,"Slide","Slide",1579331222,null),BOc=new $APP.q("emmy.mafs","vector-field","emmy.mafs/vector-field",1574907875,null),DOc=new $APP.q("mafs.vec","normalize","mafs.vec/normalize",-18090961,null),VAc=new $APP.E(null,"tex?","tex?",294848311),FOc=new $APP.q(null,"FolderType","FolderType",763730221,null),
JOc=new $APP.q(null,"Label","Label",-2133777657,null),KOc=new $APP.q(null,"Mathfield","Mathfield",-737908086,null),LOc=new $APP.q("mafs.core","labelPi","mafs.core/labelPi",2041711407,null),MOc=new $APP.q("mafs.vec","midpoint","mafs.vec/midpoint",1357250041,null),NOc=new $APP.q("emmy.viewer.physics","evolve-lagrangian","emmy.viewer.physics/evolve-lagrangian",1162547247,null),OOc=new $APP.q("emmy.mathbox.components.plot","box-defaults","emmy.mathbox.components.plot/box-defaults",-776763846,null),NBc=
new $APP.E(null,"schema","schema",-1582001791),POc=new $APP.E(null,"grid-theta","grid-theta",1194846022),aBc=new $APP.E(null,"divisions","divisions",-1442532790),QOc=new $APP.q("emmy.mathbox.components.plot","SceneGrids","emmy.mathbox.components.plot/SceneGrids",846572641,null),ABc=new $APP.q("js","Array.","js/Array.",1235645307,null),ROc=new $APP.E(null,"post-fn","post-fn",-1026308723),SOc=new $APP.q(null,"SpecialInputs","SpecialInputs",918346126,null),TOc=new $APP.q(null,"parametric-surface","parametric-surface",
-341367013,null),UOc=new $APP.q(null,"Cartesian","Cartesian",-1514043068,null),VOc=new $APP.q("emmy.mathbox","transform4","emmy.mathbox/transform4",-2061775981,null),WOc=new $APP.q("Math","PI","Math/PI",-11278713,null),XOc=new $APP.q("emmy.mathbox.plot","parametric-surface","emmy.mathbox.plot/parametric-surface",-875374975,null),YOc=new $APP.q("emmy.mafs","point","emmy.mafs/point",1010759994,null),ZOc=new $APP.q("mafs.debug","ViewportInfo","mafs.debug/ViewportInfo",-1936279634,null),$Oc=new $APP.q(null,
"mathbox.primitives.camera","mathbox.primitives.camera",-736965619,null),aPc=new $APP.q("leva.core","Config","leva.core/Config",-569871568,null),bPc=new $APP.q("emmy.mathbox.physics","hamiltonian-curve","emmy.mathbox.physics/hamiltonian-curve",-996972516,null),cPc=new $APP.q(null,"snap?","snap?",-1165238235,null),N5=new $APP.E(null,"u-range","u-range",910531313),r5=new $APP.E(null,"z-index","z-index",1892827090),t6=new $APP.q(null,"z-index","z-index",-761608679,null),dPc=new $APP.q("mathbox.primitives.draw",
"Ticks","mathbox.primitives.draw/Ticks",619757729,null),ePc=new $APP.q(null,"Slice","Slice",-1270834964,null),fPc=new $APP.E("emmy.portal","reagent","emmy.portal/reagent",1080943232),gPc=new $APP.q(null,"polar-surface","polar-surface",628752531,null),hPc=new $APP.q(null,"emmy.viewer.physics","emmy.viewer.physics",1760168458,null),iPc=new $APP.q(null,"rawbox","rawbox",1016636259,null),jPc=new $APP.q(null,"leva.types","leva.types",-1535108225,null),kPc=new $APP.q("mathbox.primitives","Subdivide","mathbox.primitives/Subdivide",
-470832642,null),lPc=new $APP.q(null,"emmy.viewer.stopwatch","emmy.viewer.stopwatch",-1852034379,null),mPc=new $APP.q(null,"spread","spread",-1792098578,null),nPc=new $APP.q(null,"Fragment","Fragment",388889675,null),oPc=new $APP.q(null,"y-samples","y-samples",175313031,null),pPc=new $APP.q(null,"OfYZ","OfYZ",1073732987,null),qPc=new $APP.q(null,"emmy.mathbox.physics","emmy.mathbox.physics",-1520312101,null),rPc=new $APP.q(null,"transform4","transform4",665915972,null),sPc=new $APP.q("emmy.viewer",
"with-let","emmy.viewer/with-let",78267028,null),tPc=new $APP.q(null,"OfXZ","OfXZ",-1832664560,null),uPc=new $APP.q(null,"OfXY","OfXY",-1832967615,null),vPc=new $APP.q("emmy.mathbox","scale","emmy.mathbox/scale",-219766521,null),wPc=new $APP.q("mathbox.primitives.rtt","Compose","mathbox.primitives.rtt/Compose",552342008,null),xPc=new $APP.q(null,"Ticks","Ticks",-469763046,null),yPc=new $APP.E(null,"y-range","y-range",205237097),zPc=new $APP.q(null,"mathbox.primitives.text","mathbox.primitives.text",
423875049,null),APc=new $APP.q("mafs.core","useTransformContext","mafs.core/useTransformContext",2085679355,null),BPc=new $APP.q(null,"format","format",333606761,null),CPc=new $APP.q("mathbox.primitives","Stereographic4","mathbox.primitives/Stereographic4",-462845377,null),u6=new $APP.q(null,"tip","tip",-1432624909,null),DPc=new $APP.q("mathbox.primitives.view","Stereographic","mathbox.primitives.view/Stereographic",-1128717827,null),HAc=new $APP.E(null,"onTick","onTick",390443084),EPc=new $APP.q(null,
"Stereographic","Stereographic",1739074233,null),FPc=new $APP.q("emmy.mathbox","camera","emmy.mathbox/camera",-2060551831,null),GPc=new $APP.q(null,"phase-vectors","phase-vectors",2028184674,null),HPc=new $APP.q("mathbox.primitives.data","Voxel","mathbox.primitives.data/Voxel",581585006,null),bBc=new $APP.E(null,"background","background",-863952629),IPc=new $APP.q("mathbox.primitives","View","mathbox.primitives/View",-5042301,null),JPc=new $APP.q(null,"Stopwatch","Stopwatch",-690056083,null),KPc=
new $APP.q(null,"Reveal","Reveal",1011391251,null),LPc=new $APP.q(null,"emmy.mathbox.plot","emmy.mathbox.plot",1997640408,null),MPc=new $APP.q("emmy.mathbox","label","emmy.mathbox/label",731882144,null),NAc=new $APP.E(null,"renderer","renderer",336841071),NPc=new $APP.q(null,"mathbox.primitives.base","mathbox.primitives.base",-566974481,null),OPc=new $APP.q(null,"comet","comet",-1327701293,null),PPc=new $APP.q("emmy.mathbox","spherical","emmy.mathbox/spherical",1612245184,null),QPc=new $APP.q(null,
"VectorField","VectorField",-214667256,null),RPc=new $APP.q(null,"Transform4","Transform4",-1726980308,null),SPc=new $APP.q("emmy.mathbox","volume","emmy.mathbox/volume",911608655,null),TPc=new $APP.q(null,"Vertex","Vertex",-512523831,null),O5=new $APP.q(null,"out__54292__auto__","out__54292__auto__",685586940,null),UPc=new $APP.E(null,"containerId","containerId",545549578),VPc=new $APP.q("mathbox.primitives","Move","mathbox.primitives/Move",-661788090,null),WPc=new $APP.q("emmy.viewer","expand",
"emmy.viewer/expand",1451248496,null),XPc=new $APP.q("emmy.mathbox","slide","emmy.mathbox/slide",261994770,null),YPc=new $APP.q(null,"point-integrator","point-integrator",2022286565,null),ZPc=new $APP.q("emmy.mathbox","slice","emmy.mathbox/slice",1948433876,null),$Pc=new $APP.q("mathbox.primitives","Compose","mathbox.primitives/Compose",-2940428,null),aQc=new $APP.q("emmy.mathbox","compose","emmy.mathbox/compose",-426367234,null),bQc=new $APP.q("mathbox.primitives.operator","Clamp","mathbox.primitives.operator/Clamp",
1719394459,null),cQc=new $APP.q("mathbox.primitives","Readback","mathbox.primitives/Readback",-897225244,null),dQc=new $APP.q("emmy.mafs","vector","emmy.mafs/vector",-531225442,null),eQc=new $APP.E(null,"z-samples","z-samples",-1471497166),OBc=new $APP.E(null,"folder","folder",1515881736),fQc=new $APP.q("emmy.mafs","point-angle","emmy.mafs/point-angle",-430017069,null),gQc=new $APP.q("mafs.plot","Inequality","mafs.plot/Inequality",-1871249265,null),hQc=new $APP.q("mathbox.primitives.operator","Resample",
"mathbox.primitives.operator/Resample",1349427291,null),iQc=new $APP.q("mafs.vec","with-mag","mafs.vec/with-mag",23153586,null),jQc=new $APP.q("mathbox.primitives","Shader","mathbox.primitives/Shader",-1697795990,null),FAc=new $APP.q("mafs.coordinates","Cartesian","mafs.coordinates/Cartesian",-1187399086,null),kQc=new $APP.q("emmy.mathbox","vector","emmy.mathbox/vector",-1310711508,null),lQc=new $APP.q(null,"mafs.debug","mafs.debug",-1603070117,null),mQc=new $APP.q(null,"custom-input?","custom-input?",
-176480767,null),v6=new $APP.q(null,"axes","axes",-683569329,null),nQc=new $APP.q("leva.types","special-input?","leva.types/special-input?",80974548,null),oQc=new $APP.E(null,"alignHeight","alignHeight",301268438),pQc=new $APP.q(null,"reveal","reveal",1509157325,null),qQc=new $APP.q(null,"hamiltonian-curve","hamiltonian-curve",1907201946,null),rQc=new $APP.q("emmy.mathbox","now","emmy.mathbox/now",1368218261,null),sQc=new $APP.q("mathbox.primitives.transform","Fragment","mathbox.primitives.transform/Fragment",
-1932344836,null),SAc=new $APP.E(null,"klass","klass",-1386752349),tQc=new $APP.q("emmy.viewer.plot","format-number","emmy.viewer.plot/format-number",579323146,null),IAc=new $APP.E(null,"f\x3e","f\x3e",1484564198),uQc=new $APP.q("mathbox.primitives.present","Slide","mathbox.primitives.present/Slide",-788774958,null),vQc=new $APP.q("mathbox.primitives.operator","Transpose","mathbox.primitives.operator/Transpose",1760237086,null),wQc=new $APP.q("mafs.vec","normal","mafs.vec/normal",948663870,null),
xQc=new $APP.q(null,"evolve-hamiltonian","evolve-hamiltonian",1072497772,null),yQc=new $APP.q("emmy.mathbox","stereographic","emmy.mathbox/stereographic",-1490592168,null),zQc=new $APP.q("clojure.core","get","clojure.core/get",-198953213,null),R5=new $APP.E(null,"f'","f'",30804968),AQc=new $APP.q("mathbox.primitives.data","Area","mathbox.primitives.data/Area",-1746633585,null),BQc=new $APP.q("mathbox.primitives.text","Retext","mathbox.primitives.text/Retext",423369225,null),CQc=new $APP.q(null,"AxisLabel",
"AxisLabel",-15384489,null),DQc=new $APP.q(null,"polyline","polyline",-91019517,null),FQc=new $APP.q(null,"mathfield","mathfield",-1769036837,null),K5=new $APP.E(null,"u-samples","u-samples",2078476587),CRc=new $APP.q("emmy.mathbox","line","emmy.mathbox/line",-861168203,null),WRc=new $APP.q(null,"labels?","labels?",-1844297510,null),xBc=new $APP.E(null,"shaded","shaded",561405058),XRc=new $APP.q(null,"Format","Format",-1182429160,null),RAc=new $APP.E(null,"on","on",173873944),YRc=new $APP.q("mathbox.primitives.view",
"Stereographic4","mathbox.primitives.view/Stereographic4",835925364,null),ZRc=new $APP.q(null,"cartesian4","cartesian4",-1556637390,null),$Rc=new $APP.q(null,"square-dist","square-dist",1896485526,null),aSc=new $APP.q("emmy.mathbox.components.plot","Cartesian","emmy.mathbox.components.plot/Cartesian",64455768,null),bSc=new $APP.q("mathbox.primitives.operator","Spread","mathbox.primitives.operator/Spread",1211068744,null),cSc=new $APP.q("emmy.mathbox","strip","emmy.mathbox/strip",2043213670,null),
n5=new $APP.E(null,"z-bias","z-bias",-704890103),dSc=new $APP.q("mathbox.primitives.draw","Vector","mathbox.primitives.draw/Vector",252594792,null),eSc=new $APP.q(null,"threestrap-defaults","threestrap-defaults",1862651176,null),w6=new $APP.E(null,"xy","xy",-696978232),fSc=new $APP.q(null,"rtt","rtt",1680827112,null),x6=new $APP.E(null,"xz","xz",426487154),UAc=new $APP.E(null,"up","up",-269712113),gSc=new $APP.q(null,"with-params","with-params",1172475110,null),hSc=new $APP.E(null,"x0","x0",410843387),
iSc=new $APP.q("emmy.leva","folder","emmy.leva/folder",-1391662575,null),jSc=new $APP.q(null,"transform-widget","transform-widget",-539690614,null),kSc=new $APP.q("mathbox.primitives","Clock","mathbox.primitives/Clock",-1930546827,null),lSc=new $APP.q("mathbox.primitives","Now","mathbox.primitives/Now",933701808,null),mSc=new $APP.q(null,"point-angle","point-angle",-144527332,null),nSc=new $APP.q("emmy.mathbox","transpose","emmy.mathbox/transpose",-502693178,null),oSc=new $APP.E(null,"v0","v0",-895937461),
pSc=new $APP.E(null,"objectOrFn","objectOrFn",-2146548127),LAc=new $APP.E(null,"background-opacity","background-opacity",-1073748756),qSc=new $APP.q("mathbox.primitives.transform","Transform4","mathbox.primitives.transform/Transform4",592264057,null),rSc=new $APP.q("emmy.mafs","colors","emmy.mafs/colors",-1247454754,null),sSc=new $APP.E(null,"containerStyle","containerStyle",-1828381609),tSc=new $APP.E(null,"plugins","plugins",1900073717),uSc=new $APP.q("mathbox.primitives","Voxel","mathbox.primitives/Voxel",
1345267876,null),vSc=new $APP.q(null,"radius","radius",-432590731,null),AAc=new $APP.q("reagent.core","with-let","reagent.core/with-let",-1625899993,null),wSc=new $APP.q("mathbox.primitives","Split","mathbox.primitives/Split",-1183933028,null),eBc=new $APP.E(null,"zero","zero",-858964576),KBc=new $APP.q("emmy.mathbox.components.physics","PhaseVectors","emmy.mathbox.components.physics/PhaseVectors",-1820177605,null),xSc=new $APP.E(null,"yx","yx",1696579752),y6=new $APP.E(null,"yz","yz",679015029),
ySc=new $APP.q(null,"cartesian","cartesian",256171159,null),zSc=new $APP.E(null,"zy","zy",-1975963090),ASc=new $APP.E(null,"zx","zx",-933582998),BSc=new $APP.E(null,"y-samples","y-samples",-1465218496),CSc=new $APP.q("mathbox.primitives.transform","Transform","mathbox.primitives.transform/Transform",1118031936,null),DSc=new $APP.q("emmy.mathbox.components.plot","Line","emmy.mathbox.components.plot/Line",1639119054,null),ESc=new $APP.q("mathbox.primitives","Ticks","mathbox.primitives/Ticks",-361320827,
null),FSc=new $APP.q("mathbox.primitives.draw","Line","mathbox.primitives.draw/Line",-2033847467,null),GSc=new $APP.q("mafs.core","Point","mafs.core/Point",-401633189,null),iBc=new $APP.E(null,"snap","snap",-51714904),HSc=new $APP.q("mathbox.primitives","Repeat","mathbox.primitives/Repeat",-1574268723,null),ISc=new $APP.q(null,"transform","transform",-1273134005,null),JSc=new $APP.q("mathlive.core","Mathfield","mathlive.core/Mathfield",989961683,null),KSc=new $APP.E(null,"blue","blue",-622100620),
LSc=new $APP.q(null,"labelPi","labelPi",-778759405,null),MSc=new $APP.q("mafs.line","Segment","mafs.line/Segment",-579584513,null),NSc=new $APP.E(null,"grid-r","grid-r",1146284528),OSc=new $APP.q(null,"Clamp","Clamp",976282718,null),F5=new $APP.E(null,"grid-u","grid-u",-765765613),G5=new $APP.E(null,"grid-v","grid-v",-1991151708),PSc=new $APP.E(null,"grid-x","grid-x",1935903622),QSc=new $APP.E(null,"grid-y","grid-y",1140315474),RSc=new $APP.E(null,"grid-z","grid-z",855482282),SSc=new $APP.q("mathbox.primitives.present",
"Present","mathbox.primitives.present/Present",-2141575703,null),g5=new $APP.E(null,"live","live",-1610148039),TSc=new $APP.q("mathbox.primitives.operator","Lerp","mathbox.primitives.operator/Lerp",-1101353849,null),USc=new $APP.q(null,"geodesic","geodesic",-2083895316,null),VSc=new $APP.q(null,"ODECurve","ODECurve",1552111318,null),WSc=new $APP.q("clojure.core","get-in","clojure.core/get-in",-1204155834,null),XSc=new $APP.q("emmy.mafs","circle","emmy.mafs/circle",-1025705780,null),YSc=new $APP.q("emmy.viewer.physics",
"evolve-routhian","emmy.viewer.physics/evolve-routhian",-1304376672,null),ZSc=new $APP.q("mathlive.core","-\x3eplaceholders","mathlive.core/-\x3eplaceholders",-597062363,null),$Sc=new $APP.E("emmy.portal","mathlive","emmy.portal/mathlive",-879079692),gBc=new $APP.E(null,"weight","weight",-1262796205),aTc=new $APP.E(null,"on-move","on-move",-1779179710),bTc=new $APP.q("emmy.mafs","mafs","emmy.mafs/mafs",-1369683636,null),cTc=new $APP.q(null,"Spread","Spread",-1805618163,null),dTc=new $APP.q("emmy.mathbox",
"reveal","emmy.mathbox/reveal",-195153130,null),eTc=new $APP.q(null,"slice","slice",-353076229,null),fTc=new $APP.q("mathbox.primitives","Vertex","mathbox.primitives/Vertex",-335881150,null),gTc=new $APP.q(null,"slide","slide",1783023419,null),hTc=new $APP.q(null,"mafs.coordinates","mafs.coordinates",-1797555390,null),iTc=new $APP.q(null,"emmy.viewer.plot","emmy.viewer.plot",-1008175511,null),jTc=new $APP.q("emmy.mafs","viewport-info","emmy.mafs/viewport-info",939626873,null),k5=new $APP.E(null,"color",
"color",1011675173),kTc=new $APP.q("emmy.mafs","text","emmy.mafs/text",-429130471,null),lTc=new $APP.q(null,"Swizzle","Swizzle",450790761,null),t5=new $APP.E(null,"zIndex","zIndex",-1588341609),mTc=new $APP.q("mathbox.core","MathBox","mathbox.core/MathBox",-1451256013,null),nTc=new $APP.q("emmy.mathbox","group","emmy.mathbox/group",671054352,null),oTc=new $APP.q("mathbox.primitives","Polar","mathbox.primitives/Polar",-1749556723,null),pTc=new $APP.q(null,"Segment","Segment",1964856604,null),qTc=new $APP.q("emmy.leva",
"sub-panel","emmy.leva/sub-panel",-2005075661,null),rTc=new $APP.q("emmy.mathbox.plot","labeled-axis","emmy.mathbox.plot/labeled-axis",1930953343,null),sTc=new $APP.q("mathbox.primitives","Text","mathbox.primitives/Text",-1961772649,null),tTc=new $APP.q("mathlive.core","set-math-json!","mathlive.core/set-math-json!",-1501658725,null),xAc=new $APP.q("js","Function.","js/Function.",-1454475354,null),uTc=new $APP.q(null,"PointSlope","PointSlope",-1721955891,null),vTc=new $APP.q(null,"ode-curve","ode-curve",
1386791275,null),wTc=new $APP.q("mathbox.primitives.text","Text","mathbox.primitives.text/Text",1553818712,null),xTc=new $APP.q(null,"mathbox.primitives.overlay","mathbox.primitives.overlay",-48495376,null),BBc=new $APP.q(null,"psym__54293__auto__","psym__54293__auto__",616940650,null),yTc=new $APP.q(null,"Inequality","Inequality",1210714689,null),q5=new $APP.E(null,"width","width",-384071477),zTc=new $APP.q("mathbox.primitives","Cartesian4","mathbox.primitives/Cartesian4",115701845,null),ATc=new $APP.q(null,
"Readback","Readback",-1069768581,null),BTc=new $APP.q("emmy.viewer","get","emmy.viewer/get",2069814174,null),CTc=new $APP.q("emmy.mathbox.plot","of-xy","emmy.mathbox.plot/of-xy",-902602504,null),DTc=new $APP.q("emmy.leva","button","emmy.leva/button",-1414084376,null),ETc=new $APP.q("emmy.mathbox.plot","of-xz","emmy.mathbox.plot/of-xz",-992214176,null),FTc=new $APP.E(null,"tail","tail",-1146023564),QTc=new $APP.q("emmy.mathbox.plot","of-yz","emmy.mathbox.plot/of-yz",538342604,null),RTc=new $APP.q(null,
"Line","Line",-1076951502,null),STc=new $APP.q(null,"text-size","text-size",694913218,null),TTc=new $APP.q("emmy.mathbox.physics","routhian-curve","emmy.mathbox.physics/routhian-curve",-373399279,null),UTc=new $APP.q(null,"tip-or-opts","tip-or-opts",996329507,null),I5=new $APP.E(null,"v-range","v-range",1529354041),VTc=new $APP.q(null,"dom","dom",403993605,null),WTc=new $APP.q("leva.types","primitive?","leva.types/primitive?",895055317,null),XTc=new $APP.q(null,"dot","dot",-1211726368,null),YTc=new $APP.q(null,
"movable-point","movable-point",-364804453,null),ZTc=new $APP.q("mathbox.primitives","Step","mathbox.primitives/Step",-181856637,null),$Tc=new $APP.q("mathbox.primitives","Mask","mathbox.primitives/Mask",-149597162,null),aUc=new $APP.q(null,"mathbox.primitives.time","mathbox.primitives.time",-1216371197,null),bUc=new $APP.E(null,"r-range","r-range",351524662),QAc=new $APP.E(null,"rotate-speed","rotate-speed",-564390296),cUc=new $APP.q(null,"on-move","on-move",-138648183,null),dUc=new $APP.q(null,
"swizzle","swizzle",683888479,null),eUc=new $APP.q(null,"PolarCurve","PolarCurve",180889332,null),fUc=new $APP.q("leva.core","button-group","leva.core/button-group",-1452806910,null),gUc=new $APP.q(null,"Rtt","Rtt",-483528305,null),s5=new $APP.E(null,"z","z",-789527183),hUc=new $APP.q(null,"z-range","z-range",924911468,null),z6=new $APP.E(null,"y","y",-1757859776),A6=new $APP.E(null,"x","x",2099068185),iUc=new $APP.q(null,"in-\x3eout","in-\x3eout",552839758,null),jUc=new $APP.E(null,"u","u",-1156634785),
kUc=new $APP.E("portal.viewer","mathlive?","portal.viewer/mathlive?",-1076221527),M5=new $APP.E(null,"v-samples","v-samples",938837869),lUc=new $APP.q("mathbox.primitives","Html","mathbox.primitives/Html",-1603447226,null),mUc=new $APP.q("mathbox.primitives","Spread","mathbox.primitives/Spread",1809426052,null),B6=new $APP.E(null,"R","R",-936662523),nUc=new $APP.q("emmy.mathbox.components.plot","AxisLabel","emmy.mathbox.components.plot/AxisLabel",1496012651,null),oUc=new $APP.q(null,"lerp","lerp",
796102679,null),pUc=new $APP.E(null,"z-range","z-range",-715620059),U5=new $APP.E(null,"L","L",-1038307519),C6=new $APP.E(null,"H","H",-938148327),$5=new $APP.E(null,"\x3e","\x3e",-555517146),D5=new $APP.E(null,"arrow-size","arrow-size",-2134610248),qUc=new $APP.q("mafs.vec","lerp","mafs.vec/lerp",568964766,null),rUc=new $APP.q("mathlive.core","-\x3emath-json","mathlive.core/-\x3emath-json",-442381841,null),sUc=new $APP.q("emmy.mathbox","axis","emmy.mathbox/axis",1946347466,null),tUc=new $APP.q(null,
"colors","colors",-1497261037,null),uUc=new $APP.q("emmy.mafs","polygon","emmy.mafs/polygon",1656753529,null),vUc=new $APP.q(null,"mafs.core","mafs.core",-1459488166,null),wUc=new $APP.q(null,"Volume","Volume",1797394167,null),xUc=new $APP.q(null,"Repeat","Repeat",-1413718092,null),T5=new $APP.E(null,"state-\x3exyz","state-\x3exyz",254907752),yUc=new $APP.q(null,"mafs.line","mafs.line",-5685442,null),zUc=new $APP.q(null,"emmy.leva","emmy.leva",-279932196,null),AUc=new $APP.q(null,"mafs.vec","mafs.vec",
-267198157,null),BUc=new $APP.q(null,"circle","circle",-751223407,null),CUc=new $APP.q("emmy.mathbox","fragment","emmy.mathbox/fragment",818865172,null);var $4=function $4(a){switch(arguments.length){case 1:return $4.j(arguments[0]);case 2:return $4.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};$4.j=function(a){return $4.A(a,null)};$4.A=function(a,b){return $APP.Xj.C(a,$APP.rg,yGc,!0,CAc,fPc,$APP.y([ZCc,$APP.k(b)?b:null]))};$4.G=2;$APP.e=U4.prototype;$APP.e.Ka=function(a,b){return this.fa(null,b,null)};
$APP.e.fa=function(a,b,c){switch(b instanceof $APP.E?b.ga:null){case "f":return this.f;case "atom":return this.atom;case "params":return this.params;default:return $APP.C.B(this.N,b,c)}};$APP.e.lb=function(a,b,c){return $APP.Id.B(function(d,g){var l=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return b.B?b.B(d,l,g):b.call(null,d,l,g)},c,this)};
$APP.e.ea=function(a,b,c){return $APP.Rg(b,function(d){return $APP.Rg(b,$APP.Ug,""," ","",c,d)},"#emmy.viewer.ParamF{",", ","}",c,$APP.N.A(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Dy,this.f],null),new $APP.H(null,2,5,$APP.I,[$APP.mv,this.atom],null),new $APP.H(null,2,5,$APP.I,[$APP.dm,this.params],null)],null),this.N))};$APP.e.Qa=function(){return new $APP.Ff(this,3,new $APP.H(null,3,5,$APP.I,[$APP.Dy,$APP.mv,$APP.dm],null),$APP.k(this.N)?$APP.qc(this.N):$APP.we())};
$APP.e.ba=function(){return this.R};$APP.e.qa=function(){return new U4(this.f,this.atom,this.params,this.R,this.N,this.P)};$APP.e.ta=function(){return 3+$APP.Tc(this.N)};$APP.e.ka=function(){var a=this.P;return null!=a?a:this.P=a=-1988479610^$APP.Kc(this)};$APP.e.Y=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.Uc.A(this.f,b.f)&&$APP.Uc.A(this.atom,b.atom)&&$APP.Uc.A(this.params,b.params)&&$APP.Uc.A(this.N,b.N)};
$APP.e.Ib=function(a,b){return $APP.Bd(new $APP.ug(null,new $APP.f(null,3,[$APP.dm,null,$APP.Dy,null,$APP.mv,null],null),null),b)?$APP.Oi.A($APP.Ib($APP.Lf.A($APP.F,this),this.R),b):new U4(this.f,this.atom,this.params,this.R,$APP.re($APP.Oi.A(this.N,b)),null)};$APP.e.Va=function(a,b){switch(b instanceof $APP.E?b.ga:null){case "f":case "atom":case "params":return!0;default:return $APP.Bd(this.N,b)}};
$APP.e.sa=function(a,b,c){return $APP.k($APP.$d.A?$APP.$d.A($APP.Dy,b):$APP.$d.call(null,$APP.Dy,b))?new U4(c,this.atom,this.params,this.R,this.N,null):$APP.k($APP.$d.A?$APP.$d.A($APP.mv,b):$APP.$d.call(null,$APP.mv,b))?new U4(this.f,c,this.params,this.R,this.N,null):$APP.k($APP.$d.A?$APP.$d.A($APP.dm,b):$APP.$d.call(null,$APP.dm,b))?new U4(this.f,this.atom,c,this.R,this.N,null):new U4(this.f,this.atom,this.params,this.R,$APP.rg.B(this.N,b,c),null)};
$APP.e.ma=function(){return $APP.r($APP.N.A(new $APP.H(null,3,5,$APP.I,[new $APP.Cd($APP.Dy,this.f,null),new $APP.Cd($APP.mv,this.atom,null),new $APP.Cd($APP.dm,this.params,null)],null),this.N))};$APP.e.da=function(a,b){return new U4(this.f,this.atom,this.params,b,this.N,this.P)};$APP.e.ua=function(a,b){return $APP.od(b)?this.sa(null,$APP.bd(b,0),$APP.bd(b,1)):$APP.Id.B($APP.nb,this,b)};var D6=function D6(a){switch(arguments.length){case 1:return D6.j(arguments[0]);case 2:return D6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};D6.j=function(a){return D6.A(a,$APP.F)};D6.A=function(a,b){return new $APP.D(null,$Ic,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};D6.G=2;
var E6=function E6(a){switch(arguments.length){case 1:return E6.j(arguments[0]);case 2:return E6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};E6.j=function(a){return new $APP.D(null,fUc,new $APP.D(null,a,null,1,null),2,null)};E6.A=function(a,b){return new $APP.D(null,fUc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};E6.G=2;
var F6=function F6(a){switch(arguments.length){case 1:return F6.j(arguments[0]);case 2:return F6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};F6.j=function(a){return new $APP.D(null,qHc,new $APP.D(null,a,null,1,null),2,null)};F6.A=function(a,b){return new $APP.D(null,qHc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};F6.G=2;
var G6=function G6(a){switch(arguments.length){case 1:return G6.j(arguments[0]);case 2:return G6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};G6.j=function(a){return new $APP.D(null,DFc,new $APP.D(null,a,null,1,null),2,null)};G6.A=function(a,b){return new $APP.D(null,DFc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};G6.G=2;
var H6=function H6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return H6.C(arguments[0],c)};H6.C=function(a,b){return $4.j($APP.Lf.A(new $APP.H(null,2,5,$APP.I,[aPc,a],null),b))};H6.G=1;H6.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var I6=function I6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return I6.C(arguments[0],c)};I6.C=function(a,b){return $4.j($APP.Lf.A(new $APP.H(null,2,5,$APP.I,[oDc,a],null),b))};I6.G=1;I6.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var hKc=new $APP.ug(null,new $APP.f(null,10,[EHc,null,kEc,null,CHc,null,dGc,null,bBc,null,XFc,null,UBc,null,eJc,null,KSc,null,eNc,null],null),null),J6=function J6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return J6.C(c)};J6.C=function(a){return dtc($4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[EAc],null),a)))};J6.G=0;J6.K=function(a){return this.C($APP.r(a))};
var K6=function K6(a){switch(arguments.length){case 2:return K6.A(arguments[0],arguments[1]);case 1:return K6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};K6.A=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return K6.j($APP.rg.C(b,A6,c,$APP.y([z6,a])))};K6.j=function(a){return $APP.od(a)?K6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[GSc,a],null))};K6.G=2;
var L6=function L6(a){switch(arguments.length){case 2:return L6.A(arguments[0],arguments[1]);case 1:return L6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};L6.A=function(a,b){return L6.j($APP.rg.B(b,nCc,a))};L6.j=function(a){return $APP.od(a)?L6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[cNc,a],null))};L6.G=2;
var M6=function M6(a){switch(arguments.length){case 2:return M6.A(arguments[0],arguments[1]);case 1:return M6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};M6.A=function(a,b){return M6.j($APP.rg.B(b,nCc,a))};M6.j=function(a){return $APP.od(a)?M6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[tNc,a],null))};M6.G=2;
var N6=function N6(a){switch(arguments.length){case 1:return N6.j(arguments[0]);case 2:return N6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};N6.j=function(a){return N6.A(a,$APP.F)};N6.A=function(a,b){b=$APP.rg.C(b,A6,A6.A(b,0),$APP.y([z6,z6.A(b,0)]));return a5(new $APP.H(null,3,5,$APP.I,[bJc,b,a],null))};N6.G=2;
var O6=function O6(a){switch(arguments.length){case 2:return O6.A(arguments[0],arguments[1]);case 1:return O6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};O6.A=function(a,b){return O6.j($APP.rg.B(b,bNc,a))};O6.j=function(a){return $APP.od(a)?O6.A(a,$APP.F):a5(new $APP.H(null,2,5,$APP.I,[IIc,a],null))};O6.G=2;
var P6=function P6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return P6.C(c)};P6.C=function(a){return a5($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[zCc],null),a))};P6.G=0;P6.K=function(a){return this.C($APP.r(a))};var Q6=function Q6(a){switch(arguments.length){case 0:return Q6.J();case 1:return Q6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};Q6.J=function(){return Q6.j($APP.F)};
Q6.j=function(a){return htc(new $APP.H(null,2,5,$APP.I,[FAc,a],null),J6)};Q6.G=1;var R6=function R6(a){switch(arguments.length){case 0:return R6.J();case 1:return R6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};R6.J=function(){return R6.j($APP.F)};R6.j=function(a){return htc(new $APP.H(null,2,5,$APP.I,[SFc,a],null),J6)};R6.G=1;
var S6=function S6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return S6.C(c)};S6.C=function(a){return a5($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[UIc],null),a))};S6.G=0;S6.K=function(a){return this.C($APP.r(a))};var T6=function T6(a){switch(arguments.length){case 0:return T6.J();case 1:return T6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};T6.J=function(){return T6.j($APP.F)};
T6.j=function(a){return a5(new $APP.H(null,2,5,$APP.I,[ZOc,a],null))};T6.G=1;var U6=function U6(a){switch(arguments.length){case 2:return U6.A(arguments[0],arguments[1]);case 1:return U6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};U6.A=function(a,b){return U6.j($APP.rg.B(b,z6,a))};
U6.j=function(a){if($APP.md(a)&&!V4(a)){var b=X4(a,z6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return a5(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[TCc,b],null)))}return U6.A(a,$APP.F)};U6.G=2;var V6=function V6(a){switch(arguments.length){case 2:return V6.A(arguments[0],arguments[1]);case 1:return V6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};V6.A=function(a,b){return V6.j($APP.rg.B(b,A6,a))};
V6.j=function(a){if($APP.md(a)&&!V4(a)){var b=X4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return a5(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[SCc,b],null)))}return V6.A(a,$APP.F)};V6.G=2;var W6=function W6(a){switch(arguments.length){case 2:return W6.A(arguments[0],arguments[1]);case 1:return W6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};W6.A=function(a,b){return W6.j($APP.rg.B(b,w6,a))};
W6.j=function(a){if($APP.md(a)&&!V4(a)){var b=Y4(a,w6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=Y4(b,$Gc);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return a5(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[HFc,c],null)))}return W6.A(a,$APP.F)};W6.G=2;var X6=function X6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return X6.C(c)};X6.C=function(a){return $4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[WCc],null),a))};X6.G=0;X6.K=function(a){return this.C($APP.r(a))};var Y6=function Y6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return Y6.C(c)};
Y6.C=function(a){return $4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[mTc],null),a))};Y6.G=0;Y6.K=function(a){return this.C($APP.r(a))};var Z6=function Z6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return Z6.C(c)};Z6.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[TMc],null),a)};Z6.G=0;Z6.K=function(a){return this.C($APP.r(a))};
var $6=function $6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return $6.C(c)};$6.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[nGc],null),a)};$6.G=0;$6.K=function(a){return this.C($APP.r(a))};var a7=function a7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return a7.C(c)};
a7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[tMc],null),a)};a7.G=0;a7.K=function(a){return this.C($APP.r(a))};var b7=function b7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return b7.C(c)};b7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[uCc],null),a)};b7.G=0;b7.K=function(a){return this.C($APP.r(a))};
var c7=function c7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return c7.C(c)};c7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[SSc],null),a)};c7.G=0;c7.K=function(a){return this.C($APP.r(a))};var d7=function d7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return d7.C(c)};
d7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[qCc],null),a)};d7.G=0;d7.K=function(a){return this.C($APP.r(a))};var e7=function e7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return e7.C(c)};e7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[uQc],null),a)};e7.G=0;e7.K=function(a){return this.C($APP.r(a))};
var f7=function f7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return f7.C(c)};f7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[qNc],null),a)};f7.G=0;f7.K=function(a){return this.C($APP.r(a))};var g7=function g7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return g7.C(c)};
g7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[FGc],null),a)};g7.G=0;g7.K=function(a){return this.C($APP.r(a))};var h7=function h7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return h7.C(c)};h7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[tFc],null),a)};h7.G=0;h7.K=function(a){return this.C($APP.r(a))};
var i7=function i7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return i7.C(c)};i7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[sQc],null),a)};i7.G=0;i7.K=function(a){return this.C($APP.r(a))};var j7=function j7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return j7.C(c)};
j7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[KEc],null),a)};j7.G=0;j7.K=function(a){return this.C($APP.r(a))};var k7=function k7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return k7.C(c)};k7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[iHc],null),a)};k7.G=0;k7.K=function(a){return this.C($APP.r(a))};
var l7=function l7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return l7.C(c)};l7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[CSc],null),a)};l7.G=0;l7.K=function(a){return this.C($APP.r(a))};var m7=function m7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return m7.C(c)};
m7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[qSc],null),a)};m7.G=0;m7.K=function(a){return this.C($APP.r(a))};var n7=function n7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return n7.C(c)};n7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[cKc],null),a)};n7.G=0;n7.K=function(a){return this.C($APP.r(a))};
var o7=function o7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return o7.C(c)};o7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[VCc],null),a),Y6)};o7.G=0;o7.K=function(a){return this.C($APP.r(a))};var p7=function p7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return p7.C(c)};
p7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[gDc],null),a),Y6)};p7.G=0;p7.K=function(a){return this.C($APP.r(a))};var q7=function q7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return q7.C(c)};q7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[gIc],null),a),Y6)};q7.G=0;q7.K=function(a){return this.C($APP.r(a))};
var r7=function r7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return r7.C(c)};r7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[fFc],null),a),Y6)};r7.G=0;r7.K=function(a){return this.C($APP.r(a))};var s7=function s7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return s7.C(c)};
s7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[DPc],null),a),Y6)};s7.G=0;s7.K=function(a){return this.C($APP.r(a))};var t7=function t7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return t7.C(c)};t7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[YRc],null),a),Y6)};t7.G=0;t7.K=function(a){return this.C($APP.r(a))};
var u7=function u7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return u7.C(c)};u7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[RBc],null),a)};u7.G=0;u7.K=function(a){return this.C($APP.r(a))};var v7=function v7(a){switch(arguments.length){case 2:return v7.A(arguments[0],arguments[1]);case 3:return v7.B(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};v7.A=function(a,b){return v7.B(a,b,$APP.F)};v7.B=function(a,b,c){var d=otc(a,b,c);return function(g,l,n,p){return d.solve(0,g,l*n,d.grid(n,function(v,t){return p.j?p.j(t):p.call(null,t)}))}};v7.G=3;
var w7=function w7(a){switch(arguments.length){case 2:return w7.A(arguments[0],arguments[1]);case 3:return w7.B(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};w7.A=function(a,b){return w7.B(a,b,$APP.F)};w7.B=function(a,b,c){b=ptc(b);return otc(a,$APP.Tc(b),c).integrate(0,b)};w7.G=3;var wtc=$APP.Vr(101);var iKc=$APP.Vr(535);var x7=$APP.Vr(539);var jKc=$APP.zs(x7.Group),kKc=$APP.zs(x7.Inherit),lKc=$APP.zs(x7.Unit);var mKc=$APP.zs(x7.Camera);var Kuc=$APP.zs(x7.Area),u5=$APP.zs(x7.Array),Auc=$APP.zs(x7.Interval),nKc=$APP.zs(x7.Matrix),duc=$APP.zs(x7.Scale),oKc=$APP.zs(x7.Volume),pKc=$APP.zs(x7.Voxel);var muc=$APP.zs(x7.Axis),qKc=$APP.zs(x7.Face),quc=$APP.zs(x7.Grid),z5=$APP.zs(x7.Line),rKc=$APP.zs(x7.Point),sKc=$APP.zs(x7.Strip),Luc=$APP.zs(x7.Surface),huc=$APP.zs(x7.Ticks),y7=$APP.zs(x7.Vector);var tKc=$APP.zs(x7.Clamp),uKc=$APP.zs(x7.Grow),vKc=$APP.zs(x7.Join),wKc=$APP.zs(x7.Lerp),xKc=$APP.zs(x7.Memo),yKc=$APP.zs(x7.Readback),zKc=$APP.zs(x7.Repeat),Euc=$APP.zs(x7.Resample),AKc=$APP.zs(x7.Slice),BKc=$APP.zs(x7.Split),CKc=$APP.zs(x7.Spread),DKc=$APP.zs(x7.Subdivide),EKc=$APP.zs(x7.Swizzle),Fuc=$APP.zs(x7.Transpose);var Utc=$APP.zs(x7.Dom),Rtc=$APP.zs(x7.Html);var FKc=$APP.zs(x7.Move),GKc=$APP.zs(x7.Play),HKc=$APP.zs(x7.Present),IKc=$APP.zs(x7.Reveal),JKc=$APP.zs(x7.Slide),KKc=$APP.zs(x7.Step);var LKc=$APP.zs(x7.Compose),MKc=$APP.zs(x7.Rtt);var NKc=$APP.zs(x7.Shader);var o5=$APP.zs(x7.Format),p5=$APP.zs(x7.Label),OKc=$APP.zs(x7.Retext),juc=$APP.zs(x7.Text);var PKc=$APP.zs(x7.Clock),QKc=$APP.zs(x7.Now);var RKc=$APP.zs(x7.Fragment),SKc=$APP.zs(x7.Layer),TKc=$APP.zs(x7.Mask),UKc=$APP.zs(x7.Transform),VKc=$APP.zs(x7.Transform4),WKc=$APP.zs(x7.Vertex);var XKc=$APP.zs(x7.Cartesian),YKc=$APP.zs(x7.Cartesian4),ZKc=$APP.zs(x7.Polar),$Kc=$APP.zs(x7.Spherical),aLc=$APP.zs(x7.Stereographic),bLc=$APP.zs(x7.Stereographic4),cLc=$APP.zs(x7.View);var f5=function f5(a){switch(arguments.length){case 1:return f5.j(arguments[0]);case 2:return f5.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};f5.j=function(a){return f5.A(a,2)};f5.A=function(a,b){return a.toFixed(b).replace(/\.0+$/,"")};f5.G=2;
var z7=function z7(a){switch(arguments.length){case 1:return z7.j(arguments[0]);case 2:return z7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};z7.j=function(a){return z7.A(a,5)};z7.A=function(a,b){if(0===a)return"0";if(.001>Math.abs(Math.PI-a))return"π";if(.001>Math.abs(-Math.PI-a))return"-π";a=f5.A(a/Math.PI,b);switch(a){case "1":return"π";case "-1":return"-π";default:return[$APP.m.j(a),"π"].join("")}};z7.G=2;var Itc=$APP.Vr(540);var Jtc=$APP.Vr(541);var rtc=new $APP.H(null,4,5,$APP.I,[NAc,OAc,RAc,MAc],null);var dLc=new $APP.f(null,2,[tSc,new $APP.H(null,3,5,$APP.I,["core","controls","cursor"],null),OAc,new $APP.f(null,1,[SAc,Itc.OrbitControls],null)],null),A7=function A7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return A7.C(arguments[0],c)};
A7.C=function(a,b){var c=$APP.qe(a);a=$APP.C.A(c,BHc);var d=$APP.C.A(c,g6);c=$APP.rg.B($APP.Oi.C(c,BHc,$APP.y([g6])),$APP.OD,d);if(null==a)return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[$5,x7.ContainedMathbox,c],null),b);if($APP.md(a))return a=$APP.rg.C(c,UPc,$APP.Wl.j(a),$APP.y([sSc,$APP.Kra.j(a),pNc,$APP.Tm.j(a)])),$APP.Lf.A(new $APP.H(null,3,5,$APP.I,[$5,x7.ContainedMathbox,a],null),b);if(a instanceof HTMLElement)return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[$5,x7.Mathbox,c],null),b);throw $APP.Zi.A("Unsupported container : ",
new $APP.f(null,1,[BHc,a],null));};A7.G=1;A7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var B7=function B7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return B7.C(arguments[0],c)};
B7.C=function(a,b){var c=$APP.vs.useState(null),d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);var g=stc(a);a=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);c=$APP.Fj.B($APP.rg.B(g,MAc,c),g6,function(l){return $APP.k(l)?$APP.Ni.C($APP.y([dLc,Otc(l)])):dLc});Gtc(d,a);return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[A7,c],null),b)};B7.G=1;B7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var C7=function C7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return C7.C(arguments[0],c)};C7.C=function(a,b){return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[IAc,B7,a],null),b)};C7.G=1;C7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var eLc=$APP.Vr(542);var m5=$APP.fg([z6,xSc,w6,ASc,zSc,s5,x6,y6,A6],[2,new $APP.H(null,2,5,$APP.I,[2,1],null),new $APP.H(null,2,5,$APP.I,[1,2],null),new $APP.H(null,2,5,$APP.I,[3,1],null),new $APP.H(null,2,5,$APP.I,[3,2],null),3,new $APP.H(null,2,5,$APP.I,[1,3],null),new $APP.H(null,2,5,$APP.I,[2,3],null),1]),Stc=iKc.DOM.createClass({render:function(a,b,c){b={innerHTML:eLc.renderToString(c)};return a.A?a.A("span",b):a.call(null,"span",b)}}),Ttc=iKc.DOM.createClass({render:function(a,b,c){b={style:{color:"gray"}};return a.B?
a.B("b",b,c):a.call(null,"b",b,c)}}),D7=function D7(a){switch(arguments.length){case 1:return D7.j(arguments[0]);case 2:return D7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};D7.j=function(a){return new $APP.H(null,3,5,$APP.I,[D7,a,null],null)};
D7.A=function(a,b){a=$APP.od(a)?$APP.Bg(a,$APP.Uj.j(!0)):a;return $APP.Lf.B(new $APP.H(null,1,5,$APP.I,[e5],null),$APP.Vg.j(function(c){var d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);if($APP.k(c)){var g=m5.j?m5.j(d):m5.call(null,d);return new $APP.H(null,2,5,$APP.I,[ouc,$APP.rg.C($APP.md(c)?c:$APP.F,h5,d,$APP.y([$APP.Cp,$APP.Zl.A(b,new $APP.H(null,2,5,$APP.I,[g-1,1],null))]))],null)}return null}),a)};D7.G=2;
var E7=function E7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return E7.C(c)};
E7.C=function(a){a=Ptc(a);var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var c=$APP.qe(b);b=$APP.C.B(c,TAc,new $APP.H(null,3,5,$APP.I,[.5,-2,.6],null));var d=$APP.C.B(c,E5,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[-5,5],null),new $APP.H(null,2,5,$APP.I,[-5,5],null),new $APP.H(null,2,5,$APP.I,[-5,5],null)],null)),g=$APP.C.B(c,xFc,new $APP.H(null,3,5,$APP.I,[1,1,1],null)),l=$APP.C.B(c,x5,new $APP.H(null,3,5,$APP.I,[0,0,0],null)),n=$APP.C.B(c,C5,new $APP.H(null,3,5,$APP.I,[A6,z6,s5],null));
c=$APP.C.B(c,HEc,new $APP.H(null,1,5,$APP.I,[w6],null));return new $APP.H(null,6,5,$APP.I,[XKc,new $APP.f(null,3,[E5,d,xFc,g,x5,l],null),new $APP.H(null,2,5,$APP.I,[mKc,new $APP.f(null,2,[lFc,!0,x5,b],null)],null),$APP.Lf.A(new $APP.H(null,1,5,$APP.I,[e5],null),a),new $APP.H(null,3,5,$APP.I,[D7,n,d],null),new $APP.H(null,2,5,$APP.I,[wuc,c],null)],null)};E7.G=0;E7.K=function(a){return this.C($APP.r(a))};
var fLc=new $APP.f(null,1,[TAc,new $APP.f(null,1,[UAc,new $APP.H(null,3,5,$APP.I,[0,0,1],null)],null)],null),gLc=new $APP.f(null,3,[BHc,new $APP.f(null,1,[$APP.Kra,new $APP.f(null,2,[H5,"400px",q5,"100%"],null)],null),NAc,new $APP.f(null,1,[LAc,0],null),g6,fLc],null),hLc=new $APP.H(null,6,5,$APP.I,[E5,xFc,x5,TAc,C5,HEc],null),F7=function F7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return F7.C(c)};
F7.C=function(a){a=Ptc(a);var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var c=$APP.sg(b,hLc);b=$APP.Je.B($APP.Oi,b,hLc);var d=g6.j(b);b=$APP.k(d)?$APP.rg.B(b,g6,$APP.Ni.C($APP.y([fLc,d]))):b;return new $APP.H(null,3,5,$APP.I,[C7,$APP.Ni.C($APP.y([gLc,b])),$APP.Lf.A(new $APP.H(null,2,5,$APP.I,[E7,c],null),a)],null)};F7.G=0;F7.K=function(a){return this.C($APP.r(a))};var G7=function G7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return G7.C(c)};G7.C=function(a){return $4.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[aSc],null),a),function(b){return Y6.C($APP.y([OOc,b]))})};G7.G=0;G7.K=function(a){return this.C($APP.r(a))};var P5=function P5(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return P5.C(c)};
P5.C=function(a){return $4.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[VHc],null),a))};P5.G=0;P5.K=function(a){return this.C($APP.r(a))};var iLc=$4.j(new $APP.H(null,2,5,$APP.I,[$APP.Kra,"\nmath-field {\n  width: 100%;\n  font-size: 24px;\n  border-radius: 4px;\n  border: 1px solid;\n  padding: 8px;\n}\nmath-field:focus-within {\n  outline: none;\n  border: 1px solid blue;\n}"],null)),H7=function H7(a){switch(arguments.length){case 0:return H7.J();case 1:return H7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};H7.J=function(){return H7.j($APP.F)};
H7.j=function(a){return $APP.Xj.la($4.j(new $APP.H(null,2,5,$APP.I,[JSc,a],null)),$APP.rg,kUc,!0,CAc,$Sc)};H7.G=1;var S5=$APP.Vr(625);var jvc=S5.folder({},{}).type,I7=new $APP.f(null,3,[GMc,S5.button(function(){return null},{}).type,RFc,S5.buttonGroup(null).type,BNc,S5.monitor(function(){return null},{}).type],null),lvc=$APP.Lf.A($APP.vg,$APP.pg(I7)),pvc=$APP.wt.B($APP.Baa,$APP.sd,$APP.Daa);var jLc=new $APP.f(null,1,[rNc,!1],null),J7=function J7(a){switch(arguments.length){case 1:return J7.j(arguments[0]);case 2:return J7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};J7.j=function(a){return J7.A(a,$APP.F)};
J7.A=function(a,b){var c=$APP.sg(b,new $APP.H(null,1,5,$APP.I,[rNc],null));c=$APP.Ni.C($APP.y([jLc,c]));return $APP.Ni.C($APP.y([new $APP.f(null,3,[$APP.Ti,GMc.j(I7),TIc,a,Y5,c],null),$APP.Oi.C(b,$APP.Ti,$APP.y([TIc,rNc,Y5]))]))};J7.G=2;var K7=function K7(a){switch(arguments.length){case 1:return K7.j(arguments[0]);case 2:return K7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};
K7.j=function(a){return new $APP.f(null,2,[$APP.Ti,RFc.j(I7),$APP.qn,a],null)};K7.A=function(a,b){return new $APP.f(null,2,[$APP.Ti,RFc.j(I7),$APP.qn,new $APP.f(null,2,[$APP.rX,a,$APP.qn,b],null)],null)};K7.G=2;var L7=function L7(a){switch(arguments.length){case 1:return L7.j(arguments[0]);case 2:return L7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};L7.j=function(a){return L7.A(a,$APP.F)};
L7.A=function(a,b){return new $APP.f(null,3,[$APP.Ti,BNc.j(I7),pSc,a,Y5,b],null)};L7.G=2;var M7=function M7(a){switch(arguments.length){case 1:return M7.j(arguments[0]);case 2:return M7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};M7.j=function(a){return M7.A(a,$APP.F)};M7.A=function(a,b){return new $APP.f(null,3,[$APP.Ti,jvc,NBc,a,Y5,b],null)};M7.G=2;
var N7=function N7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return N7.C(arguments[0],c)};
N7.C=function(a,b){var c=Z5.j(a);return $APP.k(c)?new $APP.H(null,3,5,$APP.I,[e5,new $APP.H(null,3,5,$APP.I,[$5,S5.LevaPanel,$APP.rg.B(a,Z5,c)],null),$APP.Lf.A(new $APP.H(null,3,5,$APP.I,[$5,S5.LevaStoreProvider,new $APP.f(null,1,[Z5,c],null)],null),b)],null):$APP.Lf.A(new $APP.H(null,2,5,$APP.I,[e5,new $APP.H(null,3,5,$APP.I,[$5,S5.Leva,a],null)],null),b)};N7.G=1;N7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var O7=function O7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return O7.C(arguments[0],c)};O7.C=function(a,b){var c=S5.useCreateStore();return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[N7,$APP.rg.B(a,Z5,c)],null),b)};O7.G=1;O7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var P7=function P7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return P7.C(arguments[0],c)};P7.C=function(a,b){return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[IAc,O7,a],null),b)};P7.G=1;P7.K=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var kLc=$APP.ap(new $APP.f(null,7,[$APP.z(IJc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null))),$APP.P,"Component that configures a Leva panel with the supplied map of `opts` without\n  explicitly rendering any inputs into it. If `:store` is not provided,\n  configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[Controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[SubPanel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Lx,$APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,aPc,$APP.X,N7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null)),$APP.P,"Component that configures a Leva panel with the supplied map of `opts` without\n  explicitly rendering any inputs into it. If `:store` is not provided,\n  configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[Controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[SubPanel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!"],
null)],null),$APP.z(kGc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null))),$APP.P,"Component that configures a non-global, standalone Leva panel with the supplied\n  map of `opts`.\n\n  Any instance of [[Controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Lx,$APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,oDc,$APP.X,P7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null)),$APP.P,"Component that configures a non-global, standalone Leva panel with the supplied\n  map of `opts`.\n\n  Any instance of [[Controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each."],
null)],null),$APP.z(mMc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,$APP.Lx],null))),$APP.P,"Returns a schema entry that defines a button, given a function `on-click` and a\n  map `opt` of options.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,$APP.Lx],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,$Ic,$APP.X,J7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,$APP.Lx],null)),$APP.P,"Returns a schema entry that defines a button, given a function `on-click` and a\n  map `opt` of options.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). "],
null)],null),$APP.z(eGc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,n6],null))),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  schema entry that wraps `schema` in a subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed` if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render` (fn [get] \x3cboolean\x3e), providing dynamic control or whether or not\n    the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color` color string, sets the color of the folder title.\n\n  - `:order` number, sets the order of this folder relative to other components\n    at the same level.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,n6],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,n6],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,DFc,$APP.X,M7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,n6],null)),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  schema entry that wraps `schema` in a subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed` if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render` (fn [get] \x3cboolean\x3e), providing dynamic control or whether or not\n    the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color` color string, sets the color of the folder title.\n\n  - `:order` number, sets the order of this folder relative to other components\n    at the same level."],
null)],null),$APP.z(rCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that renders inputs into a global or local Leva control panel,\n  possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[SubPanel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: atom of key \x3d\x3e initial value for schema entries. Any entry found in\n     both `:atom` and in `:schema` will remain synchronized between the panel and\n     the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options.\n\n  - `:store`: this is an advanced option that you probably won't need. If you\n    _do_ need this, pass a store created via leva's `useCreateStore`."],
null)),new $APP.f(null,3,[$APP.R,UMc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[IAc,Bvc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that renders inputs into a global or local Leva control panel,\n  possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[SubPanel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: atom of key \x3d\x3e initial value for schema entries. Any entry found in\n     both `:atom` and in `:schema` will remain synchronized between the panel and\n     the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options.\n\n  - `:store`: this is an advanced option that you probably won't need. If you\n    _do_ need this, pass a store created via leva's `useCreateStore`."],
null)],null),$APP.z(qFc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.XZ,$APP.Lx],null))),$APP.P,"Returns a schema entry that defines a button group, given either\n\n  - a label and a map of `{\x3cstring\x3e (fn [get] ,,,)}`\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[Controls]] instance from the value function.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.XZ,$APP.Lx],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.XZ,$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,fUc,$APP.X,K7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.XZ,
$APP.Lx],null)),$APP.P,"Returns a schema entry that defines a button group, given either\n\n  - a label and a map of `{\x3cstring\x3e (fn [get] ,,,)}`\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[Controls]] instance from the value function."],null)],null),$APP.z(GJc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,
[j6],null),new $APP.H(null,2,5,$APP.I,[j6,n6],null))),$APP.P,'Returns a schema entry that defines a "monitor", given as a first argument\n  either\n\n  - a no-arg function that returns a number, or\n  - a react `MutableRefObject` returned by `useRef`, where `(.-current ref)`\n    returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[j6],null),new $APP.H(null,2,5,$APP.I,[j6,n6],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[j6],null),new $APP.H(null,2,5,$APP.I,[j6,n6],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,qHc,$APP.X,L7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[j6],null),new $APP.H(null,2,5,$APP.I,[j6,n6],null)),$APP.P,'Returns a schema entry that defines a "monitor", given as a first argument\n  either\n\n  - a no-arg function that returns a number, or\n  - a react `MutableRefObject` returned by `useRef`, where `(.-current ref)`\n    returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.'],
null)],null)],null),$APP.Zo(CMc)),lLc=$APP.ap(new $APP.f(null,7,[$APP.z(FOc,new $APP.f(null,1,[$APP.P,"Internal type string used by Leva to tag folders."],null)),new $APP.f(null,3,[$APP.R,vCc,$APP.X,jvc,$APP.h,new $APP.f(null,1,[$APP.P,"Internal type string used by Leva to tag folders."],null)],null),$APP.z(SOc,new $APP.f(null,1,[$APP.P,"Map of keyword to the internal type string used to declare each\n  special input type."],null)),new $APP.f(null,3,[$APP.R,wHc,$APP.X,I7,$APP.h,new $APP.f(null,1,
[$APP.P,"Map of keyword to the internal type string used to declare each\n  special input type."],null)],null),$APP.z(MIc,new $APP.f(null,1,[$APP.P,"Set of types"],null)),new $APP.f(null,3,[$APP.R,jHc,$APP.X,lvc,$APP.h,new $APP.f(null,1,[$APP.P,"Set of types"],null)],null),rGc,new $APP.f(null,3,[$APP.R,WTc,$APP.X,pvc,$APP.h,$APP.F],null),$APP.z(NCc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[s6],null)))],null)),new $APP.f(null,3,[$APP.R,xCc,$APP.X,kvc,$APP.h,new $APP.f(null,
1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[s6],null))],null)],null),$APP.z(aKc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[s6],null)))],null)),new $APP.f(null,3,[$APP.R,nQc,$APP.X,mvc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[s6],null))],null)],null),$APP.z(mQc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[s6],null))),$APP.P,"Returns true if we have a custom input, false otherwise."],null)),new $APP.f(null,3,[$APP.R,
SIc,$APP.X,ovc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[s6],null)),$APP.P,"Returns true if we have a custom input, false otherwise."],null)],null)],null),$APP.Zo(jPc)),mLc=new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,new $APP.f(null,2,[CMc,kLc,jPc,lLc],null)],null);var X5=$APP.Vr(628);var Q7=function Q7(a){switch(arguments.length){case 0:return Q7.J();case 1:return Q7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};Q7.J=function(){return new $APP.H(null,2,5,$APP.I,[$5,X5.Coordinates.Cartesian],null)};Q7.j=function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Coordinates.Cartesian,a],null)};Q7.G=1;
var R7=function R7(a){switch(arguments.length){case 0:return R7.J();case 1:return R7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};R7.J=function(){return new $APP.H(null,2,5,$APP.I,[$5,X5.Coordinates.Polar],null)};R7.j=function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Coordinates.Polar,a],null)};R7.G=1;var nLc=X5.labelPi,oLc=X5.useTransformContext,pLc=X5.useStopwatch,Cvc=$APP.eu.C(X5.Theme,$APP.y([$APP.fu,!0])),S7=function S7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return S7.C(c)};S7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[$5,X5.Mafs],null),a)};S7.G=0;S7.K=function(a){return this.C($APP.r(a))};
var T7=function T7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return T7.C(c)};T7.C=function(a){var b=$APP.md($APP.u(a))?new $APP.H(null,2,5,$APP.I,[$APP.u(a),$APP.Fc(a)],null):new $APP.H(null,2,5,$APP.I,[$APP.F,a],null);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[$5,X5.Text,V5(a)],null),b)};T7.G=0;T7.K=function(a){return this.C($APP.r(a))};
var U7=function U7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return U7.C(c)};U7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[$5,X5.Transform],null),a)};U7.G=0;U7.K=function(a){return this.C($APP.r(a))};var V7=function V7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return V7.C(c)};V7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[$5,X5.Debug.TransformWidget],null),a)};V7.G=0;V7.K=function(a){return this.C($APP.r(a))};var W7=function W7(a){switch(arguments.length){case 0:return W7.J();case 1:return W7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};
W7.J=function(){return new $APP.H(null,2,5,$APP.I,[$5,X5.Debug.ViewportInfo],null)};W7.j=function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Debug.ViewportInfo,a],null)};W7.G=1;var qLc=$APP.ap($APP.fg([XJc,$APP.z(aFc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Takes an options map and any number of children and transforms the children as\n  specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(tGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[JJc,$APP.mv,$APP.zu,new $APP.H(null,4,5,$APP.I,[$APP.TU,$APP.zy,QEc,cUc],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,'Takes an options map and renders a movable point onto a Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: atom into which the movable point should synchronize its current\n    coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s the atom. Use `:path` to\n    synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (reagent.core/with-let [!xy (reagent.core/atom [0 0])]\n    (movable-point {:atom !xy}))\n\n  (reagent.core/with-let [!state (reagent.core/atom {:coords [0 0]})]\n    (movable-point {:atom !state :path :coords}))\n\n  (reagent.core/with-let\n    [!state (reagent.core/atom {:nested {:coords [0 0]}})]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function, it will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain (fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)),$APP.z(pDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes a map with `:x` and `:y` entries required and renders a dot onto a Mafs\n  scene at location $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)),$APP.z(xEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)),$APP.z(rJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[vSc],null),$APP.ck,$APP.lx],null)],null))),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],
null)),LSc,$APP.z(iJc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,'Takes an options map with `:x` and `:y` required and any number of string\n  children and renders the concatenated string children onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(yHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes a map with `:point` entry required and renders a polygon onto a Mafs\n  scene bounded by the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)),$APP.z(jJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes a map with `:tip` entry required and renders a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)),vIc,$APP.z(bIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes a map with `:center` and `:radius` entries required and renders the\n  specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)),YIc,$APP.z(rMc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,'Given an optional map of options and any number of children, renders a Mafs 2D\n  scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, ∞)`).\n\n  - `:view-box`: (optional) A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad.\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: `(fn [point, mouse-event] ...)`, called when the view is\n    clicked on, and passed the point where it was clicked.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null))],[new $APP.f(null,3,[$APP.R,eHc,$APP.X,Cvc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,zCc,$APP.X,U7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Takes an options map and any number of children and transforms the children as\n  specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`."],
null)],null),new $APP.f(null,3,[$APP.R,ZFc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,$APP.mv),c=$APP.C.A(a,$APP.xQ),d=$APP.C.A(a,$APP.Zm),g=$APP.C.A(a,a6),l=$APP.C.A(a,aTc);$APP.k($APP.k(b)?c:b)&&console.warn(["`:point` ",$APP.m.j(c)," will be ignored in favor of the entry in the\n     supplied `:atom`."].join(""));$APP.eb(b)&&($APP.eb(c)&&console.warn("`:atom` and `:point` are both missing! Please supply one or the\n     other to initialize the point's position. Using default of `[0 0]`."),
$APP.eb(l)&&console.warn("`:atom` and `:on-move` are both missing! Please supply one or the\n     other to capture state changes."));var n=Hvc(d),p=Ivc(d),v=$APP.k(b)?n.j?n.j(b):n.call(null,b):$APP.k(c)?c:new $APP.H(null,2,5,$APP.I,[0,0],null);b=Gvc(g,v);var t=$APP.k(b)?$APP.rg.B(a,a6,b):$APP.Oi.A(a,a6);return function(A){var B=$APP.qe(A);A=$APP.C.A(B,$APP.mv);var G=$APP.C.A(B,aTc);B=$APP.hs(eKc);var J=0===B.length||$APP.eb(B.hasOwnProperty(0))?B[0]=$APP.k(A)?A:$APP.hB.j(v):B[0];return new $APP.H(null,
3,5,$APP.I,[$5,X5.MovablePoint,$APP.rg.C(V5(t),$APP.xQ,n.j?n.j(J):n.call(null,J),$APP.y([aTc,function(O){O=new $APP.H(null,2,5,$APP.I,[O[0],O[1]],null);p.A?p.A(J,O):p.call(null,J,O);return $APP.k(G)?G.j?G.j(O):G.call(null,O):null}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[JJc,$APP.mv,$APP.zu,new $APP.H(null,4,5,$APP.I,[$APP.TU,$APP.zy,QEc,cUc],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,'Takes an options map and renders a movable point onto a Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: atom into which the movable point should synchronize its current\n    coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s the atom. Use `:path` to\n    synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (reagent.core/with-let [!xy (reagent.core/atom [0 0])]\n    (movable-point {:atom !xy}))\n\n  (reagent.core/with-let [!state (reagent.core/atom {:coords [0 0]})]\n    (movable-point {:atom !state :path :coords}))\n\n  (reagent.core/with-let\n    [!state (reagent.core/atom {:nested {:coords [0 0]}})]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function, it will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain (fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)],null),new $APP.f(null,3,[$APP.R,GSc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Point,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes a map with `:x` and `:y` entries required and renders a dot onto a Mafs\n  scene at location $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.R,tNc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Polyline,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)],null),new $APP.f(null,3,[$APP.R,FHc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,NGc);return new $APP.H(null,2,5,$APP.I,[Dvc,$APP.rg.B(a,NGc,new $APP.H(null,
2,5,$APP.I,[b,b],null))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[vSc],null),$APP.ck,$APP.lx],null)],null)),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],null)],null),new $APP.f(null,3,[$APP.R,LOc,$APP.X,nLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,bJc,$APP.X,T7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,
2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'Takes an options map with `:x` and `:y` required and any number of string\n  children and renders the concatenated string children onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,cNc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Polygon,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:point` entry required and renders a polygon onto a Mafs\n  scene bounded by the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,IIc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Vector,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:tip` entry required and renders a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,YHc,$APP.X,pLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,LMc,$APP.X,Dvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:center` and `:radius` entries required and renders the\n  specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,APc,$APP.X,oLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,EAc,$APP.X,S7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'Given an optional map of options and any number of children, renders a Mafs 2D\n  scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, ∞)`).\n\n  - `:view-box`: (optional) A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad.\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: `(fn [point, mouse-event] ...)`, called when the view is\n    clicked on, and passed the point where it was clicked.'],
null)],null)]),$APP.Zo(vUc)),rLc=$APP.ap(new $APP.f(null,2,[$APP.z(UOc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes an (optional) options map `opts` and renders a cartesian coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,FAc,$APP.X,Q7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and renders a cartesian coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. "],
null)],null),$APP.z(uEc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes an (optional) options map `opts` and renders a polar coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,SFc,$APP.X,R7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and renders a polar coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. "],
null)],null)],null),$APP.Zo(hTc)),sLc=$APP.ap(new $APP.f(null,5,[$APP.z(yEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),new $APP.f(null,3,[$APP.R,TCc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Plot.OfX,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),$APP.z(wEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R`  and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),new $APP.f(null,3,[$APP.R,SCc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Plot.OfY,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R`  and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),$APP.z(yTc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R`\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)),new $APP.f(null,3,[$APP.R,gQc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Plot.Inequality,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R`\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)],null),$APP.z(pCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])`.\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),new $APP.f(null,3,[$APP.R,YCc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Plot.Parametric,$APP.Fj.B(V5(a),w6,Fvc)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])`.\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),$APP.z(QPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, plots a vector at every point in a grid on a coordinate\n  plane by calling a function `:xy` that receives the vector\'s tail and returns\n  its tip.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])`.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,HFc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Plot.VectorField,$APP.Fj.B(V5(a),w6,Fvc)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, plots a vector at every point in a grid on a coordinate\n  plane by calling a function `:xy` that receives the vector\'s tail and returns\n  its tip.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])`.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)],null),$APP.Zo(YGc)),tLc=$APP.ap(new $APP.f(null,4,[$APP.z(pTc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line segment between points `:point1` and\n  `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,MSc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Line.Segment,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line segment between points `:point1` and\n  `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),$APP.z(nMc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line between points `:point1` and `:point2` into\n  a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,VJc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Line.ThroughPoints,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line between points `:point1` and `:point2` into\n  a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),$APP.z(uTc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with slope\n  `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,$Jc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Line.PointSlope,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with slope\n  `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),$APP.z(SHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with angle\n  `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),new $APP.f(null,3,[$APP.R,qDc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[$5,X5.Line.PointAngle,V5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with angle\n  `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)],null),$APP.Zo(yUc)),uLc=$APP.ap(new $APP.f(null,2,[$APP.z(iDc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Component that wraps any supplied children in an interactive transformation\n  widget that lets you rotate, scale and translate all children.",$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],
null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,UIc,$APP.X,V7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Component that wraps any supplied children in an interactive transformation\n  widget that lets you rotate, scale and translate all children."],null)],null),$APP.z(HDc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that mounts a `ViewportInfo` component into the Mafs scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,ZOc,$APP.X,W7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that mounts a `ViewportInfo` component into the Mafs scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3."],
null)],null)],null),$APP.Zo(lQc)),vLc=$APP.ap($APP.fg([$APP.Lhc,iIc,$APP.iY,oUc,RJc,$APP.DLb,WBc,XDc,UDc,XTc,$APP.WT,QMc,$Rc,$APP.IX,ISc],[new $APP.f(null,3,[$APP.R,DOc,$APP.X,function(a){return Ovc(a,1)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null)),$APP.P,"Return a normalized version of a vector"],null)],null),new $APP.f(null,3,[$APP.R,MOc,$APP.X,function(a,b){return Pvc(a,b,.5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.fX,$APP.gX],
null)),$APP.P,"Gets the midpoint of two vectors"],null)],null),new $APP.f(null,3,[$APP.R,gCc,$APP.X,Kvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.kX,fNc],null),new $APP.H(null,2,5,$APP.I,[dNc,gNc],null)],null)),$APP.P,"Subtract one vector from another"],null)],null),new $APP.f(null,3,[$APP.R,qUc,$APP.X,Pvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.fX,$APP.gX,$APP.Rv],null)),$APP.P,"Linear interpolation between two vectors"],
null)],null),new $APP.f(null,3,[$APP.R,iQc,$APP.X,Ovc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Tv,$APP.Or],null))],null)],null),new $APP.f(null,3,[$APP.R,uNc,$APP.X,Mvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null)),$APP.P,"Get the magnitude of a vector"],null)],null),new $APP.f(null,3,[$APP.R,$Ec,$APP.X,Qvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),$APP.Iv],
null)),$APP.P,"Rotates a vector around the origin. Shorthand for a rotation matrix."],null)],null),new $APP.f(null,3,[$APP.R,mCc,$APP.X,function(a,b){return Math.sqrt(Rvc(a,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.fX,$APP.gX],null)),$APP.P,"Gets the distance between two vectors"],null)],null),new $APP.f(null,3,[$APP.R,VBc,$APP.X,function(a,b,c){return Jvc(Qvc(Kvc(a,b),c),b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Tv,zNc,$APP.Iv],
null)),$APP.P,"Rotates a vector around a given point."],null)],null),new $APP.f(null,3,[$APP.R,iEc,$APP.X,Lvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.kX,fNc],null),new $APP.H(null,2,5,$APP.I,[dNc,gNc],null)],null)),$APP.P,"Dot product of two vectors"],null)],null),new $APP.f(null,3,[$APP.R,DCc,$APP.X,Jvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.kX,fNc],null),new $APP.H(null,2,5,
$APP.I,[dNc,gNc],null)],null)),$APP.P,"Add two vectors"],null)],null),new $APP.f(null,3,[$APP.R,wQc,$APP.X,function(a){var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return new $APP.H(null,2,5,$APP.I,[-a,b],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null)],null)),$APP.P,"Get the normal vector of a vector"],null)],null),new $APP.f(null,3,[$APP.R,oOc,$APP.X,Rvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,
[new $APP.H(null,2,5,$APP.I,[$APP.kX,fNc],null),new $APP.H(null,2,5,$APP.I,[dNc,gNc],null)],null)),$APP.P,"Get the square distance between two vectors"],null)],null),new $APP.f(null,3,[$APP.R,eFc,$APP.X,Nvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),RMc],null)),$APP.P,"Scale a vector by a scalar"],null)],null),new $APP.f(null,3,[$APP.R,FDc,$APP.X,function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,
0,null),g=$APP.x.B(b,1,null),l=$APP.x.B(b,2,null),n=$APP.x.B(b,3,null),p=$APP.x.B(b,4,null);b=$APP.x.B(b,5,null);return new $APP.H(null,2,5,$APP.I,[d*c+g*a+l,n*c+p*a+b],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),new $APP.H(null,6,5,$APP.I,[$APP.Iv,$APP.nv,XMc,$APP.dV,$APP.RR,YMc],null)],null)),$APP.P,"Apply a matrix transformation to a vector. This is a 3x3 matrix applied to a 2d\n  vector, like M*v."],null)],null)]),
$APP.Zo(AUc)),wLc=new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,new $APP.f(null,6,[vUc,qLc,hTc,rLc,YGc,sLc,yUc,tLc,lQc,uLc,AUc,vLc],null)],null);var xLc=$APP.ap(new $APP.f(null,2,[eSc,new $APP.f(null,3,[$APP.R,hJc,$APP.X,dLc,$APP.h,$APP.F],null),$APP.z(TFc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.lx,$APP.Lh,$APP.Tu],null))),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed',
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.lx,$APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.lx,$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),new $APP.f(null,3,[$APP.R,mTc,$APP.X,C7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.lx,$APP.Lh,$APP.Tu],null)),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed'],
null)],null)],null),$APP.Zo(oIc)),yLc=$APP.ap($APP.fg([lTc,cTc,gUc,$APP.TMb,JGc,eIc,aFc,hEc,pDc,KDc,wUc,zOc,$APP.IFb,IHc,RPc,pHc,UOc,JOc,RTc,FMc,uEc,OSc,xPc,$Dc,KJc,dHc,iJc,zFc,zGc,ZMc,GDc,sCc,HHc,wNc,XRc,LJc,EPc,JDc,PMc,ACc,JHc,YDc,jJc,PDc,XHc,xUc,ATc,aNc,TPc,EDc,KPc,jCc,wFc,nPc,vDc,$Mc,gKc,OEc,mEc,ePc,UJc,HMc,FEc,PBc],[new $APP.f(null,3,[$APP.R,UCc,$APP.X,EKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,mUc,$APP.X,CKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,kDc,$APP.X,MKc,$APP.h,$APP.F],
null),new $APP.f(null,3,[$APP.R,SMc,$APP.X,u5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,pOc,$APP.X,qKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,zMc,$APP.X,Kuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,GFc,$APP.X,UKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,rEc,$APP.X,OKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,AEc,$APP.X,rKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,kPc,$APP.X,DKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,pMc,$APP.X,oKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.R,hGc,$APP.X,JKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,fKc,$APP.X,nKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,kJc,$APP.X,GKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,OGc,$APP.X,VKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,sEc,$APP.X,Luc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,bFc,$APP.X,XKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,QHc,$APP.X,p5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,fDc,$APP.X,z5,$APP.h,$APP.F],null),new $APP.f(null,
3,[$APP.R,$Tc,$APP.X,TKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,oTc,$APP.X,ZKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,XIc,$APP.X,tKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,ESc,$APP.X,huc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,QDc,$APP.X,kKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,lUc,$APP.X,Rtc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,oJc,$APP.X,uKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,sTc,$APP.X,juc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,
KIc,$APP.X,sKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,zTc,$APP.X,YKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,bKc,$APP.X,HKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,uSc,$APP.X,pKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,jQc,$APP.X,NKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,YBc,$APP.X,duc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,IPc,$APP.X,cLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,PEc,$APP.X,o5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,dOc,$APP.X,
mKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,dKc,$APP.X,aLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,wSc,$APP.X,BKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,VPc,$APP.X,FKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,tIc,$APP.X,muc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,lJc,$APP.X,quc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,cFc,$APP.X,lKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,sNc,$APP.X,y7,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,UFc,$APP.X,vKc,$APP.h,
$APP.F],null),new $APP.f(null,3,[$APP.R,qMc,$APP.X,Fuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,HSc,$APP.X,zKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,cQc,$APP.X,yKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,WJc,$APP.X,Auc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,fTc,$APP.X,WKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,CPc,$APP.X,bLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,pJc,$APP.X,IKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,UGc,$APP.X,wKc,$APP.h,$APP.F],
null),new $APP.f(null,3,[$APP.R,YNc,$APP.X,xKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,EJc,$APP.X,RKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,BEc,$APP.X,SKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,$Pc,$APP.X,LKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,UHc,$APP.X,Utc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,lSc,$APP.X,QKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,SBc,$APP.X,Euc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,iGc,$APP.X,AKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.R,lOc,$APP.X,jKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,ZTc,$APP.X,KKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,kSc,$APP.X,PKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,oMc,$APP.X,$Kc,$APP.h,$APP.F],null)]),$APP.Zo(zDc)),zLc=$APP.ap(new $APP.f(null,3,[UJc,new $APP.f(null,3,[$APP.R,TMc,$APP.X,jKc,$APP.h,$APP.F],null),$Dc,new $APP.f(null,3,[$APP.R,nGc,$APP.X,kKc,$APP.h,$APP.F],null),YDc,new $APP.f(null,3,[$APP.R,tMc,$APP.X,lKc,$APP.h,$APP.F],null)],null),$APP.Zo(NPc)),
ALc=$APP.ap(new $APP.f(null,1,[LJc,new $APP.f(null,3,[$APP.R,NHc,$APP.X,mKc,$APP.h,$APP.F],null)],null),$APP.Zo($Oc)),BLc=$APP.ap(new $APP.f(null,7,[eIc,new $APP.f(null,3,[$APP.R,AQc,$APP.X,Kuc,$APP.h,$APP.F],null),$APP.TMb,new $APP.f(null,3,[$APP.R,dEc,$APP.X,u5,$APP.h,$APP.F],null),aNc,new $APP.f(null,3,[$APP.R,BDc,$APP.X,Auc,$APP.h,$APP.F],null),$APP.IFb,new $APP.f(null,3,[$APP.R,CDc,$APP.X,nKc,$APP.h,$APP.F],null),HHc,new $APP.f(null,3,[$APP.R,VIc,$APP.X,duc,$APP.h,$APP.F],null),wUc,new $APP.f(null,
3,[$APP.R,SDc,$APP.X,oKc,$APP.h,$APP.F],null),GDc,new $APP.f(null,3,[$APP.R,HPc,$APP.X,pKc,$APP.h,$APP.F],null)],null),$APP.Zo(zHc)),CLc=$APP.ap($APP.fg([JGc,pDc,pHc,RTc,xPc,zFc,ACc,JHc,jJc],[new $APP.f(null,3,[$APP.R,vFc,$APP.X,qKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,mJc,$APP.X,rKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,VDc,$APP.X,Luc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,FSc,$APP.X,z5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,dPc,$APP.X,huc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.R,LEc,$APP.X,sKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,QIc,$APP.X,muc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,ECc,$APP.X,quc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,dSc,$APP.X,y7,$APP.h,$APP.F],null)]),$APP.Zo(XGc)),DLc=$APP.ap($APP.fg([lTc,cTc,KDc,OSc,dHc,JDc,PDc,XHc,xUc,ATc,jCc,wFc,mEc,ePc],[new $APP.f(null,3,[$APP.R,wJc,$APP.X,EKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,bSc,$APP.X,CKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,dJc,$APP.X,
DKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,bQc,$APP.X,tKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,LGc,$APP.X,uKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,NIc,$APP.X,BKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,CCc,$APP.X,vKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,vQc,$APP.X,Fuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,pEc,$APP.X,zKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,ZEc,$APP.X,yKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,TSc,$APP.X,wKc,$APP.h,
$APP.F],null),new $APP.f(null,3,[$APP.R,tEc,$APP.X,xKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,hQc,$APP.X,Euc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,hDc,$APP.X,AKc,$APP.h,$APP.F],null)]),$APP.Zo(MHc)),ELc=$APP.ap(new $APP.f(null,2,[gKc,new $APP.f(null,3,[$APP.R,lEc,$APP.X,Utc,$APP.h,$APP.F],null),KJc,new $APP.f(null,3,[$APP.R,DIc,$APP.X,Rtc,$APP.h,$APP.F],null)],null),$APP.Zo(xTc)),FLc=$APP.ap(new $APP.f(null,6,[PMc,new $APP.f(null,3,[$APP.R,uCc,$APP.X,FKc,$APP.h,$APP.F],null),IHc,
new $APP.f(null,3,[$APP.R,QFc,$APP.X,GKc,$APP.h,$APP.F],null),ZMc,new $APP.f(null,3,[$APP.R,SSc,$APP.X,HKc,$APP.h,$APP.F],null),KPc,new $APP.f(null,3,[$APP.R,qCc,$APP.X,IKc,$APP.h,$APP.F],null),zOc,new $APP.f(null,3,[$APP.R,uQc,$APP.X,JKc,$APP.h,$APP.F],null),HMc,new $APP.f(null,3,[$APP.R,TEc,$APP.X,KKc,$APP.h,$APP.F],null)],null),$APP.Zo($Fc)),GLc=$APP.ap(new $APP.f(null,2,[$Mc,new $APP.f(null,3,[$APP.R,wPc,$APP.X,LKc,$APP.h,$APP.F],null),gUc,new $APP.f(null,3,[$APP.R,qNc,$APP.X,MKc,$APP.h,$APP.F],
null)],null),$APP.Zo(ICc)),HLc=$APP.ap(new $APP.f(null,1,[sCc,new $APP.f(null,3,[$APP.R,CEc,$APP.X,NKc,$APP.h,$APP.F],null)],null),$APP.Zo(gHc)),ILc=$APP.ap(new $APP.f(null,4,[XRc,new $APP.f(null,3,[$APP.R,jDc,$APP.X,o5,$APP.h,$APP.F],null),JOc,new $APP.f(null,3,[$APP.R,RHc,$APP.X,p5,$APP.h,$APP.F],null),hEc,new $APP.f(null,3,[$APP.R,BQc,$APP.X,OKc,$APP.h,$APP.F],null),iJc,new $APP.f(null,3,[$APP.R,wTc,$APP.X,juc,$APP.h,$APP.F],null)],null),$APP.Zo(zPc)),JLc=$APP.ap(new $APP.f(null,2,[FEc,new $APP.f(null,
3,[$APP.R,FGc,$APP.X,PKc,$APP.h,$APP.F],null),OEc,new $APP.f(null,3,[$APP.R,tFc,$APP.X,QKc,$APP.h,$APP.F],null)],null),$APP.Zo(aUc)),KLc=$APP.ap(new $APP.f(null,6,[nPc,new $APP.f(null,3,[$APP.R,sQc,$APP.X,RKc,$APP.h,$APP.F],null),vDc,new $APP.f(null,3,[$APP.R,KEc,$APP.X,SKc,$APP.h,$APP.F],null),FMc,new $APP.f(null,3,[$APP.R,iHc,$APP.X,TKc,$APP.h,$APP.F],null),aFc,new $APP.f(null,3,[$APP.R,CSc,$APP.X,UKc,$APP.h,$APP.F],null),RPc,new $APP.f(null,3,[$APP.R,qSc,$APP.X,VKc,$APP.h,$APP.F],null),TPc,new $APP.f(null,
3,[$APP.R,cKc,$APP.X,WKc,$APP.h,$APP.F],null)],null),$APP.Zo(hNc)),LLc=$APP.ap(new $APP.f(null,7,[UOc,new $APP.f(null,3,[$APP.R,VCc,$APP.X,XKc,$APP.h,$APP.F],null),zGc,new $APP.f(null,3,[$APP.R,gDc,$APP.X,YKc,$APP.h,$APP.F],null),uEc,new $APP.f(null,3,[$APP.R,gIc,$APP.X,ZKc,$APP.h,$APP.F],null),PBc,new $APP.f(null,3,[$APP.R,fFc,$APP.X,$Kc,$APP.h,$APP.F],null),EPc,new $APP.f(null,3,[$APP.R,DPc,$APP.X,aLc,$APP.h,$APP.F],null),EDc,new $APP.f(null,3,[$APP.R,YRc,$APP.X,bLc,$APP.h,$APP.F],null),wNc,new $APP.f(null,
3,[$APP.R,RBc,$APP.X,cLc,$APP.h,$APP.F],null)],null),$APP.Zo(OCc)),MLc=$APP.fg([gHc,NPc,$Oc,zPc,zDc,$Fc,zHc,OCc,ICc,xTc,aUc,hNc,MHc,XGc,oIc],[HLc,zLc,ALc,ILc,yLc,FLc,BLc,LLc,GLc,ELc,JLc,KLc,DLc,CLc,xLc]),NLc=new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,MLc],null);var OLc=$APP.Vr(629);var PLc=OLc.version.mathlive,QLc=["https://unpkg.com/mathlive@",$APP.m.j(PLc),"/dist/sounds/"].join(""),RLc=["https://unpkg.com/mathlive@",$APP.m.j(PLc),"/dist/fonts/"].join(""),X7=function X7(a){switch(arguments.length){case 1:return X7.j(arguments[0]);case 2:return X7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};X7.j=function(a){return X7.A(a,$APP.F)};
X7.A=function(a,b){b=$APP.qe(b);var c=$APP.C.B(b,$APP.Ti,"latex"),d=a.placeholders;return $APP.Id.B(function(g,l){var n=d[l];n=$APP.Uc.A(c,"math-json")?Svc(n):a.getPromptValue(c);return $APP.rg.B(g,$APP.Wg.j(l),n)},$APP.F,$APP.Ma(d))};X7.G=2;
var SLc=$APP.zs($APP.vs.forwardRef(function(a,b){var c=$APP.vs.useState(null),d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);a=$APP.eu.j(a);a=$APP.qe(a);var g=$APP.C.A(a,"children"),l=$APP.C.A(a,"value"),n=$APP.C.A(a,"options"),p=$APP.C.A(a,"defaultValue"),v=$APP.C.A(a,"onChange"),t=$APP.C.A(a,"onPlaceholderChange");$APP.vs.useEffect(function(){$APP.k(g)&&console.error("Warning: use the `:default-value` or `:value` props instead of setting children on `Mathfield`.");$APP.k($APP.k(p)?l:p)&&console.error("Warning: don't set both `:value` and `:default-value` props. `Mathfield`s must be either controlled or uncontrolled (specify either the `:value` prop, or the `:default-value` prop, but not both). Decide between using a controlled or uncontrolled `Mathfield` and remove one of these props.")},
[]);var A=$APP.vs.useRef(n);$APP.qg.A(A.current,n)&&(A.current=n);$APP.vs.useEffect(function(){if($APP.k($APP.k(d)?n:d)){if($APP.cd(n)){var B=$APP.eu.C($APP.Uka(d),$APP.y([$APP.fu,!0]));B=n.j?n.j(B):n.call(null,B)}else if($APP.md(n))B=n;else throw Error("Invalid option for :options. must be fn or map.");d.setOptions($APP.Bs(B))}},[A.current,d]);$APP.vs.useEffect(function(){$APP.k($APP.k(d)?$APP.k(l)?$APP.qg.A(d.getValue(),l):l:d)&&d.setValue(l)},[d,l]);$APP.vs.useEffect(function(){$APP.k($APP.k(d)?
t:d)&&d.addEventListener("placeholder-change",t);return function(){return $APP.k($APP.k(d)?t:d)?d.removeEventListener("placeholder-change",t):null}},[d,t]);$APP.vs.useEffect(function(){if($APP.k(d)){var B=d.getValue().endsWith("?");B=$APP.k(B)?$APP.Uc.A(2,d.position):B}else B=d;$APP.k(B)&&d.executeCommand("moveToPreviousWord")});$APP.vs.useImperativeHandle(b,function(){return d},[d]);return $APP.gB.j(new $APP.H(null,2,5,$APP.I,[HGc,$APP.rg.C($APP.Oi.C(a,"onPlaceholderChange",$APP.y(["onChange","defaultValue",
"value","options"])),"children",$APP.k(l)?l:$APP.k(p)?p:"",$APP.y(["ref",c,"onInput",v]))],null))}));var TLc=$APP.ap(new $APP.f(null,8,[$APP.z(WIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[p6,$APP.Tw],null))),$APP.P,"Given\n\n  - a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass)) `mf` and\n  - a Clojure data structure `expr` representing a [MathJSON](https://cortexjs.io/math-json/) expression,\n\n  sets the value of `mf` to the TeX version of `expr`.\n\n  Equivalent to `(.setValue mf (math-json-\x3etex expr))`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  this command has no effect."],
null)),new $APP.f(null,3,[$APP.R,tTc,$APP.X,function(a,b){return $APP.k(a.expression)?a.expression=$APP.Bs(b):null},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[p6,$APP.Tw],null)),$APP.P,"Given\n\n  - a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass)) `mf` and\n  - a Clojure data structure `expr` representing a [MathJSON](https://cortexjs.io/math-json/) expression,\n\n  sets the value of `mf` to the TeX version of `expr`.\n\n  Equivalent to `(.setValue mf (math-json-\x3etex expr))`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  this command has no effect."],
null)],null),$APP.z(BJc,new $APP.f(null,1,[$APP.P,"Location of the `fonts` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)),new $APP.f(null,3,[$APP.R,AFc,$APP.X,RLc,$APP.h,new $APP.f(null,1,[$APP.P,"Location of the `fonts` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)],null),KOc,new $APP.f(null,3,[$APP.R,JSc,$APP.X,SLc,$APP.h,$APP.F],null),$APP.z(ZHc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,
$APP.M(new $APP.H(null,1,5,$APP.I,[p6],null),new $APP.H(null,2,5,$APP.I,[p6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],null)],null)],null))),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a map of (string) placeholder name \x3d\x3e current value of the\n  placeholder.\n\n  NOTE that for `{:type \"math-json\"}` to work you'll need to `(require\n  '[@cortex-js/compute-engine])`. If this option is specified and the package\n  isn't loaded, returns `nil` for each placeholder value.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[p6],null),new $APP.H(null,2,5,$APP.I,[p6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],null)],null)],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[p6],null),new $APP.H(null,2,5,$APP.I,[p6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],
null)],null)],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,ZSc,$APP.X,X7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[p6],null),new $APP.H(null,2,5,$APP.I,[p6,new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.Uu],null),$APP.Kl,new $APP.f(null,1,[$APP.Uu,"latex"],null)],null)],null)),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a map of (string) placeholder name \x3d\x3e current value of the\n  placeholder.\n\n  NOTE that for `{:type \"math-json\"}` to work you'll need to `(require\n  '[@cortex-js/compute-engine])`. If this option is specified and the package\n  isn't loaded, returns `nil` for each placeholder value."],
null)],null),$APP.z(gEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tw],null))),$APP.P,"Given a Clojure data structure `expr` representing\n  a [MathJSON](https://cortexjs.io/math-json/) expression, returns a string of\n  LaTeX representing `expr`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],null)),new $APP.f(null,3,[$APP.R,JEc,$APP.X,function(a){return OLc.serializeMathJsonToLatex($APP.Bs(a))},
$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tw],null)),$APP.P,"Given a Clojure data structure `expr` representing\n  a [MathJSON](https://cortexjs.io/math-json/) expression, returns a string of\n  LaTeX representing `expr`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],null)],null),$APP.z(SGc,new $APP.f(null,1,[$APP.P,"Currently loaded version of\nthe [mathlive](https://www.npmjs.com/package/mathlive) npm package."],
null)),new $APP.f(null,3,[$APP.R,uGc,$APP.X,PLc,$APP.h,new $APP.f(null,1,[$APP.P,"Currently loaded version of\nthe [mathlive](https://www.npmjs.com/package/mathlive) npm package."],null)],null),$APP.z(NMc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[p6],null))),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a [MathJSON](https://cortexjs.io/math-json/)\n  representation (parsed into Clojure) of the currently displayed expression.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],
null)),new $APP.f(null,3,[$APP.R,rUc,$APP.X,Svc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[p6],null)),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a [MathJSON](https://cortexjs.io/math-json/)\n  representation (parsed into Clojure) of the currently displayed expression.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],
null)],null),$APP.z(TGc,new $APP.f(null,1,[$APP.P,"Location of the `sounds` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)),new $APP.f(null,3,[$APP.R,XCc,$APP.X,QLc,$APP.h,new $APP.f(null,1,[$APP.P,"Location of the `sounds` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)],null)],null),$APP.Zo(SJc)),ULc=new $APP.f(null,2,[$APP.Uo,new $APP.f(null,1,[$APP.Xw,Math],null),$APP.$l,new $APP.f(null,
1,[SJc,TLc],null)],null);var VLc=$APP.z(function(){function a(c,d,g,l){var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new $APP.Bc(p,0,null)}return b.call(this,c,d,g,n)}function b(c,d,g,l){d=$APP.r(g);c=$APP.u(d);g=$APP.w(d);d=$APP.u(g);g=$APP.w(g);return $APP.r(g)?$APP.T.j($APP.r($APP.N.C(new $APP.D(null,sPc,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,c,null,1,null),new $APP.D(null,d,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,sPc,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(g)))),null,1,null),$APP.y([l])))),null,1,null)])))):$APP.T.j($APP.r($APP.N.C(new $APP.D(null,ADc,null,1,null),new $APP.D(null,d,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Yx,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,c,null,1,null))))),null,1,null),$APP.y([l])))),null,1,null)]))))}a.G=3;a.K=function(c){var d=$APP.u(c);
c=$APP.w(c);var g=$APP.u(c);c=$APP.w(c);var l=$APP.u(c);c=$APP.Fc(c);return b(d,g,l,c)};a.C=b;return a}(),new $APP.f(null,1,[$APP.Rl,!0],null));$APP.cp($APP.Yo,$APP.y([mLc]));$APP.cp($APP.Yo,$APP.y([wLc]));$APP.cp($APP.Yo,$APP.y([NLc]));$APP.cp($APP.Yo,$APP.y([ULc]));$APP.cp($APP.Yo,$APP.y([$APP.Qsc]));
$APP.cp($APP.Yo,$APP.y([new $APP.f(null,1,[$APP.$l,$APP.fg([qJc,OJc,qPc,lPc,fHc,LPc,zUc,LFc,iTc,cIc,IMc,tCc,hPc,wGc],[$APP.rg.B($APP.ap(new $APP.f(null,6,[ZIc,new $APP.f(null,3,[$APP.R,ADc,$APP.X,function(a,b){var c=$APP.Nj.J();b=b.j?b.j(c):b.call(null,c);return $4.A(new $APP.D(null,AAc,new $APP.D(null,new $APP.H(null,2,5,$APP.I,[c,new $APP.D(null,$APP.uDa,new $APP.D(null,a,null,1,null),2,null)],null),new $APP.D(null,$APP.Xj.B(b,$APP.Oi,ZCc),null,1,null),2,null),3,null),ZCc.j($APP.ed(b)))},$APP.h,
new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Cy,$APP.Kv],null)),$APP.P,'This function takes\n\n  - an initial value `init` for a client-side `reagent.core/atom`\n  - a function `f` of type `\x3csymbol\x3e \x3d\x3e \x3creagent fragment\x3e`\n\n  And returns a new reagent fragment that allows for stateful, reactive\n  interaction with `init` via the `\x3csymbol\x3e`.\n\n  All metadata from the return value of `f` is transferred over to the returned\n  form.\n\n  For example:\n  ```clojure\n  (with-state {:k "v"}\n    (fn [sym] [:pre (get sym :k)]))\n\n  ;;\x3d\x3e (reagent.core/with-let\n  ;;     [G__95940 (reagent.core/atom {:k "v"})]\n  ;;     [:pre (clojure.core/get @G__95940 :k)])\n  ```'],
null)],null),WGc,new $APP.f(null,3,[$APP.R,WPc,$APP.X,function WLc(a){var c=ZCc.j($APP.ed(a));return $APP.cd(c)?(a=c.j?c.j(a):c.call(null,a),WLc.j?WLc.j(a):WLc.call(null,a)):a},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null)),$APP.P,"If `v` has a `fn?` (say, `f`) registered as Clerk viewer metadata, recurses\n  with the expanded value `(f v)`. Else, returns `v` unchanged."],null)],null),gSc,new $APP.f(null,3,[$APP.R,VEc,$APP.X,function(a,b){var c=$APP.qe(a);a=$APP.C.A(c,
$APP.dm);c=$APP.C.A(c,$APP.mv);return new U4(b,c,a,null,null,null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.f(null,1,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Fw,$APP.ou],null)],null),$APP.Kv],null)),$APP.P,"Takes:\n\n  - A map of the form\n\n  ```clojure\n  {:atom \x3csymbol representing a reagent.core/atom\x3e\n   :params \x3csequence of keys from the dereferenced atom\x3e}\n  ```\n\n  - a function `f` that takes `(count params)` parameters and returns a new\n    function\n\n  and returns an instance of [[ParamF]] that the various viewer plugins will\n  know how to interpret, based on where the return value of [[with-params]] is\n  being used."],
null)],null),$APP.Lw,new $APP.f(null,3,[$APP.R,BTc,$APP.X,function Y7(a,b){if(a instanceof $APP.q)return new $APP.D(null,zQc,new $APP.D(null,new $APP.D(null,$APP.Lk,new $APP.D(null,a,null,1,null),2,null),new $APP.D(null,b,null,1,null),2,null),3,null);if($APP.md(a))return Y7.A?Y7.A(a,b):Y7.call(null,a,b);a=$APP.Fb(a);return Y7.A?Y7.A(a,b):Y7.call(null,a,b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Vx,$APP.hV],null)),$APP.P,"Given some symbol `sym` representing an atom and a key for the value inside the\n  atom, returns a client-side fragment of the form `(get @sym k)`.\n\n  If `sym` is a `map?`, acts like `clojure.core/get`.\n\n  If `sym` is anything else, [[get]] treats it as an `IDeref` and\n  returns `(clojure.core/get @sym k)`."],
null)],null),mDc,new $APP.f(null,3,[$APP.R,nEc,$APP.X,$4,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null),new $APP.H(null,2,5,$APP.I,[$APP.Tv,iCc],null)),$APP.P,"Given some quoted form `v`, adds metadata that allows the libraries supported\n  by Emmy-Viewers to eval and render `v` as a Reagent component.\n\n  Optionally takes a Clerk viewer or transforming function `viewer-or-xform` to\n  be applied at render-time and adds that into the metadata instead of the\n  default [[reagent-viewer]]."],
null)],null),$APP.Wv,new $APP.f(null,3,[$APP.R,gFc,$APP.X,function Z7(a,b){if(a instanceof $APP.q)return new $APP.D(null,WSc,new $APP.D(null,new $APP.D(null,$APP.Lk,new $APP.D(null,a,null,1,null),2,null),new $APP.D(null,b,null,1,null),2,null),3,null);if($APP.md(a))return Z7.A?Z7.A(a,b):Z7.call(null,a,b);a=$APP.Fb(a);return Z7.A?Z7.A(a,b):Z7.call(null,a,b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Vx,$APP.zy],null)),$APP.P,"Given some symbol `sym` representing an atom and an accessor path into the\n  value inside the atom, returns a client-side fragment of the form `(get-in @sym\n  path)`.\n\n  If `sym` is a `map?`, acts like `clojure.core/get-in`.\n\n  If `sym` is anything else, [[get]] treats it as an `IDeref` and\n  returns `(clojure.core/get-in @sym path)`."],
null)],null)],null),$APP.Zo(qJc)),$APP.GBa,VLc),$APP.ap(new $APP.f(null,3,[$APP.z(VSc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots a curve by integrating a system of ordinary differential\n  equations represented by `f'` forward from the initial input state\n  `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),new $APP.f(null,3,[$APP.R,JBc,$APP.X,function(){var a=[0,0,0];return function(b){var c=$APP.qe(b),d=$APP.C.A(c,Q5);b=$APP.C.A(c,i5);var g=$APP.C.A(c,j5),l=$APP.C.B(c,k5,16724112),n=$APP.C.A(c,l5),p=$APP.C.A(c,R5),v=$APP.C.B(c,T5,qtc),t=$APP.C.B(c,$APP.s$b,.03),A=$APP.C.B(c,n5,0),B=$APP.C.B(c,nDc,1E3),G=$APP.C.B(c,q5,4),J=$APP.C.B(c,r5,0),O=$APP.C.B(c,A5,1),Q=$APP.C.B(c,$APP.WS,1E-5);c=$APP.C.B(c,D5,6);d=$APP.ef(d);var W=$APP.Tc(d),Z=v7.B(p,W,new $APP.f(null,1,[$APP.WS,Q],null)),fa=$APP.Bs(d);
return new $APP.H(null,3,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,5,[y5,3,$APP.qF,B,g5,!1,q5,1,$APP.Bk,function(ha){return Z(fa,B,t,function(ja){v.A?v.A(ja,a):v.call(null,ja,a);ja=a[0];var ta=a[1],ua=a[2];return ha.B?ha.B(ja,ta,ua):ha.call(null,ja,ta,ua)})}],null)],null),new $APP.H(null,2,5,$APP.I,[y7,$APP.fg([k5,q5,$APP.nq,$APP.ST,v5,A5,t5,$APP.qq,w5],[l,G,b,c,g,O,J,n,A])],null)],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null)),$APP.P,
"Component that plots a curve by integrating a system of ordinary differential\n  equations represented by `f'` forward from the initial input state\n  `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),$APP.z(ZJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,5,$APP.I,[$APP.yX,$APP.CV,fGc,RCc,GGc,$APP.BX,$APP.GV,r6,d6,i6,f6,h6,e6,c6,t6,o6],null),$APP.Kl,$APP.fg([RCc,i6,e6,f6,$APP.BX,o6,GGc,d6,t6,h6,$APP.GV,r6,fGc],[2,!1,3182847,!0,.03,0,10,2,0,1,1E-5,5,1])],null)],null))),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  [[PhaseVectors]] plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)),new $APP.f(null,3,[$APP.R,KBc,$APP.X,function(a){var b=$APP.qe(a),c=$APP.C.B(b,ODc,2),d=$APP.C.A(b,Q5);a=$APP.C.B(b,i5,!1);var g=$APP.C.A(b,j5),l=$APP.C.B(b,k5,3182847),n=$APP.C.B(b,l5,!0),p=$APP.C.A(b,R5),v=$APP.C.B(b,$APP.s$b,.03),t=$APP.C.B(b,n5,0),A=$APP.C.B(b,nDc,10),B=$APP.C.B(b,q5,2),G=$APP.C.B(b,r5,0),J=$APP.C.B(b,A5,1),O=$APP.C.B(b,$APP.WS,1E-5),Q=$APP.C.B(b,D5,5),W=$APP.C.B(b,vHc,1);b=$APP.ef(d);d=$APP.Tc(b);var Z=v7.B(p,d,new $APP.f(null,1,[$APP.WS,O],null)),fa=$APP.Bs(b);return new $APP.H(null,
3,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[Kuc,new $APP.f(null,8,[q5,16,H5,16,y5,2,$APP.qF,A,cHc,!0,bHc,!0,g5,!1,$APP.Bk,function(ha,ja,ta){fa[W]=ja;fa[c]=ta;return Z(fa,A,v,function(ua){var ca=ua[W];ua=ua[c];return ha.A?ha.A(ca,ua):ha.call(null,ca,ua)})}],null)],null),new $APP.H(null,2,5,$APP.I,[y7,$APP.fg([k5,q5,$APP.nq,$APP.ST,v5,A5,t5,$APP.qq,w5],[l,B,a,Q,g,J,G,n,t])],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,
5,$APP.I,[$APP.yX,$APP.CV,fGc,RCc,GGc,$APP.BX,$APP.GV,r6,d6,i6,f6,h6,e6,c6,t6,o6],null),$APP.Kl,$APP.fg([RCc,i6,e6,f6,$APP.BX,o6,GGc,d6,t6,h6,$APP.GV,r6,fGc],[2,!1,3182847,!0,.03,0,10,2,0,1,1E-5,5,1])],null)],null)),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  [[PhaseVectors]] plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)],null),$APP.z(FJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.ou,NJc,VMc,nNc,qEc,$APP.RY,h6,e6,c6,t6,o6],null),$APP.Kl,new $APP.f(null,8,[$APP.RY,10,h6,1,NJc,iUc,e6,3182847,nNc,16,t6,0,o6,0,VMc,$APP.M($APP.mx,new $APP.H(null,4,5,$APP.I,[yDc,$APP.Vv,$APP.aS,$APP.bS],null),$APP.M(yDc,$APP.Vv,$APP.aS,$APP.bS))],null)],null)],null))),$APP.P,"Point that trails its historical positions out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)),new $APP.f(null,3,[$APP.R,tHc,$APP.X,function(a){var b=$APP.qe(a);a=$APP.C.A(b,$APP.qF);var c=$APP.C.A(b,$APP.mv),d=$APP.C.A(b,j5),g=$APP.C.B(b,k5,3182847),l=$APP.C.B(b,T5,qtc),n=$APP.C.B(b,n5,0),p=$APP.C.B(b,ROc,function(B,G,J,O){return B.B?B.B(G,J,O):B.call(null,G,J,O)}),v=$APP.C.B(b,$APP.ST,10),t=$APP.C.B(b,r5,0),A=$APP.C.B(b,A5,1);b=$APP.C.B(b,$APP.vxa,16);return new $APP.H(null,4,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,4,[EMc,b,$APP.qF,a,y5,3,$APP.Bk,function(){var B=
[0,0,0];return function(G){var J=$APP.KU.j(c.state);l.A?l.A(J,B):l.call(null,J,B);J=B[0];var O=B[1],Q=B[2];return p.M?p.M(G,J,O,Q):p.call(null,G,J,O,Q)}}()],null)],null),1<b?new $APP.H(null,4,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[CKc,new $APP.f(null,2,[H5,new $APP.H(null,3,5,$APP.I,[0,0,-.02],null),oQc,-1],null)],null),new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,3,[q5,b,y5,4,$APP.Bk,function(B,G){G=1-G/16;return B.M?B.M(1,1,1,G):B.call(null,1,1,1,G)}],null)],null),new $APP.H(null,2,5,$APP.I,
[Fuc,new $APP.f(null,1,[$APP.WD,"zxy"],null)],null)],null):null,new $APP.H(null,2,5,$APP.I,[rKc,$APP.Ni.C($APP.y([1<b?new $APP.f(null,2,[nCc,"\x3c\x3c\x3c",EIc,"\x3c"],null):new $APP.f(null,1,[nCc,"\x3c"],null),new $APP.f(null,6,[$APP.ST,v,A5,A,k5,g,t5,t,w5,n,v5,d],null)]))],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.ou,NJc,VMc,nNc,qEc,$APP.RY,h6,e6,c6,t6,o6],null),$APP.Kl,new $APP.f(null,8,[$APP.RY,
10,h6,1,NJc,iUc,e6,3182847,nNc,16,t6,0,o6,0,VMc,$APP.M($APP.mx,new $APP.H(null,4,5,$APP.I,[yDc,$APP.Vv,$APP.aS,$APP.bS],null),$APP.M(yDc,$APP.Vv,$APP.aS,$APP.bS))],null)],null)],null)),$APP.P,"Point that trails its historical positions out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)],null)],null),$APP.Zo(OJc)),$APP.ap($APP.fg([$APP.z(OPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that renders a point that trails its historical positions\n  out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:initial-state`: structure in the shape of the state required by\n    `:state-\x3exyz'`, used if `:state-\x3exyz'` is a function that needs to be\n    compiled (ie not a quoted literal function).\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)),$APP.z(vTc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations represented by `f'` forward from the initial input\n  state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:simplify?` if `true`, the compiler will attempt to simplify the body of\n    `:state-\x3exyz` and `:f'`. `false` by default.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(GPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `:initial-state` for `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)),$APP.z(qQc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.pV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Hamiltonian passed via `:H` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)),$APP.z(sMc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.rV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Lagrangian passed\n  via `:L` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)),$APP.z(WEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.tV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Routhian passed via `:R` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)),$APP.z(GCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.tV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Routhian passed\n  via `:R` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)),$APP.z(FCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.pV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Hamiltonian\n  passed via `:H` forward from the initial input state `:initial-state` for\n  `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)),$APP.z(USc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,3,5,$APP.I,[$APP.Uta,$APP.jX,WMc],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a geodesic curve over the parametric surface\n  defined by `:xform`, starting from initial position `:x0` with initial\n  velocity `:v0`. The geodesic curve is generated by integrating a system of\n  ordinary differential equations forward for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:xform`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`\n\n  - `:x0`: starting position of the geodesic in `[u v]` coordinates.\n\n  - `:v0`: starting velocity of the geodesic in `[udot vdot]`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)),$APP.z(KCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.rV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Lagrangian passed via `:L` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null))],[new $APP.f(null,3,[$APP.R,MCc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,Q5);b=L5(a,T5,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[tHc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that renders a point that trails its historical positions\n  out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:initial-state`: structure in the shape of the state required by\n    `:state-\x3exyz'`, used if `:state-\x3exyz'` is a function that needs to be\n    compiled (ie not a quoted literal function).\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,IFc,$APP.X,dvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations represented by `f'` forward from the initial input\n  state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:simplify?` if `true`, the compiler will attempt to simplify the body of\n    `:state-\x3exyz` and `:f'`. `false` by default.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,DDc,$APP.X,ivc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `:initial-state` for `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,bPc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,C6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.YQ,c)}):$APP.YQ(b);return dvc($APP.rg.B($APP.Oi.A(a,C6),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.pV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Hamiltonian passed via `:H` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,qIc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,U5);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.PQ,c)}):$APP.PQ.j(b);return ivc($APP.rg.B($APP.Oi.A(a,U5),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.rV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Lagrangian passed\n  via `:L` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,TTc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,B6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.F4,c)}):$APP.F4.j(b);return dvc($APP.rg.B($APP.Oi.A(a,B6),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.tV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Routhian passed via `:R` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,IGc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,B6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.F4,c)}):$APP.F4.j(b);return ivc($APP.rg.B($APP.Oi.A(a,B6),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.tV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Routhian passed\n  via `:R` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,uFc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,C6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.YQ,c)}):$APP.YQ(b);return ivc($APP.rg.B($APP.Oi.A(a,C6),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.pV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Hamiltonian\n  passed via `:H` forward from the initial input state `:initial-state` for\n  `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,THc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,hHc),c=$APP.C.A(a,hSc),d=$APP.C.A(a,oSc),g=V4(b)?$APP.Fj.B(b,$APP.Dy,fvc):gvc(b);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(l){return function(){function n(v){var t=null;if(0<arguments.length){t=0;for(var A=Array(arguments.length-0);t<A.length;)A[t]=arguments[t+0],++t;t=new $APP.Bc(A,0,null)}return p.call(this,t)}function p(v){return $APP.Hl.A($APP.Je.A(l,v),$APP.LQ)}n.G=0;n.K=function(v){v=$APP.r(v);return p(v)};
n.C=p;return n}()}):$APP.Hl.A(b,$APP.LQ);return evc($APP.rg.C($APP.Oi.C(a,hHc,$APP.y([hSc,oSc])),U5,g,$APP.y([Q5,new $APP.H(null,3,5,$APP.I,[0,c,d],null),T5,b])))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,3,5,$APP.I,[$APP.Uta,$APP.jX,WMc],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a geodesic curve over the parametric surface\n  defined by `:xform`, starting from initial position `:x0` with initial\n  velocity `:v0`. The geodesic curve is generated by integrating a system of\n  ordinary differential equations forward for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:xform`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`\n\n  - `:x0`: starting position of the geodesic in `[u v]` coordinates.\n\n  - `:v0`: starting velocity of the geodesic in `[udot vdot]`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.R,cDc,$APP.X,evc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.rV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Lagrangian passed via `:L` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null)]),$APP.Zo(qPc)),$APP.ap(new $APP.f(null,1,[$APP.wOb,new $APP.f(null,3,[$APP.R,pGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[rIc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a reagent fragment that renders a Clock component into the scene."],null)],null)],null),$APP.Zo(lPc)),$APP.ap($APP.fg([$APP.z(HJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that plots a parametric surface defined by `f` into the scene along\n  the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(DEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[kIc],null))),$APP.P,"Component that renders multiple [[Grid]] objects into a scene.\n\n  `grids` can be either\n\n  - a vector like `[:xy :yz]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n  Any plane entries missing from `grids` won't be rendered."],null)),$APP.z(pDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,
8,5,$APP.I,[$APP.XZ,$APP.RY,$APP.JW,h6,e6,c6,t6,o6],null),$APP.Kl,new $APP.f(null,5,[$APP.RY,16,t6,0,o6,0,h6,1,e6,sGc],null)],null)],null))),$APP.P,"Component that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(UOc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:position`: `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` world position of this cartesian. Defaults to\n     `[0 0 0]`.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[LabeledAxis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[Grid]] for more detail on allowed configuration values.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(RTc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.JW,r6,d6,i6,f6,$APP.XZ,h6,e6,c6,t6,o6],null),$APP.Kl,new $APP.f(null,6,[t6,0,o6,0,h6,1,r6,6,d6,4,e6,"#3498db"],null)],null)],null))),$APP.P,
"Component that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?`: if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(oNc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,4,5,$APP.I,[nIc,$APP.XZ,$APP.RY,$APP.Qx],null),$APP.Kl,new $APP.f(null,1,[nIc,!0],null)],null)],null))),$APP.P,"Component that _quite indulgently_ mounts a DOM element into the current MathBox scene.\n\n  NOTE that this is quite expensive and will slow down your updates! But when\n  you need to show LaTeX this is where you should turn.\n\n  Required arguments:\n\n  - `:label`: string with the label you'd like to mount.\n\n  Optional arguments:\n\n  - `:tex?`: when `true` (default), mounts the label into the dom after\n    processing it with [katex](https://katex.org/).\n\n  - `:size`: size of the label. Defaults to 12, or 18 if `:tex?` is true.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for this label on the DOM. Defaults to\n    `[0 20]`."],
null)),$APP.z(JCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,10,5,$APP.I,[$APP.XX,d6,h6,e6,c6,t6,o6,$APP.rw,i6,f6],null),$APP.Kl,new $APP.f(null,7,[o6,0,t6,0,h6,1,d6,1,i6,!1,f6,!1,e6,"#808080"],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",s5,"null",A6,"null"],null),null),$APP.XX)],null)],null)))),$APP.P,"Component that takes an `:axis` option equal to `:x`, `:y` or `:z` and renders\n  the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label and ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:start?`: if `true`, renders an arrow at the start of the axis. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)),$APP.z(sFc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots a polar surface defined by `:f` into the scene along the\n  area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(WDc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[mathbox.core/MathBox]] is removed and passed along\n  to that component, after merging with [[box-defaults]].\n\n  See [[Cartesian]] for all other supported options.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(xPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,5,$APP.I,[$APP.XX,l6,d6,cPc,$APP.zv,i6,f6,WRc,cGc,e6,VGc,STc,$APP.Qx,c6,t6,o6],null),$APP.Kl,$APP.fg([STc,i6,cPc,cGc,f6,o6,l6,$APP.zv,d6,t6,WRc],
[16,!0,!1,PFc,!0,0,10,!1,2,0,!0])],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",s5,"null",A6,"null"],null),null),$APP.XX)],null)],null)))),$APP.P,'Component that renders tick marks onto a scene, lined up with an axis.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:divisions`: the number of divisions (ticks) to generate. Defaults to 10.\n\n  - `:width`: width of each tick. Defaults to 2.\n\n  - `:snap?` if `true`, the ticks will snap to "nice" values. `false` by default.\n\n  - `:start?` if `true` (default), renders the starting tick.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:zero?` if `true`, renders the tick at 0. `false` by default.\n\n  - `:size`: size of the label. Defaults to 12.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for the label on each tick. Defaults to\n    `[20 0]` if `:axis` equals `:z`, else `[0 -20]`.\n\n  - `:labels?`: if `true` (default), renders a printed label underneath each\n    tick for the `:x` and `:y` axes, or alongside the axis for `:z`.\n\n  - `:label-fn`: `(fn [x] \x3cstring\x3e)` for generating the printed representation\n    of each tick mark\'s value. Defaults to [[emmy.viewer.plot/format-number]]. You\n    might also enjoy [[emmy.viewer.plot/label-pi]].\n\n  - `:z-order`: z-order of the labeled axis.\n\n  - `:z-index`: zIndex of the labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the labeled axis. Defaults to 0.'],
null)),$APP.z(tPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(CQc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,3,5,$APP.I,[$APP.XX,cJc,$APP.RY],null),$APP.Kl,new $APP.f(null,2,[$APP.RY,16,cJc,5],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",s5,"null",A6,"null"],null),null),$APP.XX)],null)],null)))),$APP.P,'Component that renders an axis label above the referenced `axis`.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:label`: the label to show. If `label` is falsey or equal to `""`, this\n    component won\'t render.\n\n  - `:position`: the distance along the axis to place the label. Defaults to 5.\n\n    NOTE: Ideally we would figure out the parent `Cartesian` and pick the top of\n    the range for the axis specified as the default.\n\n  - `:size`: size of the label. Defaults to 16.'],
null)),eSc,$APP.z(JHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,9,5,$APP.I,[v6,d6,h6,e6,c6,t6,o6,KMc,l6],null),$APP.Kl,new $APP.f(null,5,[o6,0,t6,0,d6,.5,h6,1,e6,"#808080"],null)],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,6,[xSc,"null",w6,"null",ASc,"null",zSc,"null",x6,"null",y6,"null"],null),null),v6)],null)],null)))),$APP.P,'Component that takes an `:axes` option equal to `:xy`, `:yz` or `:xz` and\n  renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either a single number or a 2-vector of numbers of the form\n    `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A non-vector value becomes\n    a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)),$APP.z(jJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,$APP.I,[u6,$APP.yx],null),$APP.Kl,new $APP.f(null,1,[$APP.yx,new $APP.H(null,3,5,$APP.I,[0,0,0],null)],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that renders a vector into the scene with the specified `tip` and\n  `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[Line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)),$APP.z(pPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots an explicit surface defined by `:x` into the scene along the\n  area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(vEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a function in either the `x` or `y` directions as a\n  function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(wEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.bS],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a function in either the `x` or `z` directions as a\n  function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(uPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null))),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),lNc,$APP.z(WHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Component that plots a parametric curve `f` into the scene along the range\n  specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(eUc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.wP,$APP.By],null),$APP.Kl,new $APP.f(null,1,[$APP.By,new $APP.H(null,2,5,$APP.I,[0,$APP.M($APP.Ev,2,WOc)],null)],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a polar curve, ie, radius as a function of theta.\n\n  Required arguments:\n\n  - `:r`: function of the form `(fn [theta] \x3cr\x3e)`, valid within the range of\n    theta values specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying the\n    range to feed into `:r`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(yEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.aS,$APP.bS],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that plots a function in either the `y` or `z` directions as a\n  function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(QPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,17,5,$APP.I,[$APP.Kv,$APP.IX,ANc,oPc,eEc,HIc,kOc,hUc,r6,d6,i6,f6,h6,e6,c6,t6,o6],null),$APP.Kl,$APP.fg([i6,oPc,e6,ANc,f6,$APP.IX,o6,d6,t6,eEc,h6,r6],[!1,10,"#3090ff",10,!0,1,0,2,0,10,1,6])],null)],null))),$APP.P,"Component that plots a vector field defined by `:f` into the scene along the\n  volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)),$APP.z(sHc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[v6],null),new $APP.H(null,2,5,$APP.I,[v6,$APP.By],null))),$APP.P,"Component that renders multiple [[LabeledAxis]] components into a scene.\n\n  `axes` can be either\n\n  - a vector like `[:x :y]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n  `range` (optional) is a 3-vector with the rendered ranges in the `x`, `y` and\n  `z` directions.\n\n  Any axis entries missing from `axes` won't be rendered.\n\n  NOTE: This argument is only used to fill in the `:max` argument\n  to [[LabeledAxis]] for default label positioning. It should go away once we\n  get a better strategy!",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[v6],null),new $APP.H(null,2,5,$APP.I,[v6,$APP.By],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[v6],null),new $APP.H(null,2,5,$APP.I,[v6,$APP.By],null)),$APP.zx,$APP.M(null,null)],null)],null))],[new $APP.f(null,3,[$APP.R,MDc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[J5,$APP.xo(a,new $APP.f(null,3,[$APP.Dy,$APP.Bk,jUc,N5,$APP.Tjc,I5],null))],null)},$APP.h,
new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that plots a parametric surface defined by `f` into the scene along\n  the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,QOc,$APP.X,wuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[kIc],null)),$APP.P,"Component that renders multiple [[Grid]] objects into a scene.\n\n  `grids` can be either\n\n  - a vector like `[:xy :yz]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n  Any plane entries missing from `grids` won't be rendered."],null)],null),new $APP.f(null,3,[$APP.R,rFc,$APP.X,function(a){var b=$APP.qe(a),c=$APP.C.A(b,$APP.rX);
a=$APP.C.B(b,$APP.ST,16);var d=$APP.C.A(b,nBc),g=$APP.C.B(b,A5,1),l=$APP.C.B(b,k5,"rgb(128, 128, 128)"),n=$APP.C.A(b,j5),p=$APP.C.B(b,r5,0),v=$APP.C.B(b,n5,0);b=$APP.I;d=new $APP.H(null,2,5,$APP.I,[u5,new $APP.f(null,4,[$APP.qF,1,g5,!1,y5,3,$APP.ly,new $APP.H(null,1,5,$APP.I,[d],null)],null)],null);g=new $APP.H(null,2,5,$APP.I,[rKc,new $APP.f(null,6,[$APP.ST,a,A5,g,k5,l,t5,p,w5,v,v5,n],null)],null);$APP.k(c)?(c=$APP.md(c)?c:new $APP.f(null,1,[$APP.rX,c],null),a=$APP.k(VAc.j(c))?new $APP.H(null,2,
5,$APP.I,[Xtc,$APP.rg.B(c,$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,a/2+10],null))],null):new $APP.H(null,3,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[o5,new $APP.f(null,2,[gBc,"bold",$APP.ly,new $APP.H(null,1,5,$APP.I,[$APP.rX.j(c)],null)],null)],null),new $APP.H(null,2,5,$APP.I,[p5,new $APP.f(null,1,[$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,a/2+40],null)],null)],null)],null)):a=null;return new $APP.H(null,4,5,b,[e5,d,g,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,
2,[$APP.zu,new $APP.H(null,8,5,$APP.I,[$APP.XZ,$APP.RY,$APP.JW,h6,e6,c6,t6,o6],null),$APP.Kl,new $APP.f(null,5,[$APP.RY,16,t6,0,o6,0,h6,1,e6,sGc],null)],null)],null)),$APP.P,"Component that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,aSc,$APP.X,E7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:position`: `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` world position of this cartesian. Defaults to\n     `[0 0 0]`.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[LabeledAxis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[Grid]] for more detail on allowed configuration values."],
null)],null),new $APP.f(null,3,[$APP.R,DSc,$APP.X,yuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,11,5,$APP.I,[$APP.JW,r6,d6,i6,f6,$APP.XZ,h6,e6,c6,t6,o6],null),$APP.Kl,new $APP.f(null,6,[t6,0,o6,0,h6,1,r6,6,d6,4,e6,"#3498db"],null)],null)],null)),$APP.P,"Component that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?`: if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,zIc,$APP.X,Xtc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,4,5,$APP.I,[nIc,$APP.XZ,$APP.RY,$APP.Qx],null),$APP.Kl,new $APP.f(null,1,[nIc,!0],null)],null)],null)),$APP.P,"Component that _quite indulgently_ mounts a DOM element into the current MathBox scene.\n\n  NOTE that this is quite expensive and will slow down your updates! But when\n  you need to show LaTeX this is where you should turn.\n\n  Required arguments:\n\n  - `:label`: string with the label you'd like to mount.\n\n  Optional arguments:\n\n  - `:tex?`: when `true` (default), mounts the label into the dom after\n    processing it with [katex](https://katex.org/).\n\n  - `:size`: size of the label. Defaults to 12, or 18 if `:tex?` is true.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for this label on the DOM. Defaults to\n    `[0 20]`."],
null)],null),new $APP.f(null,3,[$APP.R,PJc,$APP.X,ouc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,10,5,$APP.I,[$APP.XX,d6,h6,e6,c6,t6,o6,$APP.rw,i6,f6],null),$APP.Kl,new $APP.f(null,7,[o6,0,t6,0,h6,1,d6,1,i6,!1,f6,!1,e6,"#808080"],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",s5,"null",A6,"null"],null),null),$APP.XX)],null)],null))),
$APP.P,"Component that takes an `:axis` option equal to `:x`, `:y` or `:z` and renders\n  the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label and ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:start?`: if `true`, renders an arrow at the start of the axis. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)],null),new $APP.f(null,3,[$APP.R,xGc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,s5),d=$APP.C.B(b,bUc,new $APP.H(null,2,5,$APP.I,[0,3],null)),g=$APP.C.B(b,AGc,new $APP.H(null,2,5,$APP.I,[0,2*Math.PI],null));return new $APP.H(null,2,5,$APP.I,[J5,$APP.xo($APP.rg.C($APP.Oi.A(b,s5),C5,new $APP.H(null,2,5,$APP.I,[1,3],null),$APP.y([$APP.Bk,function(l,n,p){a[0]=n;a[1]=p;var v=n*Math.cos(p);n*=Math.sin(p);p=c.j?c.j(a):c.call(null,a);return l.B?l.B(v,n,p):l.call(null,
v,n,p)},bUc,d,AGc,g])),new $APP.f(null,6,[bUc,N5,AGc,I5,zEc,K5,aIc,M5,NSc,F5,POc,G5],null))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null)),$APP.P,"Component that plots a polar surface defined by `:f` into the scene along the\n  area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,VHc,$APP.X,F7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[mathbox.core/MathBox]] is removed and passed along\n  to that component, after merging with [[box-defaults]].\n\n  See [[Cartesian]] for all other supported options."],
null)],null),new $APP.f(null,3,[$APP.R,hCc,$APP.X,iuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,16,5,$APP.I,[$APP.XX,l6,d6,cPc,$APP.zv,i6,f6,WRc,cGc,e6,VGc,STc,$APP.Qx,c6,t6,o6],null),$APP.Kl,$APP.fg([STc,i6,cPc,cGc,f6,o6,l6,$APP.zv,d6,t6,WRc],[16,!0,!1,PFc,!0,0,10,!1,2,0,!0])],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",s5,"null",A6,"null"],null),
null),$APP.XX)],null)],null))),$APP.P,'Component that renders tick marks onto a scene, lined up with an axis.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:divisions`: the number of divisions (ticks) to generate. Defaults to 10.\n\n  - `:width`: width of each tick. Defaults to 2.\n\n  - `:snap?` if `true`, the ticks will snap to "nice" values. `false` by default.\n\n  - `:start?` if `true` (default), renders the starting tick.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:zero?` if `true`, renders the tick at 0. `false` by default.\n\n  - `:size`: size of the label. Defaults to 12.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for the label on each tick. Defaults to\n    `[20 0]` if `:axis` equals `:z`, else `[0 -20]`.\n\n  - `:labels?`: if `true` (default), renders a printed label underneath each\n    tick for the `:x` and `:y` axes, or alongside the axis for `:z`.\n\n  - `:label-fn`: `(fn [x] \x3cstring\x3e)` for generating the printed representation\n    of each tick mark\'s value. Defaults to [[emmy.viewer.plot/format-number]]. You\n    might also enjoy [[emmy.viewer.plot/label-pi]].\n\n  - `:z-order`: z-order of the labeled axis.\n\n  - `:z-index`: zIndex of the labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the labeled axis. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.R,yNc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,z6);return new $APP.H(null,2,5,$APP.I,[J5,$APP.rg.C($APP.xo($APP.Oi.A(b,z6),new $APP.f(null,6,[BIc,N5,pUc,I5,TJc,K5,eQc,M5,PSc,F5,RSc,G5],null)),C5,m5.j?m5.j(x6):m5.call(null,x6),$APP.y([$APP.Bk,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(g,n,l):d.call(null,g,n,l)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],
null)),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,nUc,$APP.X,luc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,3,5,$APP.I,[$APP.XX,cJc,$APP.RY],null),$APP.Kl,new $APP.f(null,2,[$APP.RY,16,cJc,5],null),$APP.ck,$APP.Lx],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,3,[z6,"null",s5,"null",A6,"null"],null),null),$APP.XX)],null)],null))),$APP.P,'Component that renders an axis label above the referenced `axis`.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:label`: the label to show. If `label` is falsey or equal to `""`, this\n    component won\'t render.\n\n  - `:position`: the distance along the axis to place the label. Defaults to 5.\n\n    NOTE: Ideally we would figure out the parent `Cartesian` and pick the top of\n    the range for the axis specified as the default.\n\n  - `:size`: size of the label. Defaults to 16.'],
null)],null),new $APP.f(null,3,[$APP.R,HCc,$APP.X,fLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,MGc,$APP.X,vuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.z(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,9,5,$APP.I,[v6,d6,h6,e6,c6,t6,o6,KMc,l6],null),$APP.Kl,new $APP.f(null,5,[o6,0,t6,0,d6,.5,h6,1,e6,"#808080"],null)],null)],null),new $APP.f(null,1,[$APP.yw,new $APP.H(null,1,5,$APP.I,[$APP.M(new $APP.ug(null,new $APP.f(null,6,[xSc,"null",w6,"null",ASc,"null",zSc,"null",
x6,"null",y6,"null"],null),null),v6)],null)],null))),$APP.P,'Component that takes an `:axes` option equal to `:xy`, `:yz` or `:xz` and\n  renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either a single number or a 2-vector of numbers of the form\n    `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A non-vector value becomes\n    a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.R,WFc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,bNc),c=$APP.C.B(a,FTc,new $APP.H(null,3,5,$APP.I,[0,0,0],null));return new $APP.H(null,2,5,$APP.I,[yuc,$APP.rg.C($APP.Oi.C(a,bNc,$APP.y([FTc])),nBc,new $APP.H(null,2,5,$APP.I,[c,b],null),$APP.y([l5,l5.A(a,!0)]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,$APP.I,[u6,$APP.yx],null),$APP.Kl,new $APP.f(null,1,[$APP.yx,new $APP.H(null,
3,5,$APP.I,[0,0,0],null)],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that renders a vector into the scene with the specified `tip` and\n  `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[Line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)],null),new $APP.f(null,3,[$APP.R,fOc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,A6);return new $APP.H(null,2,5,$APP.I,[J5,$APP.rg.C($APP.xo($APP.Oi.A(b,A6),new $APP.f(null,6,[yPc,N5,pUc,I5,BSc,K5,eQc,M5,QSc,F5,RSc,G5],null)),C5,m5.j?m5.j(y6):m5.call(null,y6),$APP.y([$APP.Bk,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(n,g,l):d.call(null,n,g,l)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],
null)),$APP.P,"Component that plots an explicit surface defined by `:x` into the scene along the\n  area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,tDc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,A6),c=$APP.C.A(a,z6);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:x` or `:y`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(n,0,l):g.call(null,n,0,l)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(0,n,l):g.call(null,0,n,l)};else throw Error("Error: you must specify either `:x` or `:y`.");return new $APP.H(null,
2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.C(a,A6,$APP.y([z6])),$APP.Bk,d,$APP.y([h5,2]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a function in either the `x` or `y` directions as a\n  function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,sDc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,A6),c=$APP.C.A(a,s5);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:x` or `:z`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(n,l,0):g.call(null,n,l,0)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(0,l,n):g.call(null,0,l,n)};else throw Error("Error: you must specify either `:x` or `:z`.");return new $APP.H(null,
2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.C(a,A6,$APP.y([s5])),$APP.Bk,d,$APP.y([h5,3]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.bS],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a function in either the `x` or `z` directions as a\n  function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,xNc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,s5);return new $APP.H(null,2,5,$APP.I,[J5,$APP.rg.C($APP.xo($APP.Oi.A(b,s5),new $APP.f(null,6,[BIc,N5,yPc,I5,TJc,K5,BSc,M5,PSc,F5,QSc,G5],null)),C5,m5.j?m5.j(w6):m5.call(null,w6),$APP.y([$APP.Bk,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(g,l,n):d.call(null,g,l,n)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],
null)),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,OOc,$APP.X,gLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,tJc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[B5,$APP.xo(a,new $APP.f(null,2,[$APP.Dy,$APP.Bk,$APP.gRa,E5],null))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Component that plots a parametric curve `f` into the scene along the range\n  specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,lIc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,$APP.cS),c=$APP.C.B(a,E5,new $APP.H(null,2,5,$APP.I,[0,2*Math.PI],null));return new $APP.H(null,2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.A(a,$APP.cS),$APP.Bk,function(d,g){var l=b.j?b.j(g):b.call(null,g),n=l*Math.cos(g);g=l*Math.sin(g);return d.B?d.B(n,g,0):d.call(null,n,g,0)},$APP.y([E5,c]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.zu,new $APP.H(null,2,5,
$APP.I,[$APP.wP,$APP.By],null),$APP.Kl,new $APP.f(null,1,[$APP.By,new $APP.H(null,2,5,$APP.I,[0,$APP.M($APP.Ev,2,WOc)],null)],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a polar curve, ie, radius as a function of theta.\n\n  Required arguments:\n\n  - `:r`: function of the form `(fn [theta] \x3cr\x3e)`, valid within the range of\n    theta values specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying the\n    range to feed into `:r`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,wDc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,z6),c=$APP.C.A(a,s5);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:y` or `:z`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(l,n,0):g.call(null,l,n,0)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(l,0,n):g.call(null,l,0,n)};else throw Error("Error: you must specify either `:y` or `:z`.");return new $APP.H(null,
2,5,$APP.I,[B5,$APP.rg.C($APP.Oi.C(a,z6,$APP.y([s5])),$APP.Bk,d,$APP.y([h5,1]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.aS,$APP.bS],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that plots a function in either the `y` or `z` directions as a\n  function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,NFc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,BIc),c=$APP.C.B(a,i5,!1),d=$APP.C.B(a,BSc,10),g=$APP.C.A(a,j5),l=$APP.C.B(a,k5,"#3090ff"),n=$APP.C.B(a,TJc,10),p=$APP.C.A(a,pUc),v=$APP.C.B(a,l5,!0),t=$APP.C.B(a,xFc,1),A=$APP.C.B(a,n5,0),B=$APP.C.A(a,yPc),G=$APP.C.B(a,q5,2),J=$APP.C.B(a,r5,0),O=$APP.C.B(a,eQc,10),Q=$APP.C.B(a,A5,1),W=$APP.C.B(a,D5,6),Z=$APP.C.A(a,$APP.Dy),fa=$APP.k(b)?b:$APP.Uc.A(1,n)?new $APP.H(null,2,5,$APP.I,[0,0],null):null,ha=$APP.k(B)?
B:$APP.Uc.A(1,d)?new $APP.H(null,2,5,$APP.I,[0,0],null):null,ja=$APP.k(p)?p:$APP.Uc.A(1,O)?new $APP.H(null,2,5,$APP.I,[0,0],null):null;return new $APP.H(null,3,5,$APP.I,[e5,new $APP.H(null,2,5,$APP.I,[oKc,function(){var ta=new $APP.f(null,7,[$APP.Bk,function(ua,ca,V,da){function Y(ea,ya,wa){ea=ca+t*ea;ya=V+t*ya;wa=da+t*wa;return ua.B?ua.B(ea,ya,wa):ua.call(null,ea,ya,wa)}ua.B?ua.B(ca,V,da):ua.call(null,ca,V,da);return Z.M?Z.M(Y,ca,V,da):Z.call(null,Y,ca,V,da)},$APP.qF,2,y5,3,g5,!1,q5,n,H5,d,uIc,O],
null);ta=$APP.k(fa)?$APP.rg.B(ta,tBc,fa):ta;ta=$APP.k(ha)?$APP.rg.B(ta,uBc,ha):ta;return $APP.k(ja)?$APP.rg.B(ta,lGc,ja):ta}()],null),new $APP.H(null,2,5,$APP.I,[y7,$APP.fg([k5,q5,$APP.nq,$APP.ST,v5,A5,t5,$APP.qq,w5],[l,G,c,W,g,Q,J,v,A])],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,17,5,$APP.I,[$APP.Kv,$APP.IX,ANc,oPc,eEc,HIc,kOc,hUc,r6,d6,i6,f6,h6,e6,c6,t6,o6],null),$APP.Kl,$APP.fg([i6,oPc,e6,ANc,f6,$APP.IX,o6,d6,t6,
eEc,h6,r6],[!1,10,"#3090ff",10,!0,1,0,2,0,10,1,6])],null)],null)),$APP.P,"Component that plots a vector field defined by `:f` into the scene along the\n  volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,oGc,$APP.X,D7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[v6],null),new $APP.H(null,2,5,$APP.I,[v6,$APP.By],null)),$APP.P,"Component that renders multiple [[LabeledAxis]] components into a scene.\n\n  `axes` can be either\n\n  - a vector like `[:x :y]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n  `range` (optional) is a 3-vector with the rendered ranges in the `x`, `y` and\n  `z` directions.\n\n  Any axis entries missing from `axes` won't be rendered.\n\n  NOTE: This argument is only used to fill in the `:max` argument\n  to [[LabeledAxis]] for default label positioning. It should go away once we\n  get a better strategy!"],
null)],null)]),$APP.Zo(fHc)),$APP.ap($APP.fg([$APP.z(xJc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)))],null)),$APP.z(uMc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots a function in either the `x` or `z` directions as\n  a function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(vMc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots a function in either the `x` or `y` directions as\n  a function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(OFc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots a parametric curve `f` into the scene along the\n  range specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z($APP.TU,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(TOc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots a parametric surface defined by `f` into the\n  scene along the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(hIc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[emmy.mathbox/mathbox]] is removed and passed along\n  to that function.\n\n  See [[cartesian]] for all other supported options.",$APP.hy,
new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(NDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that takes an `:axis` option equal to `:x`, `:y` or `:z` and\n  renders the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label, ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)),$APP.z(ySc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[labeled-axis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[grid]] for more detail on allowed configuration values.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(DJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(gPc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots a polar surface defined by `:f` into the scene\n  along the area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(CJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z($APP.su,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that renders a vector into the scene with the specified\n  `tip` and `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)),$APP.z(PGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Returns a fragment that takes an `:axes` option equal to `:xy`, `:yz` or `:xz`\n  and renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either `true`, `false`, a single number or a 2-vector of\n    numbers of the form `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A\n    non-vector value becomes a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)),$APP.z($APP.Jya,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(vJc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots an explicit surface defined by `:x` into the\n  scene along the area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(wMc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots a function in either the `y` or `z` directions as\n  a function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z($APP.Ghb,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a fragment that plots a vector field defined by `:f` into the scene\n  along the volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null))],[new $APP.f(null,3,[$APP.R,oFc,$APP.X,function(a){var b=X4(a,$APP.cS);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[lIc,b],null)),P5)},$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))],null)],null),new $APP.f(null,3,[$APP.R,DGc,$APP.X,function(a){var b=X4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=X4(b,s5);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,
2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[sDc,c],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a function in either the `x` or `z` directions as\n  a function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,EGc,$APP.X,function(a){var b=X4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=X4(b,z6);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[tDc,c],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a function in either the `x` or `y` directions as\n  a function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,oCc,$APP.X,function(a){a=$APP.Fj.B(a,$APP.Dy,Ssc);var b=Vuc(a,1);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[tJc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a parametric curve `f` into the scene along the\n  range specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,IEc,$APP.X,function(a){return $4.A(new $APP.H(null,2,5,$APP.I,[rFc,a],null),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,XOc,$APP.X,function(a){var b=Vuc(a,2);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[MDc,$APP.Oi.A(b,$APP.KV)],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a parametric surface defined by `f` into the\n  scene along the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,SEc,$APP.X,P5,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[emmy.mathbox/mathbox]] is removed and passed along\n  to that function.\n\n  See [[cartesian]] for all other supported options."],
null)],null),new $APP.f(null,3,[$APP.R,rTc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[PJc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that takes an `:axis` option equal to `:x`, `:y` or `:z` and\n  renders the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label, ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)],null),new $APP.f(null,3,[$APP.R,pFc,$APP.X,G7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[labeled-axis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[grid]] for more detail on allowed configuration values."],
null)],null),new $APP.f(null,3,[$APP.R,CTc,$APP.X,function(a){var b=Y4(a,s5);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[xNc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,cEc,$APP.X,function(a){var b=Y4(a,s5);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[xGc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a polar surface defined by `:f` into the scene\n  along the area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,ETc,$APP.X,function(a){var b=Y4(a,z6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[yNc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,yMc,$APP.X,function(a){return $4.A(new $APP.H(null,2,5,$APP.I,[WFc,a],null),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that renders a vector into the scene with the specified\n  `tip` and `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)],null),new $APP.f(null,3,[$APP.R,bCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[MGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Returns a fragment that takes an `:axes` option equal to `:xy`, `:yz` or `:xz`\n  and renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either `true`, `false`, a single number or a 2-vector of\n    numbers of the form `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A\n    non-vector value becomes a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.R,$Hc,$APP.X,function(a){return $4.A(new $APP.H(null,2,5,$APP.I,[DSc,a],null),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,QTc,$APP.X,function(a){var b=Y4(a,A6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[fOc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:x` into the\n  scene along the area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.R,CGc,$APP.X,function(a){var b=X4(a,z6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=X4(b,s5);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return $4.A(Z4(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[wDc,c],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a function in either the `y` or `z` directions as\n  a function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.R,mFc,$APP.X,function(a){var b=Vuc(a,3);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $4.A(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[NFc,b],null)),P5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that plots a vector field defined by `:f` into the scene\n  along the volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)],null)]),$APP.Zo(LPc)),$APP.ap(new $APP.f(null,7,[mMc,new $APP.f(null,3,[$APP.R,DTc,$APP.X,D6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[m6],null),new $APP.H(null,2,5,$APP.I,[m6,$APP.Lx],null)),$APP.P,"Given a quoted ClojureScript function `on-click` and a map `opt` of options,\n  returns a client-side fragment that generates a schema entry defining a\n  button.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). "],
null)],null),qFc,new $APP.f(null,3,[$APP.R,YJc,$APP.X,E6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null),new $APP.H(null,2,5,$APP.I,[$APP.XZ,$APP.Lx],null)),$APP.P,"Returns a client-side fragment that generates a schema entry defining a button group,\n  given either\n\n  - a label and a map of `{\x3cstring\x3e '(fn [get] ,,,)}` where the `fn` is a quoted\n    ClojureScript function\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[controls]] instance from the value function."],
null)],null),GJc,new $APP.f(null,3,[$APP.R,QJc,$APP.X,F6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[j6],null),new $APP.H(null,2,5,$APP.I,[j6,n6],null)),$APP.P,'Returns a client-side fragment that generates a schema entry defining a\n  "monitor", given as a first argument either\n\n  - a no-arg (quoted ClojureScript) function that returns a number, or\n  - a symol referencing a react `MutableRefObject` returned by `useRef`,\n    where `(.-current ref)` returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.'],
null)],null),eGc,new $APP.f(null,3,[$APP.R,iSc,$APP.X,G6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[q6],null),new $APP.H(null,2,5,$APP.I,[q6,n6],null)),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  client-side fragment that generates a schema entry wrapping `schema` in a\n  subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed`: if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render`: quoted ClojureScript function of hte form `(fn [get] \x3cboolean\x3e)`,\n    providing dynamic control or whether or not the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color`: color string, sets the color of the folder title.\n\n  - `:order`: number, sets the order of this folder relative to other components\n    at the same level."],
null)],null),aCc,new $APP.f(null,3,[$APP.R,mHc,$APP.X,H6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null)),$APP.P,"Returns a fragment that configures a Leva panel with the supplied map of `opts`\n  without explicitly rendering any inputs into it.\n\n  If `:store` is not provided, configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[sub-panel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!"],
null)],null),zJc,new $APP.f(null,3,[$APP.R,qTc,$APP.X,I6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Lx,$APP.Lh,$APP.Tu],null)),$APP.P,"Returns a fragment that will configure a non-global, standalone Leva panel with\n  the supplied map of `opts`.\n\n  Any instance of [[controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each."],
null)],null),yJc,new $APP.f(null,3,[$APP.R,JIc,$APP.X,function(a){return $4.j(new $APP.H(null,2,5,$APP.I,[UMc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a fragment that will render inputs into a global or local Leva control\n  panel, possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[sub-panel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: symbol referencing an atom of key \x3d\x3e initial value for schema\n    entries. Any entry found in both `:atom` and in `:schema` will remain\n    synchronized between the panel and the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options."],
null)],null)],null),$APP.Zo(zUc)),$APP.ap(new $APP.f(null,2,[jFc,new $APP.f(null,3,[$APP.R,JMc,$APP.X,ktc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Hv],null)),$APP.P,"Function component for a relative clock. `onTick` is called with a single arg\n  for seconds."],null)],null),JPc,new $APP.f(null,3,[$APP.R,rIc,$APP.X,mtc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Wrapper around the function component [[Stopwatch*]]."],null)],
null)],null),$APP.Zo(LFc)),$APP.ap(new $APP.f(null,2,[TDc,new $APP.f(null,3,[$APP.R,tQc,$APP.X,f5,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.iV],null)),$APP.P,"Given a number `x`, returns a string truncating `x` to have at most `n` decimal\n  places.\n\n  `n` defaults to 2."],null)],null),jGc,new $APP.f(null,3,[$APP.R,YEc,$APP.X,z7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,
2,5,$APP.I,[$APP.Vv,fJc],null)),$APP.P,"Given a numeric value `x`, returns a string formatting `x` as a multiple of\n  `π`.\n\n  Values close to `π` will receive no prefix; any other number will print with\n  at most `precision` decimal places."],null)],null)],null),$APP.Zo(iTc)),$APP.ap($APP.fg([$APP.z(uMc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-y]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z(DQc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null))),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z(mNc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null))),$APP.P,'Takes either\n\n  - a sequence of 2-vectors `[\x3cx\x3e \x3cy\x3e]` specifying the polygon\'s vertices\n    and (optionally) a map of options\n  - a map with `:point` entry required\n\n  and returns a fragment that will render a polygon onto a Mafs scene bounded by\n  the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    acceptedr\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z($APP.TU,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),$APP.Lx],null),new $APP.H(null,
1,5,$APP.I,[lHc],null))),$APP.P,"Takes either\n\n  - a 2-vector of `[\x3cx\x3e \x3cy\x3e]` and (optionally) a map of options\n  - a map with `:x` and `:y` entries required\n\n  and returns a fragment that will render a dot onto a Mafs scene at location\n  $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[lHc],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[lHc],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z(xDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,
$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z(mIc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Sv],null),new $APP.H(null,2,5,$APP.I,[$APP.Sv,$APP.Lx],null))),$APP.P,'Takes some string `s` (and optionally a map `opts` of options) and returns a\n  fragment that will render `s` onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.Sv],null),new $APP.H(null,2,5,$APP.I,[$APP.Sv,$APP.Lx],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Sv],null),new $APP.H(null,2,5,$APP.I,[$APP.Sv,$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),tUc,$APP.z(vGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with slope `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z(ySc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a cartesian coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z(BUc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],
null)),$APP.z(mSc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with angle `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z($APP.lkc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line segment\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z(KHc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a polar coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. ",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z(xIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])` defined either using Emmy primitives,\n    or written in ClojureScript and quoted\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),$APP.z(aJc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"Returns a Reagent fragment that mounts a `ViewportInfo` component into the Mafs\n  scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,1,$APP.nw,1,$APP.ty,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z(ZDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  If any function in `:x` or `:y` is built out of Emmy\n  primitives, [[inequality]] will compile these into fast native JS functions.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted.\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)),$APP.z($APP.su,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[u6,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[UTc],null))),$APP.P,'Takes either:\n\n  - a 2-vector of the `[\x3cx\x3e \x3cy\x3e]` coordinates of the vector tip and a map of\n    options\n  - a map with `:tip` entry required\n\n  and returns a fragment that will render a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[u6,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[UTc],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[u6,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[UTc],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z(jNc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null)))],null)),$APP.z(jIc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,
2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,'Given an optional map of options and any number of children, returns a fragment\n  that will render as a Mafs 2D scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, ∞)`).\n\n  - `:view-box`: (optional)A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: Quoted ClojureScript `\'(fn [point, mouse-event] ...)`, called\n      when the view is clicked on, and passed the point where it was clicked.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(YTc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes an options map and returns a fragment that renders a movable point onto a\n  Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: symbol referencing a client-side atom into which the movable point\n    should synchronize its current coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s\n    the atom. Use `:path` to synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (emmy.viewer/with-let [!xy [0 0]]\n    (movable-point {:atom !xy}))\n\n  (emmy.viewer/with-let [!state {:coords [0 0]}]\n    (movable-point {:atom !state :path :coords}))\n\n  (emmy.viewer/with-let [!state {:nested {:coords [0 0]}}]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function you\'ll need to quote the function so it makes it\n    over to the client. This function will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain \'(fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)),$APP.z(nHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null))),$APP.P,'Takes a map with `:center` and `:radius` entries required and returns a\n  fragment that will render the specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)),$APP.z(jSc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Returns a Reagent fragment that wraps any supplied children in an interactive\n  transformation widget that lets you rotate, scale and translate all children.",$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),
$APP.z(ISc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null))),$APP.P,"Takes an options map and any number of (Reagent-fragment) children and returns\n  a fragment that will transform the children as specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!0,$APP.Sn,0,$APP.nw,0,$APP.ty,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.Tu)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.zx,$APP.M(null)],null)],null)),$APP.z(wMc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-x]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)),$APP.zx,$APP.M(null,null)],null)],null)),$APP.z($APP.Ghb,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null))),$APP.P,'Given a map `opts`, returns a fragment that will plot a vector at every point\n  in a grid on a coordinate plane by calling a function `:xy` that receives the\n  vector\'s tail and returns its tip.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])` defined\n    either using Emmy primitives, or written in ClojureScript and quoted.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive, defined either using Emmy primitives or written in\n    ClojureScript and quoted.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".',
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,2,$APP.nw,2,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)),$APP.zx,$APP.M(null,null)],null)],null))],[new $APP.f(null,3,[$APP.R,dCc,$APP.X,V6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)),
$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-y]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,QCc,$APP.X,M6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null)),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)],null),new $APP.f(null,3,[$APP.R,uUc,$APP.X,L6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yT,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[b6],null)),$APP.P,
'Takes either\n\n  - a sequence of 2-vectors `[\x3cx\x3e \x3cy\x3e]` specifying the polygon\'s vertices\n    and (optionally) a map of options\n  - a map with `:point` entry required\n\n  and returns a fragment that will render a polygon onto a Mafs scene bounded by\n  the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    acceptedr\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,YOc,$APP.X,K6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.aS],null),$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[lHc],null)),$APP.P,"Takes either\n\n  - a 2-vector of `[\x3cx\x3e \x3cy\x3e]` and (optionally) a map of options\n  - a map with `:x` and `:y` entries required\n\n  and returns a fragment that will render a dot onto a Mafs scene at location\n  $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.R,DHc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[VJc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,kTc,$APP.X,N6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Sv],null),new $APP.H(null,2,5,$APP.I,[$APP.Sv,$APP.Lx],null)),$APP.P,'Takes some string `s` (and optionally a map `opts` of options) and returns a\n  fragment that will render `s` onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,rSc,$APP.X,hKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.R,CFc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[$Jc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with slope `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,CIc,$APP.X,Q6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a cartesian coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. "],
null)],null),new $APP.f(null,3,[$APP.R,XSc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[FHc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],null)],null),new $APP.f(null,3,[$APP.R,fQc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[qDc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,
1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with angle `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,RGc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[MSc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line segment\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.R,qGc,$APP.X,R6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a polar coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. "],
null)],null),new $APP.f(null,3,[$APP.R,AIc,$APP.X,function(a){var b=X4(a,w6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return a5(Z4(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[YCc,b],null)))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])` defined either using Emmy primitives,\n    or written in ClojureScript and quoted\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,jTc,$APP.X,T6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Returns a Reagent fragment that mounts a `ViewportInfo` component into the Mafs\n  scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3."],
null)],null),new $APP.f(null,3,[$APP.R,oEc,$APP.X,function(a){var b=$sc(A6.j(a)),c=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var d=$sc(z6.j(a)),g=$APP.x.B(d,0,null);d=$APP.x.B(d,1,null);c=$APP.Lf.A(c,g);g=$APP.I;a=$APP.k(b)?$APP.rg.B(a,A6,b):a;a=$APP.k(d)?$APP.rg.B(a,z6,d):a;return a5(Z4(c,new $APP.H(null,2,5,g,[gQc,a],null)))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  If any function in `:x` or `:y` is built out of Emmy\n  primitives, [[inequality]] will compile these into fast native JS functions.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted.\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.R,dQc,$APP.X,O6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[u6,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[UTc],null)),$APP.P,'Takes either:\n\n  - a 2-vector of the `[\x3cx\x3e \x3cy\x3e]` coordinates of the vector tip and a map of\n    options\n  - a map with `:tip` entry required\n\n  and returns a fragment that will render a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,eDc,$APP.X,dtc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Tv],null))],null)],null),new $APP.f(null,3,[$APP.R,bTc,$APP.X,J6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'Given an optional map of options and any number of children, returns a fragment\n  that will render as a Mafs 2D scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, ∞)`).\n\n  - `:view-box`: (optional)A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: Quoted ClojureScript `\'(fn [point, mouse-event] ...)`, called\n      when the view is clicked on, and passed the point where it was clicked.'],
null)],null),new $APP.f(null,3,[$APP.R,lDc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[ZFc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes an options map and returns a fragment that renders a movable point onto a\n  Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: symbol referencing a client-side atom into which the movable point\n    should synchronize its current coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s\n    the atom. Use `:path` to synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (emmy.viewer/with-let [!xy [0 0]]\n    (movable-point {:atom !xy}))\n\n  (emmy.viewer/with-let [!state {:coords [0 0]}]\n    (movable-point {:atom !state :path :coords}))\n\n  (emmy.viewer/with-let [!state {:nested {:coords [0 0]}}]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function you\'ll need to quote the function so it makes it\n    over to the client. This function will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain \'(fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)],null),new $APP.f(null,3,[$APP.R,AJc,$APP.X,function(a){return a5(new $APP.H(null,2,5,$APP.I,[LMc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'Takes a map with `:center` and `:radius` entries required and returns a\n  fragment that will render the specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,nFc,$APP.X,S6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Returns a Reagent fragment that wraps any supplied children in an interactive\n  transformation widget that lets you rotate, scale and translate all children."],null)],null),new $APP.f(null,3,[$APP.R,ZGc,$APP.X,P6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Takes an options map and any number of (Reagent-fragment) children and returns\n  a fragment that will transform the children as specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`."],
null)],null),new $APP.f(null,3,[$APP.R,cCc,$APP.X,U6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-x]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.R,BOc,$APP.X,W6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Kv,$APP.Lx],null),new $APP.H(null,1,5,$APP.I,[k6],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot a vector at every point\n  in a grid on a coordinate plane by calling a function `:xy` that receives the\n  vector\'s tail and returns its tip.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])` defined\n    either using Emmy primitives, or written in ClojureScript and quoted.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive, defined either using Emmy primitives or written in\n    ClojureScript and quoted.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)]),$APP.Zo(cIc)),$APP.ap($APP.fg([$APP.swa,VFc,kCc,PIc,IDc,iFc,$APP.TU,lMc,dUc,GHc,mIc,$APP.XX,iPc,oUc,$APP.B$b,gTc,GEc,VTc,BMc,$APP.wu,ZRc,$APP.Zdc,dDc,yCc,$APP.XZ,oHc,xMc,MEc,ySc,MJc,$Bc,EFc,MFc,wCc,bGc,QGc,LDc,BPc,jEc,bDc,gGc,eTc,$APP.uU,pQc,KHc,rDc,KGc,$APP.OBa,$APP.su,PGc,fEc,mPc,$APP.Jya,rPc,mDc,dFc,$APP.IX,fSc,$APP.sY,wIc,GIc,$APP.RN,$APP.Px,ISc,$APP.tv,ZBc],[new $APP.f(null,3,[$APP.R,pIc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[NIc,a],null)},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Split one array dimension into two by splitting rows/columns/etc*\n\n  - `:axis`: `null` (nullable axis) - Axis to split, e.g. `x`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:length`: `1` (number) - Tuple length\n  - `:order`: `"wxyz"` (transpose) - Axis order\n  - `:overlap`: `1` (number) - Tuple overlap\n  - `:source`: `"\x3c"` (select) - Input source'],
null)],null),new $APP.f(null,3,[$APP.R,LIc,$APP.X,k7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply custom mask pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:shader`: `"\x3c"` (select) - Shader to use'],null)],null),new $APP.f(null,3,[$APP.R,NEc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[vFc,a],null)},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw polygon faces*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:line`: `false` (bool) - Draw line\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,aEc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[dJc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Subdivide data points evenly or with a bevel*\n\n  - `:bevel`: `1` (number) - Fraction to end outward from vertices\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable positive int) - Divisions of depth, e.g. `5`\n  - `:height`: `null` (nullable positive int) - Divisions of height, e.g. `5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable positive int) - Divisions of items, e.g. `5`\n  - `:lerp`: `true` (boolean) - Interpolate values with computed indices\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable positive int) - Divisions of width, e.g. `5`'],
null)],null),new $APP.f(null,3,[$APP.R,$Cc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[BDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*1D sampled array*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axis`: `1` (axis) - Axis\n  - `:bufferWidth`: `1` (number) - Array buffer width\n  - `:centered`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, i, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:history`: `1` (number) - Array history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:padding`: `0` (number) - Number of samples padding\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Array width'],
null)],null),new $APP.f(null,3,[$APP.R,yQc,$APP.X,s7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply stereographic projection*\n\n  - `:bend`: `1` (number) - Amount of stereographic bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,uHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[mJc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw points*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill shape\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:optical`: `true` (bool) - Optical or exact sizing\n  - `:points`: `\x3c` (select) - Points data source\n  - `:shape`: `"circle"` (shape) - Point shape (circle, square, diamond, up, down, left, right)\n  - `:size`: `4` (positive number) - Point size\n  - `:sizes`: `null` (nullable select) - Point sizes data source, e.g. `"#sizes"`\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,MMc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[CEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Custom shader snippet*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:code`: `""` (string) - Shader code\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:language`: `"glsl"` (string) - Shader language\n  - `:sources`: `null` (nullable select) - Sampler sources, e.g. `["#pressure", "#divergence"]`\n  - `:uniforms`: `null` (nullable object) - Shader uniform objects (three.js style), e.g. `{ time: { type: \'f\', value: 3 }}`'],
null)],null),new $APP.f(null,3,[$APP.R,eCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[wJc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Swizzle data values*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `xyzw` (swizzle) - Swizzle order\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,3,[$APP.R,
nJc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[hQc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Resample data to new dimensions with a shader*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Resample channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Resample factor depth, e.g. `10`\n  - `:height`: `null` (nullable number) - Resample factor height, e.g. `10`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:indices`: `4` (number) - Resample indices\n  - `:items`: `null` (nullable number) - Resample factor items, e.g. `10`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:sample`: `"relative"` (mapping) - Source sampling (relative, absolute)\n  - `:shader`: `"\x3c"` (select) - Shader to use\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Resample factor width, e.g. `10`'],
null)],null),new $APP.f(null,3,[$APP.R,gJc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[wTc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*GL text source*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:detail`: `24` (number) - Font detail\n  - `:expr`: `null` (nullable emitter) - Data emitter expression\n  - `:font`: `"sans-serif"` (font) - Font family\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:sdf`: `5` (number) - Signed distance field range\n  - `:style`: `""` (string) - Font style, e.g. `"italic"`\n  - `:type`: `"float"` (type) - Texture data type\n  - `:variant`: `""` (string) - Font variant, e.g. `"small-caps"`\n  - `:weight`: `""` (string) - Font weight, e.g. `"bold"`\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,sUc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[QIc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw an axis*\n\n  - `:axis`: `1` (axis) - Axis\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:crossed`: `true` (bool) - UVWO map on matching axis\n  - `:depth`: `1` (number) - Depth scaling\n  - `:detail`: `1` (number) - Geometric detail\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `-1` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,AMc,$APP.X,X6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,"Light wrapper around the `ContainedMathbox` and `MathBox` components exposed by\n  `mathbox-react.`\n\n  The main differences are:\n\n  - This component calls `ContainedMathbox` if the `:container` option is a\n    config map (or not present), and `Mathbox` if `:container` references an\n    actual `HTMLElement`. Any other value currently errors.\n\n  - This component takes a `:threestrap` option instead of `:options`, as the\n  `mathbox-react` components do.\n\n  See [[mathbox]] for a version that installs hooks to allow configuration of\n  the renderer, camera and other settings."],
null)],null),new $APP.f(null,3,[$APP.R,LCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[TSc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Linear interpolation of data*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Lerp to depth, e.g. `5`\n  - `:height`: `null` (nullable number) - Lerp to height, e.g. `5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable number) - Lerp to items, e.g. `5`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Lerp to width, e.g. `5`'],
null)],null),new $APP.f(null,3,[$APP.R,nTc,$APP.X,Z6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Group elements for visibility and activity*\n\n  - `:active`: `true` (bool) - Updates continuously\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:visible`: `true` (bool) - Visibility for rendering'],null)],null),new $APP.f(null,3,[$APP.R,XPc,$APP.X,e7,
$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Presentation slide*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:early`: `0` (number) - Appear early steps\n  - `:from`: `null` (nullable number) - Appear from step, e.g. `2`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:late`: `0` (number) - Stay late steps\n  - `:order`: `0` (nullable number) - Slide order\n  - `:steps`: `1` (number) - Slide steps\n  - `:to`: `null` (nullable number) - Disappear on step, e.g. `4`'],
null)],null),new $APP.f(null,3,[$APP.R,yFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[tEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Memoize data to an array/texture*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:type`: `"float"` (type) - Texture data type'],
null)],null),new $APP.f(null,3,[$APP.R,JFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[lEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*HTML DOM injector*\n\n  - `:attributes`: `null` (nullable object) - HTML attributes, e.g. `{"style": {"color": "red"}}`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(255, 255, 255)"` (color) - Color\n  - `:depth`: `0` (number) - Depth scaling\n  - `:html`: `"\x3c"` (select) - HTML data source\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:offset`: `[0, -20]` (vec2) - 2D offset\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:outline`: `2` (number) - Outline size\n  - `:pointerEvents`: `false` (bool) - Allow pointer events\n  - `:points`: `"\x3c"` (select) - Points data source\n  - `:size`: `16` (number) - Text size\n  - `:snap`: `false` (bool) - Snap to pixel\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zoom`: `1` (number) - HTML zoom'],
null)],null),new $APP.f(null,3,[$APP.R,kNc,$APP.X,u7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Adjust view range*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,RDc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[CCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Join two array dimensions into one by concatenating rows/columns/stacks*\n\n  - `:axis`: `null` (nullable axis) - Axis to join, e.g. `x`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `"wxyz"` (transpose) - Axis order\n  - `:overlap`: `1` (number) - Tuple overlap\n  - `:source`: `"\x3c"` (select) - Input source'],
null)],null),new $APP.f(null,3,[$APP.R,lCc,$APP.X,p7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply 4D cartesian view*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,PPc,$APP.X,r7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply spherical view*\n\n  - `:bend`: `1` (number) - Amount of spherical bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,EEc,$APP.X,a7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Change unit sizing for drawing ops*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`'],
null)],null),new $APP.f(null,3,[$APP.R,SPc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[SDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*3D sampled voxels*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axes`: `[1, 2, 3]` (swizzle(3) axis) - Axis triplet\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, y, z, i, j, k, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeZ`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,MPc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[RHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw GL labels*\n\n  - `:background`: `"rgb(255, 255, 255)"` (color) - Outline background\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `0` (number) - Depth scaling\n  - `:expand`: `0` (number) - Expand glyphs\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:offset`: `[0, -20]` (vec2) - 2D offset\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:outline`: `2` (number) - Outline size\n  - `:points`: `\x3c` (select) - Points data source\n  - `:size`: `16` (number) - Text size\n  - `:snap`: `false` (bool) - Snap to pixel\n  - `:text`: `"\x3c"` (select) - Text source\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,YFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[BQc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Text atlas resampler*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Resample channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Resample factor depth, e.g. `10`\n  - `:height`: `null` (nullable number) - Resample factor height, e.g. `10`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:indices`: `4` (number) - Resample indices\n  - `:items`: `null` (nullable number) - Resample factor items, e.g. `10`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:sample`: `"relative"` (mapping) - Source sampling (relative, absolute)\n  - `:shader`: `"\x3c"` (select) - Shader to use\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Resample factor width, e.g. `10`'],
null)],null),new $APP.f(null,3,[$APP.R,cSc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[LEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw triangle strips*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:line`: `false` (bool) - Draw line\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,BFc,$APP.X,$6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Inherit and inject a trait from another element*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`'],null)],null),new $APP.f(null,3,[$APP.R,QBc,$APP.X,o7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply cartesian view*\n\n  * *classes* \x3d `[]` (string array) - Custom classes, e.g. `["big"]`\n  * *eulerOrder* \x3d `xyz` (swizzle) - Euler order\n  * *id* \x3d `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  * *pass* \x3d `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  * *position* \x3d `[0, 0, 0]` (vec3) - 3D Position\n  * *quaternion* \x3d `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  * *range* \x3d `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  * *rotation* \x3d `[0, 0, 0]` (vec3) - 3D Euler rotation\n  * *scale* \x3d `[1, 1, 1]` (vec3) - 3D Scale\n  * *visible* \x3d `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,vNc,$APP.X,b7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Move elements in/out on transition*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Transition delay\n  - `:delayEnter`: `null` (nullable number) - Transition enter delay, e.g. `0.3`\n  - `:delayExit`: `null` (nullable number) - Transition exit delay, e.g. `0.3`\n  - `:duration`: `0.3` (number) - Transition duration\n  - `:durationEnter`: `0.3` (number) - Transition enter duration\n  - `:durationExit`: `0.3` (number) - Transition exit duration\n  - `:enter`: `null` (nullable number) - Enter state, e.g. `0.5`\n  - `:exit`: `null` (nullable number) - Exit state, e.g. `0.5`\n  - `:from`: `[0, 0, 0, 0]` (vec4) - Enter from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:stagger`: `[0, 0, 0, 0]` (vec4) - Stagger dimensions, e.g. `[2, 1, 0, 0]`\n  - `:to`: `[0, 0, 0, 0]` (vec4) - Exit to'],
null)],null),new $APP.f(null,3,[$APP.R,FPc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[NHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Camera instance or proxy*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `"xyz"` (swizzle) - 3D Euler order\n  - `:fov`: `null` (nullable number) - Field-of-view (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lookAt`: `null` (nullable vec3) - 3D Look at, e.g. `[2, 3, 4]`\n  - `:position`: `null` (nullable vec3) - 3D Position, e.g. `[1, 2, 3]`\n  - `:proxy`: `false` (bool) - Re-use existing camera\n  - `:quaternion`: `null` (nullable quat) - 3D Quaternion, e.g. `[0.707, 0, 0, 0.707]`\n  - `:rotation`: `null` (nullable vec3) - 3D Euler rotation, e.g. `[π/2, 0, 0]`\n  - `:up`: `null` (nullable vec3) - 3D Up, e.g. `[0, 1, 0]`'],
null)],null),new $APP.f(null,3,[$APP.R,PHc,$APP.X,j7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Independent 2D layer/overlay*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `1` (number) - 3D Depth\n  - `:fit`: `y` (fit) - Fit to (contain, cover, x, y)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)'],null)],
null),new $APP.f(null,3,[$APP.R,uJc,$APP.X,n7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply custom vertex shader pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:shader`: `"\x3c"` (select) - Shader to use'],null)],null),new $APP.f(null,3,[$APP.R,kFc,$APP.X,function(a){return new $APP.H(null,
2,5,$APP.I,[VDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw surfaces*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:closedX`: `false` (bool) - Close X lines\n  - `:closedY`: `false` (bool) - Close Y lines\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:crossed`: `true` (bool) - UVWO map on matching axes\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:lineX`: `false` (bool) - Draw X lines\n  - `:lineY`: `false` (bool) - Draw Y lines\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,XEc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[ZEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Read data back to a binary JavaScript array*\n\n  - `:active`: `true` (bool) - Updates continuously\n  - `:channels`: `4` (number) - Readback channels (read only)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `[]` (data) - Readback data buffer (read only)\n  - `:depth`: `1` (nullable number) - Readback depth (read only)\n  - `:expr`: `null` (nullable function) - Readback consume expression, e.g. `function (x, y, z, w, i, j, k, l) { ... }`\n  - `:height`: `1` (nullable number) - Readback height (read only)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `1` (nullable number) - Readback items (read only)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:type`: `"float"` (float) - Readback data type (float, unsignedByte)\n  - `:width`: `1` (nullable number) - Readback width (read only)'],
null)],null),new $APP.f(null,3,[$APP.R,LHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[QFc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Play a sequenced animation*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Play delay\n  - `:ease`: `"cosine"` (ease) - Animation ease (linear, cosine, binary, hold)\n  - `:from`: `0` (number) - Play from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:loop`: `false` (bool) - Loop\n  - `:pace`: `1` (number) - Play pace\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:script`: `{}` (object) - Animation script, e.g. `{ "0": { props: { color: "red" }, expr: { size: function (t) { return Math.sin(t) + 1; }}}, "1": ...}`\n  - `:speed`: `1` (number) - Play speed\n  - `:target`: `"\x3c"` (select) - Animation target\n  - `:to`: `Infinity` (number) - Play until\n  - `:trigger`: `1` (nullable number) - Trigger on step'],
null)],null),new $APP.f(null,3,[$APP.R,aGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[AQc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*2D sampled matrix*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axes`: `[1, 2]` (swizzle(2) axis) - Axis pair\n  - `:bufferHeight`: `1` (number) - Matrix buffer height\n  - `:bufferWidth`: `1` (number) - Matrix buffer width\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, y, i, j, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Matrix height\n  - `:history`: `1` (number) - Matrix history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Matrix width'],
null)],null),new $APP.f(null,3,[$APP.R,aDc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[jDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Text formatter*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable array) - Array of labels, e.g. `["Grumpy", "Sleepy", "Sneezy"]`\n  - `:detail`: `24` (number) - Font detail\n  - `:digits`: `null` (nullable positive number) - Digits of precision, e.g. `2`\n  - `:expr`: `null` (nullable function) - Label formatter expression, e.g. `function (x, y, z, w, i, j, k, l, time, delta) { ... }`\n  - `:font`: `"sans-serif"` (font) - Font family\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:sdf`: `5` (number) - Signed distance field range\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:style`: `""` (string) - Font style, e.g. `"italic"`\n  - `:type`: `"float"` (type) - Texture data type\n  - `:variant`: `""` (string) - Font variant, e.g. `"small-caps"`\n  - `:weight`: `""` (string) - Font weight, e.g. `"bold"`'],
null)],null),new $APP.f(null,3,[$APP.R,KFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[CDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*2D matrix*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferHeight`: `1` (number) - Matrix buffer height\n  - `:bufferWidth`: `1` (number) - Matrix buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, j, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Matrix height\n  - `:history`: `1` (number) - Matrix history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Matrix width'],
null)],null),new $APP.f(null,3,[$APP.R,BGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[dPc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw ticks*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:epsilon`: `0.0001` (number) - Tick epsilon\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:normal`: `true` (bool) - Normal for reference plane\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `10` (number) - Tick size\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,aHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[LGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Scale data relative to reference data point*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable anchor) - Depth alignment\n  - `:height`: `null` (nullable anchor) - Height alignment\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable anchor) - Items alignment\n  - `:scale`: `1` (number) - Scale factor\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable anchor) - Width alignment'],
null)],null),new $APP.f(null,3,[$APP.R,ZPc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[hDc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Select one or more rows/columns/stacks*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable vec2) - Slice from, to depth (excluding to), e.g. `[2, 4]`\n  - `:height`: `null` (nullable vec2) - Slice from, to height (excluding to), e.g. `[2, 4]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable vec2) - Slice from, to items (excluding to), e.g. `[2, 4]`\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable vec2) - Slice from, to width (excluding to), e.g. `[2, 4]`'],
null)],null),new $APP.f(null,3,[$APP.R,OIc,$APP.X,c7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Present a tree of slides*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:directed`: `true` (bool) - Apply directional transitions\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:index`: `1` (number) - Present slide number\n  - `:length`: `0` (number) - Presentation length (computed)'],null)],
null),new $APP.f(null,3,[$APP.R,dTc,$APP.X,d7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Reveal/hide elements on transition*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Transition delay\n  - `:delayEnter`: `null` (nullable number) - Transition enter delay, e.g. `0.3`\n  - `:delayExit`: `null` (nullable number) - Transition exit delay, e.g. `0.3`\n  - `:duration`: `0.3` (number) - Transition duration\n  - `:durationEnter`: `0.3` (number) - Transition enter duration\n  - `:durationExit`: `0.3` (number) - Transition exit duration\n  - `:enter`: `null` (nullable number) - Enter state, e.g. `0.5`\n  - `:exit`: `null` (nullable number) - Exit state, e.g. `0.5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:stagger`: `[0, 0, 0, 0]` (vec4) - Stagger dimensions, e.g. `[2, 1, 0, 0]`'],
null)],null),new $APP.f(null,3,[$APP.R,FFc,$APP.X,q7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply polar view*\n\n  - `:bend`: `1` (number) - Amount of polar bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:helix`: `0` (number) - Expand into helix\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.R,rQc,$APP.X,h7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Absolute UNIX time in seconds since 01/01/1970*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:now`: `null` (nullable timestamp) - Current moment, e.g. `1444094929.619`\n  - `:pace`: `1` (number) - Time pace\n  - `:seek`: `null` (nullable number) - Seek to time\n  - `:speed`: `1` (number) - Time speed'],
null)],null),new $APP.f(null,3,[$APP.R,iOc,$APP.X,Y6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed'],
null)],null),new $APP.f(null,3,[$APP.R,RIc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[pEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Repeat data in one or more dimensions*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `1` (number) - Repeat depth\n  - `:height`: `1` (number) - Repeat height\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `1` (number) - Repeat items\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `1` (number) - Repeat width'],
null)],null),new $APP.f(null,3,[$APP.R,kQc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[dSc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw vectors*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,OHc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[ECc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw a 2D line grid*\n\n  - `:axes`: `[1, 2]` (swizzle(2) axis) - Axis pair\n  - `:baseX`: `10` (number) - Power base for sub/super units\n  - `:baseY`: `10` (number) - Power base for sub/super units\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:closedX`: `false` (bool) - Close X lines\n  - `:closedY`: `false` (bool) - Close Y lines\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:crossed`: `true` (bool) - UVWO map on matching axes\n  - `:crossedX`: `true` (bool) - UVWO map on matching axis\n  - `:crossedY`: `true` (bool) - UVWO map on matching axis\n  - `:depth`: `1` (number) - Depth scaling\n  - `:detailX`: `1` (number) - Geometric detail\n  - `:detailY`: `1` (number) - Geometric detail\n  - `:divideX`: `10` (number) - Number of divisions\n  - `:divideY`: `10` (number) - Number of divisions\n  - `:endX`: `true` (bool) - Include end\n  - `:endY`: `true` (bool) - Include end\n  - `:factorX`: `1` (positive number) - Scale factor\n  - `:factorY`: `1` (positive number) - Scale factor\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lineX`: `true` (bool) - Draw X lines\n  - `:lineY`: `true` (bool) - Draw Y lines\n  - `:modeX`: `"linear"` (scale) - Scale type\n  - `:modeY`: `"linear"` (scale) - Scale type\n  - `:niceX`: `true` (bool) - Snap to nice numbers\n  - `:niceY`: `true` (bool) - Snap to nice numbers\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:startX`: `true` (bool) - Include start\n  - `:startY`: `true` (bool) - Include start\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:unitX`: `1` (number) - Reference unit\n  - `:unitY`: `1` (number) - Reference unit\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `1` (positive number) - Line width\n  - `:zBias`: `-2` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer\n  - `:zeroX`: `true` (bool) - Include zero\n  - `:zeroY`: `true` (bool) - Include zero'],
null)],null),new $APP.f(null,3,[$APP.R,REc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[bQc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Clamp out-of-bounds samples to the nearest data point*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,3,[$APP.R,DMc,$APP.X,function(a){return new $APP.H(null,
2,5,$APP.I,[bSc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Spread data values according to array indices*\n\n  - `:alignDepth`: `0` (anchor) - Depth alignment\n  - `:alignHeight`: `0` (anchor) - Height alignment\n  - `:alignItems`: `0` (anchor) - Items alignment\n  - `:alignWidth`: `0` (anchor) - Width alignment\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable vec4) - Depth offset, e.g. `[1.5, 0, 0, 0]`\n  - `:height`: `null` (nullable vec4) - Height offset, e.g. `[1.5, 0, 0, 0]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable vec4) - Items offset, e.g. `[1.5, 0, 0, 0]`\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:unit`: `"relative"` (mapping) - Spread per item (absolute) or array (relative)\n  - `:width`: `null` (nullable vec4) - Width offset, e.g. `[1.5, 0, 0, 0]`'],
null)],null),new $APP.f(null,3,[$APP.R,CRc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[FSc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Draw lines*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,VOc,$APP.X,m7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Transform geometry in 4D*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:matrix`: `[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]` (mat4) - 4D Affine Matrix\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale'],
null)],null),new $APP.f(null,3,[$APP.R,CUc,$APP.X,i7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply custom fragment shader pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:gamma`: `false` (boolean) - Pass RGBA values in sRGB instead of linear RGB\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"light"` (fragmentPass) - Fragment pass (color, light, rgba)\n  - `:shader`: `"\x3c"` (select) - Shader to use'],
null)],null),new $APP.f(null,3,[$APP.R,FIc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[DIc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*HTML element source*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,vPc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[VIc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Human-friendly divisions on an axis, subdivided as needed*\n\n  - `:axis`: `1` (axis) - Axis\n  - `:base`: `10` (number) - Power base for sub/super units\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:divide`: `10` (number) - Number of divisions\n  - `:end`: `true` (bool) - Include end\n  - `:factor`: `1` (positive number) - Scale factor\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:mode`: `"linear"` (scale) - Scale type\n  - `:nice`: `true` (bool) - Snap to nice numbers\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:start`: `true` (bool) - Include start\n  - `:unit`: `1` (number) - Reference unit\n  - `:zero`: `true` (bool) - Include zero'],
null)],null),new $APP.f(null,3,[$APP.R,PCc,$APP.X,f7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Render objects to a texture*\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:height`: `null` (nullable number) - RTT height, e.g. `360`\n  - `:history`: `1` (number) - RTT history\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:speed`: `1` (number) - Global speed\n  - `:type`: `"unsignedByte"` (type) - Texture data type\n  - `:width`: `null` (nullable number) - RTT width, e.g. `640`'],
null)],null),new $APP.f(null,3,[$APP.R,nSc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[vQc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Transpose array dimensions*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `xyzw` (transpose) - Transpose order\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,
3,[$APP.R,yIc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[HPc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*3D voxels*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, j, k, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.R,dIc,$APP.X,g7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Relative clock that starts from zero.*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Play delay\n  - `:from`: `0` (number) - Play from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:loop`: `false` (bool) - Loop\n  - `:pace`: `1` (number) - Play pace\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:seek`: `null` (nullable number) - Seek to time, e.g. `4`\n  - `:speed`: `1` (number) - Play speed\n  - `:to`: `Infinity` (number) - Play until'],
null)],null),new $APP.f(null,3,[$APP.R,aQc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[wPc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Full-screen render pass*\n\n  - `:alpha`: `false` (bool) - Compose with alpha transparency\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"white"` (color) - Color\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `false` (bool) - Test Z buffer\n  - `:zWrite`: `false` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.R,uDc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[dEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*1D array*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferWidth`: `1` (number) - Array buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:history`: `1` (number) - Array history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Array width'],
null)],null),new $APP.f(null,3,[$APP.R,sJc,$APP.X,l7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Transform geometry in 3D*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - 3D Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:matrix`: `[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]` (mat4) - 3D Projective Matrix\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale'],
null)],null),new $APP.f(null,3,[$APP.R,sIc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[TEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,'*Step through a sequenced animation*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Step delay\n  - `:duration`: `0.3` (number) - Step duration\n  - `:ease`: `"cosine"` (ease) - Animation ease (linear, cosine, binary, hold)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pace`: `0` (number) - Step pace\n  - `:playback`: `"linear"` (ease) - Playhead ease (linear, cosine, binary, hold)\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:rewind`: `2` (number) - Step rewind factor\n  - `:script`: `{}` (object) - Animation script, e.g. `{ "0": { props: { color: "red" }, expr: { size: function (t) { return Math.sin(t) + 1; }}}, "1": ...}`\n  - `:skip`: `true` (bool) - Speed up through skips\n  - `:speed`: `1` (number) - Step speed\n  - `:stops`: `null` (nullable number array) - Playhead stops, e.g. `[0, 1, 3, 5]`\n  - `:target`: `"\x3c"` (select) - Animation target\n  - `:trigger`: `1` (nullable number) - Trigger on step'],
null)],null),new $APP.f(null,3,[$APP.R,iNc,$APP.X,t7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.Tu],null)),$APP.P,'*Apply 4D stereographic projection*\n\n  - `:bend`: `1` (number) - Amount of stereographic bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null)]),$APP.Zo(IMc)),$APP.ap(new $APP.f(null,2,[AHc,new $APP.f(null,3,[$APP.R,mGc,$APP.X,iLc,$APP.h,$APP.F],null),FQc,new $APP.f(null,3,[$APP.R,XBc,$APP.X,H7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.Lx],null)),$APP.P,"Given a map of options `opts`, returns a Reagent fragment that mounts an\n  instance of the [MathLive](https://github.com/arnog/mathlive) equation editor.\n\n  NOTE: Following React's convention, `:on-change` binds a listener to to the\n  `input` event. See https://reactjs.org/docs/dom-elements.html#onchange"],
null)],null)],null),$APP.Zo(tCc)),$APP.ap(new $APP.f(null,4,[$APP.z($APP.ISb,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that uses the supplied derivative function `:f'` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:f'`: a function of a single argument `state` that returns the derivative\n    of `state`.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:f'`,\n    used if `:f'` is a function that needs to be compiled (ie not a quoted literal\n    function).\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)),new $APP.f(null,3,[$APP.R,BCc,$APP.X,bvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.CV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied derivative function `:f'` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:f'`: a function of a single argument `state` that returns the derivative\n    of `state`.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:f'`,\n    used if `:f'` is a function that needs to be compiled (ie not a quoted literal\n    function).\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)],null),$APP.z(TBc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.rV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that uses the supplied Lagrangian `:L` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:L`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:L`.\n\n  See [[evolve]] for more supported optional arguments."],
null)),new $APP.f(null,3,[$APP.R,NOc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,U5);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.PQ,c)}):$APP.PQ.j(b);return bvc($APP.rg.B($APP.Oi.A(a,U5),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.rV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Lagrangian `:L` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:L`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:L`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null),$APP.z(xQc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.pV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that uses the supplied Hamiltonian `:H` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:H`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:H`.\n\n  See [[evolve]] for more supported optional arguments."],
null)),new $APP.f(null,3,[$APP.R,UEc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,C6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.YQ,c)}):$APP.YQ(b);return bvc($APP.rg.B($APP.Oi.A(a,C6),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.pV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Hamiltonian `:H` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:H`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:H`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null),$APP.z(fIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.tV],null),$APP.ck,$APP.Lx],null)],null))),$APP.P,"Returns a fragment that uses the supplied Routhian `:R` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:R`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:R`.\n\n  See [[evolve]] for more supported optional arguments."],
null)),new $APP.f(null,3,[$APP.R,YSc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,B6);b=V4(b)?$APP.Fj.B(b,$APP.Dy,function(c){return $APP.Hl.A($APP.F4,c)}):$APP.F4.j(b);return bvc($APP.rg.B($APP.Oi.A(a,B6),R5,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.zu,new $APP.H(null,1,5,$APP.I,[$APP.tV],null),$APP.ck,$APP.Lx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Routhian `:R` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:R`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:R`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null)],null),$APP.Zo(hPc)),$APP.ap(new $APP.f(null,4,[$APP.z(bEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.bZ,new $APP.f(null,1,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.GV,hFc],null)],null)],null))),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns an instance of\n  an [odex-js](https://github.com/littleredcomputer/odex-js) [Solver](https://github.com/littleredcomputer/odex-js/blob/master/src/odex.ts#L41)."],
null)),new $APP.f(null,3,[$APP.R,OMc,$APP.X,otc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.bZ,new $APP.f(null,1,[$APP.zu,new $APP.H(null,2,5,$APP.I,[$APP.GV,hFc],null)],null)],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns an instance of\n  an [odex-js](https://github.com/littleredcomputer/odex-js) [Solver](https://github.com/littleredcomputer/odex-js/blob/master/src/odex.ts#L41)."],
null)],null),$APP.z(YPc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.bZ],null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.bZ,$APP.Lx],null))),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of:\n\n  - `initial-state`\n  - `n-steps`, the number of steps to integrate\n  - `step-size`, the distance for each step\n  - `emit`, a callback called with a JS array representing the updated state for\n    each integration step of size `step-size`.\n\n  This function can be used multiple times.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,3,$APP.nw,3,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.bZ],null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.bZ,$APP.Lx],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.bZ],null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.bZ,$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,nOc,$APP.X,v7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.bZ],
null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.bZ,$APP.Lx],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of:\n\n  - `initial-state`\n  - `n-steps`, the number of steps to integrate\n  - `step-size`, the distance for each step\n  - `emit`, a callback called with a JS array representing the updated state for\n    each integration step of size `step-size`.\n\n  This function can be used multiple times."],
null)],null),$APP.z(kHc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.CV],null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.CV,$APP.Lx],null))),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `initial-state`, the (potentially structured, unflattened) initial value for\n    `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of `t` that returns the state evolved up from `0` to `t` at\n  each call. Successive calls to `t` must monotonically increase.\n\n  Call the returned function with no arguments when you're done to shut it down\n  and reclaim stored resources.",
$APP.hy,new $APP.f(null,6,[$APP.ru,!1,$APP.Sn,3,$APP.nw,3,$APP.ty,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.CV],null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.CV,$APP.Lx],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.CV],null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.CV,$APP.Lx],null)),$APP.zx,$APP.M(null,null)],null)],null)),new $APP.f(null,3,[$APP.R,rHc,$APP.X,w7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.yX,$APP.CV],
null),new $APP.H(null,3,5,$APP.I,[$APP.yX,$APP.CV,$APP.Lx],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `initial-state`, the (potentially structured, unflattened) initial value for\n    `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of `t` that returns the state evolved up from `0` to `t` at\n  each call. Successive calls to `t` must monotonically increase.\n\n  Call the returned function with no arguments when you're done to shut it down\n  and reclaim stored resources."],
null)],null),$APP.z(fCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.yX,R5,JJc,$APP.mv,$APP.ck,$APP.Lx],null)],null))),$APP.P,"Component that uses the supplied derivative function `:f'` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key and update a `:tick`\n  entry with the new timestamp.\n\n  Required arguments:\n\n  - `:f'`: a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)),new $APP.f(null,3,[$APP.R,IBc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,R5),c=$APP.C.A(a,$APP.mv),d=ptc($APP.KU.j(c.state)),g=w7.B(b,d,$APP.sg(a,new $APP.H(null,2,5,$APP.I,[$APP.WS,JAc],null)));return new $APP.H(null,2,5,$APP.I,[mtc,new $APP.f(null,1,[HAc,function(){var l=Array($APP.Tc(d));return function(n){return $APP.lh.C(c,$APP.rg,$APP.KU,g.A?g.A(n,l):g.call(null,n,l),$APP.y([xHc,n]))}}()],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,
3,[$APP.yX,R5,JJc,$APP.mv,$APP.ck,$APP.Lx],null)],null)),$APP.P,"Component that uses the supplied derivative function `:f'` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key and update a `:tick`\n  entry with the new timestamp.\n\n  Required arguments:\n\n  - `:f'`: a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)],null)],null),$APP.Zo(wGc))])],null)]));
}).call(this);